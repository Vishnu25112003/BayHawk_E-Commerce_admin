function BK(e,t){for(var s=0;s<t.length;s++){const a=t[s];if(typeof a!="string"&&!Array.isArray(a)){for(const n in a)if(n!=="default"&&!(n in e)){const i=Object.getOwnPropertyDescriptor(a,n);i&&Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:()=>a[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();var vRe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Sh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var X5={exports:{}},Ig={};var wO;function UK(){if(wO)return Ig;wO=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function s(a,n,i){var l=null;if(i!==void 0&&(l=""+i),n.key!==void 0&&(l=""+n.key),"key"in n){i={};for(var o in n)o!=="key"&&(i[o]=n[o])}else i=n;return n=i.ref,{$$typeof:e,type:a,key:l,ref:n!==void 0?n:null,props:i}}return Ig.Fragment=t,Ig.jsx=s,Ig.jsxs=s,Ig}var SO;function zK(){return SO||(SO=1,X5.exports=UK()),X5.exports}var r=zK(),J5={exports:{}},Pr={};var _O;function $K(){if(_O)return Pr;_O=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),l=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),g=Symbol.iterator;function p(X){return X===null||typeof X!="object"?null:(X=g&&X[g]||X["@@iterator"],typeof X=="function"?X:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,j={};function N(X,P,H){this.props=X,this.context=P,this.refs=j,this.updater=H||y}N.prototype.isReactComponent={},N.prototype.setState=function(X,P){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,P,"setState")},N.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function k(){}k.prototype=N.prototype;function w(X,P,H){this.props=X,this.context=P,this.refs=j,this.updater=H||y}var A=w.prototype=new k;A.constructor=w,v(A,N.prototype),A.isPureReactComponent=!0;var C=Array.isArray;function M(){}var R={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function B(X,P,H){var q=H.ref;return{$$typeof:e,type:X,key:P,ref:q!==void 0?q:null,props:H}}function z(X,P){return B(X.type,P,X.props)}function I(X){return typeof X=="object"&&X!==null&&X.$$typeof===e}function F(X){var P={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(H){return P[H]})}var Y=/\/+/g;function te(X,P){return typeof X=="object"&&X!==null&&X.key!=null?F(""+X.key):P.toString(36)}function ue(X){switch(X.status){case"fulfilled":return X.value;case"rejected":throw X.reason;default:switch(typeof X.status=="string"?X.then(M,M):(X.status="pending",X.then(function(P){X.status==="pending"&&(X.status="fulfilled",X.value=P)},function(P){X.status==="pending"&&(X.status="rejected",X.reason=P)})),X.status){case"fulfilled":return X.value;case"rejected":throw X.reason}}throw X}function Z(X,P,H,q,W){var le=typeof X;(le==="undefined"||le==="boolean")&&(X=null);var Se=!1;if(X===null)Se=!0;else switch(le){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(X.$$typeof){case e:case t:Se=!0;break;case m:return Se=X._init,Z(Se(X._payload),P,H,q,W)}}if(Se)return W=W(X),Se=q===""?"."+te(X,0):q,C(W)?(H="",Se!=null&&(H=Se.replace(Y,"$&/")+"/"),Z(W,P,H,"",function(ye){return ye})):W!=null&&(I(W)&&(W=z(W,H+(W.key==null||X&&X.key===W.key?"":(""+W.key).replace(Y,"$&/")+"/")+Se)),P.push(W)),1;Se=0;var Pe=q===""?".":q+":";if(C(X))for(var re=0;re<X.length;re++)q=X[re],le=Pe+te(q,re),Se+=Z(q,P,H,le,W);else if(re=p(X),typeof re=="function")for(X=re.call(X),re=0;!(q=X.next()).done;)q=q.value,le=Pe+te(q,re++),Se+=Z(q,P,H,le,W);else if(le==="object"){if(typeof X.then=="function")return Z(ue(X),P,H,q,W);throw P=String(X),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return Se}function ie(X,P,H){if(X==null)return X;var q=[],W=0;return Z(X,q,"","",function(le){return P.call(H,le,W++)}),q}function G(X){if(X._status===-1){var P=X._result;P=P(),P.then(function(H){(X._status===0||X._status===-1)&&(X._status=1,X._result=H)},function(H){(X._status===0||X._status===-1)&&(X._status=2,X._result=H)}),X._status===-1&&(X._status=0,X._result=P)}if(X._status===1)return X._result.default;throw X._result}var ee=typeof reportError=="function"?reportError:function(X){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof X=="object"&&X!==null&&typeof X.message=="string"?String(X.message):String(X),error:X});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",X);return}console.error(X)},Ne={map:ie,forEach:function(X,P,H){ie(X,function(){P.apply(this,arguments)},H)},count:function(X){var P=0;return ie(X,function(){P++}),P},toArray:function(X){return ie(X,function(P){return P})||[]},only:function(X){if(!I(X))throw Error("React.Children.only expected to receive a single React element child.");return X}};return Pr.Activity=f,Pr.Children=Ne,Pr.Component=N,Pr.Fragment=s,Pr.Profiler=n,Pr.PureComponent=w,Pr.StrictMode=a,Pr.Suspense=u,Pr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Pr.__COMPILER_RUNTIME={__proto__:null,c:function(X){return R.H.useMemoCache(X)}},Pr.cache=function(X){return function(){return X.apply(null,arguments)}},Pr.cacheSignal=function(){return null},Pr.cloneElement=function(X,P,H){if(X==null)throw Error("The argument must be a React element, but you passed "+X+".");var q=v({},X.props),W=X.key;if(P!=null)for(le in P.key!==void 0&&(W=""+P.key),P)!D.call(P,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&P.ref===void 0||(q[le]=P[le]);var le=arguments.length-2;if(le===1)q.children=H;else if(1<le){for(var Se=Array(le),Pe=0;Pe<le;Pe++)Se[Pe]=arguments[Pe+2];q.children=Se}return B(X.type,W,q)},Pr.createContext=function(X){return X={$$typeof:l,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null},X.Provider=X,X.Consumer={$$typeof:i,_context:X},X},Pr.createElement=function(X,P,H){var q,W={},le=null;if(P!=null)for(q in P.key!==void 0&&(le=""+P.key),P)D.call(P,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&(W[q]=P[q]);var Se=arguments.length-2;if(Se===1)W.children=H;else if(1<Se){for(var Pe=Array(Se),re=0;re<Se;re++)Pe[re]=arguments[re+2];W.children=Pe}if(X&&X.defaultProps)for(q in Se=X.defaultProps,Se)W[q]===void 0&&(W[q]=Se[q]);return B(X,le,W)},Pr.createRef=function(){return{current:null}},Pr.forwardRef=function(X){return{$$typeof:o,render:X}},Pr.isValidElement=I,Pr.lazy=function(X){return{$$typeof:m,_payload:{_status:-1,_result:X},_init:G}},Pr.memo=function(X,P){return{$$typeof:d,type:X,compare:P===void 0?null:P}},Pr.startTransition=function(X){var P=R.T,H={};R.T=H;try{var q=X(),W=R.S;W!==null&&W(H,q),typeof q=="object"&&q!==null&&typeof q.then=="function"&&q.then(M,ee)}catch(le){ee(le)}finally{P!==null&&H.types!==null&&(P.types=H.types),R.T=P}},Pr.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Pr.use=function(X){return R.H.use(X)},Pr.useActionState=function(X,P,H){return R.H.useActionState(X,P,H)},Pr.useCallback=function(X,P){return R.H.useCallback(X,P)},Pr.useContext=function(X){return R.H.useContext(X)},Pr.useDebugValue=function(){},Pr.useDeferredValue=function(X,P){return R.H.useDeferredValue(X,P)},Pr.useEffect=function(X,P){return R.H.useEffect(X,P)},Pr.useEffectEvent=function(X){return R.H.useEffectEvent(X)},Pr.useId=function(){return R.H.useId()},Pr.useImperativeHandle=function(X,P,H){return R.H.useImperativeHandle(X,P,H)},Pr.useInsertionEffect=function(X,P){return R.H.useInsertionEffect(X,P)},Pr.useLayoutEffect=function(X,P){return R.H.useLayoutEffect(X,P)},Pr.useMemo=function(X,P){return R.H.useMemo(X,P)},Pr.useOptimistic=function(X,P){return R.H.useOptimistic(X,P)},Pr.useReducer=function(X,P,H){return R.H.useReducer(X,P,H)},Pr.useRef=function(X){return R.H.useRef(X)},Pr.useState=function(X){return R.H.useState(X)},Pr.useSyncExternalStore=function(X,P,H){return R.H.useSyncExternalStore(X,P,H)},Pr.useTransition=function(){return R.H.useTransition()},Pr.version="19.2.3",Pr}var AO;function _x(){return AO||(AO=1,J5.exports=$K()),J5.exports}var _=_x();const lr=Sh(_),HK=BK({__proto__:null,default:lr},[_]);var Q5={exports:{}},Fg={},e4={exports:{}},t4={};var CO;function qK(){return CO||(CO=1,(function(e){function t(Z,ie){var G=Z.length;Z.push(ie);e:for(;0<G;){var ee=G-1>>>1,Ne=Z[ee];if(0<n(Ne,ie))Z[ee]=ie,Z[G]=Ne,G=ee;else break e}}function s(Z){return Z.length===0?null:Z[0]}function a(Z){if(Z.length===0)return null;var ie=Z[0],G=Z.pop();if(G!==ie){Z[0]=G;e:for(var ee=0,Ne=Z.length,X=Ne>>>1;ee<X;){var P=2*(ee+1)-1,H=Z[P],q=P+1,W=Z[q];if(0>n(H,G))q<Ne&&0>n(W,H)?(Z[ee]=W,Z[q]=G,ee=q):(Z[ee]=H,Z[P]=G,ee=P);else if(q<Ne&&0>n(W,G))Z[ee]=W,Z[q]=G,ee=q;else break e}}return ie}function n(Z,ie){var G=Z.sortIndex-ie.sortIndex;return G!==0?G:Z.id-ie.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var u=[],d=[],m=1,f=null,g=3,p=!1,y=!1,v=!1,j=!1,N=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function A(Z){for(var ie=s(d);ie!==null;){if(ie.callback===null)a(d);else if(ie.startTime<=Z)a(d),ie.sortIndex=ie.expirationTime,t(u,ie);else break;ie=s(d)}}function C(Z){if(v=!1,A(Z),!y)if(s(u)!==null)y=!0,M||(M=!0,F());else{var ie=s(d);ie!==null&&ue(C,ie.startTime-Z)}}var M=!1,R=-1,D=5,B=-1;function z(){return j?!0:!(e.unstable_now()-B<D)}function I(){if(j=!1,M){var Z=e.unstable_now();B=Z;var ie=!0;try{e:{y=!1,v&&(v=!1,k(R),R=-1),p=!0;var G=g;try{t:{for(A(Z),f=s(u);f!==null&&!(f.expirationTime>Z&&z());){var ee=f.callback;if(typeof ee=="function"){f.callback=null,g=f.priorityLevel;var Ne=ee(f.expirationTime<=Z);if(Z=e.unstable_now(),typeof Ne=="function"){f.callback=Ne,A(Z),ie=!0;break t}f===s(u)&&a(u),A(Z)}else a(u);f=s(u)}if(f!==null)ie=!0;else{var X=s(d);X!==null&&ue(C,X.startTime-Z),ie=!1}}break e}finally{f=null,g=G,p=!1}ie=void 0}}finally{ie?F():M=!1}}}var F;if(typeof w=="function")F=function(){w(I)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,te=Y.port2;Y.port1.onmessage=I,F=function(){te.postMessage(null)}}else F=function(){N(I,0)};function ue(Z,ie){R=N(function(){Z(e.unstable_now())},ie)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Z){Z.callback=null},e.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<Z?Math.floor(1e3/Z):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(Z){switch(g){case 1:case 2:case 3:var ie=3;break;default:ie=g}var G=g;g=ie;try{return Z()}finally{g=G}},e.unstable_requestPaint=function(){j=!0},e.unstable_runWithPriority=function(Z,ie){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var G=g;g=Z;try{return ie()}finally{g=G}},e.unstable_scheduleCallback=function(Z,ie,G){var ee=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ee+G:ee):G=ee,Z){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=G+Ne,Z={id:m++,callback:ie,priorityLevel:Z,startTime:G,expirationTime:Ne,sortIndex:-1},G>ee?(Z.sortIndex=G,t(d,Z),s(u)===null&&Z===s(d)&&(v?(k(R),R=-1):v=!0,ue(C,G-ee))):(Z.sortIndex=Ne,t(u,Z),y||p||(y=!0,M||(M=!0,F()))),Z},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(Z){var ie=g;return function(){var G=g;g=ie;try{return Z.apply(this,arguments)}finally{g=G}}}})(t4)),t4}var kO;function VK(){return kO||(kO=1,e4.exports=qK()),e4.exports}var r4={exports:{}},Vi={};var TO;function WK(){if(TO)return Vi;TO=1;var e=_x();function t(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var a={d:{f:s,r:function(){throw Error(t(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},n=Symbol.for("react.portal");function i(u,d,m){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:n,key:f==null?null:""+f,children:u,containerInfo:d,implementation:m}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Vi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Vi.createPortal=function(u,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return i(u,d,null,m)},Vi.flushSync=function(u){var d=l.T,m=a.p;try{if(l.T=null,a.p=2,u)return u()}finally{l.T=d,a.p=m,a.d.f()}},Vi.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,a.d.C(u,d))},Vi.prefetchDNS=function(u){typeof u=="string"&&a.d.D(u)},Vi.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var m=d.as,f=o(m,d.crossOrigin),g=typeof d.integrity=="string"?d.integrity:void 0,p=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?a.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:f,integrity:g,fetchPriority:p}):m==="script"&&a.d.X(u,{crossOrigin:f,integrity:g,fetchPriority:p,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Vi.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=o(d.as,d.crossOrigin);a.d.M(u,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&a.d.M(u)},Vi.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,f=o(m,d.crossOrigin);a.d.L(u,m,{crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Vi.preloadModule=function(u,d){if(typeof u=="string")if(d){var m=o(d.as,d.crossOrigin);a.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else a.d.m(u)},Vi.requestFormReset=function(u){a.d.r(u)},Vi.unstable_batchedUpdates=function(u,d){return u(d)},Vi.useFormState=function(u,d,m){return l.H.useFormState(u,d,m)},Vi.useFormStatus=function(){return l.H.useHostTransitionStatus()},Vi.version="19.2.3",Vi}var EO;function TF(){if(EO)return r4.exports;EO=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),r4.exports=WK(),r4.exports}var OO;function GK(){if(OO)return Fg;OO=1;var e=VK(),t=_x(),s=TF();function a(c){var h="https://react.dev/errors/"+c;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)h+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+c+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function i(c){var h=c,x=c;if(c.alternate)for(;h.return;)h=h.return;else{c=h;do h=c,(h.flags&4098)!==0&&(x=h.return),c=h.return;while(c)}return h.tag===3?x:null}function l(c){if(c.tag===13){var h=c.memoizedState;if(h===null&&(c=c.alternate,c!==null&&(h=c.memoizedState)),h!==null)return h.dehydrated}return null}function o(c){if(c.tag===31){var h=c.memoizedState;if(h===null&&(c=c.alternate,c!==null&&(h=c.memoizedState)),h!==null)return h.dehydrated}return null}function u(c){if(i(c)!==c)throw Error(a(188))}function d(c){var h=c.alternate;if(!h){if(h=i(c),h===null)throw Error(a(188));return h!==c?null:c}for(var x=c,b=h;;){var T=x.return;if(T===null)break;var O=T.alternate;if(O===null){if(b=T.return,b!==null){x=b;continue}break}if(T.child===O.child){for(O=T.child;O;){if(O===x)return u(T),c;if(O===b)return u(T),h;O=O.sibling}throw Error(a(188))}if(x.return!==b.return)x=T,b=O;else{for(var K=!1,de=T.child;de;){if(de===x){K=!0,x=T,b=O;break}if(de===b){K=!0,b=T,x=O;break}de=de.sibling}if(!K){for(de=O.child;de;){if(de===x){K=!0,x=O,b=T;break}if(de===b){K=!0,b=O,x=T;break}de=de.sibling}if(!K)throw Error(a(189))}}if(x.alternate!==b)throw Error(a(190))}if(x.tag!==3)throw Error(a(188));return x.stateNode.current===x?c:h}function m(c){var h=c.tag;if(h===5||h===26||h===27||h===6)return c;for(c=c.child;c!==null;){if(h=m(c),h!==null)return h;c=c.sibling}return null}var f=Object.assign,g=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),w=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function F(c){return c===null||typeof c!="object"?null:(c=I&&c[I]||c["@@iterator"],typeof c=="function"?c:null)}var Y=Symbol.for("react.client.reference");function te(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===Y?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case v:return"Fragment";case N:return"Profiler";case j:return"StrictMode";case C:return"Suspense";case M:return"SuspenseList";case B:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case y:return"Portal";case w:return c.displayName||"Context";case k:return(c._context.displayName||"Context")+".Consumer";case A:var h=c.render;return c=c.displayName,c||(c=h.displayName||h.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case R:return h=c.displayName||null,h!==null?h:te(c.type)||"Memo";case D:h=c._payload,c=c._init;try{return te(c(h))}catch{}}return null}var ue=Array.isArray,Z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G={pending:!1,data:null,method:null,action:null},ee=[],Ne=-1;function X(c){return{current:c}}function P(c){0>Ne||(c.current=ee[Ne],ee[Ne]=null,Ne--)}function H(c,h){Ne++,ee[Ne]=c.current,c.current=h}var q=X(null),W=X(null),le=X(null),Se=X(null);function Pe(c,h){switch(H(le,h),H(W,c),H(q,null),h.nodeType){case 9:case 11:c=(c=h.documentElement)&&(c=c.namespaceURI)?WE(c):0;break;default:if(c=h.tagName,h=h.namespaceURI)h=WE(h),c=GE(h,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}P(q),H(q,c)}function re(){P(q),P(W),P(le)}function ye(c){c.memoizedState!==null&&H(Se,c);var h=q.current,x=GE(h,c.type);h!==x&&(H(W,c),H(q,x))}function ze(c){W.current===c&&(P(q),P(W)),Se.current===c&&(P(Se),Dg._currentValue=G)}var Ce,it;function rt(c){if(Ce===void 0)try{throw Error()}catch(x){var h=x.stack.trim().match(/\n( *(at )?)/);Ce=h&&h[1]||"",it=-1<x.stack.indexOf(`
    at`)?" (<anonymous>)":-1<x.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ce+c+it}var fe=!1;function ke(c,h){if(!c||fe)return"";fe=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(h){var wt=function(){throw Error()};if(Object.defineProperty(wt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(wt,[])}catch(ct){var nt=ct}Reflect.construct(c,[],wt)}else{try{wt.call()}catch(ct){nt=ct}c.call(wt.prototype)}}else{try{throw Error()}catch(ct){nt=ct}(wt=c())&&typeof wt.catch=="function"&&wt.catch(function(){})}}catch(ct){if(ct&&nt&&typeof ct.stack=="string")return[ct.stack,nt.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var O=b.DetermineComponentFrameRoot(),K=O[0],de=O[1];if(K&&de){var Re=K.split(`
`),tt=de.split(`
`);for(T=b=0;b<Re.length&&!Re[b].includes("DetermineComponentFrameRoot");)b++;for(;T<tt.length&&!tt[T].includes("DetermineComponentFrameRoot");)T++;if(b===Re.length||T===tt.length)for(b=Re.length-1,T=tt.length-1;1<=b&&0<=T&&Re[b]!==tt[T];)T--;for(;1<=b&&0<=T;b--,T--)if(Re[b]!==tt[T]){if(b!==1||T!==1)do if(b--,T--,0>T||Re[b]!==tt[T]){var xt=`
`+Re[b].replace(" at new "," at ");return c.displayName&&xt.includes("<anonymous>")&&(xt=xt.replace("<anonymous>",c.displayName)),xt}while(1<=b&&0<=T);break}}}finally{fe=!1,Error.prepareStackTrace=x}return(x=c?c.displayName||c.name:"")?rt(x):""}function Ie(c,h){switch(c.tag){case 26:case 27:case 5:return rt(c.type);case 16:return rt("Lazy");case 13:return c.child!==h&&h!==null?rt("Suspense Fallback"):rt("Suspense");case 19:return rt("SuspenseList");case 0:case 15:return ke(c.type,!1);case 11:return ke(c.type.render,!1);case 1:return ke(c.type,!0);case 31:return rt("Activity");default:return""}}function je(c){try{var h="",x=null;do h+=Ie(c,x),x=c,c=c.return;while(c);return h}catch(b){return`
Error generating stack: `+b.message+`
`+b.stack}}var Me=Object.prototype.hasOwnProperty,yt=e.unstable_scheduleCallback,xe=e.unstable_cancelCallback,be=e.unstable_shouldYield,De=e.unstable_requestPaint,st=e.unstable_now,ut=e.unstable_getCurrentPriorityLevel,lt=e.unstable_ImmediatePriority,At=e.unstable_UserBlockingPriority,Lt=e.unstable_NormalPriority,Et=e.unstable_LowPriority,Qt=e.unstable_IdlePriority,qt=e.log,rs=e.unstable_setDisableYieldValue,Tr=null,nr=null;function mr(c){if(typeof qt=="function"&&rs(c),nr&&typeof nr.setStrictMode=="function")try{nr.setStrictMode(Tr,c)}catch{}}var Lr=Math.clz32?Math.clz32:dr,ir=Math.log,ms=Math.LN2;function dr(c){return c>>>=0,c===0?32:31-(ir(c)/ms|0)|0}var br=256,_s=262144,kr=4194304;function rr(c){var h=c&42;if(h!==0)return h;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return c&261888;case 262144:case 524288:case 1048576:case 2097152:return c&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function Yr(c,h,x){var b=c.pendingLanes;if(b===0)return 0;var T=0,O=c.suspendedLanes,K=c.pingedLanes;c=c.warmLanes;var de=b&134217727;return de!==0?(b=de&~O,b!==0?T=rr(b):(K&=de,K!==0?T=rr(K):x||(x=de&~c,x!==0&&(T=rr(x))))):(de=b&~O,de!==0?T=rr(de):K!==0?T=rr(K):x||(x=b&~c,x!==0&&(T=rr(x)))),T===0?0:h!==0&&h!==T&&(h&O)===0&&(O=T&-T,x=h&-h,O>=x||O===32&&(x&4194048)!==0)?h:T}function ol(c,h){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&h)===0}function bn(c,h){switch(c){case 1:case 2:case 4:case 8:case 64:return h+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kl(){var c=kr;return kr<<=1,(kr&62914560)===0&&(kr=4194304),c}function zi(c){for(var h=[],x=0;31>x;x++)h.push(c);return h}function or(c,h){c.pendingLanes|=h,h!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function lo(c,h,x,b,T,O){var K=c.pendingLanes;c.pendingLanes=x,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=x,c.entangledLanes&=x,c.errorRecoveryDisabledLanes&=x,c.shellSuspendCounter=0;var de=c.entanglements,Re=c.expirationTimes,tt=c.hiddenUpdates;for(x=K&~x;0<x;){var xt=31-Lr(x),wt=1<<xt;de[xt]=0,Re[xt]=-1;var nt=tt[xt];if(nt!==null)for(tt[xt]=null,xt=0;xt<nt.length;xt++){var ct=nt[xt];ct!==null&&(ct.lane&=-536870913)}x&=~wt}b!==0&&Tl(c,b,0),O!==0&&T===0&&c.tag!==0&&(c.suspendedLanes|=O&~(K&~h))}function Tl(c,h,x){c.pendingLanes|=h,c.suspendedLanes&=~h;var b=31-Lr(h);c.entangledLanes|=h,c.entanglements[b]=c.entanglements[b]|1073741824|x&261930}function In(c,h){var x=c.entangledLanes|=h;for(c=c.entanglements;x;){var b=31-Lr(x),T=1<<b;T&h|c[b]&h&&(c[b]|=h),x&=~T}}function bi(c,h){var x=h&-h;return x=(x&42)!==0?1:Ks(x),(x&(c.suspendedLanes|h))!==0?0:x}function Ks(c){switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=128;break;case 268435456:c=134217728;break;default:c=0}return c}function Aa(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function se(){var c=ie.p;return c!==0?c:(c=window.event,c===void 0?32:xO(c.type))}function Te(c,h){var x=ie.p;try{return ie.p=c,h()}finally{ie.p=x}}var pe=Math.random().toString(36).slice(2),ge="__reactFiber$"+pe,we="__reactProps$"+pe,Oe="__reactContainer$"+pe,Ge="__reactEvents$"+pe,dt="__reactListeners$"+pe,Ye="__reactHandles$"+pe,Ze="__reactResources$"+pe,Qe="__reactMarker$"+pe;function Tt(c){delete c[ge],delete c[we],delete c[Ge],delete c[dt],delete c[Ye]}function Mt(c){var h=c[ge];if(h)return h;for(var x=c.parentNode;x;){if(h=x[Oe]||x[ge]){if(x=h.alternate,h.child!==null||x!==null&&x.child!==null)for(c=eO(c);c!==null;){if(x=c[ge])return x;c=eO(c)}return h}c=x,x=c.parentNode}return null}function $t(c){if(c=c[ge]||c[Oe]){var h=c.tag;if(h===5||h===6||h===13||h===31||h===26||h===27||h===3)return c}return null}function Rt(c){var h=c.tag;if(h===5||h===26||h===27||h===6)return c.stateNode;throw Error(a(33))}function Ft(c){var h=c[Ze];return h||(h=c[Ze]={hoistableStyles:new Map,hoistableScripts:new Map}),h}function Gt(c){c[Qe]=!0}var As=new Set,Gr={};function Ds(c,h){ji(c,h),ji(c+"Capture",h)}function ji(c,h){for(Gr[c]=h,c=0;c<h.length;c++)As.add(h[c])}var oo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),co={},cl={};function _d(c){return Me.call(cl,c)?!0:Me.call(co,c)?!1:oo.test(c)?cl[c]=!0:(co[c]=!0,!1)}function pa(c,h,x){if(_d(h))if(x===null)c.removeAttribute(h);else{switch(typeof x){case"undefined":case"function":case"symbol":c.removeAttribute(h);return;case"boolean":var b=h.toLowerCase().slice(0,5);if(b!=="data-"&&b!=="aria-"){c.removeAttribute(h);return}}c.setAttribute(h,""+x)}}function Ec(c,h,x){if(x===null)c.removeAttribute(h);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(h);return}c.setAttribute(h,""+x)}}function uo(c,h,x,b){if(b===null)c.removeAttribute(x);else{switch(typeof b){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(x);return}c.setAttributeNS(h,x,""+b)}}function fs(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function ef(c){var h=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function qo(c,h,x){var b=Object.getOwnPropertyDescriptor(c.constructor.prototype,h);if(!c.hasOwnProperty(h)&&typeof b<"u"&&typeof b.get=="function"&&typeof b.set=="function"){var T=b.get,O=b.set;return Object.defineProperty(c,h,{configurable:!0,get:function(){return T.call(this)},set:function(K){x=""+K,O.call(this,K)}}),Object.defineProperty(c,h,{enumerable:b.enumerable}),{getValue:function(){return x},setValue:function(K){x=""+K},stopTracking:function(){c._valueTracker=null,delete c[h]}}}}function Ad(c){if(!c._valueTracker){var h=ef(c)?"checked":"value";c._valueTracker=qo(c,h,""+c[h])}}function tf(c){if(!c)return!1;var h=c._valueTracker;if(!h)return!0;var x=h.getValue(),b="";return c&&(b=ef(c)?c.checked?"true":"false":c.value),c=b,c!==x?(h.setValue(c),!0):!1}function Ni(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var cn=/[\n"\\]/g;function Va(c){return c.replace(cn,function(h){return"\\"+h.charCodeAt(0).toString(16)+" "})}function Rh(c,h,x,b,T,O,K,de){c.name="",K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?c.type=K:c.removeAttribute("type"),h!=null?K==="number"?(h===0&&c.value===""||c.value!=h)&&(c.value=""+fs(h)):c.value!==""+fs(h)&&(c.value=""+fs(h)):K!=="submit"&&K!=="reset"||c.removeAttribute("value"),h!=null?rf(c,K,fs(h)):x!=null?rf(c,K,fs(x)):b!=null&&c.removeAttribute("value"),T==null&&O!=null&&(c.defaultChecked=!!O),T!=null&&(c.checked=T&&typeof T!="function"&&typeof T!="symbol"),de!=null&&typeof de!="function"&&typeof de!="symbol"&&typeof de!="boolean"?c.name=""+fs(de):c.removeAttribute("name")}function T0(c,h,x,b,T,O,K,de){if(O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(c.type=O),h!=null||x!=null){if(!(O!=="submit"&&O!=="reset"||h!=null)){Ad(c);return}x=x!=null?""+fs(x):"",h=h!=null?""+fs(h):x,de||h===c.value||(c.value=h),c.defaultValue=h}b=b??T,b=typeof b!="function"&&typeof b!="symbol"&&!!b,c.checked=de?c.checked:!!b,c.defaultChecked=!!b,K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"&&(c.name=K),Ad(c)}function rf(c,h,x){h==="number"&&Ni(c.ownerDocument)===c||c.defaultValue===""+x||(c.defaultValue=""+x)}function wi(c,h,x,b){if(c=c.options,h){h={};for(var T=0;T<x.length;T++)h["$"+x[T]]=!0;for(x=0;x<c.length;x++)T=h.hasOwnProperty("$"+c[x].value),c[x].selected!==T&&(c[x].selected=T),T&&b&&(c[x].defaultSelected=!0)}else{for(x=""+fs(x),h=null,T=0;T<c.length;T++){if(c[T].value===x){c[T].selected=!0,b&&(c[T].defaultSelected=!0);return}h!==null||c[T].disabled||(h=c[T])}h!==null&&(h.selected=!0)}}function sf(c,h,x){if(h!=null&&(h=""+fs(h),h!==c.value&&(c.value=h),x==null)){c.defaultValue!==h&&(c.defaultValue=h);return}c.defaultValue=x!=null?""+fs(x):""}function af(c,h,x,b){if(h==null){if(b!=null){if(x!=null)throw Error(a(92));if(ue(b)){if(1<b.length)throw Error(a(93));b=b[0]}x=b}x==null&&(x=""),h=x}x=fs(h),c.defaultValue=x,b=c.textContent,b===x&&b!==""&&b!==null&&(c.value=b),Ad(c)}function ho(c,h){if(h){var x=c.firstChild;if(x&&x===c.lastChild&&x.nodeType===3){x.nodeValue=h;return}}c.textContent=h}var gu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function E0(c,h,x){var b=h.indexOf("--")===0;x==null||typeof x=="boolean"||x===""?b?c.setProperty(h,""):h==="float"?c.cssFloat="":c[h]="":b?c.setProperty(h,x):typeof x!="number"||x===0||gu.has(h)?h==="float"?c.cssFloat=x:c[h]=(""+x).trim():c[h]=x+"px"}function O0(c,h,x){if(h!=null&&typeof h!="object")throw Error(a(62));if(c=c.style,x!=null){for(var b in x)!x.hasOwnProperty(b)||h!=null&&h.hasOwnProperty(b)||(b.indexOf("--")===0?c.setProperty(b,""):b==="float"?c.cssFloat="":c[b]="");for(var T in h)b=h[T],h.hasOwnProperty(T)&&x[T]!==b&&E0(c,T,b)}else for(var O in h)h.hasOwnProperty(O)&&E0(c,O,h[O])}function nf(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),P0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $i(c){return P0.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}function mo(){}var Oc=null;function vu(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Cd=null,vr=null;function D0(c){var h=$t(c);if(h&&(c=h.stateNode)){var x=c[we]||null;e:switch(c=h.stateNode,h.type){case"input":if(Rh(c,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name),h=x.name,x.type==="radio"&&h!=null){for(x=c;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll('input[name="'+Va(""+h)+'"][type="radio"]'),h=0;h<x.length;h++){var b=x[h];if(b!==c&&b.form===c.form){var T=b[we]||null;if(!T)throw Error(a(90));Rh(b,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(h=0;h<x.length;h++)b=x[h],b.form===c.form&&tf(b)}break e;case"textarea":sf(c,x.value,x.defaultValue);break e;case"select":h=x.value,h!=null&&wi(c,!!x.multiple,h,!1)}}}var of=!1;function R0(c,h,x){if(of)return c(h,x);of=!0;try{var b=c(h);return b}finally{if(of=!1,(Cd!==null||vr!==null)&&(ob(),Cd&&(h=Cd,c=vr,vr=Cd=null,D0(h),c)))for(h=0;h<c.length;h++)D0(c[h])}}function dl(c,h){var x=c.stateNode;if(x===null)return null;var b=x[we]||null;if(b===null)return null;x=b[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(c=c.type,b=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!b;break e;default:c=!1}if(c)return null;if(x&&typeof x!="function")throw Error(a(231,h,typeof x));return x}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cf=!1;if(Fn)try{var yu={};Object.defineProperty(yu,"passive",{get:function(){cf=!0}}),window.addEventListener("test",yu,yu),window.removeEventListener("test",yu,yu)}catch{cf=!1}var ul=null,bu=null,Vo=null;function M0(){if(Vo)return Vo;var c,h=bu,x=h.length,b,T="value"in ul?ul.value:ul.textContent,O=T.length;for(c=0;c<x&&h[c]===T[c];c++);var K=x-c;for(b=1;b<=K&&h[x-b]===T[O-b];b++);return Vo=T.slice(c,1<b?1-b:void 0)}function El(c){var h=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&h===13&&(c=13)):c=h,c===10&&(c=13),32<=c||c===13?c:0}function Mh(){return!0}function Lh(){return!1}function jn(c){function h(x,b,T,O,K){this._reactName=x,this._targetInst=T,this.type=b,this.nativeEvent=O,this.target=K,this.currentTarget=null;for(var de in c)c.hasOwnProperty(de)&&(x=c[de],this[de]=x?x(O):O[de]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?Mh:Lh,this.isPropagationStopped=Lh,this}return f(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=Mh)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=Mh)},persist:function(){},isPersistent:Mh}),h}var Wo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ol=jn(Wo),Pc=f({},Wo,{view:0,detail:0}),Ih=jn(Pc),ju,Dc,Rc,Nu=f({},Pc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nr,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Rc&&(Rc&&c.type==="mousemove"?(ju=c.screenX-Rc.screenX,Dc=c.screenY-Rc.screenY):Dc=ju=0,Rc=c),ju)},movementY:function(c){return"movementY"in c?c.movementY:Dc}}),df=jn(Nu),Mc=f({},Nu,{dataTransfer:0}),Lc=jn(Mc),L0=f({},Pc,{relatedTarget:0}),Ic=jn(L0),I0=f({},Wo,{animationName:0,elapsedTime:0,pseudoElement:0}),L=jn(I0),J=f({},Wo,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),Ee=jn(J),Le=f({},Wo,{data:0}),He=jn(Le),gt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ct={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sr(c){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(c):(c=Zt[c])?!!h[c]:!1}function Nr(){return sr}var Er=f({},Pc,{key:function(c){if(c.key){var h=gt[c.key]||c.key;if(h!=="Unidentified")return h}return c.type==="keypress"?(c=El(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?Ct[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nr,charCode:function(c){return c.type==="keypress"?El(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?El(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),ss=jn(Er),xa=f({},Nu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ia=jn(xa),Ys=f({},Pc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nr}),dn=jn(Ys),Wa=f({},Wo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bn=jn(Wa),Fc=f({},Nu,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),fo=jn(Fc),Bc=f({},Wo,{newState:0,oldState:0}),uf=jn(Bc),Fh=[9,13,27,32],Go=Fn&&"CompositionEvent"in window,po=null;Fn&&"documentMode"in document&&(po=document.documentMode);var wu=Fn&&"TextEvent"in window&&!po,Uc=Fn&&(!Go||po&&8<po&&11>=po),Nn=" ",kd=!1;function Td(c,h){switch(c){case"keyup":return Fh.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bh(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Ko=!1;function Si(c,h){switch(c){case"compositionend":return Bh(h);case"keypress":return h.which!==32?null:(kd=!0,Nn);case"textInput":return c=h.data,c===Nn&&kd?null:c;default:return null}}function zc(c,h){if(Ko)return c==="compositionend"||!Go&&Td(c,h)?(c=M0(),Vo=bu=ul=null,Ko=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return Uc&&h.locale!=="ko"?null:h.data;default:return null}}var Uh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hf(c){var h=c&&c.nodeName&&c.nodeName.toLowerCase();return h==="input"?!!Uh[c.type]:h==="textarea"}function hl(c,h,x,b){Cd?vr?vr.push(b):vr=[b]:Cd=b,h=pb(h,"onChange"),0<h.length&&(x=new Ol("onChange","change",null,x,b),c.push({event:x,listeners:h}))}var xo=null,$c=null;function mf(c){UE(c,0)}function go(c){var h=Rt(c);if(tf(h))return c}function Ed(c,h){if(c==="change")return h}var Hi=!1;if(Fn){var _i;if(Fn){var Yo="oninput"in document;if(!Yo){var Zo=document.createElement("div");Zo.setAttribute("oninput","return;"),Yo=typeof Zo.oninput=="function"}_i=Yo}else _i=!1;Hi=_i&&(!document.documentMode||9<document.documentMode)}function Hc(){xo&&(xo.detachEvent("onpropertychange",zh),$c=xo=null)}function zh(c){if(c.propertyName==="value"&&go($c)){var h=[];hl(h,$c,c,vu(c)),R0(mf,h)}}function $h(c,h,x){c==="focusin"?(Hc(),xo=h,$c=x,xo.attachEvent("onpropertychange",zh)):c==="focusout"&&Hc()}function Fa(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return go($c)}function F0(c,h){if(c==="click")return go(h)}function Xo(c,h){if(c==="input"||c==="change")return go(h)}function Jo(c,h){return c===h&&(c!==0||1/c===1/h)||c!==c&&h!==h}var Un=typeof Object.is=="function"?Object.is:Jo;function qc(c,h){if(Un(c,h))return!0;if(typeof c!="object"||c===null||typeof h!="object"||h===null)return!1;var x=Object.keys(c),b=Object.keys(h);if(x.length!==b.length)return!1;for(b=0;b<x.length;b++){var T=x[b];if(!Me.call(h,T)||!Un(c[T],h[T]))return!1}return!0}function Hh(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function qh(c,h){var x=Hh(c);c=0;for(var b;x;){if(x.nodeType===3){if(b=c+x.textContent.length,c<=h&&b>=h)return{node:x,offset:h-c};c=b}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=Hh(x)}}function Vc(c,h){return c&&h?c===h?!0:c&&c.nodeType===3?!1:h&&h.nodeType===3?Vc(c,h.parentNode):"contains"in c?c.contains(h):c.compareDocumentPosition?!!(c.compareDocumentPosition(h)&16):!1:!1}function Wc(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var h=Ni(c.document);h instanceof c.HTMLIFrameElement;){try{var x=typeof h.contentWindow.location.href=="string"}catch{x=!1}if(x)c=h.contentWindow;else break;h=Ni(c.document)}return h}function Qo(c){var h=c&&c.nodeName&&c.nodeName.toLowerCase();return h&&(h==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||h==="textarea"||c.contentEditable==="true")}var Su=Fn&&"documentMode"in document&&11>=document.documentMode,ml=null,Gc=null,ai=null,Pl=!1;function ps(c,h,x){var b=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;Pl||ml==null||ml!==Ni(b)||(b=ml,"selectionStart"in b&&Qo(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),ai&&qc(ai,b)||(ai=b,b=pb(Gc,"onSelect"),0<b.length&&(h=new Ol("onSelect","select",null,h,x),c.push({event:h,listeners:b}),h.target=ml)))}function as(c,h){var x={};return x[c.toLowerCase()]=h.toLowerCase(),x["Webkit"+c]="webkit"+h,x["Moz"+c]="moz"+h,x}var Zs={animationend:as("Animation","AnimationEnd"),animationiteration:as("Animation","AnimationIteration"),animationstart:as("Animation","AnimationStart"),transitionrun:as("Transition","TransitionRun"),transitionstart:as("Transition","TransitionStart"),transitioncancel:as("Transition","TransitionCancel"),transitionend:as("Transition","TransitionEnd")},Ba={},ec={};Fn&&(ec=document.createElement("div").style,"AnimationEvent"in window||(delete Zs.animationend.animation,delete Zs.animationiteration.animation,delete Zs.animationstart.animation),"TransitionEvent"in window||delete Zs.transitionend.transition);function vo(c){if(Ba[c])return Ba[c];if(!Zs[c])return c;var h=Zs[c],x;for(x in h)if(h.hasOwnProperty(x)&&x in ec)return Ba[c]=h[x];return c}var _u=vo("animationend"),ff=vo("animationiteration"),rg=vo("animationstart"),Fy=vo("transitionrun"),By=vo("transitionstart"),Uy=vo("transitioncancel"),sg=vo("transitionend"),ag=new Map,Au="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Au.push("scrollEnd");function Dl(c,h){ag.set(c,h),Ds(h,[c])}var pf=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)},fl=[],Cu=0,B0=0;function xf(){for(var c=Cu,h=B0=Cu=0;h<c;){var x=fl[h];fl[h++]=null;var b=fl[h];fl[h++]=null;var T=fl[h];fl[h++]=null;var O=fl[h];if(fl[h++]=null,b!==null&&T!==null){var K=b.pending;K===null?T.next=T:(T.next=K.next,K.next=T),b.pending=T}O!==0&&vf(x,T,O)}}function gf(c,h,x,b){fl[Cu++]=c,fl[Cu++]=h,fl[Cu++]=x,fl[Cu++]=b,B0|=b,c.lanes|=b,c=c.alternate,c!==null&&(c.lanes|=b)}function U0(c,h,x,b){return gf(c,h,x,b),ni(c)}function Kc(c,h){return gf(c,null,null,h),ni(c)}function vf(c,h,x){c.lanes|=x;var b=c.alternate;b!==null&&(b.lanes|=x);for(var T=!1,O=c.return;O!==null;)O.childLanes|=x,b=O.alternate,b!==null&&(b.childLanes|=x),O.tag===22&&(c=O.stateNode,c===null||c._visibility&1||(T=!0)),c=O,O=O.return;return c.tag===3?(O=c.stateNode,T&&h!==null&&(T=31-Lr(x),c=O.hiddenUpdates,b=c[T],b===null?c[T]=[h]:b.push(h),h.lane=x|536870912),O):null}function ni(c){if(50<Ag)throw Ag=0,j5=null,Error(a(185));for(var h=c.return;h!==null;)c=h,h=c.return;return c.tag===3?c.stateNode:null}var zn={};function z0(c,h,x,b){this.tag=c,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ii(c,h,x,b){return new z0(c,h,x,b)}function $0(c){return c=c.prototype,!(!c||!c.isReactComponent)}function Rl(c,h){var x=c.alternate;return x===null?(x=ii(c.tag,h,c.key,c.mode),x.elementType=c.elementType,x.type=c.type,x.stateNode=c.stateNode,x.alternate=c,c.alternate=x):(x.pendingProps=h,x.type=c.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=c.flags&65011712,x.childLanes=c.childLanes,x.lanes=c.lanes,x.child=c.child,x.memoizedProps=c.memoizedProps,x.memoizedState=c.memoizedState,x.updateQueue=c.updateQueue,h=c.dependencies,x.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},x.sibling=c.sibling,x.index=c.index,x.ref=c.ref,x.refCleanup=c.refCleanup,x}function yf(c,h){c.flags&=65011714;var x=c.alternate;return x===null?(c.childLanes=0,c.lanes=h,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=x.childLanes,c.lanes=x.lanes,c.child=x.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=x.memoizedProps,c.memoizedState=x.memoizedState,c.updateQueue=x.updateQueue,c.type=x.type,h=x.dependencies,c.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),c}function Vh(c,h,x,b,T,O){var K=0;if(b=c,typeof c=="function")$0(c)&&(K=1);else if(typeof c=="string")K=CK(c,x,q.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case B:return c=ii(31,x,h,T),c.elementType=B,c.lanes=O,c;case v:return Od(x.children,T,O,h);case j:K=8,T|=24;break;case N:return c=ii(12,x,h,T|2),c.elementType=N,c.lanes=O,c;case C:return c=ii(13,x,h,T),c.elementType=C,c.lanes=O,c;case M:return c=ii(19,x,h,T),c.elementType=M,c.lanes=O,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case w:K=10;break e;case k:K=9;break e;case A:K=11;break e;case R:K=14;break e;case D:K=16,b=null;break e}K=29,x=Error(a(130,c===null?"null":typeof c,"")),b=null}return h=ii(K,x,h,T),h.elementType=c,h.type=b,h.lanes=O,h}function Od(c,h,x,b){return c=ii(7,c,b,h),c.lanes=x,c}function bf(c,h,x){return c=ii(6,c,null,h),c.lanes=x,c}function H0(c){var h=ii(18,null,null,0);return h.stateNode=c,h}function Wh(c,h,x){return h=ii(4,c.children!==null?c.children:[],c.key,h),h.lanes=x,h.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},h}var q0=new WeakMap;function Ml(c,h){if(typeof c=="object"&&c!==null){var x=q0.get(c);return x!==void 0?x:(h={value:c,source:h,stack:je(h)},q0.set(c,h),h)}return{value:c,source:h,stack:je(h)}}var Gh=[],ku=0,V0=null,jf=0,Ll=[],Il=0,Pd=null,Fl=1,Bl="";function pl(c,h){Gh[ku++]=jf,Gh[ku++]=V0,V0=c,jf=h}function zy(c,h,x){Ll[Il++]=Fl,Ll[Il++]=Bl,Ll[Il++]=Pd,Pd=c;var b=Fl;c=Bl;var T=32-Lr(b)-1;b&=~(1<<T),x+=1;var O=32-Lr(h)+T;if(30<O){var K=T-T%5;O=(b&(1<<K)-1).toString(32),b>>=K,T-=K,Fl=1<<32-Lr(h)+T|x<<T|b,Bl=O+c}else Fl=1<<O|x<<T|b,Bl=c}function ng(c){c.return!==null&&(pl(c,1),zy(c,1,0))}function W0(c){for(;c===V0;)V0=Gh[--ku],Gh[ku]=null,jf=Gh[--ku],Gh[ku]=null;for(;c===Pd;)Pd=Ll[--Il],Ll[Il]=null,Bl=Ll[--Il],Ll[Il]=null,Fl=Ll[--Il],Ll[Il]=null}function $y(c,h){Ll[Il++]=Fl,Ll[Il++]=Bl,Ll[Il++]=Pd,Fl=h.id,Bl=h.overflow,Pd=c}var $n=null,aa=null,Zr=!1,Ai=null,Ca=!1,yo=Error(a(519));function Dd(c){var h=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Kh(Ml(h,c)),yo}function ig(c){var h=c.stateNode,x=c.type,b=c.memoizedProps;switch(h[ge]=c,h[we]=b,x){case"dialog":Jr("cancel",h),Jr("close",h);break;case"iframe":case"object":case"embed":Jr("load",h);break;case"video":case"audio":for(x=0;x<kg.length;x++)Jr(kg[x],h);break;case"source":Jr("error",h);break;case"img":case"image":case"link":Jr("error",h),Jr("load",h);break;case"details":Jr("toggle",h);break;case"input":Jr("invalid",h),T0(h,b.value,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name,!0);break;case"select":Jr("invalid",h);break;case"textarea":Jr("invalid",h),af(h,b.value,b.defaultValue,b.children)}x=b.children,typeof x!="string"&&typeof x!="number"&&typeof x!="bigint"||h.textContent===""+x||b.suppressHydrationWarning===!0||qE(h.textContent,x)?(b.popover!=null&&(Jr("beforetoggle",h),Jr("toggle",h)),b.onScroll!=null&&Jr("scroll",h),b.onScrollEnd!=null&&Jr("scrollend",h),b.onClick!=null&&(h.onclick=mo),h=!0):h=!1,h||Dd(c,!0)}function Yc(c){for($n=c.return;$n;)switch($n.tag){case 5:case 31:case 13:Ca=!1;return;case 27:case 3:Ca=!0;return;default:$n=$n.return}}function Hn(c){if(c!==$n)return!1;if(!Zr)return Yc(c),Zr=!0,!1;var h=c.tag,x;if((x=h!==3&&h!==27)&&((x=h===5)&&(x=c.type,x=!(x!=="form"&&x!=="button")||L5(c.type,c.memoizedProps)),x=!x),x&&aa&&Dd(c),Yc(c),h===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));aa=QE(c)}else if(h===31){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));aa=QE(c)}else h===27?(h=aa,om(c.type)?(c=z5,z5=null,aa=c):aa=h):aa=$n?ac(c.stateNode.nextSibling):null;return!0}function Tu(){aa=$n=null,Zr=!1}function lg(){var c=Ai;return c!==null&&(Vl===null?Vl=c:Vl.push.apply(Vl,c),Ai=null),c}function Kh(c){Ai===null?Ai=[c]:Ai.push(c)}var G0=X(null),Rd=null,tc=null;function Md(c,h,x){H(G0,h._currentValue),h._currentValue=x}function Ul(c){c._currentValue=G0.current,P(G0)}function Yh(c,h,x){for(;c!==null;){var b=c.alternate;if((c.childLanes&h)!==h?(c.childLanes|=h,b!==null&&(b.childLanes|=h)):b!==null&&(b.childLanes&h)!==h&&(b.childLanes|=h),c===x)break;c=c.return}}function Eu(c,h,x,b){var T=c.child;for(T!==null&&(T.return=c);T!==null;){var O=T.dependencies;if(O!==null){var K=T.child;O=O.firstContext;e:for(;O!==null;){var de=O;O=T;for(var Re=0;Re<h.length;Re++)if(de.context===h[Re]){O.lanes|=x,de=O.alternate,de!==null&&(de.lanes|=x),Yh(O.return,x,c),b||(K=null);break e}O=de.next}}else if(T.tag===18){if(K=T.return,K===null)throw Error(a(341));K.lanes|=x,O=K.alternate,O!==null&&(O.lanes|=x),Yh(K,x,c),K=null}else K=T.child;if(K!==null)K.return=T;else for(K=T;K!==null;){if(K===c){K=null;break}if(T=K.sibling,T!==null){T.return=K.return,K=T;break}K=K.return}T=K}}function Ld(c,h,x,b){c=null;for(var T=h,O=!1;T!==null;){if(!O){if((T.flags&524288)!==0)O=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var K=T.alternate;if(K===null)throw Error(a(387));if(K=K.memoizedProps,K!==null){var de=T.type;Un(T.pendingProps.value,K.value)||(c!==null?c.push(de):c=[de])}}else if(T===Se.current){if(K=T.alternate,K===null)throw Error(a(387));K.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(c!==null?c.push(Dg):c=[Dg])}T=T.return}c!==null&&Eu(h,c,x,b),h.flags|=262144}function K0(c){for(c=c.firstContext;c!==null;){if(!Un(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function Id(c){Rd=c,tc=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function qn(c){return Hy(Rd,c)}function Y0(c,h){return Rd===null&&Id(c),Hy(c,h)}function Hy(c,h){var x=h._currentValue;if(h={context:h,memoizedValue:x,next:null},tc===null){if(c===null)throw Error(a(308));tc=h,c.dependencies={lanes:0,firstContext:h},c.flags|=524288}else tc=tc.next=h;return x}var Uw=typeof AbortController<"u"?AbortController:function(){var c=[],h=this.signal={aborted:!1,addEventListener:function(x,b){c.push(b)}};this.abort=function(){h.aborted=!0,c.forEach(function(x){return x()})}},zw=e.unstable_scheduleCallback,$w=e.unstable_NormalPriority,Ua={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zh(){return{controller:new Uw,data:new Map,refCount:0}}function Nf(c){c.refCount--,c.refCount===0&&zw($w,function(){c.controller.abort()})}var wf=null,Z0=0,S=0,E=null;function U(c,h){if(wf===null){var x=wf=[];Z0=0,S=C5(),E={status:"pending",value:void 0,then:function(b){x.push(b)}}}return Z0++,h.then(V,V),h}function V(){if(--Z0===0&&wf!==null){E!==null&&(E.status="fulfilled");var c=wf;wf=null,S=0,E=null;for(var h=0;h<c.length;h++)(0,c[h])()}}function Q(c,h){var x=[],b={status:"pending",value:null,reason:null,then:function(T){x.push(T)}};return c.then(function(){b.status="fulfilled",b.value=h;for(var T=0;T<x.length;T++)(0,x[T])(h)},function(T){for(b.status="rejected",b.reason=T,T=0;T<x.length;T++)(0,x[T])(void 0)}),b}var ne=Z.S;Z.S=function(c,h){fE=st(),typeof h=="object"&&h!==null&&typeof h.then=="function"&&U(c,h),ne!==null&&ne(c,h)};var oe=X(null);function me(){var c=oe.current;return c!==null?c:ia.pooledCache}function ve(c,h){h===null?H(oe,oe.current):H(oe,h.pool)}function Ae(){var c=me();return c===null?null:{parent:Ua._currentValue,pool:c}}var Fe=Error(a(460)),Xe=Error(a(474)),_e=Error(a(542)),Ue={then:function(){}};function Ve(c){return c=c.status,c==="fulfilled"||c==="rejected"}function ft(c,h,x){switch(x=c[x],x===void 0?c.push(h):x!==h&&(h.then(mo,mo),h=x),h.status){case"fulfilled":return h.value;case"rejected":throw c=h.reason,Ot(c),c;default:if(typeof h.status=="string")h.then(mo,mo);else{if(c=ia,c!==null&&100<c.shellSuspendCounter)throw Error(a(482));c=h,c.status="pending",c.then(function(b){if(h.status==="pending"){var T=h;T.status="fulfilled",T.value=b}},function(b){if(h.status==="pending"){var T=h;T.status="rejected",T.reason=b}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw c=h.reason,Ot(c),c}throw ht=h,Fe}}function Ke(c){try{var h=c._init;return h(c._payload)}catch(x){throw x!==null&&typeof x=="object"&&typeof x.then=="function"?(ht=x,Fe):x}}var ht=null;function vt(){if(ht===null)throw Error(a(459));var c=ht;return ht=null,c}function Ot(c){if(c===Fe||c===_e)throw Error(a(483))}var St=null,er=0;function Vt(c){var h=er;return er+=1,St===null&&(St=[]),ft(St,c,h)}function _r(c,h){h=h.props.ref,c.ref=h!==void 0?h:null}function Kt(c,h){throw h.$$typeof===g?Error(a(525)):(c=Object.prototype.toString.call(h),Error(a(31,c==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":c)))}function Kr(c){function h(qe,Be){if(c){var et=qe.deletions;et===null?(qe.deletions=[Be],qe.flags|=16):et.push(Be)}}function x(qe,Be){if(!c)return null;for(;Be!==null;)h(qe,Be),Be=Be.sibling;return null}function b(qe){for(var Be=new Map;qe!==null;)qe.key!==null?Be.set(qe.key,qe):Be.set(qe.index,qe),qe=qe.sibling;return Be}function T(qe,Be){return qe=Rl(qe,Be),qe.index=0,qe.sibling=null,qe}function O(qe,Be,et){return qe.index=et,c?(et=qe.alternate,et!==null?(et=et.index,et<Be?(qe.flags|=67108866,Be):et):(qe.flags|=67108866,Be)):(qe.flags|=1048576,Be)}function K(qe){return c&&qe.alternate===null&&(qe.flags|=67108866),qe}function de(qe,Be,et,bt){return Be===null||Be.tag!==6?(Be=bf(et,qe.mode,bt),Be.return=qe,Be):(Be=T(Be,et),Be.return=qe,Be)}function Re(qe,Be,et,bt){var pr=et.type;return pr===v?xt(qe,Be,et.props.children,bt,et.key):Be!==null&&(Be.elementType===pr||typeof pr=="object"&&pr!==null&&pr.$$typeof===D&&Ke(pr)===Be.type)?(Be=T(Be,et.props),_r(Be,et),Be.return=qe,Be):(Be=Vh(et.type,et.key,et.props,null,qe.mode,bt),_r(Be,et),Be.return=qe,Be)}function tt(qe,Be,et,bt){return Be===null||Be.tag!==4||Be.stateNode.containerInfo!==et.containerInfo||Be.stateNode.implementation!==et.implementation?(Be=Wh(et,qe.mode,bt),Be.return=qe,Be):(Be=T(Be,et.children||[]),Be.return=qe,Be)}function xt(qe,Be,et,bt,pr){return Be===null||Be.tag!==7?(Be=Od(et,qe.mode,bt,pr),Be.return=qe,Be):(Be=T(Be,et),Be.return=qe,Be)}function wt(qe,Be,et){if(typeof Be=="string"&&Be!==""||typeof Be=="number"||typeof Be=="bigint")return Be=bf(""+Be,qe.mode,et),Be.return=qe,Be;if(typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case p:return et=Vh(Be.type,Be.key,Be.props,null,qe.mode,et),_r(et,Be),et.return=qe,et;case y:return Be=Wh(Be,qe.mode,et),Be.return=qe,Be;case D:return Be=Ke(Be),wt(qe,Be,et)}if(ue(Be)||F(Be))return Be=Od(Be,qe.mode,et,null),Be.return=qe,Be;if(typeof Be.then=="function")return wt(qe,Vt(Be),et);if(Be.$$typeof===w)return wt(qe,Y0(qe,Be),et);Kt(qe,Be)}return null}function nt(qe,Be,et,bt){var pr=Be!==null?Be.key:null;if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return pr!==null?null:de(qe,Be,""+et,bt);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case p:return et.key===pr?Re(qe,Be,et,bt):null;case y:return et.key===pr?tt(qe,Be,et,bt):null;case D:return et=Ke(et),nt(qe,Be,et,bt)}if(ue(et)||F(et))return pr!==null?null:xt(qe,Be,et,bt,null);if(typeof et.then=="function")return nt(qe,Be,Vt(et),bt);if(et.$$typeof===w)return nt(qe,Be,Y0(qe,et),bt);Kt(qe,et)}return null}function ct(qe,Be,et,bt,pr){if(typeof bt=="string"&&bt!==""||typeof bt=="number"||typeof bt=="bigint")return qe=qe.get(et)||null,de(Be,qe,""+bt,pr);if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case p:return qe=qe.get(bt.key===null?et:bt.key)||null,Re(Be,qe,bt,pr);case y:return qe=qe.get(bt.key===null?et:bt.key)||null,tt(Be,qe,bt,pr);case D:return bt=Ke(bt),ct(qe,Be,et,bt,pr)}if(ue(bt)||F(bt))return qe=qe.get(et)||null,xt(Be,qe,bt,pr,null);if(typeof bt.then=="function")return ct(qe,Be,et,Vt(bt),pr);if(bt.$$typeof===w)return ct(qe,Be,et,Y0(Be,bt),pr);Kt(Be,bt)}return null}function Xt(qe,Be,et,bt){for(var pr=null,bs=null,ar=Be,Br=Be=0,ts=null;ar!==null&&Br<et.length;Br++){ar.index>Br?(ts=ar,ar=null):ts=ar.sibling;var js=nt(qe,ar,et[Br],bt);if(js===null){ar===null&&(ar=ts);break}c&&ar&&js.alternate===null&&h(qe,ar),Be=O(js,Be,Br),bs===null?pr=js:bs.sibling=js,bs=js,ar=ts}if(Br===et.length)return x(qe,ar),Zr&&pl(qe,Br),pr;if(ar===null){for(;Br<et.length;Br++)ar=wt(qe,et[Br],bt),ar!==null&&(Be=O(ar,Be,Br),bs===null?pr=ar:bs.sibling=ar,bs=ar);return Zr&&pl(qe,Br),pr}for(ar=b(ar);Br<et.length;Br++)ts=ct(ar,qe,Br,et[Br],bt),ts!==null&&(c&&ts.alternate!==null&&ar.delete(ts.key===null?Br:ts.key),Be=O(ts,Be,Br),bs===null?pr=ts:bs.sibling=ts,bs=ts);return c&&ar.forEach(function(mm){return h(qe,mm)}),Zr&&pl(qe,Br),pr}function jr(qe,Be,et,bt){if(et==null)throw Error(a(151));for(var pr=null,bs=null,ar=Be,Br=Be=0,ts=null,js=et.next();ar!==null&&!js.done;Br++,js=et.next()){ar.index>Br?(ts=ar,ar=null):ts=ar.sibling;var mm=nt(qe,ar,js.value,bt);if(mm===null){ar===null&&(ar=ts);break}c&&ar&&mm.alternate===null&&h(qe,ar),Be=O(mm,Be,Br),bs===null?pr=mm:bs.sibling=mm,bs=mm,ar=ts}if(js.done)return x(qe,ar),Zr&&pl(qe,Br),pr;if(ar===null){for(;!js.done;Br++,js=et.next())js=wt(qe,js.value,bt),js!==null&&(Be=O(js,Be,Br),bs===null?pr=js:bs.sibling=js,bs=js);return Zr&&pl(qe,Br),pr}for(ar=b(ar);!js.done;Br++,js=et.next())js=ct(ar,qe,Br,js.value,bt),js!==null&&(c&&js.alternate!==null&&ar.delete(js.key===null?Br:js.key),Be=O(js,Be,Br),bs===null?pr=js:bs.sibling=js,bs=js);return c&&ar.forEach(function(FK){return h(qe,FK)}),Zr&&pl(qe,Br),pr}function ea(qe,Be,et,bt){if(typeof et=="object"&&et!==null&&et.type===v&&et.key===null&&(et=et.props.children),typeof et=="object"&&et!==null){switch(et.$$typeof){case p:e:{for(var pr=et.key;Be!==null;){if(Be.key===pr){if(pr=et.type,pr===v){if(Be.tag===7){x(qe,Be.sibling),bt=T(Be,et.props.children),bt.return=qe,qe=bt;break e}}else if(Be.elementType===pr||typeof pr=="object"&&pr!==null&&pr.$$typeof===D&&Ke(pr)===Be.type){x(qe,Be.sibling),bt=T(Be,et.props),_r(bt,et),bt.return=qe,qe=bt;break e}x(qe,Be);break}else h(qe,Be);Be=Be.sibling}et.type===v?(bt=Od(et.props.children,qe.mode,bt,et.key),bt.return=qe,qe=bt):(bt=Vh(et.type,et.key,et.props,null,qe.mode,bt),_r(bt,et),bt.return=qe,qe=bt)}return K(qe);case y:e:{for(pr=et.key;Be!==null;){if(Be.key===pr)if(Be.tag===4&&Be.stateNode.containerInfo===et.containerInfo&&Be.stateNode.implementation===et.implementation){x(qe,Be.sibling),bt=T(Be,et.children||[]),bt.return=qe,qe=bt;break e}else{x(qe,Be);break}else h(qe,Be);Be=Be.sibling}bt=Wh(et,qe.mode,bt),bt.return=qe,qe=bt}return K(qe);case D:return et=Ke(et),ea(qe,Be,et,bt)}if(ue(et))return Xt(qe,Be,et,bt);if(F(et)){if(pr=F(et),typeof pr!="function")throw Error(a(150));return et=pr.call(et),jr(qe,Be,et,bt)}if(typeof et.then=="function")return ea(qe,Be,Vt(et),bt);if(et.$$typeof===w)return ea(qe,Be,Y0(qe,et),bt);Kt(qe,et)}return typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint"?(et=""+et,Be!==null&&Be.tag===6?(x(qe,Be.sibling),bt=T(Be,et),bt.return=qe,qe=bt):(x(qe,Be),bt=bf(et,qe.mode,bt),bt.return=qe,qe=bt),K(qe)):x(qe,Be)}return function(qe,Be,et,bt){try{er=0;var pr=ea(qe,Be,et,bt);return St=null,pr}catch(ar){if(ar===Fe||ar===_e)throw ar;var bs=ii(29,ar,null,qe.mode);return bs.lanes=bt,bs.return=qe,bs}}}var na=Kr(!0),Or=Kr(!1),Wt=!1;function Ut(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ga(c,h){c=c.updateQueue,h.updateQueue===c&&(h.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function yr(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function Rr(c,h,x){var b=c.updateQueue;if(b===null)return null;if(b=b.shared,(Ts&2)!==0){var T=b.pending;return T===null?h.next=h:(h.next=T.next,T.next=h),b.pending=h,h=ni(c),vf(c,null,x),h}return gf(c,b,h,x),ni(c)}function Cs(c,h,x){if(h=h.updateQueue,h!==null&&(h=h.shared,(x&4194048)!==0)){var b=h.lanes;b&=c.pendingLanes,x|=b,h.lanes=x,In(c,x)}}function un(c,h){var x=c.updateQueue,b=c.alternate;if(b!==null&&(b=b.updateQueue,x===b)){var T=null,O=null;if(x=x.firstBaseUpdate,x!==null){do{var K={lane:x.lane,tag:x.tag,payload:x.payload,callback:null,next:null};O===null?T=O=K:O=O.next=K,x=x.next}while(x!==null);O===null?T=O=h:O=O.next=h}else T=O=h;x={baseState:b.baseState,firstBaseUpdate:T,lastBaseUpdate:O,shared:b.shared,callbacks:b.callbacks},c.updateQueue=x;return}c=x.lastBaseUpdate,c===null?x.firstBaseUpdate=h:c.next=h,x.lastBaseUpdate=h}var Vn=!1;function Xs(){if(Vn){var c=E;if(c!==null)throw c}}function Ga(c,h,x,b){Vn=!1;var T=c.updateQueue;Wt=!1;var O=T.firstBaseUpdate,K=T.lastBaseUpdate,de=T.shared.pending;if(de!==null){T.shared.pending=null;var Re=de,tt=Re.next;Re.next=null,K===null?O=tt:K.next=tt,K=Re;var xt=c.alternate;xt!==null&&(xt=xt.updateQueue,de=xt.lastBaseUpdate,de!==K&&(de===null?xt.firstBaseUpdate=tt:de.next=tt,xt.lastBaseUpdate=Re))}if(O!==null){var wt=T.baseState;K=0,xt=tt=Re=null,de=O;do{var nt=de.lane&-536870913,ct=nt!==de.lane;if(ct?(es&nt)===nt:(b&nt)===nt){nt!==0&&nt===S&&(Vn=!0),xt!==null&&(xt=xt.next={lane:0,tag:de.tag,payload:de.payload,callback:null,next:null});e:{var Xt=c,jr=de;nt=h;var ea=x;switch(jr.tag){case 1:if(Xt=jr.payload,typeof Xt=="function"){wt=Xt.call(ea,wt,nt);break e}wt=Xt;break e;case 3:Xt.flags=Xt.flags&-65537|128;case 0:if(Xt=jr.payload,nt=typeof Xt=="function"?Xt.call(ea,wt,nt):Xt,nt==null)break e;wt=f({},wt,nt);break e;case 2:Wt=!0}}nt=de.callback,nt!==null&&(c.flags|=64,ct&&(c.flags|=8192),ct=T.callbacks,ct===null?T.callbacks=[nt]:ct.push(nt))}else ct={lane:nt,tag:de.tag,payload:de.payload,callback:de.callback,next:null},xt===null?(tt=xt=ct,Re=wt):xt=xt.next=ct,K|=nt;if(de=de.next,de===null){if(de=T.shared.pending,de===null)break;ct=de,de=ct.next,ct.next=null,T.lastBaseUpdate=ct,T.shared.pending=null}}while(!0);xt===null&&(Re=wt),T.baseState=Re,T.firstBaseUpdate=tt,T.lastBaseUpdate=xt,O===null&&(T.shared.lanes=0),sm|=K,c.lanes=K,c.memoizedState=wt}}function li(c,h){if(typeof c!="function")throw Error(a(191,c));c.call(h)}function Ka(c,h){var x=c.callbacks;if(x!==null)for(c.callbacks=null,c=0;c<x.length;c++)li(x[c],h)}var $r=X(null),cs=X(0);function va(c,h){c=Uu,H(cs,c),H($r,h),Uu=c|h.baseLanes}function xs(){H(cs,Uu),H($r,$r.current)}function hn(){Uu=cs.current,P($r),P(cs)}var ya=X(null),ds=null;function za(c){var h=c.alternate;H(ns,ns.current&1),H(ya,c),ds===null&&(h===null||$r.current!==null||h.memoizedState!==null)&&(ds=c)}function ks(c){H(ns,ns.current),H(ya,c),ds===null&&(ds=c)}function Ya(c){c.tag===22?(H(ns,ns.current),H(ya,c),ds===null&&(ds=c)):Za()}function Za(){H(ns,ns.current),H(ya,ya.current)}function Ls(c){P(ya),ds===c&&(ds=null),P(ns)}var ns=X(0);function oi(c){for(var h=c;h!==null;){if(h.tag===13){var x=h.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||B5(x)||U5(x)))return h}else if(h.tag===19&&(h.memoizedProps.revealOrder==="forwards"||h.memoizedProps.revealOrder==="backwards"||h.memoizedProps.revealOrder==="unstable_legacy-backwards"||h.memoizedProps.revealOrder==="together")){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var ka=0,ur=null,fr=null,us=null,qi=!1,zl=!1,Ci=!1,Xa=0,Fd=0,Bd=null,X0=0;function Js(){throw Error(a(321))}function og(c,h){if(h===null)return!1;for(var x=0;x<h.length&&x<c.length;x++)if(!Un(c[x],h[x]))return!1;return!0}function cg(c,h,x,b,T,O){return ka=O,ur=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,Z.H=c===null||c.memoizedState===null?_T:Zw,Ci=!1,O=x(b,T),Ci=!1,zl&&(O=Zc(h,x,b,T)),J0(c),O}function J0(c){Z.H=gg;var h=fr!==null&&fr.next!==null;if(ka=0,us=fr=ur=null,qi=!1,Fd=0,Bd=null,h)throw Error(a(300));c===null||Sn||(c=c.dependencies,c!==null&&K0(c)&&(Sn=!0))}function Zc(c,h,x,b){ur=c;var T=0;do{if(zl&&(Bd=null),Fd=0,zl=!1,25<=T)throw Error(a(301));if(T+=1,us=fr=null,c.updateQueue!=null){var O=c.updateQueue;O.lastEffect=null,O.events=null,O.stores=null,O.memoCache!=null&&(O.memoCache.index=0)}Z.H=AT,O=h(x,b)}while(zl);return O}function Hw(){var c=Z.H,h=c.useState()[0];return h=typeof h.then=="function"?Ud(h):h,c=c.useState()[0],(fr!==null?fr.memoizedState:null)!==c&&(ur.flags|=1024),h}function dg(){var c=Xa!==0;return Xa=0,c}function ug(c,h,x){h.updateQueue=c.updateQueue,h.flags&=-2053,c.lanes&=~x}function Q0(c){if(qi){for(c=c.memoizedState;c!==null;){var h=c.queue;h!==null&&(h.pending=null),c=c.next}qi=!1}ka=0,us=fr=ur=null,zl=!1,Fd=Xa=0,Bd=null}function wn(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return us===null?ur.memoizedState=us=c:us=us.next=c,us}function Ta(){if(fr===null){var c=ur.alternate;c=c!==null?c.memoizedState:null}else c=fr.next;var h=us===null?ur.memoizedState:us.next;if(h!==null)us=h,fr=c;else{if(c===null)throw ur.alternate===null?Error(a(467)):Error(a(310));fr=c,c={memoizedState:fr.memoizedState,baseState:fr.baseState,baseQueue:fr.baseQueue,queue:fr.queue,next:null},us===null?ur.memoizedState=us=c:us=us.next=c}return us}function Sf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ud(c){var h=Fd;return Fd+=1,Bd===null&&(Bd=[]),c=ft(Bd,c,h),h=ur,(us===null?h.memoizedState:us.next)===null&&(h=h.alternate,Z.H=h===null||h.memoizedState===null?_T:Zw),c}function Xh(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return Ud(c);if(c.$$typeof===w)return qn(c)}throw Error(a(438,String(c)))}function Ou(c){var h=null,x=ur.updateQueue;if(x!==null&&(h=x.memoCache),h==null){var b=ur.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(h={data:b.data.map(function(T){return T.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),x===null&&(x=Sf(),ur.updateQueue=x),x.memoCache=h,x=h.data[h.index],x===void 0)for(x=h.data[h.index]=Array(c),b=0;b<c;b++)x[b]=z;return h.index++,x}function rc(c,h){return typeof h=="function"?h(c):h}function ep(c){var h=Ta();return Jh(h,fr,c)}function Jh(c,h,x){var b=c.queue;if(b===null)throw Error(a(311));b.lastRenderedReducer=x;var T=c.baseQueue,O=b.pending;if(O!==null){if(T!==null){var K=T.next;T.next=O.next,O.next=K}h.baseQueue=T=O,b.pending=null}if(O=c.baseState,T===null)c.memoizedState=O;else{h=T.next;var de=K=null,Re=null,tt=h,xt=!1;do{var wt=tt.lane&-536870913;if(wt!==tt.lane?(es&wt)===wt:(ka&wt)===wt){var nt=tt.revertLane;if(nt===0)Re!==null&&(Re=Re.next={lane:0,revertLane:0,gesture:null,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null}),wt===S&&(xt=!0);else if((ka&nt)===nt){tt=tt.next,nt===S&&(xt=!0);continue}else wt={lane:0,revertLane:tt.revertLane,gesture:null,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null},Re===null?(de=Re=wt,K=O):Re=Re.next=wt,ur.lanes|=nt,sm|=nt;wt=tt.action,Ci&&x(O,wt),O=tt.hasEagerState?tt.eagerState:x(O,wt)}else nt={lane:wt,revertLane:tt.revertLane,gesture:tt.gesture,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null},Re===null?(de=Re=nt,K=O):Re=Re.next=nt,ur.lanes|=wt,sm|=wt;tt=tt.next}while(tt!==null&&tt!==h);if(Re===null?K=O:Re.next=de,!Un(O,c.memoizedState)&&(Sn=!0,xt&&(x=E,x!==null)))throw x;c.memoizedState=O,c.baseState=K,c.baseQueue=Re,b.lastRenderedState=O}return T===null&&(b.lanes=0),[c.memoizedState,b.dispatch]}function tp(c){var h=Ta(),x=h.queue;if(x===null)throw Error(a(311));x.lastRenderedReducer=c;var b=x.dispatch,T=x.pending,O=h.memoizedState;if(T!==null){x.pending=null;var K=T=T.next;do O=c(O,K.action),K=K.next;while(K!==T);Un(O,h.memoizedState)||(Sn=!0),h.memoizedState=O,h.baseQueue===null&&(h.baseState=O),x.lastRenderedState=O}return[O,b]}function rp(c,h,x){var b=ur,T=Ta(),O=Zr;if(O){if(x===void 0)throw Error(a(407));x=x()}else x=h();var K=!Un((fr||T).memoizedState,x);if(K&&(T.memoizedState=x,Sn=!0),T=T.queue,qw(mg.bind(null,b,T,c),[c]),T.getSnapshot!==h||K||us!==null&&us.memoizedState.tag&1){if(b.flags|=2048,Du(9,{destroy:void 0},hg.bind(null,b,T,x,h),null),ia===null)throw Error(a(349));O||(ka&127)!==0||Xc(b,h,x)}return x}function Xc(c,h,x){c.flags|=16384,c={getSnapshot:h,value:x},h=ur.updateQueue,h===null?(h=Sf(),ur.updateQueue=h,h.stores=[c]):(x=h.stores,x===null?h.stores=[c]:x.push(c))}function hg(c,h,x,b){h.value=x,h.getSnapshot=b,qy(h)&&fg(c)}function mg(c,h,x){return x(function(){qy(h)&&fg(c)})}function qy(c){var h=c.getSnapshot;c=c.value;try{var x=h();return!Un(c,x)}catch{return!0}}function fg(c){var h=Kc(c,2);h!==null&&Wl(h,c,2)}function zd(c){var h=wn();if(typeof c=="function"){var x=c;if(c=x(),Ci){mr(!0);try{x()}finally{mr(!1)}}}return h.memoizedState=h.baseState=c,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rc,lastRenderedState:c},h}function Vy(c,h,x,b){return c.baseState=x,Jh(c,fr,typeof b=="function"?b:rc)}function Wy(c,h,x,b,T){if(Zy(c))throw Error(a(485));if(c=h.action,c!==null){var O={payload:T,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(K){O.listeners.push(K)}};Z.T!==null?x(!0):O.isTransition=!1,b(O),x=h.pending,x===null?(O.next=h.pending=O,Gy(h,O)):(O.next=x.next,h.pending=x.next=O)}}function Gy(c,h){var x=h.action,b=h.payload,T=c.state;if(h.isTransition){var O=Z.T,K={};Z.T=K;try{var de=x(T,b),Re=Z.S;Re!==null&&Re(K,de),pg(c,h,de)}catch(tt){Pu(c,h,tt)}finally{O!==null&&K.types!==null&&(O.types=K.types),Z.T=O}}else try{O=x(T,b),pg(c,h,O)}catch(tt){Pu(c,h,tt)}}function pg(c,h,x){x!==null&&typeof x=="object"&&typeof x.then=="function"?x.then(function(b){Ky(c,h,b)},function(b){return Pu(c,h,b)}):Ky(c,h,x)}function Ky(c,h,x){h.status="fulfilled",h.value=x,sp(h),c.state=x,h=c.pending,h!==null&&(x=h.next,x===h?c.pending=null:(x=x.next,h.next=x,Gy(c,x)))}function Pu(c,h,x){var b=c.pending;if(c.pending=null,b!==null){b=b.next;do h.status="rejected",h.reason=x,sp(h),h=h.next;while(h!==b)}c.action=null}function sp(c){c=c.listeners;for(var h=0;h<c.length;h++)(0,c[h])()}function _f(c,h){return h}function sc(c,h){if(Zr){var x=ia.formState;if(x!==null){e:{var b=ur;if(Zr){if(aa){t:{for(var T=aa,O=Ca;T.nodeType!==8;){if(!O){T=null;break t}if(T=ac(T.nextSibling),T===null){T=null;break t}}O=T.data,T=O==="F!"||O==="F"?T:null}if(T){aa=ac(T.nextSibling),b=T.data==="F!";break e}}Dd(b)}b=!1}b&&(h=x[0])}}return x=wn(),x.memoizedState=x.baseState=h,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_f,lastRenderedState:h},x.queue=b,x=NT.bind(null,ur,b),b.dispatch=x,b=zd(!1),O=Yw.bind(null,ur,!1,b.queue),b=wn(),T={state:h,dispatch:null,action:c,pending:null},b.queue=T,x=Wy.bind(null,ur,T,O,x),T.dispatch=x,b.memoizedState=c,[h,x,!1]}function Jc(c){var h=Ta();return Qc(h,fr,c)}function Qc(c,h,x){if(h=Jh(c,h,_f)[0],c=ep(rc)[0],typeof h=="object"&&h!==null&&typeof h.then=="function")try{var b=Ud(h)}catch(K){throw K===Fe?_e:K}else b=h;h=Ta();var T=h.queue,O=T.dispatch;return x!==h.memoizedState&&(ur.flags|=2048,Du(9,{destroy:void 0},ap.bind(null,T,x),null)),[b,O,c]}function ap(c,h){c.action=h}function np(c){var h=Ta(),x=fr;if(x!==null)return Qc(h,x,c);Ta(),h=h.memoizedState,x=Ta();var b=x.queue.dispatch;return x.memoizedState=c,[h,b,!1]}function Du(c,h,x,b){return c={tag:c,create:x,deps:b,inst:h,next:null},h=ur.updateQueue,h===null&&(h=Sf(),ur.updateQueue=h),x=h.lastEffect,x===null?h.lastEffect=c.next=c:(b=x.next,x.next=c,c.next=b,h.lastEffect=c),c}function Yy(){return Ta().memoizedState}function Qh(c,h,x,b){var T=wn();ur.flags|=c,T.memoizedState=Du(1|h,{destroy:void 0},x,b===void 0?null:b)}function em(c,h,x,b){var T=Ta();b=b===void 0?null:b;var O=T.memoizedState.inst;fr!==null&&b!==null&&og(b,fr.memoizedState.deps)?T.memoizedState=Du(h,O,x,b):(ur.flags|=c,T.memoizedState=Du(1|h,O,x,b))}function oT(c,h){Qh(8390656,8,c,h)}function qw(c,h){em(2048,8,c,h)}function PG(c){ur.flags|=4;var h=ur.updateQueue;if(h===null)h=Sf(),ur.updateQueue=h,h.events=[c];else{var x=h.events;x===null?h.events=[c]:x.push(c)}}function cT(c){var h=Ta().memoizedState;return PG({ref:h,nextImpl:c}),function(){if((Ts&2)!==0)throw Error(a(440));return h.impl.apply(void 0,arguments)}}function dT(c,h){return em(4,2,c,h)}function uT(c,h){return em(4,4,c,h)}function hT(c,h){if(typeof h=="function"){c=c();var x=h(c);return function(){typeof x=="function"?x():h(null)}}if(h!=null)return c=c(),h.current=c,function(){h.current=null}}function mT(c,h,x){x=x!=null?x.concat([c]):null,em(4,4,hT.bind(null,h,c),x)}function Vw(){}function fT(c,h){var x=Ta();h=h===void 0?null:h;var b=x.memoizedState;return h!==null&&og(h,b[1])?b[0]:(x.memoizedState=[c,h],c)}function pT(c,h){var x=Ta();h=h===void 0?null:h;var b=x.memoizedState;if(h!==null&&og(h,b[1]))return b[0];if(b=c(),Ci){mr(!0);try{c()}finally{mr(!1)}}return x.memoizedState=[b,h],b}function Ww(c,h,x){return x===void 0||(ka&1073741824)!==0&&(es&261930)===0?c.memoizedState=h:(c.memoizedState=x,c=xE(),ur.lanes|=c,sm|=c,x)}function xT(c,h,x,b){return Un(x,h)?x:$r.current!==null?(c=Ww(c,x,b),Un(c,h)||(Sn=!0),c):(ka&42)===0||(ka&1073741824)!==0&&(es&261930)===0?(Sn=!0,c.memoizedState=x):(c=xE(),ur.lanes|=c,sm|=c,h)}function gT(c,h,x,b,T){var O=ie.p;ie.p=O!==0&&8>O?O:8;var K=Z.T,de={};Z.T=de,Yw(c,!1,h,x);try{var Re=T(),tt=Z.S;if(tt!==null&&tt(de,Re),Re!==null&&typeof Re=="object"&&typeof Re.then=="function"){var xt=Q(Re,b);xg(c,h,xt,No(c))}else xg(c,h,b,No(c))}catch(wt){xg(c,h,{then:function(){},status:"rejected",reason:wt},No())}finally{ie.p=O,K!==null&&de.types!==null&&(K.types=de.types),Z.T=K}}function DG(){}function Gw(c,h,x,b){if(c.tag!==5)throw Error(a(476));var T=vT(c).queue;gT(c,T,h,G,x===null?DG:function(){return yT(c),x(b)})}function vT(c){var h=c.memoizedState;if(h!==null)return h;h={memoizedState:G,baseState:G,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rc,lastRenderedState:G},next:null};var x={};return h.next={memoizedState:x,baseState:x,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rc,lastRenderedState:x},next:null},c.memoizedState=h,c=c.alternate,c!==null&&(c.memoizedState=h),h}function yT(c){var h=vT(c);h.next===null&&(h=c.alternate.memoizedState),xg(c,h.next.queue,{},No())}function Kw(){return qn(Dg)}function bT(){return Ta().memoizedState}function jT(){return Ta().memoizedState}function RG(c){for(var h=c.return;h!==null;){switch(h.tag){case 24:case 3:var x=No();c=yr(x);var b=Rr(h,c,x);b!==null&&(Wl(b,h,x),Cs(b,h,x)),h={cache:Zh()},c.payload=h;return}h=h.return}}function MG(c,h,x){var b=No();x={lane:b,revertLane:0,gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null},Zy(c)?wT(h,x):(x=U0(c,h,x,b),x!==null&&(Wl(x,c,b),ST(x,h,b)))}function NT(c,h,x){var b=No();xg(c,h,x,b)}function xg(c,h,x,b){var T={lane:b,revertLane:0,gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null};if(Zy(c))wT(h,T);else{var O=c.alternate;if(c.lanes===0&&(O===null||O.lanes===0)&&(O=h.lastRenderedReducer,O!==null))try{var K=h.lastRenderedState,de=O(K,x);if(T.hasEagerState=!0,T.eagerState=de,Un(de,K))return gf(c,h,T,0),ia===null&&xf(),!1}catch{}if(x=U0(c,h,T,b),x!==null)return Wl(x,c,b),ST(x,h,b),!0}return!1}function Yw(c,h,x,b){if(b={lane:2,revertLane:C5(),gesture:null,action:b,hasEagerState:!1,eagerState:null,next:null},Zy(c)){if(h)throw Error(a(479))}else h=U0(c,x,b,2),h!==null&&Wl(h,c,2)}function Zy(c){var h=c.alternate;return c===ur||h!==null&&h===ur}function wT(c,h){zl=qi=!0;var x=c.pending;x===null?h.next=h:(h.next=x.next,x.next=h),c.pending=h}function ST(c,h,x){if((x&4194048)!==0){var b=h.lanes;b&=c.pendingLanes,x|=b,h.lanes=x,In(c,x)}}var gg={readContext:qn,use:Xh,useCallback:Js,useContext:Js,useEffect:Js,useImperativeHandle:Js,useLayoutEffect:Js,useInsertionEffect:Js,useMemo:Js,useReducer:Js,useRef:Js,useState:Js,useDebugValue:Js,useDeferredValue:Js,useTransition:Js,useSyncExternalStore:Js,useId:Js,useHostTransitionStatus:Js,useFormState:Js,useActionState:Js,useOptimistic:Js,useMemoCache:Js,useCacheRefresh:Js};gg.useEffectEvent=Js;var _T={readContext:qn,use:Xh,useCallback:function(c,h){return wn().memoizedState=[c,h===void 0?null:h],c},useContext:qn,useEffect:oT,useImperativeHandle:function(c,h,x){x=x!=null?x.concat([c]):null,Qh(4194308,4,hT.bind(null,h,c),x)},useLayoutEffect:function(c,h){return Qh(4194308,4,c,h)},useInsertionEffect:function(c,h){Qh(4,2,c,h)},useMemo:function(c,h){var x=wn();h=h===void 0?null:h;var b=c();if(Ci){mr(!0);try{c()}finally{mr(!1)}}return x.memoizedState=[b,h],b},useReducer:function(c,h,x){var b=wn();if(x!==void 0){var T=x(h);if(Ci){mr(!0);try{x(h)}finally{mr(!1)}}}else T=h;return b.memoizedState=b.baseState=T,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:T},b.queue=c,c=c.dispatch=MG.bind(null,ur,c),[b.memoizedState,c]},useRef:function(c){var h=wn();return c={current:c},h.memoizedState=c},useState:function(c){c=zd(c);var h=c.queue,x=NT.bind(null,ur,h);return h.dispatch=x,[c.memoizedState,x]},useDebugValue:Vw,useDeferredValue:function(c,h){var x=wn();return Ww(x,c,h)},useTransition:function(){var c=zd(!1);return c=gT.bind(null,ur,c.queue,!0,!1),wn().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,h,x){var b=ur,T=wn();if(Zr){if(x===void 0)throw Error(a(407));x=x()}else{if(x=h(),ia===null)throw Error(a(349));(es&127)!==0||Xc(b,h,x)}T.memoizedState=x;var O={value:x,getSnapshot:h};return T.queue=O,oT(mg.bind(null,b,O,c),[c]),b.flags|=2048,Du(9,{destroy:void 0},hg.bind(null,b,O,x,h),null),x},useId:function(){var c=wn(),h=ia.identifierPrefix;if(Zr){var x=Bl,b=Fl;x=(b&~(1<<32-Lr(b)-1)).toString(32)+x,h="_"+h+"R_"+x,x=Xa++,0<x&&(h+="H"+x.toString(32)),h+="_"}else x=X0++,h="_"+h+"r_"+x.toString(32)+"_";return c.memoizedState=h},useHostTransitionStatus:Kw,useFormState:sc,useActionState:sc,useOptimistic:function(c){var h=wn();h.memoizedState=h.baseState=c;var x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=x,h=Yw.bind(null,ur,!0,x),x.dispatch=h,[c,h]},useMemoCache:Ou,useCacheRefresh:function(){return wn().memoizedState=RG.bind(null,ur)},useEffectEvent:function(c){var h=wn(),x={impl:c};return h.memoizedState=x,function(){if((Ts&2)!==0)throw Error(a(440));return x.impl.apply(void 0,arguments)}}},Zw={readContext:qn,use:Xh,useCallback:fT,useContext:qn,useEffect:qw,useImperativeHandle:mT,useInsertionEffect:dT,useLayoutEffect:uT,useMemo:pT,useReducer:ep,useRef:Yy,useState:function(){return ep(rc)},useDebugValue:Vw,useDeferredValue:function(c,h){var x=Ta();return xT(x,fr.memoizedState,c,h)},useTransition:function(){var c=ep(rc)[0],h=Ta().memoizedState;return[typeof c=="boolean"?c:Ud(c),h]},useSyncExternalStore:rp,useId:bT,useHostTransitionStatus:Kw,useFormState:Jc,useActionState:Jc,useOptimistic:function(c,h){var x=Ta();return Vy(x,fr,c,h)},useMemoCache:Ou,useCacheRefresh:jT};Zw.useEffectEvent=cT;var AT={readContext:qn,use:Xh,useCallback:fT,useContext:qn,useEffect:qw,useImperativeHandle:mT,useInsertionEffect:dT,useLayoutEffect:uT,useMemo:pT,useReducer:tp,useRef:Yy,useState:function(){return tp(rc)},useDebugValue:Vw,useDeferredValue:function(c,h){var x=Ta();return fr===null?Ww(x,c,h):xT(x,fr.memoizedState,c,h)},useTransition:function(){var c=tp(rc)[0],h=Ta().memoizedState;return[typeof c=="boolean"?c:Ud(c),h]},useSyncExternalStore:rp,useId:bT,useHostTransitionStatus:Kw,useFormState:np,useActionState:np,useOptimistic:function(c,h){var x=Ta();return fr!==null?Vy(x,fr,c,h):(x.baseState=c,[c,x.queue.dispatch])},useMemoCache:Ou,useCacheRefresh:jT};AT.useEffectEvent=cT;function Xw(c,h,x,b){h=c.memoizedState,x=x(b,h),x=x==null?h:f({},h,x),c.memoizedState=x,c.lanes===0&&(c.updateQueue.baseState=x)}var Jw={enqueueSetState:function(c,h,x){c=c._reactInternals;var b=No(),T=yr(b);T.payload=h,x!=null&&(T.callback=x),h=Rr(c,T,b),h!==null&&(Wl(h,c,b),Cs(h,c,b))},enqueueReplaceState:function(c,h,x){c=c._reactInternals;var b=No(),T=yr(b);T.tag=1,T.payload=h,x!=null&&(T.callback=x),h=Rr(c,T,b),h!==null&&(Wl(h,c,b),Cs(h,c,b))},enqueueForceUpdate:function(c,h){c=c._reactInternals;var x=No(),b=yr(x);b.tag=2,h!=null&&(b.callback=h),h=Rr(c,b,x),h!==null&&(Wl(h,c,x),Cs(h,c,x))}};function CT(c,h,x,b,T,O,K){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(b,O,K):h.prototype&&h.prototype.isPureReactComponent?!qc(x,b)||!qc(T,O):!0}function kT(c,h,x,b){c=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(x,b),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(x,b),h.state!==c&&Jw.enqueueReplaceState(h,h.state,null)}function Af(c,h){var x=h;if("ref"in h){x={};for(var b in h)b!=="ref"&&(x[b]=h[b])}if(c=c.defaultProps){x===h&&(x=f({},x));for(var T in c)x[T]===void 0&&(x[T]=c[T])}return x}function TT(c){pf(c)}function ET(c){console.error(c)}function OT(c){pf(c)}function Xy(c,h){try{var x=c.onUncaughtError;x(h.value,{componentStack:h.stack})}catch(b){setTimeout(function(){throw b})}}function PT(c,h,x){try{var b=c.onCaughtError;b(x.value,{componentStack:x.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function Qw(c,h,x){return x=yr(x),x.tag=3,x.payload={element:null},x.callback=function(){Xy(c,h)},x}function DT(c){return c=yr(c),c.tag=3,c}function RT(c,h,x,b){var T=x.type.getDerivedStateFromError;if(typeof T=="function"){var O=b.value;c.payload=function(){return T(O)},c.callback=function(){PT(h,x,b)}}var K=x.stateNode;K!==null&&typeof K.componentDidCatch=="function"&&(c.callback=function(){PT(h,x,b),typeof T!="function"&&(am===null?am=new Set([this]):am.add(this));var de=b.stack;this.componentDidCatch(b.value,{componentStack:de!==null?de:""})})}function LG(c,h,x,b,T){if(x.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(h=x.alternate,h!==null&&Ld(h,x,T,!0),x=ya.current,x!==null){switch(x.tag){case 31:case 13:return ds===null?cb():x.alternate===null&&Ja===0&&(Ja=3),x.flags&=-257,x.flags|=65536,x.lanes=T,b===Ue?x.flags|=16384:(h=x.updateQueue,h===null?x.updateQueue=new Set([b]):h.add(b),S5(c,b,T)),!1;case 22:return x.flags|=65536,b===Ue?x.flags|=16384:(h=x.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([b])},x.updateQueue=h):(x=h.retryQueue,x===null?h.retryQueue=new Set([b]):x.add(b)),S5(c,b,T)),!1}throw Error(a(435,x.tag))}return S5(c,b,T),cb(),!1}if(Zr)return h=ya.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=T,b!==yo&&(c=Error(a(422),{cause:b}),Kh(Ml(c,x)))):(b!==yo&&(h=Error(a(423),{cause:b}),Kh(Ml(h,x))),c=c.current.alternate,c.flags|=65536,T&=-T,c.lanes|=T,b=Ml(b,x),T=Qw(c.stateNode,b,T),un(c,T),Ja!==4&&(Ja=2)),!1;var O=Error(a(520),{cause:b});if(O=Ml(O,x),_g===null?_g=[O]:_g.push(O),Ja!==4&&(Ja=2),h===null)return!0;b=Ml(b,x),x=h;do{switch(x.tag){case 3:return x.flags|=65536,c=T&-T,x.lanes|=c,c=Qw(x.stateNode,b,c),un(x,c),!1;case 1:if(h=x.type,O=x.stateNode,(x.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(am===null||!am.has(O))))return x.flags|=65536,T&=-T,x.lanes|=T,T=DT(T),RT(T,c,x,b),un(x,T),!1}x=x.return}while(x!==null);return!1}var e5=Error(a(461)),Sn=!1;function ki(c,h,x,b){h.child=c===null?Or(h,null,x,b):na(h,c.child,x,b)}function MT(c,h,x,b,T){x=x.render;var O=h.ref;if("ref"in b){var K={};for(var de in b)de!=="ref"&&(K[de]=b[de])}else K=b;return Id(h),b=cg(c,h,x,K,O,T),de=dg(),c!==null&&!Sn?(ug(c,h,T),Ru(c,h,T)):(Zr&&de&&ng(h),h.flags|=1,ki(c,h,b,T),h.child)}function LT(c,h,x,b,T){if(c===null){var O=x.type;return typeof O=="function"&&!$0(O)&&O.defaultProps===void 0&&x.compare===null?(h.tag=15,h.type=O,IT(c,h,O,b,T)):(c=Vh(x.type,null,b,h,h.mode,T),c.ref=h.ref,c.return=h,h.child=c)}if(O=c.child,!o5(c,T)){var K=O.memoizedProps;if(x=x.compare,x=x!==null?x:qc,x(K,b)&&c.ref===h.ref)return Ru(c,h,T)}return h.flags|=1,c=Rl(O,b),c.ref=h.ref,c.return=h,h.child=c}function IT(c,h,x,b,T){if(c!==null){var O=c.memoizedProps;if(qc(O,b)&&c.ref===h.ref)if(Sn=!1,h.pendingProps=b=O,o5(c,T))(c.flags&131072)!==0&&(Sn=!0);else return h.lanes=c.lanes,Ru(c,h,T)}return t5(c,h,x,b,T)}function FT(c,h,x,b){var T=b.children,O=c!==null?c.memoizedState:null;if(c===null&&h.stateNode===null&&(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),b.mode==="hidden"){if((h.flags&128)!==0){if(O=O!==null?O.baseLanes|x:x,c!==null){for(b=h.child=c.child,T=0;b!==null;)T=T|b.lanes|b.childLanes,b=b.sibling;b=T&~O}else b=0,h.child=null;return BT(c,h,O,x,b)}if((x&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},c!==null&&ve(h,O!==null?O.cachePool:null),O!==null?va(h,O):xs(),Ya(h);else return b=h.lanes=536870912,BT(c,h,O!==null?O.baseLanes|x:x,x,b)}else O!==null?(ve(h,O.cachePool),va(h,O),Za(),h.memoizedState=null):(c!==null&&ve(h,null),xs(),Za());return ki(c,h,T,x),h.child}function vg(c,h){return c!==null&&c.tag===22||h.stateNode!==null||(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.sibling}function BT(c,h,x,b,T){var O=me();return O=O===null?null:{parent:Ua._currentValue,pool:O},h.memoizedState={baseLanes:x,cachePool:O},c!==null&&ve(h,null),xs(),Ya(h),c!==null&&Ld(c,h,b,!0),h.childLanes=T,null}function Jy(c,h){return h=eb({mode:h.mode,children:h.children},c.mode),h.ref=c.ref,c.child=h,h.return=c,h}function UT(c,h,x){return na(h,c.child,null,x),c=Jy(h,h.pendingProps),c.flags|=2,Ls(h),h.memoizedState=null,c}function IG(c,h,x){var b=h.pendingProps,T=(h.flags&128)!==0;if(h.flags&=-129,c===null){if(Zr){if(b.mode==="hidden")return c=Jy(h,b),h.lanes=536870912,vg(null,c);if(ks(h),(c=aa)?(c=JE(c,Ca),c=c!==null&&c.data==="&"?c:null,c!==null&&(h.memoizedState={dehydrated:c,treeContext:Pd!==null?{id:Fl,overflow:Bl}:null,retryLane:536870912,hydrationErrors:null},x=H0(c),x.return=h,h.child=x,$n=h,aa=null)):c=null,c===null)throw Dd(h);return h.lanes=536870912,null}return Jy(h,b)}var O=c.memoizedState;if(O!==null){var K=O.dehydrated;if(ks(h),T)if(h.flags&256)h.flags&=-257,h=UT(c,h,x);else if(h.memoizedState!==null)h.child=c.child,h.flags|=128,h=null;else throw Error(a(558));else if(Sn||Ld(c,h,x,!1),T=(x&c.childLanes)!==0,Sn||T){if(b=ia,b!==null&&(K=bi(b,x),K!==0&&K!==O.retryLane))throw O.retryLane=K,Kc(c,K),Wl(b,c,K),e5;cb(),h=UT(c,h,x)}else c=O.treeContext,aa=ac(K.nextSibling),$n=h,Zr=!0,Ai=null,Ca=!1,c!==null&&$y(h,c),h=Jy(h,b),h.flags|=4096;return h}return c=Rl(c.child,{mode:b.mode,children:b.children}),c.ref=h.ref,h.child=c,c.return=h,c}function Qy(c,h){var x=h.ref;if(x===null)c!==null&&c.ref!==null&&(h.flags|=4194816);else{if(typeof x!="function"&&typeof x!="object")throw Error(a(284));(c===null||c.ref!==x)&&(h.flags|=4194816)}}function t5(c,h,x,b,T){return Id(h),x=cg(c,h,x,b,void 0,T),b=dg(),c!==null&&!Sn?(ug(c,h,T),Ru(c,h,T)):(Zr&&b&&ng(h),h.flags|=1,ki(c,h,x,T),h.child)}function zT(c,h,x,b,T,O){return Id(h),h.updateQueue=null,x=Zc(h,b,x,T),J0(c),b=dg(),c!==null&&!Sn?(ug(c,h,O),Ru(c,h,O)):(Zr&&b&&ng(h),h.flags|=1,ki(c,h,x,O),h.child)}function $T(c,h,x,b,T){if(Id(h),h.stateNode===null){var O=zn,K=x.contextType;typeof K=="object"&&K!==null&&(O=qn(K)),O=new x(b,O),h.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,O.updater=Jw,h.stateNode=O,O._reactInternals=h,O=h.stateNode,O.props=b,O.state=h.memoizedState,O.refs={},Ut(h),K=x.contextType,O.context=typeof K=="object"&&K!==null?qn(K):zn,O.state=h.memoizedState,K=x.getDerivedStateFromProps,typeof K=="function"&&(Xw(h,x,K,b),O.state=h.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(K=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),K!==O.state&&Jw.enqueueReplaceState(O,O.state,null),Ga(h,b,O,T),Xs(),O.state=h.memoizedState),typeof O.componentDidMount=="function"&&(h.flags|=4194308),b=!0}else if(c===null){O=h.stateNode;var de=h.memoizedProps,Re=Af(x,de);O.props=Re;var tt=O.context,xt=x.contextType;K=zn,typeof xt=="object"&&xt!==null&&(K=qn(xt));var wt=x.getDerivedStateFromProps;xt=typeof wt=="function"||typeof O.getSnapshotBeforeUpdate=="function",de=h.pendingProps!==de,xt||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(de||tt!==K)&&kT(h,O,b,K),Wt=!1;var nt=h.memoizedState;O.state=nt,Ga(h,b,O,T),Xs(),tt=h.memoizedState,de||nt!==tt||Wt?(typeof wt=="function"&&(Xw(h,x,wt,b),tt=h.memoizedState),(Re=Wt||CT(h,x,Re,b,nt,tt,K))?(xt||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(h.flags|=4194308)):(typeof O.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=b,h.memoizedState=tt),O.props=b,O.state=tt,O.context=K,b=Re):(typeof O.componentDidMount=="function"&&(h.flags|=4194308),b=!1)}else{O=h.stateNode,ga(c,h),K=h.memoizedProps,xt=Af(x,K),O.props=xt,wt=h.pendingProps,nt=O.context,tt=x.contextType,Re=zn,typeof tt=="object"&&tt!==null&&(Re=qn(tt)),de=x.getDerivedStateFromProps,(tt=typeof de=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(K!==wt||nt!==Re)&&kT(h,O,b,Re),Wt=!1,nt=h.memoizedState,O.state=nt,Ga(h,b,O,T),Xs();var ct=h.memoizedState;K!==wt||nt!==ct||Wt||c!==null&&c.dependencies!==null&&K0(c.dependencies)?(typeof de=="function"&&(Xw(h,x,de,b),ct=h.memoizedState),(xt=Wt||CT(h,x,xt,b,nt,ct,Re)||c!==null&&c.dependencies!==null&&K0(c.dependencies))?(tt||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(b,ct,Re),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(b,ct,Re)),typeof O.componentDidUpdate=="function"&&(h.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof O.componentDidUpdate!="function"||K===c.memoizedProps&&nt===c.memoizedState||(h.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||K===c.memoizedProps&&nt===c.memoizedState||(h.flags|=1024),h.memoizedProps=b,h.memoizedState=ct),O.props=b,O.state=ct,O.context=Re,b=xt):(typeof O.componentDidUpdate!="function"||K===c.memoizedProps&&nt===c.memoizedState||(h.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||K===c.memoizedProps&&nt===c.memoizedState||(h.flags|=1024),b=!1)}return O=b,Qy(c,h),b=(h.flags&128)!==0,O||b?(O=h.stateNode,x=b&&typeof x.getDerivedStateFromError!="function"?null:O.render(),h.flags|=1,c!==null&&b?(h.child=na(h,c.child,null,T),h.child=na(h,null,x,T)):ki(c,h,x,T),h.memoizedState=O.state,c=h.child):c=Ru(c,h,T),c}function HT(c,h,x,b){return Tu(),h.flags|=256,ki(c,h,x,b),h.child}var r5={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function s5(c){return{baseLanes:c,cachePool:Ae()}}function a5(c,h,x){return c=c!==null?c.childLanes&~x:0,h&&(c|=jo),c}function qT(c,h,x){var b=h.pendingProps,T=!1,O=(h.flags&128)!==0,K;if((K=O)||(K=c!==null&&c.memoizedState===null?!1:(ns.current&2)!==0),K&&(T=!0,h.flags&=-129),K=(h.flags&32)!==0,h.flags&=-33,c===null){if(Zr){if(T?za(h):Za(),(c=aa)?(c=JE(c,Ca),c=c!==null&&c.data!=="&"?c:null,c!==null&&(h.memoizedState={dehydrated:c,treeContext:Pd!==null?{id:Fl,overflow:Bl}:null,retryLane:536870912,hydrationErrors:null},x=H0(c),x.return=h,h.child=x,$n=h,aa=null)):c=null,c===null)throw Dd(h);return U5(c)?h.lanes=32:h.lanes=536870912,null}var de=b.children;return b=b.fallback,T?(Za(),T=h.mode,de=eb({mode:"hidden",children:de},T),b=Od(b,T,x,null),de.return=h,b.return=h,de.sibling=b,h.child=de,b=h.child,b.memoizedState=s5(x),b.childLanes=a5(c,K,x),h.memoizedState=r5,vg(null,b)):(za(h),n5(h,de))}var Re=c.memoizedState;if(Re!==null&&(de=Re.dehydrated,de!==null)){if(O)h.flags&256?(za(h),h.flags&=-257,h=i5(c,h,x)):h.memoizedState!==null?(Za(),h.child=c.child,h.flags|=128,h=null):(Za(),de=b.fallback,T=h.mode,b=eb({mode:"visible",children:b.children},T),de=Od(de,T,x,null),de.flags|=2,b.return=h,de.return=h,b.sibling=de,h.child=b,na(h,c.child,null,x),b=h.child,b.memoizedState=s5(x),b.childLanes=a5(c,K,x),h.memoizedState=r5,h=vg(null,b));else if(za(h),U5(de)){if(K=de.nextSibling&&de.nextSibling.dataset,K)var tt=K.dgst;K=tt,b=Error(a(419)),b.stack="",b.digest=K,Kh({value:b,source:null,stack:null}),h=i5(c,h,x)}else if(Sn||Ld(c,h,x,!1),K=(x&c.childLanes)!==0,Sn||K){if(K=ia,K!==null&&(b=bi(K,x),b!==0&&b!==Re.retryLane))throw Re.retryLane=b,Kc(c,b),Wl(K,c,b),e5;B5(de)||cb(),h=i5(c,h,x)}else B5(de)?(h.flags|=192,h.child=c.child,h=null):(c=Re.treeContext,aa=ac(de.nextSibling),$n=h,Zr=!0,Ai=null,Ca=!1,c!==null&&$y(h,c),h=n5(h,b.children),h.flags|=4096);return h}return T?(Za(),de=b.fallback,T=h.mode,Re=c.child,tt=Re.sibling,b=Rl(Re,{mode:"hidden",children:b.children}),b.subtreeFlags=Re.subtreeFlags&65011712,tt!==null?de=Rl(tt,de):(de=Od(de,T,x,null),de.flags|=2),de.return=h,b.return=h,b.sibling=de,h.child=b,vg(null,b),b=h.child,de=c.child.memoizedState,de===null?de=s5(x):(T=de.cachePool,T!==null?(Re=Ua._currentValue,T=T.parent!==Re?{parent:Re,pool:Re}:T):T=Ae(),de={baseLanes:de.baseLanes|x,cachePool:T}),b.memoizedState=de,b.childLanes=a5(c,K,x),h.memoizedState=r5,vg(c.child,b)):(za(h),x=c.child,c=x.sibling,x=Rl(x,{mode:"visible",children:b.children}),x.return=h,x.sibling=null,c!==null&&(K=h.deletions,K===null?(h.deletions=[c],h.flags|=16):K.push(c)),h.child=x,h.memoizedState=null,x)}function n5(c,h){return h=eb({mode:"visible",children:h},c.mode),h.return=c,c.child=h}function eb(c,h){return c=ii(22,c,null,h),c.lanes=0,c}function i5(c,h,x){return na(h,c.child,null,x),c=n5(h,h.pendingProps.children),c.flags|=2,h.memoizedState=null,c}function VT(c,h,x){c.lanes|=h;var b=c.alternate;b!==null&&(b.lanes|=h),Yh(c.return,h,x)}function l5(c,h,x,b,T,O){var K=c.memoizedState;K===null?c.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:b,tail:x,tailMode:T,treeForkCount:O}:(K.isBackwards=h,K.rendering=null,K.renderingStartTime=0,K.last=b,K.tail=x,K.tailMode=T,K.treeForkCount=O)}function WT(c,h,x){var b=h.pendingProps,T=b.revealOrder,O=b.tail;b=b.children;var K=ns.current,de=(K&2)!==0;if(de?(K=K&1|2,h.flags|=128):K&=1,H(ns,K),ki(c,h,b,x),b=Zr?jf:0,!de&&c!==null&&(c.flags&128)!==0)e:for(c=h.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&VT(c,x,h);else if(c.tag===19)VT(c,x,h);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===h)break e;for(;c.sibling===null;){if(c.return===null||c.return===h)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}switch(T){case"forwards":for(x=h.child,T=null;x!==null;)c=x.alternate,c!==null&&oi(c)===null&&(T=x),x=x.sibling;x=T,x===null?(T=h.child,h.child=null):(T=x.sibling,x.sibling=null),l5(h,!1,T,x,O,b);break;case"backwards":case"unstable_legacy-backwards":for(x=null,T=h.child,h.child=null;T!==null;){if(c=T.alternate,c!==null&&oi(c)===null){h.child=T;break}c=T.sibling,T.sibling=x,x=T,T=c}l5(h,!0,x,null,O,b);break;case"together":l5(h,!1,null,null,void 0,b);break;default:h.memoizedState=null}return h.child}function Ru(c,h,x){if(c!==null&&(h.dependencies=c.dependencies),sm|=h.lanes,(x&h.childLanes)===0)if(c!==null){if(Ld(c,h,x,!1),(x&h.childLanes)===0)return null}else return null;if(c!==null&&h.child!==c.child)throw Error(a(153));if(h.child!==null){for(c=h.child,x=Rl(c,c.pendingProps),h.child=x,x.return=h;c.sibling!==null;)c=c.sibling,x=x.sibling=Rl(c,c.pendingProps),x.return=h;x.sibling=null}return h.child}function o5(c,h){return(c.lanes&h)!==0?!0:(c=c.dependencies,!!(c!==null&&K0(c)))}function FG(c,h,x){switch(h.tag){case 3:Pe(h,h.stateNode.containerInfo),Md(h,Ua,c.memoizedState.cache),Tu();break;case 27:case 5:ye(h);break;case 4:Pe(h,h.stateNode.containerInfo);break;case 10:Md(h,h.type,h.memoizedProps.value);break;case 31:if(h.memoizedState!==null)return h.flags|=128,ks(h),null;break;case 13:var b=h.memoizedState;if(b!==null)return b.dehydrated!==null?(za(h),h.flags|=128,null):(x&h.child.childLanes)!==0?qT(c,h,x):(za(h),c=Ru(c,h,x),c!==null?c.sibling:null);za(h);break;case 19:var T=(c.flags&128)!==0;if(b=(x&h.childLanes)!==0,b||(Ld(c,h,x,!1),b=(x&h.childLanes)!==0),T){if(b)return WT(c,h,x);h.flags|=128}if(T=h.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),H(ns,ns.current),b)break;return null;case 22:return h.lanes=0,FT(c,h,x,h.pendingProps);case 24:Md(h,Ua,c.memoizedState.cache)}return Ru(c,h,x)}function GT(c,h,x){if(c!==null)if(c.memoizedProps!==h.pendingProps)Sn=!0;else{if(!o5(c,x)&&(h.flags&128)===0)return Sn=!1,FG(c,h,x);Sn=(c.flags&131072)!==0}else Sn=!1,Zr&&(h.flags&1048576)!==0&&zy(h,jf,h.index);switch(h.lanes=0,h.tag){case 16:e:{var b=h.pendingProps;if(c=Ke(h.elementType),h.type=c,typeof c=="function")$0(c)?(b=Af(c,b),h.tag=1,h=$T(null,h,c,b,x)):(h.tag=0,h=t5(null,h,c,b,x));else{if(c!=null){var T=c.$$typeof;if(T===A){h.tag=11,h=MT(null,h,c,b,x);break e}else if(T===R){h.tag=14,h=LT(null,h,c,b,x);break e}}throw h=te(c)||c,Error(a(306,h,""))}}return h;case 0:return t5(c,h,h.type,h.pendingProps,x);case 1:return b=h.type,T=Af(b,h.pendingProps),$T(c,h,b,T,x);case 3:e:{if(Pe(h,h.stateNode.containerInfo),c===null)throw Error(a(387));b=h.pendingProps;var O=h.memoizedState;T=O.element,ga(c,h),Ga(h,b,null,x);var K=h.memoizedState;if(b=K.cache,Md(h,Ua,b),b!==O.cache&&Eu(h,[Ua],x,!0),Xs(),b=K.element,O.isDehydrated)if(O={element:b,isDehydrated:!1,cache:K.cache},h.updateQueue.baseState=O,h.memoizedState=O,h.flags&256){h=HT(c,h,b,x);break e}else if(b!==T){T=Ml(Error(a(424)),h),Kh(T),h=HT(c,h,b,x);break e}else for(c=h.stateNode.containerInfo,c.nodeType===9?c=c.body:c=c.nodeName==="HTML"?c.ownerDocument.body:c,aa=ac(c.firstChild),$n=h,Zr=!0,Ai=null,Ca=!0,x=Or(h,null,b,x),h.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(Tu(),b===T){h=Ru(c,h,x);break e}ki(c,h,b,x)}h=h.child}return h;case 26:return Qy(c,h),c===null?(x=aO(h.type,null,h.pendingProps,null))?h.memoizedState=x:Zr||(x=h.type,c=h.pendingProps,b=xb(le.current).createElement(x),b[ge]=h,b[we]=c,Ti(b,x,c),Gt(b),h.stateNode=b):h.memoizedState=aO(h.type,c.memoizedProps,h.pendingProps,c.memoizedState),null;case 27:return ye(h),c===null&&Zr&&(b=h.stateNode=tO(h.type,h.pendingProps,le.current),$n=h,Ca=!0,T=aa,om(h.type)?(z5=T,aa=ac(b.firstChild)):aa=T),ki(c,h,h.pendingProps.children,x),Qy(c,h),c===null&&(h.flags|=4194304),h.child;case 5:return c===null&&Zr&&((T=b=aa)&&(b=fK(b,h.type,h.pendingProps,Ca),b!==null?(h.stateNode=b,$n=h,aa=ac(b.firstChild),Ca=!1,T=!0):T=!1),T||Dd(h)),ye(h),T=h.type,O=h.pendingProps,K=c!==null?c.memoizedProps:null,b=O.children,L5(T,O)?b=null:K!==null&&L5(T,K)&&(h.flags|=32),h.memoizedState!==null&&(T=cg(c,h,Hw,null,null,x),Dg._currentValue=T),Qy(c,h),ki(c,h,b,x),h.child;case 6:return c===null&&Zr&&((c=x=aa)&&(x=pK(x,h.pendingProps,Ca),x!==null?(h.stateNode=x,$n=h,aa=null,c=!0):c=!1),c||Dd(h)),null;case 13:return qT(c,h,x);case 4:return Pe(h,h.stateNode.containerInfo),b=h.pendingProps,c===null?h.child=na(h,null,b,x):ki(c,h,b,x),h.child;case 11:return MT(c,h,h.type,h.pendingProps,x);case 7:return ki(c,h,h.pendingProps,x),h.child;case 8:return ki(c,h,h.pendingProps.children,x),h.child;case 12:return ki(c,h,h.pendingProps.children,x),h.child;case 10:return b=h.pendingProps,Md(h,h.type,b.value),ki(c,h,b.children,x),h.child;case 9:return T=h.type._context,b=h.pendingProps.children,Id(h),T=qn(T),b=b(T),h.flags|=1,ki(c,h,b,x),h.child;case 14:return LT(c,h,h.type,h.pendingProps,x);case 15:return IT(c,h,h.type,h.pendingProps,x);case 19:return WT(c,h,x);case 31:return IG(c,h,x);case 22:return FT(c,h,x,h.pendingProps);case 24:return Id(h),b=qn(Ua),c===null?(T=me(),T===null&&(T=ia,O=Zh(),T.pooledCache=O,O.refCount++,O!==null&&(T.pooledCacheLanes|=x),T=O),h.memoizedState={parent:b,cache:T},Ut(h),Md(h,Ua,T)):((c.lanes&x)!==0&&(ga(c,h),Ga(h,null,null,x),Xs()),T=c.memoizedState,O=h.memoizedState,T.parent!==b?(T={parent:b,cache:b},h.memoizedState=T,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=T),Md(h,Ua,b)):(b=O.cache,Md(h,Ua,b),b!==T.cache&&Eu(h,[Ua],x,!0))),ki(c,h,h.pendingProps.children,x),h.child;case 29:throw h.pendingProps}throw Error(a(156,h.tag))}function Mu(c){c.flags|=4}function c5(c,h,x,b,T){if((h=(c.mode&32)!==0)&&(h=!1),h){if(c.flags|=16777216,(T&335544128)===T)if(c.stateNode.complete)c.flags|=8192;else if(bE())c.flags|=8192;else throw ht=Ue,Xe}else c.flags&=-16777217}function KT(c,h){if(h.type!=="stylesheet"||(h.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!cO(h))if(bE())c.flags|=8192;else throw ht=Ue,Xe}function tb(c,h){h!==null&&(c.flags|=4),c.flags&16384&&(h=c.tag!==22?kl():536870912,c.lanes|=h,cp|=h)}function yg(c,h){if(!Zr)switch(c.tailMode){case"hidden":h=c.tail;for(var x=null;h!==null;)h.alternate!==null&&(x=h),h=h.sibling;x===null?c.tail=null:x.sibling=null;break;case"collapsed":x=c.tail;for(var b=null;x!==null;)x.alternate!==null&&(b=x),x=x.sibling;b===null?h||c.tail===null?c.tail=null:c.tail.sibling=null:b.sibling=null}}function ba(c){var h=c.alternate!==null&&c.alternate.child===c.child,x=0,b=0;if(h)for(var T=c.child;T!==null;)x|=T.lanes|T.childLanes,b|=T.subtreeFlags&65011712,b|=T.flags&65011712,T.return=c,T=T.sibling;else for(T=c.child;T!==null;)x|=T.lanes|T.childLanes,b|=T.subtreeFlags,b|=T.flags,T.return=c,T=T.sibling;return c.subtreeFlags|=b,c.childLanes=x,h}function BG(c,h,x){var b=h.pendingProps;switch(W0(h),h.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ba(h),null;case 1:return ba(h),null;case 3:return x=h.stateNode,b=null,c!==null&&(b=c.memoizedState.cache),h.memoizedState.cache!==b&&(h.flags|=2048),Ul(Ua),re(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(c===null||c.child===null)&&(Hn(h)?Mu(h):c===null||c.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,lg())),ba(h),null;case 26:var T=h.type,O=h.memoizedState;return c===null?(Mu(h),O!==null?(ba(h),KT(h,O)):(ba(h),c5(h,T,null,b,x))):O?O!==c.memoizedState?(Mu(h),ba(h),KT(h,O)):(ba(h),h.flags&=-16777217):(c=c.memoizedProps,c!==b&&Mu(h),ba(h),c5(h,T,c,b,x)),null;case 27:if(ze(h),x=le.current,T=h.type,c!==null&&h.stateNode!=null)c.memoizedProps!==b&&Mu(h);else{if(!b){if(h.stateNode===null)throw Error(a(166));return ba(h),null}c=q.current,Hn(h)?ig(h):(c=tO(T,b,x),h.stateNode=c,Mu(h))}return ba(h),null;case 5:if(ze(h),T=h.type,c!==null&&h.stateNode!=null)c.memoizedProps!==b&&Mu(h);else{if(!b){if(h.stateNode===null)throw Error(a(166));return ba(h),null}if(O=q.current,Hn(h))ig(h);else{var K=xb(le.current);switch(O){case 1:O=K.createElementNS("http://www.w3.org/2000/svg",T);break;case 2:O=K.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;default:switch(T){case"svg":O=K.createElementNS("http://www.w3.org/2000/svg",T);break;case"math":O=K.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;case"script":O=K.createElement("div"),O.innerHTML="<script><\/script>",O=O.removeChild(O.firstChild);break;case"select":O=typeof b.is=="string"?K.createElement("select",{is:b.is}):K.createElement("select"),b.multiple?O.multiple=!0:b.size&&(O.size=b.size);break;default:O=typeof b.is=="string"?K.createElement(T,{is:b.is}):K.createElement(T)}}O[ge]=h,O[we]=b;e:for(K=h.child;K!==null;){if(K.tag===5||K.tag===6)O.appendChild(K.stateNode);else if(K.tag!==4&&K.tag!==27&&K.child!==null){K.child.return=K,K=K.child;continue}if(K===h)break e;for(;K.sibling===null;){if(K.return===null||K.return===h)break e;K=K.return}K.sibling.return=K.return,K=K.sibling}h.stateNode=O;e:switch(Ti(O,T,b),T){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}b&&Mu(h)}}return ba(h),c5(h,h.type,c===null?null:c.memoizedProps,h.pendingProps,x),null;case 6:if(c&&h.stateNode!=null)c.memoizedProps!==b&&Mu(h);else{if(typeof b!="string"&&h.stateNode===null)throw Error(a(166));if(c=le.current,Hn(h)){if(c=h.stateNode,x=h.memoizedProps,b=null,T=$n,T!==null)switch(T.tag){case 27:case 5:b=T.memoizedProps}c[ge]=h,c=!!(c.nodeValue===x||b!==null&&b.suppressHydrationWarning===!0||qE(c.nodeValue,x)),c||Dd(h,!0)}else c=xb(c).createTextNode(b),c[ge]=h,h.stateNode=c}return ba(h),null;case 31:if(x=h.memoizedState,c===null||c.memoizedState!==null){if(b=Hn(h),x!==null){if(c===null){if(!b)throw Error(a(318));if(c=h.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(557));c[ge]=h}else Tu(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;ba(h),c=!1}else x=lg(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=x),c=!0;if(!c)return h.flags&256?(Ls(h),h):(Ls(h),null);if((h.flags&128)!==0)throw Error(a(558))}return ba(h),null;case 13:if(b=h.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(T=Hn(h),b!==null&&b.dehydrated!==null){if(c===null){if(!T)throw Error(a(318));if(T=h.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(a(317));T[ge]=h}else Tu(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;ba(h),T=!1}else T=lg(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=T),T=!0;if(!T)return h.flags&256?(Ls(h),h):(Ls(h),null)}return Ls(h),(h.flags&128)!==0?(h.lanes=x,h):(x=b!==null,c=c!==null&&c.memoizedState!==null,x&&(b=h.child,T=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&(T=b.alternate.memoizedState.cachePool.pool),O=null,b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(O=b.memoizedState.cachePool.pool),O!==T&&(b.flags|=2048)),x!==c&&x&&(h.child.flags|=8192),tb(h,h.updateQueue),ba(h),null);case 4:return re(),c===null&&O5(h.stateNode.containerInfo),ba(h),null;case 10:return Ul(h.type),ba(h),null;case 19:if(P(ns),b=h.memoizedState,b===null)return ba(h),null;if(T=(h.flags&128)!==0,O=b.rendering,O===null)if(T)yg(b,!1);else{if(Ja!==0||c!==null&&(c.flags&128)!==0)for(c=h.child;c!==null;){if(O=oi(c),O!==null){for(h.flags|=128,yg(b,!1),c=O.updateQueue,h.updateQueue=c,tb(h,c),h.subtreeFlags=0,c=x,x=h.child;x!==null;)yf(x,c),x=x.sibling;return H(ns,ns.current&1|2),Zr&&pl(h,b.treeForkCount),h.child}c=c.sibling}b.tail!==null&&st()>ib&&(h.flags|=128,T=!0,yg(b,!1),h.lanes=4194304)}else{if(!T)if(c=oi(O),c!==null){if(h.flags|=128,T=!0,c=c.updateQueue,h.updateQueue=c,tb(h,c),yg(b,!0),b.tail===null&&b.tailMode==="hidden"&&!O.alternate&&!Zr)return ba(h),null}else 2*st()-b.renderingStartTime>ib&&x!==536870912&&(h.flags|=128,T=!0,yg(b,!1),h.lanes=4194304);b.isBackwards?(O.sibling=h.child,h.child=O):(c=b.last,c!==null?c.sibling=O:h.child=O,b.last=O)}return b.tail!==null?(c=b.tail,b.rendering=c,b.tail=c.sibling,b.renderingStartTime=st(),c.sibling=null,x=ns.current,H(ns,T?x&1|2:x&1),Zr&&pl(h,b.treeForkCount),c):(ba(h),null);case 22:case 23:return Ls(h),hn(),b=h.memoizedState!==null,c!==null?c.memoizedState!==null!==b&&(h.flags|=8192):b&&(h.flags|=8192),b?(x&536870912)!==0&&(h.flags&128)===0&&(ba(h),h.subtreeFlags&6&&(h.flags|=8192)):ba(h),x=h.updateQueue,x!==null&&tb(h,x.retryQueue),x=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(x=c.memoizedState.cachePool.pool),b=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(b=h.memoizedState.cachePool.pool),b!==x&&(h.flags|=2048),c!==null&&P(oe),null;case 24:return x=null,c!==null&&(x=c.memoizedState.cache),h.memoizedState.cache!==x&&(h.flags|=2048),Ul(Ua),ba(h),null;case 25:return null;case 30:return null}throw Error(a(156,h.tag))}function UG(c,h){switch(W0(h),h.tag){case 1:return c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 3:return Ul(Ua),re(),c=h.flags,(c&65536)!==0&&(c&128)===0?(h.flags=c&-65537|128,h):null;case 26:case 27:case 5:return ze(h),null;case 31:if(h.memoizedState!==null){if(Ls(h),h.alternate===null)throw Error(a(340));Tu()}return c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 13:if(Ls(h),c=h.memoizedState,c!==null&&c.dehydrated!==null){if(h.alternate===null)throw Error(a(340));Tu()}return c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 19:return P(ns),null;case 4:return re(),null;case 10:return Ul(h.type),null;case 22:case 23:return Ls(h),hn(),c!==null&&P(oe),c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 24:return Ul(Ua),null;case 25:return null;default:return null}}function YT(c,h){switch(W0(h),h.tag){case 3:Ul(Ua),re();break;case 26:case 27:case 5:ze(h);break;case 4:re();break;case 31:h.memoizedState!==null&&Ls(h);break;case 13:Ls(h);break;case 19:P(ns);break;case 10:Ul(h.type);break;case 22:case 23:Ls(h),hn(),c!==null&&P(oe);break;case 24:Ul(Ua)}}function bg(c,h){try{var x=h.updateQueue,b=x!==null?x.lastEffect:null;if(b!==null){var T=b.next;x=T;do{if((x.tag&c)===c){b=void 0;var O=x.create,K=x.inst;b=O(),K.destroy=b}x=x.next}while(x!==T)}}catch(de){Fs(h,h.return,de)}}function tm(c,h,x){try{var b=h.updateQueue,T=b!==null?b.lastEffect:null;if(T!==null){var O=T.next;b=O;do{if((b.tag&c)===c){var K=b.inst,de=K.destroy;if(de!==void 0){K.destroy=void 0,T=h;var Re=x,tt=de;try{tt()}catch(xt){Fs(T,Re,xt)}}}b=b.next}while(b!==O)}}catch(xt){Fs(h,h.return,xt)}}function ZT(c){var h=c.updateQueue;if(h!==null){var x=c.stateNode;try{Ka(h,x)}catch(b){Fs(c,c.return,b)}}}function XT(c,h,x){x.props=Af(c.type,c.memoizedProps),x.state=c.memoizedState;try{x.componentWillUnmount()}catch(b){Fs(c,h,b)}}function jg(c,h){try{var x=c.ref;if(x!==null){switch(c.tag){case 26:case 27:case 5:var b=c.stateNode;break;case 30:b=c.stateNode;break;default:b=c.stateNode}typeof x=="function"?c.refCleanup=x(b):x.current=b}}catch(T){Fs(c,h,T)}}function $d(c,h){var x=c.ref,b=c.refCleanup;if(x!==null)if(typeof b=="function")try{b()}catch(T){Fs(c,h,T)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof x=="function")try{x(null)}catch(T){Fs(c,h,T)}else x.current=null}function JT(c){var h=c.type,x=c.memoizedProps,b=c.stateNode;try{e:switch(h){case"button":case"input":case"select":case"textarea":x.autoFocus&&b.focus();break e;case"img":x.src?b.src=x.src:x.srcSet&&(b.srcset=x.srcSet)}}catch(T){Fs(c,c.return,T)}}function d5(c,h,x){try{var b=c.stateNode;oK(b,c.type,x,h),b[we]=h}catch(T){Fs(c,c.return,T)}}function QT(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27&&om(c.type)||c.tag===4}function u5(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||QT(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.tag===27&&om(c.type)||c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function h5(c,h,x){var b=c.tag;if(b===5||b===6)c=c.stateNode,h?(x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x).insertBefore(c,h):(h=x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x,h.appendChild(c),x=x._reactRootContainer,x!=null||h.onclick!==null||(h.onclick=mo));else if(b!==4&&(b===27&&om(c.type)&&(x=c.stateNode,h=null),c=c.child,c!==null))for(h5(c,h,x),c=c.sibling;c!==null;)h5(c,h,x),c=c.sibling}function rb(c,h,x){var b=c.tag;if(b===5||b===6)c=c.stateNode,h?x.insertBefore(c,h):x.appendChild(c);else if(b!==4&&(b===27&&om(c.type)&&(x=c.stateNode),c=c.child,c!==null))for(rb(c,h,x),c=c.sibling;c!==null;)rb(c,h,x),c=c.sibling}function eE(c){var h=c.stateNode,x=c.memoizedProps;try{for(var b=c.type,T=h.attributes;T.length;)h.removeAttributeNode(T[0]);Ti(h,b,x),h[ge]=c,h[we]=x}catch(O){Fs(c,c.return,O)}}var Lu=!1,_n=!1,m5=!1,tE=typeof WeakSet=="function"?WeakSet:Set,ci=null;function zG(c,h){if(c=c.containerInfo,R5=wb,c=Wc(c),Qo(c)){if("selectionStart"in c)var x={start:c.selectionStart,end:c.selectionEnd};else e:{x=(x=c.ownerDocument)&&x.defaultView||window;var b=x.getSelection&&x.getSelection();if(b&&b.rangeCount!==0){x=b.anchorNode;var T=b.anchorOffset,O=b.focusNode;b=b.focusOffset;try{x.nodeType,O.nodeType}catch{x=null;break e}var K=0,de=-1,Re=-1,tt=0,xt=0,wt=c,nt=null;t:for(;;){for(var ct;wt!==x||T!==0&&wt.nodeType!==3||(de=K+T),wt!==O||b!==0&&wt.nodeType!==3||(Re=K+b),wt.nodeType===3&&(K+=wt.nodeValue.length),(ct=wt.firstChild)!==null;)nt=wt,wt=ct;for(;;){if(wt===c)break t;if(nt===x&&++tt===T&&(de=K),nt===O&&++xt===b&&(Re=K),(ct=wt.nextSibling)!==null)break;wt=nt,nt=wt.parentNode}wt=ct}x=de===-1||Re===-1?null:{start:de,end:Re}}else x=null}x=x||{start:0,end:0}}else x=null;for(M5={focusedElem:c,selectionRange:x},wb=!1,ci=h;ci!==null;)if(h=ci,c=h.child,(h.subtreeFlags&1028)!==0&&c!==null)c.return=h,ci=c;else for(;ci!==null;){switch(h=ci,O=h.alternate,c=h.flags,h.tag){case 0:if((c&4)!==0&&(c=h.updateQueue,c=c!==null?c.events:null,c!==null))for(x=0;x<c.length;x++)T=c[x],T.ref.impl=T.nextImpl;break;case 11:case 15:break;case 1:if((c&1024)!==0&&O!==null){c=void 0,x=h,T=O.memoizedProps,O=O.memoizedState,b=x.stateNode;try{var Xt=Af(x.type,T);c=b.getSnapshotBeforeUpdate(Xt,O),b.__reactInternalSnapshotBeforeUpdate=c}catch(jr){Fs(x,x.return,jr)}}break;case 3:if((c&1024)!==0){if(c=h.stateNode.containerInfo,x=c.nodeType,x===9)F5(c);else if(x===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":F5(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(a(163))}if(c=h.sibling,c!==null){c.return=h.return,ci=c;break}ci=h.return}}function rE(c,h,x){var b=x.flags;switch(x.tag){case 0:case 11:case 15:Fu(c,x),b&4&&bg(5,x);break;case 1:if(Fu(c,x),b&4)if(c=x.stateNode,h===null)try{c.componentDidMount()}catch(K){Fs(x,x.return,K)}else{var T=Af(x.type,h.memoizedProps);h=h.memoizedState;try{c.componentDidUpdate(T,h,c.__reactInternalSnapshotBeforeUpdate)}catch(K){Fs(x,x.return,K)}}b&64&&ZT(x),b&512&&jg(x,x.return);break;case 3:if(Fu(c,x),b&64&&(c=x.updateQueue,c!==null)){if(h=null,x.child!==null)switch(x.child.tag){case 27:case 5:h=x.child.stateNode;break;case 1:h=x.child.stateNode}try{Ka(c,h)}catch(K){Fs(x,x.return,K)}}break;case 27:h===null&&b&4&&eE(x);case 26:case 5:Fu(c,x),h===null&&b&4&&JT(x),b&512&&jg(x,x.return);break;case 12:Fu(c,x);break;case 31:Fu(c,x),b&4&&nE(c,x);break;case 13:Fu(c,x),b&4&&iE(c,x),b&64&&(c=x.memoizedState,c!==null&&(c=c.dehydrated,c!==null&&(x=ZG.bind(null,x),xK(c,x))));break;case 22:if(b=x.memoizedState!==null||Lu,!b){h=h!==null&&h.memoizedState!==null||_n,T=Lu;var O=_n;Lu=b,(_n=h)&&!O?Bu(c,x,(x.subtreeFlags&8772)!==0):Fu(c,x),Lu=T,_n=O}break;case 30:break;default:Fu(c,x)}}function sE(c){var h=c.alternate;h!==null&&(c.alternate=null,sE(h)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(h=c.stateNode,h!==null&&Tt(h)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var Ea=null,$l=!1;function Iu(c,h,x){for(x=x.child;x!==null;)aE(c,h,x),x=x.sibling}function aE(c,h,x){if(nr&&typeof nr.onCommitFiberUnmount=="function")try{nr.onCommitFiberUnmount(Tr,x)}catch{}switch(x.tag){case 26:_n||$d(x,h),Iu(c,h,x),x.memoizedState?x.memoizedState.count--:x.stateNode&&(x=x.stateNode,x.parentNode.removeChild(x));break;case 27:_n||$d(x,h);var b=Ea,T=$l;om(x.type)&&(Ea=x.stateNode,$l=!1),Iu(c,h,x),Eg(x.stateNode),Ea=b,$l=T;break;case 5:_n||$d(x,h);case 6:if(b=Ea,T=$l,Ea=null,Iu(c,h,x),Ea=b,$l=T,Ea!==null)if($l)try{(Ea.nodeType===9?Ea.body:Ea.nodeName==="HTML"?Ea.ownerDocument.body:Ea).removeChild(x.stateNode)}catch(O){Fs(x,h,O)}else try{Ea.removeChild(x.stateNode)}catch(O){Fs(x,h,O)}break;case 18:Ea!==null&&($l?(c=Ea,ZE(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,x.stateNode),gp(c)):ZE(Ea,x.stateNode));break;case 4:b=Ea,T=$l,Ea=x.stateNode.containerInfo,$l=!0,Iu(c,h,x),Ea=b,$l=T;break;case 0:case 11:case 14:case 15:tm(2,x,h),_n||tm(4,x,h),Iu(c,h,x);break;case 1:_n||($d(x,h),b=x.stateNode,typeof b.componentWillUnmount=="function"&&XT(x,h,b)),Iu(c,h,x);break;case 21:Iu(c,h,x);break;case 22:_n=(b=_n)||x.memoizedState!==null,Iu(c,h,x),_n=b;break;default:Iu(c,h,x)}}function nE(c,h){if(h.memoizedState===null&&(c=h.alternate,c!==null&&(c=c.memoizedState,c!==null))){c=c.dehydrated;try{gp(c)}catch(x){Fs(h,h.return,x)}}}function iE(c,h){if(h.memoizedState===null&&(c=h.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{gp(c)}catch(x){Fs(h,h.return,x)}}function $G(c){switch(c.tag){case 31:case 13:case 19:var h=c.stateNode;return h===null&&(h=c.stateNode=new tE),h;case 22:return c=c.stateNode,h=c._retryCache,h===null&&(h=c._retryCache=new tE),h;default:throw Error(a(435,c.tag))}}function sb(c,h){var x=$G(c);h.forEach(function(b){if(!x.has(b)){x.add(b);var T=XG.bind(null,c,b);b.then(T,T)}})}function Hl(c,h){var x=h.deletions;if(x!==null)for(var b=0;b<x.length;b++){var T=x[b],O=c,K=h,de=K;e:for(;de!==null;){switch(de.tag){case 27:if(om(de.type)){Ea=de.stateNode,$l=!1;break e}break;case 5:Ea=de.stateNode,$l=!1;break e;case 3:case 4:Ea=de.stateNode.containerInfo,$l=!0;break e}de=de.return}if(Ea===null)throw Error(a(160));aE(O,K,T),Ea=null,$l=!1,O=T.alternate,O!==null&&(O.return=null),T.return=null}if(h.subtreeFlags&13886)for(h=h.child;h!==null;)lE(h,c),h=h.sibling}var ed=null;function lE(c,h){var x=c.alternate,b=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:Hl(h,c),ql(c),b&4&&(tm(3,c,c.return),bg(3,c),tm(5,c,c.return));break;case 1:Hl(h,c),ql(c),b&512&&(_n||x===null||$d(x,x.return)),b&64&&Lu&&(c=c.updateQueue,c!==null&&(b=c.callbacks,b!==null&&(x=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=x===null?b:x.concat(b))));break;case 26:var T=ed;if(Hl(h,c),ql(c),b&512&&(_n||x===null||$d(x,x.return)),b&4){var O=x!==null?x.memoizedState:null;if(b=c.memoizedState,x===null)if(b===null)if(c.stateNode===null){e:{b=c.type,x=c.memoizedProps,T=T.ownerDocument||T;t:switch(b){case"title":O=T.getElementsByTagName("title")[0],(!O||O[Qe]||O[ge]||O.namespaceURI==="http://www.w3.org/2000/svg"||O.hasAttribute("itemprop"))&&(O=T.createElement(b),T.head.insertBefore(O,T.querySelector("head > title"))),Ti(O,b,x),O[ge]=c,Gt(O),b=O;break e;case"link":var K=lO("link","href",T).get(b+(x.href||""));if(K){for(var de=0;de<K.length;de++)if(O=K[de],O.getAttribute("href")===(x.href==null||x.href===""?null:x.href)&&O.getAttribute("rel")===(x.rel==null?null:x.rel)&&O.getAttribute("title")===(x.title==null?null:x.title)&&O.getAttribute("crossorigin")===(x.crossOrigin==null?null:x.crossOrigin)){K.splice(de,1);break t}}O=T.createElement(b),Ti(O,b,x),T.head.appendChild(O);break;case"meta":if(K=lO("meta","content",T).get(b+(x.content||""))){for(de=0;de<K.length;de++)if(O=K[de],O.getAttribute("content")===(x.content==null?null:""+x.content)&&O.getAttribute("name")===(x.name==null?null:x.name)&&O.getAttribute("property")===(x.property==null?null:x.property)&&O.getAttribute("http-equiv")===(x.httpEquiv==null?null:x.httpEquiv)&&O.getAttribute("charset")===(x.charSet==null?null:x.charSet)){K.splice(de,1);break t}}O=T.createElement(b),Ti(O,b,x),T.head.appendChild(O);break;default:throw Error(a(468,b))}O[ge]=c,Gt(O),b=O}c.stateNode=b}else oO(T,c.type,c.stateNode);else c.stateNode=iO(T,b,c.memoizedProps);else O!==b?(O===null?x.stateNode!==null&&(x=x.stateNode,x.parentNode.removeChild(x)):O.count--,b===null?oO(T,c.type,c.stateNode):iO(T,b,c.memoizedProps)):b===null&&c.stateNode!==null&&d5(c,c.memoizedProps,x.memoizedProps)}break;case 27:Hl(h,c),ql(c),b&512&&(_n||x===null||$d(x,x.return)),x!==null&&b&4&&d5(c,c.memoizedProps,x.memoizedProps);break;case 5:if(Hl(h,c),ql(c),b&512&&(_n||x===null||$d(x,x.return)),c.flags&32){T=c.stateNode;try{ho(T,"")}catch(Xt){Fs(c,c.return,Xt)}}b&4&&c.stateNode!=null&&(T=c.memoizedProps,d5(c,T,x!==null?x.memoizedProps:T)),b&1024&&(m5=!0);break;case 6:if(Hl(h,c),ql(c),b&4){if(c.stateNode===null)throw Error(a(162));b=c.memoizedProps,x=c.stateNode;try{x.nodeValue=b}catch(Xt){Fs(c,c.return,Xt)}}break;case 3:if(yb=null,T=ed,ed=gb(h.containerInfo),Hl(h,c),ed=T,ql(c),b&4&&x!==null&&x.memoizedState.isDehydrated)try{gp(h.containerInfo)}catch(Xt){Fs(c,c.return,Xt)}m5&&(m5=!1,oE(c));break;case 4:b=ed,ed=gb(c.stateNode.containerInfo),Hl(h,c),ql(c),ed=b;break;case 12:Hl(h,c),ql(c);break;case 31:Hl(h,c),ql(c),b&4&&(b=c.updateQueue,b!==null&&(c.updateQueue=null,sb(c,b)));break;case 13:Hl(h,c),ql(c),c.child.flags&8192&&c.memoizedState!==null!=(x!==null&&x.memoizedState!==null)&&(nb=st()),b&4&&(b=c.updateQueue,b!==null&&(c.updateQueue=null,sb(c,b)));break;case 22:T=c.memoizedState!==null;var Re=x!==null&&x.memoizedState!==null,tt=Lu,xt=_n;if(Lu=tt||T,_n=xt||Re,Hl(h,c),_n=xt,Lu=tt,ql(c),b&8192)e:for(h=c.stateNode,h._visibility=T?h._visibility&-2:h._visibility|1,T&&(x===null||Re||Lu||_n||Cf(c)),x=null,h=c;;){if(h.tag===5||h.tag===26){if(x===null){Re=x=h;try{if(O=Re.stateNode,T)K=O.style,typeof K.setProperty=="function"?K.setProperty("display","none","important"):K.display="none";else{de=Re.stateNode;var wt=Re.memoizedProps.style,nt=wt!=null&&wt.hasOwnProperty("display")?wt.display:null;de.style.display=nt==null||typeof nt=="boolean"?"":(""+nt).trim()}}catch(Xt){Fs(Re,Re.return,Xt)}}}else if(h.tag===6){if(x===null){Re=h;try{Re.stateNode.nodeValue=T?"":Re.memoizedProps}catch(Xt){Fs(Re,Re.return,Xt)}}}else if(h.tag===18){if(x===null){Re=h;try{var ct=Re.stateNode;T?XE(ct,!0):XE(Re.stateNode,!1)}catch(Xt){Fs(Re,Re.return,Xt)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===c)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break e;for(;h.sibling===null;){if(h.return===null||h.return===c)break e;x===h&&(x=null),h=h.return}x===h&&(x=null),h.sibling.return=h.return,h=h.sibling}b&4&&(b=c.updateQueue,b!==null&&(x=b.retryQueue,x!==null&&(b.retryQueue=null,sb(c,x))));break;case 19:Hl(h,c),ql(c),b&4&&(b=c.updateQueue,b!==null&&(c.updateQueue=null,sb(c,b)));break;case 30:break;case 21:break;default:Hl(h,c),ql(c)}}function ql(c){var h=c.flags;if(h&2){try{for(var x,b=c.return;b!==null;){if(QT(b)){x=b;break}b=b.return}if(x==null)throw Error(a(160));switch(x.tag){case 27:var T=x.stateNode,O=u5(c);rb(c,O,T);break;case 5:var K=x.stateNode;x.flags&32&&(ho(K,""),x.flags&=-33);var de=u5(c);rb(c,de,K);break;case 3:case 4:var Re=x.stateNode.containerInfo,tt=u5(c);h5(c,tt,Re);break;default:throw Error(a(161))}}catch(xt){Fs(c,c.return,xt)}c.flags&=-3}h&4096&&(c.flags&=-4097)}function oE(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var h=c;oE(h),h.tag===5&&h.flags&1024&&h.stateNode.reset(),c=c.sibling}}function Fu(c,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)rE(c,h.alternate,h),h=h.sibling}function Cf(c){for(c=c.child;c!==null;){var h=c;switch(h.tag){case 0:case 11:case 14:case 15:tm(4,h,h.return),Cf(h);break;case 1:$d(h,h.return);var x=h.stateNode;typeof x.componentWillUnmount=="function"&&XT(h,h.return,x),Cf(h);break;case 27:Eg(h.stateNode);case 26:case 5:$d(h,h.return),Cf(h);break;case 22:h.memoizedState===null&&Cf(h);break;case 30:Cf(h);break;default:Cf(h)}c=c.sibling}}function Bu(c,h,x){for(x=x&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var b=h.alternate,T=c,O=h,K=O.flags;switch(O.tag){case 0:case 11:case 15:Bu(T,O,x),bg(4,O);break;case 1:if(Bu(T,O,x),b=O,T=b.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(tt){Fs(b,b.return,tt)}if(b=O,T=b.updateQueue,T!==null){var de=b.stateNode;try{var Re=T.shared.hiddenCallbacks;if(Re!==null)for(T.shared.hiddenCallbacks=null,T=0;T<Re.length;T++)li(Re[T],de)}catch(tt){Fs(b,b.return,tt)}}x&&K&64&&ZT(O),jg(O,O.return);break;case 27:eE(O);case 26:case 5:Bu(T,O,x),x&&b===null&&K&4&&JT(O),jg(O,O.return);break;case 12:Bu(T,O,x);break;case 31:Bu(T,O,x),x&&K&4&&nE(T,O);break;case 13:Bu(T,O,x),x&&K&4&&iE(T,O);break;case 22:O.memoizedState===null&&Bu(T,O,x),jg(O,O.return);break;case 30:break;default:Bu(T,O,x)}h=h.sibling}}function f5(c,h){var x=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(x=c.memoizedState.cachePool.pool),c=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(c=h.memoizedState.cachePool.pool),c!==x&&(c!=null&&c.refCount++,x!=null&&Nf(x))}function p5(c,h){c=null,h.alternate!==null&&(c=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==c&&(h.refCount++,c!=null&&Nf(c))}function td(c,h,x,b){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)cE(c,h,x,b),h=h.sibling}function cE(c,h,x,b){var T=h.flags;switch(h.tag){case 0:case 11:case 15:td(c,h,x,b),T&2048&&bg(9,h);break;case 1:td(c,h,x,b);break;case 3:td(c,h,x,b),T&2048&&(c=null,h.alternate!==null&&(c=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==c&&(h.refCount++,c!=null&&Nf(c)));break;case 12:if(T&2048){td(c,h,x,b),c=h.stateNode;try{var O=h.memoizedProps,K=O.id,de=O.onPostCommit;typeof de=="function"&&de(K,h.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(Re){Fs(h,h.return,Re)}}else td(c,h,x,b);break;case 31:td(c,h,x,b);break;case 13:td(c,h,x,b);break;case 23:break;case 22:O=h.stateNode,K=h.alternate,h.memoizedState!==null?O._visibility&2?td(c,h,x,b):Ng(c,h):O._visibility&2?td(c,h,x,b):(O._visibility|=2,ip(c,h,x,b,(h.subtreeFlags&10256)!==0||!1)),T&2048&&f5(K,h);break;case 24:td(c,h,x,b),T&2048&&p5(h.alternate,h);break;default:td(c,h,x,b)}}function ip(c,h,x,b,T){for(T=T&&((h.subtreeFlags&10256)!==0||!1),h=h.child;h!==null;){var O=c,K=h,de=x,Re=b,tt=K.flags;switch(K.tag){case 0:case 11:case 15:ip(O,K,de,Re,T),bg(8,K);break;case 23:break;case 22:var xt=K.stateNode;K.memoizedState!==null?xt._visibility&2?ip(O,K,de,Re,T):Ng(O,K):(xt._visibility|=2,ip(O,K,de,Re,T)),T&&tt&2048&&f5(K.alternate,K);break;case 24:ip(O,K,de,Re,T),T&&tt&2048&&p5(K.alternate,K);break;default:ip(O,K,de,Re,T)}h=h.sibling}}function Ng(c,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var x=c,b=h,T=b.flags;switch(b.tag){case 22:Ng(x,b),T&2048&&f5(b.alternate,b);break;case 24:Ng(x,b),T&2048&&p5(b.alternate,b);break;default:Ng(x,b)}h=h.sibling}}var wg=8192;function lp(c,h,x){if(c.subtreeFlags&wg)for(c=c.child;c!==null;)dE(c,h,x),c=c.sibling}function dE(c,h,x){switch(c.tag){case 26:lp(c,h,x),c.flags&wg&&c.memoizedState!==null&&kK(x,ed,c.memoizedState,c.memoizedProps);break;case 5:lp(c,h,x);break;case 3:case 4:var b=ed;ed=gb(c.stateNode.containerInfo),lp(c,h,x),ed=b;break;case 22:c.memoizedState===null&&(b=c.alternate,b!==null&&b.memoizedState!==null?(b=wg,wg=16777216,lp(c,h,x),wg=b):lp(c,h,x));break;default:lp(c,h,x)}}function uE(c){var h=c.alternate;if(h!==null&&(c=h.child,c!==null)){h.child=null;do h=c.sibling,c.sibling=null,c=h;while(c!==null)}}function Sg(c){var h=c.deletions;if((c.flags&16)!==0){if(h!==null)for(var x=0;x<h.length;x++){var b=h[x];ci=b,mE(b,c)}uE(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)hE(c),c=c.sibling}function hE(c){switch(c.tag){case 0:case 11:case 15:Sg(c),c.flags&2048&&tm(9,c,c.return);break;case 3:Sg(c);break;case 12:Sg(c);break;case 22:var h=c.stateNode;c.memoizedState!==null&&h._visibility&2&&(c.return===null||c.return.tag!==13)?(h._visibility&=-3,ab(c)):Sg(c);break;default:Sg(c)}}function ab(c){var h=c.deletions;if((c.flags&16)!==0){if(h!==null)for(var x=0;x<h.length;x++){var b=h[x];ci=b,mE(b,c)}uE(c)}for(c=c.child;c!==null;){switch(h=c,h.tag){case 0:case 11:case 15:tm(8,h,h.return),ab(h);break;case 22:x=h.stateNode,x._visibility&2&&(x._visibility&=-3,ab(h));break;default:ab(h)}c=c.sibling}}function mE(c,h){for(;ci!==null;){var x=ci;switch(x.tag){case 0:case 11:case 15:tm(8,x,h);break;case 23:case 22:if(x.memoizedState!==null&&x.memoizedState.cachePool!==null){var b=x.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:Nf(x.memoizedState.cache)}if(b=x.child,b!==null)b.return=x,ci=b;else e:for(x=c;ci!==null;){b=ci;var T=b.sibling,O=b.return;if(sE(b),b===x){ci=null;break e}if(T!==null){T.return=O,ci=T;break e}ci=O}}}var HG={getCacheForType:function(c){var h=qn(Ua),x=h.data.get(c);return x===void 0&&(x=c(),h.data.set(c,x)),x},cacheSignal:function(){return qn(Ua).controller.signal}},qG=typeof WeakMap=="function"?WeakMap:Map,Ts=0,ia=null,Xr=null,es=0,Is=0,bo=null,rm=!1,op=!1,x5=!1,Uu=0,Ja=0,sm=0,kf=0,g5=0,jo=0,cp=0,_g=null,Vl=null,v5=!1,nb=0,fE=0,ib=1/0,lb=null,am=null,Wn=0,nm=null,dp=null,zu=0,y5=0,b5=null,pE=null,Ag=0,j5=null;function No(){return(Ts&2)!==0&&es!==0?es&-es:Z.T!==null?C5():se()}function xE(){if(jo===0)if((es&536870912)===0||Zr){var c=_s;_s<<=1,(_s&3932160)===0&&(_s=262144),jo=c}else jo=536870912;return c=ya.current,c!==null&&(c.flags|=32),jo}function Wl(c,h,x){(c===ia&&(Is===2||Is===9)||c.cancelPendingCommit!==null)&&(up(c,0),im(c,es,jo,!1)),or(c,x),((Ts&2)===0||c!==ia)&&(c===ia&&((Ts&2)===0&&(kf|=x),Ja===4&&im(c,es,jo,!1)),Hd(c))}function gE(c,h,x){if((Ts&6)!==0)throw Error(a(327));var b=!x&&(h&127)===0&&(h&c.expiredLanes)===0||ol(c,h),T=b?GG(c,h):w5(c,h,!0),O=b;do{if(T===0){op&&!b&&im(c,h,0,!1);break}else{if(x=c.current.alternate,O&&!VG(x)){T=w5(c,h,!1),O=!1;continue}if(T===2){if(O=h,c.errorRecoveryDisabledLanes&O)var K=0;else K=c.pendingLanes&-536870913,K=K!==0?K:K&536870912?536870912:0;if(K!==0){h=K;e:{var de=c;T=_g;var Re=de.current.memoizedState.isDehydrated;if(Re&&(up(de,K).flags|=256),K=w5(de,K,!1),K!==2){if(x5&&!Re){de.errorRecoveryDisabledLanes|=O,kf|=O,T=4;break e}O=Vl,Vl=T,O!==null&&(Vl===null?Vl=O:Vl.push.apply(Vl,O))}T=K}if(O=!1,T!==2)continue}}if(T===1){up(c,0),im(c,h,0,!0);break}e:{switch(b=c,O=T,O){case 0:case 1:throw Error(a(345));case 4:if((h&4194048)!==h)break;case 6:im(b,h,jo,!rm);break e;case 2:Vl=null;break;case 3:case 5:break;default:throw Error(a(329))}if((h&62914560)===h&&(T=nb+300-st(),10<T)){if(im(b,h,jo,!rm),Yr(b,0,!0)!==0)break e;zu=h,b.timeoutHandle=KE(vE.bind(null,b,x,Vl,lb,v5,h,jo,kf,cp,rm,O,"Throttled",-0,0),T);break e}vE(b,x,Vl,lb,v5,h,jo,kf,cp,rm,O,null,-0,0)}}break}while(!0);Hd(c)}function vE(c,h,x,b,T,O,K,de,Re,tt,xt,wt,nt,ct){if(c.timeoutHandle=-1,wt=h.subtreeFlags,wt&8192||(wt&16785408)===16785408){wt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:mo},dE(h,O,wt);var Xt=(O&62914560)===O?nb-st():(O&4194048)===O?fE-st():0;if(Xt=TK(wt,Xt),Xt!==null){zu=O,c.cancelPendingCommit=Xt(AE.bind(null,c,h,O,x,b,T,K,de,Re,xt,wt,null,nt,ct)),im(c,O,K,!tt);return}}AE(c,h,O,x,b,T,K,de,Re)}function VG(c){for(var h=c;;){var x=h.tag;if((x===0||x===11||x===15)&&h.flags&16384&&(x=h.updateQueue,x!==null&&(x=x.stores,x!==null)))for(var b=0;b<x.length;b++){var T=x[b],O=T.getSnapshot;T=T.value;try{if(!Un(O(),T))return!1}catch{return!1}}if(x=h.child,h.subtreeFlags&16384&&x!==null)x.return=h,h=x;else{if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function im(c,h,x,b){h&=~g5,h&=~kf,c.suspendedLanes|=h,c.pingedLanes&=~h,b&&(c.warmLanes|=h),b=c.expirationTimes;for(var T=h;0<T;){var O=31-Lr(T),K=1<<O;b[O]=-1,T&=~K}x!==0&&Tl(c,x,h)}function ob(){return(Ts&6)===0?(Cg(0),!1):!0}function N5(){if(Xr!==null){if(Is===0)var c=Xr.return;else c=Xr,tc=Rd=null,Q0(c),St=null,er=0,c=Xr;for(;c!==null;)YT(c.alternate,c),c=c.return;Xr=null}}function up(c,h){var x=c.timeoutHandle;x!==-1&&(c.timeoutHandle=-1,uK(x)),x=c.cancelPendingCommit,x!==null&&(c.cancelPendingCommit=null,x()),zu=0,N5(),ia=c,Xr=x=Rl(c.current,null),es=h,Is=0,bo=null,rm=!1,op=ol(c,h),x5=!1,cp=jo=g5=kf=sm=Ja=0,Vl=_g=null,v5=!1,(h&8)!==0&&(h|=h&32);var b=c.entangledLanes;if(b!==0)for(c=c.entanglements,b&=h;0<b;){var T=31-Lr(b),O=1<<T;h|=c[T],b&=~O}return Uu=h,xf(),x}function yE(c,h){ur=null,Z.H=gg,h===Fe||h===_e?(h=vt(),Is=3):h===Xe?(h=vt(),Is=4):Is=h===e5?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,bo=h,Xr===null&&(Ja=1,Xy(c,Ml(h,c.current)))}function bE(){var c=ya.current;return c===null?!0:(es&4194048)===es?ds===null:(es&62914560)===es||(es&536870912)!==0?c===ds:!1}function jE(){var c=Z.H;return Z.H=gg,c===null?gg:c}function NE(){var c=Z.A;return Z.A=HG,c}function cb(){Ja=4,rm||(es&4194048)!==es&&ya.current!==null||(op=!0),(sm&134217727)===0&&(kf&134217727)===0||ia===null||im(ia,es,jo,!1)}function w5(c,h,x){var b=Ts;Ts|=2;var T=jE(),O=NE();(ia!==c||es!==h)&&(lb=null,up(c,h)),h=!1;var K=Ja;e:do try{if(Is!==0&&Xr!==null){var de=Xr,Re=bo;switch(Is){case 8:N5(),K=6;break e;case 3:case 2:case 9:case 6:ya.current===null&&(h=!0);var tt=Is;if(Is=0,bo=null,hp(c,de,Re,tt),x&&op){K=0;break e}break;default:tt=Is,Is=0,bo=null,hp(c,de,Re,tt)}}WG(),K=Ja;break}catch(xt){yE(c,xt)}while(!0);return h&&c.shellSuspendCounter++,tc=Rd=null,Ts=b,Z.H=T,Z.A=O,Xr===null&&(ia=null,es=0,xf()),K}function WG(){for(;Xr!==null;)wE(Xr)}function GG(c,h){var x=Ts;Ts|=2;var b=jE(),T=NE();ia!==c||es!==h?(lb=null,ib=st()+500,up(c,h)):op=ol(c,h);e:do try{if(Is!==0&&Xr!==null){h=Xr;var O=bo;t:switch(Is){case 1:Is=0,bo=null,hp(c,h,O,1);break;case 2:case 9:if(Ve(O)){Is=0,bo=null,SE(h);break}h=function(){Is!==2&&Is!==9||ia!==c||(Is=7),Hd(c)},O.then(h,h);break e;case 3:Is=7;break e;case 4:Is=5;break e;case 7:Ve(O)?(Is=0,bo=null,SE(h)):(Is=0,bo=null,hp(c,h,O,7));break;case 5:var K=null;switch(Xr.tag){case 26:K=Xr.memoizedState;case 5:case 27:var de=Xr;if(K?cO(K):de.stateNode.complete){Is=0,bo=null;var Re=de.sibling;if(Re!==null)Xr=Re;else{var tt=de.return;tt!==null?(Xr=tt,db(tt)):Xr=null}break t}}Is=0,bo=null,hp(c,h,O,5);break;case 6:Is=0,bo=null,hp(c,h,O,6);break;case 8:N5(),Ja=6;break e;default:throw Error(a(462))}}KG();break}catch(xt){yE(c,xt)}while(!0);return tc=Rd=null,Z.H=b,Z.A=T,Ts=x,Xr!==null?0:(ia=null,es=0,xf(),Ja)}function KG(){for(;Xr!==null&&!be();)wE(Xr)}function wE(c){var h=GT(c.alternate,c,Uu);c.memoizedProps=c.pendingProps,h===null?db(c):Xr=h}function SE(c){var h=c,x=h.alternate;switch(h.tag){case 15:case 0:h=zT(x,h,h.pendingProps,h.type,void 0,es);break;case 11:h=zT(x,h,h.pendingProps,h.type.render,h.ref,es);break;case 5:Q0(h);default:YT(x,h),h=Xr=yf(h,Uu),h=GT(x,h,Uu)}c.memoizedProps=c.pendingProps,h===null?db(c):Xr=h}function hp(c,h,x,b){tc=Rd=null,Q0(h),St=null,er=0;var T=h.return;try{if(LG(c,T,h,x,es)){Ja=1,Xy(c,Ml(x,c.current)),Xr=null;return}}catch(O){if(T!==null)throw Xr=T,O;Ja=1,Xy(c,Ml(x,c.current)),Xr=null;return}h.flags&32768?(Zr||b===1?c=!0:op||(es&536870912)!==0?c=!1:(rm=c=!0,(b===2||b===9||b===3||b===6)&&(b=ya.current,b!==null&&b.tag===13&&(b.flags|=16384))),_E(h,c)):db(h)}function db(c){var h=c;do{if((h.flags&32768)!==0){_E(h,rm);return}c=h.return;var x=BG(h.alternate,h,Uu);if(x!==null){Xr=x;return}if(h=h.sibling,h!==null){Xr=h;return}Xr=h=c}while(h!==null);Ja===0&&(Ja=5)}function _E(c,h){do{var x=UG(c.alternate,c);if(x!==null){x.flags&=32767,Xr=x;return}if(x=c.return,x!==null&&(x.flags|=32768,x.subtreeFlags=0,x.deletions=null),!h&&(c=c.sibling,c!==null)){Xr=c;return}Xr=c=x}while(c!==null);Ja=6,Xr=null}function AE(c,h,x,b,T,O,K,de,Re){c.cancelPendingCommit=null;do ub();while(Wn!==0);if((Ts&6)!==0)throw Error(a(327));if(h!==null){if(h===c.current)throw Error(a(177));if(O=h.lanes|h.childLanes,O|=B0,lo(c,x,O,K,de,Re),c===ia&&(Xr=ia=null,es=0),dp=h,nm=c,zu=x,y5=O,b5=T,pE=b,(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?(c.callbackNode=null,c.callbackPriority=0,JG(Lt,function(){return OE(),null})):(c.callbackNode=null,c.callbackPriority=0),b=(h.flags&13878)!==0,(h.subtreeFlags&13878)!==0||b){b=Z.T,Z.T=null,T=ie.p,ie.p=2,K=Ts,Ts|=4;try{zG(c,h,x)}finally{Ts=K,ie.p=T,Z.T=b}}Wn=1,CE(),kE(),TE()}}function CE(){if(Wn===1){Wn=0;var c=nm,h=dp,x=(h.flags&13878)!==0;if((h.subtreeFlags&13878)!==0||x){x=Z.T,Z.T=null;var b=ie.p;ie.p=2;var T=Ts;Ts|=4;try{lE(h,c);var O=M5,K=Wc(c.containerInfo),de=O.focusedElem,Re=O.selectionRange;if(K!==de&&de&&de.ownerDocument&&Vc(de.ownerDocument.documentElement,de)){if(Re!==null&&Qo(de)){var tt=Re.start,xt=Re.end;if(xt===void 0&&(xt=tt),"selectionStart"in de)de.selectionStart=tt,de.selectionEnd=Math.min(xt,de.value.length);else{var wt=de.ownerDocument||document,nt=wt&&wt.defaultView||window;if(nt.getSelection){var ct=nt.getSelection(),Xt=de.textContent.length,jr=Math.min(Re.start,Xt),ea=Re.end===void 0?jr:Math.min(Re.end,Xt);!ct.extend&&jr>ea&&(K=ea,ea=jr,jr=K);var qe=qh(de,jr),Be=qh(de,ea);if(qe&&Be&&(ct.rangeCount!==1||ct.anchorNode!==qe.node||ct.anchorOffset!==qe.offset||ct.focusNode!==Be.node||ct.focusOffset!==Be.offset)){var et=wt.createRange();et.setStart(qe.node,qe.offset),ct.removeAllRanges(),jr>ea?(ct.addRange(et),ct.extend(Be.node,Be.offset)):(et.setEnd(Be.node,Be.offset),ct.addRange(et))}}}}for(wt=[],ct=de;ct=ct.parentNode;)ct.nodeType===1&&wt.push({element:ct,left:ct.scrollLeft,top:ct.scrollTop});for(typeof de.focus=="function"&&de.focus(),de=0;de<wt.length;de++){var bt=wt[de];bt.element.scrollLeft=bt.left,bt.element.scrollTop=bt.top}}wb=!!R5,M5=R5=null}finally{Ts=T,ie.p=b,Z.T=x}}c.current=h,Wn=2}}function kE(){if(Wn===2){Wn=0;var c=nm,h=dp,x=(h.flags&8772)!==0;if((h.subtreeFlags&8772)!==0||x){x=Z.T,Z.T=null;var b=ie.p;ie.p=2;var T=Ts;Ts|=4;try{rE(c,h.alternate,h)}finally{Ts=T,ie.p=b,Z.T=x}}Wn=3}}function TE(){if(Wn===4||Wn===3){Wn=0,De();var c=nm,h=dp,x=zu,b=pE;(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?Wn=5:(Wn=0,dp=nm=null,EE(c,c.pendingLanes));var T=c.pendingLanes;if(T===0&&(am=null),Aa(x),h=h.stateNode,nr&&typeof nr.onCommitFiberRoot=="function")try{nr.onCommitFiberRoot(Tr,h,void 0,(h.current.flags&128)===128)}catch{}if(b!==null){h=Z.T,T=ie.p,ie.p=2,Z.T=null;try{for(var O=c.onRecoverableError,K=0;K<b.length;K++){var de=b[K];O(de.value,{componentStack:de.stack})}}finally{Z.T=h,ie.p=T}}(zu&3)!==0&&ub(),Hd(c),T=c.pendingLanes,(x&261930)!==0&&(T&42)!==0?c===j5?Ag++:(Ag=0,j5=c):Ag=0,Cg(0)}}function EE(c,h){(c.pooledCacheLanes&=h)===0&&(h=c.pooledCache,h!=null&&(c.pooledCache=null,Nf(h)))}function ub(){return CE(),kE(),TE(),OE()}function OE(){if(Wn!==5)return!1;var c=nm,h=y5;y5=0;var x=Aa(zu),b=Z.T,T=ie.p;try{ie.p=32>x?32:x,Z.T=null,x=b5,b5=null;var O=nm,K=zu;if(Wn=0,dp=nm=null,zu=0,(Ts&6)!==0)throw Error(a(331));var de=Ts;if(Ts|=4,hE(O.current),cE(O,O.current,K,x),Ts=de,Cg(0,!1),nr&&typeof nr.onPostCommitFiberRoot=="function")try{nr.onPostCommitFiberRoot(Tr,O)}catch{}return!0}finally{ie.p=T,Z.T=b,EE(c,h)}}function PE(c,h,x){h=Ml(x,h),h=Qw(c.stateNode,h,2),c=Rr(c,h,2),c!==null&&(or(c,2),Hd(c))}function Fs(c,h,x){if(c.tag===3)PE(c,c,x);else for(;h!==null;){if(h.tag===3){PE(h,c,x);break}else if(h.tag===1){var b=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(am===null||!am.has(b))){c=Ml(x,c),x=DT(2),b=Rr(h,x,2),b!==null&&(RT(x,b,h,c),or(b,2),Hd(b));break}}h=h.return}}function S5(c,h,x){var b=c.pingCache;if(b===null){b=c.pingCache=new qG;var T=new Set;b.set(h,T)}else T=b.get(h),T===void 0&&(T=new Set,b.set(h,T));T.has(x)||(x5=!0,T.add(x),c=YG.bind(null,c,h,x),h.then(c,c))}function YG(c,h,x){var b=c.pingCache;b!==null&&b.delete(h),c.pingedLanes|=c.suspendedLanes&x,c.warmLanes&=~x,ia===c&&(es&x)===x&&(Ja===4||Ja===3&&(es&62914560)===es&&300>st()-nb?(Ts&2)===0&&up(c,0):g5|=x,cp===es&&(cp=0)),Hd(c)}function DE(c,h){h===0&&(h=kl()),c=Kc(c,h),c!==null&&(or(c,h),Hd(c))}function ZG(c){var h=c.memoizedState,x=0;h!==null&&(x=h.retryLane),DE(c,x)}function XG(c,h){var x=0;switch(c.tag){case 31:case 13:var b=c.stateNode,T=c.memoizedState;T!==null&&(x=T.retryLane);break;case 19:b=c.stateNode;break;case 22:b=c.stateNode._retryCache;break;default:throw Error(a(314))}b!==null&&b.delete(h),DE(c,x)}function JG(c,h){return yt(c,h)}var hb=null,mp=null,_5=!1,mb=!1,A5=!1,lm=0;function Hd(c){c!==mp&&c.next===null&&(mp===null?hb=mp=c:mp=mp.next=c),mb=!0,_5||(_5=!0,eK())}function Cg(c,h){if(!A5&&mb){A5=!0;do for(var x=!1,b=hb;b!==null;){if(c!==0){var T=b.pendingLanes;if(T===0)var O=0;else{var K=b.suspendedLanes,de=b.pingedLanes;O=(1<<31-Lr(42|c)+1)-1,O&=T&~(K&~de),O=O&201326741?O&201326741|1:O?O|2:0}O!==0&&(x=!0,IE(b,O))}else O=es,O=Yr(b,b===ia?O:0,b.cancelPendingCommit!==null||b.timeoutHandle!==-1),(O&3)===0||ol(b,O)||(x=!0,IE(b,O));b=b.next}while(x);A5=!1}}function QG(){RE()}function RE(){mb=_5=!1;var c=0;lm!==0&&dK()&&(c=lm);for(var h=st(),x=null,b=hb;b!==null;){var T=b.next,O=ME(b,h);O===0?(b.next=null,x===null?hb=T:x.next=T,T===null&&(mp=x)):(x=b,(c!==0||(O&3)!==0)&&(mb=!0)),b=T}Wn!==0&&Wn!==5||Cg(c),lm!==0&&(lm=0)}function ME(c,h){for(var x=c.suspendedLanes,b=c.pingedLanes,T=c.expirationTimes,O=c.pendingLanes&-62914561;0<O;){var K=31-Lr(O),de=1<<K,Re=T[K];Re===-1?((de&x)===0||(de&b)!==0)&&(T[K]=bn(de,h)):Re<=h&&(c.expiredLanes|=de),O&=~de}if(h=ia,x=es,x=Yr(c,c===h?x:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),b=c.callbackNode,x===0||c===h&&(Is===2||Is===9)||c.cancelPendingCommit!==null)return b!==null&&b!==null&&xe(b),c.callbackNode=null,c.callbackPriority=0;if((x&3)===0||ol(c,x)){if(h=x&-x,h===c.callbackPriority)return h;switch(b!==null&&xe(b),Aa(x)){case 2:case 8:x=At;break;case 32:x=Lt;break;case 268435456:x=Qt;break;default:x=Lt}return b=LE.bind(null,c),x=yt(x,b),c.callbackPriority=h,c.callbackNode=x,h}return b!==null&&b!==null&&xe(b),c.callbackPriority=2,c.callbackNode=null,2}function LE(c,h){if(Wn!==0&&Wn!==5)return c.callbackNode=null,c.callbackPriority=0,null;var x=c.callbackNode;if(ub()&&c.callbackNode!==x)return null;var b=es;return b=Yr(c,c===ia?b:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),b===0?null:(gE(c,b,h),ME(c,st()),c.callbackNode!=null&&c.callbackNode===x?LE.bind(null,c):null)}function IE(c,h){if(ub())return null;gE(c,h,!0)}function eK(){hK(function(){(Ts&6)!==0?yt(lt,QG):RE()})}function C5(){if(lm===0){var c=S;c===0&&(c=br,br<<=1,(br&261888)===0&&(br=256)),lm=c}return lm}function FE(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:$i(""+c)}function BE(c,h){var x=h.ownerDocument.createElement("input");return x.name=h.name,x.value=h.value,c.id&&x.setAttribute("form",c.id),h.parentNode.insertBefore(x,h),c=new FormData(c),x.parentNode.removeChild(x),c}function tK(c,h,x,b,T){if(h==="submit"&&x&&x.stateNode===T){var O=FE((T[we]||null).action),K=b.submitter;K&&(h=(h=K[we]||null)?FE(h.formAction):K.getAttribute("formAction"),h!==null&&(O=h,K=null));var de=new Ol("action","action",null,b,T);c.push({event:de,listeners:[{instance:null,listener:function(){if(b.defaultPrevented){if(lm!==0){var Re=K?BE(T,K):new FormData(T);Gw(x,{pending:!0,data:Re,method:T.method,action:O},null,Re)}}else typeof O=="function"&&(de.preventDefault(),Re=K?BE(T,K):new FormData(T),Gw(x,{pending:!0,data:Re,method:T.method,action:O},O,Re))},currentTarget:T}]})}}for(var k5=0;k5<Au.length;k5++){var T5=Au[k5],rK=T5.toLowerCase(),sK=T5[0].toUpperCase()+T5.slice(1);Dl(rK,"on"+sK)}Dl(_u,"onAnimationEnd"),Dl(ff,"onAnimationIteration"),Dl(rg,"onAnimationStart"),Dl("dblclick","onDoubleClick"),Dl("focusin","onFocus"),Dl("focusout","onBlur"),Dl(Fy,"onTransitionRun"),Dl(By,"onTransitionStart"),Dl(Uy,"onTransitionCancel"),Dl(sg,"onTransitionEnd"),ji("onMouseEnter",["mouseout","mouseover"]),ji("onMouseLeave",["mouseout","mouseover"]),ji("onPointerEnter",["pointerout","pointerover"]),ji("onPointerLeave",["pointerout","pointerover"]),Ds("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ds("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ds("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ds("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ds("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ds("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aK=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kg));function UE(c,h){h=(h&4)!==0;for(var x=0;x<c.length;x++){var b=c[x],T=b.event;b=b.listeners;e:{var O=void 0;if(h)for(var K=b.length-1;0<=K;K--){var de=b[K],Re=de.instance,tt=de.currentTarget;if(de=de.listener,Re!==O&&T.isPropagationStopped())break e;O=de,T.currentTarget=tt;try{O(T)}catch(xt){pf(xt)}T.currentTarget=null,O=Re}else for(K=0;K<b.length;K++){if(de=b[K],Re=de.instance,tt=de.currentTarget,de=de.listener,Re!==O&&T.isPropagationStopped())break e;O=de,T.currentTarget=tt;try{O(T)}catch(xt){pf(xt)}T.currentTarget=null,O=Re}}}}function Jr(c,h){var x=h[Ge];x===void 0&&(x=h[Ge]=new Set);var b=c+"__bubble";x.has(b)||(zE(h,c,2,!1),x.add(b))}function E5(c,h,x){var b=0;h&&(b|=4),zE(x,c,b,h)}var fb="_reactListening"+Math.random().toString(36).slice(2);function O5(c){if(!c[fb]){c[fb]=!0,As.forEach(function(x){x!=="selectionchange"&&(aK.has(x)||E5(x,!1,c),E5(x,!0,c))});var h=c.nodeType===9?c:c.ownerDocument;h===null||h[fb]||(h[fb]=!0,E5("selectionchange",!1,h))}}function zE(c,h,x,b){switch(xO(h)){case 2:var T=PK;break;case 8:T=DK;break;default:T=W5}x=T.bind(null,h,x,c),T=void 0,!cf||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(T=!0),b?T!==void 0?c.addEventListener(h,x,{capture:!0,passive:T}):c.addEventListener(h,x,!0):T!==void 0?c.addEventListener(h,x,{passive:T}):c.addEventListener(h,x,!1)}function P5(c,h,x,b,T){var O=b;if((h&1)===0&&(h&2)===0&&b!==null)e:for(;;){if(b===null)return;var K=b.tag;if(K===3||K===4){var de=b.stateNode.containerInfo;if(de===T)break;if(K===4)for(K=b.return;K!==null;){var Re=K.tag;if((Re===3||Re===4)&&K.stateNode.containerInfo===T)return;K=K.return}for(;de!==null;){if(K=Mt(de),K===null)return;if(Re=K.tag,Re===5||Re===6||Re===26||Re===27){b=O=K;continue e}de=de.parentNode}}b=b.return}R0(function(){var tt=O,xt=vu(x),wt=[];e:{var nt=ag.get(c);if(nt!==void 0){var ct=Ol,Xt=c;switch(c){case"keypress":if(El(x)===0)break e;case"keydown":case"keyup":ct=ss;break;case"focusin":Xt="focus",ct=Ic;break;case"focusout":Xt="blur",ct=Ic;break;case"beforeblur":case"afterblur":ct=Ic;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ct=df;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ct=Lc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ct=dn;break;case _u:case ff:case rg:ct=L;break;case sg:ct=Bn;break;case"scroll":case"scrollend":ct=Ih;break;case"wheel":ct=fo;break;case"copy":case"cut":case"paste":ct=Ee;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ct=Ia;break;case"toggle":case"beforetoggle":ct=uf}var jr=(h&4)!==0,ea=!jr&&(c==="scroll"||c==="scrollend"),qe=jr?nt!==null?nt+"Capture":null:nt;jr=[];for(var Be=tt,et;Be!==null;){var bt=Be;if(et=bt.stateNode,bt=bt.tag,bt!==5&&bt!==26&&bt!==27||et===null||qe===null||(bt=dl(Be,qe),bt!=null&&jr.push(Tg(Be,bt,et))),ea)break;Be=Be.return}0<jr.length&&(nt=new ct(nt,Xt,null,x,xt),wt.push({event:nt,listeners:jr}))}}if((h&7)===0){e:{if(nt=c==="mouseover"||c==="pointerover",ct=c==="mouseout"||c==="pointerout",nt&&x!==Oc&&(Xt=x.relatedTarget||x.fromElement)&&(Mt(Xt)||Xt[Oe]))break e;if((ct||nt)&&(nt=xt.window===xt?xt:(nt=xt.ownerDocument)?nt.defaultView||nt.parentWindow:window,ct?(Xt=x.relatedTarget||x.toElement,ct=tt,Xt=Xt?Mt(Xt):null,Xt!==null&&(ea=i(Xt),jr=Xt.tag,Xt!==ea||jr!==5&&jr!==27&&jr!==6)&&(Xt=null)):(ct=null,Xt=tt),ct!==Xt)){if(jr=df,bt="onMouseLeave",qe="onMouseEnter",Be="mouse",(c==="pointerout"||c==="pointerover")&&(jr=Ia,bt="onPointerLeave",qe="onPointerEnter",Be="pointer"),ea=ct==null?nt:Rt(ct),et=Xt==null?nt:Rt(Xt),nt=new jr(bt,Be+"leave",ct,x,xt),nt.target=ea,nt.relatedTarget=et,bt=null,Mt(xt)===tt&&(jr=new jr(qe,Be+"enter",Xt,x,xt),jr.target=et,jr.relatedTarget=ea,bt=jr),ea=bt,ct&&Xt)t:{for(jr=nK,qe=ct,Be=Xt,et=0,bt=qe;bt;bt=jr(bt))et++;bt=0;for(var pr=Be;pr;pr=jr(pr))bt++;for(;0<et-bt;)qe=jr(qe),et--;for(;0<bt-et;)Be=jr(Be),bt--;for(;et--;){if(qe===Be||Be!==null&&qe===Be.alternate){jr=qe;break t}qe=jr(qe),Be=jr(Be)}jr=null}else jr=null;ct!==null&&$E(wt,nt,ct,jr,!1),Xt!==null&&ea!==null&&$E(wt,ea,Xt,jr,!0)}}e:{if(nt=tt?Rt(tt):window,ct=nt.nodeName&&nt.nodeName.toLowerCase(),ct==="select"||ct==="input"&&nt.type==="file")var bs=Ed;else if(hf(nt))if(Hi)bs=Xo;else{bs=Fa;var ar=$h}else ct=nt.nodeName,!ct||ct.toLowerCase()!=="input"||nt.type!=="checkbox"&&nt.type!=="radio"?tt&&nf(tt.elementType)&&(bs=Ed):bs=F0;if(bs&&(bs=bs(c,tt))){hl(wt,bs,x,xt);break e}ar&&ar(c,nt,tt),c==="focusout"&&tt&&nt.type==="number"&&tt.memoizedProps.value!=null&&rf(nt,"number",nt.value)}switch(ar=tt?Rt(tt):window,c){case"focusin":(hf(ar)||ar.contentEditable==="true")&&(ml=ar,Gc=tt,ai=null);break;case"focusout":ai=Gc=ml=null;break;case"mousedown":Pl=!0;break;case"contextmenu":case"mouseup":case"dragend":Pl=!1,ps(wt,x,xt);break;case"selectionchange":if(Su)break;case"keydown":case"keyup":ps(wt,x,xt)}var Br;if(Go)e:{switch(c){case"compositionstart":var ts="onCompositionStart";break e;case"compositionend":ts="onCompositionEnd";break e;case"compositionupdate":ts="onCompositionUpdate";break e}ts=void 0}else Ko?Td(c,x)&&(ts="onCompositionEnd"):c==="keydown"&&x.keyCode===229&&(ts="onCompositionStart");ts&&(Uc&&x.locale!=="ko"&&(Ko||ts!=="onCompositionStart"?ts==="onCompositionEnd"&&Ko&&(Br=M0()):(ul=xt,bu="value"in ul?ul.value:ul.textContent,Ko=!0)),ar=pb(tt,ts),0<ar.length&&(ts=new He(ts,c,null,x,xt),wt.push({event:ts,listeners:ar}),Br?ts.data=Br:(Br=Bh(x),Br!==null&&(ts.data=Br)))),(Br=wu?Si(c,x):zc(c,x))&&(ts=pb(tt,"onBeforeInput"),0<ts.length&&(ar=new He("onBeforeInput","beforeinput",null,x,xt),wt.push({event:ar,listeners:ts}),ar.data=Br)),tK(wt,c,tt,x,xt)}UE(wt,h)})}function Tg(c,h,x){return{instance:c,listener:h,currentTarget:x}}function pb(c,h){for(var x=h+"Capture",b=[];c!==null;){var T=c,O=T.stateNode;if(T=T.tag,T!==5&&T!==26&&T!==27||O===null||(T=dl(c,x),T!=null&&b.unshift(Tg(c,T,O)),T=dl(c,h),T!=null&&b.push(Tg(c,T,O))),c.tag===3)return b;c=c.return}return[]}function nK(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function $E(c,h,x,b,T){for(var O=h._reactName,K=[];x!==null&&x!==b;){var de=x,Re=de.alternate,tt=de.stateNode;if(de=de.tag,Re!==null&&Re===b)break;de!==5&&de!==26&&de!==27||tt===null||(Re=tt,T?(tt=dl(x,O),tt!=null&&K.unshift(Tg(x,tt,Re))):T||(tt=dl(x,O),tt!=null&&K.push(Tg(x,tt,Re)))),x=x.return}K.length!==0&&c.push({event:h,listeners:K})}var iK=/\r\n?/g,lK=/\u0000|\uFFFD/g;function HE(c){return(typeof c=="string"?c:""+c).replace(iK,`
`).replace(lK,"")}function qE(c,h){return h=HE(h),HE(c)===h}function Qs(c,h,x,b,T,O){switch(x){case"children":typeof b=="string"?h==="body"||h==="textarea"&&b===""||ho(c,b):(typeof b=="number"||typeof b=="bigint")&&h!=="body"&&ho(c,""+b);break;case"className":Ec(c,"class",b);break;case"tabIndex":Ec(c,"tabindex",b);break;case"dir":case"role":case"viewBox":case"width":case"height":Ec(c,x,b);break;case"style":O0(c,b,O);break;case"data":if(h!=="object"){Ec(c,"data",b);break}case"src":case"href":if(b===""&&(h!=="a"||x!=="href")){c.removeAttribute(x);break}if(b==null||typeof b=="function"||typeof b=="symbol"||typeof b=="boolean"){c.removeAttribute(x);break}b=$i(""+b),c.setAttribute(x,b);break;case"action":case"formAction":if(typeof b=="function"){c.setAttribute(x,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof O=="function"&&(x==="formAction"?(h!=="input"&&Qs(c,h,"name",T.name,T,null),Qs(c,h,"formEncType",T.formEncType,T,null),Qs(c,h,"formMethod",T.formMethod,T,null),Qs(c,h,"formTarget",T.formTarget,T,null)):(Qs(c,h,"encType",T.encType,T,null),Qs(c,h,"method",T.method,T,null),Qs(c,h,"target",T.target,T,null)));if(b==null||typeof b=="symbol"||typeof b=="boolean"){c.removeAttribute(x);break}b=$i(""+b),c.setAttribute(x,b);break;case"onClick":b!=null&&(c.onclick=mo);break;case"onScroll":b!=null&&Jr("scroll",c);break;case"onScrollEnd":b!=null&&Jr("scrollend",c);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(a(61));if(x=b.__html,x!=null){if(T.children!=null)throw Error(a(60));c.innerHTML=x}}break;case"multiple":c.multiple=b&&typeof b!="function"&&typeof b!="symbol";break;case"muted":c.muted=b&&typeof b!="function"&&typeof b!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(b==null||typeof b=="function"||typeof b=="boolean"||typeof b=="symbol"){c.removeAttribute("xlink:href");break}x=$i(""+b),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",x);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":b!=null&&typeof b!="function"&&typeof b!="symbol"?c.setAttribute(x,""+b):c.removeAttribute(x);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":b&&typeof b!="function"&&typeof b!="symbol"?c.setAttribute(x,""):c.removeAttribute(x);break;case"capture":case"download":b===!0?c.setAttribute(x,""):b!==!1&&b!=null&&typeof b!="function"&&typeof b!="symbol"?c.setAttribute(x,b):c.removeAttribute(x);break;case"cols":case"rows":case"size":case"span":b!=null&&typeof b!="function"&&typeof b!="symbol"&&!isNaN(b)&&1<=b?c.setAttribute(x,b):c.removeAttribute(x);break;case"rowSpan":case"start":b==null||typeof b=="function"||typeof b=="symbol"||isNaN(b)?c.removeAttribute(x):c.setAttribute(x,b);break;case"popover":Jr("beforetoggle",c),Jr("toggle",c),pa(c,"popover",b);break;case"xlinkActuate":uo(c,"http://www.w3.org/1999/xlink","xlink:actuate",b);break;case"xlinkArcrole":uo(c,"http://www.w3.org/1999/xlink","xlink:arcrole",b);break;case"xlinkRole":uo(c,"http://www.w3.org/1999/xlink","xlink:role",b);break;case"xlinkShow":uo(c,"http://www.w3.org/1999/xlink","xlink:show",b);break;case"xlinkTitle":uo(c,"http://www.w3.org/1999/xlink","xlink:title",b);break;case"xlinkType":uo(c,"http://www.w3.org/1999/xlink","xlink:type",b);break;case"xmlBase":uo(c,"http://www.w3.org/XML/1998/namespace","xml:base",b);break;case"xmlLang":uo(c,"http://www.w3.org/XML/1998/namespace","xml:lang",b);break;case"xmlSpace":uo(c,"http://www.w3.org/XML/1998/namespace","xml:space",b);break;case"is":pa(c,"is",b);break;case"innerText":case"textContent":break;default:(!(2<x.length)||x[0]!=="o"&&x[0]!=="O"||x[1]!=="n"&&x[1]!=="N")&&(x=lf.get(x)||x,pa(c,x,b))}}function D5(c,h,x,b,T,O){switch(x){case"style":O0(c,b,O);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(a(61));if(x=b.__html,x!=null){if(T.children!=null)throw Error(a(60));c.innerHTML=x}}break;case"children":typeof b=="string"?ho(c,b):(typeof b=="number"||typeof b=="bigint")&&ho(c,""+b);break;case"onScroll":b!=null&&Jr("scroll",c);break;case"onScrollEnd":b!=null&&Jr("scrollend",c);break;case"onClick":b!=null&&(c.onclick=mo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gr.hasOwnProperty(x))e:{if(x[0]==="o"&&x[1]==="n"&&(T=x.endsWith("Capture"),h=x.slice(2,T?x.length-7:void 0),O=c[we]||null,O=O!=null?O[x]:null,typeof O=="function"&&c.removeEventListener(h,O,T),typeof b=="function")){typeof O!="function"&&O!==null&&(x in c?c[x]=null:c.hasAttribute(x)&&c.removeAttribute(x)),c.addEventListener(h,b,T);break e}x in c?c[x]=b:b===!0?c.setAttribute(x,""):pa(c,x,b)}}}function Ti(c,h,x){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Jr("error",c),Jr("load",c);var b=!1,T=!1,O;for(O in x)if(x.hasOwnProperty(O)){var K=x[O];if(K!=null)switch(O){case"src":b=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,h));default:Qs(c,h,O,K,x,null)}}T&&Qs(c,h,"srcSet",x.srcSet,x,null),b&&Qs(c,h,"src",x.src,x,null);return;case"input":Jr("invalid",c);var de=O=K=T=null,Re=null,tt=null;for(b in x)if(x.hasOwnProperty(b)){var xt=x[b];if(xt!=null)switch(b){case"name":T=xt;break;case"type":K=xt;break;case"checked":Re=xt;break;case"defaultChecked":tt=xt;break;case"value":O=xt;break;case"defaultValue":de=xt;break;case"children":case"dangerouslySetInnerHTML":if(xt!=null)throw Error(a(137,h));break;default:Qs(c,h,b,xt,x,null)}}T0(c,O,de,Re,tt,K,T,!1);return;case"select":Jr("invalid",c),b=K=O=null;for(T in x)if(x.hasOwnProperty(T)&&(de=x[T],de!=null))switch(T){case"value":O=de;break;case"defaultValue":K=de;break;case"multiple":b=de;default:Qs(c,h,T,de,x,null)}h=O,x=K,c.multiple=!!b,h!=null?wi(c,!!b,h,!1):x!=null&&wi(c,!!b,x,!0);return;case"textarea":Jr("invalid",c),O=T=b=null;for(K in x)if(x.hasOwnProperty(K)&&(de=x[K],de!=null))switch(K){case"value":b=de;break;case"defaultValue":T=de;break;case"children":O=de;break;case"dangerouslySetInnerHTML":if(de!=null)throw Error(a(91));break;default:Qs(c,h,K,de,x,null)}af(c,b,T,O);return;case"option":for(Re in x)x.hasOwnProperty(Re)&&(b=x[Re],b!=null)&&(Re==="selected"?c.selected=b&&typeof b!="function"&&typeof b!="symbol":Qs(c,h,Re,b,x,null));return;case"dialog":Jr("beforetoggle",c),Jr("toggle",c),Jr("cancel",c),Jr("close",c);break;case"iframe":case"object":Jr("load",c);break;case"video":case"audio":for(b=0;b<kg.length;b++)Jr(kg[b],c);break;case"image":Jr("error",c),Jr("load",c);break;case"details":Jr("toggle",c);break;case"embed":case"source":case"link":Jr("error",c),Jr("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(tt in x)if(x.hasOwnProperty(tt)&&(b=x[tt],b!=null))switch(tt){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,h));default:Qs(c,h,tt,b,x,null)}return;default:if(nf(h)){for(xt in x)x.hasOwnProperty(xt)&&(b=x[xt],b!==void 0&&D5(c,h,xt,b,x,void 0));return}}for(de in x)x.hasOwnProperty(de)&&(b=x[de],b!=null&&Qs(c,h,de,b,x,null))}function oK(c,h,x,b){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,O=null,K=null,de=null,Re=null,tt=null,xt=null;for(ct in x){var wt=x[ct];if(x.hasOwnProperty(ct)&&wt!=null)switch(ct){case"checked":break;case"value":break;case"defaultValue":Re=wt;default:b.hasOwnProperty(ct)||Qs(c,h,ct,null,b,wt)}}for(var nt in b){var ct=b[nt];if(wt=x[nt],b.hasOwnProperty(nt)&&(ct!=null||wt!=null))switch(nt){case"type":O=ct;break;case"name":T=ct;break;case"checked":tt=ct;break;case"defaultChecked":xt=ct;break;case"value":K=ct;break;case"defaultValue":de=ct;break;case"children":case"dangerouslySetInnerHTML":if(ct!=null)throw Error(a(137,h));break;default:ct!==wt&&Qs(c,h,nt,ct,b,wt)}}Rh(c,K,de,Re,tt,xt,O,T);return;case"select":ct=K=de=nt=null;for(O in x)if(Re=x[O],x.hasOwnProperty(O)&&Re!=null)switch(O){case"value":break;case"multiple":ct=Re;default:b.hasOwnProperty(O)||Qs(c,h,O,null,b,Re)}for(T in b)if(O=b[T],Re=x[T],b.hasOwnProperty(T)&&(O!=null||Re!=null))switch(T){case"value":nt=O;break;case"defaultValue":de=O;break;case"multiple":K=O;default:O!==Re&&Qs(c,h,T,O,b,Re)}h=de,x=K,b=ct,nt!=null?wi(c,!!x,nt,!1):!!b!=!!x&&(h!=null?wi(c,!!x,h,!0):wi(c,!!x,x?[]:"",!1));return;case"textarea":ct=nt=null;for(de in x)if(T=x[de],x.hasOwnProperty(de)&&T!=null&&!b.hasOwnProperty(de))switch(de){case"value":break;case"children":break;default:Qs(c,h,de,null,b,T)}for(K in b)if(T=b[K],O=x[K],b.hasOwnProperty(K)&&(T!=null||O!=null))switch(K){case"value":nt=T;break;case"defaultValue":ct=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:T!==O&&Qs(c,h,K,T,b,O)}sf(c,nt,ct);return;case"option":for(var Xt in x)nt=x[Xt],x.hasOwnProperty(Xt)&&nt!=null&&!b.hasOwnProperty(Xt)&&(Xt==="selected"?c.selected=!1:Qs(c,h,Xt,null,b,nt));for(Re in b)nt=b[Re],ct=x[Re],b.hasOwnProperty(Re)&&nt!==ct&&(nt!=null||ct!=null)&&(Re==="selected"?c.selected=nt&&typeof nt!="function"&&typeof nt!="symbol":Qs(c,h,Re,nt,b,ct));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var jr in x)nt=x[jr],x.hasOwnProperty(jr)&&nt!=null&&!b.hasOwnProperty(jr)&&Qs(c,h,jr,null,b,nt);for(tt in b)if(nt=b[tt],ct=x[tt],b.hasOwnProperty(tt)&&nt!==ct&&(nt!=null||ct!=null))switch(tt){case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(a(137,h));break;default:Qs(c,h,tt,nt,b,ct)}return;default:if(nf(h)){for(var ea in x)nt=x[ea],x.hasOwnProperty(ea)&&nt!==void 0&&!b.hasOwnProperty(ea)&&D5(c,h,ea,void 0,b,nt);for(xt in b)nt=b[xt],ct=x[xt],!b.hasOwnProperty(xt)||nt===ct||nt===void 0&&ct===void 0||D5(c,h,xt,nt,b,ct);return}}for(var qe in x)nt=x[qe],x.hasOwnProperty(qe)&&nt!=null&&!b.hasOwnProperty(qe)&&Qs(c,h,qe,null,b,nt);for(wt in b)nt=b[wt],ct=x[wt],!b.hasOwnProperty(wt)||nt===ct||nt==null&&ct==null||Qs(c,h,wt,nt,b,ct)}function VE(c){switch(c){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function cK(){if(typeof performance.getEntriesByType=="function"){for(var c=0,h=0,x=performance.getEntriesByType("resource"),b=0;b<x.length;b++){var T=x[b],O=T.transferSize,K=T.initiatorType,de=T.duration;if(O&&de&&VE(K)){for(K=0,de=T.responseEnd,b+=1;b<x.length;b++){var Re=x[b],tt=Re.startTime;if(tt>de)break;var xt=Re.transferSize,wt=Re.initiatorType;xt&&VE(wt)&&(Re=Re.responseEnd,K+=xt*(Re<de?1:(de-tt)/(Re-tt)))}if(--b,h+=8*(O+K)/(T.duration/1e3),c++,10<c)break}}if(0<c)return h/c/1e6}return navigator.connection&&(c=navigator.connection.downlink,typeof c=="number")?c:5}var R5=null,M5=null;function xb(c){return c.nodeType===9?c:c.ownerDocument}function WE(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function GE(c,h){if(c===0)switch(h){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&h==="foreignObject"?0:c}function L5(c,h){return c==="textarea"||c==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.children=="bigint"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var I5=null;function dK(){var c=window.event;return c&&c.type==="popstate"?c===I5?!1:(I5=c,!0):(I5=null,!1)}var KE=typeof setTimeout=="function"?setTimeout:void 0,uK=typeof clearTimeout=="function"?clearTimeout:void 0,YE=typeof Promise=="function"?Promise:void 0,hK=typeof queueMicrotask=="function"?queueMicrotask:typeof YE<"u"?function(c){return YE.resolve(null).then(c).catch(mK)}:KE;function mK(c){setTimeout(function(){throw c})}function om(c){return c==="head"}function ZE(c,h){var x=h,b=0;do{var T=x.nextSibling;if(c.removeChild(x),T&&T.nodeType===8)if(x=T.data,x==="/$"||x==="/&"){if(b===0){c.removeChild(T),gp(h);return}b--}else if(x==="$"||x==="$?"||x==="$~"||x==="$!"||x==="&")b++;else if(x==="html")Eg(c.ownerDocument.documentElement);else if(x==="head"){x=c.ownerDocument.head,Eg(x);for(var O=x.firstChild;O;){var K=O.nextSibling,de=O.nodeName;O[Qe]||de==="SCRIPT"||de==="STYLE"||de==="LINK"&&O.rel.toLowerCase()==="stylesheet"||x.removeChild(O),O=K}}else x==="body"&&Eg(c.ownerDocument.body);x=T}while(x);gp(h)}function XE(c,h){var x=c;c=0;do{var b=x.nextSibling;if(x.nodeType===1?h?(x._stashedDisplay=x.style.display,x.style.display="none"):(x.style.display=x._stashedDisplay||"",x.getAttribute("style")===""&&x.removeAttribute("style")):x.nodeType===3&&(h?(x._stashedText=x.nodeValue,x.nodeValue=""):x.nodeValue=x._stashedText||""),b&&b.nodeType===8)if(x=b.data,x==="/$"){if(c===0)break;c--}else x!=="$"&&x!=="$?"&&x!=="$~"&&x!=="$!"||c++;x=b}while(x)}function F5(c){var h=c.firstChild;for(h&&h.nodeType===10&&(h=h.nextSibling);h;){var x=h;switch(h=h.nextSibling,x.nodeName){case"HTML":case"HEAD":case"BODY":F5(x),Tt(x);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(x.rel.toLowerCase()==="stylesheet")continue}c.removeChild(x)}}function fK(c,h,x,b){for(;c.nodeType===1;){var T=x;if(c.nodeName.toLowerCase()!==h.toLowerCase()){if(!b&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(b){if(!c[Qe])switch(h){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(O=c.getAttribute("rel"),O==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(O!==T.rel||c.getAttribute("href")!==(T.href==null||T.href===""?null:T.href)||c.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||c.getAttribute("title")!==(T.title==null?null:T.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(O=c.getAttribute("src"),(O!==(T.src==null?null:T.src)||c.getAttribute("type")!==(T.type==null?null:T.type)||c.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&O&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(h==="input"&&c.type==="hidden"){var O=T.name==null?null:""+T.name;if(T.type==="hidden"&&c.getAttribute("name")===O)return c}else return c;if(c=ac(c.nextSibling),c===null)break}return null}function pK(c,h,x){if(h==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!x||(c=ac(c.nextSibling),c===null))return null;return c}function JE(c,h){for(;c.nodeType!==8;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!h||(c=ac(c.nextSibling),c===null))return null;return c}function B5(c){return c.data==="$?"||c.data==="$~"}function U5(c){return c.data==="$!"||c.data==="$?"&&c.ownerDocument.readyState!=="loading"}function xK(c,h){var x=c.ownerDocument;if(c.data==="$~")c._reactRetry=h;else if(c.data!=="$?"||x.readyState!=="loading")h();else{var b=function(){h(),x.removeEventListener("DOMContentLoaded",b)};x.addEventListener("DOMContentLoaded",b),c._reactRetry=b}}function ac(c){for(;c!=null;c=c.nextSibling){var h=c.nodeType;if(h===1||h===3)break;if(h===8){if(h=c.data,h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"||h==="F!"||h==="F")break;if(h==="/$"||h==="/&")return null}}return c}var z5=null;function QE(c){c=c.nextSibling;for(var h=0;c;){if(c.nodeType===8){var x=c.data;if(x==="/$"||x==="/&"){if(h===0)return ac(c.nextSibling);h--}else x!=="$"&&x!=="$!"&&x!=="$?"&&x!=="$~"&&x!=="&"||h++}c=c.nextSibling}return null}function eO(c){c=c.previousSibling;for(var h=0;c;){if(c.nodeType===8){var x=c.data;if(x==="$"||x==="$!"||x==="$?"||x==="$~"||x==="&"){if(h===0)return c;h--}else x!=="/$"&&x!=="/&"||h++}c=c.previousSibling}return null}function tO(c,h,x){switch(h=xb(x),c){case"html":if(c=h.documentElement,!c)throw Error(a(452));return c;case"head":if(c=h.head,!c)throw Error(a(453));return c;case"body":if(c=h.body,!c)throw Error(a(454));return c;default:throw Error(a(451))}}function Eg(c){for(var h=c.attributes;h.length;)c.removeAttributeNode(h[0]);Tt(c)}var nc=new Map,rO=new Set;function gb(c){return typeof c.getRootNode=="function"?c.getRootNode():c.nodeType===9?c:c.ownerDocument}var $u=ie.d;ie.d={f:gK,r:vK,D:yK,C:bK,L:jK,m:NK,X:SK,S:wK,M:_K};function gK(){var c=$u.f(),h=ob();return c||h}function vK(c){var h=$t(c);h!==null&&h.tag===5&&h.type==="form"?yT(h):$u.r(c)}var fp=typeof document>"u"?null:document;function sO(c,h,x){var b=fp;if(b&&typeof h=="string"&&h){var T=Va(h);T='link[rel="'+c+'"][href="'+T+'"]',typeof x=="string"&&(T+='[crossorigin="'+x+'"]'),rO.has(T)||(rO.add(T),c={rel:c,crossOrigin:x,href:h},b.querySelector(T)===null&&(h=b.createElement("link"),Ti(h,"link",c),Gt(h),b.head.appendChild(h)))}}function yK(c){$u.D(c),sO("dns-prefetch",c,null)}function bK(c,h){$u.C(c,h),sO("preconnect",c,h)}function jK(c,h,x){$u.L(c,h,x);var b=fp;if(b&&c&&h){var T='link[rel="preload"][as="'+Va(h)+'"]';h==="image"&&x&&x.imageSrcSet?(T+='[imagesrcset="'+Va(x.imageSrcSet)+'"]',typeof x.imageSizes=="string"&&(T+='[imagesizes="'+Va(x.imageSizes)+'"]')):T+='[href="'+Va(c)+'"]';var O=T;switch(h){case"style":O=pp(c);break;case"script":O=xp(c)}nc.has(O)||(c=f({rel:"preload",href:h==="image"&&x&&x.imageSrcSet?void 0:c,as:h},x),nc.set(O,c),b.querySelector(T)!==null||h==="style"&&b.querySelector(Og(O))||h==="script"&&b.querySelector(Pg(O))||(h=b.createElement("link"),Ti(h,"link",c),Gt(h),b.head.appendChild(h)))}}function NK(c,h){$u.m(c,h);var x=fp;if(x&&c){var b=h&&typeof h.as=="string"?h.as:"script",T='link[rel="modulepreload"][as="'+Va(b)+'"][href="'+Va(c)+'"]',O=T;switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":O=xp(c)}if(!nc.has(O)&&(c=f({rel:"modulepreload",href:c},h),nc.set(O,c),x.querySelector(T)===null)){switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(x.querySelector(Pg(O)))return}b=x.createElement("link"),Ti(b,"link",c),Gt(b),x.head.appendChild(b)}}}function wK(c,h,x){$u.S(c,h,x);var b=fp;if(b&&c){var T=Ft(b).hoistableStyles,O=pp(c);h=h||"default";var K=T.get(O);if(!K){var de={loading:0,preload:null};if(K=b.querySelector(Og(O)))de.loading=5;else{c=f({rel:"stylesheet",href:c,"data-precedence":h},x),(x=nc.get(O))&&$5(c,x);var Re=K=b.createElement("link");Gt(Re),Ti(Re,"link",c),Re._p=new Promise(function(tt,xt){Re.onload=tt,Re.onerror=xt}),Re.addEventListener("load",function(){de.loading|=1}),Re.addEventListener("error",function(){de.loading|=2}),de.loading|=4,vb(K,h,b)}K={type:"stylesheet",instance:K,count:1,state:de},T.set(O,K)}}}function SK(c,h){$u.X(c,h);var x=fp;if(x&&c){var b=Ft(x).hoistableScripts,T=xp(c),O=b.get(T);O||(O=x.querySelector(Pg(T)),O||(c=f({src:c,async:!0},h),(h=nc.get(T))&&H5(c,h),O=x.createElement("script"),Gt(O),Ti(O,"link",c),x.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},b.set(T,O))}}function _K(c,h){$u.M(c,h);var x=fp;if(x&&c){var b=Ft(x).hoistableScripts,T=xp(c),O=b.get(T);O||(O=x.querySelector(Pg(T)),O||(c=f({src:c,async:!0,type:"module"},h),(h=nc.get(T))&&H5(c,h),O=x.createElement("script"),Gt(O),Ti(O,"link",c),x.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},b.set(T,O))}}function aO(c,h,x,b){var T=(T=le.current)?gb(T):null;if(!T)throw Error(a(446));switch(c){case"meta":case"title":return null;case"style":return typeof x.precedence=="string"&&typeof x.href=="string"?(h=pp(x.href),x=Ft(T).hoistableStyles,b=x.get(h),b||(b={type:"style",instance:null,count:0,state:null},x.set(h,b)),b):{type:"void",instance:null,count:0,state:null};case"link":if(x.rel==="stylesheet"&&typeof x.href=="string"&&typeof x.precedence=="string"){c=pp(x.href);var O=Ft(T).hoistableStyles,K=O.get(c);if(K||(T=T.ownerDocument||T,K={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},O.set(c,K),(O=T.querySelector(Og(c)))&&!O._p&&(K.instance=O,K.state.loading=5),nc.has(c)||(x={rel:"preload",as:"style",href:x.href,crossOrigin:x.crossOrigin,integrity:x.integrity,media:x.media,hrefLang:x.hrefLang,referrerPolicy:x.referrerPolicy},nc.set(c,x),O||AK(T,c,x,K.state))),h&&b===null)throw Error(a(528,""));return K}if(h&&b!==null)throw Error(a(529,""));return null;case"script":return h=x.async,x=x.src,typeof x=="string"&&h&&typeof h!="function"&&typeof h!="symbol"?(h=xp(x),x=Ft(T).hoistableScripts,b=x.get(h),b||(b={type:"script",instance:null,count:0,state:null},x.set(h,b)),b):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,c))}}function pp(c){return'href="'+Va(c)+'"'}function Og(c){return'link[rel="stylesheet"]['+c+"]"}function nO(c){return f({},c,{"data-precedence":c.precedence,precedence:null})}function AK(c,h,x,b){c.querySelector('link[rel="preload"][as="style"]['+h+"]")?b.loading=1:(h=c.createElement("link"),b.preload=h,h.addEventListener("load",function(){return b.loading|=1}),h.addEventListener("error",function(){return b.loading|=2}),Ti(h,"link",x),Gt(h),c.head.appendChild(h))}function xp(c){return'[src="'+Va(c)+'"]'}function Pg(c){return"script[async]"+c}function iO(c,h,x){if(h.count++,h.instance===null)switch(h.type){case"style":var b=c.querySelector('style[data-href~="'+Va(x.href)+'"]');if(b)return h.instance=b,Gt(b),b;var T=f({},x,{"data-href":x.href,"data-precedence":x.precedence,href:null,precedence:null});return b=(c.ownerDocument||c).createElement("style"),Gt(b),Ti(b,"style",T),vb(b,x.precedence,c),h.instance=b;case"stylesheet":T=pp(x.href);var O=c.querySelector(Og(T));if(O)return h.state.loading|=4,h.instance=O,Gt(O),O;b=nO(x),(T=nc.get(T))&&$5(b,T),O=(c.ownerDocument||c).createElement("link"),Gt(O);var K=O;return K._p=new Promise(function(de,Re){K.onload=de,K.onerror=Re}),Ti(O,"link",b),h.state.loading|=4,vb(O,x.precedence,c),h.instance=O;case"script":return O=xp(x.src),(T=c.querySelector(Pg(O)))?(h.instance=T,Gt(T),T):(b=x,(T=nc.get(O))&&(b=f({},x),H5(b,T)),c=c.ownerDocument||c,T=c.createElement("script"),Gt(T),Ti(T,"link",b),c.head.appendChild(T),h.instance=T);case"void":return null;default:throw Error(a(443,h.type))}else h.type==="stylesheet"&&(h.state.loading&4)===0&&(b=h.instance,h.state.loading|=4,vb(b,x.precedence,c));return h.instance}function vb(c,h,x){for(var b=x.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=b.length?b[b.length-1]:null,O=T,K=0;K<b.length;K++){var de=b[K];if(de.dataset.precedence===h)O=de;else if(O!==T)break}O?O.parentNode.insertBefore(c,O.nextSibling):(h=x.nodeType===9?x.head:x,h.insertBefore(c,h.firstChild))}function $5(c,h){c.crossOrigin==null&&(c.crossOrigin=h.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=h.referrerPolicy),c.title==null&&(c.title=h.title)}function H5(c,h){c.crossOrigin==null&&(c.crossOrigin=h.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=h.referrerPolicy),c.integrity==null&&(c.integrity=h.integrity)}var yb=null;function lO(c,h,x){if(yb===null){var b=new Map,T=yb=new Map;T.set(x,b)}else T=yb,b=T.get(x),b||(b=new Map,T.set(x,b));if(b.has(c))return b;for(b.set(c,null),x=x.getElementsByTagName(c),T=0;T<x.length;T++){var O=x[T];if(!(O[Qe]||O[ge]||c==="link"&&O.getAttribute("rel")==="stylesheet")&&O.namespaceURI!=="http://www.w3.org/2000/svg"){var K=O.getAttribute(h)||"";K=c+K;var de=b.get(K);de?de.push(O):b.set(K,[O])}}return b}function oO(c,h,x){c=c.ownerDocument||c,c.head.insertBefore(x,h==="title"?c.querySelector("head > title"):null)}function CK(c,h,x){if(x===1||h.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof h.precedence!="string"||typeof h.href!="string"||h.href==="")break;return!0;case"link":if(typeof h.rel!="string"||typeof h.href!="string"||h.href===""||h.onLoad||h.onError)break;return h.rel==="stylesheet"?(c=h.disabled,typeof h.precedence=="string"&&c==null):!0;case"script":if(h.async&&typeof h.async!="function"&&typeof h.async!="symbol"&&!h.onLoad&&!h.onError&&h.src&&typeof h.src=="string")return!0}return!1}function cO(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}function kK(c,h,x,b){if(x.type==="stylesheet"&&(typeof b.media!="string"||matchMedia(b.media).matches!==!1)&&(x.state.loading&4)===0){if(x.instance===null){var T=pp(b.href),O=h.querySelector(Og(T));if(O){h=O._p,h!==null&&typeof h=="object"&&typeof h.then=="function"&&(c.count++,c=bb.bind(c),h.then(c,c)),x.state.loading|=4,x.instance=O,Gt(O);return}O=h.ownerDocument||h,b=nO(b),(T=nc.get(T))&&$5(b,T),O=O.createElement("link"),Gt(O);var K=O;K._p=new Promise(function(de,Re){K.onload=de,K.onerror=Re}),Ti(O,"link",b),x.instance=O}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(x,h),(h=x.state.preload)&&(x.state.loading&3)===0&&(c.count++,x=bb.bind(c),h.addEventListener("load",x),h.addEventListener("error",x))}}var q5=0;function TK(c,h){return c.stylesheets&&c.count===0&&Nb(c,c.stylesheets),0<c.count||0<c.imgCount?function(x){var b=setTimeout(function(){if(c.stylesheets&&Nb(c,c.stylesheets),c.unsuspend){var O=c.unsuspend;c.unsuspend=null,O()}},6e4+h);0<c.imgBytes&&q5===0&&(q5=62500*cK());var T=setTimeout(function(){if(c.waitingForImages=!1,c.count===0&&(c.stylesheets&&Nb(c,c.stylesheets),c.unsuspend)){var O=c.unsuspend;c.unsuspend=null,O()}},(c.imgBytes>q5?50:800)+h);return c.unsuspend=x,function(){c.unsuspend=null,clearTimeout(b),clearTimeout(T)}}:null}function bb(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Nb(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var jb=null;function Nb(c,h){c.stylesheets=null,c.unsuspend!==null&&(c.count++,jb=new Map,h.forEach(EK,c),jb=null,bb.call(c))}function EK(c,h){if(!(h.state.loading&4)){var x=jb.get(c);if(x)var b=x.get(null);else{x=new Map,jb.set(c,x);for(var T=c.querySelectorAll("link[data-precedence],style[data-precedence]"),O=0;O<T.length;O++){var K=T[O];(K.nodeName==="LINK"||K.getAttribute("media")!=="not all")&&(x.set(K.dataset.precedence,K),b=K)}b&&x.set(null,b)}T=h.instance,K=T.getAttribute("data-precedence"),O=x.get(K)||b,O===b&&x.set(null,T),x.set(K,T),this.count++,b=bb.bind(this),T.addEventListener("load",b),T.addEventListener("error",b),O?O.parentNode.insertBefore(T,O.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(T,c.firstChild)),h.state.loading|=4}}var Dg={$$typeof:w,Provider:null,Consumer:null,_currentValue:G,_currentValue2:G,_threadCount:0};function OK(c,h,x,b,T,O,K,de,Re){this.tag=1,this.containerInfo=c,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zi(0),this.hiddenUpdates=zi(null),this.identifierPrefix=b,this.onUncaughtError=T,this.onCaughtError=O,this.onRecoverableError=K,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Re,this.incompleteTransitions=new Map}function dO(c,h,x,b,T,O,K,de,Re,tt,xt,wt){return c=new OK(c,h,x,K,Re,tt,xt,wt,de),h=1,O===!0&&(h|=24),O=ii(3,null,null,h),c.current=O,O.stateNode=c,h=Zh(),h.refCount++,c.pooledCache=h,h.refCount++,O.memoizedState={element:b,isDehydrated:x,cache:h},Ut(O),c}function uO(c){return c?(c=zn,c):zn}function hO(c,h,x,b,T,O){T=uO(T),b.context===null?b.context=T:b.pendingContext=T,b=yr(h),b.payload={element:x},O=O===void 0?null:O,O!==null&&(b.callback=O),x=Rr(c,b,h),x!==null&&(Wl(x,c,h),Cs(x,c,h))}function mO(c,h){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var x=c.retryLane;c.retryLane=x!==0&&x<h?x:h}}function V5(c,h){mO(c,h),(c=c.alternate)&&mO(c,h)}function fO(c){if(c.tag===13||c.tag===31){var h=Kc(c,67108864);h!==null&&Wl(h,c,67108864),V5(c,67108864)}}function pO(c){if(c.tag===13||c.tag===31){var h=No();h=Ks(h);var x=Kc(c,h);x!==null&&Wl(x,c,h),V5(c,h)}}var wb=!0;function PK(c,h,x,b){var T=Z.T;Z.T=null;var O=ie.p;try{ie.p=2,W5(c,h,x,b)}finally{ie.p=O,Z.T=T}}function DK(c,h,x,b){var T=Z.T;Z.T=null;var O=ie.p;try{ie.p=8,W5(c,h,x,b)}finally{ie.p=O,Z.T=T}}function W5(c,h,x,b){if(wb){var T=G5(b);if(T===null)P5(c,h,b,Sb,x),gO(c,b);else if(MK(T,c,h,x,b))b.stopPropagation();else if(gO(c,b),h&4&&-1<RK.indexOf(c)){for(;T!==null;){var O=$t(T);if(O!==null)switch(O.tag){case 3:if(O=O.stateNode,O.current.memoizedState.isDehydrated){var K=rr(O.pendingLanes);if(K!==0){var de=O;for(de.pendingLanes|=2,de.entangledLanes|=2;K;){var Re=1<<31-Lr(K);de.entanglements[1]|=Re,K&=~Re}Hd(O),(Ts&6)===0&&(ib=st()+500,Cg(0))}}break;case 31:case 13:de=Kc(O,2),de!==null&&Wl(de,O,2),ob(),V5(O,2)}if(O=G5(b),O===null&&P5(c,h,b,Sb,x),O===T)break;T=O}T!==null&&b.stopPropagation()}else P5(c,h,b,null,x)}}function G5(c){return c=vu(c),K5(c)}var Sb=null;function K5(c){if(Sb=null,c=Mt(c),c!==null){var h=i(c);if(h===null)c=null;else{var x=h.tag;if(x===13){if(c=l(h),c!==null)return c;c=null}else if(x===31){if(c=o(h),c!==null)return c;c=null}else if(x===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;c=null}else h!==c&&(c=null)}}return Sb=c,null}function xO(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ut()){case lt:return 2;case At:return 8;case Lt:case Et:return 32;case Qt:return 268435456;default:return 32}default:return 32}}var Y5=!1,cm=null,dm=null,um=null,Rg=new Map,Mg=new Map,hm=[],RK="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gO(c,h){switch(c){case"focusin":case"focusout":cm=null;break;case"dragenter":case"dragleave":dm=null;break;case"mouseover":case"mouseout":um=null;break;case"pointerover":case"pointerout":Rg.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mg.delete(h.pointerId)}}function Lg(c,h,x,b,T,O){return c===null||c.nativeEvent!==O?(c={blockedOn:h,domEventName:x,eventSystemFlags:b,nativeEvent:O,targetContainers:[T]},h!==null&&(h=$t(h),h!==null&&fO(h)),c):(c.eventSystemFlags|=b,h=c.targetContainers,T!==null&&h.indexOf(T)===-1&&h.push(T),c)}function MK(c,h,x,b,T){switch(h){case"focusin":return cm=Lg(cm,c,h,x,b,T),!0;case"dragenter":return dm=Lg(dm,c,h,x,b,T),!0;case"mouseover":return um=Lg(um,c,h,x,b,T),!0;case"pointerover":var O=T.pointerId;return Rg.set(O,Lg(Rg.get(O)||null,c,h,x,b,T)),!0;case"gotpointercapture":return O=T.pointerId,Mg.set(O,Lg(Mg.get(O)||null,c,h,x,b,T)),!0}return!1}function vO(c){var h=Mt(c.target);if(h!==null){var x=i(h);if(x!==null){if(h=x.tag,h===13){if(h=l(x),h!==null){c.blockedOn=h,Te(c.priority,function(){pO(x)});return}}else if(h===31){if(h=o(x),h!==null){c.blockedOn=h,Te(c.priority,function(){pO(x)});return}}else if(h===3&&x.stateNode.current.memoizedState.isDehydrated){c.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}c.blockedOn=null}function _b(c){if(c.blockedOn!==null)return!1;for(var h=c.targetContainers;0<h.length;){var x=G5(c.nativeEvent);if(x===null){x=c.nativeEvent;var b=new x.constructor(x.type,x);Oc=b,x.target.dispatchEvent(b),Oc=null}else return h=$t(x),h!==null&&fO(h),c.blockedOn=x,!1;h.shift()}return!0}function yO(c,h,x){_b(c)&&x.delete(h)}function LK(){Y5=!1,cm!==null&&_b(cm)&&(cm=null),dm!==null&&_b(dm)&&(dm=null),um!==null&&_b(um)&&(um=null),Rg.forEach(yO),Mg.forEach(yO)}function Ab(c,h){c.blockedOn===h&&(c.blockedOn=null,Y5||(Y5=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,LK)))}var Cb=null;function bO(c){Cb!==c&&(Cb=c,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Cb===c&&(Cb=null);for(var h=0;h<c.length;h+=3){var x=c[h],b=c[h+1],T=c[h+2];if(typeof b!="function"){if(K5(b||x)===null)continue;break}var O=$t(x);O!==null&&(c.splice(h,3),h-=3,Gw(O,{pending:!0,data:T,method:x.method,action:b},b,T))}}))}function gp(c){function h(Re){return Ab(Re,c)}cm!==null&&Ab(cm,c),dm!==null&&Ab(dm,c),um!==null&&Ab(um,c),Rg.forEach(h),Mg.forEach(h);for(var x=0;x<hm.length;x++){var b=hm[x];b.blockedOn===c&&(b.blockedOn=null)}for(;0<hm.length&&(x=hm[0],x.blockedOn===null);)vO(x),x.blockedOn===null&&hm.shift();if(x=(c.ownerDocument||c).$$reactFormReplay,x!=null)for(b=0;b<x.length;b+=3){var T=x[b],O=x[b+1],K=T[we]||null;if(typeof O=="function")K||bO(x);else if(K){var de=null;if(O&&O.hasAttribute("formAction")){if(T=O,K=O[we]||null)de=K.formAction;else if(K5(T)!==null)continue}else de=K.action;typeof de=="function"?x[b+1]=de:(x.splice(b,3),b-=3),bO(x)}}}function jO(){function c(O){O.canIntercept&&O.info==="react-transition"&&O.intercept({handler:function(){return new Promise(function(K){return T=K})},focusReset:"manual",scroll:"manual"})}function h(){T!==null&&(T(),T=null),b||setTimeout(x,20)}function x(){if(!b&&!navigation.transition){var O=navigation.currentEntry;O&&O.url!=null&&navigation.navigate(O.url,{state:O.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var b=!1,T=null;return navigation.addEventListener("navigate",c),navigation.addEventListener("navigatesuccess",h),navigation.addEventListener("navigateerror",h),setTimeout(x,100),function(){b=!0,navigation.removeEventListener("navigate",c),navigation.removeEventListener("navigatesuccess",h),navigation.removeEventListener("navigateerror",h),T!==null&&(T(),T=null)}}}function Z5(c){this._internalRoot=c}kb.prototype.render=Z5.prototype.render=function(c){var h=this._internalRoot;if(h===null)throw Error(a(409));var x=h.current,b=No();hO(x,b,c,h,null,null)},kb.prototype.unmount=Z5.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var h=c.containerInfo;hO(c.current,2,null,c,null,null),ob(),h[Oe]=null}};function kb(c){this._internalRoot=c}kb.prototype.unstable_scheduleHydration=function(c){if(c){var h=se();c={blockedOn:null,target:c,priority:h};for(var x=0;x<hm.length&&h!==0&&h<hm[x].priority;x++);hm.splice(x,0,c),x===0&&vO(c)}};var NO=t.version;if(NO!=="19.2.3")throw Error(a(527,NO,"19.2.3"));ie.findDOMNode=function(c){var h=c._reactInternals;if(h===void 0)throw typeof c.render=="function"?Error(a(188)):(c=Object.keys(c).join(","),Error(a(268,c)));return c=d(h),c=c!==null?m(c):null,c=c===null?null:c.stateNode,c};var IK={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tb.isDisabled&&Tb.supportsFiber)try{Tr=Tb.inject(IK),nr=Tb}catch{}}return Fg.createRoot=function(c,h){if(!n(c))throw Error(a(299));var x=!1,b="",T=TT,O=ET,K=OT;return h!=null&&(h.unstable_strictMode===!0&&(x=!0),h.identifierPrefix!==void 0&&(b=h.identifierPrefix),h.onUncaughtError!==void 0&&(T=h.onUncaughtError),h.onCaughtError!==void 0&&(O=h.onCaughtError),h.onRecoverableError!==void 0&&(K=h.onRecoverableError)),h=dO(c,1,!1,null,null,x,b,null,T,O,K,jO),c[Oe]=h.current,O5(c),new Z5(h)},Fg.hydrateRoot=function(c,h,x){if(!n(c))throw Error(a(299));var b=!1,T="",O=TT,K=ET,de=OT,Re=null;return x!=null&&(x.unstable_strictMode===!0&&(b=!0),x.identifierPrefix!==void 0&&(T=x.identifierPrefix),x.onUncaughtError!==void 0&&(O=x.onUncaughtError),x.onCaughtError!==void 0&&(K=x.onCaughtError),x.onRecoverableError!==void 0&&(de=x.onRecoverableError),x.formState!==void 0&&(Re=x.formState)),h=dO(c,1,!0,h,x??null,b,T,Re,O,K,de,jO),h.context=uO(null),x=h.current,b=No(),b=Ks(b),T=yr(b),T.callback=null,Rr(x,T,b),x=b,h.current.lanes=x,or(h,x),Hd(h),c[Oe]=h.current,O5(c),new kb(h)},Fg.version="19.2.3",Fg}var PO;function KK(){if(PO)return Q5.exports;PO=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Q5.exports=GK(),Q5.exports}var YK=KK();var DO="popstate";function ZK(e={}){function t(a,n){let{pathname:i,search:l,hash:o}=a.location;return r_("",{pathname:i,search:l,hash:o},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function s(a,n){return typeof n=="string"?n:Nv(n)}return JK(t,s,null,e)}function Ra(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function yc(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function XK(){return Math.random().toString(36).substring(2,10)}function RO(e,t){return{usr:e.state,key:e.key,idx:t}}function r_(e,t,s=null,a){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ax(t):t,state:s,key:t&&t.key||a||XK()}}function Nv({pathname:e="/",search:t="",hash:s=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Ax(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substring(s),e=e.substring(0,s));let a=e.indexOf("?");a>=0&&(t.search=e.substring(a),e=e.substring(0,a)),e&&(t.pathname=e)}return t}function JK(e,t,s,a={}){let{window:n=document.defaultView,v5Compat:i=!1}=a,l=n.history,o="POP",u=null,d=m();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function m(){return(l.state||{idx:null}).idx}function f(){o="POP";let j=m(),N=j==null?null:j-d;d=j,u&&u({action:o,location:v.location,delta:N})}function g(j,N){o="PUSH";let k=r_(v.location,j,N);d=m()+1;let w=RO(k,d),A=v.createHref(k);try{l.pushState(w,"",A)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;n.location.assign(A)}i&&u&&u({action:o,location:v.location,delta:1})}function p(j,N){o="REPLACE";let k=r_(v.location,j,N);d=m();let w=RO(k,d),A=v.createHref(k);l.replaceState(w,"",A),i&&u&&u({action:o,location:v.location,delta:0})}function y(j){return QK(j)}let v={get action(){return o},get location(){return e(n,l)},listen(j){if(u)throw new Error("A history only accepts one active listener");return n.addEventListener(DO,f),u=j,()=>{n.removeEventListener(DO,f),u=null}},createHref(j){return t(n,j)},createURL:y,encodeLocation(j){let N=y(j);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:g,replace:p,go(j){return l.go(j)}};return v}function QK(e,t=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),Ra(s,"No window.location.(origin|href) available to create URL");let a=typeof e=="string"?e:Nv(e);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=s+a),new URL(a,s)}function EF(e,t,s="/"){return eY(e,t,s,!1)}function eY(e,t,s,a){let n=typeof t=="string"?Ax(t):t,i=ch(n.pathname||"/",s);if(i==null)return null;let l=OF(e);tY(l);let o=null;for(let u=0;o==null&&u<l.length;++u){let d=hY(i);o=dY(l[u],d,a)}return o}function OF(e,t=[],s=[],a="",n=!1){let i=(l,o,u=n,d)=>{let m={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:o,route:l};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(a)&&u)return;Ra(m.relativePath.startsWith(a),`Absolute route path "${m.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(a.length)}let f=th([a,m.relativePath]),g=s.concat(m);l.children&&l.children.length>0&&(Ra(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),OF(l.children,t,g,f,u)),!(l.path==null&&!l.index)&&t.push({path:f,score:oY(f,l.index),routesMeta:g})};return e.forEach((l,o)=>{if(l.path===""||!l.path?.includes("?"))i(l,o);else for(let u of PF(l.path))i(l,o,!0,u)}),t}function PF(e){let t=e.split("/");if(t.length===0)return[];let[s,...a]=t,n=s.endsWith("?"),i=s.replace(/\?$/,"");if(a.length===0)return n?[i,""]:[i];let l=PF(a.join("/")),o=[];return o.push(...l.map(u=>u===""?i:[i,u].join("/"))),n&&o.push(...l),o.map(u=>e.startsWith("/")&&u===""?"/":u)}function tY(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:cY(t.routesMeta.map(a=>a.childrenIndex),s.routesMeta.map(a=>a.childrenIndex)))}var rY=/^:[\w-]+$/,sY=3,aY=2,nY=1,iY=10,lY=-2,MO=e=>e==="*";function oY(e,t){let s=e.split("/"),a=s.length;return s.some(MO)&&(a+=lY),t&&(a+=aY),s.filter(n=>!MO(n)).reduce((n,i)=>n+(rY.test(i)?sY:i===""?nY:iY),a)}function cY(e,t){return e.length===t.length&&e.slice(0,-1).every((a,n)=>a===t[n])?e[e.length-1]-t[t.length-1]:0}function dY(e,t,s=!1){let{routesMeta:a}=e,n={},i="/",l=[];for(let o=0;o<a.length;++o){let u=a[o],d=o===a.length-1,m=i==="/"?t:t.slice(i.length)||"/",f=C2({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},m),g=u.route;if(!f&&d&&s&&!a[a.length-1].route.index&&(f=C2({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},m)),!f)return null;Object.assign(n,f.params),l.push({params:n,pathname:th([i,f.pathname]),pathnameBase:xY(th([i,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(i=th([i,f.pathnameBase]))}return l}function C2(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,a]=uY(e.path,e.caseSensitive,e.end),n=t.match(s);if(!n)return null;let i=n[0],l=i.replace(/(.)\/+$/,"$1"),o=n.slice(1);return{params:a.reduce((d,{paramName:m,isOptional:f},g)=>{if(m==="*"){let y=o[g]||"";l=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const p=o[g];return f&&!p?d[m]=void 0:d[m]=(p||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:l,pattern:e}}function uY(e,t=!1,s=!0){yc(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,u)=>(a.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(a.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),a]}function hY(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return yc(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ch(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,a=e.charAt(s);return a&&a!=="/"?null:e.slice(s)||"/"}var DF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mY=e=>DF.test(e);function fY(e,t="/"){let{pathname:s,search:a="",hash:n=""}=typeof e=="string"?Ax(e):e,i;if(s)if(mY(s))i=s;else{if(s.includes("//")){let l=s;s=s.replace(/\/\/+/g,"/"),yc(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${s}`)}s.startsWith("/")?i=LO(s.substring(1),"/"):i=LO(s,t)}else i=t;return{pathname:i,search:gY(a),hash:vY(n)}}function LO(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?s.length>1&&s.pop():n!=="."&&s.push(n)}),s.length>1?s.join("/"):"/"}function s4(e,t,s,a){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function pY(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function GA(e){let t=pY(e);return t.map((s,a)=>a===t.length-1?s.pathname:s.pathnameBase)}function KA(e,t,s,a=!1){let n;typeof e=="string"?n=Ax(e):(n={...e},Ra(!n.pathname||!n.pathname.includes("?"),s4("?","pathname","search",n)),Ra(!n.pathname||!n.pathname.includes("#"),s4("#","pathname","hash",n)),Ra(!n.search||!n.search.includes("#"),s4("#","search","hash",n)));let i=e===""||n.pathname==="",l=i?"/":n.pathname,o;if(l==null)o=s;else{let f=t.length-1;if(!a&&l.startsWith("..")){let g=l.split("/");for(;g[0]==="..";)g.shift(),f-=1;n.pathname=g.join("/")}o=f>=0?t[f]:"/"}let u=fY(n,o),d=l&&l!=="/"&&l.endsWith("/"),m=(i||l===".")&&s.endsWith("/");return!u.pathname.endsWith("/")&&(d||m)&&(u.pathname+="/"),u}var th=e=>e.join("/").replace(/\/\/+/g,"/"),xY=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),gY=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,vY=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,yY=class{constructor(e,t,s,a=!1){this.status=e,this.statusText=t||"",this.internal=a,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}};function bY(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function jY(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var RF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function MF(e,t){let s=e;if(typeof s!="string"||!DF.test(s))return{absoluteURL:void 0,isExternal:!1,to:s};let a=s,n=!1;if(RF)try{let i=new URL(window.location.href),l=s.startsWith("//")?new URL(i.protocol+s):new URL(s),o=ch(l.pathname,t);l.origin===i.origin&&o!=null?s=o+l.search+l.hash:n=!0}catch{yc(!1,`<Link to="${s}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:n,to:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var LF=["POST","PUT","PATCH","DELETE"];new Set(LF);var NY=["GET",...LF];new Set(NY);var Cx=_.createContext(null);Cx.displayName="DataRouter";var lN=_.createContext(null);lN.displayName="DataRouterState";var wY=_.createContext(!1),IF=_.createContext({isTransitioning:!1});IF.displayName="ViewTransition";var SY=_.createContext(new Map);SY.displayName="Fetchers";var _Y=_.createContext(null);_Y.displayName="Await";var $o=_.createContext(null);$o.displayName="Navigation";var Jv=_.createContext(null);Jv.displayName="Location";var yd=_.createContext({outlet:null,matches:[],isDataRoute:!1});yd.displayName="Route";var YA=_.createContext(null);YA.displayName="RouteError";var FF="REACT_ROUTER_ERROR",AY="REDIRECT",CY="ROUTE_ERROR_RESPONSE";function kY(e){if(e.startsWith(`${FF}:${AY}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function TY(e){if(e.startsWith(`${FF}:${CY}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new yY(t.status,t.statusText,t.data)}catch{}}function EY(e,{relative:t}={}){Ra(kx(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:a}=_.useContext($o),{hash:n,pathname:i,search:l}=ey(e,{relative:t}),o=i;return s!=="/"&&(o=i==="/"?s:th([s,i])),a.createHref({pathname:o,search:l,hash:n})}function kx(){return _.useContext(Jv)!=null}function so(){return Ra(kx(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(Jv).location}var BF="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function UF(e){_.useContext($o).static||_.useLayoutEffect(e)}function Qv(){let{isDataRoute:e}=_.useContext(yd);return e?VY():OY()}function OY(){Ra(kx(),"useNavigate() may be used only in the context of a <Router> component.");let e=_.useContext(Cx),{basename:t,navigator:s}=_.useContext($o),{matches:a}=_.useContext(yd),{pathname:n}=so(),i=JSON.stringify(GA(a)),l=_.useRef(!1);return UF(()=>{l.current=!0}),_.useCallback((u,d={})=>{if(yc(l.current,BF),!l.current)return;if(typeof u=="number"){s.go(u);return}let m=KA(u,JSON.parse(i),n,d.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:th([t,m.pathname])),(d.replace?s.replace:s.push)(m,d.state,d)},[t,s,i,n,e])}var PY=_.createContext(null);function DY(e){let t=_.useContext(yd).outlet;return _.useMemo(()=>t&&_.createElement(PY.Provider,{value:e},t),[t,e])}function ey(e,{relative:t}={}){let{matches:s}=_.useContext(yd),{pathname:a}=so(),n=JSON.stringify(GA(s));return _.useMemo(()=>KA(e,JSON.parse(n),a,t==="path"),[e,n,a,t])}function RY(e,t){return zF(e,t)}function zF(e,t,s,a,n){Ra(kx(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=_.useContext($o),{matches:l}=_.useContext(yd),o=l[l.length-1],u=o?o.params:{},d=o?o.pathname:"/",m=o?o.pathnameBase:"/",f=o&&o.route;{let k=f&&f.path||"";HF(d,!f||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let g=so(),p;if(t){let k=typeof t=="string"?Ax(t):t;Ra(m==="/"||k.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${k.pathname}" was given in the \`location\` prop.`),p=k}else p=g;let y=p.pathname||"/",v=y;if(m!=="/"){let k=m.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(k.length).join("/")}let j=EF(e,{pathname:v});yc(f||j!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),yc(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=BY(j&&j.map(k=>Object.assign({},k,{params:Object.assign({},u,k.params),pathname:th([m,i.encodeLocation?i.encodeLocation(k.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?m:th([m,i.encodeLocation?i.encodeLocation(k.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathnameBase])})),l,s,a,n);return t&&N?_.createElement(Jv.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},N):N}function MY(){let e=qY(),t=bY(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",n={padding:"0.5rem",backgroundColor:a},i={padding:"2px 4px",backgroundColor:a},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:i},"ErrorBoundary")," or"," ",_.createElement("code",{style:i},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),s?_.createElement("pre",{style:n},s):null,l)}var LY=_.createElement(MY,null),$F=class extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const s=TY(e.digest);s&&(e=s)}let t=e!==void 0?_.createElement(yd.Provider,{value:this.props.routeContext},_.createElement(YA.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?_.createElement(IY,{error:e},t):t}};$F.contextType=wY;var a4=new WeakMap;function IY({children:e,error:t}){let{basename:s}=_.useContext($o);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let a=kY(t.digest);if(a){let n=a4.get(t);if(n)throw n;let i=MF(a.location,s);if(RF&&!a4.get(t))if(i.isExternal||a.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:a.replace}));throw a4.set(t,l),l}return _.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return e}function FY({routeContext:e,match:t,children:s}){let a=_.useContext(Cx);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),_.createElement(yd.Provider,{value:e},s)}function BY(e,t=[],s=null,a=null,n=null){if(e==null){if(!s)return null;if(s.errors)e=s.matches;else if(t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let i=e,l=s?.errors;if(l!=null){let m=i.findIndex(f=>f.route.id&&l?.[f.route.id]!==void 0);Ra(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),i=i.slice(0,Math.min(i.length,m+1))}let o=!1,u=-1;if(s)for(let m=0;m<i.length;m++){let f=i[m];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=m),f.route.id){let{loaderData:g,errors:p}=s,y=f.route.loader&&!g.hasOwnProperty(f.route.id)&&(!p||p[f.route.id]===void 0);if(f.route.lazy||y){o=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}let d=s&&a?(m,f)=>{a(m,{location:s.location,params:s.matches?.[0]?.params??{},unstable_pattern:jY(s.matches),errorInfo:f})}:void 0;return i.reduceRight((m,f,g)=>{let p,y=!1,v=null,j=null;s&&(p=l&&f.route.id?l[f.route.id]:void 0,v=f.route.errorElement||LY,o&&(u<0&&g===0?(HF("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,j=null):u===g&&(y=!0,j=f.route.hydrateFallbackElement||null)));let N=t.concat(i.slice(0,g+1)),k=()=>{let w;return p?w=v:y?w=j:f.route.Component?w=_.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=m,_.createElement(FY,{match:f,routeContext:{outlet:m,matches:N,isDataRoute:s!=null},children:w})};return s&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?_.createElement($F,{location:s.location,revalidation:s.revalidation,component:v,error:p,children:k(),routeContext:{outlet:null,matches:N,isDataRoute:!0},onError:d}):k()},null)}function ZA(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function UY(e){let t=_.useContext(Cx);return Ra(t,ZA(e)),t}function zY(e){let t=_.useContext(lN);return Ra(t,ZA(e)),t}function $Y(e){let t=_.useContext(yd);return Ra(t,ZA(e)),t}function XA(e){let t=$Y(e),s=t.matches[t.matches.length-1];return Ra(s.route.id,`${e} can only be used on routes that contain a unique "id"`),s.route.id}function HY(){return XA("useRouteId")}function qY(){let e=_.useContext(YA),t=zY("useRouteError"),s=XA("useRouteError");return e!==void 0?e:t.errors?.[s]}function VY(){let{router:e}=UY("useNavigate"),t=XA("useNavigate"),s=_.useRef(!1);return UF(()=>{s.current=!0}),_.useCallback(async(n,i={})=>{yc(s.current,BF),s.current&&(typeof n=="number"?await e.navigate(n):await e.navigate(n,{fromRouteId:t,...i}))},[e,t])}var IO={};function HF(e,t,s){!t&&!IO[e]&&(IO[e]=!0,yc(!1,s))}_.memo(WY);function WY({routes:e,future:t,state:s,onError:a}){return zF(e,void 0,s,a,t)}function Xn({to:e,replace:t,state:s,relative:a}){Ra(kx(),"<Navigate> may be used only in the context of a <Router> component.");let{static:n}=_.useContext($o);yc(!n,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=_.useContext(yd),{pathname:l}=so(),o=Qv(),u=KA(e,GA(i),l,a==="path"),d=JSON.stringify(u);return _.useEffect(()=>{o(JSON.parse(d),{replace:t,state:s,relative:a})},[o,d,a,t,s]),null}function GY(e){return DY(e.context)}function $e(e){Ra(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function KY({basename:e="/",children:t=null,location:s,navigationType:a="POP",navigator:n,static:i=!1,unstable_useTransitions:l}){Ra(!kx(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),u=_.useMemo(()=>({basename:o,navigator:n,static:i,unstable_useTransitions:l,future:{}}),[o,n,i,l]);typeof s=="string"&&(s=Ax(s));let{pathname:d="/",search:m="",hash:f="",state:g=null,key:p="default"}=s,y=_.useMemo(()=>{let v=ch(d,o);return v==null?null:{location:{pathname:v,search:m,hash:f,state:g,key:p},navigationType:a}},[o,d,m,f,g,p,a]);return yc(y!=null,`<Router basename="${o}"> is not able to match the URL "${d}${m}${f}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:_.createElement($o.Provider,{value:u},_.createElement(Jv.Provider,{children:t,value:y}))}function YY({children:e,location:t}){return RY(s_(e),t)}function s_(e,t=[]){let s=[];return _.Children.forEach(e,(a,n)=>{if(!_.isValidElement(a))return;let i=[...t,n];if(a.type===_.Fragment){s.push.apply(s,s_(a.props.children,i));return}Ra(a.type===$e,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ra(!a.props.index||!a.props.children,"An index route cannot have child routes.");let l={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(l.children=s_(a.props.children,i)),s.push(l)}),s}var a2="get",n2="application/x-www-form-urlencoded";function oN(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function ZY(e){return oN(e)&&e.tagName.toLowerCase()==="button"}function XY(e){return oN(e)&&e.tagName.toLowerCase()==="form"}function JY(e){return oN(e)&&e.tagName.toLowerCase()==="input"}function QY(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function eZ(e,t){return e.button===0&&(!t||t==="_self")&&!QY(e)}var Eb=null;function tZ(){if(Eb===null)try{new FormData(document.createElement("form"),0),Eb=!1}catch{Eb=!0}return Eb}var rZ=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function n4(e){return e!=null&&!rZ.has(e)?(yc(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${n2}"`),null):e}function sZ(e,t){let s,a,n,i,l;if(XY(e)){let o=e.getAttribute("action");a=o?ch(o,t):null,s=e.getAttribute("method")||a2,n=n4(e.getAttribute("enctype"))||n2,i=new FormData(e)}else if(ZY(e)||JY(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||o.getAttribute("action");if(a=u?ch(u,t):null,s=e.getAttribute("formmethod")||o.getAttribute("method")||a2,n=n4(e.getAttribute("formenctype"))||n4(o.getAttribute("enctype"))||n2,i=new FormData(o,e),!tZ()){let{name:d,type:m,value:f}=e;if(m==="image"){let g=d?`${d}.`:"";i.append(`${g}x`,"0"),i.append(`${g}y`,"0")}else d&&i.append(d,f)}}else{if(oN(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=a2,a=null,n=n2,l=e}return i&&n==="text/plain"&&(l=i,i=void 0),{action:a,method:s.toLowerCase(),encType:n,formData:i,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function JA(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function aZ(e,t,s){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return a.pathname==="/"?a.pathname=`_root.${s}`:t&&ch(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${s}`,a}async function nZ(e,t){if(e.id in t)return t[e.id];try{let s=await import(e.module);return t[e.id]=s,s}catch(s){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function iZ(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function lZ(e,t,s){let a=await Promise.all(e.map(async n=>{let i=t.routes[n.route.id];if(i){let l=await nZ(i,s);return l.links?l.links():[]}return[]}));return uZ(a.flat(1).filter(iZ).filter(n=>n.rel==="stylesheet"||n.rel==="preload").map(n=>n.rel==="stylesheet"?{...n,rel:"prefetch",as:"style"}:{...n,rel:"prefetch"}))}function FO(e,t,s,a,n,i){let l=(u,d)=>s[d]?u.route.id!==s[d].route.id:!0,o=(u,d)=>s[d].pathname!==u.pathname||s[d].route.path?.endsWith("*")&&s[d].params["*"]!==u.params["*"];return i==="assets"?t.filter((u,d)=>l(u,d)||o(u,d)):i==="data"?t.filter((u,d)=>{let m=a.routes[u.route.id];if(!m||!m.hasLoader)return!1;if(l(u,d)||o(u,d))return!0;if(u.route.shouldRevalidate){let f=u.route.shouldRevalidate({currentUrl:new URL(n.pathname+n.search+n.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function oZ(e,t,{includeHydrateFallback:s}={}){return cZ(e.map(a=>{let n=t.routes[a.route.id];if(!n)return[];let i=[n.module];return n.clientActionModule&&(i=i.concat(n.clientActionModule)),n.clientLoaderModule&&(i=i.concat(n.clientLoaderModule)),s&&n.hydrateFallbackModule&&(i=i.concat(n.hydrateFallbackModule)),n.imports&&(i=i.concat(n.imports)),i}).flat(1))}function cZ(e){return[...new Set(e)]}function dZ(e){let t={},s=Object.keys(e).sort();for(let a of s)t[a]=e[a];return t}function uZ(e,t){let s=new Set;return new Set(t),e.reduce((a,n)=>{let i=JSON.stringify(dZ(n));return s.has(i)||(s.add(i),a.push({key:i,link:n})),a},[])}function qF(){let e=_.useContext(Cx);return JA(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function hZ(){let e=_.useContext(lN);return JA(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var QA=_.createContext(void 0);QA.displayName="FrameworkContext";function VF(){let e=_.useContext(QA);return JA(e,"You must render this element inside a <HydratedRouter> element"),e}function mZ(e,t){let s=_.useContext(QA),[a,n]=_.useState(!1),[i,l]=_.useState(!1),{onFocus:o,onBlur:u,onMouseEnter:d,onMouseLeave:m,onTouchStart:f}=t,g=_.useRef(null);_.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let v=N=>{N.forEach(k=>{l(k.isIntersecting)})},j=new IntersectionObserver(v,{threshold:.5});return g.current&&j.observe(g.current),()=>{j.disconnect()}}},[e]),_.useEffect(()=>{if(a){let v=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(v)}}},[a]);let p=()=>{n(!0)},y=()=>{n(!1),l(!1)};return s?e!=="intent"?[i,g,{}]:[i,g,{onFocus:Bg(o,p),onBlur:Bg(u,y),onMouseEnter:Bg(d,p),onMouseLeave:Bg(m,y),onTouchStart:Bg(f,p)}]:[!1,g,{}]}function Bg(e,t){return s=>{e&&e(s),s.defaultPrevented||t(s)}}function fZ({page:e,...t}){let{router:s}=qF(),a=_.useMemo(()=>EF(s.routes,e,s.basename),[s.routes,e,s.basename]);return a?_.createElement(xZ,{page:e,matches:a,...t}):null}function pZ(e){let{manifest:t,routeModules:s}=VF(),[a,n]=_.useState([]);return _.useEffect(()=>{let i=!1;return lZ(e,t,s).then(l=>{i||n(l)}),()=>{i=!0}},[e,t,s]),a}function xZ({page:e,matches:t,...s}){let a=so(),{manifest:n,routeModules:i}=VF(),{basename:l}=qF(),{loaderData:o,matches:u}=hZ(),d=_.useMemo(()=>FO(e,t,u,n,a,"data"),[e,t,u,n,a]),m=_.useMemo(()=>FO(e,t,u,n,a,"assets"),[e,t,u,n,a]),f=_.useMemo(()=>{if(e===a.pathname+a.search+a.hash)return[];let y=new Set,v=!1;if(t.forEach(N=>{let k=n.routes[N.route.id];!k||!k.hasLoader||(!d.some(w=>w.route.id===N.route.id)&&N.route.id in o&&i[N.route.id]?.shouldRevalidate||k.hasClientLoader?v=!0:y.add(N.route.id))}),y.size===0)return[];let j=aZ(e,l,"data");return v&&y.size>0&&j.searchParams.set("_routes",t.filter(N=>y.has(N.route.id)).map(N=>N.route.id).join(",")),[j.pathname+j.search]},[l,o,a,n,d,t,e,i]),g=_.useMemo(()=>oZ(m,n),[m,n]),p=pZ(m);return _.createElement(_.Fragment,null,f.map(y=>_.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...s})),g.map(y=>_.createElement("link",{key:y,rel:"modulepreload",href:y,...s})),p.map(({key:y,link:v})=>_.createElement("link",{key:y,nonce:s.nonce,...v})))}function gZ(...e){return t=>{e.forEach(s=>{typeof s=="function"?s(t):s!=null&&(s.current=t)})}}var vZ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vZ&&(window.__reactRouterVersion="7.11.0")}catch{}function yZ({basename:e,children:t,unstable_useTransitions:s,window:a}){let n=_.useRef();n.current==null&&(n.current=ZK({window:a,v5Compat:!0}));let i=n.current,[l,o]=_.useState({action:i.action,location:i.location}),u=_.useCallback(d=>{s===!1?o(d):_.startTransition(()=>o(d))},[s]);return _.useLayoutEffect(()=>i.listen(u),[i,u]),_.createElement(KY,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:i,unstable_useTransitions:s})}var WF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,GF=_.forwardRef(function({onClick:t,discover:s="render",prefetch:a="none",relative:n,reloadDocument:i,replace:l,state:o,target:u,to:d,preventScrollReset:m,viewTransition:f,unstable_defaultShouldRevalidate:g,...p},y){let{basename:v,unstable_useTransitions:j}=_.useContext($o),N=typeof d=="string"&&WF.test(d),k=MF(d,v);d=k.to;let w=EY(d,{relative:n}),[A,C,M]=mZ(a,p),R=NZ(d,{replace:l,state:o,target:u,preventScrollReset:m,relative:n,viewTransition:f,unstable_defaultShouldRevalidate:g,unstable_useTransitions:j});function D(z){t&&t(z),z.defaultPrevented||R(z)}let B=_.createElement("a",{...p,...M,href:k.absoluteURL||w,onClick:k.isExternal||i?t:D,ref:gZ(y,C),target:u,"data-discover":!N&&s==="render"?"true":void 0});return A&&!N?_.createElement(_.Fragment,null,B,_.createElement(fZ,{page:w})):B});GF.displayName="Link";var a_=_.forwardRef(function({"aria-current":t="page",caseSensitive:s=!1,className:a="",end:n=!1,style:i,to:l,viewTransition:o,children:u,...d},m){let f=ey(l,{relative:d.relative}),g=so(),p=_.useContext(lN),{navigator:y,basename:v}=_.useContext($o),j=p!=null&&CZ(f)&&o===!0,N=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,k=g.pathname,w=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;s||(k=k.toLowerCase(),w=w?w.toLowerCase():null,N=N.toLowerCase()),w&&v&&(w=ch(w,v)||w);const A=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let C=k===N||!n&&k.startsWith(N)&&k.charAt(A)==="/",M=w!=null&&(w===N||!n&&w.startsWith(N)&&w.charAt(N.length)==="/"),R={isActive:C,isPending:M,isTransitioning:j},D=C?t:void 0,B;typeof a=="function"?B=a(R):B=[a,C?"active":null,M?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let z=typeof i=="function"?i(R):i;return _.createElement(GF,{...d,"aria-current":D,className:B,ref:m,style:z,to:l,viewTransition:o},typeof u=="function"?u(R):u)});a_.displayName="NavLink";var bZ=_.forwardRef(({discover:e="render",fetcherKey:t,navigate:s,reloadDocument:a,replace:n,state:i,method:l=a2,action:o,onSubmit:u,relative:d,preventScrollReset:m,viewTransition:f,unstable_defaultShouldRevalidate:g,...p},y)=>{let{unstable_useTransitions:v}=_.useContext($o),j=_Z(),N=AZ(o,{relative:d}),k=l.toLowerCase()==="get"?"get":"post",w=typeof o=="string"&&WF.test(o),A=C=>{if(u&&u(C),C.defaultPrevented)return;C.preventDefault();let M=C.nativeEvent.submitter,R=M?.getAttribute("formmethod")||l,D=()=>j(M||C.currentTarget,{fetcherKey:t,method:R,navigate:s,replace:n,state:i,relative:d,preventScrollReset:m,viewTransition:f,unstable_defaultShouldRevalidate:g});v&&s!==!1?_.startTransition(()=>D()):D()};return _.createElement("form",{ref:y,method:k,action:N,onSubmit:a?u:A,...p,"data-discover":!w&&e==="render"?"true":void 0})});bZ.displayName="Form";function jZ(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KF(e){let t=_.useContext(Cx);return Ra(t,jZ(e)),t}function NZ(e,{target:t,replace:s,state:a,preventScrollReset:n,relative:i,viewTransition:l,unstable_defaultShouldRevalidate:o,unstable_useTransitions:u}={}){let d=Qv(),m=so(),f=ey(e,{relative:i});return _.useCallback(g=>{if(eZ(g,t)){g.preventDefault();let p=s!==void 0?s:Nv(m)===Nv(f),y=()=>d(e,{replace:p,state:a,preventScrollReset:n,relative:i,viewTransition:l,unstable_defaultShouldRevalidate:o});u?_.startTransition(()=>y()):y()}},[m,d,f,s,a,t,e,n,i,l,o,u])}var wZ=0,SZ=()=>`__${String(++wZ)}__`;function _Z(){let{router:e}=KF("useSubmit"),{basename:t}=_.useContext($o),s=HY(),a=e.fetch,n=e.navigate;return _.useCallback(async(i,l={})=>{let{action:o,method:u,encType:d,formData:m,body:f}=sZ(i,t);if(l.navigate===!1){let g=l.fetcherKey||SZ();await a(g,s,l.action||o,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:m,body:f,formMethod:l.method||u,formEncType:l.encType||d,flushSync:l.flushSync})}else await n(l.action||o,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:m,body:f,formMethod:l.method||u,formEncType:l.encType||d,replace:l.replace,state:l.state,fromRouteId:s,flushSync:l.flushSync,viewTransition:l.viewTransition})},[a,n,t,s])}function AZ(e,{relative:t}={}){let{basename:s}=_.useContext($o),a=_.useContext(yd);Ra(a,"useFormAction must be used inside a RouteContext");let[n]=a.matches.slice(-1),i={...ey(e||".",{relative:t})},l=so();if(e==null){i.search=l.search;let o=new URLSearchParams(i.search),u=o.getAll("index");if(u.some(m=>m==="")){o.delete("index"),u.filter(f=>f).forEach(f=>o.append("index",f));let m=o.toString();i.search=m?`?${m}`:""}}return(!e||e===".")&&n.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(i.pathname=i.pathname==="/"?s:th([s,i.pathname])),Nv(i)}function CZ(e,{relative:t}={}){let s=_.useContext(IF);Ra(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=KF("useViewTransitionState"),n=ey(e,{relative:t});if(!s.isTransitioning)return!1;let i=ch(s.currentLocation.pathname,a)||s.currentLocation.pathname,l=ch(s.nextLocation.pathname,a)||s.nextLocation.pathname;return C2(n.pathname,l)!=null||C2(n.pathname,i)!=null}var e6=TF();const We={HUB_ORDERS_VIEW:"hub_orders_view",HUB_ORDERS_CREATE:"hub_orders_create",HUB_ORDERS_EDIT:"hub_orders_edit",HUB_PRE_ORDERS:"hub_pre_orders",HUB_TEAM_VIEW:"hub_team_view",HUB_TEAM_MANAGE:"hub_team_manage",HUB_DELIVERY_AGENTS_VIEW:"hub_delivery_agents_view",HUB_DELIVERY_AGENTS_MANAGE:"hub_delivery_agents_manage",HUB_CUSTOM_ROLES:"hub_custom_roles",HUB_PRODUCTS_VIEW:"hub_products_view",HUB_PRODUCTS_MANAGE:"hub_products_manage",HUB_PRODUCTS_UPLOAD:"hub_products_upload",HUB_STOCK_VIEW:"hub_stock_view",HUB_STOCK_MANAGE:"hub_stock_manage",HUB_CATEGORIES_VIEW:"hub_categories_view",HUB_CATEGORIES_MANAGE:"hub_categories_manage",HUB_RECIPES_VIEW:"hub_recipes_view",HUB_RECIPES_MANAGE:"hub_recipes_manage",HUB_LABELING_VIEW:"hub_labeling_view",HUB_LABELING_MANAGE:"hub_labeling_manage",HUB_MARKETING_VIEW:"hub_marketing_view",HUB_MARKETING_MANAGE:"hub_marketing_manage",HUB_SCRATCH_CARD:"hub_scratch_card",HUB_SPIN_WHEEL:"hub_spin_wheel",HUB_FLASH_SALE:"hub_flash_sale",HUB_SUBSCRIPTION:"hub_subscription",HUB_OFFER_NOTIFICATION:"hub_offer_notification",HUB_COUPON:"hub_coupon",HUB_IN_APP_CURRENCY:"hub_in_app_currency",HUB_REFERRAL:"hub_referral",HUB_REPORTS_SALES:"hub_reports_sales",HUB_REPORTS_PACKING:"hub_reports_packing",HUB_REPORTS_DELIVERY:"hub_reports_delivery",HUB_REPORTS_STOCK:"hub_reports_stock",HUB_REPORTS_CUSTOMER:"hub_reports_customer",HUB_REPORTS_PROCUREMENT:"hub_reports_procurement",HUB_AUDIT_LOGS:"hub_audit_logs",STORE_ORDERS_VIEW:"store_orders_view",STORE_ORDERS_CREATE:"store_orders_create",STORE_TEAM_VIEW:"store_team_view",STORE_TEAM_MANAGE:"store_team_manage",STORE_PRODUCTS_VIEW:"store_products_view",STORE_STOCK_MANAGE:"store_stock_manage",STORE_DELIVERY_AGENTS_VIEW:"store_delivery_agents_view",ALL_ACCESS:"all_access",PROCUREMENT_VIEW:"procurement_view",PROCUREMENT_MANAGE:"procurement_manage",PACKING_VIEW:"packing_view",PACKING_MANAGE:"packing_manage",DELIVERY_VIEW:"delivery_view",DELIVERY_MANAGE:"delivery_manage"},uv={hub_main_admin:{id:"hub_main_admin",name:"hub_main_admin",displayName:"Main Admin",description:"Full access to hub operations",moduleType:"hub",color:"bg-blue-500",icon:"Shield",permissions:[We.HUB_ORDERS_VIEW,We.HUB_ORDERS_CREATE,We.HUB_ORDERS_EDIT,We.HUB_PRE_ORDERS,We.HUB_TEAM_VIEW,We.HUB_TEAM_MANAGE,We.HUB_DELIVERY_AGENTS_VIEW,We.HUB_DELIVERY_AGENTS_MANAGE,We.HUB_CUSTOM_ROLES,We.HUB_PRODUCTS_VIEW,We.HUB_PRODUCTS_MANAGE,We.HUB_PRODUCTS_UPLOAD,We.HUB_STOCK_VIEW,We.HUB_STOCK_MANAGE,We.HUB_CATEGORIES_VIEW,We.HUB_CATEGORIES_MANAGE,We.HUB_RECIPES_VIEW,We.HUB_RECIPES_MANAGE,We.HUB_LABELING_VIEW,We.HUB_LABELING_MANAGE,We.HUB_MARKETING_VIEW,We.HUB_MARKETING_MANAGE,We.HUB_SCRATCH_CARD,We.HUB_SPIN_WHEEL,We.HUB_FLASH_SALE,We.HUB_SUBSCRIPTION,We.HUB_OFFER_NOTIFICATION,We.HUB_COUPON,We.HUB_IN_APP_CURRENCY,We.HUB_REFERRAL,We.HUB_REPORTS_SALES,We.HUB_REPORTS_PACKING,We.HUB_REPORTS_DELIVERY,We.HUB_REPORTS_STOCK,We.HUB_REPORTS_CUSTOMER,We.HUB_REPORTS_PROCUREMENT,We.HUB_AUDIT_LOGS,We.PROCUREMENT_VIEW,We.PROCUREMENT_MANAGE,We.PACKING_VIEW,We.PACKING_MANAGE,We.DELIVERY_VIEW,We.DELIVERY_MANAGE]},hub_procurement:{id:"hub_procurement",name:"hub_procurement",displayName:"Procurement Employee",description:"Manage procurement and inventory operations",moduleType:"hub",color:"bg-green-500",icon:"Package",permissions:[We.HUB_PRODUCTS_VIEW,We.HUB_PRODUCTS_MANAGE,We.HUB_STOCK_VIEW,We.HUB_STOCK_MANAGE,We.HUB_CATEGORIES_VIEW,We.HUB_CATEGORIES_MANAGE,We.HUB_RECIPES_VIEW,We.HUB_RECIPES_MANAGE,We.PROCUREMENT_VIEW,We.PROCUREMENT_MANAGE,We.HUB_MARKETING_VIEW,We.HUB_MARKETING_MANAGE,We.HUB_SCRATCH_CARD,We.HUB_SPIN_WHEEL,We.HUB_FLASH_SALE,We.HUB_SUBSCRIPTION,We.HUB_OFFER_NOTIFICATION,We.HUB_COUPON,We.HUB_IN_APP_CURRENCY,We.HUB_REFERRAL,We.HUB_REPORTS_STOCK,We.HUB_REPORTS_PROCUREMENT]},hub_packing:{id:"hub_packing",name:"hub_packing",displayName:"Packing Employee",description:"Handle order packing operations",moduleType:"hub",color:"bg-orange-500",icon:"Box",permissions:[We.HUB_ORDERS_VIEW,We.HUB_ORDERS_EDIT,We.PACKING_VIEW,We.PACKING_MANAGE,"HUB_LABELING_VIEW","HUB_LABELING_MANAGE",We.HUB_REPORTS_PACKING]},hub_delivery:{id:"hub_delivery",name:"hub_delivery",displayName:"Delivery Employee",description:"View delivery operations and track orders",moduleType:"hub",color:"bg-purple-500",icon:"Truck",permissions:[We.HUB_ORDERS_VIEW,We.DELIVERY_VIEW,We.HUB_TEAM_VIEW,We.HUB_DELIVERY_AGENTS_VIEW,We.HUB_REPORTS_DELIVERY]},store_main_admin:{id:"store_main_admin",name:"store_main_admin",displayName:"Main Admin",description:"Full access to store operations",moduleType:"store",color:"bg-blue-500",icon:"Shield",permissions:[We.STORE_ORDERS_VIEW,We.STORE_ORDERS_CREATE,We.STORE_TEAM_VIEW,We.STORE_TEAM_MANAGE,We.STORE_DELIVERY_AGENTS_VIEW,We.STORE_PRODUCTS_VIEW,We.STORE_STOCK_MANAGE,We.HUB_CATEGORIES_VIEW,We.HUB_CATEGORIES_MANAGE,We.HUB_RECIPES_VIEW,We.HUB_RECIPES_MANAGE,We.HUB_LABELING_VIEW,We.HUB_LABELING_MANAGE,We.HUB_MARKETING_VIEW,We.HUB_MARKETING_MANAGE,We.HUB_SCRATCH_CARD,We.HUB_SPIN_WHEEL,We.HUB_FLASH_SALE,We.HUB_SUBSCRIPTION,We.HUB_OFFER_NOTIFICATION,We.HUB_COUPON,We.HUB_IN_APP_CURRENCY,We.HUB_REFERRAL,We.HUB_REPORTS_SALES,We.HUB_REPORTS_PACKING,We.HUB_REPORTS_DELIVERY,We.HUB_REPORTS_STOCK,We.HUB_REPORTS_CUSTOMER,We.HUB_REPORTS_PROCUREMENT,We.PROCUREMENT_VIEW,We.PROCUREMENT_MANAGE,We.PACKING_VIEW,We.PACKING_MANAGE,We.DELIVERY_VIEW,We.DELIVERY_MANAGE]},store_procurement:{id:"store_procurement",name:"store_procurement",displayName:"Procurement Employee",description:"Manage store procurement and inventory",moduleType:"store",color:"bg-green-500",icon:"Package",permissions:[We.STORE_PRODUCTS_VIEW,We.STORE_STOCK_MANAGE,We.HUB_CATEGORIES_VIEW,We.HUB_CATEGORIES_MANAGE,We.HUB_RECIPES_VIEW,We.HUB_RECIPES_MANAGE,We.PROCUREMENT_VIEW,We.PROCUREMENT_MANAGE,We.HUB_MARKETING_VIEW,We.HUB_MARKETING_MANAGE,We.HUB_SCRATCH_CARD,We.HUB_SPIN_WHEEL,We.HUB_FLASH_SALE,We.HUB_SUBSCRIPTION,We.HUB_OFFER_NOTIFICATION,We.HUB_COUPON,We.HUB_IN_APP_CURRENCY,We.HUB_REFERRAL,We.HUB_REPORTS_STOCK,We.HUB_REPORTS_PROCUREMENT]},store_packing:{id:"store_packing",name:"store_packing",displayName:"Packing Employee",description:"Handle store order packing",moduleType:"store",color:"bg-orange-500",icon:"Box",permissions:[We.STORE_ORDERS_VIEW,We.PACKING_VIEW,We.PACKING_MANAGE,"HUB_LABELING_VIEW","HUB_LABELING_MANAGE",We.HUB_REPORTS_PACKING]},store_delivery:{id:"store_delivery",name:"store_delivery",displayName:"Delivery Employee",description:"View store delivery operations",moduleType:"store",color:"bg-purple-500",icon:"Truck",permissions:[We.STORE_ORDERS_VIEW,We.DELIVERY_VIEW,We.STORE_TEAM_VIEW,We.STORE_DELIVERY_AGENTS_VIEW,We.HUB_REPORTS_DELIVERY]}},kZ={super_admin:[We.ALL_ACCESS],hub_admin:uv.hub_main_admin.permissions,store_admin:uv.store_main_admin.permissions,...Object.fromEntries(Object.entries(uv).map(([e,t])=>[e,t.permissions]))};function $a(e,t){if(!e)return!1;if(e.permissions&&e.permissions.includes(t))return!0;const s=kZ[e.role]||[];return s.includes(We.ALL_ACCESS)?!0:s.includes(t)}function TZ(e,t){return e?e.loginType==="super_admin"?!0:e.loginType===t:!1}function ux(e,t){return t?t.loginType==="super_admin"?e:e.filter(s=>t.loginType==="hub"?s.moduleType==="hub"||s.hubId===t.hubId:t.loginType==="store"?s.moduleType==="store"||s.storeId===t.storeId:!1):[]}function EZ(e){return Object.values(uv).filter(t=>t.moduleType===e)}function t6(e){return uv[e]}const YF=_.createContext(null);function OZ({children:e}){const[t,s]=_.useState(()=>{const m=localStorage.getItem("admin_user");return m?JSON.parse(m):null}),[a,n]=_.useState(()=>localStorage.getItem("auth_token")),[i,l]=_.useState(!1),o=async(m,f,g,p,y)=>{l(!0),await new Promise(A=>setTimeout(A,800));let v,j,N;if(g==="super_admin")v="super_admin",j="Super Administrator",N="Administration";else if(y){v=y;const A=t6(y);j=A?`${A.displayName} - ${g.charAt(0).toUpperCase()+g.slice(1)}`:"Admin User",N=A?.displayName}else v=g==="hub"?"hub_admin":"store_admin",j=g==="hub"?"Hub Administrator":"Store Administrator",N="Administration";const k={id:"1",name:j,email:m,phone:"+91 9876543210",role:v,loginType:g,hubId:g==="hub"?p||"hub_1":void 0,storeId:g==="store"?p||"store_1":void 0,department:N,permissions:[]},w="mock_jwt_token_"+Date.now();return localStorage.setItem("auth_token",w),localStorage.setItem("admin_user",JSON.stringify(k)),n(w),s(k),l(!1),!0},u=_.useCallback(()=>{localStorage.removeItem("auth_token"),localStorage.removeItem("admin_user"),n(null),s(null)},[]),d=!!t&&!!a;return r.jsx(YF.Provider,{value:{user:t,token:a,login:o,logout:u,isAuthenticated:d,isLoading:i},children:e})}const os=()=>{const e=_.useContext(YF);if(!e)throw new Error("useAuth must be used within AuthProvider");return e};class Ip{static instance;history=[];maxHistorySize=100;static getInstance(){return Ip.instance||(Ip.instance=new Ip),Ip.instance}saveState(t,s,a,n,i,l,o){const u={id:`rollback_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,timestamp:new Date,action:t,entityType:s,entityId:a,previousState:JSON.parse(JSON.stringify(n)),currentState:JSON.parse(JSON.stringify(i)),userId:l,userName:o};this.history.unshift(u),this.history.length>this.maxHistorySize&&(this.history=this.history.slice(0,this.maxHistorySize)),this.persistToStorage()}getHistory(t,s){let a=this.history;return t&&(a=a.filter(n=>n.entityType===t)),s&&(a=a.filter(n=>n.entityId===s)),a}rollback(t){const s=this.history.find(a=>a.id===t);return s?(this.saveState(`Rollback: ${s.action}`,s.entityType,s.entityId,s.currentState,s.previousState,"system","System Rollback"),s):null}clearHistory(t){t?this.history=this.history.filter(s=>s.entityType!==t):this.history=[],this.persistToStorage()}persistToStorage(){try{localStorage.setItem("rollback_history",JSON.stringify(this.history))}catch(t){console.warn("Failed to persist rollback history:",t)}}loadFromStorage(){try{const t=localStorage.getItem("rollback_history");t&&(this.history=JSON.parse(t).map(s=>({...s,timestamp:new Date(s.timestamp)})))}catch(t){console.warn("Failed to load rollback history:",t),this.history=[]}}}const ZF=_.createContext(void 0),XF=({children:e})=>{const{user:t}=os(),s=Ip.getInstance(),a=_.useCallback((o,u,d,m,f)=>{t&&s.saveState(o,u,d,m,f,t.id||"unknown",t.name||"Unknown User")},[t,s]),n=_.useCallback((o,u)=>s.getHistory(o,u),[s]),i=_.useCallback(async(o,u)=>{try{const d=s.rollback(o);return d?(await u(d.previousState),!0):!1}catch(d){return console.error("Rollback failed:",d),!1}},[s]),l=_.useCallback(o=>{s.clearHistory(o)},[s]);return s.loadFromStorage(),r.jsx(ZF.Provider,{value:{saveState:a,getHistory:n,rollback:i,clearHistory:l},children:e})},r6=()=>{const e=_.useContext(ZF);if(!e)throw new Error("useRollback must be used within a RollbackProvider");return e};const PZ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),DZ=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,s,a)=>a?a.toUpperCase():s.toLowerCase()),BO=e=>{const t=DZ(e);return t.charAt(0).toUpperCase()+t.slice(1)},JF=(...e)=>e.filter((t,s,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===s).join(" ").trim(),RZ=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var MZ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const LZ=_.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:n="",children:i,iconNode:l,...o},u)=>_.createElement("svg",{ref:u,...MZ,width:t,height:t,stroke:e,strokeWidth:a?Number(s)*24/Number(t):s,className:JF("lucide",n),...!i&&!RZ(o)&&{"aria-hidden":"true"},...o},[...l.map(([d,m])=>_.createElement(d,m)),...Array.isArray(i)?i:[i]]));const mt=(e,t)=>{const s=_.forwardRef(({className:a,...n},i)=>_.createElement(LZ,{ref:i,iconNode:t,className:JF(`lucide-${PZ(BO(e))}`,`lucide-${e}`,a),...n}));return s.displayName=BO(e),s};const IZ=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],wv=mt("activity",IZ);const FZ=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],BZ=mt("archive",FZ);const UZ=[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]],UO=mt("arrow-down-left",UZ);const zZ=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],$Z=mt("arrow-down-right",zZ);const HZ=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],qZ=mt("arrow-down",HZ);const VZ=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],WZ=mt("arrow-left",VZ);const GZ=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],cN=mt("arrow-right",GZ);const KZ=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],QF=mt("arrow-up-down",KZ);const YZ=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Kp=mt("arrow-up-right",YZ);const ZZ=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],XZ=mt("arrow-up",ZZ);const JZ=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],e9=mt("award",JZ);const QZ=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],dN=mt("banknote",QZ);const eX=[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]],uN=mt("barcode",eX);const tX=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Am=mt("bell",tX);const rX=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],sX=mt("bold",rX);const aX=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],i2=mt("box",aX);const nX=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],eo=mt("building-2",nX);const iX=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],qm=mt("building",iX);const lX=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],dh=mt("calculator",lX);const oX=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],hs=mt("calendar",oX);const cX=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Yn=mt("chart-column",cX);const dX=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]],uX=mt("chart-no-axes-column-increasing",dX);const hX=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Do=mt("check",hX);const mX=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],Sv=mt("chef-hat",mX);const fX=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],s6=mt("chevron-down",fX);const pX=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],t9=mt("chevron-right",pX);const xX=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],gX=mt("chevron-up",xX);const vX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],tl=mt("circle-alert",vX);const yX=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Cr=mt("circle-check-big",yX);const bX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],uh=mt("circle-x",bX);const jX=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],wr=mt("clock",jX);const NX=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]],i4=mt("cloud-rain",NX);const wX=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],r9=mt("cloud",wX);const SX=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],s9=mt("coins",SX);const _X=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],a9=mt("copy",_X);const AX=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Jn=mt("credit-card",AX);const CX=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Na=mt("crown",CX);const kX=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],zO=mt("database",kX);const TX=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],hh=mt("dollar-sign",TX);const EX=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Ho=mt("download",EX);const OX=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],PX=mt("ellipsis-vertical",OX);const DX=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],n_=mt("external-link",DX);const RX=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],fd=mt("eye-off",RX);const MX=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Fr=mt("eye",MX);const LX=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],IX=mt("file-spreadsheet",LX);const FX=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Hs=mt("file-text",FX);const BX=[["path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z",key:"15baut"}],["path",{d:"M18 12v.5",key:"18hhni"}],["path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86",key:"16dt7o"}],["path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33",key:"l9di03"}],["path",{d:"M10.46 7.26C10.2 5.88 9.17 4.24 8 3h5.8a2 2 0 0 1 1.98 1.67l.23 1.4",key:"1kjonw"}],["path",{d:"m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98",key:"1zlm23"}]],Kl=mt("fish",BX);const UX=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Jf=mt("funnel",UX);const zX=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],ru=mt("gift",zX);const $X=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],wm=mt("globe",$X);const HX=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],qX=mt("grid-3x3",HX);const VX=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],WX=mt("grip-vertical",VX);const GX=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],KX=mt("heart",GX);const YX=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],hx=mt("history",YX);const ZX=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],hN=mt("house",ZX);const XX=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],k2=mt("image",XX);const JX=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],Tx=mt("indian-rupee",JX);const QX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],a6=mt("info",QX);const eJ=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],tJ=mt("italic",eJ);const rJ=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],n6=mt("link",rJ);const sJ=[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]],aJ=mt("list-ordered",sJ);const nJ=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],iJ=mt("list",nJ);const lJ=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],oJ=mt("log-out",lJ);const cJ=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Dm=mt("mail",cJ);const dJ=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],qs=mt("map-pin",dJ);const uJ=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],l2=mt("map",uJ);const hJ=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],i6=mt("megaphone",hJ);const mJ=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],fJ=mt("menu",mJ);const pJ=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],l6=mt("message-circle",pJ);const xJ=[["path",{d:"M5 12h14",key:"1ays0h"}]],bd=mt("minus",xJ);const gJ=[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]],$O=mt("mouse-pointer",gJ);const vJ=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],l4=mt("navigation",vJ);const yJ=[["path",{d:"M12 3v6",key:"1holv5"}],["path",{d:"M16.76 3a2 2 0 0 1 1.8 1.1l2.23 4.479a2 2 0 0 1 .21.891V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9.472a2 2 0 0 1 .211-.894L5.45 4.1A2 2 0 0 1 7.24 3z",key:"187q7i"}],["path",{d:"M3.054 9.013h17.893",key:"grwhos"}]],HO=mt("package-2",yJ);const bJ=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Pt=mt("package",bJ);const jJ=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],NJ=mt("pause",jJ);const wJ=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],mx=mt("percent",wJ);const SJ=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],su=mt("phone",SJ);const _J=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],rh=mt("play",_J);const AJ=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],hr=mt("plus",AJ);const CJ=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Sm=mt("printer",CJ);const kJ=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],n9=mt("qr-code",kJ);const TJ=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],EJ=mt("quote",TJ);const OJ=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],Qf=mt("receipt",OJ);const PJ=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ld=mt("refresh-cw",PJ);const DJ=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],qO=mt("repeat",DJ);const RJ=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Tn=mt("rotate-ccw",RJ);const MJ=[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]],LJ=mt("route",MJ);const IJ=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Ii=mt("save",IJ);const FJ=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],T2=mt("scale",FJ);const BJ=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],Zu=mt("scissors",BJ);const UJ=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Mn=mt("search",UJ);const zJ=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],o6=mt("send",zJ);const $J=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],nl=mt("settings",$J);const HJ=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],i9=mt("share-2",HJ);const qJ=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Fi=mt("shield",qJ);const VJ=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],i_=mt("shopping-bag",VJ);const WJ=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],el=mt("shopping-cart",WJ);const GJ=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Hf=mt("smartphone",GJ);const KJ=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],l9=mt("sparkles",KJ);const YJ=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Fo=mt("square-check-big",YJ);const ZJ=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],vs=mt("square-pen",ZJ);const XJ=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Bo=mt("square",XJ);const JJ=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],qf=mt("star",JJ);const QJ=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],Zn=mt("store",QJ);const eQ=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],tQ=mt("sun",eQ);const rQ=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Eo=mt("tag",rQ);const sQ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Vm=mt("target",sQ);const aQ=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],Yp=mt("thermometer",aQ);const nQ=[["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}],["path",{d:"M17 14V2",key:"8ymqnk"}]],o9=mt("thumbs-down",nQ);const iQ=[["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}],["path",{d:"M7 10v12",key:"1qc93n"}]],c9=mt("thumbs-up",iQ);const lQ=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],oQ=mt("ticket",lQ);const cQ=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],E2=mt("toggle-left",cQ);const dQ=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],O2=mt("toggle-right",dQ);const uQ=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Sr=mt("trash-2",uQ);const hQ=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],o2=mt("trending-down",hQ);const mQ=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Ps=mt("trending-up",mQ);const fQ=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ls=mt("triangle-alert",fQ);const pQ=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],zr=mt("truck",pQ);const xQ=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],gQ=mt("type",xQ);const vQ=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],yQ=mt("underline",vQ);const bQ=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Ro=mt("upload",bQ);const jQ=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],VO=mt("user-plus",jQ);const NQ=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],il=mt("user",NQ);const wQ=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Mr=mt("users",wQ);const SQ=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],o4=mt("video",SQ);const _Q=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],AQ=mt("volume-2",_Q);const CQ=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Ex=mt("wallet",CQ);const kQ=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],WO=mt("wind",kQ);const TQ=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ws=mt("x",TQ);const EQ=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],mh=mt("zap",EQ);const OQ=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],PQ=mt("zoom-in",OQ);const DQ=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],RQ=mt("zoom-out",DQ),MQ=[{id:"hub-dashboard",label:"Dashboard",icon:hN,path:"/dashboard",module:"hub"},{id:"hub-orders",label:"Orders",icon:el,path:"/hub/orders",module:"hub",requiredRoles:["hub_main_admin","hub_packing","hub_delivery"],children:[{id:"hub-all-orders",label:"All Orders",icon:null,path:"/hub/orders",module:"hub",requiredRoles:["hub_main_admin","hub_packing","hub_delivery"]},{id:"hub-manual-order",label:"Manual Order Creation",icon:null,path:"/hub/orders/manual",module:"hub",requiredRoles:["hub_main_admin"]},{id:"hub-pre-orders",label:"Pre Orders",icon:null,path:"/hub/orders/pre-orders",module:"hub",requiredRoles:["hub_main_admin"]}]},{id:"hub-team-management",label:"Team & User",icon:Mr,path:"/hub/team",module:"hub",requiredRoles:["hub_main_admin"],children:[{id:"hub-team",label:"Team Members",icon:null,path:"/hub/team",module:"hub",requiredRoles:["hub_main_admin"]}]},{id:"hub-products",label:"Products & Stock",icon:Pt,path:"/hub/products",module:"hub",children:[{id:"hub-all-products",label:"All Products",icon:null,path:"/hub/products",module:"hub",requiredRoles:["hub_main_admin","hub_procurement"]},{id:"hub-stock",label:"Stock Management",icon:null,path:"/hub/products/stock",module:"hub",requiredRoles:["hub_main_admin","hub_procurement"]},{id:"hub-categories",label:"Categories",icon:null,path:"/hub/products/categories",module:"hub",requiredRoles:["hub_main_admin","hub_procurement"]},{id:"hub-cutting-types",label:"Cutting Types",icon:null,path:"/hub/products/cutting-types",module:"hub",requiredRoles:["hub_main_admin","hub_procurement"]},{id:"hub-recipes",label:"Recipes",icon:null,path:"/hub/products/recipes",module:"hub",requiredRoles:["hub_main_admin","hub_procurement"]}]},{id:"hub-labeling",label:"Labeling",icon:Eo,path:"/hub/labeling",module:"hub",requiredRoles:["hub_main_admin","hub_packing"]},{id:"hub-marketing",label:"Marketing",icon:i6,path:"/hub/marketing",module:"hub",requiredRoles:["hub_main_admin","hub_procurement"],children:[{id:"hub-scratch-card",label:"Scratch Card",icon:null,path:"/hub/scratch-card",module:"hub",requiredRoles:["hub_main_admin","hub_procurement"]},{id:"hub-spin-wheel",label:"Spin Wheel",icon:null,path:"/hub/spin-wheel",module:"hub",requiredRoles:["hub_main_admin","hub_procurement"]},{id:"hub-flash-sale",label:"Flash Sale",icon:null,path:"/hub/flash-sale",module:"hub",requiredRoles:["hub_main_admin","hub_procurement"]},{id:"hub-subscription",label:"Subscription",icon:null,path:"/hub/subscription",module:"hub",requiredRoles:["hub_main_admin","hub_procurement"]},{id:"hub-offer-notification",label:"Offer Notification",icon:null,path:"/hub/offer-notification",module:"hub",requiredRoles:["hub_main_admin","hub_procurement"]},{id:"hub-coupon",label:"Coupon",icon:null,path:"/hub/coupon",module:"hub",requiredRoles:["hub_main_admin","hub_procurement"]},{id:"hub-in-app-currency",label:"In-App Currency",icon:null,path:"/hub/in-app-currency",module:"hub",requiredRoles:["hub_main_admin","hub_procurement"]},{id:"hub-referral",label:"Referral",icon:null,path:"/hub/referral",module:"hub",requiredRoles:["hub_main_admin","hub_procurement"]}]},{id:"hub-reports",label:"Reports",icon:Yn,path:"/hub/reports",module:"hub",children:[{id:"hub-sales-reports",label:"Sales Reports",icon:null,path:"/hub/reports/sales",module:"hub",requiredRoles:["hub_main_admin"]},{id:"hub-packing-reports",label:"Packing Reports",icon:null,path:"/hub/reports/packing",module:"hub",requiredRoles:["hub_main_admin","hub_packing"]},{id:"hub-delivery-reports",label:"Delivery Reports",icon:null,path:"/hub/reports/delivery",module:"hub",requiredRoles:["hub_main_admin","hub_delivery"]},{id:"hub-stock-reports",label:"Stock Reports",icon:null,path:"/hub/reports/stock",module:"hub",requiredRoles:["hub_main_admin","hub_procurement"]},{id:"hub-procurement-reports",label:"Procurement Reports",icon:null,path:"/hub/reports/procurement",module:"hub",requiredRoles:["hub_main_admin","hub_procurement"]},{id:"hub-customer-reports",label:"Customer Reports",icon:null,path:"/hub/reports/customer",module:"hub",requiredRoles:["hub_main_admin"]}]},{id:"hub-audit",label:"Audit Logs",icon:Hs,path:"/hub/audit",module:"hub",requiredRoles:["hub_main_admin"]}],LQ=[{id:"store-dashboard",label:"Dashboard",icon:hN,path:"/dashboard",module:"store"},{id:"store-orders",label:"Orders",icon:el,path:"/store/orders",module:"store",requiredRoles:["store_main_admin","store_packing","store_delivery"],children:[{id:"store-all-orders",label:"All Orders",icon:null,path:"/store/orders",module:"store",requiredRoles:["store_main_admin","store_packing","store_delivery"]},{id:"store-manual-order",label:"Manual Order Creation",icon:null,path:"/store/orders/manual",module:"store",requiredRoles:["store_main_admin"]},{id:"store-pre-orders",label:"Pre Orders",icon:null,path:"/store/orders/pre-orders",module:"store",requiredRoles:["store_main_admin"]}]},{id:"store-team-management",label:"Team & User",icon:Mr,path:"/store/team",module:"store",requiredRoles:["store_main_admin"],children:[{id:"store-team",label:"Team Members",icon:null,path:"/store/team",module:"store",requiredRoles:["store_main_admin"]}]},{id:"store-products",label:"Products & Stock",icon:Pt,path:"/store/products",module:"store",children:[{id:"store-all-products",label:"All Products",icon:null,path:"/store/products",module:"store",requiredRoles:["store_main_admin","store_procurement"]},{id:"store-stock",label:"Stock Management",icon:null,path:"/store/products/stock",module:"store",requiredRoles:["store_main_admin","store_procurement"]},{id:"store-categories",label:"Categories",icon:null,path:"/store/products/categories",module:"store",requiredRoles:["store_main_admin","store_procurement"]},{id:"store-cutting-types",label:"Cutting Types",icon:null,path:"/store/products/cutting-types",module:"store",requiredRoles:["store_main_admin","store_procurement"]},{id:"store-recipes",label:"Recipes",icon:null,path:"/store/products/recipes",module:"store",requiredRoles:["store_main_admin","store_procurement"]}]},{id:"store-labeling",label:"Labeling",icon:Eo,path:"/store/labeling",module:"store",requiredRoles:["store_main_admin","store_packing"]},{id:"store-marketing",label:"Marketing",icon:i6,path:"/store/marketing",module:"store",requiredRoles:["store_main_admin","store_procurement"],children:[{id:"store-scratch-card",label:"Scratch Card",icon:null,path:"/store/scratch-card",module:"store",requiredRoles:["store_main_admin","store_procurement"]},{id:"store-spin-wheel",label:"Spin Wheel",icon:null,path:"/store/spin-wheel",module:"store",requiredRoles:["store_main_admin","store_procurement"]},{id:"store-flash-sale",label:"Flash Sale",icon:null,path:"/store/flash-sale",module:"store",requiredRoles:["store_main_admin","store_procurement"]},{id:"store-subscription",label:"Subscription",icon:null,path:"/store/subscription",module:"store",requiredRoles:["store_main_admin","store_procurement"]},{id:"store-offer-notification",label:"Offer Notification",icon:null,path:"/store/offer-notification",module:"store",requiredRoles:["store_main_admin","store_procurement"]},{id:"store-coupon",label:"Coupon",icon:null,path:"/store/coupon",module:"store",requiredRoles:["store_main_admin","store_procurement"]},{id:"store-in-app-currency",label:"In-App Currency",icon:null,path:"/store/in-app-currency",module:"store",requiredRoles:["store_main_admin","store_procurement"]},{id:"store-referral",label:"Referral",icon:null,path:"/store/referral",module:"store",requiredRoles:["store_main_admin","store_procurement"]}]},{id:"store-reports",label:"Reports",icon:Yn,path:"/store/reports",module:"store",children:[{id:"store-sales-reports",label:"Sales Reports",icon:null,path:"/store/reports/sales",module:"store",requiredRoles:["store_main_admin"]},{id:"store-packing-reports",label:"Packing Reports",icon:null,path:"/store/reports/packing",module:"store",requiredRoles:["store_main_admin","store_packing"]},{id:"store-delivery-reports",label:"Delivery Reports",icon:null,path:"/store/reports/delivery",module:"store",requiredRoles:["store_main_admin","store_delivery"]},{id:"store-stock-reports",label:"Stock Reports",icon:null,path:"/store/reports/stock",module:"store",requiredRoles:["store_main_admin","store_procurement"]},{id:"store-procurement-reports",label:"Procurement Reports",icon:null,path:"/store/reports/procurement",module:"store",requiredRoles:["store_main_admin","store_procurement"]},{id:"store-customer-reports",label:"Customer Reports",icon:null,path:"/store/reports/customer",module:"store",requiredRoles:["store_main_admin"]}]},{id:"store-audit",label:"Audit Logs",icon:Hs,path:"/store/audit",module:"store",requiredRoles:["store_main_admin"]}],IQ=[{id:"dashboard",label:"Dashboard",icon:hN,path:"/dashboard",module:"both"},{id:"orders",label:"Orders",icon:el,path:"/orders",module:"both",children:[{id:"all-orders",label:"All Orders",icon:null,path:"/orders",module:"both"},{id:"manual-order",label:"Manual Order Creation",icon:null,path:"/orders/manual",module:"both"},{id:"pre-orders",label:"Pre Orders",icon:null,path:"/orders/pre-orders",module:"both"}]},{id:"team-user-management",label:"Team & User",icon:Mr,path:"/team",module:"both",children:[{id:"team",label:"Team Members",icon:null,path:"/team",module:"both"},{id:"custom-roles",label:"Custom Roles",icon:null,path:"/team/custom-roles",module:"both"}]},{id:"products",label:"Products & Stock",icon:Pt,path:"/products",module:"both",children:[{id:"all-products",label:"All Products",icon:null,path:"/products",module:"both"},{id:"stock",label:"Stock Management",icon:null,path:"/products/stock",module:"both"},{id:"categories",label:"Categories",icon:null,path:"/products/categories",module:"both"},{id:"cutting-types",label:"Cutting Types",icon:null,path:"/products/cutting-types",module:"both"},{id:"product-approval",label:"Product Approval",icon:null,path:"/products/approval",module:"both"},{id:"recipes",label:"Recipes",icon:null,path:"/recipes",module:"both"}]},{id:"labeling",label:"Labeling",icon:Eo,path:"/labeling",module:"both"},{id:"marketing",label:"Marketing",icon:i6,path:"/marketing",module:"both",children:[{id:"scratch-card",label:"Scratch Card",icon:null,path:"/scratch-card",module:"both"},{id:"spin-wheel",label:"Spin Wheel",icon:null,path:"/spin-wheel",module:"both"},{id:"flash-sale",label:"Flash Sale",icon:null,path:"/flash-sale",module:"both"},{id:"subscription",label:"Subscription",icon:null,path:"/subscription",module:"both"},{id:"offer-notification",label:"Offer Notification",icon:null,path:"/offer-notification",module:"both"},{id:"coupon",label:"Coupon",icon:null,path:"/coupon",module:"both"},{id:"in-app-currency",label:"In-App Currency",icon:null,path:"/in-app-currency",module:"both"},{id:"referral",label:"Referral",icon:null,path:"/referral",module:"both"}]},{id:"hub-store",label:"Hub & Store",icon:Pt,path:"/hub-store",module:"both",children:[{id:"hubs",label:"Hubs",icon:null,path:"/hubs",module:"both"},{id:"stores",label:"Stores",icon:null,path:"/stores",module:"both"}]},{id:"reports",label:"Reports",icon:Yn,path:"/reports",module:"both",children:[{id:"sales-reports",label:"Sales Reports",icon:null,path:"/reports/sales",module:"both"},{id:"packing-reports",label:"Packing Reports",icon:null,path:"/reports/packing",module:"both"},{id:"delivery-reports",label:"Delivery Reports",icon:null,path:"/reports/delivery",module:"both"},{id:"stock-reports",label:"Stock Reports",icon:null,path:"/reports/stock",module:"both"},{id:"customer-reports",label:"Customer Reports",icon:null,path:"/reports/customer",module:"both"}]},{id:"audit",label:"Audit Logs",icon:Hs,path:"/audit",module:"both"},{id:"settings",label:"Settings",icon:nl,path:"/settings",module:"both",children:[{id:"general",label:"General",icon:null,path:"/settings",module:"both"},{id:"delivery-slots",label:"Delivery Slots",icon:null,path:"/settings/delivery-slots",module:"both"},{id:"shipping-charges",label:"Shipping Charges",icon:null,path:"/settings/shipping-charges",module:"both"},{id:"integrations",label:"Integrations",icon:null,path:"/settings/integrations",module:"both"},{id:"weather",label:"Weather Customization",icon:null,path:"/settings/weather",module:"both"},{id:"notification",label:"Notification Customization",icon:null,path:"/settings/notification",module:"both"},{id:"legal",label:"Legal Documents",icon:null,path:"/settings/legal",module:"both"},{id:"advertisement",label:"Advertisement Management",icon:rh,path:"/settings/advertisement",module:"both"}]}];function FQ(e){return e==="super_admin"?IQ:e==="hub"?MQ:e==="store"?LQ:[]}function d9(e,t){return e.map(s=>{if(s.children){const a=d9(s.children,t);return{...s,children:a}}return s}).filter(s=>!s.requiredRoles||s.requiredRoles.length===0||s.requiredRoles.includes(t)?s.children?s.children.length>0:!0:!1)}function BQ(e,t){const s=FQ(e);return d9(s,t)}function UQ({isMobile:e,isSidebarOpen:t,toggleSidebar:s}){const{user:a,logout:n}=os(),[i,l]=_.useState([]),o=_.useRef(null),u=a?BQ(a.loginType,a.role):[];_.useEffect(()=>{const f=g=>{e&&t&&o.current&&!o.current.contains(g.target)&&s()};return document.addEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f)}},[e,t,s]);const d=f=>{l(g=>g.includes(f)?g.filter(p=>p!==f):[...g,f])},m=f=>{const g=f.children&&f.children.length>0,p=i.includes(f.id);return g&&f.children?r.jsxs("div",{children:[r.jsxs("button",{onClick:()=>d(f.id),className:"w-full flex items-center justify-between rounded-lg px-3 py-2.5 text-slate-400 hover:bg-slate-800 hover:text-white transition-all duration-200",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(f.icon,{size:20}),r.jsx("span",{className:"font-medium",children:f.label})]}),p?r.jsx(s6,{size:16}):r.jsx(t9,{size:16})]}),p&&r.jsx("div",{className:"ml-8 mt-1 space-y-1",children:f.children.map(y=>r.jsxs(a_,{to:y.path,onClick:e?s:void 0,className:({isActive:v})=>`
                    flex items-center gap-3 rounded-lg px-3 py-2 text-sm transition-all duration-200
                    ${v?"bg-blue-600 text-white":"text-slate-400 hover:bg-slate-800 hover:text-white"}
                  `,children:[r.jsx("span",{className:"w-2 h-2 rounded-full bg-current opacity-50"}),y.label]},y.id))})]},f.id):r.jsxs(a_,{to:f.path,onClick:e?s:void 0,className:({isActive:y})=>`
          flex items-center gap-3 rounded-lg px-3 py-2.5 transition-all duration-200
          ${y?"bg-blue-600 text-white shadow-lg shadow-blue-600/30":"text-slate-400 hover:bg-slate-800 hover:text-white"}
        `,children:[r.jsx(f.icon,{size:20}),r.jsx("span",{className:"font-medium",children:f.label})]},f.id)};return r.jsxs(r.Fragment,{children:[r.jsxs("aside",{ref:o,className:`fixed left-0 z-50 w-64 bg-slate-900 text-white flex flex-col transition-transform duration-300 ease-in-out
          top-16 h-[calc(100vh-4rem)]
          lg:top-0 lg:h-screen
          ${t?"translate-x-0":"-translate-x-full"}
          lg:translate-x-0 lg:w-64
        `,children:[r.jsx("div",{className:"hidden lg:flex h-16 items-center justify-between border-b border-slate-700 px-4",children:r.jsx("div",{className:"flex items-center gap-3",children:r.jsx("img",{src:"https://bayhawk.clientstagingdemo.com/_next/static/media/BayHawk.207595da.svg",alt:"BayHawk",className:"h-8 w-auto"})})}),a&&r.jsx("div",{className:"px-4 py-3 border-b border-slate-700 lg:border-b",children:r.jsx("div",{className:"px-3 py-1.5 rounded-lg bg-blue-600/20 text-blue-400 text-xs font-semibold uppercase text-center",children:a.loginType==="super_admin"?"Super Admin":a.loginType==="hub"?"Hub Module":"Store Module"})}),r.jsx("nav",{className:"flex-1 mt-4 px-3 space-y-1 overflow-y-auto pb-20 lg:pb-0",children:u.map(m)}),r.jsx("div",{className:"border-t border-slate-700 p-3",children:r.jsxs("button",{onClick:n,title:"Logout",className:"w-full flex items-center gap-3 rounded-lg px-3 py-2.5 text-slate-400 hover:bg-red-500/10 hover:text-red-500 transition-all duration-200",children:[r.jsx(oJ,{size:20}),r.jsx("span",{className:"font-medium",children:"Logout"})]})})]}),e&&t&&r.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 lg:hidden top-16",onClick:s})]})}function zQ({onToggleSidebar:e}){const{user:t}=os(),[s,a]=_.useState(!1),n=_.useRef(null);_.useEffect(()=>{function o(u){n.current&&!n.current.contains(u.target)&&a(!1)}return document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)},[]);const i=[{id:1,title:"New Order Received",message:"Order #ORD-2024-001 has been placed by customer John Doe",time:"2 minutes ago",type:"order",unread:!0},{id:2,title:"Low Stock Alert",message:"Fresh Salmon is running low in inventory (5 units left)",time:"15 minutes ago",type:"inventory",unread:!0},{id:3,title:"Payment Received",message:"Payment of 2,450 received for Order #ORD-2024-002",time:"1 hour ago",type:"payment",unread:!1},{id:4,title:"Delivery Completed",message:"Order #ORD-2024-003 has been successfully delivered",time:"2 hours ago",type:"delivery",unread:!1},{id:5,title:"New Customer Registration",message:"Sarah Wilson has registered as a new customer",time:"3 hours ago",type:"customer",unread:!1}],l=i.filter(o=>o.unread).length;return r.jsxs("header",{className:"sticky top-0 z-30 flex h-16 items-center justify-between border-b border-gray-200 bg-white px-4 sm:px-6 shadow-sm",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:e,className:"lg:hidden p-2 rounded-lg hover:bg-gray-100 transition-colors",children:r.jsx(fJ,{size:20,className:"text-gray-600"})}),r.jsxs("div",{children:[r.jsxs("h1",{className:"text-base sm:text-lg font-semibold text-gray-900",children:[t?.loginType==="hub"?"Hub Admin":t?.loginType==="store"?"Store Admin":"Super Admin"," Panel"]}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-500 hidden sm:block",children:new Date().toLocaleDateString("en-IN",{weekday:"long",day:"numeric",month:"short",year:"numeric"})})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"relative",ref:n,children:[r.jsxs("button",{onClick:()=>a(!s),className:"relative p-2 rounded-lg hover:bg-gray-100 transition-colors",children:[r.jsx(Am,{size:20,className:"text-gray-600"}),l>0&&r.jsx("span",{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full bg-red-500 text-white text-xs flex items-center justify-center",children:l})]}),s&&r.jsxs("div",{className:"absolute right-0 top-12 w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[r.jsx("div",{className:"p-4 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Notifications"}),r.jsxs("span",{className:"text-sm text-gray-500",children:[l," unread"]})]})}),r.jsx("div",{className:"max-h-96 overflow-y-auto",children:i.map(o=>r.jsx("div",{className:`p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer ${o.unread?"bg-blue-50":""}`,children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${o.unread?"bg-blue-500":"bg-gray-300"}`}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-medium text-gray-900 text-sm",children:o.title}),r.jsx("p",{className:"text-gray-600 text-sm mt-1",children:o.message}),r.jsx("p",{className:"text-gray-400 text-xs mt-2",children:o.time})]})]})},o.id))}),r.jsx("div",{className:"p-3 border-t border-gray-200",children:r.jsx("button",{className:"w-full text-center text-blue-600 text-sm font-medium hover:text-blue-700",children:"View All Notifications"})})]})]}),r.jsxs("div",{className:"flex items-center gap-3 pl-4 border-l border-gray-200",children:[r.jsx("div",{className:"h-9 w-9 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-sm font-bold",children:t?.name?.charAt(0)||"A"}),r.jsxs("div",{className:"hidden sm:block",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:t?.name||"Admin"}),r.jsx("p",{className:"text-xs text-gray-500 capitalize",children:t?.role?.replace("_"," ")})]})]})]})]})}function $Q(){const[e,t]=_.useState(window.innerWidth>=1024),[s,a]=_.useState(window.innerWidth<1024),n=so(),i=()=>{const o=window.innerWidth<1024;a(o),t(!o)};_.useEffect(()=>(window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)),[]),_.useEffect(()=>{s&&e&&t(!1)},[n.pathname]);const l=()=>{t(!e)};return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(UQ,{isMobile:s,isSidebarOpen:e,toggleSidebar:l}),r.jsxs("div",{className:`transition-all duration-300 ease-in-out
        ${s?"ml-0":"lg:ml-64"}
      `,children:[r.jsx(zQ,{onToggleSidebar:l}),r.jsx("main",{className:"p-4 sm:p-6",children:r.jsx(GY,{})})]})]})}function Ur({children:e,permission:t,module:s}){const{user:a,isAuthenticated:n}=os();return n?t&&!$a(a,t)?r.jsx(Xn,{to:"/dashboard",replace:!0}):s&&!TZ(a,s)?r.jsx(Xn,{to:"/dashboard",replace:!0}):r.jsx(r.Fragment,{children:e}):r.jsx(Xn,{to:"/login",replace:!0})}function is({children:e,requiredPermission:t}){const{user:s,isAuthenticated:a}=os();return a?s?.role==="hub_procurement"||s?.role==="store_procurement"||s?.role==="hub_main_admin"||s?.role==="store_main_admin"?t&&!$a(s,t)?r.jsx(Xn,{to:"/dashboard",replace:!0}):r.jsx(r.Fragment,{children:e}):r.jsx(Xn,{to:"/dashboard",replace:!0}):r.jsx(Xn,{to:"/login",replace:!0})}function HQ(e){return e?.role==="hub_procurement"||e?.role==="store_procurement"||e?.role==="hub_main_admin"||e?.role==="store_main_admin"}function qQ(e,t){return HQ(e)?["stock","procurement"].includes(t):!1}function Ob({children:e,requiredPermission:t}){const{user:s,isAuthenticated:a}=os();return a?s?.role==="hub_packing"||s?.role==="store_packing"||s?.role==="hub_main_admin"||s?.role==="store_main_admin"?t&&!$a(s,t)?r.jsx(Xn,{to:"/dashboard",replace:!0}):r.jsx(r.Fragment,{children:e}):r.jsx(Xn,{to:"/dashboard",replace:!0}):r.jsx(Xn,{to:"/login",replace:!0})}function VQ({children:e,requiredPermission:t}){const{user:s,isAuthenticated:a}=os();return a?s?.role==="hub_delivery"||s?.role==="store_delivery"||s?.role==="hub_main_admin"||s?.role==="store_main_admin"?t&&!$a(s,t)?r.jsx(Xn,{to:"/dashboard",replace:!0}):r.jsx(r.Fragment,{children:e}):r.jsx(Xn,{to:"/dashboard",replace:!0}):r.jsx(Xn,{to:"/login",replace:!0})}function ic({children:e,allowedRoles:t,requiredPermission:s}){const{user:a,isAuthenticated:n}=os();return n?a?.role&&t.includes(a.role)?s&&!$a(a,s)?r.jsx(Xn,{to:"/dashboard",replace:!0}):r.jsx(r.Fragment,{children:e}):r.jsx(Xn,{to:"/dashboard",replace:!0}):r.jsx(Xn,{to:"/login",replace:!0})}function l_(){const{user:e}=os(),t=[{id:"stock",title:"Stock Reports",description:"View inventory levels, stock movements, and low stock alerts",icon:Pt,path:"/hub/reports/stock",color:"bg-blue-500"},{id:"procurement",title:"Procurement Reports",description:"Track procurement activities, supplier performance, and purchase orders",icon:Ps,path:"/hub/reports/procurement",color:"bg-green-500"}],s=[{id:"SUP001",name:"Fresh Fish Suppliers Ltd",category:"Seafood",orders:45,onTime:42,rating:4.8,lastDelivery:"2 hours ago",status:"Active"},{id:"SUP002",name:"Ocean Harvest Co.",category:"Prawns",orders:38,onTime:35,rating:4.6,lastDelivery:"1 day ago",status:"Active"},{id:"SUP003",name:"Coastal Seafood Inc.",category:"Fish",orders:52,onTime:48,rating:4.9,lastDelivery:"3 hours ago",status:"Active"},{id:"SUP004",name:"Marine Products Ltd",category:"Lobster",orders:28,onTime:25,rating:4.5,lastDelivery:"2 days ago",status:"Warning"},{id:"SUP005",name:"Bay Area Fisheries",category:"Crab",orders:33,onTime:30,rating:4.7,lastDelivery:"5 hours ago",status:"Active"}],a=[{id:"PO001",supplier:"Fresh Fish Suppliers Ltd",items:"Fresh Salmon, Sea Bass",quantity:"50kg",value:"25,000",orderDate:"2024-01-13",expectedDate:"2024-01-14",status:"In Transit"},{id:"PO002",supplier:"Ocean Harvest Co.",items:"Tiger Prawns",quantity:"30kg",value:"18,000",orderDate:"2024-01-12",expectedDate:"2024-01-13",status:"Delivered"},{id:"PO003",supplier:"Coastal Seafood Inc.",items:"Pomfret, Kingfish",quantity:"40kg",value:"22,000",orderDate:"2024-01-13",expectedDate:"2024-01-15",status:"Pending"},{id:"PO004",supplier:"Marine Products Ltd",items:"Fresh Lobster",quantity:"15kg",value:"35,000",orderDate:"2024-01-11",expectedDate:"2024-01-13",status:"Delayed"},{id:"PO005",supplier:"Bay Area Fisheries",items:"Mud Crab",quantity:"25kg",value:"20,000",orderDate:"2024-01-13",expectedDate:"2024-01-14",status:"Confirmed"}],n=[{id:"LS001",product:"Fresh Salmon",currentStock:"5kg",minLevel:"20kg",supplier:"Fresh Fish Suppliers Ltd",urgency:"High"},{id:"LS002",product:"Tiger Prawns",currentStock:"8kg",minLevel:"15kg",supplier:"Ocean Harvest Co.",urgency:"Medium"},{id:"LS003",product:"Sea Bass",currentStock:"3kg",minLevel:"12kg",supplier:"Coastal Seafood Inc.",urgency:"High"},{id:"LS004",product:"Pomfret",currentStock:"12kg",minLevel:"18kg",supplier:"Coastal Seafood Inc.",urgency:"Low"},{id:"LS005",product:"Kingfish",currentStock:"7kg",minLevel:"15kg",supplier:"Fresh Fish Suppliers Ltd",urgency:"Medium"}],i=t.filter(u=>qQ(e,u.id)),l=u=>{switch(u){case"Active":return"bg-green-100 text-green-700";case"Warning":return"bg-yellow-100 text-yellow-700";case"Delivered":return"bg-green-100 text-green-700";case"In Transit":return"bg-blue-100 text-blue-700";case"Confirmed":return"bg-purple-100 text-purple-700";case"Pending":return"bg-orange-100 text-orange-700";case"Delayed":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},o=u=>{switch(u){case"High":return"bg-red-100 text-red-700";case"Medium":return"bg-yellow-100 text-yellow-700";case"Low":return"bg-green-100 text-green-700";default:return"bg-gray-100 text-gray-700"}};return r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Procurement Reports"}),r.jsx("p",{className:"text-gray-600",children:"Access reports related to procurement and inventory management"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Active Suppliers"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"5"})]}),r.jsx(zr,{className:"h-8 w-8 text-blue-600"})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Pending Orders"}),r.jsx("p",{className:"text-2xl font-bold text-orange-600",children:"3"})]}),r.jsx(Pt,{className:"h-8 w-8 text-orange-600"})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Low Stock Items"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:"5"})]}),r.jsx(ls,{className:"h-8 w-8 text-red-600"})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Monthly Spend"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:"1.2L"})]}),r.jsx(Ps,{className:"h-8 w-8 text-green-600"})]})})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6",children:i.map(u=>{const d=u.icon;return r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>window.location.href=u.path,children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:`${u.color} p-3 rounded-lg text-white mr-4`,children:r.jsx(d,{className:"h-6 w-6"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:u.title})]}),r.jsx("p",{className:"text-gray-600 text-sm",children:u.description})]},u.id)})}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Supplier Performance"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-gray-200",children:[r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Supplier"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Category"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Orders"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"On-Time"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Rating"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Last Delivery"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Status"})]})}),r.jsx("tbody",{children:s.map(u=>r.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[r.jsx("td",{className:"py-3 px-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-8 w-8 bg-gradient-to-br from-green-500 to-blue-600 rounded-full flex items-center justify-center text-white text-sm font-bold",children:u.name.charAt(0)}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:u.name}),r.jsx("p",{className:"text-sm text-gray-500",children:u.id})]})]})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:"text-sm text-gray-700",children:u.category})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:"font-medium text-gray-900",children:u.orders})}),r.jsxs("td",{className:"py-3 px-4",children:[r.jsxs("span",{className:"font-medium text-green-600",children:[u.onTime,"/",u.orders]}),r.jsxs("span",{className:"text-sm text-gray-500 ml-1",children:["(",Math.round(u.onTime/u.orders*100),"%)"]})]}),r.jsx("td",{className:"py-3 px-4",children:r.jsxs("span",{className:"font-medium text-yellow-600",children:[" ",u.rating]})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:"text-sm text-gray-700",children:u.lastDelivery})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${l(u.status)}`,children:u.status})})]},u.id))})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Purchase Orders"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-gray-200",children:[r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"PO ID"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Supplier"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Items"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Quantity"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Value"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Expected"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Status"})]})}),r.jsx("tbody",{children:a.map(u=>r.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:"font-medium text-blue-600",children:u.id})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:"text-sm text-gray-700",children:u.supplier})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:"text-sm text-gray-700",children:u.items})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:"font-medium text-gray-900",children:u.quantity})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:"font-medium text-green-600",children:u.value})}),r.jsx("td",{className:"py-3 px-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(hs,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-sm text-gray-700",children:u.expectedDate})]})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${l(u.status)}`,children:u.status})})]},u.id))})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Low Stock Alerts"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-gray-200",children:[r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Product"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Current Stock"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Min Level"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Supplier"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Urgency"})]})}),r.jsx("tbody",{children:n.map(u=>r.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[r.jsx("td",{className:"py-3 px-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Pt,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"font-medium text-gray-900",children:u.product})]})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:"font-medium text-red-600",children:u.currentStock})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:"text-sm text-gray-700",children:u.minLevel})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:"text-sm text-gray-700",children:u.supplier})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${o(u.urgency)}`,children:u.urgency})})]},u.id))})]})})]}),i.length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Yn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Reports Available"}),r.jsx("p",{className:"text-gray-600",children:"You don't have access to any procurement reports at this time."})]})]})}var ty=e=>e.type==="checkbox",If=e=>e instanceof Date,Gl=e=>e==null;const u9=e=>typeof e=="object";var Pn=e=>!Gl(e)&&!Array.isArray(e)&&u9(e)&&!If(e),h9=e=>Pn(e)&&e.target?ty(e.target)?e.target.checked:e.target.value:e,WQ=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,m9=(e,t)=>e.has(WQ(t)),GQ=e=>{const t=e.constructor&&e.constructor.prototype;return Pn(t)&&t.hasOwnProperty("isPrototypeOf")},c6=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function da(e){if(e instanceof Date)return new Date(e);const t=typeof FileList<"u"&&e instanceof FileList;if(c6&&(e instanceof Blob||t))return e;const s=Array.isArray(e);if(!s&&!(Pn(e)&&GQ(e)))return e;const a=s?[]:Object.create(Object.getPrototypeOf(e));for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=da(e[n]));return a}var mN=e=>/^\w*$/.test(e),ra=e=>e===void 0,fN=e=>Array.isArray(e)?e.filter(Boolean):[],d6=e=>fN(e.replace(/["|']|\]/g,"").split(/\.|\[/)),zt=(e,t,s)=>{if(!t||!Pn(e))return s;const a=(mN(t)?[t]:d6(t)).reduce((n,i)=>Gl(n)?n:n[i],e);return ra(a)||a===e?ra(e[t])?s:e[t]:a},_o=e=>typeof e=="boolean",bl=e=>typeof e=="function",Es=(e,t,s)=>{let a=-1;const n=mN(t)?[t]:d6(t),i=n.length,l=i-1;for(;++a<i;){const o=n[a];let u=s;if(a!==l){const d=e[o];u=Pn(d)||Array.isArray(d)?d:isNaN(+n[a+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;e[o]=u,e=e[o]}};const P2={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},xc={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Hu={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},f9=lr.createContext(null);f9.displayName="HookFormContext";const pN=()=>lr.useContext(f9);var p9=(e,t,s,a=!0)=>{const n={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(n,i,{get:()=>{const l=i;return t._proxyFormState[l]!==xc.all&&(t._proxyFormState[l]=!a||xc.all),s&&(s[l]=!0),e[l]}});return n};const xN=typeof window<"u"?lr.useLayoutEffect:lr.useEffect;function KQ(e){const t=pN(),{control:s=t.control,disabled:a,name:n,exact:i}=e||{},[l,o]=lr.useState(s._formState),u=lr.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return xN(()=>s._subscribe({name:n,formState:u.current,exact:i,callback:d=>{!a&&o({...s._formState,...d})}}),[n,a,i]),lr.useEffect(()=>{u.current.isValid&&s._setValid(!0)},[s]),lr.useMemo(()=>p9(l,s,u.current,!1),[l,s])}var Oo=e=>typeof e=="string",o_=(e,t,s,a,n)=>Oo(e)?(a&&t.watch.add(e),zt(s,e,n)):Array.isArray(e)?e.map(i=>(a&&t.watch.add(i),zt(s,i))):(a&&(t.watchAll=!0),s),c_=e=>Gl(e)||!u9(e);function od(e,t,s=new WeakSet){if(c_(e)||c_(t))return Object.is(e,t);if(If(e)&&If(t))return Object.is(e.getTime(),t.getTime());const a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;if(s.has(e)||s.has(t))return!0;s.add(e),s.add(t);for(const i of a){const l=e[i];if(!n.includes(i))return!1;if(i!=="ref"){const o=t[i];if(If(l)&&If(o)||Pn(l)&&Pn(o)||Array.isArray(l)&&Array.isArray(o)?!od(l,o,s):!Object.is(l,o))return!1}}return!0}function YQ(e){const t=pN(),{control:s=t.control,name:a,defaultValue:n,disabled:i,exact:l,compute:o}=e||{},u=lr.useRef(n),d=lr.useRef(o),m=lr.useRef(void 0),f=lr.useRef(s),g=lr.useRef(a);d.current=o;const[p,y]=lr.useState(()=>{const A=s._getWatch(a,u.current);return d.current?d.current(A):A}),v=lr.useCallback(A=>{const C=o_(a,s._names,A||s._formValues,!1,u.current);return d.current?d.current(C):C},[s._formValues,s._names,a]),j=lr.useCallback(A=>{if(!i){const C=o_(a,s._names,A||s._formValues,!1,u.current);if(d.current){const M=d.current(C);od(M,m.current)||(y(M),m.current=M)}else y(C)}},[s._formValues,s._names,i,a]);xN(()=>((f.current!==s||!od(g.current,a))&&(f.current=s,g.current=a,j()),s._subscribe({name:a,formState:{values:!0},exact:l,callback:A=>{j(A.values)}})),[s,l,a,j]),lr.useEffect(()=>s._removeUnmounted());const N=f.current!==s,k=g.current,w=lr.useMemo(()=>{if(i)return null;const A=!N&&!od(k,a);return N||A?v():null},[i,N,a,k,v]);return w!==null?w:p}function ZQ(e){const t=pN(),{name:s,disabled:a,control:n=t.control,shouldUnregister:i,defaultValue:l,exact:o=!0}=e,u=m9(n._names.array,s),d=lr.useMemo(()=>zt(n._formValues,s,zt(n._defaultValues,s,l)),[n,s,l]),m=YQ({control:n,name:s,defaultValue:d,exact:o}),f=KQ({control:n,name:s,exact:o}),g=lr.useRef(e),p=lr.useRef(void 0),y=lr.useRef(n.register(s,{...e.rules,value:m,..._o(e.disabled)?{disabled:e.disabled}:{}}));g.current=e;const v=lr.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!zt(f.errors,s)},isDirty:{enumerable:!0,get:()=>!!zt(f.dirtyFields,s)},isTouched:{enumerable:!0,get:()=>!!zt(f.touchedFields,s)},isValidating:{enumerable:!0,get:()=>!!zt(f.validatingFields,s)},error:{enumerable:!0,get:()=>zt(f.errors,s)}}),[f,s]),j=lr.useCallback(A=>y.current.onChange({target:{value:h9(A),name:s},type:P2.CHANGE}),[s]),N=lr.useCallback(()=>y.current.onBlur({target:{value:zt(n._formValues,s),name:s},type:P2.BLUR}),[s,n._formValues]),k=lr.useCallback(A=>{const C=zt(n._fields,s);C&&C._f&&A&&(C._f.ref={focus:()=>bl(A.focus)&&A.focus(),select:()=>bl(A.select)&&A.select(),setCustomValidity:M=>bl(A.setCustomValidity)&&A.setCustomValidity(M),reportValidity:()=>bl(A.reportValidity)&&A.reportValidity()})},[n._fields,s]),w=lr.useMemo(()=>({name:s,value:m,..._o(a)||f.disabled?{disabled:f.disabled||a}:{},onChange:j,onBlur:N,ref:k}),[s,a,f.disabled,j,N,k,m]);return lr.useEffect(()=>{const A=n._options.shouldUnregister||i,C=p.current;C&&C!==s&&!u&&n.unregister(C),n.register(s,{...g.current.rules,..._o(g.current.disabled)?{disabled:g.current.disabled}:{}});const M=(R,D)=>{const B=zt(n._fields,R);B&&B._f&&(B._f.mount=D)};if(M(s,!0),A){const R=da(zt(n._options.defaultValues,s,g.current.defaultValue));Es(n._defaultValues,s,R),ra(zt(n._formValues,s))&&Es(n._formValues,s,R)}return!u&&n.register(s),p.current=s,()=>{(u?A&&!n._state.action:A)?n.unregister(s):M(s,!1)}},[s,n,u,i]),lr.useEffect(()=>{n._setDisabledField({disabled:a,name:s})},[a,s,n]),lr.useMemo(()=>({field:w,formState:f,fieldState:v}),[w,f,v])}const Pb=e=>e.render(ZQ(e));var u6=(e,t,s,a,n)=>t?{...s[e],types:{...s[e]&&s[e].types?s[e].types:{},[a]:n||!0}}:{},Yl=e=>Array.isArray(e)?e:[e],GO=()=>{let e=[];return{get observers(){return e},next:n=>{for(const i of e)i.next&&i.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(i=>i!==n)}}),unsubscribe:()=>{e=[]}}};function x9(e,t){const s={};for(const a in e)if(e.hasOwnProperty(a)){const n=e[a],i=t[a];if(n&&Pn(n)&&i){const l=x9(n,i);Pn(l)&&(s[a]=l)}else e[a]&&(s[a]=i)}return s}var Zi=e=>Pn(e)&&!Object.keys(e).length,h6=e=>e.type==="file",D2=e=>{if(!c6)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},g9=e=>e.type==="select-multiple",m6=e=>e.type==="radio",XQ=e=>m6(e)||ty(e),c4=e=>D2(e)&&e.isConnected;function JQ(e,t){const s=t.slice(0,-1).length;let a=0;for(;a<s;)e=ra(e)?a++:e[t[a++]];return e}function QQ(e){for(const t in e)if(e.hasOwnProperty(t)&&!ra(e[t]))return!1;return!0}function mn(e,t){const s=Array.isArray(t)?t:mN(t)?[t]:d6(t),a=s.length===1?e:JQ(e,s),n=s.length-1,i=s[n];return a&&delete a[i],n!==0&&(Pn(a)&&Zi(a)||Array.isArray(a)&&QQ(a))&&mn(e,s.slice(0,-1)),e}var eee=e=>{for(const t in e)if(bl(e[t]))return!0;return!1};function v9(e){return Array.isArray(e)||Pn(e)&&!eee(e)}function d_(e,t={}){for(const s in e){const a=e[s];v9(a)?(t[s]=Array.isArray(a)?[]:{},d_(a,t[s])):ra(a)||(t[s]=!0)}return t}function Pp(e,t,s){s||(s=d_(t));for(const a in e){const n=e[a];if(v9(n))ra(t)||c_(s[a])?s[a]=d_(n,Array.isArray(n)?[]:{}):Pp(n,Gl(t)?{}:t[a],s[a]);else{const i=t[a];s[a]=!od(n,i)}}return s}const KO={value:!1,isValid:!1},YO={value:!0,isValid:!0};var y9=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!ra(e[0].attributes.value)?ra(e[0].value)||e[0].value===""?YO:{value:e[0].value,isValid:!0}:YO:KO}return KO},b9=(e,{valueAsNumber:t,valueAsDate:s,setValueAs:a})=>ra(e)?e:t?e===""?NaN:e&&+e:s&&Oo(e)?new Date(e):a?a(e):e;const ZO={isValid:!1,value:null};var j9=e=>Array.isArray(e)?e.reduce((t,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:t,ZO):ZO;function XO(e){const t=e.ref;return h6(t)?t.files:m6(t)?j9(e.refs).value:g9(t)?[...t.selectedOptions].map(({value:s})=>s):ty(t)?y9(e.refs).value:b9(ra(t.value)?e.ref.value:t.value,e)}var tee=(e,t,s,a)=>{const n={};for(const i of e){const l=zt(t,i);l&&Es(n,i,l._f)}return{criteriaMode:s,names:[...e],fields:n,shouldUseNativeValidation:a}},R2=e=>e instanceof RegExp,Ug=e=>ra(e)?e:R2(e)?e.source:Pn(e)?R2(e.value)?e.value.source:e.value:e,Fp=e=>({isOnSubmit:!e||e===xc.onSubmit,isOnBlur:e===xc.onBlur,isOnChange:e===xc.onChange,isOnAll:e===xc.all,isOnTouch:e===xc.onTouched});const JO="AsyncFunction";var ree=e=>!!e&&!!e.validate&&!!(bl(e.validate)&&e.validate.constructor.name===JO||Pn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===JO)),see=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),u_=(e,t,s)=>!s&&(t.watchAll||t.watch.has(e)||[...t.watch].some(a=>e.startsWith(a)&&/^\.\w+/.test(e.slice(a.length))));const Zp=(e,t,s,a)=>{for(const n of s||Object.keys(e)){const i=zt(e,n);if(i){const{_f:l,...o}=i;if(l){if(l.refs&&l.refs[0]&&t(l.refs[0],n)&&!a)return!0;if(l.ref&&t(l.ref,l.name)&&!a)return!0;if(Zp(o,t))break}else if(Pn(o)&&Zp(o,t))break}}};function QO(e,t,s){const a=zt(e,s);if(a||mN(s))return{error:a,name:s};const n=s.split(".");for(;n.length;){const i=n.join("."),l=zt(t,i),o=zt(e,i);if(l&&!Array.isArray(l)&&s!==i)return{name:s};if(o&&o.type)return{name:i,error:o};if(o&&o.root&&o.root.type)return{name:`${i}.root`,error:o.root};n.pop()}return{name:s}}var aee=(e,t,s,a)=>{s(e);const{name:n,...i}=e;return Zi(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(l=>t[l]===(!a||xc.all))},nee=(e,t,s)=>!e||!t||e===t||Yl(e).some(a=>a&&(s?a===t:a.startsWith(t)||t.startsWith(a))),iee=(e,t,s,a,n)=>n.isOnAll?!1:!s&&n.isOnTouch?!(t||e):(s?a.isOnBlur:n.isOnBlur)?!e:(s?a.isOnChange:n.isOnChange)?e:!0,lee=(e,t)=>!fN(zt(e,t)).length&&mn(e,t),N9=(e,t,s)=>{const a=Yl(zt(e,s));return Es(a,"root",t[s]),Es(e,s,a),e};function eP(e,t,s="validate"){if(Oo(e)||Array.isArray(e)&&e.every(Oo)||_o(e)&&!e)return{type:s,message:Oo(e)?e:"",ref:t}}var vp=e=>Pn(e)&&!R2(e)?e:{value:e,message:""},h_=async(e,t,s,a,n,i)=>{const{ref:l,refs:o,required:u,maxLength:d,minLength:m,min:f,max:g,pattern:p,validate:y,name:v,valueAsNumber:j,mount:N}=e._f,k=zt(s,v);if(!N||t.has(v))return{};const w=o?o[0]:l,A=F=>{n&&w.reportValidity&&(w.setCustomValidity(_o(F)?"":F||""),w.reportValidity())},C={},M=m6(l),R=ty(l),D=M||R,B=(j||h6(l))&&ra(l.value)&&ra(k)||D2(l)&&l.value===""||k===""||Array.isArray(k)&&!k.length,z=u6.bind(null,v,a,C),I=(F,Y,te,ue=Hu.maxLength,Z=Hu.minLength)=>{const ie=F?Y:te;C[v]={type:F?ue:Z,message:ie,ref:l,...z(F?ue:Z,ie)}};if(i?!Array.isArray(k)||!k.length:u&&(!D&&(B||Gl(k))||_o(k)&&!k||R&&!y9(o).isValid||M&&!j9(o).isValid)){const{value:F,message:Y}=Oo(u)?{value:!!u,message:u}:vp(u);if(F&&(C[v]={type:Hu.required,message:Y,ref:w,...z(Hu.required,Y)},!a))return A(Y),C}if(!B&&(!Gl(f)||!Gl(g))){let F,Y;const te=vp(g),ue=vp(f);if(!Gl(k)&&!isNaN(k)){const Z=l.valueAsNumber||k&&+k;Gl(te.value)||(F=Z>te.value),Gl(ue.value)||(Y=Z<ue.value)}else{const Z=l.valueAsDate||new Date(k),ie=Ne=>new Date(new Date().toDateString()+" "+Ne),G=l.type=="time",ee=l.type=="week";Oo(te.value)&&k&&(F=G?ie(k)>ie(te.value):ee?k>te.value:Z>new Date(te.value)),Oo(ue.value)&&k&&(Y=G?ie(k)<ie(ue.value):ee?k<ue.value:Z<new Date(ue.value))}if((F||Y)&&(I(!!F,te.message,ue.message,Hu.max,Hu.min),!a))return A(C[v].message),C}if((d||m)&&!B&&(Oo(k)||i&&Array.isArray(k))){const F=vp(d),Y=vp(m),te=!Gl(F.value)&&k.length>+F.value,ue=!Gl(Y.value)&&k.length<+Y.value;if((te||ue)&&(I(te,F.message,Y.message),!a))return A(C[v].message),C}if(p&&!B&&Oo(k)){const{value:F,message:Y}=vp(p);if(R2(F)&&!k.match(F)&&(C[v]={type:Hu.pattern,message:Y,ref:l,...z(Hu.pattern,Y)},!a))return A(Y),C}if(y){if(bl(y)){const F=await y(k,s),Y=eP(F,w);if(Y&&(C[v]={...Y,...z(Hu.validate,Y.message)},!a))return A(Y.message),C}else if(Pn(y)){let F={};for(const Y in y){if(!Zi(F)&&!a)break;const te=eP(await y[Y](k,s),w,Y);te&&(F={...te,...z(Y,te.message)},A(te.message),a&&(C[v]=F))}if(!Zi(F)&&(C[v]={ref:w,...F},!a))return C}}return A(!0),C};const oee={mode:xc.onSubmit,reValidateMode:xc.onChange,shouldFocusError:!0};function cee(e={}){let t={...oee,...e},s={submitCount:0,isDirty:!1,isReady:!1,isLoading:bl(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},a={},n=Pn(t.defaultValues)||Pn(t.values)?da(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:da(n),l={action:!1,mount:!1,watch:!1,keepIsValid:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,d=0;const m={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={...m};let g={...f};const p={array:GO(),state:GO()},y=t.criteriaMode===xc.all,v=xe=>be=>{clearTimeout(d),d=setTimeout(xe,be)},j=async xe=>{if(!l.keepIsValid&&!t.disabled&&(f.isValid||g.isValid||xe)){let be;t.resolver?(be=Zi((await D()).errors),N()):be=await z(a,!0),be!==s.isValid&&p.state.next({isValid:be})}},N=(xe,be)=>{!t.disabled&&(f.isValidating||f.validatingFields||g.isValidating||g.validatingFields)&&((xe||Array.from(o.mount)).forEach(De=>{De&&(be?Es(s.validatingFields,De,be):mn(s.validatingFields,De))}),p.state.next({validatingFields:s.validatingFields,isValidating:!Zi(s.validatingFields)}))},k=(xe,be=[],De,st,ut=!0,lt=!0)=>{if(st&&De&&!t.disabled){if(l.action=!0,lt&&Array.isArray(zt(a,xe))){const At=De(zt(a,xe),st.argA,st.argB);ut&&Es(a,xe,At)}if(lt&&Array.isArray(zt(s.errors,xe))){const At=De(zt(s.errors,xe),st.argA,st.argB);ut&&Es(s.errors,xe,At),lee(s.errors,xe)}if((f.touchedFields||g.touchedFields)&&lt&&Array.isArray(zt(s.touchedFields,xe))){const At=De(zt(s.touchedFields,xe),st.argA,st.argB);ut&&Es(s.touchedFields,xe,At)}(f.dirtyFields||g.dirtyFields)&&(s.dirtyFields=Pp(n,i)),p.state.next({name:xe,isDirty:F(xe,be),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else Es(i,xe,be)},w=(xe,be)=>{Es(s.errors,xe,be),p.state.next({errors:s.errors})},A=xe=>{s.errors=xe,p.state.next({errors:s.errors,isValid:!1})},C=(xe,be,De,st)=>{const ut=zt(a,xe);if(ut){const lt=zt(i,xe,ra(De)?zt(n,xe):De);ra(lt)||st&&st.defaultChecked||be?Es(i,xe,be?lt:XO(ut._f)):ue(xe,lt),l.mount&&!l.action&&j()}},M=(xe,be,De,st,ut)=>{let lt=!1,At=!1;const Lt={name:xe};if(!t.disabled){if(!De||st){(f.isDirty||g.isDirty)&&(At=s.isDirty,s.isDirty=Lt.isDirty=F(),lt=At!==Lt.isDirty);const Et=od(zt(n,xe),be);At=!!zt(s.dirtyFields,xe),Et?mn(s.dirtyFields,xe):Es(s.dirtyFields,xe,!0),Lt.dirtyFields=s.dirtyFields,lt=lt||(f.dirtyFields||g.dirtyFields)&&At!==!Et}if(De){const Et=zt(s.touchedFields,xe);Et||(Es(s.touchedFields,xe,De),Lt.touchedFields=s.touchedFields,lt=lt||(f.touchedFields||g.touchedFields)&&Et!==De)}lt&&ut&&p.state.next(Lt)}return lt?Lt:{}},R=(xe,be,De,st)=>{const ut=zt(s.errors,xe),lt=(f.isValid||g.isValid)&&_o(be)&&s.isValid!==be;if(t.delayError&&De?(u=v(()=>w(xe,De)),u(t.delayError)):(clearTimeout(d),u=null,De?Es(s.errors,xe,De):mn(s.errors,xe)),(De?!od(ut,De):ut)||!Zi(st)||lt){const At={...st,...lt&&_o(be)?{isValid:be}:{},errors:s.errors,name:xe};s={...s,...At},p.state.next(At)}},D=async xe=>(N(xe,!0),await t.resolver(i,t.context,tee(xe||o.mount,a,t.criteriaMode,t.shouldUseNativeValidation))),B=async xe=>{const{errors:be}=await D(xe);if(N(xe),xe)for(const De of xe){const st=zt(be,De);st?Es(s.errors,De,st):mn(s.errors,De)}else s.errors=be;return be},z=async(xe,be,De={valid:!0})=>{for(const st in xe){const ut=xe[st];if(ut){const{_f:lt,...At}=ut;if(lt){const Lt=o.array.has(lt.name),Et=ut._f&&ree(ut._f);Et&&f.validatingFields&&N([lt.name],!0);const Qt=await h_(ut,o.disabled,i,y,t.shouldUseNativeValidation&&!be,Lt);if(Et&&f.validatingFields&&N([lt.name]),Qt[lt.name]&&(De.valid=!1,be||e.shouldUseNativeValidation))break;!be&&(zt(Qt,lt.name)?Lt?N9(s.errors,Qt,lt.name):Es(s.errors,lt.name,Qt[lt.name]):mn(s.errors,lt.name))}!Zi(At)&&await z(At,be,De)}}return De.valid},I=()=>{for(const xe of o.unMount){const be=zt(a,xe);be&&(be._f.refs?be._f.refs.every(De=>!c4(De)):!c4(be._f.ref))&&Pe(xe)}o.unMount=new Set},F=(xe,be)=>!t.disabled&&(xe&&be&&Es(i,xe,be),!od(X(),n)),Y=(xe,be,De)=>o_(xe,o,{...l.mount?i:ra(be)?n:Oo(xe)?{[xe]:be}:be},De,be),te=xe=>fN(zt(l.mount?i:n,xe,t.shouldUnregister?zt(n,xe,[]):[])),ue=(xe,be,De={})=>{const st=zt(a,xe);let ut=be;if(st){const lt=st._f;lt&&(!lt.disabled&&Es(i,xe,b9(be,lt)),ut=D2(lt.ref)&&Gl(be)?"":be,g9(lt.ref)?[...lt.ref.options].forEach(At=>At.selected=ut.includes(At.value)):lt.refs?ty(lt.ref)?lt.refs.forEach(At=>{(!At.defaultChecked||!At.disabled)&&(Array.isArray(ut)?At.checked=!!ut.find(Lt=>Lt===At.value):At.checked=ut===At.value||!!ut)}):lt.refs.forEach(At=>At.checked=At.value===ut):h6(lt.ref)?lt.ref.value="":(lt.ref.value=ut,lt.ref.type||p.state.next({name:xe,values:da(i)})))}(De.shouldDirty||De.shouldTouch)&&M(xe,ut,De.shouldTouch,De.shouldDirty,!0),De.shouldValidate&&Ne(xe)},Z=(xe,be,De)=>{for(const st in be){if(!be.hasOwnProperty(st))return;const ut=be[st],lt=xe+"."+st,At=zt(a,lt);(o.array.has(xe)||Pn(ut)||At&&!At._f)&&!If(ut)?Z(lt,ut,De):ue(lt,ut,De)}},ie=(xe,be,De={})=>{const st=zt(a,xe),ut=o.array.has(xe),lt=da(be);Es(i,xe,lt),ut?(p.array.next({name:xe,values:da(i)}),(f.isDirty||f.dirtyFields||g.isDirty||g.dirtyFields)&&De.shouldDirty&&p.state.next({name:xe,dirtyFields:Pp(n,i),isDirty:F(xe,lt)})):st&&!st._f&&!Gl(lt)?Z(xe,lt,De):ue(xe,lt,De),u_(xe,o)?p.state.next({...s,name:xe,values:da(i)}):p.state.next({name:l.mount?xe:void 0,values:da(i)})},G=async xe=>{l.mount=!0;const be=xe.target;let De=be.name,st=!0;const ut=zt(a,De),lt=Et=>{st=Number.isNaN(Et)||If(Et)&&isNaN(Et.getTime())||od(Et,zt(i,De,Et))},At=Fp(t.mode),Lt=Fp(t.reValidateMode);if(ut){let Et,Qt;const qt=be.type?XO(ut._f):h9(xe),rs=xe.type===P2.BLUR||xe.type===P2.FOCUS_OUT,Tr=!see(ut._f)&&!t.resolver&&!zt(s.errors,De)&&!ut._f.deps||iee(rs,zt(s.touchedFields,De),s.isSubmitted,Lt,At),nr=u_(De,o,rs);Es(i,De,qt),rs?(!be||!be.readOnly)&&(ut._f.onBlur&&ut._f.onBlur(xe),u&&u(0)):ut._f.onChange&&ut._f.onChange(xe);const mr=M(De,qt,rs),Lr=!Zi(mr)||nr;if(!rs&&p.state.next({name:De,type:xe.type,values:da(i)}),Tr)return(f.isValid||g.isValid)&&(t.mode==="onBlur"?rs&&j():rs||j()),Lr&&p.state.next({name:De,...nr?{}:mr});if(!rs&&nr&&p.state.next({...s}),t.resolver){const{errors:ir}=await D([De]);if(N([De]),lt(qt),st){const ms=QO(s.errors,a,De),dr=QO(ir,a,ms.name||De);Et=dr.error,De=dr.name,Qt=Zi(ir)}}else N([De],!0),Et=(await h_(ut,o.disabled,i,y,t.shouldUseNativeValidation))[De],N([De]),lt(qt),st&&(Et?Qt=!1:(f.isValid||g.isValid)&&(Qt=await z(a,!0)));st&&(ut._f.deps&&(!Array.isArray(ut._f.deps)||ut._f.deps.length>0)&&Ne(ut._f.deps),R(De,Qt,Et,mr))}},ee=(xe,be)=>{if(zt(s.errors,be)&&xe.focus)return xe.focus(),1},Ne=async(xe,be={})=>{let De,st;const ut=Yl(xe);if(t.resolver){const lt=await B(ra(xe)?xe:ut);De=Zi(lt),st=xe?!ut.some(At=>zt(lt,At)):De}else xe?(st=(await Promise.all(ut.map(async lt=>{const At=zt(a,lt);return await z(At&&At._f?{[lt]:At}:At)}))).every(Boolean),!(!st&&!s.isValid)&&j()):st=De=await z(a);return p.state.next({...!Oo(xe)||(f.isValid||g.isValid)&&De!==s.isValid?{}:{name:xe},...t.resolver||!xe?{isValid:De}:{},errors:s.errors}),be.shouldFocus&&!st&&Zp(a,ee,xe?ut:o.mount),st},X=(xe,be)=>{let De={...l.mount?i:n};return be&&(De=x9(be.dirtyFields?s.dirtyFields:s.touchedFields,De)),ra(xe)?De:Oo(xe)?zt(De,xe):xe.map(st=>zt(De,st))},P=(xe,be)=>({invalid:!!zt((be||s).errors,xe),isDirty:!!zt((be||s).dirtyFields,xe),error:zt((be||s).errors,xe),isValidating:!!zt(s.validatingFields,xe),isTouched:!!zt((be||s).touchedFields,xe)}),H=xe=>{xe&&Yl(xe).forEach(be=>mn(s.errors,be)),p.state.next({errors:xe?s.errors:{}})},q=(xe,be,De)=>{const st=(zt(a,xe,{_f:{}})._f||{}).ref,ut=zt(s.errors,xe)||{},{ref:lt,message:At,type:Lt,...Et}=ut;Es(s.errors,xe,{...Et,...be,ref:st}),p.state.next({name:xe,errors:s.errors,isValid:!1}),De&&De.shouldFocus&&st&&st.focus&&st.focus()},W=(xe,be)=>bl(xe)?p.state.subscribe({next:De=>"values"in De&&xe(Y(void 0,be),De)}):Y(xe,be,!0),le=xe=>p.state.subscribe({next:be=>{nee(xe.name,be.name,xe.exact)&&aee(be,xe.formState||f,je,xe.reRenderRoot)&&xe.callback({values:{...i},...s,...be,defaultValues:n})}}).unsubscribe,Se=xe=>(l.mount=!0,g={...g,...xe.formState},le({...xe,formState:{...m,...xe.formState}})),Pe=(xe,be={})=>{for(const De of xe?Yl(xe):o.mount)o.mount.delete(De),o.array.delete(De),be.keepValue||(mn(a,De),mn(i,De)),!be.keepError&&mn(s.errors,De),!be.keepDirty&&mn(s.dirtyFields,De),!be.keepTouched&&mn(s.touchedFields,De),!be.keepIsValidating&&mn(s.validatingFields,De),!t.shouldUnregister&&!be.keepDefaultValue&&mn(n,De);p.state.next({values:da(i)}),p.state.next({...s,...be.keepDirty?{isDirty:F()}:{}}),!be.keepIsValid&&j()},re=({disabled:xe,name:be})=>{(_o(xe)&&l.mount||xe||o.disabled.has(be))&&(xe?o.disabled.add(be):o.disabled.delete(be))},ye=(xe,be={})=>{let De=zt(a,xe);const st=_o(be.disabled)||_o(t.disabled);return Es(a,xe,{...De||{},_f:{...De&&De._f?De._f:{ref:{name:xe}},name:xe,mount:!0,...be}}),o.mount.add(xe),De?re({disabled:_o(be.disabled)?be.disabled:t.disabled,name:xe}):C(xe,!0,be.value),{...st?{disabled:be.disabled||t.disabled}:{},...t.progressive?{required:!!be.required,min:Ug(be.min),max:Ug(be.max),minLength:Ug(be.minLength),maxLength:Ug(be.maxLength),pattern:Ug(be.pattern)}:{},name:xe,onChange:G,onBlur:G,ref:ut=>{if(ut){ye(xe,be),De=zt(a,xe);const lt=ra(ut.value)&&ut.querySelectorAll&&ut.querySelectorAll("input,select,textarea")[0]||ut,At=XQ(lt),Lt=De._f.refs||[];if(At?Lt.find(Et=>Et===lt):lt===De._f.ref)return;Es(a,xe,{_f:{...De._f,...At?{refs:[...Lt.filter(c4),lt,...Array.isArray(zt(n,xe))?[{}]:[]],ref:{type:lt.type,name:xe}}:{ref:lt}}}),C(xe,!1,void 0,lt)}else De=zt(a,xe,{}),De._f&&(De._f.mount=!1),(t.shouldUnregister||be.shouldUnregister)&&!(m9(o.array,xe)&&l.action)&&o.unMount.add(xe)}}},ze=()=>t.shouldFocusError&&Zp(a,ee,o.mount),Ce=xe=>{_o(xe)&&(p.state.next({disabled:xe}),Zp(a,(be,De)=>{const st=zt(a,De);st&&(be.disabled=st._f.disabled||xe,Array.isArray(st._f.refs)&&st._f.refs.forEach(ut=>{ut.disabled=st._f.disabled||xe}))},0,!1))},it=(xe,be)=>async De=>{let st;De&&(De.preventDefault&&De.preventDefault(),De.persist&&De.persist());let ut=da(i);if(p.state.next({isSubmitting:!0}),t.resolver){const{errors:lt,values:At}=await D();N(),s.errors=lt,ut=da(At)}else await z(a);if(o.disabled.size)for(const lt of o.disabled)mn(ut,lt);if(mn(s.errors,"root"),Zi(s.errors)){p.state.next({errors:{}});try{await xe(ut,De)}catch(lt){st=lt}}else be&&await be({...s.errors},De),ze(),setTimeout(ze);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Zi(s.errors)&&!st,submitCount:s.submitCount+1,errors:s.errors}),st)throw st},rt=(xe,be={})=>{zt(a,xe)&&(ra(be.defaultValue)?ie(xe,da(zt(n,xe))):(ie(xe,be.defaultValue),Es(n,xe,da(be.defaultValue))),be.keepTouched||mn(s.touchedFields,xe),be.keepDirty||(mn(s.dirtyFields,xe),s.isDirty=be.defaultValue?F(xe,da(zt(n,xe))):F()),be.keepError||(mn(s.errors,xe),f.isValid&&j()),p.state.next({...s}))},fe=(xe,be={})=>{const De=xe?da(xe):n,st=da(De),ut=Zi(xe),lt=ut?n:st;if(be.keepDefaultValues||(n=De),!be.keepValues){if(be.keepDirtyValues){const At=new Set([...o.mount,...Object.keys(Pp(n,i))]);for(const Lt of Array.from(At)){const Et=zt(s.dirtyFields,Lt),Qt=zt(i,Lt),qt=zt(lt,Lt);Et&&!ra(Qt)?Es(lt,Lt,Qt):!Et&&!ra(qt)&&ie(Lt,qt)}}else{if(c6&&ra(xe))for(const At of o.mount){const Lt=zt(a,At);if(Lt&&Lt._f){const Et=Array.isArray(Lt._f.refs)?Lt._f.refs[0]:Lt._f.ref;if(D2(Et)){const Qt=Et.closest("form");if(Qt){Qt.reset();break}}}}if(be.keepFieldsRef)for(const At of o.mount)ie(At,zt(lt,At));else a={}}i=t.shouldUnregister?be.keepDefaultValues?da(n):{}:da(lt),p.array.next({values:{...lt}}),p.state.next({values:{...lt}})}o={mount:be.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!f.isValid||!!be.keepIsValid||!!be.keepDirtyValues||!t.shouldUnregister&&!Zi(lt),l.watch=!!t.shouldUnregister,l.keepIsValid=!!be.keepIsValid,l.action=!1,be.keepErrors||(s.errors={}),p.state.next({submitCount:be.keepSubmitCount?s.submitCount:0,isDirty:ut?!1:be.keepDirty?s.isDirty:!!(be.keepDefaultValues&&!od(xe,n)),isSubmitted:be.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:ut?{}:be.keepDirtyValues?be.keepDefaultValues&&i?Pp(n,i):s.dirtyFields:be.keepDefaultValues&&xe?Pp(n,xe):be.keepDirty?s.dirtyFields:{},touchedFields:be.keepTouched?s.touchedFields:{},errors:be.keepErrors?s.errors:{},isSubmitSuccessful:be.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:n})},ke=(xe,be)=>fe(bl(xe)?xe(i):xe,{...t.resetOptions,...be}),Ie=(xe,be={})=>{const De=zt(a,xe),st=De&&De._f;if(st){const ut=st.refs?st.refs[0]:st.ref;ut.focus&&setTimeout(()=>{ut.focus(),be.shouldSelect&&bl(ut.select)&&ut.select()})}},je=xe=>{s={...s,...xe}},yt={control:{register:ye,unregister:Pe,getFieldState:P,handleSubmit:it,setError:q,_subscribe:le,_runSchema:D,_updateIsValidating:N,_focusError:ze,_getWatch:Y,_getDirty:F,_setValid:j,_setFieldArray:k,_setDisabledField:re,_setErrors:A,_getFieldArray:te,_reset:fe,_resetDefaultValues:()=>bl(t.defaultValues)&&t.defaultValues().then(xe=>{ke(xe,t.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:I,_disableForm:Ce,_subjects:p,_proxyFormState:f,get _fields(){return a},get _formValues(){return i},get _state(){return l},set _state(xe){l=xe},get _defaultValues(){return n},get _names(){return o},set _names(xe){o=xe},get _formState(){return s},get _options(){return t},set _options(xe){t={...t,...xe}}},subscribe:Se,trigger:Ne,register:ye,handleSubmit:it,watch:W,setValue:ie,getValues:X,reset:ke,resetField:rt,clearErrors:H,unregister:Pe,setError:q,setFocus:Ie,getFieldState:P};return{...yt,formControl:yt}}var fm=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const s=(Math.random()*16+e)%16|0;return(t=="x"?s:s&3|8).toString(16)})},d4=(e,t,s={})=>s.shouldFocus||ra(s.shouldFocus)?s.focusName||`${e}.${ra(s.focusIndex)?t:s.focusIndex}.`:"",u4=(e,t)=>[...e,...Yl(t)],h4=e=>Array.isArray(e)?e.map(()=>{}):void 0;function m4(e,t,s){return[...e.slice(0,t),...Yl(s),...e.slice(t)]}var f4=(e,t,s)=>Array.isArray(e)?(ra(e[s])&&(e[s]=void 0),e.splice(s,0,e.splice(t,1)[0]),e):[],p4=(e,t)=>[...Yl(t),...Yl(e)];function dee(e,t){let s=0;const a=[...e];for(const n of t)a.splice(n-s,1),s++;return fN(a).length?a:[]}var x4=(e,t)=>ra(t)?[]:dee(e,Yl(t).sort((s,a)=>s-a)),g4=(e,t,s)=>{[e[t],e[s]]=[e[s],e[t]]},tP=(e,t,s)=>(e[t]=s,e);function f6(e){const t=pN(),{control:s=t.control,name:a,keyName:n="id",shouldUnregister:i,rules:l}=e,[o,u]=lr.useState(s._getFieldArray(a)),d=lr.useRef(s._getFieldArray(a).map(fm)),m=lr.useRef(!1);s._names.array.add(a),lr.useMemo(()=>l&&o.length>=0&&s.register(a,l),[s,a,o.length,l]),xN(()=>s._subjects.array.subscribe({next:({values:A,name:C})=>{if(C===a||!C){const M=zt(A,a);Array.isArray(M)&&(u(M),d.current=M.map(fm))}}}).unsubscribe,[s,a]);const f=lr.useCallback(A=>{m.current=!0,s._setFieldArray(a,A)},[s,a]),g=(A,C)=>{const M=Yl(da(A)),R=u4(s._getFieldArray(a),M);s._names.focus=d4(a,R.length-1,C),d.current=u4(d.current,M.map(fm)),f(R),u(R),s._setFieldArray(a,R,u4,{argA:h4(A)})},p=(A,C)=>{const M=Yl(da(A)),R=p4(s._getFieldArray(a),M);s._names.focus=d4(a,0,C),d.current=p4(d.current,M.map(fm)),f(R),u(R),s._setFieldArray(a,R,p4,{argA:h4(A)})},y=A=>{const C=x4(s._getFieldArray(a),A);d.current=x4(d.current,A),f(C),u(C),!Array.isArray(zt(s._fields,a))&&Es(s._fields,a,void 0),s._setFieldArray(a,C,x4,{argA:A})},v=(A,C,M)=>{const R=Yl(da(C)),D=m4(s._getFieldArray(a),A,R);s._names.focus=d4(a,A,M),d.current=m4(d.current,A,R.map(fm)),f(D),u(D),s._setFieldArray(a,D,m4,{argA:A,argB:h4(C)})},j=(A,C)=>{const M=s._getFieldArray(a);g4(M,A,C),g4(d.current,A,C),f(M),u(M),s._setFieldArray(a,M,g4,{argA:A,argB:C},!1)},N=(A,C)=>{const M=s._getFieldArray(a);f4(M,A,C),f4(d.current,A,C),f(M),u(M),s._setFieldArray(a,M,f4,{argA:A,argB:C},!1)},k=(A,C)=>{const M=da(C),R=tP(s._getFieldArray(a),A,M);d.current=[...R].map((D,B)=>!D||B===A?fm():d.current[B]),f(R),u([...R]),s._setFieldArray(a,R,tP,{argA:A,argB:M},!0,!1)},w=A=>{const C=Yl(da(A));d.current=C.map(fm),f([...C]),u([...C]),s._setFieldArray(a,[...C],M=>M,{},!0,!1)};return lr.useEffect(()=>{if(s._state.action=!1,u_(a,s._names)&&s._subjects.state.next({...s._formState}),m.current&&(!Fp(s._options.mode).isOnSubmit||s._formState.isSubmitted)&&!Fp(s._options.reValidateMode).isOnSubmit)if(s._options.resolver)s._runSchema([a]).then(A=>{s._updateIsValidating([a]);const C=zt(A.errors,a),M=zt(s._formState.errors,a);(M?!C&&M.type||C&&(M.type!==C.type||M.message!==C.message):C&&C.type)&&(C?Es(s._formState.errors,a,C):mn(s._formState.errors,a),s._subjects.state.next({errors:s._formState.errors}))});else{const A=zt(s._fields,a);A&&A._f&&!(Fp(s._options.reValidateMode).isOnSubmit&&Fp(s._options.mode).isOnSubmit)&&h_(A,s._names.disabled,s._formValues,s._options.criteriaMode===xc.all,s._options.shouldUseNativeValidation,!0).then(C=>!Zi(C)&&s._subjects.state.next({errors:N9(s._formState.errors,C,a)}))}s._subjects.state.next({name:a,values:da(s._formValues)}),s._names.focus&&Zp(s._fields,(A,C)=>{if(s._names.focus&&C.startsWith(s._names.focus)&&A.focus)return A.focus(),1}),s._names.focus="",s._setValid(),m.current=!1},[o,a,s]),lr.useEffect(()=>(!zt(s._formValues,a)&&s._setFieldArray(a),()=>{const A=(C,M)=>{const R=zt(s._fields,C);R&&R._f&&(R._f.mount=M)};s._options.shouldUnregister||i?s.unregister(a):A(a,!1)}),[a,s,n,i]),{swap:lr.useCallback(j,[f,a,s]),move:lr.useCallback(N,[f,a,s]),prepend:lr.useCallback(p,[f,a,s]),append:lr.useCallback(g,[f,a,s]),remove:lr.useCallback(y,[f,a,s]),insert:lr.useCallback(v,[f,a,s]),update:lr.useCallback(k,[f,a,s]),replace:lr.useCallback(w,[f,a,s]),fields:lr.useMemo(()=>o.map((A,C)=>({...A,[n]:d.current[C]||fm()})),[o,n])}}function g0(e={}){const t=lr.useRef(void 0),s=lr.useRef(void 0),[a,n]=lr.useState({isDirty:!1,isValidating:!1,isLoading:bl(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:bl(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:a},e.defaultValues&&!bl(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:l,...o}=cee(e);t.current={...o,formState:a}}const i=t.current.control;return i._options=e,xN(()=>{const l=i._subscribe({formState:i._proxyFormState,callback:()=>n({...i._formState}),reRenderRoot:!0});return n(o=>({...o,isReady:!0})),i._formState.isReady=!0,l},[i]),lr.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),lr.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),lr.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),lr.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),lr.useEffect(()=>{if(i._proxyFormState.isDirty){const l=i._getDirty();l!==a.isDirty&&i._subjects.state.next({isDirty:l})}},[i,a.isDirty]),lr.useEffect(()=>{var l;e.values&&!od(e.values,s.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),!((l=i._options.resetOptions)===null||l===void 0)&&l.keepIsValid||i._setValid(),s.current=e.values,n(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),lr.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=p9(a,i),t.current}const rP=(e,t,s)=>{if(e&&"reportValidity"in e){const a=zt(s,t);e.setCustomValidity(a&&a.message||""),e.reportValidity()}},m_=(e,t)=>{for(const s in t.fields){const a=t.fields[s];a&&a.ref&&"reportValidity"in a.ref?rP(a.ref,s,e):a&&a.refs&&a.refs.forEach(n=>rP(n,s,e))}},sP=(e,t)=>{t.shouldUseNativeValidation&&m_(e,t);const s={};for(const a in e){const n=zt(t.fields,a),i=Object.assign(e[a]||{},{ref:n&&n.ref});if(uee(t.names||Object.keys(e),a)){const l=Object.assign({},zt(s,a));Es(l,"root",i),Es(s,a,l)}else Es(s,a,i)}return s},uee=(e,t)=>{const s=aP(t);return e.some(a=>aP(a).match(`^${s}\\.\\d+`))};function aP(e){return e.replace(/\]|\[/g,"")}function Nt(e,t,s){function a(o,u){if(o._zod||Object.defineProperty(o,"_zod",{value:{def:u,constr:l,traits:new Set},enumerable:!1}),o._zod.traits.has(e))return;o._zod.traits.add(e),t(o,u);const d=l.prototype,m=Object.keys(d);for(let f=0;f<m.length;f++){const g=m[f];g in o||(o[g]=d[g].bind(o))}}const n=s?.Parent??Object;class i extends n{}Object.defineProperty(i,"name",{value:e});function l(o){var u;const d=s?.Parent?new i:this;a(d,o),(u=d._zod).deferred??(u.deferred=[]);for(const m of d._zod.deferred)m();return d}return Object.defineProperty(l,"init",{value:a}),Object.defineProperty(l,Symbol.hasInstance,{value:o=>s?.Parent&&o instanceof s.Parent?!0:o?._zod?.traits?.has(e)}),Object.defineProperty(l,"name",{value:e}),l}class Xp extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class w9 extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const S9={};function e0(e){return S9}function _9(e){const t=Object.values(e).filter(a=>typeof a=="number");return Object.entries(e).filter(([a,n])=>t.indexOf(+a)===-1).map(([a,n])=>n)}function f_(e,t){return typeof t=="bigint"?t.toString():t}function p6(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function x6(e){return e==null}function g6(e){const t=e.startsWith("^")?1:0,s=e.endsWith("$")?e.length-1:e.length;return e.slice(t,s)}function hee(e,t){const s=(e.toString().split(".")[1]||"").length,a=t.toString();let n=(a.split(".")[1]||"").length;if(n===0&&/\d?e-\d?/.test(a)){const u=a.match(/\d?e-(\d?)/);u?.[1]&&(n=Number.parseInt(u[1]))}const i=s>n?s:n,l=Number.parseInt(e.toFixed(i).replace(".","")),o=Number.parseInt(t.toFixed(i).replace(".",""));return l%o/10**i}const nP=Symbol("evaluating");function Vs(e,t,s){let a;Object.defineProperty(e,t,{get(){if(a!==nP)return a===void 0&&(a=nP,a=s()),a},set(n){Object.defineProperty(e,t,{value:n})},configurable:!0})}function v0(e,t,s){Object.defineProperty(e,t,{value:s,writable:!0,enumerable:!0,configurable:!0})}function Wm(...e){const t={};for(const s of e){const a=Object.getOwnPropertyDescriptors(s);Object.assign(t,a)}return Object.defineProperties({},t)}function iP(e){return JSON.stringify(e)}function mee(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const A9="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function M2(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const fee=p6(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function _v(e){if(M2(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const s=t.prototype;return!(M2(s)===!1||Object.prototype.hasOwnProperty.call(s,"isPrototypeOf")===!1)}function C9(e){return _v(e)?{...e}:Array.isArray(e)?[...e]:e}const pee=new Set(["string","number","symbol"]);function fx(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Gm(e,t,s){const a=new e._zod.constr(t??e._zod.def);return(!t||s?.parent)&&(a._zod.parent=e),a}function xr(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function xee(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const gee={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function vee(e,t){const s=e._zod.def,a=s.checks;if(a&&a.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const i=Wm(e._zod.def,{get shape(){const l={};for(const o in t){if(!(o in s.shape))throw new Error(`Unrecognized key: "${o}"`);t[o]&&(l[o]=s.shape[o])}return v0(this,"shape",l),l},checks:[]});return Gm(e,i)}function yee(e,t){const s=e._zod.def,a=s.checks;if(a&&a.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const i=Wm(e._zod.def,{get shape(){const l={...e._zod.def.shape};for(const o in t){if(!(o in s.shape))throw new Error(`Unrecognized key: "${o}"`);t[o]&&delete l[o]}return v0(this,"shape",l),l},checks:[]});return Gm(e,i)}function bee(e,t){if(!_v(t))throw new Error("Invalid input to extend: expected a plain object");const s=e._zod.def.checks;if(s&&s.length>0){const i=e._zod.def.shape;for(const l in t)if(Object.getOwnPropertyDescriptor(i,l)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const n=Wm(e._zod.def,{get shape(){const i={...e._zod.def.shape,...t};return v0(this,"shape",i),i}});return Gm(e,n)}function jee(e,t){if(!_v(t))throw new Error("Invalid input to safeExtend: expected a plain object");const s=Wm(e._zod.def,{get shape(){const a={...e._zod.def.shape,...t};return v0(this,"shape",a),a}});return Gm(e,s)}function Nee(e,t){const s=Wm(e._zod.def,{get shape(){const a={...e._zod.def.shape,...t._zod.def.shape};return v0(this,"shape",a),a},get catchall(){return t._zod.def.catchall},checks:[]});return Gm(e,s)}function wee(e,t,s){const n=t._zod.def.checks;if(n&&n.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const l=Wm(t._zod.def,{get shape(){const o=t._zod.def.shape,u={...o};if(s)for(const d in s){if(!(d in o))throw new Error(`Unrecognized key: "${d}"`);s[d]&&(u[d]=e?new e({type:"optional",innerType:o[d]}):o[d])}else for(const d in o)u[d]=e?new e({type:"optional",innerType:o[d]}):o[d];return v0(this,"shape",u),u},checks:[]});return Gm(t,l)}function See(e,t,s){const a=Wm(t._zod.def,{get shape(){const n=t._zod.def.shape,i={...n};if(s)for(const l in s){if(!(l in i))throw new Error(`Unrecognized key: "${l}"`);s[l]&&(i[l]=new e({type:"nonoptional",innerType:n[l]}))}else for(const l in n)i[l]=new e({type:"nonoptional",innerType:n[l]});return v0(this,"shape",i),i}});return Gm(t,a)}function Bp(e,t=0){if(e.aborted===!0)return!0;for(let s=t;s<e.issues.length;s++)if(e.issues[s]?.continue!==!0)return!0;return!1}function k9(e,t){return t.map(s=>{var a;return(a=s).path??(a.path=[]),s.path.unshift(e),s})}function Db(e){return typeof e=="string"?e:e?.message}function t0(e,t,s){const a={...e,path:e.path??[]};if(!e.message){const n=Db(e.inst?._zod.def?.error?.(e))??Db(t?.error?.(e))??Db(s.customError?.(e))??Db(s.localeError?.(e))??"Invalid input";a.message=n}return delete a.inst,delete a.continue,t?.reportInput||delete a.input,a}function v6(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Av(...e){const[t,s,a]=e;return typeof t=="string"?{message:t,code:"custom",input:s,inst:a}:{...t}}const T9=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,f_,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},y6=Nt("$ZodError",T9),gN=Nt("$ZodError",T9,{Parent:Error});function _ee(e,t=s=>s.message){const s={},a=[];for(const n of e.issues)n.path.length>0?(s[n.path[0]]=s[n.path[0]]||[],s[n.path[0]].push(t(n))):a.push(t(n));return{formErrors:a,fieldErrors:s}}function Aee(e,t=s=>s.message){const s={_errors:[]},a=n=>{for(const i of n.issues)if(i.code==="invalid_union"&&i.errors.length)i.errors.map(l=>a({issues:l}));else if(i.code==="invalid_key")a({issues:i.issues});else if(i.code==="invalid_element")a({issues:i.issues});else if(i.path.length===0)s._errors.push(t(i));else{let l=s,o=0;for(;o<i.path.length;){const u=i.path[o];o===i.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(t(i))):l[u]=l[u]||{_errors:[]},l=l[u],o++}}};return a(e),s}const vN=e=>(t,s,a,n)=>{const i=a?Object.assign(a,{async:!1}):{async:!1},l=t._zod.run({value:s,issues:[]},i);if(l instanceof Promise)throw new Xp;if(l.issues.length){const o=new(n?.Err??e)(l.issues.map(u=>t0(u,i,e0())));throw A9(o,n?.callee),o}return l.value},Cee=vN(gN),yN=e=>async(t,s,a,n)=>{const i=a?Object.assign(a,{async:!0}):{async:!0};let l=t._zod.run({value:s,issues:[]},i);if(l instanceof Promise&&(l=await l),l.issues.length){const o=new(n?.Err??e)(l.issues.map(u=>t0(u,i,e0())));throw A9(o,n?.callee),o}return l.value},kee=yN(gN),bN=e=>(t,s,a)=>{const n=a?{...a,async:!1}:{async:!1},i=t._zod.run({value:s,issues:[]},n);if(i instanceof Promise)throw new Xp;return i.issues.length?{success:!1,error:new(e??y6)(i.issues.map(l=>t0(l,n,e0())))}:{success:!0,data:i.value}},Tee=bN(gN),jN=e=>async(t,s,a)=>{const n=a?Object.assign(a,{async:!0}):{async:!0};let i=t._zod.run({value:s,issues:[]},n);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new e(i.issues.map(l=>t0(l,n,e0())))}:{success:!0,data:i.value}},Eee=jN(gN),Oee=e=>(t,s,a)=>{const n=a?Object.assign(a,{direction:"backward"}):{direction:"backward"};return vN(e)(t,s,n)},Pee=e=>(t,s,a)=>vN(e)(t,s,a),Dee=e=>async(t,s,a)=>{const n=a?Object.assign(a,{direction:"backward"}):{direction:"backward"};return yN(e)(t,s,n)},Ree=e=>async(t,s,a)=>yN(e)(t,s,a),Mee=e=>(t,s,a)=>{const n=a?Object.assign(a,{direction:"backward"}):{direction:"backward"};return bN(e)(t,s,n)},Lee=e=>(t,s,a)=>bN(e)(t,s,a),Iee=e=>async(t,s,a)=>{const n=a?Object.assign(a,{direction:"backward"}):{direction:"backward"};return jN(e)(t,s,n)},Fee=e=>async(t,s,a)=>jN(e)(t,s,a),Bee=/^[cC][^\s-]{8,}$/,Uee=/^[0-9a-z]+$/,zee=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,$ee=/^[0-9a-vA-V]{20}$/,Hee=/^[A-Za-z0-9]{27}$/,qee=/^[a-zA-Z0-9_-]{21}$/,Vee=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Wee=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,lP=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,Gee=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,Kee="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function Yee(){return new RegExp(Kee,"u")}const Zee=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Xee=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,Jee=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,Qee=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,ete=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,E9=/^[A-Za-z0-9_-]*$/,tte=/^\+[1-9]\d{6,14}$/,O9="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",rte=new RegExp(`^${O9}$`);function P9(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function ste(e){return new RegExp(`^${P9(e)}$`)}function ate(e){const t=P9({precision:e.precision}),s=["Z"];e.local&&s.push(""),e.offset&&s.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const a=`${t}(?:${s.join("|")})`;return new RegExp(`^${O9}T(?:${a})$`)}const nte=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},ite=/^-?\d+$/,lte=/^-?\d+(?:\.\d+)?$/,ote=/^(?:true|false)$/i,cte=/^[^A-Z]*$/,dte=/^[^a-z]*$/,ao=Nt("$ZodCheck",(e,t)=>{var s;e._zod??(e._zod={}),e._zod.def=t,(s=e._zod).onattach??(s.onattach=[])}),D9={number:"number",bigint:"bigint",object:"date"},R9=Nt("$ZodCheckLessThan",(e,t)=>{ao.init(e,t);const s=D9[typeof t.value];e._zod.onattach.push(a=>{const n=a._zod.bag,i=(t.inclusive?n.maximum:n.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<i&&(t.inclusive?n.maximum=t.value:n.exclusiveMaximum=t.value)}),e._zod.check=a=>{(t.inclusive?a.value<=t.value:a.value<t.value)||a.issues.push({origin:s,code:"too_big",maximum:typeof t.value=="object"?t.value.getTime():t.value,input:a.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),M9=Nt("$ZodCheckGreaterThan",(e,t)=>{ao.init(e,t);const s=D9[typeof t.value];e._zod.onattach.push(a=>{const n=a._zod.bag,i=(t.inclusive?n.minimum:n.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>i&&(t.inclusive?n.minimum=t.value:n.exclusiveMinimum=t.value)}),e._zod.check=a=>{(t.inclusive?a.value>=t.value:a.value>t.value)||a.issues.push({origin:s,code:"too_small",minimum:typeof t.value=="object"?t.value.getTime():t.value,input:a.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),ute=Nt("$ZodCheckMultipleOf",(e,t)=>{ao.init(e,t),e._zod.onattach.push(s=>{var a;(a=s._zod.bag).multipleOf??(a.multipleOf=t.value)}),e._zod.check=s=>{if(typeof s.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof s.value=="bigint"?s.value%t.value===BigInt(0):hee(s.value,t.value)===0)||s.issues.push({origin:typeof s.value,code:"not_multiple_of",divisor:t.value,input:s.value,inst:e,continue:!t.abort})}}),hte=Nt("$ZodCheckNumberFormat",(e,t)=>{ao.init(e,t),t.format=t.format||"float64";const s=t.format?.includes("int"),a=s?"int":"number",[n,i]=gee[t.format];e._zod.onattach.push(l=>{const o=l._zod.bag;o.format=t.format,o.minimum=n,o.maximum=i,s&&(o.pattern=ite)}),e._zod.check=l=>{const o=l.value;if(s){if(!Number.isInteger(o)){l.issues.push({expected:a,format:t.format,code:"invalid_type",continue:!1,input:o,inst:e});return}if(!Number.isSafeInteger(o)){o>0?l.issues.push({input:o,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:a,inclusive:!0,continue:!t.abort}):l.issues.push({input:o,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:a,inclusive:!0,continue:!t.abort});return}}o<n&&l.issues.push({origin:"number",input:o,code:"too_small",minimum:n,inclusive:!0,inst:e,continue:!t.abort}),o>i&&l.issues.push({origin:"number",input:o,code:"too_big",maximum:i,inclusive:!0,inst:e,continue:!t.abort})}}),mte=Nt("$ZodCheckMaxLength",(e,t)=>{var s;ao.init(e,t),(s=e._zod.def).when??(s.when=a=>{const n=a.value;return!x6(n)&&n.length!==void 0}),e._zod.onattach.push(a=>{const n=a._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<n&&(a._zod.bag.maximum=t.maximum)}),e._zod.check=a=>{const n=a.value;if(n.length<=t.maximum)return;const l=v6(n);a.issues.push({origin:l,code:"too_big",maximum:t.maximum,inclusive:!0,input:n,inst:e,continue:!t.abort})}}),fte=Nt("$ZodCheckMinLength",(e,t)=>{var s;ao.init(e,t),(s=e._zod.def).when??(s.when=a=>{const n=a.value;return!x6(n)&&n.length!==void 0}),e._zod.onattach.push(a=>{const n=a._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>n&&(a._zod.bag.minimum=t.minimum)}),e._zod.check=a=>{const n=a.value;if(n.length>=t.minimum)return;const l=v6(n);a.issues.push({origin:l,code:"too_small",minimum:t.minimum,inclusive:!0,input:n,inst:e,continue:!t.abort})}}),pte=Nt("$ZodCheckLengthEquals",(e,t)=>{var s;ao.init(e,t),(s=e._zod.def).when??(s.when=a=>{const n=a.value;return!x6(n)&&n.length!==void 0}),e._zod.onattach.push(a=>{const n=a._zod.bag;n.minimum=t.length,n.maximum=t.length,n.length=t.length}),e._zod.check=a=>{const n=a.value,i=n.length;if(i===t.length)return;const l=v6(n),o=i>t.length;a.issues.push({origin:l,...o?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:a.value,inst:e,continue:!t.abort})}}),NN=Nt("$ZodCheckStringFormat",(e,t)=>{var s,a;ao.init(e,t),e._zod.onattach.push(n=>{const i=n._zod.bag;i.format=t.format,t.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(t.pattern))}),t.pattern?(s=e._zod).check??(s.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:t.format,input:n.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(a=e._zod).check??(a.check=()=>{})}),xte=Nt("$ZodCheckRegex",(e,t)=>{NN.init(e,t),e._zod.check=s=>{t.pattern.lastIndex=0,!t.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:"regex",input:s.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),gte=Nt("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=cte),NN.init(e,t)}),vte=Nt("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=dte),NN.init(e,t)}),yte=Nt("$ZodCheckIncludes",(e,t)=>{ao.init(e,t);const s=fx(t.includes),a=new RegExp(typeof t.position=="number"?`^.{${t.position}}${s}`:s);t.pattern=a,e._zod.onattach.push(n=>{const i=n._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(a)}),e._zod.check=n=>{n.value.includes(t.includes,t.position)||n.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:n.value,inst:e,continue:!t.abort})}}),bte=Nt("$ZodCheckStartsWith",(e,t)=>{ao.init(e,t);const s=new RegExp(`^${fx(t.prefix)}.*`);t.pattern??(t.pattern=s),e._zod.onattach.push(a=>{const n=a._zod.bag;n.patterns??(n.patterns=new Set),n.patterns.add(s)}),e._zod.check=a=>{a.value.startsWith(t.prefix)||a.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:a.value,inst:e,continue:!t.abort})}}),jte=Nt("$ZodCheckEndsWith",(e,t)=>{ao.init(e,t);const s=new RegExp(`.*${fx(t.suffix)}$`);t.pattern??(t.pattern=s),e._zod.onattach.push(a=>{const n=a._zod.bag;n.patterns??(n.patterns=new Set),n.patterns.add(s)}),e._zod.check=a=>{a.value.endsWith(t.suffix)||a.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:a.value,inst:e,continue:!t.abort})}}),Nte=Nt("$ZodCheckOverwrite",(e,t)=>{ao.init(e,t),e._zod.check=s=>{s.value=t.tx(s.value)}});class wte{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const a=t.split(`
`).filter(l=>l),n=Math.min(...a.map(l=>l.length-l.trimStart().length)),i=a.map(l=>l.slice(n)).map(l=>" ".repeat(this.indent*2)+l);for(const l of i)this.content.push(l)}compile(){const t=Function,s=this?.args,n=[...(this?.content??[""]).map(i=>`  ${i}`)];return new t(...s,n.join(`
`))}}const Ste={major:4,minor:3,patch:5},nn=Nt("$ZodType",(e,t)=>{var s;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=Ste;const a=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&a.unshift(e);for(const n of a)for(const i of n._zod.onattach)i(e);if(a.length===0)(s=e._zod).deferred??(s.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const n=(l,o,u)=>{let d=Bp(l),m;for(const f of o){if(f._zod.def.when){if(!f._zod.def.when(l))continue}else if(d)continue;const g=l.issues.length,p=f._zod.check(l);if(p instanceof Promise&&u?.async===!1)throw new Xp;if(m||p instanceof Promise)m=(m??Promise.resolve()).then(async()=>{await p,l.issues.length!==g&&(d||(d=Bp(l,g)))});else{if(l.issues.length===g)continue;d||(d=Bp(l,g))}}return m?m.then(()=>l):l},i=(l,o,u)=>{if(Bp(l))return l.aborted=!0,l;const d=n(o,a,u);if(d instanceof Promise){if(u.async===!1)throw new Xp;return d.then(m=>e._zod.parse(m,u))}return e._zod.parse(d,u)};e._zod.run=(l,o)=>{if(o.skipChecks)return e._zod.parse(l,o);if(o.direction==="backward"){const d=e._zod.parse({value:l.value,issues:[]},{...o,skipChecks:!0});return d instanceof Promise?d.then(m=>i(m,l,o)):i(d,l,o)}const u=e._zod.parse(l,o);if(u instanceof Promise){if(o.async===!1)throw new Xp;return u.then(d=>n(d,a,o))}return n(u,a,o)}}Vs(e,"~standard",()=>({validate:n=>{try{const i=Tee(e,n);return i.success?{value:i.data}:{issues:i.error?.issues}}catch{return Eee(e,n).then(l=>l.success?{value:l.data}:{issues:l.error?.issues})}},vendor:"zod",version:1}))}),b6=Nt("$ZodString",(e,t)=>{nn.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??nte(e._zod.bag),e._zod.parse=(s,a)=>{if(t.coerce)try{s.value=String(s.value)}catch{}return typeof s.value=="string"||s.issues.push({expected:"string",code:"invalid_type",input:s.value,inst:e}),s}}),Ma=Nt("$ZodStringFormat",(e,t)=>{NN.init(e,t),b6.init(e,t)}),_te=Nt("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=Wee),Ma.init(e,t)}),Ate=Nt("$ZodUUID",(e,t)=>{if(t.version){const a={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(a===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=lP(a))}else t.pattern??(t.pattern=lP());Ma.init(e,t)}),Cte=Nt("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=Gee),Ma.init(e,t)}),kte=Nt("$ZodURL",(e,t)=>{Ma.init(e,t),e._zod.check=s=>{try{const a=s.value.trim(),n=new URL(a);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(n.hostname)||s.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:s.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(n.protocol.endsWith(":")?n.protocol.slice(0,-1):n.protocol)||s.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:s.value,inst:e,continue:!t.abort})),t.normalize?s.value=n.href:s.value=a;return}catch{s.issues.push({code:"invalid_format",format:"url",input:s.value,inst:e,continue:!t.abort})}}}),Tte=Nt("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=Yee()),Ma.init(e,t)}),Ete=Nt("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=qee),Ma.init(e,t)}),Ote=Nt("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=Bee),Ma.init(e,t)}),Pte=Nt("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=Uee),Ma.init(e,t)}),Dte=Nt("$ZodULID",(e,t)=>{t.pattern??(t.pattern=zee),Ma.init(e,t)}),Rte=Nt("$ZodXID",(e,t)=>{t.pattern??(t.pattern=$ee),Ma.init(e,t)}),Mte=Nt("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=Hee),Ma.init(e,t)}),Lte=Nt("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=ate(t)),Ma.init(e,t)}),Ite=Nt("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=rte),Ma.init(e,t)}),Fte=Nt("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=ste(t)),Ma.init(e,t)}),Bte=Nt("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=Vee),Ma.init(e,t)}),Ute=Nt("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=Zee),Ma.init(e,t),e._zod.bag.format="ipv4"}),zte=Nt("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=Xee),Ma.init(e,t),e._zod.bag.format="ipv6",e._zod.check=s=>{try{new URL(`http://[${s.value}]`)}catch{s.issues.push({code:"invalid_format",format:"ipv6",input:s.value,inst:e,continue:!t.abort})}}}),$te=Nt("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=Jee),Ma.init(e,t)}),Hte=Nt("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=Qee),Ma.init(e,t),e._zod.check=s=>{const a=s.value.split("/");try{if(a.length!==2)throw new Error;const[n,i]=a;if(!i)throw new Error;const l=Number(i);if(`${l}`!==i)throw new Error;if(l<0||l>128)throw new Error;new URL(`http://[${n}]`)}catch{s.issues.push({code:"invalid_format",format:"cidrv6",input:s.value,inst:e,continue:!t.abort})}}});function L9(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const qte=Nt("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=ete),Ma.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=s=>{L9(s.value)||s.issues.push({code:"invalid_format",format:"base64",input:s.value,inst:e,continue:!t.abort})}});function Vte(e){if(!E9.test(e))return!1;const t=e.replace(/[-_]/g,a=>a==="-"?"+":"/"),s=t.padEnd(Math.ceil(t.length/4)*4,"=");return L9(s)}const Wte=Nt("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=E9),Ma.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=s=>{Vte(s.value)||s.issues.push({code:"invalid_format",format:"base64url",input:s.value,inst:e,continue:!t.abort})}}),Gte=Nt("$ZodE164",(e,t)=>{t.pattern??(t.pattern=tte),Ma.init(e,t)});function Kte(e,t=null){try{const s=e.split(".");if(s.length!==3)return!1;const[a]=s;if(!a)return!1;const n=JSON.parse(atob(a));return!("typ"in n&&n?.typ!=="JWT"||!n.alg||t&&(!("alg"in n)||n.alg!==t))}catch{return!1}}const Yte=Nt("$ZodJWT",(e,t)=>{Ma.init(e,t),e._zod.check=s=>{Kte(s.value,t.alg)||s.issues.push({code:"invalid_format",format:"jwt",input:s.value,inst:e,continue:!t.abort})}}),I9=Nt("$ZodNumber",(e,t)=>{nn.init(e,t),e._zod.pattern=e._zod.bag.pattern??lte,e._zod.parse=(s,a)=>{if(t.coerce)try{s.value=Number(s.value)}catch{}const n=s.value;if(typeof n=="number"&&!Number.isNaN(n)&&Number.isFinite(n))return s;const i=typeof n=="number"?Number.isNaN(n)?"NaN":Number.isFinite(n)?void 0:"Infinity":void 0;return s.issues.push({expected:"number",code:"invalid_type",input:n,inst:e,...i?{received:i}:{}}),s}}),Zte=Nt("$ZodNumberFormat",(e,t)=>{hte.init(e,t),I9.init(e,t)}),Xte=Nt("$ZodBoolean",(e,t)=>{nn.init(e,t),e._zod.pattern=ote,e._zod.parse=(s,a)=>{if(t.coerce)try{s.value=!!s.value}catch{}const n=s.value;return typeof n=="boolean"||s.issues.push({expected:"boolean",code:"invalid_type",input:n,inst:e}),s}}),Jte=Nt("$ZodUnknown",(e,t)=>{nn.init(e,t),e._zod.parse=s=>s}),Qte=Nt("$ZodNever",(e,t)=>{nn.init(e,t),e._zod.parse=(s,a)=>(s.issues.push({expected:"never",code:"invalid_type",input:s.value,inst:e}),s)});function oP(e,t,s){e.issues.length&&t.issues.push(...k9(s,e.issues)),t.value[s]=e.value}const ere=Nt("$ZodArray",(e,t)=>{nn.init(e,t),e._zod.parse=(s,a)=>{const n=s.value;if(!Array.isArray(n))return s.issues.push({expected:"array",code:"invalid_type",input:n,inst:e}),s;s.value=Array(n.length);const i=[];for(let l=0;l<n.length;l++){const o=n[l],u=t.element._zod.run({value:o,issues:[]},a);u instanceof Promise?i.push(u.then(d=>oP(d,s,l))):oP(u,s,l)}return i.length?Promise.all(i).then(()=>s):s}});function L2(e,t,s,a,n){if(e.issues.length){if(n&&!(s in a))return;t.issues.push(...k9(s,e.issues))}e.value===void 0?s in a&&(t.value[s]=void 0):t.value[s]=e.value}function F9(e){const t=Object.keys(e.shape);for(const a of t)if(!e.shape?.[a]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${a}": expected a Zod schema`);const s=xee(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(s)}}function B9(e,t,s,a,n,i){const l=[],o=n.keySet,u=n.catchall._zod,d=u.def.type,m=u.optout==="optional";for(const f in t){if(o.has(f))continue;if(d==="never"){l.push(f);continue}const g=u.run({value:t[f],issues:[]},a);g instanceof Promise?e.push(g.then(p=>L2(p,s,f,t,m))):L2(g,s,f,t,m)}return l.length&&s.issues.push({code:"unrecognized_keys",keys:l,input:t,inst:i}),e.length?Promise.all(e).then(()=>s):s}const tre=Nt("$ZodObject",(e,t)=>{if(nn.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){const o=t.shape;Object.defineProperty(t,"shape",{get:()=>{const u={...o};return Object.defineProperty(t,"shape",{value:u}),u}})}const a=p6(()=>F9(t));Vs(e._zod,"propValues",()=>{const o=t.shape,u={};for(const d in o){const m=o[d]._zod;if(m.values){u[d]??(u[d]=new Set);for(const f of m.values)u[d].add(f)}}return u});const n=M2,i=t.catchall;let l;e._zod.parse=(o,u)=>{l??(l=a.value);const d=o.value;if(!n(d))return o.issues.push({expected:"object",code:"invalid_type",input:d,inst:e}),o;o.value={};const m=[],f=l.shape;for(const g of l.keys){const p=f[g],y=p._zod.optout==="optional",v=p._zod.run({value:d[g],issues:[]},u);v instanceof Promise?m.push(v.then(j=>L2(j,o,g,d,y))):L2(v,o,g,d,y)}return i?B9(m,d,o,u,a.value,e):m.length?Promise.all(m).then(()=>o):o}}),rre=Nt("$ZodObjectJIT",(e,t)=>{tre.init(e,t);const s=e._zod.parse,a=p6(()=>F9(t)),n=g=>{const p=new wte(["shape","payload","ctx"]),y=a.value,v=w=>{const A=iP(w);return`shape[${A}]._zod.run({ value: input[${A}], issues: [] }, ctx)`};p.write("const input = payload.value;");const j=Object.create(null);let N=0;for(const w of y.keys)j[w]=`key_${N++}`;p.write("const newResult = {};");for(const w of y.keys){const A=j[w],C=iP(w),R=g[w]?._zod?.optout==="optional";p.write(`const ${A} = ${v(w)};`),R?p.write(`
        if (${A}.issues.length) {
          if (${C} in input) {
            payload.issues = payload.issues.concat(${A}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${C}, ...iss.path] : [${C}]
            })));
          }
        }
        
        if (${A}.value === undefined) {
          if (${C} in input) {
            newResult[${C}] = undefined;
          }
        } else {
          newResult[${C}] = ${A}.value;
        }
        
      `):p.write(`
        if (${A}.issues.length) {
          payload.issues = payload.issues.concat(${A}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${C}, ...iss.path] : [${C}]
          })));
        }
        
        if (${A}.value === undefined) {
          if (${C} in input) {
            newResult[${C}] = undefined;
          }
        } else {
          newResult[${C}] = ${A}.value;
        }
        
      `)}p.write("payload.value = newResult;"),p.write("return payload;");const k=p.compile();return(w,A)=>k(g,w,A)};let i;const l=M2,o=!S9.jitless,d=o&&fee.value,m=t.catchall;let f;e._zod.parse=(g,p)=>{f??(f=a.value);const y=g.value;return l(y)?o&&d&&p?.async===!1&&p.jitless!==!0?(i||(i=n(t.shape)),g=i(g,p),m?B9([],y,g,p,f,e):g):s(g,p):(g.issues.push({expected:"object",code:"invalid_type",input:y,inst:e}),g)}});function cP(e,t,s,a){for(const i of e)if(i.issues.length===0)return t.value=i.value,t;const n=e.filter(i=>!Bp(i));return n.length===1?(t.value=n[0].value,n[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:s,errors:e.map(i=>i.issues.map(l=>t0(l,a,e0())))}),t)}const sre=Nt("$ZodUnion",(e,t)=>{nn.init(e,t),Vs(e._zod,"optin",()=>t.options.some(n=>n._zod.optin==="optional")?"optional":void 0),Vs(e._zod,"optout",()=>t.options.some(n=>n._zod.optout==="optional")?"optional":void 0),Vs(e._zod,"values",()=>{if(t.options.every(n=>n._zod.values))return new Set(t.options.flatMap(n=>Array.from(n._zod.values)))}),Vs(e._zod,"pattern",()=>{if(t.options.every(n=>n._zod.pattern)){const n=t.options.map(i=>i._zod.pattern);return new RegExp(`^(${n.map(i=>g6(i.source)).join("|")})$`)}});const s=t.options.length===1,a=t.options[0]._zod.run;e._zod.parse=(n,i)=>{if(s)return a(n,i);let l=!1;const o=[];for(const u of t.options){const d=u._zod.run({value:n.value,issues:[]},i);if(d instanceof Promise)o.push(d),l=!0;else{if(d.issues.length===0)return d;o.push(d)}}return l?Promise.all(o).then(u=>cP(u,n,e,i)):cP(o,n,e,i)}}),are=Nt("$ZodIntersection",(e,t)=>{nn.init(e,t),e._zod.parse=(s,a)=>{const n=s.value,i=t.left._zod.run({value:n,issues:[]},a),l=t.right._zod.run({value:n,issues:[]},a);return i instanceof Promise||l instanceof Promise?Promise.all([i,l]).then(([u,d])=>dP(s,u,d)):dP(s,i,l)}});function p_(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(_v(e)&&_v(t)){const s=Object.keys(t),a=Object.keys(e).filter(i=>s.indexOf(i)!==-1),n={...e,...t};for(const i of a){const l=p_(e[i],t[i]);if(!l.valid)return{valid:!1,mergeErrorPath:[i,...l.mergeErrorPath]};n[i]=l.data}return{valid:!0,data:n}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const s=[];for(let a=0;a<e.length;a++){const n=e[a],i=t[a],l=p_(n,i);if(!l.valid)return{valid:!1,mergeErrorPath:[a,...l.mergeErrorPath]};s.push(l.data)}return{valid:!0,data:s}}return{valid:!1,mergeErrorPath:[]}}function dP(e,t,s){const a=new Map;let n;for(const o of t.issues)if(o.code==="unrecognized_keys"){n??(n=o);for(const u of o.keys)a.has(u)||a.set(u,{}),a.get(u).l=!0}else e.issues.push(o);for(const o of s.issues)if(o.code==="unrecognized_keys")for(const u of o.keys)a.has(u)||a.set(u,{}),a.get(u).r=!0;else e.issues.push(o);const i=[...a].filter(([,o])=>o.l&&o.r).map(([o])=>o);if(i.length&&n&&e.issues.push({...n,keys:i}),Bp(e))return e;const l=p_(t.value,s.value);if(!l.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(l.mergeErrorPath)}`);return e.value=l.data,e}const nre=Nt("$ZodEnum",(e,t)=>{nn.init(e,t);const s=_9(t.entries),a=new Set(s);e._zod.values=a,e._zod.pattern=new RegExp(`^(${s.filter(n=>pee.has(typeof n)).map(n=>typeof n=="string"?fx(n):n.toString()).join("|")})$`),e._zod.parse=(n,i)=>{const l=n.value;return a.has(l)||n.issues.push({code:"invalid_value",values:s,input:l,inst:e}),n}}),ire=Nt("$ZodLiteral",(e,t)=>{if(nn.init(e,t),t.values.length===0)throw new Error("Cannot create literal schema with no valid values");const s=new Set(t.values);e._zod.values=s,e._zod.pattern=new RegExp(`^(${t.values.map(a=>typeof a=="string"?fx(a):a?fx(a.toString()):String(a)).join("|")})$`),e._zod.parse=(a,n)=>{const i=a.value;return s.has(i)||a.issues.push({code:"invalid_value",values:t.values,input:i,inst:e}),a}}),lre=Nt("$ZodTransform",(e,t)=>{nn.init(e,t),e._zod.parse=(s,a)=>{if(a.direction==="backward")throw new w9(e.constructor.name);const n=t.transform(s.value,s);if(a.async)return(n instanceof Promise?n:Promise.resolve(n)).then(l=>(s.value=l,s));if(n instanceof Promise)throw new Xp;return s.value=n,s}});function uP(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const U9=Nt("$ZodOptional",(e,t)=>{nn.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Vs(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Vs(e._zod,"pattern",()=>{const s=t.innerType._zod.pattern;return s?new RegExp(`^(${g6(s.source)})?$`):void 0}),e._zod.parse=(s,a)=>{if(t.innerType._zod.optin==="optional"){const n=t.innerType._zod.run(s,a);return n instanceof Promise?n.then(i=>uP(i,s.value)):uP(n,s.value)}return s.value===void 0?s:t.innerType._zod.run(s,a)}}),ore=Nt("$ZodExactOptional",(e,t)=>{U9.init(e,t),Vs(e._zod,"values",()=>t.innerType._zod.values),Vs(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(s,a)=>t.innerType._zod.run(s,a)}),cre=Nt("$ZodNullable",(e,t)=>{nn.init(e,t),Vs(e._zod,"optin",()=>t.innerType._zod.optin),Vs(e._zod,"optout",()=>t.innerType._zod.optout),Vs(e._zod,"pattern",()=>{const s=t.innerType._zod.pattern;return s?new RegExp(`^(${g6(s.source)}|null)$`):void 0}),Vs(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(s,a)=>s.value===null?s:t.innerType._zod.run(s,a)}),dre=Nt("$ZodDefault",(e,t)=>{nn.init(e,t),e._zod.optin="optional",Vs(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(s,a)=>{if(a.direction==="backward")return t.innerType._zod.run(s,a);if(s.value===void 0)return s.value=t.defaultValue,s;const n=t.innerType._zod.run(s,a);return n instanceof Promise?n.then(i=>hP(i,t)):hP(n,t)}});function hP(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const ure=Nt("$ZodPrefault",(e,t)=>{nn.init(e,t),e._zod.optin="optional",Vs(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(s,a)=>(a.direction==="backward"||s.value===void 0&&(s.value=t.defaultValue),t.innerType._zod.run(s,a))}),hre=Nt("$ZodNonOptional",(e,t)=>{nn.init(e,t),Vs(e._zod,"values",()=>{const s=t.innerType._zod.values;return s?new Set([...s].filter(a=>a!==void 0)):void 0}),e._zod.parse=(s,a)=>{const n=t.innerType._zod.run(s,a);return n instanceof Promise?n.then(i=>mP(i,e)):mP(n,e)}});function mP(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const mre=Nt("$ZodCatch",(e,t)=>{nn.init(e,t),Vs(e._zod,"optin",()=>t.innerType._zod.optin),Vs(e._zod,"optout",()=>t.innerType._zod.optout),Vs(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(s,a)=>{if(a.direction==="backward")return t.innerType._zod.run(s,a);const n=t.innerType._zod.run(s,a);return n instanceof Promise?n.then(i=>(s.value=i.value,i.issues.length&&(s.value=t.catchValue({...s,error:{issues:i.issues.map(l=>t0(l,a,e0()))},input:s.value}),s.issues=[]),s)):(s.value=n.value,n.issues.length&&(s.value=t.catchValue({...s,error:{issues:n.issues.map(i=>t0(i,a,e0()))},input:s.value}),s.issues=[]),s)}}),fre=Nt("$ZodPipe",(e,t)=>{nn.init(e,t),Vs(e._zod,"values",()=>t.in._zod.values),Vs(e._zod,"optin",()=>t.in._zod.optin),Vs(e._zod,"optout",()=>t.out._zod.optout),Vs(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(s,a)=>{if(a.direction==="backward"){const i=t.out._zod.run(s,a);return i instanceof Promise?i.then(l=>Rb(l,t.in,a)):Rb(i,t.in,a)}const n=t.in._zod.run(s,a);return n instanceof Promise?n.then(i=>Rb(i,t.out,a)):Rb(n,t.out,a)}});function Rb(e,t,s){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},s)}const pre=Nt("$ZodReadonly",(e,t)=>{nn.init(e,t),Vs(e._zod,"propValues",()=>t.innerType._zod.propValues),Vs(e._zod,"values",()=>t.innerType._zod.values),Vs(e._zod,"optin",()=>t.innerType?._zod?.optin),Vs(e._zod,"optout",()=>t.innerType?._zod?.optout),e._zod.parse=(s,a)=>{if(a.direction==="backward")return t.innerType._zod.run(s,a);const n=t.innerType._zod.run(s,a);return n instanceof Promise?n.then(fP):fP(n)}});function fP(e){return e.value=Object.freeze(e.value),e}const xre=Nt("$ZodCustom",(e,t)=>{ao.init(e,t),nn.init(e,t),e._zod.parse=(s,a)=>s,e._zod.check=s=>{const a=s.value,n=t.fn(a);if(n instanceof Promise)return n.then(i=>pP(i,s,a,e));pP(n,s,a,e)}});function pP(e,t,s,a){if(!e){const n={code:"custom",input:s,inst:a,path:[...a._zod.def.path??[]],continue:!a._zod.def.abort};a._zod.def.params&&(n.params=a._zod.def.params),t.issues.push(Av(n))}}var xP;class gre{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...s){const a=s[0];return this._map.set(t,a),a&&typeof a=="object"&&"id"in a&&this._idmap.set(a.id,t),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const s=this._map.get(t);return s&&typeof s=="object"&&"id"in s&&this._idmap.delete(s.id),this._map.delete(t),this}get(t){const s=t._zod.parent;if(s){const a={...this.get(s)??{}};delete a.id;const n={...a,...this._map.get(t)};return Object.keys(n).length?n:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function vre(){return new gre}(xP=globalThis).__zod_globalRegistry??(xP.__zod_globalRegistry=vre());const iv=globalThis.__zod_globalRegistry;function yre(e,t){return new e({type:"string",...xr(t)})}function bre(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...xr(t)})}function gP(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...xr(t)})}function jre(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...xr(t)})}function Nre(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...xr(t)})}function wre(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...xr(t)})}function Sre(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...xr(t)})}function _re(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...xr(t)})}function Are(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...xr(t)})}function Cre(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...xr(t)})}function kre(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...xr(t)})}function Tre(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...xr(t)})}function Ere(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...xr(t)})}function Ore(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...xr(t)})}function Pre(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...xr(t)})}function Dre(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...xr(t)})}function Rre(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...xr(t)})}function Mre(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...xr(t)})}function Lre(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...xr(t)})}function Ire(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...xr(t)})}function Fre(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...xr(t)})}function Bre(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...xr(t)})}function Ure(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...xr(t)})}function zre(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...xr(t)})}function $re(e,t){return new e({type:"string",format:"date",check:"string_format",...xr(t)})}function Hre(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...xr(t)})}function qre(e,t){return new e({type:"string",format:"duration",check:"string_format",...xr(t)})}function Vre(e,t){return new e({type:"number",checks:[],...xr(t)})}function Wre(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...xr(t)})}function Gre(e,t){return new e({type:"boolean",...xr(t)})}function Kre(e){return new e({type:"unknown"})}function Yre(e,t){return new e({type:"never",...xr(t)})}function vP(e,t){return new R9({check:"less_than",...xr(t),value:e,inclusive:!1})}function v4(e,t){return new R9({check:"less_than",...xr(t),value:e,inclusive:!0})}function yP(e,t){return new M9({check:"greater_than",...xr(t),value:e,inclusive:!1})}function y4(e,t){return new M9({check:"greater_than",...xr(t),value:e,inclusive:!0})}function bP(e,t){return new ute({check:"multiple_of",...xr(t),value:e})}function z9(e,t){return new mte({check:"max_length",...xr(t),maximum:e})}function I2(e,t){return new fte({check:"min_length",...xr(t),minimum:e})}function $9(e,t){return new pte({check:"length_equals",...xr(t),length:e})}function Zre(e,t){return new xte({check:"string_format",format:"regex",...xr(t),pattern:e})}function Xre(e){return new gte({check:"string_format",format:"lowercase",...xr(e)})}function Jre(e){return new vte({check:"string_format",format:"uppercase",...xr(e)})}function Qre(e,t){return new yte({check:"string_format",format:"includes",...xr(t),includes:e})}function ese(e,t){return new bte({check:"string_format",format:"starts_with",...xr(t),prefix:e})}function tse(e,t){return new jte({check:"string_format",format:"ends_with",...xr(t),suffix:e})}function Ox(e){return new Nte({check:"overwrite",tx:e})}function rse(e){return Ox(t=>t.normalize(e))}function sse(){return Ox(e=>e.trim())}function ase(){return Ox(e=>e.toLowerCase())}function nse(){return Ox(e=>e.toUpperCase())}function ise(){return Ox(e=>mee(e))}function lse(e,t,s){return new e({type:"array",element:t,...xr(s)})}function ose(e,t,s){return new e({type:"custom",check:"custom",fn:t,...xr(s)})}function cse(e){const t=dse(s=>(s.addIssue=a=>{if(typeof a=="string")s.issues.push(Av(a,s.value,t._zod.def));else{const n=a;n.fatal&&(n.continue=!1),n.code??(n.code="custom"),n.input??(n.input=s.value),n.inst??(n.inst=t),n.continue??(n.continue=!t._zod.def.abort),s.issues.push(Av(n))}},e(s.value,s)));return t}function dse(e,t){const s=new ao({check:"custom",...xr(t)});return s._zod.check=e,s}function H9(e){let t=e?.target??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:e?.metadata??iv,target:t,unrepresentable:e?.unrepresentable??"throw",override:e?.override??(()=>{}),io:e?.io??"output",counter:0,seen:new Map,cycles:e?.cycles??"ref",reused:e?.reused??"inline",external:e?.external??void 0}}function Bi(e,t,s={path:[],schemaPath:[]}){var a;const n=e._zod.def,i=t.seen.get(e);if(i)return i.count++,s.schemaPath.includes(e)&&(i.cycle=s.path),i.schema;const l={schema:{},count:1,cycle:void 0,path:s.path};t.seen.set(e,l);const o=e._zod.toJSONSchema?.();if(o)l.schema=o;else{const m={...s,schemaPath:[...s.schemaPath,e],path:s.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,l.schema,m);else{const g=l.schema,p=t.processors[n.type];if(!p)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${n.type}`);p(e,t,g,m)}const f=e._zod.parent;f&&(l.ref||(l.ref=f),Bi(f,t,m),t.seen.get(f).isParent=!0)}const u=t.metadataRegistry.get(e);return u&&Object.assign(l.schema,u),t.io==="input"&&xl(e)&&(delete l.schema.examples,delete l.schema.default),t.io==="input"&&l.schema._prefault&&((a=l.schema).default??(a.default=l.schema._prefault)),delete l.schema._prefault,t.seen.get(e).schema}function q9(e,t){const s=e.seen.get(t);if(!s)throw new Error("Unprocessed schema. This is a bug in Zod.");const a=new Map;for(const l of e.seen.entries()){const o=e.metadataRegistry.get(l[0])?.id;if(o){const u=a.get(o);if(u&&u!==l[0])throw new Error(`Duplicate schema id "${o}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);a.set(o,l[0])}}const n=l=>{const o=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const f=e.external.registry.get(l[0])?.id,g=e.external.uri??(y=>y);if(f)return{ref:g(f)};const p=l[1].defId??l[1].schema.id??`schema${e.counter++}`;return l[1].defId=p,{defId:p,ref:`${g("__shared")}#/${o}/${p}`}}if(l[1]===s)return{ref:"#"};const d=`#/${o}/`,m=l[1].schema.id??`__schema${e.counter++}`;return{defId:m,ref:d+m}},i=l=>{if(l[1].schema.$ref)return;const o=l[1],{ref:u,defId:d}=n(l);o.def={...o.schema},d&&(o.defId=d);const m=o.schema;for(const f in m)delete m[f];m.$ref=u};if(e.cycles==="throw")for(const l of e.seen.entries()){const o=l[1];if(o.cycle)throw new Error(`Cycle detected: #/${o.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const l of e.seen.entries()){const o=l[1];if(t===l[0]){i(l);continue}if(e.external){const d=e.external.registry.get(l[0])?.id;if(t!==l[0]&&d){i(l);continue}}if(e.metadataRegistry.get(l[0])?.id){i(l);continue}if(o.cycle){i(l);continue}if(o.count>1&&e.reused==="ref"){i(l);continue}}}function V9(e,t){const s=e.seen.get(t);if(!s)throw new Error("Unprocessed schema. This is a bug in Zod.");const a=l=>{const o=e.seen.get(l);if(o.ref===null)return;const u=o.def??o.schema,d={...u},m=o.ref;if(o.ref=null,m){a(m);const g=e.seen.get(m),p=g.schema;if(p.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(u.allOf=u.allOf??[],u.allOf.push(p)):Object.assign(u,p),Object.assign(u,d),l._zod.parent===m)for(const v in u)v==="$ref"||v==="allOf"||v in d||delete u[v];if(p.$ref)for(const v in u)v==="$ref"||v==="allOf"||v in g.def&&JSON.stringify(u[v])===JSON.stringify(g.def[v])&&delete u[v]}const f=l._zod.parent;if(f&&f!==m){a(f);const g=e.seen.get(f);if(g?.schema.$ref&&(u.$ref=g.schema.$ref,g.def))for(const p in u)p==="$ref"||p==="allOf"||p in g.def&&JSON.stringify(u[p])===JSON.stringify(g.def[p])&&delete u[p]}e.override({zodSchema:l,jsonSchema:u,path:o.path??[]})};for(const l of[...e.seen.entries()].reverse())a(l[0]);const n={};if(e.target==="draft-2020-12"?n.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?n.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?n.$schema="http://json-schema.org/draft-04/schema#":e.target,e.external?.uri){const l=e.external.registry.get(t)?.id;if(!l)throw new Error("Schema is missing an `id` property");n.$id=e.external.uri(l)}Object.assign(n,s.def??s.schema);const i=e.external?.defs??{};for(const l of e.seen.entries()){const o=l[1];o.def&&o.defId&&(i[o.defId]=o.def)}e.external||Object.keys(i).length>0&&(e.target==="draft-2020-12"?n.$defs=i:n.definitions=i);try{const l=JSON.parse(JSON.stringify(n));return Object.defineProperty(l,"~standard",{value:{...t["~standard"],jsonSchema:{input:F2(t,"input",e.processors),output:F2(t,"output",e.processors)}},enumerable:!1,writable:!1}),l}catch{throw new Error("Error converting schema to JSON.")}}function xl(e,t){const s=t??{seen:new Set};if(s.seen.has(e))return!1;s.seen.add(e);const a=e._zod.def;if(a.type==="transform")return!0;if(a.type==="array")return xl(a.element,s);if(a.type==="set")return xl(a.valueType,s);if(a.type==="lazy")return xl(a.getter(),s);if(a.type==="promise"||a.type==="optional"||a.type==="nonoptional"||a.type==="nullable"||a.type==="readonly"||a.type==="default"||a.type==="prefault")return xl(a.innerType,s);if(a.type==="intersection")return xl(a.left,s)||xl(a.right,s);if(a.type==="record"||a.type==="map")return xl(a.keyType,s)||xl(a.valueType,s);if(a.type==="pipe")return xl(a.in,s)||xl(a.out,s);if(a.type==="object"){for(const n in a.shape)if(xl(a.shape[n],s))return!0;return!1}if(a.type==="union"){for(const n of a.options)if(xl(n,s))return!0;return!1}if(a.type==="tuple"){for(const n of a.items)if(xl(n,s))return!0;return!!(a.rest&&xl(a.rest,s))}return!1}const use=(e,t={})=>s=>{const a=H9({...s,processors:t});return Bi(e,a),q9(a,e),V9(a,e)},F2=(e,t,s={})=>a=>{const{libraryOptions:n,target:i}=a??{},l=H9({...n??{},target:i,io:t,processors:s});return Bi(e,l),q9(l,e),V9(l,e)},hse={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},mse=(e,t,s,a)=>{const n=s;n.type="string";const{minimum:i,maximum:l,format:o,patterns:u,contentEncoding:d}=e._zod.bag;if(typeof i=="number"&&(n.minLength=i),typeof l=="number"&&(n.maxLength=l),o&&(n.format=hse[o]??o,n.format===""&&delete n.format,o==="time"&&delete n.format),d&&(n.contentEncoding=d),u&&u.size>0){const m=[...u];m.length===1?n.pattern=m[0].source:m.length>1&&(n.allOf=[...m.map(f=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:f.source}))])}},fse=(e,t,s,a)=>{const n=s,{minimum:i,maximum:l,format:o,multipleOf:u,exclusiveMaximum:d,exclusiveMinimum:m}=e._zod.bag;typeof o=="string"&&o.includes("int")?n.type="integer":n.type="number",typeof m=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(n.minimum=m,n.exclusiveMinimum=!0):n.exclusiveMinimum=m),typeof i=="number"&&(n.minimum=i,typeof m=="number"&&t.target!=="draft-04"&&(m>=i?delete n.minimum:delete n.exclusiveMinimum)),typeof d=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(n.maximum=d,n.exclusiveMaximum=!0):n.exclusiveMaximum=d),typeof l=="number"&&(n.maximum=l,typeof d=="number"&&t.target!=="draft-04"&&(d<=l?delete n.maximum:delete n.exclusiveMaximum)),typeof u=="number"&&(n.multipleOf=u)},pse=(e,t,s,a)=>{s.type="boolean"},xse=(e,t,s,a)=>{s.not={}},gse=(e,t,s,a)=>{},vse=(e,t,s,a)=>{const n=e._zod.def,i=_9(n.entries);i.every(l=>typeof l=="number")&&(s.type="number"),i.every(l=>typeof l=="string")&&(s.type="string"),s.enum=i},yse=(e,t,s,a)=>{const n=e._zod.def,i=[];for(const l of n.values)if(l===void 0){if(t.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof l=="bigint"){if(t.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");i.push(Number(l))}else i.push(l);if(i.length!==0)if(i.length===1){const l=i[0];s.type=l===null?"null":typeof l,t.target==="draft-04"||t.target==="openapi-3.0"?s.enum=[l]:s.const=l}else i.every(l=>typeof l=="number")&&(s.type="number"),i.every(l=>typeof l=="string")&&(s.type="string"),i.every(l=>typeof l=="boolean")&&(s.type="boolean"),i.every(l=>l===null)&&(s.type="null"),s.enum=i},bse=(e,t,s,a)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},jse=(e,t,s,a)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},Nse=(e,t,s,a)=>{const n=s,i=e._zod.def,{minimum:l,maximum:o}=e._zod.bag;typeof l=="number"&&(n.minItems=l),typeof o=="number"&&(n.maxItems=o),n.type="array",n.items=Bi(i.element,t,{...a,path:[...a.path,"items"]})},wse=(e,t,s,a)=>{const n=s,i=e._zod.def;n.type="object",n.properties={};const l=i.shape;for(const d in l)n.properties[d]=Bi(l[d],t,{...a,path:[...a.path,"properties",d]});const o=new Set(Object.keys(l)),u=new Set([...o].filter(d=>{const m=i.shape[d]._zod;return t.io==="input"?m.optin===void 0:m.optout===void 0}));u.size>0&&(n.required=Array.from(u)),i.catchall?._zod.def.type==="never"?n.additionalProperties=!1:i.catchall?i.catchall&&(n.additionalProperties=Bi(i.catchall,t,{...a,path:[...a.path,"additionalProperties"]})):t.io==="output"&&(n.additionalProperties=!1)},Sse=(e,t,s,a)=>{const n=e._zod.def,i=n.inclusive===!1,l=n.options.map((o,u)=>Bi(o,t,{...a,path:[...a.path,i?"oneOf":"anyOf",u]}));i?s.oneOf=l:s.anyOf=l},_se=(e,t,s,a)=>{const n=e._zod.def,i=Bi(n.left,t,{...a,path:[...a.path,"allOf",0]}),l=Bi(n.right,t,{...a,path:[...a.path,"allOf",1]}),o=d=>"allOf"in d&&Object.keys(d).length===1,u=[...o(i)?i.allOf:[i],...o(l)?l.allOf:[l]];s.allOf=u},Ase=(e,t,s,a)=>{const n=e._zod.def,i=Bi(n.innerType,t,a),l=t.seen.get(e);t.target==="openapi-3.0"?(l.ref=n.innerType,s.nullable=!0):s.anyOf=[i,{type:"null"}]},Cse=(e,t,s,a)=>{const n=e._zod.def;Bi(n.innerType,t,a);const i=t.seen.get(e);i.ref=n.innerType},kse=(e,t,s,a)=>{const n=e._zod.def;Bi(n.innerType,t,a);const i=t.seen.get(e);i.ref=n.innerType,s.default=JSON.parse(JSON.stringify(n.defaultValue))},Tse=(e,t,s,a)=>{const n=e._zod.def;Bi(n.innerType,t,a);const i=t.seen.get(e);i.ref=n.innerType,t.io==="input"&&(s._prefault=JSON.parse(JSON.stringify(n.defaultValue)))},Ese=(e,t,s,a)=>{const n=e._zod.def;Bi(n.innerType,t,a);const i=t.seen.get(e);i.ref=n.innerType;let l;try{l=n.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}s.default=l},Ose=(e,t,s,a)=>{const n=e._zod.def,i=t.io==="input"?n.in._zod.def.type==="transform"?n.out:n.in:n.out;Bi(i,t,a);const l=t.seen.get(e);l.ref=i},Pse=(e,t,s,a)=>{const n=e._zod.def;Bi(n.innerType,t,a);const i=t.seen.get(e);i.ref=n.innerType,s.readOnly=!0},W9=(e,t,s,a)=>{const n=e._zod.def;Bi(n.innerType,t,a);const i=t.seen.get(e);i.ref=n.innerType};function jP(e,t){try{var s=e()}catch(a){return t(a)}return s&&s.then?s.then(void 0,t):s}function Dse(e,t){for(var s={};e.length;){var a=e[0],n=a.code,i=a.message,l=a.path.join(".");if(!s[l])if("unionErrors"in a){var o=a.unionErrors[0].errors[0];s[l]={message:o.message,type:o.code}}else s[l]={message:i,type:n};if("unionErrors"in a&&a.unionErrors.forEach(function(m){return m.errors.forEach(function(f){return e.push(f)})}),t){var u=s[l].types,d=u&&u[a.code];s[l]=u6(l,t,s,n,d?[].concat(d,a.message):a.message)}e.shift()}return s}function Rse(e,t){for(var s={};e.length;){var a=e[0],n=a.code,i=a.message,l=a.path.join(".");if(!s[l])if(a.code==="invalid_union"&&a.errors.length>0){var o=a.errors[0][0];s[l]={message:o.message,type:o.code}}else s[l]={message:i,type:n};if(a.code==="invalid_union"&&a.errors.forEach(function(m){return m.forEach(function(f){return e.push(f)})}),t){var u=s[l].types,d=u&&u[a.code];s[l]=u6(l,t,s,n,d?[].concat(d,a.message):a.message)}e.shift()}return s}function y0(e,t,s){if(s===void 0&&(s={}),(function(a){return"_def"in a&&typeof a._def=="object"&&"typeName"in a._def})(e))return function(a,n,i){try{return Promise.resolve(jP(function(){return Promise.resolve(e[s.mode==="sync"?"parse":"parseAsync"](a,t)).then(function(l){return i.shouldUseNativeValidation&&m_({},i),{errors:{},values:s.raw?Object.assign({},a):l}})},function(l){if((function(o){return Array.isArray(o?.issues)})(l))return{values:{},errors:sP(Dse(l.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw l}))}catch(l){return Promise.reject(l)}};if((function(a){return"_zod"in a&&typeof a._zod=="object"})(e))return function(a,n,i){try{return Promise.resolve(jP(function(){return Promise.resolve((s.mode==="sync"?Cee:kee)(e,a,t)).then(function(l){return i.shouldUseNativeValidation&&m_({},i),{errors:{},values:s.raw?Object.assign({},a):l}})},function(l){if((function(o){return o instanceof y6})(l))return{values:{},errors:sP(Rse(l.issues,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw l}))}catch(l){return Promise.reject(l)}};throw new Error("Invalid input: not a Zod schema")}const Mse={Shield:Fi,Package:Pt,Box:i2,Truck:zr,Users:Mr};function Lse(){const{user:e}=os();if(!e)return null;const t=t6(e.role),s=t&&Mse[t.icon]||Mr;return r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"h-16 w-16 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-xl font-bold text-white",children:e.name.split(" ").map(a=>a[0]).join("").slice(0,2)})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:e.name}),t&&r.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[r.jsx("div",{className:`h-8 w-8 rounded-lg ${t.color} flex items-center justify-center`,children:r.jsx(s,{className:"h-4 w-4 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:t.displayName}),r.jsx("p",{className:"text-sm text-gray-600",children:t.description})]})]}),r.jsxs("div",{className:"mt-4 space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(Dm,{className:"h-4 w-4"}),r.jsx("span",{children:e.email})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(su,{className:"h-4 w-4"}),r.jsx("span",{children:e.phone})]}),(e.hubId||e.storeId)&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(qs,{className:"h-4 w-4"}),r.jsx("span",{children:e.loginType==="hub"?`Hub: ${e.hubId}`:`Store: ${e.storeId}`})]})]}),r.jsx("div",{className:"mt-4",children:r.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${e.loginType==="super_admin"?"bg-purple-100 text-purple-800":e.loginType==="hub"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:e.loginType==="super_admin"?"Super Admin":e.loginType==="hub"?"Hub Access":"Store Access"})})]})]}),t&&t.permissions.length>0&&r.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Key Permissions"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.permissions.slice(0,4).map(a=>r.jsx("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded-md",children:a.replace(/_/g," ").toLowerCase()},a)),t.permissions.length>4&&r.jsxs("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded-md",children:["+",t.permissions.length-4," more"]})]})]})]})}function j6({size:e="md",variant:t="spinner",text:s="Loading...",className:a=""}){const i={sm:{container:"h-16",spinner:"h-4 w-4",text:"text-xs",dot:"h-1.5 w-1.5"},md:{container:"h-24",spinner:"h-6 w-6",text:"text-sm",dot:"h-2 w-2"},lg:{container:"h-32",spinner:"h-8 w-8",text:"text-base",dot:"h-2.5 w-2.5"},xl:{container:"h-40",spinner:"h-12 w-12",text:"text-lg",dot:"h-3 w-3"}}[e],l=()=>{switch(t){case"dots":return r.jsx("div",{className:"flex space-x-1",children:[0,1,2].map(o=>r.jsx("div",{className:`${i.dot} bg-blue-600 rounded-full animate-bounce`,style:{animationDelay:`${o*.1}s`}},o))});case"pulse":return r.jsx("div",{className:`${i.spinner} bg-blue-600 rounded-full animate-pulse`});case"branded":return r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:`${i.spinner} rounded-full border-4 border-blue-100 border-t-blue-600 animate-spin`}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsx(Kl,{className:"h-3 w-3 text-blue-600"})})]});default:return r.jsx("div",{className:`${i.spinner} rounded-full border-4 border-gray-200 border-t-blue-600 animate-spin`})}};return r.jsxs("div",{className:`flex flex-col items-center justify-center ${i.container} ${a}`,children:[l(),s&&r.jsx("p",{className:`mt-3 font-medium text-gray-600 ${i.text}`,children:s})]})}function Ise({isLoading:e,text:t="Loading...",variant:s="branded",size:a="lg",backdrop:n="light",children:i}){const l={light:"bg-white/80",dark:"bg-gray-900/50",blur:"bg-white/70 backdrop-blur-sm"};return e?r.jsxs("div",{className:"relative",children:[i&&r.jsx("div",{className:"opacity-50 pointer-events-none",children:i}),r.jsx("div",{className:`absolute inset-0 flex items-center justify-center z-50 ${l[n]}`,children:r.jsx("div",{className:"bg-white rounded-2xl shadow-2xl p-8 border border-gray-200",children:r.jsx(j6,{variant:s,size:a,text:t})})})]}):r.jsx(r.Fragment,{children:i})}function Fse({text:e="Loading...",variant:t="branded",showLogo:s=!0}){return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-gray-100",children:r.jsxs("div",{className:"text-center",children:[s&&r.jsx("div",{className:"mb-8",children:r.jsx("div",{className:"inline-flex items-center gap-3 mb-4",children:r.jsx("img",{src:"https://bayhawk.clientstagingdemo.com/_next/static/media/BayHawk.207595da.svg",alt:"BayHawk",className:"h-12 w-auto"})})}),r.jsx(j6,{variant:t,size:"xl",text:e})]})})}function Xu({className:e="",variant:t="rectangular",width:s,height:a,lines:n=1}){const i="animate-pulse bg-gray-200 rounded",l={text:"h-4 rounded",circular:"rounded-full",rectangular:"rounded-lg"},o={width:typeof s=="number"?`${s}px`:s,height:typeof a=="number"?`${a}px`:a};return t==="text"&&n>1?r.jsx("div",{className:`space-y-2 ${e}`,children:Array.from({length:n}).map((u,d)=>r.jsx("div",{className:`${i} ${l.text}`,style:{width:d===n-1?"75%":"100%",height:typeof a=="number"?`${a}px`:a}},d))}):r.jsx("div",{className:`${i} ${l[t]} ${e}`,style:o})}function NP(){return r.jsx("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx(Xu,{variant:"circular",width:48,height:48}),r.jsxs("div",{className:"flex-1",children:[r.jsx(Xu,{variant:"text",width:"60%",height:20,className:"mb-2"}),r.jsx(Xu,{variant:"text",lines:2})]})]})})}function Bse({rows:e=5,columns:t=4}){return r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-200",children:r.jsx("div",{className:"grid gap-4",style:{gridTemplateColumns:`repeat(${t}, 1fr)`},children:Array.from({length:t}).map((s,a)=>r.jsx(Xu,{variant:"text",width:"80%",height:16},a))})}),Array.from({length:e}).map((s,a)=>r.jsx("div",{className:"px-4 py-4 border-b border-gray-100 last:border-b-0",children:r.jsx("div",{className:"grid gap-4",style:{gridTemplateColumns:`repeat(${t}, 1fr)`},children:Array.from({length:t}).map((n,i)=>r.jsx(Xu,{variant:"text",height:16},i))})},a))]})}function Use(){return r.jsx("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx(Xu,{variant:"text",width:"50%",height:16,className:"mb-2"}),r.jsx(Xu,{variant:"text",width:"80%",height:32,className:"mb-2"}),r.jsx(Xu,{variant:"text",width:"60%",height:14})]}),r.jsx(Xu,{variant:"circular",width:48,height:48})]})})}function wN({isLoading:e,children:t,type:s="overlay",skeletonType:a="card",skeletonCount:n=3,text:i="Loading...",variant:l="branded",size:o="md",className:u=""}){if(!e)return r.jsx(r.Fragment,{children:t});switch(s){case"page":return r.jsx(Fse,{text:i,variant:l});case"inline":return r.jsx("div",{className:`flex items-center justify-center py-8 ${u}`,children:r.jsx(j6,{variant:l,size:o,text:i})});case"skeleton":const d=()=>{switch(a){case"card":return Array.from({length:n}).map((m,f)=>r.jsx(NP,{},f));case"table":return r.jsx(Bse,{rows:n});case"stats":return Array.from({length:n}).map((m,f)=>r.jsx(Use,{},f));default:return r.jsx(NP,{})}};return r.jsx("div",{className:`space-y-4 ${u}`,children:d()});default:return r.jsx(Ise,{isLoading:e,text:i,variant:l,size:o,children:t})}}function zse({value:e,onChange:t,placeholder:s="Enter text...",className:a="",minHeight:n="120px"}){const i=_.useRef(null),[l,o]=_.useState(!1),u=_.useCallback((g,p="")=>{if(!i.current)return;const y=i.current,v=y.selectionStart,j=y.selectionEnd,N=y.value.substring(v,j),k=y.value.substring(0,v)+g+N+p+y.value.substring(j);t(k),setTimeout(()=>{y.focus();const w=v+g.length+N.length+p.length;y.setSelectionRange(w,w)},0)},[t]),d=_.useCallback(g=>{switch(g){case"bold":u("**","**");break;case"italic":u("*","*");break;case"underline":u("<u>","</u>");break;case"h1":u("# ");break;case"h2":u("## ");break;case"h3":u("### ");break;case"ul":u("- ");break;case"ol":u("1. ");break;case"quote":u("> ");break;case"link":const p=prompt("Enter URL:");p&&u("[",`](${p})`);break}},[u]),m=_.useCallback(g=>g.replace(/^### (.*$)/gm,"<h3>$1</h3>").replace(/^## (.*$)/gm,"<h2>$1</h2>").replace(/^# (.*$)/gm,"<h1>$1</h1>").replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2">$1</a>').replace(/^- (.*$)/gm,"<li>$1</li>").replace(/^1\. (.*$)/gm,"<li>$1</li>").replace(/^> (.*$)/gm,"<blockquote>$1</blockquote>").replace(/\n/g,"<br>"),[]),f=[{icon:sX,action:()=>d("bold"),title:"Bold (**text**)"},{icon:tJ,action:()=>d("italic"),title:"Italic (*text*)"},{icon:yQ,action:()=>d("underline"),title:"Underline"},{icon:iJ,action:()=>d("ul"),title:"Bullet List (- item)"},{icon:aJ,action:()=>d("ol"),title:"Numbered List (1. item)"},{icon:EJ,action:()=>d("quote"),title:"Quote (> text)"},{icon:n6,action:()=>d("link"),title:"Link ([text](url))"}];return r.jsxs("div",{className:`border border-gray-300 rounded-md ${a}`,children:[r.jsxs("div",{className:"border-b border-gray-300 p-2 bg-gray-50 flex flex-wrap gap-1 items-center",children:[r.jsxs("div",{className:"flex gap-1",children:[r.jsx("button",{type:"button",onClick:()=>d("h1"),className:"px-2 py-1 text-sm border border-gray-300 rounded hover:bg-gray-200 transition-colors",title:"Heading 1 (# text)",children:"H1"}),r.jsx("button",{type:"button",onClick:()=>d("h2"),className:"px-2 py-1 text-sm border border-gray-300 rounded hover:bg-gray-200 transition-colors",title:"Heading 2 (## text)",children:"H2"}),r.jsx("button",{type:"button",onClick:()=>d("h3"),className:"px-2 py-1 text-sm border border-gray-300 rounded hover:bg-gray-200 transition-colors",title:"Heading 3 (### text)",children:"H3"})]}),r.jsx("div",{className:"w-px bg-gray-300 h-6 mx-1"}),f.map((g,p)=>{const y=g.icon;return r.jsx("button",{type:"button",onClick:g.action,className:"p-1 hover:bg-gray-200 rounded transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500",title:g.title,children:r.jsx(y,{className:"h-4 w-4"})},p)}),r.jsx("div",{className:"w-px bg-gray-300 h-6 mx-1"}),r.jsx("button",{type:"button",onClick:()=>o(!l),className:`px-3 py-1 text-sm rounded transition-colors ${l?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:l?"Edit":"Preview"})]}),l?r.jsx("div",{className:"w-full p-3 rich-text-preview",style:{minHeight:n},dangerouslySetInnerHTML:{__html:m(e)}}):r.jsx("textarea",{ref:i,value:e,onChange:g=>t(g.target.value),className:"w-full p-3 border-0 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-inset resize-none",style:{minHeight:n},placeholder:s,rows:6}),!l&&r.jsxs("div",{className:"px-3 py-2 bg-gray-50 border-t border-gray-200 text-xs text-gray-600",children:[r.jsx("strong",{children:"Formatting:"})," **bold**, *italic*, # Heading 1, ## Heading 2, - List item, [link](url), > Quote"]})]})}function $se({images:e,onImagesChange:t,primaryImageIndex:s,onSetPrimaryImage:a,maxImages:n=4,className:i=""}){const l=_.useRef(null),o=m=>{const f=Array.from(m.target.files||[]);if(f.length>0){const g=[...e,...f].slice(0,n);t(g)}m.target&&(m.target.value="")},u=m=>{const f=e.filter((g,p)=>p!==m);t(f),s>=f.length&&f.length>0?a(f.length-1):s===m&&f.length>0&&a(0)},d=()=>{l.current?.click()};return r.jsxs("div",{className:`space-y-4 ${i}`,children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(ce,{type:"button",onClick:d,className:"flex items-center gap-2",disabled:e.length>=n,children:[r.jsx(Ro,{className:"h-4 w-4"}),"Upload Image ",e.length>0&&`(${e.length}/${n})`]}),e.length>0&&r.jsxs("p",{className:"text-sm text-gray-600",children:["Click ",r.jsx(qf,{className:"inline h-4 w-4 text-yellow-500"})," to set primary image"]})]}),r.jsx("input",{ref:l,type:"file",accept:"image/*",multiple:!0,onChange:o,className:"hidden"}),r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[e.map((m,f)=>r.jsxs("div",{className:"relative group",children:[r.jsxs("div",{className:`relative rounded-lg border-2 overflow-hidden ${s===f?"border-yellow-400 ring-2 ring-yellow-200":"border-gray-200"}`,children:[r.jsx("img",{src:URL.createObjectURL(m),alt:`Product ${f+1}`,className:"w-full h-24 object-cover"}),s===f&&r.jsxs("div",{className:"absolute top-1 left-1 bg-yellow-500 text-white text-xs px-1.5 py-0.5 rounded flex items-center gap-1",children:[r.jsx(qf,{className:"h-3 w-3 fill-current"}),"Primary"]}),r.jsx("div",{className:"absolute bottom-1 left-1 bg-black bg-opacity-50 text-white text-xs px-1.5 py-0.5 rounded",children:f+1})]}),r.jsxs("div",{className:"absolute -top-2 -right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[s!==f&&r.jsx("button",{type:"button",onClick:()=>a(f),className:"bg-yellow-500 text-white rounded-full p-1 shadow-sm hover:bg-yellow-600 transition-colors",title:"Set as primary image",children:r.jsx(qf,{className:"h-3 w-3"})}),r.jsx("button",{type:"button",onClick:()=>u(f),className:"bg-red-500 text-white rounded-full p-1 shadow-sm hover:bg-red-600 transition-colors",title:"Remove image",children:r.jsx(ws,{className:"h-3 w-3"})})]})]},f)),Array.from({length:n-e.length}).map((m,f)=>r.jsxs("div",{onClick:d,className:"w-full h-24 border-2 border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:border-blue-400 hover:bg-blue-50 transition-colors",children:[r.jsx(hr,{className:"h-6 w-6 text-gray-400"}),r.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"Add Image"})]},`empty-${f}`))]}),e.length>0&&r.jsxs("div",{className:"text-sm text-gray-500 space-y-1",children:[r.jsxs("p",{children:[e.length," of ",n," images uploaded"]}),s<e.length&&r.jsxs("p",{children:["Primary image: Image ",s+1]})]})]})}function Hse({data:e,columns:t,onView:s,onEdit:a,onDelete:n,loading:i=!1,emptyMessage:l="No data available",className:o=""}){const u=s||a||n;return i?r.jsx("div",{className:"animate-pulse",children:r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[r.jsx("div",{className:"h-12 bg-gray-100 rounded-t-xl"}),[...Array(5)].map((d,m)=>r.jsx("div",{className:"h-16 border-t border-gray-200 bg-gray-50"},m))]})}):e.length===0?r.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-8 sm:p-12 text-center",children:r.jsx("p",{className:"text-gray-500 text-sm sm:text-base",children:l})}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"hidden lg:block",children:r.jsxs(Lx,{className:o,children:[r.jsx("thead",{children:r.jsxs("tr",{children:[t.map(d=>r.jsx(Vr,{className:d.width?`w-[${d.width}]`:"",children:d.label},String(d.key))),u&&r.jsx(Vr,{children:"Actions"})]})}),r.jsx("tbody",{children:e.map(d=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[t.map(m=>{const f=typeof m.key=="string"&&m.key.includes(".")?m.key.split(".").reduce((g,p)=>g?.[p],d):d[m.key];return r.jsx(Wr,{className:m.className,children:m.render?m.render(f,d):f},String(m.key))}),u&&r.jsx(Wr,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[s&&r.jsx(ce,{size:"sm",variant:"ghost",onClick:()=>s(d),className:"h-10 w-10 p-0",children:r.jsx(Fr,{className:"h-6 w-6"})}),a&&r.jsx(ce,{size:"sm",variant:"ghost",onClick:()=>a(d),className:"h-10 w-10 p-0",children:r.jsx(vs,{className:"h-6 w-6"})}),n&&r.jsx(ce,{size:"sm",variant:"ghost",onClick:()=>n(d),className:"h-10 w-10 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",children:r.jsx(Sr,{className:"h-6 w-6"})})]})})]},d.id))})]})}),r.jsx("div",{className:"lg:hidden space-y-4",children:e.map(d=>r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 space-y-3",children:[r.jsx("div",{className:"space-y-2",children:t.filter(m=>m.key!=="select").map(m=>{const f=typeof m.key=="string"&&m.key.includes(".")?m.key.split(".").reduce((g,p)=>g?.[p],d):d[m.key];return!f&&f!==0?null:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-600 min-w-0 flex-shrink-0 mr-3",children:[m.label,":"]}),r.jsx("div",{className:"text-sm text-gray-900 text-right min-w-0 flex-1",children:m.render?m.render(f,d):f})]},String(m.key))})}),u&&r.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2 border-t border-gray-100",children:[s&&r.jsxs(ce,{size:"sm",variant:"ghost",onClick:()=>s(d),className:"h-9 px-3 text-xs",children:[r.jsx(Fr,{className:"h-5 w-5 mr-1"}),"View"]}),a&&r.jsxs(ce,{size:"sm",variant:"ghost",onClick:()=>a(d),className:"h-9 px-3 text-xs",children:[r.jsx(vs,{className:"h-5 w-5 mr-1"}),"Edit"]}),n&&r.jsxs(ce,{size:"sm",variant:"ghost",onClick:()=>n(d),className:"h-9 px-3 text-xs text-red-600 hover:text-red-700 hover:bg-red-50",children:[r.jsx(Sr,{className:"h-5 w-5 mr-1"}),"Delete"]})]})]},d.id))})]})}function Px({searchValue:e,onSearchChange:t,filters:s=[],placeholder:a="Search...",className:n=""}){const[i,l]=_.useState(!1),o=s.some(u=>u.value!=="");return r.jsxs("div",{className:`space-y-4 ${n}`,children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(Mn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),r.jsx(he,{type:"text",placeholder:a,value:e,onChange:u=>t(u.target.value),className:"pl-10 text-sm"})]}),r.jsx("div",{className:"flex gap-2",children:s.length>0&&r.jsxs(ce,{variant:"secondary",onClick:()=>l(!i),className:`flex-1 sm:flex-none text-sm ${o?"bg-blue-50 text-blue-700 border-blue-200":""}`,children:[r.jsx(Jf,{className:"h-5 w-5 mr-2"}),r.jsx("span",{className:"hidden sm:inline",children:"Filters"}),r.jsx("span",{className:"sm:hidden",children:"Filter"}),o&&r.jsx("span",{className:"ml-2 bg-blue-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:s.filter(u=>u.value!=="").length})]})})]}),i&&s.length>0&&r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 sm:gap-4 p-3 sm:p-4 bg-gray-50 rounded-lg border",children:s.map(u=>r.jsx(Dt,{label:u.label,value:u.value,onChange:d=>u.onChange(d.target.value),options:[{value:"",label:`All ${u.label}`},...u.options],className:"text-sm"},u.key))})]})}const qse={received:{variant:"bg-blue-100 text-blue-700",label:"Received"},processing:{variant:"bg-yellow-100 text-yellow-700",label:"Processing"},packed:{variant:"bg-purple-100 text-purple-700",label:"Packed"},out_for_delivery:{variant:"bg-orange-100 text-orange-700",label:"Out for Delivery"},delivered:{variant:"bg-green-100 text-green-700",label:"Delivered"},cancelled:{variant:"bg-red-100 text-red-700",label:"Cancelled"},pending:{variant:"bg-yellow-100 text-yellow-700",label:"Pending"},paid:{variant:"bg-green-100 text-green-700",label:"Paid"},failed:{variant:"bg-red-100 text-red-700",label:"Failed"},active:{variant:"bg-green-100 text-green-700",label:"Active"},inactive:{variant:"bg-gray-100 text-gray-700",label:"Inactive"},approved:{variant:"bg-green-100 text-green-700",label:"Approved"},rejected:{variant:"bg-red-100 text-red-700",label:"Rejected"},draft:{variant:"bg-gray-100 text-gray-700",label:"Draft"},published:{variant:"bg-green-100 text-green-700",label:"Published"},in_stock:{variant:"bg-green-100 text-green-700",label:"In Stock"},low_stock:{variant:"bg-yellow-100 text-yellow-700",label:"Low Stock"},out_of_stock:{variant:"bg-red-100 text-red-700",label:"Out of Stock"}};function B2({status:e,config:t=qse,className:s=""}){const a=t[e]||{variant:"bg-gray-100 text-gray-700",label:e},n=a.label||e.replace(/_/g," ").replace(/\b\w/g,i=>i.toUpperCase());return r.jsx(at,{variant:a.variant,className:s,children:n})}function G9({onView:e,onEdit:t,onDelete:s,onDownload:a,onAdd:n,onRefresh:i,viewLabel:l="View",editLabel:o="Edit",deleteLabel:u="Delete",downloadLabel:d="Export",addLabel:m="Add New",refreshLabel:f="Refresh",size:g="sm",variant:p="default",className:y=""}){const v=p==="compact";return r.jsxs("div",{className:`flex items-center gap-1 sm:gap-2 ${y}`,children:[n&&r.jsxs(ce,{onClick:n,size:g,className:"bg-blue-600 hover:bg-blue-700 text-xs sm:text-sm px-2 sm:px-3",children:[r.jsx(hr,{className:"h-4 w-4 sm:h-5 sm:w-5 sm:mr-2"}),r.jsx("span",{className:"hidden sm:inline",children:v?"":m})]}),i&&r.jsxs(ce,{onClick:i,variant:"secondary",size:g,className:"text-xs sm:text-sm px-2 sm:px-3",title:f,children:[r.jsx(ld,{className:"h-4 w-4 sm:h-5 sm:w-5 sm:mr-2"}),r.jsx("span",{className:"hidden sm:inline",children:v?"":f})]}),a&&r.jsxs(ce,{onClick:a,variant:"secondary",size:g,className:"text-xs sm:text-sm px-2 sm:px-3",title:d,children:[r.jsx(Ho,{className:"h-4 w-4 sm:h-5 sm:w-5 sm:mr-2"}),r.jsx("span",{className:"hidden sm:inline",children:v?"":d})]}),e&&r.jsxs(ce,{onClick:e,variant:"ghost",size:g,className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50 text-xs sm:text-sm px-2 sm:px-3",title:l,children:[r.jsx(Fr,{className:"h-4 w-4 sm:h-5 sm:w-5 sm:mr-2"}),r.jsx("span",{className:"hidden sm:inline",children:v?"":l})]}),t&&r.jsxs(ce,{onClick:t,variant:"ghost",size:g,className:"text-green-600 hover:text-green-700 hover:bg-green-50 text-xs sm:text-sm px-2 sm:px-3",title:o,children:[r.jsx(vs,{className:"h-4 w-4 sm:h-5 sm:w-5 sm:mr-2"}),r.jsx("span",{className:"hidden sm:inline",children:v?"":o})]}),s&&r.jsxs(ce,{onClick:s,variant:"ghost",size:g,className:"text-red-600 hover:text-red-700 hover:bg-red-50 text-xs sm:text-sm px-2 sm:px-3",title:u,children:[r.jsx(Sr,{className:"h-4 w-4 sm:h-5 sm:w-5 sm:mr-2"}),r.jsx("span",{className:"hidden sm:inline",children:v?"":u})]})]})}function wP({isOpen:e,onClose:t,title:s,children:a,onSubmit:n,onCancel:i,submitLabel:l="Save",cancelLabel:o="Cancel",isSubmitting:u=!1,size:d="md",hideActions:m=!1}){const f=()=>{i?i():t()};return r.jsx(gr,{isOpen:e,onClose:t,title:s,size:d,children:r.jsxs("div",{className:"space-y-6",children:[a,!m&&r.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[r.jsx(ce,{variant:"secondary",onClick:f,disabled:u,children:o}),n&&r.jsx(ce,{onClick:n,disabled:u,children:u?"Saving...":l})]})]})})}function Vse({isOpen:e,onClose:t,onConfirm:s,title:a,message:n,confirmLabel:i="Confirm",cancelLabel:l="Cancel",type:o="danger",isLoading:u=!1}){const d={danger:{icon:Sr,iconColor:"text-red-600",iconBg:"bg-red-100",buttonClass:"bg-red-600 hover:bg-red-700 focus:ring-red-500"},warning:{icon:ls,iconColor:"text-yellow-600",iconBg:"bg-yellow-100",buttonClass:"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500"},info:{icon:a6,iconColor:"text-blue-600",iconBg:"bg-blue-100",buttonClass:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500"},success:{icon:Cr,iconColor:"text-green-600",iconBg:"bg-green-100",buttonClass:"bg-green-600 hover:bg-green-700 focus:ring-green-500"}},{icon:m,iconColor:f,iconBg:g,buttonClass:p}=d[o];return r.jsx(gr,{isOpen:e,onClose:t,title:"",size:"sm",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:`mx-auto flex h-12 w-12 items-center justify-center rounded-full ${g} mb-4`,children:r.jsx(m,{className:`h-6 w-6 ${f}`})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:a}),r.jsx("p",{className:"text-gray-600 mb-6",children:n}),r.jsxs("div",{className:"flex gap-3 justify-center",children:[r.jsx(ce,{variant:"secondary",onClick:t,disabled:u,children:l}),r.jsx(ce,{onClick:s,disabled:u,className:p,children:u?"Processing...":i})]})]})})}function vc({title:e,description:t,breadcrumbs:s,actions:a,onBack:n,className:i=""}){return r.jsxs("div",{className:`mb-6 ${i}`,children:[s&&s.length>0&&r.jsx("nav",{className:"mb-4",children:r.jsx("ol",{className:"flex items-center space-x-2 text-sm text-gray-500",children:s.map((l,o)=>r.jsxs("li",{className:"flex items-center",children:[o>0&&r.jsx("span",{className:"mx-2",children:"/"}),l.href?r.jsx("a",{href:l.href,className:"hover:text-gray-700 transition-colors",children:l.label}):r.jsx("span",{className:o===s.length-1?"text-gray-900 font-medium":"",children:l.label})]},o))})}),r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4",children:[r.jsxs("div",{className:"flex items-start gap-4",children:[n&&r.jsx(ce,{variant:"ghost",size:"sm",onClick:n,className:"mt-1",children:r.jsx(WZ,{className:"h-4 w-4"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 truncate",children:e}),t&&r.jsx("p",{className:"mt-1 text-sm sm:text-base text-gray-600",children:t})]})]}),a&&r.jsx("div",{className:"flex items-center gap-2 sm:gap-3 flex-shrink-0",children:a})]})]})}const Wse={blue:{bg:"bg-blue-50",icon:"text-blue-600",accent:"bg-blue-600"},green:{bg:"bg-green-50",icon:"text-green-600",accent:"bg-green-600"},purple:{bg:"bg-purple-50",icon:"text-purple-600",accent:"bg-purple-600"},orange:{bg:"bg-orange-50",icon:"text-orange-600",accent:"bg-orange-600"},red:{bg:"bg-red-50",icon:"text-red-600",accent:"bg-red-600"},gray:{bg:"bg-gray-50",icon:"text-gray-600",accent:"bg-gray-600"}};function SP({stats:e,columns:t=4,className:s=""}){const a={2:"grid-cols-1 md:grid-cols-2",3:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 md:grid-cols-2 lg:grid-cols-4",5:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5"},n=(i,l)=>{const o=Wse[i.color||"blue"],u=i.href||i.onClick,d=r.jsxs(ae,{className:`relative overflow-hidden transition-all duration-200 ${u?"hover:shadow-md hover:border-gray-300 cursor-pointer":""}`,onClick:i.onClick,children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-2",children:i.label}),r.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-2",children:typeof i.value=="number"?i.value.toLocaleString():i.value}),i.change&&r.jsxs("div",{className:"flex items-center gap-1",children:[i.change.type==="increase"?r.jsx(Ps,{className:"h-4 w-4 text-green-600"}):i.change.type==="decrease"?r.jsx(o2,{className:"h-4 w-4 text-red-600"}):null,r.jsx("span",{className:`text-sm font-medium ${i.change.type==="increase"?"text-green-600":i.change.type==="decrease"?"text-red-600":"text-gray-600"}`,children:i.change.value})]})]}),i.icon&&r.jsx("div",{className:`p-3 rounded-xl ${o.bg}`,children:r.jsx(i.icon,{className:`h-6 w-6 ${o.icon}`})})]}),r.jsx("div",{className:`absolute bottom-0 left-0 right-0 h-1 ${o.accent}`})]});return i.href?r.jsx("a",{href:i.href,children:d},l):r.jsx("div",{children:d},l)};return r.jsx("div",{className:`grid gap-6 ${a[t]} ${s}`,children:e.map(n)})}function Dx({selectedItems:e,totalItems:t,onSelectAll:s,onDeselectAll:a,actions:n,onAction:i,className:l="",itemName:o="items"}){const[u,d]=_.useState(null),[m,f]=_.useState(!1),g=e.length===t&&t>0,p=e.length>0&&e.length<t,y=e.length>0,v=()=>{g?a():s()},j=C=>{C.requiresConfirmation?d(C.id):i(C.id,e)},N=C=>{i(C,e),d(null)},w=g?Fo:p?bd:Bo,A=C=>{switch(C){case"danger":return"text-red-600 hover:text-red-700 hover:bg-red-50";case"warning":return"text-orange-600 hover:text-orange-700 hover:bg-orange-50";case"success":return"text-green-600 hover:text-green-700 hover:bg-green-50";default:return"text-gray-600 hover:text-gray-700 hover:bg-gray-50"}};return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:`flex flex-col sm:flex-row sm:items-center sm:justify-between p-3 sm:p-4 bg-white border-b border-gray-200 gap-3 sm:gap-4 ${l}`,children:[r.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[r.jsx("button",{onClick:v,className:`p-2 rounded-lg transition-colors ${y?"bg-blue-50 text-blue-600":"hover:bg-gray-50 text-gray-400"}`,title:g?"Deselect all":"Select all",children:r.jsx(w,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),y?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-xs sm:text-sm font-medium text-gray-900",children:[e.length," ",o," selected"]}),r.jsx("button",{onClick:a,className:"text-xs sm:text-sm text-gray-500 hover:text-gray-700",children:"Clear selection"})]}):r.jsxs("span",{className:"text-xs sm:text-sm text-gray-500",children:["Select ",o," to perform bulk actions"]})]}),y&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"relative",children:[r.jsxs(ce,{variant:"secondary",size:"sm",onClick:()=>f(!m),className:"text-gray-700 border-gray-300 hover:bg-gray-50 text-xs sm:text-sm whitespace-nowrap",children:["Bulk actions",r.jsx("svg",{className:"ml-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),m&&r.jsx("div",{className:"absolute left-0 top-full mt-1 w-64 bg-white border border-gray-200 rounded-lg shadow-lg z-20",children:r.jsx("div",{className:"py-1 max-h-80 overflow-y-auto",children:n.map(C=>{const M=C.icon;return r.jsxs("button",{onClick:()=>{j(C),f(!1)},disabled:C.disabled,className:`w-full flex items-center gap-3 px-4 py-3 text-sm transition-colors hover:bg-gray-50 ${C.disabled?"text-gray-400 cursor-not-allowed":A(C.variant)}`,children:[r.jsx(M,{className:"h-4 w-4 flex-shrink-0"}),r.jsx("span",{className:"text-left",children:C.label})]},C.id)})})})]}),r.jsx(ce,{variant:"primary",size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-xs sm:text-sm whitespace-nowrap",children:"Apply"}),r.jsx(ce,{variant:"ghost",size:"sm",onClick:a,className:"text-gray-400 hover:text-gray-600",title:"Clear selection",children:r.jsx(ws,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]})]}),u&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg p-4 sm:p-6 max-w-md w-full",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 rounded-full bg-red-100 flex items-center justify-center",children:r.jsx(ls,{className:"h-4 w-4 sm:h-5 sm:w-5 text-red-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Confirm Action"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"This action cannot be undone"})]})]}),r.jsx("div",{className:"mb-4 sm:mb-6",children:r.jsx("p",{className:"text-sm sm:text-base text-gray-700",children:n.find(C=>C.id===u)?.confirmationMessage||`Are you sure you want to perform this action on ${e.length} selected ${o}?`})}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(ce,{variant:"secondary",onClick:()=>d(null),className:"flex-1 text-sm",children:"Cancel"}),r.jsx(ce,{variant:"primary",onClick:()=>N(u),className:"flex-1 bg-red-600 hover:bg-red-700 text-sm",children:"Confirm"})]})]})}),m&&r.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>f(!1)})]})}function Gse({id:e,checked:t,onChange:s,className:a=""}){return r.jsx("button",{onClick:()=>s(e),className:`p-1 rounded transition-colors ${t?"text-blue-600":"text-gray-400 hover:text-gray-600"} ${a}`,children:t?r.jsx(Fo,{className:"h-4 w-4"}):r.jsx(Bo,{className:"h-4 w-4"})})}function Rx(e){const[t,s]=_.useState([]);return{selectedItems:t,selectAll:()=>{s(e.map(o=>o.id))},deselectAll:()=>{s([])},toggleItem:o=>{s(u=>u.includes(o)?u.filter(d=>d!==o):[...u,o])},isSelected:o=>t.includes(o),hasSelection:t.length>0,selectedCount:t.length}}function Mx({isOpen:e,onClose:t,title:s,actionType:a,selectedCount:n,itemName:i,onConfirm:l,fields:o=[]}){const[u,d]=_.useState({}),[m,f]=_.useState(!1),[g,p]=_.useState({}),y=(C,M)=>{d(R=>({...R,[C]:M})),g[C]&&p(R=>({...R,[C]:""}))},v=()=>{const C={};return o.forEach(M=>{M.required&&!u[M.id]&&(C[M.id]=`${M.label} is required`)}),p(C),Object.keys(C).length===0},j=async()=>{if(v()){f(!0);try{await l(u),t(),d({})}catch(C){console.error("Bulk action failed:",C)}finally{f(!1)}}},N=C=>{const M={value:u[C.id]||C.defaultValue||"",onChange:R=>y(C.id,R.target.value),error:g[C.id],placeholder:C.placeholder};switch(C.type){case"select":return r.jsx(Dt,{label:C.label,...M,options:C.options||[]},C.id);case"textarea":return r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[C.label,C.required&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),r.jsx("textarea",{rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",...M}),g[C.id]&&r.jsx("p",{className:"text-sm text-red-600 mt-1",children:g[C.id]})]},C.id);case"number":return r.jsx(he,{label:C.label,type:"number",...M},C.id);case"date":return r.jsx(he,{label:C.label,type:"date",...M},C.id);default:return r.jsx(he,{label:C.label,...M},C.id)}},k=()=>{switch(a){case"delete":return r.jsx(ls,{className:"h-5 w-5 text-red-600"});case"archive":return r.jsx(ls,{className:"h-5 w-5 text-orange-600"});default:return r.jsx(Cr,{className:"h-5 w-5 text-blue-600"})}},A=(()=>{switch(a){case"delete":return"red";case"archive":return"orange";default:return"blue"}})();return r.jsx(gr,{isOpen:e,onClose:t,title:s,size:"md",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:`flex items-center gap-3 p-4 bg-${A}-50 border border-${A}-200 rounded-lg`,children:[k(),r.jsxs("div",{children:[r.jsx("h4",{className:`font-medium text-${A}-900`,children:s}),r.jsxs("p",{className:`text-sm text-${A}-700`,children:["This action will affect ",n," selected ",i]})]})]}),o.length>0&&r.jsx("div",{className:"space-y-4",children:o.map(N)}),(a==="delete"||a==="archive")&&r.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(ls,{className:"h-5 w-5 text-orange-500 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h5",{className:"font-medium text-gray-900",children:a==="delete"?"Permanent Action":"Important Notice"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:a==="delete"?"This action cannot be undone. The selected items will be permanently removed from the system.":"Archived items can be restored later, but they will not be visible in the main list."})]})]})}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[r.jsx(ce,{variant:"secondary",onClick:t,disabled:m,className:"flex-1",children:"Cancel"}),r.jsx(ce,{onClick:j,disabled:m,className:`flex-1 ${a==="delete"?"bg-red-600 hover:bg-red-700":a==="archive"?"bg-orange-600 hover:bg-orange-700":"bg-blue-600 hover:bg-blue-700"}`,children:m?"Processing...":`Confirm ${s}`})]})]})})}const Kse={"update-status":{title:"Update Status",fields:[{id:"status",label:"New Status",type:"select",required:!0,options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"pending",label:"Pending"},{value:"completed",label:"Completed"}]},{id:"reason",label:"Reason (Optional)",type:"textarea",placeholder:"Enter reason for status change..."}]},"bulk-edit":{title:"Bulk Edit",fields:[{id:"category",label:"Category",type:"select",options:[{value:"",label:"Keep current"},{value:"electronics",label:"Electronics"},{value:"clothing",label:"Clothing"},{value:"books",label:"Books"}]},{id:"discount",label:"Discount (%)",type:"number",placeholder:"0"},{id:"notes",label:"Notes",type:"textarea",placeholder:"Add notes for this bulk edit..."}]},"send-notification":{title:"Send Notification",fields:[{id:"subject",label:"Subject",type:"text",required:!0,placeholder:"Enter notification subject..."},{id:"message",label:"Message",type:"textarea",required:!0,placeholder:"Enter your message..."},{id:"type",label:"Notification Type",type:"select",required:!0,options:[{value:"email",label:"Email"},{value:"sms",label:"SMS"},{value:"push",label:"Push Notification"},{value:"all",label:"All Methods"}]}]},archive:{title:"Archive Items",fields:[{id:"reason",label:"Archive Reason",type:"select",required:!0,options:[{value:"outdated",label:"Outdated"},{value:"discontinued",label:"Discontinued"},{value:"seasonal",label:"Seasonal"},{value:"other",label:"Other"}]},{id:"notes",label:"Additional Notes",type:"textarea",placeholder:"Add any additional notes..."}]},delete:{title:"Delete Items",fields:[{id:"confirmation",label:'Type "DELETE" to confirm',type:"text",required:!0,placeholder:"DELETE"}]}},b4=(...e)=>e.filter(Boolean).join(" ");_.forwardRef(({isOpen:e,onClose:t,title:s,children:a,size:n="md",position:i="right"},l)=>{const o={sm:"max-w-sm",md:"max-w-lg",lg:"max-w-2xl"},u={left:"left-0",right:"right-0"},d={left:{open:"translate-x-0",closed:"-translate-x-full"},right:{open:"translate-x-0",closed:"translate-x-full"}};return r.jsxs("div",{ref:l,className:b4("fixed inset-0 z-40 overflow-hidden",e?"pointer-events-auto":"pointer-events-none"),children:[r.jsx("div",{className:b4("absolute inset-0 bg-black/50 transition-opacity duration-300",e?"opacity-100":"opacity-0"),onClick:t}),r.jsx("div",{className:b4("absolute top-0 bottom-0 w-full bg-white shadow-xl transition-transform duration-300 ease-in-out",o[n],u[i],e?d[i].open:d[i].closed),children:r.jsxs("div",{className:"flex h-full flex-col overflow-y-scroll",children:[r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:s}),r.jsxs("button",{onClick:t,className:"rounded-lg p-2 text-gray-400 hover:bg-gray-100 hover:text-gray-600 transition-colors",children:[r.jsx(ws,{className:"h-5 w-5"}),r.jsx("span",{className:"sr-only",children:"Close panel"})]})]})}),r.jsx("div",{className:"flex-1 px-6 pb-6",children:a})]})})]})});const _P=({config:e,onChange:t,className:s})=>{const a=[{value:"email",label:"Email"},{value:"sms",label:"SMS"},{value:"push",label:"Push Notification"},{value:"whatsapp",label:"WhatsApp"}],n=[{value:"1",label:"1 day"},{value:"3",label:"3 days"},{value:"7",label:"7 days"},{value:"14",label:"14 days"},{value:"30",label:"30 days"}],i=[{value:"1",label:"Daily"},{value:"3",label:"Every 3 days"},{value:"7",label:"Weekly"}],l=d=>{t({...e,...d})},o=d=>{const m=e.alertMethods.includes(d)?e.alertMethods.filter(f=>f!==d):[...e.alertMethods,d];l({alertMethods:m})},u=()=>`Your ${e.type==="loyalty_points"?"loyalty points":"wallet cash"} worth {amount} will expire on {expiry_date}. Use them before they expire!`;return r.jsxs(ae,{className:`${s} transition-all duration-200`,children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[e.type==="loyalty_points"?r.jsx(ru,{className:"h-5 w-5 text-orange-600"}):r.jsx(Ex,{className:"h-5 w-5 text-green-600"}),r.jsxs("div",{children:[r.jsxs("h3",{className:"font-medium text-gray-900",children:[e.type==="loyalty_points"?"Loyalty Points":"Wallet Cash"," Expiry Alerts"]}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Notify customers before their ",e.type==="loyalty_points"?"points":"cash"," expires"]})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(at,{variant:e.enabled?"success":"default",children:e.enabled?"Active":"Inactive"}),r.jsx(Up,{checked:e.enabled,onChange:d=>l({enabled:d.target.checked})})]})]}),e.enabled&&r.jsxs("div",{className:"mt-4 space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(Dt,{label:"Alert Timing",value:e.daysBefore.toString(),onChange:d=>l({daysBefore:parseInt(d.target.value)}),options:n}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Alert Methods"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:a.map(d=>r.jsx("button",{onClick:()=>o(d.value),className:`px-3 py-1.5 text-xs rounded-full border transition-colors ${e.alertMethods.includes(d.value)?"bg-blue-100 border-blue-300 text-blue-700":"bg-gray-100 border-gray-300 text-gray-600 hover:bg-gray-200"}`,children:d.label},d.value))})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"flex items-center gap-2",children:r.jsx(Up,{checked:e.autoReminder,onChange:d=>l({autoReminder:d.target.checked}),label:"Enable automatic reminders"})}),e.autoReminder&&r.jsx(Dt,{label:"Reminder Frequency",value:e.reminderFrequency.toString(),onChange:d=>l({reminderFrequency:parseInt(d.target.value)}),options:i}),r.jsxs("div",{className:"border-t pt-3 mt-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Yn,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Analytics Tracking"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"flex items-center gap-2",children:r.jsx(Up,{checked:e.trackingEnabled,onChange:d=>l({trackingEnabled:d.target.checked}),label:"Enable delivery and open tracking"})}),e.trackingEnabled&&r.jsx("div",{className:"flex items-center gap-2 ml-6",children:r.jsx(Up,{checked:e.includeClickTracking,onChange:d=>l({includeClickTracking:d.target.checked}),label:"Include click-through tracking"})})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom Message"}),r.jsx("textarea",{value:e.customMessage||u(),onChange:d=>l({customMessage:d.target.value}),placeholder:u(),rows:3,className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),r.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Available variables: ","{amount}",", ","{expiry_date}",", ","{customer_name}"]})]}),r.jsxs("div",{className:"flex items-center gap-2 p-3 bg-amber-50 rounded-lg border border-amber-200",children:[r.jsx(ls,{className:"h-4 w-4 text-amber-600"}),r.jsxs("p",{className:"text-sm text-amber-700",children:["Alerts will be sent ",e.daysBefore," day(s) before expiry",e.autoReminder&&` and repeated every ${e.reminderFrequency} day(s)`]})]})]})]})},hu=(...e)=>e.filter(Boolean).join(" "),ce=_.forwardRef(({className:e,variant:t="primary",size:s="md",children:a,...n},i)=>{const l="inline-flex items-center justify-center rounded-lg font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",o={primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500 shadow-sm",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200 focus:ring-gray-500 border border-gray-300",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500 shadow-sm",ghost:"text-gray-700 hover:bg-gray-100 focus:ring-gray-500"},u={sm:"px-3 py-1.5 text-sm gap-1.5",md:"px-4 py-2 text-sm gap-2",lg:"px-6 py-3 text-base gap-2"};return r.jsx("button",{ref:i,className:hu(l,o[t],u[s],e),...n,children:a})}),he=_.forwardRef(({className:e,label:t,error:s,...a},n)=>r.jsxs("div",{className:"w-full",children:[t&&r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:t}),r.jsx("input",{ref:n,className:hu("w-full rounded-lg border bg-white px-3 py-2.5 text-sm text-gray-900 placeholder-gray-400","focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent","transition-all duration-200",s?"border-red-500 focus:ring-red-500":"border-gray-300",e),...a}),s&&r.jsx("p",{className:"mt-1.5 text-sm text-red-600",children:s})]})),Dt=_.forwardRef(({className:e,label:t,options:s,error:a,...n},i)=>r.jsxs("div",{className:"w-full",children:[t&&r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:t}),r.jsx("select",{ref:i,className:hu("w-full rounded-lg border bg-white px-3 py-2.5 text-sm text-gray-900","focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent","transition-all duration-200 cursor-pointer",a?"border-red-500":"border-gray-300",e),...n,children:s.map(l=>r.jsx("option",{value:l.value,children:l.label},l.value))}),a&&r.jsx("p",{className:"mt-1.5 text-sm text-red-600",children:a})]})),at=({children:e,variant:t="default",className:s=""})=>{const n={default:"bg-gray-100 text-gray-800",success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",danger:"bg-red-100 text-red-800",info:"bg-blue-100 text-blue-800"}[t]||t;return r.jsx("span",{className:hu("inline-flex items-center rounded-full px-2.5 py-1 text-xs font-medium",n,s),children:e})},ae=({children:e,className:t,onClick:s,hover:a=!1})=>r.jsx("div",{className:hu("rounded-xl bg-white p-6 shadow-sm border border-gray-200",a&&"hover:shadow-md hover:border-gray-300 cursor-pointer transition-all duration-200",s&&"cursor-pointer",t),onClick:s,children:e}),gr=({isOpen:e,onClose:t,title:s,children:a,size:n="md"})=>{if(!e)return null;const i={sm:"max-w-sm",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl","2xl":"max-w-5xl","3xl":"max-w-6xl","4xl":"max-w-7xl","5xl":"max-w-full"};return r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[r.jsx("div",{className:"fixed inset-0 bg-black/50 transition-opacity",onClick:t}),r.jsxs("div",{className:hu("relative w-full rounded-2xl bg-white p-6 shadow-2xl","transform transition-all duration-200",i[n]),children:[r.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s}),r.jsx("button",{onClick:t,className:"rounded-lg p-2 text-gray-400 hover:bg-gray-100 hover:text-gray-600 transition-colors",children:r.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a]})]})})},Lx=({children:e,className:t})=>r.jsx("div",{className:"overflow-x-auto rounded-xl border border-gray-200 bg-white",children:r.jsx("table",{className:hu("min-w-full divide-y divide-gray-200",t),children:e})}),Vr=({children:e,className:t})=>r.jsx("th",{className:hu("bg-gray-50 px-4 py-3.5 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",t),children:e}),Wr=({children:e,className:t})=>r.jsx("td",{className:hu("px-4 py-4 text-sm text-gray-700",t),children:e}),Up=_.forwardRef(({className:e,label:t,error:s,...a},n)=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{ref:n,type:"checkbox",className:hu("h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500",e),...a}),t&&r.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:t}),s&&r.jsx("p",{className:"mt-1.5 text-sm text-red-600",children:s})]})),Yse=({icon:e,title:t,description:s,actionLabel:a,onAction:n})=>r.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[e&&r.jsx(e,{className:"h-12 w-12 text-gray-400 mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:t}),s&&r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:s}),a&&n&&r.jsx("button",{onClick:n,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:a})]}),Zse=Nt("ZodISODateTime",(e,t)=>{Lte.init(e,t),Ha.init(e,t)});function Xse(e){return zre(Zse,e)}const Jse=Nt("ZodISODate",(e,t)=>{Ite.init(e,t),Ha.init(e,t)});function Qse(e){return $re(Jse,e)}const eae=Nt("ZodISOTime",(e,t)=>{Fte.init(e,t),Ha.init(e,t)});function tae(e){return Hre(eae,e)}const rae=Nt("ZodISODuration",(e,t)=>{Bte.init(e,t),Ha.init(e,t)});function sae(e){return qre(rae,e)}const aae=(e,t)=>{y6.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:s=>Aee(e,s)},flatten:{value:s=>_ee(e,s)},addIssue:{value:s=>{e.issues.push(s),e.message=JSON.stringify(e.issues,f_,2)}},addIssues:{value:s=>{e.issues.push(...s),e.message=JSON.stringify(e.issues,f_,2)}},isEmpty:{get(){return e.issues.length===0}}})},Cc=Nt("ZodError",aae,{Parent:Error}),nae=vN(Cc),iae=yN(Cc),lae=bN(Cc),oae=jN(Cc),cae=Oee(Cc),dae=Pee(Cc),uae=Dee(Cc),hae=Ree(Cc),mae=Mee(Cc),fae=Lee(Cc),pae=Iee(Cc),xae=Fee(Cc),ln=Nt("ZodType",(e,t)=>(nn.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:F2(e,"input"),output:F2(e,"output")}}),e.toJSONSchema=use(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...s)=>e.clone(Wm(t,{checks:[...t.checks??[],...s.map(a=>typeof a=="function"?{_zod:{check:a,def:{check:"custom"},onattach:[]}}:a)]}),{parent:!0}),e.with=e.check,e.clone=(s,a)=>Gm(e,s,a),e.brand=()=>e,e.register=((s,a)=>(s.add(e,a),e)),e.parse=(s,a)=>nae(e,s,a,{callee:e.parse}),e.safeParse=(s,a)=>lae(e,s,a),e.parseAsync=async(s,a)=>iae(e,s,a,{callee:e.parseAsync}),e.safeParseAsync=async(s,a)=>oae(e,s,a),e.spa=e.safeParseAsync,e.encode=(s,a)=>cae(e,s,a),e.decode=(s,a)=>dae(e,s,a),e.encodeAsync=async(s,a)=>uae(e,s,a),e.decodeAsync=async(s,a)=>hae(e,s,a),e.safeEncode=(s,a)=>mae(e,s,a),e.safeDecode=(s,a)=>fae(e,s,a),e.safeEncodeAsync=async(s,a)=>pae(e,s,a),e.safeDecodeAsync=async(s,a)=>xae(e,s,a),e.refine=(s,a)=>e.check(cne(s,a)),e.superRefine=s=>e.check(dne(s)),e.overwrite=s=>e.check(Ox(s)),e.optional=()=>TP(e),e.exactOptional=()=>Zae(e),e.nullable=()=>EP(e),e.nullish=()=>TP(EP(e)),e.nonoptional=s=>rne(e,s),e.array=()=>au(e),e.or=s=>Hae([e,s]),e.and=s=>Vae(e,s),e.transform=s=>OP(e,Kae(s)),e.default=s=>Qae(e,s),e.prefault=s=>tne(e,s),e.catch=s=>ane(e,s),e.pipe=s=>OP(e,s),e.readonly=()=>lne(e),e.describe=s=>{const a=e.clone();return iv.add(a,{description:s}),a},Object.defineProperty(e,"description",{get(){return iv.get(e)?.description},configurable:!0}),e.meta=(...s)=>{if(s.length===0)return iv.get(e);const a=e.clone();return iv.add(a,s[0]),a},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=s=>s(e),e)),K9=Nt("_ZodString",(e,t)=>{b6.init(e,t),ln.init(e,t),e._zod.processJSONSchema=(a,n,i)=>mse(e,a,n);const s=e._zod.bag;e.format=s.format??null,e.minLength=s.minimum??null,e.maxLength=s.maximum??null,e.regex=(...a)=>e.check(Zre(...a)),e.includes=(...a)=>e.check(Qre(...a)),e.startsWith=(...a)=>e.check(ese(...a)),e.endsWith=(...a)=>e.check(tse(...a)),e.min=(...a)=>e.check(I2(...a)),e.max=(...a)=>e.check(z9(...a)),e.length=(...a)=>e.check($9(...a)),e.nonempty=(...a)=>e.check(I2(1,...a)),e.lowercase=a=>e.check(Xre(a)),e.uppercase=a=>e.check(Jre(a)),e.trim=()=>e.check(sse()),e.normalize=(...a)=>e.check(rse(...a)),e.toLowerCase=()=>e.check(ase()),e.toUpperCase=()=>e.check(nse()),e.slugify=()=>e.check(ise())}),gae=Nt("ZodString",(e,t)=>{b6.init(e,t),K9.init(e,t),e.email=s=>e.check(bre(vae,s)),e.url=s=>e.check(_re(yae,s)),e.jwt=s=>e.check(Ure(Rae,s)),e.emoji=s=>e.check(Are(bae,s)),e.guid=s=>e.check(gP(AP,s)),e.uuid=s=>e.check(jre(Mb,s)),e.uuidv4=s=>e.check(Nre(Mb,s)),e.uuidv6=s=>e.check(wre(Mb,s)),e.uuidv7=s=>e.check(Sre(Mb,s)),e.nanoid=s=>e.check(Cre(jae,s)),e.guid=s=>e.check(gP(AP,s)),e.cuid=s=>e.check(kre(Nae,s)),e.cuid2=s=>e.check(Tre(wae,s)),e.ulid=s=>e.check(Ere(Sae,s)),e.base64=s=>e.check(Ire(Oae,s)),e.base64url=s=>e.check(Fre(Pae,s)),e.xid=s=>e.check(Ore(_ae,s)),e.ksuid=s=>e.check(Pre(Aae,s)),e.ipv4=s=>e.check(Dre(Cae,s)),e.ipv6=s=>e.check(Rre(kae,s)),e.cidrv4=s=>e.check(Mre(Tae,s)),e.cidrv6=s=>e.check(Lre(Eae,s)),e.e164=s=>e.check(Bre(Dae,s)),e.datetime=s=>e.check(Xse(s)),e.date=s=>e.check(Qse(s)),e.time=s=>e.check(tae(s)),e.duration=s=>e.check(sae(s))});function _t(e){return yre(gae,e)}const Ha=Nt("ZodStringFormat",(e,t)=>{Ma.init(e,t),K9.init(e,t)}),vae=Nt("ZodEmail",(e,t)=>{Cte.init(e,t),Ha.init(e,t)}),AP=Nt("ZodGUID",(e,t)=>{_te.init(e,t),Ha.init(e,t)}),Mb=Nt("ZodUUID",(e,t)=>{Ate.init(e,t),Ha.init(e,t)}),yae=Nt("ZodURL",(e,t)=>{kte.init(e,t),Ha.init(e,t)}),bae=Nt("ZodEmoji",(e,t)=>{Tte.init(e,t),Ha.init(e,t)}),jae=Nt("ZodNanoID",(e,t)=>{Ete.init(e,t),Ha.init(e,t)}),Nae=Nt("ZodCUID",(e,t)=>{Ote.init(e,t),Ha.init(e,t)}),wae=Nt("ZodCUID2",(e,t)=>{Pte.init(e,t),Ha.init(e,t)}),Sae=Nt("ZodULID",(e,t)=>{Dte.init(e,t),Ha.init(e,t)}),_ae=Nt("ZodXID",(e,t)=>{Rte.init(e,t),Ha.init(e,t)}),Aae=Nt("ZodKSUID",(e,t)=>{Mte.init(e,t),Ha.init(e,t)}),Cae=Nt("ZodIPv4",(e,t)=>{Ute.init(e,t),Ha.init(e,t)}),kae=Nt("ZodIPv6",(e,t)=>{zte.init(e,t),Ha.init(e,t)}),Tae=Nt("ZodCIDRv4",(e,t)=>{$te.init(e,t),Ha.init(e,t)}),Eae=Nt("ZodCIDRv6",(e,t)=>{Hte.init(e,t),Ha.init(e,t)}),Oae=Nt("ZodBase64",(e,t)=>{qte.init(e,t),Ha.init(e,t)}),Pae=Nt("ZodBase64URL",(e,t)=>{Wte.init(e,t),Ha.init(e,t)}),Dae=Nt("ZodE164",(e,t)=>{Gte.init(e,t),Ha.init(e,t)}),Rae=Nt("ZodJWT",(e,t)=>{Yte.init(e,t),Ha.init(e,t)}),Y9=Nt("ZodNumber",(e,t)=>{I9.init(e,t),ln.init(e,t),e._zod.processJSONSchema=(a,n,i)=>fse(e,a,n),e.gt=(a,n)=>e.check(yP(a,n)),e.gte=(a,n)=>e.check(y4(a,n)),e.min=(a,n)=>e.check(y4(a,n)),e.lt=(a,n)=>e.check(vP(a,n)),e.lte=(a,n)=>e.check(v4(a,n)),e.max=(a,n)=>e.check(v4(a,n)),e.int=a=>e.check(CP(a)),e.safe=a=>e.check(CP(a)),e.positive=a=>e.check(yP(0,a)),e.nonnegative=a=>e.check(y4(0,a)),e.negative=a=>e.check(vP(0,a)),e.nonpositive=a=>e.check(v4(0,a)),e.multipleOf=(a,n)=>e.check(bP(a,n)),e.step=(a,n)=>e.check(bP(a,n)),e.finite=()=>e;const s=e._zod.bag;e.minValue=Math.max(s.minimum??Number.NEGATIVE_INFINITY,s.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(s.maximum??Number.POSITIVE_INFINITY,s.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(s.format??"").includes("int")||Number.isSafeInteger(s.multipleOf??.5),e.isFinite=!0,e.format=s.format??null});function gs(e){return Vre(Y9,e)}const Mae=Nt("ZodNumberFormat",(e,t)=>{Zte.init(e,t),Y9.init(e,t)});function CP(e){return Wre(Mae,e)}const Lae=Nt("ZodBoolean",(e,t)=>{Xte.init(e,t),ln.init(e,t),e._zod.processJSONSchema=(s,a,n)=>pse(e,s,a)});function sh(e){return Gre(Lae,e)}const Iae=Nt("ZodUnknown",(e,t)=>{Jte.init(e,t),ln.init(e,t),e._zod.processJSONSchema=(s,a,n)=>gse()});function kP(){return Kre(Iae)}const Fae=Nt("ZodNever",(e,t)=>{Qte.init(e,t),ln.init(e,t),e._zod.processJSONSchema=(s,a,n)=>xse(e,s,a)});function Bae(e){return Yre(Fae,e)}const Uae=Nt("ZodArray",(e,t)=>{ere.init(e,t),ln.init(e,t),e._zod.processJSONSchema=(s,a,n)=>Nse(e,s,a,n),e.element=t.element,e.min=(s,a)=>e.check(I2(s,a)),e.nonempty=s=>e.check(I2(1,s)),e.max=(s,a)=>e.check(z9(s,a)),e.length=(s,a)=>e.check($9(s,a)),e.unwrap=()=>e.element});function au(e,t){return lse(Uae,e,t)}const zae=Nt("ZodObject",(e,t)=>{rre.init(e,t),ln.init(e,t),e._zod.processJSONSchema=(s,a,n)=>wse(e,s,a,n),Vs(e,"shape",()=>t.shape),e.keyof=()=>ma(Object.keys(e._zod.def.shape)),e.catchall=s=>e.clone({...e._zod.def,catchall:s}),e.passthrough=()=>e.clone({...e._zod.def,catchall:kP()}),e.loose=()=>e.clone({...e._zod.def,catchall:kP()}),e.strict=()=>e.clone({...e._zod.def,catchall:Bae()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=s=>bee(e,s),e.safeExtend=s=>jee(e,s),e.merge=s=>Nee(e,s),e.pick=s=>vee(e,s),e.omit=s=>yee(e,s),e.partial=(...s)=>wee(Z9,e,s[0]),e.required=(...s)=>See(X9,e,s[0])});function ha(e,t){const s={type:"object",shape:e??{},...xr(t)};return new zae(s)}const $ae=Nt("ZodUnion",(e,t)=>{sre.init(e,t),ln.init(e,t),e._zod.processJSONSchema=(s,a,n)=>Sse(e,s,a,n),e.options=t.options});function Hae(e,t){return new $ae({type:"union",options:e,...xr(t)})}const qae=Nt("ZodIntersection",(e,t)=>{are.init(e,t),ln.init(e,t),e._zod.processJSONSchema=(s,a,n)=>_se(e,s,a,n)});function Vae(e,t){return new qae({type:"intersection",left:e,right:t})}const x_=Nt("ZodEnum",(e,t)=>{nre.init(e,t),ln.init(e,t),e._zod.processJSONSchema=(a,n,i)=>vse(e,a,n),e.enum=t.entries,e.options=Object.values(t.entries);const s=new Set(Object.keys(t.entries));e.extract=(a,n)=>{const i={};for(const l of a)if(s.has(l))i[l]=t.entries[l];else throw new Error(`Key ${l} not found in enum`);return new x_({...t,checks:[],...xr(n),entries:i})},e.exclude=(a,n)=>{const i={...t.entries};for(const l of a)if(s.has(l))delete i[l];else throw new Error(`Key ${l} not found in enum`);return new x_({...t,checks:[],...xr(n),entries:i})}});function ma(e,t){const s=Array.isArray(e)?Object.fromEntries(e.map(a=>[a,a])):e;return new x_({type:"enum",entries:s,...xr(t)})}const Wae=Nt("ZodLiteral",(e,t)=>{ire.init(e,t),ln.init(e,t),e._zod.processJSONSchema=(s,a,n)=>yse(e,s,a),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function U2(e,t){return new Wae({type:"literal",values:Array.isArray(e)?e:[e],...xr(t)})}const Gae=Nt("ZodTransform",(e,t)=>{lre.init(e,t),ln.init(e,t),e._zod.processJSONSchema=(s,a,n)=>jse(e,s),e._zod.parse=(s,a)=>{if(a.direction==="backward")throw new w9(e.constructor.name);s.addIssue=i=>{if(typeof i=="string")s.issues.push(Av(i,s.value,t));else{const l=i;l.fatal&&(l.continue=!1),l.code??(l.code="custom"),l.input??(l.input=s.value),l.inst??(l.inst=e),s.issues.push(Av(l))}};const n=t.transform(s.value,s);return n instanceof Promise?n.then(i=>(s.value=i,s)):(s.value=n,s)}});function Kae(e){return new Gae({type:"transform",transform:e})}const Z9=Nt("ZodOptional",(e,t)=>{U9.init(e,t),ln.init(e,t),e._zod.processJSONSchema=(s,a,n)=>W9(e,s,a,n),e.unwrap=()=>e._zod.def.innerType});function TP(e){return new Z9({type:"optional",innerType:e})}const Yae=Nt("ZodExactOptional",(e,t)=>{ore.init(e,t),ln.init(e,t),e._zod.processJSONSchema=(s,a,n)=>W9(e,s,a,n),e.unwrap=()=>e._zod.def.innerType});function Zae(e){return new Yae({type:"optional",innerType:e})}const Xae=Nt("ZodNullable",(e,t)=>{cre.init(e,t),ln.init(e,t),e._zod.processJSONSchema=(s,a,n)=>Ase(e,s,a,n),e.unwrap=()=>e._zod.def.innerType});function EP(e){return new Xae({type:"nullable",innerType:e})}const Jae=Nt("ZodDefault",(e,t)=>{dre.init(e,t),ln.init(e,t),e._zod.processJSONSchema=(s,a,n)=>kse(e,s,a,n),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function Qae(e,t){return new Jae({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():C9(t)}})}const ene=Nt("ZodPrefault",(e,t)=>{ure.init(e,t),ln.init(e,t),e._zod.processJSONSchema=(s,a,n)=>Tse(e,s,a,n),e.unwrap=()=>e._zod.def.innerType});function tne(e,t){return new ene({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():C9(t)}})}const X9=Nt("ZodNonOptional",(e,t)=>{hre.init(e,t),ln.init(e,t),e._zod.processJSONSchema=(s,a,n)=>Cse(e,s,a,n),e.unwrap=()=>e._zod.def.innerType});function rne(e,t){return new X9({type:"nonoptional",innerType:e,...xr(t)})}const sne=Nt("ZodCatch",(e,t)=>{mre.init(e,t),ln.init(e,t),e._zod.processJSONSchema=(s,a,n)=>Ese(e,s,a,n),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function ane(e,t){return new sne({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const nne=Nt("ZodPipe",(e,t)=>{fre.init(e,t),ln.init(e,t),e._zod.processJSONSchema=(s,a,n)=>Ose(e,s,a,n),e.in=t.in,e.out=t.out});function OP(e,t){return new nne({type:"pipe",in:e,out:t})}const ine=Nt("ZodReadonly",(e,t)=>{pre.init(e,t),ln.init(e,t),e._zod.processJSONSchema=(s,a,n)=>Pse(e,s,a,n),e.unwrap=()=>e._zod.def.innerType});function lne(e){return new ine({type:"readonly",innerType:e})}const one=Nt("ZodCustom",(e,t)=>{xre.init(e,t),ln.init(e,t),e._zod.processJSONSchema=(s,a,n)=>bse(e,s)});function cne(e,t={}){return ose(one,e,t)}function dne(e){return cse(e)}const une=ha({email:_t().min(1,"Email is required"),password:_t().min(1,"Password is required"),loginType:ma(["hub","store","super_admin"]),locationId:_t().optional(),role:_t().optional()}),hne=ha({customerName:_t().min(2,"Name is required"),customerPhone:_t().regex(/^\+91\s?\d{10}$/,"Invalid phone number"),customerEmail:_t().email().optional().or(U2("")),addressLine1:_t().min(5,"Address is required"),addressLine2:_t().optional(),city:_t().min(2,"City is required"),state:_t().min(2,"State is required"),pincode:_t().regex(/^\d{6}$/,"Invalid pincode"),addressType:ma(["home","work","other"]),deliverySlot:_t().min(1,"Select delivery slot"),paymentMethod:ma(["cod","online","wallet"]),source:ma(["whatsapp","instagram","facebook","manual"]),items:au(ha({productId:_t(),variantId:_t(),quantity:gs().min(1)})).min(1,"Add at least one item")});ha({nameEn:_t().min(2,"English name is required"),nameTa:_t().min(2,"Tamil name is required"),sku:_t().optional(),category:ma(["fish","prawns","crab","squid","lobster","chicken","mutton","egg","spices"]),description:_t().optional(),deliveryType:ma(["same_day","next_day","exotic"]),sourceType:ma(["hub","store"]),isBestSeller:sh().default(!1),isRare:sh().default(!1),isActive:sh().default(!0),variants:au(ha({type:_t().min(1,"Type is required"),size:_t().min(1,"Size is required"),grossWeight:_t(),netWeight:_t(),pieces:_t(),serves:_t(),price:gs().min(1,"Price is required"),stock:gs().min(0),discount:gs().min(0).max(100).optional()})).min(1,"Add at least one variant")});ha({name:_t().min(2,"Name is required"),email:_t().email("Invalid email"),phone:_t().regex(/^\+91\s?\d{10}$/,"Invalid phone number"),department:_t().min(1,"Select department"),role:ma(["hub_main_admin","hub_procurement","hub_packing","hub_delivery","store_main_admin","store_procurement","store_packing","store_delivery"]),locationId:_t().min(1,"Select location")});ha({name:_t().min(2,"Name is required"),phone:_t().regex(/^\+91\s?\d{10}$/,"Invalid phone number"),vehicleNo:_t().min(5,"Vehicle number is required")});ha({code:_t().min(3,"Code must be at least 3 characters").max(20),discountType:ma(["percentage","flat"]),discountValue:gs().min(1,"Discount value is required"),minOrderValue:gs().min(0),maxDiscount:gs().optional(),validFrom:_t().min(1,"Start date is required"),validTo:_t().min(1,"End date is required"),usageLimit:gs().min(1)});ha({name:_t().min(2,"Zone name is required"),pincodes:_t().min(6,"Add at least one pincode")});const mne=ha({name:_t().min(2,"Store name is required"),code:_t().min(3,"Code is required"),description:_t().optional(),storeType:ma(["retail","warehouse","pickup_point"]),address:ha({street:_t().min(5,"Street is required"),city:_t().min(2,"City is required"),state:_t().min(2,"State is required"),pincode:_t().regex(/^\d{6}$/,"Invalid pincode"),country:_t().min(2,"Country is required")}),location:ha({latitude:gs().min(-90).max(90),longitude:gs().min(-180).max(180)}),contactInfo:ha({phone:_t().regex(/^\+91\s?\d{10}$/,"Invalid phone number"),email:_t().email("Invalid email"),manager:_t().min(2,"Manager name is required")}),operatingHours:ha({open:_t().regex(/^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/,"Invalid time format (HH:MM)"),close:_t().regex(/^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/,"Invalid time format (HH:MM)"),workingDays:au(_t()).min(1,"Select at least one working day")}),capacity:ha({storage:gs().min(0),dailyOrders:gs().min(0),staff:gs().min(0)}),hubId:_t().min(1,"Hub is required"),deliveryRadius:gs().min(0),assignAllSlots:sh().optional(),deliverySlots:au(_t()).optional(),isActive:sh(),zoneId:_t().optional()});ha({customerSearch:_t().min(3,"Enter customer phone or email"),amount:gs().min(1,"Amount must be at least 1"),reason:ma(["refund","compensation","promotion","other"]),notes:_t().optional()});ha({category:_t().min(1,"Select category"),question:_t().min(10,"Question is required"),answer:_t().min(20,"Answer is required"),keywords:_t().optional(),isPublished:sh().default(!1)});ha({name:_t().min(3,"Recipe name is required"),description:_t().min(10,"Description is required"),category:_t().min(1,"Select category"),difficulty:ma(["easy","medium","hard"]),prepTime:gs().min(1),cookTime:gs().min(1),serves:gs().min(1),ingredients:au(ha({name:_t().min(1),quantity:_t().min(1),productId:_t().optional()})).min(1,"Add at least one ingredient"),instructions:au(_t().min(5)).min(1,"Add at least one step")});function fne(){const[e,t]=_.useState("super_admin"),[s,a]=_.useState(""),[n,i]=_.useState(!1),{login:l,isLoading:o}=os(),u=Qv(),{register:d,handleSubmit:m,formState:{errors:f},setValue:g}=g0({resolver:y0(une),defaultValues:{loginType:"super_admin"}}),p=async N=>{await l(N.email,N.password,N.loginType,N.locationId,s)&&u("/dashboard")},y=N=>{t(N),a(""),g("loginType",N)},v=[{type:"super_admin",icon:Fi,label:"Super Admin",desc:"Full access",gradient:"from-purple-500 to-purple-600"},{type:"hub",icon:Kl,label:"Hub",desc:"Fish products",gradient:"from-blue-500 to-blue-600"},{type:"store",icon:Zn,label:"Store",desc:"All products",gradient:"from-green-500 to-green-600"}],j=e!=="super_admin"?EZ(e):[];return r.jsxs("div",{className:"h-screen flex overflow-hidden",children:[r.jsxs("div",{className:"hidden lg:flex lg:w-2/5 bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 p-8 flex-col justify-between relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 opacity-10",children:r.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KPGcgZmlsbD0iI2ZmZmZmZiIgZmlsbC1vcGFjaXR5PSIwLjEiPgo8Y2lyY2xlIGN4PSIzMCIgY3k9IjMwIiByPSIyIi8+CjwvZz4KPC9nPgo8L3N2Zz4=')]"})}),r.jsx("div",{className:"relative z-10",children:r.jsx("div",{className:"flex items-center gap-3",children:r.jsx("img",{src:"https://bayhawk.clientstagingdemo.com/_next/static/media/BayHawk.207595da.svg",alt:"BayHawk",className:"h-12 w-auto"})})}),r.jsxs("div",{className:"space-y-6 relative z-10",children:[r.jsxs("div",{children:[r.jsxs("h2",{className:"text-3xl font-bold text-white leading-tight mb-3",children:["Role-Based Access",r.jsx("br",{}),r.jsx("span",{className:"text-blue-300",children:"Control System"})]}),r.jsx("p",{className:"text-blue-200",children:"Secure management for your seafood business operations."})]}),r.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{value:"10K+",label:"Orders",icon:""},{value:"500+",label:"Products",icon:""},{value:"50+",label:"Locations",icon:""}].map(N=>r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-3 border border-white/20",children:[r.jsx("div",{className:"text-lg mb-1",children:N.icon}),r.jsx("p",{className:"text-lg font-bold text-white",children:N.value}),r.jsx("p",{className:"text-xs text-blue-200",children:N.label})]},N.label))})]}),r.jsx("p",{className:"text-xs text-blue-300 relative z-10",children:" 2024 Bayhawk. All rights reserved."})]}),r.jsx("div",{className:"flex-1 flex items-center justify-center p-4 sm:p-6 bg-gradient-to-br from-gray-50 to-gray-100 overflow-y-auto",children:r.jsxs("div",{className:"w-full max-w-lg",children:[r.jsx("div",{className:"lg:hidden text-center mb-4 sm:mb-6",children:r.jsx("div",{className:"inline-flex items-center gap-2",children:r.jsx("img",{src:"https://bayhawk.clientstagingdemo.com/_next/static/media/BayHawk.207595da.svg",alt:"BayHawk",className:"h-10 w-auto"})})}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-4 sm:p-6 border border-gray-200",children:[r.jsxs("div",{className:"text-center mb-4 sm:mb-6",children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-1",children:"Welcome back"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Sign in to your admin account"})]}),r.jsxs("div",{className:"mb-4 sm:mb-5",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Select Login Type"}),r.jsx("div",{className:"grid grid-cols-3 gap-1 sm:gap-2",children:v.map(({type:N,icon:k,label:w,desc:A,gradient:C})=>r.jsxs("button",{type:"button",onClick:()=>y(N),className:`p-2 sm:p-3 rounded-lg border-2 transition-all duration-200 text-center ${e===N?"border-blue-500 bg-blue-50 shadow-sm":"border-gray-200 hover:border-gray-300"}`,children:[r.jsx("div",{className:`h-6 w-6 sm:h-8 sm:w-8 rounded-lg bg-gradient-to-r ${C} flex items-center justify-center mx-auto mb-1 sm:mb-2`,children:r.jsx(k,{className:"h-3 w-3 sm:h-4 sm:w-4 text-white"})}),r.jsx("p",{className:`text-xs font-semibold ${e===N?"text-blue-900":"text-gray-900"}`,children:w}),r.jsx("p",{className:"text-xs text-gray-500 hidden sm:block",children:A})]},N))})]}),r.jsxs("form",{onSubmit:m(p),className:"space-y-3 sm:space-y-4",children:[e==="hub"&&r.jsx(Dt,{label:"Select Hub",...d("locationId"),options:[{value:"",label:"Choose a hub..."},{value:"hub_1",label:"Central Hub - Chennai"}]}),e==="store"&&r.jsx(Dt,{label:"Select Store",...d("locationId"),options:[{value:"",label:"Choose a store..."},{value:"store_1",label:"Store - Anna Nagar"},{value:"store_2",label:"Store - T Nagar"},{value:"store_3",label:"Store - Velachery"}]}),e!=="super_admin"&&j.length>0&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1.5 block",children:"Select Your Role"}),r.jsxs("select",{value:s,onChange:N=>a(N.target.value),className:"w-full rounded-lg border border-gray-300 bg-white px-3 py-2.5 text-sm text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 cursor-pointer",children:[r.jsx("option",{value:"",children:"Choose your role..."}),j.map(N=>r.jsx("option",{value:N.name,children:N.displayName},N.id))]})]}),r.jsx(he,{label:"Email Address",type:"email",...d("email"),placeholder:"admin@bayhawk.com",error:f.email?.message}),r.jsxs("div",{className:"relative",children:[r.jsx(he,{label:"Password",type:n?"text":"password",...d("password"),placeholder:"",error:f.password?.message}),r.jsx("button",{type:"button",onClick:()=>i(!n),className:"absolute right-3 top-8 text-gray-400 hover:text-gray-600",children:n?r.jsx(fd,{className:"h-4 w-4"}):r.jsx(Fr,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"text-gray-600",children:"Remember me"})]}),r.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-700 font-medium",children:"Forgot password?"})]}),r.jsx(ce,{type:"submit",className:"w-full h-10 sm:h-11 font-semibold bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800",disabled:o||e!=="super_admin"&&!s,children:o?r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Signing in..."]}):"Sign In"})]})]}),r.jsxs("p",{className:"mt-3 sm:mt-4 text-center text-xs text-gray-500",children:["Need help? ",r.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-700 font-medium",children:"Contact Support"})]})]})})]})}function pne(){const{user:e}=os();if(!e)return null;const t=t6(e.role),s=["hub_procurement","hub_packing","hub_delivery","store_procurement","store_packing","store_delivery"].includes(e.role),a=()=>{const o=[];return e.role==="hub_delivery"||e.role==="store_delivery"?(o.push({title:"My Deliveries",description:"View orders assigned to you for delivery",icon:zr,color:"bg-purple-500",hoverColor:"hover:bg-purple-600",href:"/team"}),o):e.role==="hub_packing"||e.role==="store_packing"?(o.push({title:"Packing Queue",description:"Process orders ready for packing",icon:i2,color:"bg-orange-500",hoverColor:"hover:bg-orange-600",href:"/orders?status=processing"}),o):e.role==="hub_procurement"||e.role==="store_procurement"?(o.push({title:"Manage Inventory",description:"Update stock and procurement",icon:Pt,color:"bg-green-500",hoverColor:"hover:bg-green-600",href:"/products"}),o.push({title:"Stock Reports",description:"View inventory and stock reports",icon:Yn,color:"bg-teal-500",hoverColor:"hover:bg-teal-600",href:"/reports/stock"}),o):(($a(e,We.HUB_ORDERS_VIEW)||$a(e,We.STORE_ORDERS_VIEW))&&o.push({title:"View Orders",description:"Check pending and active orders",icon:el,color:"bg-blue-500",hoverColor:"hover:bg-blue-600",href:"/orders"}),$a(e,We.PROCUREMENT_MANAGE)&&o.push({title:"Manage Inventory",description:"Update stock and procurement",icon:Pt,color:"bg-green-500",hoverColor:"hover:bg-green-600",href:"/products"}),$a(e,We.PACKING_MANAGE)&&o.push({title:"Packing Queue",description:"Process orders for packing",icon:i2,color:"bg-orange-500",hoverColor:"hover:bg-orange-600",href:"/orders?status=processing"}),$a(e,We.DELIVERY_MANAGE)&&o.push({title:"Delivery Management",description:"Track and assign deliveries",icon:zr,color:"bg-purple-500",hoverColor:"hover:bg-purple-600",href:"/orders?status=out_for_delivery"}),($a(e,We.HUB_TEAM_MANAGE)||$a(e,We.STORE_TEAM_MANAGE))&&o.push({title:"Team Management",description:"Manage team members and roles",icon:Mr,color:"bg-indigo-500",hoverColor:"hover:bg-indigo-600",href:"/team"}),($a(e,We.HUB_REPORTS_SALES)||$a(e,We.HUB_REPORTS_PACKING)||$a(e,We.HUB_REPORTS_DELIVERY)||$a(e,We.HUB_REPORTS_STOCK))&&o.push({title:"View Reports",description:"Analytics and performance metrics",icon:Yn,color:"bg-teal-500",hoverColor:"hover:bg-teal-600",href:"/reports"}),o)},n=()=>{const o=[];return e.role==="hub_delivery"||e.role==="store_delivery"?(o.push({title:"My Assigned Orders",value:"3",change:"+1",icon:zr,color:"text-blue-600",bg:"bg-blue-100",trend:"up"},{title:"Completed Today",value:"8",change:"+2",icon:Cr,color:"text-green-600",bg:"bg-green-100",trend:"up"}),o):e.role==="hub_packing"||e.role==="store_packing"?(o.push({title:"Ready to Pack",value:"15",change:"+3",icon:i2,color:"text-orange-600",bg:"bg-orange-100",trend:"up"},{title:"Packed Today",value:"32",change:"+8",icon:Cr,color:"text-green-600",bg:"bg-green-100",trend:"up"}),o):e.role==="hub_procurement"||e.role==="store_procurement"?(o.push({title:"Low Stock Items",value:"5",change:"-2",icon:tl,color:"text-red-600",bg:"bg-red-100",trend:"down"},{title:"Total Products",value:e.loginType==="hub"?"89":"245",change:"+12",icon:Pt,color:"text-blue-600",bg:"bg-blue-100",trend:"up"}),o):(($a(e,We.HUB_ORDERS_VIEW)||$a(e,We.STORE_ORDERS_VIEW))&&o.push({title:"Pending Orders",value:"24",change:"+12%",icon:wr,color:"text-yellow-600",bg:"bg-yellow-100",trend:"up"},{title:"Completed Today",value:"156",change:"+8%",icon:Cr,color:"text-green-600",bg:"bg-green-100",trend:"up"}),$a(e,We.PROCUREMENT_MANAGE)&&o.push({title:"Low Stock Items",value:"8",change:"-3",icon:tl,color:"text-red-600",bg:"bg-red-100",trend:"down"},{title:"Total Products",value:e.loginType==="hub"?"142":"342",change:"+15",icon:Pt,color:"text-blue-600",bg:"bg-blue-100",trend:"up"}),o)},i=a(),l=n();return r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-600 via-blue-700 to-indigo-800 rounded-2xl p-8 text-white relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -translate-y-16 translate-x-16"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white/5 rounded-full translate-y-12 -translate-x-12"}),r.jsx("div",{className:"relative",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold mb-2",children:["Welcome back, ",e.name.split(" ")[0],"! "]}),r.jsxs("p",{className:"text-blue-100 text-lg",children:[t?.displayName||e.role,"  ",e.loginType==="hub"?"Hub Operations":e.loginType==="store"?"Store Operations":"System Administration"]}),r.jsx("p",{className:"text-blue-200 text-sm mt-2",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),s&&r.jsx("p",{className:"text-blue-200 text-sm mt-1",children:t?.description})]}),r.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-2xl font-bold",children:e.role==="hub_delivery"||e.role==="store_delivery"?"95%":e.role==="hub_packing"||e.role==="store_packing"?"92%":e.role==="hub_procurement"||e.role==="store_procurement"?"88%":"94%"}),r.jsx("p",{className:"text-blue-200 text-sm",children:e.role==="hub_delivery"||e.role==="store_delivery"?"Delivery Rate":e.role==="hub_packing"||e.role==="store_packing"?"Packing Efficiency":e.role==="hub_procurement"||e.role==="store_procurement"?"Stock Accuracy":"Efficiency"})]}),r.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center",children:r.jsx(wv,{className:"h-8 w-8 text-white"})})]})]})})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Key Metrics"}),r.jsxs("button",{className:"text-sm text-blue-600 hover:text-blue-700 font-medium flex items-center gap-1",children:["View Details ",r.jsx(Kp,{className:"h-4 w-4"})]})]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:l.map((o,u)=>r.jsx("div",{className:"bg-white rounded-xl p-6 border border-gray-200 hover:shadow-lg hover:border-gray-300 transition-all duration-200",children:r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"flex items-center gap-3 mb-3",children:r.jsx("div",{className:`h-12 w-12 rounded-xl ${o.bg} flex items-center justify-center`,children:r.jsx(o.icon,{className:`h-6 w-6 ${o.color}`})})}),r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:o.title}),r.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-2",children:o.value}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:`text-sm font-medium ${o.trend==="up"?"text-green-600":"text-red-600"}`,children:o.change}),r.jsx("span",{className:"text-sm text-gray-500",children:"vs yesterday"})]})]})})},u))})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"lg:col-span-2",children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Quick Actions"})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:i.map((o,u)=>r.jsx("a",{href:o.href,className:"bg-white rounded-xl p-6 border border-gray-200 hover:shadow-lg hover:border-gray-300 transition-all duration-200 group",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:`h-14 w-14 rounded-xl ${o.color} ${o.hoverColor} flex items-center justify-center group-hover:scale-110 transition-all duration-200 shadow-lg`,children:r.jsx(o.icon,{className:"h-7 w-7 text-white"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-blue-600 transition-colors text-lg mb-1",children:o.title}),r.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:o.description})]}),r.jsx(Kp,{className:"h-5 w-5 text-gray-400 group-hover:text-blue-600 transition-colors"})]})},u))})]}),r.jsx("div",{className:"lg:col-span-1",children:r.jsx(Lse,{})})]}),(e.role==="hub_main_admin"||e.role==="store_main_admin"||e.loginType==="super_admin")&&($a(e,We.HUB_REPORTS_SALES)||$a(e,We.HUB_REPORTS_PACKING))&&r.jsxs("div",{className:"bg-white rounded-xl p-8 border border-gray-200 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-10 w-10 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx(Ps,{className:"h-6 w-6 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Today's Performance"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Real-time operational metrics"})]})]}),r.jsxs("button",{className:"text-sm text-blue-600 hover:text-blue-700 font-medium flex items-center gap-1",children:["View Report ",r.jsx(Kp,{className:"h-4 w-4"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"text-center p-6 bg-green-50 rounded-xl",children:[r.jsx("div",{className:"flex items-center justify-center mb-3",children:r.jsx(Vm,{className:"h-8 w-8 text-green-600"})}),r.jsx("p",{className:"text-4xl font-bold text-green-600 mb-2",children:"94%"}),r.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Order Completion Rate"}),r.jsx("p",{className:"text-xs text-gray-500",children:"+2% from yesterday"})]}),r.jsxs("div",{className:"text-center p-6 bg-blue-50 rounded-xl",children:[r.jsx("div",{className:"flex items-center justify-center mb-3",children:r.jsx(wr,{className:"h-8 w-8 text-blue-600"})}),r.jsx("p",{className:"text-4xl font-bold text-blue-600 mb-2",children:"2.3h"}),r.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Avg Processing Time"}),r.jsx("p",{className:"text-xs text-gray-500",children:"-15min improvement"})]}),r.jsxs("div",{className:"text-center p-6 bg-purple-50 rounded-xl",children:[r.jsx("div",{className:"flex items-center justify-center mb-3",children:r.jsx(hh,{className:"h-8 w-8 text-purple-600"})}),r.jsx("p",{className:"text-4xl font-bold text-purple-600 mb-2",children:"45,230"}),r.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Revenue Today"}),r.jsx("p",{className:"text-xs text-gray-500",children:"+8% from target"})]})]})]})]})}const _h=({onFiltersChange:e,statusOptions:t=[],categoryOptions:s=[],customFilterComponents:a,showSearch:n=!0,showDateRange:i=!0,showStatus:l=!0,showCategory:o=!0,className:u=""})=>{const[d,m]=_.useState(!1),[f,g]=_.useState({}),p=j=>{const N={...f,...j};g(N),e(N)},y=()=>{const j={};g(j),e(j)},v=Object.values(f).some(j=>j&&(typeof j=="string"?j.length>0:Object.keys(j).length>0));return r.jsxs(ae,{className:`mb-6 ${u}`,children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"rounded-lg bg-blue-50 p-2",children:r.jsx(Jf,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",children:"Filters"}),r.jsx("p",{className:"text-sm text-gray-600",children:v?"Active filters applied":"No filters applied"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[v&&r.jsxs(ce,{variant:"ghost",size:"sm",onClick:y,children:[r.jsx(ws,{className:"mr-1 h-4 w-4"}),"Clear"]}),r.jsxs(ce,{variant:"secondary",size:"sm",onClick:()=>m(!d),children:[r.jsx(Jf,{className:"mr-2 h-4 w-4"}),d?"Hide":"Show"," Filters"]})]})]}),d&&r.jsxs("div",{className:"mt-4 border-t pt-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Search"}),r.jsx(he,{placeholder:"Search...",value:f.search||"",onChange:j=>p({search:j.target.value})})]}),i&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Start Date"}),r.jsx(he,{type:"date",value:f.dateRange?.start||"",onChange:j=>p({dateRange:{...f.dateRange,start:j.target.value,end:f.dateRange?.end||""}})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"End Date"}),r.jsx(he,{type:"date",value:f.dateRange?.end||"",onChange:j=>p({dateRange:{...f.dateRange,end:j.target.value,start:f.dateRange?.start||""}})})]})]}),l&&t.length>0&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Status"}),r.jsx(Dt,{value:f.status||"",onChange:j=>p({status:j.target.value}),options:[{value:"",label:"All Status"},...t]})]}),o&&s.length>0&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Category"}),r.jsx(Dt,{value:f.category||"",onChange:j=>p({category:j.target.value}),options:[{value:"",label:"All Categories"},...s]})]})]}),a&&r.jsx("div",{className:"mt-4 pt-4 border-t",children:a}),r.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[r.jsxs(ce,{variant:"ghost",size:"sm",children:[r.jsx(Ho,{className:"mr-2 h-4 w-4"}),"Export"]}),r.jsxs(ce,{variant:"ghost",size:"sm",onClick:()=>e(f),children:[r.jsx(ld,{className:"mr-2 h-4 w-4"}),"Refresh"]})]})]})]})};function J9(e=!1){const[t,s]=_.useState(e),a=_.useCallback(()=>{s(!0)},[]),n=_.useCallback(()=>{s(!1)},[]),i=_.useCallback(async l=>{try{return s(!0),await l()}finally{s(!1)}},[]);return{isLoading:t,startLoading:a,stopLoading:n,withLoading:i}}function Q9(e){var t,s,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(s=Q9(e[t]))&&(a&&(a+=" "),a+=s)}else for(s in e)e[s]&&(a&&(a+=" "),a+=s);return a}function ys(){for(var e,t,s=0,a="",n=arguments.length;s<n;s++)(e=arguments[s])&&(t=Q9(e))&&(a&&(a+=" "),a+=t);return a}const jt=e=>`${e.toLocaleString("en-IN")}`,PP=e=>new Date(e).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}),Rm=e=>new Date(e).toLocaleString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}),Qn=e=>({received:"bg-blue-100 text-blue-800",processing:"bg-yellow-100 text-yellow-800",packed:"bg-purple-100 text-purple-800",out_for_delivery:"bg-orange-100 text-orange-800",delivered:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800",pending:"bg-yellow-100 text-yellow-800",paid:"bg-green-100 text-green-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",active:"bg-green-100 text-green-800",inactive:"bg-gray-100 text-gray-800"})[e]||"bg-gray-100 text-gray-800";function eB(e,t){return function(){return e.apply(t,arguments)}}const{toString:xne}=Object.prototype,{getPrototypeOf:N6}=Object,{iterator:SN,toStringTag:tB}=Symbol,_N=(e=>t=>{const s=xne.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),jd=e=>(e=e.toLowerCase(),t=>_N(t)===e),AN=e=>t=>typeof t===e,{isArray:Ix}=Array,px=AN("undefined");function ry(e){return e!==null&&!px(e)&&e.constructor!==null&&!px(e.constructor)&&Xl(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const rB=jd("ArrayBuffer");function gne(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&rB(e.buffer),t}const vne=AN("string"),Xl=AN("function"),sB=AN("number"),sy=e=>e!==null&&typeof e=="object",yne=e=>e===!0||e===!1,c2=e=>{if(_N(e)!=="object")return!1;const t=N6(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(tB in e)&&!(SN in e)},bne=e=>{if(!sy(e)||ry(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},jne=jd("Date"),Nne=jd("File"),wne=jd("Blob"),Sne=jd("FileList"),_ne=e=>sy(e)&&Xl(e.pipe),Ane=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Xl(e.append)&&((t=_N(e))==="formdata"||t==="object"&&Xl(e.toString)&&e.toString()==="[object FormData]"))},Cne=jd("URLSearchParams"),[kne,Tne,Ene,One]=["ReadableStream","Request","Response","Headers"].map(jd),Pne=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ay(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let a,n;if(typeof e!="object"&&(e=[e]),Ix(e))for(a=0,n=e.length;a<n;a++)t.call(null,e[a],a,e);else{if(ry(e))return;const i=s?Object.getOwnPropertyNames(e):Object.keys(e),l=i.length;let o;for(a=0;a<l;a++)o=i[a],t.call(null,e[o],o,e)}}function aB(e,t){if(ry(e))return null;t=t.toLowerCase();const s=Object.keys(e);let a=s.length,n;for(;a-- >0;)if(n=s[a],t===n.toLowerCase())return n;return null}const Ff=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,nB=e=>!px(e)&&e!==Ff;function g_(){const{caseless:e,skipUndefined:t}=nB(this)&&this||{},s={},a=(n,i)=>{const l=e&&aB(s,i)||i;c2(s[l])&&c2(n)?s[l]=g_(s[l],n):c2(n)?s[l]=g_({},n):Ix(n)?s[l]=n.slice():(!t||!px(n))&&(s[l]=n)};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&ay(arguments[n],a);return s}const Dne=(e,t,s,{allOwnKeys:a}={})=>(ay(t,(n,i)=>{s&&Xl(n)?e[i]=eB(n,s):e[i]=n},{allOwnKeys:a}),e),Rne=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Mne=(e,t,s,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},Lne=(e,t,s,a)=>{let n,i,l;const o={};if(t=t||{},e==null)return t;do{for(n=Object.getOwnPropertyNames(e),i=n.length;i-- >0;)l=n[i],(!a||a(l,e,t))&&!o[l]&&(t[l]=e[l],o[l]=!0);e=s!==!1&&N6(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},Ine=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const a=e.indexOf(t,s);return a!==-1&&a===s},Fne=e=>{if(!e)return null;if(Ix(e))return e;let t=e.length;if(!sB(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},Bne=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&N6(Uint8Array)),Une=(e,t)=>{const a=(e&&e[SN]).call(e);let n;for(;(n=a.next())&&!n.done;){const i=n.value;t.call(e,i[0],i[1])}},zne=(e,t)=>{let s;const a=[];for(;(s=e.exec(t))!==null;)a.push(s);return a},$ne=jd("HTMLFormElement"),Hne=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,a,n){return a.toUpperCase()+n}),DP=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),qne=jd("RegExp"),iB=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),a={};ay(s,(n,i)=>{let l;(l=t(n,i,e))!==!1&&(a[i]=l||n)}),Object.defineProperties(e,a)},Vne=e=>{iB(e,(t,s)=>{if(Xl(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const a=e[s];if(Xl(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},Wne=(e,t)=>{const s={},a=n=>{n.forEach(i=>{s[i]=!0})};return Ix(e)?a(e):a(String(e).split(t)),s},Gne=()=>{},Kne=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Yne(e){return!!(e&&Xl(e.append)&&e[tB]==="FormData"&&e[SN])}const Zne=e=>{const t=new Array(10),s=(a,n)=>{if(sy(a)){if(t.indexOf(a)>=0)return;if(ry(a))return a;if(!("toJSON"in a)){t[n]=a;const i=Ix(a)?[]:{};return ay(a,(l,o)=>{const u=s(l,n+1);!px(u)&&(i[o]=u)}),t[n]=void 0,i}}return a};return s(e,0)},Xne=jd("AsyncFunction"),Jne=e=>e&&(sy(e)||Xl(e))&&Xl(e.then)&&Xl(e.catch),lB=((e,t)=>e?setImmediate:t?((s,a)=>(Ff.addEventListener("message",({source:n,data:i})=>{n===Ff&&i===s&&a.length&&a.shift()()},!1),n=>{a.push(n),Ff.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",Xl(Ff.postMessage)),Qne=typeof queueMicrotask<"u"?queueMicrotask.bind(Ff):typeof process<"u"&&process.nextTick||lB,eie=e=>e!=null&&Xl(e[SN]),ot={isArray:Ix,isArrayBuffer:rB,isBuffer:ry,isFormData:Ane,isArrayBufferView:gne,isString:vne,isNumber:sB,isBoolean:yne,isObject:sy,isPlainObject:c2,isEmptyObject:bne,isReadableStream:kne,isRequest:Tne,isResponse:Ene,isHeaders:One,isUndefined:px,isDate:jne,isFile:Nne,isBlob:wne,isRegExp:qne,isFunction:Xl,isStream:_ne,isURLSearchParams:Cne,isTypedArray:Bne,isFileList:Sne,forEach:ay,merge:g_,extend:Dne,trim:Pne,stripBOM:Rne,inherits:Mne,toFlatObject:Lne,kindOf:_N,kindOfTest:jd,endsWith:Ine,toArray:Fne,forEachEntry:Une,matchAll:zne,isHTMLForm:$ne,hasOwnProperty:DP,hasOwnProp:DP,reduceDescriptors:iB,freezeMethods:Vne,toObjectSet:Wne,toCamelCase:Hne,noop:Gne,toFiniteNumber:Kne,findKey:aB,global:Ff,isContextDefined:nB,isSpecCompliantForm:Yne,toJSONObject:Zne,isAsyncFn:Xne,isThenable:Jne,setImmediate:lB,asap:Qne,isIterable:eie};function Ir(e,t,s,a,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),a&&(this.request=a),n&&(this.response=n,this.status=n.status?n.status:null)}ot.inherits(Ir,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ot.toJSONObject(this.config),code:this.code,status:this.status}}});const oB=Ir.prototype,cB={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{cB[e]={value:e}});Object.defineProperties(Ir,cB);Object.defineProperty(oB,"isAxiosError",{value:!0});Ir.from=(e,t,s,a,n,i)=>{const l=Object.create(oB);ot.toFlatObject(e,l,function(m){return m!==Error.prototype},d=>d!=="isAxiosError");const o=e&&e.message?e.message:"Error",u=t==null&&e?e.code:t;return Ir.call(l,o,u,s,a,n),e&&l.cause==null&&Object.defineProperty(l,"cause",{value:e,configurable:!0}),l.name=e&&e.name||"Error",i&&Object.assign(l,i),l};const tie=null;function v_(e){return ot.isPlainObject(e)||ot.isArray(e)}function dB(e){return ot.endsWith(e,"[]")?e.slice(0,-2):e}function RP(e,t,s){return e?e.concat(t).map(function(n,i){return n=dB(n),!s&&i?"["+n+"]":n}).join(s?".":""):t}function rie(e){return ot.isArray(e)&&!e.some(v_)}const sie=ot.toFlatObject(ot,{},null,function(t){return/^is[A-Z]/.test(t)});function CN(e,t,s){if(!ot.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=ot.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,j){return!ot.isUndefined(j[v])});const a=s.metaTokens,n=s.visitor||m,i=s.dots,l=s.indexes,u=(s.Blob||typeof Blob<"u"&&Blob)&&ot.isSpecCompliantForm(t);if(!ot.isFunction(n))throw new TypeError("visitor must be a function");function d(y){if(y===null)return"";if(ot.isDate(y))return y.toISOString();if(ot.isBoolean(y))return y.toString();if(!u&&ot.isBlob(y))throw new Ir("Blob is not supported. Use a Buffer instead.");return ot.isArrayBuffer(y)||ot.isTypedArray(y)?u&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function m(y,v,j){let N=y;if(y&&!j&&typeof y=="object"){if(ot.endsWith(v,"{}"))v=a?v:v.slice(0,-2),y=JSON.stringify(y);else if(ot.isArray(y)&&rie(y)||(ot.isFileList(y)||ot.endsWith(v,"[]"))&&(N=ot.toArray(y)))return v=dB(v),N.forEach(function(w,A){!(ot.isUndefined(w)||w===null)&&t.append(l===!0?RP([v],A,i):l===null?v:v+"[]",d(w))}),!1}return v_(y)?!0:(t.append(RP(j,v,i),d(y)),!1)}const f=[],g=Object.assign(sie,{defaultVisitor:m,convertValue:d,isVisitable:v_});function p(y,v){if(!ot.isUndefined(y)){if(f.indexOf(y)!==-1)throw Error("Circular reference detected in "+v.join("."));f.push(y),ot.forEach(y,function(N,k){(!(ot.isUndefined(N)||N===null)&&n.call(t,N,ot.isString(k)?k.trim():k,v,g))===!0&&p(N,v?v.concat(k):[k])}),f.pop()}}if(!ot.isObject(e))throw new TypeError("data must be an object");return p(e),t}function MP(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function w6(e,t){this._pairs=[],e&&CN(e,this,t)}const uB=w6.prototype;uB.append=function(t,s){this._pairs.push([t,s])};uB.toString=function(t){const s=t?function(a){return t.call(this,a,MP)}:MP;return this._pairs.map(function(n){return s(n[0])+"="+s(n[1])},"").join("&")};function aie(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function hB(e,t,s){if(!t)return e;const a=s&&s.encode||aie;ot.isFunction(s)&&(s={serialize:s});const n=s&&s.serialize;let i;if(n?i=n(t,s):i=ot.isURLSearchParams(t)?t.toString():new w6(t,s).toString(a),i){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class LP{constructor(){this.handlers=[]}use(t,s,a){return this.handlers.push({fulfilled:t,rejected:s,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ot.forEach(this.handlers,function(a){a!==null&&t(a)})}}const mB={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},nie=typeof URLSearchParams<"u"?URLSearchParams:w6,iie=typeof FormData<"u"?FormData:null,lie=typeof Blob<"u"?Blob:null,oie={isBrowser:!0,classes:{URLSearchParams:nie,FormData:iie,Blob:lie},protocols:["http","https","file","blob","url","data"]},S6=typeof window<"u"&&typeof document<"u",y_=typeof navigator=="object"&&navigator||void 0,cie=S6&&(!y_||["ReactNative","NativeScript","NS"].indexOf(y_.product)<0),die=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",uie=S6&&window.location.href||"http://localhost",hie=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:S6,hasStandardBrowserEnv:cie,hasStandardBrowserWebWorkerEnv:die,navigator:y_,origin:uie},Symbol.toStringTag,{value:"Module"})),Qi={...hie,...oie};function mie(e,t){return CN(e,new Qi.classes.URLSearchParams,{visitor:function(s,a,n,i){return Qi.isNode&&ot.isBuffer(s)?(this.append(a,s.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function fie(e){return ot.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function pie(e){const t={},s=Object.keys(e);let a;const n=s.length;let i;for(a=0;a<n;a++)i=s[a],t[i]=e[i];return t}function fB(e){function t(s,a,n,i){let l=s[i++];if(l==="__proto__")return!0;const o=Number.isFinite(+l),u=i>=s.length;return l=!l&&ot.isArray(n)?n.length:l,u?(ot.hasOwnProp(n,l)?n[l]=[n[l],a]:n[l]=a,!o):((!n[l]||!ot.isObject(n[l]))&&(n[l]=[]),t(s,a,n[l],i)&&ot.isArray(n[l])&&(n[l]=pie(n[l])),!o)}if(ot.isFormData(e)&&ot.isFunction(e.entries)){const s={};return ot.forEachEntry(e,(a,n)=>{t(fie(a),n,s,0)}),s}return null}function xie(e,t,s){if(ot.isString(e))try{return(t||JSON.parse)(e),ot.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(s||JSON.stringify)(e)}const ny={transitional:mB,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const a=s.getContentType()||"",n=a.indexOf("application/json")>-1,i=ot.isObject(t);if(i&&ot.isHTMLForm(t)&&(t=new FormData(t)),ot.isFormData(t))return n?JSON.stringify(fB(t)):t;if(ot.isArrayBuffer(t)||ot.isBuffer(t)||ot.isStream(t)||ot.isFile(t)||ot.isBlob(t)||ot.isReadableStream(t))return t;if(ot.isArrayBufferView(t))return t.buffer;if(ot.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(i){if(a.indexOf("application/x-www-form-urlencoded")>-1)return mie(t,this.formSerializer).toString();if((o=ot.isFileList(t))||a.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return CN(o?{"files[]":t}:t,u&&new u,this.formSerializer)}}return i||n?(s.setContentType("application/json",!1),xie(t)):t}],transformResponse:[function(t){const s=this.transitional||ny.transitional,a=s&&s.forcedJSONParsing,n=this.responseType==="json";if(ot.isResponse(t)||ot.isReadableStream(t))return t;if(t&&ot.isString(t)&&(a&&!this.responseType||n)){const l=!(s&&s.silentJSONParsing)&&n;try{return JSON.parse(t,this.parseReviver)}catch(o){if(l)throw o.name==="SyntaxError"?Ir.from(o,Ir.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Qi.classes.FormData,Blob:Qi.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ot.forEach(["delete","get","head","post","put","patch"],e=>{ny.headers[e]={}});const gie=ot.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),vie=e=>{const t={};let s,a,n;return e&&e.split(`
`).forEach(function(l){n=l.indexOf(":"),s=l.substring(0,n).trim().toLowerCase(),a=l.substring(n+1).trim(),!(!s||t[s]&&gie[s])&&(s==="set-cookie"?t[s]?t[s].push(a):t[s]=[a]:t[s]=t[s]?t[s]+", "+a:a)}),t},IP=Symbol("internals");function zg(e){return e&&String(e).trim().toLowerCase()}function d2(e){return e===!1||e==null?e:ot.isArray(e)?e.map(d2):String(e)}function yie(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=s.exec(e);)t[a[1]]=a[2];return t}const bie=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function j4(e,t,s,a,n){if(ot.isFunction(a))return a.call(this,t,s);if(n&&(t=s),!!ot.isString(t)){if(ot.isString(a))return t.indexOf(a)!==-1;if(ot.isRegExp(a))return a.test(t)}}function jie(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,a)=>s.toUpperCase()+a)}function Nie(e,t){const s=ot.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+s,{value:function(n,i,l){return this[a].call(this,t,n,i,l)},configurable:!0})})}let Jl=class{constructor(t){t&&this.set(t)}set(t,s,a){const n=this;function i(o,u,d){const m=zg(u);if(!m)throw new Error("header name must be a non-empty string");const f=ot.findKey(n,m);(!f||n[f]===void 0||d===!0||d===void 0&&n[f]!==!1)&&(n[f||u]=d2(o))}const l=(o,u)=>ot.forEach(o,(d,m)=>i(d,m,u));if(ot.isPlainObject(t)||t instanceof this.constructor)l(t,s);else if(ot.isString(t)&&(t=t.trim())&&!bie(t))l(vie(t),s);else if(ot.isObject(t)&&ot.isIterable(t)){let o={},u,d;for(const m of t){if(!ot.isArray(m))throw TypeError("Object iterator must return a key-value pair");o[d=m[0]]=(u=o[d])?ot.isArray(u)?[...u,m[1]]:[u,m[1]]:m[1]}l(o,s)}else t!=null&&i(s,t,a);return this}get(t,s){if(t=zg(t),t){const a=ot.findKey(this,t);if(a){const n=this[a];if(!s)return n;if(s===!0)return yie(n);if(ot.isFunction(s))return s.call(this,n,a);if(ot.isRegExp(s))return s.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=zg(t),t){const a=ot.findKey(this,t);return!!(a&&this[a]!==void 0&&(!s||j4(this,this[a],a,s)))}return!1}delete(t,s){const a=this;let n=!1;function i(l){if(l=zg(l),l){const o=ot.findKey(a,l);o&&(!s||j4(a,a[o],o,s))&&(delete a[o],n=!0)}}return ot.isArray(t)?t.forEach(i):i(t),n}clear(t){const s=Object.keys(this);let a=s.length,n=!1;for(;a--;){const i=s[a];(!t||j4(this,this[i],i,t,!0))&&(delete this[i],n=!0)}return n}normalize(t){const s=this,a={};return ot.forEach(this,(n,i)=>{const l=ot.findKey(a,i);if(l){s[l]=d2(n),delete s[i];return}const o=t?jie(i):String(i).trim();o!==i&&delete s[i],s[o]=d2(n),a[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return ot.forEach(this,(a,n)=>{a!=null&&a!==!1&&(s[n]=t&&ot.isArray(a)?a.join(", "):a)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const a=new this(t);return s.forEach(n=>a.set(n)),a}static accessor(t){const a=(this[IP]=this[IP]={accessors:{}}).accessors,n=this.prototype;function i(l){const o=zg(l);a[o]||(Nie(n,l),a[o]=!0)}return ot.isArray(t)?t.forEach(i):i(t),this}};Jl.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ot.reduceDescriptors(Jl.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(a){this[s]=a}}});ot.freezeMethods(Jl);function N4(e,t){const s=this||ny,a=t||s,n=Jl.from(a.headers);let i=a.data;return ot.forEach(e,function(o){i=o.call(s,i,n.normalize(),t?t.status:void 0)}),n.normalize(),i}function pB(e){return!!(e&&e.__CANCEL__)}function Fx(e,t,s){Ir.call(this,e??"canceled",Ir.ERR_CANCELED,t,s),this.name="CanceledError"}ot.inherits(Fx,Ir,{__CANCEL__:!0});function xB(e,t,s){const a=s.config.validateStatus;!s.status||!a||a(s.status)?e(s):t(new Ir("Request failed with status code "+s.status,[Ir.ERR_BAD_REQUEST,Ir.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function wie(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Sie(e,t){e=e||10;const s=new Array(e),a=new Array(e);let n=0,i=0,l;return t=t!==void 0?t:1e3,function(u){const d=Date.now(),m=a[i];l||(l=d),s[n]=u,a[n]=d;let f=i,g=0;for(;f!==n;)g+=s[f++],f=f%e;if(n=(n+1)%e,n===i&&(i=(i+1)%e),d-l<t)return;const p=m&&d-m;return p?Math.round(g*1e3/p):void 0}}function _ie(e,t){let s=0,a=1e3/t,n,i;const l=(d,m=Date.now())=>{s=m,n=null,i&&(clearTimeout(i),i=null),e(...d)};return[(...d)=>{const m=Date.now(),f=m-s;f>=a?l(d,m):(n=d,i||(i=setTimeout(()=>{i=null,l(n)},a-f)))},()=>n&&l(n)]}const z2=(e,t,s=3)=>{let a=0;const n=Sie(50,250);return _ie(i=>{const l=i.loaded,o=i.lengthComputable?i.total:void 0,u=l-a,d=n(u),m=l<=o;a=l;const f={loaded:l,total:o,progress:o?l/o:void 0,bytes:u,rate:d||void 0,estimated:d&&o&&m?(o-l)/d:void 0,event:i,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(f)},s)},FP=(e,t)=>{const s=e!=null;return[a=>t[0]({lengthComputable:s,total:e,loaded:a}),t[1]]},BP=e=>(...t)=>ot.asap(()=>e(...t)),Aie=Qi.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,Qi.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(Qi.origin),Qi.navigator&&/(msie|trident)/i.test(Qi.navigator.userAgent)):()=>!0,Cie=Qi.hasStandardBrowserEnv?{write(e,t,s,a,n,i,l){if(typeof document>"u")return;const o=[`${e}=${encodeURIComponent(t)}`];ot.isNumber(s)&&o.push(`expires=${new Date(s).toUTCString()}`),ot.isString(a)&&o.push(`path=${a}`),ot.isString(n)&&o.push(`domain=${n}`),i===!0&&o.push("secure"),ot.isString(l)&&o.push(`SameSite=${l}`),document.cookie=o.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function kie(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Tie(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function gB(e,t,s){let a=!kie(t);return e&&(a||s==!1)?Tie(e,t):t}const UP=e=>e instanceof Jl?{...e}:e;function r0(e,t){t=t||{};const s={};function a(d,m,f,g){return ot.isPlainObject(d)&&ot.isPlainObject(m)?ot.merge.call({caseless:g},d,m):ot.isPlainObject(m)?ot.merge({},m):ot.isArray(m)?m.slice():m}function n(d,m,f,g){if(ot.isUndefined(m)){if(!ot.isUndefined(d))return a(void 0,d,f,g)}else return a(d,m,f,g)}function i(d,m){if(!ot.isUndefined(m))return a(void 0,m)}function l(d,m){if(ot.isUndefined(m)){if(!ot.isUndefined(d))return a(void 0,d)}else return a(void 0,m)}function o(d,m,f){if(f in t)return a(d,m);if(f in e)return a(void 0,d)}const u={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:o,headers:(d,m,f)=>n(UP(d),UP(m),f,!0)};return ot.forEach(Object.keys({...e,...t}),function(m){const f=u[m]||n,g=f(e[m],t[m],m);ot.isUndefined(g)&&f!==o||(s[m]=g)}),s}const vB=e=>{const t=r0({},e);let{data:s,withXSRFToken:a,xsrfHeaderName:n,xsrfCookieName:i,headers:l,auth:o}=t;if(t.headers=l=Jl.from(l),t.url=hB(gB(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),ot.isFormData(s)){if(Qi.hasStandardBrowserEnv||Qi.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(ot.isFunction(s.getHeaders)){const u=s.getHeaders(),d=["content-type","content-length"];Object.entries(u).forEach(([m,f])=>{d.includes(m.toLowerCase())&&l.set(m,f)})}}if(Qi.hasStandardBrowserEnv&&(a&&ot.isFunction(a)&&(a=a(t)),a||a!==!1&&Aie(t.url))){const u=n&&i&&Cie.read(i);u&&l.set(n,u)}return t},Eie=typeof XMLHttpRequest<"u",Oie=Eie&&function(e){return new Promise(function(s,a){const n=vB(e);let i=n.data;const l=Jl.from(n.headers).normalize();let{responseType:o,onUploadProgress:u,onDownloadProgress:d}=n,m,f,g,p,y;function v(){p&&p(),y&&y(),n.cancelToken&&n.cancelToken.unsubscribe(m),n.signal&&n.signal.removeEventListener("abort",m)}let j=new XMLHttpRequest;j.open(n.method.toUpperCase(),n.url,!0),j.timeout=n.timeout;function N(){if(!j)return;const w=Jl.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),C={data:!o||o==="text"||o==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:w,config:e,request:j};xB(function(R){s(R),v()},function(R){a(R),v()},C),j=null}"onloadend"in j?j.onloadend=N:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(N)},j.onabort=function(){j&&(a(new Ir("Request aborted",Ir.ECONNABORTED,e,j)),j=null)},j.onerror=function(A){const C=A&&A.message?A.message:"Network Error",M=new Ir(C,Ir.ERR_NETWORK,e,j);M.event=A||null,a(M),j=null},j.ontimeout=function(){let A=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const C=n.transitional||mB;n.timeoutErrorMessage&&(A=n.timeoutErrorMessage),a(new Ir(A,C.clarifyTimeoutError?Ir.ETIMEDOUT:Ir.ECONNABORTED,e,j)),j=null},i===void 0&&l.setContentType(null),"setRequestHeader"in j&&ot.forEach(l.toJSON(),function(A,C){j.setRequestHeader(C,A)}),ot.isUndefined(n.withCredentials)||(j.withCredentials=!!n.withCredentials),o&&o!=="json"&&(j.responseType=n.responseType),d&&([g,y]=z2(d,!0),j.addEventListener("progress",g)),u&&j.upload&&([f,p]=z2(u),j.upload.addEventListener("progress",f),j.upload.addEventListener("loadend",p)),(n.cancelToken||n.signal)&&(m=w=>{j&&(a(!w||w.type?new Fx(null,e,j):w),j.abort(),j=null)},n.cancelToken&&n.cancelToken.subscribe(m),n.signal&&(n.signal.aborted?m():n.signal.addEventListener("abort",m)));const k=wie(n.url);if(k&&Qi.protocols.indexOf(k)===-1){a(new Ir("Unsupported protocol "+k+":",Ir.ERR_BAD_REQUEST,e));return}j.send(i||null)})},Pie=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let a=new AbortController,n;const i=function(d){if(!n){n=!0,o();const m=d instanceof Error?d:this.reason;a.abort(m instanceof Ir?m:new Fx(m instanceof Error?m.message:m))}};let l=t&&setTimeout(()=>{l=null,i(new Ir(`timeout ${t} of ms exceeded`,Ir.ETIMEDOUT))},t);const o=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),e=null)};e.forEach(d=>d.addEventListener("abort",i));const{signal:u}=a;return u.unsubscribe=()=>ot.asap(o),u}},Die=function*(e,t){let s=e.byteLength;if(s<t){yield e;return}let a=0,n;for(;a<s;)n=a+t,yield e.slice(a,n),a=n},Rie=async function*(e,t){for await(const s of Mie(e))yield*Die(s,t)},Mie=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:a}=await t.read();if(s)break;yield a}}finally{await t.cancel()}},zP=(e,t,s,a)=>{const n=Rie(e,t);let i=0,l,o=u=>{l||(l=!0,a&&a(u))};return new ReadableStream({async pull(u){try{const{done:d,value:m}=await n.next();if(d){o(),u.close();return}let f=m.byteLength;if(s){let g=i+=f;s(g)}u.enqueue(new Uint8Array(m))}catch(d){throw o(d),d}},cancel(u){return o(u),n.return()}},{highWaterMark:2})},$P=64*1024,{isFunction:Lb}=ot,Lie=(({Request:e,Response:t})=>({Request:e,Response:t}))(ot.global),{ReadableStream:HP,TextEncoder:qP}=ot.global,VP=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Iie=e=>{e=ot.merge.call({skipUndefined:!0},Lie,e);const{fetch:t,Request:s,Response:a}=e,n=t?Lb(t):typeof fetch=="function",i=Lb(s),l=Lb(a);if(!n)return!1;const o=n&&Lb(HP),u=n&&(typeof qP=="function"?(y=>v=>y.encode(v))(new qP):async y=>new Uint8Array(await new s(y).arrayBuffer())),d=i&&o&&VP(()=>{let y=!1;const v=new s(Qi.origin,{body:new HP,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!v}),m=l&&o&&VP(()=>ot.isReadableStream(new a("").body)),f={stream:m&&(y=>y.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!f[y]&&(f[y]=(v,j)=>{let N=v&&v[y];if(N)return N.call(v);throw new Ir(`Response type '${y}' is not supported`,Ir.ERR_NOT_SUPPORT,j)})});const g=async y=>{if(y==null)return 0;if(ot.isBlob(y))return y.size;if(ot.isSpecCompliantForm(y))return(await new s(Qi.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(ot.isArrayBufferView(y)||ot.isArrayBuffer(y))return y.byteLength;if(ot.isURLSearchParams(y)&&(y=y+""),ot.isString(y))return(await u(y)).byteLength},p=async(y,v)=>{const j=ot.toFiniteNumber(y.getContentLength());return j??g(v)};return async y=>{let{url:v,method:j,data:N,signal:k,cancelToken:w,timeout:A,onDownloadProgress:C,onUploadProgress:M,responseType:R,headers:D,withCredentials:B="same-origin",fetchOptions:z}=vB(y),I=t||fetch;R=R?(R+"").toLowerCase():"text";let F=Pie([k,w&&w.toAbortSignal()],A),Y=null;const te=F&&F.unsubscribe&&(()=>{F.unsubscribe()});let ue;try{if(M&&d&&j!=="get"&&j!=="head"&&(ue=await p(D,N))!==0){let X=new s(v,{method:"POST",body:N,duplex:"half"}),P;if(ot.isFormData(N)&&(P=X.headers.get("content-type"))&&D.setContentType(P),X.body){const[H,q]=FP(ue,z2(BP(M)));N=zP(X.body,$P,H,q)}}ot.isString(B)||(B=B?"include":"omit");const Z=i&&"credentials"in s.prototype,ie={...z,signal:F,method:j.toUpperCase(),headers:D.normalize().toJSON(),body:N,duplex:"half",credentials:Z?B:void 0};Y=i&&new s(v,ie);let G=await(i?I(Y,z):I(v,ie));const ee=m&&(R==="stream"||R==="response");if(m&&(C||ee&&te)){const X={};["status","statusText","headers"].forEach(W=>{X[W]=G[W]});const P=ot.toFiniteNumber(G.headers.get("content-length")),[H,q]=C&&FP(P,z2(BP(C),!0))||[];G=new a(zP(G.body,$P,H,()=>{q&&q(),te&&te()}),X)}R=R||"text";let Ne=await f[ot.findKey(f,R)||"text"](G,y);return!ee&&te&&te(),await new Promise((X,P)=>{xB(X,P,{data:Ne,headers:Jl.from(G.headers),status:G.status,statusText:G.statusText,config:y,request:Y})})}catch(Z){throw te&&te(),Z&&Z.name==="TypeError"&&/Load failed|fetch/i.test(Z.message)?Object.assign(new Ir("Network Error",Ir.ERR_NETWORK,y,Y),{cause:Z.cause||Z}):Ir.from(Z,Z&&Z.code,y,Y)}}},Fie=new Map,yB=e=>{let t=e&&e.env||{};const{fetch:s,Request:a,Response:n}=t,i=[a,n,s];let l=i.length,o=l,u,d,m=Fie;for(;o--;)u=i[o],d=m.get(u),d===void 0&&m.set(u,d=o?new Map:Iie(t)),m=d;return d};yB();const _6={http:tie,xhr:Oie,fetch:{get:yB}};ot.forEach(_6,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const WP=e=>`- ${e}`,Bie=e=>ot.isFunction(e)||e===null||e===!1;function Uie(e,t){e=ot.isArray(e)?e:[e];const{length:s}=e;let a,n;const i={};for(let l=0;l<s;l++){a=e[l];let o;if(n=a,!Bie(a)&&(n=_6[(o=String(a)).toLowerCase()],n===void 0))throw new Ir(`Unknown adapter '${o}'`);if(n&&(ot.isFunction(n)||(n=n.get(t))))break;i[o||"#"+l]=n}if(!n){const l=Object.entries(i).map(([u,d])=>`adapter ${u} `+(d===!1?"is not supported by the environment":"is not available in the build"));let o=s?l.length>1?`since :
`+l.map(WP).join(`
`):" "+WP(l[0]):"as no adapter specified";throw new Ir("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n}const bB={getAdapter:Uie,adapters:_6};function w4(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Fx(null,e)}function GP(e){return w4(e),e.headers=Jl.from(e.headers),e.data=N4.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),bB.getAdapter(e.adapter||ny.adapter,e)(e).then(function(a){return w4(e),a.data=N4.call(e,e.transformResponse,a),a.headers=Jl.from(a.headers),a},function(a){return pB(a)||(w4(e),a&&a.response&&(a.response.data=N4.call(e,e.transformResponse,a.response),a.response.headers=Jl.from(a.response.headers))),Promise.reject(a)})}const jB="1.13.2",kN={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{kN[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});const KP={};kN.transitional=function(t,s,a){function n(i,l){return"[Axios v"+jB+"] Transitional option '"+i+"'"+l+(a?". "+a:"")}return(i,l,o)=>{if(t===!1)throw new Ir(n(l," has been removed"+(s?" in "+s:"")),Ir.ERR_DEPRECATED);return s&&!KP[l]&&(KP[l]=!0,console.warn(n(l," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(i,l,o):!0}};kN.spelling=function(t){return(s,a)=>(console.warn(`${a} is likely a misspelling of ${t}`),!0)};function zie(e,t,s){if(typeof e!="object")throw new Ir("options must be an object",Ir.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let n=a.length;for(;n-- >0;){const i=a[n],l=t[i];if(l){const o=e[i],u=o===void 0||l(o,i,e);if(u!==!0)throw new Ir("option "+i+" must be "+u,Ir.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new Ir("Unknown option "+i,Ir.ERR_BAD_OPTION)}}const u2={assertOptions:zie,validators:kN},qd=u2.validators;let Vf=class{constructor(t){this.defaults=t||{},this.interceptors={request:new LP,response:new LP}}async request(t,s){try{return await this._request(t,s)}catch(a){if(a instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{a.stack?i&&!String(a.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+i):a.stack=i}catch{}}throw a}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=r0(this.defaults,s);const{transitional:a,paramsSerializer:n,headers:i}=s;a!==void 0&&u2.assertOptions(a,{silentJSONParsing:qd.transitional(qd.boolean),forcedJSONParsing:qd.transitional(qd.boolean),clarifyTimeoutError:qd.transitional(qd.boolean)},!1),n!=null&&(ot.isFunction(n)?s.paramsSerializer={serialize:n}:u2.assertOptions(n,{encode:qd.function,serialize:qd.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),u2.assertOptions(s,{baseUrl:qd.spelling("baseURL"),withXsrfToken:qd.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let l=i&&ot.merge(i.common,i[s.method]);i&&ot.forEach(["delete","get","head","post","put","patch","common"],y=>{delete i[y]}),s.headers=Jl.concat(l,i);const o=[];let u=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(s)===!1||(u=u&&v.synchronous,o.unshift(v.fulfilled,v.rejected))});const d=[];this.interceptors.response.forEach(function(v){d.push(v.fulfilled,v.rejected)});let m,f=0,g;if(!u){const y=[GP.bind(this),void 0];for(y.unshift(...o),y.push(...d),g=y.length,m=Promise.resolve(s);f<g;)m=m.then(y[f++],y[f++]);return m}g=o.length;let p=s;for(;f<g;){const y=o[f++],v=o[f++];try{p=y(p)}catch(j){v.call(this,j);break}}try{m=GP.call(this,p)}catch(y){return Promise.reject(y)}for(f=0,g=d.length;f<g;)m=m.then(d[f++],d[f++]);return m}getUri(t){t=r0(this.defaults,t);const s=gB(t.baseURL,t.url,t.allowAbsoluteUrls);return hB(s,t.params,t.paramsSerializer)}};ot.forEach(["delete","get","head","options"],function(t){Vf.prototype[t]=function(s,a){return this.request(r0(a||{},{method:t,url:s,data:(a||{}).data}))}});ot.forEach(["post","put","patch"],function(t){function s(a){return function(i,l,o){return this.request(r0(o||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}Vf.prototype[t]=s(),Vf.prototype[t+"Form"]=s(!0)});let $ie=class NB{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(i){s=i});const a=this;this.promise.then(n=>{if(!a._listeners)return;let i=a._listeners.length;for(;i-- >0;)a._listeners[i](n);a._listeners=null}),this.promise.then=n=>{let i;const l=new Promise(o=>{a.subscribe(o),i=o}).then(n);return l.cancel=function(){a.unsubscribe(i)},l},t(function(i,l,o){a.reason||(a.reason=new Fx(i,l,o),s(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=a=>{t.abort(a)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new NB(function(n){t=n}),cancel:t}}};function Hie(e){return function(s){return e.apply(null,s)}}function qie(e){return ot.isObject(e)&&e.isAxiosError===!0}const b_={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(b_).forEach(([e,t])=>{b_[t]=e});function wB(e){const t=new Vf(e),s=eB(Vf.prototype.request,t);return ot.extend(s,Vf.prototype,t,{allOwnKeys:!0}),ot.extend(s,t,null,{allOwnKeys:!0}),s.create=function(n){return wB(r0(e,n))},s}const yn=wB(ny);yn.Axios=Vf;yn.CanceledError=Fx;yn.CancelToken=$ie;yn.isCancel=pB;yn.VERSION=jB;yn.toFormData=CN;yn.AxiosError=Ir;yn.Cancel=yn.CanceledError;yn.all=function(t){return Promise.all(t)};yn.spread=Hie;yn.isAxiosError=qie;yn.mergeConfig=r0;yn.AxiosHeaders=Jl;yn.formToJSON=e=>fB(ot.isHTMLForm(e)?new FormData(e):e);yn.getAdapter=bB.getAdapter;yn.HttpStatusCode=b_;yn.default=yn;const{Axios:jRe,AxiosError:NRe,CanceledError:wRe,isCancel:SRe,CancelToken:_Re,VERSION:ARe,all:CRe,Cancel:kRe,isAxiosError:TRe,spread:ERe,toFormData:ORe,AxiosHeaders:PRe,HttpStatusCode:DRe,formToJSON:RRe,getAdapter:MRe,mergeConfig:LRe}=yn,Vie="http://localhost:3001/api",kn=yn.create({baseURL:Vie,headers:{"Content-Type":"application/json"}});kn.interceptors.request.use(e=>{const t=localStorage.getItem("auth_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});kn.interceptors.response.use(e=>e,e=>(e.response?.status===401&&(localStorage.removeItem("auth_token"),localStorage.removeItem("admin_user"),window.location.href="/login"),Promise.reject(e)));const $g={getAll:e=>kn.get("/orders",{params:e}),getById:e=>kn.get(`/orders/${e}`),create:e=>kn.post("/orders",e),update:(e,t)=>kn.patch(`/orders/${e}`,t),updateStatus:(e,t)=>kn.patch(`/orders/${e}/status`,{status:t}),cancel:(e,t)=>kn.post(`/orders/${e}/cancel`,{reason:t}),assignDelivery:(e,t)=>kn.post(`/orders/${e}/assign`,{agentId:t})},pm={getAll:e=>kn.get("/categories",{params:e}),getById:e=>kn.get(`/categories/${e}`),create:e=>kn.post("/categories",e),update:(e,t)=>kn.patch(`/categories/${e}`,t),delete:e=>kn.delete(`/categories/${e}`),reorder:e=>kn.post("/categories/reorder",e),bulkUpdate:e=>kn.patch("/categories/bulk",e)},Ib={getStats:()=>kn.get("/dashboard/stats"),getRecentOrders:()=>kn.get("/dashboard/recent-orders"),getLowStock:()=>kn.get("/dashboard/low-stock"),getSalesChart:e=>kn.get(`/dashboard/sales-chart?days=${e}`)},nu=Object.create(null);nu.open="0";nu.close="1";nu.ping="2";nu.pong="3";nu.message="4";nu.upgrade="5";nu.noop="6";const h2=Object.create(null);Object.keys(nu).forEach(e=>{h2[nu[e]]=e});const j_={type:"error",data:"parser error"},SB=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",_B=typeof ArrayBuffer=="function",AB=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,A6=({type:e,data:t},s,a)=>SB&&t instanceof Blob?s?a(t):YP(t,a):_B&&(t instanceof ArrayBuffer||AB(t))?s?a(t):YP(new Blob([t]),a):a(nu[e]+(t||"")),YP=(e,t)=>{const s=new FileReader;return s.onload=function(){const a=s.result.split(",")[1];t("b"+(a||""))},s.readAsDataURL(e)};function ZP(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let S4;function Wie(e,t){if(SB&&e.data instanceof Blob)return e.data.arrayBuffer().then(ZP).then(t);if(_B&&(e.data instanceof ArrayBuffer||AB(e.data)))return t(ZP(e.data));A6(e,!1,s=>{S4||(S4=new TextEncoder),t(S4.encode(s))})}const XP="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lv=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<XP.length;e++)lv[XP.charCodeAt(e)]=e;const Gie=e=>{let t=e.length*.75,s=e.length,a,n=0,i,l,o,u;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const d=new ArrayBuffer(t),m=new Uint8Array(d);for(a=0;a<s;a+=4)i=lv[e.charCodeAt(a)],l=lv[e.charCodeAt(a+1)],o=lv[e.charCodeAt(a+2)],u=lv[e.charCodeAt(a+3)],m[n++]=i<<2|l>>4,m[n++]=(l&15)<<4|o>>2,m[n++]=(o&3)<<6|u&63;return d},Kie=typeof ArrayBuffer=="function",C6=(e,t)=>{if(typeof e!="string")return{type:"message",data:CB(e,t)};const s=e.charAt(0);return s==="b"?{type:"message",data:Yie(e.substring(1),t)}:h2[s]?e.length>1?{type:h2[s],data:e.substring(1)}:{type:h2[s]}:j_},Yie=(e,t)=>{if(Kie){const s=Gie(e);return CB(s,t)}else return{base64:!0,data:e}},CB=(e,t)=>t==="blob"?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,kB="",Zie=(e,t)=>{const s=e.length,a=new Array(s);let n=0;e.forEach((i,l)=>{A6(i,!1,o=>{a[l]=o,++n===s&&t(a.join(kB))})})},Xie=(e,t)=>{const s=e.split(kB),a=[];for(let n=0;n<s.length;n++){const i=C6(s[n],t);if(a.push(i),i.type==="error")break}return a};function Jie(){return new TransformStream({transform(e,t){Wie(e,s=>{const a=s.length;let n;if(a<126)n=new Uint8Array(1),new DataView(n.buffer).setUint8(0,a);else if(a<65536){n=new Uint8Array(3);const i=new DataView(n.buffer);i.setUint8(0,126),i.setUint16(1,a)}else{n=new Uint8Array(9);const i=new DataView(n.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(a))}e.data&&typeof e.data!="string"&&(n[0]|=128),t.enqueue(n),t.enqueue(s)})}})}let _4;function Fb(e){return e.reduce((t,s)=>t+s.length,0)}function Bb(e,t){if(e[0].length===t)return e.shift();const s=new Uint8Array(t);let a=0;for(let n=0;n<t;n++)s[n]=e[0][a++],a===e[0].length&&(e.shift(),a=0);return e.length&&a<e[0].length&&(e[0]=e[0].slice(a)),s}function Qie(e,t){_4||(_4=new TextDecoder);const s=[];let a=0,n=-1,i=!1;return new TransformStream({transform(l,o){for(s.push(l);;){if(a===0){if(Fb(s)<1)break;const u=Bb(s,1);i=(u[0]&128)===128,n=u[0]&127,n<126?a=3:n===126?a=1:a=2}else if(a===1){if(Fb(s)<2)break;const u=Bb(s,2);n=new DataView(u.buffer,u.byteOffset,u.length).getUint16(0),a=3}else if(a===2){if(Fb(s)<8)break;const u=Bb(s,8),d=new DataView(u.buffer,u.byteOffset,u.length),m=d.getUint32(0);if(m>Math.pow(2,21)-1){o.enqueue(j_);break}n=m*Math.pow(2,32)+d.getUint32(4),a=3}else{if(Fb(s)<n)break;const u=Bb(s,n);o.enqueue(C6(i?u:_4.decode(u),t)),a=0}if(n===0||n>e){o.enqueue(j_);break}}}})}const TB=4;function En(e){if(e)return ele(e)}function ele(e){for(var t in En.prototype)e[t]=En.prototype[t];return e}En.prototype.on=En.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};En.prototype.once=function(e,t){function s(){this.off(e,s),t.apply(this,arguments)}return s.fn=t,this.on(e,s),this};En.prototype.off=En.prototype.removeListener=En.prototype.removeAllListeners=En.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+e];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var a,n=0;n<s.length;n++)if(a=s[n],a===t||a.fn===t){s.splice(n,1);break}return s.length===0&&delete this._callbacks["$"+e],this};En.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),s=this._callbacks["$"+e],a=1;a<arguments.length;a++)t[a-1]=arguments[a];if(s){s=s.slice(0);for(var a=0,n=s.length;a<n;++a)s[a].apply(this,t)}return this};En.prototype.emitReserved=En.prototype.emit;En.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};En.prototype.hasListeners=function(e){return!!this.listeners(e).length};const TN=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,s)=>s(t,0),pc=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),tle="arraybuffer";function EB(e,...t){return t.reduce((s,a)=>(e.hasOwnProperty(a)&&(s[a]=e[a]),s),{})}const rle=pc.setTimeout,sle=pc.clearTimeout;function EN(e,t){t.useNativeTimers?(e.setTimeoutFn=rle.bind(pc),e.clearTimeoutFn=sle.bind(pc)):(e.setTimeoutFn=pc.setTimeout.bind(pc),e.clearTimeoutFn=pc.clearTimeout.bind(pc))}const ale=1.33;function nle(e){return typeof e=="string"?ile(e):Math.ceil((e.byteLength||e.size)*ale)}function ile(e){let t=0,s=0;for(let a=0,n=e.length;a<n;a++)t=e.charCodeAt(a),t<128?s+=1:t<2048?s+=2:t<55296||t>=57344?s+=3:(a++,s+=4);return s}function OB(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function lle(e){let t="";for(let s in e)e.hasOwnProperty(s)&&(t.length&&(t+="&"),t+=encodeURIComponent(s)+"="+encodeURIComponent(e[s]));return t}function ole(e){let t={},s=e.split("&");for(let a=0,n=s.length;a<n;a++){let i=s[a].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}class cle extends Error{constructor(t,s,a){super(t),this.description=s,this.context=a,this.type="TransportError"}}class k6 extends En{constructor(t){super(),this.writable=!1,EN(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,s,a){return super.emitReserved("error",new cle(t,s,a)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const s=C6(t,this.socket.binaryType);this.onPacket(s)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,s={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(s)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const s=lle(t);return s.length?"?"+s:""}}class dle extends k6{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const s=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let a=0;this._polling&&(a++,this.once("pollComplete",function(){--a||s()})),this.writable||(a++,this.once("drain",function(){--a||s()}))}else s()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const s=a=>{if(this.readyState==="opening"&&a.type==="open"&&this.onOpen(),a.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(a)};Xie(t,this.socket.binaryType).forEach(s),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,Zie(t,s=>{this.doWrite(s,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",s=this.query||{};return this.opts.timestampRequests!==!1&&(s[this.opts.timestampParam]=OB()),!this.supportsBinary&&!s.sid&&(s.b64=1),this.createUri(t,s)}}let PB=!1;try{PB=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const ule=PB;function hle(){}class mle extends dle{constructor(t){if(super(t),typeof location<"u"){const s=location.protocol==="https:";let a=location.port;a||(a=s?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||a!==t.port}}doWrite(t,s){const a=this.request({method:"POST",data:t});a.on("success",s),a.on("error",(n,i)=>{this.onError("xhr post error",n,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(s,a)=>{this.onError("xhr poll error",s,a)}),this.pollXhr=t}}class Qd extends En{constructor(t,s,a){super(),this.createRequest=t,EN(this,a),this._opts=a,this._method=a.method||"GET",this._uri=s,this._data=a.data!==void 0?a.data:null,this._create()}_create(){var t;const s=EB(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");s.xdomain=!!this._opts.xd;const a=this._xhr=this.createRequest(s);try{a.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){a.setDisableHeaderCheck&&a.setDisableHeaderCheck(!0);for(let n in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(n)&&a.setRequestHeader(n,this._opts.extraHeaders[n])}}catch{}if(this._method==="POST")try{a.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{a.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(a),"withCredentials"in a&&(a.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(a.timeout=this._opts.requestTimeout),a.onreadystatechange=()=>{var n;a.readyState===3&&((n=this._opts.cookieJar)===null||n===void 0||n.parseCookies(a.getResponseHeader("set-cookie"))),a.readyState===4&&(a.status===200||a.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof a.status=="number"?a.status:0)},0))},a.send(this._data)}catch(n){this.setTimeoutFn(()=>{this._onError(n)},0);return}typeof document<"u"&&(this._index=Qd.requestsCount++,Qd.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=hle,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Qd.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Qd.requestsCount=0;Qd.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",JP);else if(typeof addEventListener=="function"){const e="onpagehide"in pc?"pagehide":"unload";addEventListener(e,JP,!1)}}function JP(){for(let e in Qd.requests)Qd.requests.hasOwnProperty(e)&&Qd.requests[e].abort()}const fle=(function(){const e=DB({xdomain:!1});return e&&e.responseType!==null})();class ple extends mle{constructor(t){super(t);const s=t&&t.forceBase64;this.supportsBinary=fle&&!s}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Qd(DB,this.uri(),t)}}function DB(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||ule))return new XMLHttpRequest}catch{}if(!t)try{return new pc[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const RB=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class xle extends k6{get name(){return"websocket"}doOpen(){const t=this.uri(),s=this.opts.protocols,a=RB?{}:EB(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(a.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,s,a)}catch(n){return this.emitReserved("error",n)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let s=0;s<t.length;s++){const a=t[s],n=s===t.length-1;A6(a,this.supportsBinary,i=>{try{this.doWrite(a,i)}catch{}n&&TN(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",s=this.query||{};return this.opts.timestampRequests&&(s[this.opts.timestampParam]=OB()),this.supportsBinary||(s.b64=1),this.createUri(t,s)}}const A4=pc.WebSocket||pc.MozWebSocket;class gle extends xle{createSocket(t,s,a){return RB?new A4(t,s,a):s?new A4(t,s):new A4(t)}doWrite(t,s){this.ws.send(s)}}class vle extends k6{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const s=Qie(Number.MAX_SAFE_INTEGER,this.socket.binaryType),a=t.readable.pipeThrough(s).getReader(),n=Jie();n.readable.pipeTo(t.writable),this._writer=n.writable.getWriter();const i=()=>{a.read().then(({done:o,value:u})=>{o||(this.onPacket(u),i())}).catch(o=>{})};i();const l={type:"open"};this.query.sid&&(l.data=`{"sid":"${this.query.sid}"}`),this._writer.write(l).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let s=0;s<t.length;s++){const a=t[s],n=s===t.length-1;this._writer.write(a).then(()=>{n&&TN(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const yle={websocket:gle,webtransport:vle,polling:ple},ble=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,jle=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function N_(e){if(e.length>8e3)throw"URI too long";const t=e,s=e.indexOf("["),a=e.indexOf("]");s!=-1&&a!=-1&&(e=e.substring(0,s)+e.substring(s,a).replace(/:/g,";")+e.substring(a,e.length));let n=ble.exec(e||""),i={},l=14;for(;l--;)i[jle[l]]=n[l]||"";return s!=-1&&a!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=Nle(i,i.path),i.queryKey=wle(i,i.query),i}function Nle(e,t){const s=/\/{2,9}/g,a=t.replace(s,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&a.splice(0,1),t.slice(-1)=="/"&&a.splice(a.length-1,1),a}function wle(e,t){const s={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(a,n,i){n&&(s[n]=i)}),s}const w_=typeof addEventListener=="function"&&typeof removeEventListener=="function",m2=[];w_&&addEventListener("offline",()=>{m2.forEach(e=>e())},!1);class Om extends En{constructor(t,s){if(super(),this.binaryType=tle,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(s=t,t=null),t){const a=N_(t);s.hostname=a.host,s.secure=a.protocol==="https"||a.protocol==="wss",s.port=a.port,a.query&&(s.query=a.query)}else s.host&&(s.hostname=N_(s.host).host);EN(this,s),this.secure=s.secure!=null?s.secure:typeof location<"u"&&location.protocol==="https:",s.hostname&&!s.port&&(s.port=this.secure?"443":"80"),this.hostname=s.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=s.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},s.transports.forEach(a=>{const n=a.prototype.name;this.transports.push(n),this._transportsByName[n]=a}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},s),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=ole(this.opts.query)),w_&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},m2.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const s=Object.assign({},this.opts.query);s.EIO=TB,s.transport=t,this.id&&(s.sid=this.id);const a=Object.assign({},this.opts,{query:s,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](a)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Om.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const s=this.createTransport(t);s.open(),this.setTransport(s)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",s=>this._onClose("transport close",s))}onOpen(){this.readyState="open",Om.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const s=new Error("server error");s.code=t.data,this._onError(s);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let s=1;for(let a=0;a<this.writeBuffer.length;a++){const n=this.writeBuffer[a].data;if(n&&(s+=nle(n)),a>0&&s>this._maxPayload)return this.writeBuffer.slice(0,a);s+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,TN(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,s,a){return this._sendPacket("message",t,s,a),this}send(t,s,a){return this._sendPacket("message",t,s,a),this}_sendPacket(t,s,a,n){if(typeof s=="function"&&(n=s,s=void 0),typeof a=="function"&&(n=a,a=null),this.readyState==="closing"||this.readyState==="closed")return;a=a||{},a.compress=a.compress!==!1;const i={type:t,data:s,options:a};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),n&&this.once("flush",n),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},s=()=>{this.off("upgrade",s),this.off("upgradeError",s),t()},a=()=>{this.once("upgrade",s),this.once("upgradeError",s)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?a():t()}):this.upgrading?a():t()),this}_onError(t){if(Om.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,s){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),w_&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const a=m2.indexOf(this._offlineEventListener);a!==-1&&m2.splice(a,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,s),this.writeBuffer=[],this._prevBufferLen=0}}}Om.protocol=TB;class Sle extends Om{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let s=this.createTransport(t),a=!1;Om.priorWebsocketSuccess=!1;const n=()=>{a||(s.send([{type:"ping",data:"probe"}]),s.once("packet",f=>{if(!a)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",s),!s)return;Om.priorWebsocketSuccess=s.name==="websocket",this.transport.pause(()=>{a||this.readyState!=="closed"&&(m(),this.setTransport(s),s.send([{type:"upgrade"}]),this.emitReserved("upgrade",s),s=null,this.upgrading=!1,this.flush())})}else{const g=new Error("probe error");g.transport=s.name,this.emitReserved("upgradeError",g)}}))};function i(){a||(a=!0,m(),s.close(),s=null)}const l=f=>{const g=new Error("probe error: "+f);g.transport=s.name,i(),this.emitReserved("upgradeError",g)};function o(){l("transport closed")}function u(){l("socket closed")}function d(f){s&&f.name!==s.name&&i()}const m=()=>{s.removeListener("open",n),s.removeListener("error",l),s.removeListener("close",o),this.off("close",u),this.off("upgrading",d)};s.once("open",n),s.once("error",l),s.once("close",o),this.once("close",u),this.once("upgrading",d),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{a||s.open()},200):s.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const s=[];for(let a=0;a<t.length;a++)~this.transports.indexOf(t[a])&&s.push(t[a]);return s}}let _le=class extends Sle{constructor(t,s={}){const a=typeof t=="object"?t:s;(!a.transports||a.transports&&typeof a.transports[0]=="string")&&(a.transports=(a.transports||["polling","websocket","webtransport"]).map(n=>yle[n]).filter(n=>!!n)),super(t,a)}};function Ale(e,t="",s){let a=e;s=s||typeof location<"u"&&location,e==null&&(e=s.protocol+"//"+s.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=s.protocol+e:e=s.host+e),/^(https?|wss?):\/\//.test(e)||(typeof s<"u"?e=s.protocol+"//"+e:e="https://"+e),a=N_(e)),a.port||(/^(http|ws)$/.test(a.protocol)?a.port="80":/^(http|ws)s$/.test(a.protocol)&&(a.port="443")),a.path=a.path||"/";const i=a.host.indexOf(":")!==-1?"["+a.host+"]":a.host;return a.id=a.protocol+"://"+i+":"+a.port+t,a.href=a.protocol+"://"+i+(s&&s.port===a.port?"":":"+a.port),a}const Cle=typeof ArrayBuffer=="function",kle=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,MB=Object.prototype.toString,Tle=typeof Blob=="function"||typeof Blob<"u"&&MB.call(Blob)==="[object BlobConstructor]",Ele=typeof File=="function"||typeof File<"u"&&MB.call(File)==="[object FileConstructor]";function T6(e){return Cle&&(e instanceof ArrayBuffer||kle(e))||Tle&&e instanceof Blob||Ele&&e instanceof File}function f2(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let s=0,a=e.length;s<a;s++)if(f2(e[s]))return!0;return!1}if(T6(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return f2(e.toJSON(),!0);for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&f2(e[s]))return!0;return!1}function Ole(e){const t=[],s=e.data,a=e;return a.data=S_(s,t),a.attachments=t.length,{packet:a,buffers:t}}function S_(e,t){if(!e)return e;if(T6(e)){const s={_placeholder:!0,num:t.length};return t.push(e),s}else if(Array.isArray(e)){const s=new Array(e.length);for(let a=0;a<e.length;a++)s[a]=S_(e[a],t);return s}else if(typeof e=="object"&&!(e instanceof Date)){const s={};for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&(s[a]=S_(e[a],t));return s}return e}function Ple(e,t){return e.data=__(e.data,t),delete e.attachments,e}function __(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let s=0;s<e.length;s++)e[s]=__(e[s],t);else if(typeof e=="object")for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(e[s]=__(e[s],t));return e}const LB=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Dle=5;var qr;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(qr||(qr={}));class Rle{constructor(t){this.replacer=t}encode(t){return(t.type===qr.EVENT||t.type===qr.ACK)&&f2(t)?this.encodeAsBinary({type:t.type===qr.EVENT?qr.BINARY_EVENT:qr.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let s=""+t.type;return(t.type===qr.BINARY_EVENT||t.type===qr.BINARY_ACK)&&(s+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(s+=t.nsp+","),t.id!=null&&(s+=t.id),t.data!=null&&(s+=JSON.stringify(t.data,this.replacer)),s}encodeAsBinary(t){const s=Ole(t),a=this.encodeAsString(s.packet),n=s.buffers;return n.unshift(a),n}}class E6 extends En{constructor(t){super(),this.reviver=t}add(t){let s;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");s=this.decodeString(t);const a=s.type===qr.BINARY_EVENT;a||s.type===qr.BINARY_ACK?(s.type=a?qr.EVENT:qr.ACK,this.reconstructor=new Mle(s),s.attachments===0&&super.emitReserved("decoded",s)):super.emitReserved("decoded",s)}else if(T6(t)||t.base64)if(this.reconstructor)s=this.reconstructor.takeBinaryData(t),s&&(this.reconstructor=null,super.emitReserved("decoded",s));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let s=0;const a={type:Number(t.charAt(0))};if(qr[a.type]===void 0)throw new Error("unknown packet type "+a.type);if(a.type===qr.BINARY_EVENT||a.type===qr.BINARY_ACK){const i=s+1;for(;t.charAt(++s)!=="-"&&s!=t.length;);const l=t.substring(i,s);if(l!=Number(l)||t.charAt(s)!=="-")throw new Error("Illegal attachments");a.attachments=Number(l)}if(t.charAt(s+1)==="/"){const i=s+1;for(;++s&&!(t.charAt(s)===","||s===t.length););a.nsp=t.substring(i,s)}else a.nsp="/";const n=t.charAt(s+1);if(n!==""&&Number(n)==n){const i=s+1;for(;++s;){const l=t.charAt(s);if(l==null||Number(l)!=l){--s;break}if(s===t.length)break}a.id=Number(t.substring(i,s+1))}if(t.charAt(++s)){const i=this.tryParse(t.substr(s));if(E6.isPayloadValid(a.type,i))a.data=i;else throw new Error("invalid payload")}return a}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,s){switch(t){case qr.CONNECT:return $2(s);case qr.DISCONNECT:return s===void 0;case qr.CONNECT_ERROR:return typeof s=="string"||$2(s);case qr.EVENT:case qr.BINARY_EVENT:return Array.isArray(s)&&(typeof s[0]=="number"||typeof s[0]=="string"&&LB.indexOf(s[0])===-1);case qr.ACK:case qr.BINARY_ACK:return Array.isArray(s)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Mle{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const s=Ple(this.reconPack,this.buffers);return this.finishedReconstruction(),s}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Lle(e){return typeof e=="string"}const Ile=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};function Fle(e){return e===void 0||Ile(e)}function $2(e){return Object.prototype.toString.call(e)==="[object Object]"}function Ble(e,t){switch(e){case qr.CONNECT:return t===void 0||$2(t);case qr.DISCONNECT:return t===void 0;case qr.EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&LB.indexOf(t[0])===-1);case qr.ACK:return Array.isArray(t);case qr.CONNECT_ERROR:return typeof t=="string"||$2(t);default:return!1}}function Ule(e){return Lle(e.nsp)&&Fle(e.id)&&Ble(e.type,e.data)}const zle=Object.freeze(Object.defineProperty({__proto__:null,Decoder:E6,Encoder:Rle,get PacketType(){return qr},isPacketValid:Ule,protocol:Dle},Symbol.toStringTag,{value:"Module"}));function id(e,t,s){return e.on(t,s),function(){e.off(t,s)}}const $le=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class IB extends En{constructor(t,s,a){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=s,a&&a.auth&&(this.auth=a.auth),this._opts=Object.assign({},a),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[id(t,"open",this.onopen.bind(this)),id(t,"packet",this.onpacket.bind(this)),id(t,"error",this.onerror.bind(this)),id(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...s){var a,n,i;if($le.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(s.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const l={type:qr.EVENT,data:s};if(l.options={},l.options.compress=this.flags.compress!==!1,typeof s[s.length-1]=="function"){const m=this.ids++,f=s.pop();this._registerAckCallback(m,f),l.id=m}const o=(n=(a=this.io.engine)===null||a===void 0?void 0:a.transport)===null||n===void 0?void 0:n.writable,u=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!o||(u?(this.notifyOutgoingListeners(l),this.packet(l)):this.sendBuffer.push(l)),this.flags={},this}_registerAckCallback(t,s){var a;const n=(a=this.flags.timeout)!==null&&a!==void 0?a:this._opts.ackTimeout;if(n===void 0){this.acks[t]=s;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===t&&this.sendBuffer.splice(o,1);s.call(this,new Error("operation has timed out"))},n),l=(...o)=>{this.io.clearTimeoutFn(i),s.apply(this,o)};l.withError=!0,this.acks[t]=l}emitWithAck(t,...s){return new Promise((a,n)=>{const i=(l,o)=>l?n(l):a(o);i.withError=!0,s.push(i),this.emit(t,...s)})}_addToQueue(t){let s;typeof t[t.length-1]=="function"&&(s=t.pop());const a={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((n,...i)=>(this._queue[0],n!==null?a.tryCount>this._opts.retries&&(this._queue.shift(),s&&s(n)):(this._queue.shift(),s&&s(null,...i)),a.pending=!1,this._drainQueue())),this._queue.push(a),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const s=this._queue[0];s.pending&&!t||(s.pending=!0,s.tryCount++,this.flags=s.flags,this.emit.apply(this,s.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:qr.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,s){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,s),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(a=>String(a.id)===t)){const a=this.acks[t];delete this.acks[t],a.withError&&a.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case qr.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case qr.EVENT:case qr.BINARY_EVENT:this.onevent(t);break;case qr.ACK:case qr.BINARY_ACK:this.onack(t);break;case qr.DISCONNECT:this.ondisconnect();break;case qr.CONNECT_ERROR:this.destroy();const a=new Error(t.data.message);a.data=t.data.data,this.emitReserved("connect_error",a);break}}onevent(t){const s=t.data||[];t.id!=null&&s.push(this.ack(t.id)),this.connected?this.emitEvent(s):this.receiveBuffer.push(Object.freeze(s))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const s=this._anyListeners.slice();for(const a of s)a.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const s=this;let a=!1;return function(...n){a||(a=!0,s.packet({type:qr.ACK,id:t,data:n}))}}onack(t){const s=this.acks[t.id];typeof s=="function"&&(delete this.acks[t.id],s.withError&&t.data.unshift(null),s.apply(this,t.data))}onconnect(t,s){this.id=t,this.recovered=s&&this._pid===s,this._pid=s,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:qr.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const s=this._anyListeners;for(let a=0;a<s.length;a++)if(t===s[a])return s.splice(a,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const s=this._anyOutgoingListeners;for(let a=0;a<s.length;a++)if(t===s[a])return s.splice(a,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const s=this._anyOutgoingListeners.slice();for(const a of s)a.apply(this,t.data)}}}function Bx(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Bx.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),s=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-s:e+s}return Math.min(e,this.max)|0};Bx.prototype.reset=function(){this.attempts=0};Bx.prototype.setMin=function(e){this.ms=e};Bx.prototype.setMax=function(e){this.max=e};Bx.prototype.setJitter=function(e){this.jitter=e};class A_ extends En{constructor(t,s){var a;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(s=t,t=void 0),s=s||{},s.path=s.path||"/socket.io",this.opts=s,EN(this,s),this.reconnection(s.reconnection!==!1),this.reconnectionAttempts(s.reconnectionAttempts||1/0),this.reconnectionDelay(s.reconnectionDelay||1e3),this.reconnectionDelayMax(s.reconnectionDelayMax||5e3),this.randomizationFactor((a=s.randomizationFactor)!==null&&a!==void 0?a:.5),this.backoff=new Bx({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(s.timeout==null?2e4:s.timeout),this._readyState="closed",this.uri=t;const n=s.parser||zle;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=s.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var s;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(s=this.backoff)===null||s===void 0||s.setMin(t),this)}randomizationFactor(t){var s;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(s=this.backoff)===null||s===void 0||s.setJitter(t),this)}reconnectionDelayMax(t){var s;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(s=this.backoff)===null||s===void 0||s.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new _le(this.uri,this.opts);const s=this.engine,a=this;this._readyState="opening",this.skipReconnect=!1;const n=id(s,"open",function(){a.onopen(),t&&t()}),i=o=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",o),t?t(o):this.maybeReconnectOnOpen()},l=id(s,"error",i);if(this._timeout!==!1){const o=this._timeout,u=this.setTimeoutFn(()=>{n(),i(new Error("timeout")),s.close()},o);this.opts.autoUnref&&u.unref(),this.subs.push(()=>{this.clearTimeoutFn(u)})}return this.subs.push(n),this.subs.push(l),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(id(t,"ping",this.onping.bind(this)),id(t,"data",this.ondata.bind(this)),id(t,"error",this.onerror.bind(this)),id(t,"close",this.onclose.bind(this)),id(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(s){this.onclose("parse error",s)}}ondecoded(t){TN(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,s){let a=this.nsps[t];return a?this._autoConnect&&!a.active&&a.connect():(a=new IB(this,t,s),this.nsps[t]=a),a}_destroy(t){const s=Object.keys(this.nsps);for(const a of s)if(this.nsps[a].active)return;this._close()}_packet(t){const s=this.encoder.encode(t);for(let a=0;a<s.length;a++)this.engine.write(s[a],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,s){var a;this.cleanup(),(a=this.engine)===null||a===void 0||a.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,s),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const s=this.backoff.duration();this._reconnecting=!0;const a=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(n=>{n?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",n)):t.onreconnect()}))},s);this.opts.autoUnref&&a.unref(),this.subs.push(()=>{this.clearTimeoutFn(a)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Hg={};function p2(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const s=Ale(e,t.path||"/socket.io"),a=s.source,n=s.id,i=s.path,l=Hg[n]&&i in Hg[n].nsps,o=t.forceNew||t["force new connection"]||t.multiplex===!1||l;let u;return o?u=new A_(a,t):(Hg[n]||(Hg[n]=new A_(a,t)),u=Hg[n]),s.query&&!t.query&&(t.query=s.queryKey),u.socket(s.path,t)}Object.assign(p2,{Manager:A_,Socket:IB,io:p2,connect:p2});const Hle="http://localhost:3001";class qle{socket=null;listeners=new Map;connect(t){this.socket?.connected||(this.socket=p2(Hle,{auth:{token:t},transports:["websocket"],reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3}),this.socket.on("connect",()=>console.log("Socket connected")),this.socket.on("disconnect",()=>console.log("Socket disconnected")),this.socket.on("error",s=>console.error("Socket error:",s)),this.socket.on("connect",()=>{this.listeners.forEach((s,a)=>{s.forEach(n=>this.socket?.on(a,n))})}))}disconnect(){this.socket?.disconnect(),this.socket=null}on(t,s){return this.listeners.has(t)||this.listeners.set(t,new Set),this.listeners.get(t).add(s),this.socket?.on(t,s),()=>{this.listeners.get(t)?.delete(s),this.socket?.off(t,s)}}emit(t,s){this.socket?.emit(t,s)}joinRoom(t){this.socket?.emit("join",t)}leaveRoom(t){this.socket?.emit("leave",t)}}const Vle=new qle;function O6(e,t){_.useEffect(()=>Vle.on(e,t),[e,t])}function FB(e){O6("new_order",e)}function Wle(e){O6("order_update",e)}function Gle(e){O6("stock_update",e)}var Kle=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function P6(e){if(typeof e!="string")return!1;var t=Kle;return t.includes(e)}var Yle=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Zle=new Set(Yle);function BB(e){return typeof e!="string"?!1:Zle.has(e)}function UB(e){return typeof e=="string"&&e.startsWith("data-")}function _l(e){if(typeof e!="object"||e===null)return{};var t={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(BB(s)||UB(s))&&(t[s]=e[s]);return t}function s0(e){if(e==null)return null;if(_.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return _l(t)}return typeof e=="object"&&!Array.isArray(e)?_l(e):null}function ll(e){var t={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(BB(s)||UB(s)||P6(s))&&(t[s]=e[s]);return t}function Xle(e){return e==null?null:_.isValidElement(e)?ll(e.props):typeof e=="object"&&!Array.isArray(e)?ll(e):null}var Jle=["children","width","height","viewBox","className","style","title","desc"];function C_(){return C_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},C_.apply(null,arguments)}function Qle(e,t){if(e==null)return{};var s,a,n=eoe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function eoe(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var D6=_.forwardRef((e,t)=>{var{children:s,width:a,height:n,viewBox:i,className:l,style:o,title:u,desc:d}=e,m=Qle(e,Jle),f=i||{width:a,height:n,x:0,y:0},g=ys("recharts-surface",l);return _.createElement("svg",C_({},ll(m),{className:g,width:a,height:n,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),_.createElement("title",null,u),_.createElement("desc",null,d),s)}),toe=["children","className"];function k_(){return k_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},k_.apply(null,arguments)}function roe(e,t){if(e==null)return{};var s,a,n=soe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function soe(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var an=_.forwardRef((e,t)=>{var{children:s,className:a}=e,n=roe(e,toe),i=ys("recharts-layer",a);return _.createElement("g",k_({className:i},ll(n),{ref:t}),s)}),zB=_.createContext(null),aoe=()=>_.useContext(zB);function ua(e){return function(){return e}}const $B=Math.cos,H2=Math.sin,Nd=Math.sqrt,q2=Math.PI,ON=2*q2,T_=Math.PI,E_=2*T_,Ef=1e-6,noe=E_-Ef;function HB(e){this._+=e[0];for(let t=1,s=e.length;t<s;++t)this._+=arguments[t]+e[t]}function ioe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return HB;const s=10**t;return function(a){this._+=a[0];for(let n=1,i=a.length;n<i;++n)this._+=Math.round(arguments[n]*s)/s+a[n]}}class loe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?HB:ioe(t)}moveTo(t,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+s}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,s){this._append`L${this._x1=+t},${this._y1=+s}`}quadraticCurveTo(t,s,a,n){this._append`Q${+t},${+s},${this._x1=+a},${this._y1=+n}`}bezierCurveTo(t,s,a,n,i,l){this._append`C${+t},${+s},${+a},${+n},${this._x1=+i},${this._y1=+l}`}arcTo(t,s,a,n,i){if(t=+t,s=+s,a=+a,n=+n,i=+i,i<0)throw new Error(`negative radius: ${i}`);let l=this._x1,o=this._y1,u=a-t,d=n-s,m=l-t,f=o-s,g=m*m+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=s}`;else if(g>Ef)if(!(Math.abs(f*u-d*m)>Ef)||!i)this._append`L${this._x1=t},${this._y1=s}`;else{let p=a-l,y=n-o,v=u*u+d*d,j=p*p+y*y,N=Math.sqrt(v),k=Math.sqrt(g),w=i*Math.tan((T_-Math.acos((v+g-j)/(2*N*k)))/2),A=w/k,C=w/N;Math.abs(A-1)>Ef&&this._append`L${t+A*m},${s+A*f}`,this._append`A${i},${i},0,0,${+(f*p>m*y)},${this._x1=t+C*u},${this._y1=s+C*d}`}}arc(t,s,a,n,i,l){if(t=+t,s=+s,a=+a,l=!!l,a<0)throw new Error(`negative radius: ${a}`);let o=a*Math.cos(n),u=a*Math.sin(n),d=t+o,m=s+u,f=1^l,g=l?n-i:i-n;this._x1===null?this._append`M${d},${m}`:(Math.abs(this._x1-d)>Ef||Math.abs(this._y1-m)>Ef)&&this._append`L${d},${m}`,a&&(g<0&&(g=g%E_+E_),g>noe?this._append`A${a},${a},0,1,${f},${t-o},${s-u}A${a},${a},0,1,${f},${this._x1=d},${this._y1=m}`:g>Ef&&this._append`A${a},${a},0,${+(g>=T_)},${f},${this._x1=t+a*Math.cos(i)},${this._y1=s+a*Math.sin(i)}`)}rect(t,s,a,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+s}h${a=+a}v${+n}h${-a}Z`}toString(){return this._}}function R6(e){let t=3;return e.digits=function(s){if(!arguments.length)return t;if(s==null)t=null;else{const a=Math.floor(s);if(!(a>=0))throw new RangeError(`invalid digits: ${s}`);t=a}return e},()=>new loe(t)}function M6(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function qB(e){this._context=e}qB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function PN(e){return new qB(e)}function VB(e){return e[0]}function WB(e){return e[1]}function GB(e,t){var s=ua(!0),a=null,n=PN,i=null,l=R6(o);e=typeof e=="function"?e:e===void 0?VB:ua(e),t=typeof t=="function"?t:t===void 0?WB:ua(t);function o(u){var d,m=(u=M6(u)).length,f,g=!1,p;for(a==null&&(i=n(p=l())),d=0;d<=m;++d)!(d<m&&s(f=u[d],d,u))===g&&((g=!g)?i.lineStart():i.lineEnd()),g&&i.point(+e(f,d,u),+t(f,d,u));if(p)return i=null,p+""||null}return o.x=function(u){return arguments.length?(e=typeof u=="function"?u:ua(+u),o):e},o.y=function(u){return arguments.length?(t=typeof u=="function"?u:ua(+u),o):t},o.defined=function(u){return arguments.length?(s=typeof u=="function"?u:ua(!!u),o):s},o.curve=function(u){return arguments.length?(n=u,a!=null&&(i=n(a)),o):n},o.context=function(u){return arguments.length?(u==null?a=i=null:i=n(a=u),o):a},o}function Ub(e,t,s){var a=null,n=ua(!0),i=null,l=PN,o=null,u=R6(d);e=typeof e=="function"?e:e===void 0?VB:ua(+e),t=typeof t=="function"?t:ua(t===void 0?0:+t),s=typeof s=="function"?s:s===void 0?WB:ua(+s);function d(f){var g,p,y,v=(f=M6(f)).length,j,N=!1,k,w=new Array(v),A=new Array(v);for(i==null&&(o=l(k=u())),g=0;g<=v;++g){if(!(g<v&&n(j=f[g],g,f))===N)if(N=!N)p=g,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),y=g-1;y>=p;--y)o.point(w[y],A[y]);o.lineEnd(),o.areaEnd()}N&&(w[g]=+e(j,g,f),A[g]=+t(j,g,f),o.point(a?+a(j,g,f):w[g],s?+s(j,g,f):A[g]))}if(k)return o=null,k+""||null}function m(){return GB().defined(n).curve(l).context(i)}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:ua(+f),a=null,d):e},d.x0=function(f){return arguments.length?(e=typeof f=="function"?f:ua(+f),d):e},d.x1=function(f){return arguments.length?(a=f==null?null:typeof f=="function"?f:ua(+f),d):a},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:ua(+f),s=null,d):t},d.y0=function(f){return arguments.length?(t=typeof f=="function"?f:ua(+f),d):t},d.y1=function(f){return arguments.length?(s=f==null?null:typeof f=="function"?f:ua(+f),d):s},d.lineX0=d.lineY0=function(){return m().x(e).y(t)},d.lineY1=function(){return m().x(e).y(s)},d.lineX1=function(){return m().x(a).y(t)},d.defined=function(f){return arguments.length?(n=typeof f=="function"?f:ua(!!f),d):n},d.curve=function(f){return arguments.length?(l=f,i!=null&&(o=l(i)),d):l},d.context=function(f){return arguments.length?(f==null?i=o=null:o=l(i=f),d):i},d}class KB{constructor(t,s){this._context=t,this._x=s}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,s){switch(t=+t,s=+s,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,s):this._context.moveTo(t,s);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,s,t,s):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+s)/2,t,this._y0,t,s);break}}this._x0=t,this._y0=s}}function ooe(e){return new KB(e,!0)}function coe(e){return new KB(e,!1)}const L6={draw(e,t){const s=Nd(t/q2);e.moveTo(s,0),e.arc(0,0,s,0,ON)}},doe={draw(e,t){const s=Nd(t/5)/2;e.moveTo(-3*s,-s),e.lineTo(-s,-s),e.lineTo(-s,-3*s),e.lineTo(s,-3*s),e.lineTo(s,-s),e.lineTo(3*s,-s),e.lineTo(3*s,s),e.lineTo(s,s),e.lineTo(s,3*s),e.lineTo(-s,3*s),e.lineTo(-s,s),e.lineTo(-3*s,s),e.closePath()}},YB=Nd(1/3),uoe=YB*2,hoe={draw(e,t){const s=Nd(t/uoe),a=s*YB;e.moveTo(0,-s),e.lineTo(a,0),e.lineTo(0,s),e.lineTo(-a,0),e.closePath()}},moe={draw(e,t){const s=Nd(t),a=-s/2;e.rect(a,a,s,s)}},foe=.8908130915292852,ZB=H2(q2/10)/H2(7*q2/10),poe=H2(ON/10)*ZB,xoe=-$B(ON/10)*ZB,goe={draw(e,t){const s=Nd(t*foe),a=poe*s,n=xoe*s;e.moveTo(0,-s),e.lineTo(a,n);for(let i=1;i<5;++i){const l=ON*i/5,o=$B(l),u=H2(l);e.lineTo(u*s,-o*s),e.lineTo(o*a-u*n,u*a+o*n)}e.closePath()}},C4=Nd(3),voe={draw(e,t){const s=-Nd(t/(C4*3));e.moveTo(0,s*2),e.lineTo(-C4*s,-s),e.lineTo(C4*s,-s),e.closePath()}},lc=-.5,oc=Nd(3)/2,O_=1/Nd(12),yoe=(O_/2+1)*3,boe={draw(e,t){const s=Nd(t/yoe),a=s/2,n=s*O_,i=a,l=s*O_+s,o=-i,u=l;e.moveTo(a,n),e.lineTo(i,l),e.lineTo(o,u),e.lineTo(lc*a-oc*n,oc*a+lc*n),e.lineTo(lc*i-oc*l,oc*i+lc*l),e.lineTo(lc*o-oc*u,oc*o+lc*u),e.lineTo(lc*a+oc*n,lc*n-oc*a),e.lineTo(lc*i+oc*l,lc*l-oc*i),e.lineTo(lc*o+oc*u,lc*u-oc*o),e.closePath()}};function joe(e,t){let s=null,a=R6(n);e=typeof e=="function"?e:ua(e||L6),t=typeof t=="function"?t:ua(t===void 0?64:+t);function n(){let i;if(s||(s=i=a()),e.apply(this,arguments).draw(s,+t.apply(this,arguments)),i)return s=null,i+""||null}return n.type=function(i){return arguments.length?(e=typeof i=="function"?i:ua(i),n):e},n.size=function(i){return arguments.length?(t=typeof i=="function"?i:ua(+i),n):t},n.context=function(i){return arguments.length?(s=i??null,n):s},n}function V2(){}function W2(e,t,s){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+s)/6)}function XB(e){this._context=e}XB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:W2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:W2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Noe(e){return new XB(e)}function JB(e){this._context=e}JB.prototype={areaStart:V2,areaEnd:V2,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:W2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function woe(e){return new JB(e)}function QB(e){this._context=e}QB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var s=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(s,a):this._context.moveTo(s,a);break;case 3:this._point=4;default:W2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Soe(e){return new QB(e)}function eU(e){this._context=e}eU.prototype={areaStart:V2,areaEnd:V2,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function _oe(e){return new eU(e)}function QP(e){return e<0?-1:1}function e8(e,t,s){var a=e._x1-e._x0,n=t-e._x1,i=(e._y1-e._y0)/(a||n<0&&-0),l=(s-e._y1)/(n||a<0&&-0),o=(i*n+l*a)/(a+n);return(QP(i)+QP(l))*Math.min(Math.abs(i),Math.abs(l),.5*Math.abs(o))||0}function t8(e,t){var s=e._x1-e._x0;return s?(3*(e._y1-e._y0)/s-t)/2:t}function k4(e,t,s){var a=e._x0,n=e._y0,i=e._x1,l=e._y1,o=(i-a)/3;e._context.bezierCurveTo(a+o,n+o*t,i-o,l-o*s,i,l)}function G2(e){this._context=e}G2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:k4(this,this._t0,t8(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var s=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,k4(this,t8(this,s=e8(this,e,t)),s);break;default:k4(this,this._t0,s=e8(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=s}}};function tU(e){this._context=new rU(e)}(tU.prototype=Object.create(G2.prototype)).point=function(e,t){G2.prototype.point.call(this,t,e)};function rU(e){this._context=e}rU.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,s,a,n,i){this._context.bezierCurveTo(t,e,a,s,i,n)}};function Aoe(e){return new G2(e)}function Coe(e){return new tU(e)}function sU(e){this._context=e}sU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,s=e.length;if(s)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),s===2)this._context.lineTo(e[1],t[1]);else for(var a=r8(e),n=r8(t),i=0,l=1;l<s;++i,++l)this._context.bezierCurveTo(a[0][i],n[0][i],a[1][i],n[1][i],e[l],t[l]);(this._line||this._line!==0&&s===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function r8(e){var t,s=e.length-1,a,n=new Array(s),i=new Array(s),l=new Array(s);for(n[0]=0,i[0]=2,l[0]=e[0]+2*e[1],t=1;t<s-1;++t)n[t]=1,i[t]=4,l[t]=4*e[t]+2*e[t+1];for(n[s-1]=2,i[s-1]=7,l[s-1]=8*e[s-1]+e[s],t=1;t<s;++t)a=n[t]/i[t-1],i[t]-=a,l[t]-=a*l[t-1];for(n[s-1]=l[s-1]/i[s-1],t=s-2;t>=0;--t)n[t]=(l[t]-n[t+1])/i[t];for(i[s-1]=(e[s]+n[s-1])/2,t=0;t<s-1;++t)i[t]=2*e[t+1]-n[t+1];return[n,i]}function koe(e){return new sU(e)}function DN(e,t){this._context=e,this._t=t}DN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var s=this._x*(1-this._t)+e*this._t;this._context.lineTo(s,this._y),this._context.lineTo(s,t)}break}}this._x=e,this._y=t}};function Toe(e){return new DN(e,.5)}function Eoe(e){return new DN(e,0)}function Ooe(e){return new DN(e,1)}function a0(e,t){if((l=e.length)>1)for(var s=1,a,n,i=e[t[0]],l,o=i.length;s<l;++s)for(n=i,i=e[t[s]],a=0;a<o;++a)i[a][1]+=i[a][0]=isNaN(n[a][1])?n[a][0]:n[a][1]}function P_(e){for(var t=e.length,s=new Array(t);--t>=0;)s[t]=t;return s}function Poe(e,t){return e[t]}function Doe(e){const t=[];return t.key=e,t}function Roe(){var e=ua([]),t=P_,s=a0,a=Poe;function n(i){var l=Array.from(e.apply(this,arguments),Doe),o,u=l.length,d=-1,m;for(const f of i)for(o=0,++d;o<u;++o)(l[o][d]=[0,+a(f,l[o].key,d,i)]).data=f;for(o=0,m=M6(t(l));o<u;++o)l[m[o]].index=o;return s(l,m),l}return n.keys=function(i){return arguments.length?(e=typeof i=="function"?i:ua(Array.from(i)),n):e},n.value=function(i){return arguments.length?(a=typeof i=="function"?i:ua(+i),n):a},n.order=function(i){return arguments.length?(t=i==null?P_:typeof i=="function"?i:ua(Array.from(i)),n):t},n.offset=function(i){return arguments.length?(s=i??a0,n):s},n}function Moe(e,t){if((a=e.length)>0){for(var s,a,n=0,i=e[0].length,l;n<i;++n){for(l=s=0;s<a;++s)l+=e[s][n][1]||0;if(l)for(s=0;s<a;++s)e[s][n][1]/=l}a0(e,t)}}function Loe(e,t){if((n=e.length)>0){for(var s=0,a=e[t[0]],n,i=a.length;s<i;++s){for(var l=0,o=0;l<n;++l)o+=e[l][s][1]||0;a[s][1]+=a[s][0]=-o/2}a0(e,t)}}function Ioe(e,t){if(!(!((l=e.length)>0)||!((i=(n=e[t[0]]).length)>0))){for(var s=0,a=1,n,i,l;a<i;++a){for(var o=0,u=0,d=0;o<l;++o){for(var m=e[t[o]],f=m[a][1]||0,g=m[a-1][1]||0,p=(f-g)/2,y=0;y<o;++y){var v=e[t[y]],j=v[a][1]||0,N=v[a-1][1]||0;p+=j-N}u+=f,d+=p*f}n[a-1][1]+=n[a-1][0]=s,u&&(s-=d/u)}n[a-1][1]+=n[a-1][0]=s,a0(e,t)}}var T4={},E4={},s8;function Foe(){return s8||(s8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){return s==="__proto__"}e.isUnsafeProperty=t})(E4)),E4}var O4={},a8;function aU(){return a8||(a8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){switch(typeof s){case"number":case"symbol":return!1;case"string":return s.includes(".")||s.includes("[")||s.includes("]")}}e.isDeepKey=t})(O4)),O4}var P4={},n8;function I6(){return n8||(n8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){return typeof s=="string"||typeof s=="symbol"?s:Object.is(s?.valueOf?.(),-0)?"-0":String(s)}e.toKey=t})(P4)),P4}var D4={},R4={},i8;function Boe(){return i8||(i8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){if(s==null)return"";if(typeof s=="string")return s;if(Array.isArray(s))return s.map(t).join(",");const a=String(s);return a==="0"&&Object.is(Number(s),-0)?"-0":a}e.toString=t})(R4)),R4}var l8;function F6(){return l8||(l8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Boe(),s=I6();function a(n){if(Array.isArray(n))return n.map(s.toKey);if(typeof n=="symbol")return[n];n=t.toString(n);const i=[],l=n.length;if(l===0)return i;let o=0,u="",d="",m=!1;for(n.charCodeAt(0)===46&&(i.push(""),o++);o<l;){const f=n[o];d?f==="\\"&&o+1<l?(o++,u+=n[o]):f===d?d="":u+=f:m?f==='"'||f==="'"?d=f:f==="]"?(m=!1,i.push(u),u=""):u+=f:f==="["?(m=!0,u&&(i.push(u),u="")):f==="."?u&&(i.push(u),u=""):u+=f,o++}return u&&i.push(u),i}e.toPath=a})(D4)),D4}var o8;function B6(){return o8||(o8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Foe(),s=aU(),a=I6(),n=F6();function i(o,u,d){if(o==null)return d;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return d;const m=o[u];return m===void 0?s.isDeepKey(u)?i(o,n.toPath(u),d):d:m}case"number":case"symbol":{typeof u=="number"&&(u=a.toKey(u));const m=o[u];return m===void 0?d:m}default:{if(Array.isArray(u))return l(o,u,d);if(Object.is(u?.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return d;const m=o[u];return m===void 0?d:m}}}function l(o,u,d){if(u.length===0)return d;let m=o;for(let f=0;f<u.length;f++){if(m==null||t.isUnsafeProperty(u[f]))return d;m=m[u[f]]}return m===void 0?d:m}e.get=i})(T4)),T4}var M4,c8;function Uoe(){return c8||(c8=1,M4=B6().get),M4}var zoe=Uoe();const n0=Sh(zoe);var $oe=4;function Cm(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$oe,s=10**t,a=Math.round(e*s)/s;return Object.is(a,-0)?0:a}function en(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),a=1;a<t;a++)s[a-1]=arguments[a];return e.reduce((n,i,l)=>{var o=s[l-1];return typeof o=="string"?n+o+i:o!==void 0?n+Cm(o)+i:n+i},"")}var pi=e=>e===0?0:e>0?1:-1,bc=e=>typeof e=="number"&&e!=+e,fh=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Ht=e=>(typeof e=="number"||e instanceof Number)&&!bc(e),iu=e=>Ht(e)||typeof e=="string",Hoe=0,Cv=e=>{var t=++Hoe;return"".concat(e||"").concat(t)},rl=function(t,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ht(t)&&typeof t!="string")return a;var i;if(fh(t)){if(s==null)return a;var l=t.indexOf("%");i=s*parseFloat(t.slice(0,l))/100}else i=+t;return bc(i)&&(i=a),n&&s!=null&&i>s&&(i=s),i},nU=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,s={},a=0;a<t;a++)if(!s[String(e[a])])s[String(e[a])]=!0;else return!0;return!1};function Rs(e,t,s){return Ht(e)&&Ht(t)?Cm(e+s*(t-e)):t}function iU(e,t,s){if(!(!e||!e.length))return e.find(a=>a&&(typeof t=="function"?t(a):n0(a,t))===s)}var Sa=e=>e===null||typeof e>"u",iy=e=>Sa(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function qoe(e){return e!=null}function ly(){}var Voe=["type","size","sizeType"];function D_(){return D_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},D_.apply(null,arguments)}function d8(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function u8(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?d8(Object(s),!0).forEach(function(a){Woe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):d8(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Woe(e,t,s){return(t=Goe(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Goe(e){var t=Koe(e,"string");return typeof t=="symbol"?t:t+""}function Koe(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yoe(e,t){if(e==null)return{};var s,a,n=Zoe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Zoe(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var lU={symbolCircle:L6,symbolCross:doe,symbolDiamond:hoe,symbolSquare:moe,symbolStar:goe,symbolTriangle:voe,symbolWye:boe},Xoe=Math.PI/180,Joe=e=>{var t="symbol".concat(iy(e));return lU[t]||L6},Qoe=(e,t,s)=>{if(t==="area")return e;switch(s){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*Xoe;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.tan(a)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},ece=(e,t)=>{lU["symbol".concat(iy(e))]=t},U6=e=>{var{type:t="circle",size:s=64,sizeType:a="area"}=e,n=Yoe(e,Voe),i=u8(u8({},n),{},{type:t,size:s,sizeType:a}),l="circle";typeof t=="string"&&(l=t);var o=()=>{var g=Joe(l),p=joe().type(g).size(Qoe(s,a,l)),y=p();if(y!==null)return y},{className:u,cx:d,cy:m}=i,f=ll(i);return Ht(d)&&Ht(m)&&Ht(s)?_.createElement("path",D_({},f,{className:ys("recharts-symbols",u),transform:"translate(".concat(d,", ").concat(m,")"),d:o()})):null};U6.registerSymbol=ece;var oU=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,z6=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var s=e;if(_.isValidElement(e)&&(s=e.props),typeof s!="object"&&typeof s!="function")return null;var a={};return Object.keys(s).forEach(n=>{P6(n)&&(a[n]=(i=>s[n](s,i)))}),a},tce=(e,t,s)=>a=>(e(t,s,a),null),oy=(e,t,s)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var a=null;return Object.keys(e).forEach(n=>{var i=e[n];P6(n)&&typeof i=="function"&&(a||(a={}),a[n]=tce(i,t,s))}),a};function h8(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function rce(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?h8(Object(s),!0).forEach(function(a){sce(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):h8(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function sce(e,t,s){return(t=ace(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function ace(e){var t=nce(e,"string");return typeof t=="symbol"?t:t+""}function nce(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function on(e,t){var s=rce({},e),a=t,n=Object.keys(t),i=n.reduce((l,o)=>(l[o]===void 0&&a[o]!==void 0&&(l[o]=a[o]),l),s);return i}function K2(){return K2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},K2.apply(null,arguments)}function m8(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function ice(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?m8(Object(s),!0).forEach(function(a){lce(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):m8(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function lce(e,t,s){return(t=oce(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function oce(e){var t=cce(e,"string");return typeof t=="symbol"?t:t+""}function cce(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mc=32,dce={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function uce(e){var{data:t,iconType:s,inactiveColor:a}=e,n=mc/2,i=mc/6,l=mc/3,o=t.inactive?a:t.color,u=s??t.type;if(u==="none")return null;if(u==="plainline"){var d;return _.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(d=t.payload)===null||d===void 0?void 0:d.strokeDasharray,x1:0,y1:n,x2:mc,y2:n,className:"recharts-legend-icon"})}if(u==="line")return _.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(n,"h").concat(l,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*l,",").concat(n,`
            H`).concat(mc,"M").concat(2*l,",").concat(n,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(l,",").concat(n),className:"recharts-legend-icon"});if(u==="rect")return _.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(mc/8,"h").concat(mc,"v").concat(mc*3/4,"h").concat(-mc,"z"),className:"recharts-legend-icon"});if(_.isValidElement(t.legendIcon)){var m=ice({},t);return delete m.legendIcon,_.cloneElement(t.legendIcon,m)}return _.createElement(U6,{fill:o,cx:n,cy:n,size:mc,sizeType:"diameter",type:u})}function hce(e){var{payload:t,iconSize:s,layout:a,formatter:n,inactiveColor:i,iconType:l}=e,o={x:0,y:0,width:mc,height:mc},u={display:a==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((m,f)=>{var g=m.formatter||n,p=ys({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:m.inactive});if(m.type==="none")return null;var y=m.inactive?i:m.color,v=g?g(m.value,m,f):m.value;return _.createElement("li",K2({className:p,style:u,key:"legend-item-".concat(f)},oy(e,m,f)),_.createElement(D6,{width:s,height:s,viewBox:o,style:d,"aria-label":"".concat(v," legend icon")},_.createElement(uce,{data:m,iconType:l,inactiveColor:i})),_.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},v))})}var mce=e=>{var t=on(e,dce),{payload:s,layout:a,align:n}=t;if(!s||!s.length)return null;var i={padding:0,margin:0,textAlign:a==="horizontal"?n:"left"};return _.createElement("ul",{className:"recharts-default-legend",style:i},_.createElement(hce,K2({},t,{payload:s})))},L4={},I4={},f8;function fce(){return f8||(f8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s,a){const n=new Map;for(let i=0;i<s.length;i++){const l=s[i],o=a(l);n.has(o)||n.set(o,l)}return Array.from(n.values())}e.uniqBy=t})(I4)),I4}var F4={},p8;function cU(){return p8||(p8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){return s}e.identity=t})(F4)),F4}var B4={},U4={},z4={},x8;function pce(){return x8||(x8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){return Number.isSafeInteger(s)&&s>=0}e.isLength=t})(z4)),z4}var g8;function $6(){return g8||(g8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pce();function s(a){return a!=null&&typeof a!="function"&&t.isLength(a.length)}e.isArrayLike=s})(U4)),U4}var $4={},v8;function xce(){return v8||(v8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){return typeof s=="object"&&s!==null}e.isObjectLike=t})($4)),$4}var y8;function gce(){return y8||(y8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$6(),s=xce();function a(n){return s.isObjectLike(n)&&t.isArrayLike(n)}e.isArrayLikeObject=a})(B4)),B4}var H4={},q4={},b8;function vce(){return b8||(b8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B6();function s(a){return function(n){return t.get(n,a)}}e.property=s})(q4)),q4}var V4={},W4={},G4={},K4={},j8;function dU(){return j8||(j8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){return s!==null&&(typeof s=="object"||typeof s=="function")}e.isObject=t})(K4)),K4}var Y4={},N8;function uU(){return N8||(N8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){return s==null||typeof s!="object"&&typeof s!="function"}e.isPrimitive=t})(Y4)),Y4}var Z4={},w8;function hU(){return w8||(w8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s,a){return s===a||Number.isNaN(s)&&Number.isNaN(a)}e.eq=t})(Z4)),Z4}var S8;function yce(){return S8||(S8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dU(),s=uU(),a=hU();function n(m,f,g){return typeof g!="function"?n(m,f,()=>{}):i(m,f,function p(y,v,j,N,k,w){const A=g(y,v,j,N,k,w);return A!==void 0?!!A:i(y,v,p,w)},new Map)}function i(m,f,g,p){if(f===m)return!0;switch(typeof f){case"object":return l(m,f,g,p);case"function":return Object.keys(f).length>0?i(m,{...f},g,p):a.eq(m,f);default:return t.isObject(m)?typeof f=="string"?f==="":!0:a.eq(m,f)}}function l(m,f,g,p){if(f==null)return!0;if(Array.isArray(f))return u(m,f,g,p);if(f instanceof Map)return o(m,f,g,p);if(f instanceof Set)return d(m,f,g,p);const y=Object.keys(f);if(m==null||s.isPrimitive(m))return y.length===0;if(y.length===0)return!0;if(p?.has(f))return p.get(f)===m;p?.set(f,m);try{for(let v=0;v<y.length;v++){const j=y[v];if(!s.isPrimitive(m)&&!(j in m)||f[j]===void 0&&m[j]!==void 0||f[j]===null&&m[j]!==null||!g(m[j],f[j],j,m,f,p))return!1}return!0}finally{p?.delete(f)}}function o(m,f,g,p){if(f.size===0)return!0;if(!(m instanceof Map))return!1;for(const[y,v]of f.entries()){const j=m.get(y);if(g(j,v,y,m,f,p)===!1)return!1}return!0}function u(m,f,g,p){if(f.length===0)return!0;if(!Array.isArray(m))return!1;const y=new Set;for(let v=0;v<f.length;v++){const j=f[v];let N=!1;for(let k=0;k<m.length;k++){if(y.has(k))continue;const w=m[k];let A=!1;if(g(w,j,v,m,f,p)&&(A=!0),A){y.add(k),N=!0;break}}if(!N)return!1}return!0}function d(m,f,g,p){return f.size===0?!0:m instanceof Set?u([...m],[...f],g,p):!1}e.isMatchWith=n,e.isSetMatch=d})(G4)),G4}var _8;function mU(){return _8||(_8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yce();function s(a,n){return t.isMatchWith(a,n,()=>{})}e.isMatch=s})(W4)),W4}var X4={},J4={},Q4={},A8;function bce(){return A8||(A8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){return Object.getOwnPropertySymbols(s).filter(a=>Object.prototype.propertyIsEnumerable.call(s,a))}e.getSymbols=t})(Q4)),Q4}var eS={},C8;function fU(){return C8||(C8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){return s==null?s===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(s)}e.getTag=t})(eS)),eS}var tS={},k8;function pU(){return k8||(k8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",s="[object String]",a="[object Number]",n="[object Boolean]",i="[object Arguments]",l="[object Symbol]",o="[object Date]",u="[object Map]",d="[object Set]",m="[object Array]",f="[object Function]",g="[object ArrayBuffer]",p="[object Object]",y="[object Error]",v="[object DataView]",j="[object Uint8Array]",N="[object Uint8ClampedArray]",k="[object Uint16Array]",w="[object Uint32Array]",A="[object BigUint64Array]",C="[object Int8Array]",M="[object Int16Array]",R="[object Int32Array]",D="[object BigInt64Array]",B="[object Float32Array]",z="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=g,e.arrayTag=m,e.bigInt64ArrayTag=D,e.bigUint64ArrayTag=A,e.booleanTag=n,e.dataViewTag=v,e.dateTag=o,e.errorTag=y,e.float32ArrayTag=B,e.float64ArrayTag=z,e.functionTag=f,e.int16ArrayTag=M,e.int32ArrayTag=R,e.int8ArrayTag=C,e.mapTag=u,e.numberTag=a,e.objectTag=p,e.regexpTag=t,e.setTag=d,e.stringTag=s,e.symbolTag=l,e.uint16ArrayTag=k,e.uint32ArrayTag=w,e.uint8ArrayTag=j,e.uint8ClampedArrayTag=N})(tS)),tS}var rS={},T8;function jce(){return T8||(T8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){return ArrayBuffer.isView(s)&&!(s instanceof DataView)}e.isTypedArray=t})(rS)),rS}var E8;function xU(){return E8||(E8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bce(),s=fU(),a=pU(),n=uU(),i=jce();function l(m,f){return o(m,void 0,m,new Map,f)}function o(m,f,g,p=new Map,y=void 0){const v=y?.(m,f,g,p);if(v!==void 0)return v;if(n.isPrimitive(m))return m;if(p.has(m))return p.get(m);if(Array.isArray(m)){const j=new Array(m.length);p.set(m,j);for(let N=0;N<m.length;N++)j[N]=o(m[N],N,g,p,y);return Object.hasOwn(m,"index")&&(j.index=m.index),Object.hasOwn(m,"input")&&(j.input=m.input),j}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const j=new RegExp(m.source,m.flags);return j.lastIndex=m.lastIndex,j}if(m instanceof Map){const j=new Map;p.set(m,j);for(const[N,k]of m)j.set(N,o(k,N,g,p,y));return j}if(m instanceof Set){const j=new Set;p.set(m,j);for(const N of m)j.add(o(N,void 0,g,p,y));return j}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(i.isTypedArray(m)){const j=new(Object.getPrototypeOf(m)).constructor(m.length);p.set(m,j);for(let N=0;N<m.length;N++)j[N]=o(m[N],N,g,p,y);return j}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const j=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return p.set(m,j),u(j,m,g,p,y),j}if(typeof File<"u"&&m instanceof File){const j=new File([m],m.name,{type:m.type});return p.set(m,j),u(j,m,g,p,y),j}if(typeof Blob<"u"&&m instanceof Blob){const j=new Blob([m],{type:m.type});return p.set(m,j),u(j,m,g,p,y),j}if(m instanceof Error){const j=new m.constructor;return p.set(m,j),j.message=m.message,j.name=m.name,j.stack=m.stack,j.cause=m.cause,u(j,m,g,p,y),j}if(m instanceof Boolean){const j=new Boolean(m.valueOf());return p.set(m,j),u(j,m,g,p,y),j}if(m instanceof Number){const j=new Number(m.valueOf());return p.set(m,j),u(j,m,g,p,y),j}if(m instanceof String){const j=new String(m.valueOf());return p.set(m,j),u(j,m,g,p,y),j}if(typeof m=="object"&&d(m)){const j=Object.create(Object.getPrototypeOf(m));return p.set(m,j),u(j,m,g,p,y),j}return m}function u(m,f,g=m,p,y){const v=[...Object.keys(f),...t.getSymbols(f)];for(let j=0;j<v.length;j++){const N=v[j],k=Object.getOwnPropertyDescriptor(m,N);(k==null||k.writable)&&(m[N]=o(f[N],N,g,p,y))}}function d(m){switch(s.getTag(m)){case a.argumentsTag:case a.arrayTag:case a.arrayBufferTag:case a.dataViewTag:case a.booleanTag:case a.dateTag:case a.float32ArrayTag:case a.float64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.mapTag:case a.numberTag:case a.objectTag:case a.regexpTag:case a.setTag:case a.stringTag:case a.symbolTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=o,e.copyProperties=u})(J4)),J4}var O8;function Nce(){return O8||(O8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xU();function s(a){return t.cloneDeepWithImpl(a,void 0,a,new Map,void 0)}e.cloneDeep=s})(X4)),X4}var P8;function wce(){return P8||(P8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mU(),s=Nce();function a(n){return n=s.cloneDeep(n),i=>t.isMatch(i,n)}e.matches=a})(V4)),V4}var sS={},aS={},nS={},D8;function Sce(){return D8||(D8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xU(),s=pU();function a(n,i){return t.cloneDeepWith(n,(l,o,u,d)=>{const m=i?.(l,o,u,d);if(m!==void 0)return m;if(typeof n=="object")switch(Object.prototype.toString.call(n)){case s.numberTag:case s.stringTag:case s.booleanTag:{const f=new n.constructor(n?.valueOf());return t.copyProperties(f,n),f}case s.argumentsTag:{const f={};return t.copyProperties(f,n),f.length=n.length,f[Symbol.iterator]=n[Symbol.iterator],f}default:return}})}e.cloneDeepWith=a})(nS)),nS}var R8;function _ce(){return R8||(R8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Sce();function s(a){return t.cloneDeepWith(a)}e.cloneDeep=s})(aS)),aS}var iS={},lS={},M8;function gU(){return M8||(M8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function s(a,n=Number.MAX_SAFE_INTEGER){switch(typeof a){case"number":return Number.isInteger(a)&&a>=0&&a<n;case"symbol":return!1;case"string":return t.test(a)}}e.isIndex=s})(lS)),lS}var oS={},L8;function Ace(){return L8||(L8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fU();function s(a){return a!==null&&typeof a=="object"&&t.getTag(a)==="[object Arguments]"}e.isArguments=s})(oS)),oS}var I8;function Cce(){return I8||(I8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aU(),s=gU(),a=Ace(),n=F6();function i(l,o){let u;if(Array.isArray(o)?u=o:typeof o=="string"&&t.isDeepKey(o)&&l?.[o]==null?u=n.toPath(o):u=[o],u.length===0)return!1;let d=l;for(let m=0;m<u.length;m++){const f=u[m];if((d==null||!Object.hasOwn(d,f))&&!((Array.isArray(d)||a.isArguments(d))&&s.isIndex(f)&&f<d.length))return!1;d=d[f]}return!0}e.has=i})(iS)),iS}var F8;function kce(){return F8||(F8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mU(),s=I6(),a=_ce(),n=B6(),i=Cce();function l(o,u){switch(typeof o){case"object":{Object.is(o?.valueOf(),-0)&&(o="-0");break}case"number":{o=s.toKey(o);break}}return u=a.cloneDeep(u),function(d){const m=n.get(d,o);return m===void 0?i.has(d,o):u===void 0?m===void 0:t.isMatch(m,u)}}e.matchesProperty=l})(sS)),sS}var B8;function Tce(){return B8||(B8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cU(),s=vce(),a=wce(),n=kce();function i(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?n.matchesProperty(l[0],l[1]):a.matches(l);case"string":case"symbol":case"number":return s.property(l)}}e.iteratee=i})(H4)),H4}var U8;function Ece(){return U8||(U8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fce(),s=cU(),a=gce(),n=Tce();function i(l,o=s.identity){return a.isArrayLikeObject(l)?t.uniqBy(Array.from(l),n.iteratee(o)):[]}e.uniqBy=i})(L4)),L4}var cS,z8;function Oce(){return z8||(z8=1,cS=Ece().uniqBy),cS}var Pce=Oce();const $8=Sh(Pce);function vU(e,t,s){return t===!0?$8(e,s):typeof t=="function"?$8(e,t):e}var dS={exports:{}},uS={},hS={exports:{}},mS={};var H8;function Dce(){if(H8)return mS;H8=1;var e=_x();function t(f,g){return f===g&&(f!==0||1/f===1/g)||f!==f&&g!==g}var s=typeof Object.is=="function"?Object.is:t,a=e.useState,n=e.useEffect,i=e.useLayoutEffect,l=e.useDebugValue;function o(f,g){var p=g(),y=a({inst:{value:p,getSnapshot:g}}),v=y[0].inst,j=y[1];return i(function(){v.value=p,v.getSnapshot=g,u(v)&&j({inst:v})},[f,p,g]),n(function(){return u(v)&&j({inst:v}),f(function(){u(v)&&j({inst:v})})},[f]),l(p),p}function u(f){var g=f.getSnapshot;f=f.value;try{var p=g();return!s(f,p)}catch{return!0}}function d(f,g){return g()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:o;return mS.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:m,mS}var q8;function Rce(){return q8||(q8=1,hS.exports=Dce()),hS.exports}var V8;function Mce(){if(V8)return uS;V8=1;var e=_x(),t=Rce();function s(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var a=typeof Object.is=="function"?Object.is:s,n=t.useSyncExternalStore,i=e.useRef,l=e.useEffect,o=e.useMemo,u=e.useDebugValue;return uS.useSyncExternalStoreWithSelector=function(d,m,f,g,p){var y=i(null);if(y.current===null){var v={hasValue:!1,value:null};y.current=v}else v=y.current;y=o(function(){function N(M){if(!k){if(k=!0,w=M,M=g(M),p!==void 0&&v.hasValue){var R=v.value;if(p(R,M))return A=R}return A=M}if(R=A,a(w,M))return R;var D=g(M);return p!==void 0&&p(R,D)?(w=M,R):(w=M,A=D)}var k=!1,w,A,C=f===void 0?null:f;return[function(){return N(m())},C===null?void 0:function(){return N(C())}]},[m,f,g,p]);var j=n(d,y[0],y[1]);return l(function(){v.hasValue=!0,v.value=j},[j]),u(j),j},uS}var W8;function Lce(){return W8||(W8=1,dS.exports=Mce()),dS.exports}var Ice=Lce(),H6=_.createContext(null),Fce=e=>e,fa=()=>{var e=_.useContext(H6);return e?e.store.dispatch:Fce},x2=()=>{},Bce=()=>x2,Uce=(e,t)=>e===t;function Jt(e){var t=_.useContext(H6);return Ice.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Bce,t?t.store.getState:x2,t?t.store.getState:x2,t?e:x2,Uce)}function zce(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function $ce(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Hce(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(s=>typeof s=="function")){const s=e.map(a=>typeof a=="function"?`function ${a.name||"unnamed"}()`:typeof a).join(", ");throw new TypeError(`${t}[${s}]`)}}var G8=e=>Array.isArray(e)?e:[e];function qce(e){const t=Array.isArray(e[0])?e[0]:e;return Hce(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Vce(e,t){const s=[],{length:a}=e;for(let n=0;n<a;n++)s.push(e[n].apply(null,t));return s}var Wce=class{constructor(e){this.value=e}deref(){return this.value}},Gce=typeof WeakRef<"u"?WeakRef:Wce,Kce=0,K8=1;function zb(){return{s:Kce,v:void 0,o:null,p:null}}function yU(e,t={}){let s=zb();const{resultEqualityCheck:a}=t;let n,i=0;function l(){let o=s;const{length:u}=arguments;for(let f=0,g=u;f<g;f++){const p=arguments[f];if(typeof p=="function"||typeof p=="object"&&p!==null){let y=o.o;y===null&&(o.o=y=new WeakMap);const v=y.get(p);v===void 0?(o=zb(),y.set(p,o)):o=v}else{let y=o.p;y===null&&(o.p=y=new Map);const v=y.get(p);v===void 0?(o=zb(),y.set(p,o)):o=v}}const d=o;let m;if(o.s===K8)m=o.v;else if(m=e.apply(null,arguments),i++,a){const f=n?.deref?.()??n;f!=null&&a(f,m)&&(m=f,i!==0&&i--),n=typeof m=="object"&&m!==null||typeof m=="function"?new Gce(m):m}return d.s=K8,d.v=m,m}return l.clearCache=()=>{s=zb(),l.resetResultsCount()},l.resultsCount=()=>i,l.resetResultsCount=()=>{i=0},l}function Yce(e,...t){const s=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,a=(...n)=>{let i=0,l=0,o,u={},d=n.pop();typeof d=="object"&&(u=d,d=n.pop()),zce(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const m={...s,...u},{memoize:f,memoizeOptions:g=[],argsMemoize:p=yU,argsMemoizeOptions:y=[]}=m,v=G8(g),j=G8(y),N=qce(n),k=f(function(){return i++,d.apply(null,arguments)},...v),w=p(function(){l++;const C=Vce(N,arguments);return o=k.apply(null,C),o},...j);return Object.assign(w,{resultFunc:d,memoizedResultFunc:k,dependencies:N,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>o,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:p})};return Object.assign(a,{withTypes:()=>a}),a}var Je=Yce(yU),Zce=Object.assign((e,t=Je)=>{$ce(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const s=Object.keys(e),a=s.map(i=>e[i]);return t(a,(...i)=>i.reduce((l,o,u)=>(l[s[u]]=o,l),{}))},{withTypes:()=>Zce}),fS={},pS={},xS={},Y8;function Xce(){return Y8||(Y8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="symbol"?1:a===null?2:a===void 0?3:a!==a?4:0}const s=(a,n,i)=>{if(a!==n){const l=t(a),o=t(n);if(l===o&&l===0){if(a<n)return i==="desc"?1:-1;if(a>n)return i==="desc"?-1:1}return i==="desc"?o-l:l-o}return 0};e.compareValues=s})(xS)),xS}var gS={},vS={},Z8;function bU(){return Z8||(Z8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){return typeof s=="symbol"||s instanceof Symbol}e.isSymbol=t})(vS)),vS}var X8;function Jce(){return X8||(X8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bU(),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function n(i,l){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(a.test(i)||!s.test(i))||l!=null&&Object.hasOwn(l,i)}e.isKey=n})(gS)),gS}var J8;function Qce(){return J8||(J8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xce(),s=Jce(),a=F6();function n(i,l,o,u){if(i==null)return[];o=u?void 0:o,Array.isArray(i)||(i=Object.values(i)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(p=>String(p));const d=(p,y)=>{let v=p;for(let j=0;j<y.length&&v!=null;++j)v=v[y[j]];return v},m=(p,y)=>y==null||p==null?y:typeof p=="object"&&"key"in p?Object.hasOwn(y,p.key)?y[p.key]:d(y,p.path):typeof p=="function"?p(y):Array.isArray(p)?d(y,p):typeof y=="object"?y[p]:y,f=l.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||s.isKey(p)?p:{key:p,path:a.toPath(p)}));return i.map(p=>({original:p,criteria:f.map(y=>m(y,p))})).slice().sort((p,y)=>{for(let v=0;v<f.length;v++){const j=t.compareValues(p.criteria[v],y.criteria[v],o[v]);if(j!==0)return j}return 0}).map(p=>p.original)}e.orderBy=n})(pS)),pS}var yS={},Q8;function ede(){return Q8||(Q8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s,a=1){const n=[],i=Math.floor(a),l=(o,u)=>{for(let d=0;d<o.length;d++){const m=o[d];Array.isArray(m)&&u<i?l(m,u+1):n.push(m)}};return l(s,0),n}e.flatten=t})(yS)),yS}var bS={},eD;function jU(){return eD||(eD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gU(),s=$6(),a=dU(),n=hU();function i(l,o,u){return a.isObject(u)&&(typeof o=="number"&&s.isArrayLike(u)&&t.isIndex(o)&&o<u.length||typeof o=="string"&&o in u)?n.eq(u[o],l):!1}e.isIterateeCall=i})(bS)),bS}var tD;function tde(){return tD||(tD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qce(),s=ede(),a=jU();function n(i,...l){const o=l.length;return o>1&&a.isIterateeCall(i,l[0],l[1])?l=[]:o>2&&a.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(i,s.flatten(l),["asc"])}e.sortBy=n})(fS)),fS}var jS,rD;function rde(){return rD||(rD=1,jS=tde().sortBy),jS}var sde=rde();const RN=Sh(sde);var NU=e=>e.legend.settings,ade=e=>e.legend.size,nde=e=>e.legend.payload,ide=Je([nde,NU],(e,t)=>{var{itemSorter:s}=t,a=e.flat(1);return s?RN(a,s):a});function lde(){return Jt(ide)}var $b=1;function wU(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,s]=_.useState({height:0,left:0,top:0,width:0}),a=_.useCallback(n=>{if(n!=null){var i=n.getBoundingClientRect(),l={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(l.height-t.height)>$b||Math.abs(l.left-t.left)>$b||Math.abs(l.top-t.top)>$b||Math.abs(l.width-t.width)>$b)&&s({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,a]}function Oi(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var ode=typeof Symbol=="function"&&Symbol.observable||"@@observable",sD=ode,NS=()=>Math.random().toString(36).substring(7).split("").join("."),cde={INIT:`@@redux/INIT${NS()}`,REPLACE:`@@redux/REPLACE${NS()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${NS()}`},Y2=cde;function q6(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function SU(e,t,s){if(typeof e!="function")throw new Error(Oi(2));if(typeof t=="function"&&typeof s=="function"||typeof s=="function"&&typeof arguments[3]=="function")throw new Error(Oi(0));if(typeof t=="function"&&typeof s>"u"&&(s=t,t=void 0),typeof s<"u"){if(typeof s!="function")throw new Error(Oi(1));return s(SU)(e,t)}let a=e,n=t,i=new Map,l=i,o=0,u=!1;function d(){l===i&&(l=new Map,i.forEach((j,N)=>{l.set(N,j)}))}function m(){if(u)throw new Error(Oi(3));return n}function f(j){if(typeof j!="function")throw new Error(Oi(4));if(u)throw new Error(Oi(5));let N=!0;d();const k=o++;return l.set(k,j),function(){if(N){if(u)throw new Error(Oi(6));N=!1,d(),l.delete(k),i=null}}}function g(j){if(!q6(j))throw new Error(Oi(7));if(typeof j.type>"u")throw new Error(Oi(8));if(typeof j.type!="string")throw new Error(Oi(17));if(u)throw new Error(Oi(9));try{u=!0,n=a(n,j)}finally{u=!1}return(i=l).forEach(k=>{k()}),j}function p(j){if(typeof j!="function")throw new Error(Oi(10));a=j,g({type:Y2.REPLACE})}function y(){const j=f;return{subscribe(N){if(typeof N!="object"||N===null)throw new Error(Oi(11));function k(){const A=N;A.next&&A.next(m())}return k(),{unsubscribe:j(k)}},[sD](){return this}}}return g({type:Y2.INIT}),{dispatch:g,subscribe:f,getState:m,replaceReducer:p,[sD]:y}}function dde(e){Object.keys(e).forEach(t=>{const s=e[t];if(typeof s(void 0,{type:Y2.INIT})>"u")throw new Error(Oi(12));if(typeof s(void 0,{type:Y2.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Oi(13))})}function _U(e){const t=Object.keys(e),s={};for(let i=0;i<t.length;i++){const l=t[i];typeof e[l]=="function"&&(s[l]=e[l])}const a=Object.keys(s);let n;try{dde(s)}catch(i){n=i}return function(l={},o){if(n)throw n;let u=!1;const d={};for(let m=0;m<a.length;m++){const f=a[m],g=s[f],p=l[f],y=g(p,o);if(typeof y>"u")throw o&&o.type,new Error(Oi(14));d[f]=y,u=u||y!==p}return u=u||a.length!==Object.keys(l).length,u?d:l}}function Z2(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,s)=>(...a)=>t(s(...a)))}function ude(...e){return t=>(s,a)=>{const n=t(s,a);let i=()=>{throw new Error(Oi(15))};const l={getState:n.getState,dispatch:(u,...d)=>i(u,...d)},o=e.map(u=>u(l));return i=Z2(...o)(n.dispatch),{...n,dispatch:i}}}function AU(e){return q6(e)&&"type"in e&&typeof e.type=="string"}var CU=Symbol.for("immer-nothing"),aD=Symbol.for("immer-draftable"),Al=Symbol.for("immer-state");function cd(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Mo=Object,xx=Mo.getPrototypeOf,X2="constructor",MN="prototype",R_="configurable",J2="enumerable",g2="writable",kv="value",ph=e=>!!e&&!!e[Al];function gd(e){return e?kU(e)||IN(e)||!!e[aD]||!!e[X2]?.[aD]||FN(e)||BN(e):!1}var hde=Mo[MN][X2].toString(),nD=new WeakMap;function kU(e){if(!e||!V6(e))return!1;const t=xx(e);if(t===null||t===Mo[MN])return!0;const s=Mo.hasOwnProperty.call(t,X2)&&t[X2];if(s===Object)return!0;if(!Dp(s))return!1;let a=nD.get(s);return a===void 0&&(a=Function.toString.call(s),nD.set(s,a)),a===hde}function LN(e,t,s=!0){cy(e)===0?(s?Reflect.ownKeys(e):Mo.keys(e)).forEach(n=>{t(n,e[n],e)}):e.forEach((a,n)=>t(n,a,e))}function cy(e){const t=e[Al];return t?t.type_:IN(e)?1:FN(e)?2:BN(e)?3:0}var iD=(e,t,s=cy(e))=>s===2?e.has(t):Mo[MN].hasOwnProperty.call(e,t),M_=(e,t,s=cy(e))=>s===2?e.get(t):e[t],Q2=(e,t,s,a=cy(e))=>{a===2?e.set(t,s):a===3?e.add(s):e[t]=s};function mde(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var IN=Array.isArray,FN=e=>e instanceof Map,BN=e=>e instanceof Set,V6=e=>typeof e=="object",Dp=e=>typeof e=="function",wS=e=>typeof e=="boolean";function fde(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Wu=e=>e.copy_||e.base_,W6=e=>e.modified_?e.copy_:e.base_;function L_(e,t){if(FN(e))return new Map(e);if(BN(e))return new Set(e);if(IN(e))return Array[MN].slice.call(e);const s=kU(e);if(t===!0||t==="class_only"&&!s){const a=Mo.getOwnPropertyDescriptors(e);delete a[Al];let n=Reflect.ownKeys(a);for(let i=0;i<n.length;i++){const l=n[i],o=a[l];o[g2]===!1&&(o[g2]=!0,o[R_]=!0),(o.get||o.set)&&(a[l]={[R_]:!0,[g2]:!0,[J2]:o[J2],[kv]:e[l]})}return Mo.create(xx(e),a)}else{const a=xx(e);if(a!==null&&s)return{...e};const n=Mo.create(a);return Mo.assign(n,e)}}function G6(e,t=!1){return UN(e)||ph(e)||!gd(e)||(cy(e)>1&&Mo.defineProperties(e,{set:Hb,add:Hb,clear:Hb,delete:Hb}),Mo.freeze(e),t&&LN(e,(s,a)=>{G6(a,!0)},!1)),e}function pde(){cd(2)}var Hb={[kv]:pde};function UN(e){return e===null||!V6(e)?!0:Mo.isFrozen(e)}var ej="MapSet",I_="Patches",lD="ArrayMethods",TU={};function i0(e){const t=TU[e];return t||cd(0,e),t}var oD=e=>!!TU[e],Tv,EU=()=>Tv,xde=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:oD(ej)?i0(ej):void 0,arrayMethodsPlugin_:oD(lD)?i0(lD):void 0});function cD(e,t){t&&(e.patchPlugin_=i0(I_),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function F_(e){B_(e),e.drafts_.forEach(gde),e.drafts_=null}function B_(e){e===Tv&&(Tv=e.parent_)}var dD=e=>Tv=xde(Tv,e);function gde(e){const t=e[Al];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function uD(e,t){t.unfinalizedDrafts_=t.drafts_.length;const s=t.drafts_[0];if(e!==void 0&&e!==s){s[Al].modified_&&(F_(t),cd(4)),gd(e)&&(e=hD(t,e));const{patchPlugin_:n}=t;n&&n.generateReplacementPatches_(s[Al].base_,e,t)}else e=hD(t,s);return vde(t,e,!0),F_(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==CU?e:void 0}function hD(e,t){if(UN(t))return t;const s=t[Al];if(!s)return tj(t,e.handledSet_,e);if(!zN(s,e))return t;if(!s.modified_)return s.base_;if(!s.finalized_){const{callbacks_:a}=s;if(a)for(;a.length>0;)a.pop()(e);DU(s,e)}return s.copy_}function vde(e,t,s=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&G6(t,s)}function OU(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var zN=(e,t)=>e.scope_===t,yde=[];function PU(e,t,s,a){const n=Wu(e),i=e.type_;if(a!==void 0&&M_(n,a,i)===t){Q2(n,a,s,i);return}if(!e.draftLocations_){const o=e.draftLocations_=new Map;LN(n,(u,d)=>{if(ph(d)){const m=o.get(d)||[];m.push(u),o.set(d,m)}})}const l=e.draftLocations_.get(t)??yde;for(const o of l)Q2(n,o,s,i)}function bde(e,t,s){e.callbacks_.push(function(n){const i=t;if(!i||!zN(i,n))return;n.mapSetPlugin_?.fixSetContents(i);const l=W6(i);PU(e,i.draft_??i,l,s),DU(i,n)})}function DU(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0)){const{patchPlugin_:a}=t;if(a){const n=a.getPath(e);n&&a.generatePatches_(e,n,t)}OU(e)}}function jde(e,t,s){const{scope_:a}=e;if(ph(s)){const n=s[Al];zN(n,a)&&n.callbacks_.push(function(){v2(e);const l=W6(n);PU(e,s,l,t)})}else gd(s)&&e.callbacks_.push(function(){const i=Wu(e);e.type_===3?i.has(s)&&tj(s,a.handledSet_,a):M_(i,t,e.type_)===s&&a.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&tj(M_(e.copy_,t,e.type_),a.handledSet_,a)})}function tj(e,t,s){return!s.immer_.autoFreeze_&&s.unfinalizedDrafts_<1||ph(e)||t.has(e)||!gd(e)||UN(e)||(t.add(e),LN(e,(a,n)=>{if(ph(n)){const i=n[Al];if(zN(i,s)){const l=W6(i);Q2(e,a,l,e.type_),OU(i)}}else gd(n)&&tj(n,t,s)})),e}function Nde(e,t){const s=IN(e),a={type_:s?1:0,scope_:t?t.scope_:EU(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let n=a,i=rj;s&&(n=[a],i=Ev);const{revoke:l,proxy:o}=Proxy.revocable(n,i);return a.draft_=o,a.revoke_=l,[o,a]}var rj={get(e,t){if(t===Al)return e;let s=e.scope_.arrayMethodsPlugin_;const a=e.type_===1&&typeof t=="string";if(a&&s?.isArrayOperationMethod(t))return s.createMethodInterceptor(e,t);const n=Wu(e);if(!iD(n,t,e.type_))return wde(e,n,t);const i=n[t];if(e.finalized_||!gd(i)||a&&e.operationMethod&&s?.isMutatingArrayMethod(e.operationMethod)&&fde(t))return i;if(i===SS(e.base_,t)){v2(e);const l=e.type_===1?+t:t,o=z_(e.scope_,i,e,l);return e.copy_[l]=o}return i},has(e,t){return t in Wu(e)},ownKeys(e){return Reflect.ownKeys(Wu(e))},set(e,t,s){const a=RU(Wu(e),t);if(a?.set)return a.set.call(e.draft_,s),!0;if(!e.modified_){const n=SS(Wu(e),t),i=n?.[Al];if(i&&i.base_===s)return e.copy_[t]=s,e.assigned_.set(t,!1),!0;if(mde(s,n)&&(s!==void 0||iD(e.base_,t,e.type_)))return!0;v2(e),U_(e)}return e.copy_[t]===s&&(s!==void 0||t in e.copy_)||Number.isNaN(s)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=s,e.assigned_.set(t,!0),jde(e,t,s)),!0},deleteProperty(e,t){return v2(e),SS(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),U_(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const s=Wu(e),a=Reflect.getOwnPropertyDescriptor(s,t);return a&&{[g2]:!0,[R_]:e.type_!==1||t!=="length",[J2]:a[J2],[kv]:s[t]}},defineProperty(){cd(11)},getPrototypeOf(e){return xx(e.base_)},setPrototypeOf(){cd(12)}},Ev={};for(let e in rj){let t=rj[e];Ev[e]=function(){const s=arguments;return s[0]=s[0][0],t.apply(this,s)}}Ev.deleteProperty=function(e,t){return Ev.set.call(this,e,t,void 0)};Ev.set=function(e,t,s){return rj.set.call(this,e[0],t,s,e[0])};function SS(e,t){const s=e[Al];return(s?Wu(s):e)[t]}function wde(e,t,s){const a=RU(t,s);return a?kv in a?a[kv]:a.get?.call(e.draft_):void 0}function RU(e,t){if(!(t in e))return;let s=xx(e);for(;s;){const a=Object.getOwnPropertyDescriptor(s,t);if(a)return a;s=xx(s)}}function U_(e){e.modified_||(e.modified_=!0,e.parent_&&U_(e.parent_))}function v2(e){e.copy_||(e.assigned_=new Map,e.copy_=L_(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Sde=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(s,a,n)=>{if(Dp(s)&&!Dp(a)){const l=a;a=s;const o=this;return function(d=l,...m){return o.produce(d,f=>a.call(this,f,...m))}}Dp(a)||cd(6),n!==void 0&&!Dp(n)&&cd(7);let i;if(gd(s)){const l=dD(this),o=z_(l,s,void 0);let u=!0;try{i=a(o),u=!1}finally{u?F_(l):B_(l)}return cD(l,n),uD(i,l)}else if(!s||!V6(s)){if(i=a(s),i===void 0&&(i=s),i===CU&&(i=void 0),this.autoFreeze_&&G6(i,!0),n){const l=[],o=[];i0(I_).generateReplacementPatches_(s,i,{patches_:l,inversePatches_:o}),n(l,o)}return i}else cd(1,s)},this.produceWithPatches=(s,a)=>{if(Dp(s))return(o,...u)=>this.produceWithPatches(o,d=>s(d,...u));let n,i;return[this.produce(s,a,(o,u)=>{n=o,i=u}),n,i]},wS(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),wS(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),wS(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){gd(t)||cd(8),ph(t)&&(t=pd(t));const s=dD(this),a=z_(s,t,void 0);return a[Al].isManual_=!0,B_(s),a}finishDraft(t,s){const a=t&&t[Al];(!a||!a.isManual_)&&cd(9);const{scope_:n}=a;return cD(n,s),uD(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,s){let a;for(a=s.length-1;a>=0;a--){const i=s[a];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}a>-1&&(s=s.slice(a+1));const n=i0(I_).applyPatches_;return ph(t)?n(t,s):this.produce(t,i=>n(i,s))}};function z_(e,t,s,a){const[n,i]=FN(t)?i0(ej).proxyMap_(t,s):BN(t)?i0(ej).proxySet_(t,s):Nde(t,s);return(s?.scope_??EU()).drafts_.push(n),i.callbacks_=s?.callbacks_??[],i.key_=a,s&&a!==void 0?bde(s,i,a):i.callbacks_.push(function(u){u.mapSetPlugin_?.fixSetContents(i);const{patchPlugin_:d}=u;i.modified_&&d&&d.generatePatches_(i,[],u)}),n}function pd(e){return ph(e)||cd(10,e),MU(e)}function MU(e){if(!gd(e)||UN(e))return e;const t=e[Al];let s,a=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,s=L_(e,t.scope_.immer_.useStrictShallowCopy_),a=t.scope_.immer_.shouldUseStrictIteration()}else s=L_(e,!0);return LN(s,(n,i)=>{Q2(s,n,MU(i))},a),t&&(t.finalized_=!1),s}var _de=new Sde,LU=_de.produce;function IU(e){return({dispatch:s,getState:a})=>n=>i=>typeof i=="function"?i(s,a,e):n(i)}var Ade=IU(),Cde=IU,kde=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Z2:Z2.apply(null,arguments)};function jc(e,t){function s(...a){if(t){let n=t(...a);if(!n)throw new Error(Io(0));return{type:e,payload:n.payload,..."meta"in n&&{meta:n.meta},..."error"in n&&{error:n.error}}}return{type:e,payload:a[0]}}return s.toString=()=>`${e}`,s.type=e,s.match=a=>AU(a)&&a.type===e,s}var FU=class ov extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,ov.prototype)}static get[Symbol.species](){return ov}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new ov(...t[0].concat(this)):new ov(...t.concat(this))}};function mD(e){return gd(e)?LU(e,()=>{}):e}function qb(e,t,s){return e.has(t)?e.get(t):e.set(t,s(t)).get(t)}function Tde(e){return typeof e=="boolean"}var Ede=()=>function(t){const{thunk:s=!0,immutableCheck:a=!0,serializableCheck:n=!0,actionCreatorCheck:i=!0}=t??{};let l=new FU;return s&&(Tde(s)?l.push(Ade):l.push(Cde(s.extraArgument))),l},BU="RTK_autoBatch",Pa=()=>e=>({payload:e,meta:{[BU]:!0}}),fD=e=>t=>{setTimeout(t,e)},UU=(e={type:"raf"})=>t=>(...s)=>{const a=t(...s);let n=!0,i=!1,l=!1;const o=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:fD(10):e.type==="callback"?e.queueNotification:fD(e.timeout),d=()=>{l=!1,i&&(i=!1,o.forEach(m=>m()))};return Object.assign({},a,{subscribe(m){const f=()=>n&&m(),g=a.subscribe(f);return o.add(m),()=>{g(),o.delete(m)}},dispatch(m){try{return n=!m?.meta?.[BU],i=!n,i&&(l||(l=!0,u(d))),a.dispatch(m)}finally{n=!0}}})},Ode=e=>function(s){const{autoBatch:a=!0}=s??{};let n=new FU(e);return a&&n.push(UU(typeof a=="object"?a:void 0)),n};function Pde(e){const t=Ede(),{reducer:s=void 0,middleware:a,devTools:n=!0,preloadedState:i=void 0,enhancers:l=void 0}=e||{};let o;if(typeof s=="function")o=s;else if(q6(s))o=_U(s);else throw new Error(Io(1));let u;typeof a=="function"?u=a(t):u=t();let d=Z2;n&&(d=kde({trace:!1,...typeof n=="object"&&n}));const m=ude(...u),f=Ode(m);let g=typeof l=="function"?l(f):f();const p=d(...g);return SU(o,i,p)}function zU(e){const t={},s=[];let a;const n={addCase(i,l){const o=typeof i=="string"?i:i.type;if(!o)throw new Error(Io(28));if(o in t)throw new Error(Io(29));return t[o]=l,n},addAsyncThunk(i,l){return l.pending&&(t[i.pending.type]=l.pending),l.rejected&&(t[i.rejected.type]=l.rejected),l.fulfilled&&(t[i.fulfilled.type]=l.fulfilled),l.settled&&s.push({matcher:i.settled,reducer:l.settled}),n},addMatcher(i,l){return s.push({matcher:i,reducer:l}),n},addDefaultCase(i){return a=i,n}};return e(n),[t,s,a]}function Dde(e){return typeof e=="function"}function Rde(e,t){let[s,a,n]=zU(t),i;if(Dde(e))i=()=>mD(e());else{const o=mD(e);i=()=>o}function l(o=i(),u){let d=[s[u.type],...a.filter(({matcher:m})=>m(u)).map(({reducer:m})=>m)];return d.filter(m=>!!m).length===0&&(d=[n]),d.reduce((m,f)=>{if(f)if(ph(m)){const p=f(m,u);return p===void 0?m:p}else{if(gd(m))return LU(m,g=>f(g,u));{const g=f(m,u);if(g===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return m},o)}return l.getInitialState=i,l}var Mde="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Lde=(e=21)=>{let t="",s=e;for(;s--;)t+=Mde[Math.random()*64|0];return t},Ide=Symbol.for("rtk-slice-createasyncthunk");function Fde(e,t){return`${e}/${t}`}function Bde({creators:e}={}){const t=e?.asyncThunk?.[Ide];return function(a){const{name:n,reducerPath:i=n}=a;if(!n)throw new Error(Io(11));const l=(typeof a.reducers=="function"?a.reducers(zde()):a.reducers)||{},o=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(w,A){const C=typeof w=="string"?w:w.type;if(!C)throw new Error(Io(12));if(C in u.sliceCaseReducersByType)throw new Error(Io(13));return u.sliceCaseReducersByType[C]=A,d},addMatcher(w,A){return u.sliceMatchers.push({matcher:w,reducer:A}),d},exposeAction(w,A){return u.actionCreators[w]=A,d},exposeCaseReducer(w,A){return u.sliceCaseReducersByName[w]=A,d}};o.forEach(w=>{const A=l[w],C={reducerName:w,type:Fde(n,w),createNotation:typeof a.reducers=="function"};Hde(A)?Vde(C,A,d,t):$de(C,A,d)});function m(){const[w={},A=[],C=void 0]=typeof a.extraReducers=="function"?zU(a.extraReducers):[a.extraReducers],M={...w,...u.sliceCaseReducersByType};return Rde(a.initialState,R=>{for(let D in M)R.addCase(D,M[D]);for(let D of u.sliceMatchers)R.addMatcher(D.matcher,D.reducer);for(let D of A)R.addMatcher(D.matcher,D.reducer);C&&R.addDefaultCase(C)})}const f=w=>w,g=new Map,p=new WeakMap;let y;function v(w,A){return y||(y=m()),y(w,A)}function j(){return y||(y=m()),y.getInitialState()}function N(w,A=!1){function C(R){let D=R[w];return typeof D>"u"&&A&&(D=qb(p,C,j)),D}function M(R=f){const D=qb(g,A,()=>new WeakMap);return qb(D,R,()=>{const B={};for(const[z,I]of Object.entries(a.selectors??{}))B[z]=Ude(I,R,()=>qb(p,R,j),A);return B})}return{reducerPath:w,getSelectors:M,get selectors(){return M(C)},selectSlice:C}}const k={name:n,reducer:v,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:j,...N(i),injectInto(w,{reducerPath:A,...C}={}){const M=A??i;return w.inject({reducerPath:M,reducer:v},C),{...k,...N(M,!0)}}};return k}}function Ude(e,t,s,a){function n(i,...l){let o=t(i);return typeof o>"u"&&a&&(o=s()),e(o,...l)}return n.unwrapped=e,n}var no=Bde();function zde(){function e(t,s){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...s}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...s){return t(...s)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,s){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:s}},asyncThunk:e}}function $de({type:e,reducerName:t,createNotation:s},a,n){let i,l;if("reducer"in a){if(s&&!qde(a))throw new Error(Io(17));i=a.reducer,l=a.prepare}else i=a;n.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,l?jc(e,l):jc(e))}function Hde(e){return e._reducerDefinitionType==="asyncThunk"}function qde(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Vde({type:e,reducerName:t},s,a,n){if(!n)throw new Error(Io(18));const{payloadCreator:i,fulfilled:l,pending:o,rejected:u,settled:d,options:m}=s,f=n(e,i,m);a.exposeAction(t,f),l&&a.addCase(f.fulfilled,l),o&&a.addCase(f.pending,o),u&&a.addCase(f.rejected,u),d&&a.addMatcher(f.settled,d),a.exposeCaseReducer(t,{fulfilled:l||Vb,pending:o||Vb,rejected:u||Vb,settled:d||Vb})}function Vb(){}var Wde="task",$U="listener",HU="completed",K6="cancelled",Gde=`task-${K6}`,Kde=`task-${HU}`,$_=`${$U}-${K6}`,Yde=`${$U}-${HU}`,$N=class{constructor(e){this.code=e,this.message=`${Wde} ${K6} (reason: ${e})`}name="TaskAbortError";message},Y6=(e,t)=>{if(typeof e!="function")throw new TypeError(Io(32))},sj=()=>{},qU=(e,t=sj)=>(e.catch(t),e),VU=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Wf=e=>{if(e.aborted)throw new $N(e.reason)};function WU(e,t){let s=sj;return new Promise((a,n)=>{const i=()=>n(new $N(e.reason));if(e.aborted){i();return}s=VU(e,i),t.finally(()=>s()).then(a,n)}).finally(()=>{s=sj})}var Zde=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(s){return{status:s instanceof $N?"cancelled":"rejected",error:s}}finally{t?.()}},aj=e=>t=>qU(WU(e,t).then(s=>(Wf(e),s))),GU=e=>{const t=aj(e);return s=>t(new Promise(a=>setTimeout(a,s)))},{assign:Jp}=Object,pD={},HN="listenerMiddleware",Xde=(e,t)=>{const s=a=>VU(e,()=>a.abort(e.reason));return(a,n)=>{Y6(a);const i=new AbortController;s(i);const l=Zde(async()=>{Wf(e),Wf(i.signal);const o=await a({pause:aj(i.signal),delay:GU(i.signal),signal:i.signal});return Wf(i.signal),o},()=>i.abort(Kde));return n?.autoJoin&&t.push(l.catch(sj)),{result:aj(e)(l),cancel(){i.abort(Gde)}}}},Jde=(e,t)=>{const s=async(a,n)=>{Wf(t);let i=()=>{};const o=[new Promise((u,d)=>{let m=e({predicate:a,effect:(f,g)=>{g.unsubscribe(),u([f,g.getState(),g.getOriginalState()])}});i=()=>{m(),d()}})];n!=null&&o.push(new Promise(u=>setTimeout(u,n,null)));try{const u=await WU(t,Promise.race(o));return Wf(t),u}finally{i()}};return(a,n)=>qU(s(a,n))},KU=e=>{let{type:t,actionCreator:s,matcher:a,predicate:n,effect:i}=e;if(t)n=jc(t).match;else if(s)t=s.type,n=s.match;else if(a)n=a;else if(!n)throw new Error(Io(21));return Y6(i),{predicate:n,type:t,effect:i}},YU=Jp(e=>{const{type:t,predicate:s,effect:a}=KU(e);return{id:Lde(),effect:a,type:t,predicate:s,pending:new Set,unsubscribe:()=>{throw new Error(Io(22))}}},{withTypes:()=>YU}),xD=(e,t)=>{const{type:s,effect:a,predicate:n}=KU(t);return Array.from(e.values()).find(i=>(typeof s=="string"?i.type===s:i.predicate===n)&&i.effect===a)},H_=e=>{e.pending.forEach(t=>{t.abort($_)})},Qde=(e,t)=>()=>{for(const s of t.keys())H_(s);e.clear()},gD=(e,t,s)=>{try{e(t,s)}catch(a){setTimeout(()=>{throw a},0)}},ZU=Jp(jc(`${HN}/add`),{withTypes:()=>ZU}),eue=jc(`${HN}/removeAll`),XU=Jp(jc(`${HN}/remove`),{withTypes:()=>XU}),tue=(...e)=>{console.error(`${HN}/error`,...e)},dy=(e={})=>{const t=new Map,s=new Map,a=p=>{const y=s.get(p)??0;s.set(p,y+1)},n=p=>{const y=s.get(p)??1;y===1?s.delete(p):s.set(p,y-1)},{extra:i,onError:l=tue}=e;Y6(l);const o=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),y=>{p.unsubscribe(),y?.cancelActive&&H_(p)}),u=p=>{const y=xD(t,p)??YU(p);return o(y)};Jp(u,{withTypes:()=>u});const d=p=>{const y=xD(t,p);return y&&(y.unsubscribe(),p.cancelActive&&H_(y)),!!y};Jp(d,{withTypes:()=>d});const m=async(p,y,v,j)=>{const N=new AbortController,k=Jde(u,N.signal),w=[];try{p.pending.add(N),a(p),await Promise.resolve(p.effect(y,Jp({},v,{getOriginalState:j,condition:(A,C)=>k(A,C).then(Boolean),take:k,delay:GU(N.signal),pause:aj(N.signal),extra:i,signal:N.signal,fork:Xde(N.signal,w),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((A,C,M)=>{A!==N&&(A.abort($_),M.delete(A))})},cancel:()=>{N.abort($_),p.pending.delete(N)},throwIfCancelled:()=>{Wf(N.signal)}})))}catch(A){A instanceof $N||gD(l,A,{raisedBy:"effect"})}finally{await Promise.all(w),N.abort(Yde),n(p),p.pending.delete(N)}},f=Qde(t,s);return{middleware:p=>y=>v=>{if(!AU(v))return y(v);if(ZU.match(v))return u(v.payload);if(eue.match(v)){f();return}if(XU.match(v))return d(v.payload);let j=p.getState();const N=()=>{if(j===pD)throw new Error(Io(23));return j};let k;try{if(k=y(v),t.size>0){const w=p.getState(),A=Array.from(t.values());for(const C of A){let M=!1;try{M=C.predicate(v,w,j)}catch(R){M=!1,gD(l,R,{raisedBy:"predicate"})}M&&m(C,v,p,N)}}}finally{j=pD}return k},startListening:u,stopListening:d,clearListeners:f}};function Io(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var rue={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},JU=no({name:"chartLayout",initialState:rue,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var s,a,n,i;e.margin.top=(s=t.payload.top)!==null&&s!==void 0?s:0,e.margin.right=(a=t.payload.right)!==null&&a!==void 0?a:0,e.margin.bottom=(n=t.payload.bottom)!==null&&n!==void 0?n:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:sue,setLayout:aue,setChartSize:nue,setScale:iue}=JU.actions,lue=JU.reducer;function QU(e,t,s){return Array.isArray(e)&&e&&t+s!==0?e.slice(t,s+1):e}function ca(e){return Number.isFinite(e)}function lu(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function vD(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function zp(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?vD(Object(s),!0).forEach(function(a){oue(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):vD(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function oue(e,t,s){return(t=cue(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function cue(e){var t=due(e,"string");return typeof t=="symbol"?t:t+""}function due(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ms(e,t,s){return Sa(e)||Sa(t)?s:iu(t)?n0(e,t,s):typeof t=="function"?t(e):s}var uue=(e,t,s)=>{if(t&&s){var{width:a,height:n}=s,{align:i,verticalAlign:l,layout:o}=t;if((o==="vertical"||o==="horizontal"&&l==="middle")&&i!=="center"&&Ht(e[i]))return zp(zp({},e),{},{[i]:e[i]+(a||0)});if((o==="horizontal"||o==="vertical"&&i==="center")&&l!=="middle"&&Ht(e[l]))return zp(zp({},e),{},{[l]:e[l]+(n||0)})}return e},mu=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",ez=(e,t,s,a)=>{if(a)return e.map(o=>o.coordinate);var n,i,l=e.map(o=>(o.coordinate===t&&(n=!0),o.coordinate===s&&(i=!0),o.coordinate));return n||l.push(t),i||l.push(s),l},tz=(e,t,s)=>{if(!e)return null;var{duplicateDomain:a,type:n,range:i,scale:l,realScaleType:o,isCategorical:u,categoricalDomain:d,tickCount:m,ticks:f,niceTicks:g,axisType:p}=e;if(!l)return null;var y=o==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,v=n==="category"&&l.bandwidth?l.bandwidth()/y:0;if(v=p==="angleAxis"&&i&&i.length>=2?pi(i[0]-i[1])*2*v:v,f||g){var j=(f||g||[]).map((N,k)=>{var w=a?a.indexOf(N):N;return{coordinate:l(w)+v,value:N,offset:v,index:k}});return j.filter(N=>!bc(N.coordinate))}return u&&d?d.map((N,k)=>({coordinate:l(N)+v,value:N,index:k,offset:v})):l.ticks&&m!=null?l.ticks(m).map((N,k)=>({coordinate:l(N)+v,value:N,offset:v,index:k})):l.domain().map((N,k)=>({coordinate:l(N)+v,value:a?a[N]:N,index:k,offset:v}))},yD=1e-4,hue=e=>{var t=e.domain();if(!(!t||t.length<=2)){var s=t.length,a=e.range(),n=Math.min(a[0],a[1])-yD,i=Math.max(a[0],a[1])+yD,l=e(t[0]),o=e(t[s-1]);(l<n||l>i||o<n||o>i)&&e.domain([t[0],t[s-1]])}},mue=(e,t)=>{if(!t||t.length!==2||!Ht(t[0])||!Ht(t[1]))return e;var s=Math.min(t[0],t[1]),a=Math.max(t[0],t[1]),n=[e[0],e[1]];return(!Ht(e[0])||e[0]<s)&&(n[0]=s),(!Ht(e[1])||e[1]>a)&&(n[1]=a),n[0]>a&&(n[0]=a),n[1]<s&&(n[1]=s),n},fue=e=>{var t,s=e.length;if(!(s<=0)){var a=(t=e[0])===null||t===void 0?void 0:t.length;if(!(a==null||a<=0))for(var n=0;n<a;++n)for(var i=0,l=0,o=0;o<s;++o){var u=e[o],d=u?.[n];if(d!=null){var m=d[1],f=d[0],g=bc(m)?f:m;g>=0?(d[0]=i,d[1]=i+g,i=m):(d[0]=l,d[1]=l+g,l=m)}}}},pue=e=>{var t,s=e.length;if(!(s<=0)){var a=(t=e[0])===null||t===void 0?void 0:t.length;if(!(a==null||a<=0))for(var n=0;n<a;++n)for(var i=0,l=0;l<s;++l){var o=e[l],u=o?.[n];if(u!=null){var d=bc(u[1])?u[0]:u[1];d>=0?(u[0]=i,u[1]=i+d,i=u[1]):(u[0]=0,u[1]=0)}}}},xue={sign:fue,expand:Moe,none:a0,silhouette:Loe,wiggle:Ioe,positive:pue},gue=(e,t,s)=>{var a,n=(a=xue[s])!==null&&a!==void 0?a:a0,i=Roe().keys(t).value((o,u)=>Number(Ms(o,u,0))).order(P_).offset(n),l=i(e);return l.forEach((o,u)=>{o.forEach((d,m)=>{var f=Ms(e[m],t[u],0);Array.isArray(f)&&f.length===2&&Ht(f[0])&&Ht(f[1])&&(d[0]=f[0],d[1]=f[1])})}),l};function rz(e){return e==null?void 0:String(e)}function nj(e){var{axis:t,ticks:s,bandSize:a,entry:n,index:i,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Sa(n[t.dataKey])){var o=iU(s,"value",n[t.dataKey]);if(o)return o.coordinate+a/2}return s[i]?s[i].coordinate+a/2:null}var u=Ms(n,Sa(l)?t.dataKey:l);return Sa(u)?null:t.scale(u)}var bD=e=>{var{axis:t,ticks:s,offset:a,bandSize:n,entry:i,index:l}=e;if(t.type==="category")return s[l]?s[l].coordinate+a:null;var o=Ms(i,t.dataKey,t.scale.domain()[l]);return Sa(o)?null:t.scale(o)-n/2+a},vue=e=>{var{numericAxis:t}=e,s=t.scale.domain();if(t.type==="number"){var a=Math.min(s[0],s[1]),n=Math.max(s[0],s[1]);return a<=0&&n>=0?0:n<0?n:a}return s[0]},yue=e=>{var t=e.flat(2).filter(Ht);return[Math.min(...t),Math.max(...t)]},bue=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],jue=(e,t,s)=>{if(e!=null)return bue(Object.keys(e).reduce((a,n)=>{var i=e[n];if(!i)return a;var{stackedData:l}=i,o=l.reduce((u,d)=>{var m=QU(d,t,s),f=yue(m);return!ca(f[0])||!ca(f[1])?u:[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],a[0]),Math.max(o[1],a[1])]},[1/0,-1/0]))},jD=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ND=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Mm=(e,t,s)=>{if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!s||a>0)return a}if(e&&t&&t.length>=2){for(var n=RN(t,m=>m.coordinate),i=1/0,l=1,o=n.length;l<o;l++){var u=n[l],d=n[l-1];i=Math.min((u?.coordinate||0)-(d?.coordinate||0),i)}return i===1/0?0:i}return s?void 0:0};function wD(e){var{tooltipEntrySettings:t,dataKey:s,payload:a,value:n,name:i}=e;return zp(zp({},t),{},{dataKey:s,payload:a,value:n,name:i})}function Km(e,t){if(e)return String(e);if(typeof t=="string")return t}var Nue=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},wue=(e,t)=>t==="centric"?e.angle:e.radius,Ah=e=>e.layout.width,Ch=e=>e.layout.height,Sue=e=>e.layout.scale,sz=e=>e.layout.margin,qN=Je(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),VN=Je(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),az="data-recharts-item-index",nz="data-recharts-item-id",uy=60;function SD(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Wb(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?SD(Object(s),!0).forEach(function(a){_ue(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):SD(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function _ue(e,t,s){return(t=Aue(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Aue(e){var t=Cue(e,"string");return typeof t=="symbol"?t:t+""}function Cue(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kue=e=>e.brush.height;function Tue(e){var t=VN(e);return t.reduce((s,a)=>{if(a.orientation==="left"&&!a.mirror&&!a.hide){var n=typeof a.width=="number"?a.width:uy;return s+n}return s},0)}function Eue(e){var t=VN(e);return t.reduce((s,a)=>{if(a.orientation==="right"&&!a.mirror&&!a.hide){var n=typeof a.width=="number"?a.width:uy;return s+n}return s},0)}function Oue(e){var t=qN(e);return t.reduce((s,a)=>a.orientation==="top"&&!a.mirror&&!a.hide?s+a.height:s,0)}function Pue(e){var t=qN(e);return t.reduce((s,a)=>a.orientation==="bottom"&&!a.mirror&&!a.hide?s+a.height:s,0)}var ei=Je([Ah,Ch,sz,kue,Tue,Eue,Oue,Pue,NU,ade],(e,t,s,a,n,i,l,o,u,d)=>{var m={left:(s.left||0)+n,right:(s.right||0)+i},f={top:(s.top||0)+l,bottom:(s.bottom||0)+o},g=Wb(Wb({},f),m),p=g.bottom;g.bottom+=a,g=uue(g,u,d);var y=e-g.left-g.right,v=t-g.top-g.bottom;return Wb(Wb({brushBottom:p},g),{},{width:Math.max(y,0),height:Math.max(v,0)})}),Due=Je(ei,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Z6=Je(Ah,Ch,(e,t)=>({x:0,y:0,width:e,height:t})),Rue=_.createContext(null),vi=()=>_.useContext(Rue)!=null,WN=e=>e.brush,GN=Je([WN,ei,sz],(e,t,s)=>({height:e.height,x:Ht(e.x)?e.x:t.left,y:Ht(e.y)?e.y:t.top+t.height+t.brushBottom-(s?.bottom||0),width:Ht(e.width)?e.width:t.width})),_S={},AS={},CS={},_D;function Mue(){return _D||(_D=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s,a,{signal:n,edges:i}={}){let l,o=null;const u=i!=null&&i.includes("leading"),d=i==null||i.includes("trailing"),m=()=>{o!==null&&(s.apply(l,o),l=void 0,o=null)},f=()=>{d&&m(),v()};let g=null;const p=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,f()},a)},y=()=>{g!==null&&(clearTimeout(g),g=null)},v=()=>{y(),l=void 0,o=null},j=()=>{m()},N=function(...k){if(n?.aborted)return;l=this,o=k;const w=g==null;p(),u&&w&&m()};return N.schedule=p,N.cancel=v,N.flush=j,n?.addEventListener("abort",v,{once:!0}),N}e.debounce=t})(CS)),CS}var AD;function Lue(){return AD||(AD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mue();function s(a,n=0,i={}){typeof i!="object"&&(i={});const{leading:l=!1,trailing:o=!0,maxWait:u}=i,d=Array(2);l&&(d[0]="leading"),o&&(d[1]="trailing");let m,f=null;const g=t.debounce(function(...v){m=a.apply(this,v),f=null},n,{edges:d}),p=function(...v){return u!=null&&(f===null&&(f=Date.now()),Date.now()-f>=u)?(m=a.apply(this,v),f=Date.now(),g.cancel(),g.schedule(),m):(g.apply(this,v),m)},y=()=>(g.flush(),m);return p.cancel=g.cancel,p.flush=y,p}e.debounce=s})(AS)),AS}var CD;function Iue(){return CD||(CD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Lue();function s(a,n=0,i={}){const{leading:l=!0,trailing:o=!0}=i;return t.debounce(a,n,{leading:l,maxWait:n,trailing:o})}e.throttle=s})(_S)),_S}var kS,kD;function Fue(){return kD||(kD=1,kS=Iue().throttle),kS}var Bue=Fue();const Uue=Sh(Bue);var ij=function(t,s){for(var a=arguments.length,n=new Array(a>2?a-2:0),i=2;i<a;i++)n[i-2]=arguments[i];if(typeof console<"u"&&console.warn&&(s===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(s===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(s.replace(/%s/g,()=>n[l++]))}},iz=(e,t,s)=>{var{width:a="100%",height:n="100%",aspect:i,maxHeight:l}=s,o=fh(a)?e:Number(a),u=fh(n)?t:Number(n);return i&&i>0&&(o?u=o/i:u&&(o=u*i),l&&u!=null&&u>l&&(u=l)),{calculatedWidth:o,calculatedHeight:u}},zue={width:0,height:0,overflow:"visible"},$ue={width:0,overflowX:"visible"},Hue={height:0,overflowY:"visible"},que={},Vue=e=>{var{width:t,height:s}=e,a=fh(t),n=fh(s);return a&&n?zue:a?$ue:n?Hue:que};function Wue(e){var{width:t,height:s,aspect:a}=e,n=t,i=s;return n===void 0&&i===void 0?(n="100%",i="100%"):n===void 0?n=a&&a>0?void 0:"100%":i===void 0&&(i=a&&a>0?void 0:"100%"),{width:n,height:i}}function q_(){return q_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},q_.apply(null,arguments)}function TD(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function ED(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?TD(Object(s),!0).forEach(function(a){Gue(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):TD(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Gue(e,t,s){return(t=Kue(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Kue(e){var t=Yue(e,"string");return typeof t=="symbol"?t:t+""}function Yue(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lz=_.createContext({width:-1,height:-1});function Zue(e){return lu(e.width)&&lu(e.height)}function oz(e){var{children:t,width:s,height:a}=e,n=_.useMemo(()=>({width:s,height:a}),[s,a]);return Zue(n)?_.createElement(lz.Provider,{value:n},t):null}var X6=()=>_.useContext(lz),Xue=_.forwardRef((e,t)=>{var{aspect:s,initialDimension:a={width:-1,height:-1},width:n,height:i,minWidth:l=0,minHeight:o,maxHeight:u,children:d,debounce:m=0,id:f,className:g,onResize:p,style:y={}}=e,v=_.useRef(null),j=_.useRef();j.current=p,_.useImperativeHandle(t,()=>v.current);var[N,k]=_.useState({containerWidth:a.width,containerHeight:a.height}),w=_.useCallback((D,B)=>{k(z=>{var I=Math.round(D),F=Math.round(B);return z.containerWidth===I&&z.containerHeight===F?z:{containerWidth:I,containerHeight:F}})},[]);_.useEffect(()=>{if(v.current==null||typeof ResizeObserver>"u")return ly;var D=F=>{var Y,{width:te,height:ue}=F[0].contentRect;w(te,ue),(Y=j.current)===null||Y===void 0||Y.call(j,te,ue)};m>0&&(D=Uue(D,m,{trailing:!0,leading:!1}));var B=new ResizeObserver(D),{width:z,height:I}=v.current.getBoundingClientRect();return w(z,I),B.observe(v.current),()=>{B.disconnect()}},[w,m]);var{containerWidth:A,containerHeight:C}=N;ij(!s||s>0,"The aspect(%s) must be greater than zero.",s);var{calculatedWidth:M,calculatedHeight:R}=iz(A,C,{width:n,height:i,aspect:s,maxHeight:u});return ij(M!=null&&M>0||R!=null&&R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,R,n,i,l,o,s),_.createElement("div",{id:f?"".concat(f):void 0,className:ys("recharts-responsive-container",g),style:ED(ED({},y),{},{width:n,height:i,minWidth:l,minHeight:o,maxHeight:u}),ref:v},_.createElement("div",{style:Vue({width:n,height:i})},_.createElement(oz,{width:M,height:R},d)))}),Nl=_.forwardRef((e,t)=>{var s=X6();if(lu(s.width)&&lu(s.height))return e.children;var{width:a,height:n}=Wue({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:l}=iz(void 0,void 0,{width:a,height:n,aspect:e.aspect,maxHeight:e.maxHeight});return Ht(i)&&Ht(l)?_.createElement(oz,{width:i,height:l},e.children):_.createElement(Xue,q_({},e,{width:a,height:n,ref:t}))});function cz(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var KN=()=>{var e,t=vi(),s=Jt(Due),a=Jt(GN),n=(e=Jt(WN))===null||e===void 0?void 0:e.padding;return!t||!a||!n?s:{width:a.width-n.left-n.right,height:a.height-n.top-n.bottom,x:n.left,y:n.top}},Jue={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},dz=()=>{var e;return(e=Jt(ei))!==null&&e!==void 0?e:Jue},J6=()=>Jt(Ah),Q6=()=>Jt(Ch),Que=()=>Jt(e=>e.layout.margin),Qr=e=>e.layout.layoutType,Ym=()=>Jt(Qr),ehe=()=>{var e=Ym();if(e==="horizontal"||e==="vertical")return e},the=()=>{var e=Ym();return e!==void 0},YN=e=>{var t=fa(),s=vi(),{width:a,height:n}=e,i=X6(),l=a,o=n;return i&&(l=i.width>0?i.width:a,o=i.height>0?i.height:n),_.useEffect(()=>{!s&&lu(l)&&lu(o)&&t(nue({width:l,height:o}))},[t,s,l,o]),null},uz=Symbol.for("immer-nothing"),OD=Symbol.for("immer-draftable"),Uo=Symbol.for("immer-state");function dd(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ov=Object.getPrototypeOf;function gx(e){return!!e&&!!e[Uo]}function l0(e){return e?hz(e)||Array.isArray(e)||!!e[OD]||!!e.constructor?.[OD]||hy(e)||XN(e):!1}var rhe=Object.prototype.constructor.toString(),PD=new WeakMap;function hz(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const s=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(s===Object)return!0;if(typeof s!="function")return!1;let a=PD.get(s);return a===void 0&&(a=Function.toString.call(s),PD.set(s,a)),a===rhe}function lj(e,t,s=!0){ZN(e)===0?(s?Reflect.ownKeys(e):Object.keys(e)).forEach(n=>{t(n,e[n],e)}):e.forEach((a,n)=>t(n,a,e))}function ZN(e){const t=e[Uo];return t?t.type_:Array.isArray(e)?1:hy(e)?2:XN(e)?3:0}function V_(e,t){return ZN(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function mz(e,t,s){const a=ZN(e);a===2?e.set(t,s):a===3?e.add(s):e[t]=s}function she(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function hy(e){return e instanceof Map}function XN(e){return e instanceof Set}function Of(e){return e.copy_||e.base_}function W_(e,t){if(hy(e))return new Map(e);if(XN(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const s=hz(e);if(t===!0||t==="class_only"&&!s){const a=Object.getOwnPropertyDescriptors(e);delete a[Uo];let n=Reflect.ownKeys(a);for(let i=0;i<n.length;i++){const l=n[i],o=a[l];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(a[l]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[l]})}return Object.create(Ov(e),a)}else{const a=Ov(e);if(a!==null&&s)return{...e};const n=Object.create(a);return Object.assign(n,e)}}function eC(e,t=!1){return JN(e)||gx(e)||!l0(e)||(ZN(e)>1&&Object.defineProperties(e,{set:Gb,add:Gb,clear:Gb,delete:Gb}),Object.freeze(e),t&&Object.values(e).forEach(s=>eC(s,!0))),e}function ahe(){dd(2)}var Gb={value:ahe};function JN(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var nhe={};function o0(e){const t=nhe[e];return t||dd(0,e),t}var Pv;function fz(){return Pv}function ihe(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function DD(e,t){t&&(o0("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function G_(e){K_(e),e.drafts_.forEach(lhe),e.drafts_=null}function K_(e){e===Pv&&(Pv=e.parent_)}function RD(e){return Pv=ihe(Pv,e)}function lhe(e){const t=e[Uo];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function MD(e,t){t.unfinalizedDrafts_=t.drafts_.length;const s=t.drafts_[0];return e!==void 0&&e!==s?(s[Uo].modified_&&(G_(t),dd(4)),l0(e)&&(e=oj(t,e),t.parent_||cj(t,e)),t.patches_&&o0("Patches").generateReplacementPatches_(s[Uo].base_,e,t.patches_,t.inversePatches_)):e=oj(t,s,[]),G_(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==uz?e:void 0}function oj(e,t,s){if(JN(t))return t;const a=e.immer_.shouldUseStrictIteration(),n=t[Uo];if(!n)return lj(t,(i,l)=>LD(e,n,t,i,l,s),a),t;if(n.scope_!==e)return t;if(!n.modified_)return cj(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let l=i,o=!1;n.type_===3&&(l=new Set(i),i.clear(),o=!0),lj(l,(u,d)=>LD(e,n,i,u,d,s,o),a),cj(e,i,!1),s&&e.patches_&&o0("Patches").generatePatches_(n,s,e.patches_,e.inversePatches_)}return n.copy_}function LD(e,t,s,a,n,i,l){if(n==null||typeof n!="object"&&!l)return;const o=JN(n);if(!(o&&!l)){if(gx(n)){const u=i&&t&&t.type_!==3&&!V_(t.assigned_,a)?i.concat(a):void 0,d=oj(e,n,u);if(mz(s,a,d),gx(d))e.canAutoFreeze_=!1;else return}else l&&s.add(n);if(l0(n)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[a]===n&&o)return;oj(e,n),(!t||!t.scope_.parent_)&&typeof a!="symbol"&&(hy(s)?s.has(a):Object.prototype.propertyIsEnumerable.call(s,a))&&cj(e,n)}}}function cj(e,t,s=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&eC(t,s)}function ohe(e,t){const s=Array.isArray(e),a={type_:s?1:0,scope_:t?t.scope_:fz(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let n=a,i=tC;s&&(n=[a],i=Dv);const{revoke:l,proxy:o}=Proxy.revocable(n,i);return a.draft_=o,a.revoke_=l,o}var tC={get(e,t){if(t===Uo)return e;const s=Of(e);if(!V_(s,t))return che(e,s,t);const a=s[t];return e.finalized_||!l0(a)?a:a===TS(e.base_,t)?(ES(e),e.copy_[t]=Z_(a,e)):a},has(e,t){return t in Of(e)},ownKeys(e){return Reflect.ownKeys(Of(e))},set(e,t,s){const a=pz(Of(e),t);if(a?.set)return a.set.call(e.draft_,s),!0;if(!e.modified_){const n=TS(Of(e),t),i=n?.[Uo];if(i&&i.base_===s)return e.copy_[t]=s,e.assigned_[t]=!1,!0;if(she(s,n)&&(s!==void 0||V_(e.base_,t)))return!0;ES(e),Y_(e)}return e.copy_[t]===s&&(s!==void 0||t in e.copy_)||Number.isNaN(s)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=s,e.assigned_[t]=!0),!0},deleteProperty(e,t){return TS(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,ES(e),Y_(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const s=Of(e),a=Reflect.getOwnPropertyDescriptor(s,t);return a&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:a.enumerable,value:s[t]}},defineProperty(){dd(11)},getPrototypeOf(e){return Ov(e.base_)},setPrototypeOf(){dd(12)}},Dv={};lj(tC,(e,t)=>{Dv[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Dv.deleteProperty=function(e,t){return Dv.set.call(this,e,t,void 0)};Dv.set=function(e,t,s){return tC.set.call(this,e[0],t,s,e[0])};function TS(e,t){const s=e[Uo];return(s?Of(s):e)[t]}function che(e,t,s){const a=pz(t,s);return a?"value"in a?a.value:a.get?.call(e.draft_):void 0}function pz(e,t){if(!(t in e))return;let s=Ov(e);for(;s;){const a=Object.getOwnPropertyDescriptor(s,t);if(a)return a;s=Ov(s)}}function Y_(e){e.modified_||(e.modified_=!0,e.parent_&&Y_(e.parent_))}function ES(e){e.copy_||(e.copy_=W_(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var dhe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,s,a)=>{if(typeof t=="function"&&typeof s!="function"){const i=s;s=t;const l=this;return function(u=i,...d){return l.produce(u,m=>s.call(this,m,...d))}}typeof s!="function"&&dd(6),a!==void 0&&typeof a!="function"&&dd(7);let n;if(l0(t)){const i=RD(this),l=Z_(t,void 0);let o=!0;try{n=s(l),o=!1}finally{o?G_(i):K_(i)}return DD(i,a),MD(n,i)}else if(!t||typeof t!="object"){if(n=s(t),n===void 0&&(n=t),n===uz&&(n=void 0),this.autoFreeze_&&eC(n,!0),a){const i=[],l=[];o0("Patches").generateReplacementPatches_(t,n,i,l),a(i,l)}return n}else dd(1,t)},this.produceWithPatches=(t,s)=>{if(typeof t=="function")return(l,...o)=>this.produceWithPatches(l,u=>t(u,...o));let a,n;return[this.produce(t,s,(l,o)=>{a=l,n=o}),a,n]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){l0(e)||dd(8),gx(e)&&(e=uhe(e));const t=RD(this),s=Z_(e,void 0);return s[Uo].isManual_=!0,K_(t),s}finishDraft(e,t){const s=e&&e[Uo];(!s||!s.isManual_)&&dd(9);const{scope_:a}=s;return DD(a,t),MD(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let s;for(s=t.length-1;s>=0;s--){const n=t[s];if(n.path.length===0&&n.op==="replace"){e=n.value;break}}s>-1&&(t=t.slice(s+1));const a=o0("Patches").applyPatches_;return gx(e)?a(e,t):this.produce(e,n=>a(n,t))}};function Z_(e,t){const s=hy(e)?o0("MapSet").proxyMap_(e,t):XN(e)?o0("MapSet").proxySet_(e,t):ohe(e,t);return(t?t.scope_:fz()).drafts_.push(s),s}function uhe(e){return gx(e)||dd(10,e),xz(e)}function xz(e){if(!l0(e)||JN(e))return e;const t=e[Uo];let s,a=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,s=W_(e,t.scope_.immer_.useStrictShallowCopy_),a=t.scope_.immer_.shouldUseStrictIteration()}else s=W_(e,!0);return lj(s,(n,i)=>{mz(s,n,xz(i))},a),t&&(t.finalized_=!1),s}var hhe=new dhe;hhe.produce;var mhe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},gz=no({name:"legend",initialState:mhe,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Pa()},replaceLegendPayload:{reducer(e,t){var{prev:s,next:a}=t.payload,n=pd(e).payload.indexOf(s);n>-1&&(e.payload[n]=a)},prepare:Pa()},removeLegendPayload:{reducer(e,t){var s=pd(e).payload.indexOf(t.payload);s>-1&&e.payload.splice(s,1)},prepare:Pa()}}}),{setLegendSize:ID,setLegendSettings:fhe,addLegendPayload:vz,replaceLegendPayload:yz,removeLegendPayload:bz}=gz.actions,phe=gz.reducer,xhe=["contextPayload"];function X_(){return X_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},X_.apply(null,arguments)}function FD(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function vx(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?FD(Object(s),!0).forEach(function(a){ghe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):FD(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function ghe(e,t,s){return(t=vhe(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function vhe(e){var t=yhe(e,"string");return typeof t=="symbol"?t:t+""}function yhe(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bhe(e,t){if(e==null)return{};var s,a,n=jhe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function jhe(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function Nhe(e){return e.value}function whe(e){var{contextPayload:t}=e,s=bhe(e,xhe),a=vU(t,e.payloadUniqBy,Nhe),n=vx(vx({},s),{},{payload:a});return _.isValidElement(e.content)?_.cloneElement(e.content,n):typeof e.content=="function"?_.createElement(e.content,n):_.createElement(mce,n)}function She(e,t,s,a,n,i){var{layout:l,align:o,verticalAlign:u}=t,d,m;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&l==="vertical"?d={left:((a||0)-i.width)/2}:d=o==="right"?{right:s&&s.right||0}:{left:s&&s.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(u==="middle"?m={top:((n||0)-i.height)/2}:m=u==="bottom"?{bottom:s&&s.bottom||0}:{top:s&&s.top||0}),vx(vx({},d),m)}function _he(e){var t=fa();return _.useEffect(()=>{t(fhe(e))},[t,e]),null}function Ahe(e){var t=fa();return _.useEffect(()=>(t(ID(e)),()=>{t(ID({width:0,height:0}))}),[t,e]),null}function Che(e,t,s,a){return e==="vertical"&&Ht(t)?{height:t}:e==="horizontal"?{width:s||a}:null}var khe={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function J_(e){var t=on(e,khe),s=lde(),a=aoe(),n=Que(),{width:i,height:l,wrapperStyle:o,portal:u}=t,[d,m]=wU([s]),f=J6(),g=Q6();if(f==null||g==null)return null;var p=f-(n?.left||0)-(n?.right||0),y=Che(t.layout,l,i,p),v=u?o:vx(vx({position:"absolute",width:y?.width||i||"auto",height:y?.height||l||"auto"},She(o,t,n,f,g,d)),o),j=u??a;if(j==null||s==null)return null;var N=_.createElement("div",{className:"recharts-legend-wrapper",style:v,ref:m},_.createElement(_he,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!u&&_.createElement(Ahe,{width:d.width,height:d.height}),_.createElement(whe,X_({},t,y,{margin:n,chartWidth:f,chartHeight:g,contextPayload:s})));return e6.createPortal(N,j)}J_.displayName="Legend";function Q_(){return Q_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Q_.apply(null,arguments)}function BD(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function OS(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?BD(Object(s),!0).forEach(function(a){The(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):BD(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function The(e,t,s){return(t=Ehe(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Ehe(e){var t=Ohe(e,"string");return typeof t=="symbol"?t:t+""}function Ohe(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Phe(e){return Array.isArray(e)&&iu(e[0])&&iu(e[1])?e.join(" ~ "):e}var Dhe=e=>{var{separator:t=" : ",contentStyle:s={},itemStyle:a={},labelStyle:n={},payload:i,formatter:l,itemSorter:o,wrapperClassName:u,labelClassName:d,label:m,labelFormatter:f,accessibilityLayer:g=!1}=e,p=()=>{if(i&&i.length){var C={padding:0,margin:0},M=(o?RN(i,o):i).map((R,D)=>{if(R.type==="none")return null;var B=R.formatter||l||Phe,{value:z,name:I}=R,F=z,Y=I;if(B){var te=B(z,I,R,D,i);if(Array.isArray(te))[F,Y]=te;else if(te!=null)F=te;else return null}var ue=OS({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},a);return _.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:ue},iu(Y)?_.createElement("span",{className:"recharts-tooltip-item-name"},Y):null,iu(Y)?_.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,_.createElement("span",{className:"recharts-tooltip-item-value"},F),_.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return _.createElement("ul",{className:"recharts-tooltip-item-list",style:C},M)}return null},y=OS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),v=OS({margin:0},n),j=!Sa(m),N=j?m:"",k=ys("recharts-default-tooltip",u),w=ys("recharts-tooltip-label",d);j&&f&&i!==void 0&&i!==null&&(N=f(m,i));var A=g?{role:"status","aria-live":"assertive"}:{};return _.createElement("div",Q_({className:k,style:y},A),_.createElement("p",{className:w,style:v},_.isValidElement(N)?N:"".concat(N)),p())},qg="recharts-tooltip-wrapper",Rhe={visibility:"hidden"};function Mhe(e){var{coordinate:t,translateX:s,translateY:a}=e;return ys(qg,{["".concat(qg,"-right")]:Ht(s)&&t&&Ht(t.x)&&s>=t.x,["".concat(qg,"-left")]:Ht(s)&&t&&Ht(t.x)&&s<t.x,["".concat(qg,"-bottom")]:Ht(a)&&t&&Ht(t.y)&&a>=t.y,["".concat(qg,"-top")]:Ht(a)&&t&&Ht(t.y)&&a<t.y})}function UD(e){var{allowEscapeViewBox:t,coordinate:s,key:a,offsetTopLeft:n,position:i,reverseDirection:l,tooltipDimension:o,viewBox:u,viewBoxDimension:d}=e;if(i&&Ht(i[a]))return i[a];var m=s[a]-o-(n>0?n:0),f=s[a]+n;if(t[a])return l[a]?m:f;var g=u[a];if(g==null)return 0;if(l[a]){var p=m,y=g;return p<y?Math.max(f,g):Math.max(m,g)}if(d==null)return 0;var v=f+o,j=g+d;return v>j?Math.max(m,g):Math.max(f,g)}function Lhe(e){var{translateX:t,translateY:s,useTranslate3d:a}=e;return{transform:a?"translate3d(".concat(t,"px, ").concat(s,"px, 0)"):"translate(".concat(t,"px, ").concat(s,"px)")}}function Ihe(e){var{allowEscapeViewBox:t,coordinate:s,offsetTopLeft:a,position:n,reverseDirection:i,tooltipBox:l,useTranslate3d:o,viewBox:u}=e,d,m,f;return l.height>0&&l.width>0&&s?(m=UD({allowEscapeViewBox:t,coordinate:s,key:"x",offsetTopLeft:a,position:n,reverseDirection:i,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),f=UD({allowEscapeViewBox:t,coordinate:s,key:"y",offsetTopLeft:a,position:n,reverseDirection:i,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),d=Lhe({translateX:m,translateY:f,useTranslate3d:o})):d=Rhe,{cssProperties:d,cssClasses:Mhe({translateX:m,translateY:f,coordinate:s})}}function zD(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Kb(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?zD(Object(s),!0).forEach(function(a){eA(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):zD(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function eA(e,t,s){return(t=Fhe(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Fhe(e){var t=Bhe(e,"string");return typeof t=="symbol"?t:t+""}function Bhe(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Uhe extends _.PureComponent{constructor(){super(...arguments),eA(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),eA(this,"handleKeyDown",t=>{if(t.key==="Escape"){var s,a,n,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==null&&s!==void 0?s:0,y:(n=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&n!==void 0?n:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,s;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:s,animationDuration:a,animationEasing:n,children:i,coordinate:l,hasPayload:o,isAnimationActive:u,offset:d,position:m,reverseDirection:f,useTranslate3d:g,viewBox:p,wrapperStyle:y,lastBoundingBox:v,innerRef:j,hasPortalFromProps:N}=this.props,{cssClasses:k,cssProperties:w}=Ihe({allowEscapeViewBox:s,coordinate:l,offsetTopLeft:d,position:m,reverseDirection:f,tooltipBox:{height:v.height,width:v.width},useTranslate3d:g,viewBox:p}),A=N?{}:Kb(Kb({transition:u&&t?"transform ".concat(a,"ms ").concat(n):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),C=Kb(Kb({},A),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},y);return _.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:k,style:C,ref:j},i)}}var jz=()=>{var e;return(e=Jt(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function tA(){return tA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},tA.apply(null,arguments)}function $D(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function HD(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?$D(Object(s),!0).forEach(function(a){zhe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):$D(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function zhe(e,t,s){return(t=$he(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function $he(e){var t=Hhe(e,"string");return typeof t=="symbol"?t:t+""}function Hhe(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qD={curveBasisClosed:woe,curveBasisOpen:Soe,curveBasis:Noe,curveBumpX:ooe,curveBumpY:coe,curveLinearClosed:_oe,curveLinear:PN,curveMonotoneX:Aoe,curveMonotoneY:Coe,curveNatural:koe,curveStep:Toe,curveStepAfter:Ooe,curveStepBefore:Eoe},dj=e=>ca(e.x)&&ca(e.y),VD=e=>e.base!=null&&dj(e.base)&&dj(e),Vg=e=>e.x,Wg=e=>e.y,qhe=(e,t)=>{if(typeof e=="function")return e;var s="curve".concat(iy(e));return(s==="curveMonotone"||s==="curveBump")&&t?qD["".concat(s).concat(t==="vertical"?"Y":"X")]:qD[s]||PN},Vhe=e=>{var{type:t="linear",points:s=[],baseLine:a,layout:n,connectNulls:i=!1}=e,l=qhe(t,n),o=i?s.filter(dj):s,u;if(Array.isArray(a)){var d=s.map((p,y)=>HD(HD({},p),{},{base:a[y]}));n==="vertical"?u=Ub().y(Wg).x1(Vg).x0(p=>p.base.x):u=Ub().x(Vg).y1(Wg).y0(p=>p.base.y);var m=u.defined(VD).curve(l),f=i?d.filter(VD):d;return m(f)}n==="vertical"&&Ht(a)?u=Ub().y(Wg).x1(Vg).x0(a):Ht(a)?u=Ub().x(Vg).y1(Wg).y0(a):u=GB().x(Vg).y(Wg);var g=u.defined(dj).curve(l);return g(o)},Qp=e=>{var{className:t,points:s,path:a,pathRef:n}=e,i=Ym();if((!s||!s.length)&&!a)return null;var l={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||i,connectNulls:e.connectNulls},o=s&&s.length?Vhe(l):a;return _.createElement("path",tA({},_l(e),z6(e),{className:ys("recharts-curve",t),d:o===null?void 0:o,ref:n}))},Whe=["x","y","top","left","width","height","className"];function rA(){return rA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},rA.apply(null,arguments)}function WD(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Ghe(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?WD(Object(s),!0).forEach(function(a){Khe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):WD(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Khe(e,t,s){return(t=Yhe(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Yhe(e){var t=Zhe(e,"string");return typeof t=="symbol"?t:t+""}function Zhe(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xhe(e,t){if(e==null)return{};var s,a,n=Jhe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Jhe(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var Qhe=(e,t,s,a,n,i)=>"M".concat(e,",").concat(n,"v").concat(a,"M").concat(i,",").concat(t,"h").concat(s),eme=e=>{var{x:t=0,y:s=0,top:a=0,left:n=0,width:i=0,height:l=0,className:o}=e,u=Xhe(e,Whe),d=Ghe({x:t,y:s,top:a,left:n,width:i,height:l},u);return!Ht(t)||!Ht(s)||!Ht(i)||!Ht(l)||!Ht(a)||!Ht(n)?null:_.createElement("path",rA({},ll(d),{className:ys("recharts-cross",o),d:Qhe(t,s,i,l,a,n)}))};function tme(e,t,s,a){var n=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-n:s.left+.5,y:e==="horizontal"?s.top+.5:t.y-n,width:e==="horizontal"?a:s.width-1,height:e==="horizontal"?s.height-1:a}}function GD(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function KD(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?GD(Object(s),!0).forEach(function(a){rme(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):GD(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function rme(e,t,s){return(t=sme(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function sme(e){var t=ame(e,"string");return typeof t=="symbol"?t:t+""}function ame(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nme=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Nz=(e,t,s)=>e.map(a=>"".concat(nme(a)," ").concat(t,"ms ").concat(s)).join(","),ime=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((s,a)=>s.filter(n=>a.includes(n))),Rv=(e,t)=>Object.keys(t).reduce((s,a)=>KD(KD({},s),{},{[a]:e(a,t[a])}),{});function YD(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Kn(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?YD(Object(s),!0).forEach(function(a){lme(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):YD(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function lme(e,t,s){return(t=ome(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function ome(e){var t=cme(e,"string");return typeof t=="symbol"?t:t+""}function cme(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uj=(e,t,s)=>e+(t-e)*s,sA=e=>{var{from:t,to:s}=e;return t!==s},wz=(e,t,s)=>{var a=Rv((n,i)=>{if(sA(i)){var[l,o]=e(i.from,i.to,i.velocity);return Kn(Kn({},i),{},{from:l,velocity:o})}return i},t);return s<1?Rv((n,i)=>sA(i)&&a[n]!=null?Kn(Kn({},i),{},{velocity:uj(i.velocity,a[n].velocity,s),from:uj(i.from,a[n].from,s)}):i,t):wz(e,a,s-1)};function dme(e,t,s,a,n,i){var l,o=a.reduce((g,p)=>Kn(Kn({},g),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),u=()=>Rv((g,p)=>p.from,o),d=()=>!Object.values(o).filter(sA).length,m=null,f=g=>{l||(l=g);var p=g-l,y=p/s.dt;o=wz(s,o,y),n(Kn(Kn(Kn({},e),t),u())),l=g,d()||(m=i.setTimeout(f))};return()=>(m=i.setTimeout(f),()=>{var g;(g=m)===null||g===void 0||g()})}function ume(e,t,s,a,n,i,l){var o=null,u=n.reduce((f,g)=>{var p=e[g],y=t[g];return p==null||y==null?f:Kn(Kn({},f),{},{[g]:[p,y]})},{}),d,m=f=>{d||(d=f);var g=(f-d)/a,p=Rv((v,j)=>uj(...j,s(g)),u);if(i(Kn(Kn(Kn({},e),t),p)),g<1)o=l.setTimeout(m);else{var y=Rv((v,j)=>uj(...j,s(1)),u);i(Kn(Kn(Kn({},e),t),y))}};return()=>(o=l.setTimeout(m),()=>{var f;(f=o)===null||f===void 0||f()})}const hme=(e,t,s,a,n,i)=>{var l=ime(e,t);return s==null?()=>(n(Kn(Kn({},e),t)),()=>{}):s.isStepper===!0?dme(e,t,s,l,n,i):ume(e,t,s,a,l,n,i)};var hj=1e-4,Sz=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],_z=(e,t)=>e.map((s,a)=>s*t**a).reduce((s,a)=>s+a),ZD=(e,t)=>s=>{var a=Sz(e,t);return _z(a,s)},mme=(e,t)=>s=>{var a=Sz(e,t),n=[...a.map((i,l)=>i*l).slice(1),0];return _z(n,s)},fme=e=>{var t,s=e.split("(");if(s.length!==2||s[0]!=="cubic-bezier")return null;var a=(t=s[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(a==null||a.length!==4)return null;var n=a.map(i=>parseFloat(i));return[n[0],n[1],n[2],n[3]]},pme=function(){for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];if(s.length===1)switch(s[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var n=fme(s[0]);if(n)return n}}return s.length===4?s:[0,0,1,1]},xme=(e,t,s,a)=>{var n=ZD(e,s),i=ZD(t,a),l=mme(e,s),o=d=>d>1?1:d<0?0:d,u=d=>{for(var m=d>1?1:d,f=m,g=0;g<8;++g){var p=n(f)-m,y=l(f);if(Math.abs(p-m)<hj||y<hj)return i(f);f=o(f-p/y)}return i(f)};return u.isStepper=!1,u},XD=function(){return xme(...pme(...arguments))},gme=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:s=100,damping:a=8,dt:n=17}=t,i=(l,o,u)=>{var d=-(l-o)*s,m=u*a,f=u+(d-m)*n/1e3,g=u*n/1e3+l;return Math.abs(g-o)<hj&&Math.abs(f)<hj?[o,0]:[g,f]};return i.isStepper=!0,i.dt=n,i},vme=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return XD(e);case"spring":return gme();default:if(e.split("(")[0]==="cubic-bezier")return XD(e)}return typeof e=="function"?e:null};function yme(e){var t,s=()=>null,a=!1,n=null,i=l=>{if(!a){if(Array.isArray(l)){if(!l.length)return;var o=l,[u,...d]=o;if(typeof u=="number"){n=e.setTimeout(i.bind(null,d),u);return}i(u),n=e.setTimeout(i.bind(null,d));return}typeof l=="string"&&(t=l,s(t)),typeof l=="object"&&(t=l,s(t)),typeof l=="function"&&l()}};return{stop:()=>{a=!0},start:l=>{a=!1,n&&(n(),n=null),i(l)},subscribe:l=>(s=l,()=>{s=()=>null}),getTimeoutController:()=>e}}class bme{setTimeout(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=performance.now(),n=null,i=l=>{l-a>=s?t(l):typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(i))};return n=requestAnimationFrame(i),()=>{n!=null&&cancelAnimationFrame(n)}}}function jme(){return yme(new bme)}var Nme=_.createContext(jme);function wme(e,t){var s=_.useContext(Nme);return _.useMemo(()=>t??s(e),[e,t,s])}var Sme=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),my={isSsr:Sme()},_me={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},JD={t:0},PS={t:1};function Ux(e){var t=on(e,_me),{isActive:s,canBegin:a,duration:n,easing:i,begin:l,onAnimationEnd:o,onAnimationStart:u,children:d}=t,m=s==="auto"?!my.isSsr:s,f=wme(t.animationId,t.animationManager),[g,p]=_.useState(m?JD:PS),y=_.useRef(null);return _.useEffect(()=>{m||p(PS)},[m]),_.useEffect(()=>{if(!m||!a)return ly;var v=hme(JD,PS,vme(i),n,p,f.getTimeoutController()),j=()=>{y.current=v()};return f.start([u,l,j,n,o]),()=>{f.stop(),y.current&&y.current(),o()}},[m,a,n,i,l,u,o,f]),d(g.t)}function zx(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",s=_.useRef(Cv(t)),a=_.useRef(e);return a.current!==e&&(s.current=Cv(t),a.current=e),s.current}var Ame=["radius"],Cme=["radius"],QD,eR,tR,rR,sR,aR,nR,iR,lR,oR;function cR(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function dR(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?cR(Object(s),!0).forEach(function(a){kme(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):cR(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function kme(e,t,s){return(t=Tme(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Tme(e){var t=Eme(e,"string");return typeof t=="symbol"?t:t+""}function Eme(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mj(){return mj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},mj.apply(null,arguments)}function uR(e,t){if(e==null)return{};var s,a,n=Ome(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Ome(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function Vd(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var hR=(e,t,s,a,n)=>{var i=Cm(s),l=Cm(a),o=Math.min(Math.abs(i)/2,Math.abs(l)/2),u=l>=0?1:-1,d=i>=0?1:-1,m=l>=0&&i>=0||l<0&&i<0?1:0,f;if(o>0&&n instanceof Array){for(var g=[0,0,0,0],p=0,y=4;p<y;p++)g[p]=n[p]>o?o:n[p];f=en(QD||(QD=Vd(["M",",",""])),e,t+u*g[0]),g[0]>0&&(f+=en(eR||(eR=Vd(["A ",",",",0,0,",",",",",""])),g[0],g[0],m,e+d*g[0],t)),f+=en(tR||(tR=Vd(["L ",",",""])),e+s-d*g[1],t),g[1]>0&&(f+=en(rR||(rR=Vd(["A ",",",",0,0,",`,
        `,",",""])),g[1],g[1],m,e+s,t+u*g[1])),f+=en(sR||(sR=Vd(["L ",",",""])),e+s,t+a-u*g[2]),g[2]>0&&(f+=en(aR||(aR=Vd(["A ",",",",0,0,",`,
        `,",",""])),g[2],g[2],m,e+s-d*g[2],t+a)),f+=en(nR||(nR=Vd(["L ",",",""])),e+d*g[3],t+a),g[3]>0&&(f+=en(iR||(iR=Vd(["A ",",",",0,0,",`,
        `,",",""])),g[3],g[3],m,e,t+a-u*g[3])),f+="Z"}else if(o>0&&n===+n&&n>0){var v=Math.min(o,n);f=en(lR||(lR=Vd(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+u*v,v,v,m,e+d*v,t,e+s-d*v,t,v,v,m,e+s,t+u*v,e+s,t+a-u*v,v,v,m,e+s-d*v,t+a,e+d*v,t+a,v,v,m,e,t+a-u*v)}else f=en(oR||(oR=Vd(["M ",","," h "," v "," h "," Z"])),e,t,s,a,-s);return f},mR={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Az=e=>{var t=on(e,mR),s=_.useRef(null),[a,n]=_.useState(-1);_.useEffect(()=>{if(s.current&&s.current.getTotalLength)try{var ie=s.current.getTotalLength();ie&&n(ie)}catch{}},[]);var{x:i,y:l,width:o,height:u,radius:d,className:m}=t,{animationEasing:f,animationDuration:g,animationBegin:p,isAnimationActive:y,isUpdateAnimationActive:v}=t,j=_.useRef(o),N=_.useRef(u),k=_.useRef(i),w=_.useRef(l),A=_.useMemo(()=>({x:i,y:l,width:o,height:u,radius:d}),[i,l,o,u,d]),C=zx(A,"rectangle-");if(i!==+i||l!==+l||o!==+o||u!==+u||o===0||u===0)return null;var M=ys("recharts-rectangle",m);if(!v){var R=ll(t),{radius:D}=R,B=uR(R,Ame);return _.createElement("path",mj({},B,{x:Cm(i),y:Cm(l),width:Cm(o),height:Cm(u),radius:typeof d=="number"?d:void 0,className:M,d:hR(i,l,o,u,d)}))}var z=j.current,I=N.current,F=k.current,Y=w.current,te="0px ".concat(a===-1?1:a,"px"),ue="".concat(a,"px 0px"),Z=Nz(["strokeDasharray"],g,typeof f=="string"?f:mR.animationEasing);return _.createElement(Ux,{animationId:C,key:C,canBegin:a>0,duration:g,easing:f,isActive:v,begin:p},ie=>{var G=Rs(z,o,ie),ee=Rs(I,u,ie),Ne=Rs(F,i,ie),X=Rs(Y,l,ie);s.current&&(j.current=G,N.current=ee,k.current=Ne,w.current=X);var P;y?ie>0?P={transition:Z,strokeDasharray:ue}:P={strokeDasharray:te}:P={strokeDasharray:ue};var H=ll(t),{radius:q}=H,W=uR(H,Cme);return _.createElement("path",mj({},W,{radius:typeof d=="number"?d:void 0,className:M,d:hR(Ne,X,G,ee,d),ref:s,style:dR(dR({},P),t.style)}))})};function fR(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function pR(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?fR(Object(s),!0).forEach(function(a){Pme(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):fR(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Pme(e,t,s){return(t=Dme(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Dme(e){var t=Rme(e,"string");return typeof t=="symbol"?t:t+""}function Rme(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fj=Math.PI/180,Mme=e=>e*180/Math.PI,On=(e,t,s,a)=>({x:e+Math.cos(-fj*a)*s,y:t+Math.sin(-fj*a)*s}),Cz=function(t,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(a.left||0)-(a.right||0)),Math.abs(s-(a.top||0)-(a.bottom||0)))/2},Lme=(e,t)=>{var{x:s,y:a}=e,{x:n,y:i}=t;return Math.sqrt((s-n)**2+(a-i)**2)},Ime=(e,t)=>{var{x:s,y:a}=e,{cx:n,cy:i}=t,l=Lme({x:s,y:a},{x:n,y:i});if(l<=0)return{radius:l,angle:0};var o=(s-n)/l,u=Math.acos(o);return a>i&&(u=2*Math.PI-u),{radius:l,angle:Mme(u),angleInRadian:u}},Fme=e=>{var{startAngle:t,endAngle:s}=e,a=Math.floor(t/360),n=Math.floor(s/360),i=Math.min(a,n);return{startAngle:t-i*360,endAngle:s-i*360}},Bme=(e,t)=>{var{startAngle:s,endAngle:a}=t,n=Math.floor(s/360),i=Math.floor(a/360),l=Math.min(n,i);return e+l*360},Ume=(e,t)=>{var{chartX:s,chartY:a}=e,{radius:n,angle:i}=Ime({x:s,y:a},t),{innerRadius:l,outerRadius:o}=t;if(n<l||n>o||n===0)return null;var{startAngle:u,endAngle:d}=Fme(t),m=i,f;if(u<=d){for(;m>d;)m-=360;for(;m<u;)m+=360;f=m>=u&&m<=d}else{for(;m>u;)m-=360;for(;m<d;)m+=360;f=m>=d&&m<=u}return f?pR(pR({},t),{},{radius:n,angle:Bme(m,t)}):null};function kz(e){var{cx:t,cy:s,radius:a,startAngle:n,endAngle:i}=e,l=On(t,s,a,n),o=On(t,s,a,i);return{points:[l,o],cx:t,cy:s,radius:a,startAngle:n,endAngle:i}}var xR,gR,vR,yR,bR,jR,NR;function aA(){return aA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},aA.apply(null,arguments)}function Bf(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var zme=(e,t)=>{var s=pi(t-e),a=Math.min(Math.abs(t-e),359.999);return s*a},Yb=e=>{var{cx:t,cy:s,radius:a,angle:n,sign:i,isExternal:l,cornerRadius:o,cornerIsExternal:u}=e,d=o*(l?1:-1)+a,m=Math.asin(o/d)/fj,f=u?n:n+i*m,g=On(t,s,d,f),p=On(t,s,a,f),y=u?n-i*m:n,v=On(t,s,d*Math.cos(m*fj),y);return{center:g,circleTangency:p,lineTangency:v,theta:m}},Tz=e=>{var{cx:t,cy:s,innerRadius:a,outerRadius:n,startAngle:i,endAngle:l}=e,o=zme(i,l),u=i+o,d=On(t,s,n,i),m=On(t,s,n,u),f=en(xR||(xR=Bf(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),d.x,d.y,n,n,+(Math.abs(o)>180),+(i>u),m.x,m.y);if(a>0){var g=On(t,s,a,i),p=On(t,s,a,u);f+=en(gR||(gR=Bf(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),p.x,p.y,a,a,+(Math.abs(o)>180),+(i<=u),g.x,g.y)}else f+=en(vR||(vR=Bf(["L ",","," Z"])),t,s);return f},$me=e=>{var{cx:t,cy:s,innerRadius:a,outerRadius:n,cornerRadius:i,forceCornerRadius:l,cornerIsExternal:o,startAngle:u,endAngle:d}=e,m=pi(d-u),{circleTangency:f,lineTangency:g,theta:p}=Yb({cx:t,cy:s,radius:n,angle:u,sign:m,cornerRadius:i,cornerIsExternal:o}),{circleTangency:y,lineTangency:v,theta:j}=Yb({cx:t,cy:s,radius:n,angle:d,sign:-m,cornerRadius:i,cornerIsExternal:o}),N=o?Math.abs(u-d):Math.abs(u-d)-p-j;if(N<0)return l?en(yR||(yR=Bf(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),g.x,g.y,i,i,i*2,i,i,-i*2):Tz({cx:t,cy:s,innerRadius:a,outerRadius:n,startAngle:u,endAngle:d});var k=en(bR||(bR=Bf(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),g.x,g.y,i,i,+(m<0),f.x,f.y,n,n,+(N>180),+(m<0),y.x,y.y,i,i,+(m<0),v.x,v.y);if(a>0){var{circleTangency:w,lineTangency:A,theta:C}=Yb({cx:t,cy:s,radius:a,angle:u,sign:m,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),{circleTangency:M,lineTangency:R,theta:D}=Yb({cx:t,cy:s,radius:a,angle:d,sign:-m,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),B=o?Math.abs(u-d):Math.abs(u-d)-C-D;if(B<0&&i===0)return"".concat(k,"L").concat(t,",").concat(s,"Z");k+=en(jR||(jR=Bf(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),R.x,R.y,i,i,+(m<0),M.x,M.y,a,a,+(B>180),+(m>0),w.x,w.y,i,i,+(m<0),A.x,A.y)}else k+=en(NR||(NR=Bf(["L",",","Z"])),t,s);return k},Hme={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Ez=e=>{var t=on(e,Hme),{cx:s,cy:a,innerRadius:n,outerRadius:i,cornerRadius:l,forceCornerRadius:o,cornerIsExternal:u,startAngle:d,endAngle:m,className:f}=t;if(i<n||d===m)return null;var g=ys("recharts-sector",f),p=i-n,y=rl(l,p,0,!0),v;return y>0&&Math.abs(d-m)<360?v=$me({cx:s,cy:a,innerRadius:n,outerRadius:i,cornerRadius:Math.min(y,p/2),forceCornerRadius:o,cornerIsExternal:u,startAngle:d,endAngle:m}):v=Tz({cx:s,cy:a,innerRadius:n,outerRadius:i,startAngle:d,endAngle:m}),_.createElement("path",aA({},ll(t),{className:g,d:v}))};function qme(e,t,s){if(e==="horizontal")return[{x:t.x,y:s.top},{x:t.x,y:s.top+s.height}];if(e==="vertical")return[{x:s.left,y:t.y},{x:s.left+s.width,y:t.y}];if(oU(t)){if(e==="centric"){var{cx:a,cy:n,innerRadius:i,outerRadius:l,angle:o}=t,u=On(a,n,i,o),d=On(a,n,l,o);return[{x:u.x,y:u.y},{x:d.x,y:d.y}]}return kz(t)}}var DS={},RS={},MS={},wR;function Vme(){return wR||(wR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bU();function s(a){return t.isSymbol(a)?NaN:Number(a)}e.toNumber=s})(MS)),MS}var SR;function Wme(){return SR||(SR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vme();function s(a){return a?(a=t.toNumber(a),a===1/0||a===-1/0?(a<0?-1:1)*Number.MAX_VALUE:a===a?a:0):a===0?a:0}e.toFinite=s})(RS)),RS}var _R;function Gme(){return _R||(_R=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jU(),s=Wme();function a(n,i,l){l&&typeof l!="number"&&t.isIterateeCall(n,i,l)&&(i=l=void 0),n=s.toFinite(n),i===void 0?(i=n,n=0):i=s.toFinite(i),l=l===void 0?n<i?1:-1:s.toFinite(l);const o=Math.max(Math.ceil((i-n)/(l||1)),0),u=new Array(o);for(let d=0;d<o;d++)u[d]=n,n+=l;return u}e.range=a})(DS)),DS}var LS,AR;function Kme(){return AR||(AR=1,LS=Gme().range),LS}var Yme=Kme();const Oz=Sh(Yme);function Pm(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Zme(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function rC(e){let t,s,a;e.length!==2?(t=Pm,s=(o,u)=>Pm(e(o),u),a=(o,u)=>e(o)-u):(t=e===Pm||e===Zme?e:Xme,s=e,a=e);function n(o,u,d=0,m=o.length){if(d<m){if(t(u,u)!==0)return m;do{const f=d+m>>>1;s(o[f],u)<0?d=f+1:m=f}while(d<m)}return d}function i(o,u,d=0,m=o.length){if(d<m){if(t(u,u)!==0)return m;do{const f=d+m>>>1;s(o[f],u)<=0?d=f+1:m=f}while(d<m)}return d}function l(o,u,d=0,m=o.length){const f=n(o,u,d,m-1);return f>d&&a(o[f-1],u)>-a(o[f],u)?f-1:f}return{left:n,center:l,right:i}}function Xme(){return 0}function Pz(e){return e===null?NaN:+e}function*Jme(e,t){for(let s of e)s!=null&&(s=+s)>=s&&(yield s)}const Qme=rC(Pm),fy=Qme.right;rC(Pz).center;class CR extends Map{constructor(t,s=rfe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:s}}),t!=null)for(const[a,n]of t)this.set(a,n)}get(t){return super.get(kR(this,t))}has(t){return super.has(kR(this,t))}set(t,s){return super.set(efe(this,t),s)}delete(t){return super.delete(tfe(this,t))}}function kR({_intern:e,_key:t},s){const a=t(s);return e.has(a)?e.get(a):s}function efe({_intern:e,_key:t},s){const a=t(s);return e.has(a)?e.get(a):(e.set(a,s),s)}function tfe({_intern:e,_key:t},s){const a=t(s);return e.has(a)&&(s=e.get(a),e.delete(a)),s}function rfe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function sfe(e=Pm){if(e===Pm)return Dz;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,s)=>{const a=e(t,s);return a||a===0?a:(e(s,s)===0)-(e(t,t)===0)}}function Dz(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const afe=Math.sqrt(50),nfe=Math.sqrt(10),ife=Math.sqrt(2);function pj(e,t,s){const a=(t-e)/Math.max(0,s),n=Math.floor(Math.log10(a)),i=a/Math.pow(10,n),l=i>=afe?10:i>=nfe?5:i>=ife?2:1;let o,u,d;return n<0?(d=Math.pow(10,-n)/l,o=Math.round(e*d),u=Math.round(t*d),o/d<e&&++o,u/d>t&&--u,d=-d):(d=Math.pow(10,n)*l,o=Math.round(e/d),u=Math.round(t/d),o*d<e&&++o,u*d>t&&--u),u<o&&.5<=s&&s<2?pj(e,t,s*2):[o,u,d]}function nA(e,t,s){if(t=+t,e=+e,s=+s,!(s>0))return[];if(e===t)return[e];const a=t<e,[n,i,l]=a?pj(t,e,s):pj(e,t,s);if(!(i>=n))return[];const o=i-n+1,u=new Array(o);if(a)if(l<0)for(let d=0;d<o;++d)u[d]=(i-d)/-l;else for(let d=0;d<o;++d)u[d]=(i-d)*l;else if(l<0)for(let d=0;d<o;++d)u[d]=(n+d)/-l;else for(let d=0;d<o;++d)u[d]=(n+d)*l;return u}function iA(e,t,s){return t=+t,e=+e,s=+s,pj(e,t,s)[2]}function lA(e,t,s){t=+t,e=+e,s=+s;const a=t<e,n=a?iA(t,e,s):iA(e,t,s);return(a?-1:1)*(n<0?1/-n:n)}function TR(e,t){let s;for(const a of e)a!=null&&(s<a||s===void 0&&a>=a)&&(s=a);return s}function ER(e,t){let s;for(const a of e)a!=null&&(s>a||s===void 0&&a>=a)&&(s=a);return s}function Rz(e,t,s=0,a=1/0,n){if(t=Math.floor(t),s=Math.floor(Math.max(0,s)),a=Math.floor(Math.min(e.length-1,a)),!(s<=t&&t<=a))return e;for(n=n===void 0?Dz:sfe(n);a>s;){if(a-s>600){const u=a-s+1,d=t-s+1,m=Math.log(u),f=.5*Math.exp(2*m/3),g=.5*Math.sqrt(m*f*(u-f)/u)*(d-u/2<0?-1:1),p=Math.max(s,Math.floor(t-d*f/u+g)),y=Math.min(a,Math.floor(t+(u-d)*f/u+g));Rz(e,t,p,y,n)}const i=e[t];let l=s,o=a;for(Gg(e,s,t),n(e[a],i)>0&&Gg(e,s,a);l<o;){for(Gg(e,l,o),++l,--o;n(e[l],i)<0;)++l;for(;n(e[o],i)>0;)--o}n(e[s],i)===0?Gg(e,s,o):(++o,Gg(e,o,a)),o<=t&&(s=o+1),t<=o&&(a=o-1)}return e}function Gg(e,t,s){const a=e[t];e[t]=e[s],e[s]=a}function lfe(e,t,s){if(e=Float64Array.from(Jme(e)),!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return ER(e);if(t>=1)return TR(e);var a,n=(a-1)*t,i=Math.floor(n),l=TR(Rz(e,i).subarray(0,i+1)),o=ER(e.subarray(i+1));return l+(o-l)*(n-i)}}function ofe(e,t,s=Pz){if(!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return+s(e[0],0,e);if(t>=1)return+s(e[a-1],a-1,e);var a,n=(a-1)*t,i=Math.floor(n),l=+s(e[i],i,e),o=+s(e[i+1],i+1,e);return l+(o-l)*(n-i)}}function cfe(e,t,s){e=+e,t=+t,s=(n=arguments.length)<2?(t=e,e=0,1):n<3?1:+s;for(var a=-1,n=Math.max(0,Math.ceil((t-e)/s))|0,i=new Array(n);++a<n;)i[a]=e+a*s;return i}function kc(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function kh(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const oA=Symbol("implicit");function sC(){var e=new CR,t=[],s=[],a=oA;function n(i){let l=e.get(i);if(l===void 0){if(a!==oA)return a;e.set(i,l=t.push(i)-1)}return s[l%s.length]}return n.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new CR;for(const l of i)e.has(l)||e.set(l,t.push(l)-1);return n},n.range=function(i){return arguments.length?(s=Array.from(i),n):s.slice()},n.unknown=function(i){return arguments.length?(a=i,n):a},n.copy=function(){return sC(t,s).unknown(a)},kc.apply(n,arguments),n}function aC(){var e=sC().unknown(void 0),t=e.domain,s=e.range,a=0,n=1,i,l,o=!1,u=0,d=0,m=.5;delete e.unknown;function f(){var g=t().length,p=n<a,y=p?n:a,v=p?a:n;i=(v-y)/Math.max(1,g-u+d*2),o&&(i=Math.floor(i)),y+=(v-y-i*(g-u))*m,l=i*(1-u),o&&(y=Math.round(y),l=Math.round(l));var j=cfe(g).map(function(N){return y+i*N});return s(p?j.reverse():j)}return e.domain=function(g){return arguments.length?(t(g),f()):t()},e.range=function(g){return arguments.length?([a,n]=g,a=+a,n=+n,f()):[a,n]},e.rangeRound=function(g){return[a,n]=g,a=+a,n=+n,o=!0,f()},e.bandwidth=function(){return l},e.step=function(){return i},e.round=function(g){return arguments.length?(o=!!g,f()):o},e.padding=function(g){return arguments.length?(u=Math.min(1,d=+g),f()):u},e.paddingInner=function(g){return arguments.length?(u=Math.min(1,g),f()):u},e.paddingOuter=function(g){return arguments.length?(d=+g,f()):d},e.align=function(g){return arguments.length?(m=Math.max(0,Math.min(1,g)),f()):m},e.copy=function(){return aC(t(),[a,n]).round(o).paddingInner(u).paddingOuter(d).align(m)},kc.apply(f(),arguments)}function Mz(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Mz(t())},e}function dfe(){return Mz(aC.apply(null,arguments).paddingInner(1))}function nC(e,t,s){e.prototype=t.prototype=s,s.constructor=e}function Lz(e,t){var s=Object.create(e.prototype);for(var a in t)s[a]=t[a];return s}function py(){}var Mv=.7,xj=1/Mv,ex="\\s*([+-]?\\d+)\\s*",Lv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",eu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ufe=/^#([0-9a-f]{3,8})$/,hfe=new RegExp(`^rgb\\(${ex},${ex},${ex}\\)$`),mfe=new RegExp(`^rgb\\(${eu},${eu},${eu}\\)$`),ffe=new RegExp(`^rgba\\(${ex},${ex},${ex},${Lv}\\)$`),pfe=new RegExp(`^rgba\\(${eu},${eu},${eu},${Lv}\\)$`),xfe=new RegExp(`^hsl\\(${Lv},${eu},${eu}\\)$`),gfe=new RegExp(`^hsla\\(${Lv},${eu},${eu},${Lv}\\)$`),OR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};nC(py,Iv,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:PR,formatHex:PR,formatHex8:vfe,formatHsl:yfe,formatRgb:DR,toString:DR});function PR(){return this.rgb().formatHex()}function vfe(){return this.rgb().formatHex8()}function yfe(){return Iz(this).formatHsl()}function DR(){return this.rgb().formatRgb()}function Iv(e){var t,s;return e=(e+"").trim().toLowerCase(),(t=ufe.exec(e))?(s=t[1].length,t=parseInt(t[1],16),s===6?RR(t):s===3?new Zl(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):s===8?Zb(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):s===4?Zb(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=hfe.exec(e))?new Zl(t[1],t[2],t[3],1):(t=mfe.exec(e))?new Zl(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=ffe.exec(e))?Zb(t[1],t[2],t[3],t[4]):(t=pfe.exec(e))?Zb(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=xfe.exec(e))?IR(t[1],t[2]/100,t[3]/100,1):(t=gfe.exec(e))?IR(t[1],t[2]/100,t[3]/100,t[4]):OR.hasOwnProperty(e)?RR(OR[e]):e==="transparent"?new Zl(NaN,NaN,NaN,0):null}function RR(e){return new Zl(e>>16&255,e>>8&255,e&255,1)}function Zb(e,t,s,a){return a<=0&&(e=t=s=NaN),new Zl(e,t,s,a)}function bfe(e){return e instanceof py||(e=Iv(e)),e?(e=e.rgb(),new Zl(e.r,e.g,e.b,e.opacity)):new Zl}function cA(e,t,s,a){return arguments.length===1?bfe(e):new Zl(e,t,s,a??1)}function Zl(e,t,s,a){this.r=+e,this.g=+t,this.b=+s,this.opacity=+a}nC(Zl,cA,Lz(py,{brighter(e){return e=e==null?xj:Math.pow(xj,e),new Zl(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Mv:Math.pow(Mv,e),new Zl(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Zl(Gf(this.r),Gf(this.g),Gf(this.b),gj(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:MR,formatHex:MR,formatHex8:jfe,formatRgb:LR,toString:LR}));function MR(){return`#${Uf(this.r)}${Uf(this.g)}${Uf(this.b)}`}function jfe(){return`#${Uf(this.r)}${Uf(this.g)}${Uf(this.b)}${Uf((isNaN(this.opacity)?1:this.opacity)*255)}`}function LR(){const e=gj(this.opacity);return`${e===1?"rgb(":"rgba("}${Gf(this.r)}, ${Gf(this.g)}, ${Gf(this.b)}${e===1?")":`, ${e})`}`}function gj(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Gf(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Uf(e){return e=Gf(e),(e<16?"0":"")+e.toString(16)}function IR(e,t,s,a){return a<=0?e=t=s=NaN:s<=0||s>=1?e=t=NaN:t<=0&&(e=NaN),new ud(e,t,s,a)}function Iz(e){if(e instanceof ud)return new ud(e.h,e.s,e.l,e.opacity);if(e instanceof py||(e=Iv(e)),!e)return new ud;if(e instanceof ud)return e;e=e.rgb();var t=e.r/255,s=e.g/255,a=e.b/255,n=Math.min(t,s,a),i=Math.max(t,s,a),l=NaN,o=i-n,u=(i+n)/2;return o?(t===i?l=(s-a)/o+(s<a)*6:s===i?l=(a-t)/o+2:l=(t-s)/o+4,o/=u<.5?i+n:2-i-n,l*=60):o=u>0&&u<1?0:l,new ud(l,o,u,e.opacity)}function Nfe(e,t,s,a){return arguments.length===1?Iz(e):new ud(e,t,s,a??1)}function ud(e,t,s,a){this.h=+e,this.s=+t,this.l=+s,this.opacity=+a}nC(ud,Nfe,Lz(py,{brighter(e){return e=e==null?xj:Math.pow(xj,e),new ud(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Mv:Math.pow(Mv,e),new ud(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,s=this.l,a=s+(s<.5?s:1-s)*t,n=2*s-a;return new Zl(IS(e>=240?e-240:e+120,n,a),IS(e,n,a),IS(e<120?e+240:e-120,n,a),this.opacity)},clamp(){return new ud(FR(this.h),Xb(this.s),Xb(this.l),gj(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=gj(this.opacity);return`${e===1?"hsl(":"hsla("}${FR(this.h)}, ${Xb(this.s)*100}%, ${Xb(this.l)*100}%${e===1?")":`, ${e})`}`}}));function FR(e){return e=(e||0)%360,e<0?e+360:e}function Xb(e){return Math.max(0,Math.min(1,e||0))}function IS(e,t,s){return(e<60?t+(s-t)*e/60:e<180?s:e<240?t+(s-t)*(240-e)/60:t)*255}const iC=e=>()=>e;function wfe(e,t){return function(s){return e+s*t}}function Sfe(e,t,s){return e=Math.pow(e,s),t=Math.pow(t,s)-e,s=1/s,function(a){return Math.pow(e+a*t,s)}}function _fe(e){return(e=+e)==1?Fz:function(t,s){return s-t?Sfe(t,s,e):iC(isNaN(t)?s:t)}}function Fz(e,t){var s=t-e;return s?wfe(e,s):iC(isNaN(e)?t:e)}const BR=(function e(t){var s=_fe(t);function a(n,i){var l=s((n=cA(n)).r,(i=cA(i)).r),o=s(n.g,i.g),u=s(n.b,i.b),d=Fz(n.opacity,i.opacity);return function(m){return n.r=l(m),n.g=o(m),n.b=u(m),n.opacity=d(m),n+""}}return a.gamma=e,a})(1);function Afe(e,t){t||(t=[]);var s=e?Math.min(t.length,e.length):0,a=t.slice(),n;return function(i){for(n=0;n<s;++n)a[n]=e[n]*(1-i)+t[n]*i;return a}}function Cfe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function kfe(e,t){var s=t?t.length:0,a=e?Math.min(s,e.length):0,n=new Array(a),i=new Array(s),l;for(l=0;l<a;++l)n[l]=$x(e[l],t[l]);for(;l<s;++l)i[l]=t[l];return function(o){for(l=0;l<a;++l)i[l]=n[l](o);return i}}function Tfe(e,t){var s=new Date;return e=+e,t=+t,function(a){return s.setTime(e*(1-a)+t*a),s}}function vj(e,t){return e=+e,t=+t,function(s){return e*(1-s)+t*s}}function Efe(e,t){var s={},a={},n;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(n in t)n in e?s[n]=$x(e[n],t[n]):a[n]=t[n];return function(i){for(n in s)a[n]=s[n](i);return a}}var dA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,FS=new RegExp(dA.source,"g");function Ofe(e){return function(){return e}}function Pfe(e){return function(t){return e(t)+""}}function Dfe(e,t){var s=dA.lastIndex=FS.lastIndex=0,a,n,i,l=-1,o=[],u=[];for(e=e+"",t=t+"";(a=dA.exec(e))&&(n=FS.exec(t));)(i=n.index)>s&&(i=t.slice(s,i),o[l]?o[l]+=i:o[++l]=i),(a=a[0])===(n=n[0])?o[l]?o[l]+=n:o[++l]=n:(o[++l]=null,u.push({i:l,x:vj(a,n)})),s=FS.lastIndex;return s<t.length&&(i=t.slice(s),o[l]?o[l]+=i:o[++l]=i),o.length<2?u[0]?Pfe(u[0].x):Ofe(t):(t=u.length,function(d){for(var m=0,f;m<t;++m)o[(f=u[m]).i]=f.x(d);return o.join("")})}function $x(e,t){var s=typeof t,a;return t==null||s==="boolean"?iC(t):(s==="number"?vj:s==="string"?(a=Iv(t))?(t=a,BR):Dfe:t instanceof Iv?BR:t instanceof Date?Tfe:Cfe(t)?Afe:Array.isArray(t)?kfe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Efe:vj)(e,t)}function lC(e,t){return e=+e,t=+t,function(s){return Math.round(e*(1-s)+t*s)}}function Rfe(e,t){t===void 0&&(t=e,e=$x);for(var s=0,a=t.length-1,n=t[0],i=new Array(a<0?0:a);s<a;)i[s]=e(n,n=t[++s]);return function(l){var o=Math.max(0,Math.min(a-1,Math.floor(l*=a)));return i[o](l-o)}}function Mfe(e){return function(){return e}}function yj(e){return+e}var UR=[0,1];function jl(e){return e}function uA(e,t){return(t-=e=+e)?function(s){return(s-e)/t}:Mfe(isNaN(t)?NaN:.5)}function Lfe(e,t){var s;return e>t&&(s=e,e=t,t=s),function(a){return Math.max(e,Math.min(t,a))}}function Ife(e,t,s){var a=e[0],n=e[1],i=t[0],l=t[1];return n<a?(a=uA(n,a),i=s(l,i)):(a=uA(a,n),i=s(i,l)),function(o){return i(a(o))}}function Ffe(e,t,s){var a=Math.min(e.length,t.length)-1,n=new Array(a),i=new Array(a),l=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<a;)n[l]=uA(e[l],e[l+1]),i[l]=s(t[l],t[l+1]);return function(o){var u=fy(e,o,1,a)-1;return i[u](n[u](o))}}function xy(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function QN(){var e=UR,t=UR,s=$x,a,n,i,l=jl,o,u,d;function m(){var g=Math.min(e.length,t.length);return l!==jl&&(l=Lfe(e[0],e[g-1])),o=g>2?Ffe:Ife,u=d=null,f}function f(g){return g==null||isNaN(g=+g)?i:(u||(u=o(e.map(a),t,s)))(a(l(g)))}return f.invert=function(g){return l(n((d||(d=o(t,e.map(a),vj)))(g)))},f.domain=function(g){return arguments.length?(e=Array.from(g,yj),m()):e.slice()},f.range=function(g){return arguments.length?(t=Array.from(g),m()):t.slice()},f.rangeRound=function(g){return t=Array.from(g),s=lC,m()},f.clamp=function(g){return arguments.length?(l=g?!0:jl,m()):l!==jl},f.interpolate=function(g){return arguments.length?(s=g,m()):s},f.unknown=function(g){return arguments.length?(i=g,f):i},function(g,p){return a=g,n=p,m()}}function oC(){return QN()(jl,jl)}function Bfe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function bj(e,t){if((s=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var s,a=e.slice(0,s);return[a.length>1?a[0]+a.slice(2):a,+e.slice(s+1)]}function yx(e){return e=bj(Math.abs(e)),e?e[1]:NaN}function Ufe(e,t){return function(s,a){for(var n=s.length,i=[],l=0,o=e[0],u=0;n>0&&o>0&&(u+o+1>a&&(o=Math.max(1,a-u)),i.push(s.substring(n-=o,n+o)),!((u+=o+1)>a));)o=e[l=(l+1)%e.length];return i.reverse().join(t)}}function zfe(e){return function(t){return t.replace(/[0-9]/g,function(s){return e[+s]})}}var $fe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Fv(e){if(!(t=$fe.exec(e)))throw new Error("invalid format: "+e);var t;return new cC({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Fv.prototype=cC.prototype;function cC(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}cC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Hfe(e){e:for(var t=e.length,s=1,a=-1,n;s<t;++s)switch(e[s]){case".":a=n=s;break;case"0":a===0&&(a=s),n=s;break;default:if(!+e[s])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(n+1):e}var Bz;function qfe(e,t){var s=bj(e,t);if(!s)return e+"";var a=s[0],n=s[1],i=n-(Bz=Math.max(-8,Math.min(8,Math.floor(n/3)))*3)+1,l=a.length;return i===l?a:i>l?a+new Array(i-l+1).join("0"):i>0?a.slice(0,i)+"."+a.slice(i):"0."+new Array(1-i).join("0")+bj(e,Math.max(0,t+i-1))[0]}function zR(e,t){var s=bj(e,t);if(!s)return e+"";var a=s[0],n=s[1];return n<0?"0."+new Array(-n).join("0")+a:a.length>n+1?a.slice(0,n+1)+"."+a.slice(n+1):a+new Array(n-a.length+2).join("0")}const $R={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Bfe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>zR(e*100,t),r:zR,s:qfe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function HR(e){return e}var qR=Array.prototype.map,VR=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Vfe(e){var t=e.grouping===void 0||e.thousands===void 0?HR:Ufe(qR.call(e.grouping,Number),e.thousands+""),s=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",n=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?HR:zfe(qR.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function d(f){f=Fv(f);var g=f.fill,p=f.align,y=f.sign,v=f.symbol,j=f.zero,N=f.width,k=f.comma,w=f.precision,A=f.trim,C=f.type;C==="n"?(k=!0,C="g"):$R[C]||(w===void 0&&(w=12),A=!0,C="g"),(j||g==="0"&&p==="=")&&(j=!0,g="0",p="=");var M=v==="$"?s:v==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",R=v==="$"?a:/[%p]/.test(C)?l:"",D=$R[C],B=/[defgprs%]/.test(C);w=w===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function z(I){var F=M,Y=R,te,ue,Z;if(C==="c")Y=D(I)+Y,I="";else{I=+I;var ie=I<0||1/I<0;if(I=isNaN(I)?u:D(Math.abs(I),w),A&&(I=Hfe(I)),ie&&+I==0&&y!=="+"&&(ie=!1),F=(ie?y==="("?y:o:y==="-"||y==="("?"":y)+F,Y=(C==="s"?VR[8+Bz/3]:"")+Y+(ie&&y==="("?")":""),B){for(te=-1,ue=I.length;++te<ue;)if(Z=I.charCodeAt(te),48>Z||Z>57){Y=(Z===46?n+I.slice(te+1):I.slice(te))+Y,I=I.slice(0,te);break}}}k&&!j&&(I=t(I,1/0));var G=F.length+I.length+Y.length,ee=G<N?new Array(N-G+1).join(g):"";switch(k&&j&&(I=t(ee+I,ee.length?N-Y.length:1/0),ee=""),p){case"<":I=F+I+Y+ee;break;case"=":I=F+ee+I+Y;break;case"^":I=ee.slice(0,G=ee.length>>1)+F+I+Y+ee.slice(G);break;default:I=ee+F+I+Y;break}return i(I)}return z.toString=function(){return f+""},z}function m(f,g){var p=d((f=Fv(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(yx(g)/3)))*3,v=Math.pow(10,-y),j=VR[8+y/3];return function(N){return p(v*N)+j}}return{format:d,formatPrefix:m}}var Jb,dC,Uz;Wfe({thousands:",",grouping:[3],currency:["$",""]});function Wfe(e){return Jb=Vfe(e),dC=Jb.format,Uz=Jb.formatPrefix,Jb}function Gfe(e){return Math.max(0,-yx(Math.abs(e)))}function Kfe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(yx(t)/3)))*3-yx(Math.abs(e)))}function Yfe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,yx(t)-yx(e))+1}function zz(e,t,s,a){var n=lA(e,t,s),i;switch(a=Fv(a??",f"),a.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return a.precision==null&&!isNaN(i=Kfe(n,l))&&(a.precision=i),Uz(a,l)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(i=Yfe(n,Math.max(Math.abs(e),Math.abs(t))))&&(a.precision=i-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(i=Gfe(n))&&(a.precision=i-(a.type==="%")*2);break}}return dC(a)}function Zm(e){var t=e.domain;return e.ticks=function(s){var a=t();return nA(a[0],a[a.length-1],s??10)},e.tickFormat=function(s,a){var n=t();return zz(n[0],n[n.length-1],s??10,a)},e.nice=function(s){s==null&&(s=10);var a=t(),n=0,i=a.length-1,l=a[n],o=a[i],u,d,m=10;for(o<l&&(d=l,l=o,o=d,d=n,n=i,i=d);m-- >0;){if(d=iA(l,o,s),d===u)return a[n]=l,a[i]=o,t(a);if(d>0)l=Math.floor(l/d)*d,o=Math.ceil(o/d)*d;else if(d<0)l=Math.ceil(l*d)/d,o=Math.floor(o*d)/d;else break;u=d}return e},e}function $z(){var e=oC();return e.copy=function(){return xy(e,$z())},kc.apply(e,arguments),Zm(e)}function Hz(e){var t;function s(a){return a==null||isNaN(a=+a)?t:a}return s.invert=s,s.domain=s.range=function(a){return arguments.length?(e=Array.from(a,yj),s):e.slice()},s.unknown=function(a){return arguments.length?(t=a,s):t},s.copy=function(){return Hz(e).unknown(t)},e=arguments.length?Array.from(e,yj):[0,1],Zm(s)}function qz(e,t){e=e.slice();var s=0,a=e.length-1,n=e[s],i=e[a],l;return i<n&&(l=s,s=a,a=l,l=n,n=i,i=l),e[s]=t.floor(n),e[a]=t.ceil(i),e}function WR(e){return Math.log(e)}function GR(e){return Math.exp(e)}function Zfe(e){return-Math.log(-e)}function Xfe(e){return-Math.exp(-e)}function Jfe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Qfe(e){return e===10?Jfe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function e0e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function KR(e){return(t,s)=>-e(-t,s)}function uC(e){const t=e(WR,GR),s=t.domain;let a=10,n,i;function l(){return n=e0e(a),i=Qfe(a),s()[0]<0?(n=KR(n),i=KR(i),e(Zfe,Xfe)):e(WR,GR),t}return t.base=function(o){return arguments.length?(a=+o,l()):a},t.domain=function(o){return arguments.length?(s(o),l()):s()},t.ticks=o=>{const u=s();let d=u[0],m=u[u.length-1];const f=m<d;f&&([d,m]=[m,d]);let g=n(d),p=n(m),y,v;const j=o==null?10:+o;let N=[];if(!(a%1)&&p-g<j){if(g=Math.floor(g),p=Math.ceil(p),d>0){for(;g<=p;++g)for(y=1;y<a;++y)if(v=g<0?y/i(-g):y*i(g),!(v<d)){if(v>m)break;N.push(v)}}else for(;g<=p;++g)for(y=a-1;y>=1;--y)if(v=g>0?y/i(-g):y*i(g),!(v<d)){if(v>m)break;N.push(v)}N.length*2<j&&(N=nA(d,m,j))}else N=nA(g,p,Math.min(p-g,j)).map(i);return f?N.reverse():N},t.tickFormat=(o,u)=>{if(o==null&&(o=10),u==null&&(u=a===10?"s":","),typeof u!="function"&&(!(a%1)&&(u=Fv(u)).precision==null&&(u.trim=!0),u=dC(u)),o===1/0)return u;const d=Math.max(1,a*o/t.ticks().length);return m=>{let f=m/i(Math.round(n(m)));return f*a<a-.5&&(f*=a),f<=d?u(m):""}},t.nice=()=>s(qz(s(),{floor:o=>i(Math.floor(n(o))),ceil:o=>i(Math.ceil(n(o)))})),t}function Vz(){const e=uC(QN()).domain([1,10]);return e.copy=()=>xy(e,Vz()).base(e.base()),kc.apply(e,arguments),e}function YR(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function ZR(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function hC(e){var t=1,s=e(YR(t),ZR(t));return s.constant=function(a){return arguments.length?e(YR(t=+a),ZR(t)):t},Zm(s)}function Wz(){var e=hC(QN());return e.copy=function(){return xy(e,Wz()).constant(e.constant())},kc.apply(e,arguments)}function XR(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function t0e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function r0e(e){return e<0?-e*e:e*e}function mC(e){var t=e(jl,jl),s=1;function a(){return s===1?e(jl,jl):s===.5?e(t0e,r0e):e(XR(s),XR(1/s))}return t.exponent=function(n){return arguments.length?(s=+n,a()):s},Zm(t)}function fC(){var e=mC(QN());return e.copy=function(){return xy(e,fC()).exponent(e.exponent())},kc.apply(e,arguments),e}function s0e(){return fC.apply(null,arguments).exponent(.5)}function JR(e){return Math.sign(e)*e*e}function a0e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Gz(){var e=oC(),t=[0,1],s=!1,a;function n(i){var l=a0e(e(i));return isNaN(l)?a:s?Math.round(l):l}return n.invert=function(i){return e.invert(JR(i))},n.domain=function(i){return arguments.length?(e.domain(i),n):e.domain()},n.range=function(i){return arguments.length?(e.range((t=Array.from(i,yj)).map(JR)),n):t.slice()},n.rangeRound=function(i){return n.range(i).round(!0)},n.round=function(i){return arguments.length?(s=!!i,n):s},n.clamp=function(i){return arguments.length?(e.clamp(i),n):e.clamp()},n.unknown=function(i){return arguments.length?(a=i,n):a},n.copy=function(){return Gz(e.domain(),t).round(s).clamp(e.clamp()).unknown(a)},kc.apply(n,arguments),Zm(n)}function Kz(){var e=[],t=[],s=[],a;function n(){var l=0,o=Math.max(1,t.length);for(s=new Array(o-1);++l<o;)s[l-1]=ofe(e,l/o);return i}function i(l){return l==null||isNaN(l=+l)?a:t[fy(s,l)]}return i.invertExtent=function(l){var o=t.indexOf(l);return o<0?[NaN,NaN]:[o>0?s[o-1]:e[0],o<s.length?s[o]:e[e.length-1]]},i.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let o of l)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Pm),n()},i.range=function(l){return arguments.length?(t=Array.from(l),n()):t.slice()},i.unknown=function(l){return arguments.length?(a=l,i):a},i.quantiles=function(){return s.slice()},i.copy=function(){return Kz().domain(e).range(t).unknown(a)},kc.apply(i,arguments)}function Yz(){var e=0,t=1,s=1,a=[.5],n=[0,1],i;function l(u){return u!=null&&u<=u?n[fy(a,u,0,s)]:i}function o(){var u=-1;for(a=new Array(s);++u<s;)a[u]=((u+1)*t-(u-s)*e)/(s+1);return l}return l.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,o()):[e,t]},l.range=function(u){return arguments.length?(s=(n=Array.from(u)).length-1,o()):n.slice()},l.invertExtent=function(u){var d=n.indexOf(u);return d<0?[NaN,NaN]:d<1?[e,a[0]]:d>=s?[a[s-1],t]:[a[d-1],a[d]]},l.unknown=function(u){return arguments.length&&(i=u),l},l.thresholds=function(){return a.slice()},l.copy=function(){return Yz().domain([e,t]).range(n).unknown(i)},kc.apply(Zm(l),arguments)}function Zz(){var e=[.5],t=[0,1],s,a=1;function n(i){return i!=null&&i<=i?t[fy(e,i,0,a)]:s}return n.domain=function(i){return arguments.length?(e=Array.from(i),a=Math.min(e.length,t.length-1),n):e.slice()},n.range=function(i){return arguments.length?(t=Array.from(i),a=Math.min(e.length,t.length-1),n):t.slice()},n.invertExtent=function(i){var l=t.indexOf(i);return[e[l-1],e[l]]},n.unknown=function(i){return arguments.length?(s=i,n):s},n.copy=function(){return Zz().domain(e).range(t).unknown(s)},kc.apply(n,arguments)}const BS=new Date,US=new Date;function ti(e,t,s,a){function n(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return n.floor=i=>(e(i=new Date(+i)),i),n.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),n.round=i=>{const l=n(i),o=n.ceil(i);return i-l<o-i?l:o},n.offset=(i,l)=>(t(i=new Date(+i),l==null?1:Math.floor(l)),i),n.range=(i,l,o)=>{const u=[];if(i=n.ceil(i),o=o==null?1:Math.floor(o),!(i<l)||!(o>0))return u;let d;do u.push(d=new Date(+i)),t(i,o),e(i);while(d<i&&i<l);return u},n.filter=i=>ti(l=>{if(l>=l)for(;e(l),!i(l);)l.setTime(l-1)},(l,o)=>{if(l>=l)if(o<0)for(;++o<=0;)for(;t(l,-1),!i(l););else for(;--o>=0;)for(;t(l,1),!i(l););}),s&&(n.count=(i,l)=>(BS.setTime(+i),US.setTime(+l),e(BS),e(US),Math.floor(s(BS,US))),n.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?n.filter(a?l=>a(l)%i===0:l=>n.count(0,l)%i===0):n)),n}const jj=ti(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);jj.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ti(t=>{t.setTime(Math.floor(t/e)*e)},(t,s)=>{t.setTime(+t+s*e)},(t,s)=>(s-t)/e):jj);jj.range;const Ju=1e3,gc=Ju*60,Qu=gc*60,xh=Qu*24,pC=xh*7,QR=xh*30,zS=xh*365,zf=ti(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ju)},(e,t)=>(t-e)/Ju,e=>e.getUTCSeconds());zf.range;const xC=ti(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ju)},(e,t)=>{e.setTime(+e+t*gc)},(e,t)=>(t-e)/gc,e=>e.getMinutes());xC.range;const gC=ti(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*gc)},(e,t)=>(t-e)/gc,e=>e.getUTCMinutes());gC.range;const vC=ti(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ju-e.getMinutes()*gc)},(e,t)=>{e.setTime(+e+t*Qu)},(e,t)=>(t-e)/Qu,e=>e.getHours());vC.range;const yC=ti(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Qu)},(e,t)=>(t-e)/Qu,e=>e.getUTCHours());yC.range;const gy=ti(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*gc)/xh,e=>e.getDate()-1);gy.range;const ew=ti(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/xh,e=>e.getUTCDate()-1);ew.range;const Xz=ti(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/xh,e=>Math.floor(e/xh));Xz.range;function b0(e){return ti(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,s)=>{t.setDate(t.getDate()+s*7)},(t,s)=>(s-t-(s.getTimezoneOffset()-t.getTimezoneOffset())*gc)/pC)}const tw=b0(0),Nj=b0(1),n0e=b0(2),i0e=b0(3),bx=b0(4),l0e=b0(5),o0e=b0(6);tw.range;Nj.range;n0e.range;i0e.range;bx.range;l0e.range;o0e.range;function j0(e){return ti(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,s)=>{t.setUTCDate(t.getUTCDate()+s*7)},(t,s)=>(s-t)/pC)}const rw=j0(0),wj=j0(1),c0e=j0(2),d0e=j0(3),jx=j0(4),u0e=j0(5),h0e=j0(6);rw.range;wj.range;c0e.range;d0e.range;jx.range;u0e.range;h0e.range;const bC=ti(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());bC.range;const jC=ti(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());jC.range;const gh=ti(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());gh.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ti(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,s)=>{t.setFullYear(t.getFullYear()+s*e)});gh.range;const vh=ti(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());vh.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ti(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,s)=>{t.setUTCFullYear(t.getUTCFullYear()+s*e)});vh.range;function Jz(e,t,s,a,n,i){const l=[[zf,1,Ju],[zf,5,5*Ju],[zf,15,15*Ju],[zf,30,30*Ju],[i,1,gc],[i,5,5*gc],[i,15,15*gc],[i,30,30*gc],[n,1,Qu],[n,3,3*Qu],[n,6,6*Qu],[n,12,12*Qu],[a,1,xh],[a,2,2*xh],[s,1,pC],[t,1,QR],[t,3,3*QR],[e,1,zS]];function o(d,m,f){const g=m<d;g&&([d,m]=[m,d]);const p=f&&typeof f.range=="function"?f:u(d,m,f),y=p?p.range(d,+m+1):[];return g?y.reverse():y}function u(d,m,f){const g=Math.abs(m-d)/f,p=rC(([,,j])=>j).right(l,g);if(p===l.length)return e.every(lA(d/zS,m/zS,f));if(p===0)return jj.every(Math.max(lA(d,m,f),1));const[y,v]=l[g/l[p-1][2]<l[p][2]/g?p-1:p];return y.every(v)}return[o,u]}const[m0e,f0e]=Jz(vh,jC,rw,Xz,yC,gC),[p0e,x0e]=Jz(gh,bC,tw,gy,vC,xC);function $S(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function HS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Kg(e,t,s){return{y:e,m:t,d:s,H:0,M:0,S:0,L:0}}function g0e(e){var t=e.dateTime,s=e.date,a=e.time,n=e.periods,i=e.days,l=e.shortDays,o=e.months,u=e.shortMonths,d=Yg(n),m=Zg(n),f=Yg(i),g=Zg(i),p=Yg(l),y=Zg(l),v=Yg(o),j=Zg(o),N=Yg(u),k=Zg(u),w={a:ie,A:G,b:ee,B:Ne,c:null,d:nM,e:nM,f:U0e,g:Z0e,G:J0e,H:I0e,I:F0e,j:B0e,L:Qz,m:z0e,M:$0e,p:X,q:P,Q:oM,s:cM,S:H0e,u:q0e,U:V0e,V:W0e,w:G0e,W:K0e,x:null,X:null,y:Y0e,Y:X0e,Z:Q0e,"%":lM},A={a:H,A:q,b:W,B:le,c:null,d:iM,e:iM,f:spe,g:mpe,G:ppe,H:epe,I:tpe,j:rpe,L:t$,m:ape,M:npe,p:Se,q:Pe,Q:oM,s:cM,S:ipe,u:lpe,U:ope,V:cpe,w:dpe,W:upe,x:null,X:null,y:hpe,Y:fpe,Z:xpe,"%":lM},C={a:z,A:I,b:F,B:Y,c:te,d:sM,e:sM,f:D0e,g:rM,G:tM,H:aM,I:aM,j:T0e,L:P0e,m:k0e,M:E0e,p:B,q:C0e,Q:M0e,s:L0e,S:O0e,u:N0e,U:w0e,V:S0e,w:j0e,W:_0e,x:ue,X:Z,y:rM,Y:tM,Z:A0e,"%":R0e};w.x=M(s,w),w.X=M(a,w),w.c=M(t,w),A.x=M(s,A),A.X=M(a,A),A.c=M(t,A);function M(re,ye){return function(ze){var Ce=[],it=-1,rt=0,fe=re.length,ke,Ie,je;for(ze instanceof Date||(ze=new Date(+ze));++it<fe;)re.charCodeAt(it)===37&&(Ce.push(re.slice(rt,it)),(Ie=eM[ke=re.charAt(++it)])!=null?ke=re.charAt(++it):Ie=ke==="e"?" ":"0",(je=ye[ke])&&(ke=je(ze,Ie)),Ce.push(ke),rt=it+1);return Ce.push(re.slice(rt,it)),Ce.join("")}}function R(re,ye){return function(ze){var Ce=Kg(1900,void 0,1),it=D(Ce,re,ze+="",0),rt,fe;if(it!=ze.length)return null;if("Q"in Ce)return new Date(Ce.Q);if("s"in Ce)return new Date(Ce.s*1e3+("L"in Ce?Ce.L:0));if(ye&&!("Z"in Ce)&&(Ce.Z=0),"p"in Ce&&(Ce.H=Ce.H%12+Ce.p*12),Ce.m===void 0&&(Ce.m="q"in Ce?Ce.q:0),"V"in Ce){if(Ce.V<1||Ce.V>53)return null;"w"in Ce||(Ce.w=1),"Z"in Ce?(rt=HS(Kg(Ce.y,0,1)),fe=rt.getUTCDay(),rt=fe>4||fe===0?wj.ceil(rt):wj(rt),rt=ew.offset(rt,(Ce.V-1)*7),Ce.y=rt.getUTCFullYear(),Ce.m=rt.getUTCMonth(),Ce.d=rt.getUTCDate()+(Ce.w+6)%7):(rt=$S(Kg(Ce.y,0,1)),fe=rt.getDay(),rt=fe>4||fe===0?Nj.ceil(rt):Nj(rt),rt=gy.offset(rt,(Ce.V-1)*7),Ce.y=rt.getFullYear(),Ce.m=rt.getMonth(),Ce.d=rt.getDate()+(Ce.w+6)%7)}else("W"in Ce||"U"in Ce)&&("w"in Ce||(Ce.w="u"in Ce?Ce.u%7:"W"in Ce?1:0),fe="Z"in Ce?HS(Kg(Ce.y,0,1)).getUTCDay():$S(Kg(Ce.y,0,1)).getDay(),Ce.m=0,Ce.d="W"in Ce?(Ce.w+6)%7+Ce.W*7-(fe+5)%7:Ce.w+Ce.U*7-(fe+6)%7);return"Z"in Ce?(Ce.H+=Ce.Z/100|0,Ce.M+=Ce.Z%100,HS(Ce)):$S(Ce)}}function D(re,ye,ze,Ce){for(var it=0,rt=ye.length,fe=ze.length,ke,Ie;it<rt;){if(Ce>=fe)return-1;if(ke=ye.charCodeAt(it++),ke===37){if(ke=ye.charAt(it++),Ie=C[ke in eM?ye.charAt(it++):ke],!Ie||(Ce=Ie(re,ze,Ce))<0)return-1}else if(ke!=ze.charCodeAt(Ce++))return-1}return Ce}function B(re,ye,ze){var Ce=d.exec(ye.slice(ze));return Ce?(re.p=m.get(Ce[0].toLowerCase()),ze+Ce[0].length):-1}function z(re,ye,ze){var Ce=p.exec(ye.slice(ze));return Ce?(re.w=y.get(Ce[0].toLowerCase()),ze+Ce[0].length):-1}function I(re,ye,ze){var Ce=f.exec(ye.slice(ze));return Ce?(re.w=g.get(Ce[0].toLowerCase()),ze+Ce[0].length):-1}function F(re,ye,ze){var Ce=N.exec(ye.slice(ze));return Ce?(re.m=k.get(Ce[0].toLowerCase()),ze+Ce[0].length):-1}function Y(re,ye,ze){var Ce=v.exec(ye.slice(ze));return Ce?(re.m=j.get(Ce[0].toLowerCase()),ze+Ce[0].length):-1}function te(re,ye,ze){return D(re,t,ye,ze)}function ue(re,ye,ze){return D(re,s,ye,ze)}function Z(re,ye,ze){return D(re,a,ye,ze)}function ie(re){return l[re.getDay()]}function G(re){return i[re.getDay()]}function ee(re){return u[re.getMonth()]}function Ne(re){return o[re.getMonth()]}function X(re){return n[+(re.getHours()>=12)]}function P(re){return 1+~~(re.getMonth()/3)}function H(re){return l[re.getUTCDay()]}function q(re){return i[re.getUTCDay()]}function W(re){return u[re.getUTCMonth()]}function le(re){return o[re.getUTCMonth()]}function Se(re){return n[+(re.getUTCHours()>=12)]}function Pe(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var ye=M(re+="",w);return ye.toString=function(){return re},ye},parse:function(re){var ye=R(re+="",!1);return ye.toString=function(){return re},ye},utcFormat:function(re){var ye=M(re+="",A);return ye.toString=function(){return re},ye},utcParse:function(re){var ye=R(re+="",!0);return ye.toString=function(){return re},ye}}}var eM={"-":"",_:" ",0:"0"},yi=/^\s*\d+/,v0e=/^%/,y0e=/[\\^$*+?|[\]().{}]/g;function Ss(e,t,s){var a=e<0?"-":"",n=(a?-e:e)+"",i=n.length;return a+(i<s?new Array(s-i+1).join(t)+n:n)}function b0e(e){return e.replace(y0e,"\\$&")}function Yg(e){return new RegExp("^(?:"+e.map(b0e).join("|")+")","i")}function Zg(e){return new Map(e.map((t,s)=>[t.toLowerCase(),s]))}function j0e(e,t,s){var a=yi.exec(t.slice(s,s+1));return a?(e.w=+a[0],s+a[0].length):-1}function N0e(e,t,s){var a=yi.exec(t.slice(s,s+1));return a?(e.u=+a[0],s+a[0].length):-1}function w0e(e,t,s){var a=yi.exec(t.slice(s,s+2));return a?(e.U=+a[0],s+a[0].length):-1}function S0e(e,t,s){var a=yi.exec(t.slice(s,s+2));return a?(e.V=+a[0],s+a[0].length):-1}function _0e(e,t,s){var a=yi.exec(t.slice(s,s+2));return a?(e.W=+a[0],s+a[0].length):-1}function tM(e,t,s){var a=yi.exec(t.slice(s,s+4));return a?(e.y=+a[0],s+a[0].length):-1}function rM(e,t,s){var a=yi.exec(t.slice(s,s+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),s+a[0].length):-1}function A0e(e,t,s){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(s,s+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),s+a[0].length):-1}function C0e(e,t,s){var a=yi.exec(t.slice(s,s+1));return a?(e.q=a[0]*3-3,s+a[0].length):-1}function k0e(e,t,s){var a=yi.exec(t.slice(s,s+2));return a?(e.m=a[0]-1,s+a[0].length):-1}function sM(e,t,s){var a=yi.exec(t.slice(s,s+2));return a?(e.d=+a[0],s+a[0].length):-1}function T0e(e,t,s){var a=yi.exec(t.slice(s,s+3));return a?(e.m=0,e.d=+a[0],s+a[0].length):-1}function aM(e,t,s){var a=yi.exec(t.slice(s,s+2));return a?(e.H=+a[0],s+a[0].length):-1}function E0e(e,t,s){var a=yi.exec(t.slice(s,s+2));return a?(e.M=+a[0],s+a[0].length):-1}function O0e(e,t,s){var a=yi.exec(t.slice(s,s+2));return a?(e.S=+a[0],s+a[0].length):-1}function P0e(e,t,s){var a=yi.exec(t.slice(s,s+3));return a?(e.L=+a[0],s+a[0].length):-1}function D0e(e,t,s){var a=yi.exec(t.slice(s,s+6));return a?(e.L=Math.floor(a[0]/1e3),s+a[0].length):-1}function R0e(e,t,s){var a=v0e.exec(t.slice(s,s+1));return a?s+a[0].length:-1}function M0e(e,t,s){var a=yi.exec(t.slice(s));return a?(e.Q=+a[0],s+a[0].length):-1}function L0e(e,t,s){var a=yi.exec(t.slice(s));return a?(e.s=+a[0],s+a[0].length):-1}function nM(e,t){return Ss(e.getDate(),t,2)}function I0e(e,t){return Ss(e.getHours(),t,2)}function F0e(e,t){return Ss(e.getHours()%12||12,t,2)}function B0e(e,t){return Ss(1+gy.count(gh(e),e),t,3)}function Qz(e,t){return Ss(e.getMilliseconds(),t,3)}function U0e(e,t){return Qz(e,t)+"000"}function z0e(e,t){return Ss(e.getMonth()+1,t,2)}function $0e(e,t){return Ss(e.getMinutes(),t,2)}function H0e(e,t){return Ss(e.getSeconds(),t,2)}function q0e(e){var t=e.getDay();return t===0?7:t}function V0e(e,t){return Ss(tw.count(gh(e)-1,e),t,2)}function e$(e){var t=e.getDay();return t>=4||t===0?bx(e):bx.ceil(e)}function W0e(e,t){return e=e$(e),Ss(bx.count(gh(e),e)+(gh(e).getDay()===4),t,2)}function G0e(e){return e.getDay()}function K0e(e,t){return Ss(Nj.count(gh(e)-1,e),t,2)}function Y0e(e,t){return Ss(e.getFullYear()%100,t,2)}function Z0e(e,t){return e=e$(e),Ss(e.getFullYear()%100,t,2)}function X0e(e,t){return Ss(e.getFullYear()%1e4,t,4)}function J0e(e,t){var s=e.getDay();return e=s>=4||s===0?bx(e):bx.ceil(e),Ss(e.getFullYear()%1e4,t,4)}function Q0e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ss(t/60|0,"0",2)+Ss(t%60,"0",2)}function iM(e,t){return Ss(e.getUTCDate(),t,2)}function epe(e,t){return Ss(e.getUTCHours(),t,2)}function tpe(e,t){return Ss(e.getUTCHours()%12||12,t,2)}function rpe(e,t){return Ss(1+ew.count(vh(e),e),t,3)}function t$(e,t){return Ss(e.getUTCMilliseconds(),t,3)}function spe(e,t){return t$(e,t)+"000"}function ape(e,t){return Ss(e.getUTCMonth()+1,t,2)}function npe(e,t){return Ss(e.getUTCMinutes(),t,2)}function ipe(e,t){return Ss(e.getUTCSeconds(),t,2)}function lpe(e){var t=e.getUTCDay();return t===0?7:t}function ope(e,t){return Ss(rw.count(vh(e)-1,e),t,2)}function r$(e){var t=e.getUTCDay();return t>=4||t===0?jx(e):jx.ceil(e)}function cpe(e,t){return e=r$(e),Ss(jx.count(vh(e),e)+(vh(e).getUTCDay()===4),t,2)}function dpe(e){return e.getUTCDay()}function upe(e,t){return Ss(wj.count(vh(e)-1,e),t,2)}function hpe(e,t){return Ss(e.getUTCFullYear()%100,t,2)}function mpe(e,t){return e=r$(e),Ss(e.getUTCFullYear()%100,t,2)}function fpe(e,t){return Ss(e.getUTCFullYear()%1e4,t,4)}function ppe(e,t){var s=e.getUTCDay();return e=s>=4||s===0?jx(e):jx.ceil(e),Ss(e.getUTCFullYear()%1e4,t,4)}function xpe(){return"+0000"}function lM(){return"%"}function oM(e){return+e}function cM(e){return Math.floor(+e/1e3)}var yp,s$,a$;gpe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function gpe(e){return yp=g0e(e),s$=yp.format,yp.parse,a$=yp.utcFormat,yp.utcParse,yp}function vpe(e){return new Date(e)}function ype(e){return e instanceof Date?+e:+new Date(+e)}function NC(e,t,s,a,n,i,l,o,u,d){var m=oC(),f=m.invert,g=m.domain,p=d(".%L"),y=d(":%S"),v=d("%I:%M"),j=d("%I %p"),N=d("%a %d"),k=d("%b %d"),w=d("%B"),A=d("%Y");function C(M){return(u(M)<M?p:o(M)<M?y:l(M)<M?v:i(M)<M?j:a(M)<M?n(M)<M?N:k:s(M)<M?w:A)(M)}return m.invert=function(M){return new Date(f(M))},m.domain=function(M){return arguments.length?g(Array.from(M,ype)):g().map(vpe)},m.ticks=function(M){var R=g();return e(R[0],R[R.length-1],M??10)},m.tickFormat=function(M,R){return R==null?C:d(R)},m.nice=function(M){var R=g();return(!M||typeof M.range!="function")&&(M=t(R[0],R[R.length-1],M??10)),M?g(qz(R,M)):m},m.copy=function(){return xy(m,NC(e,t,s,a,n,i,l,o,u,d))},m}function bpe(){return kc.apply(NC(p0e,x0e,gh,bC,tw,gy,vC,xC,zf,s$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function jpe(){return kc.apply(NC(m0e,f0e,vh,jC,rw,ew,yC,gC,zf,a$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function sw(){var e=0,t=1,s,a,n,i,l=jl,o=!1,u;function d(f){return f==null||isNaN(f=+f)?u:l(n===0?.5:(f=(i(f)-s)*n,o?Math.max(0,Math.min(1,f)):f))}d.domain=function(f){return arguments.length?([e,t]=f,s=i(e=+e),a=i(t=+t),n=s===a?0:1/(a-s),d):[e,t]},d.clamp=function(f){return arguments.length?(o=!!f,d):o},d.interpolator=function(f){return arguments.length?(l=f,d):l};function m(f){return function(g){var p,y;return arguments.length?([p,y]=g,l=f(p,y),d):[l(0),l(1)]}}return d.range=m($x),d.rangeRound=m(lC),d.unknown=function(f){return arguments.length?(u=f,d):u},function(f){return i=f,s=f(e),a=f(t),n=s===a?0:1/(a-s),d}}function Xm(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function n$(){var e=Zm(sw()(jl));return e.copy=function(){return Xm(e,n$())},kh.apply(e,arguments)}function i$(){var e=uC(sw()).domain([1,10]);return e.copy=function(){return Xm(e,i$()).base(e.base())},kh.apply(e,arguments)}function l$(){var e=hC(sw());return e.copy=function(){return Xm(e,l$()).constant(e.constant())},kh.apply(e,arguments)}function wC(){var e=mC(sw());return e.copy=function(){return Xm(e,wC()).exponent(e.exponent())},kh.apply(e,arguments)}function Npe(){return wC.apply(null,arguments).exponent(.5)}function o$(){var e=[],t=jl;function s(a){if(a!=null&&!isNaN(a=+a))return t((fy(e,a,1)-1)/(e.length-1))}return s.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let n of a)n!=null&&!isNaN(n=+n)&&e.push(n);return e.sort(Pm),s},s.interpolator=function(a){return arguments.length?(t=a,s):t},s.range=function(){return e.map((a,n)=>t(n/(e.length-1)))},s.quantiles=function(a){return Array.from({length:a+1},(n,i)=>lfe(e,i/a))},s.copy=function(){return o$(t).domain(e)},kh.apply(s,arguments)}function aw(){var e=0,t=.5,s=1,a=1,n,i,l,o,u,d=jl,m,f=!1,g;function p(v){return isNaN(v=+v)?g:(v=.5+((v=+m(v))-i)*(a*v<a*i?o:u),d(f?Math.max(0,Math.min(1,v)):v))}p.domain=function(v){return arguments.length?([e,t,s]=v,n=m(e=+e),i=m(t=+t),l=m(s=+s),o=n===i?0:.5/(i-n),u=i===l?0:.5/(l-i),a=i<n?-1:1,p):[e,t,s]},p.clamp=function(v){return arguments.length?(f=!!v,p):f},p.interpolator=function(v){return arguments.length?(d=v,p):d};function y(v){return function(j){var N,k,w;return arguments.length?([N,k,w]=j,d=Rfe(v,[N,k,w]),p):[d(0),d(.5),d(1)]}}return p.range=y($x),p.rangeRound=y(lC),p.unknown=function(v){return arguments.length?(g=v,p):g},function(v){return m=v,n=v(e),i=v(t),l=v(s),o=n===i?0:.5/(i-n),u=i===l?0:.5/(l-i),a=i<n?-1:1,p}}function c$(){var e=Zm(aw()(jl));return e.copy=function(){return Xm(e,c$())},kh.apply(e,arguments)}function d$(){var e=uC(aw()).domain([.1,1,10]);return e.copy=function(){return Xm(e,d$()).base(e.base())},kh.apply(e,arguments)}function u$(){var e=hC(aw());return e.copy=function(){return Xm(e,u$()).constant(e.constant())},kh.apply(e,arguments)}function SC(){var e=mC(aw());return e.copy=function(){return Xm(e,SC()).exponent(e.exponent())},kh.apply(e,arguments)}function wpe(){return SC.apply(null,arguments).exponent(.5)}const cv=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:aC,scaleDiverging:c$,scaleDivergingLog:d$,scaleDivergingPow:SC,scaleDivergingSqrt:wpe,scaleDivergingSymlog:u$,scaleIdentity:Hz,scaleImplicit:oA,scaleLinear:$z,scaleLog:Vz,scaleOrdinal:sC,scalePoint:dfe,scalePow:fC,scaleQuantile:Kz,scaleQuantize:Yz,scaleRadial:Gz,scaleSequential:n$,scaleSequentialLog:i$,scaleSequentialPow:wC,scaleSequentialQuantile:o$,scaleSequentialSqrt:Npe,scaleSequentialSymlog:l$,scaleSqrt:s0e,scaleSymlog:Wz,scaleThreshold:Zz,scaleTime:bpe,scaleUtc:jpe,tickFormat:zz},Symbol.toStringTag,{value:"Module"}));var Th=e=>e.chartData,nw=Je([Th],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),_C=(e,t,s,a)=>a?nw(e):Th(e),h$=(e,t,s)=>s?nw(e):Th(e);function Lm(e){if(Array.isArray(e)&&e.length===2){var[t,s]=e;if(ca(t)&&ca(s))return!0}return!1}function dM(e,t,s){return s?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function m$(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[s,a]=e,n,i;if(ca(s))n=s;else if(typeof s=="function")return;if(ca(a))i=a;else if(typeof a=="function")return;var l=[n,i];if(Lm(l))return l}}function Spe(e,t,s){if(!(!s&&t==null)){if(typeof e=="function"&&t!=null)try{var a=e(t,s);if(Lm(a))return dM(a,t,s)}catch{}if(Array.isArray(e)&&e.length===2){var[n,i]=e,l,o;if(n==="auto")t!=null&&(l=Math.min(...t));else if(Ht(n))l=n;else if(typeof n=="function")try{t!=null&&(l=n(t?.[0]))}catch{}else if(typeof n=="string"&&jD.test(n)){var u=jD.exec(n);if(u==null||u[1]==null||t==null)l=void 0;else{var d=+u[1];l=t[0]-d}}else l=t?.[0];if(i==="auto")t!=null&&(o=Math.max(...t));else if(Ht(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t?.[1]))}catch{}else if(typeof i=="string"&&ND.test(i)){var m=ND.exec(i);if(m==null||m[1]==null||t==null)o=void 0;else{var f=+m[1];o=t[1]+f}}else o=t?.[1];var g=[l,o];if(Lm(g))return t==null?g:dM(g,t,s)}}}var Hx=1e9,_pe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},CC,Da=!0,Nc="[DecimalError] ",Kf=Nc+"Invalid argument: ",AC=Nc+"Exponent out of range: ",qx=Math.floor,Pf=Math.pow,Ape=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Po,hi=1e7,ja=7,f$=9007199254740991,Sj=qx(f$/ja),Yt={};Yt.absoluteValue=Yt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Yt.comparedTo=Yt.cmp=function(e){var t,s,a,n,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(a=i.d.length,n=e.d.length,t=0,s=a<n?a:n;t<s;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return a===n?0:a>n^i.s<0?1:-1};Yt.decimalPlaces=Yt.dp=function(){var e=this,t=e.d.length-1,s=(t-e.e)*ja;if(t=e.d[t],t)for(;t%10==0;t/=10)s--;return s<0?0:s};Yt.dividedBy=Yt.div=function(e){return ah(this,new this.constructor(e))};Yt.dividedToIntegerBy=Yt.idiv=function(e){var t=this,s=t.constructor;return oa(ah(t,new s(e),0,1),s.precision)};Yt.equals=Yt.eq=function(e){return!this.cmp(e)};Yt.exponent=function(){return Dn(this)};Yt.greaterThan=Yt.gt=function(e){return this.cmp(e)>0};Yt.greaterThanOrEqualTo=Yt.gte=function(e){return this.cmp(e)>=0};Yt.isInteger=Yt.isint=function(){return this.e>this.d.length-2};Yt.isNegative=Yt.isneg=function(){return this.s<0};Yt.isPositive=Yt.ispos=function(){return this.s>0};Yt.isZero=function(){return this.s===0};Yt.lessThan=Yt.lt=function(e){return this.cmp(e)<0};Yt.lessThanOrEqualTo=Yt.lte=function(e){return this.cmp(e)<1};Yt.logarithm=Yt.log=function(e){var t,s=this,a=s.constructor,n=a.precision,i=n+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(Po))throw Error(Nc+"NaN");if(s.s<1)throw Error(Nc+(s.s?"NaN":"-Infinity"));return s.eq(Po)?new a(0):(Da=!1,t=ah(Bv(s,i),Bv(e,i),i),Da=!0,oa(t,n))};Yt.minus=Yt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?g$(t,e):p$(t,(e.s=-e.s,e))};Yt.modulo=Yt.mod=function(e){var t,s=this,a=s.constructor,n=a.precision;if(e=new a(e),!e.s)throw Error(Nc+"NaN");return s.s?(Da=!1,t=ah(s,e,0,1).times(e),Da=!0,s.minus(t)):oa(new a(s),n)};Yt.naturalExponential=Yt.exp=function(){return x$(this)};Yt.naturalLogarithm=Yt.ln=function(){return Bv(this)};Yt.negated=Yt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Yt.plus=Yt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?p$(t,e):g$(t,(e.s=-e.s,e))};Yt.precision=Yt.sd=function(e){var t,s,a,n=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Kf+e);if(t=Dn(n)+1,a=n.d.length-1,s=a*ja+1,a=n.d[a],a){for(;a%10==0;a/=10)s--;for(a=n.d[0];a>=10;a/=10)s++}return e&&t>s?t:s};Yt.squareRoot=Yt.sqrt=function(){var e,t,s,a,n,i,l,o=this,u=o.constructor;if(o.s<1){if(!o.s)return new u(0);throw Error(Nc+"NaN")}for(e=Dn(o),Da=!1,n=Math.sqrt(+o),n==0||n==1/0?(t=Xd(o.d),(t.length+e)%2==0&&(t+="0"),n=Math.sqrt(t),e=qx((e+1)/2)-(e<0||e%2),n==1/0?t="5e"+e:(t=n.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),a=new u(t)):a=new u(n.toString()),s=u.precision,n=l=s+3;;)if(i=a,a=i.plus(ah(o,i,l+2)).times(.5),Xd(i.d).slice(0,l)===(t=Xd(a.d)).slice(0,l)){if(t=t.slice(l-3,l+1),n==l&&t=="4999"){if(oa(i,s+1,0),i.times(i).eq(o)){a=i;break}}else if(t!="9999")break;l+=4}return Da=!0,oa(a,s)};Yt.times=Yt.mul=function(e){var t,s,a,n,i,l,o,u,d,m=this,f=m.constructor,g=m.d,p=(e=new f(e)).d;if(!m.s||!e.s)return new f(0);for(e.s*=m.s,s=m.e+e.e,u=g.length,d=p.length,u<d&&(i=g,g=p,p=i,l=u,u=d,d=l),i=[],l=u+d,a=l;a--;)i.push(0);for(a=d;--a>=0;){for(t=0,n=u+a;n>a;)o=i[n]+p[a]*g[n-a-1]+t,i[n--]=o%hi|0,t=o/hi|0;i[n]=(i[n]+t)%hi|0}for(;!i[--l];)i.pop();return t?++s:i.shift(),e.d=i,e.e=s,Da?oa(e,f.precision):e};Yt.toDecimalPlaces=Yt.todp=function(e,t){var s=this,a=s.constructor;return s=new a(s),e===void 0?s:(ou(e,0,Hx),t===void 0?t=a.rounding:ou(t,0,8),oa(s,e+Dn(s)+1,t))};Yt.toExponential=function(e,t){var s,a=this,n=a.constructor;return e===void 0?s=c0(a,!0):(ou(e,0,Hx),t===void 0?t=n.rounding:ou(t,0,8),a=oa(new n(a),e+1,t),s=c0(a,!0,e+1)),s};Yt.toFixed=function(e,t){var s,a,n=this,i=n.constructor;return e===void 0?c0(n):(ou(e,0,Hx),t===void 0?t=i.rounding:ou(t,0,8),a=oa(new i(n),e+Dn(n)+1,t),s=c0(a.abs(),!1,e+Dn(a)+1),n.isneg()&&!n.isZero()?"-"+s:s)};Yt.toInteger=Yt.toint=function(){var e=this,t=e.constructor;return oa(new t(e),Dn(e)+1,t.rounding)};Yt.toNumber=function(){return+this};Yt.toPower=Yt.pow=function(e){var t,s,a,n,i,l,o=this,u=o.constructor,d=12,m=+(e=new u(e));if(!e.s)return new u(Po);if(o=new u(o),!o.s){if(e.s<1)throw Error(Nc+"Infinity");return o}if(o.eq(Po))return o;if(a=u.precision,e.eq(Po))return oa(o,a);if(t=e.e,s=e.d.length-1,l=t>=s,i=o.s,l){if((s=m<0?-m:m)<=f$){for(n=new u(Po),t=Math.ceil(a/ja+4),Da=!1;s%2&&(n=n.times(o),hM(n.d,t)),s=qx(s/2),s!==0;)o=o.times(o),hM(o.d,t);return Da=!0,e.s<0?new u(Po).div(n):oa(n,a)}}else if(i<0)throw Error(Nc+"NaN");return i=i<0&&e.d[Math.max(t,s)]&1?-1:1,o.s=1,Da=!1,n=e.times(Bv(o,a+d)),Da=!0,n=x$(n),n.s=i,n};Yt.toPrecision=function(e,t){var s,a,n=this,i=n.constructor;return e===void 0?(s=Dn(n),a=c0(n,s<=i.toExpNeg||s>=i.toExpPos)):(ou(e,1,Hx),t===void 0?t=i.rounding:ou(t,0,8),n=oa(new i(n),e,t),s=Dn(n),a=c0(n,e<=s||s<=i.toExpNeg,e)),a};Yt.toSignificantDigits=Yt.tosd=function(e,t){var s=this,a=s.constructor;return e===void 0?(e=a.precision,t=a.rounding):(ou(e,1,Hx),t===void 0?t=a.rounding:ou(t,0,8)),oa(new a(s),e,t)};Yt.toString=Yt.valueOf=Yt.val=Yt.toJSON=Yt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Dn(e),s=e.constructor;return c0(e,t<=s.toExpNeg||t>=s.toExpPos)};function p$(e,t){var s,a,n,i,l,o,u,d,m=e.constructor,f=m.precision;if(!e.s||!t.s)return t.s||(t=new m(e)),Da?oa(t,f):t;if(u=e.d,d=t.d,l=e.e,n=t.e,u=u.slice(),i=l-n,i){for(i<0?(a=u,i=-i,o=d.length):(a=d,n=l,o=u.length),l=Math.ceil(f/ja),o=l>o?l+1:o+1,i>o&&(i=o,a.length=1),a.reverse();i--;)a.push(0);a.reverse()}for(o=u.length,i=d.length,o-i<0&&(i=o,a=d,d=u,u=a),s=0;i;)s=(u[--i]=u[i]+d[i]+s)/hi|0,u[i]%=hi;for(s&&(u.unshift(s),++n),o=u.length;u[--o]==0;)u.pop();return t.d=u,t.e=n,Da?oa(t,f):t}function ou(e,t,s){if(e!==~~e||e<t||e>s)throw Error(Kf+e)}function Xd(e){var t,s,a,n=e.length-1,i="",l=e[0];if(n>0){for(i+=l,t=1;t<n;t++)a=e[t]+"",s=ja-a.length,s&&(i+=jm(s)),i+=a;l=e[t],a=l+"",s=ja-a.length,s&&(i+=jm(s))}else if(l===0)return"0";for(;l%10===0;)l/=10;return i+l}var ah=(function(){function e(a,n){var i,l=0,o=a.length;for(a=a.slice();o--;)i=a[o]*n+l,a[o]=i%hi|0,l=i/hi|0;return l&&a.unshift(l),a}function t(a,n,i,l){var o,u;if(i!=l)u=i>l?1:-1;else for(o=u=0;o<i;o++)if(a[o]!=n[o]){u=a[o]>n[o]?1:-1;break}return u}function s(a,n,i){for(var l=0;i--;)a[i]-=l,l=a[i]<n[i]?1:0,a[i]=l*hi+a[i]-n[i];for(;!a[0]&&a.length>1;)a.shift()}return function(a,n,i,l){var o,u,d,m,f,g,p,y,v,j,N,k,w,A,C,M,R,D,B=a.constructor,z=a.s==n.s?1:-1,I=a.d,F=n.d;if(!a.s)return new B(a);if(!n.s)throw Error(Nc+"Division by zero");for(u=a.e-n.e,R=F.length,C=I.length,p=new B(z),y=p.d=[],d=0;F[d]==(I[d]||0);)++d;if(F[d]>(I[d]||0)&&--u,i==null?k=i=B.precision:l?k=i+(Dn(a)-Dn(n))+1:k=i,k<0)return new B(0);if(k=k/ja+2|0,d=0,R==1)for(m=0,F=F[0],k++;(d<C||m)&&k--;d++)w=m*hi+(I[d]||0),y[d]=w/F|0,m=w%F|0;else{for(m=hi/(F[0]+1)|0,m>1&&(F=e(F,m),I=e(I,m),R=F.length,C=I.length),A=R,v=I.slice(0,R),j=v.length;j<R;)v[j++]=0;D=F.slice(),D.unshift(0),M=F[0],F[1]>=hi/2&&++M;do m=0,o=t(F,v,R,j),o<0?(N=v[0],R!=j&&(N=N*hi+(v[1]||0)),m=N/M|0,m>1?(m>=hi&&(m=hi-1),f=e(F,m),g=f.length,j=v.length,o=t(f,v,g,j),o==1&&(m--,s(f,R<g?D:F,g))):(m==0&&(o=m=1),f=F.slice()),g=f.length,g<j&&f.unshift(0),s(v,f,j),o==-1&&(j=v.length,o=t(F,v,R,j),o<1&&(m++,s(v,R<j?D:F,j))),j=v.length):o===0&&(m++,v=[0]),y[d++]=m,o&&v[0]?v[j++]=I[A]||0:(v=[I[A]],j=1);while((A++<C||v[0]!==void 0)&&k--)}return y[0]||y.shift(),p.e=u,oa(p,l?i+Dn(p)+1:i)}})();function x$(e,t){var s,a,n,i,l,o,u=0,d=0,m=e.constructor,f=m.precision;if(Dn(e)>16)throw Error(AC+Dn(e));if(!e.s)return new m(Po);for(Da=!1,o=f,l=new m(.03125);e.abs().gte(.1);)e=e.times(l),d+=5;for(a=Math.log(Pf(2,d))/Math.LN10*2+5|0,o+=a,s=n=i=new m(Po),m.precision=o;;){if(n=oa(n.times(e),o),s=s.times(++u),l=i.plus(ah(n,s,o)),Xd(l.d).slice(0,o)===Xd(i.d).slice(0,o)){for(;d--;)i=oa(i.times(i),o);return m.precision=f,t==null?(Da=!0,oa(i,f)):i}i=l}}function Dn(e){for(var t=e.e*ja,s=e.d[0];s>=10;s/=10)t++;return t}function qS(e,t,s){if(t>e.LN10.sd())throw Da=!0,s&&(e.precision=s),Error(Nc+"LN10 precision limit exceeded");return oa(new e(e.LN10),t)}function jm(e){for(var t="";e--;)t+="0";return t}function Bv(e,t){var s,a,n,i,l,o,u,d,m,f=1,g=10,p=e,y=p.d,v=p.constructor,j=v.precision;if(p.s<1)throw Error(Nc+(p.s?"NaN":"-Infinity"));if(p.eq(Po))return new v(0);if(t==null?(Da=!1,d=j):d=t,p.eq(10))return t==null&&(Da=!0),qS(v,d);if(d+=g,v.precision=d,s=Xd(y),a=s.charAt(0),i=Dn(p),Math.abs(i)<15e14){for(;a<7&&a!=1||a==1&&s.charAt(1)>3;)p=p.times(e),s=Xd(p.d),a=s.charAt(0),f++;i=Dn(p),a>1?(p=new v("0."+s),i++):p=new v(a+"."+s.slice(1))}else return u=qS(v,d+2,j).times(i+""),p=Bv(new v(a+"."+s.slice(1)),d-g).plus(u),v.precision=j,t==null?(Da=!0,oa(p,j)):p;for(o=l=p=ah(p.minus(Po),p.plus(Po),d),m=oa(p.times(p),d),n=3;;){if(l=oa(l.times(m),d),u=o.plus(ah(l,new v(n),d)),Xd(u.d).slice(0,d)===Xd(o.d).slice(0,d))return o=o.times(2),i!==0&&(o=o.plus(qS(v,d+2,j).times(i+""))),o=ah(o,new v(f),d),v.precision=j,t==null?(Da=!0,oa(o,j)):o;o=u,n+=2}}function uM(e,t){var s,a,n;for((s=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(s<0&&(s=a),s+=+t.slice(a+1),t=t.substring(0,a)):s<0&&(s=t.length),a=0;t.charCodeAt(a)===48;)++a;for(n=t.length;t.charCodeAt(n-1)===48;)--n;if(t=t.slice(a,n),t){if(n-=a,s=s-a-1,e.e=qx(s/ja),e.d=[],a=(s+1)%ja,s<0&&(a+=ja),a<n){for(a&&e.d.push(+t.slice(0,a)),n-=ja;a<n;)e.d.push(+t.slice(a,a+=ja));t=t.slice(a),a=ja-t.length}else a-=n;for(;a--;)t+="0";if(e.d.push(+t),Da&&(e.e>Sj||e.e<-Sj))throw Error(AC+s)}else e.s=0,e.e=0,e.d=[0];return e}function oa(e,t,s){var a,n,i,l,o,u,d,m,f=e.d;for(l=1,i=f[0];i>=10;i/=10)l++;if(a=t-l,a<0)a+=ja,n=t,d=f[m=0];else{if(m=Math.ceil((a+1)/ja),i=f.length,m>=i)return e;for(d=i=f[m],l=1;i>=10;i/=10)l++;a%=ja,n=a-ja+l}if(s!==void 0&&(i=Pf(10,l-n-1),o=d/i%10|0,u=t<0||f[m+1]!==void 0||d%i,u=s<4?(o||u)&&(s==0||s==(e.s<0?3:2)):o>5||o==5&&(s==4||u||s==6&&(a>0?n>0?d/Pf(10,l-n):0:f[m-1])%10&1||s==(e.s<0?8:7))),t<1||!f[0])return u?(i=Dn(e),f.length=1,t=t-i-1,f[0]=Pf(10,(ja-t%ja)%ja),e.e=qx(-t/ja)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(a==0?(f.length=m,i=1,m--):(f.length=m+1,i=Pf(10,ja-a),f[m]=n>0?(d/Pf(10,l-n)%Pf(10,n)|0)*i:0),u)for(;;)if(m==0){(f[0]+=i)==hi&&(f[0]=1,++e.e);break}else{if(f[m]+=i,f[m]!=hi)break;f[m--]=0,i=1}for(a=f.length;f[--a]===0;)f.pop();if(Da&&(e.e>Sj||e.e<-Sj))throw Error(AC+Dn(e));return e}function g$(e,t){var s,a,n,i,l,o,u,d,m,f,g=e.constructor,p=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),Da?oa(t,p):t;if(u=e.d,f=t.d,a=t.e,d=e.e,u=u.slice(),l=d-a,l){for(m=l<0,m?(s=u,l=-l,o=f.length):(s=f,a=d,o=u.length),n=Math.max(Math.ceil(p/ja),o)+2,l>n&&(l=n,s.length=1),s.reverse(),n=l;n--;)s.push(0);s.reverse()}else{for(n=u.length,o=f.length,m=n<o,m&&(o=n),n=0;n<o;n++)if(u[n]!=f[n]){m=u[n]<f[n];break}l=0}for(m&&(s=u,u=f,f=s,t.s=-t.s),o=u.length,n=f.length-o;n>0;--n)u[o++]=0;for(n=f.length;n>l;){if(u[--n]<f[n]){for(i=n;i&&u[--i]===0;)u[i]=hi-1;--u[i],u[n]+=hi}u[n]-=f[n]}for(;u[--o]===0;)u.pop();for(;u[0]===0;u.shift())--a;return u[0]?(t.d=u,t.e=a,Da?oa(t,p):t):new g(0)}function c0(e,t,s){var a,n=Dn(e),i=Xd(e.d),l=i.length;return t?(s&&(a=s-l)>0?i=i.charAt(0)+"."+i.slice(1)+jm(a):l>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(n<0?"e":"e+")+n):n<0?(i="0."+jm(-n-1)+i,s&&(a=s-l)>0&&(i+=jm(a))):n>=l?(i+=jm(n+1-l),s&&(a=s-n-1)>0&&(i=i+"."+jm(a))):((a=n+1)<l&&(i=i.slice(0,a)+"."+i.slice(a)),s&&(a=s-l)>0&&(n+1===l&&(i+="."),i+=jm(a))),e.s<0?"-"+i:i}function hM(e,t){if(e.length>t)return e.length=t,!0}function v$(e){var t,s,a;function n(i){var l=this;if(!(l instanceof n))return new n(i);if(l.constructor=n,i instanceof n){l.s=i.s,l.e=i.e,l.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Kf+i);if(i>0)l.s=1;else if(i<0)i=-i,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(i===~~i&&i<1e7){l.e=0,l.d=[i];return}return uM(l,i.toString())}else if(typeof i!="string")throw Error(Kf+i);if(i.charCodeAt(0)===45?(i=i.slice(1),l.s=-1):l.s=1,Ape.test(i))uM(l,i);else throw Error(Kf+i)}if(n.prototype=Yt,n.ROUND_UP=0,n.ROUND_DOWN=1,n.ROUND_CEIL=2,n.ROUND_FLOOR=3,n.ROUND_HALF_UP=4,n.ROUND_HALF_DOWN=5,n.ROUND_HALF_EVEN=6,n.ROUND_HALF_CEIL=7,n.ROUND_HALF_FLOOR=8,n.clone=v$,n.config=n.set=Cpe,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<a.length;)e.hasOwnProperty(s=a[t++])||(e[s]=this[s]);return n.config(e),n}function Cpe(e){if(!e||typeof e!="object")throw Error(Nc+"Object expected");var t,s,a,n=["precision",1,Hx,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<n.length;t+=3)if((a=e[s=n[t]])!==void 0)if(qx(a)===a&&a>=n[t+1]&&a<=n[t+2])this[s]=a;else throw Error(Kf+s+": "+a);if((a=e[s="LN10"])!==void 0)if(a==Math.LN10)this[s]=new this(a);else throw Error(Kf+s+": "+a);return this}var CC=v$(_pe);Po=new CC(1);const zs=CC;var kpe=e=>e,y$={},b$=e=>e===y$,mM=e=>function t(){return arguments.length===0||arguments.length===1&&b$(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},j$=(e,t)=>e===1?t:mM(function(){for(var s=arguments.length,a=new Array(s),n=0;n<s;n++)a[n]=arguments[n];var i=a.filter(l=>l!==y$).length;return i>=e?t(...a):j$(e-i,mM(function(){for(var l=arguments.length,o=new Array(l),u=0;u<l;u++)o[u]=arguments[u];var d=a.map(m=>b$(m)?o.shift():m);return t(...d,...o)}))}),Tpe=e=>j$(e.length,e),hA=(e,t)=>{for(var s=[],a=e;a<t;++a)s[a-e]=a;return s},Epe=Tpe((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(s=>t[s]).map(e)),Ope=function(){for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];if(!s.length)return kpe;var n=s.reverse(),i=n[0],l=n.slice(1);return function(){return l.reduce((o,u)=>u(o),i(...arguments))}};function N$(e){var t;return e===0?t=1:t=Math.floor(new zs(e).abs().log(10).toNumber())+1,t}function w$(e,t,s){for(var a=new zs(e),n=0,i=[];a.lt(t)&&n<1e5;)i.push(a.toNumber()),a=a.add(s),n++;return i}var S$=e=>{var[t,s]=e,[a,n]=[t,s];return t>s&&([a,n]=[s,t]),[a,n]},_$=(e,t,s)=>{if(e.lte(0))return new zs(0);var a=N$(e.toNumber()),n=new zs(10).pow(a),i=e.div(n),l=a!==1?.05:.1,o=new zs(Math.ceil(i.div(l).toNumber())).add(s).mul(l),u=o.mul(n);return t?new zs(u.toNumber()):new zs(Math.ceil(u.toNumber()))},Ppe=(e,t,s)=>{var a=new zs(1),n=new zs(e);if(!n.isint()&&s){var i=Math.abs(e);i<1?(a=new zs(10).pow(N$(e)-1),n=new zs(Math.floor(n.div(a).toNumber())).mul(a)):i>1&&(n=new zs(Math.floor(e)))}else e===0?n=new zs(Math.floor((t-1)/2)):s||(n=new zs(Math.floor(e)));var l=Math.floor((t-1)/2),o=Ope(Epe(u=>n.add(new zs(u-l).mul(a)).toNumber()),hA);return o(0,t)},A$=function(t,s,a,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((s-t)/(a-1)))return{step:new zs(0),tickMin:new zs(0),tickMax:new zs(0)};var l=_$(new zs(s).sub(t).div(a-1),n,i),o;t<=0&&s>=0?o=new zs(0):(o=new zs(t).add(s).div(2),o=o.sub(new zs(o).mod(l)));var u=Math.ceil(o.sub(t).div(l).toNumber()),d=Math.ceil(new zs(s).sub(o).div(l).toNumber()),m=u+d+1;return m>a?A$(t,s,a,n,i+1):(m<a&&(d=s>0?d+(a-m):d,u=s>0?u:u+(a-m)),{step:l,tickMin:o.sub(new zs(u).mul(l)),tickMax:o.add(new zs(d).mul(l))})},Dpe=function(t){var[s,a]=t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(n,2),[o,u]=S$([s,a]);if(o===-1/0||u===1/0){var d=u===1/0?[o,...hA(0,n-1).map(()=>1/0)]:[...hA(0,n-1).map(()=>-1/0),u];return s>a?d.reverse():d}if(o===u)return Ppe(o,n,i);var{step:m,tickMin:f,tickMax:g}=A$(o,u,l,i,0),p=w$(f,g.add(new zs(.1).mul(m)),m);return s>a?p.reverse():p},Rpe=function(t,s){var[a,n]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,o]=S$([a,n]);if(l===-1/0||o===1/0)return[a,n];if(l===o)return[l];var u=Math.max(s,2),d=_$(new zs(o).sub(l).div(u-1),i,0),m=[...w$(new zs(l),new zs(o),d),o];return i===!1&&(m=m.map(f=>Math.round(f))),a>n?m.reverse():m},C$=e=>e.rootProps.maxBarSize,Mpe=e=>e.rootProps.barGap,k$=e=>e.rootProps.barCategoryGap,Lpe=e=>e.rootProps.barSize,vy=e=>e.rootProps.stackOffset,T$=e=>e.rootProps.reverseStackOrder,kC=e=>e.options.chartName,TC=e=>e.rootProps.syncId,E$=e=>e.rootProps.syncMethod,EC=e=>e.options.eventEmitter,Ipe=e=>e.rootProps.baseValue,vn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Ku={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Ao={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},iw=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Fpe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ku.angleAxisId,includeHidden:!1,name:void 0,reversed:Ku.reversed,scale:Ku.scale,tick:Ku.tick,tickCount:void 0,ticks:void 0,type:Ku.type,unit:void 0},Bpe={allowDataOverflow:Ao.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ao.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ao.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ao.scale,tick:Ao.tick,tickCount:Ao.tickCount,ticks:void 0,type:Ao.type,unit:void 0},Upe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ku.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ku.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ku.scale,tick:Ku.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},zpe={allowDataOverflow:Ao.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ao.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ao.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ao.scale,tick:Ao.tick,tickCount:Ao.tickCount,ticks:void 0,type:"category",unit:void 0},OC=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Upe:Fpe,PC=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?zpe:Bpe,lw=e=>e.polarOptions,DC=Je([Ah,Ch,ei],Cz),O$=Je([lw,DC],(e,t)=>{if(e!=null)return rl(e.innerRadius,t,0)}),P$=Je([lw,DC],(e,t)=>{if(e!=null)return rl(e.outerRadius,t,t*.8)}),$pe=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:s}=e;return[t,s]},D$=Je([lw],$pe);Je([OC,D$],iw);var R$=Je([DC,O$,P$],(e,t,s)=>{if(!(e==null||t==null||s==null))return[t,s]});Je([PC,R$],iw);var M$=Je([Qr,lw,O$,P$,Ah,Ch],(e,t,s,a,n,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||s==null||a==null)){var{cx:l,cy:o,startAngle:u,endAngle:d}=t;return{cx:rl(l,n,n/2),cy:rl(o,i,i/2),innerRadius:s,outerRadius:a,startAngle:u,endAngle:d,clockWise:!1}}}),La=(e,t)=>t,yy=(e,t,s)=>s;function ow(e){return e?.id}function L$(e,t,s){var{chartData:a=[]}=t,{allowDuplicatedCategory:n,dataKey:i}=s,l=new Map;return e.forEach(o=>{var u,d=(u=o.data)!==null&&u!==void 0?u:a;if(!(d==null||d.length===0)){var m=ow(o);d.forEach((f,g)=>{var p=i==null||n?g:String(Ms(f,i,null)),y=Ms(f,o.dataKey,0),v;l.has(p)?v=l.get(p):v={},Object.assign(v,{[m]:y}),l.set(p,v)})}}),Array.from(l.values())}function cw(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var dw=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function uw(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function Hpe(e,t){if(e.length===t.length){for(var s=0;s<e.length;s++)if(e[s]!==t[s])return!1;return!0}return!1}var ri=e=>{var t=Qr(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Vx=e=>e.tooltip.settings.axisId;function fM(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function _j(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?fM(Object(s),!0).forEach(function(a){qpe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):fM(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function qpe(e,t,s){return(t=Vpe(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Vpe(e){var t=Wpe(e,"string");return typeof t=="symbol"?t:t+""}function Wpe(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mA=[0,"auto"],di={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},I$=(e,t)=>e.cartesianAxis.xAxis[t],Eh=(e,t)=>{var s=I$(e,t);return s??di},ui={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:mA,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:uy},F$=(e,t)=>e.cartesianAxis.yAxis[t],Oh=(e,t)=>{var s=F$(e,t);return s??ui},Gpe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},RC=(e,t)=>{var s=e.cartesianAxis.zAxis[t];return s??Gpe},qa=(e,t,s)=>{switch(t){case"xAxis":return Eh(e,s);case"yAxis":return Oh(e,s);case"zAxis":return RC(e,s);case"angleAxis":return OC(e,s);case"radiusAxis":return PC(e,s);default:throw new Error("Unexpected axis type: ".concat(t))}},Kpe=(e,t,s)=>{switch(t){case"xAxis":return Eh(e,s);case"yAxis":return Oh(e,s);default:throw new Error("Unexpected axis type: ".concat(t))}},by=(e,t,s)=>{switch(t){case"xAxis":return Eh(e,s);case"yAxis":return Oh(e,s);case"angleAxis":return OC(e,s);case"radiusAxis":return PC(e,s);default:throw new Error("Unexpected axis type: ".concat(t))}},B$=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function MC(e,t){return s=>{switch(e){case"xAxis":return"xAxisId"in s&&s.xAxisId===t;case"yAxis":return"yAxisId"in s&&s.yAxisId===t;case"zAxis":return"zAxisId"in s&&s.zAxisId===t;case"angleAxis":return"angleAxisId"in s&&s.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in s&&s.radiusAxisId===t;default:return!1}}}var jy=e=>e.graphicalItems.cartesianItems,Ype=Je([La,yy],MC),LC=(e,t,s)=>e.filter(s).filter(a=>t?.includeHidden===!0?!0:!a.hide),Ny=Je([jy,qa,Ype],LC,{memoizeOptions:{resultEqualityCheck:uw}}),U$=Je([Ny],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(cw)),z$=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Zpe=Je([Ny],z$),IC=e=>e.map(t=>t.data).filter(Boolean).flat(1),Xpe=Je([Ny],IC,{memoizeOptions:{resultEqualityCheck:uw}}),FC=(e,t)=>{var{chartData:s=[],dataStartIndex:a,dataEndIndex:n}=t;return e.length>0?e:s.slice(a,n+1)},BC=Je([Xpe,_C],FC),UC=(e,t,s)=>t?.dataKey!=null?e.map(a=>({value:Ms(a,t.dataKey)})):s.length>0?s.map(a=>a.dataKey).flatMap(a=>e.map(n=>({value:Ms(n,a)}))):e.map(a=>({value:a})),hw=Je([BC,qa,Ny],UC);function $$(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function y2(e){if(iu(e)||e instanceof Date){var t=Number(e);if(ca(t))return t}}function pM(e){if(Array.isArray(e)){var t=[y2(e[0]),y2(e[1])];return Lm(t)?t:void 0}var s=y2(e);if(s!=null)return[s,s]}function yh(e){return e.map(y2).filter(qoe)}function Jpe(e,t,s){return!s||typeof t!="number"||bc(t)?[]:s.length?yh(s.flatMap(a=>{var n=Ms(e,a.dataKey),i,l;if(Array.isArray(n)?[i,l]=n:i=l=n,!(!ca(i)||!ca(l)))return[t-i,t+l]})):[]}var si=e=>{var t=ri(e),s=Vx(e);return by(e,t,s)},wy=Je([si],e=>e?.dataKey),Qpe=Je([U$,_C,si],L$),H$=(e,t,s,a)=>{var n={},i=t.reduce((l,o)=>{if(o.stackId==null)return l;var u=l[o.stackId];return u==null&&(u=[]),u.push(o),l[o.stackId]=u,l},n);return Object.fromEntries(Object.entries(i).map(l=>{var[o,u]=l,d=a?[...u].reverse():u,m=d.map(ow);return[o,{stackedData:gue(e,m,s),graphicalItems:d}]}))},Aj=Je([Qpe,U$,vy,T$],H$),q$=(e,t,s,a)=>{var{dataStartIndex:n,dataEndIndex:i}=t;if(a==null&&s!=="zAxis"){var l=jue(e,n,i);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},exe=Je([qa],e=>e.allowDataOverflow),zC=e=>{var t;if(e==null||!("domain"in e))return mA;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var s=yh(e.ticks);return[Math.min(...s),Math.max(...s)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:mA},$C=Je([qa],zC),HC=Je([$C,exe],m$),txe=Je([Aj,Th,La,HC],q$,{memoizeOptions:{resultEqualityCheck:dw}}),mw=e=>e.errorBars,rxe=(e,t,s)=>e.flatMap(a=>t[a.id]).filter(Boolean).filter(a=>$$(s,a)),Cj=function(){for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];var n=s.filter(Boolean);if(n.length!==0){var i=n.flat(),l=Math.min(...i),o=Math.max(...i);return[l,o]}},qC=(e,t,s,a,n)=>{var i,l;if(s.length>0&&e.forEach(o=>{s.forEach(u=>{var d,m,f=(d=a[u.id])===null||d===void 0?void 0:d.filter(N=>$$(n,N)),g=Ms(o,(m=t.dataKey)!==null&&m!==void 0?m:u.dataKey),p=Jpe(o,g,f);if(p.length>=2){var y=Math.min(...p),v=Math.max(...p);(i==null||y<i)&&(i=y),(l==null||v>l)&&(l=v)}var j=pM(g);j!=null&&(i=i==null?j[0]:Math.min(i,j[0]),l=l==null?j[1]:Math.max(l,j[1]))})}),t?.dataKey!=null&&e.forEach(o=>{var u=pM(Ms(o,t.dataKey));u!=null&&(i=i==null?u[0]:Math.min(i,u[0]),l=l==null?u[1]:Math.max(l,u[1]))}),ca(i)&&ca(l))return[i,l]},sxe=Je([BC,qa,Zpe,mw,La],qC,{memoizeOptions:{resultEqualityCheck:dw}});function axe(e){var{value:t}=e;if(iu(t)||t instanceof Date)return t}var nxe=(e,t,s)=>{var a=e.map(axe).filter(n=>n!=null);return s&&(t.dataKey==null||t.allowDuplicatedCategory&&nU(a))?Oz(0,e.length):t.allowDuplicatedCategory?a:Array.from(new Set(a))},V$=e=>e.referenceElements.dots,Wx=(e,t,s)=>e.filter(a=>a.ifOverflow==="extendDomain").filter(a=>t==="xAxis"?a.xAxisId===s:a.yAxisId===s),ixe=Je([V$,La,yy],Wx),W$=e=>e.referenceElements.areas,lxe=Je([W$,La,yy],Wx),G$=e=>e.referenceElements.lines,oxe=Je([G$,La,yy],Wx),K$=(e,t)=>{if(e!=null){var s=yh(e.map(a=>t==="xAxis"?a.x:a.y));if(s.length!==0)return[Math.min(...s),Math.max(...s)]}},cxe=Je(ixe,La,K$),Y$=(e,t)=>{if(e!=null){var s=yh(e.flatMap(a=>[t==="xAxis"?a.x1:a.y1,t==="xAxis"?a.x2:a.y2]));if(s.length!==0)return[Math.min(...s),Math.max(...s)]}},dxe=Je([lxe,La],Y$);function uxe(e){var t;if(e.x!=null)return yh([e.x]);var s=(t=e.segment)===null||t===void 0?void 0:t.map(a=>a.x);return s==null||s.length===0?[]:yh(s)}function hxe(e){var t;if(e.y!=null)return yh([e.y]);var s=(t=e.segment)===null||t===void 0?void 0:t.map(a=>a.y);return s==null||s.length===0?[]:yh(s)}var Z$=(e,t)=>{if(e!=null){var s=e.flatMap(a=>t==="xAxis"?uxe(a):hxe(a));if(s.length!==0)return[Math.min(...s),Math.max(...s)]}},mxe=Je([oxe,La],Z$),fxe=Je(cxe,mxe,dxe,(e,t,s)=>Cj(e,s,t)),VC=(e,t,s,a,n,i,l,o)=>{if(s!=null)return s;var u=l==="vertical"&&o==="xAxis"||l==="horizontal"&&o==="yAxis",d=u?Cj(a,i,n):Cj(i,n);return Spe(t,d,e.allowDataOverflow)},pxe=Je([qa,$C,HC,txe,sxe,fxe,Qr,La],VC,{memoizeOptions:{resultEqualityCheck:dw}}),xxe=[0,1],WC=(e,t,s,a,n,i,l)=>{if(!((e==null||s==null||s.length===0)&&l===void 0)){var{dataKey:o,type:u}=e,d=mu(t,i);if(d&&o==null){var m;return Oz(0,(m=s?.length)!==null&&m!==void 0?m:0)}return u==="category"?nxe(a,e,d):n==="expand"?xxe:l}},GC=Je([qa,Qr,BC,hw,vy,La,pxe],WC),X$=(e,t,s,a,n)=>{if(e!=null){var{scale:i,type:l}=e;if(i==="auto")return t==="radial"&&n==="radiusAxis"?"band":t==="radial"&&n==="angleAxis"?"linear":l==="category"&&a&&(a.indexOf("LineChart")>=0||a.indexOf("AreaChart")>=0||a.indexOf("ComposedChart")>=0&&!s)?"point":l==="category"?"band":"linear";if(typeof i=="string"){var o="scale".concat(iy(i));return o in cv?o:"point"}}},Gx=Je([qa,Qr,B$,kC,La],X$);function gxe(e){if(e!=null){if(e in cv)return cv[e]();var t="scale".concat(iy(e));if(t in cv)return cv[t]()}}function KC(e,t,s,a){if(!(s==null||a==null)){if(typeof e.scale=="function")return e.scale.copy().domain(s).range(a);var n=gxe(t);if(n!=null){var i=n.domain(s).range(a);return hue(i),i}}}var YC=(e,t,s)=>{var a=zC(t);if(!(s!=="auto"&&s!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(a)&&(a[0]==="auto"||a[1]==="auto")&&Lm(e))return Dpe(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Lm(e))return Rpe(e,t.tickCount,t.allowDecimals)}},ZC=Je([GC,by,Gx],YC),XC=(e,t,s,a)=>{if(a!=="angleAxis"&&e?.type==="number"&&Lm(t)&&Array.isArray(s)&&s.length>0){var n=t[0],i=s[0],l=t[1],o=s[s.length-1];return[Math.min(n,i),Math.max(l,o)]}return t},vxe=Je([qa,GC,ZC,La],XC),yxe=Je(hw,qa,(e,t)=>{if(!(!t||t.type!=="number")){var s=1/0,a=Array.from(yh(e.map(f=>f.value))).sort((f,g)=>f-g),n=a[0],i=a[a.length-1];if(n==null||i==null)return 1/0;var l=i-n;if(l===0)return 1/0;for(var o=0;o<a.length-1;o++){var u=a[o],d=a[o+1];if(!(u==null||d==null)){var m=d-u;s=Math.min(s,m)}}return s/l}}),J$=Je(yxe,Qr,k$,ei,(e,t,s,a,n)=>n,(e,t,s,a,n)=>{if(!ca(e))return 0;var i=t==="vertical"?a.height:a.width;if(n==="gap")return e*i/2;if(n==="no-gap"){var l=rl(s,e*i),o=e*i/2;return o-l-(o-l)/i*l}return 0}),bxe=(e,t,s)=>{var a=Eh(e,t);return a==null||typeof a.padding!="string"?0:J$(e,"xAxis",t,s,a.padding)},jxe=(e,t,s)=>{var a=Oh(e,t);return a==null||typeof a.padding!="string"?0:J$(e,"yAxis",t,s,a.padding)},Nxe=Je(Eh,bxe,(e,t)=>{var s,a;if(e==null)return{left:0,right:0};var{padding:n}=e;return typeof n=="string"?{left:t,right:t}:{left:((s=n.left)!==null&&s!==void 0?s:0)+t,right:((a=n.right)!==null&&a!==void 0?a:0)+t}}),wxe=Je(Oh,jxe,(e,t)=>{var s,a;if(e==null)return{top:0,bottom:0};var{padding:n}=e;return typeof n=="string"?{top:t,bottom:t}:{top:((s=n.top)!==null&&s!==void 0?s:0)+t,bottom:((a=n.bottom)!==null&&a!==void 0?a:0)+t}}),Sxe=Je([ei,Nxe,GN,WN,(e,t,s)=>s],(e,t,s,a,n)=>{var{padding:i}=a;return n?[i.left,s.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),_xe=Je([ei,Qr,wxe,GN,WN,(e,t,s)=>s],(e,t,s,a,n,i)=>{var{padding:l}=n;return i?[a.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-s.bottom,e.top+s.top]:[e.top+s.top,e.top+e.height-s.bottom]}),Sy=(e,t,s,a)=>{var n;switch(t){case"xAxis":return Sxe(e,s,a);case"yAxis":return _xe(e,s,a);case"zAxis":return(n=RC(e,s))===null||n===void 0?void 0:n.range;case"angleAxis":return D$(e);case"radiusAxis":return R$(e,s);default:return}},Q$=Je([qa,Sy],iw),fw=Je([qa,Gx,vxe,Q$],KC);Je([Ny,mw,La],rxe);function eH(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var pw=(e,t)=>t,xw=(e,t,s)=>s,Axe=Je(qN,pw,xw,(e,t,s)=>e.filter(a=>a.orientation===t).filter(a=>a.mirror===s).sort(eH)),Cxe=Je(VN,pw,xw,(e,t,s)=>e.filter(a=>a.orientation===t).filter(a=>a.mirror===s).sort(eH)),tH=(e,t)=>({width:e.width,height:t.height}),kxe=(e,t)=>{var s=typeof t.width=="number"?t.width:uy;return{width:s,height:e.height}},rH=Je(ei,Eh,tH),Txe=(e,t,s)=>{switch(t){case"top":return e.top;case"bottom":return s-e.bottom;default:return 0}},Exe=(e,t,s)=>{switch(t){case"left":return e.left;case"right":return s-e.right;default:return 0}},Oxe=Je(Ch,ei,Axe,pw,xw,(e,t,s,a,n)=>{var i={},l;return s.forEach(o=>{var u=tH(t,o);l==null&&(l=Txe(t,a,e));var d=a==="top"&&!n||a==="bottom"&&n;i[o.id]=l-Number(d)*u.height,l+=(d?-1:1)*u.height}),i}),Pxe=Je(Ah,ei,Cxe,pw,xw,(e,t,s,a,n)=>{var i={},l;return s.forEach(o=>{var u=kxe(t,o);l==null&&(l=Exe(t,a,e));var d=a==="left"&&!n||a==="right"&&n;i[o.id]=l-Number(d)*u.width,l+=(d?-1:1)*u.width}),i}),Dxe=(e,t)=>{var s=Eh(e,t);if(s!=null)return Oxe(e,s.orientation,s.mirror)},Rxe=Je([ei,Eh,Dxe,(e,t)=>t],(e,t,s,a)=>{if(t!=null){var n=s?.[a];return n==null?{x:e.left,y:0}:{x:e.left,y:n}}}),Mxe=(e,t)=>{var s=Oh(e,t);if(s!=null)return Pxe(e,s.orientation,s.mirror)},Lxe=Je([ei,Oh,Mxe,(e,t)=>t],(e,t,s,a)=>{if(t!=null){var n=s?.[a];return n==null?{x:0,y:e.top}:{x:n,y:e.top}}}),sH=Je(ei,Oh,(e,t)=>{var s=typeof t.width=="number"?t.width:uy;return{width:s,height:e.height}}),xM=(e,t,s)=>{switch(t){case"xAxis":return rH(e,s).width;case"yAxis":return sH(e,s).height;default:return}},aH=(e,t,s,a)=>{if(s!=null){var{allowDuplicatedCategory:n,type:i,dataKey:l}=s,o=mu(e,a),u=t.map(d=>d.value);if(l&&o&&i==="category"&&n&&nU(u))return u}},JC=Je([Qr,hw,qa,La],aH),nH=(e,t,s,a)=>{if(!(s==null||s.dataKey==null)){var{type:n,scale:i}=s,l=mu(e,a);if(l&&(n==="number"||i!=="auto"))return t.map(o=>o.value)}},QC=Je([Qr,hw,by,La],nH),gM=Je([Qr,Kpe,Gx,fw,JC,QC,Sy,ZC,La],(e,t,s,a,n,i,l,o,u)=>{if(t!=null){var d=mu(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:i,duplicateDomain:n,isCategorical:d,niceTicks:o,range:l,realScaleType:s,scale:a}}}),Ixe=(e,t,s,a,n,i,l,o,u)=>{if(!(t==null||a==null)){var d=mu(e,u),{type:m,ticks:f,tickCount:g}=t,p=s==="scaleBand"&&typeof a.bandwidth=="function"?a.bandwidth()/2:2,y=m==="category"&&a.bandwidth?a.bandwidth()/p:0;y=u==="angleAxis"&&i!=null&&i.length>=2?pi(i[0]-i[1])*2*y:y;var v=f||n;if(v){var j=v.map((N,k)=>{var w=l?l.indexOf(N):N;return{index:k,coordinate:a(w)+y,value:N,offset:y}});return j.filter(N=>ca(N.coordinate))}return d&&o?o.map((N,k)=>({coordinate:a(N)+y,value:N,index:k,offset:y})).filter(N=>ca(N.coordinate)):a.ticks?a.ticks(g).map(N=>({coordinate:a(N)+y,value:N,offset:y})):a.domain().map((N,k)=>({coordinate:a(N)+y,value:l?l[N]:N,index:k,offset:y}))}},iH=Je([Qr,by,Gx,fw,ZC,Sy,JC,QC,La],Ixe),Fxe=(e,t,s,a,n,i,l)=>{if(!(t==null||s==null||a==null||a[0]===a[1])){var o=mu(e,l),{tickCount:u}=t,d=0;return d=l==="angleAxis"&&a?.length>=2?pi(a[0]-a[1])*2*d:d,o&&i?i.map((m,f)=>({coordinate:s(m)+d,value:m,index:f,offset:d})):s.ticks?s.ticks(u).map(m=>({coordinate:s(m)+d,value:m,offset:d})):s.domain().map((m,f)=>({coordinate:s(m)+d,value:n?n[m]:m,index:f,offset:d}))}},cu=Je([Qr,by,fw,Sy,JC,QC,La],Fxe),du=Je(qa,fw,(e,t)=>{if(!(e==null||t==null))return _j(_j({},e),{},{scale:t})}),Bxe=Je([qa,Gx,GC,Q$],KC);Je((e,t,s)=>RC(e,s),Bxe,(e,t)=>{if(!(e==null||t==null))return _j(_j({},e),{},{scale:t})});var Uxe=Je([Qr,qN,VN],(e,t,s)=>{switch(e){case"horizontal":return t.some(a=>a.reversed)?"right-to-left":"left-to-right";case"vertical":return s.some(a=>a.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),lH=e=>e.options.defaultTooltipEventType,oH=e=>e.options.validateTooltipEventTypes;function cH(e,t,s){if(e==null)return t;var a=e?"axis":"item";return s==null?t:s.includes(a)?a:t}function ek(e,t){var s=lH(e),a=oH(e);return cH(t,s,a)}function zxe(e){return Jt(t=>ek(t,e))}var dH=(e,t)=>{var s,a=Number(t);if(!(bc(a)||t==null))return a>=0?e==null||(s=e[a])===null||s===void 0?void 0:s.value:void 0},$xe=e=>e.tooltip.settings,_m={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Hxe={itemInteraction:{click:_m,hover:_m},axisInteraction:{click:_m,hover:_m},keyboardInteraction:_m,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},uH=no({name:"tooltip",initialState:Hxe,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Pa()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:s,next:a}=t.payload,n=pd(e).tooltipItemPayloads.indexOf(s);n>-1&&(e.tooltipItemPayloads[n]=a)},prepare:Pa()},removeTooltipEntrySettings:{reducer(e,t){var s=pd(e).tooltipItemPayloads.indexOf(t.payload);s>-1&&e.tooltipItemPayloads.splice(s,1)},prepare:Pa()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:qxe,replaceTooltipEntrySettings:Vxe,removeTooltipEntrySettings:Wxe,setTooltipSettingsState:Gxe,setActiveMouseOverItemIndex:hH,mouseLeaveItem:Kxe,mouseLeaveChart:mH,setActiveClickItemIndex:Yxe,setMouseOverAxisIndex:fH,setMouseClickAxisIndex:Zxe,setSyncInteraction:fA,setKeyboardInteraction:pA}=uH.actions,Xxe=uH.reducer;function vM(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Qb(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?vM(Object(s),!0).forEach(function(a){Jxe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):vM(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Jxe(e,t,s){return(t=Qxe(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Qxe(e){var t=ege(e,"string");return typeof t=="symbol"?t:t+""}function ege(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tge(e,t,s){return t==="axis"?s==="click"?e.axisInteraction.click:e.axisInteraction.hover:s==="click"?e.itemInteraction.click:e.itemInteraction.hover}function rge(e){return e.index!=null}var pH=(e,t,s,a)=>{if(t==null)return _m;var n=tge(e,t,s);if(n==null)return _m;if(n.active)return n;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(rge(n)){if(i)return Qb(Qb({},n),{},{active:!0})}else if(a!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:a,graphicalItemId:void 0};return Qb(Qb({},_m),{},{coordinate:n.coordinate})};function sge(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var s=Number(e);return Number.isFinite(s)?s:void 0}function age(e,t){var s=sge(e),a=t[0],n=t[1];if(s===void 0)return!1;var i=Math.min(a,n),l=Math.max(a,n);return s>=i&&s<=l}function nge(e,t,s){if(s==null||t==null)return!0;var a=Ms(e,t);return a==null||!Lm(s)?!0:age(a,s)}var tk=(e,t,s,a)=>{var n=e?.index;if(n==null)return null;var i=Number(n);if(!ca(i))return n;var l=0,o=1/0;t.length>0&&(o=t.length-1);var u=Math.max(l,Math.min(i,o)),d=t[u];return d==null||nge(d,s,a)?String(u):null},xH=(e,t,s,a,n,i,l,o)=>{if(!(i==null||o==null)){var u=l[0],d=u==null?void 0:o(u.positions,i);if(d!=null)return d;var m=n?.[Number(i)];if(m)return s==="horizontal"?{x:m.coordinate,y:(a.top+t)/2}:{x:(a.left+e)/2,y:m.coordinate}}},gH=(e,t,s,a)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var n;if(s==="hover"?n=e.itemInteraction.hover.graphicalItemId:n=e.itemInteraction.click.graphicalItemId,n==null&&a!=null){var i=e.tooltipItemPayloads[0];return i!=null?[i]:[]}return e.tooltipItemPayloads.filter(l=>{var o;return((o=l.settings)===null||o===void 0?void 0:o.graphicalItemId)===n})},_y=e=>e.options.tooltipPayloadSearcher,Kx=e=>e.tooltip;function yM(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function bM(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?yM(Object(s),!0).forEach(function(a){ige(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):yM(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function ige(e,t,s){return(t=lge(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function lge(e){var t=oge(e,"string");return typeof t=="symbol"?t:t+""}function oge(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cge(e,t){return e??t}var vH=(e,t,s,a,n,i,l)=>{if(!(t==null||i==null)){var{chartData:o,computedData:u,dataStartIndex:d,dataEndIndex:m}=s,f=[];return e.reduce((g,p)=>{var y,{dataDefinedOnItem:v,settings:j}=p,N=cge(v,o),k=Array.isArray(N)?QU(N,d,m):N,w=(y=j?.dataKey)!==null&&y!==void 0?y:a,A=j?.nameKey,C;if(a&&Array.isArray(k)&&!Array.isArray(k[0])&&l==="axis"?C=iU(k,a,n):C=i(k,t,u,A),Array.isArray(C))C.forEach(R=>{var D=bM(bM({},j),{},{name:R.name,unit:R.unit,color:void 0,fill:void 0});g.push(wD({tooltipEntrySettings:D,dataKey:R.dataKey,payload:R.payload,value:Ms(R.payload,R.dataKey),name:R.name}))});else{var M;g.push(wD({tooltipEntrySettings:j,dataKey:w,payload:C,value:Ms(C,w),name:(M=Ms(C,A))!==null&&M!==void 0?M:j?.name}))}return g},f)}},rk=Je([si,Qr,B$,kC,ri],X$),dge=Je([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),uge=Je([ri,Vx],MC),Yx=Je([dge,si,uge],LC,{memoizeOptions:{resultEqualityCheck:uw}}),hge=Je([Yx],e=>e.filter(cw)),mge=Je([Yx],IC,{memoizeOptions:{resultEqualityCheck:uw}}),Zx=Je([mge,Th],FC),fge=Je([hge,Th,si],L$),sk=Je([Zx,si,Yx],UC),yH=Je([si],zC),pge=Je([si],e=>e.allowDataOverflow),bH=Je([yH,pge],m$),xge=Je([Yx],e=>e.filter(cw)),gge=Je([fge,xge,vy,T$],H$),vge=Je([gge,Th,ri,bH],q$),yge=Je([Yx],z$),bge=Je([Zx,si,yge,mw,ri],qC,{memoizeOptions:{resultEqualityCheck:dw}}),jge=Je([V$,ri,Vx],Wx),Nge=Je([jge,ri],K$),wge=Je([W$,ri,Vx],Wx),Sge=Je([wge,ri],Y$),_ge=Je([G$,ri,Vx],Wx),Age=Je([_ge,ri],Z$),Cge=Je([Nge,Age,Sge],Cj),kge=Je([si,yH,bH,vge,bge,Cge,Qr,ri],VC),Ay=Je([si,Qr,Zx,sk,vy,ri,kge],WC),Tge=Je([Ay,si,rk],YC),Ege=Je([si,Ay,Tge,ri],XC),jH=e=>{var t=ri(e),s=Vx(e),a=!1;return Sy(e,t,s,a)},NH=Je([si,jH],iw),wH=Je([si,rk,Ege,NH],KC),Oge=Je([Qr,sk,si,ri],aH),Pge=Je([Qr,sk,si,ri],nH),Dge=(e,t,s,a,n,i,l,o)=>{if(t){var{type:u}=t,d=mu(e,o);if(a){var m=s==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,f=u==="category"&&a.bandwidth?a.bandwidth()/m:0;return f=o==="angleAxis"&&n!=null&&n?.length>=2?pi(n[0]-n[1])*2*f:f,d&&l?l.map((g,p)=>({coordinate:a(g)+f,value:g,index:p,offset:f})):a.domain().map((g,p)=>({coordinate:a(g)+f,value:i?i[g]:g,index:p,offset:f}))}}},Ph=Je([Qr,si,rk,wH,jH,Oge,Pge,ri],Dge),ak=Je([lH,oH,$xe],(e,t,s)=>cH(s.shared,e,t)),SH=e=>e.tooltip.settings.trigger,nk=e=>e.tooltip.settings.defaultIndex,Cy=Je([Kx,ak,SH,nk],pH),Im=Je([Cy,Zx,wy,Ay],tk),_H=Je([Ph,Im],dH),ik=Je([Cy],e=>{if(e)return e.dataKey}),Rge=Je([Cy],e=>{if(e)return e.graphicalItemId}),AH=Je([Kx,ak,SH,nk],gH),Mge=Je([Ah,Ch,Qr,ei,Ph,nk,AH,_y],xH),Lge=Je([Cy,Mge],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Ige=Je([Cy],e=>{var t;return(t=e?.active)!==null&&t!==void 0?t:!1}),Fge=Je([AH,Im,Th,wy,_H,_y,ak],vH),Bge=Je([Fge],e=>{if(e!=null){var t=e.map(s=>s.payload).filter(s=>s!=null);return Array.from(new Set(t))}});function jM(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function NM(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?jM(Object(s),!0).forEach(function(a){Uge(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):jM(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Uge(e,t,s){return(t=zge(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function zge(e){var t=$ge(e,"string");return typeof t=="symbol"?t:t+""}function $ge(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hge=()=>Jt(si),qge=()=>{var e=Hge(),t=Jt(Ph),s=Jt(wH);return Mm(!e||!s?void 0:NM(NM({},e),{},{scale:s}),t)};function wM(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function bp(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?wM(Object(s),!0).forEach(function(a){Vge(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):wM(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Vge(e,t,s){return(t=Wge(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Wge(e){var t=Gge(e,"string");return typeof t=="symbol"?t:t+""}function Gge(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kge=(e,t,s,a)=>{var n=t.find(i=>i&&i.index===s);if(n){if(e==="horizontal")return{x:n.coordinate,y:a.chartY};if(e==="vertical")return{x:a.chartX,y:n.coordinate}}return{x:0,y:0}},Yge=(e,t,s,a)=>{var n=t.find(d=>d&&d.index===s);if(n){if(e==="centric"){var i=n.coordinate,{radius:l}=a;return bp(bp(bp({},a),On(a.cx,a.cy,l,i)),{},{angle:i,radius:l})}var o=n.coordinate,{angle:u}=a;return bp(bp(bp({},a),On(a.cx,a.cy,o,u)),{},{angle:u,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Zge(e,t){var{chartX:s,chartY:a}=e;return s>=t.left&&s<=t.left+t.width&&a>=t.top&&a<=t.top+t.height}var CH=(e,t,s,a,n)=>{var i,l=(i=t?.length)!==null&&i!==void 0?i:0;if(l<=1||e==null)return 0;if(a==="angleAxis"&&n!=null&&Math.abs(Math.abs(n[1]-n[0])-360)<=1e-6)for(var o=0;o<l;o++){var u,d,m,f,g,p=o>0?(u=s[o-1])===null||u===void 0?void 0:u.coordinate:(d=s[l-1])===null||d===void 0?void 0:d.coordinate,y=(m=s[o])===null||m===void 0?void 0:m.coordinate,v=o>=l-1?(f=s[0])===null||f===void 0?void 0:f.coordinate:(g=s[o+1])===null||g===void 0?void 0:g.coordinate,j=void 0;if(!(p==null||y==null||v==null))if(pi(y-p)!==pi(v-y)){var N=[];if(pi(v-y)===pi(n[1]-n[0])){j=v;var k=y+n[1]-n[0];N[0]=Math.min(k,(k+p)/2),N[1]=Math.max(k,(k+p)/2)}else{j=p;var w=v+n[1]-n[0];N[0]=Math.min(y,(w+y)/2),N[1]=Math.max(y,(w+y)/2)}var A=[Math.min(y,(j+y)/2),Math.max(y,(j+y)/2)];if(e>A[0]&&e<=A[1]||e>=N[0]&&e<=N[1]){var C;return(C=s[o])===null||C===void 0?void 0:C.index}}else{var M=Math.min(p,v),R=Math.max(p,v);if(e>(M+y)/2&&e<=(R+y)/2){var D;return(D=s[o])===null||D===void 0?void 0:D.index}}}else if(t)for(var B=0;B<l;B++){var z=t[B];if(z!=null){var I=t[B+1],F=t[B-1];if(B===0&&I!=null&&e<=(z.coordinate+I.coordinate)/2||B===l-1&&F!=null&&e>(z.coordinate+F.coordinate)/2||B>0&&B<l-1&&F!=null&&I!=null&&e>(z.coordinate+F.coordinate)/2&&e<=(z.coordinate+I.coordinate)/2)return z.index}}return-1},kH=()=>Jt(kC),lk=(e,t)=>t,TH=(e,t,s)=>s,ok=(e,t,s,a)=>a,Xge=Je(Ph,e=>RN(e,t=>t.coordinate)),ck=Je([Kx,lk,TH,ok],pH),dk=Je([ck,Zx,wy,Ay],tk),Jge=(e,t,s)=>{if(t!=null){var a=Kx(e);return t==="axis"?s==="hover"?a.axisInteraction.hover.dataKey:a.axisInteraction.click.dataKey:s==="hover"?a.itemInteraction.hover.dataKey:a.itemInteraction.click.dataKey}},EH=Je([Kx,lk,TH,ok],gH),kj=Je([Ah,Ch,Qr,ei,Ph,ok,EH,_y],xH),Qge=Je([ck,kj],(e,t)=>{var s;return(s=e.coordinate)!==null&&s!==void 0?s:t}),OH=Je([Ph,dk],dH),eve=Je([EH,dk,Th,wy,OH,_y,lk],vH),tve=Je([ck,dk],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),rve=(e,t,s,a,n,i,l)=>{if(!(!e||!s||!a||!n)&&Zge(e,l)){var o=Nue(e,t),u=CH(o,i,n,s,a),d=Kge(t,n,u,e);return{activeIndex:String(u),activeCoordinate:d}}},sve=(e,t,s,a,n,i,l)=>{if(!(!e||!a||!n||!i||!s)){var o=Ume(e,s);if(o){var u=wue(o,t),d=CH(u,l,i,a,n),m=Yge(t,i,d,o);return{activeIndex:String(d),activeCoordinate:m}}}},ave=(e,t,s,a,n,i,l,o)=>{if(!(!e||!t||!a||!n||!i))return t==="horizontal"||t==="vertical"?rve(e,t,a,n,i,l,o):sve(e,t,s,a,n,i,l)},nve=Je(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,s)=>s,(e,t,s)=>{if(t!=null){var a=e[t];if(a!=null)return s?a.panoramaElement:a.element}}),ive=Je(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(a=>parseInt(a,10)).concat(Object.values(vn)),s=Array.from(new Set(t));return s.sort((a,n)=>a-n)},{memoizeOptions:{resultEqualityCheck:Hpe}});function SM(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function _M(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?SM(Object(s),!0).forEach(function(a){lve(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):SM(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function lve(e,t,s){return(t=ove(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function ove(e){var t=cve(e,"string");return typeof t=="symbol"?t:t+""}function cve(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dve={},uve={zIndexMap:Object.values(vn).reduce((e,t)=>_M(_M({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),dve)},hve=new Set(Object.values(vn));function mve(e){return hve.has(e)}var PH=no({name:"zIndex",initialState:uve,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:s}=t.payload;e.zIndexMap[s]?e.zIndexMap[s].consumers+=1:e.zIndexMap[s]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Pa()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:s}=t.payload;e.zIndexMap[s]&&(e.zIndexMap[s].consumers-=1,e.zIndexMap[s].consumers<=0&&!mve(s)&&delete e.zIndexMap[s])},prepare:Pa()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:s,element:a,isPanorama:n}=t.payload;e.zIndexMap[s]?n?e.zIndexMap[s].panoramaElement=a:e.zIndexMap[s].element=a:e.zIndexMap[s]={consumers:0,element:n?void 0:a,panoramaElement:n?a:void 0}},prepare:Pa()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:s}=t.payload;e.zIndexMap[s]&&(t.payload.isPanorama?e.zIndexMap[s].panoramaElement=void 0:e.zIndexMap[s].element=void 0)},prepare:Pa()}}}),{registerZIndexPortal:fve,unregisterZIndexPortal:pve,registerZIndexPortalElement:xve,unregisterZIndexPortalElement:gve}=PH.actions,vve=PH.reducer;function Cl(e){var{zIndex:t,children:s}=e,a=the(),n=a&&t!==void 0&&t!==0,i=vi(),l=fa();_.useLayoutEffect(()=>n?(l(fve({zIndex:t})),()=>{l(pve({zIndex:t}))}):ly,[l,t,n]);var o=Jt(u=>nve(u,t,i));return n?o?e6.createPortal(s,o):null:s}function xA(){return xA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},xA.apply(null,arguments)}function AM(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function e1(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?AM(Object(s),!0).forEach(function(a){yve(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):AM(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function yve(e,t,s){return(t=bve(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function bve(e){var t=jve(e,"string");return typeof t=="symbol"?t:t+""}function jve(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nve(e){var{cursor:t,cursorComp:s,cursorProps:a}=e;return _.isValidElement(t)?_.cloneElement(t,a):_.createElement(s,a)}function wve(e){var t,{coordinate:s,payload:a,index:n,offset:i,tooltipAxisBandSize:l,layout:o,cursor:u,tooltipEventType:d,chartName:m}=e,f=s,g=a,p=n;if(!u||!f||m!=="ScatterChart"&&d!=="axis")return null;var y,v,j;if(m==="ScatterChart")y=f,v=eme,j=vn.cursorLine;else if(m==="BarChart")y=tme(o,f,i,l),v=Az,j=vn.cursorRectangle;else if(o==="radial"&&oU(f)){var{cx:N,cy:k,radius:w,startAngle:A,endAngle:C}=kz(f);y={cx:N,cy:k,startAngle:A,endAngle:C,innerRadius:w,outerRadius:w},v=Ez,j=vn.cursorLine}else y={points:qme(o,f,i)},v=Qp,j=vn.cursorLine;var M=typeof u=="object"&&"className"in u?u.className:void 0,R=e1(e1(e1(e1({stroke:"#ccc",pointerEvents:"none"},i),y),s0(u)),{},{payload:g,payloadIndex:p,className:ys("recharts-tooltip-cursor",M)});return _.createElement(Cl,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:j},_.createElement(Nve,{cursor:u,cursorComp:v,cursorProps:R}))}function Sve(e){var t=qge(),s=dz(),a=Ym(),n=kH();return t==null||s==null||a==null||n==null?null:_.createElement(wve,xA({},e,{offset:s,layout:a,tooltipAxisBandSize:t,chartName:n}))}var DH=_.createContext(null),_ve=()=>_.useContext(DH),VS={exports:{}},CM;function Ave(){return CM||(CM=1,(function(e){var t=Object.prototype.hasOwnProperty,s="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(s=!1));function n(u,d,m){this.fn=u,this.context=d,this.once=m||!1}function i(u,d,m,f,g){if(typeof m!="function")throw new TypeError("The listener must be a function");var p=new n(m,f||u,g),y=s?s+d:d;return u._events[y]?u._events[y].fn?u._events[y]=[u._events[y],p]:u._events[y].push(p):(u._events[y]=p,u._eventsCount++),u}function l(u,d){--u._eventsCount===0?u._events=new a:delete u._events[d]}function o(){this._events=new a,this._eventsCount=0}o.prototype.eventNames=function(){var d=[],m,f;if(this._eventsCount===0)return d;for(f in m=this._events)t.call(m,f)&&d.push(s?f.slice(1):f);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(m)):d},o.prototype.listeners=function(d){var m=s?s+d:d,f=this._events[m];if(!f)return[];if(f.fn)return[f.fn];for(var g=0,p=f.length,y=new Array(p);g<p;g++)y[g]=f[g].fn;return y},o.prototype.listenerCount=function(d){var m=s?s+d:d,f=this._events[m];return f?f.fn?1:f.length:0},o.prototype.emit=function(d,m,f,g,p,y){var v=s?s+d:d;if(!this._events[v])return!1;var j=this._events[v],N=arguments.length,k,w;if(j.fn){switch(j.once&&this.removeListener(d,j.fn,void 0,!0),N){case 1:return j.fn.call(j.context),!0;case 2:return j.fn.call(j.context,m),!0;case 3:return j.fn.call(j.context,m,f),!0;case 4:return j.fn.call(j.context,m,f,g),!0;case 5:return j.fn.call(j.context,m,f,g,p),!0;case 6:return j.fn.call(j.context,m,f,g,p,y),!0}for(w=1,k=new Array(N-1);w<N;w++)k[w-1]=arguments[w];j.fn.apply(j.context,k)}else{var A=j.length,C;for(w=0;w<A;w++)switch(j[w].once&&this.removeListener(d,j[w].fn,void 0,!0),N){case 1:j[w].fn.call(j[w].context);break;case 2:j[w].fn.call(j[w].context,m);break;case 3:j[w].fn.call(j[w].context,m,f);break;case 4:j[w].fn.call(j[w].context,m,f,g);break;default:if(!k)for(C=1,k=new Array(N-1);C<N;C++)k[C-1]=arguments[C];j[w].fn.apply(j[w].context,k)}}return!0},o.prototype.on=function(d,m,f){return i(this,d,m,f,!1)},o.prototype.once=function(d,m,f){return i(this,d,m,f,!0)},o.prototype.removeListener=function(d,m,f,g){var p=s?s+d:d;if(!this._events[p])return this;if(!m)return l(this,p),this;var y=this._events[p];if(y.fn)y.fn===m&&(!g||y.once)&&(!f||y.context===f)&&l(this,p);else{for(var v=0,j=[],N=y.length;v<N;v++)(y[v].fn!==m||g&&!y[v].once||f&&y[v].context!==f)&&j.push(y[v]);j.length?this._events[p]=j.length===1?j[0]:j:l(this,p)}return this},o.prototype.removeAllListeners=function(d){var m;return d?(m=s?s+d:d,this._events[m]&&l(this,m)):(this._events=new a,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=s,o.EventEmitter=o,e.exports=o})(VS)),VS.exports}var Cve=Ave();const kve=Sh(Cve);var Uv=new kve,gA="recharts.syncEvent.tooltip",kM="recharts.syncEvent.brush";function gw(e,t){if(t){var s=Number.parseInt(t,10);if(!bc(s))return e?.[s]}}var Tve={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},RH=no({name:"options",initialState:Tve,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Eve=RH.reducer,{createEventEmitter:Ove}=RH.actions;function Pve(e){return e.tooltip.syncInteraction}var Dve={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},MH=no({name:"chartData",initialState:Dve,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:s,endIndex:a}=t.payload;s!=null&&(e.dataStartIndex=s),a!=null&&(e.dataEndIndex=a)}}}),{setChartData:TM,setDataStartEndIndexes:Rve,setComputedData:BRe}=MH.actions,Mve=MH.reducer,Lve=["x","y"];function EM(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function jp(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?EM(Object(s),!0).forEach(function(a){Ive(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):EM(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Ive(e,t,s){return(t=Fve(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Fve(e){var t=Bve(e,"string");return typeof t=="symbol"?t:t+""}function Bve(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uve(e,t){if(e==null)return{};var s,a,n=zve(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function zve(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function $ve(){var e=Jt(TC),t=Jt(EC),s=fa(),a=Jt(E$),n=Jt(Ph),i=Ym(),l=KN(),o=Jt(u=>u.rootProps.className);_.useEffect(()=>{if(e==null)return ly;var u=(d,m,f)=>{if(t!==f&&e===d){if(a==="index"){var g;if(l&&m!==null&&m!==void 0&&(g=m.payload)!==null&&g!==void 0&&g.coordinate&&m.payload.sourceViewBox){var p=m.payload.coordinate,{x:y,y:v}=p,j=Uve(p,Lve),{x:N,y:k,width:w,height:A}=m.payload.sourceViewBox,C=jp(jp({},j),{},{x:l.x+(w?(y-N)/w:0)*l.width,y:l.y+(A?(v-k)/A:0)*l.height});s(jp(jp({},m),{},{payload:jp(jp({},m.payload),{},{coordinate:C})}))}else s(m);return}if(n!=null){var M;if(typeof a=="function"){var R={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},D=a(n,R);M=n[D]}else a==="value"&&(M=n.find(Z=>String(Z.value)===m.payload.label));var{coordinate:B}=m.payload;if(M==null||m.payload.active===!1||B==null||l==null){s(fA({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:z,y:I}=B,F=Math.min(z,l.x+l.width),Y=Math.min(I,l.y+l.height),te={x:i==="horizontal"?M.coordinate:F,y:i==="horizontal"?Y:M.coordinate},ue=fA({active:m.payload.active,coordinate:te,dataKey:m.payload.dataKey,index:String(M.index),label:m.payload.label,sourceViewBox:m.payload.sourceViewBox,graphicalItemId:m.payload.graphicalItemId});s(ue)}}};return Uv.on(gA,u),()=>{Uv.off(gA,u)}},[o,s,t,e,a,n,i,l])}function Hve(){var e=Jt(TC),t=Jt(EC),s=fa();_.useEffect(()=>{if(e==null)return ly;var a=(n,i,l)=>{t!==l&&e===n&&s(Rve(i))};return Uv.on(kM,a),()=>{Uv.off(kM,a)}},[s,t,e])}function qve(){var e=fa();_.useEffect(()=>{e(Ove())},[e]),$ve(),Hve()}function Vve(e,t,s,a,n,i){var l=Jt(p=>Jge(p,e,t)),o=Jt(EC),u=Jt(TC),d=Jt(E$),m=Jt(Pve),f=m?.active,g=KN();_.useEffect(()=>{if(!f&&u!=null&&o!=null){var p=fA({active:i,coordinate:s,dataKey:l,index:n,label:typeof a=="number"?String(a):a,sourceViewBox:g,graphicalItemId:void 0});Uv.emit(gA,u,p,o)}},[f,s,l,n,a,o,u,d,i,g])}function OM(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function PM(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?OM(Object(s),!0).forEach(function(a){Wve(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):OM(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Wve(e,t,s){return(t=Gve(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Gve(e){var t=Kve(e,"string");return typeof t=="symbol"?t:t+""}function Kve(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yve(e){return e.dataKey}function Zve(e,t){return _.isValidElement(e)?_.cloneElement(e,t):typeof e=="function"?_.createElement(e,t):_.createElement(Dhe,t)}var DM=[],Xve={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function wl(e){var t,s,a=on(e,Xve),{active:n,allowEscapeViewBox:i,animationDuration:l,animationEasing:o,content:u,filterNull:d,isAnimationActive:m,offset:f,payloadUniqBy:g,position:p,reverseDirection:y,useTranslate3d:v,wrapperStyle:j,cursor:N,shared:k,trigger:w,defaultIndex:A,portal:C,axisId:M}=a,R=fa(),D=typeof A=="number"?String(A):A;_.useEffect(()=>{R(Gxe({shared:k,trigger:w,axisId:M,active:n,defaultIndex:D}))},[R,k,w,M,n,D]);var B=KN(),z=jz(),I=zxe(k),{activeIndex:F,isActive:Y}=(t=Jt(Se=>tve(Se,I,w,D)))!==null&&t!==void 0?t:{},te=Jt(Se=>eve(Se,I,w,D)),ue=Jt(Se=>OH(Se,I,w,D)),Z=Jt(Se=>Qge(Se,I,w,D)),ie=te,G=_ve(),ee=(s=n??Y)!==null&&s!==void 0?s:!1,[Ne,X]=wU([ie,ee]),P=I==="axis"?ue:void 0;Vve(I,w,Z,P,F,ee);var H=C??G;if(H==null||B==null||I==null)return null;var q=ie??DM;ee||(q=DM),d&&q.length&&(q=vU(q.filter(Se=>Se.value!=null&&(Se.hide!==!0||a.includeHidden)),g,Yve));var W=q.length>0,le=_.createElement(Uhe,{allowEscapeViewBox:i,animationDuration:l,animationEasing:o,isAnimationActive:m,active:ee,coordinate:Z,hasPayload:W,offset:f,position:p,reverseDirection:y,useTranslate3d:v,viewBox:B,wrapperStyle:j,lastBoundingBox:Ne,innerRef:X,hasPortalFromProps:!!C},Zve(u,PM(PM({},a),{},{payload:q,label:P,active:ee,activeIndex:F,coordinate:Z,accessibilityLayer:z})));return _.createElement(_.Fragment,null,e6.createPortal(le,H),ee&&_.createElement(Sve,{cursor:N,tooltipEventType:I,coordinate:Z,payload:q,index:F}))}var Jm=e=>null;Jm.displayName="Cell";function Jve(e,t,s){return(t=Qve(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Qve(e){var t=eye(e,"string");return typeof t=="symbol"?t:t+""}function eye(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class tye{constructor(t){Jve(this,"cache",new Map),this.maxSize=t}get(t){var s=this.cache.get(t);return s!==void 0&&(this.cache.delete(t),this.cache.set(t,s)),s}set(t,s){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var a=this.cache.keys().next().value;a!=null&&this.cache.delete(a)}this.cache.set(t,s)}clear(){this.cache.clear()}size(){return this.cache.size}}function RM(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function rye(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?RM(Object(s),!0).forEach(function(a){sye(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):RM(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function sye(e,t,s){return(t=aye(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function aye(e){var t=nye(e,"string");return typeof t=="symbol"?t:t+""}function nye(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iye={cacheSize:2e3,enableCache:!0},LH=rye({},iye),MM=new tye(LH.cacheSize),lye={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},LM="recharts_measurement_span";function oye(e,t){var s=t.fontSize||"",a=t.fontFamily||"",n=t.fontWeight||"",i=t.fontStyle||"",l=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(s,"|").concat(a,"|").concat(n,"|").concat(i,"|").concat(l,"|").concat(o)}var IM=(e,t)=>{try{var s=document.getElementById(LM);s||(s=document.createElement("span"),s.setAttribute("id",LM),s.setAttribute("aria-hidden","true"),document.body.appendChild(s)),Object.assign(s.style,lye,t),s.textContent="".concat(e);var a=s.getBoundingClientRect();return{width:a.width,height:a.height}}catch{return{width:0,height:0}}},hv=function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||my.isSsr)return{width:0,height:0};if(!LH.enableCache)return IM(t,s);var a=oye(t,s),n=MM.get(a);if(n)return n;var i=IM(t,s);return MM.set(a,i),i},IH;function cye(e,t,s){return(t=dye(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function dye(e){var t=uye(e,"string");return typeof t=="symbol"?t:t+""}function uye(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,BM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,hye=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,mye=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,fye={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},pye=["cm","mm","pt","pc","in","Q","px"];function xye(e){return pye.includes(e)}var $p="NaN";function gye(e,t){return e*fye[t]}class Pi{static parse(t){var s,[,a,n]=(s=mye.exec(t))!==null&&s!==void 0?s:[];return a==null?Pi.NaN:new Pi(parseFloat(a),n??"")}constructor(t,s){this.num=t,this.unit=s,this.num=t,this.unit=s,bc(t)&&(this.unit=""),s!==""&&!hye.test(s)&&(this.num=NaN,this.unit=""),xye(s)&&(this.num=gye(t,s),this.unit="px")}add(t){return this.unit!==t.unit?new Pi(NaN,""):new Pi(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Pi(NaN,""):new Pi(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Pi(NaN,""):new Pi(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Pi(NaN,""):new Pi(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return bc(this.num)}}IH=Pi;cye(Pi,"NaN",new IH(NaN,""));function FH(e){if(e==null||e.includes($p))return $p;for(var t=e;t.includes("*")||t.includes("/");){var s,[,a,n,i]=(s=FM.exec(t))!==null&&s!==void 0?s:[],l=Pi.parse(a??""),o=Pi.parse(i??""),u=n==="*"?l.multiply(o):l.divide(o);if(u.isNaN())return $p;t=t.replace(FM,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,m,f,g]=(d=BM.exec(t))!==null&&d!==void 0?d:[],p=Pi.parse(m??""),y=Pi.parse(g??""),v=f==="+"?p.add(y):p.subtract(y);if(v.isNaN())return $p;t=t.replace(BM,v.toString())}return t}var UM=/\(([^()]*)\)/;function vye(e){for(var t=e,s;(s=UM.exec(t))!=null;){var[,a]=s;t=t.replace(UM,FH(a))}return t}function yye(e){var t=e.replace(/\s+/g,"");return t=vye(t),t=FH(t),t}function bye(e){try{return yye(e)}catch{return $p}}function WS(e){var t=bye(e.slice(5,-1));return t===$p?"":t}var jye=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Nye=["dx","dy","angle","className","breakAll"];function vA(){return vA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},vA.apply(null,arguments)}function zM(e,t){if(e==null)return{};var s,a,n=wye(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function wye(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var BH=/[ \f\n\r\t\v\u2028\u2029]+/,UH=e=>{var{children:t,breakAll:s,style:a}=e;try{var n=[];Sa(t)||(s?n=t.toString().split(""):n=t.toString().split(BH));var i=n.map(o=>({word:o,width:hv(o,a).width})),l=s?0:hv("",a).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}};function Sye(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var zH=(e,t,s,a)=>e.reduce((n,i)=>{var{word:l,width:o}=i,u=n[n.length-1];if(u&&o!=null&&(t==null||a||u.width+o+s<Number(t)))u.words.push(l),u.width+=o+s;else{var d={words:[l],width:o};n.push(d)}return n},[]),$H=e=>e.reduce((t,s)=>t.width>s.width?t:s),_ye="",$M=(e,t,s,a,n,i,l,o)=>{var u=e.slice(0,t),d=UH({breakAll:s,style:a,children:u+_ye});if(!d)return[!1,[]];var m=zH(d.wordsWithComputedWidth,i,l,o),f=m.length>n||$H(m).width>Number(i);return[f,m]},Aye=(e,t,s,a,n)=>{var{maxLines:i,children:l,style:o,breakAll:u}=e,d=Ht(i),m=String(l),f=zH(t,a,s,n);if(!d||n)return f;var g=f.length>i||$H(f).width>Number(a);if(!g)return f;for(var p=0,y=m.length-1,v=0,j;p<=y&&v<=m.length-1;){var N=Math.floor((p+y)/2),k=N-1,[w,A]=$M(m,k,u,o,i,a,s,n),[C]=$M(m,N,u,o,i,a,s,n);if(!w&&!C&&(p=N+1),w&&C&&(y=N-1),!w&&C){j=A;break}v++}return j||f},HM=e=>{var t=Sa(e)?[]:e.toString().split(BH);return[{words:t,width:void 0}]},Cye=e=>{var{width:t,scaleToFit:s,children:a,style:n,breakAll:i,maxLines:l}=e;if((t||s)&&!my.isSsr){var o,u,d=UH({breakAll:i,children:a,style:n});if(d){var{wordsWithComputedWidth:m,spaceWidth:f}=d;o=m,u=f}else return HM(a);return Aye({breakAll:i,children:a,maxLines:l,style:n},o,u,t,!!s)}return HM(a)},HH="#808080",kye={angle:0,breakAll:!1,capHeight:"0.71em",fill:HH,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},vw=_.forwardRef((e,t)=>{var s=on(e,kye),{x:a,y:n,lineHeight:i,capHeight:l,fill:o,scaleToFit:u,textAnchor:d,verticalAnchor:m}=s,f=zM(s,jye),g=_.useMemo(()=>Cye({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:u,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,u,f.style,f.width]),{dx:p,dy:y,angle:v,className:j,breakAll:N}=f,k=zM(f,Nye);if(!iu(a)||!iu(n)||g.length===0)return null;var w=Number(a)+(Ht(p)?p:0),A=Number(n)+(Ht(y)?y:0);if(!ca(w)||!ca(A))return null;var C;switch(m){case"start":C=WS("calc(".concat(l,")"));break;case"middle":C=WS("calc(".concat((g.length-1)/2," * -").concat(i," + (").concat(l," / 2))"));break;default:C=WS("calc(".concat(g.length-1," * -").concat(i,")"));break}var M=[];if(u){var R=g[0].width,{width:D}=f;M.push("scale(".concat(Ht(D)&&Ht(R)?D/R:1,")"))}return v&&M.push("rotate(".concat(v,", ").concat(w,", ").concat(A,")")),M.length&&(k.transform=M.join(" ")),_.createElement("text",vA({},ll(k),{ref:t,x:w,y:A,className:ys("recharts-text",j),textAnchor:d,fill:o.includes("url")?HH:o}),g.map((B,z)=>{var I=B.words.join(N?"":" ");return _.createElement("tspan",{x:w,dy:z===0?C:i,key:"".concat(I,"-").concat(z)},I)}))});vw.displayName="Text";var Tye=["labelRef"],Eye=["content"];function qM(e,t){if(e==null)return{};var s,a,n=Oye(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Oye(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function VM(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function fn(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?VM(Object(s),!0).forEach(function(a){Pye(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):VM(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Pye(e,t,s){return(t=Dye(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Dye(e){var t=Rye(e,"string");return typeof t=="symbol"?t:t+""}function Rye(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yu(){return Yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Yu.apply(null,arguments)}var qH=_.createContext(null),Mye=e=>{var{x:t,y:s,upperWidth:a,lowerWidth:n,width:i,height:l,children:o}=e,u=_.useMemo(()=>({x:t,y:s,upperWidth:a,lowerWidth:n,width:i,height:l}),[t,s,a,n,i,l]);return _.createElement(qH.Provider,{value:u},o)},VH=()=>{var e=_.useContext(qH),t=KN();return e||cz(t)},Lye=_.createContext(null),Iye=()=>{var e=_.useContext(Lye),t=Jt(M$);return e||t},Fye=e=>{var{value:t,formatter:s}=e,a=Sa(e.children)?t:e.children;return typeof s=="function"?s(a):a},uk=e=>e!=null&&typeof e=="function",Bye=(e,t)=>{var s=pi(t-e),a=Math.min(Math.abs(t-e),360);return s*a},Uye=(e,t,s,a,n)=>{var{offset:i,className:l}=e,{cx:o,cy:u,innerRadius:d,outerRadius:m,startAngle:f,endAngle:g,clockWise:p}=n,y=(d+m)/2,v=Bye(f,g),j=v>=0?1:-1,N,k;switch(t){case"insideStart":N=f+j*i,k=p;break;case"insideEnd":N=g-j*i,k=!p;break;case"end":N=g+j*i,k=p;break;default:throw new Error("Unsupported position ".concat(t))}k=v<=0?k:!k;var w=On(o,u,y,N),A=On(o,u,y,N+(k?1:-1)*359),C="M".concat(w.x,",").concat(w.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(k?0:1,`,
    `).concat(A.x,",").concat(A.y),M=Sa(e.id)?Cv("recharts-radial-line-"):e.id;return _.createElement("text",Yu({},a,{dominantBaseline:"central",className:ys("recharts-radial-bar-label",l)}),_.createElement("defs",null,_.createElement("path",{id:M,d:C})),_.createElement("textPath",{xlinkHref:"#".concat(M)},s))},zye=(e,t,s)=>{var{cx:a,cy:n,innerRadius:i,outerRadius:l,startAngle:o,endAngle:u}=e,d=(o+u)/2;if(s==="outside"){var{x:m,y:f}=On(a,n,l+t,d);return{x:m,y:f,textAnchor:m>=a?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:a,y:n,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:a,y:n,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:a,y:n,textAnchor:"middle",verticalAnchor:"end"};var g=(i+l)/2,{x:p,y}=On(a,n,g,d);return{x:p,y,textAnchor:"middle",verticalAnchor:"middle"}},yA=e=>"cx"in e&&Ht(e.cx),$ye=(e,t)=>{var{parentViewBox:s,offset:a,position:n}=e,i;s!=null&&!yA(s)&&(i=s);var{x:l,y:o,upperWidth:u,lowerWidth:d,height:m}=t,f=l,g=l+(u-d)/2,p=(f+g)/2,y=(u+d)/2,v=f+u/2,j=m>=0?1:-1,N=j*a,k=j>0?"end":"start",w=j>0?"start":"end",A=u>=0?1:-1,C=A*a,M=A>0?"end":"start",R=A>0?"start":"end";if(n==="top"){var D={x:f+u/2,y:o-N,textAnchor:"middle",verticalAnchor:k};return fn(fn({},D),i?{height:Math.max(o-i.y,0),width:u}:{})}if(n==="bottom"){var B={x:g+d/2,y:o+m+N,textAnchor:"middle",verticalAnchor:w};return fn(fn({},B),i?{height:Math.max(i.y+i.height-(o+m),0),width:d}:{})}if(n==="left"){var z={x:p-C,y:o+m/2,textAnchor:M,verticalAnchor:"middle"};return fn(fn({},z),i?{width:Math.max(z.x-i.x,0),height:m}:{})}if(n==="right"){var I={x:p+y+C,y:o+m/2,textAnchor:R,verticalAnchor:"middle"};return fn(fn({},I),i?{width:Math.max(i.x+i.width-I.x,0),height:m}:{})}var F=i?{width:y,height:m}:{};return n==="insideLeft"?fn({x:p+C,y:o+m/2,textAnchor:R,verticalAnchor:"middle"},F):n==="insideRight"?fn({x:p+y-C,y:o+m/2,textAnchor:M,verticalAnchor:"middle"},F):n==="insideTop"?fn({x:f+u/2,y:o+N,textAnchor:"middle",verticalAnchor:w},F):n==="insideBottom"?fn({x:g+d/2,y:o+m-N,textAnchor:"middle",verticalAnchor:k},F):n==="insideTopLeft"?fn({x:f+C,y:o+N,textAnchor:R,verticalAnchor:w},F):n==="insideTopRight"?fn({x:f+u-C,y:o+N,textAnchor:M,verticalAnchor:w},F):n==="insideBottomLeft"?fn({x:g+C,y:o+m-N,textAnchor:R,verticalAnchor:k},F):n==="insideBottomRight"?fn({x:g+d-C,y:o+m-N,textAnchor:M,verticalAnchor:k},F):n&&typeof n=="object"&&(Ht(n.x)||fh(n.x))&&(Ht(n.y)||fh(n.y))?fn({x:l+rl(n.x,y),y:o+rl(n.y,m),textAnchor:"end",verticalAnchor:"end"},F):fn({x:v,y:o+m/2,textAnchor:"middle",verticalAnchor:"middle"},F)},Hye={angle:0,offset:5,zIndex:vn.label,position:"middle",textBreakAll:!1};function Nm(e){var t=on(e,Hye),{viewBox:s,position:a,value:n,children:i,content:l,className:o="",textBreakAll:u,labelRef:d}=t,m=Iye(),f=VH(),g=a==="center"?f:m??f,p,y,v;if(s==null?p=g:yA(s)?p=s:p=cz(s),!p||Sa(n)&&Sa(i)&&!_.isValidElement(l)&&typeof l!="function")return null;var j=fn(fn({},t),{},{viewBox:p});if(_.isValidElement(l)){var{labelRef:N}=j,k=qM(j,Tye);return _.cloneElement(l,k)}if(typeof l=="function"){var{content:w}=j,A=qM(j,Eye);if(y=_.createElement(l,A),_.isValidElement(y))return y}else y=Fye(t);var C=ll(t);if(yA(p)){if(a==="insideStart"||a==="insideEnd"||a==="end")return Uye(t,a,y,C,p);v=zye(p,t.offset,t.position)}else v=$ye(t,p);return _.createElement(Cl,{zIndex:t.zIndex},_.createElement(vw,Yu({ref:d,className:ys("recharts-label",o)},C,v,{textAnchor:Sye(C.textAnchor)?C.textAnchor:v.textAnchor,breakAll:u}),y))}Nm.displayName="Label";var qye=(e,t,s)=>{if(!e)return null;var a={viewBox:t,labelRef:s};return e===!0?_.createElement(Nm,Yu({key:"label-implicit"},a)):iu(e)?_.createElement(Nm,Yu({key:"label-implicit",value:e},a)):_.isValidElement(e)?e.type===Nm?_.cloneElement(e,fn({key:"label-implicit"},a)):_.createElement(Nm,Yu({key:"label-implicit",content:e},a)):uk(e)?_.createElement(Nm,Yu({key:"label-implicit",content:e},a)):e&&typeof e=="object"?_.createElement(Nm,Yu({},e,{key:"label-implicit"},a)):null};function Vye(e){var{label:t,labelRef:s}=e,a=VH();return qye(t,a,s)||null}var GS={},KS={},WM;function Wye(){return WM||(WM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){return s[s.length-1]}e.last=t})(KS)),KS}var YS={},GM;function Gye(){return GM||(GM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){return Array.isArray(s)?s:Array.from(s)}e.toArray=t})(YS)),YS}var KM;function Kye(){return KM||(KM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wye(),s=Gye(),a=$6();function n(i){if(a.isArrayLike(i))return t.last(s.toArray(i))}e.last=n})(GS)),GS}var ZS,YM;function Yye(){return YM||(YM=1,ZS=Kye().last),ZS}var Zye=Yye();const Xye=Sh(Zye);var Jye=["valueAccessor"],Qye=["dataKey","clockWise","id","textBreakAll","zIndex"];function Tj(){return Tj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Tj.apply(null,arguments)}function ZM(e,t){if(e==null)return{};var s,a,n=ebe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function ebe(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var tbe=e=>Array.isArray(e.value)?Xye(e.value):e.value,WH=_.createContext(void 0),hk=WH.Provider,GH=_.createContext(void 0),rbe=GH.Provider;function sbe(){return _.useContext(WH)}function abe(){return _.useContext(GH)}function b2(e){var{valueAccessor:t=tbe}=e,s=ZM(e,Jye),{dataKey:a,clockWise:n,id:i,textBreakAll:l,zIndex:o}=s,u=ZM(s,Qye),d=sbe(),m=abe(),f=d||m;return!f||!f.length?null:_.createElement(Cl,{zIndex:o??vn.label},_.createElement(an,{className:"recharts-label-list"},f.map((g,p)=>{var y,v=Sa(a)?t(g,p):Ms(g&&g.payload,a),j=Sa(i)?{}:{id:"".concat(i,"-").concat(p)};return _.createElement(Nm,Tj({key:"label-".concat(p)},ll(g),u,j,{fill:(y=s.fill)!==null&&y!==void 0?y:g.fill,parentViewBox:g.parentViewBox,value:v,textBreakAll:l,viewBox:g.viewBox,index:p,zIndex:0}))})))}b2.displayName="LabelList";function yw(e){var{label:t}=e;return t?t===!0?_.createElement(b2,{key:"labelList-implicit"}):_.isValidElement(t)||uk(t)?_.createElement(b2,{key:"labelList-implicit",content:t}):typeof t=="object"?_.createElement(b2,Tj({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function bA(){return bA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},bA.apply(null,arguments)}var KH=e=>{var{cx:t,cy:s,r:a,className:n}=e,i=ys("recharts-dot",n);return Ht(t)&&Ht(s)&&Ht(a)?_.createElement("circle",bA({},_l(e),z6(e),{className:i,cx:t,cy:s,r:a})):null},YH=e=>e.graphicalItems.polarItems,nbe=Je([La,yy],MC),bw=Je([YH,qa,nbe],LC),ibe=Je([bw],IC),jw=Je([ibe,nw],FC),lbe=Je([jw,qa,bw],UC);Je([jw,qa,bw],(e,t,s)=>s.length>0?e.flatMap(a=>s.flatMap(n=>{var i,l=Ms(a,(i=t.dataKey)!==null&&i!==void 0?i:n.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(a=>({value:Ms(a,t.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]})));var XM=()=>{},obe=Je([jw,qa,bw,mw,La],qC),cbe=Je([qa,$C,HC,XM,obe,XM,Qr,La],VC),ZH=Je([qa,Qr,jw,lbe,vy,La,cbe],WC),dbe=Je([ZH,qa,Gx],YC);Je([qa,ZH,dbe,La],XC);var ube={radiusAxis:{},angleAxis:{}},XH=no({name:"polarAxis",initialState:ube,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:URe,removeRadiusAxis:zRe,addAngleAxis:$Re,removeAngleAxis:HRe}=XH.actions,hbe=XH.reducer;function JM(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function QM(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?JM(Object(s),!0).forEach(function(a){mbe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):JM(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function mbe(e,t,s){return(t=fbe(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function fbe(e){var t=pbe(e,"string");return typeof t=="symbol"?t:t+""}function pbe(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xbe=(e,t)=>t,mk=Je([YH,xbe],(e,t)=>e.filter(s=>s.type==="pie").find(s=>s.id===t)),gbe=[],fk=(e,t,s)=>s?.length===0?gbe:s,JH=Je([nw,mk,fk],(e,t,s)=>{var{chartData:a}=e;if(t!=null){var n;if(t?.data!=null&&t.data.length>0?n=t.data:n=a,(!n||!n.length)&&s!=null&&(n=s.map(i=>QM(QM({},t.presentationProps),i.props))),n!=null)return n}}),vbe=Je([JH,mk,fk],(e,t,s)=>{if(!(e==null||t==null))return e.map((a,n)=>{var i,l=Ms(a,t.nameKey,t.name),o;return s!=null&&(i=s[n])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?o=s[n].props.fill:typeof a=="object"&&a!=null&&"fill"in a?o=a.fill:o=t.fill,{value:Km(l,t.dataKey),color:o,payload:a,type:t.legendType}})}),ybe=Je([JH,mk,fk,ei],(e,t,s,a)=>{if(!(t==null||e==null))return j1e({offset:a,pieSettings:t,displayedData:e,cells:s})}),XS={exports:{}},ta={};var e7;function bbe(){if(e7)return ta;e7=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),l=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),p=Symbol.for("react.client.reference");function y(v){if(typeof v=="object"&&v!==null){var j=v.$$typeof;switch(j){case e:switch(v=v.type,v){case s:case n:case a:case u:case d:case g:return v;default:switch(v=v&&v.$$typeof,v){case l:case o:case f:case m:return v;case i:return v;default:return j}}case t:return j}}}return ta.ContextConsumer=i,ta.ContextProvider=l,ta.Element=e,ta.ForwardRef=o,ta.Fragment=s,ta.Lazy=f,ta.Memo=m,ta.Portal=t,ta.Profiler=n,ta.StrictMode=a,ta.Suspense=u,ta.SuspenseList=d,ta.isContextConsumer=function(v){return y(v)===i},ta.isContextProvider=function(v){return y(v)===l},ta.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===e},ta.isForwardRef=function(v){return y(v)===o},ta.isFragment=function(v){return y(v)===s},ta.isLazy=function(v){return y(v)===f},ta.isMemo=function(v){return y(v)===m},ta.isPortal=function(v){return y(v)===t},ta.isProfiler=function(v){return y(v)===n},ta.isStrictMode=function(v){return y(v)===a},ta.isSuspense=function(v){return y(v)===u},ta.isSuspenseList=function(v){return y(v)===d},ta.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===s||v===n||v===a||v===u||v===d||typeof v=="object"&&v!==null&&(v.$$typeof===f||v.$$typeof===m||v.$$typeof===l||v.$$typeof===i||v.$$typeof===o||v.$$typeof===p||v.getModuleId!==void 0)},ta.typeOf=y,ta}var t7;function jbe(){return t7||(t7=1,XS.exports=bbe()),XS.exports}var Nbe=jbe(),r7=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",s7=null,JS=null,QH=e=>{if(e===s7&&Array.isArray(JS))return JS;var t=[];return _.Children.forEach(e,s=>{Sa(s)||(Nbe.isFragment(s)?t=t.concat(QH(s.props.children)):t.push(s))}),JS=t,s7=e,t};function pk(e,t){var s=[],a=[];return Array.isArray(t)?a=t.map(n=>r7(n)):a=[r7(t)],QH(e).forEach(n=>{var i=n0(n,"type.displayName")||n0(n,"type.name");i&&a.indexOf(i)!==-1&&s.push(n)}),s}var xk=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,QS={},a7;function wbe(){return a7||(a7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){if(typeof s!="object"||s==null)return!1;if(Object.getPrototypeOf(s)===null)return!0;if(Object.prototype.toString.call(s)!=="[object Object]"){const n=s[Symbol.toStringTag];return n==null||!Object.getOwnPropertyDescriptor(s,Symbol.toStringTag)?.writable?!1:s.toString()===`[object ${n}]`}let a=s;for(;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(s)===a}e.isPlainObject=t})(QS)),QS}var e3,n7;function Sbe(){return n7||(n7=1,e3=wbe().isPlainObject),e3}var _be=Sbe();const Abe=Sh(_be);var i7,l7,o7,c7,d7;function u7(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function h7(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?u7(Object(s),!0).forEach(function(a){Cbe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):u7(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Cbe(e,t,s){return(t=kbe(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function kbe(e){var t=Tbe(e,"string");return typeof t=="symbol"?t:t+""}function Tbe(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ej(){return Ej=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Ej.apply(null,arguments)}function Xg(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var m7=(e,t,s,a,n)=>{var i=s-a,l;return l=en(i7||(i7=Xg(["M ",",",""])),e,t),l+=en(l7||(l7=Xg(["L ",",",""])),e+s,t),l+=en(o7||(o7=Xg(["L ",",",""])),e+s-i/2,t+n),l+=en(c7||(c7=Xg(["L ",",",""])),e+s-i/2-a,t+n),l+=en(d7||(d7=Xg(["L ",","," Z"])),e,t),l},Ebe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Obe=e=>{var t=on(e,Ebe),{x:s,y:a,upperWidth:n,lowerWidth:i,height:l,className:o}=t,{animationEasing:u,animationDuration:d,animationBegin:m,isUpdateAnimationActive:f}=t,g=_.useRef(null),[p,y]=_.useState(-1),v=_.useRef(n),j=_.useRef(i),N=_.useRef(l),k=_.useRef(s),w=_.useRef(a),A=zx(e,"trapezoid-");if(_.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var te=g.current.getTotalLength();te&&y(te)}catch{}},[]),s!==+s||a!==+a||n!==+n||i!==+i||l!==+l||n===0&&i===0||l===0)return null;var C=ys("recharts-trapezoid",o);if(!f)return _.createElement("g",null,_.createElement("path",Ej({},ll(t),{className:C,d:m7(s,a,n,i,l)})));var M=v.current,R=j.current,D=N.current,B=k.current,z=w.current,I="0px ".concat(p===-1?1:p,"px"),F="".concat(p,"px 0px"),Y=Nz(["strokeDasharray"],d,u);return _.createElement(Ux,{animationId:A,key:A,canBegin:p>0,duration:d,easing:u,isActive:f,begin:m},te=>{var ue=Rs(M,n,te),Z=Rs(R,i,te),ie=Rs(D,l,te),G=Rs(B,s,te),ee=Rs(z,a,te);g.current&&(v.current=ue,j.current=Z,N.current=ie,k.current=G,w.current=ee);var Ne=te>0?{transition:Y,strokeDasharray:F}:{strokeDasharray:I};return _.createElement("path",Ej({},ll(t),{className:C,d:m7(G,ee,ue,Z,ie),ref:g,style:h7(h7({},Ne),t.style)}))})},Pbe=["option","shapeType","activeClassName"];function Dbe(e,t){if(e==null)return{};var s,a,n=Rbe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Rbe(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function f7(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Oj(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?f7(Object(s),!0).forEach(function(a){Mbe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):f7(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Mbe(e,t,s){return(t=Lbe(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Lbe(e){var t=Ibe(e,"string");return typeof t=="symbol"?t:t+""}function Ibe(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fbe(e,t){return Oj(Oj({},t),e)}function Bbe(e,t){return e==="symbols"}function p7(e){var{shapeType:t,elementProps:s}=e;switch(t){case"rectangle":return _.createElement(Az,s);case"trapezoid":return _.createElement(Obe,s);case"sector":return _.createElement(Ez,s);case"symbols":if(Bbe(t))return _.createElement(U6,s);break;case"curve":return _.createElement(Qp,s);default:return null}}function Ube(e){return _.isValidElement(e)?e.props:e}function gk(e){var{option:t,shapeType:s,activeClassName:a="recharts-active-shape"}=e,n=Dbe(e,Pbe),i;if(_.isValidElement(t))i=_.cloneElement(t,Oj(Oj({},n),Ube(t)));else if(typeof t=="function")i=t(n,n.index);else if(Abe(t)&&typeof t!="boolean"){var l=Fbe(t,n);i=_.createElement(p7,{shapeType:s,elementProps:l})}else{var o=n;i=_.createElement(p7,{shapeType:s,elementProps:o})}return n.isActive?_.createElement(an,{className:a},i):i}var vk=(e,t,s)=>{var a=fa();return(n,i)=>l=>{e?.(n,i,l),a(hH({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition,activeGraphicalItemId:s}))}},yk=e=>{var t=fa();return(s,a)=>n=>{e?.(s,a,n),t(Kxe())}},bk=(e,t,s)=>{var a=fa();return(n,i)=>l=>{e?.(n,i,l),a(Yxe({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition,activeGraphicalItemId:s}))}};function Nw(e){var{tooltipEntrySettings:t}=e,s=fa(),a=vi(),n=_.useRef(null);return _.useLayoutEffect(()=>{a||(n.current===null?s(qxe(t)):n.current!==t&&s(Vxe({prev:n.current,next:t})),n.current=t)},[t,s,a]),_.useLayoutEffect(()=>()=>{n.current&&(s(Wxe(n.current)),n.current=null)},[s]),null}function jk(e){var{legendPayload:t}=e,s=fa(),a=vi(),n=_.useRef(null);return _.useLayoutEffect(()=>{a||(n.current===null?s(vz(t)):n.current!==t&&s(yz({prev:n.current,next:t})),n.current=t)},[s,a,t]),_.useLayoutEffect(()=>()=>{n.current&&(s(bz(n.current)),n.current=null)},[s]),null}function zbe(e){var{legendPayload:t}=e,s=fa(),a=Jt(Qr),n=_.useRef(null);return _.useLayoutEffect(()=>{a!=="centric"&&a!=="radial"||(n.current===null?s(vz(t)):n.current!==t&&s(yz({prev:n.current,next:t})),n.current=t)},[s,a,t]),_.useLayoutEffect(()=>()=>{n.current&&(s(bz(n.current)),n.current=null)},[s]),null}var t3,$be=()=>{var[e]=_.useState(()=>Cv("uid-"));return e},Hbe=(t3=HK.useId)!==null&&t3!==void 0?t3:$be;function qbe(e,t){var s=Hbe();return t||(e?"".concat(e,"-").concat(s):s)}var Vbe=_.createContext(void 0),ww=e=>{var{id:t,type:s,children:a}=e,n=qbe("recharts-".concat(s),t);return _.createElement(Vbe.Provider,{value:n},a(n))},Wbe={cartesianItems:[],polarItems:[]},eq=no({name:"graphicalItems",initialState:Wbe,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Pa()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:s,next:a}=t.payload,n=pd(e).cartesianItems.indexOf(s);n>-1&&(e.cartesianItems[n]=a)},prepare:Pa()},removeCartesianGraphicalItem:{reducer(e,t){var s=pd(e).cartesianItems.indexOf(t.payload);s>-1&&e.cartesianItems.splice(s,1)},prepare:Pa()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Pa()},removePolarGraphicalItem:{reducer(e,t){var s=pd(e).polarItems.indexOf(t.payload);s>-1&&e.polarItems.splice(s,1)},prepare:Pa()}}}),{addCartesianGraphicalItem:Gbe,replaceCartesianGraphicalItem:Kbe,removeCartesianGraphicalItem:Ybe,addPolarGraphicalItem:Zbe,removePolarGraphicalItem:Xbe}=eq.actions,Jbe=eq.reducer,Qbe=e=>{var t=fa(),s=_.useRef(null);return _.useLayoutEffect(()=>{s.current===null?t(Gbe(e)):s.current!==e&&t(Kbe({prev:s.current,next:e})),s.current=e},[t,e]),_.useLayoutEffect(()=>()=>{s.current&&(t(Ybe(s.current)),s.current=null)},[t]),null},Nk=_.memo(Qbe);function e1e(e){var t=fa();return _.useLayoutEffect(()=>(t(Zbe(e)),()=>{t(Xbe(e))}),[t,e]),null}var t1e=["key"],r1e=["onMouseEnter","onClick","onMouseLeave"],s1e=["id"],a1e=["id"];function x7(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function tn(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?x7(Object(s),!0).forEach(function(a){n1e(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):x7(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function n1e(e,t,s){return(t=i1e(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function i1e(e){var t=l1e(e,"string");return typeof t=="symbol"?t:t+""}function l1e(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fm(){return Fm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Fm.apply(null,arguments)}function Sw(e,t){if(e==null)return{};var s,a,n=o1e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function o1e(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function c1e(e){var t=_.useMemo(()=>pk(e.children,Jm),[e.children]),s=Jt(a=>vbe(a,e.id,t));return s==null?null:_.createElement(zbe,{legendPayload:s})}var d1e=_.memo(e=>{var{dataKey:t,nameKey:s,sectors:a,stroke:n,strokeWidth:i,fill:l,name:o,hide:u,tooltipType:d,id:m}=e,f={dataDefinedOnItem:a.map(g=>g.tooltipPayload),positions:a.map(g=>g.tooltipPosition),settings:{stroke:n,strokeWidth:i,fill:l,dataKey:t,nameKey:s,name:Km(o,t),hide:u,type:d,color:l,unit:"",graphicalItemId:m}};return _.createElement(Nw,{tooltipEntrySettings:f})}),u1e=(e,t)=>e>t?"start":e<t?"end":"middle",h1e=(e,t,s)=>rl(typeof t=="function"?t(e):t,s,s*.8),m1e=(e,t,s)=>{var{top:a,left:n,width:i,height:l}=t,o=Cz(i,l),u=n+rl(e.cx,i,i/2),d=a+rl(e.cy,l,l/2),m=rl(e.innerRadius,o,0),f=h1e(s,e.outerRadius,o),g=e.maxRadius||Math.sqrt(i*i+l*l)/2;return{cx:u,cy:d,innerRadius:m,outerRadius:f,maxRadius:g}},f1e=(e,t)=>{var s=pi(t-e),a=Math.min(Math.abs(t-e),360);return s*a};function p1e(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var x1e=(e,t)=>{if(_.isValidElement(e))return _.cloneElement(e,t);if(typeof e=="function")return e(t);var s=ys("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:a}=t,n=Sw(t,t1e);return _.createElement(Qp,Fm({},n,{type:"linear",className:s}))},g1e=(e,t,s)=>{if(_.isValidElement(e))return _.cloneElement(e,t);var a=s;if(typeof e=="function"&&(a=e(t),_.isValidElement(a)))return a;var n=ys("recharts-pie-label-text",p1e(e));return _.createElement(vw,Fm({},t,{alignmentBaseline:"middle",className:n}),a)};function v1e(e){var{sectors:t,props:s,showLabels:a}=e,{label:n,labelLine:i,dataKey:l}=s;if(!a||!n||!t)return null;var o=_l(s),u=s0(n),d=s0(i),m=typeof n=="object"&&"offsetRadius"in n&&typeof n.offsetRadius=="number"&&n.offsetRadius||20,f=t.map((g,p)=>{var y=(g.startAngle+g.endAngle)/2,v=On(g.cx,g.cy,g.outerRadius+m,y),j=tn(tn(tn(tn({},o),g),{},{stroke:"none"},u),{},{index:p,textAnchor:u1e(v.x,g.cx)},v),N=tn(tn(tn(tn({},o),g),{},{fill:"none",stroke:g.fill},d),{},{index:p,points:[On(g.cx,g.cy,g.outerRadius,y),v],key:"line"});return _.createElement(Cl,{zIndex:vn.label,key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(p)},_.createElement(an,null,i&&x1e(i,N),g1e(n,j,Ms(g,l))))});return _.createElement(an,{className:"recharts-pie-labels"},f)}function y1e(e){var{sectors:t,props:s,showLabels:a}=e,{label:n}=s;return typeof n=="object"&&n!=null&&"position"in n?_.createElement(yw,{label:n}):_.createElement(v1e,{sectors:t,props:s,showLabels:a})}function b1e(e){var{sectors:t,activeShape:s,inactiveShape:a,allOtherPieProps:n,shape:i,id:l}=e,o=Jt(Im),u=Jt(ik),d=Jt(Rge),{onMouseEnter:m,onClick:f,onMouseLeave:g}=n,p=Sw(n,r1e),y=vk(m,n.dataKey,l),v=yk(g),j=bk(f,n.dataKey,l);return t==null||t.length===0?null:_.createElement(_.Fragment,null,t.map((N,k)=>{if(N?.startAngle===0&&N?.endAngle===0&&t.length!==1)return null;var w=d==null||d===l,A=String(k)===o&&(u==null||n.dataKey===u)&&w,C=o?a:null,M=s&&A?s:C,R=tn(tn({},N),{},{stroke:N.stroke,tabIndex:-1,[az]:k,[nz]:l});return _.createElement(an,Fm({key:"sector-".concat(N?.startAngle,"-").concat(N?.endAngle,"-").concat(N.midAngle,"-").concat(k),tabIndex:-1,className:"recharts-pie-sector"},oy(p,N,k),{onMouseEnter:y(N,k),onMouseLeave:v(N,k),onClick:j(N,k)}),_.createElement(gk,Fm({option:i??M,index:k,shapeType:"sector",isActive:A},R)))}))}function j1e(e){var t,{pieSettings:s,displayedData:a,cells:n,offset:i}=e,{cornerRadius:l,startAngle:o,endAngle:u,dataKey:d,nameKey:m,tooltipType:f}=s,g=Math.abs(s.minAngle),p=f1e(o,u),y=Math.abs(p),v=a.length<=1?0:(t=s.paddingAngle)!==null&&t!==void 0?t:0,j=a.filter(M=>Ms(M,d,0)!==0).length,N=(y>=360?j:j-1)*v,k=y-j*g-N,w=a.reduce((M,R)=>{var D=Ms(R,d,0);return M+(Ht(D)?D:0)},0),A;if(w>0){var C;A=a.map((M,R)=>{var D=Ms(M,d,0),B=Ms(M,m,R),z=m1e(s,i,M),I=(Ht(D)?D:0)/w,F,Y=tn(tn({},M),n&&n[R]&&n[R].props);R?F=C.endAngle+pi(p)*v*(D!==0?1:0):F=o;var te=F+pi(p)*((D!==0?g:0)+I*k),ue=(F+te)/2,Z=(z.innerRadius+z.outerRadius)/2,ie=[{name:B,value:D,payload:Y,dataKey:d,type:f,graphicalItemId:s.id}],G=On(z.cx,z.cy,Z,ue);return C=tn(tn(tn(tn({},s.presentationProps),{},{percent:I,cornerRadius:typeof l=="string"?parseFloat(l):l,name:B,tooltipPayload:ie,midAngle:ue,middleRadius:Z,tooltipPosition:G},Y),z),{},{value:D,dataKey:d,startAngle:F,endAngle:te,payload:Y,paddingAngle:pi(p)*v}),C})}return A}function N1e(e){var{showLabels:t,sectors:s,children:a}=e,n=_.useMemo(()=>!t||!s?[]:s.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[s,t]);return _.createElement(rbe,{value:t?n:void 0},a)}function w1e(e){var{props:t,previousSectorsRef:s,id:a}=e,{sectors:n,isAnimationActive:i,animationBegin:l,animationDuration:o,animationEasing:u,activeShape:d,inactiveShape:m,onAnimationStart:f,onAnimationEnd:g}=t,p=zx(t,"recharts-pie-"),y=s.current,[v,j]=_.useState(!1),N=_.useCallback(()=>{typeof g=="function"&&g(),j(!1)},[g]),k=_.useCallback(()=>{typeof f=="function"&&f(),j(!0)},[f]);return _.createElement(N1e,{showLabels:!v,sectors:n},_.createElement(Ux,{animationId:p,begin:l,duration:o,isActive:i,easing:u,onAnimationStart:k,onAnimationEnd:N,key:p},w=>{var A=[],C=n&&n[0],M=C?.startAngle;return n?.forEach((R,D)=>{var B=y&&y[D],z=D>0?n0(R,"paddingAngle",0):0;if(B){var I=Rs(B.endAngle-B.startAngle,R.endAngle-R.startAngle,w),F=tn(tn({},R),{},{startAngle:M+z,endAngle:M+I+z});A.push(F),M=F.endAngle}else{var{endAngle:Y,startAngle:te}=R,ue=Rs(0,Y-te,w),Z=tn(tn({},R),{},{startAngle:M+z,endAngle:M+ue+z});A.push(Z),M=Z.endAngle}}),s.current=A,_.createElement(an,null,_.createElement(b1e,{sectors:A,activeShape:d,inactiveShape:m,allOtherPieProps:t,shape:t.shape,id:a}))}),_.createElement(y1e,{showLabels:!v,sectors:n,props:t}),t.children)}var S1e={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:vn.area};function _1e(e){var{id:t}=e,s=Sw(e,s1e),{hide:a,className:n,rootTabIndex:i}=e,l=_.useMemo(()=>pk(e.children,Jm),[e.children]),o=Jt(m=>ybe(m,t,l)),u=_.useRef(null),d=ys("recharts-pie",n);return a||o==null?(u.current=null,_.createElement(an,{tabIndex:i,className:d})):_.createElement(Cl,{zIndex:e.zIndex},_.createElement(d1e,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:o,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),_.createElement(an,{tabIndex:i,className:d},_.createElement(w1e,{props:tn(tn({},s),{},{sectors:o}),previousSectorsRef:u,id:t})))}function ky(e){var t=on(e,S1e),{id:s}=t,a=Sw(t,a1e),n=_l(a);return _.createElement(ww,{id:s,type:"pie"},i=>_.createElement(_.Fragment,null,_.createElement(e1e,{type:"pie",id:i,data:a.data,dataKey:a.dataKey,hide:a.hide,angleAxisId:0,radiusAxisId:0,name:a.name,nameKey:a.nameKey,tooltipType:a.tooltipType,legendType:a.legendType,fill:a.fill,cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,paddingAngle:a.paddingAngle,minAngle:a.minAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius,cornerRadius:a.cornerRadius,presentationProps:n,maxRadius:t.maxRadius}),_.createElement(c1e,Fm({},a,{id:i})),_.createElement(_1e,Fm({},a,{id:i}))))}ky.displayName="Pie";var A1e=["points"];function g7(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function r3(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?g7(Object(s),!0).forEach(function(a){C1e(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):g7(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function C1e(e,t,s){return(t=k1e(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function k1e(e){var t=T1e(e,"string");return typeof t=="symbol"?t:t+""}function T1e(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pj(){return Pj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Pj.apply(null,arguments)}function E1e(e,t){if(e==null)return{};var s,a,n=O1e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function O1e(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function P1e(e){var{option:t,dotProps:s,className:a}=e;if(_.isValidElement(t))return _.cloneElement(t,s);if(typeof t=="function")return t(s);var n=ys(a,typeof t!="boolean"?t.className:""),i=s??{},{points:l}=i,o=E1e(i,A1e);return _.createElement(KH,Pj({},o,{className:n}))}function D1e(e,t){return e==null?!1:t?!0:e.length===1}function tq(e){var{points:t,dot:s,className:a,dotClassName:n,dataKey:i,baseProps:l,needClip:o,clipPathId:u,zIndex:d=vn.scatter}=e;if(!D1e(t,s))return null;var m=xk(s),f=Xle(s),g=t.map((y,v)=>{var j,N,k=r3(r3(r3({r:3},l),f),{},{index:v,cx:(j=y.x)!==null&&j!==void 0?j:void 0,cy:(N=y.y)!==null&&N!==void 0?N:void 0,dataKey:i,value:y.value,payload:y.payload,points:t});return _.createElement(P1e,{key:"dot-".concat(v),option:s,dotProps:k,className:n})}),p={};return o&&u!=null&&(p.clipPath="url(#clipPath-".concat(m?"":"dots-").concat(u,")")),_.createElement(Cl,{zIndex:d},_.createElement(an,Pj({className:a},p),g))}function v7(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function y7(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?v7(Object(s),!0).forEach(function(a){R1e(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):v7(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function R1e(e,t,s){return(t=M1e(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function M1e(e){var t=L1e(e,"string");return typeof t=="symbol"?t:t+""}function L1e(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rq=0,I1e={xAxis:{},yAxis:{},zAxis:{}},sq=no({name:"cartesianAxis",initialState:I1e,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Pa()},replaceXAxis:{reducer(e,t){var{prev:s,next:a}=t.payload;e.xAxis[s.id]!==void 0&&(s.id!==a.id&&delete e.xAxis[s.id],e.xAxis[a.id]=a)},prepare:Pa()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Pa()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Pa()},replaceYAxis:{reducer(e,t){var{prev:s,next:a}=t.payload;e.yAxis[s.id]!==void 0&&(s.id!==a.id&&delete e.yAxis[s.id],e.yAxis[a.id]=a)},prepare:Pa()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Pa()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Pa()},replaceZAxis:{reducer(e,t){var{prev:s,next:a}=t.payload;e.zAxis[s.id]!==void 0&&(s.id!==a.id&&delete e.zAxis[s.id],e.zAxis[a.id]=a)},prepare:Pa()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Pa()},updateYAxisWidth(e,t){var{id:s,width:a}=t.payload,n=e.yAxis[s];if(n){var i=n.widthHistory||[];if(i.length===3&&i[0]===i[2]&&a===i[1]&&a!==n.width&&Math.abs(a-i[0])<=1)return;var l=[...i,a].slice(-3);e.yAxis[s]=y7(y7({},e.yAxis[s]),{},{width:a,widthHistory:l})}}}}),{addXAxis:F1e,replaceXAxis:B1e,removeXAxis:U1e,addYAxis:z1e,replaceYAxis:$1e,removeYAxis:H1e,addZAxis:qRe,replaceZAxis:VRe,removeZAxis:WRe,updateYAxisWidth:q1e}=sq.actions,V1e=sq.reducer,W1e=Je([ei],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),G1e=Je([W1e,Ah,Ch],(e,t,s)=>{if(!(!e||t==null||s==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,s-e.top-e.bottom)}}),_w=()=>Jt(G1e),K1e=()=>Jt(Bge);function b7(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function s3(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?b7(Object(s),!0).forEach(function(a){Y1e(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):b7(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Y1e(e,t,s){return(t=Z1e(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Z1e(e){var t=X1e(e,"string");return typeof t=="symbol"?t:t+""}function X1e(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var J1e=e=>{var{point:t,childIndex:s,mainColor:a,activeDot:n,dataKey:i,clipPath:l}=e;if(n===!1||t.x==null||t.y==null)return null;var o={index:s,dataKey:i,cx:t.x,cy:t.y,r:4,fill:a??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},u=s3(s3(s3({},o),s0(n)),z6(n)),d;return _.isValidElement(n)?d=_.cloneElement(n,u):typeof n=="function"?d=n(u):d=_.createElement(KH,u),_.createElement(an,{className:"recharts-active-dot",clipPath:l},d)};function jA(e){var{points:t,mainColor:s,activeDot:a,itemDataKey:n,clipPath:i,zIndex:l=vn.activeDot}=e,o=Jt(Im),u=K1e();if(t==null||u==null)return null;var d=t.find(m=>u.includes(m.payload));return Sa(d)?null:_.createElement(Cl,{zIndex:l},_.createElement(J1e,{point:d,childIndex:Number(o),mainColor:s,dataKey:n,activeDot:a,clipPath:i}))}var j7=(e,t,s)=>{var a=s??e;if(!Sa(a))return rl(a,t,0)},Q1e=(e,t,s)=>{var a={},n=e.filter(cw),i=e.filter(d=>d.stackId==null),l=n.reduce((d,m)=>(d[m.stackId]||(d[m.stackId]=[]),d[m.stackId].push(m),d),a),o=Object.entries(l).map(d=>{var[m,f]=d,g=f.map(y=>y.dataKey),p=j7(t,s,f[0].barSize);return{stackId:m,dataKeys:g,barSize:p}}),u=i.map(d=>{var m=[d.dataKey].filter(g=>g!=null),f=j7(t,s,d.barSize);return{stackId:void 0,dataKeys:m,barSize:f}});return[...o,...u]};function N7(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function t1(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?N7(Object(s),!0).forEach(function(a){e2e(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):N7(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function e2e(e,t,s){return(t=t2e(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function t2e(e){var t=r2e(e,"string");return typeof t=="symbol"?t:t+""}function r2e(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function s2e(e,t,s,a,n){var i=a.length;if(!(i<1)){var l=rl(e,s,0,!0),o,u=[];if(ca(a[0].barSize)){var d=!1,m=s/i,f=a.reduce((N,k)=>N+(k.barSize||0),0);f+=(i-1)*l,f>=s&&(f-=(i-1)*l,l=0),f>=s&&m>0&&(d=!0,m*=.9,f=i*m);var g=(s-f)/2>>0,p={offset:g-l,size:0};o=a.reduce((N,k)=>{var w,A={stackId:k.stackId,dataKeys:k.dataKeys,position:{offset:p.offset+p.size+l,size:d?m:(w=k.barSize)!==null&&w!==void 0?w:0}},C=[...N,A];return p=C[C.length-1].position,C},u)}else{var y=rl(t,s,0,!0);s-2*y-(i-1)*l<=0&&(l=0);var v=(s-2*y-(i-1)*l)/i;v>1&&(v>>=0);var j=ca(n)?Math.min(v,n):v;o=a.reduce((N,k,w)=>[...N,{stackId:k.stackId,dataKeys:k.dataKeys,position:{offset:y+(v+l)*w+(v-j)/2,size:j}}],u)}return o}}var a2e=(e,t,s,a,n,i,l)=>{var o=Sa(l)?t:l,u=s2e(s,a,n!==i?n:i,e,o);return n!==i&&u!=null&&(u=u.map(d=>t1(t1({},d),{},{position:t1(t1({},d.position),{},{offset:d.position.offset-n/2})}))),u},n2e=(e,t)=>{var s=ow(t);if(!(!e||s==null||t==null)){var{stackId:a}=t;if(a!=null){var n=e[a];if(n){var{stackedData:i}=n;if(i)return i.find(l=>l.key===s)}}}};function i2e(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&ca(e.zIndex)?e.zIndex:t}var aq=e=>{var{chartData:t}=e,s=fa(),a=vi();return _.useEffect(()=>a?()=>{}:(s(TM(t)),()=>{s(TM(void 0))}),[t,s,a]),null},w7={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},nq=no({name:"brush",initialState:w7,reducers:{setBrushSettings(e,t){return t.payload==null?w7:t.payload}}}),{setBrushSettings:GRe}=nq.actions,l2e=nq.reducer;function o2e(e,t,s){return(t=c2e(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function c2e(e){var t=d2e(e,"string");return typeof t=="symbol"?t:t+""}function d2e(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class wk{static create(t){return new wk(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:s,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(a)switch(a){case"start":return this.scale(t);case"middle":{var n=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+n}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(s){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var s=this.range(),a=s[0],n=s[s.length-1];return a<=n?t>=a&&t<=n:t>=n&&t<=a}}o2e(wk,"EPS",1e-4);function u2e(e){return(e%180+180)%180}var h2e=function(t){var{width:s,height:a}=t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=u2e(n),l=i*Math.PI/180,o=Math.atan(a/s),u=l>o&&l<Math.PI-o?a/Math.sin(l):s/Math.cos(l);return Math.abs(u)},m2e={dots:[],areas:[],lines:[]},iq=no({name:"referenceElements",initialState:m2e,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var s=pd(e).dots.findIndex(a=>a===t.payload);s!==-1&&e.dots.splice(s,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var s=pd(e).areas.findIndex(a=>a===t.payload);s!==-1&&e.areas.splice(s,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var s=pd(e).lines.findIndex(a=>a===t.payload);s!==-1&&e.lines.splice(s,1)}}}),{addDot:KRe,removeDot:YRe,addArea:ZRe,removeArea:XRe,addLine:JRe,removeLine:QRe}=iq.actions,f2e=iq.reducer,p2e=_.createContext(void 0),x2e=e=>{var{children:t}=e,[s]=_.useState("".concat(Cv("recharts"),"-clip")),a=_w();if(a==null)return null;var{x:n,y:i,width:l,height:o}=a;return _.createElement(p2e.Provider,{value:s},_.createElement("defs",null,_.createElement("clipPath",{id:s},_.createElement("rect",{x:n,y:i,height:o,width:l}))),t)};function lq(e,t){if(t<1)return[];if(t===1)return e;for(var s=[],a=0;a<e.length;a+=t){var n=e[a];n!==void 0&&s.push(n)}return s}function g2e(e,t,s){var a={width:e.width+t.width,height:e.height+t.height};return h2e(a,s)}function v2e(e,t,s){var a=s==="width",{x:n,y:i,width:l,height:o}=e;return t===1?{start:a?n:i,end:a?n+l:i+o}:{start:a?n+l:i+o,end:a?n:i}}function zv(e,t,s,a,n){if(e*t<e*a||e*t>e*n)return!1;var i=s();return e*(t-e*i/2-a)>=0&&e*(t+e*i/2-n)<=0}function y2e(e,t){return lq(e,t+1)}function b2e(e,t,s,a,n){for(var i=(a||[]).slice(),{start:l,end:o}=t,u=0,d=1,m=l,f=function(){var y=a?.[u];if(y===void 0)return{v:lq(a,d)};var v=u,j,N=()=>(j===void 0&&(j=s(y,v)),j),k=y.coordinate,w=u===0||zv(e,k,N,m,o);w||(u=0,m=l,d+=1),w&&(m=k+e*(N()/2+n),u+=d)},g;d<=i.length;)if(g=f(),g)return g.v;return[]}function j2e(e,t,s,a,n){var i=(a||[]).slice(),l=i.length;if(l===0)return[];for(var{start:o,end:u}=t,d=1;d<=l;d++){for(var m=(l-1)%d,f=o,g=!0,p=function(){var k=a[y],w=y,A,C=()=>(A===void 0&&(A=s(k,w)),A),M=k.coordinate,R=y===m||zv(e,M,C,f,u);if(!R)return g=!1,1;R&&(f=M+e*(C()/2+n))},y=m;y<l&&!p();y+=d);if(g){for(var v=[],j=m;j<l;j+=d)v.push(a[j]);return v}}return[]}function S7(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Xi(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?S7(Object(s),!0).forEach(function(a){N2e(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):S7(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function N2e(e,t,s){return(t=w2e(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function w2e(e){var t=S2e(e,"string");return typeof t=="symbol"?t:t+""}function S2e(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _2e(e,t,s,a,n){for(var i=(a||[]).slice(),l=i.length,{start:o}=t,{end:u}=t,d=function(g){var p=i[g],y,v=()=>(y===void 0&&(y=s(p,g)),y);if(g===l-1){var j=e*(p.coordinate+e*v()/2-u);i[g]=p=Xi(Xi({},p),{},{tickCoord:j>0?p.coordinate-j*e:p.coordinate})}else i[g]=p=Xi(Xi({},p),{},{tickCoord:p.coordinate});if(p.tickCoord!=null){var N=zv(e,p.tickCoord,v,o,u);N&&(u=p.tickCoord-e*(v()/2+n),i[g]=Xi(Xi({},p),{},{isShow:!0}))}},m=l-1;m>=0;m--)d(m);return i}function A2e(e,t,s,a,n,i){var l=(a||[]).slice(),o=l.length,{start:u,end:d}=t;if(i){var m=a[o-1],f=s(m,o-1),g=e*(m.coordinate+e*f/2-d);if(l[o-1]=m=Xi(Xi({},m),{},{tickCoord:g>0?m.coordinate-g*e:m.coordinate}),m.tickCoord!=null){var p=zv(e,m.tickCoord,()=>f,u,d);p&&(d=m.tickCoord-e*(f/2+n),l[o-1]=Xi(Xi({},m),{},{isShow:!0}))}}for(var y=i?o-1:o,v=function(k){var w=l[k],A,C=()=>(A===void 0&&(A=s(w,k)),A);if(k===0){var M=e*(w.coordinate-e*C()/2-u);l[k]=w=Xi(Xi({},w),{},{tickCoord:M<0?w.coordinate-M*e:w.coordinate})}else l[k]=w=Xi(Xi({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var R=zv(e,w.tickCoord,C,u,d);R&&(u=w.tickCoord+e*(C()/2+n),l[k]=Xi(Xi({},w),{},{isShow:!0}))}},j=0;j<y;j++)v(j);return l}function Sk(e,t,s){var{tick:a,ticks:n,viewBox:i,minTickGap:l,orientation:o,interval:u,tickFormatter:d,unit:m,angle:f}=e;if(!n||!n.length||!a)return[];if(Ht(u)||my.isSsr){var g;return(g=y2e(n,Ht(u)?u:0))!==null&&g!==void 0?g:[]}var p=[],y=o==="top"||o==="bottom"?"width":"height",v=m&&y==="width"?hv(m,{fontSize:t,letterSpacing:s}):{width:0,height:0},j=(w,A)=>{var C=typeof d=="function"?d(w.value,A):w.value;return y==="width"?g2e(hv(C,{fontSize:t,letterSpacing:s}),v,f):hv(C,{fontSize:t,letterSpacing:s})[y]},N=n.length>=2?pi(n[1].coordinate-n[0].coordinate):1,k=v2e(i,N,y);return u==="equidistantPreserveStart"?b2e(N,k,j,n,l):u==="equidistantPreserveEnd"?j2e(N,k,j,n,l):(u==="preserveStart"||u==="preserveStartEnd"?p=A2e(N,k,j,n,l,u==="preserveStartEnd"):p=_2e(N,k,j,n,l),p.filter(w=>w.isShow))}var C2e=e=>{var{ticks:t,label:s,labelGapWithTick:a=5,tickSize:n=0,tickMargin:i=0}=e,l=0;if(t){Array.from(t).forEach(m=>{if(m){var f=m.getBoundingClientRect();f.width>l&&(l=f.width)}});var o=s?s.getBoundingClientRect().width:0,u=n+i,d=l+u+o+(s?a:0);return Math.round(d)}return 0},k2e=["axisLine","width","height","className","hide","ticks","axisType"];function T2e(e,t){if(e==null)return{};var s,a,n=E2e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function E2e(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function d0(){return d0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},d0.apply(null,arguments)}function _7(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Cn(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?_7(Object(s),!0).forEach(function(a){O2e(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):_7(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function O2e(e,t,s){return(t=P2e(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function P2e(e){var t=D2e(e,"string");return typeof t=="symbol"?t:t+""}function D2e(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nh={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:vn.axis};function R2e(e){var{x:t,y:s,width:a,height:n,orientation:i,mirror:l,axisLine:o,otherSvgProps:u}=e;if(!o)return null;var d=Cn(Cn(Cn({},u),_l(o)),{},{fill:"none"});if(i==="top"||i==="bottom"){var m=+(i==="top"&&!l||i==="bottom"&&l);d=Cn(Cn({},d),{},{x1:t,y1:s+m*n,x2:t+a,y2:s+m*n})}else{var f=+(i==="left"&&!l||i==="right"&&l);d=Cn(Cn({},d),{},{x1:t+f*a,y1:s,x2:t+f*a,y2:s+n})}return _.createElement("line",d0({},d,{className:ys("recharts-cartesian-axis-line",n0(o,"className"))}))}function M2e(e,t,s,a,n,i,l,o,u){var d,m,f,g,p,y,v=o?-1:1,j=e.tickSize||l,N=Ht(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":d=m=e.coordinate,g=s+ +!o*n,f=g-v*j,y=f-v*u,p=N;break;case"left":f=g=e.coordinate,m=t+ +!o*a,d=m-v*j,p=d-v*u,y=N;break;case"right":f=g=e.coordinate,m=t+ +o*a,d=m+v*j,p=d+v*u,y=N;break;default:d=m=e.coordinate,g=s+ +o*n,f=g+v*j,y=f+v*u,p=N;break}return{line:{x1:d,y1:f,x2:m,y2:g},tick:{x:p,y}}}function L2e(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function I2e(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function F2e(e){var{option:t,tickProps:s,value:a}=e,n,i=ys(s.className,"recharts-cartesian-axis-tick-value");if(_.isValidElement(t))n=_.cloneElement(t,Cn(Cn({},s),{},{className:i}));else if(typeof t=="function")n=t(Cn(Cn({},s),{},{className:i}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=ys(l,t?.className)),n=_.createElement(vw,d0({},s,{className:l}),a)}return n}var B2e=_.forwardRef((e,t)=>{var{ticks:s=[],tick:a,tickLine:n,stroke:i,tickFormatter:l,unit:o,padding:u,tickTextProps:d,orientation:m,mirror:f,x:g,y:p,width:y,height:v,tickSize:j,tickMargin:N,fontSize:k,letterSpacing:w,getTicksConfig:A,events:C,axisType:M}=e,R=Sk(Cn(Cn({},A),{},{ticks:s}),k,w),D=L2e(m,f),B=I2e(m,f),z=_l(A),I=s0(a),F={};typeof n=="object"&&(F=n);var Y=Cn(Cn({},z),{},{fill:"none"},F),te=R.map(ie=>Cn({entry:ie},M2e(ie,g,p,y,v,m,j,f,N))),ue=te.map(ie=>{var{entry:G,line:ee}=ie;return _.createElement(an,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(G.value,"-").concat(G.coordinate,"-").concat(G.tickCoord)},n&&_.createElement("line",d0({},Y,ee,{className:ys("recharts-cartesian-axis-tick-line",n0(n,"className"))})))}),Z=te.map((ie,G)=>{var{entry:ee,tick:Ne}=ie,X=Cn(Cn(Cn(Cn({textAnchor:D,verticalAnchor:B},z),{},{stroke:"none",fill:i},I),Ne),{},{index:G,payload:ee,visibleTicksCount:R.length,tickFormatter:l,padding:u},d);return _.createElement(an,d0({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ee.value,"-").concat(ee.coordinate,"-").concat(ee.tickCoord)},oy(C,ee,G)),a&&_.createElement(F2e,{option:a,tickProps:X,value:"".concat(typeof l=="function"?l(ee.value,G):ee.value).concat(o||"")}))});return _.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(M,"-ticks")},Z.length>0&&_.createElement(Cl,{zIndex:vn.label},_.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(M,"-tick-labels"),ref:t},Z)),ue.length>0&&_.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(M,"-tick-lines")},ue))}),U2e=_.forwardRef((e,t)=>{var{axisLine:s,width:a,height:n,className:i,hide:l,ticks:o,axisType:u}=e,d=T2e(e,k2e),[m,f]=_.useState(""),[g,p]=_.useState(""),y=_.useRef(null);_.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var j;return C2e({ticks:y.current,label:(j=e.labelRef)===null||j===void 0?void 0:j.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var v=_.useCallback(j=>{if(j){var N=j.getElementsByClassName("recharts-cartesian-axis-tick-value");y.current=N;var k=N[0];if(k){var w=window.getComputedStyle(k),A=w.fontSize,C=w.letterSpacing;(A!==m||C!==g)&&(f(A),p(C))}}},[m,g]);return l||a!=null&&a<=0||n!=null&&n<=0?null:_.createElement(Cl,{zIndex:e.zIndex},_.createElement(an,{className:ys("recharts-cartesian-axis",i)},_.createElement(R2e,{x:e.x,y:e.y,width:a,height:n,orientation:e.orientation,mirror:e.mirror,axisLine:s,otherSvgProps:_l(e)}),_.createElement(B2e,{ref:v,axisType:u,events:d,fontSize:m,getTicksConfig:e,height:e.height,letterSpacing:g,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),_.createElement(Mye,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},_.createElement(Vye,{label:e.label,labelRef:e.labelRef}),e.children)))}),_k=_.forwardRef((e,t)=>{var s=on(e,nh);return _.createElement(U2e,d0({},s,{ref:t}))});_k.displayName="CartesianAxis";var z2e=["x1","y1","x2","y2","key"],$2e=["offset"],H2e=["xAxisId","yAxisId"],q2e=["xAxisId","yAxisId"];function A7(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Ji(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?A7(Object(s),!0).forEach(function(a){V2e(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):A7(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function V2e(e,t,s){return(t=W2e(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function W2e(e){var t=G2e(e,"string");return typeof t=="symbol"?t:t+""}function G2e(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $f(){return $f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},$f.apply(null,arguments)}function Dj(e,t){if(e==null)return{};var s,a,n=K2e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function K2e(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var Y2e=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:s,x:a,y:n,width:i,height:l,ry:o}=e;return _.createElement("rect",{x:a,y:n,ry:o,width:i,height:l,stroke:"none",fill:t,fillOpacity:s,className:"recharts-cartesian-grid-bg"})};function oq(e){var{option:t,lineItemProps:s}=e,a;if(_.isValidElement(t))a=_.cloneElement(t,s);else if(typeof t=="function")a=t(s);else{var n,{x1:i,y1:l,x2:o,y2:u,key:d}=s,m=Dj(s,z2e),f=(n=_l(m))!==null&&n!==void 0?n:{},{offset:g}=f,p=Dj(f,$2e);a=_.createElement("line",$f({},p,{x1:i,y1:l,x2:o,y2:u,fill:"none",key:d}))}return a}function Z2e(e){var{x:t,width:s,horizontal:a=!0,horizontalPoints:n}=e;if(!a||!n||!n.length)return null;var{xAxisId:i,yAxisId:l}=e,o=Dj(e,H2e),u=n.map((d,m)=>{var f=Ji(Ji({},o),{},{x1:t,y1:d,x2:t+s,y2:d,key:"line-".concat(m),index:m});return _.createElement(oq,{key:"line-".concat(m),option:a,lineItemProps:f})});return _.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function X2e(e){var{y:t,height:s,vertical:a=!0,verticalPoints:n}=e;if(!a||!n||!n.length)return null;var{xAxisId:i,yAxisId:l}=e,o=Dj(e,q2e),u=n.map((d,m)=>{var f=Ji(Ji({},o),{},{x1:d,y1:t,x2:d,y2:t+s,key:"line-".concat(m),index:m});return _.createElement(oq,{option:a,lineItemProps:f,key:"line-".concat(m)})});return _.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function J2e(e){var{horizontalFill:t,fillOpacity:s,x:a,y:n,width:i,height:l,horizontalPoints:o,horizontal:u=!0}=e;if(!u||!t||!t.length||o==null)return null;var d=o.map(f=>Math.round(f+n-n)).sort((f,g)=>f-g);n!==d[0]&&d.unshift(0);var m=d.map((f,g)=>{var p=!d[g+1],y=p?n+l-f:d[g+1]-f;if(y<=0)return null;var v=g%t.length;return _.createElement("rect",{key:"react-".concat(g),y:f,x:a,height:y,width:i,stroke:"none",fill:t[v],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function Q2e(e){var{vertical:t=!0,verticalFill:s,fillOpacity:a,x:n,y:i,width:l,height:o,verticalPoints:u}=e;if(!t||!s||!s.length)return null;var d=u.map(f=>Math.round(f+n-n)).sort((f,g)=>f-g);n!==d[0]&&d.unshift(0);var m=d.map((f,g)=>{var p=!d[g+1],y=p?n+l-f:d[g+1]-f;if(y<=0)return null;var v=g%s.length;return _.createElement("rect",{key:"react-".concat(g),x:f,y:i,width:y,height:o,stroke:"none",fill:s[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var eje=(e,t)=>{var{xAxis:s,width:a,height:n,offset:i}=e;return ez(Sk(Ji(Ji(Ji({},nh),s),{},{ticks:tz(s),viewBox:{x:0,y:0,width:a,height:n}})),i.left,i.left+i.width,t)},tje=(e,t)=>{var{yAxis:s,width:a,height:n,offset:i}=e;return ez(Sk(Ji(Ji(Ji({},nh),s),{},{ticks:tz(s),viewBox:{x:0,y:0,width:a,height:n}})),i.top,i.top+i.height,t)},rje={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:vn.grid};function wc(e){var t=J6(),s=Q6(),a=dz(),n=Ji(Ji({},on(e,rje)),{},{x:Ht(e.x)?e.x:a.left,y:Ht(e.y)?e.y:a.top,width:Ht(e.width)?e.width:a.width,height:Ht(e.height)?e.height:a.height}),{xAxisId:i,yAxisId:l,x:o,y:u,width:d,height:m,syncWithTicks:f,horizontalValues:g,verticalValues:p}=n,y=vi(),v=Jt(B=>gM(B,"xAxis",i,y)),j=Jt(B=>gM(B,"yAxis",l,y));if(!lu(d)||!lu(m)||!Ht(o)||!Ht(u))return null;var N=n.verticalCoordinatesGenerator||eje,k=n.horizontalCoordinatesGenerator||tje,{horizontalPoints:w,verticalPoints:A}=n;if((!w||!w.length)&&typeof k=="function"){var C=g&&g.length,M=k({yAxis:j?Ji(Ji({},j),{},{ticks:C?g:j.ticks}):void 0,width:t??d,height:s??m,offset:a},C?!0:f);ij(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(w=M)}if((!A||!A.length)&&typeof N=="function"){var R=p&&p.length,D=N({xAxis:v?Ji(Ji({},v),{},{ticks:R?p:v.ticks}):void 0,width:t??d,height:s??m,offset:a},R?!0:f);ij(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(A=D)}return _.createElement(Cl,{zIndex:n.zIndex},_.createElement("g",{className:"recharts-cartesian-grid"},_.createElement(Y2e,{fill:n.fill,fillOpacity:n.fillOpacity,x:n.x,y:n.y,width:n.width,height:n.height,ry:n.ry}),_.createElement(J2e,$f({},n,{horizontalPoints:w})),_.createElement(Q2e,$f({},n,{verticalPoints:A})),_.createElement(Z2e,$f({},n,{offset:a,horizontalPoints:w,xAxis:v,yAxis:j})),_.createElement(X2e,$f({},n,{offset:a,verticalPoints:A,xAxis:v,yAxis:j}))))}wc.displayName="CartesianGrid";var sje={},cq=no({name:"errorBars",initialState:sje,reducers:{addErrorBar:(e,t)=>{var{itemId:s,errorBar:a}=t.payload;e[s]||(e[s]=[]),e[s].push(a)},replaceErrorBar:(e,t)=>{var{itemId:s,prev:a,next:n}=t.payload;e[s]&&(e[s]=e[s].map(i=>i.dataKey===a.dataKey&&i.direction===a.direction?n:i))},removeErrorBar:(e,t)=>{var{itemId:s,errorBar:a}=t.payload;e[s]&&(e[s]=e[s].filter(n=>n.dataKey!==a.dataKey||n.direction!==a.direction))}}}),{addErrorBar:eMe,replaceErrorBar:tMe,removeErrorBar:rMe}=cq.actions,aje=cq.reducer,nje=["children"];function ije(e,t){if(e==null)return{};var s,a,n=lje(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function lje(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var oje={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},cje=_.createContext(oje);function dq(e){var{children:t}=e,s=ije(e,nje);return _.createElement(cje.Provider,{value:s},t)}function Aw(e,t){var s,a,n=Jt(d=>Eh(d,e)),i=Jt(d=>Oh(d,t)),l=(s=n?.allowDataOverflow)!==null&&s!==void 0?s:di.allowDataOverflow,o=(a=i?.allowDataOverflow)!==null&&a!==void 0?a:ui.allowDataOverflow,u=l||o;return{needClip:u,needClipX:l,needClipY:o}}function Ak(e){var{xAxisId:t,yAxisId:s,clipPathId:a}=e,n=_w(),{needClipX:i,needClipY:l,needClip:o}=Aw(t,s);if(!o||!n)return null;var{x:u,y:d,width:m,height:f}=n;return _.createElement("clipPath",{id:"clipPath-".concat(a)},_.createElement("rect",{x:i?u:u-m/2,y:l?d:d-f/2,width:i?m:m*2,height:l?f:f*2}))}var uq=(e,t,s,a)=>du(e,"xAxis",t,a),hq=(e,t,s,a)=>cu(e,"xAxis",t,a),mq=(e,t,s,a)=>du(e,"yAxis",s,a),fq=(e,t,s,a)=>cu(e,"yAxis",s,a),dje=Je([Qr,uq,mq,hq,fq],(e,t,s,a,n)=>mu(e,"xAxis")?Mm(t,a,!1):Mm(s,n,!1)),uje=(e,t,s,a,n)=>n;function hje(e){return e.type==="line"}var mje=Je([jy,uje],(e,t)=>e.filter(hje).find(s=>s.id===t)),fje=Je([Qr,uq,mq,hq,fq,mje,dje,_C],(e,t,s,a,n,i,l,o)=>{var{chartData:u,dataStartIndex:d,dataEndIndex:m}=o;if(!(i==null||t==null||s==null||a==null||n==null||a.length===0||n.length===0||l==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:f,data:g}=i,p;if(g!=null&&g.length>0?p=g:p=u?.slice(d,m+1),p!=null)return eNe({layout:e,xAxis:t,yAxis:s,xAxisTicks:a,yAxisTicks:n,dataKey:f,bandSize:l,displayedData:p})}});function pq(e){var t=s0(e),s=3,a=2;if(t!=null){var{r:n,strokeWidth:i}=t,l=Number(n),o=Number(i);return(Number.isNaN(l)||l<0)&&(l=s),(Number.isNaN(o)||o<0)&&(o=a),{r:l,strokeWidth:o}}return{r:s,strokeWidth:a}}var a3={exports:{}},n3={};var C7;function pje(){if(C7)return n3;C7=1;var e=_x();function t(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var s=typeof Object.is=="function"?Object.is:t,a=e.useSyncExternalStore,n=e.useRef,i=e.useEffect,l=e.useMemo,o=e.useDebugValue;return n3.useSyncExternalStoreWithSelector=function(u,d,m,f,g){var p=n(null);if(p.current===null){var y={hasValue:!1,value:null};p.current=y}else y=p.current;p=l(function(){function j(C){if(!N){if(N=!0,k=C,C=f(C),g!==void 0&&y.hasValue){var M=y.value;if(g(M,C))return w=M}return w=C}if(M=w,s(k,C))return M;var R=f(C);return g!==void 0&&g(M,R)?(k=C,M):(k=C,w=R)}var N=!1,k,w,A=m===void 0?null:m;return[function(){return j(d())},A===null?void 0:function(){return j(A())}]},[d,m,f,g]);var v=a(u,p[0],p[1]);return i(function(){y.hasValue=!0,y.value=v},[v]),o(v),v},n3}var k7;function xje(){return k7||(k7=1,a3.exports=pje()),a3.exports}xje();function gje(e){e()}function vje(){let e=null,t=null;return{clear(){e=null,t=null},notify(){gje(()=>{let s=e;for(;s;)s.callback(),s=s.next})},get(){const s=[];let a=e;for(;a;)s.push(a),a=a.next;return s},subscribe(s){let a=!0;const n=t={callback:s,next:null,prev:t};return n.prev?n.prev.next=n:e=n,function(){!a||e===null||(a=!1,n.next?n.next.prev=n.prev:t=n.prev,n.prev?n.prev.next=n.next:e=n.next)}}}}var T7={notify(){},get:()=>[]};function yje(e,t){let s,a=T7,n=0,i=!1;function l(v){m();const j=a.subscribe(v);let N=!1;return()=>{N||(N=!0,j(),f())}}function o(){a.notify()}function u(){y.onStateChange&&y.onStateChange()}function d(){return i}function m(){n++,s||(s=e.subscribe(u),a=vje())}function f(){n--,s&&n===0&&(s(),s=void 0,a.clear(),a=T7)}function g(){i||(i=!0,m())}function p(){i&&(i=!1,f())}const y={addNestedSub:l,notifyNestedSubs:o,handleChangeWrapper:u,isSubscribed:d,trySubscribe:g,tryUnsubscribe:p,getListeners:()=>a};return y}var bje=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jje=bje(),Nje=()=>typeof navigator<"u"&&navigator.product==="ReactNative",wje=Nje(),Sje=()=>jje||wje?_.useLayoutEffect:_.useEffect,_je=Sje();function E7(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Aje(e,t){if(E7(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;for(let n=0;n<s.length;n++)if(!Object.prototype.hasOwnProperty.call(t,s[n])||!E7(e[s[n]],t[s[n]]))return!1;return!0}var Cje=Symbol.for("react-redux-context"),kje=typeof globalThis<"u"?globalThis:{};function Tje(){if(!_.createContext)return{};const e=kje[Cje]??=new Map;let t=e.get(_.createContext);return t||(t=_.createContext(null),e.set(_.createContext,t)),t}var Eje=Tje();function Oje(e){const{children:t,context:s,serverState:a,store:n}=e,i=_.useMemo(()=>{const u=yje(n);return{store:n,subscription:u,getServerState:a?()=>a:void 0}},[n,a]),l=_.useMemo(()=>n.getState(),[n]);_je(()=>{const{subscription:u}=i;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),l!==n.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[i,l]);const o=s||Eje;return _.createElement(o.Provider,{value:i},t)}var Pje=Oje,Dje=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Rje(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Ty(e,t){var s=new Set([...Object.keys(e),...Object.keys(t)]);for(var a of s)if(Dje.has(a)){if(e[a]==null&&t[a]==null)continue;if(!Aje(e[a],t[a]))return!1}else if(!Rje(e[a],t[a]))return!1;return!0}var Mje=["id"],Lje=["type","layout","connectNulls","needClip","shape"],Ije=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function $v(){return $v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},$v.apply(null,arguments)}function O7(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Zd(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?O7(Object(s),!0).forEach(function(a){Fje(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):O7(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Fje(e,t,s){return(t=Bje(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Bje(e){var t=Uje(e,"string");return typeof t=="symbol"?t:t+""}function Uje(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ck(e,t){if(e==null)return{};var s,a,n=zje(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function zje(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var $je=e=>{var{dataKey:t,name:s,stroke:a,legendType:n,hide:i}=e;return[{inactive:i,dataKey:t,type:n,color:a,value:Km(s,t),payload:e}]},Hje=_.memo(e=>{var{dataKey:t,data:s,stroke:a,strokeWidth:n,fill:i,name:l,hide:o,unit:u,tooltipType:d,id:m}=e,f={dataDefinedOnItem:s,positions:void 0,settings:{stroke:a,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:Km(l,t),hide:o,type:d,color:a,unit:u,graphicalItemId:m}};return _.createElement(Nw,{tooltipEntrySettings:f})}),xq=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function qje(e,t){for(var s=e.length%2!==0?[...e,0]:e,a=[],n=0;n<t;++n)a=[...a,...s];return a}var Vje=(e,t,s)=>{var a=s.reduce((f,g)=>f+g);if(!a)return xq(t,e);for(var n=Math.floor(e/a),i=e%a,l=t-e,o=[],u=0,d=0;u<s.length;d+=s[u],++u)if(d+s[u]>i){o=[...s.slice(0,u),i-d];break}var m=o.length%2===0?[0,l]:[l];return[...qje(s,n),...o,...m].map(f=>"".concat(f,"px")).join(", ")};function Wje(e){var{clipPathId:t,points:s,props:a}=e,{dot:n,dataKey:i,needClip:l}=a,{id:o}=a,u=Ck(a,Mje),d=_l(u);return _.createElement(tq,{points:s,dot:n,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:i,baseProps:d,needClip:l,clipPathId:t})}function Gje(e){var{showLabels:t,children:s,points:a}=e,n=_.useMemo(()=>a?.map(i=>{var l,o,u={x:(l=i.x)!==null&&l!==void 0?l:0,y:(o=i.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Zd(Zd({},u),{},{value:i.value,payload:i.payload,viewBox:u,parentViewBox:void 0,fill:void 0})}),[a]);return _.createElement(hk,{value:t?n:void 0},s)}function P7(e){var{clipPathId:t,pathRef:s,points:a,strokeDasharray:n,props:i}=e,{type:l,layout:o,connectNulls:u,needClip:d,shape:m}=i,f=Ck(i,Lje),g=Zd(Zd({},ll(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(t,")"):void 0,points:a,type:l,layout:o,connectNulls:u,strokeDasharray:n??i.strokeDasharray});return _.createElement(_.Fragment,null,a?.length>1&&_.createElement(gk,$v({shapeType:"curve",option:m},g,{pathRef:s})),_.createElement(Wje,{points:a,clipPathId:t,props:i}))}function Kje(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Yje(e){var{clipPathId:t,props:s,pathRef:a,previousPointsRef:n,longestAnimatedLengthRef:i}=e,{points:l,strokeDasharray:o,isAnimationActive:u,animationBegin:d,animationDuration:m,animationEasing:f,animateNewValues:g,width:p,height:y,onAnimationEnd:v,onAnimationStart:j}=s,N=n.current,k=zx(l,"recharts-line-"),w=_.useRef(k),[A,C]=_.useState(!1),M=!A,R=_.useCallback(()=>{typeof v=="function"&&v(),C(!1)},[v]),D=_.useCallback(()=>{typeof j=="function"&&j(),C(!0)},[j]),B=Kje(a.current),z=_.useRef(0);w.current!==k&&(z.current=i.current,w.current=k);var I=z.current;return _.createElement(Gje,{points:l,showLabels:M},s.children,_.createElement(Ux,{animationId:k,begin:d,duration:m,isActive:u,easing:f,onAnimationEnd:R,onAnimationStart:D,key:k},F=>{var Y=Rs(I,B+I,F),te=Math.min(Y,B),ue;if(u)if(o){var Z="".concat(o).split(/[,\s]+/gim).map(ee=>parseFloat(ee));ue=Vje(te,B,Z)}else ue=xq(B,te);else ue=o==null?void 0:String(o);if(F>0&&B>0&&(n.current=l,i.current=Math.max(i.current,te)),N){var ie=N.length/l.length,G=F===1?l:l.map((ee,Ne)=>{var X=Math.floor(Ne*ie);if(N[X]){var P=N[X];return Zd(Zd({},ee),{},{x:Rs(P.x,ee.x,F),y:Rs(P.y,ee.y,F)})}return g?Zd(Zd({},ee),{},{x:Rs(p*2,ee.x,F),y:Rs(y/2,ee.y,F)}):Zd(Zd({},ee),{},{x:ee.x,y:ee.y})});return n.current=G,_.createElement(P7,{props:s,points:G,clipPathId:t,pathRef:a,strokeDasharray:ue})}return _.createElement(P7,{props:s,points:l,clipPathId:t,pathRef:a,strokeDasharray:ue})}),_.createElement(yw,{label:s.label}))}function Zje(e){var{clipPathId:t,props:s}=e,a=_.useRef(null),n=_.useRef(0),i=_.useRef(null);return _.createElement(Yje,{props:s,clipPathId:t,previousPointsRef:a,longestAnimatedLengthRef:n,pathRef:i})}var Xje=(e,t)=>{var s,a;return{x:(s=e.x)!==null&&s!==void 0?s:void 0,y:(a=e.y)!==null&&a!==void 0?a:void 0,value:e.value,errorVal:Ms(e.payload,t)}};class Jje extends _.Component{render(){var{hide:t,dot:s,points:a,className:n,xAxisId:i,yAxisId:l,top:o,left:u,width:d,height:m,id:f,needClip:g,zIndex:p}=this.props;if(t)return null;var y=ys("recharts-line",n),v=f,{r:j,strokeWidth:N}=pq(s),k=xk(s),w=j*2+N,A=g?"url(#clipPath-".concat(k?"":"dots-").concat(v,")"):void 0;return _.createElement(Cl,{zIndex:p},_.createElement(an,{className:y},g&&_.createElement("defs",null,_.createElement(Ak,{clipPathId:v,xAxisId:i,yAxisId:l}),!k&&_.createElement("clipPath",{id:"clipPath-dots-".concat(v)},_.createElement("rect",{x:u-w/2,y:o-w/2,width:d+w,height:m+w}))),_.createElement(dq,{xAxisId:i,yAxisId:l,data:a,dataPointFormatter:Xje,errorBarOffset:0},_.createElement(Zje,{props:this.props,clipPathId:v}))),_.createElement(jA,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:A}))}}var gq={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:vn.line,type:"linear"};function Qje(e){var t=on(e,gq),{activeDot:s,animateNewValues:a,animationBegin:n,animationDuration:i,animationEasing:l,connectNulls:o,dot:u,hide:d,isAnimationActive:m,label:f,legendType:g,xAxisId:p,yAxisId:y,id:v}=t,j=Ck(t,Ije),{needClip:N}=Aw(p,y),k=_w(),w=Ym(),A=vi(),C=Jt(z=>fje(z,p,y,A,v));if(w!=="horizontal"&&w!=="vertical"||C==null||k==null)return null;var{height:M,width:R,x:D,y:B}=k;return _.createElement(Jje,$v({},j,{id:v,connectNulls:o,dot:u,activeDot:s,animateNewValues:a,animationBegin:n,animationDuration:i,animationEasing:l,isAnimationActive:m,hide:d,label:f,legendType:g,xAxisId:p,yAxisId:y,points:C,layout:w,height:M,width:R,left:D,top:B,needClip:N}))}function eNe(e){var{layout:t,xAxis:s,yAxis:a,xAxisTicks:n,yAxisTicks:i,dataKey:l,bandSize:o,displayedData:u}=e;return u.map((d,m)=>{var f=Ms(d,l);if(t==="horizontal"){var g=nj({axis:s,ticks:n,bandSize:o,entry:d,index:m}),p=Sa(f)?null:a.scale(f);return{x:g,y:p,value:f,payload:d}}var y=Sa(f)?null:s.scale(f),v=nj({axis:a,ticks:i,bandSize:o,entry:d,index:m});return y==null||v==null?null:{x:y,y:v,value:f,payload:d}}).filter(Boolean)}function tNe(e){var t=on(e,gq),s=vi();return _.createElement(ww,{id:t.id,type:"line"},a=>_.createElement(_.Fragment,null,_.createElement(jk,{legendPayload:$je(t)}),_.createElement(Hje,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:a}),_.createElement(Nk,{type:"line",id:a,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:s}),_.createElement(Qje,$v({},t,{id:a}))))}var Bm=_.memo(tNe,Ty);Bm.displayName="Line";function fu(e,t){var s,a;return(s=(a=e.graphicalItems.cartesianItems.find(n=>n.id===t))===null||a===void 0?void 0:a.xAxisId)!==null&&s!==void 0?s:rq}function pu(e,t){var s,a;return(s=(a=e.graphicalItems.cartesianItems.find(n=>n.id===t))===null||a===void 0?void 0:a.yAxisId)!==null&&s!==void 0?s:rq}var vq=(e,t,s)=>du(e,"xAxis",fu(e,t),s),yq=(e,t,s)=>cu(e,"xAxis",fu(e,t),s),bq=(e,t,s)=>du(e,"yAxis",pu(e,t),s),jq=(e,t,s)=>cu(e,"yAxis",pu(e,t),s),rNe=Je([Qr,vq,bq,yq,jq],(e,t,s,a,n)=>mu(e,"xAxis")?Mm(t,a,!1):Mm(s,n,!1)),sNe=(e,t)=>t,Nq=Je([jy,sNe],(e,t)=>e.filter(s=>s.type==="area").find(s=>s.id===t)),wq=e=>{var t=Qr(e),s=mu(t,"xAxis");return s?"yAxis":"xAxis"},aNe=(e,t)=>{var s=wq(e);return s==="yAxis"?pu(e,t):fu(e,t)},nNe=(e,t,s)=>Aj(e,wq(e),aNe(e,t),s),iNe=Je([Nq,nNe],(e,t)=>{var s;if(!(e==null||t==null)){var{stackId:a}=e,n=ow(e);if(!(a==null||n==null)){var i=(s=t[a])===null||s===void 0?void 0:s.stackedData,l=i?.find(o=>o.key===n);if(l!=null)return l.map(o=>[o[0],o[1]])}}}),lNe=Je([Qr,vq,bq,yq,jq,iNe,h$,rNe,Nq,Ipe],(e,t,s,a,n,i,l,o,u,d)=>{var{chartData:m,dataStartIndex:f,dataEndIndex:g}=l;if(!(u==null||e!=="horizontal"&&e!=="vertical"||t==null||s==null||a==null||n==null||a.length===0||n.length===0||o==null)){var{data:p}=u,y;if(p&&p.length>0?y=p:y=m?.slice(f,g+1),y!=null)return ANe({layout:e,xAxis:t,yAxis:s,xAxisTicks:a,yAxisTicks:n,dataStartIndex:f,areaSettings:u,stackedData:i,displayedData:y,chartBaseValue:d,bandSize:o})}}),oNe=["id"],cNe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Yf(){return Yf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Yf.apply(null,arguments)}function Sq(e,t){if(e==null)return{};var s,a,n=dNe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function dNe(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function D7(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Hp(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?D7(Object(s),!0).forEach(function(a){uNe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):D7(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function uNe(e,t,s){return(t=hNe(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function hNe(e){var t=mNe(e,"string");return typeof t=="symbol"?t:t+""}function mNe(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rj(e,t){return e&&e!=="none"?e:t}var fNe=e=>{var{dataKey:t,name:s,stroke:a,fill:n,legendType:i,hide:l}=e;return[{inactive:l,dataKey:t,type:i,color:Rj(a,n),value:Km(s,t),payload:e}]},pNe=_.memo(e=>{var{dataKey:t,data:s,stroke:a,strokeWidth:n,fill:i,name:l,hide:o,unit:u,tooltipType:d,id:m}=e,f={dataDefinedOnItem:s,positions:void 0,settings:{stroke:a,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:Km(l,t),hide:o,type:d,color:Rj(a,i),unit:u,graphicalItemId:m}};return _.createElement(Nw,{tooltipEntrySettings:f})});function xNe(e){var{clipPathId:t,points:s,props:a}=e,{needClip:n,dot:i,dataKey:l}=a,o=_l(a);return _.createElement(tq,{points:s,dot:i,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:l,baseProps:o,needClip:n,clipPathId:t})}function gNe(e){var{showLabels:t,children:s,points:a}=e,n=a.map(i=>{var l,o,u={x:(l=i.x)!==null&&l!==void 0?l:0,y:(o=i.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Hp(Hp({},u),{},{value:i.value,payload:i.payload,parentViewBox:void 0,viewBox:u,fill:void 0})});return _.createElement(hk,{value:t?n:void 0},s)}function R7(e){var{points:t,baseLine:s,needClip:a,clipPathId:n,props:i}=e,{layout:l,type:o,stroke:u,connectNulls:d,isRange:m}=i,{id:f}=i,g=Sq(i,oNe),p=_l(g),y=ll(g);return _.createElement(_.Fragment,null,t?.length>1&&_.createElement(an,{clipPath:a?"url(#clipPath-".concat(n,")"):void 0},_.createElement(Qp,Yf({},y,{id:f,points:t,connectNulls:d,type:o,baseLine:s,layout:l,stroke:"none",className:"recharts-area-area"})),u!=="none"&&_.createElement(Qp,Yf({},p,{className:"recharts-area-curve",layout:l,type:o,connectNulls:d,fill:"none",points:t})),u!=="none"&&m&&_.createElement(Qp,Yf({},p,{className:"recharts-area-curve",layout:l,type:o,connectNulls:d,fill:"none",points:s}))),_.createElement(xNe,{points:t,props:g,clipPathId:n}))}function vNe(e){var t,s,{alpha:a,baseLine:n,points:i,strokeWidth:l}=e,o=(t=i[0])===null||t===void 0?void 0:t.y,u=(s=i[i.length-1])===null||s===void 0?void 0:s.y;if(!ca(o)||!ca(u))return null;var d=a*Math.abs(o-u),m=Math.max(...i.map(f=>f.x||0));return Ht(n)?m=Math.max(n,m):n&&Array.isArray(n)&&n.length&&(m=Math.max(...n.map(f=>f.x||0),m)),Ht(m)?_.createElement("rect",{x:0,y:o<u?o:o-d,width:m+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}function yNe(e){var t,s,{alpha:a,baseLine:n,points:i,strokeWidth:l}=e,o=(t=i[0])===null||t===void 0?void 0:t.x,u=(s=i[i.length-1])===null||s===void 0?void 0:s.x;if(!ca(o)||!ca(u))return null;var d=a*Math.abs(o-u),m=Math.max(...i.map(f=>f.y||0));return Ht(n)?m=Math.max(n,m):n&&Array.isArray(n)&&n.length&&(m=Math.max(...n.map(f=>f.y||0),m)),Ht(m)?_.createElement("rect",{x:o<u?o:o-d,y:0,width:d,height:Math.floor(m+(l?parseInt("".concat(l),10):1))}):null}function bNe(e){var{alpha:t,layout:s,points:a,baseLine:n,strokeWidth:i}=e;return s==="vertical"?_.createElement(vNe,{alpha:t,points:a,baseLine:n,strokeWidth:i}):_.createElement(yNe,{alpha:t,points:a,baseLine:n,strokeWidth:i})}function jNe(e){var{needClip:t,clipPathId:s,props:a,previousPointsRef:n,previousBaselineRef:i}=e,{points:l,baseLine:o,isAnimationActive:u,animationBegin:d,animationDuration:m,animationEasing:f,onAnimationStart:g,onAnimationEnd:p}=a,y=_.useMemo(()=>({points:l,baseLine:o}),[l,o]),v=zx(y,"recharts-area-"),j=ehe(),[N,k]=_.useState(!1),w=!N,A=_.useCallback(()=>{typeof p=="function"&&p(),k(!1)},[p]),C=_.useCallback(()=>{typeof g=="function"&&g(),k(!0)},[g]);if(j==null)return null;var M=n.current,R=i.current;return _.createElement(gNe,{showLabels:w,points:l},a.children,_.createElement(Ux,{animationId:v,begin:d,duration:m,isActive:u,easing:f,onAnimationEnd:A,onAnimationStart:C,key:v},D=>{if(M){var B=M.length/l.length,z=D===1?l:l.map((F,Y)=>{var te=Math.floor(Y*B);if(M[te]){var ue=M[te];return Hp(Hp({},F),{},{x:Rs(ue.x,F.x,D),y:Rs(ue.y,F.y,D)})}return F}),I;return Ht(o)?I=Rs(R,o,D):Sa(o)||bc(o)?I=Rs(R,0,D):I=o.map((F,Y)=>{var te=Math.floor(Y*B);if(Array.isArray(R)&&R[te]){var ue=R[te];return Hp(Hp({},F),{},{x:Rs(ue.x,F.x,D),y:Rs(ue.y,F.y,D)})}return F}),D>0&&(n.current=z,i.current=I),_.createElement(R7,{points:z,baseLine:I,needClip:t,clipPathId:s,props:a})}return D>0&&(n.current=l,i.current=o),_.createElement(an,null,u&&_.createElement("defs",null,_.createElement("clipPath",{id:"animationClipPath-".concat(s)},_.createElement(bNe,{alpha:D,points:l,baseLine:o,layout:j,strokeWidth:a.strokeWidth}))),_.createElement(an,{clipPath:"url(#animationClipPath-".concat(s,")")},_.createElement(R7,{points:l,baseLine:o,needClip:t,clipPathId:s,props:a})))}),_.createElement(yw,{label:a.label}))}function NNe(e){var{needClip:t,clipPathId:s,props:a}=e,n=_.useRef(null),i=_.useRef();return _.createElement(jNe,{needClip:t,clipPathId:s,props:a,previousPointsRef:n,previousBaselineRef:i})}class wNe extends _.PureComponent{render(){var{hide:t,dot:s,points:a,className:n,top:i,left:l,needClip:o,xAxisId:u,yAxisId:d,width:m,height:f,id:g,baseLine:p,zIndex:y}=this.props;if(t)return null;var v=ys("recharts-area",n),j=g,{r:N,strokeWidth:k}=pq(s),w=xk(s),A=N*2+k,C=o?"url(#clipPath-".concat(w?"":"dots-").concat(j,")"):void 0;return _.createElement(Cl,{zIndex:y},_.createElement(an,{className:v},o&&_.createElement("defs",null,_.createElement(Ak,{clipPathId:j,xAxisId:u,yAxisId:d}),!w&&_.createElement("clipPath",{id:"clipPath-dots-".concat(j)},_.createElement("rect",{x:l-A/2,y:i-A/2,width:m+A,height:f+A}))),_.createElement(NNe,{needClip:o,clipPathId:j,props:this.props})),_.createElement(jA,{points:a,mainColor:Rj(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:C}),this.props.isRange&&Array.isArray(p)&&_.createElement(jA,{points:p,mainColor:Rj(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:C}))}}var _q={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:vn.area};function SNe(e){var t,s=on(e,_q),{activeDot:a,animationBegin:n,animationDuration:i,animationEasing:l,connectNulls:o,dot:u,fill:d,fillOpacity:m,hide:f,isAnimationActive:g,legendType:p,stroke:y,xAxisId:v,yAxisId:j}=s,N=Sq(s,cNe),k=Ym(),w=kH(),{needClip:A}=Aw(v,j),C=vi(),{points:M,isRange:R,baseLine:D}=(t=Jt(te=>lNe(te,e.id,C)))!==null&&t!==void 0?t:{},B=_w();if(k!=="horizontal"&&k!=="vertical"||B==null||w!=="AreaChart"&&w!=="ComposedChart")return null;var{height:z,width:I,x:F,y:Y}=B;return!M||!M.length?null:_.createElement(wNe,Yf({},N,{activeDot:a,animationBegin:n,animationDuration:i,animationEasing:l,baseLine:D,connectNulls:o,dot:u,fill:d,fillOpacity:m,height:z,hide:f,layout:k,isAnimationActive:g==="auto"?!my.isSsr:g,isRange:R,legendType:p,needClip:A,points:M,stroke:y,width:I,left:F,top:Y,xAxisId:v,yAxisId:j}))}var _Ne=(e,t,s,a,n)=>{var i=s??t;if(Ht(i))return i;var l=e==="horizontal"?n:a,o=l.scale.domain();if(l.type==="number"){var u=Math.max(o[0],o[1]),d=Math.min(o[0],o[1]);return i==="dataMin"?d:i==="dataMax"||u<0?u:Math.max(Math.min(o[0],o[1]),0)}return i==="dataMin"?o[0]:i==="dataMax"?o[1]:o[0]};function ANe(e){var{areaSettings:{connectNulls:t,baseValue:s,dataKey:a},stackedData:n,layout:i,chartBaseValue:l,xAxis:o,yAxis:u,displayedData:d,dataStartIndex:m,xAxisTicks:f,yAxisTicks:g,bandSize:p}=e,y=n&&n.length,v=_Ne(i,l,s,o,u),j=i==="horizontal",N=!1,k=d.map((A,C)=>{var M,R,D;if(y)D=n[m+C];else{var B=Ms(A,a);Array.isArray(B)?(D=B,N=!0):D=[v,B]}var z=(M=(R=D)===null||R===void 0?void 0:R[1])!==null&&M!==void 0?M:null,I=z==null||y&&!t&&Ms(A,a)==null;return j?{x:nj({axis:o,ticks:f,bandSize:p,entry:A,index:C}),y:I?null:u.scale(z),value:D,payload:A}:{x:I?null:o.scale(z),y:nj({axis:u,ticks:g,bandSize:p,entry:A,index:C}),value:D,payload:A}}),w;return y||N?w=k.map(A=>{var C=Array.isArray(A.value)?A.value[0]:null;return j?{x:A.x,y:C!=null&&A.y!=null?u.scale(C):null,payload:A.payload}:{x:C!=null?o.scale(C):null,y:A.y,payload:A.payload}}):w=j?u.scale(v):o.scale(v),{points:k,baseLine:w,isRange:N}}function CNe(e){var t=on(e,_q),s=vi();return _.createElement(ww,{id:t.id,type:"area"},a=>_.createElement(_.Fragment,null,_.createElement(jk,{legendPayload:fNe(t)}),_.createElement(pNe,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:a}),_.createElement(Nk,{type:"area",id:a,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:rz(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:s,connectNulls:t.connectNulls}),_.createElement(SNe,Yf({},t,{id:a}))))}var Aq=_.memo(CNe,Ty);Aq.displayName="Area";var kNe="Invariant failed";function TNe(e,t){throw new Error(kNe)}function NA(){return NA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},NA.apply(null,arguments)}function Mj(e){return _.createElement(gk,NA({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var ENe=function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(a,n)=>{if(Ht(t))return t;var i=Ht(a)||Sa(a);return i?t(a,n):(i||TNe(),s)}},ONe=(e,t,s)=>s,PNe=(e,t)=>t,Ey=Je([jy,PNe],(e,t)=>e.filter(s=>s.type==="bar").find(s=>s.id===t)),DNe=Je([Ey],e=>e?.maxBarSize),RNe=(e,t,s,a)=>a,MNe=Je([Qr,jy,fu,pu,ONe],(e,t,s,a,n)=>t.filter(i=>e==="horizontal"?i.xAxisId===s:i.yAxisId===a).filter(i=>i.isPanorama===n).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),LNe=(e,t,s)=>{var a=Qr(e),n=fu(e,t),i=pu(e,t);if(!(n==null||i==null))return a==="horizontal"?Aj(e,"yAxis",i,s):Aj(e,"xAxis",n,s)},INe=(e,t)=>{var s=Qr(e),a=fu(e,t),n=pu(e,t);if(!(a==null||n==null))return s==="horizontal"?xM(e,"xAxis",a):xM(e,"yAxis",n)},FNe=Je([MNe,Lpe,INe],Q1e),BNe=(e,t,s)=>{var a,n,i=Ey(e,t);if(i!=null){var l=fu(e,t),o=pu(e,t);if(!(l==null||o==null)){var u=Qr(e),d=C$(e),{maxBarSize:m}=i,f=Sa(m)?d:m,g,p;return u==="horizontal"?(g=du(e,"xAxis",l,s),p=cu(e,"xAxis",l,s)):(g=du(e,"yAxis",o,s),p=cu(e,"yAxis",o,s)),(a=(n=Mm(g,p,!0))!==null&&n!==void 0?n:f)!==null&&a!==void 0?a:0}}},Cq=(e,t,s)=>{var a=Qr(e),n=fu(e,t),i=pu(e,t);if(!(n==null||i==null)){var l,o;return a==="horizontal"?(l=du(e,"xAxis",n,s),o=cu(e,"xAxis",n,s)):(l=du(e,"yAxis",i,s),o=cu(e,"yAxis",i,s)),Mm(l,o)}},UNe=Je([FNe,C$,Mpe,k$,BNe,Cq,DNe],a2e),zNe=(e,t,s)=>{var a=fu(e,t);if(a!=null)return du(e,"xAxis",a,s)},$Ne=(e,t,s)=>{var a=pu(e,t);if(a!=null)return du(e,"yAxis",a,s)},HNe=(e,t,s)=>{var a=fu(e,t);if(a!=null)return cu(e,"xAxis",a,s)},qNe=(e,t,s)=>{var a=pu(e,t);if(a!=null)return cu(e,"yAxis",a,s)},VNe=Je([UNe,Ey],(e,t)=>{if(!(e==null||t==null)){var s=e.find(a=>a.stackId===t.stackId&&t.dataKey!=null&&a.dataKeys.includes(t.dataKey));if(s!=null)return s.position}}),WNe=Je([LNe,Ey],n2e),GNe=Je([ei,Z6,zNe,$Ne,HNe,qNe,VNe,Qr,h$,Cq,WNe,Ey,RNe],(e,t,s,a,n,i,l,o,u,d,m,f,g)=>{var{chartData:p,dataStartIndex:y,dataEndIndex:v}=u;if(!(f==null||l==null||t==null||o!=="horizontal"&&o!=="vertical"||s==null||a==null||n==null||i==null||d==null)){var{data:j}=f,N;if(j!=null&&j.length>0?N=j:N=p?.slice(y,v+1),N!=null)return Nwe({layout:o,barSettings:f,pos:l,parentViewBox:t,bandSize:d,xAxis:s,yAxis:a,xAxisTicks:n,yAxisTicks:i,stackedData:m,displayedData:N,offset:e,cells:g,dataStartIndex:y})}}),KNe=["index"];function wA(){return wA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},wA.apply(null,arguments)}function YNe(e,t){if(e==null)return{};var s,a,n=ZNe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function ZNe(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var kq=_.createContext(void 0),XNe=e=>{var t=_.useContext(kq);if(t!=null)return t.stackId;if(e!=null)return rz(e)},JNe=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),QNe=e=>{var t=_.useContext(kq);if(t!=null){var{stackId:s}=t;return"url(#".concat(JNe(s,e),")")}},ewe=e=>{var{index:t}=e,s=YNe(e,KNe),a=QNe(t);return _.createElement(an,wA({className:"recharts-bar-stack-layer",clipPath:a},s))},twe=["onMouseEnter","onMouseLeave","onClick"],rwe=["value","background","tooltipPosition"],swe=["id"],awe=["onMouseEnter","onClick","onMouseLeave"];function bh(){return bh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},bh.apply(null,arguments)}function M7(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function yl(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?M7(Object(s),!0).forEach(function(a){nwe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):M7(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function nwe(e,t,s){return(t=iwe(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function iwe(e){var t=lwe(e,"string");return typeof t=="symbol"?t:t+""}function lwe(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lj(e,t){if(e==null)return{};var s,a,n=owe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function owe(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var cwe=e=>{var{dataKey:t,name:s,fill:a,legendType:n,hide:i}=e;return[{inactive:i,dataKey:t,type:n,color:a,value:Km(s,t),payload:e}]},dwe=_.memo(e=>{var{dataKey:t,stroke:s,strokeWidth:a,fill:n,name:i,hide:l,unit:o,tooltipType:u,id:d}=e,m={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:s,strokeWidth:a,fill:n,dataKey:t,nameKey:void 0,name:Km(i,t),hide:l,type:u,color:n,unit:o,graphicalItemId:d}};return _.createElement(Nw,{tooltipEntrySettings:m})});function uwe(e){var t=Jt(Im),{data:s,dataKey:a,background:n,allOtherBarProps:i}=e,{onMouseEnter:l,onMouseLeave:o,onClick:u}=i,d=Lj(i,twe),m=vk(l,a,i.id),f=yk(o),g=bk(u,a,i.id);if(!n||s==null)return null;var p=s0(n);return _.createElement(Cl,{zIndex:i2e(n,vn.barBackground)},s.map((y,v)=>{var{value:j,background:N,tooltipPosition:k}=y,w=Lj(y,rwe);if(!N)return null;var A=m(y,v),C=f(y,v),M=g(y,v),R=yl(yl(yl(yl(yl({option:n,isActive:String(v)===t},w),{},{fill:"#eee"},N),p),oy(d,y,v)),{},{onMouseEnter:A,onMouseLeave:C,onClick:M,dataKey:a,index:v,className:"recharts-bar-background-rectangle"});return _.createElement(Mj,bh({key:"background-bar-".concat(v)},R))}))}function hwe(e){var{showLabels:t,children:s,rects:a}=e,n=a?.map(i=>{var l={x:i.x,y:i.y,width:i.width,lowerWidth:i.width,upperWidth:i.width,height:i.height};return yl(yl({},l),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:l,fill:i.fill})});return _.createElement(hk,{value:t?n:void 0},s)}function mwe(e){var{shape:t,activeBar:s,baseProps:a,entry:n,index:i,dataKey:l}=e,o=Jt(Im),u=Jt(ik),d=s&&String(i)===o&&(u==null||l===u),m=d?s:t;return d?_.createElement(Cl,{zIndex:vn.activeBar},_.createElement(Mj,bh({},a,{name:String(a.name)},n,{isActive:d,option:m,index:i,dataKey:l}))):_.createElement(Mj,bh({},a,{name:String(a.name)},n,{isActive:d,option:m,index:i,dataKey:l}))}function fwe(e){var{shape:t,baseProps:s,entry:a,index:n,dataKey:i}=e;return _.createElement(Mj,bh({},s,{name:String(s.name)},a,{isActive:!1,option:t,index:n,dataKey:i}))}function pwe(e){var t,{data:s,props:a}=e,n=(t=_l(a))!==null&&t!==void 0?t:{},{id:i}=n,l=Lj(n,swe),{shape:o,dataKey:u,activeBar:d}=a,{onMouseEnter:m,onClick:f,onMouseLeave:g}=a,p=Lj(a,awe),y=vk(m,u,i),v=yk(g),j=bk(f,u,i);return s?_.createElement(_.Fragment,null,s.map((N,k)=>_.createElement(ewe,bh({index:k,key:"rectangle-".concat(N?.x,"-").concat(N?.y,"-").concat(N?.value,"-").concat(k),className:"recharts-bar-rectangle"},oy(p,N,k),{onMouseEnter:y(N,k),onMouseLeave:v(N,k),onClick:j(N,k)}),d?_.createElement(mwe,{shape:o,activeBar:d,baseProps:l,entry:N,index:k,dataKey:u}):_.createElement(fwe,{shape:o,baseProps:l,entry:N,index:k,dataKey:u})))):null}function xwe(e){var{props:t,previousRectanglesRef:s}=e,{data:a,layout:n,isAnimationActive:i,animationBegin:l,animationDuration:o,animationEasing:u,onAnimationEnd:d,onAnimationStart:m}=t,f=s.current,g=zx(t,"recharts-bar-"),[p,y]=_.useState(!1),v=!p,j=_.useCallback(()=>{typeof d=="function"&&d(),y(!1)},[d]),N=_.useCallback(()=>{typeof m=="function"&&m(),y(!0)},[m]);return _.createElement(hwe,{showLabels:v,rects:a},_.createElement(Ux,{animationId:g,begin:l,duration:o,isActive:i,easing:u,onAnimationEnd:j,onAnimationStart:N,key:g},k=>{var w=k===1?a:a?.map((A,C)=>{var M=f&&f[C];if(M)return yl(yl({},A),{},{x:Rs(M.x,A.x,k),y:Rs(M.y,A.y,k),width:Rs(M.width,A.width,k),height:Rs(M.height,A.height,k)});if(n==="horizontal"){var R=Rs(0,A.height,k),D=Rs(A.stackedBarStart,A.y,k);return yl(yl({},A),{},{y:D,height:R})}var B=Rs(0,A.width,k),z=Rs(A.stackedBarStart,A.x,k);return yl(yl({},A),{},{width:B,x:z})});return k>0&&(s.current=w??null),w==null?null:_.createElement(an,null,_.createElement(pwe,{props:t,data:w}))}),_.createElement(yw,{label:t.label}),t.children)}function gwe(e){var t=_.useRef(null);return _.createElement(xwe,{previousRectanglesRef:t,props:e})}var Tq=0,vwe=(e,t)=>{var s=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:s,errorVal:Ms(e,t)}};class ywe extends _.PureComponent{render(){var{hide:t,data:s,dataKey:a,className:n,xAxisId:i,yAxisId:l,needClip:o,background:u,id:d}=this.props;if(t||s==null)return null;var m=ys("recharts-bar",n),f=d;return _.createElement(an,{className:m,id:d},o&&_.createElement("defs",null,_.createElement(Ak,{clipPathId:f,xAxisId:i,yAxisId:l})),_.createElement(an,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(f,")"):void 0},_.createElement(uwe,{data:s,dataKey:a,background:u,allOtherBarProps:this.props}),_.createElement(gwe,this.props)))}}var bwe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:Tq,xAxisId:0,yAxisId:0,zIndex:vn.bar};function jwe(e){var{xAxisId:t,yAxisId:s,hide:a,legendType:n,minPointSize:i,activeBar:l,animationBegin:o,animationDuration:u,animationEasing:d,isAnimationActive:m}=e,{needClip:f}=Aw(t,s),g=Ym(),p=vi(),y=pk(e.children,Jm),v=Jt(k=>GNe(k,e.id,p,y));if(g!=="vertical"&&g!=="horizontal")return null;var j,N=v?.[0];return N==null||N.height==null||N.width==null?j=0:j=g==="vertical"?N.height/2:N.width/2,_.createElement(dq,{xAxisId:t,yAxisId:s,data:v,dataPointFormatter:vwe,errorBarOffset:j},_.createElement(ywe,bh({},e,{layout:g,needClip:f,data:v,xAxisId:t,yAxisId:s,hide:a,legendType:n,minPointSize:i,activeBar:l,animationBegin:o,animationDuration:u,animationEasing:d,isAnimationActive:m})))}function Nwe(e){var{layout:t,barSettings:{dataKey:s,minPointSize:a},pos:n,bandSize:i,xAxis:l,yAxis:o,xAxisTicks:u,yAxisTicks:d,stackedData:m,displayedData:f,offset:g,cells:p,parentViewBox:y,dataStartIndex:v}=e,j=t==="horizontal"?o:l,N=m?j.scale.domain():null,k=vue({numericAxis:j}),w=j.scale(k);return f.map((A,C)=>{var M,R,D,B,z,I;if(m){var F=m[C+v];if(F==null)return null;M=mue(F,N)}else M=Ms(A,s),Array.isArray(M)||(M=[k,M]);var Y=ENe(a,Tq)(M[1],C);if(t==="horizontal"){var te,[ue,Z]=[o.scale(M[0]),o.scale(M[1])];R=bD({axis:l,ticks:u,bandSize:i,offset:n.offset,entry:A,index:C}),D=(te=Z??ue)!==null&&te!==void 0?te:void 0,B=n.size;var ie=ue-Z;if(z=bc(ie)?0:ie,I={x:R,y:g.top,width:B,height:g.height},Math.abs(Y)>0&&Math.abs(z)<Math.abs(Y)){var G=pi(z||Y)*(Math.abs(Y)-Math.abs(z));D-=G,z+=G}}else{var[ee,Ne]=[l.scale(M[0]),l.scale(M[1])];if(R=ee,D=bD({axis:o,ticks:d,bandSize:i,offset:n.offset,entry:A,index:C}),B=Ne-ee,z=n.size,I={x:g.left,y:D,width:g.width,height:z},Math.abs(Y)>0&&Math.abs(B)<Math.abs(Y)){var X=pi(B||Y)*(Math.abs(Y)-Math.abs(B));B+=X}}if(R==null||D==null||B==null||z==null)return null;var P=yl(yl({},A),{},{stackedBarStart:w,x:R,y:D,width:B,height:z,value:m?M:M[1],payload:A,background:I,tooltipPosition:{x:R+B/2,y:D+z/2},parentViewBox:y},p&&p[C]&&p[C].props);return P}).filter(Boolean)}function wwe(e){var t=on(e,bwe),s=XNe(t.stackId),a=vi();return _.createElement(ww,{id:t.id,type:"bar"},n=>_.createElement(_.Fragment,null,_.createElement(jk,{legendPayload:cwe(t)}),_.createElement(dwe,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),_.createElement(Nk,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:s,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:a}),_.createElement(Cl,{zIndex:t.zIndex},_.createElement(jwe,bh({},t,{id:n})))))}var tu=_.memo(wwe,Ty);tu.displayName="Bar";var Swe=["domain","range"],_we=["domain","range"];function L7(e,t){if(e==null)return{};var s,a,n=Awe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Awe(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function I7(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function Eq(e,t){if(e===t)return!0;var{domain:s,range:a}=e,n=L7(e,Swe),{domain:i,range:l}=t,o=L7(t,_we);return!I7(s,i)||!I7(a,l)?!1:Ty(n,o)}var Cwe=["dangerouslySetInnerHTML","ticks","scale"],kwe=["id","scale"];function SA(){return SA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},SA.apply(null,arguments)}function F7(e,t){if(e==null)return{};var s,a,n=Twe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Twe(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function Ewe(e){var t=fa(),s=_.useRef(null);return _.useLayoutEffect(()=>{s.current===null?t(F1e(e)):s.current!==e&&t(B1e({prev:s.current,next:e})),s.current=e},[e,t]),_.useLayoutEffect(()=>()=>{s.current&&(t(U1e(s.current)),s.current=null)},[t]),null}var Owe=e=>{var{xAxisId:t,className:s}=e,a=Jt(Z6),n=vi(),i="xAxis",l=Jt(N=>iH(N,i,t,n)),o=Jt(N=>rH(N,t)),u=Jt(N=>Rxe(N,t)),d=Jt(N=>I$(N,t));if(o==null||u==null||d==null)return null;var{dangerouslySetInnerHTML:m,ticks:f,scale:g}=e,p=F7(e,Cwe),{id:y,scale:v}=d,j=F7(d,kwe);return _.createElement(_k,SA({},p,j,{x:u.x,y:u.y,width:o.width,height:o.height,className:ys("recharts-".concat(i," ").concat(i),s),viewBox:a,ticks:l,axisType:i}))},Pwe={allowDataOverflow:di.allowDataOverflow,allowDecimals:di.allowDecimals,allowDuplicatedCategory:di.allowDuplicatedCategory,angle:di.angle,axisLine:nh.axisLine,height:di.height,hide:!1,includeHidden:di.includeHidden,interval:di.interval,minTickGap:di.minTickGap,mirror:di.mirror,orientation:di.orientation,padding:di.padding,reversed:di.reversed,scale:di.scale,tick:di.tick,tickCount:di.tickCount,tickLine:nh.tickLine,tickSize:nh.tickSize,type:di.type,xAxisId:0},Dwe=e=>{var t=on(e,Pwe);return _.createElement(_.Fragment,null,_.createElement(Ewe,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),_.createElement(Owe,t))},Sc=_.memo(Dwe,Eq);Sc.displayName="XAxis";var Rwe=["dangerouslySetInnerHTML","ticks","scale"],Mwe=["id","scale"];function _A(){return _A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},_A.apply(null,arguments)}function B7(e,t){if(e==null)return{};var s,a,n=Lwe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Lwe(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function Iwe(e){var t=fa(),s=_.useRef(null);return _.useLayoutEffect(()=>{s.current===null?t(z1e(e)):s.current!==e&&t($1e({prev:s.current,next:e})),s.current=e},[e,t]),_.useLayoutEffect(()=>()=>{s.current&&(t(H1e(s.current)),s.current=null)},[t]),null}var Fwe=e=>{var{yAxisId:t,className:s,width:a,label:n}=e,i=_.useRef(null),l=_.useRef(null),o=Jt(Z6),u=vi(),d=fa(),m="yAxis",f=Jt(M=>sH(M,t)),g=Jt(M=>Lxe(M,t)),p=Jt(M=>iH(M,m,t,u)),y=Jt(M=>F$(M,t));if(_.useLayoutEffect(()=>{if(!(a!=="auto"||!f||uk(n)||_.isValidElement(n)||y==null)){var M=i.current;if(M){var R=M.getCalculatedWidth();Math.round(f.width)!==Math.round(R)&&d(q1e({id:t,width:R}))}}},[p,f,d,n,t,a,y]),f==null||g==null||y==null)return null;var{dangerouslySetInnerHTML:v,ticks:j,scale:N}=e,k=B7(e,Rwe),{id:w,scale:A}=y,C=B7(y,Mwe);return _.createElement(_k,_A({},k,C,{ref:i,labelRef:l,x:g.x,y:g.y,tickTextProps:a==="auto"?{width:void 0}:{width:a},width:f.width,height:f.height,className:ys("recharts-".concat(m," ").concat(m),s),viewBox:o,ticks:p,axisType:m}))},Bwe={allowDataOverflow:ui.allowDataOverflow,allowDecimals:ui.allowDecimals,allowDuplicatedCategory:ui.allowDuplicatedCategory,angle:ui.angle,axisLine:nh.axisLine,hide:!1,includeHidden:ui.includeHidden,interval:ui.interval,minTickGap:ui.minTickGap,mirror:ui.mirror,orientation:ui.orientation,padding:ui.padding,reversed:ui.reversed,scale:ui.scale,tick:ui.tick,tickCount:ui.tickCount,tickLine:nh.tickLine,tickSize:nh.tickSize,type:ui.type,width:ui.width,yAxisId:0},Uwe=e=>{var t=on(e,Bwe);return _.createElement(_.Fragment,null,_.createElement(Iwe,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),_.createElement(Fwe,t))},_c=_.memo(Uwe,Eq);_c.displayName="YAxis";var zwe=(e,t)=>t,kk=Je([zwe,Qr,M$,ri,NH,Ph,Xge,ei],ave),Tk=e=>{var t=e.currentTarget.getBoundingClientRect(),s=t.width/e.currentTarget.offsetWidth,a=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/s),chartY:Math.round((e.clientY-t.top)/a)}},Oq=jc("mouseClick"),Pq=dy();Pq.startListening({actionCreator:Oq,effect:(e,t)=>{var s=e.payload,a=kk(t.getState(),Tk(s));a?.activeIndex!=null&&t.dispatch(Zxe({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}});var AA=jc("mouseMove"),Dq=dy(),r1=null;Dq.startListening({actionCreator:AA,effect:(e,t)=>{var s=e.payload;r1!==null&&cancelAnimationFrame(r1);var a=Tk(s);r1=requestAnimationFrame(()=>{var n=t.getState(),i=ek(n,n.tooltip.settings.shared);if(i==="axis"){var l=kk(n,a);l?.activeIndex!=null?t.dispatch(fH({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):t.dispatch(mH())}r1=null})}});function $we(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var U7={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},Rq=no({name:"rootProps",initialState:U7,reducers:{updateOptions:(e,t)=>{var s;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(s=t.payload.barGap)!==null&&s!==void 0?s:U7.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Hwe=Rq.reducer,{updateOptions:qwe}=Rq.actions,Mq=no({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Vwe}=Mq.actions,Wwe=Mq.reducer,Lq=jc("keyDown"),Iq=jc("focus"),Ek=dy();Ek.startListening({actionCreator:Lq,effect:(e,t)=>{var s=t.getState(),a=s.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:n}=s.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var l=tk(n,Zx(s),wy(s),Ay(s)),o=l==null?-1:Number(l);if(!(!Number.isFinite(o)||o<0)){var u=Ph(s);if(i==="Enter"){var d=kj(s,"axis","hover",String(n.index));t.dispatch(pA({active:!n.active,activeIndex:n.index,activeCoordinate:d}));return}var m=Uxe(s),f=m==="left-to-right"?1:-1,g=i==="ArrowRight"?1:-1,p=o+g*f;if(!(u==null||p>=u.length||p<0)){var y=kj(s,"axis","hover",String(p));t.dispatch(pA({active:!0,activeIndex:p.toString(),activeCoordinate:y}))}}}}}});Ek.startListening({actionCreator:Iq,effect:(e,t)=>{var s=t.getState(),a=s.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:n}=s.tooltip;if(!n.active&&n.index==null){var i="0",l=kj(s,"axis","hover",String(i));t.dispatch(pA({active:!0,activeIndex:i,activeCoordinate:l}))}}}});var uc=jc("externalEvent"),Fq=dy(),i3=new Map;Fq.startListening({actionCreator:uc,effect:(e,t)=>{var{handler:s,reactEvent:a}=e.payload;if(s!=null){a.persist();var n=a.type,i=i3.get(n);i!==void 0&&cancelAnimationFrame(i);var l=requestAnimationFrame(()=>{try{var o=t.getState(),u={activeCoordinate:Lge(o),activeDataKey:ik(o),activeIndex:Im(o),activeLabel:_H(o),activeTooltipIndex:Im(o),isTooltipActive:Ige(o)};s(u,a)}finally{i3.delete(n)}});i3.set(n,l)}}});var Gwe=Je([Kx],e=>e.tooltipItemPayloads),Kwe=Je([Gwe,_y,(e,t)=>t,(e,t,s)=>s],(e,t,s,a)=>{var n=e.find(o=>o.settings.graphicalItemId===a);if(n!=null){var{positions:i}=n;if(i!=null){var l=t(i,s);return l}}}),Bq=jc("touchMove"),Uq=dy();Uq.startListening({actionCreator:Bq,effect:(e,t)=>{var s=e.payload;if(!(s.touches==null||s.touches.length===0)){var a=t.getState(),n=ek(a,a.tooltip.settings.shared);if(n==="axis"){var i=s.touches[0];if(i==null)return;var l=kk(a,Tk({clientX:i.clientX,clientY:i.clientY,currentTarget:s.currentTarget}));l?.activeIndex!=null&&t.dispatch(fH({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(n==="item"){var o,u=s.touches[0];if(document.elementFromPoint==null||u==null)return;var d=document.elementFromPoint(u.clientX,u.clientY);if(!d||!d.getAttribute)return;var m=d.getAttribute(az),f=(o=d.getAttribute(nz))!==null&&o!==void 0?o:void 0,g=Yx(a).find(v=>v.id===f);if(m==null||g==null||f==null)return;var{dataKey:p}=g,y=Kwe(a,m,f);t.dispatch(hH({activeDataKey:p,activeIndex:m,activeCoordinate:y,activeGraphicalItemId:f}))}}}});var Ywe=_U({brush:l2e,cartesianAxis:V1e,chartData:Mve,errorBars:aje,graphicalItems:Jbe,layout:lue,legend:phe,options:Eve,polarAxis:hbe,polarOptions:Wwe,referenceElements:f2e,rootProps:Hwe,tooltip:Xxe,zIndex:vve}),Zwe=function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return Pde({reducer:Ywe,preloadedState:t,middleware:a=>{var n;return a({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((n="es6")!==null&&n!==void 0?n:"")}).concat([Pq.middleware,Dq.middleware,Ek.middleware,Fq.middleware,Uq.middleware])},enhancers:a=>{var n=a;return typeof a=="function"&&(n=a()),n.concat(UU({type:"raf"}))},devTools:{serialize:{replacer:$we},name:"recharts-".concat(s)}})};function zq(e){var{preloadedState:t,children:s,reduxStoreName:a}=e,n=vi(),i=_.useRef(null);if(n)return s;i.current==null&&(i.current=Zwe(t,a));var l=H6;return _.createElement(Pje,{context:l,store:i.current},s)}function Xwe(e){var{layout:t,margin:s}=e,a=fa(),n=vi();return _.useEffect(()=>{n||(a(aue(t)),a(sue(s)))},[a,n,t,s]),null}var $q=_.memo(Xwe,Ty);function Hq(e){var t=fa();return _.useEffect(()=>{t(qwe(e))},[t,e]),null}function z7(e){var{zIndex:t,isPanorama:s}=e,a=_.useRef(null),n=fa();return _.useLayoutEffect(()=>(a.current&&n(xve({zIndex:t,element:a.current,isPanorama:s})),()=>{n(gve({zIndex:t,isPanorama:s}))}),[n,t,s]),_.createElement("g",{tabIndex:-1,ref:a})}function $7(e){var{children:t,isPanorama:s}=e,a=Jt(ive);if(!a||a.length===0)return t;var n=a.filter(l=>l<0),i=a.filter(l=>l>0);return _.createElement(_.Fragment,null,n.map(l=>_.createElement(z7,{key:l,zIndex:l,isPanorama:s})),t,i.map(l=>_.createElement(z7,{key:l,zIndex:l,isPanorama:s})))}var Jwe=["children"];function Qwe(e,t){if(e==null)return{};var s,a,n=e5e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function e5e(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function Ij(){return Ij=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Ij.apply(null,arguments)}var t5e={width:"100%",height:"100%",display:"block"},r5e=_.forwardRef((e,t)=>{var s=J6(),a=Q6(),n=jz();if(!lu(s)||!lu(a))return null;var{children:i,otherAttributes:l,title:o,desc:u}=e,d,m;return l!=null&&(typeof l.tabIndex=="number"?d=l.tabIndex:d=n?0:void 0,typeof l.role=="string"?m=l.role:m=n?"application":void 0),_.createElement(D6,Ij({},l,{title:o,desc:u,role:m,tabIndex:d,width:s,height:a,style:t5e,ref:t}),i)}),s5e=e=>{var{children:t}=e,s=Jt(GN);if(!s)return null;var{width:a,height:n,y:i,x:l}=s;return _.createElement(D6,{width:a,height:n,x:l,y:i},t)},H7=_.forwardRef((e,t)=>{var{children:s}=e,a=Qwe(e,Jwe),n=vi();return n?_.createElement(s5e,null,_.createElement($7,{isPanorama:!0},s)):_.createElement(r5e,Ij({ref:t},a),_.createElement($7,{isPanorama:!1},s))});function a5e(){var e=fa(),[t,s]=_.useState(null),a=Jt(Sue);return _.useEffect(()=>{if(t!=null){var n=t.getBoundingClientRect(),i=n.width/t.offsetWidth;ca(i)&&i!==a&&e(iue(i))}},[t,e,a]),s}function q7(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function n5e(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?q7(Object(s),!0).forEach(function(a){i5e(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):q7(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function i5e(e,t,s){return(t=l5e(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function l5e(e){var t=o5e(e,"string");return typeof t=="symbol"?t:t+""}function o5e(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u0(){return u0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},u0.apply(null,arguments)}var c5e=()=>(qve(),null);function Fj(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var d5e=_.forwardRef((e,t)=>{var s,a,n=_.useRef(null),[i,l]=_.useState({containerWidth:Fj((s=e.style)===null||s===void 0?void 0:s.width),containerHeight:Fj((a=e.style)===null||a===void 0?void 0:a.height)}),o=_.useCallback((d,m)=>{l(f=>{var g=Math.round(d),p=Math.round(m);return f.containerWidth===g&&f.containerHeight===p?f:{containerWidth:g,containerHeight:p}})},[]),u=_.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null&&typeof ResizeObserver<"u"){var{width:m,height:f}=d.getBoundingClientRect();o(m,f);var g=y=>{var{width:v,height:j}=y[0].contentRect;o(v,j)},p=new ResizeObserver(g);p.observe(d),n.current=p}},[t,o]);return _.useEffect(()=>()=>{var d=n.current;d?.disconnect()},[o]),_.createElement(_.Fragment,null,_.createElement(YN,{width:i.containerWidth,height:i.containerHeight}),_.createElement("div",u0({ref:u},e)))}),u5e=_.forwardRef((e,t)=>{var{width:s,height:a}=e,[n,i]=_.useState({containerWidth:Fj(s),containerHeight:Fj(a)}),l=_.useCallback((u,d)=>{i(m=>{var f=Math.round(u),g=Math.round(d);return m.containerWidth===f&&m.containerHeight===g?m:{containerWidth:f,containerHeight:g}})},[]),o=_.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:d,height:m}=u.getBoundingClientRect();l(d,m)}},[t,l]);return _.createElement(_.Fragment,null,_.createElement(YN,{width:n.containerWidth,height:n.containerHeight}),_.createElement("div",u0({ref:o},e)))}),h5e=_.forwardRef((e,t)=>{var{width:s,height:a}=e;return _.createElement(_.Fragment,null,_.createElement(YN,{width:s,height:a}),_.createElement("div",u0({ref:t},e)))}),m5e=_.forwardRef((e,t)=>{var{width:s,height:a}=e;return fh(s)||fh(a)?_.createElement(u5e,u0({},e,{ref:t})):_.createElement(h5e,u0({},e,{ref:t}))});function f5e(e){return e===!0?d5e:m5e}var p5e=_.forwardRef((e,t)=>{var{children:s,className:a,height:n,onClick:i,onContextMenu:l,onDoubleClick:o,onMouseDown:u,onMouseEnter:d,onMouseLeave:m,onMouseMove:f,onMouseUp:g,onTouchEnd:p,onTouchMove:y,onTouchStart:v,style:j,width:N,responsive:k,dispatchTouchEvents:w=!0}=e,A=_.useRef(null),C=fa(),[M,R]=_.useState(null),[D,B]=_.useState(null),z=a5e(),I=X6(),F=I?.width>0?I.width:N,Y=I?.height>0?I.height:n,te=_.useCallback(re=>{z(re),typeof t=="function"&&t(re),R(re),B(re),re!=null&&(A.current=re)},[z,t,R,B]),ue=_.useCallback(re=>{C(Oq(re)),C(uc({handler:i,reactEvent:re}))},[C,i]),Z=_.useCallback(re=>{C(AA(re)),C(uc({handler:d,reactEvent:re}))},[C,d]),ie=_.useCallback(re=>{C(mH()),C(uc({handler:m,reactEvent:re}))},[C,m]),G=_.useCallback(re=>{C(AA(re)),C(uc({handler:f,reactEvent:re}))},[C,f]),ee=_.useCallback(()=>{C(Iq())},[C]),Ne=_.useCallback(re=>{C(Lq(re.key))},[C]),X=_.useCallback(re=>{C(uc({handler:l,reactEvent:re}))},[C,l]),P=_.useCallback(re=>{C(uc({handler:o,reactEvent:re}))},[C,o]),H=_.useCallback(re=>{C(uc({handler:u,reactEvent:re}))},[C,u]),q=_.useCallback(re=>{C(uc({handler:g,reactEvent:re}))},[C,g]),W=_.useCallback(re=>{C(uc({handler:v,reactEvent:re}))},[C,v]),le=_.useCallback(re=>{w&&C(Bq(re)),C(uc({handler:y,reactEvent:re}))},[C,w,y]),Se=_.useCallback(re=>{C(uc({handler:p,reactEvent:re}))},[C,p]),Pe=f5e(k);return _.createElement(DH.Provider,{value:M},_.createElement(zB.Provider,{value:D},_.createElement(Pe,{width:F??j?.width,height:Y??j?.height,className:ys("recharts-wrapper",a),style:n5e({position:"relative",cursor:"default",width:F,height:Y},j),onClick:ue,onContextMenu:X,onDoubleClick:P,onFocus:ee,onKeyDown:Ne,onMouseDown:H,onMouseEnter:Z,onMouseLeave:ie,onMouseMove:G,onMouseUp:q,onTouchEnd:Se,onTouchMove:le,onTouchStart:W,ref:te},_.createElement(c5e,null),s)))}),x5e=["width","height","responsive","children","className","style","compact","title","desc"];function g5e(e,t){if(e==null)return{};var s,a,n=v5e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function v5e(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var qq=_.forwardRef((e,t)=>{var{width:s,height:a,responsive:n,children:i,className:l,style:o,compact:u,title:d,desc:m}=e,f=g5e(e,x5e),g=_l(f);return u?_.createElement(_.Fragment,null,_.createElement(YN,{width:s,height:a}),_.createElement(H7,{otherAttributes:g,title:d,desc:m},i)):_.createElement(p5e,{className:l,style:o,width:s,height:a,responsive:n??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},_.createElement(H7,{otherAttributes:g,title:d,desc:m,ref:t},_.createElement(x2e,null,i)))});function CA(){return CA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},CA.apply(null,arguments)}var y5e={top:5,right:5,bottom:5,left:5},b5e={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:y5e,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Ok=_.forwardRef(function(t,s){var a,n=on(t.categoricalChartProps,b5e),{chartName:i,defaultTooltipEventType:l,validateTooltipEventTypes:o,tooltipPayloadSearcher:u,categoricalChartProps:d}=t,m={chartName:i,defaultTooltipEventType:l,validateTooltipEventTypes:o,tooltipPayloadSearcher:u,eventEmitter:void 0};return _.createElement(zq,{preloadedState:{options:m},reduxStoreName:(a=d.id)!==null&&a!==void 0?a:i},_.createElement(aq,{chartData:d.data}),_.createElement($q,{layout:n.layout,margin:n.margin}),_.createElement(Hq,{baseValue:n.baseValue,accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className,reverseStackOrder:n.reverseStackOrder}),_.createElement(qq,CA({},n,{ref:s})))}),j5e=["axis"],Cw=_.forwardRef((e,t)=>_.createElement(Ok,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:j5e,tooltipPayloadSearcher:gw,categoricalChartProps:e,ref:t})),N5e=["axis","item"],Nx=_.forwardRef((e,t)=>_.createElement(Ok,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:N5e,tooltipPayloadSearcher:gw,categoricalChartProps:e,ref:t}));function w5e(e){var t=fa();return _.useEffect(()=>{t(Vwe(e))},[t,e]),null}var S5e=["layout"];function kA(){return kA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},kA.apply(null,arguments)}function _5e(e,t){if(e==null)return{};var s,a,n=A5e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function A5e(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var C5e={top:5,right:5,bottom:5,left:5},Vq={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:C5e,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},k5e=_.forwardRef(function(t,s){var a,n=on(t.categoricalChartProps,Vq),{layout:i}=n,l=_5e(n,S5e),{chartName:o,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:m}=t,f={chartName:o,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:m,eventEmitter:void 0};return _.createElement(zq,{preloadedState:{options:f},reduxStoreName:(a=n.id)!==null&&a!==void 0?a:o},_.createElement(aq,{chartData:n.data}),_.createElement($q,{layout:i,margin:n.margin}),_.createElement(Hq,{baseValue:void 0,accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className,reverseStackOrder:n.reverseStackOrder}),_.createElement(w5e,{cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius}),_.createElement(qq,kA({},l,{ref:s})))});function V7(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function W7(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?V7(Object(s),!0).forEach(function(a){T5e(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):V7(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function T5e(e,t,s){return(t=E5e(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function E5e(e){var t=O5e(e,"string");return typeof t=="symbol"?t:t+""}function O5e(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var P5e=["item"],D5e=W7(W7({},Vq),{},{layout:"centric",startAngle:0,endAngle:360}),kw=_.forwardRef((e,t)=>{var s=on(e,D5e);return _.createElement(k5e,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:P5e,tooltipPayloadSearcher:gw,categoricalChartProps:s,ref:t})}),R5e=["axis"],M5e=_.forwardRef((e,t)=>_.createElement(Ok,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:R5e,tooltipPayloadSearcher:gw,categoricalChartProps:e,ref:t}));function L5e(){const{user:e}=os(),[t,s]=_.useState(null),[a,n]=_.useState([]),[i,l]=_.useState([]),[o,u]=_.useState([]),[d,m]=_.useState({});console.log("Dashboard filters:",d);const{isLoading:f,withLoading:g}=J9(!0);_.useEffect(()=>{g(async()=>{try{const[A,C,M,R]=await Promise.all([Ib.getStats(),Ib.getRecentOrders(),Ib.getLowStock(),Ib.getSalesChart(7)]);s(A.data),n(C.data),l(M.data),u(R.data)}catch{s({totalOrdersToday:156,revenueToday:89450,activeProducts:234,totalCustomers:1847,ordersChange:"+12%",revenueChange:"+8%"}),n([{id:"ORD-001",customer:"Rajesh Kumar",amount:1250,status:"processing",time:"10 mins ago"},{id:"ORD-002",customer:"Priya Sharma",amount:890,status:"packed",time:"25 mins ago"},{id:"ORD-003",customer:"Arun Patel",amount:2100,status:"delivered",time:"1 hour ago"},{id:"ORD-004",customer:"Lakshmi Devi",amount:560,status:"received",time:"2 hours ago"}]),l([{name:"Seer Fish (Vanjaram)",stock:5,unit:"kg"},{name:"Tiger Prawns",stock:3,unit:"kg"},{name:"Pomfret",stock:8,unit:"kg"}]),u([{date:"Mon",revenue:12500,orders:45},{date:"Tue",revenue:15800,orders:52},{date:"Wed",revenue:11200,orders:38},{date:"Thu",revenue:18900,orders:61},{date:"Fri",revenue:22100,orders:78},{date:"Sat",revenue:28500,orders:95},{date:"Sun",revenue:19800,orders:68}])}})},[]);const p=_.useCallback(w=>{n(A=>[{id:w.order.id,customer:w.order.customerName,amount:w.order.totalAmount,status:"received",time:"Just now"},...A.slice(0,3)]),s(A=>A&&{...A,totalOrdersToday:A.totalOrdersToday+1,revenueToday:A.revenueToday+w.order.totalAmount})},[]);FB(p);const y=_.useCallback(w=>{w.newStock<10&&l(A=>A.find(M=>M.name.includes(w.productId))?A.map(M=>M.name.includes(w.productId)?{...M,stock:w.newStock}:M):[...A,{name:`Product ${w.productId}`,stock:w.newStock,unit:"kg"}])},[]);Gle(y);const v=[{name:"Received",value:23,color:"#3b82f6"},{name:"Processing",value:45,color:"#f59e0b"},{name:"Packed",value:32,color:"#8b5cf6"},{name:"Delivering",value:28,color:"#f97316"},{name:"Delivered",value:156,color:"#10b981"}],j=w=>({received:"bg-blue-100 text-blue-700",processing:"bg-yellow-100 text-yellow-700",packed:"bg-purple-100 text-purple-700",delivered:"bg-green-100 text-green-700"})[w]||"bg-gray-100 text-gray-700";if(f)return r.jsx(wN,{isLoading:!0,type:"page",text:"Loading dashboard...",variant:"branded",children:r.jsx("div",{})});if(e?.role==="hub_procurement"||e?.role==="store_procurement")return window.location.href="/procurement-dashboard",null;if(e?.role==="hub_packing"||e?.role==="store_packing")return window.location.href="/packing-dashboard",null;if(e?.role==="hub_delivery"||e?.role==="store_delivery")return window.location.href="/delivery-dashboard",null;if(e?.role==="hub_main_admin"||e?.role==="store_main_admin")return r.jsx(pne,{});if(e?.role!=="super_admin")return r.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Pt,{className:"w-8 h-8 text-gray-400"})}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Access Restricted"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Dashboard access is limited to main administrators."}),r.jsx("p",{className:"text-sm text-gray-500",children:"Please contact your administrator for access."})]})});const N=[{label:"Total Orders",value:t?.totalOrdersToday||0,change:t?.ordersChange||"+0%",icon:el,color:"blue",up:!0},{label:"Revenue",value:t?.revenueToday||0,change:t?.revenueChange||"+0%",icon:Tx,color:"green",up:!0,isCurrency:!0},{label:"Products",value:t?.activeProducts||0,change:"+3",icon:Pt,color:"purple",up:!0},{label:"Customers",value:t?.totalCustomers||0,change:"+24",icon:Mr,color:"orange",up:!0}],k={blue:{bg:"bg-blue-600",icon:"text-blue-600",light:"bg-blue-50"},green:{bg:"bg-green-600",icon:"text-green-600",light:"bg-green-50"},purple:{bg:"bg-purple-600",icon:"text-purple-600",light:"bg-purple-50"},orange:{bg:"bg-orange-600",icon:"text-orange-600",light:"bg-orange-50"}};return r.jsxs("div",{className:"space-y-4 sm:space-y-6 p-4 sm:p-6",children:[r.jsxs("div",{className:"text-center sm:text-left",children:[r.jsxs("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:["Welcome back, ",e?.name||"Admin","! "]}),r.jsx("p",{className:"text-gray-500 mt-1 text-sm sm:text-base",children:"Here's what's happening with your business today."})]}),r.jsx(_h,{onFiltersChange:m,statusOptions:[{value:"received",label:"Received"},{value:"processing",label:"Processing"},{value:"packed",label:"Packed"},{value:"delivered",label:"Delivered"}],categoryOptions:[{value:"orders",label:"Orders"},{value:"revenue",label:"Revenue"},{value:"products",label:"Products"},{value:"customers",label:"Customers"}]}),r.jsx("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-4",children:N.map(w=>{const A=k[w.color];return r.jsxs(ae,{className:"relative overflow-hidden p-4 sm:p-6",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-500 truncate",children:w.label}),r.jsx("p",{className:"mt-2 text-2xl sm:text-3xl font-bold text-gray-900",children:w.isCurrency?jt(w.value):w.value.toLocaleString()}),r.jsxs("div",{className:"mt-2 flex items-center gap-1",children:[w.up?r.jsx(Kp,{className:"h-3 w-3 sm:h-4 sm:w-4 text-green-600"}):r.jsx($Z,{className:"h-3 w-3 sm:h-4 sm:w-4 text-red-600"}),r.jsx("span",{className:`text-xs sm:text-sm font-medium ${w.up?"text-green-600":"text-red-600"}`,children:w.change}),r.jsx("span",{className:"text-xs sm:text-sm text-gray-400 hidden sm:inline",children:"vs yesterday"})]})]}),r.jsx("div",{className:`p-2 sm:p-3 rounded-xl ${A.light} flex-shrink-0`,children:r.jsx(w.icon,{className:`h-5 w-5 sm:h-6 sm:w-6 ${A.icon}`})})]}),r.jsx("div",{className:`absolute bottom-0 left-0 right-0 h-1 ${A.bg}`})]},w.label)})}),r.jsxs("div",{className:"grid gap-4 sm:gap-6 grid-cols-1 lg:grid-cols-3",children:[r.jsxs(ae,{className:"lg:col-span-2 p-4 sm:p-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-4 sm:mb-6 gap-3",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Sales Overview"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Last 7 days performance"})]}),r.jsxs("select",{className:"text-xs sm:text-sm border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 w-full sm:w-auto",children:[r.jsx("option",{children:"Last 7 days"}),r.jsx("option",{children:"Last 30 days"}),r.jsx("option",{children:"Last 90 days"})]})]}),r.jsx(Nl,{width:"100%",height:250,children:r.jsxs(M5e,{data:o,children:[r.jsx("defs",{children:r.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[r.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.2}),r.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})}),r.jsx(wc,{strokeDasharray:"3 3",stroke:"#e5e7eb",vertical:!1}),r.jsx(Sc,{dataKey:"date",stroke:"#9ca3af",fontSize:10,tickLine:!1,axisLine:!1}),r.jsx(_c,{stroke:"#9ca3af",fontSize:10,tickLine:!1,axisLine:!1,tickFormatter:w=>`${w/1e3}k`}),r.jsx(wl,{formatter:w=>[jt(Number(w)),"Revenue"],contentStyle:{borderRadius:"8px",border:"1px solid #e5e7eb"}}),r.jsx(Aq,{type:"monotone",dataKey:"revenue",stroke:"#3b82f6",strokeWidth:2,fillOpacity:1,fill:"url(#colorRevenue)"})]})})]}),r.jsxs(ae,{className:"p-4 sm:p-6",children:[r.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-2",children:"Order Status"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mb-4",children:"Distribution today"}),r.jsx(Nl,{width:"100%",height:180,children:r.jsxs(kw,{children:[r.jsx(ky,{data:v,cx:"50%",cy:"50%",innerRadius:40,outerRadius:70,paddingAngle:3,dataKey:"value",children:v.map((w,A)=>r.jsx(Jm,{fill:w.color},`cell-${A}`))}),r.jsx(wl,{})]})}),r.jsx("div",{className:"flex flex-wrap justify-center gap-2 sm:gap-3 mt-2",children:v.map(w=>r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx("div",{className:"w-2 h-2 sm:w-2.5 sm:h-2.5 rounded-full",style:{backgroundColor:w.color}}),r.jsx("span",{className:"text-xs text-gray-600",children:w.name})]},w.name))})]})]}),r.jsxs(ae,{className:"p-4 sm:p-6",children:[r.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-4 sm:mb-6 gap-3",children:r.jsxs("div",{children:[r.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Orders Trend"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Daily order count"})]})}),r.jsx(Nl,{width:"100%",height:200,children:r.jsxs(Nx,{data:o,children:[r.jsx(wc,{strokeDasharray:"3 3",stroke:"#e5e7eb",vertical:!1}),r.jsx(Sc,{dataKey:"date",stroke:"#9ca3af",fontSize:10,tickLine:!1,axisLine:!1}),r.jsx(_c,{stroke:"#9ca3af",fontSize:10,tickLine:!1,axisLine:!1}),r.jsx(wl,{contentStyle:{borderRadius:"8px",border:"1px solid #e5e7eb"}}),r.jsx(tu,{dataKey:"orders",fill:"#8b5cf6",radius:[6,6,0,0]})]})})]}),r.jsxs("div",{className:"grid gap-4 sm:gap-6 grid-cols-1 lg:grid-cols-3",children:[r.jsxs(ae,{className:"lg:col-span-2 p-4 sm:p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Orders"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Latest transactions"})]}),r.jsx("a",{href:"/orders",className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"View all "})]}),r.jsx("div",{className:"space-y-4",children:a.map(w=>r.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-gray-50 hover:bg-gray-100 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"h-12 w-12 rounded-xl bg-blue-100 flex items-center justify-center",children:r.jsx(el,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-900",children:w.id}),r.jsx("p",{className:"text-sm text-gray-500",children:w.customer})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"font-semibold text-gray-900",children:jt(w.amount)}),r.jsx(at,{variant:j(w.status),children:w.status})]})]},w.id))})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(ae,{children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),r.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{href:"/orders?status=pending",icon:wr,label:"Pending",value:23,color:"blue"},{href:"/products?stock=low",icon:ls,label:"Low Stock",value:i.length,color:"red"},{href:"/orders?status=out_for_delivery",icon:zr,label:"Delivering",value:15,color:"orange"},{href:"/reports",icon:Ps,label:"Reports",value:null,color:"green"}].map(w=>r.jsxs("a",{href:w.href,className:`flex flex-col items-center p-4 rounded-xl transition-all hover:scale-105 ${w.color==="blue"?"bg-blue-50 hover:bg-blue-100":w.color==="red"?"bg-red-50 hover:bg-red-100":w.color==="orange"?"bg-orange-50 hover:bg-orange-100":"bg-green-50 hover:bg-green-100"}`,children:[r.jsx(w.icon,{className:`h-6 w-6 ${w.color==="blue"?"text-blue-600":w.color==="red"?"text-red-600":w.color==="orange"?"text-orange-600":"text-green-600"}`}),r.jsx("span",{className:"mt-2 text-sm font-medium text-gray-700",children:w.label}),w.value!==null&&r.jsx("span",{className:`text-xl font-bold ${w.color==="blue"?"text-blue-600":w.color==="red"?"text-red-600":w.color==="orange"?"text-orange-600":"text-green-600"}`,children:w.value})]},w.label))})]}),r.jsxs(ae,{className:"border-l-4 border-l-red-500",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(ls,{className:"h-5 w-5 text-red-500"}),r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Low Stock Alert"})]}),r.jsx("div",{className:"space-y-3",children:i.map(w=>r.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 last:border-0",children:[r.jsx("span",{className:"text-sm text-gray-700",children:w.name}),r.jsxs("span",{className:"px-2.5 py-1 rounded-full bg-red-100 text-red-700 text-xs font-semibold",children:[w.stock," ",w.unit]})]},w.name))}),r.jsx("a",{href:"/products?stock=low",className:"mt-4 block text-center text-sm text-red-600 hover:text-red-700 font-medium",children:"View all low stock items "})]})]})]})]})}const I5e=()=>{const{user:e}=os(),[t,s]=_.useState({}),a=e?.loginType==="hub";console.log("Procurement dashboard filters:",t);const n=[{title:"Active Orders",value:a?"156":"23",change:"+12%",icon:el,color:"text-blue-600",bg:"bg-blue-100"},{title:"Suppliers",value:a?"45":"12",change:"+3%",icon:Mr,color:"text-green-600",bg:"bg-green-100"},{title:"Low Stock Items",value:a?"8":"3",change:"-2",icon:ls,color:"text-red-600",bg:"bg-red-100"},{title:"Pending Approvals",value:a?"12":"4",change:"+5",icon:wr,color:"text-orange-600",bg:"bg-orange-100"}],i=[{id:"PO-001",supplier:"ABC Supplies",amount:"25,000",status:"Pending"},{id:"PO-002",supplier:"XYZ Corp",amount:"18,500",status:"Approved"},{id:"PO-003",supplier:"Global Traders",amount:"32,000",status:"Processing"}];return r.jsxs("div",{className:"space-y-4 sm:space-y-6 p-4 sm:p-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 rounded-lg p-4 sm:p-6 text-white",children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Procurement Dashboard"}),r.jsxs("p",{className:"text-blue-100 text-sm sm:text-base",children:[a?"Hub":"Store"," Procurement Operations"]})]}),r.jsx(_h,{onFiltersChange:s,statusOptions:[{value:"pending",label:"Pending"},{value:"approved",label:"Approved"},{value:"processing",label:"Processing"},{value:"delivered",label:"Delivered"}],categoryOptions:[{value:"orders",label:"Orders"},{value:"suppliers",label:"Suppliers"},{value:"inventory",label:"Inventory"}]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:n.map((l,o)=>r.jsx("div",{className:"bg-white rounded-lg p-4 sm:p-6 border",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 truncate",children:l.title}),r.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:l.value}),r.jsx("p",{className:"text-xs sm:text-sm text-green-600",children:l.change})]}),r.jsx("div",{className:`p-2 sm:p-3 rounded-lg ${l.bg} flex-shrink-0`,children:r.jsx(l.icon,{className:`h-5 w-5 sm:h-6 sm:w-6 ${l.color}`})})]})},o))}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[r.jsxs("div",{className:"bg-white rounded-lg p-4 sm:p-6 border",children:[r.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-4",children:"Recent Purchase Orders"}),r.jsx("div",{className:"space-y-3",children:i.map(l=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-medium text-sm sm:text-base truncate",children:l.id}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 truncate",children:l.supplier})]}),r.jsxs("div",{className:"text-right flex-shrink-0 ml-2",children:[r.jsx("p",{className:"font-medium text-sm sm:text-base",children:l.amount}),r.jsx("span",{className:`text-xs px-2 py-1 rounded ${l.status==="Approved"?"bg-green-100 text-green-800":l.status==="Pending"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:l.status})]})]},l.id))})]}),r.jsxs("div",{className:"bg-white rounded-lg p-6 border",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Actions"}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("button",{className:"w-full p-3 text-left bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Pt,{className:"h-5 w-5 text-blue-600"}),r.jsx("span",{children:"Create Purchase Order"})]})}),r.jsx("button",{className:"w-full p-3 text-left bg-green-50 hover:bg-green-100 rounded-lg transition-colors",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Ps,{className:"h-5 w-5 text-green-600"}),r.jsx("span",{children:"View Stock Levels"})]})}),r.jsx("button",{className:"w-full p-3 text-left bg-orange-50 hover:bg-orange-100 rounded-lg transition-colors",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ls,{className:"h-5 w-5 text-orange-600"}),r.jsx("span",{children:"Review Low Stock Alerts"})]})})]})]})]})]})},F5e=()=>{const{user:e}=os(),[t,s]=_.useState({}),a=e?.loginType==="hub";console.log("Packing dashboard filters:",t);const n=[{title:"Orders to Pack",value:a?"89":"12",change:"+8",icon:HO,color:"text-blue-600",bg:"bg-blue-100"},{title:"Packed Today",value:a?"156":"28",change:"+15%",icon:Cr,color:"text-green-600",bg:"bg-green-100"},{title:"Avg Pack Time",value:a?"8.5 min":"6.2 min",change:"-1.2 min",icon:wr,color:"text-orange-600",bg:"bg-orange-100"},{title:"Team Efficiency",value:"92%",change:"+3%",icon:Ps,color:"text-purple-600",bg:"bg-purple-100"}],i=[{id:"ORD-1001",items:5,priority:"High",estimatedTime:"12 min"},{id:"ORD-1002",items:3,priority:"Medium",estimatedTime:"8 min"},{id:"ORD-1003",items:7,priority:"High",estimatedTime:"15 min"},{id:"ORD-1004",items:2,priority:"Low",estimatedTime:"5 min"}],l=[{name:"Raj Kumar",packed:45,efficiency:"95%"},{name:"Priya Singh",packed:38,efficiency:"92%"},{name:"Amit Sharma",packed:42,efficiency:"89%"}];return r.jsxs("div",{className:"space-y-4 sm:space-y-6 p-4 sm:p-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-green-700 rounded-lg p-4 sm:p-6 text-white",children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Packing Dashboard"}),r.jsxs("p",{className:"text-green-100 text-sm sm:text-base",children:[a?"Hub":"Store"," Packing Operations"]})]}),r.jsx(_h,{onFiltersChange:s,statusOptions:[{value:"pending",label:"Pending"},{value:"in_progress",label:"In Progress"},{value:"packed",label:"Packed"},{value:"ready_for_delivery",label:"Ready for Delivery"}],categoryOptions:[{value:"orders",label:"Orders"},{value:"products",label:"Products"},{value:"staff",label:"Staff"}]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:n.map((o,u)=>r.jsx("div",{className:"bg-white rounded-lg p-4 sm:p-6 border",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 truncate",children:o.title}),r.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:o.value}),r.jsx("p",{className:"text-xs sm:text-sm text-green-600",children:o.change})]}),r.jsx("div",{className:`p-2 sm:p-3 rounded-lg ${o.bg} flex-shrink-0`,children:r.jsx(o.icon,{className:`h-5 w-5 sm:h-6 sm:w-6 ${o.color}`})})]})},u))}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[r.jsxs("div",{className:"bg-white rounded-lg p-4 sm:p-6 border",children:[r.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-4",children:"Packing Queue"}),r.jsx("div",{className:"space-y-3",children:i.map(o=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-medium text-sm sm:text-base truncate",children:o.id}),r.jsxs("p",{className:"text-xs sm:text-sm text-gray-600",children:[o.items," items"]})]}),r.jsxs("div",{className:"text-right flex-shrink-0 ml-2",children:[r.jsx("span",{className:`text-xs px-2 py-1 rounded ${o.priority==="High"?"bg-red-100 text-red-800":o.priority==="Medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:o.priority}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:o.estimatedTime})]})]},o.id))})]}),r.jsxs("div",{className:"bg-white rounded-lg p-6 border",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Team Performance"}),r.jsx("div",{className:"space-y-3",children:l.map((o,u)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx(Mr,{className:"h-4 w-4 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:o.name}),r.jsxs("p",{className:"text-sm text-gray-600",children:[o.packed," orders packed"]})]})]}),r.jsx("div",{className:"text-right",children:r.jsx("p",{className:"font-medium text-green-600",children:o.efficiency})})]},u))})]})]}),r.jsxs("div",{className:"bg-white rounded-lg p-6 border",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Actions"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx("button",{className:"p-4 text-left bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(HO,{className:"h-6 w-6 text-blue-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Start Packing"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Begin next order"})]})]})}),r.jsx("button",{className:"p-4 text-left bg-green-50 hover:bg-green-100 rounded-lg transition-colors",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Cr,{className:"h-6 w-6 text-green-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Mark Complete"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Finish current order"})]})]})}),r.jsx("button",{className:"p-4 text-left bg-orange-50 hover:bg-orange-100 rounded-lg transition-colors",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(tl,{className:"h-6 w-6 text-orange-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Report Issue"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Log packing problem"})]})]})})]})]})]})},B5e=()=>{const{user:e}=os(),[t,s]=_.useState({}),a=e?.loginType==="hub";console.log("Delivery dashboard filters:",t);const n=[{title:"Active Deliveries",value:a?"45":"8",change:"+5",icon:zr,color:"text-blue-600",bg:"bg-blue-100"},{title:"Completed Today",value:a?"128":"22",change:"+12%",icon:Cr,color:"text-green-600",bg:"bg-green-100"},{title:"Avg Delivery Time",value:a?"45 min":"25 min",change:"-5 min",icon:wr,color:"text-orange-600",bg:"bg-orange-100"},{title:"Success Rate",value:"95%",change:"+2%",icon:LJ,color:"text-purple-600",bg:"bg-purple-100"}],i=[{id:"DEL-001",destination:"Sector 15, Noida",status:"In Transit",eta:"15 min",agent:"Rahul Kumar"},{id:"DEL-002",destination:"Connaught Place",status:"Out for Delivery",eta:"25 min",agent:"Priya Singh"},{id:"DEL-003",destination:"Gurgaon Phase 2",status:"Picked Up",eta:"40 min",agent:"Amit Sharma"},{id:"DEL-004",destination:"Dwarka Sector 10",status:"In Transit",eta:"30 min",agent:"Neha Gupta"}],l=[{name:"Rahul Kumar",deliveries:12,rating:4.8,status:"Active"},{name:"Priya Singh",deliveries:15,rating:4.9,status:"Active"},{name:"Amit Sharma",deliveries:8,rating:4.7,status:"Break"},{name:"Neha Gupta",deliveries:10,rating:4.6,status:"Active"}];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-purple-700 rounded-lg p-4 sm:p-6 text-white",children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Delivery Dashboard"}),r.jsxs("p",{className:"text-purple-100 text-sm sm:text-base",children:[a?"Hub":"Store"," Delivery Operations"]})]}),r.jsx(_h,{onFiltersChange:s,statusOptions:[{value:"in_transit",label:"In Transit"},{value:"out_for_delivery",label:"Out for Delivery"},{value:"delivered",label:"Delivered"},{value:"picked_up",label:"Picked Up"}],categoryOptions:[{value:"deliveries",label:"Deliveries"},{value:"agents",label:"Agents"},{value:"routes",label:"Routes"}]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:n.map((o,u)=>r.jsx("div",{className:"bg-white rounded-lg p-4 sm:p-6 border",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 truncate",children:o.title}),r.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:o.value}),r.jsx("p",{className:"text-xs sm:text-sm text-green-600",children:o.change})]}),r.jsx("div",{className:`p-2 sm:p-3 rounded-lg ${o.bg} flex-shrink-0`,children:r.jsx(o.icon,{className:`h-5 w-5 sm:h-6 sm:w-6 ${o.color}`})})]})},u))}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-lg p-6 border",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Active Deliveries"}),r.jsx("div",{className:"space-y-3",children:i.map(o=>r.jsxs("div",{className:"p-3 bg-gray-50 rounded",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("p",{className:"font-medium",children:o.id}),r.jsx("span",{className:`text-xs px-2 py-1 rounded ${o.status==="In Transit"?"bg-blue-100 text-blue-800":o.status==="Out for Delivery"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:o.status})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-1",children:[r.jsx(qs,{className:"h-4 w-4"}),r.jsx("span",{children:o.destination})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600",children:["Agent: ",o.agent]}),r.jsxs("span",{className:"text-orange-600 font-medium",children:["ETA: ",o.eta]})]})]},o.id))})]}),r.jsxs("div",{className:"bg-white rounded-lg p-6 border",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Delivery Agents"}),r.jsx("div",{className:"space-y-3",children:l.map((o,u)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:r.jsx(Mr,{className:"h-4 w-4 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:o.name}),r.jsxs("p",{className:"text-sm text-gray-600",children:[o.deliveries," deliveries today"]})]})]}),r.jsx("div",{className:"text-right",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-sm font-medium",children:[" ",o.rating]}),r.jsx("span",{className:`text-xs px-2 py-1 rounded ${o.status==="Active"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:o.status})]})})]},u))})]})]}),r.jsxs("div",{className:"bg-white rounded-lg p-6 border",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Actions"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx("button",{className:"p-4 text-left bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(zr,{className:"h-6 w-6 text-blue-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Assign Delivery"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Create new delivery"})]})]})}),r.jsx("button",{className:"p-4 text-left bg-green-50 hover:bg-green-100 rounded-lg transition-colors",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(qs,{className:"h-6 w-6 text-green-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Track Orders"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Monitor deliveries"})]})]})}),r.jsx("button",{className:"p-4 text-left bg-red-50 hover:bg-red-100 rounded-lg transition-colors",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ls,{className:"h-6 w-6 text-red-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Report Issue"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Log delivery problem"})]})]})})]})]})]})};function U5e({orders:e,loading:t=!1,onView:s,onEdit:a,onDelete:n,onRefresh:i,onBulkAction:l}){const[o,u]=_.useState(""),[d,m]=_.useState(""),[f,g]=_.useState(""),[p,y]=_.useState("all"),[v,j]=_.useState(""),[N,k]=_.useState(""),[w,A]=_.useState(""),[C,M]=_.useState(""),[R,D]=_.useState(""),[B,z]=_.useState({isOpen:!1,actionId:"",actionType:""}),I=re=>{const ye=new Date,ze=new Date(ye.getFullYear(),ye.getMonth(),ye.getDate()),Ce=new Date(ye.getFullYear(),ye.getMonth(),ye.getDate(),23,59,59);switch(re){case"today":return{start:ze,end:Ce};case"yesterday":const it=new Date(ye);return it.setDate(it.getDate()-1),{start:new Date(it.getFullYear(),it.getMonth(),it.getDate()),end:new Date(it.getFullYear(),it.getMonth(),it.getDate(),23,59,59)};case"last7days":const rt=new Date(ye);return rt.setDate(rt.getDate()-7),{start:rt,end:Ce};case"last30days":const fe=new Date(ye);return fe.setDate(fe.getDate()-30),{start:fe,end:Ce};case"thisMonth":return{start:new Date(ye.getFullYear(),ye.getMonth(),1),end:Ce};case"lastMonth":const ke=new Date(ye.getFullYear(),ye.getMonth()-1,1),Ie=new Date(ye.getFullYear(),ye.getMonth(),0,23,59,59);return{start:ke,end:Ie};case"custom":return v&&N?{start:new Date(v),end:new Date(N+"T23:59:59")}:null;default:return null}},F=re=>{if(p==="all")return re;const ye=I(p);return ye?re.filter(ze=>{const Ce=new Date(ze.createdAt);return Ce>=ye.start&&Ce<=ye.end}):re},Y=e.filter(re=>{const ye=re.customerName.toLowerCase().includes(o.toLowerCase())||re.id.toLowerCase().includes(o.toLowerCase()),ze=!d||re.status===d,Ce=!f||re.source===f,it=!w||re.moduleType===w,rt=!C||re.deliverySlot===C,fe=!R||re.paymentMethod===R;return ye&&ze&&Ce&&it&&rt&&fe}),te=F(Y),{selectedItems:ue,selectAll:Z,deselectAll:ie,toggleItem:G,isSelected:ee}=Rx(te),Ne=[{id:"send-sms",label:"Send SMS",icon:o6,variant:"default"},{id:"assign-third-party-delivery",label:"Assign Third-Party Delivery",icon:zr,variant:"default"},{id:"assign-batch-delivery",label:"Assign Batch Delivery",icon:zr,variant:"default"},{id:"print-invoices",label:"Print Invoice",icon:Sm,variant:"default"},{id:"download-invoices",label:"Download Invoices",icon:Ho,variant:"default"},{id:"print-packing-slip",label:"Print Packing Slip",icon:Pt,variant:"default"},{id:"update-order-weight",label:"Update Order Weight",icon:T2,variant:"default"},{id:"change-status-processing",label:"Change Status to Processing",icon:wr,variant:"default"},{id:"change-status-on-hold",label:"Change Status to on-hold",icon:NJ,variant:"warning"},{id:"change-status-completed",label:"Change Status to completed",icon:Cr,variant:"success"},{id:"change-status-canceled",label:"Change Status to Canceled",icon:uh,variant:"danger"}],X=async(re,ye)=>{if(re==="print-invoices"){H(ye);return}if(re==="download-invoices"){q(ye);return}if(re==="print-packing-slip"){W(ye);return}z({isOpen:!0,actionId:re,actionType:re})},P=async re=>{l&&(await l(B.actionId,ue,re),ie()),z({isOpen:!1,actionId:"",actionType:""})},H=re=>{const ye=e.filter(ze=>re.includes(ze.id));alert(`Printing invoices for ${ye.length} orders...`),ie()},q=re=>{const ye=e.filter(ze=>re.includes(ze.id));alert(`Downloading invoices for ${ye.length} orders...`),ie()},W=re=>{const ye=e.filter(ze=>re.includes(ze.id));alert(`Printing packing slips for ${ye.length} orders...`),ie()},le=[{key:"select",label:"",width:"50px",render:(re,ye)=>r.jsx(Gse,{id:ye.id,checked:ee(ye.id),onChange:G})},{key:"id",label:"Order ID",render:re=>r.jsx("span",{className:"font-mono text-sm font-medium",children:re})},{key:"invoiceNumber",label:"Invoice Number",render:(re,ye)=>r.jsx("span",{className:"font-mono text-sm font-medium text-blue-600",children:re||`INV-${ye.id.slice(-6).toUpperCase()}`})},{key:"customerName",label:"Customer",render:(re,ye)=>r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:re}),r.jsx("p",{className:"text-sm text-gray-500",children:ye.customerPhone})]})},{key:"source",label:"Source",render:re=>r.jsx("span",{className:"capitalize px-2 py-1 bg-gray-100 text-gray-700 rounded-full text-xs font-medium",children:re})},{key:"status",label:"Status",render:re=>r.jsx(B2,{status:re})},{key:"deliverySlot",label:"Delivery Slot",render:re=>r.jsx("div",{className:"text-sm",children:r.jsx("span",{className:"inline-flex items-center px-2 py-1 bg-blue-50 text-blue-700 rounded-md font-medium",children:re||"Not Scheduled"})})},{key:"totalAmount",label:"Amount",render:(re,ye)=>r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold text-gray-900",children:jt(re)}),ye.paymentStatus&&r.jsx("div",{className:"mt-1",children:r.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium border ${ye.paymentStatus==="paid"?"bg-green-100 text-green-700 border-green-200":ye.paymentStatus==="partial"?"bg-orange-100 text-orange-700 border-orange-200":ye.paymentStatus==="pending"?"bg-yellow-100 text-yellow-700 border-yellow-200":ye.paymentStatus==="refunded"?"bg-purple-100 text-purple-700 border-purple-200":ye.paymentStatus==="failed"?"bg-red-100 text-red-700 border-red-200":"bg-gray-100 text-gray-700 border-gray-200"}`,children:ye.paymentStatus==="paid"?"Paid":ye.paymentStatus==="partial"?"Partial":ye.paymentStatus==="pending"?"Unpaid":ye.paymentStatus==="refunded"?"Refunded":ye.paymentStatus==="failed"?"Failed":ye.paymentStatus})})]})},{key:"createdAt",label:"Date",render:re=>r.jsx("span",{className:"text-sm text-gray-600",children:Rm(re)})}],Se=[{key:"status",label:"Status",value:d,onChange:m,options:[{value:"received",label:"Received"},{value:"processing",label:"Processing"},{value:"packed",label:"Packed"},{value:"out_for_delivery",label:"Out for Delivery"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"}]},{key:"source",label:"Source",value:f,onChange:g,options:[{value:"app",label:"Mobile App"},{value:"website",label:"Website"},{value:"whatsapp",label:"WhatsApp"},{value:"instagram",label:"Instagram"},{value:"facebook",label:"Facebook"}]},{key:"date",label:"Date Range",value:p,onChange:y,options:[{value:"all",label:"All Time"},{value:"today",label:"Today"},{value:"yesterday",label:"Yesterday"},{value:"last7days",label:"Last 7 Days"},{value:"last30days",label:"Last 30 Days"},{value:"thisMonth",label:"This Month"},{value:"lastMonth",label:"Last Month"},{value:"custom",label:"Custom Range"}]},{key:"hubStore",label:"Hub/Store",value:w,onChange:A,options:[{value:"hub",label:"Hub Orders"},{value:"store",label:"Store Orders"}]},{key:"deliverySlot",label:"Delivery Slot",value:C,onChange:M,options:[{value:"7:00 AM - 9:00 AM",label:"7:00 AM - 9:00 AM"},{value:"10:00 AM - 12:00 PM",label:"10:00 AM - 12:00 PM"},{value:"2:00 PM - 4:00 PM",label:"2:00 PM - 4:00 PM"},{value:"4:00 PM - 6:00 PM",label:"4:00 PM - 6:00 PM"},{value:"6:00 PM - 8:00 PM",label:"6:00 PM - 8:00 PM"}]},{key:"paymentMode",label:"Payment Mode",value:R,onChange:D,options:[{value:"cod",label:"Cash on Delivery"},{value:"online",label:"Online Payment"},{value:"wallet",label:"Wallet Payment"}]}],Pe=()=>{const re=Kse[B.actionId];if(re)return re;switch(B.actionId){case"send-sms":return{title:"Send SMS to Customers",fields:[{id:"message",label:"SMS Message",type:"textarea",required:!0,placeholder:"Enter your SMS message..."},{id:"template",label:"Use Template",type:"select",options:[{value:"",label:"Custom Message"},{value:"order_confirmed",label:"Order Confirmed"},{value:"order_packed",label:"Order Packed"},{value:"out_for_delivery",label:"Out for Delivery"},{value:"delivered",label:"Order Delivered"}]}]};case"update-order-weight":return{title:"Update Order Weight",fields:[{id:"weight",label:"New Weight (kg)",type:"number",required:!0,placeholder:"Enter weight in kg..."},{id:"reason",label:"Reason for Weight Update",type:"textarea",placeholder:"Enter reason for weight change..."}]};case"change-status-processing":return{title:"Change Status to Processing",fields:[{id:"notes",label:"Processing Notes",type:"textarea",placeholder:"Add notes about processing status..."}]};case"change-status-on-hold":return{title:"Change Status to on-hold",fields:[{id:"reason",label:"Reason for Hold",type:"select",required:!0,options:[{value:"payment_pending",label:"Payment Pending"},{value:"stock_unavailable",label:"Stock Unavailable"},{value:"customer_request",label:"Customer Request"},{value:"quality_issue",label:"Quality Issue"},{value:"other",label:"Other"}]},{id:"notes",label:"Additional Notes",type:"textarea",placeholder:"Add additional details..."}]};case"change-status-completed":return{title:"Change Status to completed",fields:[{id:"completedBy",label:"Completed By",type:"text",placeholder:"Enter staff name..."},{id:"notes",label:"Completion Notes",type:"textarea",placeholder:"Add completion notes..."}]};case"change-status-canceled":return{title:"Change Status to Canceled",fields:[{id:"reason",label:"Cancellation Reason",type:"select",required:!0,options:[{value:"customer_request",label:"Customer Request"},{value:"payment_failed",label:"Payment Failed"},{value:"stock_unavailable",label:"Stock Unavailable"},{value:"quality_issue",label:"Quality Issue"},{value:"delivery_issue",label:"Delivery Issue"},{value:"other",label:"Other"}]},{id:"refundAmount",label:"Refund Amount",type:"number",placeholder:"Enter refund amount..."},{id:"notes",label:"Cancellation Notes",type:"textarea",placeholder:"Add cancellation details..."}]};default:return{title:"Bulk Action",fields:[]}}};return r.jsxs("div",{className:"space-y-6",children:[r.jsx(Dx,{selectedItems:ue,totalItems:te.length,onSelectAll:Z,onDeselectAll:ie,actions:Ne,onAction:X,itemName:"orders"}),r.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-4",children:[r.jsx(Px,{searchValue:o,onSearchChange:u,filters:Se,placeholder:"Search orders by ID or customer name...",className:"flex-1"}),r.jsx(G9,{onRefresh:i,refreshLabel:"Refresh Orders"})]}),p==="custom"&&r.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[r.jsxs("h4",{className:"text-sm font-medium text-orange-800 mb-3 flex items-center gap-2",children:[r.jsx(hs,{className:"h-4 w-4"}),"Custom Date Range"]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-orange-700 mb-1",children:"Start Date"}),r.jsx("input",{type:"date",value:v,onChange:re=>j(re.target.value),className:"w-full px-3 py-2 border border-orange-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-orange-700 mb-1",children:"End Date"}),r.jsx("input",{type:"date",value:N,onChange:re=>k(re.target.value),className:"w-full px-3 py-2 border border-orange-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]})]}),v&&N&&r.jsx("div",{className:"mt-3 p-2 bg-orange-100 rounded border border-orange-300",children:r.jsxs("p",{className:"text-xs text-orange-800",children:[r.jsx("strong",{children:"Selected Range:"})," ",new Date(v).toLocaleDateString()," - ",new Date(N).toLocaleDateString()]})})]}),r.jsx(Hse,{data:te,columns:le,onView:s,onEdit:a,onDelete:n,loading:t,emptyMessage:"No orders found"}),r.jsx(Mx,{isOpen:B.isOpen,onClose:()=>z({isOpen:!1,actionId:"",actionType:""}),title:Pe().title,actionType:B.actionType,selectedCount:ue.length,itemName:"orders",onConfirm:P,fields:Pe().fields})]})}function z5e({order:e,className:t="",isEditing:s=!1,onPaymentRecord:a,onRefundRecord:n,onAssignThirdParty:i}){const[l,o]=_.useState(!1),[u,d]=_.useState(!1),m=()=>{alert(`Printing invoice for order ${e.id}...`)},f=()=>{alert(`Downloading invoice for order ${e.id}...`)},g=async M=>{a&&await a(M)},p=async M=>{n&&await n(M)},y=e.totalAmount,v=e.paidAmount||0,j=e.refundedAmount||0,N=e.netAmount||y-j,k=y-v,w=k<=0,A=v>0&&k>0,C=j>0;return r.jsxs("div",{className:`space-y-6 ${t}`,children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:e.id}),r.jsxs("p",{className:"text-gray-600",children:["Placed on ",Rm(e.createdAt)]}),e.invoiceNumber&&r.jsxs("p",{className:"text-sm text-blue-600 font-medium",children:["Invoice: ",e.invoiceNumber]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(B2,{status:e.status}),!s&&r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(ce,{size:"sm",variant:"secondary",onClick:m,className:"flex items-center gap-2",children:[r.jsx(Sm,{className:"h-4 w-4"}),"Print Invoice"]}),r.jsxs(ce,{size:"sm",variant:"secondary",onClick:f,className:"flex items-center gap-2",children:[r.jsx(Ho,{className:"h-4 w-4"}),"Download Invoice"]})]})]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Customer Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Name"}),r.jsx("p",{className:"font-medium",children:e.customerName})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Phone"}),r.jsx("p",{className:"font-medium",children:e.customerPhone})]}),e.customerEmail&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Email"}),r.jsx("p",{className:"font-medium",children:e.customerEmail})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Order Source"}),r.jsx("p",{className:"font-medium capitalize",children:e.source})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Delivery Slot"}),r.jsx("p",{className:"font-medium",children:e.deliverySlot})]})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`h-8 w-8 rounded-lg flex items-center justify-center ${w?"bg-green-600":A?"bg-orange-600":"bg-red-600"}`,children:r.jsx(Jn,{className:"h-4 w-4 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Payment Tracking"}),r.jsx("p",{className:"text-sm text-gray-600",children:w?"Payment completed":A?"Partially paid":"Payment pending"})]})]}),!w&&!s&&a&&r.jsxs(ce,{size:"sm",onClick:()=>o(!0),className:"flex items-center gap-2",children:[r.jsx(hr,{className:"h-4 w-4"}),"Record Payment"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Amount"}),r.jsx("p",{className:"text-lg font-bold text-gray-900",children:jt(y)})]}),r.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Paid Amount"}),r.jsx("p",{className:"text-lg font-bold text-green-600",children:jt(v)})]}),r.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Pending Amount"}),r.jsx("p",{className:"text-lg font-bold text-orange-600",children:jt(k)})]})]}),k>0&&r.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(tl,{className:"h-4 w-4 text-yellow-600"}),r.jsxs("p",{className:"text-sm text-yellow-800",children:[r.jsx("span",{className:"font-medium",children:"Payment Pending:"})," ",jt(k)," remaining to be collected"]})]})})]}),(C||!s)&&r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`h-8 w-8 rounded-lg flex items-center justify-center ${C?"bg-red-600":"bg-gray-400"}`,children:r.jsx(Tn,{className:"h-4 w-4 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Refund Tracking"}),r.jsx("p",{className:"text-sm text-gray-600",children:C?`${jt(j)} refunded`:"No refunds processed"})]})]}),v>0&&!s&&n&&r.jsxs(ce,{size:"sm",variant:"danger",onClick:()=>d(!0),className:"flex items-center gap-2",children:[r.jsx(Tn,{className:"h-4 w-4"}),"Record Refund"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Original Amount"}),r.jsx("p",{className:"text-lg font-bold text-gray-900",children:jt(y)})]}),r.jsxs("div",{className:"text-center p-3 bg-red-50 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Refunded Amount"}),r.jsx("p",{className:"text-lg font-bold text-red-600",children:jt(j)})]}),r.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Net Amount"}),r.jsx("p",{className:"text-lg font-bold text-blue-600",children:jt(N)})]})]}),C&&r.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(tl,{className:"h-4 w-4 text-red-600"}),r.jsxs("p",{className:"text-sm text-red-800",children:[r.jsx("span",{className:"font-medium",children:"Refunds Processed:"})," ",jt(j)," has been refunded to customer"]})]})})]}),e.refundRecords&&e.refundRecords.length>0&&r.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:r.jsx(N4e,{refundRecords:e.refundRecords})}),e.paymentRecords&&e.paymentRecords.length>0&&r.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:r.jsx(u4e,{paymentRecords:e.paymentRecords})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[r.jsx(Qf,{className:"h-5 w-5 text-blue-600"}),"Billing Address"]}),e.billingAddress?r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm text-gray-900",children:e.billingAddress.street}),r.jsxs("p",{className:"text-sm text-gray-900",children:[e.billingAddress.city,", ",e.billingAddress.state]}),r.jsxs("p",{className:"text-sm text-gray-900",children:[e.billingAddress.zipCode,", ",e.billingAddress.country]})]}):r.jsx("p",{className:"text-sm text-gray-500",children:"Same as customer information"})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[r.jsx(qs,{className:"h-5 w-5 text-green-600"}),"Shipping Address"]}),e.shippingAddress?r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm text-gray-900",children:e.shippingAddress.street}),r.jsxs("p",{className:"text-sm text-gray-900",children:[e.shippingAddress.city,", ",e.shippingAddress.state]}),r.jsxs("p",{className:"text-sm text-gray-900",children:[e.shippingAddress.zipCode,", ",e.shippingAddress.country]})]}):r.jsx("p",{className:"text-sm text-gray-500",children:"Same as billing address"})]})]}),e.deliveryInstructions&&r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[r.jsx(zr,{className:"h-5 w-5 text-yellow-600"}),"Delivery Instructions"]}),r.jsx("p",{className:"text-sm text-gray-700",children:e.deliveryInstructions})]}),!s&&r.jsxs("div",{className:e.thirdPartyDelivery?"bg-blue-50 border border-blue-200 rounded-lg p-4":"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx(zr,{className:e.thirdPartyDelivery?"h-5 w-5 text-blue-600":"h-5 w-5 text-gray-600"}),"Third-Party Delivery"]}),i&&r.jsxs(ce,{size:"sm",onClick:i,className:"flex items-center gap-2",children:[r.jsx(hr,{className:"h-4 w-4"}),e.thirdPartyDelivery?"Update":"Assign"]})]}),e.thirdPartyDelivery?r.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Service"}),r.jsx("p",{className:"font-medium capitalize",children:e.thirdPartyDelivery.service})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Person Name"}),r.jsx("p",{className:"font-medium",children:e.thirdPartyDelivery.personName})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Phone"}),r.jsx("p",{className:"font-medium",children:e.thirdPartyDelivery.personPhone})]}),e.thirdPartyDelivery.vehicleNumber&&r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Vehicle"}),r.jsx("p",{className:"font-medium",children:e.thirdPartyDelivery.vehicleNumber})]}),e.thirdPartyDelivery.trackingId&&r.jsxs("div",{className:"col-span-2",children:[r.jsx("p",{className:"text-gray-600",children:"Tracking ID"}),r.jsx("p",{className:"font-medium",children:e.thirdPartyDelivery.trackingId})]})]}):r.jsx("p",{className:"text-sm text-gray-600",children:"Assign delivery to Porter, Rapido, Swiggy, etc."})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Order Items"}),r.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.items.length>0?r.jsx("div",{className:"divide-y divide-gray-200",children:e.items.map((M,R)=>r.jsxs("div",{className:"p-4 flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:M.productName}),r.jsx("p",{className:"text-sm text-gray-600",children:M.variant})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"font-medium",children:["Qty: ",M.quantity]}),r.jsxs("p",{className:"text-sm text-gray-600",children:[jt(M.price)," each"]})]}),r.jsx("div",{className:"ml-4 text-right",children:r.jsx("p",{className:"font-semibold",children:jt(M.price*M.quantity)})})]},R))}):r.jsx("div",{className:"p-4 text-center text-gray-500",children:"No items details available"})})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Order Summary"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Order ID"}),r.jsx("p",{className:"font-medium",children:e.id})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Module"}),r.jsx("p",{className:"font-medium uppercase text-blue-600",children:e.moduleType})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Payment Method"}),r.jsx("p",{className:"font-medium uppercase",children:e.paymentMethod})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Payment Status"}),r.jsx(B2,{status:e.paymentStatus})]})]}),r.jsx("div",{className:"border-t border-gray-200 pt-4",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Subtotal"}),r.jsx("span",{className:"font-medium",children:jt(e.subtotalAmount||e.totalAmount)})]}),e.promoCode&&r.jsxs("div",{className:"flex justify-between items-center text-green-600",children:[r.jsxs("span",{className:"text-sm flex items-center gap-1",children:[r.jsx(Eo,{className:"h-4 w-4"}),"Promo Code (",e.promoCode,")"]}),r.jsxs("span",{className:"font-medium",children:["-",jt(e.discountAmount||0)]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("span",{className:"text-sm text-gray-600 flex items-center gap-1",children:[r.jsx(zr,{className:"h-4 w-4"}),"Delivery Charges"]}),r.jsx("span",{className:"font-medium",children:e.deliveryCharges?jt(e.deliveryCharges):"Free"})]}),e.gstAmount&&r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"GST (18%)"}),r.jsx("span",{className:"font-medium",children:jt(e.gstAmount)})]}),r.jsx("div",{className:"border-t border-gray-300 pt-3",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Final Amount"}),r.jsx("span",{className:"text-xl font-bold text-gray-900",children:jt(e.totalAmount)})]})})]})})]}),l&&r.jsx(i4e,{isOpen:l,onClose:()=>o(!1),order:e,onSubmit:g}),u&&r.jsx(p4e,{isOpen:u,onClose:()=>d(!1),order:e,onSubmit:p})]})}function $5e({onCustomerSelect:e,selectedCustomer:t,onCustomerDataChange:s}){const[a,n]=_.useState(""),[i,l]=_.useState(!1),o=[{id:"1",name:"Rajesh Kumar",email:"rajesh@email.com",phone:"+919876543210",totalOrders:45,totalSpent:28500,walletBalance:250,membershipPlan:"Premium",isActive:!0,createdAt:"2023-06-15"},{id:"2",name:"Priya Sharma",email:"priya.s@email.com",phone:"+919876543211",totalOrders:23,totalSpent:15200,walletBalance:100,isActive:!0,createdAt:"2023-08-20"},{id:"3",name:"Arun Patel",email:"arun.p@email.com",phone:"+919876543212",totalOrders:12,totalSpent:8900,walletBalance:0,isActive:!0,createdAt:"2023-10-05"}],u=async m=>{if(n(m),m.length<3){e(null);return}l(!0),setTimeout(()=>{const f=o.find(g=>g.phone.includes(m)||g.name.toLowerCase().includes(m.toLowerCase())||g.email.toLowerCase().includes(m.toLowerCase()));f?(e(f),s({name:f.name,phone:f.phone,email:f.email||"",isElite:!!f.membershipPlan})):e(null),l(!1)},500)},d=()=>{n(""),e(null),s({name:"",phone:"",email:"",isElite:!1})};return r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"h-10 w-10 rounded-lg bg-blue-600 flex items-center justify-center",children:r.jsx(il,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Customer Search"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Search existing customer or enter new customer details"})]})]}),r.jsx("div",{className:"mb-4",children:r.jsxs("div",{className:"relative",children:[r.jsx(Mn,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),r.jsx(he,{placeholder:"Search by phone, name, or email...",value:a,onChange:m=>u(m.target.value),className:"pl-10"}),i&&r.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:r.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-blue-600 border-t-transparent rounded-full"})})]})}),t&&r.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-12 w-12 rounded-full bg-green-600 flex items-center justify-center text-white font-semibold text-lg",children:t.name.charAt(0)}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("p",{className:"font-semibold text-green-900",children:t.name}),t.membershipPlan&&r.jsxs(at,{variant:"warning",className:"flex items-center gap-1",children:[r.jsx(Na,{className:"h-4 w-4"}),"Elite Member"]})]}),r.jsx("p",{className:"text-sm text-green-700",children:t.phone}),r.jsx("p",{className:"text-sm text-green-600",children:t.email}),r.jsxs("div",{className:"flex items-center gap-4 mt-1 text-xs text-green-600",children:[r.jsxs("span",{children:[t.totalOrders," orders"]}),r.jsxs("span",{children:["",t.totalSpent.toLocaleString()," spent"]}),r.jsxs("span",{children:["",t.walletBalance," wallet"]})]})]})]}),r.jsx(ce,{type:"button",variant:"ghost",size:"sm",onClick:d,className:"text-green-600 hover:text-green-700",children:r.jsx(ws,{className:"h-5 w-5"})})]}),t.membershipPlan&&r.jsxs("div",{className:"mt-3 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 text-yellow-800 mb-2",children:[r.jsx(Na,{className:"h-5 w-5"}),r.jsx("span",{className:"font-semibold",children:"Elite Member Benefits"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-yellow-700",children:[r.jsx("div",{children:" Free delivery on orders 349+"}),r.jsx("div",{children:" 5% extra discount on select items"}),r.jsx("div",{children:" No surge charges"}),r.jsx("div",{children:" Priority order processing"})]})]})]}),a.length>=3&&!t&&!i&&r.jsx("div",{className:"p-4 bg-gray-50 border border-gray-200 rounded-lg",children:r.jsx("p",{className:"text-sm text-gray-600",children:"No existing customer found. You can proceed to enter new customer details below."})})]})}function H5e({products:e,onProductAdd:t,isEliteMember:s=!1,moduleType:a="both"}){const[n,i]=_.useState(""),[l,o]=_.useState("all"),u=["all",...Array.from(new Set(e.map(p=>p.category)))],d=e.filter(p=>{const y=p.nameEn.toLowerCase().includes(n.toLowerCase())||p.nameTa.includes(n)||p.sku.toLowerCase().includes(n.toLowerCase()),v=l==="all"||p.category===l;return y&&v&&p.isActive}),m=p=>({all:"All Products",fish:"Fish",prawns:"Prawns",crab:"Crab",squid:"Squid",lobster:"Lobster",chicken:"Chicken",mutton:"Mutton",egg:"Eggs",spices:"Spices"})[p]||p,f=p=>{switch(p){case"same_day":return r.jsx(at,{variant:"success",children:"Same Day"});case"next_day":return r.jsx(at,{variant:"info",children:"Next Day"});case"exotic":return r.jsx(at,{variant:"warning",children:"4 Days"});default:return null}},g=p=>p==="hub"?r.jsx(at,{variant:"info",children:"Hub"}):r.jsx(at,{variant:"success",children:"Store"});return r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"h-10 w-10 rounded-lg bg-purple-600 flex items-center justify-center",children:r.jsx(Pt,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Product Selection"}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Search and add products to the order",a==="hub"&&" (Fish products only)",a==="store"&&" (All products available)"]})]})]}),r.jsxs("div",{className:"space-y-4 mb-6",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Mn,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),r.jsx(he,{placeholder:"Search products by name, Tamil name, or SKU...",value:n,onChange:p=>i(p.target.value),className:"pl-10"})]}),r.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:u.map(p=>r.jsx("button",{onClick:()=>o(p),className:`whitespace-nowrap rounded-full px-4 py-2 text-sm font-medium transition-colors ${l===p?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:m(p)},p))})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-h-96 overflow-y-auto",children:d.length===0?r.jsxs("div",{className:"col-span-full text-center py-8 text-gray-500",children:[r.jsx(Pt,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),r.jsx("p",{children:"No products found matching your search criteria."})]}):d.map(p=>r.jsxs("div",{className:"border rounded-lg p-4 hover:border-purple-300 transition-colors",children:[r.jsxs("div",{className:"mb-3",children:[r.jsx("div",{className:"flex items-start justify-between mb-2",children:r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold text-gray-900",children:p.nameEn}),r.jsx("p",{className:"text-sm text-gray-600",children:p.nameTa}),r.jsx("p",{className:"text-xs text-gray-500 font-mono",children:p.sku})]})}),r.jsxs("div",{className:"flex flex-wrap gap-1 mb-2",children:[p.isBestSeller&&r.jsx(at,{variant:"warning",children:"Best Seller"}),p.isRare&&r.jsx(at,{variant:"danger",children:"Rare"}),f(p.deliveryType),g(p.sourceType)]})]}),r.jsx("div",{className:"space-y-2",children:p.variants.map(y=>{const v=y.price,j=y.discount?v*(1-y.discount/100):v,N=s?j*.95:j;return r.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[y.type," - ",y.size]}),r.jsxs("p",{className:"text-xs text-gray-600",children:[y.grossWeight,"  ",y.serves]}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Stock: ",y.stock," available"]})]}),r.jsx(ce,{type:"button",size:"sm",onClick:()=>t(p,y.id),disabled:y.stock===0,className:"ml-2",children:r.jsx(hr,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[y.discount?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-sm text-gray-500 line-through",children:jt(v)}),r.jsx("span",{className:"text-sm font-semibold text-green-600",children:jt(j)}),r.jsxs(at,{variant:"success",children:[y.discount,"% OFF"]})]}):r.jsx("span",{className:"text-sm font-semibold text-green-600",children:jt(v)}),s&&r.jsxs(r.Fragment,{children:[r.jsx(mh,{className:"h-4 w-4 text-yellow-500"}),r.jsx("span",{className:"text-sm font-semibold text-yellow-600",children:jt(N)}),r.jsxs(at,{variant:"warning",className:"flex items-center gap-1",children:[r.jsx(Na,{className:"h-2 w-2"}),"Elite"]})]})]}),y.stock===0&&r.jsx("div",{className:"mt-2 text-xs text-red-600 font-medium",children:"Out of Stock"}),y.stock>0&&y.stock<=5&&r.jsxs("div",{className:"mt-2 text-xs text-orange-600 font-medium",children:["Only ",y.stock," left!"]})]},y.id)})})]},p.id))}),s&&r.jsxs("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 text-yellow-800",children:[r.jsx(Na,{className:"h-4 w-4"}),r.jsx("span",{className:"text-sm font-medium",children:"Elite Member Pricing Active"})]}),r.jsx("p",{className:"text-xs text-yellow-700 mt-1",children:"Additional 5% discount applied on all products for Elite members"})]})]})}function q5e({product:e,variant:t,onAddToOrder:s,availableProducts:a,className:n=""}){const[i,l]=_.useState(!1),[o,u]=_.useState(null),d=a.filter(p=>p.category===e.category&&!p.isRare&&p.id!==e.id&&p.isActive),m=()=>{e.isRare?l(!0):s(e.id,t.id)},f=()=>{s(e.id,t.id,o?.productId,o?.variantId),l(!1),u(null)},g=()=>{s(e.id,t.id),l(!1)};return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:`border rounded-lg p-3 hover:border-blue-300 transition-colors ${n}`,children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:e.nameEn}),r.jsx("p",{className:"text-sm text-gray-600",children:e.nameTa}),r.jsx("p",{className:"text-xs text-gray-500",children:e.sku})]}),r.jsxs("div",{className:"flex gap-1",children:[e.isBestSeller&&r.jsx(at,{variant:"warning",children:"Best Seller"}),e.isRare&&r.jsxs(at,{variant:"danger",className:"flex items-center gap-1",children:[r.jsx(Na,{className:"h-3 w-3"}),"Rare"]}),e.deliveryType==="exotic"&&r.jsxs(at,{variant:"purple",className:"flex items-center gap-1",children:[r.jsx(wr,{className:"h-3 w-3"}),"Exotic"]})]})]}),r.jsx("div",{className:"space-y-2",children:r.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("p",{className:"text-sm font-medium",children:[t.type," - ",t.size]}),r.jsxs("p",{className:"text-xs text-gray-600",children:[t.serves,"  Stock: ",t.stock]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm font-semibold text-green-600",children:jt(t.price)}),t.discount&&r.jsxs(at,{variant:"success",children:[t.discount,"% off"]})]})]}),r.jsx(ce,{type:"button",size:"sm",onClick:m,disabled:t.stock===0,className:e.isRare?"bg-orange-600 hover:bg-orange-700":"",children:r.jsx(hr,{className:"h-4 w-4"})})]})}),e.isRare&&r.jsx("div",{className:"mt-3 p-2 bg-orange-50 border border-orange-200 rounded-lg",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(ls,{className:"h-4 w-4 text-orange-600 mt-0.5"}),r.jsxs("div",{className:"text-xs text-orange-800",children:[r.jsx("p",{className:"font-medium",children:"Rare Product Notice:"}),r.jsx("p",{children:"Available for next slot delivery. Please select an alternate product in case this item is unavailable during procurement."})]})]})}),e.deliveryType==="exotic"&&r.jsx("div",{className:"mt-3 p-2 bg-purple-50 border border-purple-200 rounded-lg",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(wr,{className:"h-4 w-4 text-purple-600 mt-0.5"}),r.jsxs("div",{className:"text-xs text-purple-800",children:[r.jsx("p",{className:"font-medium",children:"Exotic Product:"}),r.jsx("p",{children:"Requires 2-7 days for delivery. Imported delicacy with premium quality."})]})]})})]}),r.jsx(gr,{isOpen:i,onClose:()=>l(!1),title:"Select Alternate Product",size:"lg",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"h-10 w-10 rounded-lg bg-orange-600 flex items-center justify-center",children:r.jsx(Na,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-orange-900",children:"Rare Product Selected"}),r.jsxs("p",{className:"text-sm text-orange-800 mt-1",children:[r.jsx("span",{className:"font-medium",children:e.nameEn})," is a rare product. If this item is not available during procurement, we will deliver your selected alternate product."]})]})]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Choose an Alternate Product (Recommended)"}),d.length>0?r.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:d.map(p=>r.jsxs("div",{className:"border rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h5",{className:"font-medium text-gray-900",children:p.nameEn}),r.jsx("p",{className:"text-sm text-gray-600",children:p.nameTa})]}),p.isBestSeller&&r.jsx(at,{variant:"warning",children:"Best Seller"})]}),r.jsx("div",{className:"space-y-2",children:p.variants.map(y=>r.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("p",{className:"text-sm font-medium",children:[y.type," - ",y.size]}),r.jsx("p",{className:"text-xs text-gray-600",children:y.serves}),r.jsx("span",{className:"text-sm font-semibold text-green-600",children:jt(y.price)})]}),r.jsx("button",{type:"button",onClick:()=>u({productId:p.id,variantId:y.id}),className:`p-2 rounded-lg border-2 transition-colors ${o?.productId===p.id&&o?.variantId===y.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:o?.productId===p.id&&o?.variantId===y.id?r.jsx(Do,{className:"h-4 w-4 text-blue-600"}):r.jsx("div",{className:"h-4 w-4"})})]},y.id))})]},p.id))}):r.jsxs("div",{className:"text-center py-6 text-gray-500",children:[r.jsx(Pt,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),r.jsx("p",{children:"No alternate products available in this category"})]})]}),o&&r.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Do,{className:"h-4 w-4 text-blue-600"}),r.jsxs("span",{className:"text-sm text-blue-800",children:[r.jsx("span",{className:"font-medium",children:"Alternate selected:"})," ",d.find(p=>p.id===o.productId)?.nameEn]})]})}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[r.jsx(ce,{type:"button",variant:"secondary",onClick:()=>l(!1),className:"flex-1",children:"Cancel"}),r.jsx(ce,{type:"button",variant:"ghost",onClick:g,className:"flex-1",children:"Add Without Alternate"}),r.jsx(ce,{type:"button",onClick:f,disabled:!o,className:"flex-1",children:"Add with Alternate"})]})]})})]})}function V5e({hasExoticProducts:e,hasRareProducts:t,selectedSlot:s,onSlotChange:a,error:n,className:i=""}){const[l,o]=_.useState([]);_.useEffect(()=>{const f=new Date,g=new Date(f);g.setDate(f.getDate()+1);const p=[];if(e)for(let y=2;y<=7;y++){const v=new Date(f);v.setDate(f.getDate()+y),p.push({value:`exotic_day_${y}`,label:`Day ${y} - ${v.toLocaleDateString("en-IN",{weekday:"short",month:"short",day:"numeric"})} (Exotic Delivery)`,type:"exotic",availableDate:v.toISOString(),isAvailable:!0})}else{const y=[{time:"7:00 AM - 9:00 AM",available:!t},{time:"10:00 AM - 12:00 PM",available:!0},{time:"1:00 PM - 3:00 PM",available:!0},{time:"4:00 PM - 6:00 PM",available:!0},{time:"7:00 PM - 9:00 PM",available:!0}],v=f.getHours();if(!t&&v<15&&y.forEach((j,N)=>{v<(N===0?7:N===1?10:N===2?13:N===3?16:19)-2&&j.available&&p.push({value:`today_slot_${N+1}`,label:`Today - ${j.time}`,type:"regular",availableDate:f.toISOString(),isAvailable:!0})}),y.forEach((j,N)=>{j.available&&p.push({value:`tomorrow_slot_${N+1}`,label:`Tomorrow - ${j.time}`,type:t?"next_day":"regular",availableDate:g.toISOString(),isAvailable:!0})}),t){const j=new Date(f);j.setDate(f.getDate()+2),y.forEach((N,k)=>{N.available&&p.push({value:`day_after_slot_${k+1}`,label:`${j.toLocaleDateString("en-IN",{weekday:"short",month:"short",day:"numeric"})} - ${N.time}`,type:"next_day",availableDate:j.toISOString(),isAvailable:!0})})}}o(p)},[e,t]);const d=e?{icon:wr,color:"purple",title:"Exotic Products Delivery",description:"Exotic products require 2-7 days for delivery due to import and quality checks."}:t?{icon:ls,color:"orange",title:"Rare Products Delivery",description:"Rare products are available for next available slot delivery."}:{icon:zr,color:"green",title:"Regular Delivery",description:"Same day or next day delivery available for regular products."},m=d.icon;return r.jsxs("div",{className:`space-y-3 ${i}`,children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Delivery Slot"}),r.jsxs(at,{variant:d.color,className:"flex items-center gap-1",children:[r.jsx(m,{className:"h-3 w-3"}),e?"Exotic":t?"Rare":"Regular"]})]}),r.jsx("div",{className:`p-3 rounded-lg border ${e?"bg-purple-50 border-purple-200":t?"bg-orange-50 border-orange-200":"bg-green-50 border-green-200"}`,children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(m,{className:`h-4 w-4 mt-0.5 ${e?"text-purple-600":t?"text-orange-600":"text-green-600"}`}),r.jsxs("div",{className:`text-xs ${e?"text-purple-800":t?"text-orange-800":"text-green-800"}`,children:[r.jsx("p",{className:"font-medium",children:d.title}),r.jsx("p",{children:d.description})]})]})}),r.jsx(Dt,{value:s,onChange:f=>a(f.target.value),error:n,options:[{value:"",label:"Select Delivery Slot"},...l.map(f=>({value:f.value,label:f.label,disabled:!f.isAvailable}))]}),s&&r.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(hs,{className:"h-4 w-4 text-blue-600"}),r.jsxs("span",{className:"text-sm text-blue-800",children:[r.jsx("span",{className:"font-medium",children:"Selected:"})," ",l.find(f=>f.value===s)?.label]})]}),e&&r.jsxs("div",{className:"mt-2 text-xs text-blue-700",children:[r.jsx("p",{children:" Exotic products will be imported and quality-checked before delivery"}),r.jsx("p",{children:" You will receive updates on the delivery progress"})]}),t&&r.jsxs("div",{className:"mt-2 text-xs text-blue-700",children:[r.jsx("p",{children:" Rare products will be procured based on availability"}),r.jsx("p",{children:" Alternate products will be delivered if rare items are unavailable"})]})]}),l.length===0&&r.jsxs("div",{className:"text-center py-4 text-gray-500",children:[r.jsx(wr,{className:"h-8 w-8 mx-auto mb-2 text-gray-300"}),r.jsx("p",{className:"text-sm",children:"No delivery slots available"})]})]})}function W5e({item:e,product:t,variant:s,alternateProduct:a,alternateVariant:n,index:i,onUpdateQuantity:l,onRemoveItem:o,className:u=""}){const d=t.isRare,m=t.deliveryType==="exotic",f=a&&n;return r.jsxs("div",{className:`border rounded-lg p-4 space-y-3 ${u}`,children:[r.jsx("div",{className:"flex items-start gap-4",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{children:[r.jsxs("h5",{className:"font-medium text-gray-900 flex items-center gap-2",children:[t.nameEn,d&&r.jsxs(at,{variant:"danger",className:"flex items-center gap-1",children:[r.jsx(Na,{className:"h-3 w-3"}),"Rare"]}),m&&r.jsxs(at,{variant:"purple",className:"flex items-center gap-1",children:[r.jsx(wr,{className:"h-3 w-3"}),"Exotic"]})]}),r.jsx("p",{className:"text-sm text-gray-600",children:t.nameTa}),r.jsxs("p",{className:"text-sm text-gray-500",children:[s.type," - ",s.size]}),r.jsx("p",{className:"text-xs text-gray-500",children:s.serves})]}),r.jsx(ce,{type:"button",variant:"ghost",size:"sm",onClick:()=>o(i),className:"text-red-600 hover:text-red-700",children:r.jsx(ws,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ce,{type:"button",variant:"ghost",size:"sm",onClick:()=>l(i,e.quantity-1),children:r.jsx(bd,{className:"h-4 w-4"})}),r.jsx("span",{className:"w-8 text-center font-medium",children:e.quantity}),r.jsx(ce,{type:"button",variant:"ghost",size:"sm",onClick:()=>l(i,e.quantity+1),children:r.jsx(hr,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"font-semibold text-gray-900",children:jt(e.price*e.quantity)}),r.jsxs("p",{className:"text-sm text-gray-600",children:[jt(e.price)," each"]})]})]})]})}),f&&r.jsxs("div",{className:"border-t pt-3",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(cN,{className:"h-4 w-4 text-orange-600"}),r.jsx("span",{className:"text-sm font-medium text-orange-800",children:"Alternate Product (if rare item unavailable)"})]}),r.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h6",{className:"font-medium text-orange-900",children:a.nameEn}),r.jsx("p",{className:"text-sm text-orange-700",children:a.nameTa}),r.jsxs("p",{className:"text-sm text-orange-600",children:[n.type," - ",n.size]}),r.jsx("p",{className:"text-xs text-orange-600",children:n.serves})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"font-semibold text-orange-900",children:jt(n.price*e.quantity)}),r.jsxs("p",{className:"text-sm text-orange-700",children:[jt(n.price)," each"]})]})]})})]}),r.jsxs("div",{className:"border-t pt-3",children:[d&&r.jsxs("div",{className:"p-3 bg-orange-50 border-l-4 border-orange-400 rounded",children:[r.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[r.jsx(Na,{className:"h-4 w-4 text-orange-600 mt-0.5 flex-shrink-0"}),r.jsx("p",{className:"font-semibold text-orange-900 text-sm",children:"Rare Product"})]}),r.jsxs("div",{className:"space-y-1.5 text-xs text-orange-800 ml-6",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx("span",{className:"font-medium min-w-[90px]",children:"Availability:"}),r.jsx("span",{children:"Can order for next available slot"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("span",{className:"font-medium min-w-[90px]",children:"Requirement:"}),r.jsx("span",{children:"Must ask customer for alternate product preference"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("span",{className:"font-medium min-w-[90px]",children:"Fallback:"}),r.jsx("span",{children:"If unavailable during procurement, alternate will be delivered"})]}),f&&r.jsx("div",{className:"mt-2 pt-2 border-t border-orange-200",children:r.jsx("span",{className:"font-medium text-green-700",children:" Alternate product selected"})}),!f&&r.jsx("div",{className:"mt-2 pt-2 border-t border-orange-200",children:r.jsx("span",{className:"font-medium text-red-700",children:" No alternate selected - Please add one"})})]})]}),m&&r.jsxs("div",{className:"p-3 bg-purple-50 border-l-4 border-purple-400 rounded",children:[r.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[r.jsx(wr,{className:"h-4 w-4 text-purple-600 mt-0.5 flex-shrink-0"}),r.jsx("p",{className:"font-semibold text-purple-900 text-sm",children:"Exotic Product"})]}),r.jsxs("div",{className:"space-y-1.5 text-xs text-purple-800 ml-6",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx("span",{className:"font-medium min-w-[90px]",children:"Delivery Time:"}),r.jsx("span",{children:"Requires 2-7 days for delivery"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("span",{className:"font-medium min-w-[90px]",children:"Reason:"}),r.jsx("span",{children:"Imported delicacy requiring quality checks and import procedures"})]})]})]}),!d&&!m&&r.jsxs("div",{className:"flex items-start gap-2 p-2 bg-green-50 border border-green-200 rounded",children:[r.jsx(Pt,{className:"h-4 w-4 text-green-600 mt-0.5"}),r.jsxs("div",{className:"text-xs text-green-800",children:[r.jsx("p",{className:"font-medium",children:"Regular Product:"}),r.jsx("p",{children:"Available for same-day or next-day delivery based on selected slot."})]})]})]})]})}function G7({addresses:e,onAddressSelect:t,selectedAddressId:s,className:a=""}){const n=e.filter(i=>i.type==="other");return n.length===0?r.jsxs("div",{className:`p-6 bg-purple-50 border border-purple-200 rounded-lg text-center ${a}`,children:[r.jsx(l2,{className:"h-12 w-12 mx-auto mb-3 text-purple-300"}),r.jsx("p",{className:"text-purple-600 font-medium",children:'No "Others" addresses found'}),r.jsx("p",{className:"text-sm text-purple-500 mt-1",children:"Add addresses like family homes, friend's places, etc."})]}):r.jsxs("div",{className:`space-y-4 ${a}`,children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-8 w-8 rounded-lg bg-purple-600 flex items-center justify-center",children:r.jsx(l2,{className:"h-4 w-4 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-purple-900",children:"Others Addresses"}),r.jsxs("p",{className:"text-sm text-purple-700",children:[n.length," saved locations"]})]})]}),r.jsxs(at,{variant:"purple",className:"flex items-center gap-1",children:[r.jsx(qs,{className:"h-3 w-3"}),n.length," Others"]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(i=>{const l=s===i.id;return r.jsxs("div",{onClick:()=>t?.(i),className:`p-4 border-2 rounded-lg transition-all cursor-pointer ${l?"border-purple-500 bg-purple-50 shadow-md":"border-purple-200 bg-white hover:border-purple-300 hover:shadow-sm"}`,children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:`h-6 w-6 rounded-full flex items-center justify-center ${l?"bg-purple-600":"bg-purple-100"}`,children:r.jsx(l2,{className:`h-3 w-3 ${l?"text-white":"text-purple-600"}`})}),r.jsx("h4",{className:`font-medium truncate ${l?"text-purple-900":"text-gray-900"}`,children:i.label})]}),i.isDefault&&r.jsx(at,{variant:"success",children:"Default"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:`text-sm font-medium ${l?"text-purple-800":"text-gray-800"}`,children:i.addressLine1}),i.addressLine2&&r.jsx("p",{className:`text-sm ${l?"text-purple-700":"text-gray-600"}`,children:i.addressLine2})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(qs,{className:`h-3 w-3 ${l?"text-purple-600":"text-gray-500"}`}),r.jsxs("p",{className:`text-sm ${l?"text-purple-700":"text-gray-600"}`,children:[i.city,", ",i.state]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:`h-3 w-3 rounded-full ${l?"bg-purple-600":"bg-gray-400"}`}),r.jsx("p",{className:`text-sm font-mono ${l?"text-purple-700":"text-gray-600"}`,children:i.pincode})]}),i.landmark&&r.jsxs("div",{className:`p-2 rounded text-xs ${l?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-700"}`,children:[r.jsx("span",{className:"font-medium",children:" Landmark:"})," ",i.landmark]})]}),l&&r.jsx("div",{className:"mt-3 pt-3 border-t border-purple-200",children:r.jsxs("div",{className:"flex items-center gap-2 text-purple-600",children:[r.jsx("div",{className:"h-4 w-4 rounded-full bg-purple-600 flex items-center justify-center",children:r.jsx("div",{className:"h-2 w-2 rounded-full bg-white"})}),r.jsx("span",{className:"text-sm font-medium",children:"Selected Address"})]})})]},i.id)})}),r.jsx("div",{className:"p-4 bg-purple-50 border border-purple-200 rounded-lg",children:r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-purple-700",children:[r.jsx(qs,{className:"h-4 w-4"}),r.jsxs("span",{children:[n.length," Others Addresses"]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-purple-600",children:[r.jsx(wr,{className:"h-4 w-4"}),r.jsx("span",{children:"Ready for delivery"})]})]}),s&&r.jsxs(at,{variant:"purple",className:"flex items-center gap-1",children:[r.jsx("div",{className:"h-2 w-2 rounded-full bg-white"}),"Address Selected"]})]})})]})}const K7=[{id:"addr_001",label:"Home",type:"home",addressLine1:"123 Marina Beach Road, Apt 4B",addressLine2:"Near Lighthouse",city:"Chennai",state:"Tamil Nadu",pincode:"600001",isDefault:!0,landmark:"Opposite to Marina Beach"},{id:"addr_002",label:"Office",type:"work",addressLine1:"456 IT Park, Tower B, 5th Floor",addressLine2:"OMR Road",city:"Chennai",state:"Tamil Nadu",pincode:"600096",isDefault:!1,landmark:"Near Sholinganallur Metro"},{id:"addr_003",label:"Parents House",type:"other",addressLine1:"789 Anna Salai, Block C",addressLine2:"T. Nagar",city:"Chennai",state:"Tamil Nadu",pincode:"600017",isDefault:!1,landmark:"Near Pondy Bazaar"},{id:"addr_004",label:"Weekend Villa",type:"other",addressLine1:"Plot 45, ECR Road",addressLine2:"Mahabalipuram",city:"Chennai",state:"Tamil Nadu",pincode:"603104",isDefault:!1,landmark:"Near Shore Temple"},{id:"addr_005",label:"Sister's Place",type:"other",addressLine1:"321 Velachery Main Road, Flat 3A",addressLine2:"Phoenix MarketCity Area",city:"Chennai",state:"Tamil Nadu",pincode:"600042",isDefault:!1,landmark:"Behind Phoenix Mall"},{id:"addr_006",label:"Friend's Apartment",type:"other",addressLine1:"567 Adyar River View, Tower 2",addressLine2:"Boat Club Road",city:"Chennai",state:"Tamil Nadu",pincode:"600020",isDefault:!1,landmark:"Near Adyar Club"},{id:"addr_007",label:"Grandparents Home",type:"other",addressLine1:"890 Mylapore Tank Street",addressLine2:"Near Kapaleeshwarar Temple",city:"Chennai",state:"Tamil Nadu",pincode:"600004",isDefault:!1,landmark:"Opposite to Temple Tank"},{id:"addr_008",label:"Vacation Rental",type:"other",addressLine1:"Beach House No. 12, Kovalam",addressLine2:"Lighthouse Beach Road",city:"Thiruvananthapuram",state:"Kerala",pincode:"695527",isDefault:!1,landmark:"Near Lighthouse Beach"},{id:"addr_009",label:"Uncle's Farmhouse",type:"other",addressLine1:"Survey No. 234, Village Road",addressLine2:"Kanchipuram District",city:"Kanchipuram",state:"Tamil Nadu",pincode:"631502",isDefault:!1,landmark:"Near Silk Weaving Center"},{id:"addr_010",label:"College Hostel",type:"other",addressLine1:"Room 405, Hostel Block B",addressLine2:"Anna University Campus",city:"Chennai",state:"Tamil Nadu",pincode:"600025",isDefault:!1,landmark:"Near University Library"},{id:"addr_011",label:"Gym Trainer's Place",type:"other",addressLine1:"123 Fitness Street, Apt 2B",addressLine2:"Nungambakkam High Road",city:"Chennai",state:"Tamil Nadu",pincode:"600034",isDefault:!1,landmark:"Above Gold's Gym"},{id:"addr_012",label:"Cousin's New House",type:"other",addressLine1:"Plot 67, Rajiv Gandhi Salai",addressLine2:"Navalur, OMR",city:"Chennai",state:"Tamil Nadu",pincode:"603103",isDefault:!1,landmark:"Near DLF IT Park"},{id:"addr_013",label:"Yoga Studio",type:"other",addressLine1:"456 Wellness Center, 3rd Floor",addressLine2:"Besant Nagar",city:"Chennai",state:"Tamil Nadu",pincode:"600090",isDefault:!1,landmark:"Near Elliot's Beach"},{id:"addr_014",label:"Pet Boarding",type:"other",addressLine1:"789 Pet Care Avenue",addressLine2:"Chromepet",city:"Chennai",state:"Tamil Nadu",pincode:"600044",isDefault:!1,landmark:"Near Railway Station"},{id:"addr_015",label:"Event Venue",type:"other",addressLine1:"Grand Ballroom, Hotel Paradise",addressLine2:"Mount Road",city:"Chennai",state:"Tamil Nadu",pincode:"600002",isDefault:!1,landmark:"Opposite Spencer Plaza"}],Y7={home:hN,work:qm,other:l2},s1={home:"green",work:"blue",other:"purple"};function G5e({customer:e,selectedAddressId:t,onAddressSelect:s,onAddNewAddress:a,className:n=""}){const[i,l]=_.useState(!1),[o,u]=_.useState(null),[d,m]=_.useState("all"),f=e?K7:[],g=f.filter(v=>d==="all"?!0:v.type===d),p=v=>{u(v),s(v),l(!1)},y=()=>{l(!1),a()};return e?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:`space-y-3 ${n}`,children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Saved Addresses (",f.length," total, ",f.filter(v=>v.type==="other").length," others)"]}),r.jsxs(ce,{type:"button",size:"sm",variant:"secondary",onClick:()=>l(!0),className:"flex items-center gap-2",children:[r.jsx(qs,{className:"h-4 w-4"}),"Select Address"]})]}),o&&r.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:`h-8 w-8 rounded-lg bg-${s1[o.type]}-600 flex items-center justify-center`,children:lr.createElement(Y7[o.type],{className:"h-4 w-4 text-white"})}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("h4",{className:"font-medium text-blue-900",children:o.label}),r.jsx(at,{variant:s1[o.type],children:o.type}),o.isDefault&&r.jsx(at,{variant:"success",children:"Default"})]}),r.jsxs("p",{className:"text-sm text-blue-800",children:[o.addressLine1,o.addressLine2&&`, ${o.addressLine2}`]}),r.jsxs("p",{className:"text-sm text-blue-700",children:[o.city,", ",o.state," - ",o.pincode]}),o.landmark&&r.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:[" ",o.landmark]})]})]}),r.jsx(ce,{type:"button",size:"sm",variant:"ghost",onClick:()=>l(!0),className:"text-blue-600 hover:text-blue-700",children:r.jsx(vs,{className:"h-4 w-4"})})]})}),!o&&f.length>0&&r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg",children:r.jsxs("p",{className:"text-sm text-gray-600 text-center mb-3",children:['Click "Select Address" to choose from ',f.length," saved addresses",r.jsx("br",{}),r.jsxs("span",{className:"text-purple-600 font-medium",children:[f.filter(v=>v.type==="other").length," other addresses available"]})]})}),r.jsx(G7,{addresses:f,onAddressSelect:p,selectedAddressId:t})]})]}),r.jsx(gr,{isOpen:i,onClose:()=>l(!1),title:"Select Delivery Address",size:"lg",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"font-medium text-gray-900",children:["Saved Addresses for ",e.name]}),r.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[r.jsxs("span",{className:"text-sm text-gray-600",children:["Total: ",f.length," addresses"]}),r.jsxs("span",{className:"text-sm text-green-600",children:["Home: ",f.filter(v=>v.type==="home").length]}),r.jsxs("span",{className:"text-sm text-blue-600",children:["Work: ",f.filter(v=>v.type==="work").length]}),r.jsxs("span",{className:"text-sm text-purple-600",children:["Others: ",f.filter(v=>v.type==="other").length]})]})]}),r.jsxs(ce,{type:"button",size:"sm",onClick:y,className:"flex items-center gap-2",children:[r.jsx(hr,{className:"h-4 w-4"}),"Add New Address"]})]}),r.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded-lg",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filter:"}),[{value:"all",label:"All",count:f.length},{value:"home",label:"Home",count:f.filter(v=>v.type==="home").length},{value:"work",label:"Work",count:f.filter(v=>v.type==="work").length},{value:"other",label:"Others",count:f.filter(v=>v.type==="other").length}].map(v=>r.jsxs("button",{type:"button",onClick:()=>m(v.value),className:`px-3 py-1 rounded-full text-sm transition-colors ${d===v.value?"bg-blue-600 text-white":"bg-white text-gray-600 hover:bg-gray-100"}`,children:[v.label," (",v.count,")"]},v.value))]}),g.length>0?r.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:g.map(v=>{const j=Y7[v.type],N=t===v.id;return r.jsx("div",{className:`p-4 border-2 rounded-lg cursor-pointer transition-all ${N?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,onClick:()=>p(v),children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[r.jsx("div",{className:`h-10 w-10 rounded-lg bg-${s1[v.type]}-600 flex items-center justify-center`,children:r.jsx(j,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:v.label}),r.jsx(at,{variant:s1[v.type],children:v.type}),v.isDefault&&r.jsx(at,{variant:"success",children:"Default"})]}),r.jsxs("p",{className:"text-sm text-gray-700 mb-1",children:[v.addressLine1,v.addressLine2&&`, ${v.addressLine2}`]}),r.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[v.city,", ",v.state," - ",v.pincode]}),v.landmark&&r.jsxs("p",{className:"text-xs text-gray-500",children:[" ",v.landmark]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[N&&r.jsx("div",{className:"h-6 w-6 rounded-full bg-blue-600 flex items-center justify-center",children:r.jsx(Do,{className:"h-4 w-4 text-white"})}),r.jsx(ce,{type:"button",size:"sm",variant:"ghost",onClick:k=>{k.stopPropagation(),console.log("Edit address:",v.id)},className:"text-gray-500 hover:text-gray-700",children:r.jsx(vs,{className:"h-4 w-4"})}),r.jsx(ce,{type:"button",size:"sm",variant:"ghost",onClick:k=>{k.stopPropagation(),console.log("Delete address:",v.id)},className:"text-red-500 hover:text-red-700",children:r.jsx(Sr,{className:"h-4 w-4"})})]})]})},v.id)})}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(qs,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),r.jsx("p",{className:"text-gray-500 mb-4",children:d==="all"?"No saved addresses found":`No ${d} addresses found`}),r.jsxs(ce,{type:"button",onClick:y,className:"flex items-center gap-2",children:[r.jsx(hr,{className:"h-4 w-4"}),d==="all"?"Add First Address":`Add ${d} Address`]})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[r.jsx(ce,{type:"button",variant:"secondary",onClick:()=>l(!1),className:"flex-1",children:"Cancel"}),o&&r.jsx(ce,{type:"button",onClick:()=>l(!1),className:"flex-1",children:"Use Selected Address"})]})]})})]}):r.jsxs("div",{className:`space-y-4 ${n}`,children:[r.jsx("div",{className:"p-4 bg-purple-50 border border-purple-200 rounded-lg",children:r.jsxs("div",{className:"text-center mb-4",children:[r.jsx(qs,{className:"h-8 w-8 mx-auto mb-2 text-purple-600"}),r.jsx("p",{className:"text-sm text-purple-800 font-medium",children:"Others Address Preview"}),r.jsx("p",{className:"text-xs text-purple-700",children:"Search for a customer to access their saved addresses"})]})}),r.jsx(G7,{addresses:K7,className:"opacity-75"})]})}const Z7=[{value:"pending",label:"Pending",description:"No payment received yet",icon:wr,color:"orange",bgColor:"bg-orange-50",borderColor:"border-orange-200",textColor:"text-orange-800"},{value:"partial",label:"Partially Paid",description:"Advance payment received",icon:tl,color:"blue",bgColor:"bg-blue-50",borderColor:"border-blue-200",textColor:"text-blue-800"},{value:"paid",label:"Paid",description:"Full payment received",icon:Cr,color:"green",bgColor:"bg-green-50",borderColor:"border-green-200",textColor:"text-green-800"}];function K5e({paymentStatus:e,paymentMethod:t,advanceAmount:s=0,totalAmount:a,onPaymentStatusChange:n,onAdvanceAmountChange:i,error:l,advanceError:o,className:u=""}){const d=Z7.find(y=>y.value===e),m=d?.icon||wr,f=a-s,g=e==="partial",p=e==="paid";return r.jsxs("div",{className:`space-y-4 ${u}`,children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Payment Status"}),r.jsxs(at,{variant:d?.color,className:"flex items-center gap-1",children:[r.jsx(m,{className:"h-3 w-3"}),d?.label]})]}),r.jsx(Dt,{value:e,onChange:y=>n(y.target.value),error:l,options:[{value:"",label:"Select Payment Status"},...Z7.map(y=>({value:y.value,label:`${y.label} - ${y.description}`}))]})]}),d&&r.jsx("div",{className:`p-4 rounded-lg border ${d.bgColor} ${d.borderColor}`,children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:`h-8 w-8 rounded-lg bg-${d.color}-600 flex items-center justify-center`,children:r.jsx(m,{className:"h-4 w-4 text-white"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:`font-medium ${d.textColor}`,children:d.label}),r.jsx("p",{className:`text-sm ${d.textColor} opacity-80 mt-1`,children:d.description}),r.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[r.jsx(Jn,{className:`h-4 w-4 ${d.textColor} opacity-60`}),r.jsxs("span",{className:`text-sm ${d.textColor} opacity-80`,children:["Payment Method: ",t.toUpperCase()]})]})]})]})}),g&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Advance Amount"}),r.jsx(at,{variant:"blue",children:"Required for Partial Payment"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(hh,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),r.jsx(he,{type:"number",step:"0.01",min:"0.01",max:a-.01,value:s||"",onChange:y=>i(parseFloat(y.target.value)||0),placeholder:"Enter advance amount",error:o,className:"pl-10"})]}),r.jsx("div",{className:"text-sm text-gray-600",children:r.jsxs("p",{children:["Maximum advance: ",jt(a-.01)]})})]}),a>0&&r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[r.jsxs("h4",{className:"font-medium text-gray-900 mb-3 flex items-center gap-2",children:[r.jsx(Jn,{className:"h-4 w-4"}),"Payment Summary"]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Total Order Amount:"}),r.jsx("span",{className:"font-medium text-gray-900",children:jt(a)})]}),g&&s>0&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex justify-between text-blue-600",children:[r.jsx("span",{children:"Advance Payment:"}),r.jsx("span",{className:"font-medium",children:jt(s)})]}),r.jsxs("div",{className:"flex justify-between text-orange-600",children:[r.jsx("span",{children:"Pending Amount:"}),r.jsx("span",{className:"font-medium",children:jt(f)})]})]}),p&&r.jsxs("div",{className:"flex justify-between text-green-600",children:[r.jsx("span",{children:"Payment Status:"}),r.jsx("span",{className:"font-medium",children:"Fully Paid"})]}),e==="pending"&&r.jsxs("div",{className:"flex justify-between text-orange-600",children:[r.jsx("span",{children:"Payment Status:"}),r.jsx("span",{className:"font-medium",children:"Payment Pending"})]})]}),r.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:r.jsxs("div",{className:"text-xs text-gray-500",children:[t==="cod"&&r.jsx("p",{children:" Cash on Delivery - Collect payment upon delivery"}),t==="online"&&r.jsx("p",{children:" Online Payment - Payment processed through gateway"}),t==="wallet"&&r.jsx("p",{children:" Wallet Payment - Deducted from customer wallet"})]})})]})]})}function Y5e({discountType:e,discountValue:t,subtotal:s,onDiscountTypeChange:a,onDiscountValueChange:n,error:i,className:l=""}){const o=e==="percentage"?s*t/100:t,u=Math.max(0,s-o);return r.jsxs("div",{className:`space-y-6 ${l}`,children:[r.jsxs("div",{className:"text-center p-4 bg-gradient-to-r from-blue-50 to-green-50 rounded-lg border border-gray-200",children:[r.jsx("h4",{className:"text-lg font-bold text-gray-800 mb-2",children:" Discount Configuration"}),r.jsx("p",{className:"text-sm text-gray-600",children:o>0?`Current discount: ${jt(o)} (${(o/Math.max(s,1)*100).toFixed(1)}%)`:"No discount applied - Enter discount below"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("label",{className:"block text-lg font-semibold text-gray-800",children:"Choose Discount Type:"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("button",{type:"button",onClick:()=>a("percentage"),className:`p-4 rounded-xl border-2 transition-all duration-200 ${e==="percentage"?"bg-blue-600 text-white border-blue-600 shadow-lg scale-105":"bg-white text-gray-700 border-gray-300 hover:border-blue-300 hover:shadow-md"}`,children:[r.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[r.jsx(mx,{className:"h-6 w-6"}),r.jsx("span",{className:"text-lg font-bold",children:"Percentage Discount"})]}),r.jsx("p",{className:"text-sm opacity-90",children:"Apply discount as % of subtotal"})]}),r.jsxs("button",{type:"button",onClick:()=>a("amount"),className:`p-4 rounded-xl border-2 transition-all duration-200 ${e==="amount"?"bg-green-600 text-white border-green-600 shadow-lg scale-105":"bg-white text-gray-700 border-gray-300 hover:border-green-300 hover:shadow-md"}`,children:[r.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[r.jsx(hh,{className:"h-6 w-6"}),r.jsx("span",{className:"text-lg font-bold",children:"Fixed Amount"})]}),r.jsx("p",{className:"text-sm opacity-90",children:"Apply discount as fixed rupee amount"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs("label",{className:"block text-lg font-semibold text-gray-800",children:["Enter Discount ",e==="percentage"?"Percentage":"Amount"]}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:`absolute left-4 top-1/2 -translate-y-1/2 h-8 w-8 rounded-full flex items-center justify-center ${e==="percentage"?"bg-blue-600":"bg-green-600"}`,children:e==="percentage"?r.jsx(mx,{className:"h-4 w-4 text-white"}):r.jsx(hh,{className:"h-4 w-4 text-white"})}),r.jsx(he,{type:"number",step:e==="percentage"?"0.1":"0.01",min:"0",max:e==="percentage"?100:Math.max(s,1),value:t||"",onChange:d=>n(parseFloat(d.target.value)||0),placeholder:e==="percentage"?"Enter percentage (0-100)":"Enter amount in ",error:i,className:"pl-14 pr-4 py-3 text-lg font-medium border-2 focus:ring-2"})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:e==="percentage"?"Range: 0% - 100%":`Range: 0 - ${jt(Math.max(s,1))}`}),r.jsxs("span",{className:"font-medium text-gray-800",children:["Current: ",e==="percentage"?`${t}%`:jt(t)]})]})]}),r.jsxs("div",{className:"p-6 bg-gradient-to-br from-gray-50 to-blue-50 rounded-xl border border-gray-200",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(dh,{className:"h-5 w-5 text-blue-600"}),r.jsx("span",{className:"text-lg font-semibold text-gray-800",children:"Live Preview"})]}),r.jsxs("div",{className:"space-y-3 text-sm",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),r.jsx("span",{className:"font-medium text-lg",children:jt(s||0)})]}),o>0&&r.jsxs("div",{className:"flex justify-between items-center text-red-600 bg-red-50 px-3 py-2 rounded",children:[r.jsx("span",{className:"font-medium",children:"Discount:"}),r.jsxs("span",{className:"font-bold text-lg",children:["-",jt(o)]})]}),r.jsx("div",{className:"border-t pt-3",children:r.jsxs("div",{className:"flex justify-between items-center font-bold text-lg",children:[r.jsx("span",{className:"text-gray-800",children:"After Discount:"}),r.jsx("span",{className:"text-green-600",children:jt(u)})]})})]})]})]}),e==="percentage"&&r.jsxs("div",{className:"space-y-3",children:[r.jsx("p",{className:"text-lg font-semibold text-gray-800",children:" Quick Discount Options:"}),r.jsx("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-3",children:[5,10,15,20,25,30].map(d=>r.jsxs("button",{type:"button",onClick:()=>n(d),className:`px-4 py-3 text-sm font-bold rounded-lg transition-all duration-200 ${t===d?"bg-blue-600 text-white shadow-lg scale-105":"bg-blue-100 text-blue-700 hover:bg-blue-200 hover:scale-105"}`,children:[d,"%"]},d))}),r.jsx("div",{className:"flex justify-center",children:r.jsx("button",{type:"button",onClick:()=>n(0),className:"px-6 py-2 text-sm font-medium rounded-lg bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors",children:" Clear Discount"})})]}),o>0&&r.jsx("div",{className:"p-4 bg-gradient-to-r from-green-50 to-blue-50 border-2 border-green-300 rounded-xl",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-10 w-10 rounded-full bg-green-600 flex items-center justify-center",children:r.jsx(Eo,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{children:[r.jsxs("span",{className:"text-lg font-bold text-green-800",children:[" Discount Applied: ",e==="percentage"?`${t}%`:jt(t)]}),r.jsx("p",{className:"text-sm text-green-700",children:"Order total will be reduced"})]})]}),r.jsx("div",{className:"text-right",children:r.jsxs(at,{variant:"success",className:"text-lg px-4 py-2",children:[" Saves ",jt(o)]})})]})})]})}function Z5e({hasRareProducts:e,hasExoticProducts:t}){return!e&&!t?null:r.jsxs("div",{className:"space-y-3",children:[e&&r.jsx("div",{className:"p-4 bg-orange-50 border-2 border-orange-200 rounded-lg",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Na,{className:"h-5 w-5 text-orange-600 mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold text-orange-900 mb-2 flex items-center gap-2",children:"Rare Products in Order"}),r.jsxs("div",{className:"space-y-2 text-sm text-orange-800",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx("span",{className:"font-medium min-w-[120px]",children:"Availability:"}),r.jsx("span",{children:"Can order for the next available delivery slot"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("span",{className:"font-medium min-w-[120px]",children:"Requirement:"}),r.jsx("span",{children:"Must ask customer for an alternate product preference"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("span",{className:"font-medium min-w-[120px]",children:"Fallback:"}),r.jsx("span",{children:"If unavailable during procurement, the alternate product will be delivered"})]})]}),r.jsxs("div",{className:"mt-3 p-3 bg-white border border-orange-300 rounded",children:[r.jsx("p",{className:"text-xs font-semibold text-orange-700 mb-2",children:"Example Format:"}),r.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium text-gray-700",children:"Ordered: Rare Tuna (500g)"}),r.jsx("div",{className:"text-gray-500",children:"1,200"})]}),r.jsx(cN,{className:"h-4 w-4 text-orange-500"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium text-green-700",children:"Alternate: Fresh Salmon (500g)"}),r.jsx("div",{className:"text-gray-500",children:"1,000"})]})]})]})]})]})}),t&&r.jsx("div",{className:"p-4 bg-purple-50 border-2 border-purple-200 rounded-lg",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(wr,{className:"h-5 w-5 text-purple-600 mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold text-purple-900 mb-2 flex items-center gap-2",children:"Exotic Products in Order"}),r.jsxs("div",{className:"space-y-2 text-sm text-purple-800",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx("span",{className:"font-medium min-w-[120px]",children:"Delivery Time:"}),r.jsx("span",{children:"Requires 2-7 days for delivery"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("span",{className:"font-medium min-w-[120px]",children:"Reason:"}),r.jsx("span",{children:"Imported delicacies require quality checks and import procedures"})]})]})]})]})})]})}const X5e=[{id:"prod_001",nameEn:"Seer Fish (Vanjaram)",nameTa:"",sku:"FISH-SEER-001",category:"fish",description:"Fresh Seer Fish, premium quality",images:[],variants:[{id:"var_001",type:"Curry Cut",size:"Medium",grossWeight:"1kg",netWeight:"900g",pieces:"8-10 pieces",serves:"Serves 3-4",price:450,stock:25,discount:0},{id:"var_002",type:"Steaks",size:"Large",grossWeight:"1kg",netWeight:"950g",pieces:"4-5 pieces",serves:"Serves 3-4",price:480,stock:15,discount:5}],isBestSeller:!0,isRare:!1,isActive:!0,deliveryType:"same_day",sourceType:"hub",approvalStatus:"approved",moduleType:"hub",hubId:"hub_1"},{id:"prod_002",nameEn:"King Fish (Surmai)",nameTa:"",sku:"FISH-KING-001",category:"fish",description:"Premium King Fish, limited availability",images:[],variants:[{id:"var_003",type:"Whole Fish",size:"Large",grossWeight:"2kg",netWeight:"1.8kg",pieces:"1 piece",serves:"Serves 6-8",price:800,stock:5,discount:0},{id:"var_004",type:"Steaks",size:"Medium",grossWeight:"1kg",netWeight:"950g",pieces:"6-8 pieces",serves:"Serves 4-5",price:650,stock:3,discount:0}],isBestSeller:!1,isRare:!0,isActive:!0,deliveryType:"next_day",sourceType:"hub",approvalStatus:"approved",moduleType:"hub",hubId:"hub_1"},{id:"prod_003",nameEn:"Norwegian Salmon",nameTa:" ",sku:"FISH-SALMON-001",category:"fish",description:"Imported Norwegian Salmon, premium exotic delicacy",images:[],variants:[{id:"var_005",type:"Fillet",size:"Premium",grossWeight:"500g",netWeight:"480g",pieces:"2 fillets",serves:"Serves 2-3",price:1200,stock:8,discount:0},{id:"var_006",type:"Steaks",size:"Premium",grossWeight:"500g",netWeight:"480g",pieces:"4-5 steaks",serves:"Serves 2-3",price:1100,stock:6,discount:0}],isBestSeller:!1,isRare:!1,isActive:!0,deliveryType:"exotic",sourceType:"hub",approvalStatus:"approved",moduleType:"hub",hubId:"hub_1"},{id:"prod_004",nameEn:"Red Snapper",nameTa:" ",sku:"FISH-SNAPPER-001",category:"fish",description:"Fresh Red Snapper, rare catch",images:[],variants:[{id:"var_007",type:"Whole Fish",size:"Medium",grossWeight:"1.5kg",netWeight:"1.3kg",pieces:"1 piece",serves:"Serves 4-5",price:750,stock:2,discount:0}],isBestSeller:!1,isRare:!0,isActive:!0,deliveryType:"next_day",sourceType:"hub",approvalStatus:"approved",moduleType:"hub",hubId:"hub_1"},{id:"prod_005",nameEn:"Pomfret",nameTa:"",sku:"FISH-POMFRET-001",category:"fish",description:"Fresh Pomfret, excellent alternative",images:[],variants:[{id:"var_008",type:"Whole Fish",size:"Medium",grossWeight:"1kg",netWeight:"900g",pieces:"2-3 pieces",serves:"Serves 3-4",price:400,stock:20,discount:0},{id:"var_009",type:"Curry Cut",size:"Medium",grossWeight:"1kg",netWeight:"900g",pieces:"8-10 pieces",serves:"Serves 3-4",price:420,stock:18,discount:0}],isBestSeller:!0,isRare:!1,isActive:!0,deliveryType:"same_day",sourceType:"hub",approvalStatus:"approved",moduleType:"hub",hubId:"hub_1"},{id:"prod_006",nameEn:"Tuna Steaks",nameTa:" ",sku:"FISH-TUNA-001",category:"fish",description:"Premium Tuna Steaks, imported delicacy",images:[],variants:[{id:"var_010",type:"Steaks",size:"Premium",grossWeight:"500g",netWeight:"480g",pieces:"3-4 steaks",serves:"Serves 2-3",price:950,stock:4,discount:0}],isBestSeller:!1,isRare:!1,isActive:!0,deliveryType:"exotic",sourceType:"hub",approvalStatus:"approved",moduleType:"hub",hubId:"hub_1"},{id:"prod_007",nameEn:"Chicken Curry Cut",nameTa:"  ",sku:"CHICKEN-CURRY-001",category:"chicken",description:"Fresh chicken curry cut",images:[],variants:[{id:"var_011",type:"Curry Cut",size:"1kg",grossWeight:"1kg",netWeight:"950g",pieces:"12-15 pieces",serves:"Serves 4-5",price:280,stock:50,discount:0}],isBestSeller:!0,isRare:!1,isActive:!0,deliveryType:"same_day",sourceType:"store",approvalStatus:"approved",moduleType:"store",storeId:"store_1"}],J5e=[{id:"hub_1",name:"Chennai Central Hub",type:"hub",location:"T. Nagar, Chennai"},{id:"store_1",name:"Velachery Store",type:"store",location:"Velachery, Chennai"},{id:"store_2",name:"Anna Nagar Store",type:"store",location:"Anna Nagar, Chennai"}],Q5e=ha({customerName:_t().min(2,"Name must be at least 2 characters"),customerPhone:_t().regex(/^\+91[6-9]\d{9}$/,"Invalid phone number format"),customerSecondaryPhone:_t().regex(/^\+91[6-9]\d{9}$/,"Invalid secondary phone number format").optional().or(U2("")),customerEmail:_t().email("Invalid email").optional().or(U2("")),addressLine1:_t().min(5,"Address line 1 is required"),addressLine2:_t().optional(),city:_t().min(2,"City is required"),state:_t().min(2,"State is required"),pincode:_t().regex(/^\d{6}$/,"Pincode must be 6 digits"),addressType:ma(["home","work","other"]),latitude:gs().optional(),longitude:gs().optional(),items:au(ha({productId:_t().min(1,"Product is required"),variantId:_t().min(1,"Variant is required"),quantity:gs().min(1,"Quantity must be at least 1"),price:gs().min(0,"Price must be positive"),alternateProductId:_t().optional(),alternateVariantId:_t().optional()})).min(1,"At least one item is required"),hubId:_t().min(1,"Hub/Store selection is required"),deliverySlot:_t().min(1,"Delivery slot is required"),paymentMethod:ma(["cod","online","wallet"]),paymentStatus:ma(["pending","paid","partial"]),advanceAmount:gs().min(0,"Advance amount must be positive").optional(),discountType:ma(["percentage","amount"]).optional(),discountValue:gs().min(0,"Discount value must be positive").optional(),orderSource:ma(["whatsapp","instagram","facebook","manual"]),applySurgeCharges:sh().optional(),specialInstructions:_t().optional()});function qp({moduleType:e,products:t=X5e,hubs:s=J5e,onSubmit:a}){const[n,i]=_.useState(!1),[l,o]=_.useState(""),[u,d]=_.useState(null),[m,f]=_.useState(""),[g,p]=_.useState(!1),[y,v]=_.useState(null),[j,N]=_.useState(!1),[k,w]=_.useState(!1),[A,C]=_.useState(null),M=30,R=50,{register:D,control:B,handleSubmit:z,watch:I,setValue:F,formState:{errors:Y},reset:te}=g0({resolver:y0(Q5e),defaultValues:{addressType:"home",paymentMethod:"cod",paymentStatus:"pending",discountType:"percentage",discountValue:0,orderSource:"manual",applySurgeCharges:!1,items:[]}}),{fields:ue,append:Z,remove:ie,update:G}=f6({control:B,name:"items"}),ee=I("items"),Ne=I("applySurgeCharges"),X=I("addressType"),P=I("paymentStatus"),H=I("advanceAmount"),q=I("discountType"),W=I("discountValue"),le=ee?.reduce((be,De)=>be+De.price*De.quantity,0)||0,Se=g?le*.05:0,Pe=q==="percentage"?le*(W||0)/100:W||0,re=Se+Pe,ye=Ne?M:0,ze=g&&le>=349?0:R,Ce=Math.max(0,le-re+ye+ze),it=ee?.some(be=>t.find(st=>st.id===be.productId)?.isRare)||!1,rt=ee?.some(be=>t.find(st=>st.id===be.productId)?.deliveryType==="exotic")||!1,fe=be=>{if(o(be),be==="+919876543210"){const De={id:"1",name:"Rajesh Kumar",email:"rajesh@email.com",phone:"+919876543210",secondaryPhone:"+919876543211",totalOrders:45,totalSpent:28500,walletBalance:250,membershipPlan:"Premium",isActive:!0,createdAt:"2023-06-15"};d(De),p(!!De.membershipPlan),F("customerName",De.name),F("customerPhone",De.phone),F("customerSecondaryPhone",De.secondaryPhone||""),F("customerEmail",De.email||"")}},ke=(be,De,st,ut)=>{const lt=t.find(Et=>Et.id===be),At=lt?.variants.find(Et=>Et.id===De);if(!lt||!At)return;const Lt=ue.findIndex(Et=>Et.productId===be&&Et.variantId===De);if(Lt>=0){const Et=ee[Lt];G(Lt,{...Et,quantity:Et.quantity+1})}else Z({productId:be,variantId:De,quantity:1,price:At.price,alternateProductId:st,alternateVariantId:ut})},Ie=(be,De)=>{if(De<=0)ie(be);else{const st=ee[be];G(be,{...st,quantity:De})}},je=async be=>{if(be.paymentStatus==="partial"&&(!be.advanceAmount||be.advanceAmount<=0)){alert("Advance amount is required for partial payment");return}if(be.paymentStatus==="partial"&&be.advanceAmount&&be.advanceAmount>=Ce){alert("Advance amount cannot be equal to or greater than total amount");return}i(!0);try{await a({...be,total:Ce,isEliteMember:g}),te(),d(null),p(!1),v(null),N(!1)}finally{i(!1)}},Me=be=>{v(be),N(!1),F("addressLine1",be.addressLine1),F("addressLine2",be.addressLine2||""),F("city",be.city),F("state",be.state),F("pincode",be.pincode),F("addressType","other")},yt=()=>{v(null),N(!0),F("addressLine1",""),F("addressLine2",""),F("city",""),F("state",""),F("pincode","")},xe={hub:{title:"Hub Manual Order Creation",description:"Create manual orders for fish products with next-day delivery",color:"blue"},store:{title:"Store Manual Order Creation",description:"Create manual orders for all products with same-day/next-day delivery",color:"green"}}[e];return r.jsx(wN,{isLoading:n,type:"page",text:"Creating order...",variant:"branded",children:r.jsxs("form",{onSubmit:z(je),className:"space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-orange-100 via-yellow-100 to-orange-100 border-2 border-orange-300 rounded-xl p-4 text-center",children:[r.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[r.jsx(Eo,{className:"h-6 w-6 text-orange-600"}),r.jsx("h2",{className:"text-xl font-bold text-orange-800",children:" Discount & Offers Available!"}),r.jsx(Eo,{className:"h-6 w-6 text-orange-600"})]}),r.jsxs("p",{className:"text-orange-700 font-medium",children:["Apply percentage discounts or fixed amount offers to reduce order total.",r.jsx("span",{className:"font-bold",children:' Scroll down to "Apply Discount" section after adding customer details.'})]})]}),r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:`h-10 w-10 rounded-lg bg-${xe.color}-600 flex items-center justify-center`,children:r.jsx(il,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Customer Information"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Search existing customer or add new customer details"})]})]}),r.jsx("div",{className:"mb-4",children:r.jsxs("div",{className:"relative",children:[r.jsx(Mn,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),r.jsx(he,{placeholder:"Search customer by phone number (+91XXXXXXXXXX)",value:l,onChange:be=>fe(be.target.value),className:"pl-10"})]})}),u&&r.jsx("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-10 w-10 rounded-full bg-green-600 flex items-center justify-center text-white font-semibold",children:u.name.charAt(0)}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-green-900",children:u.name}),r.jsxs("div",{className:"flex items-center gap-3 text-sm text-green-700",children:[r.jsx("span",{children:u.phone}),u.secondaryPhone&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-green-600",children:""}),r.jsxs("span",{children:[u.secondaryPhone," (Secondary)"]})]})]})]}),u.membershipPlan&&r.jsxs(at,{variant:"warning",className:"flex items-center gap-1",children:[r.jsx(Na,{className:"h-4 w-4"}),"Elite Member"]})]}),r.jsx(ce,{type:"button",variant:"ghost",size:"sm",onClick:()=>{d(null),p(!1),F("customerName",""),F("customerPhone",""),F("customerSecondaryPhone",""),F("customerEmail","")},children:r.jsx(ws,{className:"h-5 w-5"})})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Full Name"}),r.jsxs("div",{className:"relative",children:[r.jsx(il,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),r.jsx(he,{...D("customerName"),placeholder:"Customer full name",error:Y.customerName?.message,className:"pl-10"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Primary Phone Number"}),r.jsxs("div",{className:"relative",children:[r.jsx(su,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),r.jsx(he,{...D("customerPhone"),placeholder:"+91 9876543210",error:Y.customerPhone?.message,className:"pl-10"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Secondary Phone Number",r.jsx("span",{className:"text-gray-500 font-normal",children:"(Optional)"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(su,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),r.jsx(he,{...D("customerSecondaryPhone"),placeholder:"+91 9876543211",error:Y.customerSecondaryPhone?.message,className:"pl-10"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Alternative contact number for delivery coordination"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Email (Optional)"}),r.jsxs("div",{className:"relative",children:[r.jsx(Dm,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),r.jsx(he,{...D("customerEmail"),type:"email",placeholder:"customer@email.com",error:Y.customerEmail?.message,className:"pl-10"})]})]})]}),g&&r.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 text-yellow-800 mb-2",children:[r.jsx(Na,{className:"h-5 w-5"}),r.jsx("span",{className:"font-semibold",children:"Elite Member Benefits Active"})]}),r.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1 mb-3",children:[r.jsx("li",{children:" Free delivery on orders above 349"}),r.jsx("li",{children:" 5% extra discount on selected products"}),r.jsx("li",{children:" No surge charges"}),r.jsx("li",{children:" Priority order processing"})]}),r.jsxs("div",{className:"text-xs text-yellow-600 bg-yellow-100 rounded p-2",children:[r.jsx("p",{className:"font-medium",children:"Contact Numbers on File:"}),r.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[r.jsxs("span",{children:["Primary: ",I("customerPhone")||"Not provided"]}),I("customerSecondaryPhone")&&r.jsxs("span",{children:["Secondary: ",I("customerSecondaryPhone")]})]})]})]})]}),r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:`h-10 w-10 rounded-lg bg-${xe.color}-600 flex items-center justify-center`,children:r.jsx(qs,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Delivery Address"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Enter complete delivery address details"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address Type"}),r.jsx("div",{className:"flex gap-4",children:[{value:"home",label:"Home"},{value:"work",label:"Work"},{value:"other",label:"Other"}].map(be=>r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"radio",...D("addressType"),value:be.value,className:"text-blue-600",onChange:De=>{F("addressType",De.target.value),De.target.value!=="other"&&(v(null),N(!1))}}),r.jsx("span",{className:"text-sm text-gray-700",children:be.label})]},be.value))})]}),X==="other"&&r.jsx(G5e,{customer:u,selectedAddressId:y?.id,onAddressSelect:Me,onAddNewAddress:yt}),(X!=="other"||j||!y)&&X&&r.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:X==="other"?"Manual Address Entry":"Address Details"}),X==="other"&&y&&r.jsx(ce,{type:"button",size:"sm",variant:"ghost",onClick:()=>N(!1),className:"text-blue-600 hover:text-blue-700",children:"Use Saved Address"})]}),r.jsx(he,{label:"Address Line 1",...D("addressLine1"),placeholder:"House no, Building name, Street",error:Y.addressLine1?.message}),r.jsx(he,{label:"Address Line 2 (Optional)",...D("addressLine2"),placeholder:"Landmark, Area"}),r.jsxs("div",{className:"p-4 bg-blue-50 border-2 border-blue-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(qs,{className:"h-5 w-5 text-blue-600"}),r.jsxs("div",{children:[r.jsx("h5",{className:"font-semibold text-blue-900",children:"Pin Map Location"}),r.jsx("p",{className:"text-xs text-blue-700",children:"Mark exact delivery location on map"})]})]}),r.jsx(ce,{type:"button",size:"sm",onClick:()=>w(!k),className:"bg-blue-600 hover:bg-blue-700",children:k?"Close Map":"Open Map"})]}),A&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-800 bg-white p-2 rounded border border-blue-300",children:[r.jsx(qs,{className:"h-4 w-4"}),r.jsx("span",{className:"font-medium",children:"Location Pinned:"}),r.jsxs("span",{className:"text-xs",children:["Lat: ",A.lat.toFixed(6),", Lng: ",A.lng.toFixed(6)]})]}),k&&r.jsxs("div",{className:"mt-3 space-y-3",children:[r.jsx("div",{className:"bg-white border-2 border-blue-300 rounded-lg p-4 h-64 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(qs,{className:"h-12 w-12 text-blue-400 mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Click on map to pin location"}),r.jsxs("div",{className:"text-xs text-gray-500",children:[r.jsx("p",{children:"Map integration placeholder"}),r.jsx("p",{className:"mt-1",children:"Integrate Google Maps / Leaflet here"})]})]})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(ce,{type:"button",size:"sm",variant:"secondary",onClick:()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(be=>{const De={lat:be.coords.latitude,lng:be.coords.longitude};C(De),F("latitude",De.lat),F("longitude",De.lng)})},className:"flex-1",children:"Use Current Location"}),A&&r.jsx(ce,{type:"button",size:"sm",variant:"ghost",onClick:()=>{C(null),F("latitude",void 0),F("longitude",void 0)},className:"text-red-600",children:"Clear Location"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(he,{label:"Pincode",...D("pincode"),placeholder:"600001",error:Y.pincode?.message}),r.jsx(he,{label:"City",...D("city"),placeholder:"Chennai",error:Y.city?.message}),r.jsx(he,{label:"State",...D("state"),placeholder:"Tamil Nadu",error:Y.state?.message})]})]})]})]}),r.jsxs(ae,{children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`h-10 w-10 rounded-lg bg-${xe.color}-600 flex items-center justify-center`,children:r.jsx(Pt,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Order Items"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Add products to the order"})]})]})}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"relative mb-4",children:[r.jsx(Mn,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),r.jsx(he,{placeholder:"Search products...",value:m,onChange:be=>f(be.target.value),className:"pl-10"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-h-60 overflow-y-auto",children:t.filter(be=>be.nameEn.toLowerCase().includes(m.toLowerCase())||be.nameTa.includes(m)||be.sku.toLowerCase().includes(m.toLowerCase())).map(be=>r.jsx("div",{children:be.variants.map(De=>r.jsx(q5e,{product:be,variant:De,onAddToOrder:ke,availableProducts:t,className:"mb-3"},`${be.id}-${De.id}`))},be.id))})]}),ue.length>0&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h4",{className:"font-medium text-gray-900",children:["Selected Items (",ue.length,")"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[it&&r.jsxs(at,{variant:"danger",className:"flex items-center gap-1",children:[r.jsx(Na,{className:"h-3 w-3"}),"Has Rare Products"]}),rt&&r.jsxs(at,{variant:"purple",className:"flex items-center gap-1",children:[r.jsx(wr,{className:"h-3 w-3"}),"Has Exotic Products"]})]})]}),ue.map((be,De)=>{const st=t.find(Lt=>Lt.id===be.productId),ut=st?.variants.find(Lt=>Lt.id===be.variantId),lt=be.alternateProductId?t.find(Lt=>Lt.id===be.alternateProductId):void 0,At=lt&&be.alternateVariantId?lt.variants.find(Lt=>Lt.id===be.alternateVariantId):void 0;return!st||!ut?null:r.jsx(W5e,{item:ee[De],product:st,variant:ut,alternateProduct:lt,alternateVariant:At,index:De,onUpdateQuantity:Ie,onRemoveItem:ie},be.id)})]}),Y.items&&r.jsx("p",{className:"text-sm text-red-600 mt-2",children:Y.items.message})]}),r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:`h-10 w-10 rounded-lg bg-${xe.color}-600 flex items-center justify-center`,children:r.jsx(zr,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Delivery Information"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Configure delivery and payment details"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(Dt,{label:e==="hub"?"Hub":"Store",...D("hubId"),error:Y.hubId?.message,options:[{value:"",label:`Select ${e==="hub"?"Hub":"Store"}`},...s.map(be=>({value:be.id,label:`${be.name} (${be.location})`}))]}),r.jsx("div",{children:r.jsx(V5e,{hasExoticProducts:rt,hasRareProducts:it,selectedSlot:I("deliverySlot")||"",onSlotChange:be=>F("deliverySlot",be),error:Y.deliverySlot?.message})}),r.jsx(Dt,{label:"Payment Method",...D("paymentMethod"),error:Y.paymentMethod?.message,options:[{value:"cod",label:"Cash on Delivery"},{value:"online",label:"Online Payment"},{value:"wallet",label:"Wallet Payment"}]}),r.jsx(Dt,{label:"Order Source",...D("orderSource"),error:Y.orderSource?.message,options:[{value:"manual",label:"Manual Entry"},{value:"whatsapp",label:"WhatsApp"},{value:"instagram",label:"Instagram"},{value:"facebook",label:"Facebook"}]})]}),r.jsx("div",{className:"mt-6",children:r.jsx(K5e,{paymentStatus:P||"pending",paymentMethod:I("paymentMethod")||"cod",advanceAmount:H||0,totalAmount:Ce,onPaymentStatusChange:be=>F("paymentStatus",be),onAdvanceAmountChange:be=>F("advanceAmount",be),error:Y.paymentStatus?.message,advanceError:Y.advanceAmount?.message})}),r.jsxs("div",{className:"mt-4",children:[r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",...D("applySurgeCharges"),className:"rounded text-blue-600"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Apply Surge Charges"}),r.jsx(ls,{className:"h-5 w-5 text-orange-500"})]}),r.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Apply surge charges for rain/peak day delivery"}),Ne&&r.jsx("div",{className:"mt-2 p-3 bg-orange-50 border border-orange-200 rounded-lg",children:r.jsxs("p",{className:"text-sm text-orange-800",children:["Surge charges: ",jt(M)," (Rain/Peak day delivery)"]})})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Instructions (Optional)"}),r.jsx("textarea",{...D("specialInstructions"),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Any special delivery instructions..."})]})]}),r.jsxs(ae,{className:"border-2 border-dashed border-orange-300 bg-gradient-to-r from-orange-50 to-yellow-50",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-r from-orange-500 to-yellow-500 flex items-center justify-center shadow-lg",children:r.jsx(Eo,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-orange-900",children:" Apply Discount / Offer"}),r.jsx("p",{className:"text-sm text-orange-700",children:"Enter discount percentage or fixed amount to reduce order total"})]}),r.jsx(at,{variant:"warning",className:"ml-auto",children:"Optional"})]}),r.jsxs("div",{className:"bg-white rounded-lg p-6 border border-orange-200",children:[r.jsx(Y5e,{discountType:q||"percentage",discountValue:W||0,subtotal:le||0,onDiscountTypeChange:be=>F("discountType",be),onDiscountValueChange:be=>F("discountValue",be),error:Y.discountValue?.message}),le===0&&r.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:r.jsxs("p",{className:"text-sm text-blue-700 flex items-center gap-2",children:[r.jsx(Pt,{className:"h-4 w-4"}),"Add products to see discount calculations"]})})]})]}),ue.length>0&&r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:`h-10 w-10 rounded-lg bg-${xe.color}-600 flex items-center justify-center`,children:r.jsx(Jn,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Order Summary"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Review order details and pricing"})]})]}),Pe>0&&r.jsx("div",{className:"mb-4 p-4 bg-gradient-to-r from-green-50 to-blue-50 border border-green-200 rounded-lg",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Eo,{className:"h-5 w-5 text-green-600"}),r.jsxs("span",{className:"font-semibold text-green-800",children:["Discount Applied: ",q==="percentage"?`${W||0}%`:jt(W||0)]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-lg font-bold text-green-600",children:["-",jt(Pe)]}),r.jsx("p",{className:"text-xs text-green-700",children:"Total Savings"})]})]})}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600",children:["Subtotal (",ue.length," items)"]}),r.jsx("span",{className:"font-medium",children:jt(le)})]}),Pe>0&&r.jsxs("div",{className:"flex justify-between text-green-600 bg-green-50 px-3 py-2 rounded",children:[r.jsxs("span",{className:"flex items-center gap-1 font-medium",children:[r.jsx(Eo,{className:"h-4 w-4"}),"Manual Discount (",q==="percentage"?`${W}%`:"Fixed Amount",")"]}),r.jsxs("span",{className:"font-semibold",children:["-",jt(Pe)]})]}),g&&Se>0&&r.jsxs("div",{className:"flex justify-between text-green-600",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Na,{className:"h-5 w-5"}),"Elite Discount (5%)"]}),r.jsxs("span",{children:["-",jt(Se)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Delivery Charges"}),r.jsx("span",{className:ze===0?"text-green-600":"",children:ze===0?"FREE":jt(ze)})]}),ye>0&&r.jsxs("div",{className:"flex justify-between text-orange-600",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(mh,{className:"h-5 w-5"}),"Surge Charges"]}),r.jsxs("span",{children:["+",jt(ye)]})]}),r.jsx("div",{className:"border-t pt-3",children:r.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[r.jsx("span",{children:"Total Amount"}),r.jsx("span",{className:"text-green-600",children:jt(Ce)})]})}),(g||Pe>0)&&r.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:r.jsxs("p",{className:"text-sm text-green-800 font-medium",children:["Total Savings: ",jt(re+(R-ze)),Pe>0&&r.jsxs("span",{className:"block text-xs mt-1",children:["Manual Discount: ",jt(Pe),g&&`  Elite Discount: ${jt(Se)}`]})]})})]}),r.jsx(Z5e,{hasRareProducts:it,hasExoticProducts:rt})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx(ce,{type:"button",variant:"secondary",onClick:()=>{te(),d(null),p(!1),v(null),N(!1)},className:"flex-1",children:"Cancel"}),r.jsx(ce,{type:"submit",disabled:ue.length===0||n,className:"flex-1",children:n?"Creating Order...":"Create Order"})]})]})})}const X7=[{value:"monday",label:"Mon",fullName:"Monday"},{value:"tuesday",label:"Tue",fullName:"Tuesday"},{value:"wednesday",label:"Wed",fullName:"Wednesday"},{value:"thursday",label:"Thu",fullName:"Thursday"},{value:"friday",label:"Fri",fullName:"Friday"},{value:"saturday",label:"Sat",fullName:"Saturday"},{value:"sunday",label:"Sun",fullName:"Sunday"}],e4e=[{value:"weekly",label:"Weekly",description:"Every week on selected days"},{value:"biweekly",label:"Bi-weekly",description:"Every 2 weeks on selected days"},{value:"monthly",label:"Monthly",description:"Every month on selected days"}];function t4e({onRecurrenceChange:e,subtotal:t,className:s=""}){const[a,n]=_.useState(!1),[i,l]=_.useState(""),[o,u]=_.useState(""),[d,m]=_.useState([]),[f,g]=_.useState(1),[p,y]=_.useState("weekly"),[v,j]=_.useState("percentage"),[N,k]=_.useState(0),A=(()=>{if(!a||!i||!o||d.length===0)return 0;const F=new Date(i),Y=new Date(o),te=Math.abs(Y.getTime()-F.getTime()),ue=Math.ceil(te/(1e3*60*60*24));let Z=1;switch(p){case"weekly":Z=Math.floor(ue/7)+1;break;case"biweekly":Z=Math.floor(ue/14)+1;break;case"monthly":Z=Math.floor(ue/30)+1;break}return Math.min(Z*d.length,f)})(),C=v==="percentage"?t*N/100:N,R=Math.max(0,t-C)*A;_.useEffect(()=>{e({isRecurring:a,startDate:i,endDate:o,selectedDays:d,numberOfTimes:f,frequency:p,discountType:v,discountValue:N,totalOccurrences:A,estimatedTotal:R})},[a,i,o,d,f,p,v,N,A,R]);const D=F=>{m(Y=>Y.includes(F)?Y.filter(te=>te!==F):[...Y,F])},B=new Date().toISOString().split("T")[0],z=new Date;z.setFullYear(z.getFullYear()+1);const I=z.toISOString().split("T")[0];return r.jsxs("div",{className:`space-y-6 ${s}`,children:[r.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg border border-purple-200",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-10 w-10 rounded-full bg-purple-600 flex items-center justify-center",children:r.jsx(qO,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-purple-900",children:" Recurring Order Setup"}),r.jsx("p",{className:"text-sm text-purple-700",children:"Create recurring orders with automatic scheduling"})]})]}),r.jsx("div",{className:"ml-auto",children:r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:a,onChange:F=>n(F.target.checked),className:"w-5 h-5 text-purple-600 rounded focus:ring-purple-500"}),r.jsx("span",{className:"text-sm font-medium text-purple-800",children:"Enable Recurring Orders"})]})})]}),a&&r.jsx(ae,{className:"border-2 border-purple-200 bg-gradient-to-br from-purple-50 to-blue-50",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(hs,{className:"h-5 w-5 text-purple-600"}),r.jsx("h4",{className:"text-lg font-semibold text-purple-900",children:" Date Range"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),r.jsx(he,{type:"date",value:i,onChange:F=>l(F.target.value),min:B,max:I,className:"border-purple-300 focus:border-purple-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"}),r.jsx(he,{type:"date",value:o,onChange:F=>u(F.target.value),min:i||B,max:I,className:"border-purple-300 focus:border-purple-500"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(wr,{className:"h-5 w-5 text-purple-600"}),r.jsx("h4",{className:"text-lg font-semibold text-purple-900",children:" Days of the Week"})]}),r.jsx("div",{className:"grid grid-cols-7 gap-2",children:X7.map(F=>r.jsx("button",{type:"button",onClick:()=>D(F.value),className:`p-3 text-sm font-medium rounded-lg border-2 transition-all ${d.includes(F.value)?"bg-purple-600 text-white border-purple-600 shadow-lg scale-105":"bg-white text-gray-700 border-gray-300 hover:border-purple-300 hover:bg-purple-50"}`,children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"font-bold",children:F.label}),r.jsx("div",{className:"text-xs opacity-80",children:F.fullName.slice(0,3)})]})},F.value))}),d.length>0&&r.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:r.jsxs("p",{className:"text-sm text-purple-800",children:[r.jsx("strong",{children:"Selected Days:"})," ",d.map(F=>X7.find(Y=>Y.value===F)?.fullName).join(", ")]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(qO,{className:"h-4 w-4 inline mr-1"}),"Frequency"]}),r.jsx(Dt,{value:p,onChange:F=>y(F.target.value),className:"border-purple-300 focus:border-purple-500",options:[{value:"",label:"Select Frequency"},...e4e.map(F=>({value:F.value,label:`${F.label} - ${F.description}`}))]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(mh,{className:"h-4 w-4 inline mr-1"}),"Maximum Number of Times"]}),r.jsx(he,{type:"number",min:"1",max:"100",value:f,onChange:F=>g(parseInt(F.target.value)||1),placeholder:"Enter max occurrences",className:"border-purple-300 focus:border-purple-500"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Maximum number of recurring orders (1-100)"})]})]}),r.jsxs("div",{className:"space-y-4 p-4 bg-gradient-to-r from-green-50 to-blue-50 rounded-lg border border-green-200",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(Eo,{className:"h-5 w-5 text-green-600"}),r.jsx("h4",{className:"text-lg font-semibold text-green-900",children:" Recurring Order Discount"}),r.jsx(at,{variant:"success",children:"Special Offer"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("button",{type:"button",onClick:()=>j("percentage"),className:`p-4 rounded-lg border-2 transition-all ${v==="percentage"?"bg-blue-600 text-white border-blue-600 shadow-lg":"bg-white text-gray-700 border-gray-300 hover:border-blue-300"}`,children:[r.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[r.jsx(mx,{className:"h-5 w-5"}),r.jsx("span",{className:"font-semibold",children:"Percentage Discount"})]}),r.jsx("p",{className:"text-sm opacity-90",children:"Apply % discount on each order"})]}),r.jsxs("button",{type:"button",onClick:()=>j("amount"),className:`p-4 rounded-lg border-2 transition-all ${v==="amount"?"bg-green-600 text-white border-green-600 shadow-lg":"bg-white text-gray-700 border-gray-300 hover:border-green-300"}`,children:[r.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[r.jsx(hh,{className:"h-5 w-5"}),r.jsx("span",{className:"font-semibold",children:"Fixed Amount"})]}),r.jsx("p",{className:"text-sm opacity-90",children:"Fixed discount per order"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Discount ",v==="percentage"?"Percentage":"Amount"]}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:`absolute left-3 top-1/2 -translate-y-1/2 ${v==="percentage"?"text-blue-600":"text-green-600"}`,children:v==="percentage"?r.jsx(mx,{className:"h-5 w-5"}):r.jsx(hh,{className:"h-5 w-5"})}),r.jsx(he,{type:"number",step:v==="percentage"?"0.1":"0.01",min:"0",max:v==="percentage"?50:t,value:N||"",onChange:F=>k(parseFloat(F.target.value)||0),placeholder:v==="percentage"?"Enter %":"Enter ",className:"pl-10 border-green-300 focus:border-green-500"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:v==="percentage"?"Max: 50%":`Max: ${jt(t)}`})]}),v==="percentage"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quick Options"}),r.jsx("div",{className:"grid grid-cols-3 gap-2",children:[5,10,15].map(F=>r.jsxs("button",{type:"button",onClick:()=>k(F),className:`px-3 py-2 text-sm rounded transition-colors ${N===F?"bg-blue-600 text-white":"bg-blue-100 text-blue-700 hover:bg-blue-200"}`,children:[F,"%"]},F))})]})]}),C>0&&r.jsx("div",{className:"p-3 bg-green-100 border border-green-300 rounded-lg",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ru,{className:"h-4 w-4 text-green-600"}),r.jsxs("span",{className:"text-sm font-medium text-green-800",children:["Discount Applied: ",v==="percentage"?`${N}%`:jt(N)]})]}),r.jsxs(at,{variant:"success",children:["Saves ",jt(C)," per order"]})]})})]}),A>0&&r.jsxs("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(Cr,{className:"h-5 w-5 text-blue-600"}),r.jsx("h4",{className:"text-lg font-semibold text-blue-900",children:" Recurring Order Summary"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Selected Days:"}),r.jsxs("span",{className:"font-medium",children:[d.length," days/week"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Frequency:"}),r.jsx("span",{className:"font-medium capitalize",children:p})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Total Occurrences:"}),r.jsxs("span",{className:"font-medium text-blue-600",children:[A," orders"]})]})]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Per Order Amount:"}),r.jsx("span",{className:"font-medium",children:jt(t)})]}),C>0&&r.jsxs("div",{className:"flex justify-between text-green-600",children:[r.jsx("span",{children:"Discount per Order:"}),r.jsxs("span",{className:"font-medium",children:["-",jt(C)]})]}),r.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[r.jsx("span",{className:"text-gray-800",children:"Estimated Total:"}),r.jsx("span",{className:"text-purple-600",children:jt(R)})]})]})]}),C>0&&r.jsx("div",{className:"mt-3 p-2 bg-green-100 rounded text-center",children:r.jsxs("p",{className:"text-sm font-medium text-green-800",children:[" Total Savings: ",jt(C*A)]})})]}),a&&r.jsxs("div",{className:"space-y-2",children:[!i&&r.jsxs("div",{className:"flex items-center gap-2 text-amber-600 text-sm",children:[r.jsx(tl,{className:"h-4 w-4"}),r.jsx("span",{children:"Please select a start date"})]}),!o&&r.jsxs("div",{className:"flex items-center gap-2 text-amber-600 text-sm",children:[r.jsx(tl,{className:"h-4 w-4"}),r.jsx("span",{children:"Please select an end date"})]}),d.length===0&&r.jsxs("div",{className:"flex items-center gap-2 text-amber-600 text-sm",children:[r.jsx(tl,{className:"h-4 w-4"}),r.jsx("span",{children:"Please select at least one day of the week"})]}),A>0&&r.jsxs("div",{className:"flex items-center gap-2 text-green-600 text-sm",children:[r.jsx(Cr,{className:"h-4 w-4"}),r.jsx("span",{children:"Recurring order configuration is complete!"})]})]})]})})]})}const r4e=ha({customerName:_t().min(2,"Name must be at least 2 characters"),customerPhone:_t().regex(/^\+91[6-9]\d{9}$/,"Invalid phone number format"),customerEmail:_t().email("Invalid email").optional().or(U2("")),addressLine1:_t().min(5,"Address line 1 is required"),addressLine2:_t().optional(),city:_t().min(2,"City is required"),state:_t().min(2,"State is required"),pincode:_t().regex(/^\d{6}$/,"Pincode must be 6 digits"),addressType:ma(["home","work","other"]),preOrderType:ma(["advance_booking","rare_product","exotic_product","bulk_order","subscription"]),scheduledDate:_t().min(1,"Scheduled delivery date is required"),scheduledSlot:_t().min(1,"Delivery slot is required"),advancePayment:gs().min(0,"Advance payment must be positive"),items:au(ha({productId:_t().min(1,"Product is required"),variantId:_t().min(1,"Variant is required"),quantity:gs().min(1,"Quantity must be at least 1"),price:gs().min(0,"Price must be positive"),isRareProduct:sh().optional(),isExoticProduct:sh().optional()})).min(1,"At least one item is required"),hubId:_t().min(1,"Hub/Store selection is required"),paymentMethod:ma(["advance_full","advance_partial","cod_on_delivery"]),orderSource:ma(["whatsapp","instagram","facebook","manual","subscription"]),packingCharges:gs().min(0,"Packing charges must be positive").optional(),deliveryCharges:gs().min(0,"Delivery charges must be positive").optional(),specialInstructions:_t().optional(),occasionType:_t().optional()}),J7=[{value:"advance_booking",label:"Advance Booking",description:"Book products in advance for future delivery",icon:hs,color:"blue",minDays:1,maxDays:30},{value:"rare_product",label:"Rare Product Order",description:"Limited availability products - seasonal/premium",icon:Na,color:"amber",minDays:2,maxDays:7},{value:"exotic_product",label:"Exotic Product Order",description:"Imported delicacies - special handling required",icon:qf,color:"purple",minDays:3,maxDays:10},{value:"bulk_order",label:"Bulk Order",description:"Large quantity orders for events/parties",icon:Pt,color:"green",minDays:3,maxDays:14},{value:"subscription",label:"Subscription Order",description:"Recurring orders on scheduled basis",icon:mh,color:"orange",minDays:7,maxDays:90}],s4e=[{value:"",label:"No Special Occasion"},{value:"birthday",label:"Birthday Celebration"},{value:"anniversary",label:"Anniversary"},{value:"festival",label:"Festival (Pongal, Deepavali, etc.)"},{value:"wedding",label:"Wedding Function"},{value:"party",label:"House Party"},{value:"business",label:"Business Event"},{value:"other",label:"Other Special Occasion"}];function Vp({moduleType:e,products:t,hubs:s,onSubmit:a}){const[n,i]=_.useState(!1),[l,o]=_.useState(null),[u,d]=_.useState(!1),[m,f]=_.useState(""),[g,p]=_.useState(""),[y,v]=_.useState(""),[j,N]=_.useState(null),{register:k,control:w,handleSubmit:A,watch:C,setValue:M,formState:{errors:R},reset:D}=g0({resolver:y0(r4e),defaultValues:{addressType:"home",paymentMethod:"advance_partial",orderSource:"manual",advancePayment:0,preOrderType:"advance_booking"}}),{fields:B,append:z,remove:I}=f6({control:w,name:"items"}),F=C("items"),Y=C("advancePayment"),te=Ce=>{const it=J7.find(rt=>rt.value===Ce);if(it){const rt=new Date,fe=new Date(rt.getTime()+it.minDays*24*60*60*1e3),ke=new Date(rt.getTime()+it.maxDays*24*60*60*1e3);p(fe.toISOString().split("T")[0]),v(ke.toISOString().split("T")[0])}},ue=F?.reduce((Ce,it)=>Ce+it.price*it.quantity,0)||0,Z=u?ue*.05:0,ie=j?.isRecurring?j.discountType==="percentage"?ue*j.discountValue/100:j.discountValue:0,G=Z+ie,ee=u&&ue>=349?0:50,Ne=C("packingCharges")||0,X=C("deliveryCharges")||0,P=m==="bulk_order"?X:ee,H=Math.max(0,ue-G+P+(m==="bulk_order"?Ne:0)),q=H-(Y||0),W=Ce=>{M("customerName",Ce.name),M("customerPhone",Ce.phone),M("customerEmail",Ce.email),d(Ce.isElite)},le=Ce=>{f(Ce),M("preOrderType",Ce),te(Ce)},Se=(Ce,it)=>{const rt=Ce.variants.find(fe=>fe.id===it);rt&&z({productId:Ce.id,variantId:it,quantity:1,price:rt.price,isRareProduct:Ce.isRare,isExoticProduct:Ce.deliveryType==="exotic"})},Pe=async Ce=>{i(!0);try{const it={...Ce,total:H,remainingAmount:q,isEliteMember:u,recurrenceData:j?.isRecurring?j:null};await a(it),D(),o(null),d(!1),f(""),N(null)}catch(it){console.error("Failed to create pre-order:",it)}finally{i(!1)}},re=e==="hub"?"blue":"green",ye=e==="hub"?"Hub Pre-Order":"Store Pre-Order",ze=(()=>{switch(m){case"rare_product":return t.filter(Ce=>Ce.isRare&&Ce.deliveryType==="next_day");case"exotic_product":return t.filter(Ce=>!Ce.isRare&&Ce.deliveryType==="exotic");default:return t}})();return r.jsx(wN,{isLoading:n,type:"page",text:"Creating pre-order...",variant:"branded",children:r.jsxs("form",{onSubmit:A(Pe),className:"space-y-6",children:[r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:`h-10 w-10 rounded-lg bg-${re}-600 flex items-center justify-center`,children:r.jsx(hs,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Pre-Order Type"}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Select the type of advance booking for ",ye.toLowerCase()]})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:J7.map(Ce=>{const it=Ce.icon,rt=m===Ce.value;return r.jsxs("div",{onClick:()=>le(Ce.value),className:`p-4 border-2 rounded-lg cursor-pointer transition-all ${rt?`border-${Ce.color}-500 bg-${Ce.color}-50`:"border-gray-200 hover:border-gray-300"}`,children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:`h-8 w-8 rounded-lg bg-${Ce.color}-600 flex items-center justify-center`,children:r.jsx(it,{className:"h-5 w-5 text-white"})}),r.jsx("h4",{className:"font-semibold text-gray-900",children:Ce.label})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:Ce.description}),r.jsxs("p",{className:"text-xs text-gray-500",children:[Ce.minDays,"-",Ce.maxDays," days advance notice"]})]},Ce.value)})}),m&&r.jsxs("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 text-blue-800 mb-2",children:[r.jsx(tl,{className:"h-5 w-5"}),r.jsx("span",{className:"font-semibold",children:"Pre-Order Guidelines"})]}),r.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[m==="rare_product"&&r.jsxs(r.Fragment,{children:[r.jsx("li",{children:" Rare products require 48-72 hours advance notice"}),r.jsx("li",{children:" 50% advance payment required for confirmation"}),r.jsx("li",{children:" Subject to availability from suppliers"})]}),m==="bulk_order"&&r.jsxs(r.Fragment,{children:[r.jsx("li",{children:" Minimum order value: 2,000 for bulk orders"}),r.jsx("li",{children:" Special packaging and handling charges may apply"}),r.jsx("li",{children:" Delivery time slots may be extended for large orders"})]}),m==="advance_booking"&&r.jsxs(r.Fragment,{children:[r.jsx("li",{children:" Elite members can book up to 30 days in advance"}),r.jsx("li",{children:" Regular customers can book up to 7 days in advance"}),r.jsx("li",{children:" Prices locked at time of booking"})]}),m==="subscription"&&r.jsxs(r.Fragment,{children:[r.jsx("li",{children:" Recurring orders with flexible scheduling"}),r.jsx("li",{children:" 10% discount on subscription orders"}),r.jsx("li",{children:" Can pause or modify anytime"})]})]})]})]}),r.jsx($5e,{onCustomerSelect:o,selectedCustomer:l,onCustomerDataChange:W}),r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:`h-10 w-10 rounded-lg bg-${re}-600 flex items-center justify-center`,children:r.jsx(il,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Customer Details"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Confirm customer information for pre-order"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Full Name"}),r.jsxs("div",{className:"relative",children:[r.jsx(il,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),r.jsx(he,{...k("customerName"),placeholder:"Customer full name",error:R.customerName?.message,className:"pl-10"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Phone Number"}),r.jsxs("div",{className:"relative",children:[r.jsx(su,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),r.jsx(he,{...k("customerPhone"),placeholder:"+91 9876543210",error:R.customerPhone?.message,className:"pl-10"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Email (Optional)"}),r.jsxs("div",{className:"relative",children:[r.jsx(Dm,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),r.jsx(he,{...k("customerEmail"),type:"email",placeholder:"customer@email.com",error:R.customerEmail?.message,className:"pl-10"})]})]}),u&&r.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 text-yellow-800",children:[r.jsx(Na,{className:"h-5 w-5"}),r.jsx("span",{className:"font-semibold",children:"Elite Member - Extended Pre-Order Benefits"})]}),r.jsxs("ul",{className:"mt-2 text-sm text-yellow-700 space-y-1",children:[r.jsx("li",{children:" Book up to 30 days in advance (vs 7 days for regular customers)"}),r.jsx("li",{children:" Priority slot allocation for pre-orders"}),r.jsx("li",{children:" 5% additional discount on pre-orders"}),r.jsx("li",{children:" Free delivery on pre-orders above 349"})]})]})]}),r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:`h-10 w-10 rounded-lg bg-${re}-600 flex items-center justify-center`,children:r.jsx(qs,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Delivery Address"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Enter delivery address for the scheduled date"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(he,{label:"Address Line 1",...k("addressLine1"),placeholder:"House no, Building name, Street",error:R.addressLine1?.message}),r.jsx(he,{label:"Address Line 2 (Optional)",...k("addressLine2"),placeholder:"Landmark, Area"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(he,{label:"Pincode",...k("pincode"),placeholder:"600001",error:R.pincode?.message}),r.jsx(he,{label:"City",...k("city"),placeholder:"Chennai",error:R.city?.message}),r.jsx(he,{label:"State",...k("state"),placeholder:"Tamil Nadu",error:R.state?.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address Type"}),r.jsx("div",{className:"flex gap-4",children:[{value:"home",label:"Home"},{value:"work",label:"Work"},{value:"other",label:"Other"}].map(Ce=>r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"radio",...k("addressType"),value:Ce.value,className:"text-blue-600"}),r.jsx("span",{className:"text-sm text-gray-700",children:Ce.label})]},Ce.value))})]})]})]}),r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:`h-10 w-10 rounded-lg bg-${re}-600 flex items-center justify-center`,children:r.jsx(wr,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Delivery Scheduling"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Select delivery date and time slot"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Scheduled Date"}),r.jsx(he,{type:"date",...k("scheduledDate"),min:g,max:y,error:R.scheduledDate?.message}),g&&r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Available from ",new Date(g).toLocaleDateString()," to ",new Date(y).toLocaleDateString()]})]}),r.jsx(Dt,{label:"Delivery Slot",...k("scheduledSlot"),error:R.scheduledSlot?.message,options:[{value:"",label:"Select Time Slot"},{value:"slot1",label:"Slot 1 (7:00 AM - 9:00 AM)"},{value:"slot2",label:"Slot 2 (10:00 AM - 12:00 PM)"},{value:"slot3",label:"Slot 3 (1:00 PM - 3:00 PM)"},{value:"slot4",label:"Slot 4 (4:00 PM - 6:00 PM)"},{value:"slot5",label:"Slot 5 (7:00 PM - 9:00 PM)"}]})]}),r.jsx(Dt,{label:"Occasion Type (Optional)",...k("occasionType"),options:s4e})]}),r.jsx(t4e,{onRecurrenceChange:N,subtotal:ue}),r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:`h-10 w-10 rounded-lg bg-${re}-600 flex items-center justify-center`,children:r.jsx(Pt,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e==="hub"?"Hub Selection":"Store Selection"}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Select ",e," for order processing and delivery"]})]})]}),r.jsx(Dt,{label:e==="hub"?"Select Hub":"Select Store",...k("hubId"),error:R.hubId?.message,options:[{value:"",label:`Choose ${e}...`},...s.map(Ce=>({value:Ce.id,label:`${Ce.name} - ${Ce.location}`}))]})]}),r.jsx(H5e,{products:ze,onProductAdd:Se,isEliteMember:u,moduleType:e}),B.length>0&&r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:`h-10 w-10 rounded-lg bg-${re}-600 flex items-center justify-center`,children:r.jsx(Pt,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Pre-Order Items"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Items scheduled for delivery"})]})]}),r.jsx("div",{className:"space-y-3",children:B.map((Ce,it)=>{const rt=F[it];return r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("h5",{className:"font-medium text-gray-900",children:["Product ",it+1]}),rt?.isRareProduct&&r.jsxs(at,{variant:"warning",className:"bg-amber-100 text-amber-800",children:[r.jsx(Na,{className:"h-3 w-3 mr-1"}),"Rare"]}),rt?.isExoticProduct&&r.jsxs(at,{variant:"info",className:"bg-purple-100 text-purple-800",children:[r.jsx(l9,{className:"h-3 w-3 mr-1"}),"Exotic"]})]}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Quantity: ",rt?.quantity]}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Price: ",jt(rt?.price||0)," each"]})]}),r.jsx("div",{className:"text-right",children:r.jsx("p",{className:"font-semibold text-gray-900",children:jt((rt?.price||0)*(rt?.quantity||0))})}),r.jsx(ce,{type:"button",variant:"ghost",size:"sm",onClick:()=>I(it),className:"text-red-600 hover:text-red-700 ml-4",children:"Remove"})]},Ce.id)})})]}),r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:`h-10 w-10 rounded-lg bg-${re}-600 flex items-center justify-center`,children:r.jsx(ru,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Payment Configuration"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Configure advance payment and delivery options"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(Dt,{label:"Payment Method",...k("paymentMethod"),error:R.paymentMethod?.message,options:[{value:"advance_full",label:"Full Advance Payment"},{value:"advance_partial",label:"Partial Advance Payment"},{value:"cod_on_delivery",label:"Cash on Delivery"}]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Advance Payment Amount"}),r.jsx(he,{type:"number",...k("advancePayment",{valueAsNumber:!0}),placeholder:"0",error:R.advancePayment?.message}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Minimum 50% advance payment required for rare products"})]})]}),m==="bulk_order"&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Packing Charges"}),r.jsx(he,{type:"number",...k("packingCharges",{valueAsNumber:!0}),placeholder:"0",error:R.packingCharges?.message}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Special packaging charges for bulk orders"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Delivery Charges"}),r.jsx(he,{type:"number",...k("deliveryCharges",{valueAsNumber:!0}),placeholder:"0",error:R.deliveryCharges?.message}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Additional delivery charges for bulk quantity"})]})]}),r.jsx(Dt,{label:"Order Source",...k("orderSource"),error:R.orderSource?.message,options:[{value:"manual",label:"Manual Entry"},{value:"whatsapp",label:"WhatsApp"},{value:"instagram",label:"Instagram"},{value:"facebook",label:"Facebook"},{value:"subscription",label:"Subscription"}]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Instructions (Optional)"}),r.jsx("textarea",{...k("specialInstructions"),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Any special instructions for the pre-order..."})]})]}),B.length>0&&r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:`h-10 w-10 rounded-lg bg-${re}-600 flex items-center justify-center`,children:r.jsx(Cr,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Pre-Order Summary"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Review your pre-order details"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Order Details"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),r.jsx("span",{className:"font-medium",children:jt(ue)})]}),u&&Z>0&&r.jsxs("div",{className:"flex justify-between text-green-600",children:[r.jsx("span",{children:"Elite Discount (5%):"}),r.jsxs("span",{children:["-",jt(Z)]})]}),ie>0&&r.jsxs("div",{className:"flex justify-between text-purple-600",children:[r.jsx("span",{children:"Recurring Order Discount:"}),r.jsxs("span",{children:["-",jt(ie)]})]}),m==="bulk_order"&&Ne>0&&r.jsxs("div",{className:"flex justify-between text-green-700",children:[r.jsx("span",{children:"Packing Charges:"}),r.jsxs("span",{children:["+",jt(Ne)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Delivery Charges:"}),r.jsx("span",{className:P===0?"text-green-600":"",children:P===0?"FREE":jt(P)})]}),r.jsxs("div",{className:"flex justify-between text-lg font-semibold border-t pt-2",children:[r.jsx("span",{children:"Total Amount:"}),r.jsx("span",{className:"text-green-600",children:jt(H)})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Payment Breakdown"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Advance Payment:"}),r.jsx("span",{className:"font-medium text-blue-600",children:jt(Y||0)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Remaining Amount:"}),r.jsx("span",{className:"font-medium text-orange-600",children:jt(q)})]}),r.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"Remaining amount will be collected on delivery"})]})]})]}),(u||j?.isRecurring)&&r.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 text-yellow-800 mb-2",children:[r.jsx(Na,{className:"h-5 w-5"}),r.jsx("span",{className:"font-semibold",children:u&&j?.isRecurring?"Elite Member + Recurring Order Benefits":u?"Elite Member Pre-Order Benefits":"Recurring Order Benefits"})]}),r.jsxs("div",{className:"text-sm text-yellow-700",children:[r.jsxs("p",{children:["Total Savings: ",jt(G+(50-P))]}),r.jsxs("p",{className:"text-xs mt-1",children:[u&&"Includes Elite member discount and free delivery",j?.isRecurring&&(u?" + recurring order discount":"Includes recurring order discount")]}),j?.isRecurring&&r.jsxs("p",{className:"text-xs mt-1 font-medium",children:[" This order will repeat ",j.totalOccurrences," times"]})]})]})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx(ce,{type:"button",variant:"secondary",onClick:()=>{D(),o(null),d(!1),f("")},className:"flex-1",children:"Cancel"}),r.jsx(ce,{type:"submit",disabled:B.length===0||!m||n,className:"flex-1",children:n?"Creating Pre-Order...":`Create ${ye}`})]})]})})}const a4e=ha({amount:gs().min(.01,"Amount must be greater than 0"),paymentMethod:ma(["cash","card","upi","bank_transfer","cheque","online"]),paymentMode:ma(["full","partial","advance"]),transactionId:_t().optional(),referenceNumber:_t().optional(),notes:_t().optional()}),n4e=[{value:"cash",label:"Cash",icon:dN,color:"green"},{value:"card",label:"Card (Debit/Credit)",icon:Jn,color:"blue"},{value:"upi",label:"UPI",icon:Hf,color:"purple"},{value:"bank_transfer",label:"Bank Transfer",icon:qm,color:"indigo"},{value:"cheque",label:"Cheque",icon:Hs,color:"gray"},{value:"online",label:"Online Payment",icon:Jn,color:"blue"}],Q7=[{value:"full",label:"Full Payment",description:"Complete payment for the order"},{value:"partial",label:"Partial Payment",description:"Part payment, balance pending"},{value:"advance",label:"Advance Payment",description:"Advance payment for pre-orders"}];function i4e({isOpen:e,onClose:t,order:s,onSubmit:a}){const[n,i]=_.useState(!1),[l,o]=_.useState(""),{register:u,handleSubmit:d,formState:{errors:m},watch:f,setValue:g,reset:p}=g0({resolver:y0(a4e),defaultValues:{paymentMode:"partial"}}),y=f("amount"),v=f("paymentMode"),j=s.totalAmount,N=s.paidAmount||0,k=j-N,w=k-(y||0),A=async R=>{i(!0);try{await a(R),p(),o(""),t()}catch(D){console.error("Failed to record payment:",D)}finally{i(!1)}},C=R=>{o(R),g("paymentMethod",R)},M=R=>{g("amount",R)};return r.jsx(gr,{isOpen:e,onClose:t,title:"Record Payment",size:"lg",children:r.jsxs("form",{onSubmit:d(A),className:"space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4 border-2 border-blue-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"h-10 w-10 rounded-lg bg-blue-600 flex items-center justify-center",children:r.jsx(Qf,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{children:[r.jsxs("h3",{className:"font-semibold text-gray-900",children:["Order #",s.id]}),r.jsxs("p",{className:"text-sm text-gray-600",children:[s.customerName,"  ",s.customerPhone]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"text-center p-3 bg-white rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Amount"}),r.jsx("p",{className:"text-lg font-bold text-gray-900",children:jt(j)})]}),r.jsxs("div",{className:"text-center p-3 bg-white rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Paid Amount"}),r.jsx("p",{className:"text-lg font-bold text-green-600",children:jt(N)})]}),r.jsxs("div",{className:"text-center p-3 bg-white rounded-lg border-2 border-orange-400 shadow-md",children:[r.jsx("p",{className:"text-sm font-semibold text-orange-700",children:"Balance to Pay"}),r.jsx("p",{className:"text-2xl font-bold text-orange-600",children:jt(k)})]}),r.jsxs("div",{className:"text-center p-3 bg-white rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Payment Status"}),r.jsx(at,{variant:s.paymentStatus==="paid"?"success":s.paymentStatus==="partial"?"warning":"danger",children:s.paymentStatus==="partial"?"PARTIALLY PAID":s.paymentStatus.toUpperCase()})]})]})]}),s.paymentStatus==="partial"&&k>0&&r.jsx("div",{className:"bg-orange-50 border-l-4 border-orange-400 p-4 rounded-r-lg",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(tl,{className:"h-5 w-5 text-orange-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-orange-900",children:"Partial Payment Pending"}),r.jsxs("p",{className:"text-sm text-orange-700 mt-1",children:["Customer needs to pay ",r.jsx("span",{className:"font-bold",children:jt(k)})," to complete this order."]})]})]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(dh,{className:"h-5 w-5 text-blue-600"}),r.jsx("h3",{className:"font-semibold text-gray-900",children:"Payment Amount"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(he,{label:"Amount to Record",type:"number",step:"0.01",min:"0.01",max:k,...u("amount",{valueAsNumber:!0}),error:m.amount?.message,placeholder:"Enter amount received"}),r.jsxs("div",{className:"flex gap-2 mt-2",children:[r.jsxs("button",{type:"button",onClick:()=>M(k),className:"px-3 py-1 text-xs bg-green-100 text-green-700 rounded-full hover:bg-green-200 transition-colors",children:["Full (",jt(k),")"]}),r.jsxs("button",{type:"button",onClick:()=>M(k/2),className:"px-3 py-1 text-xs bg-blue-100 text-blue-700 rounded-full hover:bg-blue-200 transition-colors",children:["Half (",jt(k/2),")"]})]})]}),r.jsxs("div",{children:[r.jsx(Dt,{label:"Payment Mode",...u("paymentMode"),error:m.paymentMode?.message,options:[{value:"",label:"Select payment mode"},...Q7.map(R=>({value:R.value,label:R.label}))]}),v&&r.jsx("p",{className:"text-xs text-gray-600 mt-1",children:Q7.find(R=>R.value===v)?.description})]})]}),y&&r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Payment Calculation"}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-blue-700",children:"Recording:"}),r.jsx("p",{className:"font-bold text-blue-900",children:jt(y)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-blue-700",children:"Remaining:"}),r.jsx("p",{className:"font-bold text-blue-900",children:jt(Math.max(0,w))})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-blue-700",children:"New Status:"}),r.jsx("p",{className:"font-bold text-blue-900",children:w<=0?"PAID":"PARTIALLY PAID"})]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Jn,{className:"h-5 w-5 text-blue-600"}),r.jsx("h3",{className:"font-semibold text-gray-900",children:"Payment Method"})]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:n4e.map(R=>{const D=R.icon,B=l===R.value;return r.jsxs("button",{type:"button",onClick:()=>C(R.value),className:`p-4 rounded-lg border-2 transition-all ${B?`border-${R.color}-500 bg-${R.color}-50`:"border-gray-200 hover:border-gray-300"}`,children:[r.jsx(D,{className:`h-6 w-6 mx-auto mb-2 ${B?`text-${R.color}-600`:"text-gray-400"}`}),r.jsx("p",{className:`text-sm font-medium ${B?`text-${R.color}-900`:"text-gray-700"}`,children:R.label})]},R.value)})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Additional Details"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(he,{label:"Transaction ID (Optional)",...u("transactionId"),placeholder:"Enter transaction ID"}),r.jsx(he,{label:"Reference Number (Optional)",...u("referenceNumber"),placeholder:"Enter reference number"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (Optional)"}),r.jsx("textarea",{...u("notes"),rows:3,className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Add any additional notes about this payment..."})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[r.jsx(ce,{type:"button",variant:"secondary",onClick:t,className:"flex-1",disabled:n,children:"Cancel"}),r.jsx(ce,{type:"submit",className:"flex-1",disabled:n||!y||!l,children:n?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Recording..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Record Payment"]})})]})]})})}const l4e={cash:dN,card:Jn,upi:Hf,bank_transfer:qm,cheque:Hs,online:Jn},o4e={cash:"green",card:"blue",upi:"purple",bank_transfer:"indigo",cheque:"gray",online:"blue"},c4e={confirmed:Cr,pending_verification:wr,failed:uh,refunded:Tn},d4e={confirmed:"success",pending_verification:"warning",failed:"danger",refunded:"info"};function u4e({paymentRecords:e,className:t=""}){if(!e||e.length===0)return r.jsxs("div",{className:`text-center py-8 ${t}`,children:[r.jsx(Jn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Payment Records"}),r.jsx("p",{className:"text-gray-600",children:"No payments have been recorded for this order yet."})]});const s=e.filter(a=>a.status==="confirmed").reduce((a,n)=>a+n.amount,0);return r.jsxs("div",{className:`space-y-4 ${t}`,children:[r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-8 w-8 rounded-lg bg-green-600 flex items-center justify-center",children:r.jsx(Cr,{className:"h-4 w-4 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-green-900",children:"Total Payments Received"}),r.jsx("p",{className:"text-2xl font-bold text-green-900",children:jt(s)})]})]})}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Payment History"}),e.map((a,n)=>{const i=l4e[a.paymentMethod],l=c4e[a.status],o=o4e[a.paymentMethod];return r.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:`h-10 w-10 rounded-lg bg-${o}-100 flex items-center justify-center`,children:r.jsx(i,{className:`h-5 w-5 text-${o}-600`})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("h4",{className:"font-semibold text-gray-900",children:jt(a.amount)}),r.jsxs(at,{variant:d4e[a.status],className:"flex items-center gap-1",children:[r.jsx(l,{className:"h-3 w-3"}),a.status.replace("_"," ").toUpperCase()]}),r.jsx(at,{variant:"default",className:"capitalize",children:a.paymentMode})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"flex items-center gap-2",children:[r.jsx(i,{className:"h-4 w-4"}),r.jsx("span",{className:"capitalize",children:a.paymentMethod.replace("_"," ")})]}),a.transactionId&&r.jsxs("p",{className:"mt-1",children:[r.jsx("span",{className:"font-medium",children:"Transaction ID:"})," ",a.transactionId]}),a.referenceNumber&&r.jsxs("p",{className:"mt-1",children:[r.jsx("span",{className:"font-medium",children:"Reference:"})," ",a.referenceNumber]})]}),r.jsxs("div",{children:[r.jsxs("p",{className:"flex items-center gap-2",children:[r.jsx(il,{className:"h-4 w-4"}),r.jsxs("span",{children:["Received by: ",a.receivedBy]})]}),r.jsxs("p",{className:"flex items-center gap-2 mt-1",children:[r.jsx(hs,{className:"h-4 w-4"}),r.jsx("span",{children:Rm(a.receivedAt)})]})]})]}),a.notes&&r.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:r.jsxs("p",{className:"text-sm text-gray-700",children:[r.jsx("span",{className:"font-medium",children:"Notes:"})," ",a.notes]})})]})]}),r.jsx("div",{className:"text-right",children:r.jsxs("span",{className:"text-xs text-gray-500",children:["#",n+1]})})]})},a.id)})]})]})}const h4e=ha({amount:gs().min(.01,"Refund amount must be greater than 0"),refundType:ma(["full","partial","item_return","cancellation","quality_issue"]),refundMethod:ma(["original_payment","cash","bank_transfer","wallet_credit","store_credit"]),reason:_t().min(5,"Reason must be at least 5 characters"),itemsRefunded:au(ha({productId:_t(),productName:_t(),variant:_t(),quantity:gs().min(1),refundAmount:gs().min(0)})).optional(),transactionId:_t().optional(),referenceNumber:_t().optional(),notes:_t().optional()}),m4e=[{value:"full",label:"Full Refund",description:"Complete order refund",icon:Tn,color:"red"},{value:"partial",label:"Partial Refund",description:"Partial amount refund",icon:dh,color:"orange"},{value:"item_return",label:"Item Return",description:"Specific item return",icon:Pt,color:"blue"},{value:"cancellation",label:"Order Cancellation",description:"Order cancelled by customer",icon:ls,color:"gray"},{value:"quality_issue",label:"Quality Issue",description:"Product quality problem",icon:ls,color:"red"}],f4e=[{value:"original_payment",label:"Original Payment Method",icon:Jn,color:"blue"},{value:"cash",label:"Cash Refund",icon:dN,color:"green"},{value:"bank_transfer",label:"Bank Transfer",icon:qm,color:"indigo"},{value:"wallet_credit",label:"Wallet Credit",icon:Ex,color:"purple"},{value:"store_credit",label:"Store Credit",icon:ru,color:"pink"}];function p4e({isOpen:e,onClose:t,order:s,onSubmit:a}){const[n,i]=_.useState(!1),[l,o]=_.useState(""),[u,d]=_.useState(""),{register:m,handleSubmit:f,formState:{errors:g},watch:p,setValue:y,control:v,reset:j}=g0({resolver:y0(h4e),defaultValues:{refundType:"partial",refundMethod:"original_payment",itemsRefunded:[]}}),{fields:N,append:k,remove:w}=f6({control:v,name:"itemsRefunded"}),A=p("amount"),C=p("refundType"),M=s.totalAmount,R=s.paidAmount||0,D=s.refundedAmount||0,B=R-D,z=M-D-(A||0),I=async ie=>{i(!0);try{await a(ie),j(),o(""),d(""),t()}catch(G){console.error("Failed to record refund:",G)}finally{i(!1)}},F=ie=>{o(ie),y("refundType",ie),ie==="full"&&y("amount",B)},Y=ie=>{d(ie),y("refundMethod",ie)},te=ie=>{y("amount",ie)},ue=ie=>{k({productId:ie.productId,productName:ie.productName,variant:ie.variant,quantity:1,refundAmount:ie.price})},Z=()=>N.reduce((ie,G)=>ie+(G.refundAmount||0),0);return r.jsx(gr,{isOpen:e,onClose:t,title:"Record Refund",size:"xl",children:r.jsxs("form",{onSubmit:f(I),className:"space-y-6",children:[r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"h-10 w-10 rounded-lg bg-red-600 flex items-center justify-center",children:r.jsx(Tn,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{children:[r.jsxs("h3",{className:"font-semibold text-red-900",children:["Refund for Order #",s.id]}),r.jsxs("p",{className:"text-sm text-red-700",children:[s.customerName,"  ",s.customerPhone]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"text-center p-3 bg-white rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Amount"}),r.jsx("p",{className:"text-lg font-bold text-gray-900",children:jt(M)})]}),r.jsxs("div",{className:"text-center p-3 bg-white rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Paid Amount"}),r.jsx("p",{className:"text-lg font-bold text-green-600",children:jt(R)})]}),r.jsxs("div",{className:"text-center p-3 bg-white rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Already Refunded"}),r.jsx("p",{className:"text-lg font-bold text-red-600",children:jt(D)})]}),r.jsxs("div",{className:"text-center p-3 bg-white rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Max Refundable"}),r.jsx("p",{className:"text-lg font-bold text-orange-600",children:jt(B)})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ls,{className:"h-5 w-5 text-red-600"}),r.jsx("h3",{className:"font-semibold text-gray-900",children:"Refund Type"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:m4e.map(ie=>{const G=ie.icon,ee=l===ie.value;return r.jsxs("button",{type:"button",onClick:()=>F(ie.value),className:`p-4 rounded-lg border-2 transition-all text-left ${ee?`border-${ie.color}-500 bg-${ie.color}-50`:"border-gray-200 hover:border-gray-300"}`,children:[r.jsx(G,{className:`h-6 w-6 mb-2 ${ee?`text-${ie.color}-600`:"text-gray-400"}`}),r.jsx("p",{className:`font-medium text-sm ${ee?`text-${ie.color}-900`:"text-gray-700"}`,children:ie.label}),r.jsx("p",{className:`text-xs ${ee?`text-${ie.color}-700`:"text-gray-500"}`,children:ie.description})]},ie.value)})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(dh,{className:"h-5 w-5 text-red-600"}),r.jsx("h3",{className:"font-semibold text-gray-900",children:"Refund Amount"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(he,{label:"Amount to Refund",type:"number",step:"0.01",min:"0.01",max:B,...m("amount",{valueAsNumber:!0}),error:g.amount?.message,placeholder:"Enter refund amount"}),r.jsxs("div",{className:"flex gap-2 mt-2",children:[r.jsxs("button",{type:"button",onClick:()=>te(B),className:"px-3 py-1 text-xs bg-red-100 text-red-700 rounded-full hover:bg-red-200 transition-colors",children:["Full (",jt(B),")"]}),r.jsxs("button",{type:"button",onClick:()=>te(B/2),className:"px-3 py-1 text-xs bg-orange-100 text-orange-700 rounded-full hover:bg-orange-200 transition-colors",children:["Half (",jt(B/2),")"]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Refund Reason"}),r.jsx("textarea",{...m("reason"),rows:3,className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Enter reason for refund..."}),g.reason&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.reason.message})]})]}),A&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-red-900 mb-2",children:"Refund Impact"}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-red-700",children:"Refunding:"}),r.jsx("p",{className:"font-bold text-red-900",children:jt(A)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-red-700",children:"Total Refunded:"}),r.jsx("p",{className:"font-bold text-red-900",children:jt(D+A)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-red-700",children:"Net Order Value:"}),r.jsx("p",{className:"font-bold text-red-900",children:jt(Math.max(0,z))})]})]})]})]}),C==="item_return"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Pt,{className:"h-5 w-5 text-red-600"}),r.jsx("h3",{className:"font-semibold text-gray-900",children:"Items to Refund"})]}),r.jsxs("div",{className:"text-sm text-gray-600",children:["Total: ",jt(Z())]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Order Items"}),r.jsx("div",{className:"space-y-2",children:s.items.map((ie,G)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:ie.productName}),r.jsxs("p",{className:"text-sm text-gray-600",children:[ie.variant,"  Qty: ",ie.quantity,"  ",jt(ie.price)," each"]})]}),r.jsxs("button",{type:"button",onClick:()=>ue(ie),className:"px-3 py-1 text-sm bg-red-100 text-red-700 rounded hover:bg-red-200 transition-colors",children:[r.jsx(hr,{className:"h-4 w-4 inline mr-1"}),"Add to Refund"]})]},G))})]}),N.length>0&&r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Items Selected for Refund"}),N.map((ie,G)=>r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium text-gray-900",children:ie.productName}),r.jsx("p",{className:"text-sm text-gray-600",children:ie.variant}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Quantity"}),r.jsx("input",{type:"number",min:"1",...m(`itemsRefunded.${G}.quantity`,{valueAsNumber:!0}),className:"w-full rounded border border-gray-300 px-2 py-1 text-sm"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Refund Amount"}),r.jsx("input",{type:"number",step:"0.01",min:"0",...m(`itemsRefunded.${G}.refundAmount`,{valueAsNumber:!0}),className:"w-full rounded border border-gray-300 px-2 py-1 text-sm"})]})]})]}),r.jsx("button",{type:"button",onClick:()=>w(G),className:"ml-3 p-1 text-red-600 hover:text-red-800",children:r.jsx(bd,{className:"h-4 w-4"})})]})},ie.id))]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Jn,{className:"h-5 w-5 text-red-600"}),r.jsx("h3",{className:"font-semibold text-gray-900",children:"Refund Method"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:f4e.map(ie=>{const G=ie.icon,ee=u===ie.value;return r.jsxs("button",{type:"button",onClick:()=>Y(ie.value),className:`p-4 rounded-lg border-2 transition-all ${ee?`border-${ie.color}-500 bg-${ie.color}-50`:"border-gray-200 hover:border-gray-300"}`,children:[r.jsx(G,{className:`h-6 w-6 mx-auto mb-2 ${ee?`text-${ie.color}-600`:"text-gray-400"}`}),r.jsx("p",{className:`text-sm font-medium ${ee?`text-${ie.color}-900`:"text-gray-700"}`,children:ie.label})]},ie.value)})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Additional Details"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(he,{label:"Transaction ID (Optional)",...m("transactionId"),placeholder:"Enter transaction ID"}),r.jsx(he,{label:"Reference Number (Optional)",...m("referenceNumber"),placeholder:"Enter reference number"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Notes (Optional)"}),r.jsx("textarea",{...m("notes"),rows:3,className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Add any additional notes about this refund..."})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[r.jsx(ce,{type:"button",variant:"secondary",onClick:t,className:"flex-1",disabled:n,children:"Cancel"}),r.jsx(ce,{type:"submit",variant:"danger",className:"flex-1",disabled:n||!A||!l||!u,children:n?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Tn,{className:"h-4 w-4 mr-2"}),"Record Refund"]})})]})]})})}const x4e={full:"Full Refund",partial:"Partial Refund",item_return:"Item Return",cancellation:"Order Cancellation",quality_issue:"Quality Issue"},g4e={full:Tn,partial:dh,item_return:Pt,cancellation:ls,quality_issue:tl},v4e={original_payment:"Original Payment Method",cash:"Cash Refund",bank_transfer:"Bank Transfer",wallet_credit:"Wallet Credit",store_credit:"Store Credit"},y4e={original_payment:Jn,cash:dN,bank_transfer:qm,wallet_credit:Ex,store_credit:ru},b4e={pending:wr,approved:Cr,processed:Cr,completed:Cr,rejected:uh},j4e={pending:"orange",approved:"blue",processed:"green",completed:"green",rejected:"red"};function N4e({refundRecords:e,className:t=""}){if(!e||e.length===0)return r.jsxs("div",{className:`text-center py-6 ${t}`,children:[r.jsx(Tn,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-500 text-sm",children:"No refund records found"})]});const s=e.reduce((a,n)=>a+n.amount,0);return r.jsxs("div",{className:`space-y-4 ${t}`,children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-8 w-8 rounded-lg bg-red-600 flex items-center justify-center",children:r.jsx(Tn,{className:"h-4 w-4 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Refund History"}),r.jsxs("p",{className:"text-sm text-gray-600",children:[e.length," refund",e.length!==1?"s":"","  Total: ",jt(s)]})]})]})}),r.jsx("div",{className:"space-y-3",children:e.map(a=>{const n=g4e[a.refundType],i=y4e[a.refundMethod],l=b4e[a.status],o=j4e[a.status];return r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"h-10 w-10 rounded-lg bg-red-100 flex items-center justify-center",children:r.jsx(n,{className:"h-5 w-5 text-red-600"})}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:x4e[a.refundType]}),r.jsxs(at,{variant:o,className:"text-xs px-2 py-0.5 flex items-center",children:[r.jsx(l,{className:"h-3 w-3 mr-1"}),a.status.charAt(0).toUpperCase()+a.status.slice(1)]})]}),r.jsx("p",{className:"text-sm text-gray-600",children:a.reason})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-lg font-bold text-red-600",children:["-",jt(a.amount)]}),r.jsx("p",{className:"text-xs text-gray-500",children:Rm(a.processedAt)})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(i,{className:"h-4 w-4 text-gray-500"}),r.jsx("span",{className:"text-sm text-gray-700",children:v4e[a.refundMethod]})]}),r.jsxs("div",{className:"text-sm text-gray-700",children:[r.jsx("span",{className:"font-medium",children:"Processed by:"})," ",a.processedBy]}),a.transactionId&&r.jsxs("div",{className:"text-sm text-gray-700",children:[r.jsx("span",{className:"font-medium",children:"Transaction ID:"})," ",a.transactionId]}),a.referenceNumber&&r.jsxs("div",{className:"text-sm text-gray-700",children:[r.jsx("span",{className:"font-medium",children:"Reference:"})," ",a.referenceNumber]})]}),a.itemsRefunded&&a.itemsRefunded.length>0&&r.jsxs("div",{className:"bg-white rounded-lg p-3 mb-3",children:[r.jsxs("h5",{className:"font-medium text-gray-900 mb-2 flex items-center gap-2",children:[r.jsx(Pt,{className:"h-4 w-4 text-gray-600"}),"Refunded Items"]}),r.jsx("div",{className:"space-y-2",children:a.itemsRefunded.map((u,d)=>r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-900",children:u.productName}),r.jsxs("span",{className:"text-gray-600 ml-2",children:["(",u.variant,")"]}),r.jsxs("span",{className:"text-gray-600 ml-2",children:[" ",u.quantity]})]}),r.jsxs("span",{className:"font-medium text-red-600",children:["-",jt(u.refundAmount)]})]},d))})]}),a.notes&&r.jsxs("div",{className:"bg-white rounded-lg p-3",children:[r.jsx("h5",{className:"font-medium text-gray-900 mb-1",children:"Notes"}),r.jsx("p",{className:"text-sm text-gray-700",children:a.notes})]}),a.approvedBy&&a.approvedAt&&r.jsx("div",{className:"mt-3 pt-3 border-t border-red-200",children:r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(Cr,{className:"h-4 w-4 text-green-600"}),r.jsxs("span",{children:["Approved by ",r.jsx("span",{className:"font-medium",children:a.approvedBy})," on"," ",Rm(a.approvedAt)]})]})})]},a.id)})})]})}function w4e({isOpen:e,onClose:t,onSubmit:s,orderId:a}){const[n,i]=_.useState({service:"porter",personName:"",personPhone:"",vehicleNumber:"",trackingId:""});if(!e)return null;const l=o=>{o.preventDefault(),s(n),t()};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(zr,{className:"h-5 w-5 text-blue-600"}),r.jsx("h2",{className:"text-lg font-semibold",children:"Third-Party Delivery"})]}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:r.jsx(ws,{className:"h-5 w-5"})})]}),r.jsxs("form",{onSubmit:l,className:"p-4 space-y-4",children:[r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:r.jsxs("p",{className:"text-sm text-blue-800",children:["Order: ",r.jsx("span",{className:"font-semibold",children:a})]})}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(eo,{className:"h-4 w-4 inline mr-1"}),"Delivery Service"]}),r.jsxs("select",{value:n.service,onChange:o=>i({...n,service:o.target.value}),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[r.jsx("option",{value:"porter",children:"Porter"}),r.jsx("option",{value:"rapido",children:"Rapido"}),r.jsx("option",{value:"swiggy",children:"Swiggy"}),r.jsx("option",{value:"other",children:"Other"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(il,{className:"h-4 w-4 inline mr-1"}),"Delivery Person Name"]}),r.jsx("input",{type:"text",value:n.personName,onChange:o=>i({...n,personName:o.target.value}),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter person name",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(su,{className:"h-4 w-4 inline mr-1"}),"Phone Number"]}),r.jsx("input",{type:"tel",value:n.personPhone,onChange:o=>i({...n,personPhone:o.target.value}),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"+91 XXXXXXXXXX",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vehicle Number (Optional)"}),r.jsx("input",{type:"text",value:n.vehicleNumber,onChange:o=>i({...n,vehicleNumber:o.target.value}),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"KA01AB1234"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tracking ID (Optional)"}),r.jsx("input",{type:"text",value:n.trackingId,onChange:o=>i({...n,trackingId:o.target.value}),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter tracking ID"})]}),r.jsxs("div",{className:"flex gap-3 pt-2",children:[r.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Assign Delivery"})]})]})]})})}function S4e({isOpen:e,onClose:t,onSubmit:s,orderCount:a,agents:n}){const[i,l]=_.useState(""),[o,u]=_.useState(""),[d,m]=_.useState(null);if(_.useEffect(()=>{if(i){const p=n.find(y=>y.id===i);m(p?.agentType||null),p?.agentType==="employee"&&u("")}},[i,n]),!e)return null;const f=p=>{p.preventDefault(),s({agentId:i,pricePerOrder:d==="partner"?parseFloat(o):void 0}),l(""),u(""),t()},g=d==="partner"&&o?parseFloat(o)*a:0;return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(zr,{className:"h-5 w-5 text-blue-600"}),r.jsx("h2",{className:"text-lg font-semibold",children:"Assign Batch Delivery"})]}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:r.jsx(ws,{className:"h-5 w-5"})})]}),r.jsxs("form",{onSubmit:f,className:"p-4 space-y-4",children:[r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:r.jsxs("p",{className:"text-sm text-blue-800",children:[r.jsx("span",{className:"font-semibold",children:a})," orders selected for batch delivery"]})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Delivery Agent"}),r.jsxs("select",{value:i,onChange:p=>l(p.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[r.jsx("option",{value:"",children:"Choose agent..."}),n.map(p=>r.jsxs("option",{value:p.id,children:[p.name," (",p.agentType==="employee"?"Employee":"Partner",")"]},p.id))]})]}),d==="partner"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(hh,{className:"h-4 w-4 inline mr-1"}),"Price Per Order"]}),r.jsx("input",{type:"number",value:o,onChange:p=>u(p.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter price per order",min:"0",step:"0.01",required:!0})]}),o&&r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[r.jsxs("div",{className:"flex justify-between items-center text-sm",children:[r.jsx("span",{className:"text-green-700",children:"Total Partner Payment:"}),r.jsxs("span",{className:"font-semibold text-green-900",children:["",g.toFixed(2)]})]}),r.jsxs("p",{className:"text-xs text-green-600 mt-1",children:[a," orders  ",parseFloat(o).toFixed(2)]})]})]}),d==="employee"&&r.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3",children:r.jsx("p",{className:"text-sm text-gray-600",children:"No pricing required for employee delivery agents"})}),r.jsxs("div",{className:"flex gap-3 pt-2",children:[r.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Assign Batch"})]})]})]})})}function a1(){const{user:e}=os(),[t,s]=_.useState([]),[a,n]=_.useState("all"),[i,l]=_.useState(!1),[o,u]=_.useState(!1),[d,m]=_.useState(null),[f,g]=_.useState(null),[p,y]=_.useState(!1),[v,j]=_.useState(""),[N,k]=_.useState(!1),[w,A]=_.useState([]),[C,M]=_.useState({startDate:"",endDate:""}),{isLoading:R,withLoading:D}=J9(!0),{register:B,handleSubmit:z,formState:{errors:I},reset:F}=g0({resolver:y0(hne),defaultValues:{addressType:"home",paymentMethod:"cod",source:"manual",items:[]}}),Y=_.useCallback(async()=>{try{const ke=await $g.getAll();s(ke.data)}catch(ke){console.log("API connection failed, using mock data:",ke.message),s([{id:"HUB-001",invoiceNumber:"INV-2024-001",customerId:"1",customerName:"Rajesh Kumar",customerPhone:"+91 9876543210",customerEmail:"rajesh.kumar@email.com",billingAddress:{street:"123 Marina Beach Road",city:"Chennai",state:"Tamil Nadu",zipCode:"600001",country:"India"},shippingAddress:{street:"123 Marina Beach Road, Apt 4B",city:"Chennai",state:"Tamil Nadu",zipCode:"600001",country:"India"},deliveryInstructions:"Please call before delivery. Ring the bell twice.",promoCode:"FISH20",discountAmount:90,deliveryCharges:50,gstAmount:81,subtotalAmount:450,source:"app",status:"processing",paymentStatus:"paid",paymentMethod:"online",items:[{productId:"1",productName:"Seer Fish (Vanjaram)",variant:"Medium Cut",quantity:1,price:450}],totalAmount:491,paidAmount:491,pendingAmount:0,paymentRecords:[{id:"payment_001",orderId:"HUB-001",amount:491,paymentMethod:"upi",paymentMode:"full",transactionId:"UPI123456789",referenceNumber:"REF001",notes:"Full payment received via UPI",receivedBy:"Admin User",receivedAt:new Date(Date.now()-36e5).toISOString(),status:"confirmed",attachments:[]}],deliverySlot:"10:00 AM - 12:00 PM",orderType:"regular",moduleType:"hub",hubId:"hub_1",createdAt:new Date().toISOString()},{id:"HUB-002",invoiceNumber:"INV-2024-002",customerId:"2",customerName:"Arun Patel",customerPhone:"+91 9876543212",customerEmail:"arun.patel@email.com",billingAddress:{street:"456 T. Nagar Main Road",city:"Chennai",state:"Tamil Nadu",zipCode:"600017",country:"India"},deliveryInstructions:"Leave at security gate if not available.",promoCode:"NEWUSER",discountAmount:60,deliveryCharges:0,gstAmount:108,subtotalAmount:600,source:"whatsapp",status:"packed",paymentStatus:"paid",paymentMethod:"cod",items:[{productId:"2",productName:"King Fish",variant:"Steaks",quantity:2,price:600}],totalAmount:648,paidAmount:648,refundedAmount:100,netAmount:548,refundRecords:[{id:"refund_001",orderId:"HUB-002",amount:100,refundType:"partial",refundMethod:"original_payment",reason:"Customer requested partial refund due to quality issue with one piece",transactionId:"REF123456789",referenceNumber:"REFUND001",notes:"Partial refund processed for quality issue",processedBy:"Admin User",processedAt:new Date(Date.now()-18e5).toISOString(),approvedBy:"Manager",approvedAt:new Date(Date.now()-18e5).toISOString(),status:"completed",attachments:[]}],deliverySlot:"2:00 PM - 4:00 PM",orderType:"regular",moduleType:"hub",hubId:"hub_1",createdAt:new Date(Date.now()-36e5).toISOString()},{id:"HUB-003",invoiceNumber:"INV-2024-003",customerId:"3",customerName:"Lakshmi Devi",customerPhone:"+91 9876543213",customerEmail:"lakshmi.devi@email.com",shippingAddress:{street:"789 Anna Salai, Near Landmark",city:"Chennai",state:"Tamil Nadu",zipCode:"600002",country:"India"},deliveryCharges:40,gstAmount:144,subtotalAmount:800,source:"website",status:"delivered",paymentStatus:"paid",paymentMethod:"online",items:[{productId:"3",productName:"Pomfret",variant:"Whole Fish",quantity:1,price:800}],totalAmount:984,deliverySlot:"7:00 AM - 9:00 AM",orderType:"regular",moduleType:"hub",hubId:"hub_1",createdAt:new Date(Date.now()-864e5).toISOString()},{id:"STR-001",invoiceNumber:"INV-2024-004",customerId:"4",customerName:"Priya Sharma",customerPhone:"+91 9876543211",customerEmail:"priya.sharma@email.com",billingAddress:{street:"321 Velachery Main Road",city:"Chennai",state:"Tamil Nadu",zipCode:"600042",country:"India"},shippingAddress:{street:"321 Velachery Main Road, Block C, Flat 201",city:"Chennai",state:"Tamil Nadu",zipCode:"600042",country:"India"},deliveryInstructions:"Deliver between 6-7 PM only. Contact before arrival.",promoCode:"COMBO50",discountAmount:80,deliveryCharges:30,gstAmount:144,subtotalAmount:800,source:"app",status:"received",paymentStatus:"partial",paymentMethod:"cod",items:[{productId:"4",productName:"Chicken Curry Cut",variant:"1kg",quantity:1,price:280},{productId:"5",productName:"Tiger Prawns",variant:"Large",quantity:1,price:520}],totalAmount:894,paidAmount:400,pendingAmount:494,paymentRecords:[{id:"payment_002",orderId:"STR-001",amount:400,paymentMethod:"cash",paymentMode:"advance",transactionId:"",referenceNumber:"ADV001",notes:"Advance payment received in cash",receivedBy:"Store Manager",receivedAt:new Date(Date.now()-12e5).toISOString(),status:"confirmed",attachments:[]}],deliverySlot:"6:00 PM - 8:00 PM",orderType:"regular",moduleType:"store",storeId:"store_1",createdAt:new Date(Date.now()-18e5).toISOString()},{id:"STR-002",invoiceNumber:"INV-2024-005",customerId:"5",customerName:"Karthik Raj",customerPhone:"+91 9876543214",customerEmail:"karthik.raj@email.com",billingAddress:{street:"654 OMR Road, Thoraipakkam",city:"Chennai",state:"Tamil Nadu",zipCode:"600097",country:"India"},deliveryInstructions:"Ring doorbell. Apartment is on 3rd floor.",deliveryCharges:25,gstAmount:96.12,subtotalAmount:534,source:"instagram",status:"processing",paymentStatus:"paid",paymentMethod:"online",items:[{productId:"6",productName:"Mutton Curry Cut",variant:"500g",quantity:1,price:450},{productId:"7",productName:"Eggs",variant:"12 pieces",quantity:1,price:84}],totalAmount:655.12,deliverySlot:"10:00 AM - 12:00 PM",orderType:"regular",moduleType:"store",storeId:"store_2",createdAt:new Date(Date.now()-72e5).toISOString()},{id:"STR-003",invoiceNumber:"INV-2024-006",customerId:"6",customerName:"Meera Nair",customerPhone:"+91 9876543215",customerEmail:"meera.nair@email.com",shippingAddress:{street:"987 ECR Road, Sholinganallur",city:"Chennai",state:"Tamil Nadu",zipCode:"600119",country:"India"},deliveryInstructions:"Please handle seafood with care. Keep refrigerated.",promoCode:"SEAFOOD15",discountAmount:67.5,deliveryCharges:35,gstAmount:81,subtotalAmount:450,source:"facebook",status:"out_for_delivery",paymentStatus:"refunded",paymentMethod:"online",items:[{productId:"8",productName:"Crab",variant:"Medium Size",quantity:2,price:400},{productId:"9",productName:"Spices Mix",variant:"Fish Curry",quantity:1,price:50}],totalAmount:498.5,paidAmount:498.5,refundedAmount:498.5,netAmount:0,refundRecords:[{id:"refund_002",orderId:"STR-003",amount:498.5,refundType:"full",refundMethod:"original_payment",reason:"Order cancelled by customer before delivery",itemsRefunded:[{productId:"8",productName:"Crab",variant:"Medium Size",quantity:2,refundAmount:400},{productId:"9",productName:"Spices Mix",variant:"Fish Curry",quantity:1,refundAmount:50}],transactionId:"REF987654321",referenceNumber:"REFUND002",notes:"Full refund processed due to order cancellation",processedBy:"Store Manager",processedAt:new Date(Date.now()-36e5).toISOString(),approvedBy:"Store Admin",approvedAt:new Date(Date.now()-36e5).toISOString(),status:"completed",attachments:[]}],deliverySlot:"4:00 PM - 6:00 PM",orderType:"regular",moduleType:"store",storeId:"store_1",createdAt:new Date(Date.now()-108e5).toISOString()}])}},[]);_.useEffect(()=>{D(Y)},[Y,D]);const te=ux(t,e),ue=_.useCallback(ke=>{s(Ie=>Ie.map(je=>je.id===ke.orderId?{...je,status:ke.status}:je))},[]);Wle(ue);const Z=_.useCallback(ke=>{const Ie={id:ke.order.id,invoiceNumber:`INV-${new Date().getFullYear()}-${String(Date.now()).slice(-6)}`,customerId:"",customerName:ke.order.customerName,customerPhone:"",source:ke.order.source,status:"received",paymentStatus:"pending",paymentMethod:"cod",items:[],totalAmount:ke.order.totalAmount,deliverySlot:"",orderType:"regular",moduleType:"store",createdAt:new Date().toISOString()};s(je=>[Ie,...je])},[]);FB(Z);const ie=async ke=>{try{await $g.create(ke),l(!1),F(),await Y()}catch(Ie){console.error("Failed to create order:",Ie)}},G=ke=>{g(ke)},ee=ke=>{m(ke),u(!0)},Ne=async ke=>{if(d)try{await $g.update(d.id,ke),s(Ie=>Ie.map(je=>je.id===d.id?{...je,...ke}:je)),u(!1),m(null)}catch{s(je=>je.map(Me=>Me.id===d.id?{...Me,...ke}:Me)),u(!1),m(null),console.log("Order updated successfully")}},X=async(ke,Ie)=>{try{const je={id:`payment_${Date.now()}`,orderId:ke,amount:Ie.amount,paymentMethod:Ie.paymentMethod,paymentMode:Ie.paymentMode,transactionId:Ie.transactionId,referenceNumber:Ie.referenceNumber,notes:Ie.notes,receivedBy:e?.name||"System",receivedAt:new Date().toISOString(),status:"confirmed",attachments:[]};if(s(Me=>Me.map(yt=>{if(yt.id===ke){const be=(yt.paidAmount||0)+Ie.amount,De=yt.totalAmount-be;let st="pending";return De<=0?st="paid":be>0&&(st="partial"),{...yt,paidAmount:be,pendingAmount:Math.max(0,De),paymentStatus:st,paymentRecords:[...yt.paymentRecords||[],je]}}return yt})),f?.id===ke){const Me=t.find(yt=>yt.id===ke);Me&&g({...Me,paidAmount:(Me.paidAmount||0)+Ie.amount,pendingAmount:Math.max(0,Me.totalAmount-((Me.paidAmount||0)+Ie.amount)),paymentStatus:Me.totalAmount-((Me.paidAmount||0)+Ie.amount)<=0?"paid":"partial",paymentRecords:[...Me.paymentRecords||[],je]})}console.log("Payment recorded successfully")}catch(je){throw console.error("Failed to record payment:",je),je}},P=async(ke,Ie)=>{try{const je={id:`refund_${Date.now()}`,orderId:ke,amount:Ie.amount,refundType:Ie.refundType,refundMethod:Ie.refundMethod,reason:Ie.reason,itemsRefunded:Ie.itemsRefunded,transactionId:Ie.transactionId,referenceNumber:Ie.referenceNumber,notes:Ie.notes,processedBy:e?.name||"System",processedAt:new Date().toISOString(),approvedBy:e?.name||"System",approvedAt:new Date().toISOString(),status:"completed",attachments:[]};if(s(Me=>Me.map(yt=>{if(yt.id===ke){const be=(yt.refundedAmount||0)+Ie.amount,De=yt.totalAmount-be;let st=yt.paymentStatus;return be>=yt.totalAmount&&(st="refunded"),{...yt,refundedAmount:be,netAmount:Math.max(0,De),paymentStatus:st,refundRecords:[...yt.refundRecords||[],je]}}return yt})),f?.id===ke){const Me=t.find(yt=>yt.id===ke);if(Me){const yt=(Me.refundedAmount||0)+Ie.amount,xe=Me.totalAmount-yt;g({...Me,refundedAmount:yt,netAmount:Math.max(0,xe),paymentStatus:yt>=Me.totalAmount?"refunded":Me.paymentStatus,refundRecords:[...Me.refundRecords||[],je]})}}console.log("Refund recorded successfully")}catch(je){throw console.error("Failed to record refund:",je),je}},H=async ke=>{if(confirm(`Are you sure you want to delete order ${ke.id}? This action cannot be undone.`))try{await $g.cancel(ke.id,""),s(Ie=>Ie.filter(je=>je.id!==ke.id))}catch{s(je=>je.filter(Me=>Me.id!==ke.id)),console.log("Order deleted successfully")}},q=ke=>{s(Ie=>Ie.map(je=>je.id===v?{...je,thirdPartyDelivery:ke}:je)),console.log(`Assigned third-party delivery for order ${v}`,ke)},W=[{id:"agent-1",name:"Rajesh Kumar",agentType:"employee"},{id:"agent-2",name:"Amit Sharma",agentType:"employee"},{id:"agent-3",name:"Priya Patel",agentType:"partner"},{id:"agent-4",name:"Suresh Reddy",agentType:"partner"}],le=ke=>{const Ie=W.find(je=>je.id===ke.agentId);console.log(`Assigned ${w.length} orders to ${Ie?.name}`,{agentType:Ie?.agentType,pricePerOrder:ke.pricePerOrder,totalAmount:ke.pricePerOrder?ke.pricePerOrder*w.length:0}),s(je=>je.map(Me=>w.includes(Me.id)?{...Me,deliveryAgentId:ke.agentId}:Me))},Se=async(ke,Ie,je)=>{try{switch(ke){case"assign-batch-delivery":A(Ie),k(!0);break;case"assign-third-party-delivery":Ie.length===1?(j(Ie[0]),y(!0)):alert("Please select only one order to assign third-party delivery");break;case"update-status":s(Me=>Me.map(yt=>Ie.includes(yt.id)?{...yt,status:je.status}:yt)),console.log(`Updated status to ${je.status} for ${Ie.length} orders`);break;case"update-delivery-slot":s(Me=>Me.map(yt=>Ie.includes(yt.id)?{...yt,deliverySlot:je.deliverySlot}:yt)),console.log(`Updated delivery slot for ${Ie.length} orders`);break;case"mark-priority":console.log(`Marked ${Ie.length} orders as ${je.priority} priority`);break;case"send-notification":console.log(`Sent ${je.type} notification to ${Ie.length} customers`);break;case"delete":s(Me=>Me.filter(yt=>!Ie.includes(yt.id))),console.log(`Deleted ${Ie.length} orders`);break;default:console.log(`Bulk action ${ke} performed on ${Ie.length} orders`,je)}}catch(Me){console.error("Bulk action failed:",Me),alert("Bulk action failed. Please try again.")}},Pe=te.filter(ke=>{if(a!=="all"&&ke.moduleType!==a)return!1;if(C.startDate||C.endDate){const Ie=new Date(ke.createdAt);if(C.startDate&&Ie<new Date(C.startDate))return!1;if(C.endDate){const je=new Date(C.endDate);if(je.setHours(23,59,59,999),Ie>je)return!1}}return!0}),re=te.filter(ke=>ke.moduleType==="hub"),ye=te.filter(ke=>ke.moduleType==="store"),ze={total:re.length,revenue:re.reduce((ke,Ie)=>ke+Ie.totalAmount,0),pending:re.filter(ke=>["received","processing"].includes(ke.status)).length,delivered:re.filter(ke=>ke.status==="delivered").length},Ce={total:ye.length,revenue:ye.reduce((ke,Ie)=>ke+Ie.totalAmount,0),pending:ye.filter(ke=>["received","processing"].includes(ke.status)).length,delivered:ye.filter(ke=>ke.status==="delivered").length},it=async()=>{try{const ke={export:"csv"};a!=="all"&&(ke.moduleType=a);const Ie=await $g.getAll(ke),je=new Blob([Ie.data],{type:"text/csv"}),Me=window.URL.createObjectURL(je),yt=document.createElement("a");yt.href=Me,yt.download=`${a}-orders-${new Date().toISOString().split("T")[0]}.csv`,yt.click()}catch(ke){console.error("Export failed:",ke)}},fe=(()=>{const ke=[{id:"all",label:"All Orders",icon:el,count:te.length},{id:"hub",label:"Hub Orders",icon:Kl,count:re.length},{id:"store",label:"Store Orders",icon:Zn,count:ye.length}];return e?.loginType==="hub"?ke.filter(Ie=>Ie.id==="hub"):e?.loginType==="store"?ke.filter(Ie=>Ie.id==="store"):ke})();return _.useState(()=>{const ke=e?.loginType==="hub"?"hub":e?.loginType==="store"?"store":"all";n(ke)}),r.jsx(wN,{isLoading:R,type:"page",text:"Loading orders...",variant:"branded",children:r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsx(vc,{title:e?.loginType==="hub"?"Hub Orders Management":e?.loginType==="store"?"Store Orders Management":"All Orders Management",description:e?.loginType==="hub"?"Manage and track hub orders and deliveries":e?.loginType==="store"?"Manage and track store orders and deliveries":"Manage and track orders across Hub and Store operations",actions:r.jsx(G9,{onDownload:it,onRefresh:()=>D(Y),downloadLabel:`Export ${a==="all"?"All":a.charAt(0).toUpperCase()+a.slice(1)} Orders`})}),r.jsxs(ae,{className:"p-0 overflow-hidden",children:[r.jsx("div",{className:"border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-6 py-3 sm:py-4 gap-4",children:[r.jsx("nav",{className:"flex overflow-x-auto","aria-label":"Tabs",children:fe.map(ke=>{const Ie=ke.icon,je=a===ke.id;return r.jsxs("button",{onClick:()=>n(ke.id),className:`
                        flex items-center gap-2 py-2 px-3 sm:px-4 border-b-2 font-medium text-xs sm:text-sm transition-colors whitespace-nowrap
                        ${je?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
                      `,children:[r.jsx(Ie,{className:"h-4 w-4 sm:h-5 sm:w-5"}),r.jsx("span",{className:"hidden sm:inline",children:ke.label}),r.jsx("span",{className:"sm:hidden",children:ke.label.split(" ")[0]}),r.jsx(at,{variant:je?"info":"default",className:"ml-1 text-xs",children:ke.count})]},ke.id)})}),r.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[r.jsx(he,{type:"date",value:C.startDate,onChange:ke=>M(Ie=>({...Ie,startDate:ke.target.value})),placeholder:"Start Date",className:"w-36 text-sm"}),r.jsx("span",{className:"text-gray-500",children:"-"}),r.jsx(he,{type:"date",value:C.endDate,onChange:ke=>M(Ie=>({...Ie,endDate:ke.target.value})),placeholder:"End Date",className:"w-36 text-sm"}),(C.startDate||C.endDate)&&r.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>M({startDate:"",endDate:""}),className:"text-xs",children:"Clear"})]})]})}),r.jsxs("div",{className:"p-4 sm:p-6",children:[a==="all"&&r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mb-4 sm:mb-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-4 sm:p-6 border border-blue-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"h-10 w-10 sm:h-12 sm:w-12 rounded-xl bg-blue-600 flex items-center justify-center",children:r.jsx(Kl,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-blue-900",children:"Hub Orders"}),r.jsx("p",{className:"text-xs sm:text-sm text-blue-700",children:"Fish products  Next day delivery"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[r.jsxs("div",{className:"bg-white/60 rounded-lg p-2 sm:p-3",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-blue-900",children:ze.total}),r.jsx("p",{className:"text-xs sm:text-sm text-blue-700",children:"Total Orders"})]}),r.jsxs("div",{className:"bg-white/60 rounded-lg p-2 sm:p-3",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-blue-900",children:jt(ze.revenue)}),r.jsx("p",{className:"text-xs sm:text-sm text-blue-700",children:"Revenue"})]}),r.jsxs("div",{className:"bg-white/60 rounded-lg p-2 sm:p-3",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-orange-600",children:ze.pending}),r.jsx("p",{className:"text-xs sm:text-sm text-blue-700",children:"Pending"})]}),r.jsxs("div",{className:"bg-white/60 rounded-lg p-2 sm:p-3",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-600",children:ze.delivered}),r.jsx("p",{className:"text-xs sm:text-sm text-blue-700",children:"Delivered"})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-4 sm:p-6 border border-green-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"h-10 w-10 sm:h-12 sm:w-12 rounded-xl bg-green-600 flex items-center justify-center",children:r.jsx(Zn,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-green-900",children:"Store Orders"}),r.jsx("p",{className:"text-xs sm:text-sm text-green-700",children:"All products  Same/Next day delivery"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[r.jsxs("div",{className:"bg-white/60 rounded-lg p-2 sm:p-3",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-900",children:Ce.total}),r.jsx("p",{className:"text-xs sm:text-sm text-green-700",children:"Total Orders"})]}),r.jsxs("div",{className:"bg-white/60 rounded-lg p-2 sm:p-3",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-900",children:jt(Ce.revenue)}),r.jsx("p",{className:"text-xs sm:text-sm text-green-700",children:"Revenue"})]}),r.jsxs("div",{className:"bg-white/60 rounded-lg p-2 sm:p-3",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-orange-600",children:Ce.pending}),r.jsx("p",{className:"text-xs sm:text-sm text-green-700",children:"Pending"})]}),r.jsxs("div",{className:"bg-white/60 rounded-lg p-2 sm:p-3",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-600",children:Ce.delivered}),r.jsx("p",{className:"text-xs sm:text-sm text-green-700",children:"Delivered"})]})]})]})]}),a==="hub"&&r.jsx(SP,{stats:[{label:"Total Hub Orders",value:ze.total,icon:Pt,color:"blue"},{label:"Hub Revenue",value:jt(ze.revenue),icon:Ps,color:"green"},{label:"Pending Orders",value:ze.pending,icon:wr,color:"orange"},{label:"Delivered Orders",value:ze.delivered,icon:Cr,color:"green"}],columns:2,className:"mb-4 sm:mb-6"}),a==="store"&&r.jsx(SP,{stats:[{label:"Total Store Orders",value:Ce.total,icon:Pt,color:"green"},{label:"Store Revenue",value:jt(Ce.revenue),icon:Ps,color:"green"},{label:"Pending Orders",value:Ce.pending,icon:wr,color:"orange"},{label:"Delivered Orders",value:Ce.delivered,icon:Cr,color:"green"}],columns:2,className:"mb-4 sm:mb-6"})]})]}),Pe.length===0?r.jsx(Yse,{icon:a==="hub"?Kl:a==="store"?Zn:el,title:`No ${a==="all"?"":a} orders found`,description:`No ${a==="all"?"":a} orders are currently available. Orders will appear here once customers place them.`}):r.jsx(U5e,{orders:Pe,loading:R,onView:G,onEdit:ee,onDelete:H,onRefresh:()=>D(Y),onBulkAction:Se}),r.jsx(gr,{isOpen:i,onClose:()=>l(!1),title:"Create New Order",size:"lg",children:r.jsxs("form",{onSubmit:z(ie),className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(he,{label:"Customer Name",...B("customerName"),placeholder:"Full Name",error:I.customerName?.message}),r.jsx(he,{label:"Phone Number",...B("customerPhone"),placeholder:"+91 9876543210",error:I.customerPhone?.message})]}),r.jsx(he,{label:"Email (Optional)",...B("customerEmail"),type:"email",placeholder:"customer@email.com"}),r.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[r.jsx("h3",{className:"font-medium mb-3 text-gray-900",children:"Order Type"}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{className:"flex items-center p-3 border-2 border-blue-200 bg-blue-50 rounded-lg",children:[r.jsx(Kl,{className:"h-5 w-5 text-blue-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-blue-900",children:"Hub Order"}),r.jsx("p",{className:"text-xs text-blue-700",children:"Fish products  Next day delivery"})]})]}),r.jsxs("div",{className:"flex items-center p-3 border-2 border-green-200 bg-green-50 rounded-lg",children:[r.jsx(Zn,{className:"h-5 w-5 text-green-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-green-900",children:"Store Order"}),r.jsx("p",{className:"text-xs text-green-700",children:"All products  Same/Next day"})]})]})]})]}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsx("h3",{className:"font-medium mb-3",children:"Delivery Address"}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(he,{label:"Address Line 1",...B("addressLine1"),placeholder:"House no, Building name, Street",error:I.addressLine1?.message}),r.jsx(he,{label:"Address Line 2 (Optional)",...B("addressLine2"),placeholder:"Landmark, Area"}),r.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[r.jsx(he,{label:"Pincode",...B("pincode"),placeholder:"600001",error:I.pincode?.message}),r.jsx(he,{label:"City",...B("city"),placeholder:"Chennai",error:I.city?.message}),r.jsx(he,{label:"State",...B("state"),placeholder:"Tamil Nadu",error:I.state?.message})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(Dt,{label:"Delivery Slot",...B("deliverySlot"),error:I.deliverySlot?.message,options:[{value:"",label:"Select Slot"},{value:"slot1",label:"Slot 1 (7AM-9AM)"},{value:"slot2",label:"Slot 2 (1PM-3PM)"},{value:"slot3",label:"Slot 3 (7PM-9PM)"}]}),r.jsx(Dt,{label:"Payment Method",...B("paymentMethod"),error:I.paymentMethod?.message,options:[{value:"cod",label:"Cash on Delivery"},{value:"online",label:"Online Payment"}]})]}),r.jsx(Dt,{label:"Order Source",...B("source"),error:I.source?.message,options:[{value:"whatsapp",label:"WhatsApp"},{value:"instagram",label:"Instagram"},{value:"facebook",label:"Facebook"},{value:"manual",label:"Manual"}]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx(ce,{type:"button",variant:"secondary",onClick:()=>l(!1),className:"flex-1",children:"Cancel"}),r.jsx(ce,{type:"submit",className:"flex-1",children:"Create Order"})]})]})}),r.jsx(gr,{isOpen:o,onClose:()=>{u(!1),m(null)},title:`Edit Order - ${d?.id}`,size:"xl",children:d&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:d.id}),r.jsxs("p",{className:"text-gray-600",children:["Placed on ",Rm(d.createdAt)]}),d.invoiceNumber&&r.jsxs("p",{className:"text-sm text-blue-600 font-medium",children:["Invoice: ",d.invoiceNumber]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(B2,{status:d.status}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(ce,{size:"sm",variant:"secondary",onClick:()=>alert(`Printing invoice for order ${d.id}...`),className:"flex items-center gap-2",children:[r.jsx(Sm,{className:"h-4 w-4"}),"Print Invoice"]}),r.jsxs(ce,{size:"sm",variant:"secondary",onClick:()=>alert(`Downloading invoice for order ${d.id}...`),className:"flex items-center gap-2",children:[r.jsx(Ho,{className:"h-4 w-4"}),"Download Invoice"]})]})]})]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Editing Restrictions"}),r.jsxs("div",{className:"text-sm text-blue-800 space-y-1",children:[r.jsxs("p",{children:[" ",r.jsx("strong",{children:"Products:"})," Can be modified at any time"]}),r.jsxs("p",{children:[" ",r.jsx("strong",{children:"Delivery Slot:"})," ",["out_for_delivery","delivered"].includes(d.status)?"Cannot be modified after dispatch":"Can be modified"]}),r.jsxs("p",{children:[" ",r.jsx("strong",{children:"Customer Info:"})," ",d.status==="delivered"?"Cannot be modified after delivery":"Can be modified"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Order Status"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Status"}),r.jsxs("select",{value:d.status,onChange:ke=>m({...d,status:ke.target.value}),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"received",children:"Received"}),r.jsx("option",{value:"processing",children:"Processing"}),r.jsx("option",{value:"packed",children:"Packed"}),r.jsx("option",{value:"out_for_delivery",children:"Out for Delivery"}),r.jsx("option",{value:"delivered",children:"Delivered"}),r.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Status"}),r.jsxs("select",{value:d.paymentStatus,onChange:ke=>m({...d,paymentStatus:ke.target.value}),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"paid",children:"Paid"})]})]})]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Customer Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Name"}),r.jsx("input",{type:"text",value:d.customerName,onChange:ke=>m({...d,customerName:ke.target.value}),disabled:d.status==="delivered",className:`w-full rounded-lg border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${d.status==="delivered"?"border-gray-200 bg-gray-100 text-gray-500 cursor-not-allowed":"border-gray-300"}`})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),r.jsx("input",{type:"text",value:d.customerPhone,onChange:ke=>m({...d,customerPhone:ke.target.value}),disabled:d.status==="delivered",className:`w-full rounded-lg border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${d.status==="delivered"?"border-gray-200 bg-gray-100 text-gray-500 cursor-not-allowed":"border-gray-300"}`})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),r.jsx("input",{type:"email",value:d.customerEmail||"",onChange:ke=>m({...d,customerEmail:ke.target.value}),disabled:d.status==="delivered",className:`w-full rounded-lg border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${d.status==="delivered"?"border-gray-200 bg-gray-100 text-gray-500 cursor-not-allowed":"border-gray-300"}`})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Delivery Slot"}),r.jsxs("select",{value:d.deliverySlot,onChange:ke=>m({...d,deliverySlot:ke.target.value}),disabled:["out_for_delivery","delivered"].includes(d.status),className:`w-full rounded-lg border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${["out_for_delivery","delivered"].includes(d.status)?"border-gray-200 bg-gray-100 text-gray-500 cursor-not-allowed":"border-gray-300"}`,children:[r.jsx("option",{value:"7:00 AM - 9:00 AM",children:"7:00 AM - 9:00 AM"}),r.jsx("option",{value:"10:00 AM - 12:00 PM",children:"10:00 AM - 12:00 PM"}),r.jsx("option",{value:"2:00 PM - 4:00 PM",children:"2:00 PM - 4:00 PM"}),r.jsx("option",{value:"4:00 PM - 6:00 PM",children:"4:00 PM - 6:00 PM"}),r.jsx("option",{value:"6:00 PM - 8:00 PM",children:"6:00 PM - 8:00 PM"})]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[r.jsx(Qf,{className:"h-5 w-5 text-blue-600"}),"Billing Address"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Street Address"}),r.jsx("input",{type:"text",value:d.billingAddress?.street||"",onChange:ke=>m({...d,billingAddress:{...d.billingAddress,street:ke.target.value,city:d.billingAddress?.city||"",state:d.billingAddress?.state||"",zipCode:d.billingAddress?.zipCode||"",country:d.billingAddress?.country||"India"}}),className:"w-full rounded border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),r.jsx("input",{type:"text",value:d.billingAddress?.city||"",onChange:ke=>m({...d,billingAddress:{...d.billingAddress,street:d.billingAddress?.street||"",city:ke.target.value,state:d.billingAddress?.state||"",zipCode:d.billingAddress?.zipCode||"",country:d.billingAddress?.country||"India"}}),className:"w-full rounded border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),r.jsx("input",{type:"text",value:d.billingAddress?.state||"",onChange:ke=>m({...d,billingAddress:{...d.billingAddress,street:d.billingAddress?.street||"",city:d.billingAddress?.city||"",state:ke.target.value,zipCode:d.billingAddress?.zipCode||"",country:d.billingAddress?.country||"India"}}),className:"w-full rounded border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ZIP Code"}),r.jsx("input",{type:"text",value:d.billingAddress?.zipCode||"",onChange:ke=>m({...d,billingAddress:{...d.billingAddress,street:d.billingAddress?.street||"",city:d.billingAddress?.city||"",state:d.billingAddress?.state||"",zipCode:ke.target.value,country:d.billingAddress?.country||"India"}}),className:"w-full rounded border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),r.jsx("input",{type:"text",value:d.billingAddress?.country||"India",onChange:ke=>m({...d,billingAddress:{...d.billingAddress,street:d.billingAddress?.street||"",city:d.billingAddress?.city||"",state:d.billingAddress?.state||"",zipCode:d.billingAddress?.zipCode||"",country:ke.target.value}}),className:"w-full rounded border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[r.jsx(qs,{className:"h-5 w-5 text-green-600"}),"Shipping Address"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Street Address"}),r.jsx("input",{type:"text",value:d.shippingAddress?.street||"",onChange:ke=>m({...d,shippingAddress:{...d.shippingAddress,street:ke.target.value,city:d.shippingAddress?.city||"",state:d.shippingAddress?.state||"",zipCode:d.shippingAddress?.zipCode||"",country:d.shippingAddress?.country||"India"}}),className:"w-full rounded border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),r.jsx("input",{type:"text",value:d.shippingAddress?.city||"",onChange:ke=>m({...d,shippingAddress:{...d.shippingAddress,street:d.shippingAddress?.street||"",city:ke.target.value,state:d.shippingAddress?.state||"",zipCode:d.shippingAddress?.zipCode||"",country:d.shippingAddress?.country||"India"}}),className:"w-full rounded border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),r.jsx("input",{type:"text",value:d.shippingAddress?.state||"",onChange:ke=>m({...d,shippingAddress:{...d.shippingAddress,street:d.shippingAddress?.street||"",city:d.shippingAddress?.city||"",state:ke.target.value,zipCode:d.shippingAddress?.zipCode||"",country:d.shippingAddress?.country||"India"}}),className:"w-full rounded border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ZIP Code"}),r.jsx("input",{type:"text",value:d.shippingAddress?.zipCode||"",onChange:ke=>m({...d,shippingAddress:{...d.shippingAddress,street:d.shippingAddress?.street||"",city:d.shippingAddress?.city||"",state:d.shippingAddress?.state||"",zipCode:ke.target.value,country:d.shippingAddress?.country||"India"}}),className:"w-full rounded border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),r.jsx("input",{type:"text",value:d.shippingAddress?.country||"India",onChange:ke=>m({...d,shippingAddress:{...d.shippingAddress,street:d.shippingAddress?.street||"",city:d.shippingAddress?.city||"",state:d.shippingAddress?.state||"",zipCode:d.shippingAddress?.zipCode||"",country:ke.target.value}}),className:"w-full rounded border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})]}),r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[r.jsx(zr,{className:"h-5 w-5 text-yellow-600"}),"Delivery Instructions"]}),r.jsx("textarea",{value:d.deliveryInstructions||"",onChange:ke=>m({...d,deliveryInstructions:ke.target.value}),placeholder:"Enter special delivery instructions...",rows:3,className:"w-full rounded border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Order Items"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-green-600 text-xs bg-green-50 px-2 py-1 rounded-full",children:"Always editable"}),r.jsxs("span",{className:"text-blue-600 text-xs",children:["Items: ",d.items?.length||0]})]})]}),d.items&&d.items.length>0?r.jsxs("div",{className:"space-y-3",children:[d.items.map((ke,Ie)=>r.jsx("div",{className:"border rounded-lg p-3 bg-gray-50",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Product Name"}),r.jsx("input",{type:"text",value:ke.productName,onChange:je=>{const Me=[...d.items];Me[Ie]={...ke,productName:je.target.value},m({...d,items:Me})},className:"w-full rounded border border-gray-300 px-2 py-1 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Variant"}),r.jsx("input",{type:"text",value:ke.variant,onChange:je=>{const Me=[...d.items];Me[Ie]={...ke,variant:je.target.value},m({...d,items:Me})},className:"w-full rounded border border-gray-300 px-2 py-1 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Qty"}),r.jsx("input",{type:"number",min:"1",value:ke.quantity,onChange:je=>{const Me=[...d.items],yt=parseInt(je.target.value)||1;Me[Ie]={...ke,quantity:yt};const xe=Me.reduce((lt,At)=>lt+At.price*At.quantity,0),be=d.discountAmount||0,De=d.deliveryCharges||0,st=d.gstAmount||xe*.18,ut=xe-be+De+st;m({...d,items:Me,subtotalAmount:xe,gstAmount:st,totalAmount:ut})},className:"w-full rounded border border-gray-300 px-2 py-1 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Price"}),r.jsx("input",{type:"number",min:"0",step:"0.01",value:ke.price,onChange:je=>{const Me=[...d.items],yt=parseFloat(je.target.value)||0;Me[Ie]={...ke,price:yt};const xe=Me.reduce((lt,At)=>lt+At.price*At.quantity,0),be=d.discountAmount||0,De=d.deliveryCharges||0,st=d.gstAmount||xe*.18,ut=xe-be+De+st;m({...d,items:Me,subtotalAmount:xe,gstAmount:st,totalAmount:ut})},className:"w-full rounded border border-gray-300 px-2 py-1 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500"})]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["Total: ",jt(ke.price*ke.quantity)]}),d.items.length>1&&r.jsx("button",{type:"button",onClick:()=>{const je=d.items.filter((st,ut)=>ut!==Ie),Me=je.reduce((st,ut)=>st+ut.price*ut.quantity,0),yt=d.discountAmount||0,xe=d.deliveryCharges||0,be=d.gstAmount||Me*.18,De=Me-yt+xe+be;m({...d,items:je,subtotalAmount:Me,gstAmount:be,totalAmount:De})},className:"text-red-600 hover:text-red-800 text-xs font-medium",children:"Remove"})]})]})},Ie)),r.jsxs("button",{type:"button",onClick:()=>{const ke={productId:`new_${Date.now()}`,productName:"New Product",variant:"Standard",quantity:1,price:0};m({...d,items:[...d.items||[],ke]})},className:"w-full border-2 border-dashed border-blue-300 rounded-lg p-4 text-blue-600 hover:border-blue-400 hover:bg-blue-50 transition-colors text-sm font-medium flex items-center justify-center gap-2",children:[r.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add New Item"]})]}):r.jsx("div",{className:"text-center py-4 text-gray-500 text-sm",children:"No items in this order"})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Pricing Details"}),r.jsxs("div",{className:"space-y-3 mb-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[r.jsx(Eo,{className:"h-4 w-4"}),"Promo Code Applied"]}),r.jsx("input",{type:"text",value:d.promoCode||"",onChange:ke=>m({...d,promoCode:ke.target.value}),placeholder:"Enter promo code",className:"w-full rounded border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Discounted Amount"}),r.jsx("input",{type:"number",min:"0",step:"0.01",value:d.discountAmount||0,onChange:ke=>{const Ie=parseFloat(ke.target.value)||0,je=d.subtotalAmount||0,Me=d.deliveryCharges||0,yt=d.gstAmount||0,xe=je-Ie+Me+yt;m({...d,discountAmount:Ie,totalAmount:xe})},className:"w-full rounded border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Delivery Charges"}),r.jsx("input",{type:"number",min:"0",step:"0.01",value:d.deliveryCharges||0,onChange:ke=>{const Ie=parseFloat(ke.target.value)||0,je=d.subtotalAmount||0,Me=d.discountAmount||0,yt=d.gstAmount||0,xe=je-Me+Ie+yt;m({...d,deliveryCharges:Ie,totalAmount:xe})},className:"w-full rounded border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"GST (18%)"}),r.jsx("input",{type:"number",min:"0",step:"0.01",value:d.gstAmount||0,onChange:ke=>{const Ie=parseFloat(ke.target.value)||0,je=d.subtotalAmount||0,Me=d.discountAmount||0,yt=d.deliveryCharges||0,xe=je-Me+yt+Ie;m({...d,gstAmount:Ie,totalAmount:xe})},className:"w-full rounded border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),r.jsx("div",{className:"border-t border-gray-200 pt-4",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Subtotal"}),r.jsx("span",{className:"font-medium",children:jt(d.subtotalAmount||d.totalAmount)})]}),d.promoCode&&r.jsxs("div",{className:"flex justify-between items-center text-green-600",children:[r.jsxs("span",{className:"text-sm",children:["Discount (",d.promoCode,")"]}),r.jsxs("span",{className:"font-medium",children:["-",jt(d.discountAmount||0)]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Delivery Charges"}),r.jsx("span",{className:"font-medium",children:d.deliveryCharges?jt(d.deliveryCharges):"Free"})]}),d.gstAmount&&r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"GST (18%)"}),r.jsx("span",{className:"font-medium",children:jt(d.gstAmount)})]}),r.jsx("div",{className:"border-t border-gray-300 pt-2",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Final Amount"}),r.jsx("span",{className:"text-xl font-bold text-gray-900",children:jt(d.totalAmount)})]})})]})})]})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx(ce,{type:"button",variant:"secondary",onClick:()=>{u(!1),m(null)},className:"flex-1",children:"Cancel"}),r.jsx(ce,{onClick:()=>Ne(d),className:"flex-1",children:"Update Order"})]})]})}),r.jsx(gr,{isOpen:!!f,onClose:()=>g(null),title:`Order Details - ${f?.id}`,size:"xl",children:f&&r.jsx(z5e,{order:f,onPaymentRecord:ke=>X(f.id,ke),onRefundRecord:ke=>P(f.id,ke),onAssignThirdParty:()=>{j(f.id),y(!0)}})}),r.jsx(w4e,{isOpen:p,onClose:()=>{y(!1),j("")},onSubmit:q,orderId:v}),r.jsx(S4e,{isOpen:N,onClose:()=>{k(!1),A([])},onSubmit:le,orderCount:w.length,agents:W})]})})}const eL=[{id:"1",nameEn:"Seer Fish (Vanjaram)",nameTa:"",sku:"FISH-001",category:"fish",description:"Premium quality seer fish",images:[],variants:[{id:"v1",type:"Whole Cleaned",size:"Medium",grossWeight:"1000-1250g",netWeight:"800-1000g",pieces:"1 piece",serves:"3-4",price:1200,stock:25,discount:10},{id:"v2",type:"Curry Cut",size:"Medium",grossWeight:"1000g",netWeight:"800g",pieces:"8-10 pieces",serves:"3-4",price:1300,stock:20}],isBestSeller:!0,isRare:!1,isActive:!0,deliveryType:"next_day",sourceType:"hub",approvalStatus:"approved"},{id:"2",nameEn:"Tiger Prawns",nameTa:"",sku:"PRWN-001",category:"prawns",description:"Fresh tiger prawns",images:[],variants:[{id:"v3",type:"Cleaned",size:"Large",grossWeight:"500g",netWeight:"400g",pieces:"15-20 pieces",serves:"2-3",price:650,stock:15},{id:"v4",type:"Uncleaned",size:"Large",grossWeight:"500g",netWeight:"450g",pieces:"15-20 pieces",serves:"2-3",price:580,stock:18}],isBestSeller:!0,isRare:!1,isActive:!0,deliveryType:"next_day",sourceType:"hub",approvalStatus:"approved"},{id:"3",nameEn:"Chicken Breast",nameTa:" ",sku:"CHKN-001",category:"chicken",description:"Boneless chicken breast",images:[],variants:[{id:"v5",type:"Boneless",size:"Pack",grossWeight:"500g",netWeight:"500g",pieces:"2-3 pieces",serves:"2-3",price:280,stock:50}],isBestSeller:!1,isRare:!1,isActive:!0,deliveryType:"same_day",sourceType:"store",approvalStatus:"approved"},{id:"4",nameEn:"Mutton Curry Cut",nameTa:" ",sku:"MUTN-001",category:"mutton",description:"Fresh mutton curry cut",images:[],variants:[{id:"v6",type:"Curry Cut",size:"Pack",grossWeight:"500g",netWeight:"500g",pieces:"8-10 pieces",serves:"2-3",price:450,stock:30}],isBestSeller:!1,isRare:!1,isActive:!0,deliveryType:"same_day",sourceType:"store",approvalStatus:"approved"}],l3=[{id:"hub_1",name:"Central Hub",type:"hub",location:"Chennai Central"},{id:"hub_2",name:"North Hub",type:"hub",location:"Chennai North"}],o3=[{id:"store_1",name:"Anna Nagar Store",type:"store",location:"Anna Nagar"},{id:"store_2",name:"T. Nagar Store",type:"store",location:"T. Nagar"},{id:"store_3",name:"Velachery Store",type:"store",location:"Velachery"}];function _4e(){const{user:e}=os(),[t,s]=_.useState("hub"),a=eL.filter(l=>l.sourceType==="hub"),n=eL.filter(l=>l.sourceType==="store"||l.sourceType==="hub"),i=async l=>{try{await new Promise(o=>setTimeout(o,2e3)),console.log("Order created:",l),alert(`${t.toUpperCase()} Order created successfully!`)}catch(o){console.error("Failed to create order:",o),alert("Failed to create order. Please try again.")}};return e?.loginType==="hub"?r.jsxs("div",{className:"space-y-4 sm:space-y-6 p-4 sm:p-6",children:[r.jsx(vc,{title:"Hub Manual Order Creation",description:"Create manual orders for fish products with next-day delivery"}),r.jsx(qp,{moduleType:"hub",products:a,hubs:l3,onSubmit:i})]}):e?.loginType==="store"?r.jsxs("div",{className:"space-y-4 sm:space-y-6 p-4 sm:p-6",children:[r.jsx(vc,{title:"Store Manual Order Creation",description:"Create manual orders for all products with same-day/next-day delivery"}),r.jsx(qp,{moduleType:"store",products:n,hubs:o3,onSubmit:i})]}):r.jsxs("div",{className:"space-y-4 sm:space-y-6 p-4 sm:p-6",children:[r.jsx(vc,{title:"Manual Order Creation",description:"Create manual orders for both hub and store operations"}),r.jsxs(ae,{className:"p-0 overflow-hidden",children:[r.jsx("div",{className:"border-b border-gray-200",children:r.jsxs("nav",{className:"flex overflow-x-auto px-4 sm:px-6","aria-label":"Tabs",children:[r.jsxs("button",{onClick:()=>s("hub"),className:`
                flex items-center gap-2 py-3 sm:py-4 px-3 sm:px-4 border-b-2 font-medium text-xs sm:text-sm transition-colors whitespace-nowrap
                ${t==="hub"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
              `,children:[r.jsx(Kl,{className:"h-4 w-4 sm:h-5 sm:w-5"}),r.jsx("span",{className:"hidden sm:inline",children:"Hub Orders"}),r.jsx("span",{className:"sm:hidden",children:"Hub"}),r.jsxs(at,{variant:t==="hub"?"info":"default",className:"ml-1 text-xs",children:[r.jsx("span",{className:"hidden sm:inline",children:"Fish Products"}),r.jsx("span",{className:"sm:hidden",children:"Fish"})]})]}),r.jsxs("button",{onClick:()=>s("store"),className:`
                flex items-center gap-2 py-3 sm:py-4 px-3 sm:px-4 border-b-2 font-medium text-xs sm:text-sm transition-colors whitespace-nowrap
                ${t==="store"?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
              `,children:[r.jsx(Zn,{className:"h-4 w-4 sm:h-5 sm:w-5"}),"Store Orders",r.jsx(at,{variant:t==="store"?"success":"default",className:"ml-1",children:"All Products"})]})]})}),r.jsxs("div",{className:"p-4 sm:p-6",children:[t==="hub"&&r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-4 sm:p-6 border border-blue-200 mb-4 sm:mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"h-10 w-10 sm:h-12 sm:w-12 rounded-xl bg-blue-600 flex items-center justify-center",children:r.jsx(Kl,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-blue-900",children:"Hub Order Creation"}),r.jsx("p",{className:"text-xs sm:text-sm text-blue-700",children:"Fish products  Next day delivery  Premium quality"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[r.jsxs("div",{className:"bg-white/60 rounded-lg p-2 sm:p-3",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-blue-900",children:a.length}),r.jsx("p",{className:"text-xs sm:text-sm text-blue-700",children:"Available Products"})]}),r.jsxs("div",{className:"bg-white/60 rounded-lg p-2 sm:p-3",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-blue-900",children:l3.length}),r.jsx("p",{className:"text-xs sm:text-sm text-blue-700",children:"Active Hubs"})]}),r.jsxs("div",{className:"bg-white/60 rounded-lg p-2 sm:p-3",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-blue-900",children:"Next Day"}),r.jsx("p",{className:"text-xs sm:text-sm text-blue-700",children:"Delivery Type"})]}),r.jsxs("div",{className:"bg-white/60 rounded-lg p-2 sm:p-3",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-blue-900",children:"Premium"}),r.jsx("p",{className:"text-xs sm:text-sm text-blue-700",children:"Quality Grade"})]})]})]}),t==="store"&&r.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-4 sm:p-6 border border-green-200 mb-4 sm:mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"h-10 w-10 sm:h-12 sm:w-12 rounded-xl bg-green-600 flex items-center justify-center",children:r.jsx(Zn,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-green-900",children:"Store Order Creation"}),r.jsx("p",{className:"text-xs sm:text-sm text-green-700",children:"All products  Same/Next day delivery  Wide variety"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[r.jsxs("div",{className:"bg-white/60 rounded-lg p-2 sm:p-3",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-900",children:n.length}),r.jsx("p",{className:"text-xs sm:text-sm text-green-700",children:"Available Products"})]}),r.jsxs("div",{className:"bg-white/60 rounded-lg p-2 sm:p-3",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-900",children:o3.length}),r.jsx("p",{className:"text-xs sm:text-sm text-green-700",children:"Active Stores"})]}),r.jsxs("div",{className:"bg-white/60 rounded-lg p-2 sm:p-3",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-900",children:"Same Day"}),r.jsx("p",{className:"text-xs sm:text-sm text-green-700",children:"Delivery Type"})]}),r.jsxs("div",{className:"bg-white/60 rounded-lg p-2 sm:p-3",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-900",children:"Variety"}),r.jsx("p",{className:"text-xs sm:text-sm text-green-700",children:"Product Range"})]})]})]})]})]}),t==="hub"&&r.jsx(qp,{moduleType:"hub",products:a,hubs:l3,onSubmit:i}),t==="store"&&r.jsx(qp,{moduleType:"store",products:n,hubs:o3,onSubmit:i})]})}const Df=[{id:"rare_1",nameEn:"King Fish (Premium)",nameTa:" ",sku:"RARE-001",category:"fish",description:"Premium king fish - limited availability, advance booking required",images:[],variants:[{id:"rv1",type:"Whole Cleaned",size:"Large",grossWeight:"2000-2500g",netWeight:"1800-2200g",pieces:"1 piece",serves:"6-8",price:2500,stock:5}],isBestSeller:!1,isRare:!0,isActive:!0,deliveryType:"next_day",sourceType:"hub",approvalStatus:"approved"},{id:"rare_2",nameEn:"Wild Caught Tuna",nameTa:" ",sku:"RARE-002",category:"fish",description:"Wild caught tuna - seasonal availability, premium quality",images:[],variants:[{id:"rv2",type:"Steaks",size:"Large",grossWeight:"1500g",netWeight:"1200g",pieces:"6-8 steaks",serves:"4-6",price:1800,stock:3}],isBestSeller:!1,isRare:!0,isActive:!0,deliveryType:"next_day",sourceType:"hub",approvalStatus:"approved"},{id:"exotic_1",nameEn:"Live Lobster",nameTa:"",sku:"EXOTIC-001",category:"lobster",description:"Fresh live lobster - 48 hours advance notice required, imported quality",images:[],variants:[{id:"ev1",type:"Live",size:"Large",grossWeight:"800-1000g",netWeight:"800-1000g",pieces:"1 piece",serves:"3-4",price:3200,stock:2}],isBestSeller:!1,isRare:!1,isActive:!0,deliveryType:"exotic",sourceType:"hub",approvalStatus:"approved"},{id:"exotic_2",nameEn:"Norwegian Salmon",nameTa:" ",sku:"EXOTIC-002",category:"fish",description:"Imported Norwegian salmon - premium exotic fish, 72 hours advance booking",images:[],variants:[{id:"ev2",type:"Fillet",size:"Premium",grossWeight:"1000g",netWeight:"900g",pieces:"2 fillets",serves:"3-4",price:2800,stock:1}],isBestSeller:!1,isRare:!1,isActive:!0,deliveryType:"exotic",sourceType:"hub",approvalStatus:"approved"},{id:"exotic_3",nameEn:"Blue Crab (Live)",nameTa:" ",sku:"EXOTIC-003",category:"crab",description:"Live blue crab - imported delicacy, requires special handling",images:[],variants:[{id:"ev3",type:"Live",size:"Large",grossWeight:"500-600g",netWeight:"500-600g",pieces:"2-3 pieces",serves:"2-3",price:2200,stock:3}],isBestSeller:!1,isRare:!1,isActive:!0,deliveryType:"exotic",sourceType:"hub",approvalStatus:"approved"},{id:"hub_1",nameEn:"Seer Fish (Vanjaram)",nameTa:"",sku:"FISH-001",category:"fish",description:"Premium quality seer fish",images:[],variants:[{id:"v1",type:"Whole Cleaned",size:"Medium",grossWeight:"1000-1250g",netWeight:"800-1000g",pieces:"1 piece",serves:"3-4",price:1200,stock:25,discount:10},{id:"v2",type:"Curry Cut",size:"Medium",grossWeight:"1000g",netWeight:"800g",pieces:"8-10 pieces",serves:"3-4",price:1300,stock:20}],isBestSeller:!0,isRare:!1,isActive:!0,deliveryType:"next_day",sourceType:"hub",approvalStatus:"approved"},{id:"hub_2",nameEn:"Tiger Prawns",nameTa:"",sku:"PRWN-001",category:"prawns",description:"Fresh tiger prawns",images:[],variants:[{id:"v3",type:"Cleaned",size:"Large",grossWeight:"500g",netWeight:"400g",pieces:"15-20 pieces",serves:"2-3",price:650,stock:15},{id:"v4",type:"Uncleaned",size:"Large",grossWeight:"500g",netWeight:"450g",pieces:"15-20 pieces",serves:"2-3",price:580,stock:18}],isBestSeller:!0,isRare:!1,isActive:!0,deliveryType:"next_day",sourceType:"hub",approvalStatus:"approved"}],c3=[...Df,{id:"store_1",nameEn:"Chicken Breast",nameTa:" ",sku:"CHKN-001",category:"chicken",description:"Boneless chicken breast",images:[],variants:[{id:"v5",type:"Boneless",size:"Pack",grossWeight:"500g",netWeight:"500g",pieces:"2-3 pieces",serves:"2-3",price:280,stock:50}],isBestSeller:!1,isRare:!1,isActive:!0,deliveryType:"same_day",sourceType:"store",approvalStatus:"approved"},{id:"store_2",nameEn:"Mutton Curry Cut",nameTa:" ",sku:"MUTN-001",category:"mutton",description:"Fresh mutton curry cut",images:[],variants:[{id:"v6",type:"Curry Cut",size:"Pack",grossWeight:"500g",netWeight:"500g",pieces:"8-10 pieces",serves:"2-3",price:450,stock:30}],isBestSeller:!1,isRare:!1,isActive:!0,deliveryType:"same_day",sourceType:"store",approvalStatus:"approved"},{id:"store_3",nameEn:"Country Eggs",nameTa:" ",sku:"EGG-001",category:"egg",description:"Fresh country eggs",images:[],variants:[{id:"v7",type:"Fresh",size:"Medium",grossWeight:"12 pieces",netWeight:"12 pieces",pieces:"12 pieces",serves:"4-6",price:120,stock:100}],isBestSeller:!0,isRare:!1,isActive:!0,deliveryType:"same_day",sourceType:"store",approvalStatus:"approved"}],d3=[{id:"hub_1",name:"Central Hub",type:"hub",location:"Chennai Central"},{id:"hub_2",name:"North Hub",type:"hub",location:"Chennai North"}],u3=[{id:"store_1",name:"Anna Nagar Store",type:"store",location:"Anna Nagar"},{id:"store_2",name:"T. Nagar Store",type:"store",location:"T. Nagar"},{id:"store_3",name:"Velachery Store",type:"store",location:"Velachery"}];function A4e(){const{user:e}=os(),[t,s]=_.useState("hub"),a=m=>m.filter(f=>f.isRare&&f.deliveryType==="next_day"),n=m=>m.filter(f=>!f.isRare&&f.deliveryType==="exotic"),i=m=>m.filter(f=>!f.isRare&&f.deliveryType!=="exotic"),l=async m=>{try{await new Promise(f=>setTimeout(f,2e3)),console.log("Pre-order created:",m),alert(`${t.toUpperCase()} Pre-order created successfully!`)}catch(f){console.error("Failed to create pre-order:",f),alert("Failed to create pre-order. Please try again.")}},o=a(Df),u=n(Df),d=i(Df);return e?.loginType==="hub"?r.jsxs("div",{className:"space-y-4 sm:space-y-6 p-4 sm:p-6",children:[r.jsx(vc,{title:"Hub Pre-Order Creation",description:"Create advance bookings for fish products and rare items"}),r.jsx(Vp,{moduleType:"hub",products:Df,hubs:d3,onSubmit:l})]}):e?.loginType==="store"?r.jsxs("div",{className:"space-y-4 sm:space-y-6 p-4 sm:p-6",children:[r.jsx(vc,{title:"Store Pre-Order Creation",description:"Create advance bookings for all products and bulk orders"}),r.jsx(Vp,{moduleType:"store",products:c3,hubs:u3,onSubmit:l})]}):r.jsxs("div",{className:"space-y-4 sm:space-y-6 p-4 sm:p-6",children:[r.jsx(vc,{title:"Pre-Order Management",description:"Create advance bookings for both hub and store operations"}),r.jsxs(ae,{className:"p-0 overflow-hidden",children:[r.jsx("div",{className:"border-b border-gray-200",children:r.jsxs("nav",{className:"flex overflow-x-auto px-4 sm:px-6","aria-label":"Tabs",children:[r.jsxs("button",{onClick:()=>s("hub"),className:`
                flex items-center gap-2 py-3 sm:py-4 px-3 sm:px-4 border-b-2 font-medium text-xs sm:text-sm transition-colors whitespace-nowrap
                ${t==="hub"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
              `,children:[r.jsx(Kl,{className:"h-4 w-4 sm:h-5 sm:w-5"}),r.jsx("span",{className:"hidden sm:inline",children:"Hub Pre-Orders"}),r.jsx("span",{className:"sm:hidden",children:"Hub"}),r.jsxs(at,{variant:t==="hub"?"info":"default",className:"ml-1 text-xs",children:[r.jsx("span",{className:"hidden sm:inline",children:"Rare & Exotic"}),r.jsx("span",{className:"sm:hidden",children:"R&E"})]})]}),r.jsxs("button",{onClick:()=>s("store"),className:`
                flex items-center gap-2 py-3 sm:py-4 px-3 sm:px-4 border-b-2 font-medium text-xs sm:text-sm transition-colors whitespace-nowrap
                ${t==="store"?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
              `,children:[r.jsx(Zn,{className:"h-4 w-4 sm:h-5 sm:w-5"}),r.jsx("span",{className:"hidden sm:inline",children:"Store Pre-Orders"}),r.jsx("span",{className:"sm:hidden",children:"Store"}),r.jsx(at,{variant:t==="store"?"success":"default",className:"ml-1",children:"All Products"})]})]})}),r.jsxs("div",{className:"p-4 sm:p-6",children:[t==="hub"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-4 sm:p-6 border border-blue-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"h-10 w-10 sm:h-12 sm:w-12 rounded-xl bg-blue-600 flex items-center justify-center",children:r.jsx(Kl,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-blue-900",children:"Hub Pre-Order Creation"}),r.jsx("p",{className:"text-xs sm:text-sm text-blue-700",children:"Regular fish  Rare products  Exotic imports  Advance booking"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[r.jsxs("div",{className:"bg-white/60 rounded-lg p-2 sm:p-3",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-blue-900",children:Df.length}),r.jsx("p",{className:"text-xs sm:text-sm text-blue-700",children:"Total Products"})]}),r.jsxs("div",{className:"bg-white/60 rounded-lg p-2 sm:p-3",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-blue-900",children:d3.length}),r.jsx("p",{className:"text-xs sm:text-sm text-blue-700",children:"Active Hubs"})]}),r.jsxs("div",{className:"bg-white/60 rounded-lg p-2 sm:p-3",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-blue-900",children:"30 Days"}),r.jsx("p",{className:"text-xs sm:text-sm text-blue-700",children:"Max Advance"})]}),r.jsxs("div",{className:"bg-white/60 rounded-lg p-2 sm:p-3",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-blue-900",children:"Premium"}),r.jsx("p",{className:"text-xs sm:text-sm text-blue-700",children:"Quality Grade"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4 border border-green-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"h-8 w-8 rounded-lg bg-green-600 flex items-center justify-center",children:r.jsx(Pt,{className:"h-4 w-4 text-white"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-green-900",children:"Regular Products"}),r.jsx("p",{className:"text-xs text-green-700",children:"Next day delivery"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-green-700",children:"Available:"}),r.jsx("span",{className:"font-bold text-green-900",children:d.length})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-green-700",children:"Booking:"}),r.jsx("span",{className:"text-xs text-green-600",children:"24 hours"})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 rounded-lg p-4 border border-amber-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"h-8 w-8 rounded-lg bg-amber-600 flex items-center justify-center",children:r.jsx(Na,{className:"h-4 w-4 text-white"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-amber-900",children:"Rare Products"}),r.jsx("p",{className:"text-xs text-amber-700",children:"Limited availability"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-amber-700",children:"Available:"}),r.jsx("span",{className:"font-bold text-amber-900",children:o.length})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-amber-700",children:"Booking:"}),r.jsx("span",{className:"text-xs text-amber-600",children:"48 hours"})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-4 border border-purple-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"h-8 w-8 rounded-lg bg-purple-600 flex items-center justify-center",children:r.jsx(l9,{className:"h-4 w-4 text-white"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-purple-900",children:"Exotic Products"}),r.jsx("p",{className:"text-xs text-purple-700",children:"Imported delicacies"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-purple-700",children:"Available:"}),r.jsx("span",{className:"font-bold text-purple-900",children:u.length})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-purple-700",children:"Booking:"}),r.jsx("span",{className:"text-xs text-purple-600",children:"72 hours"})]})]})]})]})]}),t==="store"&&r.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-4 sm:p-6 border border-green-200 mb-4 sm:mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"h-10 w-10 sm:h-12 sm:w-12 rounded-xl bg-green-600 flex items-center justify-center",children:r.jsx(Zn,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-green-900",children:"Store Pre-Order Creation"}),r.jsx("p",{className:"text-xs sm:text-sm text-green-700",children:"All products  Bulk orders  Subscriptions  Same/Next day delivery"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[r.jsxs("div",{className:"bg-white/60 rounded-lg p-2 sm:p-3",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-900",children:c3.length}),r.jsx("p",{className:"text-xs sm:text-sm text-green-700",children:"Available Products"})]}),r.jsxs("div",{className:"bg-white/60 rounded-lg p-2 sm:p-3",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-900",children:u3.length}),r.jsx("p",{className:"text-xs sm:text-sm text-green-700",children:"Active Stores"})]}),r.jsxs("div",{className:"bg-white/60 rounded-lg p-2 sm:p-3",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-900",children:"90 Days"}),r.jsx("p",{className:"text-xs sm:text-sm text-green-700",children:"Max Advance"})]}),r.jsxs("div",{className:"bg-white/60 rounded-lg p-2 sm:p-3",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-900",children:"Variety"}),r.jsx("p",{className:"text-xs sm:text-sm text-green-700",children:"Product Range"})]})]})]})]})]}),t==="hub"&&r.jsx(Vp,{moduleType:"hub",products:Df,hubs:d3,onSubmit:l}),t==="store"&&r.jsx(Vp,{moduleType:"store",products:c3,hubs:u3,onSubmit:l})]})}const C4e=[{id:"1",nameEn:"Seer Fish (Vanjaram)",nameTa:"",sku:"FISH-001",category:"fish",description:"Premium quality seer fish",images:[],variants:[{id:"v1",type:"Whole Cleaned",size:"Medium",grossWeight:"1000-1250g",netWeight:"800-1000g",pieces:"1 piece",serves:"3-4",price:1200,stock:25,discount:10},{id:"v2",type:"Curry Cut",size:"Medium",grossWeight:"1000g",netWeight:"800g",pieces:"8-10 pieces",serves:"3-4",price:1300,stock:20}],isBestSeller:!0,isRare:!1,isActive:!0,deliveryType:"next_day",sourceType:"hub",approvalStatus:"approved"},{id:"2",nameEn:"Tiger Prawns",nameTa:"",sku:"PRWN-001",category:"prawns",description:"Fresh tiger prawns",images:[],variants:[{id:"v3",type:"Cleaned",size:"Large",grossWeight:"500g",netWeight:"400g",pieces:"15-20 pieces",serves:"2-3",price:650,stock:15},{id:"v4",type:"Uncleaned",size:"Large",grossWeight:"500g",netWeight:"450g",pieces:"15-20 pieces",serves:"2-3",price:580,stock:18}],isBestSeller:!0,isRare:!1,isActive:!0,deliveryType:"next_day",sourceType:"hub",approvalStatus:"approved"}],k4e=[{id:"hub_1",name:"Central Hub",type:"hub",location:"Chennai Central"},{id:"hub_2",name:"North Hub",type:"hub",location:"Chennai North"}];function T4e(){const e=async t=>{try{await new Promise(s=>setTimeout(s,2e3)),console.log("Hub order created:",t),alert("Hub Order created successfully!")}catch(s){console.error("Failed to create hub order:",s),alert("Failed to create hub order. Please try again.")}};return r.jsxs("div",{className:"space-y-6",children:[r.jsx(vc,{title:"Hub Manual Order Creation",description:"Create manual orders for fish products with next-day delivery"}),r.jsx(qp,{moduleType:"hub",products:C4e,hubs:k4e,onSubmit:e})]})}const E4e=[{id:"rare_1",nameEn:"King Fish (Premium)",nameTa:" ",sku:"RARE-001",category:"fish",description:"Premium king fish - advance booking required",images:[],variants:[{id:"rv1",type:"Whole Cleaned",size:"Large",grossWeight:"2000-2500g",netWeight:"1800-2200g",pieces:"1 piece",serves:"6-8",price:2500,stock:5}],isBestSeller:!1,isRare:!0,isActive:!0,deliveryType:"exotic",sourceType:"hub",approvalStatus:"approved"},{id:"hub_1",nameEn:"Seer Fish (Vanjaram)",nameTa:"",sku:"FISH-001",category:"fish",description:"Premium quality seer fish",images:[],variants:[{id:"v1",type:"Whole Cleaned",size:"Medium",grossWeight:"1000-1250g",netWeight:"800-1000g",pieces:"1 piece",serves:"3-4",price:1200,stock:25,discount:10}],isBestSeller:!0,isRare:!1,isActive:!0,deliveryType:"next_day",sourceType:"hub",approvalStatus:"approved"}],O4e=[{id:"hub_1",name:"Central Hub",type:"hub",location:"Chennai Central"},{id:"hub_2",name:"North Hub",type:"hub",location:"Chennai North"}];function P4e(){const e=async t=>{try{await new Promise(s=>setTimeout(s,2e3)),console.log("Hub pre-order created:",t),alert("Hub Pre-order created successfully!")}catch(s){console.error("Failed to create hub pre-order:",s),alert("Failed to create hub pre-order. Please try again.")}};return r.jsxs("div",{className:"space-y-6",children:[r.jsx(vc,{title:"Hub Pre-Order Creation",description:"Create advance bookings for fish products and rare items"}),r.jsx(Vp,{moduleType:"hub",products:E4e,hubs:O4e,onSubmit:e})]})}const D4e=[{id:"1",nameEn:"Seer Fish (Vanjaram)",nameTa:"",sku:"FISH-001",category:"fish",description:"Premium quality seer fish",images:[],variants:[{id:"v1",type:"Whole Cleaned",size:"Medium",grossWeight:"1000-1250g",netWeight:"800-1000g",pieces:"1 piece",serves:"3-4",price:1200,stock:25,discount:10},{id:"v2",type:"Curry Cut",size:"Medium",grossWeight:"1000g",netWeight:"800g",pieces:"8-10 pieces",serves:"3-4",price:1300,stock:20}],isBestSeller:!0,isRare:!1,isActive:!0,deliveryType:"next_day",sourceType:"hub",approvalStatus:"approved"},{id:"2",nameEn:"Tiger Prawns",nameTa:"",sku:"PRWN-001",category:"prawns",description:"Fresh tiger prawns",images:[],variants:[{id:"v3",type:"Cleaned",size:"Large",grossWeight:"500g",netWeight:"400g",pieces:"15-20 pieces",serves:"2-3",price:650,stock:15},{id:"v4",type:"Uncleaned",size:"Large",grossWeight:"500g",netWeight:"450g",pieces:"15-20 pieces",serves:"2-3",price:580,stock:18}],isBestSeller:!0,isRare:!1,isActive:!0,deliveryType:"next_day",sourceType:"hub",approvalStatus:"approved"},{id:"3",nameEn:"Chicken Breast",nameTa:" ",sku:"CHKN-001",category:"chicken",description:"Boneless chicken breast",images:[],variants:[{id:"v5",type:"Boneless",size:"Pack",grossWeight:"500g",netWeight:"500g",pieces:"2-3 pieces",serves:"2-3",price:280,stock:50}],isBestSeller:!1,isRare:!1,isActive:!0,deliveryType:"same_day",sourceType:"store",approvalStatus:"approved"},{id:"4",nameEn:"Mutton Curry Cut",nameTa:" ",sku:"MUTN-001",category:"mutton",description:"Fresh mutton curry cut",images:[],variants:[{id:"v6",type:"Curry Cut",size:"Pack",grossWeight:"500g",netWeight:"500g",pieces:"8-10 pieces",serves:"2-3",price:450,stock:30}],isBestSeller:!1,isRare:!1,isActive:!0,deliveryType:"same_day",sourceType:"store",approvalStatus:"approved"}],R4e=[{id:"store_1",name:"Anna Nagar Store",type:"store",location:"Anna Nagar"},{id:"store_2",name:"T. Nagar Store",type:"store",location:"T. Nagar"},{id:"store_3",name:"Velachery Store",type:"store",location:"Velachery"}];function tL(){const e=async t=>{try{await new Promise(s=>setTimeout(s,2e3)),console.log("Store order created:",t),alert("Store Order created successfully!")}catch(s){console.error("Failed to create store order:",s),alert("Failed to create store order. Please try again.")}};return r.jsxs("div",{className:"space-y-6",children:[r.jsx(vc,{title:"Store Manual Order Creation",description:"Create manual orders for all products with same-day/next-day delivery"}),r.jsx(qp,{moduleType:"store",products:D4e,hubs:R4e,onSubmit:e})]})}const M4e=[{id:"rare_1",nameEn:"King Fish (Premium)",nameTa:" ",sku:"RARE-001",category:"fish",description:"Premium king fish - advance booking required",images:[],variants:[{id:"rv1",type:"Whole Cleaned",size:"Large",grossWeight:"2000-2500g",netWeight:"1800-2200g",pieces:"1 piece",serves:"6-8",price:2500,stock:5}],isBestSeller:!1,isRare:!0,isActive:!0,deliveryType:"exotic",sourceType:"hub",approvalStatus:"approved"},{id:"hub_1",nameEn:"Seer Fish (Vanjaram)",nameTa:"",sku:"FISH-001",category:"fish",description:"Premium quality seer fish",images:[],variants:[{id:"v1",type:"Whole Cleaned",size:"Medium",grossWeight:"1000-1250g",netWeight:"800-1000g",pieces:"1 piece",serves:"3-4",price:1200,stock:25,discount:10}],isBestSeller:!0,isRare:!1,isActive:!0,deliveryType:"next_day",sourceType:"hub",approvalStatus:"approved"},{id:"store_1",nameEn:"Chicken Breast",nameTa:" ",sku:"CHKN-001",category:"chicken",description:"Boneless chicken breast",images:[],variants:[{id:"v5",type:"Boneless",size:"Pack",grossWeight:"500g",netWeight:"500g",pieces:"2-3 pieces",serves:"2-3",price:280,stock:50}],isBestSeller:!1,isRare:!1,isActive:!0,deliveryType:"same_day",sourceType:"store",approvalStatus:"approved"},{id:"store_2",nameEn:"Mutton Curry Cut",nameTa:" ",sku:"MUTN-001",category:"mutton",description:"Fresh mutton curry cut",images:[],variants:[{id:"v6",type:"Curry Cut",size:"Pack",grossWeight:"500g",netWeight:"500g",pieces:"8-10 pieces",serves:"2-3",price:450,stock:30}],isBestSeller:!1,isRare:!1,isActive:!0,deliveryType:"same_day",sourceType:"store",approvalStatus:"approved"}],L4e=[{id:"store_1",name:"Anna Nagar Store",type:"store",location:"Anna Nagar"},{id:"store_2",name:"T. Nagar Store",type:"store",location:"T. Nagar"},{id:"store_3",name:"Velachery Store",type:"store",location:"Velachery"}];function rL(){const e=async t=>{try{await new Promise(s=>setTimeout(s,2e3)),console.log("Store pre-order created:",t),alert("Store Pre-order created successfully!")}catch(s){console.error("Failed to create store pre-order:",s),alert("Failed to create store pre-order. Please try again.")}};return r.jsxs("div",{className:"space-y-6",children:[r.jsx(vc,{title:"Store Pre-Order Creation",description:"Create advance bookings for all products and bulk orders"}),r.jsx(Vp,{moduleType:"store",products:M4e,hubs:L4e,onSubmit:e})]})}const I4e=[{id:"1",name:"Sea Fish",nameTa:" ",isActive:!0,applicableFor:"hub"},{id:"2",name:"Freshwater Fish",nameTa:" ",isActive:!0,applicableFor:"hub"},{id:"3",name:"Shell Fish",nameTa:" ",isActive:!0,applicableFor:"hub"},{id:"4",name:"Dry Fish",nameTa:" ",isActive:!0,applicableFor:"hub"},{id:"5",name:"Meat",nameTa:"",isActive:!0,applicableFor:"store"},{id:"6",name:"Eggs",nameTa:"",isActive:!0,applicableFor:"store"},{id:"7",name:"Spices",nameTa:"",isActive:!0,applicableFor:"store"},{id:"8",name:"Ready to Eat",nameTa:" ",isActive:!0,applicableFor:"store"},{id:"9",name:"Ready to Cook",nameTa:" ",isActive:!0,applicableFor:"store"}];function F4e({data:e,onChange:t}){const{user:s}=os(),n=(()=>{const i=s?.loginType==="super_admin"?"both":s?.loginType==="hub"?"hub":"store";return I4e.filter(l=>l.isActive?i==="both"?!0:l.applicableFor===i:!1)})();return r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(Pt,{className:"h-5 w-5 text-blue-600"}),r.jsx("h2",{className:"text-lg font-semibold",children:"Product Information"}),r.jsxs("div",{className:"flex items-center gap-4 ml-auto",children:[r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:e.isBestSeller,onChange:i=>t("isBestSeller",i.target.checked),className:"rounded border-gray-300"}),r.jsx("span",{className:"text-sm",children:"Best Seller"})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:e.isRareProduct,onChange:i=>t("isRareProduct",i.target.checked),className:"rounded border-gray-300"}),r.jsx("span",{className:"text-sm",children:"Rare Product"})]})]})]}),r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Name (English) *"}),r.jsx("input",{type:"text",value:e.nameEn,onChange:i=>t("nameEn",i.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Seer Fish"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Name (Tamil) *"}),r.jsx("input",{type:"text",value:e.nameTa,onChange:i=>t("nameTa",i.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:""})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),r.jsxs("select",{value:e.category,onChange:i=>t("category",i.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"Select Category"}),n.map(i=>r.jsxs("option",{value:i.id,children:[i.name," (",i.nameTa,")"]},i.id))]}),n.length===0&&r.jsx("p",{className:"text-xs text-red-600 mt-1",children:"No categories available. Please contact admin to add categories."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"HSN Number"}),r.jsx("input",{type:"text",value:e.hsnNumber,onChange:i=>t("hsnNumber",i.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"100"})]})]}),r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-3 mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Variant"}),r.jsx("input",{type:"text",value:e.variant,onChange:i=>t("variant",i.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Medium"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fish Size"}),r.jsx("input",{type:"text",value:e.fishSize,onChange:i=>t("fishSize",i.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"1 kg"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max"}),r.jsx("input",{type:"text",value:e.maxSize,onChange:i=>t("maxSize",i.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"2 kg"})]})]}),r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Base Price () *"}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Min"}),r.jsx("input",{type:"number",value:e.basePriceMin,onChange:i=>t("basePriceMin",Number(i.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"1299"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Max"}),r.jsx("input",{type:"number",value:e.basePriceMax,onChange:i=>t("basePriceMax",Number(i.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"1299"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fish Count"}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Min"}),r.jsx("input",{type:"number",value:e.fishCountMin,onChange:i=>t("fishCountMin",Number(i.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Max"}),r.jsx("input",{type:"number",value:e.fishCountMax,onChange:i=>t("fishCountMax",Number(i.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"2"})]})]})]})]}),r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Type *"}),r.jsxs("select",{value:e.productType,onChange:i=>t("productType",i.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"Select Type"}),r.jsx("option",{value:"fresh",children:"Fresh"}),r.jsx("option",{value:"frozen",children:"Frozen"}),r.jsx("option",{value:"processed",children:"Processed"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Season"}),r.jsx("input",{type:"text",value:e.season,onChange:i=>t("season",i.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"April - December"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Meta Title Tag *"}),r.jsx("input",{type:"text",value:e.metaTitle,onChange:i=>t("metaTitle",i.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Fresh Seer Fish - Premium Quality | BayHawk",maxLength:60}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[e.metaTitle.length,"/60 characters"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Meta Description *"}),r.jsx("textarea",{value:e.metaDescription,onChange:i=>t("metaDescription",i.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Buy fresh seer fish online. Premium quality, cleaned and delivered to your doorstep. Rich in omega-3 and protein.",rows:3,maxLength:160}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[e.metaDescription.length,"/160 characters"]})]})]})]})}const h3={1:[{id:"p1",name:"Sea Bass",price:450},{id:"p2",name:"Seer Fish",price:650}],2:[{id:"p3",name:"Catfish",price:300},{id:"p4",name:"Tilapia",price:250}],5:[{id:"p5",name:"Chicken Breast",price:280},{id:"p6",name:"Mutton Curry Cut",price:550}],6:[{id:"p7",name:"Farm Eggs (6 pcs)",price:42},{id:"p8",name:"Country Eggs (6 pcs)",price:54}],7:[{id:"p9",name:"Turmeric Powder",price:80},{id:"p10",name:"Chili Powder",price:90}],8:[{id:"p11",name:"Biryani Mix",price:120},{id:"p12",name:"Curry Ready",price:150}],9:[{id:"p13",name:"Marinated Chicken",price:320},{id:"p14",name:"Tandoori Mix",price:340}]};function B4e({data:e,onChange:t,availableCategories:s}){const a=()=>{const u={id:Date.now().toString(),categoryId:"",productId:"",quantity:1};t("comboItems",[...e.comboItems,u])},n=u=>{t("comboItems",e.comboItems.filter(d=>d.id!==u))},i=(u,d,m)=>{t("comboItems",e.comboItems.map(f=>f.id===u?{...f,[d]:m,...d==="categoryId"?{productId:""}:{}}:f))},l=()=>e.comboItems.reduce((u,d)=>{const f=h3[d.categoryId]?.find(g=>g.id===d.productId);return u+(f?.price||0)*d.quantity},0),o=()=>{const u=l();return u-u*e.comboOfferPercent/100};return r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(Pt,{className:"h-5 w-5 text-purple-600"}),r.jsx("h2",{className:"text-lg font-semibold",children:"Combo Product Information"}),r.jsxs("div",{className:"flex items-center gap-4 ml-auto",children:[r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:e.isBestSeller,onChange:u=>t("isBestSeller",u.target.checked),className:"rounded border-gray-300"}),r.jsx("span",{className:"text-sm",children:"Best Seller"})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:e.isRareProduct,onChange:u=>t("isRareProduct",u.target.checked),className:"rounded border-gray-300"}),r.jsx("span",{className:"text-sm",children:"Rare Product"})]})]})]}),r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Combo Name *"}),r.jsx("input",{type:"text",value:e.comboName,onChange:u=>t("comboName",u.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Fish & Meat Combo"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-1",children:[r.jsx(mx,{className:"h-4 w-4"}),"Offer Percentage *"]}),r.jsx("input",{type:"number",min:"0",max:"100",value:e.comboOfferPercent,onChange:u=>t("comboOfferPercent",Number(u.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"10"})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Combo Description *"}),r.jsx("textarea",{value:e.comboDescription,onChange:u=>t("comboDescription",u.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Get fresh fish and premium meat together at a special price!",rows:2})]}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Products in Combo *"}),r.jsxs(ce,{onClick:a,variant:"secondary",size:"sm",children:[r.jsx(hr,{className:"mr-1 h-4 w-4"}),"Add Product"]})]}),e.comboItems.length===0&&r.jsxs("div",{className:"text-center py-6 border-2 border-dashed border-gray-300 rounded-lg bg-gray-50",children:[r.jsx(Pt,{className:"h-10 w-10 text-gray-400 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"No products added yet"})]}),e.comboItems.map((u,d)=>{const g=(h3[u.categoryId]?.find(p=>p.id===u.productId)?.price||0)*u.quantity;return r.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg bg-white mb-2",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Product ",d+1]}),r.jsx(ce,{type:"button",variant:"secondary",size:"sm",onClick:()=>n(u.id),className:"text-red-600 hover:bg-red-50",children:r.jsx(ws,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"grid gap-2 grid-cols-1 sm:grid-cols-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Category"}),r.jsxs("select",{value:u.categoryId,onChange:p=>i(u.id,"categoryId",p.target.value),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",children:[r.jsx("option",{value:"",children:"Select"}),s.map(p=>r.jsx("option",{value:p.id,children:p.name},p.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Product"}),r.jsxs("select",{value:u.productId,onChange:p=>i(u.id,"productId",p.target.value),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",disabled:!u.categoryId,children:[r.jsx("option",{value:"",children:"Select"}),u.categoryId&&h3[u.categoryId]?.map(p=>r.jsx("option",{value:p.id,children:p.name},p.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Quantity"}),r.jsx("input",{type:"number",min:"1",value:u.quantity,onChange:p=>i(u.id,"quantity",Number(p.target.value)),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Price"}),r.jsxs("div",{className:"w-full px-2 py-1.5 text-sm border border-gray-200 rounded-md bg-gray-50 text-gray-700 font-medium",children:["",g.toFixed(2)]})]})]})]},u.id)}),e.comboItems.length>0&&r.jsx("div",{className:"p-3 bg-gradient-to-r from-green-50 to-blue-50 rounded-lg border border-green-200 mt-3",children:r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 text-center",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Products"}),r.jsx("p",{className:"text-lg font-bold text-gray-900",children:e.comboItems.length})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Original"}),r.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["",l().toFixed(2)]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Discount"}),r.jsxs("p",{className:"text-lg font-bold text-red-600",children:["-",(l()*e.comboOfferPercent/100).toFixed(2)]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Final Price"}),r.jsxs("p",{className:"text-lg font-bold text-green-600",children:["",o().toFixed(2)]})]})]})})]}),r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Type *"}),r.jsxs("select",{value:e.productType,onChange:u=>t("productType",u.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",children:[r.jsx("option",{value:"",children:"Select Type"}),r.jsx("option",{value:"fresh",children:"Fresh"}),r.jsx("option",{value:"frozen",children:"Frozen"}),r.jsx("option",{value:"processed",children:"Processed"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Season"}),r.jsx("input",{type:"text",value:e.season,onChange:u=>t("season",u.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"April - December"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Meta Title Tag *"}),r.jsx("input",{type:"text",value:e.metaTitle,onChange:u=>t("metaTitle",u.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Fish & Meat Combo - Special Offer | BayHawk",maxLength:60}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[e.metaTitle.length,"/60 characters"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Meta Description *"}),r.jsx("textarea",{value:e.metaDescription,onChange:u=>t("metaDescription",u.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Get fresh fish and premium meat together at a special discounted price. Save more with our combo offers!",rows:3,maxLength:160}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[e.metaDescription.length,"/160 characters"]})]})]})]})}function U4e({images:e,primaryImageIndex:t,onImagesChange:s,onSetPrimaryImage:a}){return r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(Ro,{className:"h-5 w-5 text-green-600"}),r.jsx("h2",{className:"text-lg font-semibold",children:"Product Image"})]}),r.jsx($se,{images:e,onImagesChange:s,primaryImageIndex:t,onSetPrimaryImage:a,maxImages:4})]})}function z4e({value:e,onChange:t}){return r.jsxs(ae,{children:[r.jsx("div",{className:"flex items-center gap-2 mb-4",children:r.jsx("h2",{className:"text-lg font-semibold",children:"Description"})}),r.jsx(zse,{value:e,onChange:t,placeholder:"Enter product description",minHeight:"120px"})]})}function $4e({variant:e,index:t,availableCuttingTypes:s,canRemove:a,onVariantChange:n,onRemoveVariant:i}){return r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"font-medium text-gray-900",children:["Variant ",t+1]}),a&&r.jsxs(ce,{onClick:()=>i(t),variant:"secondary",size:"sm",className:"text-red-600 hover:text-red-700",children:[r.jsx(ws,{className:"mr-1 h-4 w-4"}),"Remove"]})]}),r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-3 mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cutting Type"}),r.jsxs("select",{value:e.cuttingTypeId||"",onChange:l=>n(t,"cuttingTypeId",l.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"Select Cutting Type"}),s.map(l=>r.jsx("option",{value:l.id,title:l.description,children:l.name},l.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gross Weight"}),r.jsx("input",{type:"text",value:e.grossWeight,onChange:l=>n(t,"grossWeight",l.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"500g"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Net Weight"}),r.jsx("input",{type:"text",value:e.netWeight,onChange:l=>n(t,"netWeight",l.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"450g"})]})]}),r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-3 mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pieces"}),r.jsx("input",{type:"text",value:e.pieces,onChange:l=>n(t,"pieces",l.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Serves"}),r.jsx("input",{type:"text",value:e.serves,onChange:l=>n(t,"serves",l.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"2-3"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SKU Number"}),r.jsx("input",{type:"text",value:e.skuNumber,onChange:l=>n(t,"skuNumber",l.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"SKU-001"})]})]}),r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-3 mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Actual Price"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:""}),r.jsx("input",{type:"number",value:e.actualPrice,onChange:l=>n(t,"actualPrice",Number(l.target.value)),className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sales Price"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:""}),r.jsx("input",{type:"number",value:e.salesPrice,onChange:l=>n(t,"salesPrice",Number(l.target.value)),className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stock (kgs)"}),r.jsx("input",{type:"number",value:e.stock,onChange:l=>n(t,"stock",Number(l.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"})]})]}),r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"IGST (%)"}),r.jsx("input",{type:"number",value:e.igst,onChange:l=>n(t,"igst",Number(l.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0",step:"0.01"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CGST (%)"}),r.jsx("input",{type:"number",value:e.cgst,onChange:l=>n(t,"cgst",Number(l.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0",step:"0.01"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SGST (%)"}),r.jsx("input",{type:"number",value:e.sgst,onChange:l=>n(t,"sgst",Number(l.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0",step:"0.01"})]})]})]})}const H4e=[{key:"monday",label:"Monday"},{key:"tuesday",label:"Tuesday"},{key:"wednesday",label:"Wednesday"},{key:"thursday",label:"Thursday"},{key:"friday",label:"Friday"},{key:"saturday",label:"Saturday"},{key:"sunday",label:"Sunday"}];function q4e({data:e,onChange:t}){const s=()=>{t({...e,enabled:!e.enabled})},a=(l,o)=>{const u=e.dayPrices.map(d=>d.day===l?{...d,price:o}:d);t({...e,dayPrices:u})},n=l=>{const o=e.dayPrices.map(u=>u.day===l?{...u,enabled:!u.enabled}:u);t({...e,dayPrices:o})},i=()=>{const l=e.dayPrices.map(o=>{switch(o.day){case"monday":case"tuesday":case"thursday":return{...o,price:1e3,enabled:!0};case"wednesday":case"friday":case"sunday":return{...o,price:1200,enabled:!0};case"saturday":return{...o,price:0,enabled:!1};default:return o}});t({...e,dayPrices:l})};return r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(hs,{className:"h-5 w-5 text-orange-600"}),r.jsx("h2",{className:"text-lg font-semibold",children:"Day-based Pricing"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ce,{type:"button",variant:"secondary",size:"sm",onClick:i,disabled:!e.enabled,children:"Set Example Pricing"}),r.jsxs("button",{type:"button",onClick:s,className:"flex items-center gap-2 text-sm",children:[e.enabled?r.jsx(O2,{className:"h-5 w-5 text-green-600"}):r.jsx(E2,{className:"h-5 w-5 text-gray-400"}),r.jsx("span",{className:e.enabled?"text-green-600 font-medium":"text-gray-500",children:e.enabled?"Enabled":"Disabled"})]})]})]}),!e.enabled&&r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Enable day-based pricing to set different prices for different days of the week"}),e.enabled&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Set different prices for different days. Example: Monday-Thursday 1000, Friday-Sunday 1200"}),r.jsx("div",{className:"grid gap-3 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:H4e.map(({key:l,label:o})=>{const u=e.dayPrices.find(d=>d.day===l);return r.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 bg-gray-50",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:o}),r.jsx("button",{type:"button",onClick:()=>n(l),className:"flex items-center",children:u?.enabled?r.jsx(O2,{className:"h-4 w-4 text-green-600"}):r.jsx(E2,{className:"h-4 w-4 text-gray-400"})})]}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-2 text-gray-500 text-sm",children:""}),r.jsx("input",{type:"number",value:u?.price||0,onChange:d=>a(l,Number(d.target.value)),disabled:!u?.enabled,className:`w-full pl-8 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${u?.enabled?"":"bg-gray-100 text-gray-400"}`,placeholder:"0"})]})]},l)})}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[r.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"Pricing Summary:"}),r.jsxs("div",{className:"text-xs text-blue-700 space-y-1",children:[e.dayPrices.filter(l=>l.enabled&&l.price>0).map(l=>r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"capitalize",children:[l.day,":"]}),r.jsxs("span",{className:"font-medium",children:["",l.price]})]},l.day)),e.dayPrices.filter(l=>l.enabled&&l.price>0).length===0&&r.jsx("p",{className:"text-blue-600",children:"No pricing set for any day"})]})]})]})]})}const sL=["Aiykoora","Anjal","Kalagnani","King fish","Konema","Neimeen","Nettaiyan Cheela","Neymeen","Sakala","Sear","Spanish mackerels","Surmai","Thora","Tuvar Anjari","Vangiram","Vanjaram","Visonu","Fresh fish","Sea fish","Premium quality","Daily catch","Boneless","Whole fish","Fillet","Curry cut","Steaks","Cleaned"];function V4e({data:e,onChange:t}){const[s,a]=_.useState(""),[n,i]=_.useState(!1),[l,o]=_.useState(!0),u=y=>{const v=y.trim();v&&!e.tags.includes(v)&&t({tags:[...e.tags,v]}),a("")},d=y=>{t({tags:e.tags.filter(v=>v!==y)})},m=()=>{s.trim()&&u(s)},f=y=>{(y.key==="Enter"||y.key===",")&&(y.preventDefault(),m())},g=y=>{u(y)},p=()=>sL.filter(y=>!e.tags.includes(y)&&y.toLowerCase().includes(s.toLowerCase()));return r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Eo,{className:"h-5 w-5 text-purple-600"}),r.jsx("h2",{className:"text-lg font-semibold",children:"Product Tags"})]}),r.jsx("button",{type:"button",onClick:()=>o(!l),className:"flex items-center gap-1 text-sm text-gray-600 hover:text-gray-800",children:l?r.jsx(gX,{className:"h-4 w-4"}):r.jsx(s6,{className:"h-4 w-4"})})]}),l&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Add tags to help customers find your product in search. These keywords will show results when customers type them."}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx("input",{type:"text",value:s,onChange:y=>a(y.target.value),onKeyPress:f,onFocus:()=>i(!0),onBlur:()=>setTimeout(()=>i(!1),200),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter tag name..."}),n&&s&&p().length>0&&r.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-300 rounded-md shadow-lg z-10 max-h-40 overflow-y-auto",children:p().slice(0,8).map(y=>r.jsx("button",{type:"button",onClick:()=>g(y),className:"w-full text-left px-3 py-2 hover:bg-gray-100 text-sm",children:y},y))})]}),r.jsxs(ce,{type:"button",onClick:m,disabled:!s.trim(),size:"sm",children:[r.jsx(hr,{className:"h-4 w-4 mr-1"}),"Add"]})]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Separate tags with commas or press Enter to add"}),e.tags.length>0&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Current Tags:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:e.tags.map(y=>r.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:[r.jsx(ws,{className:"h-3 w-3 cursor-pointer hover:text-blue-600",onClick:()=>d(y)}),y]},y))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Choose from the most used tags:"})}),r.jsx("div",{className:"flex flex-wrap gap-2",children:sL.filter(y=>!e.tags.includes(y)).slice(0,12).map(y=>r.jsxs("button",{type:"button",onClick:()=>g(y),className:"inline-flex items-center gap-1 px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm hover:bg-gray-200 transition-colors",children:[r.jsx(hr,{className:"h-3 w-3"}),y]},y))})]}),e.tags.length>0&&r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[r.jsxs("h4",{className:"text-sm font-medium text-green-800 mb-1",children:["Search Keywords (",e.tags.length," tags):"]}),r.jsxs("p",{className:"text-xs text-green-700",children:["Customers can find this product by searching: ",e.tags.join(", ")]})]})]})]})}function W4e({baseQuantity:e,baseUnit:t,nutrition:s,selectedNutrition:a={},onNutritionChange:n,onSelectedNutritionChange:i}){const[l,o]=_.useState(e),[u,d]=_.useState(!0),[m,f]=_.useState(!1),[g,p]=_.useState(""),[y,v]=_.useState(0),[j,N]=_.useState("g"),[k,w]=_.useState([]),[A,C]=_.useState(new Set),M=G=>{const ee=l/e;return Math.round(G*ee*100)/100},R=(G,ee,Ne)=>{const X={...s};Ne?X[Ne]={...X[Ne],[G]:ee}:X[G]=ee,n(X)},D=(G,ee)=>{if(!i)return;const Ne=ee?`${ee}.${G}`:G,X={...a,[Ne]:!a[Ne]};i(X)},B=(G,ee)=>{const Ne=ee?`${ee}.${G}`:G;return a[Ne]||!1},z=()=>{if(!g.trim())return;const G=g.toLowerCase().replace(/\s+/g,"_"),ee={key:G,label:g,unit:j};w([...k,ee]),R(G,y),p(""),v(0),N("g"),f(!1)},I=G=>{w(k.filter(Ne=>Ne.key!==G));const ee={...s};if(delete ee[G],n(ee),i){const Ne={...a};delete Ne[G],i(Ne)}},F=(G,ee)=>{const Ne=ee?`${ee}.${G}`:G;if(C(new Set(A).add(Ne)),i&&a[Ne]){const X={...a};delete X[Ne],i(X)}},Y=(G,ee)=>{const Ne=ee?`${ee}.${G}`:G;return A.has(Ne)},te=()=>Object.values(a).filter(Boolean).length,ue=[{key:"calories",label:"Calories",unit:"kcal"},{key:"protein",label:"Protein",unit:"g"},{key:"carbs",label:"Carbohydrates",unit:"g"},{key:"fat",label:"Total Fat",unit:"g"},{key:"fiber",label:"Fiber",unit:"g"},{key:"sugar",label:"Sugar",unit:"g"},{key:"sodium",label:"Sodium",unit:"mg"},{key:"cholesterol",label:"Cholesterol",unit:"mg"}],Z=[{key:"vitaminA",label:"Vitamin A",unit:"IU"},{key:"vitaminC",label:"Vitamin C",unit:"mg"},{key:"vitaminD",label:"Vitamin D",unit:"IU"},{key:"vitaminB12",label:"Vitamin B12",unit:"mcg"}],ie=[{key:"calcium",label:"Calcium",unit:"mg"},{key:"iron",label:"Iron",unit:"mg"},{key:"potassium",label:"Potassium",unit:"mg"},{key:"magnesium",label:"Magnesium",unit:"mg"}];return r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(a6,{className:"h-5 w-5 text-blue-600"}),r.jsx("h3",{className:"text-lg font-semibold",children:"Nutrition Information"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("span",{className:"text-sm text-gray-600",children:[te()," selected for label"]}),r.jsxs("button",{type:"button",onClick:()=>d(!u),className:"flex items-center gap-1 text-sm text-blue-600 hover:text-blue-800",children:[u?r.jsx(fd,{className:"h-4 w-4"}):r.jsx(Fr,{className:"h-4 w-4"}),u?"Hide Preview":"Show Preview"]})]})]}),r.jsx("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:r.jsxs("p",{className:"text-sm text-blue-800",children:[r.jsx("strong",{children:"Instructions:"})," Check the boxes next to nutrition values you want to include on the product label. Only selected nutrition information will be displayed to customers."]})}),r.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Serving Size"}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ce,{type:"button",variant:"secondary",size:"sm",onClick:()=>o(Math.max(1,l-1)),children:r.jsx(bd,{className:"h-4 w-4"})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"number",value:l,onChange:G=>o(Number(G.target.value)||1),className:"w-20 px-3 py-2 border border-gray-300 rounded-md text-center",min:"1"}),r.jsx("span",{className:"text-sm text-gray-600",children:t})]}),r.jsx(ce,{type:"button",variant:"secondary",size:"sm",onClick:()=>o(l+1),children:r.jsx(hr,{className:"h-4 w-4"})})]}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Base serving: ",e," ",t]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Basic Nutrition"}),r.jsx("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2",children:ue.filter(G=>!Y(G.key)).map(G=>{const ee=B(G.key);return r.jsxs("div",{className:`flex items-center justify-between p-3 border rounded-lg transition-colors ${ee?"border-green-500 bg-green-50":"border-gray-200"}`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{type:"button",onClick:()=>D(G.key),className:`flex items-center justify-center w-5 h-5 rounded border-2 transition-colors ${ee?"border-green-500 bg-green-500 text-white":"border-gray-300 hover:border-green-400"}`,children:ee&&r.jsx(Do,{className:"h-3 w-3"})}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 cursor-pointer",children:G.label}),r.jsxs("p",{className:"text-xs text-gray-500",children:["per ",l," ",t]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"number",value:s[G.key],onChange:Ne=>R(G.key,Number(Ne.target.value)||0),className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm text-right",step:"0.1",min:"0"}),r.jsx("span",{className:"text-xs text-gray-500 w-8",children:G.unit}),r.jsx("button",{type:"button",onClick:()=>F(G.key),className:"text-red-600 hover:text-red-800",title:"Remove",children:r.jsx(Sr,{className:"h-4 w-4"})})]})]},G.key)})})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Vitamins"}),r.jsx("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2",children:Z.filter(G=>!Y(G.key,"vitamins")).map(G=>{const ee=B(G.key,"vitamins");return r.jsxs("div",{className:`flex items-center justify-between p-3 border rounded-lg transition-colors ${ee?"border-green-500 bg-green-50":"border-gray-200"}`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{type:"button",onClick:()=>D(G.key,"vitamins"),className:`flex items-center justify-center w-5 h-5 rounded border-2 transition-colors ${ee?"border-green-500 bg-green-500 text-white":"border-gray-300 hover:border-green-400"}`,children:ee&&r.jsx(Do,{className:"h-3 w-3"})}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 cursor-pointer",children:G.label}),r.jsxs("p",{className:"text-xs text-gray-500",children:["per ",l," ",t]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"number",value:s.vitamins[G.key],onChange:Ne=>R(G.key,Number(Ne.target.value)||0,"vitamins"),className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm text-right",step:"0.1",min:"0"}),r.jsx("span",{className:"text-xs text-gray-500 w-8",children:G.unit}),r.jsx("button",{type:"button",onClick:()=>F(G.key,"vitamins"),className:"text-red-600 hover:text-red-800",title:"Remove",children:r.jsx(Sr,{className:"h-4 w-4"})})]})]},G.key)})})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Minerals"}),r.jsx("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2",children:ie.filter(G=>!Y(G.key,"minerals")).map(G=>{const ee=B(G.key,"minerals");return r.jsxs("div",{className:`flex items-center justify-between p-3 border rounded-lg transition-colors ${ee?"border-green-500 bg-green-50":"border-gray-200"}`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{type:"button",onClick:()=>D(G.key,"minerals"),className:`flex items-center justify-center w-5 h-5 rounded border-2 transition-colors ${ee?"border-green-500 bg-green-500 text-white":"border-gray-300 hover:border-green-400"}`,children:ee&&r.jsx(Do,{className:"h-3 w-3"})}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 cursor-pointer",children:G.label}),r.jsxs("p",{className:"text-xs text-gray-500",children:["per ",l," ",t]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"number",value:s.minerals[G.key],onChange:Ne=>R(G.key,Number(Ne.target.value)||0,"minerals"),className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm text-right",step:"0.1",min:"0"}),r.jsx("span",{className:"text-xs text-gray-500 w-8",children:G.unit}),r.jsx("button",{type:"button",onClick:()=>F(G.key,"minerals"),className:"text-red-600 hover:text-red-800",title:"Remove",children:r.jsx(Sr,{className:"h-4 w-4"})})]})]},G.key)})})]}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Custom Nutrition Values"}),r.jsxs(ce,{type:"button",variant:"secondary",size:"sm",onClick:()=>f(!m),children:[r.jsx(hr,{className:"mr-1 h-4 w-4"}),"Add Custom Value"]})]}),m&&r.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg mb-3",children:r.jsxs("div",{className:"grid gap-3 grid-cols-1 sm:grid-cols-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Name *"}),r.jsx("input",{type:"text",value:g,onChange:G=>p(G.target.value),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded-md",placeholder:"e.g., Omega-3"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Value *"}),r.jsx("input",{type:"number",value:y,onChange:G=>v(Number(G.target.value)),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded-md",step:"0.1",min:"0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit *"}),r.jsxs("select",{value:j,onChange:G=>N(G.target.value),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded-md",children:[r.jsx("option",{value:"g",children:"g"}),r.jsx("option",{value:"mg",children:"mg"}),r.jsx("option",{value:"mcg",children:"mcg"}),r.jsx("option",{value:"IU",children:"IU"}),r.jsx("option",{value:"kcal",children:"kcal"})]})]}),r.jsxs("div",{className:"flex items-end gap-2",children:[r.jsx(ce,{type:"button",onClick:z,size:"sm",className:"flex-1",children:"Add"}),r.jsx(ce,{type:"button",variant:"secondary",onClick:()=>f(!1),size:"sm",children:r.jsx(ws,{className:"h-4 w-4"})})]})]})}),k.length>0?r.jsx("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2",children:k.map(G=>{const ee=B(G.key);return r.jsxs("div",{className:`flex items-center justify-between p-3 border rounded-lg transition-colors ${ee?"border-green-500 bg-green-50":"border-gray-200"}`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{type:"button",onClick:()=>D(G.key),className:`flex items-center justify-center w-5 h-5 rounded border-2 transition-colors ${ee?"border-green-500 bg-green-500 text-white":"border-gray-300 hover:border-green-400"}`,children:ee&&r.jsx(Do,{className:"h-3 w-3"})}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 cursor-pointer",children:G.label}),r.jsxs("p",{className:"text-xs text-gray-500",children:["per ",l," ",t]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"number",value:s[G.key]||0,onChange:Ne=>R(G.key,Number(Ne.target.value)||0),className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm text-right",step:"0.1",min:"0"}),r.jsx("span",{className:"text-xs text-gray-500 w-8",children:G.unit}),r.jsx("button",{type:"button",onClick:()=>I(G.key),className:"text-red-600 hover:text-red-800",title:"Remove",children:r.jsx(Sr,{className:"h-4 w-4"})})]})]},G.key)})}):r.jsx("div",{className:"text-center py-4 border-2 border-dashed border-gray-300 rounded-lg",children:r.jsx("p",{className:"text-sm text-gray-500",children:"No custom nutrition values added yet"})})]}),u&&te()>0&&r.jsxs("div",{className:"mt-6 p-4 bg-white border-2 border-gray-300 rounded-lg",children:[r.jsx("h4",{className:"font-bold text-center mb-2",children:"Nutrition Facts Preview"}),r.jsx("p",{className:"text-xs text-center text-gray-600 mb-2",children:"(Only selected nutrition values will appear on product label)"}),r.jsx("div",{className:"border-b-8 border-black mb-2"}),r.jsxs("div",{className:"text-sm",children:[r.jsxs("div",{className:"flex justify-between font-semibold",children:[r.jsx("span",{children:"Serving Size"}),r.jsxs("span",{children:[l," ",t]})]}),r.jsx("div",{className:"border-b-4 border-black my-2"}),B("calories")&&r.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[r.jsx("span",{children:"Calories"}),r.jsx("span",{children:M(s.calories)})]}),te()>(B("calories")?1:0)&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"border-b border-gray-300 my-1"}),r.jsx("div",{className:"text-xs text-right font-semibold",children:"% Daily Value*"}),r.jsxs("div",{className:"space-y-1",children:[ue.filter(G=>G.key!=="calories"&&B(G.key)).map(G=>r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{children:[r.jsx("strong",{children:G.label})," ",M(s[G.key]),G.unit]}),r.jsxs("span",{className:"font-semibold",children:[G.key==="fat"&&Math.round(M(s.fat)/65*100),G.key==="cholesterol"&&Math.round(M(s.cholesterol)/300*100),G.key==="sodium"&&Math.round(M(s.sodium)/2300*100),G.key==="carbs"&&Math.round(M(s.carbs)/300*100),G.key==="fiber"&&Math.round(M(s.fiber)/25*100),["fat","cholesterol","sodium","carbs","fiber"].includes(G.key)&&"%"]})]},G.key)),Z.filter(G=>B(G.key,"vitamins")).map(G=>r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{children:[r.jsx("strong",{children:G.label})," ",M(s.vitamins[G.key]),G.unit]}),r.jsx("span",{className:"font-semibold",children:"*"})]},G.key)),ie.filter(G=>B(G.key,"minerals")).map(G=>r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{children:[r.jsx("strong",{children:G.label})," ",M(s.minerals[G.key]),G.unit]}),r.jsx("span",{className:"font-semibold",children:"*"})]},G.key)),k.filter(G=>B(G.key)).map(G=>r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{children:[r.jsx("strong",{children:G.label})," ",M(s[G.key]||0),G.unit]}),r.jsx("span",{className:"font-semibold",children:"*"})]},G.key))]})]}),r.jsx("div",{className:"border-b-8 border-black my-2"}),r.jsx("div",{className:"text-xs",children:r.jsx("p",{children:"* The % Daily Value (DV) tells you how much a nutrient in a serving of food contributes to a daily diet."})})]})]}),te()===0&&r.jsx("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:r.jsxs("p",{className:"text-sm text-yellow-800",children:[r.jsx("strong",{children:"No nutrition values selected."})," Select nutrition values above to include them on the product label."]})})]})}const G4e=[{id:"1",name:"Whole Fish",description:"Complete fish without cutting",category:"fish"},{id:"2",name:"Fish Fillet",description:"Boneless fish pieces",category:"fish"},{id:"3",name:"Fish Steaks",description:"Cross-cut fish pieces",category:"fish"},{id:"4",name:"Fish Curry Cut",description:"Medium pieces with bone",category:"fish"},{id:"5",name:"Cleaned",description:"Cleaned and ready to cook",category:"fish"}];function K4e({onSave:e,onCancel:t,initialData:s}){const[a,n]=_.useState({isCombo:s?.isCombo||!1,nameEn:s?.nameEn||"",nameTa:s?.nameTa||"",category:s?.category||"",hsnNumber:s?.hsnNumber||"",variant:s?.variant||"",fishSize:s?.fishSize||"",maxSize:s?.maxSize||"",basePriceMin:s?.basePriceMin||0,basePriceMax:s?.basePriceMax||0,fishCountMin:s?.fishCountMin||0,fishCountMax:s?.fishCountMax||0,isBestSeller:s?.isBestSeller||!1,isRareProduct:s?.isRareProduct||!1,isActive:s?.isActive||!0,productType:s?.productType||"",season:s?.season||"",metaTitle:s?.metaTitle||"",metaDescription:s?.metaDescription||"",comboData:s?.comboData||{comboName:"",comboOfferPercent:0,comboDescription:"",comboItems:[],isBestSeller:!1,isRareProduct:!1,isActive:!0,productType:"",season:"",metaTitle:"",metaDescription:""},images:s?.images||[],primaryImageIndex:s?.primaryImageIndex||0,description:s?.description||"",dayBasedPricing:s?.dayBasedPricing||{enabled:!1,dayPrices:[{day:"monday",price:0,enabled:!1},{day:"tuesday",price:0,enabled:!1},{day:"wednesday",price:0,enabled:!1},{day:"thursday",price:0,enabled:!1},{day:"friday",price:0,enabled:!1},{day:"saturday",price:0,enabled:!1},{day:"sunday",price:0,enabled:!1}]},productTags:s?.productTags||{tags:[]},nutrition:s?.nutrition||{calories:165,protein:20,carbs:0,fat:8,fiber:0,sugar:0,sodium:60,cholesterol:70,vitamins:{vitaminA:120,vitaminC:3,vitaminD:10,vitaminB12:2},minerals:{calcium:12,iron:.9,potassium:350,magnesium:25}},selectedNutrition:s?.selectedNutrition||{calories:!0,protein:!0,fat:!0,"vitamins.vitaminD":!0,"minerals.calcium":!0},variants:s?.variants||[{id:"1",type:"Regular",size:"Medium",grossWeight:"500g",netWeight:"450g",pieces:"1",serves:"2-3",skuNumber:"",actualPrice:0,salesPrice:0,stock:0,igst:0,cgst:0,sgst:0,cuttingTypeId:""}]}),[i,l]=_.useState(!1),o=(w,A)=>{n(C=>({...C,[w]:A}))},u=(w,A)=>{n(C=>({...C,comboData:{...C.comboData,[w]:A}}))},d=()=>{n(w=>({...w,isCombo:!w.isCombo}))},m=w=>{n(A=>({...A,images:w,primaryImageIndex:w.length>0?Math.min(A.primaryImageIndex,w.length-1):0}))},f=w=>{n(A=>({...A,primaryImageIndex:w}))},g=w=>{n(A=>({...A,description:w}))},p=w=>{n(A=>({...A,dayBasedPricing:w}))},y=w=>{n(A=>({...A,productTags:w}))},v=(w,A,C)=>{n(M=>({...M,variants:M.variants.map((R,D)=>D===w?{...R,[A]:C}:R)}))},j=()=>{const w={id:Date.now().toString(),type:"Regular",size:"Medium",grossWeight:"500g",netWeight:"450g",pieces:"1",serves:"2-3",skuNumber:"",actualPrice:0,salesPrice:0,stock:0,igst:0,cgst:0,sgst:0,cuttingTypeId:""};n(A=>({...A,variants:[...A.variants,w]}))},N=w=>{a.variants.length>1&&n(A=>({...A,variants:A.variants.filter((C,M)=>M!==w)}))},k=()=>{if(a.isCombo){if(!a.comboData.comboName||!a.comboData.productType||!a.comboData.metaTitle||!a.comboData.metaDescription||a.comboData.comboItems.length===0){alert("Please fill in all required combo fields (Combo Name, Products, Product Type, Meta Title, Meta Description)");return}}else if(!a.nameEn||!a.category||!a.productType||!a.metaTitle||!a.metaDescription){alert("Please fill in all required fields (Product Name English, Category, Product Type, Meta Title, Meta Description)");return}if(a.variants.length===0){alert("Please add at least one product variant");return}e(a)};return r.jsxs("div",{className:"space-y-6 max-h-[80vh] overflow-y-auto",children:[r.jsx(ae,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Pt,{className:"h-6 w-6 text-blue-600"}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:a.isCombo?"Create Combo Product":"Create New Product"}),r.jsx("p",{className:"text-sm text-gray-600",children:a.isCombo?"Bundle multiple products with special offers":"Add a single product to your catalog"})]})]}),r.jsx(ce,{type:"button",variant:a.isCombo?"primary":"secondary",onClick:d,children:a.isCombo?"Switch to Single Product":"Switch to Combo Product"})]})}),r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[a.isActive?r.jsx(Fr,{className:"h-5 w-5 text-green-600"}):r.jsx(fd,{className:"h-5 w-5 text-red-600"}),r.jsx("h3",{className:"text-lg font-semibold",children:"Product Visibility"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:`text-sm font-medium ${a.isActive?"text-green-600":"text-red-600"}`,children:a.isActive?"Product is Visible":"Product is Hidden"}),r.jsx(ce,{type:"button",variant:a.isActive?"secondary":"primary",onClick:()=>o("isActive",!a.isActive),className:a.isActive?"bg-red-50 text-red-600 hover:bg-red-100 border-red-200":"bg-green-50 text-green-600 hover:bg-green-100 border-green-200",children:a.isActive?r.jsxs(r.Fragment,{children:[r.jsx(fd,{className:"mr-2 h-5 w-5"}),"Hide Product"]}):r.jsxs(r.Fragment,{children:[r.jsx(Fr,{className:"mr-2 h-5 w-5"}),"Show Product"]})})]})]}),r.jsx("div",{className:"mt-3 p-3 rounded-lg bg-gray-50",children:r.jsx("p",{className:"text-sm text-gray-600",children:a.isActive?r.jsxs(r.Fragment,{children:[r.jsx("strong",{children:"Visible:"})," This product will be displayed to customers and available for purchase."]}):r.jsxs(r.Fragment,{children:[r.jsx("strong",{children:"Hidden:"})," This product will not be visible to customers and cannot be purchased. Use this to temporarily remove products from your store."]})})})]}),a.isCombo?r.jsx(B4e,{data:a.comboData,onChange:u,availableCategories:[{id:"1",name:"Sea Fish"},{id:"2",name:"Freshwater Fish"},{id:"3",name:"Shell Fish"},{id:"4",name:"Dry Fish"},{id:"5",name:"Meat"},{id:"6",name:"Eggs"},{id:"7",name:"Spices"},{id:"8",name:"Ready to Eat"},{id:"9",name:"Ready to Cook"}]}):r.jsx(F4e,{data:{nameEn:a.nameEn,nameTa:a.nameTa,category:a.category,hsnNumber:a.hsnNumber,variant:a.variant,fishSize:a.fishSize,maxSize:a.maxSize,basePriceMin:a.basePriceMin,basePriceMax:a.basePriceMax,fishCountMin:a.fishCountMin,fishCountMax:a.fishCountMax,isBestSeller:a.isBestSeller,isRareProduct:a.isRareProduct,isActive:a.isActive,productType:a.productType,season:a.season,metaTitle:a.metaTitle,metaDescription:a.metaDescription},onChange:o}),r.jsx(U4e,{images:a.images,primaryImageIndex:a.primaryImageIndex,onImagesChange:m,onSetPrimaryImage:f}),r.jsx(z4e,{value:a.description,onChange:g}),r.jsx(q4e,{data:a.dayBasedPricing,onChange:p}),r.jsx(V4e,{data:a.productTags,onChange:y}),r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Zu,{className:"h-5 w-5 text-purple-600"}),r.jsx("h2",{className:"text-lg font-semibold",children:"Product Variants & Cutting Types"})]}),r.jsxs(ce,{onClick:j,variant:"secondary",size:"sm",children:[r.jsx(hr,{className:"mr-1 h-5 w-5"}),"Add Variant"]})]}),r.jsx("div",{className:"space-y-6",children:a.variants.map((w,A)=>r.jsx($4e,{variant:w,index:A,availableCuttingTypes:G4e,canRemove:a.variants.length>1,onVariantChange:v,onRemoveVariant:N},w.id))})]}),r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(a6,{className:"h-5 w-5 text-green-600"}),r.jsx("h3",{className:"text-lg font-semibold",children:"Nutrition Information"})]}),r.jsx(ce,{type:"button",variant:i?"primary":"secondary",onClick:()=>l(!i),children:i?"Hide Nutrition":"Add Nutrition"})]}),!i&&r.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Add detailed nutrition information to help customers make informed choices"})]}),i&&r.jsx(W4e,{baseQuantity:100,baseUnit:"g",nutrition:a.nutrition,selectedNutrition:a.selectedNutrition,onNutritionChange:w=>n(A=>({...A,nutrition:w})),onSelectedNutritionChange:w=>n(A=>({...A,selectedNutrition:w}))}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[r.jsx(ce,{variant:"secondary",onClick:t,children:"Cancel"}),r.jsxs(ce,{onClick:k,children:[r.jsx(Ii,{className:"mr-2 h-5 w-5"}),"Save Product"]})]})]})}const aL=[{id:"activate",label:"Activate Products",icon:O2,variant:"success",requiresConfirmation:!0,confirmationMessage:"Are you sure you want to activate the selected products?"},{id:"deactivate",label:"Deactivate Products",icon:E2,variant:"warning",requiresConfirmation:!0,confirmationMessage:"Are you sure you want to deactivate the selected products?"},{id:"archive",label:"Archive Products",icon:BZ,variant:"warning",requiresConfirmation:!0,confirmationMessage:"Are you sure you want to archive the selected products?"},{id:"delete",label:"Delete Products",icon:Sr,variant:"danger",requiresConfirmation:!0,confirmationMessage:"Are you sure you want to delete the selected products? This action cannot be undone."}];function Y4e({products:e,onView:t,onEdit:s,onDelete:a,onToggleVisibility:n,onBulkAction:i,title:l="Products",additionalFilters:o=[]}){const[u,d]=_.useState(""),[m,f]=_.useState(""),[g,p]=_.useState(""),[y,v]=_.useState({isOpen:!1,actionId:"",actionType:""}),j=e.filter(z=>{const I=!u||z.nameEn.toLowerCase().includes(u.toLowerCase())||z.nameTa.includes(u)||z.sku.toLowerCase().includes(u.toLowerCase()),F=!m||z.category===m,Y=!g||g==="active"&&z.isActive||g==="inactive"&&!z.isActive;return I&&F&&Y}),{selectedItems:N,selectAll:k,deselectAll:w,toggleItem:A,isSelected:C}=Rx(j),M=N.length===j.length&&j.length>0,R=N.length>0&&N.length<j.length,D=z=>{const I=aL.find(F=>F.id===z);I?.requiresConfirmation?v({isOpen:!0,actionId:z,actionType:I.variant||"default"}):i?.(z,N)},B=async z=>{i&&(await i(y.actionId,N,z),w()),v({isOpen:!1,actionId:"",actionType:""})};return r.jsxs("div",{className:"space-y-4",children:[r.jsx(Px,{searchValue:u,onSearchChange:d,placeholder:"Search products...",filters:[{key:"category",label:"Category",value:m,onChange:f,options:[{value:"",label:"All Categories"},{value:"fish",label:"Fish"},{value:"prawns",label:"Prawns"},{value:"crab",label:"Crab"},{value:"chicken",label:"Chicken"},{value:"mutton",label:"Mutton"},{value:"egg",label:"Egg"}]},{key:"status",label:"Status",value:g,onChange:p,options:[{value:"",label:"All Status"},{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}]},...o]}),N.length>0&&r.jsx(Dx,{selectedItems:N,totalItems:j.length,onSelectAll:k,onDeselectAll:w,actions:aL,onAction:D,itemName:"products"}),j.length>0&&r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:M?w:k,className:`p-1 rounded transition-colors ${M?"text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:M?r.jsx(Fo,{className:"h-4 w-4"}):R?r.jsx(bd,{className:"h-4 w-4"}):r.jsx(Bo,{className:"h-4 w-4"})}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:N.length>0?`${N.length} of ${j.length} ${l.toLowerCase()} selected`:`Select all ${j.length} ${l.toLowerCase()}`})]})}),r.jsx("div",{className:"space-y-3",children:j.map(z=>r.jsx(ae,{className:"p-4 hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:()=>A(z.id),className:`p-1 rounded transition-colors flex-shrink-0 ${C(z.id)?"text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:C(z.id)?r.jsx(Fo,{className:"h-4 w-4"}):r.jsx(Bo,{className:"h-4 w-4"})}),r.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx(k2,{className:"h-8 w-8 text-gray-400"})}),r.jsx("div",{className:"flex-1 min-w-0",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[r.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:z.nameEn}),r.jsxs("div",{className:"flex flex-wrap items-center gap-1",children:[r.jsx(at,{variant:Qn(z.isActive?"active":"inactive"),className:"text-xs",children:z.isActive?"Active":"Inactive"}),z.isBestSeller&&r.jsx(at,{variant:"bg-yellow-100 text-yellow-800",className:"text-xs",children:"Best Seller"}),z.isRare&&r.jsx(at,{variant:"bg-purple-100 text-purple-800",className:"text-xs",children:"Rare"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-gray-600",children:[r.jsx("div",{children:r.jsx("span",{className:"font-medium",children:z.nameTa})}),r.jsx("div",{children:r.jsx("span",{className:"font-mono text-xs",children:z.sku})}),r.jsx("div",{children:r.jsx(at,{variant:"bg-gray-100 text-gray-800",className:"text-xs",children:z.category})}),r.jsx("div",{children:r.jsx(at,{variant:z.deliveryType==="same_day"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800",className:"text-xs",children:z.deliveryType.replace("_"," ")})})]})]}),r.jsxs("div",{className:"flex flex-col items-end gap-2 ml-4 flex-shrink-0",children:[r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"font-semibold text-lg",children:jt(z.variants[0]?.price||0)}),z.variants[0]?.discount&&r.jsxs("p",{className:"text-xs text-green-600",children:[z.variants[0].discount,"% off"]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:`font-medium ${(z.variants[0]?.stock||0)<10?"text-red-600":"text-green-600"}`,children:[z.variants[0]?.stock||0," ",z.category==="egg"?"pcs":"kg"]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Stock"})]})]})]})}),r.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[r.jsx("button",{onClick:()=>n?.(z),className:`p-2 rounded-lg transition-colors ${z.isActive?"hover:bg-yellow-50 text-yellow-600":"hover:bg-green-50 text-green-600"}`,title:z.isActive?"Hide Product":"Show Product",children:z.isActive?r.jsx(fd,{className:"h-4 w-4"}):r.jsx(Fr,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>t?.(z),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"View Details",children:r.jsx(Fr,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>s?.(z),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Edit",children:r.jsx(vs,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>a?.(z),className:"p-2 hover:bg-red-50 rounded-lg transition-colors text-red-600",title:"Delete",children:r.jsx(Sr,{className:"h-4 w-4"})})]})]})},z.id))}),j.length===0&&r.jsxs(ae,{className:"p-12 text-center",children:[r.jsx(Pt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No products found"}),r.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or filters"})]}),r.jsx(Mx,{isOpen:y.isOpen,onClose:()=>v({isOpen:!1,actionId:"",actionType:""}),onConfirm:B,title:`Bulk Action: ${y.actionId}`,actionType:y.actionType,selectedCount:N.length,itemName:"products"})]})}const nL=[{id:"activate",label:"Activate Types",icon:O2,variant:"success",requiresConfirmation:!0,confirmationMessage:"Are you sure you want to activate the selected cutting types?"},{id:"deactivate",label:"Deactivate Types",icon:E2,variant:"warning",requiresConfirmation:!0,confirmationMessage:"Are you sure you want to deactivate the selected cutting types?"},{id:"delete",label:"Delete Types",icon:Sr,variant:"danger",requiresConfirmation:!0,confirmationMessage:"Are you sure you want to delete the selected cutting types? This action cannot be undone."}],Z4e=e=>{switch(e){case"fish":return Kl;case"chicken":return Sv;case"mutton":return Sv;default:return Zu}},X4e=e=>{switch(e){case"fish":return"bg-blue-100 text-blue-800";case"chicken":return"bg-yellow-100 text-yellow-800";case"mutton":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};function J4e({cuttingTypes:e,onView:t,onEdit:s,onDelete:a,onBulkAction:n,title:i="Cutting Types"}){const[l,o]=_.useState(""),[u,d]=_.useState(""),[m,f]=_.useState(""),[g,p]=_.useState({isOpen:!1,actionId:"",actionType:""}),y=e.filter(D=>{const B=!l||D.name.toLowerCase().includes(l.toLowerCase())||D.description.toLowerCase().includes(l.toLowerCase()),z=!u||D.category===u,I=!m||m==="active"&&D.isActive||m==="inactive"&&!D.isActive;return B&&z&&I}),{selectedItems:v,selectAll:j,deselectAll:N,toggleItem:k,isSelected:w}=Rx(y),A=v.length===y.length&&y.length>0,C=v.length>0&&v.length<y.length,M=D=>{const B=nL.find(z=>z.id===D);B?.requiresConfirmation?p({isOpen:!0,actionId:D,actionType:B.variant||"default"}):n?.(D,v)},R=async D=>{n&&(await n(g.actionId,v,D),N()),p({isOpen:!1,actionId:"",actionType:""})};return r.jsxs("div",{className:"space-y-4",children:[r.jsx(Px,{searchValue:l,onSearchChange:o,placeholder:"Search cutting types...",filters:[{key:"category",label:"Category",value:u,onChange:d,options:[{value:"",label:"All Categories"},{value:"fish",label:"Fish"},{value:"chicken",label:"Chicken"},{value:"mutton",label:"Mutton"}]},{key:"status",label:"Status",value:m,onChange:f,options:[{value:"",label:"All Status"},{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}]}]}),v.length>0&&r.jsx(Dx,{selectedItems:v,totalItems:y.length,onSelectAll:j,onDeselectAll:N,actions:nL,onAction:M,itemName:"cutting types"}),y.length>0&&r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:A?N:j,className:`p-1 rounded transition-colors ${A?"text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:A?r.jsx(Fo,{className:"h-4 w-4"}):C?r.jsx(bd,{className:"h-4 w-4"}):r.jsx(Bo,{className:"h-4 w-4"})}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:v.length>0?`${v.length} of ${y.length} ${i.toLowerCase()} selected`:`Select all ${y.length} ${i.toLowerCase()}`})]})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:y.map(D=>{const B=Z4e(D.category);return r.jsx(ae,{className:"p-4 hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("button",{onClick:()=>k(D.id),className:`p-1 rounded transition-colors flex-shrink-0 ${w(D.id)?"text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:w(D.id)?r.jsx(Fo,{className:"h-4 w-4"}):r.jsx(Bo,{className:"h-4 w-4"})}),r.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center flex-shrink-0 overflow-hidden",children:D.imageUrl?r.jsx("img",{src:D.imageUrl,alt:D.name,className:"w-full h-full object-cover"}):r.jsx(Zu,{className:"h-8 w-8 text-gray-400"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:D.name}),r.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:D.description})]}),r.jsx(at,{variant:D.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800",className:"ml-2 flex-shrink-0",children:D.isActive?"Active":"Inactive"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(B,{className:"h-4 w-4 text-gray-500"}),r.jsx(at,{variant:X4e(D.category),className:"text-xs",children:D.category.charAt(0).toUpperCase()+D.category.slice(1)})]}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx("button",{onClick:()=>t?.(D),className:"p-1.5 hover:bg-gray-100 rounded-lg transition-colors",title:"View Details",children:r.jsx(Fr,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>s?.(D),className:"p-1.5 hover:bg-gray-100 rounded-lg transition-colors",title:"Edit",children:r.jsx(vs,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>a?.(D),className:"p-1.5 hover:bg-red-50 rounded-lg transition-colors text-red-600",title:"Delete",children:r.jsx(Sr,{className:"h-4 w-4"})})]})]})]})]})},D.id)})}),y.length===0&&r.jsxs(ae,{className:"p-12 text-center",children:[r.jsx(Zu,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No cutting types found"}),r.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or filters"})]}),r.jsx(Mx,{isOpen:g.isOpen,onClose:()=>p({isOpen:!1,actionId:"",actionType:""}),onConfirm:R,title:`Bulk Action: ${g.actionId}`,actionType:g.actionType,selectedCount:v.length,itemName:"cutting types"})]})}function Q4e({requests:e,onView:t,onApprove:s,onReject:a,onBulkAction:n,title:i}){const[l,o]=_.useState([]),[u,d]=_.useState(""),[m,f]=_.useState("all"),[g,p]=_.useState(!1),y=e.filter(C=>{const M=C.productName.toLowerCase().includes(u.toLowerCase())||C.productNameTa.includes(u)||C.category.toLowerCase().includes(u.toLowerCase())||C.requestedBy.toLowerCase().includes(u.toLowerCase()),R=m==="all"||C.status===m;return M&&R}),v=C=>{o(C?y.map(M=>M.id):[])},j=(C,M)=>{o(M?R=>[...R,C]:R=>R.filter(D=>D!==C))},N=async(C,M)=>{if(l.length!==0)try{await n(C,l,M),o([]),p(!1)}catch(R){console.error("Bulk action failed:",R)}},k=C=>{switch(C){case"pending":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},w=C=>{switch(C){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},A=[{id:"approve_selected",label:"Approve Selected",icon:Do,color:"text-green-600"},{id:"reject_selected",label:"Reject Selected",icon:ws,color:"text-red-600"}];return r.jsxs(ae,{className:"overflow-hidden",children:[r.jsx("div",{className:"p-4 sm:p-6 border-b bg-gray-50",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold",children:i}),r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[y.length," request",y.length!==1?"s":"",l.length>0&&`  ${l.length} selected`]})]}),l.length>0&&r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>p(!g),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(PX,{className:"w-4 h-4"}),"Bulk Actions (",l.length,")"]}),g&&r.jsx("div",{className:"absolute right-0 top-full mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-10",children:A.map(C=>r.jsxs("button",{onClick:()=>N(C.id),className:`w-full flex items-center gap-3 px-4 py-3 text-left hover:bg-gray-50 transition-colors ${C.color}`,children:[r.jsx(C.icon,{className:"w-4 h-4"}),C.label]},C.id))})]})]})}),r.jsx("div",{className:"p-4 sm:p-6 border-b bg-white",children:r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Mn,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),r.jsx(he,{placeholder:"Search requests...",value:u,onChange:C=>d(C.target.value),className:"pl-10"})]}),r.jsxs("select",{value:m,onChange:C=>f(C.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"approved",children:"Approved"}),r.jsx("option",{value:"rejected",children:"Rejected"})]})]})}),y.length>0&&r.jsx("div",{className:"p-4 border-b bg-gray-50",children:r.jsxs("label",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",checked:l.length===y.length,onChange:C=>v(C.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsxs("span",{className:"text-sm font-medium",children:["Select All (",y.length,")"]})]})}),r.jsx("div",{className:"divide-y",children:y.length>0?y.map(C=>r.jsx("div",{className:"p-4 sm:p-6",children:r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"flex-shrink-0 pt-1",children:r.jsx("input",{type:"checkbox",checked:l.includes(C.id),onChange:M=>j(C.id,M.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),r.jsx("div",{className:"flex-shrink-0",children:r.jsx("img",{src:C.images[0],alt:C.productName,className:"w-20 h-20 object-cover rounded-lg bg-gray-100"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-4 mb-4",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[r.jsx("h3",{className:"font-semibold text-lg",children:C.productName}),r.jsx(at,{variant:k(C.status),children:C.status.charAt(0).toUpperCase()+C.status.slice(1)}),r.jsxs(at,{variant:w(C.priority),children:[C.priority.charAt(0).toUpperCase()+C.priority.slice(1)," Priority"]}),r.jsx(at,{variant:C.sourceType==="hub"?"bg-purple-100 text-purple-800":"bg-orange-100 text-orange-800",children:C.sourceType.toUpperCase()})]}),r.jsx("p",{className:"text-gray-600 text-sm mb-2",children:C.productNameTa}),r.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:C.description})]}),r.jsxs("div",{className:"text-right flex-shrink-0 bg-green-50 p-3 rounded-lg border border-green-200",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Price per Unit"}),r.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",C.price]}),r.jsxs("p",{className:"text-sm text-gray-600 font-medium",children:["per ",C.unit]})]})]}),C.images.length>1&&r.jsxs("div",{className:"mb-4",children:[r.jsxs("p",{className:"text-xs font-medium text-gray-600 mb-2",children:["Product Images (",C.images.length,")"]}),r.jsx("div",{className:"grid grid-cols-4 gap-2",children:C.images.map((M,R)=>r.jsx("img",{src:M,alt:`${C.productName} ${R+1}`,className:"w-full h-20 object-cover rounded-lg bg-gray-100 border"},R))})]}),r.jsxs("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[r.jsx("p",{className:"text-xs font-semibold text-blue-900 mb-2",children:"Request Information"}),r.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hs,{className:"h-4 w-4 text-blue-600 flex-shrink-0"}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Request ID"}),r.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:C.id})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(il,{className:"h-4 w-4 text-blue-600 flex-shrink-0"}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Requested By"}),r.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:C.requestedBy}),r.jsx("p",{className:"text-xs text-gray-500 truncate",children:C.requestedByRole})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(hs,{className:"h-4 w-4 text-blue-600 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Request Date"}),r.jsx("p",{className:"text-sm font-semibold text-gray-900",children:new Date(C.requestDate).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"})})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Pt,{className:"h-4 w-4 text-blue-600 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Category"}),r.jsx("p",{className:"text-sm font-semibold text-gray-900",children:C.category})]})]})]})]}),Object.keys(C.specifications).length>0&&r.jsxs("div",{className:"mb-4 p-3 bg-purple-50 rounded-lg border border-purple-200",children:[r.jsx("p",{className:"text-xs font-semibold text-purple-900 mb-2",children:"Product Specifications"}),r.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3",children:Object.entries(C.specifications).map(([M,R])=>R&&r.jsxs("div",{className:"bg-white p-2 rounded border border-purple-100",children:[r.jsx("p",{className:"text-xs text-gray-600 capitalize mb-1",children:M.replace(/([A-Z])/g," $1").trim()}),r.jsx("p",{className:"text-sm font-semibold text-gray-900",children:R})]},M))})]}),C.status==="rejected"&&C.reason&&r.jsxs("div",{className:"mb-3 p-3 bg-red-50 rounded-lg border border-red-200",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(tl,{className:"h-4 w-4 text-red-600"}),r.jsx("span",{className:"font-semibold text-red-800 text-sm",children:"Rejection Reason"})]}),r.jsx("p",{className:"text-sm text-red-700",children:C.reason})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsxs("button",{onClick:()=>t(C),className:"flex items-center gap-2 px-3 py-1.5 text-sm border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[r.jsx(Fr,{className:"h-4 w-4"}),"View"]}),C.status==="pending"&&r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>s(C),className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[r.jsx(Do,{className:"h-4 w-4"}),"Approve"]}),r.jsxs("button",{onClick:()=>a(C),className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[r.jsx(ws,{className:"h-4 w-4"}),"Reject"]})]})]})]})]})},C.id)):r.jsxs("div",{className:"p-12 text-center",children:[r.jsx(Pt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No requests found"}),r.jsx("p",{className:"text-gray-500",children:u||m!=="all"?"Try adjusting your search or filters":"No product requests available"})]})})]})}const eSe=[{id:"1",nameEn:"Seer Fish (Vanjaram)",nameTa:"",sku:"FISH-001",category:"fish",description:"Premium quality seer fish",images:[],variants:[{id:"v1",type:"Whole Cleaned",size:"Medium",grossWeight:"1000-1250g",netWeight:"800-1000g",pieces:"1 piece",serves:"3-4",price:1200,stock:25,discount:10}],isBestSeller:!0,isRare:!1,isActive:!0,deliveryType:"next_day",sourceType:"hub",moduleType:"hub",hubId:"hub_1",approvalStatus:"approved"},{id:"2",nameEn:"Tiger Prawns",nameTa:"",sku:"PRWN-001",category:"prawns",description:"Fresh tiger prawns",images:[],variants:[{id:"v2",type:"Cleaned",size:"Large",grossWeight:"500g",netWeight:"400g",pieces:"15-20 pieces",serves:"2-3",price:650,stock:15}],isBestSeller:!0,isRare:!1,isActive:!0,deliveryType:"next_day",sourceType:"hub",moduleType:"hub",hubId:"hub_2",approvalStatus:"approved"},{id:"3",nameEn:"Chicken Breast",nameTa:" ",sku:"CHKN-001",category:"chicken",description:"Fresh chicken breast",images:[],variants:[{id:"v3",type:"Boneless",size:"Medium",grossWeight:"500g",netWeight:"450g",pieces:"2-3 pieces",serves:"2-3",price:280,stock:50}],isBestSeller:!1,isRare:!1,isActive:!0,deliveryType:"same_day",sourceType:"store",moduleType:"store",storeId:"store_1",approvalStatus:"approved"},{id:"4",nameEn:"Mutton Curry Cut",nameTa:" ",sku:"MUTTON-001",category:"mutton",description:"Fresh mutton curry cut",images:[],variants:[{id:"v4",type:"Curry Cut",size:"Medium",grossWeight:"500g",netWeight:"450g",pieces:"8-10 pieces",serves:"2-3",price:650,stock:20}],isBestSeller:!1,isRare:!1,isActive:!0,deliveryType:"same_day",sourceType:"store",moduleType:"store",storeId:"store_2",approvalStatus:"approved"}],tSe=[{id:"hub_1",name:"Chennai Hub",location:"Chennai"},{id:"hub_2",name:"Coimbatore Hub",location:"Coimbatore"},{id:"hub_3",name:"Madurai Hub",location:"Madurai"}],rSe=[{id:"store_1",name:"T.Nagar Store",location:"T.Nagar, Chennai"},{id:"store_2",name:"Anna Nagar Store",location:"Anna Nagar, Chennai"},{id:"store_3",name:"Velachery Store",location:"Velachery, Chennai"}];function n1(){const{user:e}=os(),[t,s]=_.useState(!1),[a,n]=_.useState(null),[i,l]=_.useState("hub"),[o,u]=_.useState("all"),[d,m]=_.useState("all"),[f,g]=_.useState("all"),[p,y]=_.useState(""),[v,j]=_.useState(""),[N,k]=_.useState(!1),w=[{value:"all",label:"All Time"},{value:"today",label:"Today"},{value:"yesterday",label:"Yesterday"},{value:"last7days",label:"Last 7 Days"},{value:"last30days",label:"Last 30 Days"},{value:"thisMonth",label:"This Month"},{value:"lastMonth",label:"Last Month"},{value:"custom",label:"Custom Range"}],A=G=>{const ee=new Date,Ne=new Date(ee.getFullYear(),ee.getMonth(),ee.getDate()),X=new Date(ee.getFullYear(),ee.getMonth(),ee.getDate(),23,59,59);switch(G){case"today":return{start:Ne,end:X};case"yesterday":const P=new Date(ee);return P.setDate(P.getDate()-1),{start:new Date(P.getFullYear(),P.getMonth(),P.getDate()),end:new Date(P.getFullYear(),P.getMonth(),P.getDate(),23,59,59)};case"last7days":const H=new Date(ee);return H.setDate(H.getDate()-7),{start:H,end:X};case"last30days":const q=new Date(ee);return q.setDate(q.getDate()-30),{start:q,end:X};case"thisMonth":return{start:new Date(ee.getFullYear(),ee.getMonth(),1),end:X};case"lastMonth":const W=new Date(ee.getFullYear(),ee.getMonth()-1,1),le=new Date(ee.getFullYear(),ee.getMonth(),0,23,59,59);return{start:W,end:le};case"custom":return p&&v?{start:new Date(p),end:new Date(v+"T23:59:59")}:null;default:return null}},C=G=>{if(f==="all")return G;const ee=A(f);return ee?G.filter((Ne,X)=>{const H=[new Date("2024-01-15"),new Date("2024-01-10"),new Date("2024-01-05"),new Date("2024-01-08")][X]||new Date("2024-01-01");return H>=ee.start&&H<=ee.end}):G},M=ux(eSe,e),D=(()=>{let G=e?.loginType==="super_admin"?M.filter(ee=>ee.sourceType===i):M;return e?.loginType==="super_admin"&&(i==="hub"&&o!=="all"?G=G.filter(ee=>ee.hubId===o):i==="store"&&d!=="all"&&(G=G.filter(ee=>ee.storeId===d))),G=C(G),G})(),B=()=>{g("all"),y(""),j("")},z=()=>{n(null),s(!0)},I=G=>{n(G),s(!0)},F=G=>{n(G),s(!0)},Y=G=>{confirm("Are you sure you want to delete this product?")&&console.log("Delete product:",G.id)},te=async(G,ee,Ne)=>{try{switch(G){case"activate":console.log(`Activating ${ee.length} products:`,ee);break;case"deactivate":console.log(`Deactivating ${ee.length} products:`,ee);break;case"archive":console.log(`Archiving ${ee.length} products:`,ee);break;case"delete":console.log(`Deleting ${ee.length} products:`,ee);break;default:console.log(`Bulk action ${G} performed on ${ee.length} products`,Ne)}}catch(X){console.error("Product bulk action failed:",X),alert("Bulk action failed. Please try again.")}},ue=()=>e?.loginType==="hub"?{title:"Hub Product Management",description:"Manage fish and seafood products for hub operations"}:e?.loginType==="store"?{title:"Store Product Management",description:"Manage meat, chicken, and other products for store operations"}:{title:"All Products",description:"Manage all products across hubs and stores"},Z=()=>e?.loginType==="super_admin"?i==="hub"?"Add Hub Product":"Add Store Product":"Add Product",ie=ue();return r.jsx("div",{className:"min-h-screen bg-gray-50",children:r.jsx("div",{className:"w-full py-2 sm:py-4 md:py-6 lg:py-8",children:r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:r.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:r.jsx(Pt,{className:"h-5 w-5 sm:h-6 sm:w-6 text-blue-600"})}),r.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900",children:ie.title})]}),r.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-3",children:ie.description}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsxs(at,{variant:"bg-blue-100 text-blue-700",className:"text-xs font-medium",children:[D.length," Products"]}),r.jsxs(at,{variant:"bg-green-100 text-green-700",className:"text-xs font-medium",children:[D.filter(G=>G.isActive).length," Active"]}),e?.loginType==="super_admin"&&r.jsxs(at,{variant:"bg-purple-100 text-purple-700",className:"text-xs font-medium",children:[i.charAt(0).toUpperCase()+i.slice(1)," View"]}),f!=="all"&&r.jsx(at,{variant:"bg-orange-100 text-orange-700",className:"text-xs font-medium",children:w.find(G=>G.value===f)?.label})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[r.jsxs(ce,{onClick:()=>k(!N),variant:"secondary",className:"w-full sm:w-auto px-4 py-2 border-gray-300 hover:bg-gray-50",children:[r.jsx(hs,{className:"mr-2 h-4 w-4"}),r.jsx("span",{className:"sm:hidden",children:"Filter"}),r.jsx("span",{className:"hidden sm:inline",children:"Date Filter"})]}),r.jsxs(ce,{onClick:z,className:"w-full sm:w-auto px-4 py-2 sm:px-6 sm:py-3 bg-blue-600 hover:bg-blue-700",children:[r.jsx(hr,{className:"mr-2 h-4 w-4"}),r.jsx("span",{className:"sm:hidden",children:"Add Product"}),r.jsx("span",{className:"hidden sm:inline",children:Z()})]})]})]})}),N&&r.jsx(ae,{className:"p-4 sm:p-6 border-l-4 border-l-orange-500",children:r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Jf,{className:"h-5 w-5 text-orange-600"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Date Filter"})]}),r.jsxs(ce,{onClick:B,variant:"secondary",size:"sm",className:"text-gray-600 hover:text-gray-800",children:[r.jsx(ld,{className:"mr-1 h-3 w-3"}),"Reset"]})]}),r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-8 gap-2",children:w.map(G=>r.jsx("button",{onClick:()=>g(G.value),className:`px-3 py-2 text-sm rounded-lg border transition-all ${f===G.value?"bg-orange-100 border-orange-300 text-orange-700 font-medium":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50 hover:border-gray-300"}`,children:G.label},G.value))}),f==="custom"&&r.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Custom Date Range"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Start Date"}),r.jsx("input",{type:"date",value:p,onChange:G=>y(G.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"End Date"}),r.jsx("input",{type:"date",value:v,onChange:G=>j(G.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]})]}),p&&v&&r.jsx("div",{className:"mt-3 p-2 bg-orange-50 rounded border border-orange-200",children:r.jsxs("p",{className:"text-xs text-orange-700",children:[r.jsx("strong",{children:"Selected Range:"})," ",new Date(p).toLocaleDateString()," - ",new Date(v).toLocaleDateString()]})})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2 pt-2 border-t border-gray-200",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Showing:"}),r.jsxs(at,{variant:"bg-blue-100 text-blue-700",className:"text-xs",children:[D.length," products"]}),f!=="all"&&r.jsx(at,{variant:"bg-orange-100 text-orange-700",className:"text-xs",children:w.find(G=>G.value===f)?.label})]})]})}),r.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx(ae,{className:"p-4 hover:shadow-lg transition-all duration-200 border-l-4 border-l-blue-500",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Total Products"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:D.length}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1",children:[r.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),"All products"]})]}),r.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:r.jsx(Pt,{className:"h-6 w-6 text-blue-600"})})]})}),r.jsx(ae,{className:"p-4 hover:shadow-lg transition-all duration-200 border-l-4 border-l-green-500",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Active Products"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:D.filter(G=>G.isActive).length}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1",children:[r.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Currently active"]})]}),r.jsx("div",{className:"p-3 bg-green-100 rounded-xl",children:r.jsx(Pt,{className:"h-6 w-6 text-green-600"})})]})}),r.jsx(ae,{className:"p-4 hover:shadow-lg transition-all duration-200 border-l-4 border-l-yellow-500",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Best Sellers"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:D.filter(G=>G.isBestSeller).length}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1",children:[r.jsx("span",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),"Top performers"]})]}),r.jsx("div",{className:"p-3 bg-yellow-100 rounded-xl",children:r.jsx(Pt,{className:"h-6 w-6 text-yellow-600"})})]})}),r.jsx(ae,{className:"p-4 hover:shadow-lg transition-all duration-200 border-l-4 border-l-red-500",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Low Stock"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:D.filter(G=>(G.variants[0]?.stock||0)<10).length}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1",children:[r.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full"}),"Need attention"]})]}),r.jsx("div",{className:"p-3 bg-red-100 rounded-xl",children:r.jsx(Pt,{className:"h-6 w-6 text-red-600"})})]})})]}),e?.loginType==="super_admin"&&r.jsxs(ae,{className:"p-4 sm:p-6",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Product Categories"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Switch between hub and store product management"})]}),r.jsx("div",{className:"flex gap-2 border-b overflow-x-auto pb-4",children:[{id:"hub",label:"Hub Products",count:M.filter(G=>G.sourceType==="hub").length,description:"Fish & Seafood",icon:""},{id:"store",label:"Store Products",count:M.filter(G=>G.sourceType==="store").length,description:"Meat & Poultry",icon:""}].map(G=>r.jsxs("button",{onClick:()=>l(G.id),className:`flex items-center gap-3 px-4 py-3 border-b-2 transition-all whitespace-nowrap text-sm min-w-0 rounded-t-lg ${i===G.id?"border-blue-600 text-blue-600 bg-blue-50":"border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:[r.jsx("span",{className:"text-lg",children:G.icon}),r.jsxs("div",{className:"text-left",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:G.label}),r.jsx(at,{variant:i===G.id?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600",className:"text-xs font-medium",children:G.count})]}),r.jsx("span",{className:"text-xs text-gray-500",children:G.description})]})]},G.id))})]}),r.jsxs(ae,{className:"overflow-hidden shadow-sm border border-gray-200",children:[r.jsx("div",{className:"bg-gray-50 px-4 sm:px-6 py-3 border-b border-gray-200",children:r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e?.loginType==="super_admin"?`${i.charAt(0).toUpperCase()+i.slice(1)} Products`:"Products"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage and organize your product catalog"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(at,{variant:"bg-blue-100 text-blue-700",className:"text-xs font-medium",children:[D.length," Total"]}),r.jsxs(at,{variant:"bg-green-100 text-green-700",className:"text-xs font-medium",children:[D.filter(G=>G.isActive).length," Active"]})]})]})}),r.jsx(Y4e,{products:D,onView:F,onEdit:I,onDelete:Y,onToggleVisibility:G=>{console.log("Toggle visibility for:",G.id,"Current:",G.isActive),alert(`Product "${G.nameEn}" ${G.isActive?"hidden":"shown"} successfully!`)},onBulkAction:te,title:"",additionalFilters:e?.loginType==="super_admin"?[{key:i==="hub"?"hubId":"storeId",label:i==="hub"?"Hub":"Store",value:i==="hub"?o:d,onChange:G=>{i==="hub"?u(G):m(G)},options:[{value:"all",label:`All ${i==="hub"?"Hubs":"Stores"}`},...(i==="hub"?tSe:rSe).map(G=>({value:G.id,label:`${G.name} - ${G.location}`}))]}]:void 0})]}),r.jsx(gr,{isOpen:t,onClose:()=>{s(!1),n(null)},title:a?"Edit Product":"Add New Product",size:"xl",children:r.jsx(K4e,{onSave:G=>{console.log("Product data:",G),s(!1),n(null)},onCancel:()=>{s(!1),n(null)},initialData:a?{nameEn:a.nameEn,nameTa:a.nameTa,category:a.category,hsnNumber:a.sku||"",variant:a.variants[0]?.type||"",fishSize:a.variants[0]?.size||"",maxSize:a.variants[0]?.grossWeight||"",basePriceMin:a.variants[0]?.price||0,basePriceMax:a.variants[0]?.price||0,fishCountMin:0,fishCountMax:0,isBestSeller:a.isBestSeller,isRareProduct:a.isRare,isActive:a.isActive,productType:"",season:"",metaTitle:"",metaDescription:"",isCombo:!1,comboData:{comboName:"",comboOfferPercent:0,comboDescription:"",comboItems:[],isBestSeller:!1,isRareProduct:!1,isActive:!0,productType:"",season:"",metaTitle:"",metaDescription:""},images:[],primaryImageIndex:0,description:a.description||"",variants:a.variants.map(G=>({id:G.id,type:G.type,size:G.size,grossWeight:G.grossWeight,netWeight:G.netWeight,pieces:G.pieces,serves:G.serves,skuNumber:"",actualPrice:G.price,salesPrice:G.price,stock:G.stock,igst:0,cgst:0,sgst:0,cuttingTypeId:""})),dayBasedPricing:{enabled:!1,dayPrices:[{day:"monday",price:0,enabled:!1},{day:"tuesday",price:0,enabled:!1},{day:"wednesday",price:0,enabled:!1},{day:"thursday",price:0,enabled:!1},{day:"friday",price:0,enabled:!1},{day:"saturday",price:0,enabled:!1},{day:"sunday",price:0,enabled:!1}]},productTags:{tags:[]},nutrition:{calories:a.nutritionalInfo?.calories||0,protein:a.nutritionalInfo?.protein||0,carbs:0,fat:a.nutritionalInfo?.fat||0,fiber:0,sugar:0,sodium:0,cholesterol:0,vitamins:{vitaminA:0,vitaminC:0,vitaminD:0,vitaminB12:0},minerals:{calcium:0,iron:a.nutritionalInfo?.iron||0,potassium:0,magnesium:0}},selectedNutrition:{}}:void 0})})]})})})}const iL=[{id:"HR001",productName:"Premium Tuna",productNameTa:" ",category:"Fish",description:"Fresh premium tuna fish, ideal for sashimi and grilling",price:850,unit:"kg",images:["/api/placeholder/300/200"],requestedBy:"Ravi Kumar",requestedByRole:"Hub Manager",requestDate:"2024-01-08",sourceType:"hub",status:"pending",priority:"high",specifications:{weight:"2-5 kg per piece",freshness:"Caught within 24 hours",origin:"Bay of Bengal",packaging:"Ice packed"}},{id:"HR002",productName:"King Prawns",productNameTa:" ",category:"Prawns",description:"Large king prawns, perfect for special occasions",price:1200,unit:"kg",images:["/api/placeholder/300/200"],requestedBy:"Suresh Babu",requestedByRole:"Procurement Head",requestDate:"2024-01-07",sourceType:"hub",status:"approved",priority:"medium",specifications:{weight:"15-20 pieces per kg",freshness:"Live/Fresh",origin:"Coastal waters",packaging:"Chilled transport"}},{id:"HR003",productName:"Sea Bass",productNameTa:" ",category:"Fish",description:"Fresh sea bass, excellent for steaming and frying",price:650,unit:"kg",images:["/api/placeholder/300/200"],requestedBy:"Muthu Raja",requestedByRole:"Quality Manager",requestDate:"2024-01-06",sourceType:"hub",status:"rejected",priority:"low",reason:"Seasonal availability issues",specifications:{weight:"500g-1kg per piece",freshness:"Daily catch",origin:"Local fishermen",packaging:"Fresh ice"}},{id:"SR001",productName:"Organic Chicken",productNameTa:" ",category:"Chicken",description:"Free-range organic chicken, antibiotic-free",price:320,unit:"kg",images:["/api/placeholder/300/200"],requestedBy:"Priya Sharma",requestedByRole:"Store Manager",requestDate:"2024-01-08",sourceType:"store",status:"pending",priority:"high",specifications:{weight:"1-1.5 kg per bird",freshness:"Slaughtered same day",origin:"Local organic farms",packaging:"Vacuum sealed"}},{id:"SR002",productName:"Goat Curry Cut",productNameTa:"  ",category:"Mutton",description:"Fresh goat meat cut for curry preparation",price:750,unit:"kg",images:["/api/placeholder/300/200"],requestedBy:"Arun Kumar",requestedByRole:"Meat Specialist",requestDate:"2024-01-07",sourceType:"store",status:"approved",priority:"medium",specifications:{weight:"Mixed cuts 200-300g pieces",freshness:"Fresh daily",origin:"Certified suppliers",packaging:"Hygienic packing"}},{id:"SR003",productName:"Farm Eggs",productNameTa:" ",category:"Egg",description:"Fresh farm eggs from free-range hens",price:8,unit:"piece",images:["/api/placeholder/300/200"],requestedBy:"Lakshmi Devi",requestedByRole:"Store Assistant",requestDate:"2024-01-06",sourceType:"store",status:"pending",priority:"low",specifications:{weight:"50-60g per egg",freshness:"Laid within 2 days",origin:"Local poultry farms",packaging:"Cardboard trays"}}];function i1(){const[e,t]=_.useState("hub"),[s,a]=_.useState(!1),[n,i]=_.useState(!1),[l,o]=_.useState(!1),[u,d]=_.useState(null),[m,f]=_.useState(""),[g,p]=_.useState(""),y=iL.filter(z=>z.sourceType==="hub"),v=iL.filter(z=>z.sourceType==="store"),j=[{id:"hub",label:"Hub Requests",icon:eo,count:y.length},{id:"store",label:"Store Requests",icon:Zn,count:v.length}],N=()=>e==="hub"?y:v,k=async(z,I,F)=>{try{switch(z){case"approve_selected":console.log(`Approving ${I.length} requests:`,I),alert(`${I.length} product requests have been approved successfully!`);break;case"reject_selected":const Y=prompt("Please provide a reason for bulk rejection:");Y&&(console.log(`Rejecting ${I.length} requests:`,I,"Reason:",Y),alert(`${I.length} product requests have been rejected. Reason: ${Y}`));break;default:console.log(`Bulk action ${z} performed on ${I.length} requests`,F)}}catch(Y){console.error("Bulk action failed:",Y),alert("Bulk action failed. Please try again.")}},w=z=>{d(z),a(!0)},A=z=>{d(z),p(""),i(!0)},C=z=>{d(z),f(""),o(!0)},M=()=>{u&&(console.log("Approving request:",u.id,"Notes:",g),i(!1),d(null),p(""),alert(`Product "${u.productName}" has been approved successfully!`))},R=()=>{u&&m.trim()?(console.log("Rejecting request:",u.id,"Reason:",m),o(!1),d(null),f(""),alert(`Product "${u.productName}" has been rejected. Reason: ${m}`)):alert("Please provide a reason for rejection.")},D={total:y.length,pending:y.filter(z=>z.status==="pending").length,approved:y.filter(z=>z.status==="approved").length,rejected:y.filter(z=>z.status==="rejected").length},B={total:v.length,pending:v.filter(z=>z.status==="pending").length,approved:v.filter(z=>z.status==="approved").length,rejected:v.filter(z=>z.status==="rejected").length};return r.jsx("div",{className:"min-h-screen bg-gray-50",children:r.jsx("div",{className:"w-full py-4 sm:py-6 lg:py-8",children:r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900 truncate",children:"Product Approval"}),r.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1 sm:mt-2",children:"Review and approve product requests from Hub and Store admins"})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs("div",{className:"flex items-center gap-1 px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-sm",children:[r.jsx(tl,{className:"h-4 w-4"}),r.jsxs("span",{className:"font-medium",children:[D.pending+B.pending," Pending"]})]})})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[r.jsxs(ae,{className:"p-4 sm:p-6 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm sm:text-base text-gray-600 font-medium truncate",children:"Hub Requests"}),r.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mt-1",children:D.total}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:"Fish & Seafood Products"})]}),r.jsx("div",{className:"p-3 sm:p-4 bg-blue-100 rounded-lg flex-shrink-0",children:r.jsx(eo,{className:"h-6 w-6 sm:h-8 sm:w-8 text-blue-600"})})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-3 sm:gap-4",children:[r.jsxs("div",{className:"text-center p-2 sm:p-3 bg-yellow-50 rounded-lg",children:[r.jsx("p",{className:"text-lg sm:text-xl font-bold text-yellow-600",children:D.pending}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 font-medium",children:"Pending"})]}),r.jsxs("div",{className:"text-center p-2 sm:p-3 bg-green-50 rounded-lg",children:[r.jsx("p",{className:"text-lg sm:text-xl font-bold text-green-600",children:D.approved}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 font-medium",children:"Approved"})]}),r.jsxs("div",{className:"text-center p-2 sm:p-3 bg-red-50 rounded-lg",children:[r.jsx("p",{className:"text-lg sm:text-xl font-bold text-red-600",children:D.rejected}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 font-medium",children:"Rejected"})]})]})]}),r.jsxs(ae,{className:"p-4 sm:p-6 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm sm:text-base text-gray-600 font-medium truncate",children:"Store Requests"}),r.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mt-1",children:B.total}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:"Meat & Poultry Products"})]}),r.jsx("div",{className:"p-3 sm:p-4 bg-green-100 rounded-lg flex-shrink-0",children:r.jsx(Zn,{className:"h-6 w-6 sm:h-8 sm:w-8 text-green-600"})})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-3 sm:gap-4",children:[r.jsxs("div",{className:"text-center p-2 sm:p-3 bg-yellow-50 rounded-lg",children:[r.jsx("p",{className:"text-lg sm:text-xl font-bold text-yellow-600",children:B.pending}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 font-medium",children:"Pending"})]}),r.jsxs("div",{className:"text-center p-2 sm:p-3 bg-green-50 rounded-lg",children:[r.jsx("p",{className:"text-lg sm:text-xl font-bold text-green-600",children:B.approved}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 font-medium",children:"Approved"})]}),r.jsxs("div",{className:"text-center p-2 sm:p-3 bg-red-50 rounded-lg",children:[r.jsx("p",{className:"text-lg sm:text-xl font-bold text-red-600",children:B.rejected}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 font-medium",children:"Rejected"})]})]})]})]}),r.jsx(ae,{className:"p-4 sm:p-6",children:r.jsx("div",{className:"flex gap-1 sm:gap-2 border-b overflow-x-auto pb-4",children:j.map(z=>r.jsx("button",{onClick:()=>t(z.id),className:`flex flex-col sm:flex-row items-center gap-1 sm:gap-2 px-3 sm:px-4 py-2 sm:py-3 border-b-2 transition-all whitespace-nowrap text-sm min-w-0 ${e===z.id?"border-blue-600 text-blue-600 bg-blue-50":"border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-50"} rounded-t-lg`,children:r.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[r.jsx(z.icon,{className:"h-3 w-3 sm:h-4 sm:w-4 flex-shrink-0"}),r.jsx("span",{className:"font-medium truncate",children:z.label}),r.jsx(at,{variant:"bg-gray-100 text-gray-600",className:"text-xs flex-shrink-0",children:z.count})]})},z.id))})}),r.jsx(ae,{className:"overflow-hidden",children:r.jsx(Q4e,{requests:N(),onView:w,onApprove:A,onReject:C,onBulkAction:k,title:`${e.charAt(0).toUpperCase()+e.slice(1)} Product Requests`})}),r.jsx(gr,{isOpen:s,onClose:()=>a(!1),title:"Product Request Details",size:"xl",children:u&&r.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto",children:[r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:u.images.map((z,I)=>r.jsx("img",{src:z,alt:`${u.productName} ${I+1}`,className:"w-full h-32 object-cover rounded-lg bg-gray-100 border"},I))}),r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-6 rounded-lg border border-blue-100",children:[r.jsx("div",{className:"flex items-start justify-between mb-4",children:r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:u.productName}),r.jsx("p",{className:"text-lg text-gray-700 mb-3",children:u.productNameTa}),r.jsx("p",{className:"text-gray-600 leading-relaxed",children:u.description})]})}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx(at,{variant:u.status==="pending"?"bg-yellow-100 text-yellow-800":u.status==="approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:u.status.charAt(0).toUpperCase()+u.status.slice(1)}),r.jsxs(at,{variant:u.priority==="high"?"bg-red-100 text-red-800":u.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800",children:[u.priority.charAt(0).toUpperCase()+u.priority.slice(1)," Priority"]}),r.jsx(at,{variant:"bg-blue-100 text-blue-800",children:u.category}),r.jsx(at,{variant:u.sourceType==="hub"?"bg-purple-100 text-purple-800":"bg-orange-100 text-orange-800",children:u.sourceType.toUpperCase()})]})]}),r.jsxs(ae,{className:"p-6 bg-green-50 border-green-200",children:[r.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"text-green-600",children:""})," Pricing Details"]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Price per Unit"}),r.jsxs("p",{className:"text-3xl font-bold text-green-600",children:["",u.price]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Unit"}),r.jsx("p",{className:"text-xl font-semibold text-gray-900",children:u.unit})]})]})]}),r.jsxs(ae,{className:"p-6",children:[r.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx("span",{children:""})," Request Information"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between py-2 border-b",children:[r.jsx("span",{className:"text-gray-600 font-medium",children:"Request ID:"}),r.jsx("span",{className:"font-semibold text-blue-600",children:u.id})]}),r.jsxs("div",{className:"flex justify-between py-2 border-b",children:[r.jsx("span",{className:"text-gray-600 font-medium",children:"Requested By:"}),r.jsx("span",{className:"font-semibold",children:u.requestedBy})]}),r.jsxs("div",{className:"flex justify-between py-2 border-b",children:[r.jsx("span",{className:"text-gray-600 font-medium",children:"Role:"}),r.jsx("span",{className:"font-semibold",children:u.requestedByRole})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between py-2 border-b",children:[r.jsx("span",{className:"text-gray-600 font-medium",children:"Request Date:"}),r.jsx("span",{className:"font-semibold",children:new Date(u.requestDate).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})})]}),r.jsxs("div",{className:"flex justify-between py-2 border-b",children:[r.jsx("span",{className:"text-gray-600 font-medium",children:"Source Type:"}),r.jsx("span",{className:"font-semibold capitalize",children:u.sourceType})]}),r.jsxs("div",{className:"flex justify-between py-2 border-b",children:[r.jsx("span",{className:"text-gray-600 font-medium",children:"Category:"}),r.jsx("span",{className:"font-semibold",children:u.category})]})]})]})]}),r.jsxs(ae,{className:"p-6 bg-blue-50 border-blue-200",children:[r.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx("span",{children:""})," Product Specifications"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(u.specifications).map(([z,I])=>r.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[r.jsx("p",{className:"text-sm text-gray-600 capitalize mb-1",children:z.replace(/([A-Z])/g," $1").trim()}),r.jsx("p",{className:"font-semibold text-gray-900",children:I})]},z))})]}),u.status==="rejected"&&u.reason&&r.jsx(ae,{className:"p-6 bg-red-50 border-red-200",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(tl,{className:"h-6 w-6 text-red-600 flex-shrink-0 mt-1"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold text-red-800 mb-2",children:"Rejection Reason"}),r.jsx("p",{className:"text-red-700 leading-relaxed",children:u.reason})]})]})}),u.status==="pending"&&r.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[r.jsx(ce,{variant:"secondary",onClick:()=>a(!1),className:"flex-1",children:"Close"}),r.jsx(ce,{onClick:()=>{a(!1),C(u)},className:"flex-1 bg-red-600 hover:bg-red-700",children:"Reject"}),r.jsx(ce,{onClick:()=>{a(!1),A(u)},className:"flex-1 bg-green-600 hover:bg-green-700",children:"Approve"})]})]})}),r.jsx(gr,{isOpen:n,onClose:()=>i(!1),title:"Approve Product Request",size:"md",children:u&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600 mb-4",children:"Are you sure you want to approve this product?"}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("p",{className:"font-semibold",children:u.productName}),r.jsx("p",{className:"text-sm text-gray-600",children:u.productNameTa}),r.jsxs("p",{className:"text-sm text-gray-500",children:["",u.price," per ",u.unit]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Approval Notes (Optional)"}),r.jsx("textarea",{value:g,onChange:z=>p(z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",rows:3,placeholder:"Add any notes or conditions for approval..."})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(ce,{variant:"secondary",onClick:()=>i(!1),className:"flex-1",children:"Cancel"}),r.jsx(ce,{onClick:M,className:"flex-1 bg-green-600 hover:bg-green-700",children:"Approve"})]})]})}),r.jsx(gr,{isOpen:l,onClose:()=>o(!1),title:"Reject Product Request",size:"md",children:u&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600 mb-4",children:"Are you sure you want to reject this product?"}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("p",{className:"font-semibold",children:u.productName}),r.jsx("p",{className:"text-sm text-gray-600",children:u.productNameTa}),r.jsxs("p",{className:"text-sm text-gray-500",children:["",u.price," per ",u.unit]})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Rejection Reason ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("textarea",{value:m,onChange:z=>f(z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",rows:3,placeholder:"Please provide a reason for rejection...",required:!0})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(ce,{variant:"secondary",onClick:()=>o(!1),className:"flex-1",children:"Cancel"}),r.jsx(ce,{onClick:R,className:"flex-1 bg-red-600 hover:bg-red-700",children:"Reject"})]})]})})]})})})}const sSe=[{id:"1",name:"Whole Fish",description:"Complete fish without cutting - perfect for grilling",category:"fish",moduleType:"hub",method:`1. Rinse fish under cold running water
2. Remove scales using fish scaler
3. Make incision from vent to gills
4. Remove all internal organs
5. Rinse cavity thoroughly
6. Pat dry with paper towels`,imageUrl:"https://images.unsplash.com/photo-1544943910-4c1dc44aab44?w=400&h=300&fit=crop",isActive:!0,createdBy:"admin",createdAt:"2024-01-01"},{id:"2",name:"Fish Fillet",description:"Boneless fish pieces - ideal for pan-frying",category:"fish",moduleType:"hub",method:`1. Place cleaned fish on cutting board
2. Insert knife behind gills
3. Cut along backbone toward tail
4. Remove fillet in one piece
5. Remove pin bones with tweezers`,imageUrl:"https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=400&h=300&fit=crop",isActive:!0,createdBy:"admin",createdAt:"2024-01-01"},{id:"3",name:"Fish Steaks",description:"Cross-cut fish pieces with bone - great for curries",category:"fish",moduleType:"hub",method:`1. Clean and scale the fish
2. Cut perpendicular to backbone
3. Make 1-2 inch thick steaks
4. Remove any loose scales
5. Wash and pat dry`,imageUrl:"https://images.unsplash.com/photo-1544943910-4c1dc44aab44?w=400&h=300&fit=crop",isActive:!0,createdBy:"admin",createdAt:"2024-01-01"},{id:"4",name:"Fish Curry Cut",description:"Small pieces with bone - traditional curry style",category:"fish",moduleType:"hub",method:`1. Clean fish thoroughly
2. Cut into 2-3 inch pieces
3. Include backbone pieces
4. Ensure uniform size
5. Wash pieces well`,imageUrl:"https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=400&h=300&fit=crop",isActive:!0,createdBy:"admin",createdAt:"2024-01-01"},{id:"5",name:"Fish Fingers",description:"Boneless strips - perfect for frying",category:"fish",moduleType:"hub",method:`1. Start with fish fillets
2. Cut into finger-sized strips
3. Remove any remaining bones
4. Ensure uniform thickness
5. Pat dry before cooking`,imageUrl:"https://images.unsplash.com/photo-1544943910-4c1dc44aab44?w=400&h=300&fit=crop",isActive:!0,createdBy:"admin",createdAt:"2024-01-01"},{id:"6",name:"Whole Chicken",description:"Complete chicken ready for roasting",category:"chicken",moduleType:"store",method:`1. Remove from packaging
2. Remove giblets from cavity
3. Rinse with cold water
4. Pat dry thoroughly
5. Trim excess fat
6. Ready for seasoning`,imageUrl:"https://images.unsplash.com/photo-1548550023-2bdb3c5beed7?w=400&h=300&fit=crop",isActive:!0,createdBy:"admin",createdAt:"2024-01-01"},{id:"7",name:"Chicken Curry Cut",description:"Traditional bone-in pieces for curries",category:"chicken",moduleType:"store",method:`1. Cut through skin between leg and body
2. Remove legs and thighs
3. Cut wings at joints
4. Cut breast into pieces
5. Wash all pieces thoroughly`,imageUrl:"https://images.unsplash.com/photo-1604503468506-a8da13d82791?w=400&h=300&fit=crop",isActive:!0,createdBy:"admin",createdAt:"2024-01-01"},{id:"8",name:"Chicken Boneless",description:"Boneless chicken pieces - versatile cooking",category:"chicken",moduleType:"store",method:`1. Remove skin if desired
2. Debone breast and thigh meat
3. Cut into uniform pieces
4. Remove any cartilage
5. Trim excess fat`,imageUrl:"https://images.unsplash.com/photo-1548550023-2bdb3c5beed7?w=400&h=300&fit=crop",isActive:!0,createdBy:"admin",createdAt:"2024-01-01"},{id:"9",name:"Mutton Curry Cut",description:"Bone-in mutton pieces for traditional curries",category:"mutton",moduleType:"store",method:`1. Cut along natural muscle lines
2. Include bone for flavor
3. Make 2-3 inch pieces
4. Trim excess fat
5. Wash thoroughly`,imageUrl:"https://images.unsplash.com/photo-1529692236671-f1f6cf9683ba?w=400&h=300&fit=crop",isActive:!0,createdBy:"admin",createdAt:"2024-01-01"},{id:"10",name:"Mutton Boneless",description:"Boneless mutton pieces - quick cooking",category:"mutton",moduleType:"store",method:`1. Remove all bones carefully
2. Cut into uniform cubes
3. Trim silver skin
4. Remove excess fat
5. Cut against grain`,imageUrl:"https://images.unsplash.com/photo-1529692236671-f1f6cf9683ba?w=400&h=300&fit=crop",isActive:!0,createdBy:"admin",createdAt:"2024-01-01"},{id:"11",name:"Prawns Cleaned",description:"Deveined prawns ready to cook",category:"other",moduleType:"store",method:`1. Remove head and shell
2. Make shallow cut along back
3. Remove dark vein
4. Rinse under cold water
5. Pat dry gently`,imageUrl:"https://images.unsplash.com/photo-1565680018434-b513d5e5fd47?w=400&h=300&fit=crop",isActive:!0,createdBy:"admin",createdAt:"2024-01-01"},{id:"12",name:"Crab Cleaned",description:"Fresh crab cleaned and ready",category:"other",moduleType:"store",method:`1. Remove top shell
2. Clean out gills
3. Remove intestinal tract
4. Crack claws slightly
5. Rinse thoroughly`,imageUrl:"https://images.unsplash.com/photo-1565680018434-b513d5e5fd47?w=400&h=300&fit=crop",isActive:!0,createdBy:"admin",createdAt:"2024-01-01"}];function l1(){const{user:e}=os(),[t,s]=_.useState(sSe),a=()=>e?.loginType==="hub"?"hub":e?.loginType==="store"?"store":"hub",[n,i]=_.useState(a()),[l,o]=_.useState(!1),[u,d]=_.useState(null),[m,f]=_.useState({name:"",description:"",category:"fish",method:"",imageFile:null,imageUrl:""}),p=e?.loginType==="super_admin"?t:e?.loginType==="hub"?t.filter(I=>I.moduleType==="hub"):e?.loginType==="store"?t.filter(I=>I.moduleType==="store"):[],y=p.filter(I=>I.moduleType==="hub"),v=p.filter(I=>I.moduleType==="store"),N=(()=>{const I=[{id:"hub",label:"Hub Types",icon:eo,count:y.length,description:"Fish Cutting Types"},{id:"store",label:"Store Types",icon:Zn,count:v.length,description:"Meat & Poultry Types"}];return e?.loginType==="hub"?I.filter(F=>F.id==="hub"):e?.loginType==="store"?I.filter(F=>F.id==="store"):I})(),k=()=>e?.loginType==="super_admin"?n==="hub"?y:v:p,w=I=>{I.preventDefault();const F={id:u?.id||Date.now().toString(),name:m.name,description:m.description,category:m.category,method:m.method,imageUrl:m.imageFile?URL.createObjectURL(m.imageFile):m.imageUrl,moduleType:e?.loginType==="hub"?"hub":e?.loginType==="store"?"store":m.category==="fish"?"hub":"store",isActive:!0,createdBy:e?.name||"admin",createdAt:new Date().toISOString().split("T")[0]};s(u?Y=>Y.map(te=>te.id===u.id?F:te):Y=>[...Y,F]),A(),o(!1)},A=()=>{d(null),f({name:"",description:"",category:e?.loginType==="hub"?"fish":"chicken",method:"",imageFile:null,imageUrl:""})},C=I=>{d(I),f({name:I.name,description:I.description,category:I.category,method:I.method,imageFile:null,imageUrl:I.imageUrl||""}),o(!0)},M=I=>{confirm("Are you sure you want to delete this cutting type?")&&s(F=>F.filter(Y=>Y.id!==I.id))},R=I=>{const F=I.target.files?.[0];F&&console.log("Image selected:",F.name)},D=async(I,F,Y)=>{try{switch(I){case"activate":console.log(`Activating ${F.length} cutting types:`,F),s(te=>te.map(ue=>F.includes(ue.id)?{...ue,isActive:!0}:ue));break;case"deactivate":console.log(`Deactivating ${F.length} cutting types:`,F),s(te=>te.map(ue=>F.includes(ue.id)?{...ue,isActive:!1}:ue));break;case"delete":console.log(`Deleting ${F.length} cutting types:`,F),s(te=>te.filter(ue=>!F.includes(ue.id)));break;default:console.log(`Bulk action ${I} performed on ${F.length} cutting types`,Y)}}catch(te){console.error("Cutting type bulk action failed:",te),alert("Bulk action failed. Please try again.")}},z=(()=>{const I=k();return{total:I.length,active:I.filter(F=>F.isActive).length,inactive:I.filter(F=>!F.isActive).length,fish:I.filter(F=>F.category==="fish").length,chicken:I.filter(F=>F.category==="chicken").length,mutton:I.filter(F=>F.category==="mutton").length,other:I.filter(F=>F.category==="other").length}})();return r.jsx("div",{className:"min-h-screen bg-gray-50",children:r.jsx("div",{className:"w-full py-4 sm:py-6 lg:py-8",children:r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900 truncate",children:"Cutting Types Management"}),r.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1 sm:mt-2",children:e?.loginType==="hub"?"Manage fish cutting and preparation methods":e?.loginType==="store"?"Manage meat and poultry cutting methods":"Manage all cutting and preparation methods"})]}),r.jsxs(ce,{onClick:()=>o(!0),className:"w-full sm:w-auto flex-shrink-0 px-4 py-2 sm:px-6 sm:py-3",children:[r.jsx(hr,{className:"mr-2 h-5 w-5"}),r.jsx("span",{className:"hidden sm:inline",children:"Add Cutting Type"}),r.jsx("span",{className:"sm:hidden",children:"Add Type"})]})]})}),r.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 lg:gap-6",children:[r.jsx(ae,{className:"p-3 sm:p-4 lg:p-6 hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 truncate font-medium",children:"Total Types"}),r.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-gray-900 mt-1",children:z.total}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"All cutting types"})]}),r.jsx("div",{className:"p-2 sm:p-3 bg-blue-100 rounded-lg flex-shrink-0",children:r.jsx(Zu,{className:"h-4 w-4 sm:h-5 sm:w-5 lg:h-6 lg:w-6 text-blue-600"})})]})}),r.jsx(ae,{className:"p-3 sm:p-4 lg:p-6 hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 truncate font-medium",children:"Active"}),r.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-green-600 mt-1",children:z.active}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Currently active"})]}),r.jsx("div",{className:"p-2 sm:p-3 bg-green-100 rounded-lg flex-shrink-0",children:r.jsx(Sv,{className:"h-4 w-4 sm:h-5 sm:w-5 lg:h-6 lg:w-6 text-green-600"})})]})}),r.jsx(ae,{className:"p-3 sm:p-4 lg:p-6 hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 truncate font-medium",children:"Fish Types"}),r.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-blue-600 mt-1",children:z.fish}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Fish cutting methods"})]}),r.jsx("div",{className:"p-2 sm:p-3 bg-blue-100 rounded-lg flex-shrink-0",children:r.jsx(Kl,{className:"h-4 w-4 sm:h-5 sm:w-5 lg:h-6 lg:w-6 text-blue-600"})})]})}),r.jsx(ae,{className:"p-3 sm:p-4 lg:p-6 hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 truncate font-medium",children:"Meat Types"}),r.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-red-600 mt-1",children:z.chicken+z.mutton+z.other}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Meat cutting methods"})]}),r.jsx("div",{className:"p-2 sm:p-3 bg-red-100 rounded-lg flex-shrink-0",children:r.jsx(Sv,{className:"h-4 w-4 sm:h-5 sm:w-5 lg:h-6 lg:w-6 text-red-600"})})]})})]}),N.length>1&&r.jsx(ae,{className:"p-4 sm:p-6",children:r.jsx("div",{className:"flex gap-1 sm:gap-2 border-b overflow-x-auto pb-4",children:N.map(I=>r.jsxs("button",{onClick:()=>i(I.id),className:`flex flex-col sm:flex-row items-center gap-1 sm:gap-2 px-3 sm:px-4 py-2 sm:py-3 border-b-2 transition-all whitespace-nowrap text-xs sm:text-sm min-w-0 ${n===I.id?"border-blue-600 text-blue-600 bg-blue-50":"border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-50"} rounded-t-lg`,children:[r.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[r.jsx(I.icon,{className:"h-3 w-3 sm:h-4 sm:w-4 flex-shrink-0"}),r.jsx("span",{className:"font-medium truncate",children:I.label}),r.jsx(at,{variant:"bg-gray-100 text-gray-600",className:"text-xs flex-shrink-0",children:I.count})]}),r.jsx("span",{className:"text-xs text-gray-500 hidden sm:block",children:I.description})]},I.id))})}),r.jsx(ae,{className:"overflow-hidden",children:r.jsx(J4e,{cuttingTypes:k(),onEdit:C,onDelete:M,onBulkAction:D,title:e?.loginType==="super_admin"?`${n.charAt(0).toUpperCase()+n.slice(1)} Cutting Types`:"Cutting Types"})}),r.jsx(gr,{isOpen:l,onClose:()=>{o(!1),A()},title:u?"Edit Cutting Type":"Add New Cutting Type",size:"lg",children:r.jsxs("form",{onSubmit:w,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),r.jsx(he,{value:m.name,onChange:I=>f(F=>({...F,name:I.target.value})),placeholder:"e.g., Fish Fillet",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),r.jsxs("select",{value:m.category,onChange:I=>f(F=>({...F,category:I.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[r.jsx("option",{value:"fish",children:"Fish"}),r.jsx("option",{value:"chicken",children:"Chicken"}),r.jsx("option",{value:"mutton",children:"Mutton"}),r.jsx("option",{value:"other",children:"Other"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx(he,{value:m.description,onChange:I=>f(F=>({...F,description:I.target.value})),placeholder:"Brief description of the cutting type",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cutting Method"}),r.jsx("textarea",{value:m.method,onChange:I=>f(F=>({...F,method:I.target.value})),placeholder:"Step-by-step cutting instructions...",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image"}),r.jsx("input",{type:"file",accept:"image/*",onChange:R,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),m.imageUrl&&r.jsx("div",{className:"mt-2",children:r.jsx("img",{src:m.imageUrl,alt:"Preview",className:"w-20 h-20 object-cover rounded"})})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx(ce,{type:"button",variant:"secondary",onClick:()=>{o(!1),A()},className:"flex-1",children:"Cancel"}),r.jsxs(ce,{type:"submit",className:"flex-1",children:[u?"Update":"Add"," Cutting Type"]})]})]})})]})})})}const aSe=[{id:"1",name:"New Year Special",description:"Celebrate New Year with exciting rewards",cardType:"percentage",rewardValue:20,minOrderValue:500,maxRedemptions:1e3,usedRedemptions:245,validFrom:"2024-01-01",validTo:"2024-01-31",isActive:!0,targetAudience:"all",cardDesign:"template1",scratchArea:{width:200,height:100,position:{x:150,y:200}},winProbability:30,createdBy:"Admin",createdAt:"2024-01-01"},{id:"2",name:"Premium Fish Bonus",description:"Extra cashback on premium fish purchases",cardType:"fixed_amount",rewardValue:50,minOrderValue:1e3,maxRedemptions:500,usedRedemptions:89,validFrom:"2024-01-10",validTo:"2024-02-10",isActive:!0,targetAudience:"premium",cardDesign:"template2",scratchArea:{width:180,height:120,position:{x:160,y:180}},winProbability:25,createdBy:"Admin",createdAt:"2024-01-05"}];function nSe({cards:e}){const t=e.filter(n=>n.isActive).length,s=e.reduce((n,i)=>n+i.usedRedemptions,0),a=e.length>0?(e.reduce((n,i)=>n+i.winProbability,0)/e.length).toFixed(1):"0";return r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:r.jsx(ru,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Cards"}),r.jsx("p",{className:"text-xl font-bold",children:e.length})]})]})}),r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:r.jsx(Vm,{className:"h-5 w-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Active Cards"}),r.jsx("p",{className:"text-xl font-bold",children:t})]})]})}),r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:r.jsx(Mr,{className:"h-5 w-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Scratches"}),r.jsx("p",{className:"text-xl font-bold",children:s})]})]})}),r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:r.jsx(Ps,{className:"h-5 w-5 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Avg Win Rate"}),r.jsxs("p",{className:"text-xl font-bold",children:[a,"%"]})]})]})})]})}function o1(){const[e,t]=_.useState(aSe),[s,a]=_.useState(""),[n,i]=_.useState(""),[l,o]=_.useState(""),[u,d]=_.useState(!1),[m,f]=_.useState(!1),[g,p]=_.useState(!1),[y,v]=_.useState(null),j=A=>{const C=e.find(M=>M.id===A);C&&(v(C),f(!0))},N=A=>{const C=e.find(M=>M.id===A);C&&(v(C),p(!0))},k=A=>{window.confirm("Are you sure you want to delete this card?")&&t(e.filter(C=>C.id!==A))},w=e.filter(A=>{const C=A.name.toLowerCase().includes(s.toLowerCase()),M=!n||(n==="active"?A.isActive:!A.isActive),R=!l||A.cardType===l;return C&&M&&R});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Scratch Card Generator"}),r.jsx("p",{className:"text-gray-600",children:"Create and manage interactive scratch cards"})]}),r.jsx("div",{className:"flex gap-2",children:r.jsxs(ce,{onClick:()=>d(!0),children:[r.jsx(hr,{className:"mr-2 h-4 w-4"}),"Create Campaign"]})})]}),r.jsx(nSe,{cards:e}),r.jsx(ae,{children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Mn,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),r.jsx(he,{placeholder:"Search scratch cards...",value:s,onChange:A=>a(A.target.value),className:"pl-10"})]}),r.jsx(Dt,{value:n,onChange:A=>i(A.target.value),options:[{value:"",label:"All Status"},{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}]}),r.jsx(Dt,{value:l,onChange:A=>o(A.target.value),options:[{value:"",label:"All Types"},{value:"percentage",label:"Percentage"},{value:"fixed_amount",label:"Fixed Amount"},{value:"free_item",label:"Free Item"},{value:"points",label:"Points"}]})]})}),r.jsxs(ae,{children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Campaign"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reward"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usage"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Validity"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{scope:"col",className:"relative px-6 py-3",children:r.jsx("span",{className:"sr-only",children:"Actions"})})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w.map(A=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"text-2xl mr-4",children:A.cardType==="percentage"?"":A.cardType==="fixed_amount"?"":A.cardType==="free_item"?"":""}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:A.name}),r.jsx("div",{className:"text-sm text-gray-500",children:A.description})]})]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm text-gray-900",children:A.cardType==="percentage"?`${A.rewardValue}%`:A.cardType==="fixed_amount"?`${A.rewardValue}`:A.cardType==="points"?`${A.rewardValue} pts`:"Free Item"}),r.jsxs("div",{className:"text-sm text-gray-500",children:["Min. ",A.minOrderValue]})]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsxs("div",{className:"text-sm text-gray-900",children:[A.usedRedemptions," / ",A.maxRedemptions]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5 mt-1",children:r.jsx("div",{className:"bg-blue-600 h-1.5 rounded-full",style:{width:`${Math.min(A.usedRedemptions/A.maxRedemptions*100,100)}%`}})})]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[new Date(A.validFrom).toLocaleDateString()," - ",new Date(A.validTo).toLocaleDateString()]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx(at,{variant:Qn(A.isActive?"active":"inactive"),children:A.isActive?"Active":"Inactive"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:r.jsxs("div",{className:"flex items-center justify-end gap-2",children:[r.jsx("button",{onClick:()=>j(A.id),className:"p-2 hover:bg-gray-100 rounded-lg text-gray-500",children:r.jsx(Fr,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>N(A.id),className:"p-2 hover:bg-gray-100 rounded-lg text-gray-500",children:r.jsx(nl,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>k(A.id),className:"p-2 hover:bg-gray-100 rounded-lg text-red-600",children:r.jsx(Sr,{className:"h-4 w-4"})})]})})]},A.id))})]})}),w.length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(ru,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No scratch cards found"}),r.jsx("p",{className:"text-gray-500",children:"Create your first scratch card campaign"})]})]}),r.jsx(gr,{isOpen:u,onClose:()=>d(!1),title:"Create Scratch Card Campaign",children:r.jsxs("form",{className:"space-y-4",children:[r.jsx(he,{label:"Campaign Name",placeholder:"New Year Special",required:!0}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-primary-500 focus:outline-none",rows:2,placeholder:"Campaign description..."})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(Dt,{label:"Reward Type",options:[{value:"percentage",label:"Percentage Discount"},{value:"fixed_amount",label:"Fixed Amount"},{value:"free_item",label:"Free Item"},{value:"points",label:"Points"}]}),r.jsx(he,{label:"Reward Value",type:"number",placeholder:"20"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(he,{label:"Min Order Value",type:"number",placeholder:"500"}),r.jsx(he,{label:"Max Redemptions",type:"number",placeholder:"1000"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(he,{label:"Win Probability %",type:"number",placeholder:"30",min:"1",max:"100"}),r.jsx(Dt,{label:"Target Audience",options:[{value:"all",label:"All Users"},{value:"new_users",label:"New Users"},{value:"premium",label:"Premium Users"},{value:"frequent_buyers",label:"Frequent Buyers"}]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(he,{label:"Valid From",type:"date"}),r.jsx(he,{label:"Valid To",type:"date"})]}),r.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[r.jsx(ce,{type:"button",variant:"secondary",onClick:()=>d(!1),className:"flex-1",children:"Cancel"}),r.jsx(ce,{type:"submit",className:"flex-1",children:"Create Campaign"})]})]})}),r.jsx(gr,{isOpen:m,onClose:()=>f(!1),title:"Scratch Card Details",size:"lg",children:y&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Campaign Information"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Campaign Name"}),r.jsx("p",{className:"font-medium",children:y.name})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Description"}),r.jsx("p",{className:"font-medium",children:y.description})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Status"}),r.jsx(at,{variant:Qn(y.isActive?"active":"inactive"),children:y.isActive?"Active":"Inactive"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Target Audience"}),r.jsx("p",{className:"font-medium capitalize",children:y.targetAudience.replace("_"," ")})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Reward Details"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Reward Type"}),r.jsx("p",{className:"font-medium capitalize",children:y.cardType.replace("_"," ")})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Reward Value"}),r.jsx("p",{className:"font-medium",children:y.cardType==="percentage"?`${y.rewardValue}%`:y.cardType==="fixed_amount"?`${y.rewardValue}`:y.cardType==="points"?`${y.rewardValue} pts`:"Free Item"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Minimum Order Value"}),r.jsxs("p",{className:"font-medium",children:["",y.minOrderValue]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Win Probability"}),r.jsxs("p",{className:"font-medium",children:[y.winProbability,"%"]})]})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Usage Statistics"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs(ae,{className:"p-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Redemptions"}),r.jsx("p",{className:"text-xl font-bold",children:y.usedRedemptions})]}),r.jsxs(ae,{className:"p-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Max Redemptions"}),r.jsx("p",{className:"text-xl font-bold",children:y.maxRedemptions})]}),r.jsxs(ae,{className:"p-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Usage Rate"}),r.jsxs("p",{className:"text-xl font-bold",children:[(y.usedRedemptions/y.maxRedemptions*100).toFixed(1),"%"]})]}),r.jsxs(ae,{className:"p-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Remaining"}),r.jsx("p",{className:"text-xl font-bold",children:y.maxRedemptions-y.usedRedemptions})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Validity Period"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Valid From"}),r.jsx("p",{className:"font-medium",children:new Date(y.validFrom).toLocaleDateString()})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Valid To"}),r.jsx("p",{className:"font-medium",children:new Date(y.validTo).toLocaleDateString()})]})]})]})]})}),r.jsx(gr,{isOpen:g,onClose:()=>p(!1),title:"Scratch Card Settings",children:y&&r.jsxs("form",{className:"space-y-4",children:[r.jsx(he,{label:"Campaign Name",defaultValue:y.name}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-primary-500 focus:outline-none",rows:2,defaultValue:y.description})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reward Type"}),r.jsxs("select",{className:"w-full rounded-lg border border-gray-300 px-3 py-2 bg-white",defaultValue:y.cardType,children:[r.jsx("option",{value:"percentage",children:"Percentage Discount"}),r.jsx("option",{value:"fixed_amount",children:"Fixed Amount"}),r.jsx("option",{value:"free_item",children:"Free Item"}),r.jsx("option",{value:"points",children:"Points"})]})]}),r.jsx(he,{label:"Reward Value",type:"number",defaultValue:y.rewardValue})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(he,{label:"Min Order Value",type:"number",defaultValue:y.minOrderValue}),r.jsx(he,{label:"Max Redemptions",type:"number",defaultValue:y.maxRedemptions})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(he,{label:"Win Probability %",type:"number",defaultValue:y.winProbability,min:"1",max:"100"}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Target Audience"}),r.jsxs("select",{className:"w-full rounded-lg border border-gray-300 px-3 py-2 bg-white",defaultValue:y.targetAudience,children:[r.jsx("option",{value:"all",children:"All Users"}),r.jsx("option",{value:"new_users",children:"New Users"}),r.jsx("option",{value:"premium",children:"Premium Users"}),r.jsx("option",{value:"frequent_buyers",children:"Frequent Buyers"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(he,{label:"Valid From",type:"date",defaultValue:y.validFrom}),r.jsx(he,{label:"Valid To",type:"date",defaultValue:y.validTo})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",id:"active",defaultChecked:y.isActive,className:"h-4 w-4 rounded border-gray-300 text-blue-600"}),r.jsx("label",{htmlFor:"active",className:"text-sm font-medium text-gray-700",children:"Active Campaign"})]}),r.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[r.jsx(ce,{type:"button",variant:"secondary",onClick:()=>p(!1),className:"flex-1",children:"Cancel"}),r.jsx(ce,{type:"submit",className:"flex-1",children:"Save Changes"})]})]})})]})}const iSe=[{id:"1",name:"Lucky Fish Wheel",description:"Spin to win exciting rewards on fish orders",segments:[{id:"1",label:"10% OFF",rewardType:"discount",rewardValue:10,probability:25,color:"#FF6B6B",icon:""},{id:"2",label:"50 Cashback",rewardType:"cashback",rewardValue:50,probability:20,color:"#4ECDC4",icon:""},{id:"3",label:"Free Delivery",rewardType:"free_item",rewardValue:1,probability:15,color:"#45B7D1",icon:""},{id:"4",label:"100 Points",rewardType:"points",rewardValue:100,probability:15,color:"#96CEB4",icon:""},{id:"5",label:"Better Luck",rewardType:"no_reward",rewardValue:0,probability:25,color:"#FFEAA7",icon:""}],minOrderValue:300,maxSpinsPerUser:3,totalSpins:5e3,usedSpins:1250,validFrom:"2024-01-01",validTo:"2024-01-31",isActive:!0,targetAudience:"all",wheelDesign:{theme:"ocean",colors:["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7"],centerImage:"fish-logo.png"},spinCooldown:24,createdBy:"Admin",createdAt:"2024-01-01"},{id:"2",name:"Premium Rewards Wheel",description:"Exclusive rewards for premium customers",segments:[{id:"1",label:"20% OFF",rewardType:"discount",rewardValue:20,probability:20,color:"#E17055",icon:""},{id:"2",label:"100 Cashback",rewardType:"cashback",rewardValue:100,probability:15,color:"#00B894",icon:""},{id:"3",label:"Free Premium Fish",rewardType:"free_item",rewardValue:1,probability:10,color:"#6C5CE7",icon:""},{id:"4",label:"200 Points",rewardType:"points",rewardValue:200,probability:15,color:"#FDCB6E",icon:""},{id:"5",label:"Try Again",rewardType:"no_reward",rewardValue:0,probability:40,color:"#DDD",icon:""}],minOrderValue:1e3,maxSpinsPerUser:1,totalSpins:1e3,usedSpins:340,validFrom:"2024-01-15",validTo:"2024-02-15",isActive:!0,targetAudience:"premium",wheelDesign:{theme:"premium",colors:["#E17055","#00B894","#6C5CE7","#FDCB6E","#DDD"]},spinCooldown:48,createdBy:"Admin",createdAt:"2024-01-10"}];function lSe({wheels:e}){const t=e.filter(i=>i.isActive).length,s=e.reduce((i,l)=>i+l.usedSpins,0),a=e.reduce((i,l)=>i+l.totalSpins,0),n=a>0?(s/a*100).toFixed(1):"0";return r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:r.jsx(Tn,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Wheels"}),r.jsx("p",{className:"text-xl font-bold",children:e.length})]})]})}),r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:r.jsx(Vm,{className:"h-5 w-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Active Wheels"}),r.jsx("p",{className:"text-xl font-bold",children:t})]})]})}),r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:r.jsx(Mr,{className:"h-5 w-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Spins"}),r.jsx("p",{className:"text-xl font-bold",children:s})]})]})}),r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:r.jsx(Ps,{className:"h-5 w-5 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Engagement"}),r.jsxs("p",{className:"text-xl font-bold",children:[n,"%"]})]})]})})]})}function c1(){const[e,t]=_.useState(iSe),[s,a]=_.useState(""),[n,i]=_.useState(""),[l,o]=_.useState(""),[u,d]=_.useState(!1),[m,f]=_.useState(!1),[g,p]=_.useState(!1),[y,v]=_.useState(),j=e.filter(A=>{const C=A.name.toLowerCase().includes(s.toLowerCase()),M=!n||(n==="active"?A.isActive:!A.isActive),R=!l||A.targetAudience===l;return C&&M&&R}),N=A=>{const C=e.find(M=>M.id===A);C&&(v(C),f(!0))},k=A=>{const C=e.find(M=>M.id===A);C&&(v(C),p(!0))},w=A=>{window.confirm("Are you sure you want to delete this wheel?")&&t(e.filter(C=>C.id!==A))};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Spin Wheel Generator"}),r.jsx("p",{className:"text-gray-600",children:"Create and manage interactive spin wheel campaigns"})]}),r.jsx("div",{className:"flex gap-2",children:r.jsxs(ce,{onClick:()=>d(!0),children:[r.jsx(hr,{className:"mr-2 h-4 w-4"}),"Create Campaign"]})})]}),r.jsx(lSe,{wheels:e}),r.jsx(ae,{children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Mn,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),r.jsx(he,{placeholder:"Search spin wheels...",value:s,onChange:A=>a(A.target.value),className:"pl-10"})]}),r.jsx(Dt,{value:n,onChange:A=>i(A.target.value),options:[{value:"",label:"All Status"},{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}]}),r.jsx(Dt,{value:l,onChange:A=>o(A.target.value),options:[{value:"",label:"All Audience"},{value:"all",label:"All Users"},{value:"new_users",label:"New Users"},{value:"premium",label:"Premium"},{value:"frequent_buyers",label:"Frequent Buyers"}]})]})}),r.jsxs(ae,{children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Campaign"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usage"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Validity"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{scope:"col",className:"relative px-6 py-3",children:r.jsx("span",{className:"sr-only",children:"Actions"})})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:j.map(A=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:A.name}),r.jsx("div",{className:"text-sm text-gray-500",children:A.description})]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsxs("div",{className:"text-sm text-gray-900",children:[A.usedSpins," / ",A.totalSpins]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5 mt-1",children:r.jsx("div",{className:"bg-blue-600 h-1.5 rounded-full",style:{width:`${Math.min(A.usedSpins/A.totalSpins*100,100)}%`}})})]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[new Date(A.validFrom).toLocaleDateString()," - ",new Date(A.validTo).toLocaleDateString()]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx(at,{variant:Qn(A.isActive?"active":"inactive"),children:A.isActive?"Active":"Inactive"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:r.jsxs("div",{className:"flex items-center justify-end gap-2",children:[r.jsx("button",{onClick:()=>N(A.id),className:"p-2 hover:bg-gray-100 rounded-lg text-gray-500",children:r.jsx(Fr,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>k(A.id),className:"p-2 hover:bg-gray-100 rounded-lg text-gray-500",children:r.jsx(nl,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>w(A.id),className:"p-2 hover:bg-gray-100 rounded-lg text-red-600",children:r.jsx(Sr,{className:"h-4 w-4"})})]})})]},A.id))})]})}),j.length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Tn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No spin wheels found"}),r.jsx("p",{className:"text-gray-500",children:"Create your first spin wheel campaign"})]})]}),r.jsx(gr,{isOpen:u,onClose:()=>d(!1),title:"Create Spin Wheel Campaign",children:r.jsxs("form",{className:"space-y-4",children:[r.jsx(he,{label:"Campaign Name",placeholder:"Lucky Fish Wheel",required:!0}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-primary-500 focus:outline-none",rows:2,placeholder:"Campaign description..."})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(he,{label:"Min Order Value",type:"number",placeholder:"300"}),r.jsx(he,{label:"Total Spins Limit",type:"number",placeholder:"5000"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(he,{label:"Max Spins per User",type:"number",placeholder:"3"}),r.jsx(he,{label:"Spin Cooldown (hours)",type:"number",placeholder:"24"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(Dt,{label:"Target Audience",options:[{value:"all",label:"All Users"},{value:"new_users",label:"New Users"},{value:"premium",label:"Premium Users"},{value:"frequent_buyers",label:"Frequent Buyers"}]}),r.jsx(Dt,{label:"Wheel Theme",options:[{value:"ocean",label:"Ocean Fresh"},{value:"premium",label:"Premium Gold"},{value:"festive",label:"Festival Colors"},{value:"classic",label:"Classic Style"}]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(he,{label:"Valid From",type:"date"}),r.jsx(he,{label:"Valid To",type:"date"})]}),r.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[r.jsx(ce,{type:"button",variant:"secondary",onClick:()=>d(!1),className:"flex-1",children:"Cancel"}),r.jsx(ce,{type:"submit",className:"flex-1",children:"Create Campaign"})]})]})}),r.jsx(gr,{isOpen:m,onClose:()=>f(!1),title:"Spin Wheel Details",size:"lg",children:y&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Campaign Information"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Campaign Name"}),r.jsx("p",{className:"font-medium",children:y.name})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Description"}),r.jsx("p",{className:"font-medium",children:y.description})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Status"}),r.jsx(at,{variant:Qn(y.isActive?"active":"inactive"),children:y.isActive?"Active":"Inactive"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Target Audience"}),r.jsx("p",{className:"font-medium capitalize",children:y.targetAudience.replace("_"," ")})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Wheel Settings"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Minimum Order Value"}),r.jsxs("p",{className:"font-medium",children:["",y.minOrderValue]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Max Spins per User"}),r.jsx("p",{className:"font-medium",children:y.maxSpinsPerUser})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Spin Cooldown"}),r.jsxs("p",{className:"font-medium",children:[y.spinCooldown," hours"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Wheel Theme"}),r.jsx("p",{className:"font-medium capitalize",children:y.wheelDesign.theme})]})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Wheel Segments"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:y.segments.map(A=>r.jsxs(ae,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-gray-300",style:{backgroundColor:A.color}}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium text-sm",children:A.label}),r.jsx("p",{className:"text-xs text-gray-600",children:A.icon})]})]}),r.jsxs("div",{className:"text-xs space-y-1",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Type:"}),r.jsx("span",{className:"font-medium capitalize",children:A.rewardType.replace("_"," ")})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Value:"}),r.jsx("span",{className:"font-medium",children:A.rewardType==="discount"?`${A.rewardValue}%`:A.rewardType==="cashback"?`${A.rewardValue}`:A.rewardType==="points"?`${A.rewardValue} pts`:A.rewardType==="free_item"?"Free":"-"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Probability:"}),r.jsxs("span",{className:"font-medium",children:[A.probability,"%"]})]})]})]},A.id))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Usage Statistics"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs(ae,{className:"p-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Used Spins"}),r.jsx("p",{className:"text-xl font-bold",children:y.usedSpins})]}),r.jsxs(ae,{className:"p-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Spins"}),r.jsx("p",{className:"text-xl font-bold",children:y.totalSpins})]}),r.jsxs(ae,{className:"p-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Usage Rate"}),r.jsxs("p",{className:"text-xl font-bold",children:[(y.usedSpins/y.totalSpins*100).toFixed(1),"%"]})]}),r.jsxs(ae,{className:"p-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Remaining"}),r.jsx("p",{className:"text-xl font-bold",children:y.totalSpins-y.usedSpins})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Validity Period"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Valid From"}),r.jsx("p",{className:"font-medium",children:new Date(y.validFrom).toLocaleDateString()})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Valid To"}),r.jsx("p",{className:"font-medium",children:new Date(y.validTo).toLocaleDateString()})]})]})]})]})}),r.jsx(gr,{isOpen:g,onClose:()=>p(!1),title:"Spin Wheel Settings",children:y&&r.jsxs("form",{className:"space-y-4",children:[r.jsx(he,{label:"Campaign Name",defaultValue:y.name}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-primary-500 focus:outline-none",rows:2,defaultValue:y.description})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(he,{label:"Min Order Value",type:"number",defaultValue:y.minOrderValue}),r.jsx(he,{label:"Total Spins Limit",type:"number",defaultValue:y.totalSpins})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(he,{label:"Max Spins per User",type:"number",defaultValue:y.maxSpinsPerUser}),r.jsx(he,{label:"Spin Cooldown (hours)",type:"number",defaultValue:y.spinCooldown})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Target Audience"}),r.jsxs("select",{className:"w-full rounded-lg border border-gray-300 px-3 py-2 bg-white",defaultValue:y.targetAudience,children:[r.jsx("option",{value:"all",children:"All Users"}),r.jsx("option",{value:"new_users",children:"New Users"}),r.jsx("option",{value:"premium",children:"Premium Users"}),r.jsx("option",{value:"frequent_buyers",children:"Frequent Buyers"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Wheel Theme"}),r.jsxs("select",{className:"w-full rounded-lg border border-gray-300 px-3 py-2 bg-white",defaultValue:y.wheelDesign.theme,children:[r.jsx("option",{value:"ocean",children:"Ocean Fresh"}),r.jsx("option",{value:"premium",children:"Premium Gold"}),r.jsx("option",{value:"festive",children:"Festival Colors"}),r.jsx("option",{value:"classic",children:"Classic Style"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(he,{label:"Valid From",type:"date",defaultValue:y.validFrom}),r.jsx(he,{label:"Valid To",type:"date",defaultValue:y.validTo})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",id:"active",defaultChecked:y.isActive,className:"h-4 w-4 rounded border-gray-300 text-blue-600"}),r.jsx("label",{htmlFor:"active",className:"text-sm font-medium text-gray-700",children:"Active Campaign"})]}),r.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[r.jsx(ce,{type:"button",variant:"secondary",onClick:()=>p(!1),className:"flex-1",children:"Cancel"}),r.jsx(ce,{type:"submit",className:"flex-1",children:"Save Changes"})]})]})})]})}const oSe=[{id:"1",name:"Lightning Fish Sale",description:"24-hour flash sale on premium fish",saleType:"time_based",products:[{id:"1",name:"Premium Tuna",category:"Fish",originalPrice:800,salePrice:600,discount:25,stock:50,sold:23,image:"tuna.jpg"},{id:"2",name:"Fresh Salmon",category:"Fish",originalPrice:1200,salePrice:900,discount:25,stock:30,sold:18,image:"salmon.jpg"}],discountType:"percentage",discountValue:25,originalPrice:2e3,salePrice:1500,startTime:"2024-01-10T00:00:00",endTime:"2024-01-10T23:59:59",soldQuantity:41,isActive:!0,targetAudience:"all",saleConfig:{timerDisplay:!0,stockDisplay:!0,urgencyMessages:["Only 24 hours left!","Limited stock available!"]},createdBy:"Admin",createdAt:"2024-01-09"},{id:"2",name:"First 100 Customers",description:"Special discount for first 100 customers",saleType:"quantity_based",products:[{id:"3",name:"Prawns Combo",category:"Prawns",originalPrice:600,salePrice:450,discount:25,stock:100,sold:67,image:"prawns.jpg"}],discountType:"percentage",discountValue:25,originalPrice:600,salePrice:450,startTime:"2024-01-10T06:00:00",endTime:"2024-01-15T23:59:59",totalQuantity:100,soldQuantity:67,isActive:!0,targetAudience:"new_users",saleConfig:{timerDisplay:!1,stockDisplay:!0,urgencyMessages:["Only 33 left!","Hurry up!"]},createdBy:"Admin",createdAt:"2024-01-09"}];function cSe({sales:e}){const t=e.filter(n=>n.isActive).length,s=e.reduce((n,i)=>n+i.soldQuantity,0),a=e.reduce((n,i)=>n+i.salePrice*i.soldQuantity,0);return r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:r.jsx(mh,{className:"h-5 w-5 text-red-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Sales"}),r.jsx("p",{className:"text-xl font-bold",children:e.length})]})]})}),r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:r.jsx(Vm,{className:"h-5 w-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Active Sales"}),r.jsx("p",{className:"text-xl font-bold",children:t})]})]})}),r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:r.jsx(el,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Items Sold"}),r.jsx("p",{className:"text-xl font-bold",children:s})]})]})}),r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:r.jsx(Ps,{className:"h-5 w-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Revenue"}),r.jsxs("p",{className:"text-xl font-bold",children:["",a.toLocaleString()]})]})]})})]})}function dSe({sale:e}){return r.jsxs("div",{className:"space-y-6 p-2",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:e.name}),r.jsx("p",{className:"text-sm text-gray-500",children:e.description})]}),r.jsx(at,{variant:Qn(e.isActive?"active":"inactive"),children:e.isActive?"Active":"Inactive"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 border-t pt-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-semibold",children:"Sale Type:"})," ",e.saleType.replace("_"," ")]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-semibold",children:"Discount:"})," ",e.discountType==="percentage"?`${e.discountValue}%`:`${e.discountValue}`]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-semibold",children:"Target Audience:"})," ",e.targetAudience.replace("_"," ")]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-semibold",children:"Start Time:"})," ",new Date(e.startTime).toLocaleString()]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-semibold",children:"End Time:"})," ",new Date(e.endTime).toLocaleString()]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-2",children:"Products"}),r.jsx("div",{className:"space-y-2",children:e.products.map(t=>r.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:t.name}),r.jsxs("p",{className:"text-sm text-gray-600",children:[r.jsxs("span",{className:"line-through",children:["",t.originalPrice]})," "," ",t.salePrice]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-sm",children:["Stock: ",t.stock]}),r.jsxs("p",{className:"text-sm",children:["Sold: ",t.sold]})]})]},t.id))})]}),r.jsx("div",{className:"border-t pt-4 text-sm text-gray-500",children:r.jsxs("p",{children:["Created by: ",e.createdBy," on"," ",new Date(e.createdAt).toLocaleDateString()]})})]})}function d1(){const[e,t]=_.useState(oSe),[s,a]=_.useState(""),[n,i]=_.useState(""),[l,o]=_.useState(""),[u,d]=_.useState(!1),[m,f]=_.useState(),g=e.filter(v=>{const j=v.name.toLowerCase().includes(s.toLowerCase()),N=!n||(n==="active"?v.isActive:!v.isActive),k=!l||v.saleType===l;return j&&N&&k}),p=v=>{f(v)},y=v=>{window.confirm("Are you sure you want to delete this sale?")&&t(e.filter(j=>j.id!==v.id))};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Flash Sale Generator"}),r.jsx("p",{className:"text-gray-600",children:"Create and manage flash sale campaigns"})]}),r.jsxs(ce,{onClick:()=>d(!0),children:[r.jsx(hr,{className:"mr-2 h-4 w-4"}),"Create Flash Sale"]})]}),r.jsx(cSe,{sales:e}),r.jsx(ae,{children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Mn,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),r.jsx(he,{placeholder:"Search flash sales...",value:s,onChange:v=>a(v.target.value),className:"pl-10"})]}),r.jsx(Dt,{value:n,onChange:v=>i(v.target.value),options:[{value:"",label:"All Status"},{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}]}),r.jsx(Dt,{value:l,onChange:v=>o(v.target.value),options:[{value:"",label:"All Types"},{value:"time_based",label:"Time-Based"},{value:"quantity_based",label:"Quantity-Based"},{value:"buy_x_get_y",label:"Buy X Get Y"},{value:"bundle_deal",label:"Bundle Deal"}]})]})}),r.jsxs(ae,{children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Campaign"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Discount"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Progress"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{scope:"col",className:"relative px-6 py-3",children:r.jsx("span",{className:"sr-only",children:"Actions"})})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map(v=>{const j=()=>{const N=new Date,w=new Date(v.endTime).getTime()-N.getTime();if(w<=0)return"Expired";const A=Math.floor(w/(1e3*60*60)),C=Math.floor(A/24);return C>0?`${C}d remaining`:`${A}h remaining`};return r.jsxs("tr",{children:[r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:v.name}),r.jsx("div",{className:"text-sm text-gray-500",children:v.description})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"text-sm text-gray-900",children:v.saleType.replace("_"," ")})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-900",children:v.discountType==="percentage"?`${v.discountValue}%`:`${v.discountValue}`})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.saleType==="quantity_based"&&v.totalQuantity?r.jsxs("div",{children:[r.jsxs("div",{className:"text-sm text-gray-900",children:[v.soldQuantity," / ",v.totalQuantity," sold"]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5 mt-1",children:r.jsx("div",{className:"bg-red-600 h-1.5 rounded-full",style:{width:`${Math.min(v.soldQuantity/v.totalQuantity*100,100)}%`}})})]}):r.jsx("div",{className:"text-sm text-red-600",children:j()})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx(at,{variant:Qn(v.isActive?"active":"inactive"),children:v.isActive?"Active":"Inactive"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:r.jsxs("div",{className:"flex items-center justify-end gap-2",children:[r.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>p(v),children:r.jsx(Fr,{className:"h-4 w-4"})}),r.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>y(v),className:"text-red-600 hover:bg-red-100",children:r.jsx(Sr,{className:"h-4 w-4"})})]})})]},v.id)})})]})}),g.length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(mh,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No flash sales found"}),r.jsx("p",{className:"text-gray-500",children:"Create your first flash sale campaign"})]})]}),r.jsx(gr,{isOpen:u,onClose:()=>d(!1),title:"Create Flash Sale",children:r.jsxs("form",{className:"space-y-4",children:[r.jsx(he,{label:"Sale Name",placeholder:"Lightning Fish Sale",required:!0}),r.jsx("textarea",{className:"w-full rounded-lg border border-gray-300 px-3 py-2",rows:2,placeholder:"Sale description..."}),r.jsx(Dt,{label:"Sale Type",options:[{value:"time_based",label:"Time-Based"},{value:"quantity_based",label:"Quantity-Based"}]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(Dt,{label:"Discount Type",options:[{value:"percentage",label:"Percentage"},{value:"fixed_amount",label:"Fixed Amount"}]}),r.jsx(he,{label:"Discount Value",type:"number",placeholder:"25"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(he,{label:"Start Time",type:"datetime-local"}),r.jsx(he,{label:"End Time",type:"datetime-local"})]}),r.jsx(Dt,{label:"Target Audience",options:[{value:"all",label:"All Users"},{value:"new_users",label:"New Users"}]}),r.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[r.jsx(ce,{type:"button",variant:"secondary",onClick:()=>d(!1),className:"flex-1",children:"Cancel"}),r.jsx(ce,{type:"submit",className:"flex-1",children:"Create Sale"})]})]})}),m&&r.jsx(gr,{isOpen:!!m,onClose:()=>f(void 0),title:"Flash Sale Details",size:"lg",children:r.jsx(dSe,{sale:m})})]})}const uSe=[{id:"1",name:"Fresh Fish Weekly",description:"Weekly delivery of fresh fish varieties",subscriptionType:"weekly",price:1200,originalPrice:1500,discount:20,duration:7,features:["Fresh fish selection","Weekly delivery","Free delivery","Priority support"],products:[{id:"1",name:"Premium Fish Mix",category:"Fish",quantity:"1kg",price:800,isOptional:!1},{id:"2",name:"Seasonal Fish",category:"Fish",quantity:"500g",price:400,isOptional:!0}],deliverySchedule:{frequency:"weekly",preferredDay:"Saturday",timeSlot:"9:00 AM - 12:00 PM"},isActive:!0,totalSubscribers:450,activeSubscribers:380,targetAudience:"all",benefits:{freeDelivery:!0,prioritySupport:!0,exclusiveDeals:!0,customization:!1},createdBy:"Admin",createdAt:"2024-01-01"}];function hSe({subscriptions:e}){const t=e.reduce((a,n)=>a+n.activeSubscribers,0),s=e.reduce((a,n)=>a+n.price*n.activeSubscribers,0);return r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:r.jsx(Na,{className:"h-5 w-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Plans"}),r.jsx("p",{className:"text-xl font-bold",children:e.length})]})]})}),r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:r.jsx(Vm,{className:"h-5 w-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Active Plans"}),r.jsx("p",{className:"text-xl font-bold",children:e.filter(a=>a.isActive).length})]})]})}),r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:r.jsx(Mr,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Subscribers"}),r.jsx("p",{className:"text-xl font-bold",children:t})]})]})}),r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:r.jsx(Ps,{className:"h-5 w-5 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Monthly Revenue"}),r.jsxs("p",{className:"text-xl font-bold",children:["",s.toLocaleString()]})]})]})})]})}function mSe({initialData:e,isReadOnly:t,onSubmit:s,onCancel:a,initialTab:n="general"}){const[i]=_.useState(e),[l,o]=_.useState(n),u=m=>{m.preventDefault(),s(i)},d=[{id:"general",label:"General"},{id:"products",label:"Products"},{id:"settings",label:"Settings"}];return r.jsxs("form",{onSubmit:u,className:"space-y-6",children:[r.jsx("div",{className:"border-b border-gray-200",children:r.jsx("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:d.map(m=>r.jsx("button",{type:"button",onClick:()=>o(m.id),className:`${l===m.id?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:m.label},m.id))})}),l==="general"&&r.jsxs("div",{className:"space-y-4",children:[r.jsx(he,{label:"Plan Name",defaultValue:i?.name,disabled:t}),r.jsx("textarea",{className:"w-full rounded-lg border p-2",rows:3,defaultValue:i?.description,disabled:t,placeholder:"Description..."}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(Dt,{label:"Type",defaultValue:i?.subscriptionType,disabled:t,options:[{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"}]}),r.jsx(he,{label:"Price ()",type:"number",defaultValue:i?.price,disabled:t})]})]}),l==="products"&&r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium mb-2",children:"Products Included"}),r.jsx("div",{className:"space-y-2",children:i?.products.map(m=>r.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded",children:[r.jsx(he,{defaultValue:m.name,disabled:t,className:"flex-1"}),r.jsx(he,{defaultValue:m.quantity,disabled:t,className:"w-24"}),!t&&r.jsx(ce,{type:"button",variant:"ghost",size:"sm",className:"text-red-500",children:r.jsx(Sr,{className:"h-4 w-4"})})]},m.id))}),!t&&r.jsxs(ce,{type:"button",size:"sm",className:"mt-2",children:[r.jsx(hr,{className:"h-4 w-4 mr-1"})," Add Product"]})]}),l==="settings"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium mb-2",children:"Features"}),r.jsx("div",{className:"space-y-2",children:i?.features.map((m,f)=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(he,{defaultValue:m,disabled:t,className:"flex-1"}),!t&&r.jsx(ce,{type:"button",variant:"ghost",size:"sm",className:"text-red-500",children:r.jsx(Sr,{className:"h-4 w-4"})})]},f))}),!t&&r.jsxs(ce,{type:"button",size:"sm",className:"mt-2",children:[r.jsx(hr,{className:"h-4 w-4 mr-1"})," Add Feature"]})]}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsx("h3",{className:"font-medium mb-2",children:"Delivery"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(Dt,{label:"Frequency",defaultValue:i?.deliverySchedule.frequency,disabled:t,options:[{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"}]}),r.jsx(he,{label:"Preferred Day",defaultValue:i?.deliverySchedule.preferredDay,disabled:t})]})]})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[r.jsx(ce,{type:"button",variant:"secondary",onClick:a,children:"Close"}),!t&&r.jsx(ce,{type:"submit",children:"Save Plan"})]})]})}function u1(){const[e,t]=_.useState(uSe),[s,a]=_.useState(""),[n,i]=_.useState(!1),[l,o]=_.useState(!1),[u,d]=_.useState(),[m,f]=_.useState("general"),g=(j,N=!1,k="general")=>{d(j),o(N),f(k),i(!0)},p=()=>{i(!1),d(void 0)},y=j=>{console.log("Saving:",j),p()},v=j=>{window.confirm("Are you sure?")&&t(e.filter(N=>N.id!==j))};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Subscription Management"}),r.jsx("p",{className:"text-gray-600",children:"Create and manage subscription plans"})]}),r.jsxs(ce,{onClick:()=>g(void 0,!1),children:[r.jsx(hr,{className:"mr-2 h-4 w-4"}),"Create Subscription"]})]}),r.jsx(hSe,{subscriptions:e}),r.jsx(ae,{children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(he,{placeholder:"Search subscriptions...",value:s,onChange:j=>a(j.target.value),className:"pl-10 flex-1"}),r.jsx(Dt,{options:[{value:"",label:"All Status"},{value:"active",label:"Active"}]}),r.jsx(Dt,{options:[{value:"",label:"All Types"},{value:"weekly",label:"Weekly"}]})]})}),r.jsx(ae,{children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Plan"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Price"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Subscribers"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),r.jsx("th",{className:"relative px-6 py-3",children:r.jsx("span",{className:"sr-only",children:"Actions"})})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(j=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"font-medium",children:j.name})}),r.jsxs("td",{className:"px-6 py-4",children:["",j.price," / ",j.subscriptionType]}),r.jsx("td",{className:"px-6 py-4",children:j.activeSubscribers}),r.jsx("td",{className:"px-6 py-4",children:r.jsx(at,{variant:Qn(j.isActive?"active":"inactive"),children:j.isActive?"Active":"Inactive"})}),r.jsx("td",{className:"px-6 py-4 text-right",children:r.jsxs("div",{className:"flex items-center justify-end gap-2",children:[r.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>g(j,!0),children:r.jsx(Fr,{className:"h-4 w-4"})}),r.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>g(j,!1),children:r.jsx(vs,{className:"h-4 w-4"})}),r.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>g(j,!1,"settings"),children:r.jsx(nl,{className:"h-4 w-4"})}),r.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>v(j.id),className:"text-red-600",children:r.jsx(Sr,{className:"h-4 w-4"})})]})})]},j.id))})]})})}),r.jsx(gr,{isOpen:n,onClose:p,title:l?"View Plan":u?"Edit Plan":"Create Plan",size:"lg",children:r.jsx(mSe,{initialData:u,isReadOnly:l,onSubmit:y,onCancel:p,initialTab:m})})]})}const fSe=[{id:"1",title:"Weekend Flash Sale",message:"Get 25% off on all fish items this weekend! Limited time offer.",notificationType:"push",targetAudience:"all",offerDetails:{offerType:"discount",value:25,unit:"%",validFrom:"2024-01-13T00:00:00",validTo:"2024-01-14T23:59:59",minOrderValue:500},scheduledTime:"2024-01-13T08:00:00",status:"sent",totalRecipients:5e3,sentCount:4950,openRate:78.5,clickRate:12.3,conversionRate:8.7,priority:"high",createdBy:"Admin",createdAt:"2024-01-12"},{id:"2",title:"Premium Member Exclusive",message:"Exclusive cashback offer for our premium members. Get 100 cashback on orders above 1000.",notificationType:"email",targetAudience:"premium",offerDetails:{offerType:"cashback",value:100,unit:"",validFrom:"2024-01-15T00:00:00",validTo:"2024-01-20T23:59:59",minOrderValue:1e3},scheduledTime:"2024-01-15T10:00:00",status:"scheduled",totalRecipients:850,sentCount:0,openRate:0,clickRate:0,conversionRate:0,priority:"medium",createdBy:"Admin",createdAt:"2024-01-14"}];function pSe({notifications:e}){const t=e.length,s=e.filter(i=>i.status==="sent").length,a=e.reduce((i,l)=>i+l.sentCount,0),n=e.length>0?(e.reduce((i,l)=>i+l.openRate,0)/e.length).toFixed(1):"0";return r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:r.jsx(Am,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),r.jsx("p",{className:"text-xl font-bold",children:t})]})]})}),r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:r.jsx(o6,{className:"h-5 w-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Sent"}),r.jsx("p",{className:"text-xl font-bold",children:s})]})]})}),r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:r.jsx(Mr,{className:"h-5 w-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Recipients"}),r.jsx("p",{className:"text-xl font-bold",children:a.toLocaleString()})]})]})}),r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:r.jsx(Ps,{className:"h-5 w-5 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Avg. Open Rate"}),r.jsxs("p",{className:"text-xl font-bold",children:[n,"%"]})]})]})})]})}function xSe({initialData:e,isReadOnly:t,onSubmit:s,onCancel:a}){const[n]=_.useState(e),i=l=>{l.preventDefault(),s(n)};return r.jsxs("form",{onSubmit:i,className:"space-y-4",children:[r.jsx(he,{label:"Notification Title",defaultValue:n?.title,disabled:t,required:!0}),r.jsx("textarea",{className:"w-full rounded-lg border border-gray-300 px-3 py-2",rows:3,defaultValue:n?.message,disabled:t,placeholder:"Your offer message..."}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(Dt,{label:"Notification Type",defaultValue:n?.notificationType,disabled:t,options:[{value:"push",label:"Push"},{value:"sms",label:"SMS"},{value:"email",label:"Email"}]}),r.jsx(Dt,{label:"Target Audience",defaultValue:n?.targetAudience,disabled:t,options:[{value:"all",label:"All Users"},{value:"premium",label:"Premium"}]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(he,{label:"Scheduled Time",type:"datetime-local",defaultValue:n?.scheduledTime.slice(0,16),disabled:t}),r.jsx(Dt,{label:"Priority",defaultValue:n?.priority,disabled:t,options:[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"}]})]}),r.jsxs("div",{className:"border-t pt-4 flex justify-end gap-2",children:[r.jsx(ce,{type:"button",variant:"secondary",onClick:a,children:"Close"}),!t&&r.jsx(ce,{type:"submit",children:"Save Changes"})]})]})}function h1(){const{user:e}=os(),[t,s]=_.useState(fSe),[a,n]=_.useState(""),[i,l]=_.useState(""),[o,u]=_.useState(""),[d,m]=_.useState(!1),[f,g]=_.useState(!1),[p,y]=_.useState(),v=t.filter(A=>A.title.toLowerCase().includes(a.toLowerCase())&&(!i||A.status===i)&&(!o||A.notificationType===o)),j=(A,C=!1)=>{y(A),g(C),m(!0)},N=()=>{m(!1),y(void 0)},k=A=>{s(p?t.map(C=>C.id===A.id?A:C):[...t,{...A,id:Date.now().toString(),createdBy:e?.name||"Admin",createdAt:new Date().toISOString()}]),N()},w=A=>{window.confirm("Are you sure?")&&s(t.filter(C=>C.id!==A))};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Offer Notifications"}),r.jsx("p",{className:"text-gray-600",children:"Send targeted offer notifications to customers"})]}),r.jsxs(ce,{onClick:()=>j(void 0,!1),children:[r.jsx(hr,{className:"mr-2 h-4 w-4"}),"Create Notification"]})]}),r.jsx(pSe,{notifications:t}),r.jsx(ae,{children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(he,{placeholder:"Search notifications...",value:a,onChange:A=>n(A.target.value),className:"pl-10 flex-1"}),r.jsx(Dt,{value:i,onChange:A=>l(A.target.value),options:[{value:"",label:"All Status"},{value:"sent",label:"Sent"},{value:"scheduled",label:"Scheduled"}]}),r.jsx(Dt,{value:o,onChange:A=>u(A.target.value),options:[{value:"",label:"All Types"},{value:"push",label:"Push"},{value:"sms",label:"SMS"},{value:"email",label:"Email"}]})]})}),r.jsx(ae,{children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Notification"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Audience"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Performance"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),r.jsx("th",{className:"relative px-6 py-3",children:r.jsx("span",{className:"sr-only",children:"Actions"})})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v.map(A=>r.jsxs("tr",{children:[r.jsxs("td",{className:"px-6 py-4",children:[r.jsx("div",{className:"font-medium",children:A.title}),r.jsx("div",{className:"text-sm text-gray-500 truncate",style:{maxWidth:"250px"},children:A.message})]}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"text-sm",children:A.targetAudience})}),r.jsxs("td",{className:"px-6 py-4",children:[r.jsxs("div",{className:"text-sm",children:["Open: ",A.openRate,"%"]}),r.jsxs("div",{className:"text-sm text-gray-500",children:["Convert: ",A.conversionRate,"%"]})]}),r.jsx("td",{className:"px-6 py-4",children:r.jsx(at,{className:Qn(A.status),children:A.status})}),r.jsx("td",{className:"px-6 py-4 text-right",children:r.jsxs("div",{className:"flex items-center justify-end gap-2",children:[r.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>j(A,!0),children:r.jsx(Fr,{className:"h-4 w-4"})}),r.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>j(A,!1),children:r.jsx(vs,{className:"h-4 w-4"})}),r.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>w(A.id),className:"text-red-600",children:r.jsx(Sr,{className:"h-4 w-4"})})]})})]},A.id))})]})})}),r.jsx(gr,{isOpen:d,onClose:N,title:f?"View Notification":p?"Edit Notification":"Create Notification",children:r.jsx(xSe,{initialData:p,isReadOnly:f,onSubmit:k,onCancel:N})})]})}function gSe({items:e,onView:t,onEdit:s,onDelete:a,onBulkAction:n,title:i,itemType:l,renderItemContent:o,statusFilter:u=["all","active","inactive"]}){const[d,m]=_.useState([]),[f,g]=_.useState(""),[p,y]=_.useState("all"),v=e.filter(C=>{const M=(C.name||C.code||C.title||"").toLowerCase().includes(f.toLowerCase())||(C.description||"").toLowerCase().includes(f.toLowerCase()),R=p==="all"||p==="active"&&(C.isActive||C.status==="active")||p==="inactive"&&(!C.isActive||C.status==="inactive")||C.status===p;return M&&R}),j=C=>{m(C?v.map(M=>M.id):[])},N=(C,M)=>{m(M?R=>[...R,C]:R=>R.filter(D=>D!==C))},k=async(C,M)=>{if(d.length!==0)try{await n(C,d,M),m([])}catch(R){console.error("Bulk action failed:",R)}},w=C=>C.isActive||C.status==="active"?"bg-green-100 text-green-800":C.status==="scheduled"?"bg-blue-100 text-blue-800":C.status==="expired"?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800",A=C=>C.status?C.status.charAt(0).toUpperCase()+C.status.slice(1):C.isActive?"Active":"Inactive";return r.jsxs(ae,{className:"overflow-hidden",children:[r.jsx("div",{className:"p-4 sm:p-6 border-b bg-gray-50",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold",children:i}),r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[v.length," ",l,v.length!==1?"s":"",d.length>0&&`  ${d.length} selected`]})]}),r.jsx("div",{className:"flex items-center gap-2",children:d.length>0&&r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>k("activate"),className:"flex items-center gap-2 px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:["Activate (",d.length,")"]}),r.jsxs("button",{onClick:()=>k("deactivate"),className:"flex items-center gap-2 px-3 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors text-sm",children:["Deactivate (",d.length,")"]}),r.jsxs("button",{onClick:()=>k("delete"),className:"flex items-center gap-2 px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm",children:["Delete (",d.length,")"]})]})})]})}),r.jsx("div",{className:"p-4 sm:p-6 border-b bg-white",children:r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Mn,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),r.jsx(he,{placeholder:`Search ${l}s...`,value:f,onChange:C=>g(C.target.value),className:"pl-10"})]}),r.jsx("select",{value:p,onChange:C=>y(C.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:u.map(C=>r.jsx("option",{value:C,children:C.charAt(0).toUpperCase()+C.slice(1)},C))})]})}),v.length>0&&r.jsx("div",{className:"p-4 border-b bg-gray-50",children:r.jsxs("label",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",checked:d.length===v.length,onChange:C=>j(C.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsxs("span",{className:"text-sm font-medium",children:["Select All (",v.length,")"]})]})}),r.jsx("div",{className:"divide-y",children:v.length>0?v.map(C=>r.jsx("div",{className:"p-4 sm:p-6",children:r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"flex-shrink-0 pt-1",children:r.jsx("input",{type:"checkbox",checked:d.includes(C.id),onChange:M=>N(C.id,M.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-4 mb-3",children:r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("h3",{className:"font-semibold text-lg truncate",children:C.name||C.code||C.title}),r.jsx(at,{variant:w(C),children:A(C)})]}),C.description&&r.jsx("p",{className:"text-sm text-gray-500 line-clamp-2 mb-2",children:C.description})]})}),o&&o(C),r.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[r.jsxs("button",{onClick:()=>t(C),className:"flex items-center gap-2 px-3 py-1.5 text-sm border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[r.jsx(Fr,{className:"h-4 w-4"}),"View"]}),r.jsxs("button",{onClick:()=>s(C),className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(vs,{className:"h-4 w-4"}),"Edit"]}),r.jsxs("button",{onClick:()=>a(C),className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[r.jsx(Sr,{className:"h-4 w-4"}),"Delete"]})]})]})]})},C.id)):r.jsxs("div",{className:"p-12 text-center",children:[r.jsx("div",{className:"h-12 w-12 text-gray-400 mx-auto mb-4",children:""}),r.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:["No ",l,"s found"]}),r.jsx("p",{className:"text-gray-500",children:f||p!=="all"?"Try adjusting your search or filters":`No ${l}s available`})]})})]})}const vSe=[{id:"1",code:"FISH25",name:"Fish Special Discount",description:"25% off on all fish items",discountType:"percentage",discountValue:25,minOrderValue:500,maxDiscountAmount:200,usageLimit:1e3,usedCount:245,validFrom:"2024-01-10T00:00:00",validTo:"2024-01-31T23:59:59",isActive:!0,targetAudience:"all",applicableProducts:["fish"],excludedProducts:[],stackable:!1,autoGenerated:!1,createdBy:"Admin",createdAt:"2024-01-09"}];function ySe({coupons:e}){const t=e.reduce((s,a)=>s+a.usedCount,0);return r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:r.jsx(oQ,{className:"h-5 w-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Coupons"}),r.jsx("p",{className:"text-xl font-bold",children:e.length})]})]})}),r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:r.jsx(Vm,{className:"h-5 w-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Active"}),r.jsx("p",{className:"text-xl font-bold",children:e.filter(s=>s.isActive).length})]})]})}),r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:r.jsx(Mr,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Usage"}),r.jsx("p",{className:"text-xl font-bold",children:t.toLocaleString()})]})]})}),r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:r.jsx(Ps,{className:"h-5 w-5 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Usage Rate"}),r.jsx("p",{className:"text-xl font-bold",children:"24.5%"})]})]})})]})}function bSe({initialData:e,isReadOnly:t,onSubmit:s,onCancel:a}){const[n]=_.useState(e),i=l=>{l.preventDefault(),s(n)};return r.jsxs("form",{onSubmit:i,className:"space-y-4",children:[r.jsx(he,{label:"Coupon Name",defaultValue:n?.name,disabled:t,required:!0}),r.jsx(he,{label:"Coupon Code",defaultValue:n?.code,disabled:t,required:!0}),r.jsx("textarea",{className:"w-full rounded-lg border p-2",rows:2,defaultValue:n?.description,disabled:t,placeholder:"Description..."}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(Dt,{label:"Discount Type",defaultValue:n?.discountType,disabled:t,options:[{value:"percentage",label:"Percentage"},{value:"fixed_amount",label:"Fixed Amount"}]}),r.jsx(he,{label:"Discount Value",type:"number",defaultValue:n?.discountValue,disabled:t})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(he,{label:"Min Order Value ()",type:"number",defaultValue:n?.minOrderValue,disabled:t}),r.jsx(he,{label:"Usage Limit",type:"number",defaultValue:n?.usageLimit,disabled:t})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(he,{label:"Valid From",type:"datetime-local",defaultValue:n?.validFrom.slice(0,16),disabled:t}),r.jsx(he,{label:"Valid To",type:"datetime-local",defaultValue:n?.validTo.slice(0,16),disabled:t})]}),r.jsxs("div",{className:"border-t pt-4 flex justify-end gap-2",children:[r.jsx(ce,{type:"button",variant:"secondary",onClick:a,children:"Close"}),!t&&r.jsx(ce,{type:"submit",children:"Save Changes"})]})]})}function m1(){const{user:e}=os(),[t,s]=_.useState(vSe),[a,n]=_.useState(!1),[i,l]=_.useState(!1),[o,u]=_.useState(),[d,m]=_.useState(""),f=(k,w=!1)=>{u(k),l(w),n(!0)},g=()=>{n(!1),u(void 0)},p=k=>{s(o?t.map(w=>w.id===k.id?k:w):[...t,{...k,id:Date.now().toString(),createdBy:e?.name||"Admin",createdAt:new Date().toISOString()}]),g()},y=k=>{window.confirm("Are you sure?")&&s(t.filter(w=>w.id!==k.id))},v=async(k,w,A)=>{try{switch(k){case"activate":console.log(`Activating ${w.length} coupons:`,w),s(C=>C.map(M=>w.includes(M.id)?{...M,isActive:!0}:M)),alert(`${w.length} coupons have been activated successfully!`);break;case"deactivate":console.log(`Deactivating ${w.length} coupons:`,w),s(C=>C.map(M=>w.includes(M.id)?{...M,isActive:!1}:M)),alert(`${w.length} coupons have been deactivated successfully!`);break;case"delete":confirm(`Are you sure you want to delete ${w.length} coupons? This action cannot be undone.`)&&(console.log(`Deleting ${w.length} coupons:`,w),s(C=>C.filter(M=>!w.includes(M.id))),alert(`${w.length} coupons have been deleted successfully!`));break;default:console.log(`Bulk action ${k} performed on ${w.length} coupons`,A)}}catch(C){console.error("Coupon bulk action failed:",C),alert("Bulk action failed. Please try again.")}},j=k=>{navigator.clipboard.writeText(k),m(k),setTimeout(()=>m(""),2e3)},N=k=>{const w=k.usedCount/k.usageLimit*100;return r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Code:"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-mono font-medium",children:k.code}),r.jsx("button",{onClick:()=>j(k.code),className:"p-1 hover:bg-gray-100 rounded transition-colors",title:"Copy code",children:d===k.code?r.jsx(Do,{className:"h-3 w-3 text-green-600"}):r.jsx(a9,{className:"h-3 w-3 text-gray-400"})})]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Discount:"}),r.jsx("p",{className:"font-medium",children:k.discountType==="percentage"?`${k.discountValue}%`:`${k.discountValue}`})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Min Order:"}),r.jsxs("p",{className:"font-medium",children:["",k.minOrderValue]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Usage:"}),r.jsxs("p",{className:"font-medium",children:[k.usedCount,"/",k.usageLimit]})]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(w,100)}%`}})}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[r.jsxs("span",{children:["Valid: ",new Date(k.validFrom).toLocaleDateString()," - ",new Date(k.validTo).toLocaleDateString()]}),r.jsx("span",{children:""}),r.jsxs("span",{children:["Target: ",k.targetAudience]})]})]})};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Coupon Management"}),r.jsx("p",{className:"text-gray-600",children:"Create and manage discount coupons"})]}),r.jsxs(ce,{onClick:()=>f(void 0,!1),children:[r.jsx(hr,{className:"mr-2 h-4 w-4"}),"Create Coupon"]})]}),r.jsx(ySe,{coupons:t}),d&&r.jsxs("div",{className:"fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg z-50 flex items-center gap-2",children:[r.jsx(Do,{className:"h-4 w-4"}),'Copied "',d,'" to clipboard']}),r.jsx(gSe,{items:t,onView:k=>f(k,!0),onEdit:k=>f(k,!1),onDelete:k=>y(k),onBulkAction:v,title:"Coupon Management",itemType:"coupon",renderItemContent:k=>N(k),statusFilter:["all","active","inactive","expired"]}),r.jsx(gr,{isOpen:a,onClose:g,title:i?"View Coupon":o?"Edit Coupon":"Create Coupon",children:r.jsx(bSe,{initialData:o,isReadOnly:i,onSubmit:p,onCancel:g})})]})}const jSe=[{id:"1",name:"Fish Coins",symbol:"FC",description:"Premium currency for fish purchases",exchangeRate:1,minPurchase:100,maxPurchase:1e4,bonusRules:[{id:"1",minAmount:500,bonusPercentage:5,bonusAmount:25,description:"5% bonus on 500+"},{id:"2",minAmount:1e3,bonusPercentage:10,bonusAmount:100,description:"10% bonus on 1000+"}],isActive:!0,totalIssued:15e4,totalRedeemed:89e3,walletConfig:{theme:"premium",primaryColor:"#3B82F6",secondaryColor:"#1E40AF",showBalance:!0,showTransactionHistory:!0,enableNotifications:!0,autoTopup:{enabled:!1,threshold:100,amount:500}},createdBy:"Admin",createdAt:"2024-01-01"}],NSe=[{id:"1",userId:"user1",type:"credit",amount:500,description:"Wallet top-up",balanceBefore:200,balanceAfter:700,timestamp:"2024-01-10T10:30:00"},{id:"2",userId:"user1",type:"bonus",amount:50,description:"10% bonus on top-up",balanceBefore:700,balanceAfter:750,timestamp:"2024-01-10T10:30:00"},{id:"3",userId:"user1",type:"debit",amount:250,description:"Order payment - #ORD001",orderId:"ORD001",balanceBefore:750,balanceAfter:500,timestamp:"2024-01-10T14:15:00"}];function wSe({currencies:e}){const t=e.reduce((n,i)=>n+i.totalIssued,0),s=e.reduce((n,i)=>n+i.totalRedeemed,0),a=t>0?(s/t*100).toFixed(1):"0";return r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:r.jsx(s9,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Currencies"}),r.jsx("p",{className:"text-xl font-bold",children:e.length})]})]})}),r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:r.jsx(Ex,{className:"h-5 w-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Active"}),r.jsx("p",{className:"text-xl font-bold",children:e.filter(n=>n.isActive).length})]})]})}),r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:r.jsx(Ps,{className:"h-5 w-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Issued"}),r.jsx("p",{className:"text-xl font-bold",children:t.toLocaleString()})]})]})}),r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:r.jsx(QF,{className:"h-5 w-5 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Circulation"}),r.jsxs("p",{className:"text-xl font-bold",children:[a,"%"]})]})]})})]})}function f1(){const[e]=_.useState(jSe),[t]=_.useState(NSe),[s,a]=_.useState(""),[n,i]=_.useState(""),[l,o]=_.useState(!1),u=e.filter(d=>(d.name.toLowerCase().includes(s.toLowerCase())||d.symbol.toLowerCase().includes(s.toLowerCase()))&&(!n||(n==="active"?d.isActive:!d.isActive)));return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",children:"In-App Currency Management"}),r.jsx("p",{className:"text-gray-600",children:"Manage digital wallet and currency system"})]}),r.jsxs(ce,{onClick:()=>o(!0),children:[r.jsx(hr,{className:"mr-2 h-4 w-4"}),"Create Currency"]})]}),r.jsx(wSe,{currencies:e}),r.jsx(ae,{children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(he,{placeholder:"Search currencies...",value:s,onChange:d=>a(d.target.value),className:"pl-10 flex-1"}),r.jsx(Dt,{value:n,onChange:d=>i(d.target.value),options:[{value:"",label:"All Status"},{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}]})]})}),r.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Currency Configuration"}),u.map(d=>r.jsxs(ae,{className:"p-6",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold",children:d.symbol}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-lg",children:d.name}),r.jsx("p",{className:"text-sm text-gray-600",children:d.description})]})]}),r.jsx(at,{variant:Qn(d.isActive?"active":"inactive"),children:d.isActive?"Active":"Inactive"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Exchange Rate"}),r.jsxs("p",{className:"font-semibold",children:["1 INR = ",d.exchangeRate," ",d.symbol]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Purchase Range"}),r.jsxs("p",{className:"font-semibold",children:["",d.minPurchase," - ",d.maxPurchase]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Issued"}),r.jsxs("p",{className:"font-semibold",children:[d.totalIssued.toLocaleString()," ",d.symbol]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Redeemed"}),r.jsxs("p",{className:"font-semibold",children:[d.totalRedeemed.toLocaleString()," ",d.symbol]})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Bonus Rules:"}),r.jsx("div",{className:"space-y-1",children:d.bonusRules.map(m=>r.jsx("div",{className:"text-xs bg-green-50 text-green-800 px-2 py-1 rounded",children:m.description},m.id))})]})]},d.id))]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Wallet Preview & Transactions"}),r.jsxs(ae,{className:"p-6",children:[r.jsx("h3",{className:"font-semibold mb-4",children:"Wallet Preview"}),r.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl p-6 text-white relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white bg-opacity-10 rounded-full -mr-16 -mt-16"}),r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"text-lg font-semibold",children:"Fish Wallet"}),r.jsx(Ex,{className:"h-6 w-6"})]}),r.jsx("div",{className:"text-3xl font-bold mb-2",children:"750 FC"}),r.jsx("div",{className:"text-sm opacity-90",children:"Available Balance"})]})]})]}),r.jsxs(ae,{className:"p-6",children:[r.jsx("h3",{className:"font-semibold mb-4",children:"Recent Transactions"}),r.jsx("div",{className:"space-y-3",children:t.map(d=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`p-2 rounded-lg ${d.type==="credit"||d.type==="bonus"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:d.type==="credit"||d.type==="bonus"?r.jsx(Ps,{className:"h-4 w-4"}):r.jsx(QF,{className:"h-4 w-4"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-sm",children:d.description}),r.jsx("p",{className:"text-xs text-gray-500",children:new Date(d.timestamp).toLocaleString()})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:`font-semibold ${d.type==="credit"||d.type==="bonus"?"text-green-600":"text-red-600"}`,children:[d.type==="credit"||d.type==="bonus"?"+":"-",d.amount," FC"]}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Balance: ",d.balanceAfter," FC"]})]})]},d.id))})]})]})]}),u.length===0&&r.jsxs(ae,{className:"text-center py-12",children:[r.jsx(s9,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No currencies found"}),r.jsx("p",{className:"text-gray-500",children:"Create your first in-app currency"})]}),r.jsx(gr,{isOpen:l,onClose:()=>o(!1),title:"Create In-App Currency",children:r.jsxs("form",{className:"space-y-4",children:[r.jsx(he,{label:"Currency Name",placeholder:"Fish Coins",required:!0}),r.jsx(he,{label:"Currency Symbol",placeholder:"FC",required:!0}),r.jsx("textarea",{className:"w-full rounded-lg border p-2",rows:2,placeholder:"Description..."}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(he,{label:"Exchange Rate (1 INR = X)",type:"number",placeholder:"1"}),r.jsx(he,{label:"Min Purchase (INR)",type:"number",placeholder:"100"})]}),r.jsx(he,{label:"Max Purchase (INR)",type:"number",placeholder:"10000"}),r.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[r.jsx(ce,{type:"button",variant:"secondary",onClick:()=>o(!1),className:"flex-1",children:"Cancel"}),r.jsx(ce,{type:"submit",className:"flex-1",children:"Create Currency"})]})]})})]})}const SSe=[{id:"1",name:"Fish Friends Referral",description:"Refer friends and earn rewards on fish orders",isActive:!0,referrerReward:{type:"cashback",value:100,unit:"",conditions:["Friend completes first order"]},refereeReward:{type:"discount",value:20,unit:"%",maxReward:200,conditions:["First order only"]},conditions:{minOrderValue:500,validityDays:30,maxReferrals:10,requireFirstOrder:!0,allowSelfReferral:!1},customization:{shareMessage:"Join me on FishApp and get 20% off your first order! Use my referral code.",landingPageTitle:"Welcome to FishApp!",landingPageDescription:"Get fresh fish delivered to your doorstep with 20% off your first order.",buttonText:"Claim Your Discount",colors:{primary:"#3B82F6",secondary:"#1E40AF",background:"#F8FAFC"},socialPlatforms:["whatsapp","facebook","twitter","instagram"]},totalReferrals:1250,successfulReferrals:890,totalRewards:89e3,createdBy:"Admin",createdAt:"2024-01-01"},{id:"2",name:"Premium Member Referral",description:"Exclusive referral program for premium members",isActive:!0,referrerReward:{type:"points",value:500,unit:"pts",conditions:["Friend becomes premium member"]},refereeReward:{type:"free_delivery",value:3,unit:"deliveries",conditions:["Valid for 3 months"]},conditions:{minOrderValue:1e3,validityDays:90,maxReferrals:5,requireFirstOrder:!1,allowSelfReferral:!1},customization:{shareMessage:"Upgrade to premium with me and get 3 free deliveries!",landingPageTitle:"Premium Fish Experience",landingPageDescription:"Join our premium membership and enjoy exclusive benefits.",buttonText:"Go Premium Now",colors:{primary:"#7C3AED",secondary:"#5B21B6",background:"#FAF5FF"},socialPlatforms:["whatsapp","email"]},totalReferrals:340,successfulReferrals:245,totalRewards:122500,createdBy:"Admin",createdAt:"2024-01-15"}];function _Se({programs:e}){const t=e.filter(i=>i.isActive).length,s=e.reduce((i,l)=>i+l.totalReferrals,0),a=e.reduce((i,l)=>i+l.successfulReferrals,0),n=s>0?(a/s*100).toFixed(1):"0";return r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:r.jsx(i9,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Programs"}),r.jsx("p",{className:"text-xl font-bold",children:e.length})]})]})}),r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:r.jsx(Vm,{className:"h-5 w-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Active Programs"}),r.jsx("p",{className:"text-xl font-bold",children:t})]})]})}),r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:r.jsx(Mr,{className:"h-5 w-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Referrals"}),r.jsx("p",{className:"text-xl font-bold",children:s.toLocaleString()})]})]})}),r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:r.jsx(Ps,{className:"h-5 w-5 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Conversion Rate"}),r.jsxs("p",{className:"text-xl font-bold",children:[n,"%"]})]})]})})]})}function ASe({program:e}){const t=e.totalReferrals>0?(e.successfulReferrals/e.totalReferrals*100).toFixed(1):"0",s=a=>{switch(a){case"cashback":return"";case"discount":return"";case"free_delivery":return"";case"points":return"";case"free_item":return"";default:return""}};return r.jsx(ae,{className:"p-0 overflow-hidden",children:r.jsxs("div",{className:"flex",children:[r.jsxs("div",{className:"flex-grow p-6 border-r",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("h3",{className:"font-semibold text-lg",children:e.name}),r.jsx(at,{variant:Qn(e.isActive?"active":"inactive"),children:e.isActive?"Active":"Inactive"})]}),r.jsx("p",{className:"text-sm text-gray-500 mb-4",children:e.description}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"border rounded-lg p-3 bg-green-50",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("span",{className:"text-lg",children:s(e.referrerReward.type)}),r.jsx("span",{className:"font-semibold text-sm",children:"Referrer"})]}),r.jsxs("p",{className:"font-bold text-green-600",children:[e.referrerReward.value,e.referrerReward.unit]})]}),r.jsxs("div",{className:"border rounded-lg p-3 bg-blue-50",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("span",{className:"text-lg",children:s(e.refereeReward.type)}),r.jsx("span",{className:"font-semibold text-sm",children:"Referee"})]}),r.jsxs("p",{className:"font-bold text-blue-600",children:[e.refereeReward.value,e.refereeReward.unit]})]})]})]}),r.jsxs("div",{className:"w-64 p-6 bg-gray-50 flex flex-col justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold mb-3 text-center",children:"Performance"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),r.jsx("p",{className:"font-semibold text-lg",children:e.totalReferrals})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Successful"}),r.jsx("p",{className:"font-semibold text-lg text-green-600",children:e.successfulReferrals})]}),r.jsxs("div",{className:"col-span-2",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Conversion Rate"}),r.jsxs("p",{className:"font-semibold text-lg text-blue-600",children:[t,"%"]})]})]})]}),r.jsxs("div",{className:"flex justify-center gap-2 mt-4",children:[r.jsx(ce,{variant:"ghost",size:"sm",children:r.jsx(Fr,{className:"h-4 w-4"})}),r.jsx(ce,{variant:"ghost",size:"sm",children:r.jsx(nl,{className:"h-4 w-4"})}),r.jsx(ce,{variant:"ghost",size:"sm",className:"text-red-600",children:r.jsx(Sr,{className:"h-4 w-4"})})]})]})]})})}function Jg(){const[e]=_.useState(SSe),[t,s]=_.useState(""),[a,n]=_.useState(""),[i,l]=_.useState(!1),o=e.filter(u=>{const d=u.name.toLowerCase().includes(t.toLowerCase()),m=!a||(a==="active"?u.isActive:!u.isActive);return d&&m});return r.jsxs("div",{className:"space-y-4 sm:space-y-6 p-4 sm:p-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-bold truncate",children:"Referral Management"}),r.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1",children:"Create and manage referral programs with custom rewards"})]}),r.jsx("div",{className:"flex gap-2 w-full sm:w-auto",children:r.jsxs(ce,{onClick:()=>l(!0),className:"flex-1 sm:flex-none",children:[r.jsx(hr,{className:"mr-2 h-4 w-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Create Program"}),r.jsx("span",{className:"sm:hidden",children:"Create"})]})})]}),r.jsx(_Se,{programs:e}),r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Mn,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),r.jsx(he,{placeholder:"Search referral programs...",value:t,onChange:u=>s(u.target.value),className:"pl-10"})]}),r.jsx(Dt,{value:a,onChange:u=>n(u.target.value),options:[{value:"",label:"All Status"},{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}]})]})}),r.jsx("div",{className:"space-y-4 sm:space-y-6",children:o.map(u=>r.jsx(ASe,{program:u},u.id))}),o.length===0&&r.jsxs(ae,{className:"text-center py-12",children:[r.jsx(i9,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No referral programs found"}),r.jsx("p",{className:"text-gray-500",children:"Create your first referral program"})]}),r.jsx(gr,{isOpen:i,onClose:()=>l(!1),title:"Create Referral Program",children:r.jsxs("form",{className:"space-y-4",children:[r.jsx(he,{label:"Program Name",placeholder:"Fish Friends Referral",required:!0}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-primary-500 focus:outline-none",rows:2,placeholder:"Refer friends and earn rewards"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium mb-2",children:"Referrer Reward"}),r.jsx(Dt,{label:"Reward Type",options:[{value:"cashback",label:"Cashback"},{value:"discount",label:"Discount"},{value:"points",label:"Points"}]}),r.jsx(he,{label:"Reward Value",type:"number",placeholder:"100"})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium mb-2",children:"Referee Reward"}),r.jsx(Dt,{label:"Reward Type",options:[{value:"discount",label:"Discount"},{value:"free_delivery",label:"Free Delivery"},{value:"cashback",label:"Cashback"}]}),r.jsx(he,{label:"Reward Value",type:"number",placeholder:"20"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(he,{label:"Min Order Value",type:"number",placeholder:"500"}),r.jsx(he,{label:"Validity (days)",type:"number",placeholder:"30"})]}),r.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[r.jsx(ce,{type:"button",variant:"secondary",onClick:()=>l(!1),className:"flex-1",children:"Cancel"}),r.jsx(ce,{type:"submit",className:"flex-1",children:"Create Program"})]})]})})]})}const CSe=[{id:"1",name:"Chennai Central Hub",code:"HUB-CHN-001",description:"Main distribution hub for Chennai region",address:{street:"123 Anna Salai",city:"Chennai",state:"Tamil Nadu",pincode:"600002",country:"India"},location:{latitude:13.0827,longitude:80.2707},contactInfo:{phone:"+91 9876543210",email:"chennai.hub@fishapp.com",manager:"Rajesh Kumar"},operatingHours:{open:"06:00",close:"22:00",workingDays:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},capacity:{storage:5e3,dailyOrders:1e3,staff:25},isActive:!0,connectedStores:["store1","store2","store3"],createdBy:"Admin",createdAt:"2024-01-01"},{id:"2",name:"Bangalore North Hub",code:"HUB-BLR-001",description:"Primary hub serving North Bangalore",address:{street:"456 MG Road",city:"Bangalore",state:"Karnataka",pincode:"560001",country:"India"},location:{latitude:12.9716,longitude:77.5946},contactInfo:{phone:"+91 9876543211",email:"bangalore.hub@fishapp.com",manager:"Priya Sharma"},operatingHours:{open:"05:30",close:"23:00",workingDays:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"]},capacity:{storage:7500,dailyOrders:1500,staff:35},isActive:!0,connectedStores:["store4","store5"],createdBy:"Admin",createdAt:"2024-01-15"}];function kSe({hubs:e}){const t=e.filter(n=>n.isActive).length,s=e.reduce((n,i)=>n+i.capacity.storage,0),a=e.reduce((n,i)=>n+i.connectedStores.length,0);return r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 mb-4 sm:mb-6",children:[r.jsx(ae,{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[r.jsx("div",{className:"p-1.5 sm:p-2 bg-blue-100 rounded-lg",children:r.jsx(eo,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Total Hubs"}),r.jsx("p",{className:"text-lg sm:text-xl font-bold",children:e.length})]})]})}),r.jsx(ae,{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[r.jsx("div",{className:"p-1.5 sm:p-2 bg-green-100 rounded-lg",children:r.jsx(Pt,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Active Hubs"}),r.jsx("p",{className:"text-lg sm:text-xl font-bold",children:t})]})]})}),r.jsx(ae,{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[r.jsx("div",{className:"p-1.5 sm:p-2 bg-purple-100 rounded-lg",children:r.jsx(Mr,{className:"h-4 w-4 sm:h-5 sm:w-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Connected Stores"}),r.jsx("p",{className:"text-lg sm:text-xl font-bold",children:a})]})]})}),r.jsx(ae,{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[r.jsx("div",{className:"p-1.5 sm:p-2 bg-orange-100 rounded-lg",children:r.jsx(Pt,{className:"h-4 w-4 sm:h-5 sm:w-5 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Total Capacity"}),r.jsx("p",{className:"text-lg sm:text-xl font-bold",children:s.toLocaleString()})]})]})})]})}function TSe({hub:e,onSave:t,onCancel:s}){const[a,n]=_.useState({name:e?.name||"",code:e?.code||"",description:e?.description||"",street:e?.address.street||"",city:e?.address.city||"",state:e?.address.state||"",pincode:e?.address.pincode||"",country:e?.address.country||"India",phone:e?.contactInfo.phone||"",email:e?.contactInfo.email||"",manager:e?.contactInfo.manager||"",open:e?.operatingHours.open||"06:00",close:e?.operatingHours.close||"22:00",workingDays:e?.operatingHours.workingDays||["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],storage:e?.capacity.storage||0,dailyOrders:e?.capacity.dailyOrders||0,staff:e?.capacity.staff||0,deliveryRadius:e?.deliveryRadius||void 0,deliveryType:e?.selectedZones&&e.selectedZones.length>0?"zones":"radius",selectedZones:e?.selectedZones||[],latitude:e?.location.latitude||0,longitude:e?.location.longitude||0,isActive:e?.isActive??!0,assignAllSlots:!e?.deliverySlots,deliverySlots:e?.deliverySlots||[]}),i=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],l=()=>{const u={name:a.name,code:a.code,description:a.description,address:{street:a.street,city:a.city,state:a.state,pincode:a.pincode,country:a.country},location:{latitude:a.latitude,longitude:a.longitude},contactInfo:{phone:a.phone,email:a.email,manager:a.manager},operatingHours:{open:a.open,close:a.close,workingDays:a.workingDays},capacity:{storage:a.storage,dailyOrders:a.dailyOrders,staff:a.staff},deliveryRadius:a.deliveryType==="radius"?a.deliveryRadius:void 0,selectedZones:a.deliveryType==="zones"?a.selectedZones:void 0,isActive:a.isActive,deliverySlots:a.assignAllSlots?void 0:a.deliverySlots};t(u)},o=u=>{n(d=>({...d,workingDays:d.workingDays.includes(u)?d.workingDays.filter(m=>m!==u):[...d.workingDays,u]}))};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"border rounded-lg p-4 bg-blue-50",children:[r.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[r.jsx(eo,{className:"h-5 w-5"}),"Basic Information"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(he,{label:"Hub Name",value:a.name,onChange:u=>n(d=>({...d,name:u.target.value})),placeholder:"Chennai Central Hub",required:!0}),r.jsx(he,{label:"Hub Code",value:a.code,onChange:u=>n(d=>({...d,code:u.target.value})),placeholder:"HUB-CHN-001",required:!0})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-primary-500 focus:outline-none",rows:2,value:a.description,onChange:u=>n(d=>({...d,description:u.target.value})),placeholder:"Main distribution hub for Chennai region"})]}),r.jsx("div",{className:"mt-4",children:r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:a.isActive,onChange:u=>n(d=>({...d,isActive:u.target.checked})),className:"rounded border-gray-300"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Active Hub"})]})})]}),r.jsxs("div",{className:"border rounded-lg p-4 bg-green-50",children:[r.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[r.jsx(qs,{className:"h-5 w-5"}),"Address & Location"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(he,{label:"Street Address",value:a.street,onChange:u=>n(d=>({...d,street:u.target.value})),placeholder:"123 Anna Salai"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(he,{label:"City",value:a.city,onChange:u=>n(d=>({...d,city:u.target.value})),placeholder:"Chennai"}),r.jsx(he,{label:"State",value:a.state,onChange:u=>n(d=>({...d,state:u.target.value})),placeholder:"Tamil Nadu"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(he,{label:"Pincode",value:a.pincode,onChange:u=>n(d=>({...d,pincode:u.target.value})),placeholder:"600002"}),r.jsx(he,{label:"Country",value:a.country,onChange:u=>n(d=>({...d,country:u.target.value})),placeholder:"India"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(he,{label:"Latitude",type:"number",step:"any",value:a.latitude,onChange:u=>n(d=>({...d,latitude:parseFloat(u.target.value)})),placeholder:"13.0827"}),r.jsx(he,{label:"Longitude",type:"number",step:"any",value:a.longitude,onChange:u=>n(d=>({...d,longitude:parseFloat(u.target.value)})),placeholder:"80.2707"})]})]})]}),r.jsxs("div",{className:"border rounded-lg p-4 bg-purple-50",children:[r.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[r.jsx(su,{className:"h-5 w-5"}),"Contact Information"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(he,{label:"Phone",value:a.phone,onChange:u=>n(d=>({...d,phone:u.target.value})),placeholder:"+91 9876543210"}),r.jsx(he,{label:"Email",type:"email",value:a.email,onChange:u=>n(d=>({...d,email:u.target.value})),placeholder:"hub@fishapp.com"})]}),r.jsx("div",{className:"mt-4",children:r.jsx(he,{label:"Manager Name",value:a.manager,onChange:u=>n(d=>({...d,manager:u.target.value})),placeholder:"Rajesh Kumar"})})]}),r.jsxs("div",{className:"border rounded-lg p-4 bg-orange-50",children:[r.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[r.jsx(wr,{className:"h-5 w-5"}),"Operating Hours"]}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Need to assign delivery slots while creating a new Hub. Partially select or All slots"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[r.jsx(he,{label:"Opening Time",type:"time",value:a.open,onChange:u=>n(d=>({...d,open:u.target.value}))}),r.jsx(he,{label:"Closing Time",type:"time",value:a.close,onChange:u=>n(d=>({...d,close:u.target.value}))})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Working Days"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:i.map(u=>r.jsx("button",{type:"button",onClick:()=>o(u),className:`px-3 py-1 rounded-full text-sm transition-all ${a.workingDays.includes(u)?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:u.slice(0,3)},u))})]}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Delivery Slots Assignment"}),r.jsxs("div",{className:"flex gap-4 mb-3",children:[r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"radio",checked:a.assignAllSlots,onChange:()=>n(u=>({...u,assignAllSlots:!0,deliverySlots:[]})),className:"rounded-full border-gray-300"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Assign All Slots"})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"radio",checked:!a.assignAllSlots,onChange:()=>n(u=>({...u,assignAllSlots:!1})),className:"rounded-full border-gray-300"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Partially Select Slots"})]})]}),!a.assignAllSlots&&r.jsxs("div",{className:"bg-white border rounded-lg p-3 mt-3",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Select specific delivery time slots:"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:[{id:"6-9",label:"6 AM - 9 AM",value:"06:00-09:00"},{id:"9-12",label:"9 AM - 12 PM",value:"09:00-12:00"},{id:"12-15",label:"12 PM - 3 PM",value:"12:00-15:00"},{id:"15-18",label:"3 PM - 6 PM",value:"15:00-18:00"},{id:"18-21",label:"6 PM - 9 PM",value:"18:00-21:00"},{id:"21-24",label:"9 PM - 12 AM",value:"21:00-24:00"}].map(u=>r.jsxs("label",{className:"flex items-center gap-2 p-2 border rounded hover:bg-gray-50 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:a.deliverySlots?.includes(u.value)||!1,onChange:d=>{const m=a.deliverySlots||[];d.target.checked?n(f=>({...f,deliverySlots:[...m,u.value]})):n(f=>({...f,deliverySlots:m.filter(g=>g!==u.value)}))},className:"rounded border-gray-300"}),r.jsx("span",{className:"text-sm",children:u.label})]},u.id))}),a.deliverySlots&&a.deliverySlots.length>0&&r.jsxs("p",{className:"text-xs text-green-600 mt-2",children:[" ",a.deliverySlots.length," slot(s) selected"]})]}),a.assignAllSlots&&r.jsx("p",{className:"text-xs text-blue-600 mt-2",children:" All delivery slots will be available (6 AM - 12 AM)"})]})]}),r.jsxs("div",{className:"border rounded-lg p-4 bg-yellow-50",children:[r.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[r.jsx(Pt,{className:"h-5 w-5"}),"Capacity & Resources"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(he,{label:"Storage Capacity",type:"number",value:a.storage,onChange:u=>n(d=>({...d,storage:parseInt(u.target.value)})),placeholder:"5000"}),r.jsx(he,{label:"Daily Orders Capacity",type:"number",value:a.dailyOrders,onChange:u=>n(d=>({...d,dailyOrders:parseInt(u.target.value)})),placeholder:"1000"}),r.jsx(he,{label:"Staff Count",type:"number",value:a.staff,onChange:u=>n(d=>({...d,staff:parseInt(u.target.value)})),placeholder:"25"})]})]}),r.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[r.jsx("h3",{className:"font-semibold mb-3",children:"Configuration"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:r.jsx(he,{label:"Hub ID",value:e?.id||"Auto-generated",disabled:!0,placeholder:"Auto-generated"})}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Delivery Configuration"}),r.jsxs("div",{className:"flex gap-4 mb-3",children:[r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"radio",checked:a.deliveryType==="radius",onChange:()=>n(u=>({...u,deliveryType:"radius",selectedZones:[]})),className:"rounded-full border-gray-300"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Fixed Radius"})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"radio",checked:a.deliveryType==="zones",onChange:()=>n(u=>({...u,deliveryType:"zones",deliveryRadius:void 0})),className:"rounded-full border-gray-300"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Selected Zones"})]})]}),a.deliveryType==="radius"&&r.jsxs("div",{children:[r.jsx(he,{label:"Delivery Radius (km)",type:"number",value:a.deliveryRadius||"",onChange:u=>n(d=>({...d,deliveryRadius:parseInt(u.target.value)||void 0})),placeholder:"5"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Hub will deliver within this radius from its location"})]}),a.deliveryType==="zones"&&r.jsxs("div",{className:"bg-white border rounded-lg p-3",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Select delivery zones:"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:[{id:"zone-1",name:"Anna Nagar",code:"AN"},{id:"zone-2",name:"T. Nagar",code:"TN"},{id:"zone-3",name:"Velachery",code:"VL"},{id:"zone-4",name:"Adyar",code:"AD"},{id:"zone-5",name:"Mylapore",code:"MY"},{id:"zone-6",name:"Nungambakkam",code:"NG"},{id:"zone-7",name:"Porur",code:"PR"},{id:"zone-8",name:"Tambaram",code:"TB"},{id:"zone-9",name:"Chrompet",code:"CH"}].map(u=>r.jsxs("label",{className:"flex items-center gap-2 p-2 border rounded hover:bg-gray-50 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:a.selectedZones?.includes(u.id)||!1,onChange:d=>{const m=a.selectedZones||[];d.target.checked?n(f=>({...f,selectedZones:[...m,u.id]})):n(f=>({...f,selectedZones:m.filter(g=>g!==u.id)}))},className:"rounded border-gray-300"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:u.name}),r.jsx("p",{className:"text-xs text-gray-500",children:u.code})]})]},u.id))}),a.selectedZones&&a.selectedZones.length>0&&r.jsxs("p",{className:"text-xs text-green-600 mt-2",children:[" ",a.selectedZones.length," zone(s) selected"]})]})]})]}),r.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[r.jsxs(ce,{type:"button",variant:"secondary",onClick:s,className:"flex-1",children:[r.jsx(ws,{className:"mr-2 h-4 w-4"}),"Cancel"]}),r.jsxs(ce,{type:"button",onClick:l,className:"flex-1",children:[r.jsx(Ii,{className:"mr-2 h-4 w-4"}),e?"Update Hub":"Create Hub"]})]})]})}function ESe({hub:e,onView:t,onEdit:s,onDelete:a}){return r.jsxs("div",{className:"grid grid-cols-12 gap-4 items-center p-4 border-b hover:bg-gray-50",children:[r.jsxs("div",{className:"col-span-3",children:[r.jsx("p",{className:"font-semibold text-gray-800",children:e.name}),r.jsx("p",{className:"text-sm text-gray-500 font-mono",children:e.code})]}),r.jsxs("div",{className:"col-span-3",children:[r.jsx("p",{className:"text-sm text-gray-700",children:e.contactInfo.manager}),r.jsx("p",{className:"text-sm text-gray-500",children:e.contactInfo.email})]}),r.jsx("div",{className:"col-span-2",children:r.jsxs("p",{className:"text-sm text-gray-700",children:[e.address.city,", ",e.address.state]})}),r.jsx("div",{className:"col-span-2 flex justify-center",children:r.jsx(at,{variant:Qn(e.isActive?"active":"inactive"),children:e.isActive?"Active":"Inactive"})}),r.jsxs("div",{className:"col-span-2 flex justify-end gap-2",children:[r.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",children:r.jsx(Fr,{className:"h-4 w-4 text-gray-600"})}),r.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",children:r.jsx(vs,{className:"h-4 w-4 text-gray-600"})}),r.jsx("button",{onClick:a,className:"p-2 hover:bg-red-100 rounded-lg transition-colors",children:r.jsx(Sr,{className:"h-4 w-4 text-red-600"})})]})]})}function OSe(){const{user:e}=os(),[t,s]=_.useState(CSe),[a,n]=_.useState(""),[i,l]=_.useState(""),[o,u]=_.useState(!1),[d,m]=_.useState(!1),[f,g]=_.useState(),[p,y]=_.useState(),v=t.filter(A=>{const C=A.name.toLowerCase().includes(a.toLowerCase())||A.code.toLowerCase().includes(a.toLowerCase()),M=!i||(i==="active"?A.isActive:!A.isActive);return C&&M}),j=A=>{if(f)s(C=>C.map(M=>M.id===f.id?{...M,...A,id:f.id}:M)),g(void 0);else{const C={...A,id:Date.now().toString(),connectedStores:[],createdBy:e?.name||"Admin",createdAt:new Date().toISOString().split("T")[0]};s(M=>[...M,C]),u(!1)}},N=A=>{g(A)},k=A=>{y(A),m(!0)},w=A=>{confirm("Are you sure you want to delete this hub? This action cannot be undone.")&&s(C=>C.filter(M=>M.id!==A))};return r.jsxs("div",{className:"space-y-4 sm:space-y-6 p-4 sm:p-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Hub Management"}),r.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Manage distribution hubs and their operations"})]}),r.jsxs(ce,{onClick:()=>u(!0),className:"w-full sm:w-auto text-sm",children:[r.jsx(hr,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4"}),"Add Hub"]})]}),r.jsx(kSe,{hubs:t}),r.jsx(ae,{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Mn,{className:"absolute left-3 top-1/2 h-3 w-3 sm:h-4 sm:w-4 -translate-y-1/2 text-gray-400"}),r.jsx(he,{placeholder:"Search hubs by name or code...",value:a,onChange:A=>n(A.target.value),className:"pl-8 sm:pl-10 text-sm"})]}),r.jsx(Dt,{value:i,onChange:A=>l(A.target.value),options:[{value:"",label:"All Status"},{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}],className:"w-full sm:w-auto text-sm"})]})}),r.jsx("div",{className:"space-y-4",children:v.length>0?r.jsxs(r.Fragment,{children:[r.jsxs(ae,{className:"hidden lg:block",children:[r.jsxs("div",{className:"grid grid-cols-12 gap-4 p-4 border-b bg-gray-50 rounded-t-lg",children:[r.jsx("div",{className:"col-span-3 font-semibold text-sm text-gray-600",children:"Hub"}),r.jsx("div",{className:"col-span-3 font-semibold text-sm text-gray-600",children:"Contact"}),r.jsx("div",{className:"col-span-2 font-semibold text-sm text-gray-600",children:"Location"}),r.jsx("div",{className:"col-span-2 font-semibold text-sm text-gray-600 text-center",children:"Status"}),r.jsx("div",{className:"col-span-2 font-semibold text-sm text-gray-600 text-right",children:"Actions"})]}),r.jsx("div",{children:v.map(A=>r.jsx(ESe,{hub:A,onView:()=>k(A),onEdit:()=>N(A),onDelete:()=>w(A.id)},A.id))})]}),r.jsx("div",{className:"lg:hidden space-y-4",children:v.map(A=>r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-800",children:A.name}),r.jsx("p",{className:"text-sm text-gray-500 font-mono",children:A.code})]}),r.jsx(at,{variant:Qn(A.isActive?"active":"inactive"),children:A.isActive?"Active":"Inactive"})]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Manager:"}),r.jsx("span",{className:"text-gray-800",children:A.contactInfo.manager})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Email:"}),r.jsx("span",{className:"text-gray-800 truncate ml-2",children:A.contactInfo.email})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Location:"}),r.jsxs("span",{className:"text-gray-800",children:[A.address.city,", ",A.address.state]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Capacity:"}),r.jsx("span",{className:"text-gray-800",children:A.capacity.storage.toLocaleString()})]})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-2 border-t border-gray-100",children:[r.jsx("button",{onClick:()=>k(A),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"View Details",children:r.jsx(Fr,{className:"h-4 w-4 text-gray-600"})}),r.jsx("button",{onClick:()=>N(A),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Edit Hub",children:r.jsx(vs,{className:"h-4 w-4 text-gray-600"})}),r.jsx("button",{onClick:()=>w(A.id),className:"p-2 hover:bg-red-100 rounded-lg transition-colors",title:"Delete Hub",children:r.jsx(Sr,{className:"h-4 w-4 text-red-600"})})]})]})},A.id))})]}):r.jsxs(ae,{className:"p-8 sm:p-12 text-center",children:[r.jsx(eo,{className:"h-10 w-10 sm:h-12 sm:w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-900 mb-2",children:"No hubs found"}),r.jsx("p",{className:"text-sm sm:text-base text-gray-500",children:"Your search or filter criteria did not match any hubs."})]})}),r.jsx(gr,{isOpen:d,onClose:()=>{m(!1),y(void 0)},title:"Hub Details",size:"xl",children:p&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-4 bg-blue-100 rounded-full",children:r.jsx(eo,{className:"h-8 w-8 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:p.name}),r.jsx("p",{className:"text-gray-600 font-mono",children:p.code}),r.jsx("div",{className:"flex items-center gap-2 mt-2",children:r.jsx(at,{variant:p.isActive?"success":"secondary",children:p.isActive?"Active":"Inactive"})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Basic Information"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Hub Code:"}),r.jsx("span",{className:"font-mono",children:p.code})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Description:"}),r.jsx("span",{className:"text-right",children:p.description})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Manager:"}),r.jsx("span",{children:p.contactInfo.manager})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Created:"}),r.jsx("span",{children:new Date(p.createdAt).toLocaleDateString()})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Contact Information"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Phone:"}),r.jsx("span",{children:p.contactInfo.phone})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Email:"}),r.jsx("span",{children:p.contactInfo.email})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Address"}),r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsx("p",{children:p.address.street}),r.jsxs("p",{children:[p.address.city,", ",p.address.state]}),r.jsxs("p",{children:[p.address.pincode,", ",p.address.country]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Operating Hours"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Hours:"}),r.jsxs("span",{children:[p.operatingHours.open," -"," ",p.operatingHours.close]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Working Days:"}),r.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:p.operatingHours.workingDays.map(A=>r.jsx(at,{variant:"secondary",className:"text-xs",children:A.slice(0,3)},A))})]})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Capacity & Statistics"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Pt,{className:"h-5 w-5 text-blue-600"}),r.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Storage"})]}),r.jsx("p",{className:"text-2xl font-bold text-blue-900",children:p.capacity.storage.toLocaleString()}),r.jsx("p",{className:"text-xs text-blue-700",children:"kg capacity"})]}),r.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Pt,{className:"h-5 w-5 text-green-600"}),r.jsx("span",{className:"text-sm font-medium text-green-900",children:"Daily Orders"})]}),r.jsx("p",{className:"text-2xl font-bold text-green-900",children:p.capacity.dailyOrders.toLocaleString()}),r.jsx("p",{className:"text-xs text-green-700",children:"orders/day"})]}),r.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Mr,{className:"h-5 w-5 text-orange-600"}),r.jsx("span",{className:"text-sm font-medium text-orange-900",children:"Staff"})]}),r.jsx("p",{className:"text-2xl font-bold text-orange-900",children:p.capacity.staff}),r.jsx("p",{className:"text-xs text-orange-700",children:"team members"})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Connected Stores"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[p.connectedStores.map(A=>r.jsxs(at,{variant:"info",children:["Store ",A.replace("store","")]},A)),p.connectedStores.length===0&&r.jsx("p",{className:"text-sm text-gray-500",children:"No stores connected"})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[r.jsx(ce,{variant:"secondary",onClick:()=>{m(!1),y(void 0)},className:"flex-1",children:"Close"}),r.jsx(ce,{onClick:()=>{m(!1),N(p)},className:"flex-1",children:"Edit Hub"})]})]})}),r.jsx(gr,{isOpen:o||!!f,onClose:()=>{u(!1),g(void 0)},title:f?"Edit Hub":"Create New Hub",size:"xl",children:r.jsx(TSe,{hub:f,onSave:j,onCancel:()=>{u(!1),g(void 0)}})})]})}const PSe=[{value:"Monday",label:"Mon"},{value:"Tuesday",label:"Tue"},{value:"Wednesday",label:"Wed"},{value:"Thursday",label:"Thu"},{value:"Friday",label:"Fri"},{value:"Saturday",label:"Sat"},{value:"Sunday",label:"Sun"}];function DSe({onSubmit:e,onCancel:t,isSubmitting:s=!1,initialData:a}){const{register:n,handleSubmit:i,control:l,watch:o,setValue:u,formState:{errors:d}}=g0({resolver:y0(mne),defaultValues:{...a,isActive:a?.isActive??!0,address:a?.address||{},location:a?.location||{latitude:0,longitude:0},contactInfo:a?.contactInfo||{},operatingHours:a?.operatingHours||{workingDays:[]},capacity:a?.capacity||{},assignAllSlots:!a?.deliverySlots,deliverySlots:a?.deliverySlots||[]}});return r.jsxs("form",{onSubmit:i(e),className:"space-y-6 p-1",children:[r.jsxs("div",{className:"border rounded-lg p-4 bg-blue-50",children:[r.jsx("h3",{className:"font-semibold mb-4 text-gray-900",children:"Basic Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(he,{label:"Store Name",...n("name"),error:d.name?.message,placeholder:"Enter store name"}),r.jsx(he,{label:"Store Code",...n("code"),error:d.code?.message,placeholder:"STR-XXX-001"})]}),r.jsx("div",{className:"mt-4",children:r.jsx(he,{label:"Description",...n("description"),error:d.description?.message,placeholder:"Brief description of the store"})}),r.jsx("div",{className:"mt-4",children:r.jsx(Dt,{label:"Store Type",...n("storeType"),error:d.storeType?.message,options:[{value:"",label:"Select store type"},{value:"retail",label:"Retail Store"},{value:"warehouse",label:"Warehouse"},{value:"pickup_point",label:"Pickup Point"}]})})]}),r.jsxs("fieldset",{className:"border rounded-lg p-4 bg-green-50",children:[r.jsx("legend",{className:"text-sm font-medium px-2",children:"Address Information"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(he,{label:"Street Address",...n("address.street"),error:d.address?.street?.message,placeholder:"Building name, street name"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(he,{label:"City",...n("address.city"),error:d.address?.city?.message,placeholder:"Chennai"}),r.jsx(he,{label:"State",...n("address.state"),error:d.address?.state?.message,placeholder:"Tamil Nadu"}),r.jsx(he,{label:"Pincode",...n("address.pincode"),error:d.address?.pincode?.message,placeholder:"600001"})]}),r.jsx(he,{label:"Country",...n("address.country"),error:d.address?.country?.message,placeholder:"India"})]})]}),r.jsxs("fieldset",{className:"border rounded-lg p-4 bg-purple-50",children:[r.jsx("legend",{className:"text-sm font-medium px-2",children:"GPS Location"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(he,{label:"Latitude",type:"number",step:"any",...n("location.latitude",{valueAsNumber:!0}),error:d.location?.latitude?.message,placeholder:"13.0827"}),r.jsx(he,{label:"Longitude",type:"number",step:"any",...n("location.longitude",{valueAsNumber:!0}),error:d.location?.longitude?.message,placeholder:"80.2707"})]})]}),r.jsxs("fieldset",{className:"border rounded-lg p-4 bg-pink-50",children:[r.jsx("legend",{className:"text-sm font-medium px-2",children:"Contact Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(he,{label:"Phone",...n("contactInfo.phone"),error:d.contactInfo?.phone?.message,placeholder:"+91 9876543210"}),r.jsx(he,{label:"Email",type:"email",...n("contactInfo.email"),error:d.contactInfo?.email?.message,placeholder:"store@example.com"}),r.jsx(he,{label:"Manager Name",...n("contactInfo.manager"),error:d.contactInfo?.manager?.message,placeholder:"Manager name"})]})]}),r.jsxs("fieldset",{className:"border rounded-lg p-4 bg-orange-50",children:[r.jsx("legend",{className:"text-sm font-medium px-2",children:"Operating Hours"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(he,{label:"Opening Time",type:"time",...n("operatingHours.open"),error:d.operatingHours?.open?.message}),r.jsx(he,{label:"Closing Time",type:"time",...n("operatingHours.close"),error:d.operatingHours?.close?.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Working Days"}),r.jsx(Pb,{name:"operatingHours.workingDays",control:l,render:({field:m})=>r.jsx("div",{className:"grid grid-cols-4 lg:grid-cols-7 gap-2",children:PSe.map(f=>r.jsxs("label",{className:`flex items-center justify-center space-x-2 p-2 border rounded-md cursor-pointer hover:bg-gray-50 transition-colors ${m.value?.includes(f.value)?"bg-blue-50 border-blue-300":""}`,children:[r.jsx("input",{type:"checkbox",className:"hidden",value:f.value,checked:m.value?.includes(f.value),onChange:g=>{const p=g.target.checked?[...m.value||[],f.value]:m.value?.filter(y=>y!==f.value);m.onChange(p)}}),r.jsx("span",{children:f.label})]},f.value))})}),d.operatingHours?.workingDays&&r.jsx("p",{className:"text-sm text-red-600 mt-1",children:d.operatingHours.workingDays.message})]}),r.jsxs("div",{className:"border-t pt-4 mt-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Delivery Slots Assignment"}),r.jsx(Pb,{name:"assignAllSlots",control:l,render:({field:m})=>r.jsxs("div",{className:"flex gap-4 mb-3",children:[r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"radio",checked:m.value===!0,onChange:()=>{m.onChange(!0),u("deliverySlots",[])},className:"rounded-full border-gray-300"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Assign All Slots"})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"radio",checked:m.value===!1,onChange:()=>m.onChange(!1),className:"rounded-full border-gray-300"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Partially Select Slots"})]})]})}),r.jsx(Pb,{name:"deliverySlots",control:l,render:({field:m})=>r.jsxs(r.Fragment,{children:[o("assignAllSlots")===!1&&r.jsxs("div",{className:"bg-white border rounded-lg p-3 mt-3",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Select specific delivery time slots:"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:[{id:"6-9",label:"6 AM - 9 AM",value:"06:00-09:00"},{id:"9-12",label:"9 AM - 12 PM",value:"09:00-12:00"},{id:"12-15",label:"12 PM - 3 PM",value:"12:00-15:00"},{id:"15-18",label:"3 PM - 6 PM",value:"15:00-18:00"},{id:"18-21",label:"6 PM - 9 PM",value:"18:00-21:00"},{id:"21-24",label:"9 PM - 12 AM",value:"21:00-24:00"}].map(f=>r.jsxs("label",{className:"flex items-center gap-2 p-2 border rounded hover:bg-gray-50 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:m.value?.includes(f.value)||!1,onChange:g=>{const p=m.value||[];g.target.checked?m.onChange([...p,f.value]):m.onChange(p.filter(y=>y!==f.value))},className:"rounded border-gray-300"}),r.jsx("span",{className:"text-sm",children:f.label})]},f.id))}),m.value&&m.value.length>0&&r.jsxs("p",{className:"text-xs text-green-600 mt-2",children:[" ",m.value.length," slot(s) selected"]})]}),o("assignAllSlots")===!0&&r.jsx("p",{className:"text-xs text-blue-600 mt-2",children:" All delivery slots will be available (6 AM - 12 AM)"})]})})]})]}),r.jsxs("fieldset",{className:"border rounded-lg p-4 bg-yellow-50",children:[r.jsx("legend",{className:"text-sm font-medium px-2",children:"Capacity & Resources"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(he,{label:"Storage Capacity (units)",type:"number",...n("capacity.storage",{valueAsNumber:!0}),error:d.capacity?.storage?.message,placeholder:"1000"}),r.jsx(he,{label:"Daily Orders Capacity",type:"number",...n("capacity.dailyOrders",{valueAsNumber:!0}),error:d.capacity?.dailyOrders?.message,placeholder:"200"}),r.jsx(he,{label:"Staff Count",type:"number",...n("capacity.staff",{valueAsNumber:!0}),error:d.capacity?.staff?.message,placeholder:"8"})]})]}),r.jsxs("fieldset",{className:"border rounded-lg p-4 bg-gray-50",children:[r.jsx("legend",{className:"text-sm font-medium px-2",children:"Configuration"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(he,{label:"Connected Hub ID",...n("hubId"),error:d.hubId?.message,placeholder:"HUB-XXX-001"}),r.jsx(he,{label:"Delivery Radius (km)",type:"number",...n("deliveryRadius",{valueAsNumber:!0}),error:d.deliveryRadius?.message,placeholder:"5"})]}),r.jsx(Pb,{name:"isActive",control:l,render:({field:m})=>r.jsx(Up,{label:"Store is active",checked:m.value,onChange:m.onChange})})]}),r.jsxs("div",{className:"flex gap-4 pt-4 border-t",children:[r.jsx(ce,{type:"button",variant:"secondary",onClick:t,className:"flex-1",disabled:s,children:"Cancel"}),r.jsx(ce,{type:"submit",className:"flex-1",disabled:s,children:s?"Saving...":a?.id?"Save Changes":"Create Store"})]})]})}const xm=({icon:e,label:t,children:s})=>r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"text-gray-500 mt-1",children:e}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:t}),r.jsx("p",{className:"font-medium text-gray-800",children:s})]})]});function RSe({store:e}){const t=a=>{switch(a){case"retail":return"bg-green-100 text-green-800";case"warehouse":return"bg-blue-100 text-blue-800";case"pickup_point":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},s=a=>{switch(a){case"retail":return"";case"warehouse":return"";case"pickup_point":return"";default:return""}};return r.jsxs("div",{className:"space-y-6 p-2",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:e.name}),r.jsx("p",{className:"text-sm text-gray-500 font-mono",children:e.code})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs(at,{className:`${t(e.storeType)} capitalize`,children:[s(e.storeType)," ",e.storeType.replace("_"," ")]}),r.jsxs(at,{variant:Qn(e.isActive?"active":"inactive"),className:"flex items-center gap-1",children:[e.isActive?r.jsx(Cr,{className:"h-3 w-3"}):r.jsx(uh,{className:"h-3 w-3"}),e.isActive?"Active":"Inactive"]})]})]}),e.description&&r.jsx("p",{className:"text-gray-700",children:e.description}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 border-t pt-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs(xm,{icon:r.jsx(qs,{size:16}),label:"Address",children:[e.address.street,", ",e.address.city,", ",e.address.state," - ",e.address.pincode]}),r.jsx(xm,{icon:r.jsx(su,{size:16}),label:"Contact Phone",children:e.contactInfo.phone}),r.jsx(xm,{icon:r.jsx(Dm,{size:16}),label:"Contact Email",children:e.contactInfo.email}),r.jsx(xm,{icon:r.jsx(Mr,{size:16}),label:"Manager",children:e.contactInfo.manager})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs(xm,{icon:r.jsx(wr,{size:16}),label:"Operating Hours",children:[e.operatingHours.open," - ",e.operatingHours.close]}),r.jsx(xm,{icon:r.jsx(Mr,{size:16}),label:"Working Days",children:r.jsx("div",{className:"flex flex-wrap gap-1",children:e.operatingHours.workingDays.map(a=>r.jsx(at,{variant:"secondary",children:a},a))})}),r.jsxs(xm,{icon:r.jsx(Pt,{size:16}),label:"Capacity",children:["Storage: ",e.capacity.storage," units | Daily Orders: ",e.capacity.dailyOrders," | Staff: ",e.capacity.staff]}),r.jsxs(xm,{icon:r.jsx(qm,{size:16}),label:"Connected Hub",children:["Hub ID: ",e.hubId]})]})]}),r.jsx("div",{className:"border-t pt-4 text-sm text-gray-500",children:r.jsxs("p",{children:["Created by: ",e.createdBy," on ",new Date(e.createdAt).toLocaleDateString()]})})]})}const MSe=[{id:"1",name:"T. Nagar Store",code:"STR-CHN-001",description:"Premium retail store in T. Nagar",storeType:"retail",address:{street:"789 Pondy Bazaar",city:"Chennai",state:"Tamil Nadu",pincode:"600017",country:"India"},location:{latitude:13.0418,longitude:80.2341},contactInfo:{phone:"+91 9876543220",email:"tnagar.store@fishapp.com",manager:"Meera Krishnan"},operatingHours:{open:"08:00",close:"21:00",workingDays:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"]},capacity:{storage:1e3,dailyOrders:200,staff:8},hubId:"1",deliveryRadius:5,isActive:!0,createdBy:"Admin",createdAt:"2024-01-01"}];function LSe({stores:e}){const t=e.filter(n=>n.isActive).length,s=e.reduce((n,i)=>n+i.capacity.storage,0),a=e.reduce((n,i)=>n+i.capacity.staff,0);return r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 mb-4 sm:mb-6",children:[r.jsx(ae,{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[r.jsx("div",{className:"p-1.5 sm:p-2 bg-green-100 rounded-lg",children:r.jsx(Zn,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Total Stores"}),r.jsx("p",{className:"text-lg sm:text-xl font-bold",children:e.length})]})]})}),r.jsx(ae,{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[r.jsx("div",{className:"p-1.5 sm:p-2 bg-blue-100 rounded-lg",children:r.jsx(Pt,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Active Stores"}),r.jsx("p",{className:"text-lg sm:text-xl font-bold",children:t})]})]})}),r.jsx(ae,{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[r.jsx("div",{className:"p-1.5 sm:p-2 bg-purple-100 rounded-lg",children:r.jsx(Mr,{className:"h-4 w-4 sm:h-5 sm:w-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Total Staff"}),r.jsx("p",{className:"text-lg sm:text-xl font-bold",children:a})]})]})}),r.jsx(ae,{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[r.jsx("div",{className:"p-1.5 sm:p-2 bg-orange-100 rounded-lg",children:r.jsx(Pt,{className:"h-4 w-4 sm:h-5 sm:w-5 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Total Capacity"}),r.jsx("p",{className:"text-lg sm:text-xl font-bold",children:s.toLocaleString()})]})]})})]})}function ISe({store:e,onView:t,onEdit:s,onDelete:a}){const n=l=>{switch(l){case"retail":return"bg-green-100 text-green-800";case"warehouse":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},i=l=>{switch(l){case"retail":return"";case"warehouse":return"";default:return""}};return r.jsxs("div",{className:"flex items-center p-4 border-b hover:bg-gray-50",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-semibold truncate",children:e.name}),r.jsx("p",{className:"text-sm text-gray-500 font-mono",children:e.code})]}),r.jsx("div",{className:"w-40 text-center",children:r.jsxs(at,{className:`${n(e.storeType)} capitalize`,children:[i(e.storeType)," ",e.storeType.replace("_"," ")]})}),r.jsx("div",{className:"flex-1 min-w-0",children:r.jsxs("p",{className:"text-sm truncate",children:[e.address.city,", ",e.address.state]})}),r.jsx("div",{className:"w-28 text-center",children:r.jsx(at,{variant:Qn(e.isActive?"active":"inactive"),children:e.isActive?"Active":"Inactive"})}),r.jsxs("div",{className:"flex items-center justify-end gap-2 w-32",children:[r.jsx(ce,{variant:"ghost",size:"sm",onClick:t,children:r.jsx(Fr,{className:"h-4 w-4"})}),r.jsx(ce,{variant:"ghost",size:"sm",onClick:s,children:r.jsx(vs,{className:"h-4 w-4"})}),r.jsx(ce,{variant:"ghost",size:"sm",onClick:a,className:"text-red-600",children:r.jsx(Sr,{className:"h-4 w-4"})})]})]})}function FSe(){const{user:e}=os(),[t,s]=_.useState(MSe),[a,n]=_.useState(""),[i,l]=_.useState(""),[o,u]=_.useState(""),[d,m]=_.useState(!1),[f,g]=_.useState(!1),[p,y]=_.useState(!1),[v,j]=_.useState(),N=t.filter(R=>(R.name.toLowerCase().includes(a.toLowerCase())||R.code.toLowerCase().includes(a.toLowerCase()))&&(!i||(i==="active"?R.isActive:!R.isActive))&&(!o||R.storeType===o)),k=R=>{if(v)s(D=>D.map(B=>B.id===v.id?{...B,...R,id:B.id}:B));else{const D={...R,id:Date.now().toString(),createdBy:e?.name||"Admin",createdAt:new Date().toISOString()};s(B=>[...B,D])}m(!1),j(void 0)},w=R=>{j(R),m(!0)},A=R=>{j(R),g(!0)},C=R=>{j(R),y(!0)},M=()=>{v&&s(R=>R.filter(D=>D.id!==v.id)),y(!1),j(void 0)};return r.jsxs("div",{className:"space-y-4 sm:space-y-6 p-4 sm:p-6",children:[r.jsx(vc,{title:"Store Management",description:"Manage retail stores, warehouses, and pickup points",actions:r.jsxs(ce,{onClick:()=>{j(void 0),m(!0)},className:"w-full sm:w-auto text-sm",children:[r.jsx(hr,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4"}),"Add Store"]})}),r.jsx(LSe,{stores:t}),r.jsx(ae,{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Mn,{className:"absolute left-3 top-1/2 h-3 w-3 sm:h-4 sm:w-4 -translate-y-1/2 text-gray-400"}),r.jsx(he,{placeholder:"Search stores by name or code...",value:a,onChange:R=>n(R.target.value),className:"pl-8 sm:pl-10 text-sm"})]}),r.jsxs("div",{className:"flex gap-2 sm:gap-4",children:[r.jsx(Dt,{value:i,onChange:R=>l(R.target.value),options:[{value:"",label:"All Status"},{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}],className:"flex-1 sm:flex-none text-sm"}),r.jsx(Dt,{value:o,onChange:R=>u(R.target.value),options:[{value:"",label:"All Types"},{value:"retail",label:"Retail Store"},{value:"warehouse",label:"Warehouse"}],className:"flex-1 sm:flex-none text-sm"})]})]})}),r.jsx("div",{className:"space-y-4",children:N.length>0?r.jsxs(r.Fragment,{children:[r.jsxs(ae,{className:"hidden lg:block",children:[r.jsxs("div",{className:"flex items-center p-4 border-b bg-gray-50 rounded-t-lg font-semibold text-sm text-gray-600",children:[r.jsx("div",{className:"flex-1 min-w-0",children:"Store"}),r.jsx("div",{className:"w-40 text-center",children:"Type"}),r.jsx("div",{className:"flex-1 min-w-0",children:"Location"}),r.jsx("div",{className:"w-28 text-center",children:"Status"}),r.jsx("div",{className:"w-32 text-right",children:"Actions"})]}),r.jsx("div",{children:N.map(R=>r.jsx(ISe,{store:R,onView:()=>A(R),onEdit:()=>w(R),onDelete:()=>C(R)},R.id))})]}),r.jsx("div",{className:"lg:hidden space-y-4",children:N.map(R=>r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-800",children:R.name}),r.jsx("p",{className:"text-sm text-gray-500 font-mono",children:R.code})]}),r.jsx(at,{variant:Qn(R.isActive?"active":"inactive"),children:R.isActive?"Active":"Inactive"})]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Type:"}),r.jsxs(at,{className:`${R.storeType==="retail"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"} capitalize`,children:[R.storeType==="retail"?"":""," ",R.storeType.replace("_"," ")]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Manager:"}),r.jsx("span",{className:"text-gray-800",children:R.contactInfo.manager})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Location:"}),r.jsxs("span",{className:"text-gray-800",children:[R.address.city,", ",R.address.state]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Capacity:"}),r.jsx("span",{className:"text-gray-800",children:R.capacity.storage.toLocaleString()})]})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-2 border-t border-gray-100",children:[r.jsx("button",{onClick:()=>A(R),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"View Details",children:r.jsx(Fr,{className:"h-4 w-4 text-gray-600"})}),r.jsx("button",{onClick:()=>w(R),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Edit Store",children:r.jsx(vs,{className:"h-4 w-4 text-gray-600"})}),r.jsx("button",{onClick:()=>C(R),className:"p-2 hover:bg-red-100 rounded-lg transition-colors",title:"Delete Store",children:r.jsx(Sr,{className:"h-4 w-4 text-red-600"})})]})]})},R.id))})]}):r.jsxs(ae,{className:"p-8 sm:p-12 text-center",children:[r.jsx(Zn,{className:"h-10 w-10 sm:h-12 sm:w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-900 mb-2",children:"No stores found"}),r.jsx("p",{className:"text-sm sm:text-base text-gray-500",children:"Your search criteria did not match any stores."})]})}),r.jsx(wP,{isOpen:d,onClose:()=>{m(!1),j(void 0)},title:v?"Edit Store":"Add New Store",size:"2xl",children:r.jsx(DSe,{onSubmit:k,onCancel:()=>{m(!1),j(void 0)},initialData:v})}),v&&r.jsx(wP,{isOpen:f,onClose:()=>{g(!1),j(void 0)},title:"Store Details",size:"2xl",children:r.jsx("div",{className:"p-2",children:r.jsx(RSe,{store:v})})}),v&&r.jsx(Vse,{isOpen:p,onClose:()=>y(!1),onConfirm:M,title:"Delete Store",message:`Are you sure you want to delete "${v.name}"?`})]})}const lL=[{id:"activate",label:"Activate Members",icon:Mr,variant:"success",requiresConfirmation:!0,confirmationMessage:"Are you sure you want to activate the selected team members?"},{id:"deactivate",label:"Deactivate Members",icon:Mr,variant:"warning",requiresConfirmation:!0,confirmationMessage:"Are you sure you want to deactivate the selected team members?"},{id:"delete",label:"Delete Members",icon:Sr,variant:"danger",requiresConfirmation:!0,confirmationMessage:"Are you sure you want to delete the selected team members? This action cannot be undone."}],BSe=e=>e.includes("admin")?Fi:e.includes("procurement")||e.includes("packing")?Pt:(e.includes("delivery"),Mr),USe=e=>e==="hub"?eo:Pt;function zSe({members:e,onView:t,onEdit:s,onDelete:a,onBulkAction:n}){const[i,l]=_.useState(""),[o,u]=_.useState(""),[d,m]=_.useState(""),[f,g]=_.useState({isOpen:!1,actionId:"",actionType:""}),p=e.filter(R=>{const D=!i||R.name.toLowerCase().includes(i.toLowerCase())||R.email.toLowerCase().includes(i.toLowerCase())||R.phone.includes(i),B=!o||o==="active"&&R.isActive||o==="inactive"&&!R.isActive,z=!d||R.role.includes(d);return D&&B&&z}),{selectedItems:y,selectAll:v,deselectAll:j,toggleItem:N,isSelected:k}=Rx(p),w=y.length===p.length&&p.length>0,A=y.length>0&&y.length<p.length,C=R=>{const D=lL.find(B=>B.id===R);D?.requiresConfirmation?g({isOpen:!0,actionId:R,actionType:D.variant||"default"}):n?.(R,y)},M=async R=>{n&&(await n(f.actionId,y,R),j()),g({isOpen:!1,actionId:"",actionType:""})};return r.jsxs("div",{className:"space-y-4",children:[r.jsx(Px,{searchValue:i,onSearchChange:l,placeholder:"Search team members...",filters:[{key:"status",label:"Status",value:o,onChange:u,options:[{value:"",label:"All Status"},{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}]},{key:"role",label:"Role",value:d,onChange:m,options:[{value:"",label:"All Roles"},{value:"admin",label:"Admin"},{value:"procurement",label:"Procurement"},{value:"packing",label:"Packing"},{value:"delivery",label:"Delivery"}]}]}),y.length>0&&r.jsx(Dx,{selectedItems:y,totalItems:p.length,onSelectAll:v,onDeselectAll:j,actions:lL,onAction:C,itemName:"team members"}),r.jsxs(ae,{className:"p-0 overflow-hidden",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(Lx,{children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx(Vr,{className:"w-12",children:r.jsx("button",{onClick:w?j:v,className:`p-1 rounded transition-colors ${w?"text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:w?r.jsx(Fo,{className:"h-4 w-4"}):A?r.jsx(bd,{className:"h-4 w-4"}):r.jsx(Bo,{className:"h-4 w-4"})})}),r.jsx(Vr,{children:"Member"}),r.jsx(Vr,{children:"Contact"}),r.jsx(Vr,{children:"Role & Department"}),r.jsx(Vr,{children:"Module"}),r.jsx(Vr,{children:"Status"}),r.jsx(Vr,{children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:p.map(R=>{const D=BSe(R.role),B=USe(R.moduleType);return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx(Wr,{children:r.jsx("button",{onClick:()=>N(R.id),className:`p-1 rounded transition-colors ${k(R.id)?"text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:k(R.id)?r.jsx(Fo,{className:"h-4 w-4"}):r.jsx(Bo,{className:"h-4 w-4"})})}),r.jsx(Wr,{children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-gray-100 rounded-full",children:r.jsx(D,{className:"h-4 w-4 text-gray-600"})}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium block",children:R.name}),r.jsx("span",{className:"text-sm text-gray-500",children:R.department})]})]})}),r.jsx(Wr,{children:r.jsxs("div",{children:[r.jsx("div",{className:"text-sm",children:R.email}),r.jsx("div",{className:"text-sm text-gray-500",children:R.phone})]})}),r.jsx(Wr,{children:r.jsxs("div",{className:"space-y-1",children:[r.jsx(at,{variant:"bg-blue-100 text-blue-800",children:R.role.replace(/_/g," ").replace(/\b\w/g,z=>z.toUpperCase())}),r.jsx("div",{className:"text-xs text-gray-500",children:R.department})]})}),r.jsx(Wr,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(B,{className:"h-4 w-4 text-gray-500"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium capitalize",children:R.moduleType}),r.jsx("div",{className:"text-xs text-gray-500",children:R.hubId?`Hub ${R.hubId.split("_")[1]}`:`Store ${R.storeId?.split("_")[1]}`})]})]})}),r.jsx(Wr,{children:r.jsx(at,{variant:R.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:R.isActive?"Active":"Inactive"})}),r.jsx(Wr,{children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx("button",{onClick:()=>t?.(R),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"View Details",children:r.jsx(Fr,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>s?.(R),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Edit",children:r.jsx(vs,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>a?.(R),className:"p-2 hover:bg-red-50 rounded-lg transition-colors text-red-600",title:"Delete",children:r.jsx(Sr,{className:"h-4 w-4"})})]})})]},R.id)})})]})}),p.length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Mr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No team members found"}),r.jsx("p",{className:"text-gray-500 mb-4",children:"Try adjusting your search or filters"})]})]}),r.jsx(Mx,{isOpen:f.isOpen,onClose:()=>g({isOpen:!1,actionId:"",actionType:""}),onConfirm:M,title:`Bulk Action: ${f.actionId}`,actionType:f.actionType,selectedCount:y.length,itemName:"team members"})]})}function $Se({onSubmit:e,onCancel:t,initialData:s}){const[a,n]=_.useState({name:s?.name||"",phone:s?.phone||"",email:s?.email||"",address:s?.address||"",vehicleNo:s?.vehicleNo||"",vehicleType:s?.vehicleType||"bike",agentType:s?.agentType||"employee",monthlySalary:s?.monthlySalary||"",drivingLicenseNo:s?.drivingLicenseNo||"",licenseExpiryDate:s?.licenseExpiryDate||"",emergencyContact:s?.emergencyContact||"",emergencyContactName:s?.emergencyContactName||""}),[i,l]=_.useState(null),[o,u]=_.useState(null),d=f=>{if(f.preventDefault(),!s&&(!i||!o)){alert("Please upload both Driving License and ID Proof documents");return}e({...a,licenseDoc:i,proofDoc:o})},m=(f,g)=>{if(f.target.files?.[0]){const p=f.target.files[0];if(p.size>5*1024*1024){alert("File size must be less than 5MB"),f.target.value="";return}g==="license"?l(p):u(p)}};return r.jsxs("form",{onSubmit:d,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Personal Information"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Full Name *"}),r.jsx("input",{type:"text",required:!0,value:a.name,onChange:f=>n({...a,name:f.target.value}),className:"w-full px-3 py-2 border rounded-lg",placeholder:"Enter full name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone *"}),r.jsx("input",{type:"tel",required:!0,value:a.phone,onChange:f=>n({...a,phone:f.target.value}),className:"w-full px-3 py-2 border rounded-lg",placeholder:"+91 9876543210"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),r.jsx("input",{type:"email",value:a.email,onChange:f=>n({...a,email:f.target.value}),className:"w-full px-3 py-2 border rounded-lg",placeholder:"agent@example.com"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Address *"}),r.jsx("input",{type:"text",required:!0,value:a.address,onChange:f=>n({...a,address:f.target.value}),className:"w-full px-3 py-2 border rounded-lg",placeholder:"Enter address"})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Agent Type & Compensation"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Agent Type *"}),r.jsxs("select",{required:!0,value:a.agentType,onChange:f=>n({...a,agentType:f.target.value}),className:"w-full px-3 py-2 border rounded-lg",children:[r.jsx("option",{value:"employee",children:"Employee (Fixed Salary)"}),r.jsx("option",{value:"partner",children:"Partner (Per Order)"})]})]}),a.agentType==="employee"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Monthly Salary () *"}),r.jsx("input",{type:"number",required:!0,value:a.monthlySalary,onChange:f=>n({...a,monthlySalary:f.target.value}),className:"w-full px-3 py-2 border rounded-lg",placeholder:"Enter salary"})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Emergency Contact"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Contact Name *"}),r.jsx("input",{type:"text",required:!0,value:a.emergencyContactName,onChange:f=>n({...a,emergencyContactName:f.target.value}),className:"w-full px-3 py-2 border rounded-lg",placeholder:"Emergency contact"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Contact Number *"}),r.jsx("input",{type:"tel",required:!0,value:a.emergencyContact,onChange:f=>n({...a,emergencyContact:f.target.value}),className:"w-full px-3 py-2 border rounded-lg",placeholder:"+91 9876543210"})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Vehicle Information"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Vehicle Number *"}),r.jsx("input",{type:"text",required:!0,value:a.vehicleNo,onChange:f=>n({...a,vehicleNo:f.target.value}),className:"w-full px-3 py-2 border rounded-lg",placeholder:"TN 01 AB 1234"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Vehicle Type *"}),r.jsxs("select",{required:!0,value:a.vehicleType,onChange:f=>n({...a,vehicleType:f.target.value}),className:"w-full px-3 py-2 border rounded-lg",children:[r.jsx("option",{value:"bike",children:"Bike"}),r.jsx("option",{value:"auto",children:"Auto"}),r.jsx("option",{value:"van",children:"Van"})]})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"License Information"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"License Number *"}),r.jsx("input",{type:"text",required:!0,value:a.drivingLicenseNo,onChange:f=>n({...a,drivingLicenseNo:f.target.value}),className:"w-full px-3 py-2 border rounded-lg",placeholder:"DL-1234567890"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Expiry Date *"}),r.jsx("input",{type:"date",required:!0,value:a.licenseExpiryDate,onChange:f=>n({...a,licenseExpiryDate:f.target.value}),className:"w-full px-3 py-2 border rounded-lg"})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Document Uploads"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"License Document *"}),r.jsx("div",{className:`border-2 border-dashed rounded-lg p-4 ${i?"border-green-300 bg-green-50":"border-gray-300"}`,children:i?r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ro,{className:"h-5 w-5 text-green-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium truncate",children:i.name}),r.jsxs("p",{className:"text-xs text-gray-500",children:[(i.size/1024).toFixed(2)," KB"]})]})]}),r.jsx("button",{type:"button",onClick:()=>l(null),className:"text-red-600",children:r.jsx(ws,{className:"h-5 w-5"})})]}):r.jsxs("label",{className:"flex flex-col items-center cursor-pointer",children:[r.jsx(Ro,{className:"h-8 w-8 text-gray-400 mb-2"}),r.jsx("span",{className:"text-sm",children:"Upload License"}),r.jsx("span",{className:"text-xs text-gray-500",children:"Max 5MB"}),r.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:f=>m(f,"license"),className:"hidden"})]})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"ID Proof *"}),r.jsx("div",{className:`border-2 border-dashed rounded-lg p-4 ${o?"border-green-300 bg-green-50":"border-gray-300"}`,children:o?r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ro,{className:"h-5 w-5 text-green-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium truncate",children:o.name}),r.jsxs("p",{className:"text-xs text-gray-500",children:[(o.size/1024).toFixed(2)," KB"]})]})]}),r.jsx("button",{type:"button",onClick:()=>u(null),className:"text-red-600",children:r.jsx(ws,{className:"h-5 w-5"})})]}):r.jsxs("label",{className:"flex flex-col items-center cursor-pointer",children:[r.jsx(Ro,{className:"h-8 w-8 text-gray-400 mb-2"}),r.jsx("span",{className:"text-sm",children:"Upload ID Proof"}),r.jsx("span",{className:"text-xs text-gray-500",children:"Max 5MB"}),r.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:f=>m(f,"proof"),className:"hidden"})]})})]})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[r.jsxs(ce,{type:"submit",className:"flex-1",children:[s?"Update":"Create"," Agent"]}),r.jsx(ce,{type:"button",variant:"secondary",onClick:t,className:"flex-1",children:"Cancel"})]})]})}function HSe({agents:e,orders:t,onAssign:s,onCancel:a}){const[n,i]=_.useState(""),[l,o]=_.useState([]),u=p=>{o(y=>y.includes(p)?y.filter(v=>v!==p):[...y,p])},d=()=>{n&&l.length>0&&s(n,l)},m=e.filter(p=>p.status==="available"||p.status==="delivering"),f=_.useMemo(()=>m.find(p=>p.id===n),[n,m]),g=_.useMemo(()=>{if(!f||f.agentType!=="partner")return null;const p=f.pricePerOrder||50,y=p*l.length;return{pricePerOrder:p,totalAmount:y}},[f,l.length]);return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Delivery Agent"}),r.jsxs("select",{value:n,onChange:p=>i(p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[r.jsx("option",{value:"",children:"Choose an agent..."}),m.map(p=>r.jsxs("option",{value:p.id,children:[p.name," - ",p.vehicleType," (",p.currentOrders," orders) - ",p.agentType==="partner"?" Partner":" Employee"]},p.id))]})]}),g&&r.jsx(ae,{className:"p-3 bg-orange-50 border-orange-200",children:r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-700",children:"Partner Pricing:"}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-gray-600",children:["",g.pricePerOrder,"  ",l.length," orders"]}),r.jsxs("div",{className:"text-orange-600 font-semibold",children:["Total: ",g.totalAmount]})]})]})}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select Orders (",l.length," selected)"]}),r.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:t.map(p=>r.jsx(ae,{className:`p-3 cursor-pointer transition-colors ${l.includes(p.id)?"bg-blue-50 border-blue-300":""}`,onClick:()=>u(p.id),children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"pt-1",children:l.includes(p.id)?r.jsx(Fo,{className:"h-5 w-5 text-blue-600"}):r.jsx(Bo,{className:"h-5 w-5 text-gray-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("span",{className:"font-semibold text-gray-900",children:p.id}),r.jsxs("span",{className:"text-green-600 font-semibold",children:["",p.orderValue]})]}),r.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(il,{className:"h-4 w-4"}),r.jsx("span",{children:p.customerName})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(qs,{className:"h-4 w-4"}),r.jsx("span",{className:"truncate",children:p.deliveryAddress})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(wr,{className:"h-4 w-4"}),r.jsxs("span",{children:["ETA: ",p.estimatedTime]})]})]})]})]})},p.id))})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[r.jsxs(ce,{onClick:d,disabled:!n||l.length===0,className:"flex-1",children:[r.jsx(Pt,{className:"h-5 w-5 mr-2"}),"Assign ",l.length," Orders"]}),r.jsx(ce,{variant:"secondary",onClick:a,className:"flex-1",children:"Cancel"})]})]})}function qSe({batches:e}){return r.jsxs("div",{className:"space-y-4",children:[e.map(t=>r.jsxs(ae,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4 pb-3 border-b",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:t.agentName}),r.jsx(at,{variant:t.agentType==="employee"?"bg-purple-100 text-purple-800":"bg-orange-100 text-orange-800",children:t.agentType==="employee"?" Employee":" Partner"})]}),r.jsx("p",{className:"text-sm text-gray-600",children:t.agentPhone})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Order Value"}),r.jsxs("p",{className:"text-lg font-bold text-green-600",children:["",t.totalValue.toLocaleString()]}),t.agentType==="partner"&&t.partnerPricing&&r.jsxs("div",{className:"mt-2 pt-2 border-t",children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Delivery Charges"}),r.jsxs("p",{className:"text-sm font-semibold text-orange-600",children:["",t.partnerPricing.totalAmount.toLocaleString()]}),r.jsxs("p",{className:"text-xs text-gray-500",children:["(",t.partnerPricing.pricePerOrder,"  ",t.orders.length," orders)"]}),r.jsx(at,{variant:t.partnerPricing.paymentStatus==="paid"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800",className:"mt-1",children:t.partnerPricing.paymentStatus==="paid"?" Paid":" Pending"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[t.orders.length," Orders"]}),r.jsxs("span",{className:"text-xs text-gray-500",children:["Assigned: ",t.assignedAt]})]}),t.orders.map(s=>r.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"font-medium text-gray-900",children:s.id}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(at,{variant:"bg-blue-100 text-blue-800",children:s.status}),r.jsxs("span",{className:"text-green-600 font-semibold",children:["",s.orderValue]})]})]}),r.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(il,{className:"h-4 w-4"}),r.jsx("span",{children:s.customerName})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(qs,{className:"h-4 w-4"}),r.jsx("span",{className:"truncate",children:s.deliveryAddress})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(wr,{className:"h-4 w-4"}),r.jsxs("span",{children:["ETA: ",s.estimatedTime]})]})]})]},s.id))]})]},t.id)),e.length===0&&r.jsxs(ae,{className:"p-12 text-center",children:[r.jsx(Pt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No batch assignments"}),r.jsx("p",{className:"text-gray-500",children:"Assign orders to delivery agents to see them here"})]})]})}const VSe=[{id:"1",senderId:"admin-1",senderName:"Admin",senderType:"admin",message:"Hi, are you available for deliveries today?",timestamp:"10:30 AM",read:!0},{id:"2",senderId:"agent-1",senderName:"Murugan K",senderType:"agent",message:"Yes sir, I am ready",timestamp:"10:32 AM",read:!0},{id:"3",senderId:"admin-1",senderName:"Admin",senderType:"admin",message:"Great! I have assigned 3 orders to you. Check the batch orders section.",timestamp:"10:35 AM",read:!0},{id:"4",senderId:"agent-1",senderName:"Murugan K",senderType:"agent",message:"Received. Starting delivery now.",timestamp:"10:40 AM",read:!0}];function WSe({agentName:e,onClose:t}){const[s,a]=_.useState(VSe),[n,i]=_.useState(""),l=_.useRef(null),o=()=>{l.current?.scrollIntoView({behavior:"smooth"})};_.useEffect(()=>{o()},[s]);const u=()=>{if(!n.trim())return;const d={id:Date.now().toString(),senderId:"admin-1",senderName:"Admin",senderType:"admin",message:n,timestamp:new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),read:!1};a([...s,d]),i("")};return r.jsxs("div",{className:"flex flex-col h-[600px]",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-blue-50",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-10 w-10 bg-blue-600 rounded-full flex items-center justify-center text-white font-bold",children:e.charAt(0)}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:e}),r.jsx("p",{className:"text-xs text-green-600",children:" Online"})]})]}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-200 rounded-lg",children:r.jsx(ws,{className:"h-5 w-5"})})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 bg-gray-50",children:[s.map(d=>r.jsx("div",{className:`flex ${d.senderType==="admin"?"justify-end":"justify-start"}`,children:r.jsxs("div",{className:`max-w-[70%] rounded-lg p-3 ${d.senderType==="admin"?"bg-blue-600 text-white":"bg-white text-gray-900 border"}`,children:[r.jsx("p",{className:"text-sm",children:d.message}),r.jsx("p",{className:`text-xs mt-1 ${d.senderType==="admin"?"text-blue-100":"text-gray-500"}`,children:d.timestamp})]})},d.id)),r.jsx("div",{ref:l})]}),r.jsx("div",{className:"p-4 border-t bg-white",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx(he,{value:n,onChange:d=>i(d.target.value),placeholder:"Type a message...",onKeyPress:d=>d.key==="Enter"&&u(),className:"flex-1"}),r.jsx(ce,{onClick:u,disabled:!n.trim(),children:r.jsx(o6,{className:"h-4 w-4"})})]})})]})}const GSe=[{id:"1",name:"Karthik Raja",email:"karthik@admin.com",phone:"+91 9876543210",department:"Operations",role:"hub_main_admin",hubId:"hub_1",moduleType:"hub",isActive:!0},{id:"2",name:"Priya Lakshmi",email:"priya@admin.com",phone:"+91 9876543211",department:"Procurement",role:"hub_procurement",hubId:"hub_1",moduleType:"hub",isActive:!0},{id:"3",name:"Ravi Kumar",email:"ravi@admin.com",phone:"+91 9876543212",department:"Packing",role:"hub_packing",hubId:"hub_1",moduleType:"hub",isActive:!0},{id:"4",name:"Suresh M",email:"suresh@admin.com",phone:"+91 9876543213",department:"Delivery",role:"hub_delivery",hubId:"hub_1",moduleType:"hub",isActive:!0},{id:"5",name:"Anitha S",email:"anitha@admin.com",phone:"+91 9876543214",department:"Operations",role:"store_main_admin",storeId:"store_1",moduleType:"store",isActive:!1},{id:"6",name:"Muthu Kumar",email:"muthu@admin.com",phone:"+91 9876543215",department:"Procurement",role:"store_procurement",storeId:"store_1",moduleType:"store",isActive:!0},{id:"7",name:"Divya R",email:"divya@admin.com",phone:"+91 9876543216",department:"Packing",role:"store_packing",storeId:"store_2",moduleType:"store",isActive:!0}],oL=[{id:"1",name:"Rajesh Kumar",email:"rajesh@email.com",phone:"+91 9876543220",totalOrders:45,totalSpent:28500,walletBalance:250,membershipPlan:"Premium",isActive:!0,createdAt:"2023-06-15"},{id:"2",name:"Priya Sharma",email:"priya.s@email.com",phone:"+91 9876543221",totalOrders:23,totalSpent:15200,walletBalance:100,isActive:!0,createdAt:"2023-08-20"},{id:"3",name:"Arun Patel",email:"arun.p@email.com",phone:"+91 9876543222",totalOrders:12,totalSpent:8900,walletBalance:0,isActive:!0,createdAt:"2023-10-05"},{id:"4",name:"Lakshmi Devi",email:"lakshmi@email.com",phone:"+91 9876543223",totalOrders:67,totalSpent:42e3,walletBalance:500,membershipPlan:"Premium",isActive:!0,createdAt:"2023-03-10"}],m3={1:[{id:"ORD-2024-045",date:"2024-02-10",items:8,amount:1250,status:"delivered",paymentMethod:"UPI"},{id:"ORD-2024-038",date:"2024-02-08",items:5,amount:850,status:"delivered",paymentMethod:"Card"},{id:"ORD-2024-029",date:"2024-02-05",items:12,amount:1890,status:"delivered",paymentMethod:"Wallet"},{id:"ORD-2024-018",date:"2024-02-01",items:6,amount:720,status:"cancelled",paymentMethod:"UPI"},{id:"ORD-2024-012",date:"2024-01-28",items:10,amount:1450,status:"delivered",paymentMethod:"Cash"}],2:[{id:"ORD-2024-042",date:"2024-02-09",items:7,amount:980,status:"delivered",paymentMethod:"Card"},{id:"ORD-2024-035",date:"2024-02-06",items:4,amount:650,status:"delivered",paymentMethod:"UPI"},{id:"ORD-2024-025",date:"2024-02-03",items:9,amount:1320,status:"in_transit",paymentMethod:"Wallet"}],3:[{id:"ORD-2024-040",date:"2024-02-09",items:5,amount:750,status:"delivered",paymentMethod:"UPI"},{id:"ORD-2024-030",date:"2024-02-05",items:3,amount:420,status:"delivered",paymentMethod:"Cash"}],4:[{id:"ORD-2024-046",date:"2024-02-11",items:15,amount:2100,status:"processing",paymentMethod:"Card"},{id:"ORD-2024-044",date:"2024-02-10",items:8,amount:1150,status:"delivered",paymentMethod:"UPI"},{id:"ORD-2024-041",date:"2024-02-09",items:11,amount:1680,status:"delivered",paymentMethod:"Wallet"},{id:"ORD-2024-036",date:"2024-02-07",items:6,amount:890,status:"delivered",paymentMethod:"Card"}]},cL=[{id:"1",name:"Murugan K",phone:"+91 9876543230",vehicleNo:"TN 01 AB 1234",vehicleType:"bike",agentType:"employee",monthlySalary:18e3,rating:4.8,deliveries:234,isActive:!0,status:"delivering",currentOrders:3,moduleType:"hub",hubId:"hub_1",currentOrder:null},{id:"2",name:"Senthil R",phone:"+91 9876543231",vehicleNo:"TN 01 CD 5678",vehicleType:"auto",agentType:"partner",pricePerOrder:50,rating:4.6,deliveries:189,isActive:!0,status:"available",currentOrders:0,moduleType:"hub",hubId:"hub_1",currentOrder:null},{id:"3",name:"Vijay M",phone:"+91 9876543232",vehicleNo:"TN 01 EF 9012",vehicleType:"van",agentType:"partner",pricePerOrder:75,rating:4.9,deliveries:312,isActive:!0,status:"delivering",currentOrders:2,moduleType:"store",storeId:"store_1",currentOrder:null},{id:"4",name:"Kumar S",phone:"+91 9876543233",vehicleNo:"TN 01 GH 3456",vehicleType:"bike",agentType:"employee",monthlySalary:16e3,rating:4.7,deliveries:156,isActive:!0,status:"available",currentOrders:0,moduleType:"store",storeId:"store_1",currentOrder:null},{id:"5",name:"Arjun P",phone:"+91 9876543234",vehicleNo:"TN 01 IJ 7890",vehicleType:"auto",agentType:"partner",pricePerOrder:60,rating:4.5,deliveries:98,isActive:!0,status:"delivering",currentOrders:1,moduleType:"store",storeId:"store_2",currentOrder:null},{id:"6",name:"Ravi T",phone:"+91 9876543235",vehicleNo:"TN 01 KL 2345",vehicleType:"bike",agentType:"employee",monthlySalary:15e3,rating:4.3,deliveries:67,isActive:!0,status:"available",currentOrders:0,moduleType:"hub",hubId:"hub_1",currentOrder:null},{id:"7",name:"Mani M",phone:"+91 9876543236",vehicleNo:"TN 01 MN 6789",vehicleType:"van",agentType:"employee",monthlySalary:2e4,rating:4.4,deliveries:145,isActive:!1,status:"offline",currentOrders:0,moduleType:"store",storeId:"store_1",currentOrder:null}],dL=[{id:"BATCH-001",agentName:"Murugan K",agentPhone:"+91 9876543230",agentType:"employee",assignedAt:"Today, 10:30 AM",totalValue:2700,orders:[{id:"ORD-091",customerName:"Amit Singh",deliveryAddress:"12 MG Road, Chennai",orderValue:900,estimatedTime:"11:00 AM",status:"delivered"},{id:"ORD-092",customerName:"Neha Gupta",deliveryAddress:"45 Park Street, Chennai",orderValue:1200,estimatedTime:"11:30 AM",status:"in_transit"},{id:"ORD-093",customerName:"Ravi Kumar",deliveryAddress:"78 Lake View, Chennai",orderValue:600,estimatedTime:"12:00 PM",status:"assigned"}]},{id:"BATCH-002",agentName:"Vijay M",agentPhone:"+91 9876543232",agentType:"partner",assignedAt:"Today, 11:00 AM",totalValue:3200,partnerPricing:{pricePerOrder:75,totalAmount:150,paymentStatus:"pending"},orders:[{id:"ORD-094",customerName:"Priya Sharma",deliveryAddress:"23 Anna Nagar, Chennai",orderValue:1500,estimatedTime:"11:30 AM",status:"in_transit"},{id:"ORD-095",customerName:"Karthik Raja",deliveryAddress:"67 T Nagar, Chennai",orderValue:1700,estimatedTime:"12:00 PM",status:"assigned"}]},{id:"BATCH-003",agentName:"Senthil R",agentPhone:"+91 9876543231",agentType:"partner",assignedAt:"Today, 9:15 AM",totalValue:4100,partnerPricing:{pricePerOrder:50,totalAmount:200,paymentStatus:"paid"},orders:[{id:"ORD-088",customerName:"Lakshmi Devi",deliveryAddress:"89 Velachery, Chennai",orderValue:1450,estimatedTime:"10:00 AM",status:"delivered"},{id:"ORD-089",customerName:"Rajesh Kumar",deliveryAddress:"34 Adyar, Chennai",orderValue:1350,estimatedTime:"10:30 AM",status:"delivered"},{id:"ORD-090",customerName:"Anitha S",deliveryAddress:"56 Mylapore, Chennai",orderValue:800,estimatedTime:"11:00 AM",status:"delivered"},{id:"ORD-096",customerName:"Suresh M",deliveryAddress:"12 Nungambakkam, Chennai",orderValue:500,estimatedTime:"11:30 AM",status:"delivered"}]}];function p1(){const{user:e}=os(),[t,s]=_.useState("team"),[a,n]=_.useState(""),[i,l]=_.useState(""),[o,u]=_.useState("all"),[d,m]=_.useState(!1),[f,g]=_.useState(!1),[p,y]=_.useState(!1),[v,j]=_.useState(!1),[N,k]=_.useState(null),[w,A]=_.useState(null),[C,M]=_.useState(null),[R,D]=_.useState(!1),[B,z]=_.useState(!1),[I,F]=_.useState(!1),[Y,te]=_.useState(!1),[ue,Z]=_.useState({name:"",email:"",phone:"",department:"",role:"",moduleType:"",location:""}),ie=ux(GSe,e),G=ux(cL,e),ee=[{id:"team",label:"Team Members",icon:Mr,count:ie.length},{id:"customers",label:"Customers",icon:VO,count:oL.length},{id:"delivery",label:"Delivery Agents",icon:zr,count:G.length}],Ne=je=>{switch(je){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},X=je=>je.includes("admin")?Fi:je.includes("procurement")||je.includes("packing")?Pt:je.includes("delivery")?zr:Mr,P=je=>{switch(je){case"delivering":return"bg-blue-100 text-blue-800";case"available":return"bg-green-100 text-green-800";case"returning":return"bg-yellow-100 text-yellow-800";case"offline":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},H=je=>{switch(je){case"delivering":return zr;case"available":return Mr;case"returning":return l4;case"offline":return wr;default:return wr}},q=je=>{je.preventDefault(),console.log("Adding member:",ue),m(!1),Z({name:"",email:"",phone:"",department:"",role:"",moduleType:"",location:""})},W=je=>{k(je),g(!0)},le=je=>{k(je),y(!0)},Se=je=>{A(je),g(!0)},Pe=je=>{A(je),y(!0)},re=je=>{M(je),g(!0)},ye=je=>{M(je),y(!0)},ze=je=>{confirm("Are you sure you want to delete this team member?")&&console.log("Delete member:",je)},Ce=async(je,Me,yt)=>{try{switch(je){case"activate":console.log(`Activating ${Me.length} team members:`,Me);break;case"deactivate":console.log(`Deactivating ${Me.length} team members:`,Me);break;case"delete":console.log(`Deleting ${Me.length} team members:`,Me);break;default:console.log(`Bulk action ${je} performed on ${Me.length} team members`,yt)}}catch(xe){console.error("Team bulk action failed:",xe),alert("Bulk action failed. Please try again.")}},it=je=>{M(je),D(!0)},rt=je=>{M(je),z(!0)},fe=je=>{je.currentOrder&&je.currentOrder.customerPhone&&window.open(`tel:${je.currentOrder.customerPhone}`,"_self")},ke=je=>{M(je),F(!0)},Ie=je=>{A(je),te(!0)};return r.jsxs("div",{className:"space-y-4 sm:space-y-6 p-4 sm:p-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-bold truncate",children:e?.loginType==="hub"?"Hub Team & User Management":e?.loginType==="store"?"Store Team & User Management":"Team & User Management"}),r.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1",children:e?.loginType==="hub"?"Manage hub team members, customers, and delivery agents":e?.loginType==="store"?"Manage store team members, customers, and delivery agents":"Manage team members, customers, and delivery agents"})]}),r.jsxs(ce,{onClick:()=>m(!0),className:"w-full sm:w-auto flex-shrink-0",children:[r.jsx(hr,{className:"mr-2 h-5 w-5"}),r.jsxs("span",{className:"hidden sm:inline",children:["Add ",t==="team"?"Team Member":t==="customers"?"Customer":"Delivery Agent"]}),r.jsxs("span",{className:"sm:hidden",children:["Add ",t==="team"?"Member":t==="customers"?"Customer":"Agent"]})]})]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:ee.map(je=>{const Me=je.icon;return r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 truncate",children:je.label}),r.jsx("p",{className:"text-xl sm:text-2xl font-bold",children:je.count})]}),r.jsx("div",{className:"p-2 sm:p-3 bg-blue-100 rounded-lg flex-shrink-0",children:r.jsx(Me,{className:"h-5 w-5 sm:h-6 sm:w-6 text-blue-600"})})]})},je.id)})}),r.jsx("div",{className:"flex gap-1 sm:gap-2 border-b overflow-x-auto",children:ee.map(je=>r.jsxs("button",{onClick:()=>s(je.id),className:`flex items-center gap-1 sm:gap-2 px-3 sm:px-4 py-2 sm:py-3 border-b-2 transition-colors whitespace-nowrap text-xs sm:text-sm ${t===je.id?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[r.jsx(je.icon,{className:"h-3 w-3 sm:h-4 sm:w-4"}),r.jsx("span",{className:"hidden sm:inline",children:je.label}),r.jsx("span",{className:"sm:hidden",children:je.label.split(" ")[0]}),r.jsx(at,{variant:"bg-gray-100 text-gray-600",className:"text-xs",children:je.count})]},je.id))}),t!=="team"&&r.jsx(ae,{className:"p-4 sm:p-6",children:r.jsxs("div",{className:"flex flex-col lg:flex-row items-stretch lg:items-center gap-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Mn,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),r.jsx(he,{placeholder:"Search...",value:a,onChange:je=>n(je.target.value),className:"pl-10 text-sm"})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[r.jsx(Dt,{value:i,onChange:je=>l(je.target.value),options:[{value:"",label:"All Status"},{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}],className:"text-sm"}),t==="delivery"&&r.jsx(Dt,{value:o,onChange:je=>u(je.target.value),options:[{value:"all",label:"All Agents"},{value:"available",label:"Available"},{value:"delivering",label:"Delivering"},{value:"offline",label:"Offline"}],className:"text-sm"})]})]})}),t==="team"&&r.jsx(zSe,{members:ie,onView:W,onEdit:le,onDelete:je=>ze(je.id),onBulkAction:Ce}),t==="customers"&&r.jsx(ae,{className:"p-0 overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(Lx,{children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx(Vr,{children:"Name"}),r.jsx(Vr,{children:"Email"}),r.jsx(Vr,{children:"Phone"}),r.jsx(Vr,{children:"Orders"}),r.jsx(Vr,{children:"Total Spent"}),r.jsx(Vr,{children:"Wallet"}),r.jsx(Vr,{children:"Membership"}),r.jsx(Vr,{children:"Status"}),r.jsx(Vr,{children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:oL.map(je=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx(Wr,{children:r.jsx("span",{className:"font-medium",children:je.name})}),r.jsx(Wr,{children:je.email}),r.jsx(Wr,{children:je.phone}),r.jsx(Wr,{children:je.totalOrders}),r.jsxs(Wr,{children:["",je.totalSpent.toLocaleString()]}),r.jsxs(Wr,{children:["",je.walletBalance]}),r.jsx(Wr,{children:je.membershipPlan?r.jsx(at,{variant:"bg-yellow-100 text-yellow-800",children:je.membershipPlan}):"-"}),r.jsx(Wr,{children:r.jsx(at,{variant:Ne(je.isActive?"active":"inactive"),children:je.isActive?"Active":"Inactive"})}),r.jsx(Wr,{children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>Ie(je),className:"p-1 hover:bg-blue-50 rounded text-blue-600",title:"Order History",children:r.jsx(i_,{className:"h-5 w-5"})}),r.jsx("button",{onClick:()=>Se(je),className:"p-1 hover:bg-gray-100 rounded",title:"View Details",children:r.jsx(Fr,{className:"h-5 w-5"})}),r.jsx("button",{onClick:()=>Pe(je),className:"p-1 hover:bg-gray-100 rounded",title:"Edit",children:r.jsx(vs,{className:"h-5 w-5"})})]})})]},je.id))})]})})}),t==="delivery"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:r.jsx(zr,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Agents"}),r.jsx("p",{className:"text-xl font-bold",children:cL.length})]})]})}),r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:r.jsx(Mr,{className:"h-5 w-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Available"}),r.jsx("p",{className:"text-xl font-bold",children:G.filter(je=>je.status==="available").length})]})]})}),r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:r.jsx(l4,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"On Delivery"}),r.jsx("p",{className:"text-xl font-bold",children:G.filter(je=>je.status==="delivering").length})]})]})}),r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:r.jsx(wr,{className:"h-5 w-5 text-yellow-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Active Orders"}),r.jsx("p",{className:"text-xl font-bold",children:G.filter(je=>je.status==="delivering").length})]})]})})]}),r.jsxs("div",{className:"flex gap-2 border-b overflow-x-auto",children:[[{id:"all",label:"All Agents",count:G.length},{id:"available",label:"Available",count:G.filter(je=>je.status==="available").length},{id:"delivering",label:"On Delivery",count:G.filter(je=>je.status==="delivering").length},{id:"offline",label:"Offline",count:G.filter(je=>je.status==="offline").length},{id:"batches",label:"Batch Orders",count:dL.length}].map(je=>r.jsxs("button",{onClick:()=>u(je.id),className:`flex items-center gap-2 px-4 py-3 border-b-2 transition-colors whitespace-nowrap ${o===je.id?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[je.label,r.jsx(at,{variant:"bg-gray-100 text-gray-600",children:je.count})]},je.id)),o!=="batches"&&r.jsxs(ce,{onClick:()=>j(!0),size:"sm",className:"ml-auto",children:[r.jsx(Pt,{className:"h-4 w-4 mr-2"}),"Assign Batch"]})]}),o==="batches"&&r.jsx(qSe,{batches:dL}),o!=="batches"&&r.jsx("div",{className:"space-y-4",children:(()=>{let je=G;return o==="available"?je=G.filter(Me=>Me.status==="available"):o==="delivering"?je=G.filter(Me=>Me.status==="delivering"):o==="offline"&&(je=G.filter(Me=>Me.status==="offline")),a&&(je=je.filter(Me=>Me.name.toLowerCase().includes(a.toLowerCase())||Me.phone.includes(a)||Me.vehicleNo.toLowerCase().includes(a.toLowerCase()))),je.map(Me=>{const yt=H(Me.status),xe=Me.currentOrder!==null;return r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"h-12 w-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold flex-shrink-0",children:Me.name.charAt(0)}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[r.jsx("h3",{className:"font-semibold text-base",children:Me.name}),r.jsxs(at,{variant:P(Me.status),className:"flex items-center gap-1 text-xs",children:[r.jsx(yt,{className:"h-3 w-3"}),Me.status.charAt(0).toUpperCase()+Me.status.slice(1)]}),r.jsx(at,{variant:Me.agentType==="employee"?"bg-purple-100 text-purple-800":"bg-orange-100 text-orange-800",children:Me.agentType==="employee"?" Employee":" Partner"}),xe&&r.jsxs(at,{variant:"bg-blue-100 text-blue-800",children:[Me.currentOrders||1," active"]})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 flex-wrap",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(su,{className:"h-3 w-3"}),Me.phone]}),r.jsxs("span",{className:"flex items-center gap-1 font-mono",children:[r.jsx(zr,{className:"h-3 w-3"}),Me.vehicleNo]}),r.jsxs("span",{className:"flex items-center gap-1",children:[" ",Me.rating," (",Me.deliveries," deliveries)"]})]})]}),r.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[r.jsx("button",{onClick:()=>ke(Me),className:"p-2 hover:bg-blue-50 rounded-lg transition-colors",title:"Chat",children:r.jsx(l6,{className:"h-5 w-5 text-blue-600"})}),r.jsx("button",{onClick:()=>re(Me),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"View Details",children:r.jsx(Fr,{className:"h-5 w-5 text-gray-600"})}),r.jsx("button",{onClick:()=>ye(Me),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Edit",children:r.jsx(vs,{className:"h-5 w-5 text-gray-600"})})]})]})},Me.id)})})()})]}),r.jsx(gr,{isOpen:d,onClose:()=>m(!1),title:`Add ${t==="team"?"Team Member":t==="customers"?"Customer":"Delivery Agent"}`,size:t==="delivery"?"xl":"md",children:t==="delivery"?r.jsx($Se,{onSubmit:je=>{console.log("Adding delivery agent:",je),m(!1)},onCancel:()=>m(!1)}):r.jsxs("form",{onSubmit:q,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(he,{label:"Full Name",placeholder:"Enter full name",value:ue.name,onChange:je=>Z({...ue,name:je.target.value}),required:!0}),r.jsx(he,{label:"Email",type:"email",placeholder:"email@example.com",value:ue.email,onChange:je=>Z({...ue,email:je.target.value}),required:!0})]}),r.jsx(he,{label:"Phone",placeholder:"+91 9876543210",value:ue.phone,onChange:je=>Z({...ue,phone:je.target.value}),required:!0}),t==="team"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(Dt,{label:"Module Type",value:ue.moduleType,onChange:je=>Z({...ue,moduleType:je.target.value}),options:[{value:"",label:"Select Module"},...e?.loginType==="super_admin"?[{value:"hub",label:"Hub (Central Warehouse)"},{value:"store",label:"Store (Retail Location)"}]:e?.loginType==="hub"?[{value:"hub",label:"Hub (Central Warehouse)"}]:e?.loginType==="store"?[{value:"store",label:"Store (Retail Location)"}]:[]],required:!0}),r.jsx(Dt,{label:"Department",value:ue.department,onChange:je=>Z({...ue,department:je.target.value}),options:[{value:"",label:"Select Department"},{value:"Operations",label:"Operations"},{value:"Procurement",label:"Procurement"},{value:"Packing",label:"Packing"},{value:"Delivery",label:"Delivery"}],required:!0})]}),r.jsx(Dt,{label:"Role",value:ue.role,onChange:je=>Z({...ue,role:je.target.value}),options:[{value:"",label:"Select Role"},...ue.moduleType==="hub"?[{value:"hub_main_admin",label:"Hub Main Admin"},{value:"hub_procurement",label:"Hub Procurement"},{value:"hub_packing",label:"Hub Packing Staff"},{value:"hub_delivery",label:"Hub Delivery Agent"}]:ue.moduleType==="store"?[{value:"store_main_admin",label:"Store Main Admin"},{value:"store_procurement",label:"Store Procurement"},{value:"store_packing",label:"Store Packing Staff"},{value:"store_delivery",label:"Store Delivery Agent"}]:[]],required:!0}),r.jsx(Dt,{label:"Assign Location",value:ue.location,onChange:je=>Z({...ue,location:je.target.value}),options:[{value:"",label:"Select Location"},...ue.moduleType==="hub"||e?.loginType==="hub"&&!ue.moduleType?[{value:"hub_1",label:"Central Hub - Chennai"},{value:"hub_2",label:"Secondary Hub - Coimbatore"}]:[],...ue.moduleType==="store"||e?.loginType==="store"&&!ue.moduleType?[{value:"store_1",label:"Store - Anna Nagar"},{value:"store_2",label:"Store - T. Nagar"},{value:"store_3",label:"Store - Velachery"}]:[]],required:!0}),r.jsxs("div",{className:"border-t pt-4 mt-4",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Password Setup"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(he,{label:"Password",type:"password",placeholder:"Enter password",required:!0}),r.jsx(he,{label:"Confirm Password",type:"password",placeholder:"Confirm password",required:!0})]})]})]}),t==="customers"&&r.jsxs(r.Fragment,{children:[r.jsx(he,{label:"Secondary Phone (Optional)",placeholder:"+91 9876543210"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(he,{label:"Wallet Balance",type:"number",placeholder:"0",defaultValue:"0"}),r.jsx(Dt,{label:"Membership Plan",options:[{value:"",label:"No Membership"},{value:"Premium",label:"Premium"},{value:"Gold",label:"Gold"},{value:"Silver",label:"Silver"}]})]}),r.jsxs("div",{className:"border-t pt-4 mt-4",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Default Address"}),r.jsx(he,{label:"Address Line 1",placeholder:"Street address, building name",required:!0}),r.jsx(he,{label:"Address Line 2 (Optional)",placeholder:"Apartment, suite, floor",className:"mt-3"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-3",children:[r.jsx(he,{label:"City",placeholder:"City",required:!0}),r.jsx(he,{label:"State",placeholder:"State",required:!0}),r.jsx(he,{label:"Pincode",placeholder:"600001",required:!0})]}),r.jsx(Dt,{label:"Address Type",options:[{value:"home",label:"Home"},{value:"work",label:"Work"},{value:"other",label:"Other"}],defaultValue:"home",className:"mt-3",required:!0})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded border-gray-300"}),r.jsx("span",{className:"text-sm",children:"Active Customer"})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[r.jsx(ce,{type:"button",variant:"secondary",onClick:()=>m(!1),className:"flex-1",children:"Cancel"}),r.jsxs(ce,{type:"submit",className:"flex-1",children:["Add ",t==="team"?"Team Member":t==="customers"?"Customer":"Delivery Agent"]})]})]})}),r.jsxs(gr,{isOpen:f,onClose:()=>{g(!1),k(null),A(null),M(null)},title:`${t==="team"?"Team Member":t==="customers"?"Customer":"Delivery Agent"} Details`,size:"lg",children:[N&&t==="team"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-4 bg-blue-100 rounded-full",children:(()=>{const je=X(N.role);return r.jsx(je,{className:"h-8 w-8 text-blue-600"})})()}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:N.name}),r.jsx("p",{className:"text-gray-600",children:N.department}),r.jsx(at,{variant:N.isActive?"success":"secondary",children:N.isActive?"Active":"Inactive"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Contact Information"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Email:"}),r.jsx("span",{children:N.email})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Phone:"}),r.jsx("span",{children:N.phone})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Role & Assignment"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Role:"}),r.jsx(at,{variant:"info",children:N.role.replace(/_/g," ").replace(/\b\w/g,je=>je.toUpperCase())})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Module:"}),r.jsx("span",{className:"capitalize",children:N.moduleType})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Location:"}),r.jsx("span",{children:N.hubId?`Hub ${N.hubId.split("_")[1]}`:`Store ${N.storeId?.split("_")[1]}`})]})]})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[r.jsx(ce,{variant:"secondary",onClick:()=>{g(!1),k(null)},className:"flex-1",children:"Close"}),r.jsx(ce,{onClick:()=>{g(!1),le(N)},className:"flex-1",children:"Edit Member"})]})]}),w&&t==="customers"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-4 bg-green-100 rounded-full",children:r.jsx(VO,{className:"h-8 w-8 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:w.name}),r.jsx("p",{className:"text-gray-600",children:w.email}),r.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[r.jsx(at,{variant:w.isActive?"success":"secondary",children:w.isActive?"Active":"Inactive"}),w.membershipPlan&&r.jsx(at,{variant:"warning",children:w.membershipPlan})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Contact Information"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Phone:"}),r.jsx("span",{children:w.phone})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Member Since:"}),r.jsx("span",{children:new Date(w.createdAt).toLocaleDateString()})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Order Statistics"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Total Orders:"}),r.jsx("span",{className:"font-semibold",children:w.totalOrders})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Total Spent:"}),r.jsxs("span",{className:"font-semibold text-green-600",children:["",w.totalSpent.toLocaleString()]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Wallet Balance:"}),r.jsxs("span",{className:"font-semibold text-blue-600",children:["",w.walletBalance]})]})]})]})]}),r.jsxs("div",{className:"border-t pt-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(i_,{className:"h-5 w-5 text-gray-700"}),r.jsx("h4",{className:"font-medium text-gray-900",children:"Order History"}),r.jsxs(at,{variant:"bg-gray-100 text-gray-600",children:[m3[w.id]?.length||0," orders"]})]}),r.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:m3[w.id]?.map(je=>r.jsxs(ae,{className:"p-4 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:r.jsx(Pt,{className:"h-4 w-4 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-900",children:je.id}),r.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[r.jsx(hs,{className:"h-3 w-3"}),je.date]})]})]}),r.jsx(at,{variant:je.status==="delivered"?"bg-green-100 text-green-800":je.status==="in_transit"?"bg-blue-100 text-blue-800":je.status==="processing"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",children:je.status.replace("_"," ").toUpperCase()})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Items:"}),r.jsxs("p",{className:"font-medium",children:[je.items," items"]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Amount:"}),r.jsxs("p",{className:"font-medium text-green-600",children:["",je.amount]})]}),r.jsxs("div",{children:[r.jsxs("span",{className:"text-gray-600 flex items-center gap-1",children:[r.jsx(Jn,{className:"h-3 w-3"}),"Payment:"]}),r.jsx("p",{className:"font-medium",children:je.paymentMethod})]})]})]},je.id))})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[r.jsx(ce,{variant:"secondary",onClick:()=>{g(!1),A(null)},className:"flex-1",children:"Close"}),r.jsx(ce,{onClick:()=>{g(!1),Pe(w)},className:"flex-1",children:"Edit Customer"})]})]}),C&&t==="delivery"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-4 bg-orange-100 rounded-full",children:r.jsx(zr,{className:"h-8 w-8 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:C.name}),r.jsx("p",{className:"text-gray-600 font-mono",children:C.vehicleNo}),r.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[r.jsx(at,{variant:P(C.status),children:C.status.charAt(0).toUpperCase()+C.status.slice(1)}),r.jsxs("span",{className:"text-sm text-gray-600",children:[" ",C.rating," Rating"]}),r.jsx("span",{className:"text-sm text-gray-600 capitalize",children:C.vehicleType})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Contact Information"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Phone:"}),r.jsx("span",{children:C.phone})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Vehicle Number:"}),r.jsx("span",{className:"font-mono",children:C.vehicleNo})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Vehicle Type:"}),r.jsx("span",{className:"capitalize",children:C.vehicleType})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Performance"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Total Deliveries:"}),r.jsx("span",{className:"font-semibold",children:C.deliveries})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Rating:"}),r.jsxs("span",{className:"font-semibold text-yellow-600",children:[" ",C.rating]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Status:"}),r.jsx(at,{variant:P(C.status),className:"text-xs",children:C.status.charAt(0).toUpperCase()+C.status.slice(1)})]})]})]})]}),C.currentOrder&&r.jsxs("div",{className:"border-t pt-6",children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Current Order Details"}),r.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Order ID:"}),r.jsx("p",{className:"font-medium text-blue-600",children:C.currentOrder.orderId})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Customer Name:"}),r.jsx("p",{className:"font-medium",children:C.currentOrder.customerName})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Customer Phone:"}),r.jsx("p",{className:"font-medium",children:C.currentOrder.customerPhone})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Order Value:"}),r.jsxs("p",{className:"font-medium text-green-600",children:["",C.currentOrder.orderValue]})]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Delivery Address:"}),r.jsx("p",{className:"font-medium text-sm mt-1",children:C.currentOrder.deliveryAddress})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Estimated Time:"}),r.jsx("p",{className:"font-medium text-blue-600",children:C.currentOrder.estimatedTime})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Current Location:"}),r.jsx("p",{className:"font-medium text-sm",children:C.currentOrder.currentLocation})]})]})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[r.jsx(ce,{variant:"secondary",onClick:()=>{g(!1),M(null)},className:"flex-1",children:"Close"}),C.currentOrder&&r.jsx(ce,{onClick:()=>{g(!1),rt(C)},className:"flex-1",children:"Track Live"}),r.jsx(ce,{onClick:()=>{g(!1),ye(C)},className:"flex-1",children:"Edit Agent"})]})]})]}),r.jsxs(gr,{isOpen:p,onClose:()=>{y(!1),k(null),A(null),M(null)},title:`Edit ${t==="team"?"Team Member":t==="customers"?"Customer":"Delivery Agent"}`,size:"lg",children:[N&&t==="team"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(he,{label:"Full Name",defaultValue:N.name,placeholder:"Enter full name"}),r.jsx(he,{label:"Email",type:"email",defaultValue:N.email,placeholder:"email@example.com"})]}),r.jsx(he,{label:"Phone",defaultValue:N.phone,placeholder:"+91 9876543210"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",defaultValue:N.department,children:[r.jsx("option",{value:"Operations",children:"Operations"}),r.jsx("option",{value:"Procurement",children:"Procurement"}),r.jsx("option",{value:"Packing",children:"Packing"}),r.jsx("option",{value:"Delivery",children:"Delivery"})]}),r.jsx("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",defaultValue:N.role,children:r.jsx("option",{value:N.role,children:N.role.replace(/_/g," ").replace(/\b\w/g,je=>je.toUpperCase())})})]}),r.jsxs("div",{className:"border-t pt-4 mt-4",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Password Management"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(he,{label:"New Password",type:"password",placeholder:"Enter new password (leave blank to keep current)"}),r.jsx(he,{label:"Confirm Password",type:"password",placeholder:"Confirm new password"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Leave password fields blank if you don't want to change the password"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",defaultChecked:N.isActive,className:"rounded border-gray-300"}),r.jsx("span",{className:"text-sm",children:"Active Member"})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx(ce,{variant:"secondary",onClick:()=>{y(!1),k(null)},className:"flex-1",children:"Cancel"}),r.jsx(ce,{onClick:()=>{console.log("Update member:",N.id),y(!1),k(null)},className:"flex-1",children:"Update Member"})]})]}),w&&t==="customers"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(he,{label:"Full Name",defaultValue:w.name,placeholder:"Enter full name"}),r.jsx(he,{label:"Email",type:"email",defaultValue:w.email,placeholder:"email@example.com"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(he,{label:"Phone",defaultValue:w.phone,placeholder:"+91 9876543210"}),r.jsx(he,{label:"Secondary Phone (Optional)",defaultValue:w.secondaryPhone,placeholder:"+91 9876543210"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(he,{label:"Wallet Balance",type:"number",defaultValue:w.walletBalance,placeholder:"0"}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",defaultValue:w.membershipPlan||"",children:[r.jsx("option",{value:"",children:"No Membership"}),r.jsx("option",{value:"Premium",children:"Premium"}),r.jsx("option",{value:"Gold",children:"Gold"}),r.jsx("option",{value:"Silver",children:"Silver"})]})]}),r.jsxs("div",{className:"border-t pt-4 mt-4",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Default Address"}),r.jsx(he,{label:"Address Line 1",placeholder:"Street address, building name",defaultValue:w.addresses?.[0]?.line1}),r.jsx(he,{label:"Address Line 2 (Optional)",placeholder:"Apartment, suite, floor",defaultValue:w.addresses?.[0]?.line2,className:"mt-3"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-3",children:[r.jsx(he,{label:"City",placeholder:"City",defaultValue:w.addresses?.[0]?.city}),r.jsx(he,{label:"State",placeholder:"State",defaultValue:w.addresses?.[0]?.state}),r.jsx(he,{label:"Pincode",placeholder:"600001",defaultValue:w.addresses?.[0]?.pincode})]}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 mt-3",defaultValue:w.addresses?.[0]?.type||"home",children:[r.jsx("option",{value:"home",children:"Home"}),r.jsx("option",{value:"work",children:"Work"}),r.jsx("option",{value:"other",children:"Other"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",defaultChecked:w.isActive,className:"rounded border-gray-300"}),r.jsx("span",{className:"text-sm",children:"Active Customer"})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx(ce,{variant:"secondary",onClick:()=>{y(!1),A(null)},className:"flex-1",children:"Cancel"}),r.jsx(ce,{onClick:()=>{console.log("Update customer:",w.id),y(!1),A(null)},className:"flex-1",children:"Update Customer"})]})]}),C&&t==="delivery"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(he,{label:"Full Name",defaultValue:C.name,placeholder:"Enter full name"}),r.jsx(he,{label:"Phone",defaultValue:C.phone,placeholder:"+91 9876543210"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(he,{label:"Vehicle Number",defaultValue:C.vehicleNo,placeholder:"TN 01 AB 1234"}),r.jsx(Dt,{label:"Vehicle Type",defaultValue:C.vehicleType||"",options:[{value:"",label:"Select Vehicle Type"},{value:"bike",label:"Motorcycle"},{value:"auto",label:"Auto Rickshaw"},{value:"van",label:"Delivery Van"}]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",defaultValue:C.status,children:[r.jsx("option",{value:"available",children:"Available"}),r.jsx("option",{value:"delivering",children:"Delivering"}),r.jsx("option",{value:"returning",children:"Returning"}),r.jsx("option",{value:"offline",children:"Offline"})]})]}),r.jsxs("div",{className:"flex items-center gap-2 pt-6",children:[r.jsx("input",{type:"checkbox",defaultChecked:C.isActive,className:"rounded border-gray-300"}),r.jsx("span",{className:"text-sm",children:"Active Agent"})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx(ce,{variant:"secondary",onClick:()=>{y(!1),M(null)},className:"flex-1",children:"Cancel"}),r.jsx(ce,{onClick:()=>{console.log("Update agent:",C.id),y(!1),M(null)},className:"flex-1",children:"Update Agent"})]})]})]}),r.jsx(gr,{isOpen:R,onClose:()=>{D(!1),M(null)},title:`Assign Order to ${C?.name}`,children:C&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Agent Information"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Name:"}),r.jsx("p",{className:"font-medium",children:C.name})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Vehicle:"}),r.jsx("p",{className:"font-medium",children:C.vehicleNo})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Phone:"}),r.jsx("p",{className:"font-medium",children:C.phone})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Status:"}),r.jsx(at,{variant:P(C.status),className:"text-xs",children:C.status.charAt(0).toUpperCase()+C.status.slice(1)})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Orders"}),r.jsx(he,{placeholder:"Search by Order ID, Customer Name, or Phone..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Order"}),r.jsx(Dt,{options:[{value:"",label:"Select an order to assign"},{value:"ORD-2024-004",label:"ORD-2024-004 - Anand Kumar - 950"},{value:"ORD-2024-005",label:"ORD-2024-005 - Meena R - 1200"},{value:"ORD-2024-006",label:"ORD-2024-006 - Raju S - 750"}]})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx(ce,{variant:"secondary",onClick:()=>{D(!1),M(null)},className:"flex-1",children:"Cancel"}),r.jsx(ce,{onClick:()=>{console.log("Assign order to agent:",C.id),D(!1),M(null)},className:"flex-1",children:"Assign Order"})]})]})}),r.jsx(gr,{isOpen:B,onClose:()=>{z(!1),M(null)},title:`Track ${C?.name}`,size:"lg",children:C&&r.jsx("div",{className:"space-y-6",children:C.currentOrder?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Current Delivery"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Order ID:"}),r.jsx("p",{className:"font-medium text-blue-600",children:C.currentOrder.orderId})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Customer:"}),r.jsx("p",{className:"font-medium",children:C.currentOrder.customerName})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Customer Phone:"}),r.jsx("p",{className:"font-medium",children:C.currentOrder.customerPhone})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Order Value:"}),r.jsxs("p",{className:"font-medium text-green-600",children:["",C.currentOrder.orderValue]})]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Delivery Address:"}),r.jsx("p",{className:"font-medium text-sm mt-1",children:C.currentOrder.deliveryAddress})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Estimated Time:"}),r.jsx("p",{className:"font-medium text-blue-600",children:C.currentOrder.estimatedTime})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Current Location:"}),r.jsx("p",{className:"font-medium text-sm",children:C.currentOrder.currentLocation})]})]})]})]}),r.jsxs("div",{className:"bg-gray-100 rounded-lg p-8 text-center",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-600 rounded-full mb-4",children:r.jsx(l4,{className:"h-8 w-8 text-white"})}),r.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Live Tracking"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Real-time location tracking would be displayed here"}),r.jsxs("div",{className:"text-sm text-gray-500",children:[r.jsxs("p",{children:[" ",C.currentOrder.currentLocation]}),r.jsxs("p",{children:[" ETA: ",C.currentOrder.estimatedTime]})]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("button",{onClick:()=>fe(C),className:"flex-1 flex items-center justify-center gap-2 p-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[r.jsx(su,{className:"h-5 w-5"}),"Call Customer"]}),r.jsx(ce,{variant:"secondary",onClick:()=>{z(!1),M(null)},className:"flex-1",children:"Close Tracking"})]})]}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(wr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"No Active Delivery"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"This agent is currently available for assignments"}),r.jsx(ce,{onClick:()=>{z(!1),it(C)},children:"Assign New Order"})]})})}),r.jsx(gr,{isOpen:v,onClose:()=>j(!1),title:"Assign Batch Orders",size:"xl",children:r.jsx(HSe,{agents:G,orders:[{id:"ORD-101",customerName:"Rajesh Kumar",deliveryAddress:"123 Anna Nagar, Chennai",orderValue:850,estimatedTime:"2:30 PM"},{id:"ORD-102",customerName:"Priya Sharma",deliveryAddress:"456 T Nagar, Chennai",orderValue:1200,estimatedTime:"3:00 PM"},{id:"ORD-103",customerName:"Arun Patel",deliveryAddress:"789 Velachery, Chennai",orderValue:650,estimatedTime:"3:30 PM"}],onAssign:(je,Me)=>{console.log("Batch assigned:",{agentId:je,orderIds:Me}),j(!1)},onCancel:()=>j(!1)})}),r.jsx(gr,{isOpen:I,onClose:()=>{F(!1),M(null)},title:"Chat with Delivery Agent",size:"lg",children:C&&r.jsx(WSe,{agentId:C.id,agentName:C.name,onClose:()=>{F(!1),M(null)}})}),r.jsx(gr,{isOpen:Y,onClose:()=>{te(!1),A(null)},title:w?`Order History - ${w.name}`:"Order History",size:"xl",children:w&&r.jsxs("div",{className:"space-y-4",children:[r.jsx(ae,{className:"p-4 bg-gradient-to-r from-blue-50 to-purple-50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-12 w-12 bg-blue-600 rounded-full flex items-center justify-center text-white font-bold",children:w.name.charAt(0)}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:w.name}),r.jsx("p",{className:"text-sm text-gray-600",children:w.email})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Orders"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:w.totalOrders})]})]})}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs(ae,{className:"p-4 text-center",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Spent"}),r.jsxs("p",{className:"text-xl font-bold text-green-600",children:["",w.totalSpent.toLocaleString()]})]}),r.jsxs(ae,{className:"p-4 text-center",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Wallet Balance"}),r.jsxs("p",{className:"text-xl font-bold text-blue-600",children:["",w.walletBalance]})]}),r.jsxs(ae,{className:"p-4 text-center",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Member Since"}),r.jsx("p",{className:"text-sm font-semibold text-gray-900",children:new Date(w.createdAt).toLocaleDateString()})]})]}),r.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto",children:m3[w.id]?.map(je=>r.jsxs(ae,{className:"p-4 hover:shadow-lg transition-shadow",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:r.jsx(Pt,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-900",children:je.id}),r.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-1",children:[r.jsx(hs,{className:"h-3 w-3"}),je.date]})]})]}),r.jsx(at,{variant:je.status==="delivered"?"bg-green-100 text-green-800":je.status==="in_transit"?"bg-blue-100 text-blue-800":je.status==="processing"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",children:je.status.replace("_"," ").toUpperCase()})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Items:"}),r.jsxs("p",{className:"font-medium",children:[je.items," items"]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Amount:"}),r.jsxs("p",{className:"font-medium text-green-600",children:["",je.amount]})]}),r.jsxs("div",{children:[r.jsxs("span",{className:"text-gray-600 flex items-center gap-1",children:[r.jsx(Jn,{className:"h-3 w-3"}),"Payment:"]}),r.jsx("p",{className:"font-medium",children:je.paymentMethod})]})]})]},je.id))}),r.jsx("div",{className:"flex justify-end pt-4 border-t",children:r.jsx(ce,{variant:"secondary",onClick:()=>{te(!1),A(null)},children:"Close"})})]})})]})}const Qg=[{id:"1",name:"procurement",displayName:"Procurement Manager",description:"Manages product sourcing and supplier relationships",moduleType:"both",permissions:["view_products","manage_suppliers","create_purchase_orders","view_inventory"],color:"blue",icon:"package",isActive:!0,usersCount:5},{id:"2",name:"packing",displayName:"Packing Supervisor",description:"Oversees order packing and quality control",moduleType:"both",permissions:["view_orders","manage_packing","quality_control","update_order_status"],color:"green",icon:"package",isActive:!0,usersCount:8},{id:"3",name:"delivery",displayName:"Delivery Coordinator",description:"Manages delivery operations and agent assignments",moduleType:"both",permissions:["view_orders","assign_delivery","track_deliveries","manage_agents"],color:"purple",icon:"truck",isActive:!0,usersCount:12},{id:"4",name:"quality_control",displayName:"Quality Controller",description:"Ensures product quality and compliance standards",moduleType:"hub",permissions:["view_products","quality_inspection","reject_products","generate_reports"],color:"orange",icon:"shield",isActive:!0,usersCount:3}],uL=[{id:"view_products",label:"View Products",category:"Products"},{id:"manage_products",label:"Manage Products",category:"Products"},{id:"view_orders",label:"View Orders",category:"Orders"},{id:"manage_orders",label:"Manage Orders",category:"Orders"},{id:"view_inventory",label:"View Inventory",category:"Inventory"},{id:"manage_inventory",label:"Manage Inventory",category:"Inventory"},{id:"manage_suppliers",label:"Manage Suppliers",category:"Procurement"},{id:"create_purchase_orders",label:"Create Purchase Orders",category:"Procurement"},{id:"manage_packing",label:"Manage Packing",category:"Operations"},{id:"quality_control",label:"Quality Control",category:"Operations"},{id:"assign_delivery",label:"Assign Delivery",category:"Delivery"},{id:"track_deliveries",label:"Track Deliveries",category:"Delivery"},{id:"manage_agents",label:"Manage Agents",category:"Delivery"},{id:"generate_reports",label:"Generate Reports",category:"Reports"},{id:"view_analytics",label:"View Analytics",category:"Reports"}];function f3(){const{user:e}=os(),[t,s]=_.useState(""),[a,n]=_.useState(""),[i,l]=_.useState(!1),[o,u]=_.useState(!1),[d,m]=_.useState(null),[f,g]=_.useState(null),[p,y]=_.useState({name:"",displayName:"",description:"",moduleType:e?.loginType==="hub"?"hub":e?.loginType==="store"?"store":"both",permissions:[],color:"blue",icon:"users"}),v=D=>{switch(D){case"package":return Pt;case"truck":return zr;case"shield":return Fi;default:return Mr}},j=D=>{switch(D){case"blue":return"bg-blue-100 text-blue-800";case"green":return"bg-green-100 text-green-800";case"purple":return"bg-purple-100 text-purple-800";case"orange":return"bg-orange-100 text-orange-800";case"red":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},N=Qg.filter(D=>{const B=D.displayName.toLowerCase().includes(t.toLowerCase())||D.description.toLowerCase().includes(t.toLowerCase()),z=!a||D.moduleType===a||D.moduleType==="both";let I=!0;return e?.loginType==="hub"?I=D.moduleType==="hub"||D.moduleType==="both":e?.loginType==="store"&&(I=D.moduleType==="store"||D.moduleType==="both"),B&&z&&I}),k=D=>{D.preventDefault(),console.log("Adding role:",p),l(!1),y({name:"",displayName:"",description:"",moduleType:"both",permissions:[],color:"blue",icon:"users"})},w=D=>{m(D),y({name:D.name,displayName:D.displayName,description:D.description,moduleType:D.moduleType,permissions:D.permissions,color:D.color,icon:D.icon}),l(!0)},A=D=>{y(B=>({...B,permissions:B.permissions.includes(D)?B.permissions.filter(z=>z!==D):[...B.permissions,D]}))},C=D=>{g(D),u(!0)},M=()=>{if(f){if(f.usersCount>0){alert(`Cannot delete role "${f.displayName}" because it has ${f.usersCount} assigned users. Please reassign or remove users first.`),u(!1),g(null);return}console.log("Delete role:",f.id),u(!1),g(null),alert(`Role "${f.displayName}" has been deleted.`)}},R=uL.reduce((D,B)=>(D[B.category]||(D[B.category]=[]),D[B.category].push(B),D),{});return r.jsxs("div",{className:"space-y-4 sm:space-y-6 p-4 sm:p-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-bold truncate",children:e?.loginType==="hub"?"Hub Custom Roles Management":e?.loginType==="store"?"Store Custom Roles Management":"Custom Roles Management"}),r.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1",children:e?.loginType==="hub"?"Create and customize hub roles with specific permissions":e?.loginType==="store"?"Create and customize store roles with specific permissions":"Create and customize roles with specific permissions"})]}),r.jsxs(ce,{onClick:()=>l(!0),className:"w-full sm:w-auto flex-shrink-0",children:[r.jsx(hr,{className:"mr-2 h-5 w-5"}),r.jsx("span",{className:"hidden sm:inline",children:"Create Role"}),r.jsx("span",{className:"sm:hidden",children:"Create"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-lg flex-shrink-0",children:r.jsx(Mr,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-600"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 truncate",children:"Total Roles"}),r.jsx("p",{className:"text-lg sm:text-xl font-bold",children:Qg.length})]})]})}),r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-lg flex-shrink-0",children:r.jsx(Fi,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-600"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 truncate",children:"Active Roles"}),r.jsx("p",{className:"text-xl font-bold",children:Qg.filter(D=>D.isActive).length})]})]})}),r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:r.jsx(Pt,{className:"h-5 w-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Hub Roles"}),r.jsx("p",{className:"text-xl font-bold",children:Qg.filter(D=>D.moduleType==="hub"||D.moduleType==="both").length})]})]})}),r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:r.jsx(zr,{className:"h-5 w-5 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Users"}),r.jsx("p",{className:"text-xl font-bold",children:Qg.reduce((D,B)=>D+B.usersCount,0)})]})]})})]}),r.jsx(ae,{className:"p-4 sm:p-6",children:r.jsxs("div",{className:"flex flex-col lg:flex-row items-stretch lg:items-center gap-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Mn,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),r.jsx(he,{placeholder:"Search roles...",value:t,onChange:D=>s(D.target.value),className:"pl-10 text-sm"})]}),r.jsx(Dt,{value:a,onChange:D=>n(D.target.value),options:[{value:"",label:"All Modules"},...e?.loginType==="super_admin"?[{value:"hub",label:"Hub Only"},{value:"store",label:"Store Only"},{value:"both",label:"Both Modules"}]:e?.loginType==="hub"?[{value:"hub",label:"Hub Only"},{value:"both",label:"Hub & Store"}]:e?.loginType==="store"?[{value:"store",label:"Store Only"},{value:"both",label:"Hub & Store"}]:[]]})]})}),r.jsx("div",{className:"space-y-4",children:N.map(D=>{const B=v(D.icon);return r.jsx(ae,{className:"p-4 sm:p-6",children:r.jsxs("div",{className:"flex flex-col sm:flex-row items-start justify-between gap-4",children:[r.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[r.jsx("div",{className:`p-3 rounded-lg ${j(D.color)}`,children:r.jsx(B,{className:"h-6 w-6"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("h3",{className:"font-semibold text-lg",children:D.displayName}),r.jsx(at,{variant:D.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",children:D.isActive?"Active":"Inactive"}),r.jsx(at,{variant:"bg-blue-100 text-blue-800",children:D.moduleType==="both"?"Hub & Store":D.moduleType.charAt(0).toUpperCase()+D.moduleType.slice(1)})]}),r.jsx("p",{className:"text-gray-600 mb-3",children:D.description}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Users:"}),r.jsxs("span",{className:"text-sm text-gray-600",children:[D.usersCount," assigned"]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-gray-700 block mb-2",children:"Permissions:"}),r.jsxs("div",{className:"flex flex-wrap gap-1",children:[D.permissions.slice(0,4).map(z=>{const I=uL.find(F=>F.id===z);return r.jsx(at,{variant:"bg-gray-100 text-gray-700 text-xs",children:I?.label},z)}),D.permissions.length>4&&r.jsxs(at,{variant:"bg-gray-100 text-gray-700 text-xs",children:["+",D.permissions.length-4," more"]})]})]})]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>w(D),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Edit Role",children:r.jsx(vs,{className:"h-5 w-5"})}),r.jsx("button",{onClick:()=>C(D),className:"p-2 hover:bg-red-50 rounded-lg transition-colors text-red-600",title:"Delete Role",children:r.jsx(Sr,{className:"h-5 w-5"})})]})]})},D.id)})}),r.jsx(gr,{isOpen:i,onClose:()=>{l(!1),m(null)},title:d?"Edit Role":"Create New Role",size:"lg",children:r.jsxs("form",{onSubmit:k,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(he,{label:"Role Name (Internal)",placeholder:"e.g., procurement_manager",value:p.name,onChange:D=>y({...p,name:D.target.value}),required:!0}),r.jsx(he,{label:"Display Name",placeholder:"e.g., Procurement Manager",value:p.displayName,onChange:D=>y({...p,displayName:D.target.value}),required:!0})]}),r.jsx(he,{label:"Description",placeholder:"Brief description of the role responsibilities",value:p.description,onChange:D=>y({...p,description:D.target.value}),required:!0}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(Dt,{label:"Module Type",value:p.moduleType,onChange:D=>y({...p,moduleType:D.target.value}),options:[...e?.loginType==="super_admin"?[{value:"both",label:"Hub & Store"},{value:"hub",label:"Hub Only"},{value:"store",label:"Store Only"}]:e?.loginType==="hub"?[{value:"hub",label:"Hub Only"},{value:"both",label:"Hub & Store"}]:e?.loginType==="store"?[{value:"store",label:"Store Only"},{value:"both",label:"Hub & Store"}]:[]],required:!0}),r.jsx(Dt,{label:"Color Theme",value:p.color,onChange:D=>y({...p,color:D.target.value}),options:[{value:"blue",label:"Blue"},{value:"green",label:"Green"},{value:"purple",label:"Purple"},{value:"orange",label:"Orange"},{value:"red",label:"Red"}]}),r.jsx(Dt,{label:"Icon",value:p.icon,onChange:D=>y({...p,icon:D.target.value}),options:[{value:"users",label:"Users"},{value:"package",label:"Package"},{value:"truck",label:"Truck"},{value:"shield",label:"Shield"}]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"Permissions"}),r.jsx("div",{className:"space-y-4 max-h-64 overflow-y-auto",children:Object.entries(R).map(([D,B])=>r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-sm text-gray-700 mb-2",children:D}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:B.map(z=>r.jsxs("label",{className:"flex items-center gap-2 p-2 hover:bg-gray-50 rounded cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:p.permissions.includes(z.id),onChange:()=>A(z.id),className:"rounded border-gray-300"}),r.jsx("span",{className:"text-sm",children:z.label})]},z.id))})]},D))})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[r.jsxs(ce,{type:"button",variant:"secondary",onClick:()=>{l(!1),m(null)},className:"flex-1",children:[r.jsx(ws,{className:"mr-2 h-4 w-4"})," Cancel"]}),r.jsxs(ce,{type:"submit",className:"flex-1",children:[r.jsx(Ii,{className:"mr-2 h-5 w-5"})," ",d?"Update Role":"Create Role"]})]})]})}),r.jsx(gr,{isOpen:o,onClose:()=>{u(!1),g(null)},title:"Delete Role Confirmation",size:"sm",children:f&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-red-100 rounded-full mb-4",children:r.jsx(Sr,{className:"h-6 w-6 text-red-600"})}),f.usersCount>0?r.jsxs(r.Fragment,{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Cannot Delete Role"}),r.jsxs("p",{className:"text-gray-600 mb-4",children:["The role ",r.jsxs("strong",{children:['"',f.displayName,'"']})," cannot be deleted because it has ",r.jsxs("strong",{children:[f.usersCount," assigned users"]}),"."]}),r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:r.jsxs("p",{className:"text-sm text-yellow-800",children:[r.jsx("strong",{children:"Resolution:"})," Please reassign or remove all users from this role before deleting it."]})})]}):r.jsxs(r.Fragment,{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Delete Role?"}),r.jsxs("p",{className:"text-gray-600 mb-4",children:["Are you sure you want to delete the role ",r.jsxs("strong",{children:['"',f.displayName,'"']}),"? This action cannot be undone."]}),r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:r.jsxs("p",{className:"text-sm text-red-800",children:[r.jsx("strong",{children:"Warning:"})," Deleting this role will remove all associated permissions and configuration."]})})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx(ce,{variant:"secondary",onClick:()=>{u(!1),g(null)},className:"flex-1",children:"Cancel"}),f.usersCount===0&&r.jsxs(ce,{onClick:M,className:"flex-1 bg-red-600 hover:bg-red-700 text-white",children:[r.jsx(Sr,{className:"mr-2 h-5 w-5"})," Delete Role"]})]})]})})]})}const KSe=[{value:"blue",label:"Blue",class:"bg-blue-500"},{value:"green",label:"Green",class:"bg-green-500"},{value:"red",label:"Red",class:"bg-red-500"},{value:"yellow",label:"Yellow",class:"bg-yellow-500"},{value:"purple",label:"Purple",class:"bg-purple-500"},{value:"orange",label:"Orange",class:"bg-orange-500"},{value:"pink",label:"Pink",class:"bg-pink-500"},{value:"indigo",label:"Indigo",class:"bg-indigo-500"},{value:"teal",label:"Teal",class:"bg-teal-500"},{value:"cyan",label:"Cyan",class:"bg-cyan-500"}],YSe=[{value:"fish",label:"Fish",emoji:""},{value:"shrimp",label:"Shrimp",emoji:""},{value:"crab",label:"Crab",emoji:""},{value:"squid",label:"Squid",emoji:""},{value:"chicken",label:"Chicken",emoji:""},{value:"meat",label:"Meat",emoji:""},{value:"egg",label:"Egg",emoji:""},{value:"spices",label:"Spices",emoji:""},{value:"vegetable",label:"Vegetable",emoji:""},{value:"fruit",label:"Fruit",emoji:""}];function hL({initialData:e,onSave:t,onCancel:s,isEdit:a=!1}){const[n,i]=_.useState({name:e?.name||"",nameTa:e?.nameTa||"",description:e?.description||"",icon:e?.icon||"fish",color:e?.color||"blue",image:e?.image||void 0,isActive:e?.isActive!==void 0?e.isActive:!0,order:e?.order||0,type:e?.type||"hub"}),[l,o]=_.useState(typeof e?.image=="string"?e.image:null),u=_.useRef(null),d=(p,y)=>{i(v=>({...v,[p]:y}))},m=p=>{const y=p.target.files?.[0];if(y){if(!y.type.startsWith("image/")){alert("Please select a valid image file");return}if(y.size>5*1024*1024){alert("Image size should be less than 5MB");return}i(j=>({...j,image:y}));const v=new FileReader;v.onload=j=>{o(j.target?.result)},v.readAsDataURL(y)}},f=()=>{i(p=>({...p,image:void 0})),o(null),u.current&&(u.current.value="")},g=()=>{if(!n.name||!n.nameTa||!n.description){alert("Please fill in all required fields");return}t(n)};return r.jsxs("div",{className:"space-y-6 max-h-[80vh] overflow-y-auto",children:[r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(Pt,{className:"h-5 w-5 text-blue-600"}),r.jsx("h3",{className:"text-lg font-semibold",children:"Category Information"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category Name (English) *"}),r.jsx(he,{value:n.name,onChange:p=>d("name",p.target.value),placeholder:"Sea Fish, Chicken, etc."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category Name (Tamil) *"}),r.jsx(he,{value:n.nameTa,onChange:p=>d("nameTa",p.target.value),placeholder:" , , etc."})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),r.jsx("textarea",{value:n.description,onChange:p=>d("description",p.target.value),placeholder:"Brief description of the category",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category Type *"}),r.jsxs("select",{value:n.type,onChange:p=>d("type",p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"hub",children:"Hub (Fish Products)"}),r.jsx("option",{value:"store",children:"Store (Meat, Eggs, etc.)"})]})]})]})]}),r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(k2,{className:"h-5 w-5 text-purple-600"}),r.jsx("h3",{className:"text-lg font-semibold",children:"Visual Settings"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category Image"}),r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-24 h-24 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center bg-gray-50",children:l?r.jsxs("div",{className:"relative w-full h-full",children:[r.jsx("img",{src:l,alt:"Category preview",className:"w-full h-full object-cover rounded-lg"}),r.jsx("button",{onClick:f,className:"absolute -top-2 -right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:r.jsx(ws,{className:"h-3 w-3"})})]}):r.jsxs("div",{className:"text-center",children:[r.jsx(k2,{className:"h-8 w-8 text-gray-400 mx-auto mb-1"}),r.jsx("p",{className:"text-xs text-gray-500",children:"No image"})]})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("input",{ref:u,type:"file",accept:"image/*",onChange:m,className:"hidden"}),r.jsxs(ce,{type:"button",variant:"secondary",onClick:()=>u.current?.click(),className:"w-full",children:[r.jsx(Ro,{className:"mr-2 h-4 w-4"}),l?"Change Image":"Upload Image"]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Recommended: 200x200px, Max 5MB (JPG, PNG, WebP)"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category Icon"}),r.jsx("div",{className:"grid grid-cols-5 sm:grid-cols-10 gap-2",children:YSe.map(p=>r.jsxs("button",{type:"button",onClick:()=>d("icon",p.value),className:`p-3 border-2 rounded-lg text-center transition-colors ${n.icon===p.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[r.jsx("div",{className:"text-2xl mb-1",children:p.emoji}),r.jsx("div",{className:"text-xs text-gray-600",children:p.label})]},p.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category Color"}),r.jsx("div",{className:"grid grid-cols-5 sm:grid-cols-10 gap-2",children:KSe.map(p=>r.jsxs("button",{type:"button",onClick:()=>d("color",p.value),className:`p-3 border-2 rounded-lg transition-colors ${n.color===p.value?"border-gray-800":"border-gray-200 hover:border-gray-300"}`,children:[r.jsx("div",{className:`w-8 h-8 rounded-full mx-auto mb-1 ${p.class}`}),r.jsx("div",{className:"text-xs text-gray-600",children:p.label})]},p.value))})]})]})]}),r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[n.isActive?r.jsx(Fr,{className:"h-5 w-5 text-green-600"}):r.jsx(fd,{className:"h-5 w-5 text-red-600"}),r.jsx("h3",{className:"text-lg font-semibold",children:"Category Visibility"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:`text-sm font-medium ${n.isActive?"text-green-600":"text-red-600"}`,children:n.isActive?"Category is Visible":"Category is Hidden"}),r.jsx(ce,{type:"button",variant:n.isActive?"secondary":"primary",onClick:()=>d("isActive",!n.isActive),className:n.isActive?"bg-red-50 text-red-600 hover:bg-red-100 border-red-200":"bg-green-50 text-green-600 hover:bg-green-100 border-green-200",children:n.isActive?r.jsxs(r.Fragment,{children:[r.jsx(fd,{className:"mr-2 h-4 w-4"}),"Hide Category"]}):r.jsxs(r.Fragment,{children:[r.jsx(Fr,{className:"mr-2 h-4 w-4"}),"Show Category"]})})]})]}),r.jsx("div",{className:"mt-3 p-3 rounded-lg bg-gray-50",children:r.jsx("p",{className:"text-sm text-gray-600",children:n.isActive?r.jsxs(r.Fragment,{children:[r.jsx("strong",{children:"Visible:"})," This category will be displayed in both Hub and Store product forms and customer-facing interfaces."]}):r.jsxs(r.Fragment,{children:[r.jsx("strong",{children:"Hidden:"})," This category will not be visible to users and cannot be selected for new products. Existing products will remain unaffected."]})})})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[r.jsxs(ce,{variant:"secondary",onClick:s,children:[r.jsx(ws,{className:"mr-2 h-4 w-4"}),"Cancel"]}),r.jsxs(ce,{onClick:g,children:[r.jsx(Ii,{className:"mr-2 h-4 w-4"}),a?"Update":"Create"," Category"]})]})]})}const mL=[{id:"show",label:"Show Categories",icon:Fr,variant:"success",requiresConfirmation:!0,confirmationMessage:"Are you sure you want to show the selected categories?"},{id:"hide",label:"Hide Categories",icon:fd,variant:"warning",requiresConfirmation:!0,confirmationMessage:"Are you sure you want to hide the selected categories?"},{id:"delete",label:"Delete Categories",icon:Sr,variant:"danger",requiresConfirmation:!0,confirmationMessage:"Are you sure you want to delete the selected categories? This action cannot be undone and will affect all products using these categories."}],ZSe=e=>({blue:"bg-blue-100 text-blue-800 border-blue-200",green:"bg-green-100 text-green-800 border-green-200",red:"bg-red-100 text-red-800 border-red-200",yellow:"bg-yellow-100 text-yellow-800 border-yellow-200",purple:"bg-purple-100 text-purple-800 border-purple-200",orange:"bg-orange-100 text-orange-800 border-orange-200",pink:"bg-pink-100 text-pink-800 border-pink-200",indigo:"bg-indigo-100 text-indigo-800 border-indigo-200",teal:"bg-teal-100 text-teal-800 border-teal-200",cyan:"bg-cyan-100 text-cyan-800 border-cyan-200"})[e]||"bg-gray-100 text-gray-800 border-gray-200",XSe=e=>({fish:"",shrimp:"",crab:"",squid:"",chicken:"",meat:"",egg:"",spices:"",vegetable:"",fruit:""})[e]||"";function JSe({categories:e,onView:t,onEdit:s,onDelete:a,onReorder:n,onBulkAction:i,title:l="Categories",allowReordering:o=!0}){const[u,d]=_.useState(""),[m,f]=_.useState(""),[g,p]=_.useState({isOpen:!1,actionId:"",actionType:""}),y=e.filter(z=>{const I=!u||z.name.toLowerCase().includes(u.toLowerCase())||z.nameTa.includes(u)||z.description.toLowerCase().includes(u.toLowerCase()),F=!m||m==="active"&&z.isActive||m==="inactive"&&!z.isActive;return I&&F}),{selectedItems:v,selectAll:j,deselectAll:N,toggleItem:k,isSelected:w}=Rx(y),A=v.length===y.length&&y.length>0,C=v.length>0&&v.length<y.length,M=z=>{const I=mL.find(F=>F.id===z);I?.requiresConfirmation?p({isOpen:!0,actionId:z,actionType:I.variant||"default"}):i?.(z,v)},R=async z=>{i&&(await i(g.actionId,v,z),N()),p({isOpen:!1,actionId:"",actionType:""})},D=z=>{if(z>0&&n){const I=[...y];[I[z],I[z-1]]=[I[z-1],I[z]];const F=I.map((Y,te)=>({...Y,order:te}));n(F)}},B=z=>{if(z<y.length-1&&n){const I=[...y];[I[z],I[z+1]]=[I[z+1],I[z]];const F=I.map((Y,te)=>({...Y,order:te}));n(F)}};return r.jsxs("div",{className:"space-y-4",children:[r.jsx(Px,{searchValue:u,onSearchChange:d,placeholder:"Search categories by name, Tamil name, or description...",filters:[{key:"status",label:"Status",value:m,onChange:f,options:[{value:"",label:"All Status"},{value:"active",label:"Visible"},{value:"inactive",label:"Hidden"}]}]}),v.length>0&&r.jsx(Dx,{selectedItems:v,totalItems:y.length,onSelectAll:j,onDeselectAll:N,actions:mL,onAction:M,itemName:"categories"}),y.length>0&&r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:A?N:j,className:`p-1 rounded transition-colors ${A?"text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:A?r.jsx(Fo,{className:"h-4 w-4"}):C?r.jsx(bd,{className:"h-4 w-4"}):r.jsx(Bo,{className:"h-4 w-4"})}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:v.length>0?`${v.length} of ${y.length} ${l.toLowerCase()} selected`:`Select all ${y.length} ${l.toLowerCase()}`})]}),o&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[r.jsx(WX,{className:"h-4 w-4"}),r.jsx("span",{children:"Use arrows to reorder"})]})]})}),r.jsx("div",{className:"space-y-3",children:y.map((z,I)=>r.jsx(ae,{className:"p-4 hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"flex items-center gap-4",children:[o&&r.jsxs("div",{className:"flex flex-col gap-1 flex-shrink-0",children:[r.jsx("button",{onClick:()=>D(I),disabled:I===0,className:`p-1 rounded transition-colors ${I===0?"text-gray-300 cursor-not-allowed":"text-gray-400 hover:text-gray-600 hover:bg-gray-100"}`,title:"Move up",children:r.jsx(XZ,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>B(I),disabled:I===y.length-1,className:`p-1 rounded transition-colors ${I===y.length-1?"text-gray-300 cursor-not-allowed":"text-gray-400 hover:text-gray-600 hover:bg-gray-100"}`,title:"Move down",children:r.jsx(qZ,{className:"h-4 w-4"})})]}),r.jsx("button",{onClick:()=>k(z.id),className:`p-1 rounded transition-colors flex-shrink-0 ${w(z.id)?"text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:w(z.id)?r.jsx(Fo,{className:"h-4 w-4"}):r.jsx(Bo,{className:"h-4 w-4"})}),r.jsx("div",{className:`w-16 h-16 rounded-lg border-2 flex items-center justify-center flex-shrink-0 ${ZSe(z.color)}`,children:z.image?r.jsx("img",{src:typeof z.image=="string"?z.image:URL.createObjectURL(z.image),alt:z.name,className:"w-full h-full object-cover rounded-lg"}):r.jsx("span",{className:"text-2xl",children:XSe(z.icon)})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"flex items-start justify-between mb-2",children:r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:z.name}),r.jsx(at,{variant:z.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800",className:"flex-shrink-0",children:z.isActive?"Visible":"Hidden"})]}),r.jsx("p",{className:"text-sm text-gray-600 truncate",children:z.nameTa})]})}),r.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:z.description}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center gap-4 text-sm",children:r.jsxs("span",{className:"font-medium text-gray-900",children:[z.productCount," products"]})}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx("button",{onClick:()=>t?.(z),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"View Details",children:r.jsx(Fr,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>s?.(z),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Edit",children:r.jsx(vs,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>a?.(z),className:"p-2 hover:bg-red-50 rounded-lg transition-colors text-red-600",title:"Delete",children:r.jsx(Sr,{className:"h-4 w-4"})})]})]})]})]})},z.id))}),y.length===0&&r.jsxs(ae,{className:"p-12 text-center",children:[r.jsx(Pt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No categories found"}),r.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or filters, or create a new category"})]}),r.jsx(Mx,{isOpen:g.isOpen,onClose:()=>p({isOpen:!1,actionId:"",actionType:""}),onConfirm:R,title:`Bulk Action: ${g.actionId}`,actionType:g.actionType,selectedCount:v.length,itemName:"categories"})]})}const fL=[{id:"1",name:"Sea Fish",nameTa:" ",description:"Fresh sea fish varieties including tuna, seer, pomfret, and more",icon:"fish",color:"blue",image:void 0,isActive:!0,order:0,type:"hub",productCount:25,createdAt:"2024-01-01",updatedAt:"2024-01-15"},{id:"2",name:"Freshwater Fish",nameTa:" ",description:"Fresh river and lake fish varieties",icon:"fish",color:"teal",image:void 0,isActive:!0,order:1,type:"hub",productCount:18,createdAt:"2024-01-01",updatedAt:"2024-01-10"},{id:"3",name:"Shell Fish",nameTa:" ",description:"Prawns, crabs, lobsters, and other shellfish",icon:"shrimp",color:"orange",image:void 0,isActive:!0,order:2,type:"hub",productCount:15,createdAt:"2024-01-01",updatedAt:"2024-01-12"},{id:"4",name:"Dry Fish",nameTa:" ",description:"Dried and preserved fish varieties",icon:"fish",color:"yellow",image:void 0,isActive:!0,order:3,type:"hub",productCount:8,createdAt:"2024-01-01",updatedAt:"2024-01-08"},{id:"5",name:"Meat",nameTa:"",description:"Fresh meat products including chicken, mutton, and other varieties",icon:"meat",color:"red",image:void 0,isActive:!0,order:4,type:"store",productCount:38,createdAt:"2024-01-01",updatedAt:"2024-01-14"},{id:"6",name:"Eggs",nameTa:"",description:"Fresh eggs from various sources",icon:"egg",color:"yellow",image:void 0,isActive:!0,order:5,productCount:12,type:"store",createdAt:"2024-01-01",updatedAt:"2024-01-13"},{id:"7",name:"Spices",nameTa:"",description:"Cooking spices, herbs, and seasonings",icon:"spices",color:"green",image:void 0,isActive:!0,order:6,productCount:24,createdAt:"2024-01-01",type:"store",updatedAt:"2024-01-09"},{id:"8",name:"Ready to Eat",nameTa:" ",description:"Pre-cooked meals and ready-to-eat food items",icon:"utensils",color:"purple",image:void 0,isActive:!0,order:7,productCount:15,createdAt:"2024-01-01",updatedAt:"2024-01-16",type:"store"},{id:"9",name:"Ready to Cook",nameTa:" ",description:"Pre-marinated and ready-to-cook products",icon:"chef-hat",color:"indigo",image:void 0,isActive:!0,order:8,productCount:20,createdAt:"2024-01-01",updatedAt:"2024-01-17",type:"store"},{id:"10",name:"Exotic Fish",nameTa:" ",description:"Rare and exotic fish varieties",icon:"fish",color:"cyan",image:void 0,isActive:!0,order:4,productCount:8,createdAt:"2024-01-01",updatedAt:"2024-01-18",type:"hub"},{id:"11",name:"Frozen Fish",nameTa:" ",description:"Frozen fish products for longer shelf life",icon:"fish",color:"blue",image:void 0,isActive:!0,order:5,productCount:12,createdAt:"2024-01-01",updatedAt:"2024-01-19",type:"hub"},{id:"12",name:"Dairy Products",nameTa:" ",description:"Milk, cheese, butter, and other dairy items",icon:"egg",color:"yellow",image:void 0,isActive:!0,order:9,productCount:15,createdAt:"2024-01-01",updatedAt:"2024-01-20",type:"store"},{id:"13",name:"Vegetables",nameTa:"",description:"Fresh vegetables and greens",icon:"vegetable",color:"green",image:void 0,isActive:!0,order:10,productCount:30,createdAt:"2024-01-01",updatedAt:"2024-01-21",type:"store"},{id:"14",name:"Fruits",nameTa:"",description:"Fresh seasonal fruits",icon:"fruit",color:"pink",image:void 0,isActive:!0,order:11,productCount:25,createdAt:"2024-01-01",updatedAt:"2024-01-22",type:"store"}];function x1(){const{user:e}=os(),[t,s]=_.useState(fL),[a,n]=_.useState(!1),[i,l]=_.useState(!1),[o,u]=_.useState(!1),[d,m]=_.useState(!1),[f,g]=_.useState(null),[p,y]=_.useState(!1),[v,j]=_.useState("hub");_.useEffect(()=>{N()},[]);const N=async()=>{try{y(!0);const ee=await pm.getAll();s(ee.data)}catch(ee){console.error("Failed to fetch categories:",ee),s(fL)}finally{y(!1)}},k=t.filter(ee=>ee.type==="hub").sort((ee,Ne)=>ee.order-Ne.order),w=t.filter(ee=>ee.type==="store").sort((ee,Ne)=>ee.order-Ne.order),A=v==="hub"?k:w,C=()=>{g(null),n(!0)},M=()=>f||{type:v},R=ee=>{g(ee),u(!0)},D=ee=>{g(ee),l(!0)},B=async ee=>{if(ee.productCount>0){alert(`Cannot delete category "${ee.name}" because it has ${ee.productCount} products. Please move or delete the products first.`);return}if(confirm(`Are you sure you want to delete the category "${ee.name}"? This action cannot be undone.`))try{y(!0),await pm.delete(ee.id),s(Ne=>Ne.filter(X=>X.id!==ee.id)),alert("Category deleted successfully")}catch(Ne){console.error("Failed to delete category:",Ne),alert("Failed to delete category. Please try again.")}finally{y(!1)}},z=async ee=>{try{y(!0);const Ne=new FormData;if(Object.entries(ee).forEach(([X,P])=>{X==="image"&&P instanceof File?Ne.append("image",P):P!=null&&Ne.append(X,typeof P=="object"?JSON.stringify(P):String(P))}),f)await pm.update(f.id,Ne),s(X=>X.map(P=>P.id===f.id?{...P,...ee,updatedAt:new Date().toISOString().slice(0,10)}:P)),alert("Category updated successfully! Changes will reflect across all Hub and Store interfaces.");else{const P={...(await pm.create(Ne)).data,productCount:0};s(H=>[...H,P]),alert("Category created successfully! Changes will reflect across all Hub and Store interfaces.")}n(!1),u(!1),g(null),await N()}catch(Ne){console.error("Failed to save category:",Ne),alert("Failed to save category. Please try again.")}finally{y(!1)}},I=async ee=>{try{y(!0),s(ee);const Ne=ee.map(X=>X.id);await pm.reorder({categoryIds:Ne}),console.log("Categories reordered successfully")}catch(Ne){console.error("Failed to reorder categories:",Ne),alert("Failed to save category order. Please try again."),await N()}finally{y(!1)}},F=ee=>{g(ee),m(!0)},Y=async(ee,Ne,X)=>{try{switch(y(!0),ee){case"show":await pm.bulkUpdate({ids:Ne,updates:{isActive:!0}}),s(q=>q.map(W=>Ne.includes(W.id)?{...W,isActive:!0,updatedAt:new Date().toISOString().slice(0,10)}:W)),alert(`${Ne.length} categories are now visible`);break;case"hide":await pm.bulkUpdate({ids:Ne,updates:{isActive:!1}}),s(q=>q.map(W=>Ne.includes(W.id)?{...W,isActive:!1,updatedAt:new Date().toISOString().slice(0,10)}:W)),alert(`${Ne.length} categories are now hidden`);break;case"delete":const H=t.filter(q=>Ne.includes(q.id)).filter(q=>q.productCount>0);if(H.length>0){alert(`Cannot delete ${H.length} categories because they have products. Please move or delete the products first.`);return}await Promise.all(Ne.map(q=>pm.delete(q))),s(q=>q.filter(W=>!Ne.includes(W.id))),alert(`${Ne.length} categories deleted successfully`);break;default:console.log(`Bulk action ${ee} performed on ${Ne.length} categories`,X)}await N()}catch(P){console.error("Category bulk action failed:",P),alert("Bulk action failed. Please try again.")}finally{y(!1)}},ue={totalHub:k.length,totalStore:w.length,visibleHub:k.filter(ee=>ee.isActive).length,visibleStore:w.filter(ee=>ee.isActive).length,totalProducts:t.reduce((ee,Ne)=>ee+Ne.productCount,0),activeDisplay:A.filter(ee=>ee.isActive).length},Z=()=>e?.loginType==="hub"?{title:"Hub Category Management",description:"Manage fish and seafood categories for hub operations"}:e?.loginType==="store"?{title:"Store Category Management",description:"Manage meat, eggs, and other categories for store operations"}:{title:"Category Management",description:"Manage categories for Hub (Fish) and Store (Meat, Eggs, etc.)"},ie=()=>e?.loginType==="super_admin"?v==="hub"?"Add Hub Category":"Add Store Category":"Add Category",G=Z();return r.jsx("div",{className:"min-h-screen bg-gray-50",children:r.jsx("div",{className:"w-full py-2 sm:py-4 md:py-6 lg:py-8",children:r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:r.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:r.jsx(Pt,{className:"h-5 w-5 sm:h-6 sm:w-6 text-blue-600"})}),r.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900",children:G.title})]}),r.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-3",children:G.description}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsxs(at,{variant:"bg-blue-100 text-blue-700",className:"text-xs font-medium",children:[A.length," Categories"]}),r.jsxs(at,{variant:"bg-green-100 text-green-700",className:"text-xs font-medium",children:[ue.activeDisplay," Active"]}),e?.loginType==="super_admin"&&r.jsxs(at,{variant:"bg-purple-100 text-purple-700",className:"text-xs font-medium",children:[v.charAt(0).toUpperCase()+v.slice(1)," View"]})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[r.jsxs(ce,{variant:"secondary",onClick:()=>m(!0),className:"w-full sm:w-auto px-4 py-2 border-gray-300 hover:bg-gray-50",children:[r.jsx(hx,{className:"mr-2 h-4 w-4"}),r.jsx("span",{className:"sm:hidden",children:"History"}),r.jsx("span",{className:"hidden sm:inline",children:"History"})]}),r.jsxs(ce,{onClick:C,className:"w-full sm:w-auto px-4 py-2 sm:px-6 sm:py-3 bg-blue-600 hover:bg-blue-700",children:[r.jsx(hr,{className:"mr-2 h-4 w-4"}),r.jsx("span",{className:"sm:hidden",children:"Add Category"}),r.jsx("span",{className:"hidden sm:inline",children:ie()})]})]})]})}),r.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx(ae,{className:"p-4 hover:shadow-lg transition-all duration-200 border-l-4 border-l-blue-500",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Hub Categories"}),r.jsx("p",{className:"text-2xl font-bold text-blue-900",children:ue.totalHub}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1",children:[r.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),ue.visibleHub," visible"]})]}),r.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:r.jsx(Kl,{className:"h-6 w-6 text-blue-600"})})]})}),r.jsx(ae,{className:"p-4 hover:shadow-lg transition-all duration-200 border-l-4 border-l-orange-500",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Store Categories"}),r.jsx("p",{className:"text-2xl font-bold text-orange-600",children:ue.totalStore}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1",children:[r.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full"}),ue.visibleStore," visible"]})]}),r.jsx("div",{className:"p-3 bg-orange-100 rounded-xl",children:r.jsx(i_,{className:"h-6 w-6 text-orange-600"})})]})}),r.jsx(ae,{className:"p-4 hover:shadow-lg transition-all duration-200 border-l-4 border-l-gray-500",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Total"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:ue.totalHub+ue.totalStore}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1",children:[r.jsx("span",{className:"w-2 h-2 bg-gray-500 rounded-full"}),"All categories"]})]}),r.jsx("div",{className:"p-3 bg-gray-100 rounded-xl",children:r.jsx(Pt,{className:"h-6 w-6 text-gray-600"})})]})}),r.jsx(ae,{className:"p-4 hover:shadow-lg transition-all duration-200 border-l-4 border-l-purple-500",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Total Products"}),r.jsx("p",{className:"text-2xl font-bold text-purple-600",children:ue.totalProducts}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1",children:[r.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full"}),"Using categories"]})]}),r.jsx("div",{className:"p-3 bg-purple-100 rounded-xl",children:r.jsx(Pt,{className:"h-6 w-6 text-purple-600"})})]})})]}),e?.loginType==="super_admin"&&r.jsxs(ae,{className:"overflow-hidden",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Category Types"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Switch between hub and store category management"})]}),r.jsx("div",{className:"flex gap-2 border-b overflow-x-auto pb-4",children:[{id:"hub",label:"Hub Categories",count:k.length,description:"Fish & Seafood",icon:""},{id:"store",label:"Store Categories",count:w.length,description:"Meat, Eggs & More",icon:""}].map(ee=>r.jsxs("button",{onClick:()=>j(ee.id),className:`flex items-center gap-3 px-4 py-3 border-b-2 transition-all whitespace-nowrap text-sm min-w-0 rounded-t-lg ${v===ee.id?"border-blue-600 text-blue-600 bg-blue-50":"border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:[r.jsx("span",{className:"text-lg",children:ee.icon}),r.jsxs("div",{className:"text-left",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:ee.label}),r.jsx(at,{variant:v===ee.id?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600",className:"text-xs font-medium",children:ee.count})]}),r.jsx("span",{className:"text-xs text-gray-500",children:ee.description})]})]},ee.id))})]}),r.jsxs(ae,{className:"overflow-hidden shadow-sm border border-gray-200",children:[r.jsx("div",{className:"bg-gray-50 px-4 sm:px-6 py-3 border-b border-gray-200",children:r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e?.loginType==="super_admin"?`${v.charAt(0).toUpperCase()+v.slice(1)} Categories`:"Categories"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage and organize your category catalog"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(at,{variant:"bg-blue-100 text-blue-700",className:"text-xs font-medium",children:[A.length," Total"]}),r.jsxs(at,{variant:"bg-green-100 text-green-700",className:"text-xs font-medium",children:[ue.activeDisplay," Active"]})]})]})}),p&&r.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-75 flex items-center justify-center z-10",children:r.jsxs("div",{className:"flex flex-col items-center gap-2",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Loading..."})]})}),r.jsx(JSe,{categories:A,onView:D,onEdit:R,onDelete:B,onReorder:I,onBulkAction:Y,title:e?.loginType==="super_admin"?`${v.charAt(0).toUpperCase()+v.slice(1)} Categories`:"Categories",allowReordering:e?.loginType==="super_admin"})]}),r.jsx(gr,{isOpen:a,onClose:()=>{n(!1),g(null)},title:`Add New ${v.charAt(0).toUpperCase()+v.slice(1)} Category`,size:"xl",children:r.jsx(hL,{initialData:M(),onSave:z,onCancel:()=>{n(!1),g(null)}})}),r.jsx(gr,{isOpen:o,onClose:()=>{u(!1),g(null)},title:"Edit Category",size:"xl",children:f&&r.jsx(hL,{initialData:f,onSave:z,onCancel:()=>{u(!1),g(null)},isEdit:!0})}),r.jsx(gr,{isOpen:i,onClose:()=>{l(!1),g(null)},title:"Category Details",size:"lg",children:f&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-lg",children:[r.jsx("div",{className:`w-16 h-16 rounded-lg border-2 flex items-center justify-center ${f.color==="blue"?"bg-blue-100 border-blue-200":f.color==="green"?"bg-green-100 border-green-200":f.color==="red"?"bg-red-100 border-red-200":f.color==="yellow"?"bg-yellow-100 border-yellow-200":f.color==="purple"?"bg-purple-100 border-purple-200":f.color==="orange"?"bg-orange-100 border-orange-200":"bg-gray-100 border-gray-200"}`,children:f.image?r.jsx("img",{src:typeof f.image=="string"?f.image:URL.createObjectURL(f.image),alt:f.name,className:"w-full h-full object-cover rounded-lg"}):r.jsx("span",{className:"text-2xl",children:f.icon==="fish"?"":f.icon==="shrimp"?"":f.icon==="crab"?"":f.icon==="squid"?"":f.icon==="chicken"?"":f.icon==="meat"?"":f.icon==="egg"?"":f.icon==="spices"?"":""})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-xl font-semibold",children:f.name}),r.jsx("p",{className:"text-gray-600",children:f.nameTa}),r.jsx("div",{className:"flex items-center gap-2 mt-2",children:r.jsx(at,{variant:f.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:f.isActive?"Visible":"Hidden"})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("p",{className:"text-gray-900",children:f.description})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Products"}),r.jsxs("p",{className:"text-gray-900",children:[f.productCount," products using this category"]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Created"}),r.jsx("p",{className:"text-gray-900",children:new Date(f.createdAt).toLocaleDateString()})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Updated"}),r.jsx("p",{className:"text-gray-900",children:new Date(f.updatedAt).toLocaleDateString()})]})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[r.jsx(ce,{variant:"secondary",onClick:()=>{l(!1),g(null)},className:"flex-1",children:"Close"}),r.jsx(ce,{onClick:()=>{l(!1),u(!0)},className:"flex-1",children:"Edit Category"}),r.jsxs(ce,{variant:"secondary",onClick:()=>F(f),className:"flex-1",children:[r.jsx(hx,{className:"mr-2 h-4 w-4"}),"View History"]})]})]})}),r.jsx(gr,{isOpen:d,onClose:()=>{m(!1),g(null)},title:"Category Change History",size:"lg",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 rounded-lg",children:[r.jsx(Hs,{className:"h-5 w-5 text-blue-600"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-blue-900",children:"Change History"}),r.jsx("p",{className:"text-sm text-blue-700",children:"Track all changes made to categories and their impact on products"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"border-l-4 border-green-500 pl-4 py-2",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Category Reordered"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Category order changed from position 3 to 1"}),r.jsx("p",{className:"text-xs text-gray-500",children:"by Admin User"})]}),r.jsx("span",{className:"text-xs text-gray-500",children:"2026-01-17 02:30 PM"})]})}),r.jsx("div",{className:"border-l-4 border-blue-500 pl-4 py-2",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Category Updated"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Description and image updated"}),r.jsxs("p",{className:"text-xs text-gray-500",children:["by ",f?.name," Manager"]})]}),r.jsx("span",{className:"text-xs text-gray-500",children:"2026-01-15 10:15 AM"})]})}),r.jsx("div",{className:"border-l-4 border-purple-500 pl-4 py-2",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Category Created"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Initial category setup with all details"}),r.jsx("p",{className:"text-xs text-gray-500",children:"by System Admin"})]}),r.jsx("span",{className:"text-xs text-gray-500",children:"2026-01-01 09:00 AM"})]})})]}),r.jsx("div",{className:"flex justify-end pt-4 border-t",children:r.jsx(ce,{variant:"secondary",onClick:()=>{m(!1),g(null)},children:"Close"})})]})})]})})})}const QSe=[{value:"sea-fish",label:"Sea Fish"},{value:"freshwater-fish",label:"Freshwater Fish"},{value:"shell-fish",label:"Shell Fish"},{value:"dry-fish",label:"Dry Fish"},{value:"chicken",label:"Chicken"},{value:"mutton",label:"Mutton"},{value:"egg",label:"Egg"}],e3e=["Halal","Organic","MSC Certified","ASC Certified","HACCP","ISO 22000","BRC","SQF"],t3e=[{value:"grade-a",label:"Grade A (Premium)"},{value:"grade-b",label:"Grade B"},{value:"grade-c",label:"Grade C"}],r3e=["Vacuum Packed","Ice Packed","Frozen Box","Fresh Box","Bulk Container"],s3e=["Chilka Lake","Sundarban Delta","Kerala Backwaters","Bay of Bengal","Arabian Sea","Local Farm"],a3e=["India","Norway","Chile","Thailand","Vietnam","Bangladesh"];function pL({initialData:e,onSave:t,onCancel:s,isEdit:a=!1}){const[n,i]=_.useState({batchNumber:e?.batchNumber||"",traceabilityCode:e?.traceabilityCode||`LOT-${new Date().toISOString().slice(0,10).replace(/-/g,"")}-${Math.random().toString(36).substr(2,6).toUpperCase()}`,productName:e?.productName||"",category:e?.category||"",individualWeight:e?.individualWeight||0,quantity:e?.quantity||0,quantityUnit:e?.quantityUnit||"kg",catchSlaughterDate:e?.catchSlaughterDate||"",receivedDate:e?.receivedDate||new Date().toISOString().slice(0,10),expiryDate:e?.expiryDate||"",certifications:e?.certifications||[],catchType:e?.catchType||"wild",chemicalFree:e?.chemicalFree||"no",qualityGrade:e?.qualityGrade||"grade-a",harvestOrigin:e?.harvestOrigin||"",countryOfOrigin:e?.countryOfOrigin||"India",packagingType:e?.packagingType||"",storageTemperature:e?.storageTemperature||"0-4C (Fresh)",createdBy:e?.createdBy||"Current User",createdByRole:e?.createdByRole||"Procurement Manager",status:e?.status||"pending"}),l=(d,m)=>{i(f=>({...f,[d]:m}))},o=d=>{i(m=>({...m,certifications:m.certifications.includes(d)?m.certifications.filter(f=>f!==d):[...m.certifications,d]}))},u=()=>{if(!n.productName||!n.category||!n.quantity){alert("Please fill in all required fields");return}t(n)};return r.jsxs("div",{className:"space-y-6 max-h-[80vh] overflow-y-auto",children:[r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(Pt,{className:"h-5 w-5 text-blue-600"}),r.jsx("h3",{className:"text-lg font-semibold",children:"Batch Information"})]}),r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Batch/Lot Number *"}),r.jsx(he,{value:n.batchNumber,onChange:d=>l("batchNumber",d.target.value),placeholder:"Enter batch number"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Traceability Code"}),r.jsx(he,{value:n.traceabilityCode,onChange:d=>l("traceabilityCode",d.target.value),placeholder:"LOT-20260115-CH001"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Name *"}),r.jsx(he,{value:n.productName,onChange:d=>l("productName",d.target.value),placeholder:"Tuna, Seer, Chicken breast"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),r.jsxs("select",{value:n.category,onChange:d=>l("category",d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"Select Category"}),QSe.map(d=>r.jsx("option",{value:d.value,children:d.label},d.value))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Individual Product Weight *"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(he,{type:"number",value:n.individualWeight,onChange:d=>l("individualWeight",Number(d.target.value)),placeholder:"5",step:"0.1"}),r.jsxs("select",{value:n.quantityUnit,onChange:d=>l("quantityUnit",d.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"kg",children:"Kg"}),r.jsx("option",{value:"g",children:"g"}),r.jsx("option",{value:"pcs",children:"Pcs"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantity/Count per kg *"}),r.jsx(he,{type:"number",value:n.quantity,onChange:d=>l("quantity",Number(d.target.value)),placeholder:"1 Count & 2-3 per kgs"})]})]})]}),r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(hs,{className:"h-5 w-5 text-green-600"}),r.jsx("h3",{className:"text-lg font-semibold",children:"Date Information"})]}),r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Catch/Slaughter Date *"}),r.jsx(he,{type:"date",value:n.catchSlaughterDate,onChange:d=>l("catchSlaughterDate",d.target.value)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Received Date *"}),r.jsx(he,{type:"date",value:n.receivedDate,onChange:d=>l("receivedDate",d.target.value)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expiry/Use By Date *"}),r.jsx(he,{type:"date",value:n.expiryDate,onChange:d=>l("expiryDate",d.target.value)})]})]})]}),r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(e9,{className:"h-5 w-5 text-yellow-600"}),r.jsx("h3",{className:"text-lg font-semibold",children:"Quality & Certifications"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Certifications"}),r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:e3e.map(d=>r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:n.certifications.includes(d),onChange:()=>o(d),className:"rounded border-gray-300"}),r.jsx("span",{className:"text-sm",children:d})]},d))})]}),r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Catch Type"}),r.jsxs("select",{value:n.catchType,onChange:d=>l("catchType",d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"wild",children:"Wild"}),r.jsx("option",{value:"farmed",children:"Farmed"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chemical Free"}),r.jsxs("select",{value:n.chemicalFree,onChange:d=>l("chemicalFree",d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"no",children:"No"}),r.jsx("option",{value:"yes",children:"Yes"}),r.jsx("option",{value:"organic",children:"Organic"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quality Grade"}),r.jsx("select",{value:n.qualityGrade,onChange:d=>l("qualityGrade",d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:t3e.map(d=>r.jsx("option",{value:d.value,children:d.label},d.value))})]})]})]})]}),r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(qs,{className:"h-5 w-5 text-red-600"}),r.jsx("h3",{className:"text-lg font-semibold",children:"Origin Information"})]}),r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Catch/Harvest Origin"}),r.jsxs("select",{value:n.harvestOrigin,onChange:d=>l("harvestOrigin",d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"Select Origin"}),s3e.map(d=>r.jsx("option",{value:d,children:d},d))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country of Origin"}),r.jsx("select",{value:n.countryOfOrigin,onChange:d=>l("countryOfOrigin",d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:a3e.map(d=>r.jsx("option",{value:d,children:d},d))})]})]})]}),r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(Yp,{className:"h-5 w-5 text-purple-600"}),r.jsx("h3",{className:"text-lg font-semibold",children:"Packaging & Storage"})]}),r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Packaging Type"}),r.jsxs("select",{value:n.packagingType,onChange:d=>l("packagingType",d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"Select Packaging"}),r3e.map(d=>r.jsx("option",{value:d,children:d},d))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Storage Temperature"}),r.jsxs("select",{value:n.storageTemperature,onChange:d=>l("storageTemperature",d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"0-4C (Fresh)",children:"0-4C (Fresh)"}),r.jsx("option",{value:"-18C (Frozen)",children:"-18C (Frozen)"}),r.jsx("option",{value:"Room Temperature",children:"Room Temperature"})]})]})]})]}),r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(il,{className:"h-5 w-5 text-gray-600"}),r.jsx("h3",{className:"text-lg font-semibold",children:"System Information"})]}),r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Created By"}),r.jsx(he,{value:n.createdBy,onChange:d=>l("createdBy",d.target.value),placeholder:"Person name",readOnly:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role"}),r.jsx(he,{value:n.createdByRole,onChange:d=>l("createdByRole",d.target.value),placeholder:"Role",readOnly:!0})]})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[r.jsxs(ce,{variant:"secondary",onClick:s,children:[r.jsx(ws,{className:"mr-2 h-4 w-4"}),"Cancel"]}),r.jsxs(ce,{onClick:u,children:[r.jsx(Ii,{className:"mr-2 h-4 w-4"}),a?"Update":"Submit for Approval"]})]})]})}const xL=[{id:"approve",label:"Approve Batches",icon:Cr,variant:"success",requiresConfirmation:!0,confirmationMessage:"Are you sure you want to approve the selected batches?"},{id:"reject",label:"Reject Batches",icon:uh,variant:"danger",requiresConfirmation:!0,confirmationMessage:"Are you sure you want to reject the selected batches?"},{id:"update_expiry",label:"Update Expiry Dates",icon:hs,variant:"warning",requiresConfirmation:!0,confirmationMessage:"Update expiry dates for selected batches?"},{id:"delete",label:"Delete Batches",icon:Sr,variant:"danger",requiresConfirmation:!0,confirmationMessage:"Are you sure you want to delete the selected batches? This action cannot be undone."}];function n3e({batches:e,onView:t,onEdit:s,onDelete:a,onApprove:n,onReject:i,onBulkAction:l,title:o="Stock Batches",showApprovalActions:u=!1}){const[d,m]=_.useState(""),[f,g]=_.useState(""),[p,y]=_.useState(""),[v,j]=_.useState(""),[N,k]=_.useState({isOpen:!1,actionId:"",actionType:""}),w=e.filter(Z=>{const ie=!d||Z.productName.toLowerCase().includes(d.toLowerCase())||Z.batchNumber.toLowerCase().includes(d.toLowerCase())||Z.traceabilityCode.toLowerCase().includes(d.toLowerCase()),G=!f||Z.category===f,ee=!p||Z.status===p,Ne=!v||v==="expired"&&Z.daysUntilExpiry<0||v==="expiring_soon"&&Z.daysUntilExpiry>=0&&Z.daysUntilExpiry<=3||v==="fresh"&&Z.daysUntilExpiry>3;return ie&&G&&ee&&Ne}),{selectedItems:A,selectAll:C,deselectAll:M,toggleItem:R,isSelected:D}=Rx(w),B=A.length===w.length&&w.length>0,z=A.length>0&&A.length<w.length,I=Z=>{const ie=xL.find(G=>G.id===Z);ie?.requiresConfirmation?k({isOpen:!0,actionId:Z,actionType:ie.variant||"default"}):l?.(Z,A)},F=async Z=>{l&&(await l(N.actionId,A,Z),M()),k({isOpen:!1,actionId:"",actionType:""})},Y=Z=>{switch(Z){case"approved":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},te=Z=>Z<0?"text-red-600":Z<=3?"text-yellow-600":"text-green-600",ue=Z=>Z<0?"Expired":Z===0?"Expires Today":Z<=3?`${Z} days left`:`${Z} days left`;return r.jsxs("div",{className:"space-y-4",children:[r.jsx(Px,{searchValue:d,onSearchChange:m,placeholder:"Search by product name, batch number, or traceability code...",filters:[{key:"category",label:"Category",value:f,onChange:g,options:[{value:"",label:"All Categories"},{value:"sea-fish",label:"Sea Fish"},{value:"freshwater-fish",label:"Freshwater Fish"},{value:"shell-fish",label:"Shell Fish"},{value:"dry-fish",label:"Dry Fish"},{value:"chicken",label:"Chicken"},{value:"mutton",label:"Mutton"},{value:"egg",label:"Egg"}]},{key:"status",label:"Status",value:p,onChange:y,options:[{value:"",label:"All Status"},{value:"pending",label:"Pending Approval"},{value:"approved",label:"Approved"},{value:"rejected",label:"Rejected"}]},{key:"expiry",label:"Expiry Status",value:v,onChange:j,options:[{value:"",label:"All Items"},{value:"fresh",label:"Fresh (>3 days)"},{value:"expiring_soon",label:"Expiring Soon (3 days)"},{value:"expired",label:"Expired"}]}]}),A.length>0&&r.jsx(Dx,{selectedItems:A,totalItems:w.length,onSelectAll:C,onDeselectAll:M,actions:xL,onAction:I,itemName:"batches"}),w.length>0&&r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:B?M:C,className:`p-1 rounded transition-colors ${B?"text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:B?r.jsx(Fo,{className:"h-4 w-4"}):z?r.jsx(bd,{className:"h-4 w-4"}):r.jsx(Bo,{className:"h-4 w-4"})}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:A.length>0?`${A.length} of ${w.length} ${o.toLowerCase()} selected`:`Select all ${w.length} ${o.toLowerCase()}`})]})}),r.jsx("div",{className:"space-y-3",children:w.map(Z=>r.jsx(ae,{className:"p-4 hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("button",{onClick:()=>R(Z.id),className:`p-1 rounded transition-colors flex-shrink-0 mt-1 ${D(Z.id)?"text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:D(Z.id)?r.jsx(Fo,{className:"h-4 w-4"}):r.jsx(Bo,{className:"h-4 w-4"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[r.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:Z.productName}),r.jsx(at,{variant:Y(Z.status),className:"text-xs",children:Z.status.charAt(0).toUpperCase()+Z.status.slice(1)}),r.jsx(at,{variant:"bg-purple-100 text-purple-800",className:"text-xs capitalize",children:Z.qualityGrade.replace("-"," ")}),Z.chemicalFree==="organic"&&r.jsx(at,{variant:"bg-green-100 text-green-800",className:"text-xs",children:"Organic"}),Z.chemicalFree==="yes"&&r.jsx(at,{variant:"bg-green-100 text-green-800",className:"text-xs",children:"Chemical Free"})]}),r.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-600 mb-2",children:[r.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:Z.batchNumber}),r.jsx("span",{className:"font-mono bg-blue-50 px-2 py-1 rounded text-blue-700",children:Z.traceabilityCode})]})]}),r.jsxs("div",{className:"text-right flex-shrink-0 bg-green-50 p-3 rounded-lg border border-green-200 ml-4",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Total Value"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:jt(Z.totalValue)})]})]}),r.jsxs("div",{className:"mb-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[r.jsx("p",{className:"text-xs font-semibold text-blue-900 mb-2",children:"Batch Information"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Category"}),r.jsx("p",{className:"font-semibold text-gray-900 capitalize",children:Z.category.replace("-"," ")})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Individual Weight"}),r.jsxs("p",{className:"font-semibold text-gray-900",children:[Z.individualWeight," ",Z.quantityUnit]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Total Quantity"}),r.jsxs("p",{className:"font-semibold text-gray-900",children:[Z.quantity," units"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Catch Type"}),r.jsx("p",{className:"font-semibold text-gray-900 capitalize",children:Z.catchType})]})]})]}),r.jsxs("div",{className:"mb-3 p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:[r.jsx("p",{className:"text-xs font-semibold text-yellow-900 mb-2",children:"Dates & Expiry"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(hs,{className:"h-3 w-3 text-yellow-600 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Catch/Slaughter"}),r.jsx("p",{className:"text-xs font-semibold text-gray-900",children:new Date(Z.catchSlaughterDate).toLocaleDateString("en-IN",{month:"short",day:"numeric",year:"numeric"})})]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(hs,{className:"h-3 w-3 text-yellow-600 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Received Date"}),r.jsx("p",{className:"text-xs font-semibold text-gray-900",children:new Date(Z.receivedDate).toLocaleDateString("en-IN",{month:"short",day:"numeric",year:"numeric"})})]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(wr,{className:"h-3 w-3 text-yellow-600 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Expiry Date"}),r.jsx("p",{className:`text-xs font-semibold ${te(Z.daysUntilExpiry)}`,children:new Date(Z.expiryDate).toLocaleDateString("en-IN",{month:"short",day:"numeric",year:"numeric"})})]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(wr,{className:"h-3 w-3 text-yellow-600 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Days Until Expiry"}),r.jsx("p",{className:`text-xs font-bold ${te(Z.daysUntilExpiry)}`,children:ue(Z.daysUntilExpiry)})]})]})]})]}),r.jsxs("div",{className:"mb-3 p-3 bg-purple-50 rounded-lg border border-purple-200",children:[r.jsx("p",{className:"text-xs font-semibold text-purple-900 mb-2",children:"Origin & Source"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(qs,{className:"h-3 w-3 text-purple-600 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Harvest Origin"}),r.jsx("p",{className:"text-xs font-semibold text-gray-900",children:Z.harvestOrigin})]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(qs,{className:"h-3 w-3 text-purple-600 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Country"}),r.jsx("p",{className:"text-xs font-semibold text-gray-900",children:Z.countryOfOrigin})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Created By"}),r.jsx("p",{className:"text-xs font-semibold text-gray-900",children:Z.createdBy}),r.jsx("p",{className:"text-xs text-gray-500",children:Z.createdByRole})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Chemical Status"}),r.jsx("p",{className:"text-xs font-semibold text-gray-900 capitalize",children:Z.chemicalFree})]})]})]}),r.jsxs("div",{className:"mb-3 p-3 bg-indigo-50 rounded-lg border border-indigo-200",children:[r.jsx("p",{className:"text-xs font-semibold text-indigo-900 mb-2",children:"Storage & Packaging"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Pt,{className:"h-3 w-3 text-indigo-600 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Packaging Type"}),r.jsx("p",{className:"text-xs font-semibold text-gray-900",children:Z.packagingType})]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Yp,{className:"h-3 w-3 text-indigo-600 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Storage Temperature"}),r.jsx("p",{className:"text-xs font-semibold text-gray-900",children:Z.storageTemperature})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Quality Grade"}),r.jsx("p",{className:"text-xs font-semibold text-gray-900 capitalize",children:Z.qualityGrade.replace("-"," ")})]})]})]}),Z.certifications.length>0&&r.jsxs("div",{className:"mb-3 p-3 bg-green-50 rounded-lg border border-green-200",children:[r.jsxs("p",{className:"text-xs font-semibold text-green-900 mb-2",children:["Certifications (",Z.certifications.length,")"]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:Z.certifications.map(ie=>r.jsx(at,{variant:"bg-green-100 text-green-800",className:"text-xs",children:ie},ie))})]}),Z.status==="approved"&&Z.approvedBy&&r.jsxs("div",{className:"mb-3 p-3 bg-green-50 rounded-lg border border-green-200",children:[r.jsx("p",{className:"text-xs font-semibold text-green-900 mb-1",children:"Approval Information"}),r.jsxs("p",{className:"text-xs text-green-700",children:["Approved by ",r.jsx("strong",{children:Z.approvedBy})," on"," ",Z.approvedDate&&new Date(Z.approvedDate).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})]})]}),Z.status==="rejected"&&Z.rejectionReason&&r.jsxs("div",{className:"mb-3 p-3 bg-red-50 rounded-lg border border-red-200",children:[r.jsx("p",{className:"text-xs font-semibold text-red-900 mb-1",children:"Rejection Reason"}),r.jsx("p",{className:"text-xs text-red-700",children:Z.rejectionReason})]}),r.jsxs("div",{className:"flex flex-wrap gap-2 pt-3 border-t",children:[r.jsxs("button",{onClick:()=>t?.(Z),className:"flex items-center gap-1 px-3 py-1.5 text-xs border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[r.jsx(Fr,{className:"h-3 w-3"}),"View Details"]}),r.jsxs("button",{onClick:()=>s?.(Z),className:"flex items-center gap-1 px-3 py-1.5 text-xs border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[r.jsx(vs,{className:"h-3 w-3"}),"Edit"]}),u&&Z.status==="pending"&&r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>n?.(Z),className:"flex items-center gap-1 px-3 py-1.5 text-xs bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[r.jsx(Cr,{className:"h-3 w-3"}),"Approve"]}),r.jsxs("button",{onClick:()=>i?.(Z),className:"flex items-center gap-1 px-3 py-1.5 text-xs bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[r.jsx(uh,{className:"h-3 w-3"}),"Reject"]})]}),r.jsxs("button",{onClick:()=>a?.(Z),className:"flex items-center gap-1 px-3 py-1.5 text-xs border border-red-300 text-red-600 rounded-lg hover:bg-red-50 transition-colors",children:[r.jsx(Sr,{className:"h-3 w-3"}),"Delete"]})]})]})]})},Z.id))}),w.length===0&&r.jsxs(ae,{className:"p-12 text-center",children:[r.jsx(Pt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No stock batches found"}),r.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or filters"})]}),r.jsx(Mx,{isOpen:N.isOpen,onClose:()=>k({isOpen:!1,actionId:"",actionType:""}),onConfirm:F,title:`Bulk Action: ${N.actionId}`,actionType:N.actionType,selectedCount:A.length,itemName:"batches"})]})}const i3e=["Batch Number","Traceability Code","Product Name","Category","Quantity","Unit (kg/g/pcs)","Individual Weight","Catch Date (YYYY-MM-DD)","Received Date (YYYY-MM-DD)","Expiry Date (YYYY-MM-DD)","Harvest Origin","Country","Catch Type (wild/farmed)","Quality Grade (grade-a/b/c)","Packaging Type","Storage Temp"],l3e=["BATCH-005","LOT-20260128-TEMP","Mackerel","sea-fish","100","kg","0.5","2026-01-27","2026-01-28","2026-02-01","Arabian Sea","India","wild","grade-a","Ice Packed","0-4C (Fresh)"];function o3e({isOpen:e,onClose:t,onUpload:s}){const[a,n]=_.useState(null),[i,l]=_.useState([]),[o,u]=_.useState([]),[d,m]=_.useState(!1),f=_.useRef(null),g=()=>{const k=[i3e.join(","),l3e.join(",")].join(`
`),w=new Blob([k],{type:"text/csv"}),A=window.URL.createObjectURL(w),C=document.createElement("a");C.href=A,C.download="stock_batch_template.csv",C.click(),window.URL.revokeObjectURL(A)},p=k=>{const w=k.split(`
`),A=[],C=[];for(let M=1;M<w.length;M++){const R=w[M].trim();if(!R)continue;const D=R.split(",").map(le=>le.trim());if(D.length<5){C.push({row:M+1,message:"Insufficient columns"});continue}const[B,z,I,F,Y,te,ue,Z,ie,G,ee,Ne,X,P,H,q]=D;if(!I){C.push({row:M+1,message:"Product Name is required"});continue}if(!F){C.push({row:M+1,message:"Category is required"});continue}if(isNaN(Number(Y))){C.push({row:M+1,message:"Quantity must be a number"});continue}const W={batchNumber:B||`BATCH-${Date.now()}-${M}`,traceabilityCode:z||`LOT-${new Date().toISOString().slice(0,10).replace(/-/g,"")}`,productName:I,category:F,quantity:Number(Y),quantityUnit:te||"kg",individualWeight:Number(ue)||0,catchSlaughterDate:Z||new Date().toISOString().slice(0,10),receivedDate:ie||new Date().toISOString().slice(0,10),expiryDate:G||"",harvestOrigin:ee||"",countryOfOrigin:Ne||"India",catchType:X||"wild",qualityGrade:P||"grade-a",packagingType:H||"",storageTemperature:q||"0-4C (Fresh)",certifications:[],chemicalFree:"no",createdBy:"Bulk Upload",createdByRole:"System",status:"pending"};A.push(W)}l(A),u(C)},y=k=>{const w=k.target.files?.[0];if(w){n(w);const A=new FileReader;A.onload=C=>{const M=C.target?.result;p(M)},A.readAsText(w)}},v=k=>{k.preventDefault(),m(!1);const w=k.dataTransfer.files[0];if(w?.type==="text/csv"||w?.name.endsWith(".csv")){n(w);const A=new FileReader;A.onload=C=>{const M=C.target?.result;p(M)},A.readAsText(w)}},j=()=>{s(i),N()},N=()=>{n(null),l([]),u([]),t()};return r.jsx(gr,{isOpen:e,onClose:N,title:"Bulk Upload Stock Batches",size:"xl",children:r.jsxs("div",{className:"space-y-6",children:[a?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-4 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Hs,{className:"h-8 w-8 text-blue-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:a.name}),r.jsxs("p",{className:"text-sm text-gray-500",children:[i.length," valid records found"]})]})]}),r.jsxs(ce,{variant:"secondary",onClick:()=>{n(null),l([])},children:[r.jsx(ld,{className:"mr-2 h-4 w-4"}),"Change File"]})]}),o.length>0&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[r.jsxs("h4",{className:"flex items-center text-red-800 font-medium mb-2",children:[r.jsx(ls,{className:"h-4 w-4 mr-2"}),"Found ",o.length," errors"]}),r.jsx("ul",{className:"list-disc list-inside text-sm text-red-700 max-h-32 overflow-y-auto",children:o.map((k,w)=>r.jsxs("li",{children:["Row ",k.row,": ",k.message]},w))})]}),i.length>0&&r.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[r.jsx("div",{className:"bg-gray-50 px-4 py-2 border-b font-medium text-sm text-gray-700",children:"Preview (First 5 records)"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Qty"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Expiry"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.slice(0,5).map((k,w)=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:k.productName}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:k.category}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[k.quantity," ",k.quantityUnit]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:k.expiryDate})]},w))})]})}),i.length>5&&r.jsxs("div",{className:"px-4 py-2 bg-gray-50 border-t text-sm text-gray-500 text-center",children:["...and ",i.length-5," more records"]})]})]}):r.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${d?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,onDragOver:k=>{k.preventDefault(),m(!0)},onDragLeave:()=>m(!1),onDrop:v,children:[r.jsx(Ro,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Upload CSV File"}),r.jsx("p",{className:"text-gray-500 mb-6",children:"Drag and drop your CSV file here, or click to browse"}),r.jsxs("div",{className:"flex justify-center gap-4",children:[r.jsx(ce,{onClick:()=>f.current?.click(),children:"Browse Files"}),r.jsxs(ce,{variant:"secondary",onClick:g,children:[r.jsx(Ho,{className:"mr-2 h-4 w-4"}),"Download Template"]})]}),r.jsx("input",{type:"file",ref:f,className:"hidden",accept:".csv",onChange:y})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[r.jsx(ce,{variant:"secondary",onClick:N,children:"Cancel"}),r.jsxs(ce,{onClick:j,disabled:!a||i.length===0||o.length>0,className:o.length>0?"opacity-50 cursor-not-allowed":"",children:[r.jsx(Ro,{className:"mr-2 h-4 w-4"}),"Upload ",i.length," Batches"]})]})]})})}const g1=[{id:"1",batchNumber:"BATCH-001",traceabilityCode:"LOT-20260115-CH001",productName:"Tuna",category:"sea-fish",individualWeight:5,quantity:20,quantityUnit:"kg",catchSlaughterDate:"2026-01-16",receivedDate:"2026-01-17",expiryDate:"2026-01-20",certifications:["Halal","MSC Certified"],catchType:"wild",chemicalFree:"yes",qualityGrade:"grade-a",harvestOrigin:"Bay of Bengal",countryOfOrigin:"India",packagingType:"Ice Packed",storageTemperature:"0-4C (Fresh)",createdBy:"Rajesh Kumar",createdByRole:"Procurement Manager",status:"approved",totalValue:25e3,daysUntilExpiry:3,approvedBy:"Suresh Admin",approvedDate:"2026-01-17"},{id:"2",batchNumber:"BATCH-002",traceabilityCode:"LOT-20260115-CH002",productName:"Seer Fish",category:"sea-fish",individualWeight:2,quantity:15,quantityUnit:"kg",catchSlaughterDate:"2026-01-15",receivedDate:"2026-01-17",expiryDate:"2026-01-19",certifications:["Halal"],catchType:"wild",chemicalFree:"no",qualityGrade:"grade-b",harvestOrigin:"Chilka Lake",countryOfOrigin:"India",packagingType:"Vacuum Packed",storageTemperature:"0-4C (Fresh)",createdBy:"Priya Sharma",createdByRole:"Hub Manager",status:"pending",totalValue:18e3,daysUntilExpiry:1},{id:"3",batchNumber:"BATCH-003",traceabilityCode:"LOT-20260115-ST001",productName:"Chicken Breast",category:"chicken",individualWeight:.5,quantity:50,quantityUnit:"kg",catchSlaughterDate:"2026-01-16",receivedDate:"2026-01-17",expiryDate:"2026-01-22",certifications:["Halal","HACCP"],catchType:"farmed",chemicalFree:"organic",qualityGrade:"grade-a",harvestOrigin:"Local Farm",countryOfOrigin:"India",packagingType:"Fresh Box",storageTemperature:"0-4C (Fresh)",createdBy:"Arun Patel",createdByRole:"Store Manager",status:"approved",totalValue:14e3,daysUntilExpiry:5,approvedBy:"Suresh Admin",approvedDate:"2026-01-17"},{id:"4",batchNumber:"BATCH-004",traceabilityCode:"LOT-20260114-CH003",productName:"Tiger Prawns",category:"shell-fish",individualWeight:1,quantity:10,quantityUnit:"kg",catchSlaughterDate:"2026-01-14",receivedDate:"2026-01-16",expiryDate:"2026-01-18",certifications:["MSC Certified"],catchType:"wild",chemicalFree:"yes",qualityGrade:"grade-a",harvestOrigin:"Sundarban Delta",countryOfOrigin:"India",packagingType:"Ice Packed",storageTemperature:"0-4C (Fresh)",createdBy:"Meera Nair",createdByRole:"Procurement Officer",status:"rejected",totalValue:8500,daysUntilExpiry:-1,rejectionReason:"Quality issues detected during inspection"}];function v1(){const{user:e}=os(),[t,s]=_.useState("hub"),[a,n]=_.useState(!1),[i,l]=_.useState(!1),[o,u]=_.useState(!1),[d,m]=_.useState(!1),[f,g]=_.useState(!1),[p,y]=_.useState(null),j=e?.loginType==="super_admin"?g1:e?.loginType==="hub"?g1.filter(Ne=>["sea-fish","freshwater-fish","shell-fish","dry-fish"].includes(Ne.category)):e?.loginType==="store"?g1.filter(Ne=>["chicken","mutton","egg"].includes(Ne.category)):g1,N=j.filter(Ne=>["sea-fish","freshwater-fish","shell-fish","dry-fish"].includes(Ne.category)),k=j.filter(Ne=>["chicken","mutton","egg"].includes(Ne.category)),A=(()=>{const Ne=[{id:"hub",label:"Hub Stock",icon:eo,count:N.length},{id:"store",label:"Store Stock",icon:Zn,count:k.length}];return e?.loginType==="hub"?Ne.filter(X=>X.id==="hub"):e?.loginType==="store"?Ne.filter(X=>X.id==="store"):Ne})();_.useState(()=>{const Ne=e?.loginType==="hub"?"hub":e?.loginType==="store"?"store":"hub";s(Ne)});const C=()=>t==="hub"?N:k,M=Ne=>{y(Ne),l(!0)},R=Ne=>{y(Ne),u(!0)},D=Ne=>{confirm("Are you sure you want to delete this stock batch?")&&console.log("Delete batch:",Ne.id)},B=Ne=>{confirm("Are you sure you want to approve this stock batch?")&&console.log("Approve batch:",Ne.id)},z=Ne=>{const X=prompt("Please provide a reason for rejection:");X&&console.log("Reject batch:",Ne.id,"Reason:",X)},I=()=>{y(null),n(!0)},F=Ne=>{console.log("Save batch:",Ne),n(!1),u(!1),y(null),alert("Stock batch submitted for approval successfully!")},Y=Ne=>{console.log("Bulk upload data:",Ne),alert(`Successfully uploaded ${Ne.length} batches!`),g(!1)},te=Ne=>{y(Ne),m(!0)},ue=async(Ne,X,P)=>{try{switch(Ne){case"approve":console.log(`Approving ${X.length} batches:`,X);break;case"reject":console.log(`Rejecting ${X.length} batches:`,X);break;case"update_expiry":console.log(`Updating expiry for ${X.length} batches:`,X);break;case"delete":console.log(`Deleting ${X.length} batches:`,X);break;default:console.log(`Bulk action ${Ne} performed on ${X.length} batches`,P)}}catch(H){console.error("Batch bulk action failed:",H),alert("Bulk action failed. Please try again.")}},Z=Ne=>({total:Ne.length,approved:Ne.filter(X=>X.status==="approved").length,pending:Ne.filter(X=>X.status==="pending").length,rejected:Ne.filter(X=>X.status==="rejected").length,expiringSoon:Ne.filter(X=>X.daysUntilExpiry>=0&&X.daysUntilExpiry<=3).length,expired:Ne.filter(X=>X.daysUntilExpiry<0).length,totalValue:Ne.reduce((X,P)=>X+P.totalValue,0)}),ie=Z(N),G=Z(k),ee=t==="hub"?ie:G;return r.jsx("div",{className:"min-h-screen bg-gray-50",children:r.jsx("div",{className:"w-full py-4 sm:py-6 lg:py-8",children:r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900 truncate",children:e?.loginType==="hub"?"Hub Stock Management":e?.loginType==="store"?"Store Stock Management":"Stock Management"}),r.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1 sm:mt-2",children:"Comprehensive batch tracking with traceability, certifications, and approval workflow"})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[r.jsxs(ce,{variant:"secondary",onClick:()=>m(!0),className:"w-full sm:w-auto flex-shrink-0 px-4 py-2",children:[r.jsx(hx,{className:"mr-2 h-4 w-4"}),r.jsx("span",{className:"hidden sm:inline",children:"History"}),r.jsx("span",{className:"sm:hidden",children:"History"})]}),r.jsxs(ce,{variant:"secondary",onClick:()=>g(!0),className:"w-full sm:w-auto flex-shrink-0 px-4 py-2",children:[r.jsx(Ro,{className:"mr-2 h-4 w-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Bulk Upload"}),r.jsx("span",{className:"sm:hidden",children:"Upload"})]}),r.jsxs(ce,{onClick:I,className:"w-full sm:w-auto flex-shrink-0 px-4 py-2 sm:px-6 sm:py-3",children:[r.jsx(hr,{className:"mr-2 h-4 w-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Add New Stock"}),r.jsx("span",{className:"sm:hidden",children:"Add Stock"})]})]})]})}),r.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 lg:gap-6",children:[r.jsx(ae,{className:"p-3 sm:p-4 lg:p-6 hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 truncate font-medium",children:"Total Batches"}),r.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-gray-900 mt-1",children:ee.total}),r.jsx("p",{className:"text-xs text-gray-500 mt-1 truncate",children:jt(ee.totalValue)})]}),r.jsx("div",{className:"p-2 sm:p-3 bg-blue-100 rounded-lg flex-shrink-0",children:r.jsx(Pt,{className:"h-4 w-4 sm:h-5 sm:w-5 lg:h-6 lg:w-6 text-blue-600"})})]})}),r.jsx(ae,{className:"p-3 sm:p-4 lg:p-6 hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 truncate font-medium",children:"Approved"}),r.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-green-600 mt-1",children:ee.approved}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Ready for sale"})]}),r.jsx("div",{className:"p-2 sm:p-3 bg-green-100 rounded-lg flex-shrink-0",children:r.jsx(Cr,{className:"h-4 w-4 sm:h-5 sm:w-5 lg:h-6 lg:w-6 text-green-600"})})]})}),r.jsx(ae,{className:"p-3 sm:p-4 lg:p-6 hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 truncate font-medium",children:"Pending"}),r.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-yellow-600 mt-1",children:ee.pending}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Awaiting review"})]}),r.jsx("div",{className:"p-2 sm:p-3 bg-yellow-100 rounded-lg flex-shrink-0",children:r.jsx(wr,{className:"h-4 w-4 sm:h-5 sm:w-5 lg:h-6 lg:w-6 text-yellow-600"})})]})}),r.jsx(ae,{className:"p-3 sm:p-4 lg:p-6 hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 truncate font-medium",children:"Expiring Soon"}),r.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-red-600 mt-1",children:ee.expiringSoon}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"3 days left"})]}),r.jsx("div",{className:"p-2 sm:p-3 bg-red-100 rounded-lg flex-shrink-0",children:r.jsx(ls,{className:"h-4 w-4 sm:h-5 sm:w-5 lg:h-6 lg:w-6 text-red-600"})})]})})]}),A.length>1&&r.jsx(ae,{className:"p-4 sm:p-6",children:r.jsx("div",{className:"flex gap-1 sm:gap-2 border-b overflow-x-auto pb-4",children:A.map(Ne=>r.jsx("button",{onClick:()=>s(Ne.id),className:`flex flex-col sm:flex-row items-center gap-1 sm:gap-2 px-3 sm:px-4 py-2 sm:py-3 border-b-2 transition-all whitespace-nowrap text-xs sm:text-sm min-w-0 ${t===Ne.id?"border-blue-600 text-blue-600 bg-blue-50":"border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-50"} rounded-t-lg`,children:r.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[r.jsx(Ne.icon,{className:"h-3 w-3 sm:h-4 sm:w-4 flex-shrink-0"}),r.jsx("span",{className:"font-medium truncate",children:Ne.label}),r.jsx(at,{variant:"bg-gray-100 text-gray-600",className:"text-xs flex-shrink-0",children:Ne.count})]})},Ne.id))})}),r.jsx(ae,{className:"overflow-hidden",children:r.jsx(n3e,{batches:C(),onView:M,onEdit:R,onDelete:D,onApprove:B,onReject:z,onBulkAction:ue,title:t==="hub"?"Hub Stock Batches":"Store Stock Batches",showApprovalActions:e?.loginType==="super_admin"})}),r.jsx(gr,{isOpen:a,onClose:()=>{n(!1),y(null)},title:"Add New Stock Batch",size:"xl",children:r.jsx(pL,{onSave:F,onCancel:()=>{n(!1),y(null)}})}),r.jsx(gr,{isOpen:o,onClose:()=>{u(!1),y(null)},title:"Edit Stock Batch",size:"xl",children:p&&r.jsx(pL,{initialData:p,onSave:F,onCancel:()=>{u(!1),y(null)},isEdit:!0})}),r.jsx(gr,{isOpen:i,onClose:()=>{l(!1),y(null)},title:"Stock Batch Details",size:"xl",children:p&&r.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold",children:p.productName}),r.jsxs("p",{className:"text-gray-600",children:["Batch: ",p.batchNumber]}),r.jsx("p",{className:"text-sm text-gray-500 font-mono",children:p.traceabilityCode})]}),r.jsxs("div",{className:"text-right",children:[r.jsx(at,{variant:p.status==="approved"?"bg-green-100 text-green-800":p.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",className:"text-sm mb-2",children:p.status.charAt(0).toUpperCase()+p.status.slice(1)}),r.jsx("p",{className:"text-lg font-bold",children:jt(p.totalValue)})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs(ae,{className:"p-4",children:[r.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[r.jsx(Pt,{className:"h-4 w-4"}),"Product Information"]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Category:"}),r.jsx("span",{className:"capitalize",children:p.category.replace("-"," ")})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Individual Weight:"}),r.jsxs("span",{children:[p.individualWeight," ",p.quantityUnit]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Quantity:"}),r.jsxs("span",{children:[p.quantity," units"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Quality Grade:"}),r.jsx("span",{className:"capitalize",children:p.qualityGrade.replace("-"," ")})]})]})]}),r.jsxs(ae,{className:"p-4",children:[r.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[r.jsx(wr,{className:"h-4 w-4"}),"Important Dates"]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Catch/Slaughter:"}),r.jsx("span",{children:new Date(p.catchSlaughterDate).toLocaleDateString()})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Received:"}),r.jsx("span",{children:new Date(p.receivedDate).toLocaleDateString()})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Expiry:"}),r.jsx("span",{className:p.daysUntilExpiry<0?"text-red-600 font-medium":p.daysUntilExpiry<=3?"text-yellow-600 font-medium":"text-green-600",children:new Date(p.expiryDate).toLocaleDateString()})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Days Until Expiry:"}),r.jsx("span",{className:p.daysUntilExpiry<0?"text-red-600 font-bold":p.daysUntilExpiry<=3?"text-yellow-600 font-bold":"text-green-600 font-bold",children:p.daysUntilExpiry<0?"Expired":`${p.daysUntilExpiry} days`})]})]})]}),r.jsxs(ae,{className:"p-4",children:[r.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[r.jsx(qs,{className:"h-4 w-4"}),"Origin & Source"]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Harvest Origin:"}),r.jsx("span",{children:p.harvestOrigin})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Country:"}),r.jsx("span",{children:p.countryOfOrigin})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Catch Type:"}),r.jsx("span",{className:"capitalize",children:p.catchType})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Chemical Free:"}),r.jsx("span",{className:"capitalize",children:p.chemicalFree})]})]})]}),r.jsxs(ae,{className:"p-4",children:[r.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[r.jsx(Yp,{className:"h-4 w-4"}),"Storage & Packaging"]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Packaging:"}),r.jsx("span",{children:p.packagingType})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Storage Temp:"}),r.jsx("span",{children:p.storageTemperature})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Created By:"}),r.jsx("span",{children:p.createdBy})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Role:"}),r.jsx("span",{children:p.createdByRole})]})]})]})]}),p.certifications.length>0&&r.jsxs(ae,{className:"p-4",children:[r.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[r.jsx(e9,{className:"h-4 w-4"}),"Certifications"]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:p.certifications.map(Ne=>r.jsx(at,{variant:"bg-blue-100 text-blue-800",className:"text-sm",children:Ne},Ne))})]}),p.status==="approved"&&p.approvedBy&&r.jsxs(ae,{className:"p-4 bg-green-50 border-green-200",children:[r.jsx("h4",{className:"font-semibold mb-2 text-green-800",children:"Approval Information"}),r.jsxs("p",{className:"text-sm text-green-700",children:["Approved by ",r.jsx("strong",{children:p.approvedBy})," on"," ",p.approvedDate&&new Date(p.approvedDate).toLocaleDateString()]})]}),p.status==="rejected"&&p.rejectionReason&&r.jsxs(ae,{className:"p-4 bg-red-50 border-red-200",children:[r.jsx("h4",{className:"font-semibold mb-2 text-red-800",children:"Rejection Information"}),r.jsxs("p",{className:"text-sm text-red-700",children:[r.jsx("strong",{children:"Reason:"})," ",p.rejectionReason]})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[r.jsx(ce,{variant:"secondary",onClick:()=>{l(!1),y(null)},className:"flex-1",children:"Close"}),r.jsx(ce,{onClick:()=>{l(!1),u(!0)},className:"flex-1",children:"Edit Batch"}),r.jsxs(ce,{variant:"secondary",onClick:()=>te(p),className:"flex-1",children:[r.jsx(hx,{className:"mr-2 h-4 w-4"}),"View History"]})]})]})}),r.jsx(gr,{isOpen:d,onClose:()=>{m(!1),y(null)},title:"Batch Edit History",size:"lg",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 rounded-lg",children:[r.jsx(Hs,{className:"h-5 w-5 text-blue-600"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-blue-900",children:"Edit History"}),r.jsx("p",{className:"text-sm text-blue-700",children:"Track all changes made to this batch over time"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"border-l-4 border-green-500 pl-4 py-2",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Batch Approved"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Status changed from Pending to Approved"}),r.jsx("p",{className:"text-xs text-gray-500",children:"by Suresh Admin"})]}),r.jsx("span",{className:"text-xs text-gray-500",children:"2026-01-17 10:30 AM"})]})}),r.jsx("div",{className:"border-l-4 border-blue-500 pl-4 py-2",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Batch Created"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Initial batch entry with all details"}),r.jsxs("p",{className:"text-xs text-gray-500",children:["by ",p?.createdBy]})]}),r.jsx("span",{className:"text-xs text-gray-500",children:"2026-01-17 09:15 AM"})]})})]}),r.jsx("div",{className:"flex justify-end pt-4 border-t",children:r.jsx(ce,{variant:"secondary",onClick:()=>{m(!1),y(null)},children:"Close"})})]})}),r.jsx(o3e,{isOpen:f,onClose:()=>g(!1),onUpload:Y})]})})})}const c3e=[{id:"sales",label:"Sales Report",icon:Tx,description:"Revenue, orders, average order value",path:"/reports/sales",hubPath:"/hub/reports/sales",storePath:"/store/reports/sales"},{id:"packing",label:"Packing Report",icon:Pt,description:"Items packed, time taken, team performance",path:"/reports/packing",hubPath:"/hub/reports/packing",storePath:"/store/reports/packing"},{id:"delivery",label:"Delivery Report",icon:zr,description:"On-time rate, delayed orders, partner performance",path:"/reports/delivery",hubPath:"/hub/reports/delivery",storePath:"/store/reports/delivery"},{id:"stock",label:"Stock Report",icon:Yn,description:"Current stock, low stock alerts, movements",path:"/reports/stock",hubPath:"/hub/reports/stock",storePath:"/store/reports/stock"},{id:"customer",label:"Customer Report",icon:Mr,description:"New customers, active customers, lifetime value",path:"/reports/customer",hubPath:"/hub/reports/customer",storePath:"/store/reports/customer"},{id:"demand-forecast",label:"Products Demand Forecast",icon:Ps,description:"AI-powered demand prediction and inventory planning",path:"/reports/demand-forecast",hubPath:"/hub/reports/demand-forecast",storePath:"/store/reports/demand-forecast"},{id:"trend-analysis",label:"Product Trend Analysis",icon:uX,description:"Track product performance and market trends",path:"/reports/trend-analysis",hubPath:"/hub/reports/trend-analysis",storePath:"/store/reports/trend-analysis"},{id:"tax-gst",label:"Tax & GST Reports",icon:dh,description:"Tax calculation and GST reports for accounting",path:"/reports/tax-gst",hubPath:"/hub/reports/tax-gst",storePath:"/store/reports/tax-gst"}];function Np(){const e=Qv(),t=so(),{user:s}=os();if(s?.role==="hub_procurement"||s?.role==="store_procurement")return r.jsx(l_,{});if(s?.role==="hub_packing"||s?.role==="store_packing"){const l=[{id:"packing",title:"Packing Reports",description:"View packing performance, processing times, and team efficiency",icon:Pt,path:t.pathname.startsWith("/hub/")?"/hub/reports/packing":"/store/reports/packing",color:"bg-orange-500"}];return r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Packing Reports"}),r.jsx("p",{className:"text-gray-600",children:"Access reports related to packing operations and performance"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(o=>{const u=o.icon;return r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>e(o.path),children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:`${o.color} p-3 rounded-lg text-white mr-4`,children:r.jsx(u,{className:"h-6 w-6"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:o.title})]}),r.jsx("p",{className:"text-gray-600 text-sm",children:o.description})]},o.id)})})]})}if(s?.role==="hub_delivery"||s?.role==="store_delivery"){const l=[{id:"delivery",title:"Delivery Reports",description:"View delivery performance, on-time rates, and route efficiency",icon:zr,path:t.pathname.startsWith("/hub/")?"/hub/reports/delivery":"/store/reports/delivery",color:"bg-purple-500"}];return r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Delivery Reports"}),r.jsx("p",{className:"text-gray-600",children:"Access reports related to delivery operations and performance"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(o=>{const u=o.icon;return r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>e(o.path),children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:`${o.color} p-3 rounded-lg text-white mr-4`,children:r.jsx(u,{className:"h-6 w-6"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:o.title})]}),r.jsx("p",{className:"text-gray-600 text-sm",children:o.description})]},o.id)})})]})}const n=t.pathname.startsWith("/hub/")?"hub":t.pathname.startsWith("/store/")?"store":"super_admin",i=l=>{let o=l.path;n==="hub"?o=l.hubPath:n==="store"&&(o=l.storePath),e(o)};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Report Center"}),r.jsx("p",{className:"text-gray-600",children:"Access detailed reports and analytics"})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:r.jsxs(ce,{variant:"secondary",size:"sm",onClick:()=>alert("Exporting all reports..."),children:[r.jsx(Ho,{className:"mr-2 h-5 w-5"})," Export All"]})})]}),r.jsx("div",{className:"grid gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:c3e.map(l=>r.jsx(ae,{className:"cursor-pointer transition-all hover:shadow-md hover:border-blue-300 group",onClick:()=>i(l),children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"rounded-lg bg-blue-50 p-3 group-hover:bg-blue-100 transition-colors",children:r.jsx(l.icon,{className:"h-6 w-6 text-blue-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:l.label}),r.jsx(cN,{className:"h-4 w-4 text-gray-400 group-hover:text-blue-600 transition-colors"})]}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:l.description})]})]})},l.id))}),r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-4",children:[r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Today's Revenue"}),r.jsx("p",{className:"text-2xl font-bold",children:"1,24,500"}),r.jsx("p",{className:"text-xs text-green-600",children:"+12% from yesterday"})]}),r.jsx("div",{className:"rounded-lg bg-blue-50 p-3",children:r.jsx(Tx,{className:"h-6 w-6 text-blue-600"})})]})}),r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Items Packed"}),r.jsx("p",{className:"text-2xl font-bold",children:"1,247"}),r.jsx("p",{className:"text-xs text-green-600",children:"+18% from yesterday"})]}),r.jsx("div",{className:"rounded-lg bg-green-50 p-3",children:r.jsx(Pt,{className:"h-6 w-6 text-green-600"})})]})}),r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Deliveries"}),r.jsx("p",{className:"text-2xl font-bold",children:"142"}),r.jsx("p",{className:"text-xs text-green-600",children:"94.2% on-time"})]}),r.jsx("div",{className:"rounded-lg bg-purple-50 p-3",children:r.jsx(zr,{className:"h-6 w-6 text-purple-600"})})]})}),r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"New Customers"}),r.jsx("p",{className:"text-2xl font-bold",children:"23"}),r.jsx("p",{className:"text-xs text-green-600",children:"+18% from yesterday"})]}),r.jsx("div",{className:"rounded-lg bg-orange-50 p-3",children:r.jsx(Mr,{className:"h-6 w-6 text-orange-600"})})]})})]}),r.jsxs(ae,{children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-6 gap-4",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Recent Report Activity"}),r.jsx(ce,{variant:"secondary",size:"sm",onClick:()=>alert("View all report activity"),children:"View All"})]}),r.jsx("div",{className:"space-y-3",children:[{type:"Sales Report",action:"Generated",time:"2 hours ago",user:"Admin"},{type:"Stock Report",action:"Scheduled",time:"4 hours ago",user:"Manager"},{type:"Delivery Report",action:"Downloaded",time:"6 hours ago",user:"Supervisor"},{type:"Customer Report",action:"Generated",time:"8 hours ago",user:"Admin"}].map((l,o)=>r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-3 bg-gray-50 rounded-lg gap-2",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-sm",children:l.type}),r.jsxs("div",{className:"text-xs text-gray-500",children:[l.action," by ",l.user]})]}),r.jsx("div",{className:"text-xs text-gray-500",children:l.time})]},o))})]})]})}var Bj={};Bj.version="0.18.5";var Wq=1252,d3e=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],Gq=function(e){d3e.indexOf(e)!=-1&&(Wq=e)};function u3e(){Gq(1252)}var Hv=function(e){Gq(e)};function h3e(){Hv(1200),u3e()}var y1=function(t){return String.fromCharCode(t)},gL=function(t){return String.fromCharCode(t)},Uj,km="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function qv(e){for(var t="",s=0,a=0,n=0,i=0,l=0,o=0,u=0,d=0;d<e.length;)s=e.charCodeAt(d++),i=s>>2,a=e.charCodeAt(d++),l=(s&3)<<4|a>>4,n=e.charCodeAt(d++),o=(a&15)<<2|n>>6,u=n&63,isNaN(a)?o=u=64:isNaN(n)&&(u=64),t+=km.charAt(i)+km.charAt(l)+km.charAt(o)+km.charAt(u);return t}function jh(e){var t="",s=0,a=0,n=0,i=0,l=0,o=0,u=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<e.length;)i=km.indexOf(e.charAt(d++)),l=km.indexOf(e.charAt(d++)),s=i<<2|l>>4,t+=String.fromCharCode(s),o=km.indexOf(e.charAt(d++)),a=(l&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(a)),u=km.indexOf(e.charAt(d++)),n=(o&3)<<6|u,u!==64&&(t+=String.fromCharCode(n));return t}var Os=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Dh=(function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,s){return s?new Buffer(t,s):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}})();function h0(e){return Os?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function vL(e){return Os?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var hd=function(t){return Os?Dh(t,"binary"):t.split("").map(function(s){return s.charCodeAt(0)&255})};function Tw(e){if(typeof ArrayBuffer>"u")return hd(e);for(var t=new ArrayBuffer(e.length),s=new Uint8Array(t),a=0;a!=e.length;++a)s[a]=e.charCodeAt(a)&255;return t}function Oy(e){if(Array.isArray(e))return e.map(function(a){return String.fromCharCode(a)}).join("");for(var t=[],s=0;s<e.length;++s)t[s]=String.fromCharCode(e[s]);return t.join("")}function m3e(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var Ri=Os?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Dh(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,s=0;for(t=0;t<e.length;++t)s+=e[t].length;var a=new Uint8Array(s),n=0;for(t=0,s=0;t<e.length;s+=n,++t)if(n=e[t].length,e[t]instanceof Uint8Array)a.set(e[t],s);else{if(typeof e[t]=="string")throw"wtf";a.set(new Uint8Array(e[t]),s)}return a}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function f3e(e){for(var t=[],s=0,a=e.length+250,n=h0(e.length+255),i=0;i<e.length;++i){var l=e.charCodeAt(i);if(l<128)n[s++]=l;else if(l<2048)n[s++]=192|l>>6&31,n[s++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var o=e.charCodeAt(++i)&1023;n[s++]=240|l>>8&7,n[s++]=128|l>>2&63,n[s++]=128|o>>6&15|(l&3)<<4,n[s++]=128|o&63}else n[s++]=224|l>>12&15,n[s++]=128|l>>6&63,n[s++]=128|l&63;s>a&&(t.push(n.slice(0,s)),s=0,n=h0(65535),a=65530)}return t.push(n.slice(0,s)),Ri(t)}var mv=/\u0000/g,b1=/[\u0001-\u0006]/g;function tx(e){for(var t="",s=e.length-1;s>=0;)t+=e.charAt(s--);return t}function md(e,t){var s=""+e;return s.length>=t?s:rn("0",t-s.length)+s}function Pk(e,t){var s=""+e;return s.length>=t?s:rn(" ",t-s.length)+s}function zj(e,t){var s=""+e;return s.length>=t?s:s+rn(" ",t-s.length)}function p3e(e,t){var s=""+Math.round(e);return s.length>=t?s:rn("0",t-s.length)+s}function x3e(e,t){var s=""+e;return s.length>=t?s:rn("0",t-s.length)+s}var yL=Math.pow(2,32);function wp(e,t){if(e>yL||e<-yL)return p3e(e,t);var s=Math.round(e);return x3e(s,t)}function $j(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var bL=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],p3=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function g3e(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var sn={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},jL={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},v3e={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Hj(e,t,s){for(var a=e<0?-1:1,n=e*a,i=0,l=1,o=0,u=1,d=0,m=0,f=Math.floor(n);d<t&&(f=Math.floor(n),o=f*l+i,m=f*d+u,!(n-f<5e-8));)n=1/(n-f),i=l,l=o,u=d,d=m;if(m>t&&(d>t?(m=u,o=i):(m=d,o=l)),!s)return[0,a*o,m];var g=Math.floor(a*o/m);return[g,a*o-g*m,m]}function j1(e,t,s){if(e>2958465||e<0)return null;var a=e|0,n=Math.floor(86400*(e-a)),i=0,l=[],o={D:a,T:n,u:86400*(e-a)-n,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(a+=1462),o.u>.9999&&(o.u=0,++n==86400&&(o.T=n=0,++a,++o.D)),a===60)l=s?[1317,10,29]:[1900,2,29],i=3;else if(a===0)l=s?[1317,8,29]:[1900,1,0],i=6;else{a>60&&--a;var u=new Date(1900,0,1);u.setDate(u.getDate()+a-1),l=[u.getFullYear(),u.getMonth()+1,u.getDate()],i=u.getDay(),a<60&&(i=(i+6)%7),s&&(i=_3e(u,l))}return o.y=l[0],o.m=l[1],o.d=l[2],o.S=n%60,n=Math.floor(n/60),o.M=n%60,n=Math.floor(n/60),o.H=n,o.q=i,o}var Kq=new Date(1899,11,31,0,0,0),y3e=Kq.getTime(),b3e=new Date(1900,2,1,0,0,0);function Yq(e,t){var s=e.getTime();return t?s-=1461*24*60*60*1e3:e>=b3e&&(s+=1440*60*1e3),(s-(y3e+(e.getTimezoneOffset()-Kq.getTimezoneOffset())*6e4))/(1440*60*1e3)}function Dk(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function j3e(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function N3e(e){var t=e<0?12:11,s=Dk(e.toFixed(12));return s.length<=t||(s=e.toPrecision(10),s.length<=t)?s:e.toExponential(5)}function w3e(e){var t=Dk(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function S3e(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),s;return t>=-4&&t<=-1?s=e.toPrecision(10+t):Math.abs(t)<=9?s=N3e(e):t===10?s=e.toFixed(10).substr(0,12):s=w3e(e),Dk(j3e(s.toUpperCase()))}function TA(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):S3e(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Um(14,Yq(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function _3e(e,t){t[0]-=581;var s=e.getDay();return e<60&&(s=(s+6)%7),s}function A3e(e,t,s,a){var n="",i=0,l=0,o=s.y,u,d=0;switch(e){case 98:o=s.y+543;case 121:switch(t.length){case 1:case 2:u=o%100,d=2;break;default:u=o%1e4,d=4;break}break;case 109:switch(t.length){case 1:case 2:u=s.m,d=t.length;break;case 3:return p3[s.m-1][1];case 5:return p3[s.m-1][0];default:return p3[s.m-1][2]}break;case 100:switch(t.length){case 1:case 2:u=s.d,d=t.length;break;case 3:return bL[s.q][0];default:return bL[s.q][1]}break;case 104:switch(t.length){case 1:case 2:u=1+(s.H+11)%12,d=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:u=s.H,d=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:u=s.M,d=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return s.u===0&&(t=="s"||t=="ss")?md(s.S,t.length):(a>=2?l=a===3?1e3:100:l=a===1?10:1,i=Math.round(l*(s.S+s.u)),i>=60*l&&(i=0),t==="s"?i===0?"0":""+i/l:(n=md(i,2+a),t==="ss"?n.substr(0,2):"."+n.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":u=s.D*24+s.H;break;case"[m]":case"[mm]":u=(s.D*24+s.H)*60+s.M;break;case"[s]":case"[ss]":u=((s.D*24+s.H)*60+s.M)*60+Math.round(s.S+s.u);break;default:throw"bad abstime format: "+t}d=t.length===3?1:2;break;case 101:u=o,d=1;break}var m=d>0?md(u,d):"";return m}function Tm(e){var t=3;if(e.length<=t)return e;for(var s=e.length%t,a=e.substr(0,s);s!=e.length;s+=t)a+=(a.length>0?",":"")+e.substr(s,t);return a}var Zq=/%/g;function C3e(e,t,s){var a=t.replace(Zq,""),n=t.length-a.length;return ih(e,a,s*Math.pow(10,2*n))+rn("%",n)}function k3e(e,t,s){for(var a=t.length-1;t.charCodeAt(a-1)===44;)--a;return ih(e,t.substr(0,a),s/Math.pow(10,3*(t.length-a)))}function Xq(e,t){var s,a=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Xq(e,-t);var n=e.indexOf(".");n===-1&&(n=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%n;if(i<0&&(i+=n),s=(t/Math.pow(10,i)).toPrecision(a+1+(n+i)%n),s.indexOf("e")===-1){var l=Math.floor(Math.log(t)*Math.LOG10E);for(s.indexOf(".")===-1?s=s.charAt(0)+"."+s.substr(1)+"E+"+(l-s.length+i):s+="E+"+(l-i);s.substr(0,2)==="0.";)s=s.charAt(0)+s.substr(2,n)+"."+s.substr(2+n),s=s.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");s=s.replace(/\+-/,"-")}s=s.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,u,d,m){return u+d+m.substr(0,(n+i)%n)+"."+m.substr(i)+"E"})}else s=t.toExponential(a);return e.match(/E\+00$/)&&s.match(/e[+-]\d$/)&&(s=s.substr(0,s.length-1)+"0"+s.charAt(s.length-1)),e.match(/E\-/)&&s.match(/e\+/)&&(s=s.replace(/e\+/,"e")),s.replace("e","E")}var Jq=/# (\?+)( ?)\/( ?)(\d+)/;function T3e(e,t,s){var a=parseInt(e[4],10),n=Math.round(t*a),i=Math.floor(n/a),l=n-i*a,o=a;return s+(i===0?"":""+i)+" "+(l===0?rn(" ",e[1].length+1+e[4].length):Pk(l,e[1].length)+e[2]+"/"+e[3]+md(o,e[4].length))}function E3e(e,t,s){return s+(t===0?"":""+t)+rn(" ",e[1].length+2+e[4].length)}var Qq=/^#*0*\.([0#]+)/,eV=/\).*[0#]/,tV=/\(###\) ###\\?-####/;function gl(e){for(var t="",s,a=0;a!=e.length;++a)switch(s=e.charCodeAt(a)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(s)}return t}function NL(e,t){var s=Math.pow(10,t);return""+Math.round(e*s)/s}function wL(e,t){var s=e-Math.floor(e),a=Math.pow(10,t);return t<(""+Math.round(s*a)).length?0:Math.round(s*a)}function O3e(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function P3e(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function hc(e,t,s){if(e.charCodeAt(0)===40&&!t.match(eV)){var a=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return s>=0?hc("n",a,s):"("+hc("n",a,-s)+")"}if(t.charCodeAt(t.length-1)===44)return k3e(e,t,s);if(t.indexOf("%")!==-1)return C3e(e,t,s);if(t.indexOf("E")!==-1)return Xq(t,s);if(t.charCodeAt(0)===36)return"$"+hc(e,t.substr(t.charAt(1)==" "?2:1),s);var n,i,l,o,u=Math.abs(s),d=s<0?"-":"";if(t.match(/^00+$/))return d+wp(u,t.length);if(t.match(/^[#?]+$/))return n=wp(s,0),n==="0"&&(n=""),n.length>t.length?n:gl(t.substr(0,t.length-n.length))+n;if(i=t.match(Jq))return T3e(i,u,d);if(t.match(/^#+0+$/))return d+wp(u,t.length-t.indexOf("0"));if(i=t.match(Qq))return n=NL(s,i[1].length).replace(/^([^\.]+)$/,"$1."+gl(i[1])).replace(/\.$/,"."+gl(i[1])).replace(/\.(\d*)$/,function(y,v){return"."+v+rn("0",gl(i[1]).length-v.length)}),t.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return d+NL(u,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return d+Tm(wp(u,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return s<0?"-"+hc(e,t,-s):Tm(""+(Math.floor(s)+O3e(s,i[1].length)))+"."+md(wL(s,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return hc(e,t.replace(/^#,#*,/,""),s);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return n=tx(hc(e,t.replace(/[\\-]/g,""),s)),l=0,tx(tx(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return l<n.length?n.charAt(l++):y==="0"?"0":""}));if(t.match(tV))return n=hc(e,"##########",s),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var m="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(i[4].length,7),o=Hj(u,Math.pow(10,l)-1,!1),n=""+d,m=ih("n",i[1],o[1]),m.charAt(m.length-1)==" "&&(m=m.substr(0,m.length-1)+"0"),n+=m+i[2]+"/"+i[3],m=zj(o[2],l),m.length<i[4].length&&(m=gl(i[4].substr(i[4].length-m.length))+m),n+=m,n;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(i[1].length,i[4].length),7),o=Hj(u,Math.pow(10,l)-1,!0),d+(o[0]||(o[1]?"":"0"))+" "+(o[1]?Pk(o[1],l)+i[2]+"/"+i[3]+zj(o[2],l):rn(" ",2*l+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return n=wp(s,0),t.length<=n.length?n:gl(t.substr(0,t.length-n.length))+n;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){n=""+s.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),l=n.indexOf(".");var f=t.indexOf(".")-l,g=t.length-n.length-f;return gl(t.substr(0,f)+n+t.substr(t.length-g))}if(i=t.match(/^00,000\.([#0]*0)$/))return l=wL(s,i[1].length),s<0?"-"+hc(e,t,-s):Tm(P3e(s)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?md(0,3-y.length):"")+y})+"."+md(l,i[1].length);switch(t){case"###,##0.00":return hc(e,"#,##0.00",s);case"###,###":case"##,###":case"#,###":var p=Tm(wp(u,0));return p!=="0"?d+p:"";case"###,###.00":return hc(e,"###,##0.00",s).replace(/^0\./,".");case"#,###.00":return hc(e,"#,##0.00",s).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function D3e(e,t,s){for(var a=t.length-1;t.charCodeAt(a-1)===44;)--a;return ih(e,t.substr(0,a),s/Math.pow(10,3*(t.length-a)))}function R3e(e,t,s){var a=t.replace(Zq,""),n=t.length-a.length;return ih(e,a,s*Math.pow(10,2*n))+rn("%",n)}function rV(e,t){var s,a=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+rV(e,-t);var n=e.indexOf(".");n===-1&&(n=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%n;if(i<0&&(i+=n),s=(t/Math.pow(10,i)).toPrecision(a+1+(n+i)%n),!s.match(/[Ee]/)){var l=Math.floor(Math.log(t)*Math.LOG10E);s.indexOf(".")===-1?s=s.charAt(0)+"."+s.substr(1)+"E+"+(l-s.length+i):s+="E+"+(l-i),s=s.replace(/\+-/,"-")}s=s.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,u,d,m){return u+d+m.substr(0,(n+i)%n)+"."+m.substr(i)+"E"})}else s=t.toExponential(a);return e.match(/E\+00$/)&&s.match(/e[+-]\d$/)&&(s=s.substr(0,s.length-1)+"0"+s.charAt(s.length-1)),e.match(/E\-/)&&s.match(/e\+/)&&(s=s.replace(/e\+/,"e")),s.replace("e","E")}function Gd(e,t,s){if(e.charCodeAt(0)===40&&!t.match(eV)){var a=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return s>=0?Gd("n",a,s):"("+Gd("n",a,-s)+")"}if(t.charCodeAt(t.length-1)===44)return D3e(e,t,s);if(t.indexOf("%")!==-1)return R3e(e,t,s);if(t.indexOf("E")!==-1)return rV(t,s);if(t.charCodeAt(0)===36)return"$"+Gd(e,t.substr(t.charAt(1)==" "?2:1),s);var n,i,l,o,u=Math.abs(s),d=s<0?"-":"";if(t.match(/^00+$/))return d+md(u,t.length);if(t.match(/^[#?]+$/))return n=""+s,s===0&&(n=""),n.length>t.length?n:gl(t.substr(0,t.length-n.length))+n;if(i=t.match(Jq))return E3e(i,u,d);if(t.match(/^#+0+$/))return d+md(u,t.length-t.indexOf("0"));if(i=t.match(Qq))return n=(""+s).replace(/^([^\.]+)$/,"$1."+gl(i[1])).replace(/\.$/,"."+gl(i[1])),n=n.replace(/\.(\d*)$/,function(y,v){return"."+v+rn("0",gl(i[1]).length-v.length)}),t.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return d+(""+u).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return d+Tm(""+u);if(i=t.match(/^#,##0\.([#0]*0)$/))return s<0?"-"+Gd(e,t,-s):Tm(""+s)+"."+rn("0",i[1].length);if(i=t.match(/^#,#*,#0/))return Gd(e,t.replace(/^#,#*,/,""),s);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return n=tx(Gd(e,t.replace(/[\\-]/g,""),s)),l=0,tx(tx(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return l<n.length?n.charAt(l++):y==="0"?"0":""}));if(t.match(tV))return n=Gd(e,"##########",s),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var m="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(i[4].length,7),o=Hj(u,Math.pow(10,l)-1,!1),n=""+d,m=ih("n",i[1],o[1]),m.charAt(m.length-1)==" "&&(m=m.substr(0,m.length-1)+"0"),n+=m+i[2]+"/"+i[3],m=zj(o[2],l),m.length<i[4].length&&(m=gl(i[4].substr(i[4].length-m.length))+m),n+=m,n;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(i[1].length,i[4].length),7),o=Hj(u,Math.pow(10,l)-1,!0),d+(o[0]||(o[1]?"":"0"))+" "+(o[1]?Pk(o[1],l)+i[2]+"/"+i[3]+zj(o[2],l):rn(" ",2*l+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return n=""+s,t.length<=n.length?n:gl(t.substr(0,t.length-n.length))+n;if(i=t.match(/^([#0]+)\.([#0]+)$/)){n=""+s.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),l=n.indexOf(".");var f=t.indexOf(".")-l,g=t.length-n.length-f;return gl(t.substr(0,f)+n+t.substr(t.length-g))}if(i=t.match(/^00,000\.([#0]*0)$/))return s<0?"-"+Gd(e,t,-s):Tm(""+s).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?md(0,3-y.length):"")+y})+"."+md(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=Tm(""+u);return p!=="0"?d+p:"";default:if(t.match(/\.[0#?]*$/))return Gd(e,t.slice(0,t.lastIndexOf(".")),s)+gl(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function ih(e,t,s){return(s|0)===s?Gd(e,t,s):hc(e,t,s)}function M3e(e){for(var t=[],s=!1,a=0,n=0;a<e.length;++a)switch(e.charCodeAt(a)){case 34:s=!s;break;case 95:case 42:case 92:++a;break;case 59:t[t.length]=e.substr(n,a-n),n=a+1}if(t[t.length]=e.substr(n),s===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var sV=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function aV(e){for(var t=0,s="",a="";t<e.length;)switch(s=e.charAt(t)){case"G":$j(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(a=s;e.charAt(t++)!=="]"&&t<e.length;)a+=e.charAt(t);if(a.match(sV))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(s=e.charAt(++t))>-1||s=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===s;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function L3e(e,t,s,a){for(var n=[],i="",l=0,o="",u="t",d,m,f,g="H";l<e.length;)switch(o=e.charAt(l)){case"G":if(!$j(e,l))throw new Error("unrecognized character "+o+" in "+e);n[n.length]={t:"G",v:"General"},l+=7;break;case'"':for(i="";(f=e.charCodeAt(++l))!==34&&l<e.length;)i+=String.fromCharCode(f);n[n.length]={t:"t",v:i},++l;break;case"\\":var p=e.charAt(++l),y=p==="("||p===")"?p:"t";n[n.length]={t:y,v:p},++l;break;case"_":n[n.length]={t:"t",v:" "},l+=2;break;case"@":n[n.length]={t:"T",v:t},++l;break;case"B":case"b":if(e.charAt(l+1)==="1"||e.charAt(l+1)==="2"){if(d==null&&(d=j1(t,s,e.charAt(l+1)==="2"),d==null))return"";n[n.length]={t:"X",v:e.substr(l,2)},u=o,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||d==null&&(d=j1(t,s),d==null))return"";for(i=o;++l<e.length&&e.charAt(l).toLowerCase()===o;)i+=o;o==="m"&&u.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=g),n[n.length]={t:o,v:i},u=o;break;case"A":case"a":case"":var v={t:o,v:o};if(d==null&&(d=j1(t,s)),e.substr(l,3).toUpperCase()==="A/P"?(d!=null&&(v.v=d.H>=12?"P":"A"),v.t="T",g="h",l+=3):e.substr(l,5).toUpperCase()==="AM/PM"?(d!=null&&(v.v=d.H>=12?"PM":"AM"),v.t="T",l+=5,g="h"):e.substr(l,5).toUpperCase()==="/"?(d!=null&&(v.v=d.H>=12?"":""),v.t="T",l+=5,g="h"):(v.t="t",++l),d==null&&v.t==="T")return"";n[n.length]=v,u=o;break;case"[":for(i=o;e.charAt(l++)!=="]"&&l<e.length;)i+=e.charAt(l);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(sV)){if(d==null&&(d=j1(t,s),d==null))return"";n[n.length]={t:"Z",v:i.toLowerCase()},u=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",aV(e)||(n[n.length]={t:"t",v:i}));break;case".":if(d!=null){for(i=o;++l<e.length&&(o=e.charAt(l))==="0";)i+=o;n[n.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++l<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(l))>-1;)i+=o;n[n.length]={t:"n",v:i};break;case"?":for(i=o;e.charAt(++l)===o;)i+=o;n[n.length]={t:o,v:i},u=o;break;case"*":++l,(e.charAt(l)==" "||e.charAt(l)=="*")&&++l;break;case"(":case")":n[n.length]={t:a===1?"t":o,v:o},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;l<e.length&&"0123456789".indexOf(e.charAt(++l))>-1;)i+=e.charAt(l);n[n.length]={t:"D",v:i};break;case" ":n[n.length]={t:o,v:o},++l;break;case"$":n[n.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);n[n.length]={t:"t",v:o},++l;break}var j=0,N=0,k;for(l=n.length-1,u="t";l>=0;--l)switch(n[l].t){case"h":case"H":n[l].t=g,u="h",j<1&&(j=1);break;case"s":(k=n[l].v.match(/\.0+$/))&&(N=Math.max(N,k[0].length-1)),j<3&&(j=3);case"d":case"y":case"M":case"e":u=n[l].t;break;case"m":u==="s"&&(n[l].t="M",j<2&&(j=2));break;case"X":break;case"Z":j<1&&n[l].v.match(/[Hh]/)&&(j=1),j<2&&n[l].v.match(/[Mm]/)&&(j=2),j<3&&n[l].v.match(/[Ss]/)&&(j=3)}switch(j){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var w="",A;for(l=0;l<n.length;++l)switch(n[l].t){case"t":case"T":case" ":case"D":break;case"X":n[l].v="",n[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":n[l].v=A3e(n[l].t.charCodeAt(0),n[l].v,d,N),n[l].t="t";break;case"n":case"?":for(A=l+1;n[A]!=null&&((o=n[A].t)==="?"||o==="D"||(o===" "||o==="t")&&n[A+1]!=null&&(n[A+1].t==="?"||n[A+1].t==="t"&&n[A+1].v==="/")||n[l].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(n[A].v==="/"||n[A].v===" "&&n[A+1]!=null&&n[A+1].t=="?"));)n[l].v+=n[A].v,n[A]={v:"",t:";"},++A;w+=n[l].v,l=A-1;break;case"G":n[l].t="t",n[l].v=TA(t,s);break}var C="",M,R;if(w.length>0){w.charCodeAt(0)==40?(M=t<0&&w.charCodeAt(0)===45?-t:t,R=ih("n",w,M)):(M=t<0&&a>1?-t:t,R=ih("n",w,M),M<0&&n[0]&&n[0].t=="t"&&(R=R.substr(1),n[0].v="-"+n[0].v)),A=R.length-1;var D=n.length;for(l=0;l<n.length;++l)if(n[l]!=null&&n[l].t!="t"&&n[l].v.indexOf(".")>-1){D=l;break}var B=n.length;if(D===n.length&&R.indexOf("E")===-1){for(l=n.length-1;l>=0;--l)n[l]==null||"n?".indexOf(n[l].t)===-1||(A>=n[l].v.length-1?(A-=n[l].v.length,n[l].v=R.substr(A+1,n[l].v.length)):A<0?n[l].v="":(n[l].v=R.substr(0,A+1),A=-1),n[l].t="t",B=l);A>=0&&B<n.length&&(n[B].v=R.substr(0,A+1)+n[B].v)}else if(D!==n.length&&R.indexOf("E")===-1){for(A=R.indexOf(".")-1,l=D;l>=0;--l)if(!(n[l]==null||"n?".indexOf(n[l].t)===-1)){for(m=n[l].v.indexOf(".")>-1&&l===D?n[l].v.indexOf(".")-1:n[l].v.length-1,C=n[l].v.substr(m+1);m>=0;--m)A>=0&&(n[l].v.charAt(m)==="0"||n[l].v.charAt(m)==="#")&&(C=R.charAt(A--)+C);n[l].v=C,n[l].t="t",B=l}for(A>=0&&B<n.length&&(n[B].v=R.substr(0,A+1)+n[B].v),A=R.indexOf(".")+1,l=D;l<n.length;++l)if(!(n[l]==null||"n?(".indexOf(n[l].t)===-1&&l!==D)){for(m=n[l].v.indexOf(".")>-1&&l===D?n[l].v.indexOf(".")+1:0,C=n[l].v.substr(0,m);m<n[l].v.length;++m)A<R.length&&(C+=R.charAt(A++));n[l].v=C,n[l].t="t",B=l}}}for(l=0;l<n.length;++l)n[l]!=null&&"n?".indexOf(n[l].t)>-1&&(M=a>1&&t<0&&l>0&&n[l-1].v==="-"?-t:t,n[l].v=ih(n[l].t,n[l].v,M),n[l].t="t");var z="";for(l=0;l!==n.length;++l)n[l]!=null&&(z+=n[l].v);return z}var SL=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function _L(e,t){if(t==null)return!1;var s=parseFloat(t[2]);switch(t[1]){case"=":if(e==s)return!0;break;case">":if(e>s)return!0;break;case"<":if(e<s)return!0;break;case"<>":if(e!=s)return!0;break;case">=":if(e>=s)return!0;break;case"<=":if(e<=s)return!0;break}return!1}function I3e(e,t){var s=M3e(e),a=s.length,n=s[a-1].indexOf("@");if(a<4&&n>-1&&--a,s.length>4)throw new Error("cannot find right format for |"+s.join("|")+"|");if(typeof t!="number")return[4,s.length===4||n>-1?s[s.length-1]:"@"];switch(s.length){case 1:s=n>-1?["General","General","General",s[0]]:[s[0],s[0],s[0],"@"];break;case 2:s=n>-1?[s[0],s[0],s[0],s[1]]:[s[0],s[1],s[0],"@"];break;case 3:s=n>-1?[s[0],s[1],s[0],s[2]]:[s[0],s[1],s[2],"@"];break}var i=t>0?s[0]:t<0?s[1]:s[2];if(s[0].indexOf("[")===-1&&s[1].indexOf("[")===-1)return[a,i];if(s[0].match(/\[[=<>]/)!=null||s[1].match(/\[[=<>]/)!=null){var l=s[0].match(SL),o=s[1].match(SL);return _L(t,l)?[a,s[0]]:_L(t,o)?[a,s[1]]:[a,s[l!=null&&o!=null?2:1]]}return[a,i]}function Um(e,t,s){s==null&&(s={});var a="";switch(typeof e){case"string":e=="m/d/yy"&&s.dateNF?a=s.dateNF:a=e;break;case"number":e==14&&s.dateNF?a=s.dateNF:a=(s.table!=null?s.table:sn)[e],a==null&&(a=s.table&&s.table[jL[e]]||sn[jL[e]]),a==null&&(a=v3e[e]||"General");break}if($j(a,0))return TA(t,s);t instanceof Date&&(t=Yq(t,s.date1904));var n=I3e(a,t);if($j(n[1]))return TA(t,s);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return L3e(n[1],t,s,n[0])}function nV(e,t){if(typeof t!="number"){t=+t||-1;for(var s=0;s<392;++s){if(sn[s]==null){t<0&&(t=s);continue}if(sn[s]==e){t=s;break}}t<0&&(t=391)}return sn[t]=e,t}function Ew(e){for(var t=0;t!=392;++t)e[t]!==void 0&&nV(e[t],t)}function Ow(){sn=g3e()}var iV=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function F3e(e){var t=typeof e=="number"?sn[e]:e;return t=t.replace(iV,"(\\d+)"),new RegExp("^"+t+"$")}function B3e(e,t,s){var a=-1,n=-1,i=-1,l=-1,o=-1,u=-1;(t.match(iV)||[]).forEach(function(f,g){var p=parseInt(s[g+1],10);switch(f.toLowerCase().charAt(0)){case"y":a=p;break;case"d":i=p;break;case"h":l=p;break;case"s":u=p;break;case"m":l>=0?o=p:n=p;break}}),u>=0&&o==-1&&n>=0&&(o=n,n=-1);var d=(""+(a>=0?a:new Date().getFullYear())).slice(-4)+"-"+("00"+(n>=1?n:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var m=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2);return l==-1&&o==-1&&u==-1?d:a==-1&&n==-1&&i==-1?m:d+"T"+m}var U3e=(function(){var e={};e.version="1.2.0";function t(){for(var R=0,D=new Array(256),B=0;B!=256;++B)R=B,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,D[B]=R;return typeof Int32Array<"u"?new Int32Array(D):D}var s=t();function a(R){var D=0,B=0,z=0,I=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(z=0;z!=256;++z)I[z]=R[z];for(z=0;z!=256;++z)for(B=R[z],D=256+z;D<4096;D+=256)B=I[D]=B>>>8^R[B&255];var F=[];for(z=1;z!=16;++z)F[z-1]=typeof Int32Array<"u"?I.subarray(z*256,z*256+256):I.slice(z*256,z*256+256);return F}var n=a(s),i=n[0],l=n[1],o=n[2],u=n[3],d=n[4],m=n[5],f=n[6],g=n[7],p=n[8],y=n[9],v=n[10],j=n[11],N=n[12],k=n[13],w=n[14];function A(R,D){for(var B=D^-1,z=0,I=R.length;z<I;)B=B>>>8^s[(B^R.charCodeAt(z++))&255];return~B}function C(R,D){for(var B=D^-1,z=R.length-15,I=0;I<z;)B=w[R[I++]^B&255]^k[R[I++]^B>>8&255]^N[R[I++]^B>>16&255]^j[R[I++]^B>>>24]^v[R[I++]]^y[R[I++]]^p[R[I++]]^g[R[I++]]^f[R[I++]]^m[R[I++]]^d[R[I++]]^u[R[I++]]^o[R[I++]]^l[R[I++]]^i[R[I++]]^s[R[I++]];for(z+=15;I<z;)B=B>>>8^s[(B^R[I++])&255];return~B}function M(R,D){for(var B=D^-1,z=0,I=R.length,F=0,Y=0;z<I;)F=R.charCodeAt(z++),F<128?B=B>>>8^s[(B^F)&255]:F<2048?(B=B>>>8^s[(B^(192|F>>6&31))&255],B=B>>>8^s[(B^(128|F&63))&255]):F>=55296&&F<57344?(F=(F&1023)+64,Y=R.charCodeAt(z++)&1023,B=B>>>8^s[(B^(240|F>>8&7))&255],B=B>>>8^s[(B^(128|F>>2&63))&255],B=B>>>8^s[(B^(128|Y>>6&15|(F&3)<<4))&255],B=B>>>8^s[(B^(128|Y&63))&255]):(B=B>>>8^s[(B^(224|F>>12&15))&255],B=B>>>8^s[(B^(128|F>>6&63))&255],B=B>>>8^s[(B^(128|F&63))&255]);return~B}return e.table=s,e.bstr=A,e.buf=C,e.str=M,e})(),sa=(function(){var t={};t.version="1.2.1";function s(se,Te){for(var pe=se.split("/"),ge=Te.split("/"),we=0,Oe=0,Ge=Math.min(pe.length,ge.length);we<Ge;++we){if(Oe=pe[we].length-ge[we].length)return Oe;if(pe[we]!=ge[we])return pe[we]<ge[we]?-1:1}return pe.length-ge.length}function a(se){if(se.charAt(se.length-1)=="/")return se.slice(0,-1).indexOf("/")===-1?se:a(se.slice(0,-1));var Te=se.lastIndexOf("/");return Te===-1?se:se.slice(0,Te+1)}function n(se){if(se.charAt(se.length-1)=="/")return n(se.slice(0,-1));var Te=se.lastIndexOf("/");return Te===-1?se:se.slice(Te+1)}function i(se,Te){typeof Te=="string"&&(Te=new Date(Te));var pe=Te.getHours();pe=pe<<6|Te.getMinutes(),pe=pe<<5|Te.getSeconds()>>>1,se.write_shift(2,pe);var ge=Te.getFullYear()-1980;ge=ge<<4|Te.getMonth()+1,ge=ge<<5|Te.getDate(),se.write_shift(2,ge)}function l(se){var Te=se.read_shift(2)&65535,pe=se.read_shift(2)&65535,ge=new Date,we=pe&31;pe>>>=5;var Oe=pe&15;pe>>>=4,ge.setMilliseconds(0),ge.setFullYear(pe+1980),ge.setMonth(Oe-1),ge.setDate(we);var Ge=Te&31;Te>>>=5;var dt=Te&63;return Te>>>=6,ge.setHours(Te),ge.setMinutes(dt),ge.setSeconds(Ge<<1),ge}function o(se){Co(se,0);for(var Te={},pe=0;se.l<=se.length-4;){var ge=se.read_shift(2),we=se.read_shift(2),Oe=se.l+we,Ge={};ge===21589&&(pe=se.read_shift(1),pe&1&&(Ge.mtime=se.read_shift(4)),we>5&&(pe&2&&(Ge.atime=se.read_shift(4)),pe&4&&(Ge.ctime=se.read_shift(4))),Ge.mtime&&(Ge.mt=new Date(Ge.mtime*1e3))),se.l=Oe,Te[ge]=Ge}return Te}var u;function d(){return u||(u={})}function m(se,Te){if(se[0]==80&&se[1]==75)return br(se,Te);if((se[0]|32)==109&&(se[1]|32)==105)return or(se,Te);if(se.length<512)throw new Error("CFB file size "+se.length+" < 512");var pe=3,ge=512,we=0,Oe=0,Ge=0,dt=0,Ye=0,Ze=[],Qe=se.slice(0,512);Co(Qe,0);var Tt=f(Qe);switch(pe=Tt[0],pe){case 3:ge=512;break;case 4:ge=4096;break;case 0:if(Tt[1]==0)return br(se,Te);default:throw new Error("Major Version: Expected 3 or 4 saw "+pe)}ge!==512&&(Qe=se.slice(0,ge),Co(Qe,28));var Mt=se.slice(0,ge);g(Qe,pe);var $t=Qe.read_shift(4,"i");if(pe===3&&$t!==0)throw new Error("# Directory Sectors: Expected 0 saw "+$t);Qe.l+=4,Ge=Qe.read_shift(4,"i"),Qe.l+=4,Qe.chk("00100000","Mini Stream Cutoff Size: "),dt=Qe.read_shift(4,"i"),we=Qe.read_shift(4,"i"),Ye=Qe.read_shift(4,"i"),Oe=Qe.read_shift(4,"i");for(var Rt=-1,Ft=0;Ft<109&&(Rt=Qe.read_shift(4,"i"),!(Rt<0));++Ft)Ze[Ft]=Rt;var Gt=p(se,ge);j(Ye,Oe,Gt,ge,Ze);var As=k(Gt,Ge,Ze,ge);As[Ge].name="!Directory",we>0&&dt!==Y&&(As[dt].name="!MiniFAT"),As[Ze[0]].name="!FAT",As.fat_addrs=Ze,As.ssz=ge;var Gr={},Ds=[],ji=[],oo=[];w(Ge,As,Gt,Ds,we,Gr,ji,dt),y(ji,oo,Ds),Ds.shift();var co={FileIndex:ji,FullPaths:oo};return Te&&Te.raw&&(co.raw={header:Mt,sectors:Gt}),co}function f(se){if(se[se.l]==80&&se[se.l+1]==75)return[0,0];se.chk(te,"Header Signature: "),se.l+=16;var Te=se.read_shift(2,"u");return[se.read_shift(2,"u"),Te]}function g(se,Te){var pe=9;switch(se.l+=2,pe=se.read_shift(2)){case 9:if(Te!=3)throw new Error("Sector Shift: Expected 9 saw "+pe);break;case 12:if(Te!=4)throw new Error("Sector Shift: Expected 12 saw "+pe);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+pe)}se.chk("0600","Mini Sector Shift: "),se.chk("000000000000","Reserved: ")}function p(se,Te){for(var pe=Math.ceil(se.length/Te)-1,ge=[],we=1;we<pe;++we)ge[we-1]=se.slice(we*Te,(we+1)*Te);return ge[pe-1]=se.slice(pe*Te),ge}function y(se,Te,pe){for(var ge=0,we=0,Oe=0,Ge=0,dt=0,Ye=pe.length,Ze=[],Qe=[];ge<Ye;++ge)Ze[ge]=Qe[ge]=ge,Te[ge]=pe[ge];for(;dt<Qe.length;++dt)ge=Qe[dt],we=se[ge].L,Oe=se[ge].R,Ge=se[ge].C,Ze[ge]===ge&&(we!==-1&&Ze[we]!==we&&(Ze[ge]=Ze[we]),Oe!==-1&&Ze[Oe]!==Oe&&(Ze[ge]=Ze[Oe])),Ge!==-1&&(Ze[Ge]=ge),we!==-1&&ge!=Ze[ge]&&(Ze[we]=Ze[ge],Qe.lastIndexOf(we)<dt&&Qe.push(we)),Oe!==-1&&ge!=Ze[ge]&&(Ze[Oe]=Ze[ge],Qe.lastIndexOf(Oe)<dt&&Qe.push(Oe));for(ge=1;ge<Ye;++ge)Ze[ge]===ge&&(Oe!==-1&&Ze[Oe]!==Oe?Ze[ge]=Ze[Oe]:we!==-1&&Ze[we]!==we&&(Ze[ge]=Ze[we]));for(ge=1;ge<Ye;++ge)if(se[ge].type!==0){if(dt=ge,dt!=Ze[dt])do dt=Ze[dt],Te[ge]=Te[dt]+"/"+Te[ge];while(dt!==0&&Ze[dt]!==-1&&dt!=Ze[dt]);Ze[ge]=-1}for(Te[0]+="/",ge=1;ge<Ye;++ge)se[ge].type!==2&&(Te[ge]+="/")}function v(se,Te,pe){for(var ge=se.start,we=se.size,Oe=[],Ge=ge;pe&&we>0&&Ge>=0;)Oe.push(Te.slice(Ge*F,Ge*F+F)),we-=F,Ge=Mf(pe,Ge*4);return Oe.length===0?pt(0):Ri(Oe).slice(0,se.size)}function j(se,Te,pe,ge,we){var Oe=Y;if(se===Y){if(Te!==0)throw new Error("DIFAT chain shorter than expected")}else if(se!==-1){var Ge=pe[se],dt=(ge>>>2)-1;if(!Ge)return;for(var Ye=0;Ye<dt&&(Oe=Mf(Ge,Ye*4))!==Y;++Ye)we.push(Oe);j(Mf(Ge,ge-4),Te-1,pe,ge,we)}}function N(se,Te,pe,ge,we){var Oe=[],Ge=[];we||(we=[]);var dt=ge-1,Ye=0,Ze=0;for(Ye=Te;Ye>=0;){we[Ye]=!0,Oe[Oe.length]=Ye,Ge.push(se[Ye]);var Qe=pe[Math.floor(Ye*4/ge)];if(Ze=Ye*4&dt,ge<4+Ze)throw new Error("FAT boundary crossed: "+Ye+" 4 "+ge);if(!se[Qe])break;Ye=Mf(se[Qe],Ze)}return{nodes:Oe,data:DL([Ge])}}function k(se,Te,pe,ge){var we=se.length,Oe=[],Ge=[],dt=[],Ye=[],Ze=ge-1,Qe=0,Tt=0,Mt=0,$t=0;for(Qe=0;Qe<we;++Qe)if(dt=[],Mt=Qe+Te,Mt>=we&&(Mt-=we),!Ge[Mt]){Ye=[];var Rt=[];for(Tt=Mt;Tt>=0;){Rt[Tt]=!0,Ge[Tt]=!0,dt[dt.length]=Tt,Ye.push(se[Tt]);var Ft=pe[Math.floor(Tt*4/ge)];if($t=Tt*4&Ze,ge<4+$t)throw new Error("FAT boundary crossed: "+Tt+" 4 "+ge);if(!se[Ft]||(Tt=Mf(se[Ft],$t),Rt[Tt]))break}Oe[Mt]={nodes:dt,data:DL([Ye])}}return Oe}function w(se,Te,pe,ge,we,Oe,Ge,dt){for(var Ye=0,Ze=ge.length?2:0,Qe=Te[se].data,Tt=0,Mt=0,$t;Tt<Qe.length;Tt+=128){var Rt=Qe.slice(Tt,Tt+128);Co(Rt,64),Mt=Rt.read_shift(2),$t=Fk(Rt,0,Mt-Ze),ge.push($t);var Ft={name:$t,type:Rt.read_shift(1),color:Rt.read_shift(1),L:Rt.read_shift(4,"i"),R:Rt.read_shift(4,"i"),C:Rt.read_shift(4,"i"),clsid:Rt.read_shift(16),state:Rt.read_shift(4,"i"),start:0,size:0},Gt=Rt.read_shift(2)+Rt.read_shift(2)+Rt.read_shift(2)+Rt.read_shift(2);Gt!==0&&(Ft.ct=A(Rt,Rt.l-8));var As=Rt.read_shift(2)+Rt.read_shift(2)+Rt.read_shift(2)+Rt.read_shift(2);As!==0&&(Ft.mt=A(Rt,Rt.l-8)),Ft.start=Rt.read_shift(4,"i"),Ft.size=Rt.read_shift(4,"i"),Ft.size<0&&Ft.start<0&&(Ft.size=Ft.type=0,Ft.start=Y,Ft.name=""),Ft.type===5?(Ye=Ft.start,we>0&&Ye!==Y&&(Te[Ye].name="!StreamData")):Ft.size>=4096?(Ft.storage="fat",Te[Ft.start]===void 0&&(Te[Ft.start]=N(pe,Ft.start,Te.fat_addrs,Te.ssz)),Te[Ft.start].name=Ft.name,Ft.content=Te[Ft.start].data.slice(0,Ft.size)):(Ft.storage="minifat",Ft.size<0?Ft.size=0:Ye!==Y&&Ft.start!==Y&&Te[Ye]&&(Ft.content=v(Ft,Te[Ye].data,(Te[dt]||{}).data))),Ft.content&&Co(Ft.content,0),Oe[$t]=Ft,Ge.push(Ft)}}function A(se,Te){return new Date((To(se,Te+4)/1e7*Math.pow(2,32)+To(se,Te)/1e7-11644473600)*1e3)}function C(se,Te){return d(),m(u.readFileSync(se),Te)}function M(se,Te){var pe=Te&&Te.type;switch(pe||Os&&Buffer.isBuffer(se)&&(pe="buffer"),pe||"base64"){case"file":return C(se,Te);case"base64":return m(hd(jh(se)),Te);case"binary":return m(hd(se),Te)}return m(se,Te)}function R(se,Te){var pe=Te||{},ge=pe.root||"Root Entry";if(se.FullPaths||(se.FullPaths=[]),se.FileIndex||(se.FileIndex=[]),se.FullPaths.length!==se.FileIndex.length)throw new Error("inconsistent CFB structure");se.FullPaths.length===0&&(se.FullPaths[0]=ge+"/",se.FileIndex[0]={name:ge,type:5}),pe.CLSID&&(se.FileIndex[0].clsid=pe.CLSID),D(se)}function D(se){var Te="Sh33tJ5";if(!sa.find(se,"/"+Te)){var pe=pt(4);pe[0]=55,pe[1]=pe[3]=50,pe[2]=54,se.FileIndex.push({name:Te,type:2,content:pe,size:4,L:69,R:69,C:69}),se.FullPaths.push(se.FullPaths[0]+Te),B(se)}}function B(se,Te){R(se);for(var pe=!1,ge=!1,we=se.FullPaths.length-1;we>=0;--we){var Oe=se.FileIndex[we];switch(Oe.type){case 0:ge?pe=!0:(se.FileIndex.pop(),se.FullPaths.pop());break;case 1:case 2:case 5:ge=!0,isNaN(Oe.R*Oe.L*Oe.C)&&(pe=!0),Oe.R>-1&&Oe.L>-1&&Oe.R==Oe.L&&(pe=!0);break;default:pe=!0;break}}if(!(!pe&&!Te)){var Ge=new Date(1987,1,19),dt=0,Ye=Object.create?Object.create(null):{},Ze=[];for(we=0;we<se.FullPaths.length;++we)Ye[se.FullPaths[we]]=!0,se.FileIndex[we].type!==0&&Ze.push([se.FullPaths[we],se.FileIndex[we]]);for(we=0;we<Ze.length;++we){var Qe=a(Ze[we][0]);ge=Ye[Qe],ge||(Ze.push([Qe,{name:n(Qe).replace("/",""),type:1,clsid:Z,ct:Ge,mt:Ge,content:null}]),Ye[Qe]=!0)}for(Ze.sort(function($t,Rt){return s($t[0],Rt[0])}),se.FullPaths=[],se.FileIndex=[],we=0;we<Ze.length;++we)se.FullPaths[we]=Ze[we][0],se.FileIndex[we]=Ze[we][1];for(we=0;we<Ze.length;++we){var Tt=se.FileIndex[we],Mt=se.FullPaths[we];if(Tt.name=n(Mt).replace("/",""),Tt.L=Tt.R=Tt.C=-(Tt.color=1),Tt.size=Tt.content?Tt.content.length:0,Tt.start=0,Tt.clsid=Tt.clsid||Z,we===0)Tt.C=Ze.length>1?1:-1,Tt.size=0,Tt.type=5;else if(Mt.slice(-1)=="/"){for(dt=we+1;dt<Ze.length&&a(se.FullPaths[dt])!=Mt;++dt);for(Tt.C=dt>=Ze.length?-1:dt,dt=we+1;dt<Ze.length&&a(se.FullPaths[dt])!=a(Mt);++dt);Tt.R=dt>=Ze.length?-1:dt,Tt.type=1}else a(se.FullPaths[we+1]||"")==a(Mt)&&(Tt.R=we+1),Tt.type=2}}}function z(se,Te){var pe=Te||{};if(pe.fileType=="mad")return lo(se,pe);if(B(se),pe.fileType==="zip")return kr(se,pe);var ge=(function($t){for(var Rt=0,Ft=0,Gt=0;Gt<$t.FileIndex.length;++Gt){var As=$t.FileIndex[Gt];if(As.content){var Gr=As.content.length;Gr>0&&(Gr<4096?Rt+=Gr+63>>6:Ft+=Gr+511>>9)}}for(var Ds=$t.FullPaths.length+3>>2,ji=Rt+7>>3,oo=Rt+127>>7,co=ji+Ft+Ds+oo,cl=co+127>>7,_d=cl<=109?0:Math.ceil((cl-109)/127);co+cl+_d+127>>7>cl;)_d=++cl<=109?0:Math.ceil((cl-109)/127);var pa=[1,_d,cl,oo,Ds,Ft,Rt,0];return $t.FileIndex[0].size=Rt<<6,pa[7]=($t.FileIndex[0].start=pa[0]+pa[1]+pa[2]+pa[3]+pa[4]+pa[5])+(pa[6]+7>>3),pa})(se),we=pt(ge[7]<<9),Oe=0,Ge=0;{for(Oe=0;Oe<8;++Oe)we.write_shift(1,ue[Oe]);for(Oe=0;Oe<8;++Oe)we.write_shift(2,0);for(we.write_shift(2,62),we.write_shift(2,3),we.write_shift(2,65534),we.write_shift(2,9),we.write_shift(2,6),Oe=0;Oe<3;++Oe)we.write_shift(2,0);for(we.write_shift(4,0),we.write_shift(4,ge[2]),we.write_shift(4,ge[0]+ge[1]+ge[2]+ge[3]-1),we.write_shift(4,0),we.write_shift(4,4096),we.write_shift(4,ge[3]?ge[0]+ge[1]+ge[2]-1:Y),we.write_shift(4,ge[3]),we.write_shift(-4,ge[1]?ge[0]-1:Y),we.write_shift(4,ge[1]),Oe=0;Oe<109;++Oe)we.write_shift(-4,Oe<ge[2]?ge[1]+Oe:-1)}if(ge[1])for(Ge=0;Ge<ge[1];++Ge){for(;Oe<236+Ge*127;++Oe)we.write_shift(-4,Oe<ge[2]?ge[1]+Oe:-1);we.write_shift(-4,Ge===ge[1]-1?Y:Ge+1)}var dt=function($t){for(Ge+=$t;Oe<Ge-1;++Oe)we.write_shift(-4,Oe+1);$t&&(++Oe,we.write_shift(-4,Y))};for(Ge=Oe=0,Ge+=ge[1];Oe<Ge;++Oe)we.write_shift(-4,ie.DIFSECT);for(Ge+=ge[2];Oe<Ge;++Oe)we.write_shift(-4,ie.FATSECT);dt(ge[3]),dt(ge[4]);for(var Ye=0,Ze=0,Qe=se.FileIndex[0];Ye<se.FileIndex.length;++Ye)Qe=se.FileIndex[Ye],Qe.content&&(Ze=Qe.content.length,!(Ze<4096)&&(Qe.start=Ge,dt(Ze+511>>9)));for(dt(ge[6]+7>>3);we.l&511;)we.write_shift(-4,ie.ENDOFCHAIN);for(Ge=Oe=0,Ye=0;Ye<se.FileIndex.length;++Ye)Qe=se.FileIndex[Ye],Qe.content&&(Ze=Qe.content.length,!(!Ze||Ze>=4096)&&(Qe.start=Ge,dt(Ze+63>>6)));for(;we.l&511;)we.write_shift(-4,ie.ENDOFCHAIN);for(Oe=0;Oe<ge[4]<<2;++Oe){var Tt=se.FullPaths[Oe];if(!Tt||Tt.length===0){for(Ye=0;Ye<17;++Ye)we.write_shift(4,0);for(Ye=0;Ye<3;++Ye)we.write_shift(4,-1);for(Ye=0;Ye<12;++Ye)we.write_shift(4,0);continue}Qe=se.FileIndex[Oe],Oe===0&&(Qe.start=Qe.size?Qe.start-1:Y);var Mt=Oe===0&&pe.root||Qe.name;if(Ze=2*(Mt.length+1),we.write_shift(64,Mt,"utf16le"),we.write_shift(2,Ze),we.write_shift(1,Qe.type),we.write_shift(1,Qe.color),we.write_shift(-4,Qe.L),we.write_shift(-4,Qe.R),we.write_shift(-4,Qe.C),Qe.clsid)we.write_shift(16,Qe.clsid,"hex");else for(Ye=0;Ye<4;++Ye)we.write_shift(4,0);we.write_shift(4,Qe.state||0),we.write_shift(4,0),we.write_shift(4,0),we.write_shift(4,0),we.write_shift(4,0),we.write_shift(4,Qe.start),we.write_shift(4,Qe.size),we.write_shift(4,0)}for(Oe=1;Oe<se.FileIndex.length;++Oe)if(Qe=se.FileIndex[Oe],Qe.size>=4096)if(we.l=Qe.start+1<<9,Os&&Buffer.isBuffer(Qe.content))Qe.content.copy(we,we.l,0,Qe.size),we.l+=Qe.size+511&-512;else{for(Ye=0;Ye<Qe.size;++Ye)we.write_shift(1,Qe.content[Ye]);for(;Ye&511;++Ye)we.write_shift(1,0)}for(Oe=1;Oe<se.FileIndex.length;++Oe)if(Qe=se.FileIndex[Oe],Qe.size>0&&Qe.size<4096)if(Os&&Buffer.isBuffer(Qe.content))Qe.content.copy(we,we.l,0,Qe.size),we.l+=Qe.size+63&-64;else{for(Ye=0;Ye<Qe.size;++Ye)we.write_shift(1,Qe.content[Ye]);for(;Ye&63;++Ye)we.write_shift(1,0)}if(Os)we.l=we.length;else for(;we.l<we.length;)we.write_shift(1,0);return we}function I(se,Te){var pe=se.FullPaths.map(function(Ye){return Ye.toUpperCase()}),ge=pe.map(function(Ye){var Ze=Ye.split("/");return Ze[Ze.length-(Ye.slice(-1)=="/"?2:1)]}),we=!1;Te.charCodeAt(0)===47?(we=!0,Te=pe[0].slice(0,-1)+Te):we=Te.indexOf("/")!==-1;var Oe=Te.toUpperCase(),Ge=we===!0?pe.indexOf(Oe):ge.indexOf(Oe);if(Ge!==-1)return se.FileIndex[Ge];var dt=!Oe.match(b1);for(Oe=Oe.replace(mv,""),dt&&(Oe=Oe.replace(b1,"!")),Ge=0;Ge<pe.length;++Ge)if((dt?pe[Ge].replace(b1,"!"):pe[Ge]).replace(mv,"")==Oe||(dt?ge[Ge].replace(b1,"!"):ge[Ge]).replace(mv,"")==Oe)return se.FileIndex[Ge];return null}var F=64,Y=-2,te="d0cf11e0a1b11ae1",ue=[208,207,17,224,161,177,26,225],Z="00000000000000000000000000000000",ie={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:Y,FREESECT:-1,HEADER_SIGNATURE:te,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Z,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function G(se,Te,pe){d();var ge=z(se,pe);u.writeFileSync(Te,ge)}function ee(se){for(var Te=new Array(se.length),pe=0;pe<se.length;++pe)Te[pe]=String.fromCharCode(se[pe]);return Te.join("")}function Ne(se,Te){var pe=z(se,Te);switch(Te&&Te.type||"buffer"){case"file":return d(),u.writeFileSync(Te.filename,pe),pe;case"binary":return typeof pe=="string"?pe:ee(pe);case"base64":return qv(typeof pe=="string"?pe:ee(pe));case"buffer":if(Os)return Buffer.isBuffer(pe)?pe:Dh(pe);case"array":return typeof pe=="string"?hd(pe):pe}return pe}var X;function P(se){try{var Te=se.InflateRaw,pe=new Te;if(pe._processChunk(new Uint8Array([3,0]),pe._finishFlushFlag),pe.bytesRead)X=se;else throw new Error("zlib does not expose bytesRead")}catch(ge){console.error("cannot use native zlib: "+(ge.message||ge))}}function H(se,Te){if(!X)return ms(se,Te);var pe=X.InflateRaw,ge=new pe,we=ge._processChunk(se.slice(se.l),ge._finishFlushFlag);return se.l+=ge.bytesRead,we}function q(se){return X?X.deflateRawSync(se):Qt(se)}var W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],le=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Se=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Pe(se){var Te=(se<<1|se<<11)&139536|(se<<5|se<<15)&558144;return(Te>>16|Te>>8|Te)&255}for(var re=typeof Uint8Array<"u",ye=re?new Uint8Array(256):[],ze=0;ze<256;++ze)ye[ze]=Pe(ze);function Ce(se,Te){var pe=ye[se&255];return Te<=8?pe>>>8-Te:(pe=pe<<8|ye[se>>8&255],Te<=16?pe>>>16-Te:(pe=pe<<8|ye[se>>16&255],pe>>>24-Te))}function it(se,Te){var pe=Te&7,ge=Te>>>3;return(se[ge]|(pe<=6?0:se[ge+1]<<8))>>>pe&3}function rt(se,Te){var pe=Te&7,ge=Te>>>3;return(se[ge]|(pe<=5?0:se[ge+1]<<8))>>>pe&7}function fe(se,Te){var pe=Te&7,ge=Te>>>3;return(se[ge]|(pe<=4?0:se[ge+1]<<8))>>>pe&15}function ke(se,Te){var pe=Te&7,ge=Te>>>3;return(se[ge]|(pe<=3?0:se[ge+1]<<8))>>>pe&31}function Ie(se,Te){var pe=Te&7,ge=Te>>>3;return(se[ge]|(pe<=1?0:se[ge+1]<<8))>>>pe&127}function je(se,Te,pe){var ge=Te&7,we=Te>>>3,Oe=(1<<pe)-1,Ge=se[we]>>>ge;return pe<8-ge||(Ge|=se[we+1]<<8-ge,pe<16-ge)||(Ge|=se[we+2]<<16-ge,pe<24-ge)||(Ge|=se[we+3]<<24-ge),Ge&Oe}function Me(se,Te,pe){var ge=Te&7,we=Te>>>3;return ge<=5?se[we]|=(pe&7)<<ge:(se[we]|=pe<<ge&255,se[we+1]=(pe&7)>>8-ge),Te+3}function yt(se,Te,pe){var ge=Te&7,we=Te>>>3;return pe=(pe&1)<<ge,se[we]|=pe,Te+1}function xe(se,Te,pe){var ge=Te&7,we=Te>>>3;return pe<<=ge,se[we]|=pe&255,pe>>>=8,se[we+1]=pe,Te+8}function be(se,Te,pe){var ge=Te&7,we=Te>>>3;return pe<<=ge,se[we]|=pe&255,pe>>>=8,se[we+1]=pe&255,se[we+2]=pe>>>8,Te+16}function De(se,Te){var pe=se.length,ge=2*pe>Te?2*pe:Te+5,we=0;if(pe>=Te)return se;if(Os){var Oe=vL(ge);if(se.copy)se.copy(Oe);else for(;we<se.length;++we)Oe[we]=se[we];return Oe}else if(re){var Ge=new Uint8Array(ge);if(Ge.set)Ge.set(se);else for(;we<pe;++we)Ge[we]=se[we];return Ge}return se.length=ge,se}function st(se){for(var Te=new Array(se),pe=0;pe<se;++pe)Te[pe]=0;return Te}function ut(se,Te,pe){var ge=1,we=0,Oe=0,Ge=0,dt=0,Ye=se.length,Ze=re?new Uint16Array(32):st(32);for(Oe=0;Oe<32;++Oe)Ze[Oe]=0;for(Oe=Ye;Oe<pe;++Oe)se[Oe]=0;Ye=se.length;var Qe=re?new Uint16Array(Ye):st(Ye);for(Oe=0;Oe<Ye;++Oe)Ze[we=se[Oe]]++,ge<we&&(ge=we),Qe[Oe]=0;for(Ze[0]=0,Oe=1;Oe<=ge;++Oe)Ze[Oe+16]=dt=dt+Ze[Oe-1]<<1;for(Oe=0;Oe<Ye;++Oe)dt=se[Oe],dt!=0&&(Qe[Oe]=Ze[dt+16]++);var Tt=0;for(Oe=0;Oe<Ye;++Oe)if(Tt=se[Oe],Tt!=0)for(dt=Ce(Qe[Oe],ge)>>ge-Tt,Ge=(1<<ge+4-Tt)-1;Ge>=0;--Ge)Te[dt|Ge<<Tt]=Tt&15|Oe<<4;return ge}var lt=re?new Uint16Array(512):st(512),At=re?new Uint16Array(32):st(32);if(!re){for(var Lt=0;Lt<512;++Lt)lt[Lt]=0;for(Lt=0;Lt<32;++Lt)At[Lt]=0}(function(){for(var se=[],Te=0;Te<32;Te++)se.push(5);ut(se,At,32);var pe=[];for(Te=0;Te<=143;Te++)pe.push(8);for(;Te<=255;Te++)pe.push(9);for(;Te<=279;Te++)pe.push(7);for(;Te<=287;Te++)pe.push(8);ut(pe,lt,288)})();var Et=(function(){for(var Te=re?new Uint8Array(32768):[],pe=0,ge=0;pe<Se.length-1;++pe)for(;ge<Se[pe+1];++ge)Te[ge]=pe;for(;ge<32768;++ge)Te[ge]=29;var we=re?new Uint8Array(259):[];for(pe=0,ge=0;pe<le.length-1;++pe)for(;ge<le[pe+1];++ge)we[ge]=pe;function Oe(dt,Ye){for(var Ze=0;Ze<dt.length;){var Qe=Math.min(65535,dt.length-Ze),Tt=Ze+Qe==dt.length;for(Ye.write_shift(1,+Tt),Ye.write_shift(2,Qe),Ye.write_shift(2,~Qe&65535);Qe-- >0;)Ye[Ye.l++]=dt[Ze++]}return Ye.l}function Ge(dt,Ye){for(var Ze=0,Qe=0,Tt=re?new Uint16Array(32768):[];Qe<dt.length;){var Mt=Math.min(65535,dt.length-Qe);if(Mt<10){for(Ze=Me(Ye,Ze,+(Qe+Mt==dt.length)),Ze&7&&(Ze+=8-(Ze&7)),Ye.l=Ze/8|0,Ye.write_shift(2,Mt),Ye.write_shift(2,~Mt&65535);Mt-- >0;)Ye[Ye.l++]=dt[Qe++];Ze=Ye.l*8;continue}Ze=Me(Ye,Ze,+(Qe+Mt==dt.length)+2);for(var $t=0;Mt-- >0;){var Rt=dt[Qe];$t=($t<<5^Rt)&32767;var Ft=-1,Gt=0;if((Ft=Tt[$t])&&(Ft|=Qe&-32768,Ft>Qe&&(Ft-=32768),Ft<Qe))for(;dt[Ft+Gt]==dt[Qe+Gt]&&Gt<250;)++Gt;if(Gt>2){Rt=we[Gt],Rt<=22?Ze=xe(Ye,Ze,ye[Rt+1]>>1)-1:(xe(Ye,Ze,3),Ze+=5,xe(Ye,Ze,ye[Rt-23]>>5),Ze+=3);var As=Rt<8?0:Rt-4>>2;As>0&&(be(Ye,Ze,Gt-le[Rt]),Ze+=As),Rt=Te[Qe-Ft],Ze=xe(Ye,Ze,ye[Rt]>>3),Ze-=3;var Gr=Rt<4?0:Rt-2>>1;Gr>0&&(be(Ye,Ze,Qe-Ft-Se[Rt]),Ze+=Gr);for(var Ds=0;Ds<Gt;++Ds)Tt[$t]=Qe&32767,$t=($t<<5^dt[Qe])&32767,++Qe;Mt-=Gt-1}else Rt<=143?Rt=Rt+48:Ze=yt(Ye,Ze,1),Ze=xe(Ye,Ze,ye[Rt]),Tt[$t]=Qe&32767,++Qe}Ze=xe(Ye,Ze,0)-1}return Ye.l=(Ze+7)/8|0,Ye.l}return function(Ye,Ze){return Ye.length<8?Oe(Ye,Ze):Ge(Ye,Ze)}})();function Qt(se){var Te=pt(50+Math.floor(se.length*1.1)),pe=Et(se,Te);return Te.slice(0,pe)}var qt=re?new Uint16Array(32768):st(32768),rs=re?new Uint16Array(32768):st(32768),Tr=re?new Uint16Array(128):st(128),nr=1,mr=1;function Lr(se,Te){var pe=ke(se,Te)+257;Te+=5;var ge=ke(se,Te)+1;Te+=5;var we=fe(se,Te)+4;Te+=4;for(var Oe=0,Ge=re?new Uint8Array(19):st(19),dt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ye=1,Ze=re?new Uint8Array(8):st(8),Qe=re?new Uint8Array(8):st(8),Tt=Ge.length,Mt=0;Mt<we;++Mt)Ge[W[Mt]]=Oe=rt(se,Te),Ye<Oe&&(Ye=Oe),Ze[Oe]++,Te+=3;var $t=0;for(Ze[0]=0,Mt=1;Mt<=Ye;++Mt)Qe[Mt]=$t=$t+Ze[Mt-1]<<1;for(Mt=0;Mt<Tt;++Mt)($t=Ge[Mt])!=0&&(dt[Mt]=Qe[$t]++);var Rt=0;for(Mt=0;Mt<Tt;++Mt)if(Rt=Ge[Mt],Rt!=0){$t=ye[dt[Mt]]>>8-Rt;for(var Ft=(1<<7-Rt)-1;Ft>=0;--Ft)Tr[$t|Ft<<Rt]=Rt&7|Mt<<3}var Gt=[];for(Ye=1;Gt.length<pe+ge;)switch($t=Tr[Ie(se,Te)],Te+=$t&7,$t>>>=3){case 16:for(Oe=3+it(se,Te),Te+=2,$t=Gt[Gt.length-1];Oe-- >0;)Gt.push($t);break;case 17:for(Oe=3+rt(se,Te),Te+=3;Oe-- >0;)Gt.push(0);break;case 18:for(Oe=11+Ie(se,Te),Te+=7;Oe-- >0;)Gt.push(0);break;default:Gt.push($t),Ye<$t&&(Ye=$t);break}var As=Gt.slice(0,pe),Gr=Gt.slice(pe);for(Mt=pe;Mt<286;++Mt)As[Mt]=0;for(Mt=ge;Mt<30;++Mt)Gr[Mt]=0;return nr=ut(As,qt,286),mr=ut(Gr,rs,30),Te}function ir(se,Te){if(se[0]==3&&!(se[1]&3))return[h0(Te),2];for(var pe=0,ge=0,we=vL(Te||1<<18),Oe=0,Ge=we.length>>>0,dt=0,Ye=0;(ge&1)==0;){if(ge=rt(se,pe),pe+=3,ge>>>1)ge>>1==1?(dt=9,Ye=5):(pe=Lr(se,pe),dt=nr,Ye=mr);else{pe&7&&(pe+=8-(pe&7));var Ze=se[pe>>>3]|se[(pe>>>3)+1]<<8;if(pe+=32,Ze>0)for(!Te&&Ge<Oe+Ze&&(we=De(we,Oe+Ze),Ge=we.length);Ze-- >0;)we[Oe++]=se[pe>>>3],pe+=8;continue}for(;;){!Te&&Ge<Oe+32767&&(we=De(we,Oe+32767),Ge=we.length);var Qe=je(se,pe,dt),Tt=ge>>>1==1?lt[Qe]:qt[Qe];if(pe+=Tt&15,Tt>>>=4,(Tt>>>8&255)===0)we[Oe++]=Tt;else{if(Tt==256)break;Tt-=257;var Mt=Tt<8?0:Tt-4>>2;Mt>5&&(Mt=0);var $t=Oe+le[Tt];Mt>0&&($t+=je(se,pe,Mt),pe+=Mt),Qe=je(se,pe,Ye),Tt=ge>>>1==1?At[Qe]:rs[Qe],pe+=Tt&15,Tt>>>=4;var Rt=Tt<4?0:Tt-2>>1,Ft=Se[Tt];for(Rt>0&&(Ft+=je(se,pe,Rt),pe+=Rt),!Te&&Ge<$t&&(we=De(we,$t+100),Ge=we.length);Oe<$t;)we[Oe]=we[Oe-Ft],++Oe}}}return Te?[we,pe+7>>>3]:[we.slice(0,Oe),pe+7>>>3]}function ms(se,Te){var pe=se.slice(se.l||0),ge=ir(pe,Te);return se.l+=ge[1],ge[0]}function dr(se,Te){if(se)typeof console<"u"&&console.error(Te);else throw new Error(Te)}function br(se,Te){var pe=se;Co(pe,0);var ge=[],we=[],Oe={FileIndex:ge,FullPaths:we};R(Oe,{root:Te.root});for(var Ge=pe.length-4;(pe[Ge]!=80||pe[Ge+1]!=75||pe[Ge+2]!=5||pe[Ge+3]!=6)&&Ge>=0;)--Ge;pe.l=Ge+4,pe.l+=4;var dt=pe.read_shift(2);pe.l+=6;var Ye=pe.read_shift(4);for(pe.l=Ye,Ge=0;Ge<dt;++Ge){pe.l+=20;var Ze=pe.read_shift(4),Qe=pe.read_shift(4),Tt=pe.read_shift(2),Mt=pe.read_shift(2),$t=pe.read_shift(2);pe.l+=8;var Rt=pe.read_shift(4),Ft=o(pe.slice(pe.l+Tt,pe.l+Tt+Mt));pe.l+=Tt+Mt+$t;var Gt=pe.l;pe.l=Rt+4,_s(pe,Ze,Qe,Oe,Ft),pe.l=Gt}return Oe}function _s(se,Te,pe,ge,we){se.l+=2;var Oe=se.read_shift(2),Ge=se.read_shift(2),dt=l(se);if(Oe&8257)throw new Error("Unsupported ZIP encryption");for(var Ye=se.read_shift(4),Ze=se.read_shift(4),Qe=se.read_shift(4),Tt=se.read_shift(2),Mt=se.read_shift(2),$t="",Rt=0;Rt<Tt;++Rt)$t+=String.fromCharCode(se[se.l++]);if(Mt){var Ft=o(se.slice(se.l,se.l+Mt));(Ft[21589]||{}).mt&&(dt=Ft[21589].mt),((we||{})[21589]||{}).mt&&(dt=we[21589].mt)}se.l+=Mt;var Gt=se.slice(se.l,se.l+Ze);switch(Ge){case 8:Gt=H(se,Qe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ge)}var As=!1;Oe&8&&(Ye=se.read_shift(4),Ye==134695760&&(Ye=se.read_shift(4),As=!0),Ze=se.read_shift(4),Qe=se.read_shift(4)),Ze!=Te&&dr(As,"Bad compressed size: "+Te+" != "+Ze),Qe!=pe&&dr(As,"Bad uncompressed size: "+pe+" != "+Qe),In(ge,$t,Gt,{unsafe:!0,mt:dt})}function kr(se,Te){var pe=Te||{},ge=[],we=[],Oe=pt(1),Ge=pe.compression?8:0,dt=0,Ye=0,Ze=0,Qe=0,Tt=0,Mt=se.FullPaths[0],$t=Mt,Rt=se.FileIndex[0],Ft=[],Gt=0;for(Ye=1;Ye<se.FullPaths.length;++Ye)if($t=se.FullPaths[Ye].slice(Mt.length),Rt=se.FileIndex[Ye],!(!Rt.size||!Rt.content||$t=="Sh33tJ5")){var As=Qe,Gr=pt($t.length);for(Ze=0;Ze<$t.length;++Ze)Gr.write_shift(1,$t.charCodeAt(Ze)&127);Gr=Gr.slice(0,Gr.l),Ft[Tt]=U3e.buf(Rt.content,0);var Ds=Rt.content;Ge==8&&(Ds=q(Ds)),Oe=pt(30),Oe.write_shift(4,67324752),Oe.write_shift(2,20),Oe.write_shift(2,dt),Oe.write_shift(2,Ge),Rt.mt?i(Oe,Rt.mt):Oe.write_shift(4,0),Oe.write_shift(-4,Ft[Tt]),Oe.write_shift(4,Ds.length),Oe.write_shift(4,Rt.content.length),Oe.write_shift(2,Gr.length),Oe.write_shift(2,0),Qe+=Oe.length,ge.push(Oe),Qe+=Gr.length,ge.push(Gr),Qe+=Ds.length,ge.push(Ds),Oe=pt(46),Oe.write_shift(4,33639248),Oe.write_shift(2,0),Oe.write_shift(2,20),Oe.write_shift(2,dt),Oe.write_shift(2,Ge),Oe.write_shift(4,0),Oe.write_shift(-4,Ft[Tt]),Oe.write_shift(4,Ds.length),Oe.write_shift(4,Rt.content.length),Oe.write_shift(2,Gr.length),Oe.write_shift(2,0),Oe.write_shift(2,0),Oe.write_shift(2,0),Oe.write_shift(2,0),Oe.write_shift(4,0),Oe.write_shift(4,As),Gt+=Oe.l,we.push(Oe),Gt+=Gr.length,we.push(Gr),++Tt}return Oe=pt(22),Oe.write_shift(4,101010256),Oe.write_shift(2,0),Oe.write_shift(2,0),Oe.write_shift(2,Tt),Oe.write_shift(2,Tt),Oe.write_shift(4,Gt),Oe.write_shift(4,Qe),Oe.write_shift(2,0),Ri([Ri(ge),Ri(we),Oe])}var rr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Yr(se,Te){if(se.ctype)return se.ctype;var pe=se.name||"",ge=pe.match(/\.([^\.]+)$/);return ge&&rr[ge[1]]||Te&&(ge=(pe=Te).match(/[\.\\]([^\.\\])+$/),ge&&rr[ge[1]])?rr[ge[1]]:"application/octet-stream"}function ol(se){for(var Te=qv(se),pe=[],ge=0;ge<Te.length;ge+=76)pe.push(Te.slice(ge,ge+76));return pe.join(`\r
`)+`\r
`}function bn(se){var Te=se.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ze){var Qe=Ze.charCodeAt(0).toString(16).toUpperCase();return"="+(Qe.length==1?"0"+Qe:Qe)});Te=Te.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Te.charAt(0)==`
`&&(Te="=0D"+Te.slice(1)),Te=Te.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var pe=[],ge=Te.split(`\r
`),we=0;we<ge.length;++we){var Oe=ge[we];if(Oe.length==0){pe.push("");continue}for(var Ge=0;Ge<Oe.length;){var dt=76,Ye=Oe.slice(Ge,Ge+dt);Ye.charAt(dt-1)=="="?dt--:Ye.charAt(dt-2)=="="?dt-=2:Ye.charAt(dt-3)=="="&&(dt-=3),Ye=Oe.slice(Ge,Ge+dt),Ge+=dt,Ge<Oe.length&&(Ye+="="),pe.push(Ye)}}return pe.join(`\r
`)}function kl(se){for(var Te=[],pe=0;pe<se.length;++pe){for(var ge=se[pe];pe<=se.length&&ge.charAt(ge.length-1)=="=";)ge=ge.slice(0,ge.length-1)+se[++pe];Te.push(ge)}for(var we=0;we<Te.length;++we)Te[we]=Te[we].replace(/[=][0-9A-Fa-f]{2}/g,function(Oe){return String.fromCharCode(parseInt(Oe.slice(1),16))});return hd(Te.join(`\r
`))}function zi(se,Te,pe){for(var ge="",we="",Oe="",Ge,dt=0;dt<10;++dt){var Ye=Te[dt];if(!Ye||Ye.match(/^\s*$/))break;var Ze=Ye.match(/^(.*?):\s*([^\s].*)$/);if(Ze)switch(Ze[1].toLowerCase()){case"content-location":ge=Ze[2].trim();break;case"content-type":Oe=Ze[2].trim();break;case"content-transfer-encoding":we=Ze[2].trim();break}}switch(++dt,we.toLowerCase()){case"base64":Ge=hd(jh(Te.slice(dt).join("")));break;case"quoted-printable":Ge=kl(Te.slice(dt));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+we)}var Qe=In(se,ge.slice(pe.length),Ge,{unsafe:!0});Oe&&(Qe.ctype=Oe)}function or(se,Te){if(ee(se.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var pe=Te&&Te.root||"",ge=(Os&&Buffer.isBuffer(se)?se.toString("binary"):ee(se)).split(`\r
`),we=0,Oe="";for(we=0;we<ge.length;++we)if(Oe=ge[we],!!/^Content-Location:/i.test(Oe)&&(Oe=Oe.slice(Oe.indexOf("file")),pe||(pe=Oe.slice(0,Oe.lastIndexOf("/")+1)),Oe.slice(0,pe.length)!=pe))for(;pe.length>0&&(pe=pe.slice(0,pe.length-1),pe=pe.slice(0,pe.lastIndexOf("/")+1),Oe.slice(0,pe.length)!=pe););var Ge=(ge[1]||"").match(/boundary="(.*?)"/);if(!Ge)throw new Error("MAD cannot find boundary");var dt="--"+(Ge[1]||""),Ye=[],Ze=[],Qe={FileIndex:Ye,FullPaths:Ze};R(Qe);var Tt,Mt=0;for(we=0;we<ge.length;++we){var $t=ge[we];$t!==dt&&$t!==dt+"--"||(Mt++&&zi(Qe,ge.slice(Tt,we),pe),Tt=we)}return Qe}function lo(se,Te){var pe=Te||{},ge=pe.boundary||"SheetJS";ge="------="+ge;for(var we=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ge.slice(2)+'"',"","",""],Oe=se.FullPaths[0],Ge=Oe,dt=se.FileIndex[0],Ye=1;Ye<se.FullPaths.length;++Ye)if(Ge=se.FullPaths[Ye].slice(Oe.length),dt=se.FileIndex[Ye],!(!dt.size||!dt.content||Ge=="Sh33tJ5")){Ge=Ge.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Gt){return"_x"+Gt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Gt){return"_u"+Gt.charCodeAt(0).toString(16)+"_"});for(var Ze=dt.content,Qe=Os&&Buffer.isBuffer(Ze)?Ze.toString("binary"):ee(Ze),Tt=0,Mt=Math.min(1024,Qe.length),$t=0,Rt=0;Rt<=Mt;++Rt)($t=Qe.charCodeAt(Rt))>=32&&$t<128&&++Tt;var Ft=Tt>=Mt*4/5;we.push(ge),we.push("Content-Location: "+(pe.root||"file:///C:/SheetJS/")+Ge),we.push("Content-Transfer-Encoding: "+(Ft?"quoted-printable":"base64")),we.push("Content-Type: "+Yr(dt,Ge)),we.push(""),we.push(Ft?bn(Qe):ol(Qe))}return we.push(ge+`--\r
`),we.join(`\r
`)}function Tl(se){var Te={};return R(Te,se),Te}function In(se,Te,pe,ge){var we=ge&&ge.unsafe;we||R(se);var Oe=!we&&sa.find(se,Te);if(!Oe){var Ge=se.FullPaths[0];Te.slice(0,Ge.length)==Ge?Ge=Te:(Ge.slice(-1)!="/"&&(Ge+="/"),Ge=(Ge+Te).replace("//","/")),Oe={name:n(Te),type:2},se.FileIndex.push(Oe),se.FullPaths.push(Ge),we||sa.utils.cfb_gc(se)}return Oe.content=pe,Oe.size=pe?pe.length:0,ge&&(ge.CLSID&&(Oe.clsid=ge.CLSID),ge.mt&&(Oe.mt=ge.mt),ge.ct&&(Oe.ct=ge.ct)),Oe}function bi(se,Te){R(se);var pe=sa.find(se,Te);if(pe){for(var ge=0;ge<se.FileIndex.length;++ge)if(se.FileIndex[ge]==pe)return se.FileIndex.splice(ge,1),se.FullPaths.splice(ge,1),!0}return!1}function Ks(se,Te,pe){R(se);var ge=sa.find(se,Te);if(ge){for(var we=0;we<se.FileIndex.length;++we)if(se.FileIndex[we]==ge)return se.FileIndex[we].name=n(pe),se.FullPaths[we]=pe,!0}return!1}function Aa(se){B(se,!0)}return t.find=I,t.read=M,t.parse=m,t.write=Ne,t.writeFile=G,t.utils={cfb_new:Tl,cfb_add:In,cfb_del:bi,cfb_mov:Ks,cfb_gc:Aa,ReadShift:pv,CheckField:SV,prep_blob:Co,bconcat:Ri,use_zlib:P,_deflateRaw:Qt,_inflateRaw:ms,consts:ie},t})();function z3e(e){return typeof e=="string"?Tw(e):Array.isArray(e)?m3e(e):e}function Py(e,t,s){if(typeof Deno<"u"){if(s&&typeof t=="string")switch(s){case"utf8":t=new TextEncoder(s).encode(t);break;case"binary":t=Tw(t);break;default:throw new Error("Unsupported encoding "+s)}return Deno.writeFileSync(e,t)}var a=s=="utf8"?Wv(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(a,e);if(typeof Blob<"u"){var n=new Blob([z3e(a)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(n,e);if(typeof saveAs<"u")return saveAs(n,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(n);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var l=document.createElement("a");if(l.download!=null)return l.download=e,l.href=i,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(e);return o.open("w"),o.encoding="binary",Array.isArray(t)&&(t=Oy(t)),o.write(t),o.close(),t}catch(u){if(!u.message||!u.message.match(/onstruct/))throw u}throw new Error("cannot save file "+e)}function Ui(e){for(var t=Object.keys(e),s=[],a=0;a<t.length;++a)Object.prototype.hasOwnProperty.call(e,t[a])&&s.push(t[a]);return s}function AL(e,t){for(var s=[],a=Ui(e),n=0;n!==a.length;++n)s[e[a[n]][t]]==null&&(s[e[a[n]][t]]=a[n]);return s}function Rk(e){for(var t=[],s=Ui(e),a=0;a!==s.length;++a)t[e[s[a]]]=s[a];return t}function Pw(e){for(var t=[],s=Ui(e),a=0;a!==s.length;++a)t[e[s[a]]]=parseInt(s[a],10);return t}function $3e(e){for(var t=[],s=Ui(e),a=0;a!==s.length;++a)t[e[s[a]]]==null&&(t[e[s[a]]]=[]),t[e[s[a]]].push(s[a]);return t}var qj=new Date(1899,11,30,0,0,0);function to(e,t){var s=e.getTime(),a=qj.getTime()+(e.getTimezoneOffset()-qj.getTimezoneOffset())*6e4;return(s-a)/(1440*60*1e3)}var lV=new Date,H3e=qj.getTime()+(lV.getTimezoneOffset()-qj.getTimezoneOffset())*6e4,CL=lV.getTimezoneOffset();function oV(e){var t=new Date;return t.setTime(e*24*60*60*1e3+H3e),t.getTimezoneOffset()!==CL&&t.setTime(t.getTime()+(t.getTimezoneOffset()-CL)*6e4),t}var kL=new Date("2017-02-19T19:06:09.000Z"),cV=isNaN(kL.getFullYear())?new Date("2/19/17"):kL,q3e=cV.getFullYear()==2017;function Sl(e,t){var s=new Date(e);if(q3e)return t>0?s.setTime(s.getTime()+s.getTimezoneOffset()*60*1e3):t<0&&s.setTime(s.getTime()-s.getTimezoneOffset()*60*1e3),s;if(e instanceof Date)return e;if(cV.getFullYear()==1917&&!isNaN(s.getFullYear())){var a=s.getFullYear();return e.indexOf(""+a)>-1||s.setFullYear(s.getFullYear()+100),s}var n=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+n[0],+n[1]-1,+n[2],+n[3]||0,+n[4]||0,+n[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function Dw(e,t){if(Os&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var s={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return s[i]||i})}catch{}for(var a=[],n=0;n!=e.length;++n)a.push(String.fromCharCode(e[n]));return a.join("")}function ro(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=ro(e[s]));return t}function rn(e,t){for(var s="";s.length<t;)s+=e;return s}function lh(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var s=1,a=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return s*=100,""});return!isNaN(t=Number(a))||(a=a.replace(/[(](.*)[)]/,function(n,i){return s=-s,i}),!isNaN(t=Number(a)))?t/s:t}var V3e=["january","february","march","april","may","june","july","august","september","october","november","december"];function Vv(e){var t=new Date(e),s=new Date(NaN),a=t.getYear(),n=t.getMonth(),i=t.getDate();if(isNaN(i))return s;var l=e.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&V3e.indexOf(l)==-1)return s}else if(l.match(/[a-z]/))return s;return a<0||a>8099?s:(n>0||i>1)&&a!=101?t:e.match(/[^-0-9:,\/\\]/)?s:t}function Hr(e,t,s){if(e.FullPaths){if(typeof s=="string"){var a;return Os?a=Dh(s):a=f3e(s),sa.utils.cfb_add(e,t,a)}sa.utils.cfb_add(e,t,s)}else e.file(t,s)}function Mk(){return sa.utils.cfb_new()}var Ln=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,W3e={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Lk=Rk(W3e),Ik=/[&<>'"]/g,G3e=/[\u0000-\u0008\u000b-\u001f]/g;function Ws(e){var t=e+"";return t.replace(Ik,function(s){return Lk[s]}).replace(G3e,function(s){return"_x"+("000"+s.charCodeAt(0).toString(16)).slice(-4)+"_"})}function TL(e){return Ws(e).replace(/ /g,"_x0020_")}var dV=/[\u0000-\u001f]/g;function K3e(e){var t=e+"";return t.replace(Ik,function(s){return Lk[s]}).replace(/\n/g,"<br/>").replace(dV,function(s){return"&#x"+("000"+s.charCodeAt(0).toString(16)).slice(-4)+";"})}function Y3e(e){var t=e+"";return t.replace(Ik,function(s){return Lk[s]}).replace(dV,function(s){return"&#x"+s.charCodeAt(0).toString(16).toUpperCase()+";"})}function Z3e(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function X3e(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function x3(e){for(var t="",s=0,a=0,n=0,i=0,l=0,o=0;s<e.length;){if(a=e.charCodeAt(s++),a<128){t+=String.fromCharCode(a);continue}if(n=e.charCodeAt(s++),a>191&&a<224){l=(a&31)<<6,l|=n&63,t+=String.fromCharCode(l);continue}if(i=e.charCodeAt(s++),a<240){t+=String.fromCharCode((a&15)<<12|(n&63)<<6|i&63);continue}l=e.charCodeAt(s++),o=((a&7)<<18|(n&63)<<12|(i&63)<<6|l&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function EL(e){var t=h0(2*e.length),s,a,n=1,i=0,l=0,o;for(a=0;a<e.length;a+=n)n=1,(o=e.charCodeAt(a))<128?s=o:o<224?(s=(o&31)*64+(e.charCodeAt(a+1)&63),n=2):o<240?(s=(o&15)*4096+(e.charCodeAt(a+1)&63)*64+(e.charCodeAt(a+2)&63),n=3):(n=4,s=(o&7)*262144+(e.charCodeAt(a+1)&63)*4096+(e.charCodeAt(a+2)&63)*64+(e.charCodeAt(a+3)&63),s-=65536,l=55296+(s>>>10&1023),s=56320+(s&1023)),l!==0&&(t[i++]=l&255,t[i++]=l>>>8,l=0),t[i++]=s%256,t[i++]=s>>>8;return t.slice(0,i).toString("ucs2")}function OL(e){return Dh(e,"binary").toString("utf8")}var N1="foo bar baz",fv=Os&&(OL(N1)==x3(N1)&&OL||EL(N1)==x3(N1)&&EL)||x3,Wv=Os?function(e){return Dh(e,"utf8").toString("binary")}:function(e){for(var t=[],s=0,a=0,n=0;s<e.length;)switch(a=e.charCodeAt(s++),!0){case a<128:t.push(String.fromCharCode(a));break;case a<2048:t.push(String.fromCharCode(192+(a>>6))),t.push(String.fromCharCode(128+(a&63)));break;case(a>=55296&&a<57344):a-=55296,n=e.charCodeAt(s++)-56320+(a<<10),t.push(String.fromCharCode(240+(n>>18&7))),t.push(String.fromCharCode(144+(n>>12&63))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)));break;default:t.push(String.fromCharCode(224+(a>>12))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)))}return t.join("")},J3e=(function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(s){for(var a=s.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),n=0;n<e.length;++n)a=a.replace(e[n][0],e[n][1]);return a}})(),uV=/(^\s|\s$|\n)/;function Mi(e,t){return"<"+e+(t.match(uV)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Gv(e){return Ui(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function It(e,t,s){return"<"+e+(s!=null?Gv(s):"")+(t!=null?(t.match(uV)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function EA(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(s){if(t)throw s}return""}function Q3e(e,t){switch(typeof e){case"string":var s=It("vt:lpwstr",Ws(e));return s=s.replace(/&quot;/g,"_x0022_"),s;case"number":return It((e|0)==e?"vt:i4":"vt:r8",Ws(String(e)));case"boolean":return It("vt:bool",e?"true":"false")}if(e instanceof Date)return It("vt:filetime",EA(e));throw new Error("Unable to serialize "+e)}var fi={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Xx=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],ko={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function e_e(e,t){for(var s=1-2*(e[t+7]>>>7),a=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),n=e[t+6]&15,i=5;i>=0;--i)n=n*256+e[t+i];return a==2047?n==0?s*(1/0):NaN:(a==0?a=-1022:(a-=1023,n+=Math.pow(2,52)),s*Math.pow(2,a-52)*n)}function t_e(e,t,s){var a=(t<0||1/t==-1/0?1:0)<<7,n=0,i=0,l=a?-t:t;isFinite(l)?l==0?n=i=0:(n=Math.floor(Math.log(l)/Math.LN2),i=l*Math.pow(2,52-n),n<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?n=-1022:(i-=Math.pow(2,52),n+=1023)):(n=2047,i=isNaN(t)?26985:0);for(var o=0;o<=5;++o,i/=256)e[s+o]=i&255;e[s+6]=(n&15)<<4|i&15,e[s+7]=n>>4|a}var PL=function(e){for(var t=[],s=10240,a=0;a<e[0].length;++a)if(e[0][a])for(var n=0,i=e[0][a].length;n<i;n+=s)t.push.apply(t,e[0][a].slice(n,n+s));return t},DL=Os?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Dh(t)})):PL(e)}:PL,RL=function(e,t,s){for(var a=[],n=t;n<s;n+=2)a.push(String.fromCharCode(dv(e,n)));return a.join("").replace(mv,"")},Fk=Os?function(e,t,s){return Buffer.isBuffer(e)?e.toString("utf16le",t,s).replace(mv,""):RL(e,t,s)}:RL,ML=function(e,t,s){for(var a=[],n=t;n<t+s;++n)a.push(("0"+e[n].toString(16)).slice(-2));return a.join("")},hV=Os?function(e,t,s){return Buffer.isBuffer(e)?e.toString("hex",t,t+s):ML(e,t,s)}:ML,LL=function(e,t,s){for(var a=[],n=t;n<s;n++)a.push(String.fromCharCode(Rp(e,n)));return a.join("")},Dy=Os?function(t,s,a){return Buffer.isBuffer(t)?t.toString("utf8",s,a):LL(t,s,a)}:LL,mV=function(e,t){var s=To(e,t);return s>0?Dy(e,t+4,t+4+s-1):""},fV=mV,pV=function(e,t){var s=To(e,t);return s>0?Dy(e,t+4,t+4+s-1):""},xV=pV,gV=function(e,t){var s=2*To(e,t);return s>0?Dy(e,t+4,t+4+s-1):""},vV=gV,yV=function(t,s){var a=To(t,s);return a>0?Fk(t,s+4,s+4+a):""},bV=yV,jV=function(e,t){var s=To(e,t);return s>0?Dy(e,t+4,t+4+s):""},NV=jV,wV=function(e,t){return e_e(e,t)},Vj=wV,Bk=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Os&&(fV=function(t,s){if(!Buffer.isBuffer(t))return mV(t,s);var a=t.readUInt32LE(s);return a>0?t.toString("utf8",s+4,s+4+a-1):""},xV=function(t,s){if(!Buffer.isBuffer(t))return pV(t,s);var a=t.readUInt32LE(s);return a>0?t.toString("utf8",s+4,s+4+a-1):""},vV=function(t,s){if(!Buffer.isBuffer(t))return gV(t,s);var a=2*t.readUInt32LE(s);return t.toString("utf16le",s+4,s+4+a-1)},bV=function(t,s){if(!Buffer.isBuffer(t))return yV(t,s);var a=t.readUInt32LE(s);return t.toString("utf16le",s+4,s+4+a)},NV=function(t,s){if(!Buffer.isBuffer(t))return jV(t,s);var a=t.readUInt32LE(s);return t.toString("utf8",s+4,s+4+a)},Vj=function(t,s){return Buffer.isBuffer(t)?t.readDoubleLE(s):wV(t,s)},Bk=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Rp=function(e,t){return e[t]},dv=function(e,t){return e[t+1]*256+e[t]},r_e=function(e,t){var s=e[t+1]*256+e[t];return s<32768?s:(65535-s+1)*-1},To=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Mf=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},s_e=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function pv(e,t){var s="",a,n,i=[],l,o,u,d;switch(t){case"dbcs":if(d=this.l,Os&&Buffer.isBuffer(this))s=this.slice(this.l,this.l+2*e).toString("utf16le");else for(u=0;u<e;++u)s+=String.fromCharCode(dv(this,d)),d+=2;e*=2;break;case"utf8":s=Dy(this,this.l,this.l+e);break;case"utf16le":e*=2,s=Fk(this,this.l,this.l+e);break;case"wstr":return pv.call(this,e,"dbcs");case"lpstr-ansi":s=fV(this,this.l),e=4+To(this,this.l);break;case"lpstr-cp":s=xV(this,this.l),e=4+To(this,this.l);break;case"lpwstr":s=vV(this,this.l),e=4+2*To(this,this.l);break;case"lpp4":e=4+To(this,this.l),s=bV(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+To(this,this.l),s=NV(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,s="";(l=Rp(this,this.l+e++))!==0;)i.push(y1(l));s=i.join("");break;case"_wstr":for(e=0,s="";(l=dv(this,this.l+e))!==0;)i.push(y1(l)),e+=2;e+=2,s=i.join("");break;case"dbcs-cont":for(s="",d=this.l,u=0;u<e;++u){if(this.lens&&this.lens.indexOf(d)!==-1)return l=Rp(this,d),this.l=d+1,o=pv.call(this,e-u,l?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(y1(dv(this,d))),d+=2}s=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(s="",d=this.l,u=0;u!=e;++u){if(this.lens&&this.lens.indexOf(d)!==-1)return l=Rp(this,d),this.l=d+1,o=pv.call(this,e-u,l?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(y1(Rp(this,d))),d+=1}s=i.join("");break;default:switch(e){case 1:return a=Rp(this,this.l),this.l++,a;case 2:return a=(t==="i"?r_e:dv)(this,this.l),this.l+=2,a;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(a=(e>0?Mf:s_e)(this,this.l),this.l+=4,a):(n=To(this,this.l),this.l+=4,n);case 8:case-8:if(t==="f")return e==8?n=Vj(this,this.l):n=Vj([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,n;e=8;case 16:s=hV(this,this.l,e);break}}return this.l+=e,s}var a_e=function(e,t,s){e[s]=t&255,e[s+1]=t>>>8&255,e[s+2]=t>>>16&255,e[s+3]=t>>>24&255},n_e=function(e,t,s){e[s]=t&255,e[s+1]=t>>8&255,e[s+2]=t>>16&255,e[s+3]=t>>24&255},i_e=function(e,t,s){e[s]=t&255,e[s+1]=t>>>8&255};function l_e(e,t,s){var a=0,n=0;if(s==="dbcs"){for(n=0;n!=t.length;++n)i_e(this,t.charCodeAt(n),this.l+2*n);a=2*t.length}else if(s==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),n=0;n!=t.length;++n)this[this.l+n]=t.charCodeAt(n)&255;a=t.length}else if(s==="hex"){for(;n<e;++n)this[this.l++]=parseInt(t.slice(2*n,2*n+2),16)||0;return this}else if(s==="utf16le"){var i=Math.min(this.l+e,this.length);for(n=0;n<Math.min(t.length,e);++n){var l=t.charCodeAt(n);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:a=1,this[this.l]=t&255;break;case 2:a=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:a=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:a=4,a_e(this,t,this.l);break;case 8:if(a=8,s==="f"){t_e(this,t,this.l);break}case 16:break;case-4:a=4,n_e(this,t,this.l);break}return this.l+=a,this}function SV(e,t){var s=hV(this,this.l,e.length>>1);if(s!==e)throw new Error(t+"Expected "+e+" saw "+s);this.l+=e.length>>1}function Co(e,t){e.l=t,e.read_shift=pv,e.chk=SV,e.write_shift=l_e}function uu(e,t){e.l+=t}function pt(e){var t=h0(e);return Co(t,0),t}function Ql(){var e=[],t=Os?256:2048,s=function(d){var m=pt(d);return Co(m,0),m},a=s(t),n=function(){a&&(a.length>a.l&&(a=a.slice(0,a.l),a.l=a.length),a.length>0&&e.push(a),a=null)},i=function(d){return a&&d<a.length-a.l?a:(n(),a=s(Math.max(d+1,t)))},l=function(){return n(),Ri(e)},o=function(d){n(),a=d,a.l==null&&(a.l=a.length),i(t)};return{next:i,push:o,end:l,_bufs:e}}function kt(e,t,s,a){var n=+t,i;if(!isNaN(n)){a||(a=eEe[n].p||(s||[]).length||0),i=1+(n>=128?1:0)+1,a>=128&&++i,a>=16384&&++i,a>=2097152&&++i;var l=e.next(i);n<=127?l.write_shift(1,n):(l.write_shift(1,(n&127)+128),l.write_shift(1,n>>7));for(var o=0;o!=4;++o)if(a>=128)l.write_shift(1,(a&127)+128),a>>=7;else{l.write_shift(1,a);break}a>0&&Bk(s)&&e.push(s)}}function xv(e,t,s){var a=ro(e);if(t.s?(a.cRel&&(a.c+=t.s.c),a.rRel&&(a.r+=t.s.r)):(a.cRel&&(a.c+=t.c),a.rRel&&(a.r+=t.r)),!s||s.biff<12){for(;a.c>=256;)a.c-=256;for(;a.r>=65536;)a.r-=65536}return a}function IL(e,t,s){var a=ro(e);return a.s=xv(a.s,t.s,s),a.e=xv(a.e,t.s,s),a}function gv(e,t){if(e.cRel&&e.c<0)for(e=ro(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=ro(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var s=Gs(e);return!e.cRel&&e.cRel!=null&&(s=d_e(s)),!e.rRel&&e.rRel!=null&&(s=o_e(s)),s}function g3(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+sl(e.s.c)+":"+(e.e.cRel?"":"$")+sl(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Li(e.s.r)+":"+(e.e.rRel?"":"$")+Li(e.e.r):gv(e.s,t.biff)+":"+gv(e.e,t.biff)}function Uk(e){return parseInt(c_e(e),10)-1}function Li(e){return""+(e+1)}function o_e(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function c_e(e){return e.replace(/\$(\d+)$/,"$1")}function zk(e){for(var t=u_e(e),s=0,a=0;a!==t.length;++a)s=26*s+t.charCodeAt(a)-64;return s-1}function sl(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function d_e(e){return e.replace(/^([A-Z])/,"$$$1")}function u_e(e){return e.replace(/^\$([A-Z])/,"$1")}function h_e(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function xi(e){for(var t=0,s=0,a=0;a<e.length;++a){var n=e.charCodeAt(a);n>=48&&n<=57?t=10*t+(n-48):n>=65&&n<=90&&(s=26*s+(n-64))}return{c:s-1,r:t-1}}function Gs(e){for(var t=e.c+1,s="";t;t=(t-1)/26|0)s=String.fromCharCode((t-1)%26+65)+s;return s+(e.r+1)}function zo(e){var t=e.indexOf(":");return t==-1?{s:xi(e),e:xi(e)}:{s:xi(e.slice(0,t)),e:xi(e.slice(t+1))}}function Rn(e,t){return typeof t>"u"||typeof t=="number"?Rn(e.s,e.e):(typeof e!="string"&&(e=Gs(e)),typeof t!="string"&&(t=Gs(t)),e==t?e:e+":"+t)}function _a(e){var t={s:{c:0,r:0},e:{c:0,r:0}},s=0,a=0,n=0,i=e.length;for(s=0;a<i&&!((n=e.charCodeAt(a)-64)<1||n>26);++a)s=26*s+n;for(t.s.c=--s,s=0;a<i&&!((n=e.charCodeAt(a)-48)<0||n>9);++a)s=10*s+n;if(t.s.r=--s,a===i||n!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++a,s=0;a!=i&&!((n=e.charCodeAt(a)-64)<1||n>26);++a)s=26*s+n;for(t.e.c=--s,s=0;a!=i&&!((n=e.charCodeAt(a)-48)<0||n>9);++a)s=10*s+n;return t.e.r=--s,t}function FL(e,t){var s=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Um(e.z,s?to(t):t)}catch{}try{return e.w=Um((e.XF||{}).numFmtId||(s?14:0),s?to(t):t)}catch{return""+t}}function Nh(e,t,s){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&s&&s.dateNF&&(e.z=s.dateNF),e.t=="e"?Ry[e.v]||e.v:t==null?FL(e,e.v):FL(e,t))}function N0(e,t){var s=t&&t.sheet?t.sheet:"Sheet1",a={};return a[s]=e,{SheetNames:[s],Sheets:a}}function _V(e,t,s){var a=s||{},n=e?Array.isArray(e):a.dense,i=e||(n?[]:{}),l=0,o=0;if(i&&a.origin!=null){if(typeof a.origin=="number")l=a.origin;else{var u=typeof a.origin=="string"?xi(a.origin):a.origin;l=u.r,o=u.c}i["!ref"]||(i["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var m=_a(i["!ref"]);d.s.c=m.s.c,d.s.r=m.s.r,d.e.c=Math.max(d.e.c,m.e.c),d.e.r=Math.max(d.e.r,m.e.r),l==-1&&(d.e.r=l=m.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var g=0;g!=t[f].length;++g)if(!(typeof t[f][g]>"u")){var p={v:t[f][g]},y=l+f,v=o+g;if(d.s.r>y&&(d.s.r=y),d.s.c>v&&(d.s.c=v),d.e.r<y&&(d.e.r=y),d.e.c<v&&(d.e.c=v),t[f][g]&&typeof t[f][g]=="object"&&!Array.isArray(t[f][g])&&!(t[f][g]instanceof Date))p=t[f][g];else if(Array.isArray(p.v)&&(p.f=t[f][g][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(a.nullError)p.t="e",p.v=0;else if(a.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=a.dateNF||sn[14],a.cellDates?(p.t="d",p.w=Um(p.z,to(p.v))):(p.t="n",p.v=to(p.v),p.w=Um(p.z,p.v))):p.t="s";if(n)i[y]||(i[y]=[]),i[y][v]&&i[y][v].z&&(p.z=i[y][v].z),i[y][v]=p;else{var j=Gs({c:v,r:y});i[j]&&i[j].z&&(p.z=i[j].z),i[j]=p}}}return d.s.c<1e7&&(i["!ref"]=Rn(d)),i}function Jx(e,t){return _V(null,e,t)}function m_e(e){return e.read_shift(4,"i")}function xd(e,t){return t||(t=pt(4)),t.write_shift(4,e),t}function al(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function gi(e,t){var s=!1;return t==null&&(s=!0,t=pt(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),s?t.slice(0,t.l):t}function f_e(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function p_e(e,t){return t||(t=pt(4)),t.write_shift(2,0),t.write_shift(2,0),t}function $k(e,t){var s=e.l,a=e.read_shift(1),n=al(e),i=[],l={t:n,h:n};if((a&1)!==0){for(var o=e.read_shift(4),u=0;u!=o;++u)i.push(f_e(e));l.r=i}else l.r=[{ich:0,ifnt:0}];return e.l=s+t,l}function x_e(e,t){var s=!1;return t==null&&(s=!0,t=pt(15+4*e.t.length)),t.write_shift(1,0),gi(e.t,t),s?t.slice(0,t.l):t}var g_e=$k;function v_e(e,t){var s=!1;return t==null&&(s=!0,t=pt(23+4*e.t.length)),t.write_shift(1,1),gi(e.t,t),t.write_shift(4,1),p_e({},t),s?t.slice(0,t.l):t}function Tc(e){var t=e.read_shift(4),s=e.read_shift(2);return s+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:s}}function w0(e,t){return t==null&&(t=pt(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function S0(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function _0(e,t){return t==null&&(t=pt(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var y_e=al,AV=gi;function Hk(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function Wj(e,t){var s=!1;return t==null&&(s=!0,t=pt(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),s?t.slice(0,t.l):t}var b_e=al,OA=Hk,qk=Wj;function CV(e){var t=e.slice(e.l,e.l+4),s=t[0]&1,a=t[0]&2;e.l+=4;var n=a===0?Vj([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Mf(t,0)>>2;return s?n/100:n}function kV(e,t){t==null&&(t=pt(4));var s=0,a=0,n=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?a=1:n==(n|0)&&n>=-536870912&&n<1<<29&&(a=1,s=1),a)t.write_shift(-4,((s?n:e)<<2)+(s+2));else throw new Error("unsupported RkNumber "+e)}function TV(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function j_e(e,t){return t||(t=pt(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var A0=TV,Qx=j_e;function eg(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function m0(e,t){return(t||pt(8)).write_shift(8,e,"f")}function N_e(e){var t={},s=e.read_shift(1),a=s>>>1,n=e.read_shift(1),i=e.read_shift(2,"i"),l=e.read_shift(1),o=e.read_shift(1),u=e.read_shift(1);switch(e.l++,a){case 0:t.auto=1;break;case 1:t.index=n;var d=O_e[n];d&&(t.rgb=YL(d));break;case 2:t.rgb=YL([l,o,u]);break;case 3:t.theme=n;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function Gj(e,t){if(t||(t=pt(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var s=e.tint||0;if(s>0?s*=32767:s<0&&(s*=32768),t.write_shift(2,s),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var a=e.rgb||"FFFFFF";typeof a=="number"&&(a=("000000"+a.toString(16)).slice(-6)),t.write_shift(1,parseInt(a.slice(0,2),16)),t.write_shift(1,parseInt(a.slice(2,4),16)),t.write_shift(1,parseInt(a.slice(4,6),16)),t.write_shift(1,255)}return t}function w_e(e){var t=e.read_shift(1);e.l++;var s={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return s}function S_e(e,t){t||(t=pt(2));var s=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,s),t.write_shift(1,0),t}var EV=2,So=3,w1=11,Kj=19,S1=64,__e=65,A_e=71,C_e=4108,k_e=4126,Di=80,BL={1:{n:"CodePage",t:EV},2:{n:"Category",t:Di},3:{n:"PresentationFormat",t:Di},4:{n:"ByteCount",t:So},5:{n:"LineCount",t:So},6:{n:"ParagraphCount",t:So},7:{n:"SlideCount",t:So},8:{n:"NoteCount",t:So},9:{n:"HiddenCount",t:So},10:{n:"MultimediaClipCount",t:So},11:{n:"ScaleCrop",t:w1},12:{n:"HeadingPairs",t:C_e},13:{n:"TitlesOfParts",t:k_e},14:{n:"Manager",t:Di},15:{n:"Company",t:Di},16:{n:"LinksUpToDate",t:w1},17:{n:"CharacterCount",t:So},19:{n:"SharedDoc",t:w1},22:{n:"HyperlinksChanged",t:w1},23:{n:"AppVersion",t:So,p:"version"},24:{n:"DigSig",t:__e},26:{n:"ContentType",t:Di},27:{n:"ContentStatus",t:Di},28:{n:"Language",t:Di},29:{n:"Version",t:Di},255:{},2147483648:{n:"Locale",t:Kj},2147483651:{n:"Behavior",t:Kj},1919054434:{}},UL={1:{n:"CodePage",t:EV},2:{n:"Title",t:Di},3:{n:"Subject",t:Di},4:{n:"Author",t:Di},5:{n:"Keywords",t:Di},6:{n:"Comments",t:Di},7:{n:"Template",t:Di},8:{n:"LastAuthor",t:Di},9:{n:"RevNumber",t:Di},10:{n:"EditTime",t:S1},11:{n:"LastPrinted",t:S1},12:{n:"CreatedDate",t:S1},13:{n:"ModifiedDate",t:S1},14:{n:"PageCount",t:So},15:{n:"WordCount",t:So},16:{n:"CharCount",t:So},17:{n:"Thumbnail",t:A_e},18:{n:"Application",t:Di},19:{n:"DocSecurity",t:So},255:{},2147483648:{n:"Locale",t:Kj},2147483651:{n:"Behavior",t:Kj},1919054434:{}};function T_e(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var E_e=T_e([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),O_e=ro(E_e),Ry={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},P_e={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},_1={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function OV(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function PV(e,t){var s=$3e(P_e),a=[],n;a[a.length]=Ln,a[a.length]=It("Types",null,{xmlns:fi.CT,"xmlns:xsd":fi.xsd,"xmlns:xsi":fi.xsi}),a=a.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(u){return It("Default",null,{Extension:u[0],ContentType:u[1]})}));var i=function(u){e[u]&&e[u].length>0&&(n=e[u][0],a[a.length]=It("Override",null,{PartName:(n[0]=="/"?"":"/")+n,ContentType:_1[u][t.bookType]||_1[u].xlsx}))},l=function(u){(e[u]||[]).forEach(function(d){a[a.length]=It("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:_1[u][t.bookType]||_1[u].xlsx})})},o=function(u){(e[u]||[]).forEach(function(d){a[a.length]=It("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:s[u][0]})})};return i("workbooks"),l("sheets"),l("charts"),o("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),l("metadata"),o("people"),a.length>2&&(a[a.length]="</Types>",a[1]=a[1].replace("/>",">")),a.join("")}var Ns={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function DV(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function rx(e){var t=[Ln,It("Relationships",null,{xmlns:fi.RELS})];return Ui(e["!id"]).forEach(function(s){t[t.length]=It("Relationship",null,e["!id"][s])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Us(e,t,s,a,n,i){if(n||(n={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,n.Id="rId"+t,n.Type=a,n.Target=s,[Ns.HLINK,Ns.XPATH,Ns.XMISS].indexOf(n.Type)>-1&&(n.TargetMode="External"),e["!id"][n.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][n.Id]=n,e[("/"+n.Target).replace("//","/")]=n,t}function D_e(e){var t=[Ln];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var s=0;s<e.length;++s)t.push('  <manifest:file-entry manifest:full-path="'+e[s][0]+'" manifest:media-type="'+e[s][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function zL(e,t,s){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(s||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function R_e(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function M_e(e){var t=[Ln];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var s=0;s!=e.length;++s)t.push(zL(e[s][0],e[s][1])),t.push(R_e("",e[s][0]));return t.push(zL("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function RV(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Bj.version+"</meta:generator></office:meta></office:document-meta>"}var Zf=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function v3(e,t,s,a,n){n[e]!=null||t==null||t===""||(n[e]=t,t=Ws(t),a[a.length]=s?It(e,t,s):Mi(e,t))}function MV(e,t){var s=t||{},a=[Ln,It("cp:coreProperties",null,{"xmlns:cp":fi.CORE_PROPS,"xmlns:dc":fi.dc,"xmlns:dcterms":fi.dcterms,"xmlns:dcmitype":fi.dcmitype,"xmlns:xsi":fi.xsi})],n={};if(!e&&!s.Props)return a.join("");e&&(e.CreatedDate!=null&&v3("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:EA(e.CreatedDate,s.WTF),{"xsi:type":"dcterms:W3CDTF"},a,n),e.ModifiedDate!=null&&v3("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:EA(e.ModifiedDate,s.WTF),{"xsi:type":"dcterms:W3CDTF"},a,n));for(var i=0;i!=Zf.length;++i){var l=Zf[i],o=s.Props&&s.Props[l[1]]!=null?s.Props[l[1]]:e?e[l[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&v3(l[0],o,null,a,n)}return a.length>2&&(a[a.length]="</cp:coreProperties>",a[1]=a[1].replace("/>",">")),a.join("")}var sx=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],LV=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function IV(e){var t=[],s=It;return e||(e={}),e.Application="SheetJS",t[t.length]=Ln,t[t.length]=It("Properties",null,{xmlns:fi.EXT_PROPS,"xmlns:vt":fi.vt}),sx.forEach(function(a){if(e[a[1]]!==void 0){var n;switch(a[2]){case"string":n=Ws(String(e[a[1]]));break;case"bool":n=e[a[1]]?"true":"false";break}n!==void 0&&(t[t.length]=s(a[0],n))}}),t[t.length]=s("HeadingPairs",s("vt:vector",s("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+s("vt:variant",s("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=s("TitlesOfParts",s("vt:vector",e.SheetNames.map(function(a){return"<vt:lpstr>"+Ws(a)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function FV(e){var t=[Ln,It("Properties",null,{xmlns:fi.CUST_PROPS,"xmlns:vt":fi.vt})];if(!e)return t.join("");var s=1;return Ui(e).forEach(function(n){++s,t[t.length]=It("property",Q3e(e[n]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:s,name:Ws(n)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var $L={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function L_e(e,t){var s=[];return Ui($L).map(function(a){for(var n=0;n<Zf.length;++n)if(Zf[n][1]==a)return Zf[n];for(n=0;n<sx.length;++n)if(sx[n][1]==a)return sx[n];throw a}).forEach(function(a){if(e[a[1]]!=null){var n=t&&t.Props&&t.Props[a[1]]!=null?t.Props[a[1]]:e[a[1]];a[2]==="date"&&(n=new Date(n).toISOString().replace(/\.\d*Z/,"Z")),typeof n=="number"?n=String(n):n===!0||n===!1?n=n?"1":"0":n instanceof Date&&(n=new Date(n).toISOString().replace(/\.\d*Z/,"")),s.push(Mi($L[a[1]]||a[1],n))}}),It("DocumentProperties",s.join(""),{xmlns:ko.o})}function I_e(e,t){var s=["Worksheets","SheetNames"],a="CustomDocumentProperties",n=[];return e&&Ui(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var l=0;l<Zf.length;++l)if(i==Zf[l][1])return;for(l=0;l<sx.length;++l)if(i==sx[l][1])return;for(l=0;l<s.length;++l)if(i==s[l])return;var o=e[i],u="string";typeof o=="number"?(u="float",o=String(o)):o===!0||o===!1?(u="boolean",o=o?"1":"0"):o=String(o),n.push(It(TL(i),o,{"dt:dt":u}))}}),t&&Ui(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var l=t[i],o="string";typeof l=="number"?(o="float",l=String(l)):l===!0||l===!1?(o="boolean",l=l?"1":"0"):l instanceof Date?(o="dateTime.tz",l=l.toISOString()):l=String(l),n.push(It(TL(i),l,{"dt:dt":o}))}}),"<"+a+' xmlns="'+ko.o+'">'+n.join("")+"</"+a+">"}function F_e(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,s=t.getTime()/1e3+11644473600,a=s%Math.pow(2,32),n=(s-a)/Math.pow(2,32);a*=1e7,n*=1e7;var i=a/Math.pow(2,32)|0;i>0&&(a=a%Math.pow(2,32),n+=i);var l=pt(8);return l.write_shift(4,a),l.write_shift(4,n),l}function HL(e,t){var s=pt(4),a=pt(4);switch(s.write_shift(4,e==80?31:e),e){case 3:a.write_shift(-4,t);break;case 5:a=pt(8),a.write_shift(8,t,"f");break;case 11:a.write_shift(4,t?1:0);break;case 64:a=F_e(t);break;case 31:case 80:for(a=pt(4+2*(t.length+1)+(t.length%2?0:2)),a.write_shift(4,t.length+1),a.write_shift(0,t,"dbcs");a.l!=a.length;)a.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Ri([s,a])}var BV=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function B_e(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function qL(e,t,s){var a=pt(8),n=[],i=[],l=8,o=0,u=pt(8),d=pt(8);if(u.write_shift(4,2),u.write_shift(4,1200),d.write_shift(4,1),i.push(u),n.push(d),l+=8+u.length,!t){d=pt(8),d.write_shift(4,0),n.unshift(d);var m=[pt(4)];for(m[0].write_shift(4,e.length),o=0;o<e.length;++o){var f=e[o][0];for(u=pt(8+2*(f.length+1)+(f.length%2?0:2)),u.write_shift(4,o+2),u.write_shift(4,f.length+1),u.write_shift(0,f,"dbcs");u.l!=u.length;)u.write_shift(1,0);m.push(u)}u=Ri(m),i.unshift(u),l+=8+u.length}for(o=0;o<e.length;++o)if(!(t&&!t[e[o][0]])&&!(BV.indexOf(e[o][0])>-1||LV.indexOf(e[o][0])>-1)&&e[o][1]!=null){var g=e[o][1],p=0;if(t){p=+t[e[o][0]];var y=s[p];if(y.p=="version"&&typeof g=="string"){var v=g.split(".");g=(+v[0]<<16)+(+v[1]||0)}u=HL(y.t,g)}else{var j=B_e(g);j==-1&&(j=31,g=String(g)),u=HL(j,g)}i.push(u),d=pt(8),d.write_shift(4,t?p:2+o),n.push(d),l+=8+u.length}var N=8*(i.length+1);for(o=0;o<i.length;++o)n[o].write_shift(4,N),N+=i[o].length;return a.write_shift(4,l),a.write_shift(4,i.length),Ri([a].concat(n).concat(i))}function VL(e,t,s,a,n,i){var l=pt(n?68:48),o=[l];l.write_shift(2,65534),l.write_shift(2,0),l.write_shift(4,842412599),l.write_shift(16,sa.utils.consts.HEADER_CLSID,"hex"),l.write_shift(4,n?2:1),l.write_shift(16,t,"hex"),l.write_shift(4,n?68:48);var u=qL(e,s,a);if(o.push(u),n){var d=qL(n,null,null);l.write_shift(16,i,"hex"),l.write_shift(4,68+u.length),o.push(d)}return Ri(o)}function U_e(e,t){t||(t=pt(e));for(var s=0;s<e;++s)t.write_shift(1,0);return t}function z_e(e,t){return e.read_shift(t)===1}function vl(e,t){return t||(t=pt(2)),t.write_shift(2,+!!e),t}function UV(e){return e.read_shift(2,"u")}function fc(e,t){return t||(t=pt(2)),t.write_shift(2,e),t}function zV(e,t,s){return s||(s=pt(2)),s.write_shift(1,t=="e"?+e:+!!e),s.write_shift(1,t=="e"?1:0),s}function $V(e,t,s){var a=e.read_shift(s&&s.biff>=12?2:1),n="sbcs-cont";if(s&&s.biff>=8,!s||s.biff==8){var i=e.read_shift(1);i&&(n="dbcs-cont")}else s.biff==12&&(n="wstr");s.biff>=2&&s.biff<=5&&(n="cpstr");var l=a?e.read_shift(a,n):"";return l}function $_e(e){var t=e.t||"",s=pt(3);s.write_shift(2,t.length),s.write_shift(1,1);var a=pt(2*t.length);a.write_shift(2*t.length,t,"utf16le");var n=[s,a];return Ri(n)}function H_e(e,t,s){var a;if(s){if(s.biff>=2&&s.biff<=5)return e.read_shift(t,"cpstr");if(s.biff>=12)return e.read_shift(t,"dbcs-cont")}var n=e.read_shift(1);return n===0?a=e.read_shift(t,"sbcs-cont"):a=e.read_shift(t,"dbcs-cont"),a}function q_e(e,t,s){var a=e.read_shift(s&&s.biff==2?1:2);return a===0?(e.l++,""):H_e(e,a,s)}function V_e(e,t,s){if(s.biff>5)return q_e(e,t,s);var a=e.read_shift(1);return a===0?(e.l++,""):e.read_shift(a,s.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function HV(e,t,s){return s||(s=pt(3+2*e.length)),s.write_shift(2,e.length),s.write_shift(1,1),s.write_shift(31,e,"utf16le"),s}function WL(e,t){t||(t=pt(6+e.length*2)),t.write_shift(4,1+e.length);for(var s=0;s<e.length;++s)t.write_shift(2,e.charCodeAt(s));return t.write_shift(2,0),t}function W_e(e){var t=pt(512),s=0,a=e.Target;a.slice(0,7)=="file://"&&(a=a.slice(7));var n=a.indexOf("#"),i=n>-1?31:23;switch(a.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var l=[8,6815827,6619237,4849780,83];for(s=0;s<l.length;++s)t.write_shift(4,l[s]);if(i==28)a=a.slice(1),WL(a,t);else if(i&2){for(l="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),s=0;s<l.length;++s)t.write_shift(1,parseInt(l[s],16));var o=n>-1?a.slice(0,n):a;for(t.write_shift(4,2*(o.length+1)),s=0;s<o.length;++s)t.write_shift(2,o.charCodeAt(s));t.write_shift(2,0),i&8&&WL(n>-1?a.slice(n+1):"",t)}else{for(l="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),s=0;s<l.length;++s)t.write_shift(1,parseInt(l[s],16));for(var u=0;a.slice(u*3,u*3+3)=="../"||a.slice(u*3,u*3+3)=="..\\";)++u;for(t.write_shift(2,u),t.write_shift(4,a.length-3*u+1),s=0;s<a.length-3*u;++s)t.write_shift(1,a.charCodeAt(s+3*u)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),s=0;s<6;++s)t.write_shift(4,0)}return t.slice(0,t.l)}function f0(e,t,s,a){return a||(a=pt(6)),a.write_shift(2,e),a.write_shift(2,t),a.write_shift(2,s||0),a}function G_e(e,t,s){var a=s.biff>8?4:2,n=e.read_shift(a),i=e.read_shift(a,"i"),l=e.read_shift(a,"i");return[n,i,l]}function K_e(e){var t=e.read_shift(2),s=e.read_shift(2),a=e.read_shift(2),n=e.read_shift(2);return{s:{c:a,r:t},e:{c:n,r:s}}}function qV(e,t){return t||(t=pt(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function Vk(e,t,s){var a=1536,n=16;switch(s.bookType){case"biff8":break;case"biff5":a=1280,n=8;break;case"biff4":a=4,n=6;break;case"biff3":a=3,n=6;break;case"biff2":a=2,n=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=pt(n);return i.write_shift(2,a),i.write_shift(2,t),n>4&&i.write_shift(2,29282),n>6&&i.write_shift(2,1997),n>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function Y_e(e,t){var s=!t||t.biff==8,a=pt(s?112:54);for(a.write_shift(t.biff==8?2:1,7),s&&a.write_shift(1,0),a.write_shift(4,859007059),a.write_shift(4,5458548|(s?0:536870912));a.l<a.length;)a.write_shift(1,s?0:32);return a}function Z_e(e,t){var s=!t||t.biff>=8?2:1,a=pt(8+s*e.name.length);a.write_shift(4,e.pos),a.write_shift(1,e.hs||0),a.write_shift(1,e.dt),a.write_shift(1,e.name.length),t.biff>=8&&a.write_shift(1,1),a.write_shift(s*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var n=a.slice(0,a.l);return n.l=a.l,n}function X_e(e,t){var s=pt(8);s.write_shift(4,e.Count),s.write_shift(4,e.Unique);for(var a=[],n=0;n<e.length;++n)a[n]=$_e(e[n]);var i=Ri([s].concat(a));return i.parts=[s.length].concat(a.map(function(l){return l.length})),i}function J_e(){var e=pt(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function Q_e(e){var t=pt(18),s=1718;return e&&e.RTL&&(s|=64),t.write_shift(2,s),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function eAe(e,t){var s=e.name||"Arial",a=t&&t.biff==5,n=a?15+s.length:16+2*s.length,i=pt(n);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,s.length),a||i.write_shift(1,1),i.write_shift((a?1:2)*s.length,s,a?"sbcs":"utf16le"),i}function tAe(e,t,s,a){var n=pt(10);return f0(e,t,a,n),n.write_shift(4,s),n}function rAe(e,t,s,a,n){var i=!n||n.biff==8,l=pt(8+ +i+(1+i)*s.length);return f0(e,t,a,l),l.write_shift(2,s.length),i&&l.write_shift(1,1),l.write_shift((1+i)*s.length,s,i?"utf16le":"sbcs"),l}function sAe(e,t,s,a){var n=s&&s.biff==5;a||(a=pt(n?3+t.length:5+2*t.length)),a.write_shift(2,e),a.write_shift(n?1:2,t.length),n||a.write_shift(1,1),a.write_shift((n?1:2)*t.length,t,n?"sbcs":"utf16le");var i=a.length>a.l?a.slice(0,a.l):a;return i.l==null&&(i.l=i.length),i}function aAe(e,t){var s=t.biff==8||!t.biff?4:2,a=pt(2*s+6);return a.write_shift(s,e.s.r),a.write_shift(s,e.e.r+1),a.write_shift(2,e.s.c),a.write_shift(2,e.e.c+1),a.write_shift(2,0),a}function GL(e,t,s,a){var n=s&&s.biff==5;a||(a=pt(n?16:20)),a.write_shift(2,0),e.style?(a.write_shift(2,e.numFmtId||0),a.write_shift(2,65524)):(a.write_shift(2,e.numFmtId||0),a.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&n&&(i|=1024),a.write_shift(4,i),a.write_shift(4,0),n||a.write_shift(4,0),a.write_shift(2,0),a}function nAe(e){var t=pt(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function iAe(e,t,s,a,n,i){var l=pt(8);return f0(e,t,a,l),zV(s,i,l),l}function lAe(e,t,s,a){var n=pt(14);return f0(e,t,a,n),m0(s,n),n}function oAe(e,t,s){if(s.biff<8)return cAe(e,t,s);for(var a=[],n=e.l+t,i=e.read_shift(s.biff>8?4:2);i--!==0;)a.push(G_e(e,s.biff>8?12:6,s));if(e.l!=n)throw new Error("Bad ExternSheet: "+e.l+" != "+n);return a}function cAe(e,t,s){e[e.l+1]==3&&e[e.l]++;var a=$V(e,t,s);return a.charCodeAt(0)==3?a.slice(1):a}function dAe(e){var t=pt(2+e.length*8);t.write_shift(2,e.length);for(var s=0;s<e.length;++s)qV(e[s],t);return t}function uAe(e){var t=pt(24),s=xi(e[0]);t.write_shift(2,s.r),t.write_shift(2,s.r),t.write_shift(2,s.c),t.write_shift(2,s.c);for(var a="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<16;++n)t.write_shift(1,parseInt(a[n],16));return Ri([t,W_e(e[1])])}function hAe(e){var t=e[1].Tooltip,s=pt(10+2*(t.length+1));s.write_shift(2,2048);var a=xi(e[0]);s.write_shift(2,a.r),s.write_shift(2,a.r),s.write_shift(2,a.c),s.write_shift(2,a.c);for(var n=0;n<t.length;++n)s.write_shift(2,t.charCodeAt(n));return s.write_shift(2,0),s}function mAe(e){return e||(e=pt(4)),e.write_shift(2,1),e.write_shift(2,1),e}function fAe(e,t,s){if(!s.cellStyles)return uu(e,t);var a=s&&s.biff>=12?4:2,n=e.read_shift(a),i=e.read_shift(a),l=e.read_shift(a),o=e.read_shift(a),u=e.read_shift(2);a==2&&(e.l+=2);var d={s:n,e:i,w:l,ixfe:o,flags:u};return(s.biff>=5||!s.biff)&&(d.level=u>>8&7),d}function pAe(e,t){var s=pt(12);s.write_shift(2,t),s.write_shift(2,t),s.write_shift(2,e.width*256),s.write_shift(2,0);var a=0;return e.hidden&&(a|=1),s.write_shift(1,a),a=e.level||0,s.write_shift(1,a),s.write_shift(2,0),s}function xAe(e){for(var t=pt(2*e),s=0;s<e;++s)t.write_shift(2,s+1);return t}function gAe(e,t,s){var a=pt(15);return Ly(a,e,t),a.write_shift(8,s,"f"),a}function vAe(e,t,s){var a=pt(9);return Ly(a,e,t),a.write_shift(2,s),a}var yAe=(function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=Rk({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function s(o,u){var d=[],m=h0(1);switch(u.type){case"base64":m=hd(jh(o));break;case"binary":m=hd(o);break;case"buffer":case"array":m=o;break}Co(m,0);var f=m.read_shift(1),g=!!(f&136),p=!1,y=!1;switch(f){case 2:break;case 3:break;case 48:p=!0,g=!0;break;case 49:p=!0,g=!0;break;case 131:break;case 139:break;case 140:y=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var v=0,j=521;f==2&&(v=m.read_shift(2)),m.l+=3,f!=2&&(v=m.read_shift(4)),v>1048576&&(v=1e6),f!=2&&(j=m.read_shift(2));var N=m.read_shift(2),k=u.codepage||1252;f!=2&&(m.l+=16,m.read_shift(1),m[m.l]!==0&&(k=e[m[m.l]]),m.l+=1,m.l+=2),y&&(m.l+=36);for(var w=[],A={},C=Math.min(m.length,f==2?521:j-10-(p?264:0)),M=y?32:11;m.l<C&&m[m.l]!=13;)switch(A={},A.name=Uj.utils.decode(k,m.slice(m.l,m.l+M)).replace(/[\u0000\r\n].*$/g,""),m.l+=M,A.type=String.fromCharCode(m.read_shift(1)),f!=2&&!y&&(A.offset=m.read_shift(4)),A.len=m.read_shift(1),f==2&&(A.offset=m.read_shift(2)),A.dec=m.read_shift(1),A.name.length&&w.push(A),f!=2&&(m.l+=y?13:14),A.type){case"B":(!p||A.len!=8)&&u.WTF&&console.log("Skipping "+A.name+":"+A.type);break;case"G":case"P":u.WTF&&console.log("Skipping "+A.name+":"+A.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+A.type)}if(m[m.l]!==13&&(m.l=j-1),m.read_shift(1)!==13)throw new Error("DBF Terminator not found "+m.l+" "+m[m.l]);m.l=j;var R=0,D=0;for(d[0]=[],D=0;D!=w.length;++D)d[0][D]=w[D].name;for(;v-- >0;){if(m[m.l]===42){m.l+=N;continue}for(++m.l,d[++R]=[],D=0,D=0;D!=w.length;++D){var B=m.slice(m.l,m.l+w[D].len);m.l+=w[D].len,Co(B,0);var z=Uj.utils.decode(k,B);switch(w[D].type){case"C":z.trim().length&&(d[R][D]=z.replace(/\s+$/,""));break;case"D":z.length===8?d[R][D]=new Date(+z.slice(0,4),+z.slice(4,6)-1,+z.slice(6,8)):d[R][D]=z;break;case"F":d[R][D]=parseFloat(z.trim());break;case"+":case"I":d[R][D]=y?B.read_shift(-4,"i")^2147483648:B.read_shift(4,"i");break;case"L":switch(z.trim().toUpperCase()){case"Y":case"T":d[R][D]=!0;break;case"N":case"F":d[R][D]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+z+"|")}break;case"M":if(!g)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));d[R][D]="##MEMO##"+(y?parseInt(z.trim(),10):B.read_shift(4));break;case"N":z=z.replace(/\u0000/g,"").trim(),z&&z!="."&&(d[R][D]=+z||0);break;case"@":d[R][D]=new Date(B.read_shift(-8,"f")-621356832e5);break;case"T":d[R][D]=new Date((B.read_shift(4)-2440588)*864e5+B.read_shift(4));break;case"Y":d[R][D]=B.read_shift(4,"i")/1e4+B.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[R][D]=-B.read_shift(-8,"f");break;case"B":if(p&&w[D].len==8){d[R][D]=B.read_shift(8,"f");break}case"G":case"P":B.l+=w[D].len;break;case"0":if(w[D].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+w[D].type)}}}if(f!=2&&m.l<m.length&&m[m.l++]!=26)throw new Error("DBF EOF Marker missing "+(m.l-1)+" of "+m.length+" "+m[m.l-1].toString(16));return u&&u.sheetRows&&(d=d.slice(0,u.sheetRows)),u.DBF=w,d}function a(o,u){var d=u||{};d.dateNF||(d.dateNF="yyyymmdd");var m=Jx(s(o,d),d);return m["!cols"]=d.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete d.DBF,m}function n(o,u){try{return N0(a(o,u),u)}catch(d){if(u&&u.WTF)throw d}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function l(o,u){var d=u||{};if(+d.codepage>=0&&Hv(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var m=Ql(),f=Qj(o,{header:1,raw:!0,cellDates:!0}),g=f[0],p=f.slice(1),y=o["!cols"]||[],v=0,j=0,N=0,k=1;for(v=0;v<g.length;++v){if(((y[v]||{}).DBF||{}).name){g[v]=y[v].DBF.name,++N;continue}if(g[v]!=null){if(++N,typeof g[v]=="number"&&(g[v]=g[v].toString(10)),typeof g[v]!="string")throw new Error("DBF Invalid column name "+g[v]+" |"+typeof g[v]+"|");if(g.indexOf(g[v])!==v){for(j=0;j<1024;++j)if(g.indexOf(g[v]+"_"+j)==-1){g[v]+="_"+j;break}}}}var w=_a(o["!ref"]),A=[],C=[],M=[];for(v=0;v<=w.e.c-w.s.c;++v){var R="",D="",B=0,z=[];for(j=0;j<p.length;++j)p[j][v]!=null&&z.push(p[j][v]);if(z.length==0||g[v]==null){A[v]="?";continue}for(j=0;j<z.length;++j){switch(typeof z[j]){case"number":D="B";break;case"string":D="C";break;case"boolean":D="L";break;case"object":D=z[j]instanceof Date?"D":"C";break;default:D="C"}B=Math.max(B,String(z[j]).length),R=R&&R!=D?"C":D}B>250&&(B=250),D=((y[v]||{}).DBF||{}).type,D=="C"&&y[v].DBF.len>B&&(B=y[v].DBF.len),R=="B"&&D=="N"&&(R="N",M[v]=y[v].DBF.dec,B=y[v].DBF.len),C[v]=R=="C"||D=="N"?B:i[R]||0,k+=C[v],A[v]=R}var I=m.next(32);for(I.write_shift(4,318902576),I.write_shift(4,p.length),I.write_shift(2,296+32*N),I.write_shift(2,k),v=0;v<4;++v)I.write_shift(4,0);for(I.write_shift(4,0|(+t[Wq]||3)<<8),v=0,j=0;v<g.length;++v)if(g[v]!=null){var F=m.next(32),Y=(g[v].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);F.write_shift(1,Y,"sbcs"),F.write_shift(1,A[v]=="?"?"C":A[v],"sbcs"),F.write_shift(4,j),F.write_shift(1,C[v]||i[A[v]]||0),F.write_shift(1,M[v]||0),F.write_shift(1,2),F.write_shift(4,0),F.write_shift(1,0),F.write_shift(4,0),F.write_shift(4,0),j+=C[v]||i[A[v]]||0}var te=m.next(264);for(te.write_shift(4,13),v=0;v<65;++v)te.write_shift(4,0);for(v=0;v<p.length;++v){var ue=m.next(k);for(ue.write_shift(1,0),j=0;j<g.length;++j)if(g[j]!=null)switch(A[j]){case"L":ue.write_shift(1,p[v][j]==null?63:p[v][j]?84:70);break;case"B":ue.write_shift(8,p[v][j]||0,"f");break;case"N":var Z="0";for(typeof p[v][j]=="number"&&(Z=p[v][j].toFixed(M[j]||0)),N=0;N<C[j]-Z.length;++N)ue.write_shift(1,32);ue.write_shift(1,Z,"sbcs");break;case"D":p[v][j]?(ue.write_shift(4,("0000"+p[v][j].getFullYear()).slice(-4),"sbcs"),ue.write_shift(2,("00"+(p[v][j].getMonth()+1)).slice(-2),"sbcs"),ue.write_shift(2,("00"+p[v][j].getDate()).slice(-2),"sbcs")):ue.write_shift(8,"00000000","sbcs");break;case"C":var ie=String(p[v][j]!=null?p[v][j]:"").slice(0,C[j]);for(ue.write_shift(1,ie,"sbcs"),N=0;N<C[j]-ie.length;++N)ue.write_shift(1,32);break}}return m.next(1).write_shift(1,26),m.end()}return{to_workbook:n,to_sheet:a,from_sheet:l}})(),bAe=(function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Ui(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),s=function(g,p){var y=e[p];return typeof y=="number"?gL(y):y},a=function(g,p,y){var v=p.charCodeAt(0)-32<<4|y.charCodeAt(0)-48;return v==59?g:gL(v)};e["|"]=254;function n(g,p){switch(p.type){case"base64":return i(jh(g),p);case"binary":return i(g,p);case"buffer":return i(Os&&Buffer.isBuffer(g)?g.toString("binary"):Oy(g),p);case"array":return i(Dw(g),p)}throw new Error("Unrecognized type "+p.type)}function i(g,p){var y=g.split(/[\n\r]+/),v=-1,j=-1,N=0,k=0,w=[],A=[],C=null,M={},R=[],D=[],B=[],z=0,I;for(+p.codepage>=0&&Hv(+p.codepage);N!==y.length;++N){z=0;var F=y[N].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,a).replace(t,s),Y=F.replace(/;;/g,"\0").split(";").map(function(W){return W.replace(/\u0000/g,";")}),te=Y[0],ue;if(F.length>0)switch(te){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":Y[1].charAt(0)=="P"&&A.push(F.slice(3).replace(/;;/g,";"));break;case"C":var Z=!1,ie=!1,G=!1,ee=!1,Ne=-1,X=-1;for(k=1;k<Y.length;++k)switch(Y[k].charAt(0)){case"A":break;case"X":j=parseInt(Y[k].slice(1))-1,ie=!0;break;case"Y":for(v=parseInt(Y[k].slice(1))-1,ie||(j=0),I=w.length;I<=v;++I)w[I]=[];break;case"K":ue=Y[k].slice(1),ue.charAt(0)==='"'?ue=ue.slice(1,ue.length-1):ue==="TRUE"?ue=!0:ue==="FALSE"?ue=!1:isNaN(lh(ue))?isNaN(Vv(ue).getDate())||(ue=Sl(ue)):(ue=lh(ue),C!==null&&aV(C)&&(ue=oV(ue))),Z=!0;break;case"E":ee=!0;var P=v6e(Y[k].slice(1),{r:v,c:j});w[v][j]=[w[v][j],P];break;case"S":G=!0,w[v][j]=[w[v][j],"S5S"];break;case"G":break;case"R":Ne=parseInt(Y[k].slice(1))-1;break;case"C":X=parseInt(Y[k].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+F)}if(Z&&(w[v][j]&&w[v][j].length==2?w[v][j][0]=ue:w[v][j]=ue,C=null),G){if(ee)throw new Error("SYLK shared formula cannot have own formula");var H=Ne>-1&&w[Ne][X];if(!H||!H[1])throw new Error("SYLK shared formula cannot find base");w[v][j][1]=y6e(H[1],{r:v-Ne,c:j-X})}break;case"F":var q=0;for(k=1;k<Y.length;++k)switch(Y[k].charAt(0)){case"X":j=parseInt(Y[k].slice(1))-1,++q;break;case"Y":for(v=parseInt(Y[k].slice(1))-1,I=w.length;I<=v;++I)w[I]=[];break;case"M":z=parseInt(Y[k].slice(1))/20;break;case"F":break;case"G":break;case"P":C=A[parseInt(Y[k].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(B=Y[k].slice(1).split(" "),I=parseInt(B[0],10);I<=parseInt(B[1],10);++I)z=parseInt(B[2],10),D[I-1]=z===0?{hidden:!0}:{wch:z},Wk(D[I-1]);break;case"C":j=parseInt(Y[k].slice(1))-1,D[j]||(D[j]={});break;case"R":v=parseInt(Y[k].slice(1))-1,R[v]||(R[v]={}),z>0?(R[v].hpt=z,R[v].hpx=YV(z)):z===0&&(R[v].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+F)}q<1&&(C=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+F)}}return R.length>0&&(M["!rows"]=R),D.length>0&&(M["!cols"]=D),p&&p.sheetRows&&(w=w.slice(0,p.sheetRows)),[w,M]}function l(g,p){var y=n(g,p),v=y[0],j=y[1],N=Jx(v,p);return Ui(j).forEach(function(k){N[k]=j[k]}),N}function o(g,p){return N0(l(g,p),p)}function u(g,p,y,v){var j="C;Y"+(y+1)+";X"+(v+1)+";K";switch(g.t){case"n":j+=g.v||0,g.f&&!g.F&&(j+=";E"+Kk(g.f,{r:y,c:v}));break;case"b":j+=g.v?"TRUE":"FALSE";break;case"e":j+=g.w||g.v;break;case"d":j+='"'+(g.w||g.v)+'"';break;case"s":j+='"'+g.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return j}function d(g,p){p.forEach(function(y,v){var j="F;W"+(v+1)+" "+(v+1)+" ";y.hidden?j+="0":(typeof y.width=="number"&&!y.wpx&&(y.wpx=Yj(y.width)),typeof y.wpx=="number"&&!y.wch&&(y.wch=Zj(y.wpx)),typeof y.wch=="number"&&(j+=Math.round(y.wch))),j.charAt(j.length-1)!=" "&&g.push(j)})}function m(g,p){p.forEach(function(y,v){var j="F;";y.hidden?j+="M0;":y.hpt?j+="M"+20*y.hpt+";":y.hpx&&(j+="M"+20*Xj(y.hpx)+";"),j.length>2&&g.push(j+"R"+(v+1))})}function f(g,p){var y=["ID;PWXL;N;E"],v=[],j=_a(g["!ref"]),N,k=Array.isArray(g),w=`\r
`;y.push("P;PGeneral"),y.push("F;P0;DG0G8;M255"),g["!cols"]&&d(y,g["!cols"]),g["!rows"]&&m(y,g["!rows"]),y.push("B;Y"+(j.e.r-j.s.r+1)+";X"+(j.e.c-j.s.c+1)+";D"+[j.s.c,j.s.r,j.e.c,j.e.r].join(" "));for(var A=j.s.r;A<=j.e.r;++A)for(var C=j.s.c;C<=j.e.c;++C){var M=Gs({r:A,c:C});N=k?(g[A]||[])[C]:g[M],!(!N||N.v==null&&(!N.f||N.F))&&v.push(u(N,g,A,C))}return y.join(w)+w+v.join(w)+w+"E"+w}return{to_workbook:o,to_sheet:l,from_sheet:f}})(),jAe=(function(){function e(i,l){switch(l.type){case"base64":return t(jh(i),l);case"binary":return t(i,l);case"buffer":return t(Os&&Buffer.isBuffer(i)?i.toString("binary"):Oy(i),l);case"array":return t(Dw(i),l)}throw new Error("Unrecognized type "+l.type)}function t(i,l){for(var o=i.split(`
`),u=-1,d=-1,m=0,f=[];m!==o.length;++m){if(o[m].trim()==="BOT"){f[++u]=[],d=0;continue}if(!(u<0)){var g=o[m].trim().split(","),p=g[0],y=g[1];++m;for(var v=o[m]||"";(v.match(/["]/g)||[]).length&1&&m<o.length-1;)v+=`
`+o[++m];switch(v=v.trim(),+p){case-1:if(v==="BOT"){f[++u]=[],d=0;continue}else if(v!=="EOD")throw new Error("Unrecognized DIF special command "+v);break;case 0:v==="TRUE"?f[u][d]=!0:v==="FALSE"?f[u][d]=!1:isNaN(lh(y))?isNaN(Vv(y).getDate())?f[u][d]=y:f[u][d]=Sl(y):f[u][d]=lh(y),++d;break;case 1:v=v.slice(1,v.length-1),v=v.replace(/""/g,'"'),v&&v.match(/^=".*"$/)&&(v=v.slice(2,-1)),f[u][d++]=v!==""?v:null;break}if(v==="EOD")break}}return l&&l.sheetRows&&(f=f.slice(0,l.sheetRows)),f}function s(i,l){return Jx(e(i,l),l)}function a(i,l){return N0(s(i,l),l)}var n=(function(){var i=function(u,d,m,f,g){u.push(d),u.push(m+","+f),u.push('"'+g.replace(/"/g,'""')+'"')},l=function(u,d,m,f){u.push(d+","+m),u.push(d==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(u){var d=[],m=_a(u["!ref"]),f,g=Array.isArray(u);i(d,"TABLE",0,1,"sheetjs"),i(d,"VECTORS",0,m.e.r-m.s.r+1,""),i(d,"TUPLES",0,m.e.c-m.s.c+1,""),i(d,"DATA",0,0,"");for(var p=m.s.r;p<=m.e.r;++p){l(d,-1,0,"BOT");for(var y=m.s.c;y<=m.e.c;++y){var v=Gs({r:p,c:y});if(f=g?(u[p]||[])[y]:u[v],!f){l(d,1,0,"");continue}switch(f.t){case"n":var j=f.w;!j&&f.v!=null&&(j=f.v),j==null?f.f&&!f.F?l(d,1,0,"="+f.f):l(d,1,0,""):l(d,0,j,"V");break;case"b":l(d,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":l(d,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Um(f.z||sn[14],to(Sl(f.v)))),l(d,0,f.w,"V");break;default:l(d,1,0,"")}}}l(d,-1,0,"EOD");var N=`\r
`,k=d.join(N);return k}})();return{to_workbook:a,to_sheet:s,from_sheet:n}})(),VV=(function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function s(f,g){for(var p=f.split(`
`),y=-1,v=-1,j=0,N=[];j!==p.length;++j){var k=p[j].trim().split(":");if(k[0]==="cell"){var w=xi(k[1]);if(N.length<=w.r)for(y=N.length;y<=w.r;++y)N[y]||(N[y]=[]);switch(y=w.r,v=w.c,k[2]){case"t":N[y][v]=e(k[3]);break;case"v":N[y][v]=+k[3];break;case"vtf":var A=k[k.length-1];case"vtc":k[3]==="nl"?N[y][v]=!!+k[4]:N[y][v]=+k[4],k[2]=="vtf"&&(N[y][v]=[N[y][v],A])}}}return g&&g.sheetRows&&(N=N.slice(0,g.sheetRows)),N}function a(f,g){return Jx(s(f,g),g)}function n(f,g){return N0(a(f,g),g)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),u="--SocialCalcSpreadsheetControlSave--";function d(f){if(!f||!f["!ref"])return"";for(var g=[],p=[],y,v="",j=zo(f["!ref"]),N=Array.isArray(f),k=j.s.r;k<=j.e.r;++k)for(var w=j.s.c;w<=j.e.c;++w)if(v=Gs({r:k,c:w}),y=N?(f[k]||[])[w]:f[v],!(!y||y.v==null||y.t==="z")){switch(p=["cell",v,"t"],y.t){case"s":case"str":p.push(t(y.v));break;case"n":y.f?(p[2]="vtf",p[3]="n",p[4]=y.v,p[5]=t(y.f)):(p[2]="v",p[3]=y.v);break;case"b":p[2]="vt"+(y.f?"f":"c"),p[3]="nl",p[4]=y.v?"1":"0",p[5]=t(y.f||(y.v?"TRUE":"FALSE"));break;case"d":var A=to(Sl(y.v));p[2]="vtc",p[3]="nd",p[4]=""+A,p[5]=y.w||Um(y.z||sn[14],A);break;case"e":continue}g.push(p.join(":"))}return g.push("sheet:c:"+(j.e.c-j.s.c+1)+":r:"+(j.e.r-j.s.r+1)+":tvf:1"),g.push("valueformat:1:text-wiki"),g.join(`
`)}function m(f){return[i,l,o,l,d(f),u].join(`
`)}return{to_workbook:n,to_sheet:a,from_sheet:m}})(),NAe=(function(){function e(m,f,g,p,y){y.raw?f[g][p]=m:m===""||(m==="TRUE"?f[g][p]=!0:m==="FALSE"?f[g][p]=!1:isNaN(lh(m))?isNaN(Vv(m).getDate())?f[g][p]=m:f[g][p]=Sl(m):f[g][p]=lh(m))}function t(m,f){var g=f||{},p=[];if(!m||m.length===0)return p;for(var y=m.split(/[\r\n]/),v=y.length-1;v>=0&&y[v].length===0;)--v;for(var j=10,N=0,k=0;k<=v;++k)N=y[k].indexOf(" "),N==-1?N=y[k].length:N++,j=Math.max(j,N);for(k=0;k<=v;++k){p[k]=[];var w=0;for(e(y[k].slice(0,j).trim(),p,k,w,g),w=1;w<=(y[k].length-j)/10+1;++w)e(y[k].slice(j+(w-1)*10,j+w*10).trim(),p,k,w,g)}return g.sheetRows&&(p=p.slice(0,g.sheetRows)),p}var s={44:",",9:"	",59:";",124:"|"},a={44:3,9:2,59:1,124:0};function n(m){for(var f={},g=!1,p=0,y=0;p<m.length;++p)(y=m.charCodeAt(p))==34?g=!g:!g&&y in s&&(f[y]=(f[y]||0)+1);y=[];for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&y.push([f[p],p]);if(!y.length){f=a;for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&y.push([f[p],p])}return y.sort(function(v,j){return v[0]-j[0]||a[v[1]]-a[j[1]]}),s[y.pop()[1]]||44}function i(m,f){var g=f||{},p="",y=g.dense?[]:{},v={s:{c:0,r:0},e:{c:0,r:0}};m.slice(0,4)=="sep="?m.charCodeAt(5)==13&&m.charCodeAt(6)==10?(p=m.charAt(4),m=m.slice(7)):m.charCodeAt(5)==13||m.charCodeAt(5)==10?(p=m.charAt(4),m=m.slice(6)):p=n(m.slice(0,1024)):g&&g.FS?p=g.FS:p=n(m.slice(0,1024));var j=0,N=0,k=0,w=0,A=0,C=p.charCodeAt(0),M=!1,R=0,D=m.charCodeAt(0);m=m.replace(/\r\n/mg,`
`);var B=g.dateNF!=null?F3e(g.dateNF):null;function z(){var I=m.slice(w,A),F={};if(I.charAt(0)=='"'&&I.charAt(I.length-1)=='"'&&(I=I.slice(1,-1).replace(/""/g,'"')),I.length===0)F.t="z";else if(g.raw)F.t="s",F.v=I;else if(I.trim().length===0)F.t="s",F.v=I;else if(I.charCodeAt(0)==61)I.charCodeAt(1)==34&&I.charCodeAt(I.length-1)==34?(F.t="s",F.v=I.slice(2,-1).replace(/""/g,'"')):b6e(I)?(F.t="n",F.f=I.slice(1)):(F.t="s",F.v=I);else if(I=="TRUE")F.t="b",F.v=!0;else if(I=="FALSE")F.t="b",F.v=!1;else if(!isNaN(k=lh(I)))F.t="n",g.cellText!==!1&&(F.w=I),F.v=k;else if(!isNaN(Vv(I).getDate())||B&&I.match(B)){F.z=g.dateNF||sn[14];var Y=0;B&&I.match(B)&&(I=B3e(I,g.dateNF,I.match(B)||[]),Y=1),g.cellDates?(F.t="d",F.v=Sl(I,Y)):(F.t="n",F.v=to(Sl(I,Y))),g.cellText!==!1&&(F.w=Um(F.z,F.v instanceof Date?to(F.v):F.v)),g.cellNF||delete F.z}else F.t="s",F.v=I;if(F.t=="z"||(g.dense?(y[j]||(y[j]=[]),y[j][N]=F):y[Gs({c:N,r:j})]=F),w=A+1,D=m.charCodeAt(w),v.e.c<N&&(v.e.c=N),v.e.r<j&&(v.e.r=j),R==C)++N;else if(N=0,++j,g.sheetRows&&g.sheetRows<=j)return!0}e:for(;A<m.length;++A)switch(R=m.charCodeAt(A)){case 34:D===34&&(M=!M);break;case C:case 10:case 13:if(!M&&z())break e;break}return A-w>0&&z(),y["!ref"]=Rn(v),y}function l(m,f){return!(f&&f.PRN)||f.FS||m.slice(0,4)=="sep="||m.indexOf("	")>=0||m.indexOf(",")>=0||m.indexOf(";")>=0?i(m,f):Jx(t(m,f),f)}function o(m,f){var g="",p=f.type=="string"?[0,0,0,0]:REe(m,f);switch(f.type){case"base64":g=jh(m);break;case"binary":g=m;break;case"buffer":f.codepage==65001?g=m.toString("utf8"):f.codepage&&typeof Uj<"u"||(g=Os&&Buffer.isBuffer(m)?m.toString("binary"):Oy(m));break;case"array":g=Dw(m);break;case"string":g=m;break;default:throw new Error("Unrecognized type "+f.type)}return p[0]==239&&p[1]==187&&p[2]==191?g=fv(g.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?g=fv(g):f.type=="binary"&&typeof Uj<"u",g.slice(0,19)=="socialcalc:version:"?VV.to_sheet(f.type=="string"?g:fv(g),f):l(g,f)}function u(m,f){return N0(o(m,f),f)}function d(m){for(var f=[],g=_a(m["!ref"]),p,y=Array.isArray(m),v=g.s.r;v<=g.e.r;++v){for(var j=[],N=g.s.c;N<=g.e.c;++N){var k=Gs({r:v,c:N});if(p=y?(m[v]||[])[N]:m[k],!p||p.v==null){j.push("          ");continue}for(var w=(p.w||(Nh(p),p.w)||"").slice(0,10);w.length<10;)w+=" ";j.push(w+(N===0?" ":""))}f.push(j.join(""))}return f.join(`
`)}return{to_workbook:u,to_sheet:o,from_sheet:d}})(),KL=(function(){function e(P,H,q){if(P){Co(P,P.l||0);for(var W=q.Enum||Ne;P.l<P.length;){var le=P.read_shift(2),Se=W[le]||W[65535],Pe=P.read_shift(2),re=P.l+Pe,ye=Se.f&&Se.f(P,Pe,q);if(P.l=re,H(ye,Se,le))return}}}function t(P,H){switch(H.type){case"base64":return s(hd(jh(P)),H);case"binary":return s(hd(P),H);case"buffer":case"array":return s(P,H)}throw"Unsupported type "+H.type}function s(P,H){if(!P)return P;var q=H||{},W=q.dense?[]:{},le="Sheet1",Se="",Pe=0,re={},ye=[],ze=[],Ce={s:{r:0,c:0},e:{r:0,c:0}},it=q.sheetRows||0;if(P[2]==0&&(P[3]==8||P[3]==9)&&P.length>=16&&P[14]==5&&P[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(P[2]==2)q.Enum=Ne,e(P,function(Ie,je,Me){switch(Me){case 0:q.vers=Ie,Ie>=4096&&(q.qpro=!0);break;case 6:Ce=Ie;break;case 204:Ie&&(Se=Ie);break;case 222:Se=Ie;break;case 15:case 51:q.qpro||(Ie[1].v=Ie[1].v.slice(1));case 13:case 14:case 16:Me==14&&(Ie[2]&112)==112&&(Ie[2]&15)>1&&(Ie[2]&15)<15&&(Ie[1].z=q.dateNF||sn[14],q.cellDates&&(Ie[1].t="d",Ie[1].v=oV(Ie[1].v))),q.qpro&&Ie[3]>Pe&&(W["!ref"]=Rn(Ce),re[le]=W,ye.push(le),W=q.dense?[]:{},Ce={s:{r:0,c:0},e:{r:0,c:0}},Pe=Ie[3],le=Se||"Sheet"+(Pe+1),Se="");var yt=q.dense?(W[Ie[0].r]||[])[Ie[0].c]:W[Gs(Ie[0])];if(yt){yt.t=Ie[1].t,yt.v=Ie[1].v,Ie[1].z!=null&&(yt.z=Ie[1].z),Ie[1].f!=null&&(yt.f=Ie[1].f);break}q.dense?(W[Ie[0].r]||(W[Ie[0].r]=[]),W[Ie[0].r][Ie[0].c]=Ie[1]):W[Gs(Ie[0])]=Ie[1];break}},q);else if(P[2]==26||P[2]==14)q.Enum=X,P[2]==14&&(q.qpro=!0,P.l=0),e(P,function(Ie,je,Me){switch(Me){case 204:le=Ie;break;case 22:Ie[1].v=Ie[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ie[3]>Pe&&(W["!ref"]=Rn(Ce),re[le]=W,ye.push(le),W=q.dense?[]:{},Ce={s:{r:0,c:0},e:{r:0,c:0}},Pe=Ie[3],le="Sheet"+(Pe+1)),it>0&&Ie[0].r>=it)break;q.dense?(W[Ie[0].r]||(W[Ie[0].r]=[]),W[Ie[0].r][Ie[0].c]=Ie[1]):W[Gs(Ie[0])]=Ie[1],Ce.e.c<Ie[0].c&&(Ce.e.c=Ie[0].c),Ce.e.r<Ie[0].r&&(Ce.e.r=Ie[0].r);break;case 27:Ie[14e3]&&(ze[Ie[14e3][0]]=Ie[14e3][1]);break;case 1537:ze[Ie[0]]=Ie[1],Ie[0]==Pe&&(le=Ie[1]);break}},q);else throw new Error("Unrecognized LOTUS BOF "+P[2]);if(W["!ref"]=Rn(Ce),re[Se||le]=W,ye.push(Se||le),!ze.length)return{SheetNames:ye,Sheets:re};for(var rt={},fe=[],ke=0;ke<ze.length;++ke)re[ye[ke]]?(fe.push(ze[ke]||ye[ke]),rt[ze[ke]]=re[ze[ke]]||re[ye[ke]]):(fe.push(ze[ke]),rt[ze[ke]]={"!ref":"A1"});return{SheetNames:fe,Sheets:rt}}function a(P,H){var q=H||{};if(+q.codepage>=0&&Hv(+q.codepage),q.type=="string")throw new Error("Cannot write WK1 to JS string");var W=Ql(),le=_a(P["!ref"]),Se=Array.isArray(P),Pe=[];Bt(W,0,i(1030)),Bt(W,6,u(le));for(var re=Math.min(le.e.r,8191),ye=le.s.r;ye<=re;++ye)for(var ze=Li(ye),Ce=le.s.c;Ce<=le.e.c;++Ce){ye===le.s.r&&(Pe[Ce]=sl(Ce));var it=Pe[Ce]+ze,rt=Se?(P[ye]||[])[Ce]:P[it];if(!(!rt||rt.t=="z"))if(rt.t=="n")(rt.v|0)==rt.v&&rt.v>=-32768&&rt.v<=32767?Bt(W,13,p(ye,Ce,rt.v)):Bt(W,14,v(ye,Ce,rt.v));else{var fe=Nh(rt);Bt(W,15,f(ye,Ce,fe.slice(0,239)))}}return Bt(W,1),W.end()}function n(P,H){var q=H||{};if(+q.codepage>=0&&Hv(+q.codepage),q.type=="string")throw new Error("Cannot write WK3 to JS string");var W=Ql();Bt(W,0,l(P));for(var le=0,Se=0;le<P.SheetNames.length;++le)(P.Sheets[P.SheetNames[le]]||{})["!ref"]&&Bt(W,27,ee(P.SheetNames[le],Se++));var Pe=0;for(le=0;le<P.SheetNames.length;++le){var re=P.Sheets[P.SheetNames[le]];if(!(!re||!re["!ref"])){for(var ye=_a(re["!ref"]),ze=Array.isArray(re),Ce=[],it=Math.min(ye.e.r,8191),rt=ye.s.r;rt<=it;++rt)for(var fe=Li(rt),ke=ye.s.c;ke<=ye.e.c;++ke){rt===ye.s.r&&(Ce[ke]=sl(ke));var Ie=Ce[ke]+fe,je=ze?(re[rt]||[])[ke]:re[Ie];if(!(!je||je.t=="z"))if(je.t=="n")Bt(W,23,z(rt,ke,Pe,je.v));else{var Me=Nh(je);Bt(W,22,R(rt,ke,Pe,Me.slice(0,239)))}}++Pe}}return Bt(W,1),W.end()}function i(P){var H=pt(2);return H.write_shift(2,P),H}function l(P){var H=pt(26);H.write_shift(2,4096),H.write_shift(2,4),H.write_shift(4,0);for(var q=0,W=0,le=0,Se=0;Se<P.SheetNames.length;++Se){var Pe=P.SheetNames[Se],re=P.Sheets[Pe];if(!(!re||!re["!ref"])){++le;var ye=zo(re["!ref"]);q<ye.e.r&&(q=ye.e.r),W<ye.e.c&&(W=ye.e.c)}}return q>8191&&(q=8191),H.write_shift(2,q),H.write_shift(1,le),H.write_shift(1,W),H.write_shift(2,0),H.write_shift(2,0),H.write_shift(1,1),H.write_shift(1,2),H.write_shift(4,0),H.write_shift(4,0),H}function o(P,H,q){var W={s:{c:0,r:0},e:{c:0,r:0}};return H==8&&q.qpro?(W.s.c=P.read_shift(1),P.l++,W.s.r=P.read_shift(2),W.e.c=P.read_shift(1),P.l++,W.e.r=P.read_shift(2),W):(W.s.c=P.read_shift(2),W.s.r=P.read_shift(2),H==12&&q.qpro&&(P.l+=2),W.e.c=P.read_shift(2),W.e.r=P.read_shift(2),H==12&&q.qpro&&(P.l+=2),W.s.c==65535&&(W.s.c=W.e.c=W.s.r=W.e.r=0),W)}function u(P){var H=pt(8);return H.write_shift(2,P.s.c),H.write_shift(2,P.s.r),H.write_shift(2,P.e.c),H.write_shift(2,P.e.r),H}function d(P,H,q){var W=[{c:0,r:0},{t:"n",v:0},0,0];return q.qpro&&q.vers!=20768?(W[0].c=P.read_shift(1),W[3]=P.read_shift(1),W[0].r=P.read_shift(2),P.l+=2):(W[2]=P.read_shift(1),W[0].c=P.read_shift(2),W[0].r=P.read_shift(2)),W}function m(P,H,q){var W=P.l+H,le=d(P,H,q);if(le[1].t="s",q.vers==20768){P.l++;var Se=P.read_shift(1);return le[1].v=P.read_shift(Se,"utf8"),le}return q.qpro&&P.l++,le[1].v=P.read_shift(W-P.l,"cstr"),le}function f(P,H,q){var W=pt(7+q.length);W.write_shift(1,255),W.write_shift(2,H),W.write_shift(2,P),W.write_shift(1,39);for(var le=0;le<W.length;++le){var Se=q.charCodeAt(le);W.write_shift(1,Se>=128?95:Se)}return W.write_shift(1,0),W}function g(P,H,q){var W=d(P,H,q);return W[1].v=P.read_shift(2,"i"),W}function p(P,H,q){var W=pt(7);return W.write_shift(1,255),W.write_shift(2,H),W.write_shift(2,P),W.write_shift(2,q,"i"),W}function y(P,H,q){var W=d(P,H,q);return W[1].v=P.read_shift(8,"f"),W}function v(P,H,q){var W=pt(13);return W.write_shift(1,255),W.write_shift(2,H),W.write_shift(2,P),W.write_shift(8,q,"f"),W}function j(P,H,q){var W=P.l+H,le=d(P,H,q);if(le[1].v=P.read_shift(8,"f"),q.qpro)P.l=W;else{var Se=P.read_shift(2);A(P.slice(P.l,P.l+Se),le),P.l+=Se}return le}function N(P,H,q){var W=H&32768;return H&=-32769,H=(W?P:0)+(H>=8192?H-16384:H),(W?"":"$")+(q?sl(H):Li(H))}var k={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},w=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function A(P,H){Co(P,0);for(var q=[],W=0,le="",Se="",Pe="",re="";P.l<P.length;){var ye=P[P.l++];switch(ye){case 0:q.push(P.read_shift(8,"f"));break;case 1:Se=N(H[0].c,P.read_shift(2),!0),le=N(H[0].r,P.read_shift(2),!1),q.push(Se+le);break;case 2:{var ze=N(H[0].c,P.read_shift(2),!0),Ce=N(H[0].r,P.read_shift(2),!1);Se=N(H[0].c,P.read_shift(2),!0),le=N(H[0].r,P.read_shift(2),!1),q.push(ze+Ce+":"+Se+le)}break;case 3:if(P.l<P.length){console.error("WK1 premature formula end");return}break;case 4:q.push("("+q.pop()+")");break;case 5:q.push(P.read_shift(2));break;case 6:{for(var it="";ye=P[P.l++];)it+=String.fromCharCode(ye);q.push('"'+it.replace(/"/g,'""')+'"')}break;case 8:q.push("-"+q.pop());break;case 23:q.push("+"+q.pop());break;case 22:q.push("NOT("+q.pop()+")");break;case 20:case 21:re=q.pop(),Pe=q.pop(),q.push(["AND","OR"][ye-20]+"("+Pe+","+re+")");break;default:if(ye<32&&w[ye])re=q.pop(),Pe=q.pop(),q.push(Pe+w[ye]+re);else if(k[ye]){if(W=k[ye][1],W==69&&(W=P[P.l++]),W>q.length){console.error("WK1 bad formula parse 0x"+ye.toString(16)+":|"+q.join("|")+"|");return}var rt=q.slice(-W);q.length-=W,q.push(k[ye][0]+"("+rt.join(",")+")")}else return ye<=7?console.error("WK1 invalid opcode "+ye.toString(16)):ye<=24?console.error("WK1 unsupported op "+ye.toString(16)):ye<=30?console.error("WK1 invalid opcode "+ye.toString(16)):ye<=115?console.error("WK1 unsupported function opcode "+ye.toString(16)):console.error("WK1 unrecognized opcode "+ye.toString(16))}}q.length==1?H[1].f=""+q[0]:console.error("WK1 bad formula parse |"+q.join("|")+"|")}function C(P){var H=[{c:0,r:0},{t:"n",v:0},0];return H[0].r=P.read_shift(2),H[3]=P[P.l++],H[0].c=P[P.l++],H}function M(P,H){var q=C(P);return q[1].t="s",q[1].v=P.read_shift(H-4,"cstr"),q}function R(P,H,q,W){var le=pt(6+W.length);le.write_shift(2,P),le.write_shift(1,q),le.write_shift(1,H),le.write_shift(1,39);for(var Se=0;Se<W.length;++Se){var Pe=W.charCodeAt(Se);le.write_shift(1,Pe>=128?95:Pe)}return le.write_shift(1,0),le}function D(P,H){var q=C(P);q[1].v=P.read_shift(2);var W=q[1].v>>1;if(q[1].v&1)switch(W&7){case 0:W=(W>>3)*5e3;break;case 1:W=(W>>3)*500;break;case 2:W=(W>>3)/20;break;case 3:W=(W>>3)/200;break;case 4:W=(W>>3)/2e3;break;case 5:W=(W>>3)/2e4;break;case 6:W=(W>>3)/16;break;case 7:W=(W>>3)/64;break}return q[1].v=W,q}function B(P,H){var q=C(P),W=P.read_shift(4),le=P.read_shift(4),Se=P.read_shift(2);if(Se==65535)return W===0&&le===3221225472?(q[1].t="e",q[1].v=15):W===0&&le===3489660928?(q[1].t="e",q[1].v=42):q[1].v=0,q;var Pe=Se&32768;return Se=(Se&32767)-16446,q[1].v=(1-Pe*2)*(le*Math.pow(2,Se+32)+W*Math.pow(2,Se)),q}function z(P,H,q,W){var le=pt(14);if(le.write_shift(2,P),le.write_shift(1,q),le.write_shift(1,H),W==0)return le.write_shift(4,0),le.write_shift(4,0),le.write_shift(2,65535),le;var Se=0,Pe=0,re=0,ye=0;return W<0&&(Se=1,W=-W),Pe=Math.log2(W)|0,W/=Math.pow(2,Pe-31),ye=W>>>0,(ye&2147483648)==0&&(W/=2,++Pe,ye=W>>>0),W-=ye,ye|=2147483648,ye>>>=0,W*=Math.pow(2,32),re=W>>>0,le.write_shift(4,re),le.write_shift(4,ye),Pe+=16383+(Se?32768:0),le.write_shift(2,Pe),le}function I(P,H){var q=B(P);return P.l+=H-14,q}function F(P,H){var q=C(P),W=P.read_shift(4);return q[1].v=W>>6,q}function Y(P,H){var q=C(P),W=P.read_shift(8,"f");return q[1].v=W,q}function te(P,H){var q=Y(P);return P.l+=H-10,q}function ue(P,H){return P[P.l+H-1]==0?P.read_shift(H,"cstr"):""}function Z(P,H){var q=P[P.l++];q>H-1&&(q=H-1);for(var W="";W.length<q;)W+=String.fromCharCode(P[P.l++]);return W}function ie(P,H,q){if(!(!q.qpro||H<21)){var W=P.read_shift(1);P.l+=17,P.l+=1,P.l+=2;var le=P.read_shift(H-21,"cstr");return[W,le]}}function G(P,H){for(var q={},W=P.l+H;P.l<W;){var le=P.read_shift(2);if(le==14e3){for(q[le]=[0,""],q[le][0]=P.read_shift(2);P[P.l];)q[le][1]+=String.fromCharCode(P[P.l]),P.l++;P.l++}}return q}function ee(P,H){var q=pt(5+P.length);q.write_shift(2,14e3),q.write_shift(2,H);for(var W=0;W<P.length;++W){var le=P.charCodeAt(W);q[q.l++]=le>127?95:le}return q[q.l++]=0,q}var Ne={0:{n:"BOF",f:UV},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:g},14:{n:"NUMBER",f:y},15:{n:"LABEL",f:m},16:{n:"FORMULA",f:j},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:m},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ue},222:{n:"SHEETNAMELP",f:Z},65535:{n:""}},X={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:M},23:{n:"NUMBER17",f:B},24:{n:"NUMBER18",f:D},25:{n:"FORMULA19",f:I},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:G},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:F},38:{n:"??"},39:{n:"NUMBER27",f:Y},40:{n:"FORMULA28",f:te},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ue},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ie},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:a,book_to_wk3:n,to_workbook:t}})(),wAe=/^\s|\s$|[\t\n\r]/;function WV(e,t){if(!t.bookSST)return"";var s=[Ln];s[s.length]=It("sst",null,{xmlns:Xx[0],count:e.Count,uniqueCount:e.Unique});for(var a=0;a!=e.length;++a)if(e[a]!=null){var n=e[a],i="<si>";n.r?i+=n.r:(i+="<t",n.t||(n.t=""),n.t.match(wAe)&&(i+=' xml:space="preserve"'),i+=">"+Ws(n.t)+"</t>"),i+="</si>",s[s.length]=i}return s.length>2&&(s[s.length]="</sst>",s[1]=s[1].replace("/>",">")),s.join("")}function SAe(e){return[e.read_shift(4),e.read_shift(4)]}function _Ae(e,t){return t||(t=pt(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var AAe=x_e;function CAe(e){var t=Ql();kt(t,159,_Ae(e));for(var s=0;s<e.length;++s)kt(t,19,AAe(e[s]));return kt(t,160),t.end()}function kAe(e){for(var t=[],s=e.split(""),a=0;a<s.length;++a)t[a]=s[a].charCodeAt(0);return t}function GV(e){var t=0,s,a=kAe(e),n=a.length+1,i,l,o,u,d;for(s=h0(n),s[0]=a.length,i=1;i!=n;++i)s[i]=a[i-1];for(i=n-1;i>=0;--i)l=s[i],o=(t&16384)===0?0:1,u=t<<1&32767,d=o|u,t=d^l;return t^52811}var TAe=(function(){function e(n,i){switch(i.type){case"base64":return t(jh(n),i);case"binary":return t(n,i);case"buffer":return t(Os&&Buffer.isBuffer(n)?n.toString("binary"):Oy(n),i);case"array":return t(Dw(n),i)}throw new Error("Unrecognized type "+i.type)}function t(n,i){var l=i||{},o=l.dense?[]:{},u=n.match(/\\trowd.*?\\row\b/g);if(!u.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:u.length-1}};return u.forEach(function(m,f){Array.isArray(o)&&(o[f]=[]);for(var g=/\\\w+\b/g,p=0,y,v=-1;y=g.exec(m);){switch(y[0]){case"\\cell":var j=m.slice(p,g.lastIndex-y[0].length);if(j[0]==" "&&(j=j.slice(1)),++v,j.length){var N={v:j,t:"s"};Array.isArray(o)?o[f][v]=N:o[Gs({r:f,c:v})]=N}break}p=g.lastIndex}v>d.e.c&&(d.e.c=v)}),o["!ref"]=Rn(d),o}function s(n,i){return N0(e(n,i),i)}function a(n){for(var i=["{\\rtf1\\ansi"],l=_a(n["!ref"]),o,u=Array.isArray(n),d=l.s.r;d<=l.e.r;++d){i.push("\\trowd\\trautofit1");for(var m=l.s.c;m<=l.e.c;++m)i.push("\\cellx"+(m+1));for(i.push("\\pard\\intbl"),m=l.s.c;m<=l.e.c;++m){var f=Gs({r:d,c:m});o=u?(n[d]||[])[m]:n[f],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(Nh(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:s,to_sheet:e,from_sheet:a}})();function YL(e){for(var t=0,s=1;t!=3;++t)s=s*256+(e[t]>255?255:e[t]<0?0:e[t]);return s.toString(16).toUpperCase().slice(1)}var EAe=6,oh=EAe;function Yj(e){return Math.floor((e+Math.round(128/oh)/256)*oh)}function Zj(e){return Math.floor((e-5)/oh*100+.5)/100}function PA(e){return Math.round((e*oh+5)/oh*256)/256}function Wk(e){e.width?(e.wpx=Yj(e.width),e.wch=Zj(e.wpx),e.MDW=oh):e.wpx?(e.wch=Zj(e.wpx),e.width=PA(e.wch),e.MDW=oh):typeof e.wch=="number"&&(e.width=PA(e.wch),e.wpx=Yj(e.width),e.MDW=oh),e.customWidth&&delete e.customWidth}var OAe=96,KV=OAe;function Xj(e){return e*96/KV}function YV(e){return e*KV/96}function PAe(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var a=s[0];a<=s[1];++a)e[a]!=null&&(t[t.length]=It("numFmt",null,{numFmtId:a,formatCode:Ws(e[a])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=It("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function DAe(e){var t=[];return t[t.length]=It("cellXfs",null),e.forEach(function(s){t[t.length]=It("xf",null,s)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=It("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function ZV(e,t){var s=[Ln,It("styleSheet",null,{xmlns:Xx[0],"xmlns:vt":fi.vt})],a;return e.SSF&&(a=PAe(e.SSF))!=null&&(s[s.length]=a),s[s.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',s[s.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',s[s.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',s[s.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(a=DAe(t.cellXfs))&&(s[s.length]=a),s[s.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',s[s.length]='<dxfs count="0"/>',s[s.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',s.length>2&&(s[s.length]="</styleSheet>",s[1]=s[1].replace("/>",">")),s.join("")}function RAe(e,t){var s=e.read_shift(2),a=al(e);return[s,a]}function MAe(e,t,s){s||(s=pt(6+4*t.length)),s.write_shift(2,e),gi(t,s);var a=s.length>s.l?s.slice(0,s.l):s;return s.l==null&&(s.l=s.length),a}function LAe(e,t,s){var a={};a.sz=e.read_shift(2)/20;var n=w_e(e);n.fItalic&&(a.italic=1),n.fCondense&&(a.condense=1),n.fExtend&&(a.extend=1),n.fShadow&&(a.shadow=1),n.fOutline&&(a.outline=1),n.fStrikeout&&(a.strike=1);var i=e.read_shift(2);switch(i===700&&(a.bold=1),e.read_shift(2)){case 1:a.vertAlign="superscript";break;case 2:a.vertAlign="subscript";break}var l=e.read_shift(1);l!=0&&(a.underline=l);var o=e.read_shift(1);o>0&&(a.family=o);var u=e.read_shift(1);switch(u>0&&(a.charset=u),e.l++,a.color=N_e(e),e.read_shift(1)){case 1:a.scheme="major";break;case 2:a.scheme="minor";break}return a.name=al(e),a}function IAe(e,t){t||(t=pt(153)),t.write_shift(2,e.sz*20),S_e(e,t),t.write_shift(2,e.bold?700:400);var s=0;e.vertAlign=="superscript"?s=1:e.vertAlign=="subscript"&&(s=2),t.write_shift(2,s),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),Gj(e.color,t);var a=0;return a=2,t.write_shift(1,a),gi(e.name,t),t.length>t.l?t.slice(0,t.l):t}var FAe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],y3,BAe=uu;function ZL(e,t){t||(t=pt(84)),y3||(y3=Rk(FAe));var s=y3[e.patternType];s==null&&(s=40),t.write_shift(4,s);var a=0;if(s!=40)for(Gj({auto:1},t),Gj({auto:1},t);a<12;++a)t.write_shift(4,0);else{for(;a<4;++a)t.write_shift(4,0);for(;a<12;++a)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function UAe(e,t){var s=e.l+t,a=e.read_shift(2),n=e.read_shift(2);return e.l=s,{ixfe:a,numFmtId:n}}function XV(e,t,s){s||(s=pt(16)),s.write_shift(2,t||0),s.write_shift(2,e.numFmtId||0),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(1,0),s.write_shift(1,0);var a=0;return s.write_shift(1,a),s.write_shift(1,0),s.write_shift(1,0),s.write_shift(1,0),s}function ev(e,t){return t||(t=pt(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var zAe=uu;function $Ae(e,t){return t||(t=pt(51)),t.write_shift(1,0),ev(null,t),ev(null,t),ev(null,t),ev(null,t),ev(null,t),t.length>t.l?t.slice(0,t.l):t}function HAe(e,t){return t||(t=pt(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),Wj(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function qAe(e,t,s){var a=pt(2052);return a.write_shift(4,e),Wj(t,a),Wj(s,a),a.length>a.l?a.slice(0,a.l):a}function VAe(e,t){if(t){var s=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var n=a[0];n<=a[1];++n)t[n]!=null&&++s}),s!=0&&(kt(e,615,xd(s)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var n=a[0];n<=a[1];++n)t[n]!=null&&kt(e,44,MAe(n,t[n]))}),kt(e,616))}}function WAe(e){var t=1;kt(e,611,xd(t)),kt(e,43,IAe({sz:12,color:{theme:1},name:"Calibri",family:2})),kt(e,612)}function GAe(e){var t=2;kt(e,603,xd(t)),kt(e,45,ZL({patternType:"none"})),kt(e,45,ZL({patternType:"gray125"})),kt(e,604)}function KAe(e){var t=1;kt(e,613,xd(t)),kt(e,46,$Ae()),kt(e,614)}function YAe(e){var t=1;kt(e,626,xd(t)),kt(e,47,XV({numFmtId:0},65535)),kt(e,627)}function ZAe(e,t){kt(e,617,xd(t.length)),t.forEach(function(s){kt(e,47,XV(s,0))}),kt(e,618)}function XAe(e){var t=1;kt(e,619,xd(t)),kt(e,48,HAe({xfId:0,name:"Normal"})),kt(e,620)}function JAe(e){var t=0;kt(e,505,xd(t)),kt(e,506)}function QAe(e){var t=0;kt(e,508,qAe(t,"TableStyleMedium9","PivotStyleMedium4")),kt(e,509)}function e6e(e,t){var s=Ql();return kt(s,278),VAe(s,e.SSF),WAe(s),GAe(s),KAe(s),YAe(s),ZAe(s,t.cellXfs),XAe(s),JAe(s),QAe(s),kt(s,279),s.end()}function JV(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var s=[Ln];return s[s.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',s[s.length]="<a:themeElements>",s[s.length]='<a:clrScheme name="Office">',s[s.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',s[s.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',s[s.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',s[s.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',s[s.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',s[s.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',s[s.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',s[s.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',s[s.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',s[s.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',s[s.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',s[s.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',s[s.length]="</a:clrScheme>",s[s.length]='<a:fontScheme name="Office">',s[s.length]="<a:majorFont>",s[s.length]='<a:latin typeface="Cambria"/>',s[s.length]='<a:ea typeface=""/>',s[s.length]='<a:cs typeface=""/>',s[s.length]='<a:font script="Jpan" typeface=" "/>',s[s.length]='<a:font script="Hang" typeface=" "/>',s[s.length]='<a:font script="Hans" typeface=""/>',s[s.length]='<a:font script="Hant" typeface=""/>',s[s.length]='<a:font script="Arab" typeface="Times New Roman"/>',s[s.length]='<a:font script="Hebr" typeface="Times New Roman"/>',s[s.length]='<a:font script="Thai" typeface="Tahoma"/>',s[s.length]='<a:font script="Ethi" typeface="Nyala"/>',s[s.length]='<a:font script="Beng" typeface="Vrinda"/>',s[s.length]='<a:font script="Gujr" typeface="Shruti"/>',s[s.length]='<a:font script="Khmr" typeface="MoolBoran"/>',s[s.length]='<a:font script="Knda" typeface="Tunga"/>',s[s.length]='<a:font script="Guru" typeface="Raavi"/>',s[s.length]='<a:font script="Cans" typeface="Euphemia"/>',s[s.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',s[s.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',s[s.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',s[s.length]='<a:font script="Thaa" typeface="MV Boli"/>',s[s.length]='<a:font script="Deva" typeface="Mangal"/>',s[s.length]='<a:font script="Telu" typeface="Gautami"/>',s[s.length]='<a:font script="Taml" typeface="Latha"/>',s[s.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',s[s.length]='<a:font script="Orya" typeface="Kalinga"/>',s[s.length]='<a:font script="Mlym" typeface="Kartika"/>',s[s.length]='<a:font script="Laoo" typeface="DokChampa"/>',s[s.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',s[s.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',s[s.length]='<a:font script="Viet" typeface="Times New Roman"/>',s[s.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',s[s.length]='<a:font script="Geor" typeface="Sylfaen"/>',s[s.length]="</a:majorFont>",s[s.length]="<a:minorFont>",s[s.length]='<a:latin typeface="Calibri"/>',s[s.length]='<a:ea typeface=""/>',s[s.length]='<a:cs typeface=""/>',s[s.length]='<a:font script="Jpan" typeface=" "/>',s[s.length]='<a:font script="Hang" typeface=" "/>',s[s.length]='<a:font script="Hans" typeface=""/>',s[s.length]='<a:font script="Hant" typeface=""/>',s[s.length]='<a:font script="Arab" typeface="Arial"/>',s[s.length]='<a:font script="Hebr" typeface="Arial"/>',s[s.length]='<a:font script="Thai" typeface="Tahoma"/>',s[s.length]='<a:font script="Ethi" typeface="Nyala"/>',s[s.length]='<a:font script="Beng" typeface="Vrinda"/>',s[s.length]='<a:font script="Gujr" typeface="Shruti"/>',s[s.length]='<a:font script="Khmr" typeface="DaunPenh"/>',s[s.length]='<a:font script="Knda" typeface="Tunga"/>',s[s.length]='<a:font script="Guru" typeface="Raavi"/>',s[s.length]='<a:font script="Cans" typeface="Euphemia"/>',s[s.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',s[s.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',s[s.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',s[s.length]='<a:font script="Thaa" typeface="MV Boli"/>',s[s.length]='<a:font script="Deva" typeface="Mangal"/>',s[s.length]='<a:font script="Telu" typeface="Gautami"/>',s[s.length]='<a:font script="Taml" typeface="Latha"/>',s[s.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',s[s.length]='<a:font script="Orya" typeface="Kalinga"/>',s[s.length]='<a:font script="Mlym" typeface="Kartika"/>',s[s.length]='<a:font script="Laoo" typeface="DokChampa"/>',s[s.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',s[s.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',s[s.length]='<a:font script="Viet" typeface="Arial"/>',s[s.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',s[s.length]='<a:font script="Geor" typeface="Sylfaen"/>',s[s.length]="</a:minorFont>",s[s.length]="</a:fontScheme>",s[s.length]='<a:fmtScheme name="Office">',s[s.length]="<a:fillStyleLst>",s[s.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',s[s.length]='<a:gradFill rotWithShape="1">',s[s.length]="<a:gsLst>",s[s.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',s[s.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',s[s.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',s[s.length]="</a:gsLst>",s[s.length]='<a:lin ang="16200000" scaled="1"/>',s[s.length]="</a:gradFill>",s[s.length]='<a:gradFill rotWithShape="1">',s[s.length]="<a:gsLst>",s[s.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',s[s.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',s[s.length]="</a:gsLst>",s[s.length]='<a:lin ang="16200000" scaled="0"/>',s[s.length]="</a:gradFill>",s[s.length]="</a:fillStyleLst>",s[s.length]="<a:lnStyleLst>",s[s.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',s[s.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',s[s.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',s[s.length]="</a:lnStyleLst>",s[s.length]="<a:effectStyleLst>",s[s.length]="<a:effectStyle>",s[s.length]="<a:effectLst>",s[s.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',s[s.length]="</a:effectLst>",s[s.length]="</a:effectStyle>",s[s.length]="<a:effectStyle>",s[s.length]="<a:effectLst>",s[s.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',s[s.length]="</a:effectLst>",s[s.length]="</a:effectStyle>",s[s.length]="<a:effectStyle>",s[s.length]="<a:effectLst>",s[s.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',s[s.length]="</a:effectLst>",s[s.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',s[s.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',s[s.length]="</a:effectStyle>",s[s.length]="</a:effectStyleLst>",s[s.length]="<a:bgFillStyleLst>",s[s.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',s[s.length]='<a:gradFill rotWithShape="1">',s[s.length]="<a:gsLst>",s[s.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',s[s.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',s[s.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',s[s.length]="</a:gsLst>",s[s.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',s[s.length]="</a:gradFill>",s[s.length]='<a:gradFill rotWithShape="1">',s[s.length]="<a:gsLst>",s[s.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',s[s.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',s[s.length]="</a:gsLst>",s[s.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',s[s.length]="</a:gradFill>",s[s.length]="</a:bgFillStyleLst>",s[s.length]="</a:fmtScheme>",s[s.length]="</a:themeElements>",s[s.length]="<a:objectDefaults>",s[s.length]="<a:spDef>",s[s.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',s[s.length]="</a:spDef>",s[s.length]="<a:lnDef>",s[s.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',s[s.length]="</a:lnDef>",s[s.length]="</a:objectDefaults>",s[s.length]="<a:extraClrSchemeLst/>",s[s.length]="</a:theme>",s.join("")}function t6e(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:al(e)}}function r6e(e){var t=pt(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),gi(e.name,t),t.slice(0,t.l)}function s6e(e){for(var t=[],s=e.read_shift(4);s-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function a6e(e){var t=pt(4+8*e.length);t.write_shift(4,e.length);for(var s=0;s<e.length;++s)t.write_shift(4,e[s][0]),t.write_shift(4,e[s][1]);return t}function n6e(e,t){var s=pt(8+2*t.length);return s.write_shift(4,e),gi(t,s),s.slice(0,s.l)}function i6e(e){return e.l+=4,e.read_shift(4)!=0}function l6e(e,t){var s=pt(8);return s.write_shift(4,e),s.write_shift(4,1),s}function o6e(){var e=Ql();return kt(e,332),kt(e,334,xd(1)),kt(e,335,r6e({name:"XLDAPR",version:12e4,flags:3496657072})),kt(e,336),kt(e,339,n6e(1,"XLDAPR")),kt(e,52),kt(e,35,xd(514)),kt(e,4096,xd(0)),kt(e,4097,fc(1)),kt(e,36),kt(e,53),kt(e,340),kt(e,337,l6e(1)),kt(e,51,a6e([[1,0]])),kt(e,338),kt(e,333),e.end()}function QV(){var e=[Ln];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function c6e(e){var t={};t.i=e.read_shift(4);var s={};s.r=e.read_shift(4),s.c=e.read_shift(4),t.r=Gs(s);var a=e.read_shift(1);return a&2&&(t.l="1"),a&8&&(t.a="1"),t}var Wp=1024;function eW(e,t){for(var s=[21600,21600],a=["m0,0l0",s[1],s[0],s[1],s[0],"0xe"].join(","),n=[It("xml",null,{"xmlns:v":ko.v,"xmlns:o":ko.o,"xmlns:x":ko.x,"xmlns:mv":ko.mv}).replace(/\/>/,">"),It("o:shapelayout",It("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),It("v:shapetype",[It("v:stroke",null,{joinstyle:"miter"}),It("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:s.join(","),path:a})];Wp<e*1e3;)Wp+=1e3;return t.forEach(function(i){var l=xi(i[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var u=o.type=="gradient"?It("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,d=It("v:fill",u,o),m={on:"t",obscured:"t"};++Wp,n=n.concat(["<v:shape"+Gv({id:"_x0000_s"+Wp,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",d,It("v:shadow",null,m),It("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Mi("x:Anchor",[l.c+1,0,l.r+1,0,l.c+3,20,l.r+5,20].join(",")),Mi("x:AutoFill","False"),Mi("x:Row",String(l.r)),Mi("x:Column",String(l.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),n.push("</xml>"),n.join("")}function tW(e){var t=[Ln,It("comments",null,{xmlns:Xx[0]})],s=[];return t.push("<authors>"),e.forEach(function(a){a[1].forEach(function(n){var i=Ws(n.a);s.indexOf(i)==-1&&(s.push(i),t.push("<author>"+i+"</author>")),n.T&&n.ID&&s.indexOf("tc="+n.ID)==-1&&(s.push("tc="+n.ID),t.push("<author>tc="+n.ID+"</author>"))})}),s.length==0&&(s.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(a){var n=0,i=[];if(a[1][0]&&a[1][0].T&&a[1][0].ID?n=s.indexOf("tc="+a[1][0].ID):a[1].forEach(function(u){u.a&&(n=s.indexOf(Ws(u.a))),i.push(u.t||"")}),t.push('<comment ref="'+a[0]+'" authorId="'+n+'"><text>'),i.length<=1)t.push(Mi("t",Ws(i[0]||"")));else{for(var l=`Comment:
    `+i[0]+`
`,o=1;o<i.length;++o)l+=`Reply:
    `+i[o]+`
`;t.push(Mi("t",Ws(l)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function d6e(e,t,s){var a=[Ln,It("ThreadedComments",null,{xmlns:fi.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(n){var i="";(n[1]||[]).forEach(function(l,o){if(!l.T){delete l.ID;return}l.a&&t.indexOf(l.a)==-1&&t.push(l.a);var u={ref:n[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+s.tcid++).slice(-12)+"}"};o==0?i=u.id:u.parentId=i,l.ID=u.id,l.a&&(u.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(l.a)).slice(-12)+"}"),a.push(It("threadedComment",Mi("text",l.t||""),u))})}),a.push("</ThreadedComments>"),a.join("")}function u6e(e){var t=[Ln,It("personList",null,{xmlns:fi.TCMNT,"xmlns:x":Xx[0]}).replace(/[\/]>/,">")];return e.forEach(function(s,a){t.push(It("person",null,{displayName:s,id:"{54EE7950-7262-4200-6969-"+("000000000000"+a).slice(-12)+"}",userId:s,providerId:"None"}))}),t.push("</personList>"),t.join("")}function h6e(e){var t={};t.iauthor=e.read_shift(4);var s=A0(e);return t.rfx=s.s,t.ref=Gs(s.s),e.l+=16,t}function m6e(e,t){return t==null&&(t=pt(36)),t.write_shift(4,e[1].iauthor),Qx(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var f6e=al;function p6e(e){return gi(e.slice(0,54))}function x6e(e){var t=Ql(),s=[];return kt(t,628),kt(t,630),e.forEach(function(a){a[1].forEach(function(n){s.indexOf(n.a)>-1||(s.push(n.a.slice(0,54)),kt(t,632,p6e(n.a)))})}),kt(t,631),kt(t,633),e.forEach(function(a){a[1].forEach(function(n){n.iauthor=s.indexOf(n.a);var i={s:xi(a[0]),e:xi(a[0])};kt(t,635,m6e([i,n])),n.t&&n.t.length>0&&kt(t,637,v_e(n)),kt(t,636),delete n.iauthor})}),kt(t,634),kt(t,629),t.end()}function g6e(e,t){t.FullPaths.forEach(function(s,a){if(a!=0){var n=s.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");n.slice(-1)!=="/"&&sa.utils.cfb_add(e,n,t.FileIndex[a].content)}})}var rW=["xlsb","xlsm","xlam","biff8","xla"],v6e=(function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function s(a,n,i,l){var o=!1,u=!1;i.length==0?u=!0:i.charAt(0)=="["&&(u=!0,i=i.slice(1,-1)),l.length==0?o=!0:l.charAt(0)=="["&&(o=!0,l=l.slice(1,-1));var d=i.length>0?parseInt(i,10)|0:0,m=l.length>0?parseInt(l,10)|0:0;return o?m+=t.c:--m,u?d+=t.r:--d,n+(o?"":"$")+sl(m)+(u?"":"$")+Li(d)}return function(n,i){return t=i,n.replace(e,s)}})(),Gk=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Kk=(function(){return function(t,s){return t.replace(Gk,function(a,n,i,l,o,u){var d=zk(l)-(i?0:s.c),m=Uk(u)-(o?0:s.r),f=m==0?"":o?m+1:"["+m+"]",g=d==0?"":i?d+1:"["+d+"]";return n+"R"+f+"C"+g})}})();function y6e(e,t){return e.replace(Gk,function(s,a,n,i,l,o){return a+(n=="$"?n+i:sl(zk(i)+t.c))+(l=="$"?l+o:Li(Uk(o)+t.r))})}function b6e(e){return e.length!=1}function An(e){e.l+=1}function zm(e,t){var s=e.read_shift(2);return[s&16383,s>>14&1,s>>15&1]}function sW(e,t,s){var a=2;if(s){if(s.biff>=2&&s.biff<=5)return aW(e);s.biff==12&&(a=4)}var n=e.read_shift(a),i=e.read_shift(a),l=zm(e),o=zm(e);return{s:{r:n,c:l[0],cRel:l[1],rRel:l[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function aW(e){var t=zm(e),s=zm(e),a=e.read_shift(1),n=e.read_shift(1);return{s:{r:t[0],c:a,cRel:t[1],rRel:t[2]},e:{r:s[0],c:n,cRel:s[1],rRel:s[2]}}}function j6e(e,t,s){if(s.biff<8)return aW(e);var a=e.read_shift(s.biff==12?4:2),n=e.read_shift(s.biff==12?4:2),i=zm(e),l=zm(e);return{s:{r:a,c:i[0],cRel:i[1],rRel:i[2]},e:{r:n,c:l[0],cRel:l[1],rRel:l[2]}}}function nW(e,t,s){if(s&&s.biff>=2&&s.biff<=5)return N6e(e);var a=e.read_shift(s&&s.biff==12?4:2),n=zm(e);return{r:a,c:n[0],cRel:n[1],rRel:n[2]}}function N6e(e){var t=zm(e),s=e.read_shift(1);return{r:t[0],c:s,cRel:t[1],rRel:t[2]}}function w6e(e){var t=e.read_shift(2),s=e.read_shift(2);return{r:t,c:s&255,fQuoted:!!(s&16384),cRel:s>>15,rRel:s>>15}}function S6e(e,t,s){var a=s&&s.biff?s.biff:8;if(a>=2&&a<=5)return _6e(e);var n=e.read_shift(a>=12?4:2),i=e.read_shift(2),l=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;n>524287;)n-=1048576;if(l==1)for(;i>8191;)i=i-16384;return{r:n,c:i,cRel:l,rRel:o}}function _6e(e){var t=e.read_shift(2),s=e.read_shift(1),a=(t&32768)>>15,n=(t&16384)>>14;return t&=16383,a==1&&t>=8192&&(t=t-16384),n==1&&s>=128&&(s=s-256),{r:t,c:s,cRel:n,rRel:a}}function A6e(e,t,s){var a=(e[e.l++]&96)>>5,n=sW(e,s.biff>=2&&s.biff<=5?6:8,s);return[a,n]}function C6e(e,t,s){var a=(e[e.l++]&96)>>5,n=e.read_shift(2,"i"),i=8;if(s)switch(s.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var l=sW(e,i,s);return[a,n,l]}function k6e(e,t,s){var a=(e[e.l++]&96)>>5;return e.l+=s&&s.biff>8?12:s.biff<8?6:8,[a]}function T6e(e,t,s){var a=(e[e.l++]&96)>>5,n=e.read_shift(2),i=8;if(s)switch(s.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[a,n]}function E6e(e,t,s){var a=(e[e.l++]&96)>>5,n=j6e(e,t-1,s);return[a,n]}function O6e(e,t,s){var a=(e[e.l++]&96)>>5;return e.l+=s.biff==2?6:s.biff==12?14:7,[a]}function XL(e){var t=e[e.l+1]&1,s=1;return e.l+=4,[t,s]}function P6e(e,t,s){e.l+=2;for(var a=e.read_shift(s&&s.biff==2?1:2),n=[],i=0;i<=a;++i)n.push(e.read_shift(s&&s.biff==2?1:2));return n}function D6e(e,t,s){var a=e[e.l+1]&255?1:0;return e.l+=2,[a,e.read_shift(s&&s.biff==2?1:2)]}function R6e(e,t,s){var a=e[e.l+1]&255?1:0;return e.l+=2,[a,e.read_shift(s&&s.biff==2?1:2)]}function M6e(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function L6e(e,t,s){var a=e[e.l+1]&255?1:0;return e.l+=s&&s.biff==2?3:4,[a]}function iW(e){var t=e.read_shift(1),s=e.read_shift(1);return[t,s]}function I6e(e){return e.read_shift(2),iW(e)}function F6e(e){return e.read_shift(2),iW(e)}function B6e(e,t,s){var a=(e[e.l]&96)>>5;e.l+=1;var n=nW(e,0,s);return[a,n]}function U6e(e,t,s){var a=(e[e.l]&96)>>5;e.l+=1;var n=S6e(e,0,s);return[a,n]}function z6e(e,t,s){var a=(e[e.l]&96)>>5;e.l+=1;var n=e.read_shift(2);s&&s.biff==5&&(e.l+=12);var i=nW(e,0,s);return[a,n,i]}function $6e(e,t,s){var a=(e[e.l]&96)>>5;e.l+=1;var n=e.read_shift(s&&s.biff<=3?1:2);return[$Ce[n],cW[n],a]}function H6e(e,t,s){var a=e[e.l++],n=e.read_shift(1),i=s&&s.biff<=3?[a==88?-1:0,e.read_shift(1)]:q6e(e);return[n,(i[0]===0?cW:zCe)[i[1]]]}function q6e(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function V6e(e,t,s){e.l+=s&&s.biff==2?3:4}function W6e(e,t,s){if(e.l++,s&&s.biff==12)return[e.read_shift(4,"i"),0];var a=e.read_shift(2),n=e.read_shift(s&&s.biff==2?1:2);return[a,n]}function G6e(e){return e.l++,Ry[e.read_shift(1)]}function K6e(e){return e.l++,e.read_shift(2)}function Y6e(e){return e.l++,e.read_shift(1)!==0}function Z6e(e){return e.l++,eg(e)}function X6e(e,t,s){return e.l++,$V(e,t-1,s)}function J6e(e,t){var s=[e.read_shift(1)];if(t==12)switch(s[0]){case 2:s[0]=4;break;case 4:s[0]=16;break;case 0:s[0]=1;break;case 1:s[0]=2;break}switch(s[0]){case 4:s[1]=z_e(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:s[1]=Ry[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:s[1]=eg(e);break;case 2:s[1]=V_e(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+s[0])}return s}function Q6e(e,t,s){for(var a=e.read_shift(s.biff==12?4:2),n=[],i=0;i!=a;++i)n.push((s.biff==12?A0:K_e)(e));return n}function eCe(e,t,s){var a=0,n=0;s.biff==12?(a=e.read_shift(4),n=e.read_shift(4)):(n=1+e.read_shift(1),a=1+e.read_shift(2)),s.biff>=2&&s.biff<8&&(--a,--n==0&&(n=256));for(var i=0,l=[];i!=a&&(l[i]=[]);++i)for(var o=0;o!=n;++o)l[i][o]=J6e(e,s.biff);return l}function tCe(e,t,s){var a=e.read_shift(1)>>>5&3,n=!s||s.biff>=8?4:2,i=e.read_shift(n);switch(s.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[a,0,i]}function rCe(e,t,s){if(s.biff==5)return sCe(e);var a=e.read_shift(1)>>>5&3,n=e.read_shift(2),i=e.read_shift(4);return[a,n,i]}function sCe(e){var t=e.read_shift(1)>>>5&3,s=e.read_shift(2,"i");e.l+=8;var a=e.read_shift(2);return e.l+=12,[t,s,a]}function aCe(e,t,s){var a=e.read_shift(1)>>>5&3;e.l+=s&&s.biff==2?3:4;var n=e.read_shift(s&&s.biff==2?1:2);return[a,n]}function nCe(e,t,s){var a=e.read_shift(1)>>>5&3,n=e.read_shift(s&&s.biff==2?1:2);return[a,n]}function iCe(e,t,s){var a=e.read_shift(1)>>>5&3;return e.l+=4,s.biff<8&&e.l--,s.biff==12&&(e.l+=2),[a]}function lCe(e,t,s){var a=(e[e.l++]&96)>>5,n=e.read_shift(2),i=4;if(s)switch(s.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[a,n]}var oCe=uu,cCe=uu,dCe=uu;function My(e,t,s){return e.l+=2,[w6e(e)]}function Yk(e){return e.l+=6,[]}var uCe=My,hCe=Yk,mCe=Yk,fCe=My;function lW(e){return e.l+=2,[UV(e),e.read_shift(2)&1]}var pCe=My,xCe=lW,gCe=Yk,vCe=My,yCe=My,bCe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function jCe(e){e.l+=2;var t=e.read_shift(2),s=e.read_shift(2),a=e.read_shift(4),n=e.read_shift(2),i=e.read_shift(2),l=bCe[s>>2&31];return{ixti:t,coltype:s&3,rt:l,idx:a,c:n,C:i}}function NCe(e){return e.l+=2,[e.read_shift(4)]}function wCe(e,t,s){return e.l+=5,e.l+=2,e.l+=s.biff==2?1:4,["PTGSHEET"]}function SCe(e,t,s){return e.l+=s.biff==2?4:5,["PTGENDSHEET"]}function _Ce(e){var t=e.read_shift(1)>>>5&3,s=e.read_shift(2);return[t,s]}function ACe(e){var t=e.read_shift(1)>>>5&3,s=e.read_shift(2);return[t,s]}function CCe(e){return e.l+=4,[0,0]}var JL={1:{n:"PtgExp",f:W6e},2:{n:"PtgTbl",f:dCe},3:{n:"PtgAdd",f:An},4:{n:"PtgSub",f:An},5:{n:"PtgMul",f:An},6:{n:"PtgDiv",f:An},7:{n:"PtgPower",f:An},8:{n:"PtgConcat",f:An},9:{n:"PtgLt",f:An},10:{n:"PtgLe",f:An},11:{n:"PtgEq",f:An},12:{n:"PtgGe",f:An},13:{n:"PtgGt",f:An},14:{n:"PtgNe",f:An},15:{n:"PtgIsect",f:An},16:{n:"PtgUnion",f:An},17:{n:"PtgRange",f:An},18:{n:"PtgUplus",f:An},19:{n:"PtgUminus",f:An},20:{n:"PtgPercent",f:An},21:{n:"PtgParen",f:An},22:{n:"PtgMissArg",f:An},23:{n:"PtgStr",f:X6e},26:{n:"PtgSheet",f:wCe},27:{n:"PtgEndSheet",f:SCe},28:{n:"PtgErr",f:G6e},29:{n:"PtgBool",f:Y6e},30:{n:"PtgInt",f:K6e},31:{n:"PtgNum",f:Z6e},32:{n:"PtgArray",f:O6e},33:{n:"PtgFunc",f:$6e},34:{n:"PtgFuncVar",f:H6e},35:{n:"PtgName",f:tCe},36:{n:"PtgRef",f:B6e},37:{n:"PtgArea",f:A6e},38:{n:"PtgMemArea",f:aCe},39:{n:"PtgMemErr",f:oCe},40:{n:"PtgMemNoMem",f:cCe},41:{n:"PtgMemFunc",f:nCe},42:{n:"PtgRefErr",f:iCe},43:{n:"PtgAreaErr",f:k6e},44:{n:"PtgRefN",f:U6e},45:{n:"PtgAreaN",f:E6e},46:{n:"PtgMemAreaN",f:_Ce},47:{n:"PtgMemNoMemN",f:ACe},57:{n:"PtgNameX",f:rCe},58:{n:"PtgRef3d",f:z6e},59:{n:"PtgArea3d",f:C6e},60:{n:"PtgRefErr3d",f:lCe},61:{n:"PtgAreaErr3d",f:T6e},255:{}},kCe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},TCe={1:{n:"PtgElfLel",f:lW},2:{n:"PtgElfRw",f:vCe},3:{n:"PtgElfCol",f:uCe},6:{n:"PtgElfRwV",f:yCe},7:{n:"PtgElfColV",f:fCe},10:{n:"PtgElfRadical",f:pCe},11:{n:"PtgElfRadicalS",f:gCe},13:{n:"PtgElfColS",f:hCe},15:{n:"PtgElfColSV",f:mCe},16:{n:"PtgElfRadicalLel",f:xCe},25:{n:"PtgList",f:jCe},29:{n:"PtgSxName",f:NCe},255:{}},ECe={0:{n:"PtgAttrNoop",f:CCe},1:{n:"PtgAttrSemi",f:L6e},2:{n:"PtgAttrIf",f:R6e},4:{n:"PtgAttrChoose",f:P6e},8:{n:"PtgAttrGoto",f:D6e},16:{n:"PtgAttrSum",f:V6e},32:{n:"PtgAttrBaxcel",f:XL},33:{n:"PtgAttrBaxcel",f:XL},64:{n:"PtgAttrSpace",f:I6e},65:{n:"PtgAttrSpaceSemi",f:F6e},128:{n:"PtgAttrIfError",f:M6e},255:{}};function OCe(e,t,s,a){if(a.biff<8)return uu(e,t);for(var n=e.l+t,i=[],l=0;l!==s.length;++l)switch(s[l][0]){case"PtgArray":s[l][1]=eCe(e,0,a),i.push(s[l][1]);break;case"PtgMemArea":s[l][2]=Q6e(e,s[l][1],a),i.push(s[l][2]);break;case"PtgExp":a&&a.biff==12&&(s[l][1][1]=e.read_shift(4),i.push(s[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+s[l][0]}return t=n-e.l,t!==0&&i.push(uu(e,t)),i}function PCe(e,t,s){for(var a=e.l+t,n,i,l=[];a!=e.l;)t=a-e.l,i=e[e.l],n=JL[i]||JL[kCe[i]],(i===24||i===25)&&(n=(i===24?TCe:ECe)[e[e.l+1]]),!n||!n.f?uu(e,t):l.push([n.n,n.f(e,t,s)]);return l}function DCe(e){for(var t=[],s=0;s<e.length;++s){for(var a=e[s],n=[],i=0;i<a.length;++i){var l=a[i];l?l[0]===2?n.push('"'+l[1].replace(/"/g,'""')+'"'):n.push(l[1]):n.push("")}t.push(n.join(","))}return t.join(";")}var RCe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function MCe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function oW(e,t,s){if(!e)return"SH33TJSERR0";if(s.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var a=e.XTI[t];if(s.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!a)return"SH33TJSERR1";var n="";if(s.biff>8)switch(e[a[0]][0]){case 357:return n=a[1]==-1?"#REF":e.SheetNames[a[1]],a[1]==a[2]?n:n+":"+e.SheetNames[a[2]];case 358:return s.SID!=null?e.SheetNames[s.SID]:"SH33TJSSAME"+e[a[0]][0];default:return"SH33TJSSRC"+e[a[0]][0]}switch(e[a[0]][0][0]){case 1025:return n=a[1]==-1?"#REF":e.SheetNames[a[1]]||"SH33TJSERR3",a[1]==a[2]?n:n+":"+e.SheetNames[a[2]];case 14849:return e[a[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[a[0]][0][3]?(n=a[1]==-1?"#REF":e[a[0]][0][3][a[1]]||"SH33TJSERR4",a[1]==a[2]?n:n+":"+e[a[0]][0][3][a[2]]):"SH33TJSERR2"}}function QL(e,t,s){var a=oW(e,t,s);return a=="#REF"?a:MCe(a,s)}function wx(e,t,s,a,n){var i=n&&n.biff||8,l={s:{c:0,r:0}},o=[],u,d,m,f=0,g=0,p,y="";if(!e[0]||!e[0][0])return"";for(var v=-1,j="",N=0,k=e[0].length;N<k;++N){var w=e[0][N];switch(w[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(u=o.pop(),d=o.pop(),v>=0){switch(e[0][v][1][0]){case 0:j=rn(" ",e[0][v][1][1]);break;case 1:j=rn("\r",e[0][v][1][1]);break;default:if(j="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}d=d+j,v=-1}o.push(d+RCe[w[0]]+u);break;case"PtgIsect":u=o.pop(),d=o.pop(),o.push(d+" "+u);break;case"PtgUnion":u=o.pop(),d=o.pop(),o.push(d+","+u);break;case"PtgRange":u=o.pop(),d=o.pop(),o.push(d+":"+u);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":m=xv(w[1][1],l,n),o.push(gv(m,i));break;case"PtgRefN":m=s?xv(w[1][1],s,n):w[1][1],o.push(gv(m,i));break;case"PtgRef3d":f=w[1][1],m=xv(w[1][2],l,n),y=QL(a,f,n),o.push(y+"!"+gv(m,i));break;case"PtgFunc":case"PtgFuncVar":var A=w[1][0],C=w[1][1];A||(A=0),A&=127;var M=A==0?[]:o.slice(-A);o.length-=A,C==="User"&&(C=M.shift()),o.push(C+"("+M.join(",")+")");break;case"PtgBool":o.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(w[1]);break;case"PtgNum":o.push(String(w[1]));break;case"PtgStr":o.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(w[1]);break;case"PtgAreaN":p=IL(w[1][1],s?{s}:l,n),o.push(g3(p,n));break;case"PtgArea":p=IL(w[1][1],l,n),o.push(g3(p,n));break;case"PtgArea3d":f=w[1][1],p=w[1][2],y=QL(a,f,n),o.push(y+"!"+g3(p,n));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":g=w[1][2];var R=(a.names||[])[g-1]||(a[0]||[])[g],D=R?R.Name:"SH33TJSNAME"+String(g);D&&D.slice(0,6)=="_xlfn."&&!n.xlfn&&(D=D.slice(6)),o.push(D);break;case"PtgNameX":var B=w[1][1];g=w[1][2];var z;if(n.biff<=5)B<0&&(B=-B),a[B]&&(z=a[B][g]);else{var I="";if(((a[B]||[])[0]||[])[0]==14849||(((a[B]||[])[0]||[])[0]==1025?a[B][g]&&a[B][g].itab>0&&(I=a.SheetNames[a[B][g].itab-1]+"!"):I=a.SheetNames[g-1]+"!"),a[B]&&a[B][g])I+=a[B][g].Name;else if(a[0]&&a[0][g])I+=a[0][g].Name;else{var F=(oW(a,B,n)||"").split(";;");F[g-1]?I=F[g-1]:I+="SH33TJSERRX"}o.push(I);break}z||(z={Name:"SH33TJSERRY"}),o.push(z.Name);break;case"PtgParen":var Y="(",te=")";if(v>=0){switch(j="",e[0][v][1][0]){case 2:Y=rn(" ",e[0][v][1][1])+Y;break;case 3:Y=rn("\r",e[0][v][1][1])+Y;break;case 4:te=rn(" ",e[0][v][1][1])+te;break;case 5:te=rn("\r",e[0][v][1][1])+te;break;default:if(n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}v=-1}o.push(Y+o.pop()+te);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":m={c:w[1][1],r:w[1][0]};var ue={c:s.c,r:s.r};if(a.sharedf[Gs(m)]){var Z=a.sharedf[Gs(m)];o.push(wx(Z,l,ue,a,n))}else{var ie=!1;for(u=0;u!=a.arrayf.length;++u)if(d=a.arrayf[u],!(m.c<d[0].s.c||m.c>d[0].e.c)&&!(m.r<d[0].s.r||m.r>d[0].e.r)){o.push(wx(d[1],l,ue,a,n)),ie=!0;break}ie||o.push(w[1])}break;case"PtgArray":o.push("{"+DCe(w[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":v=N;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(w));default:throw new Error("Unrecognized Formula Token: "+String(w))}var G=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(n.biff!=3&&v>=0&&G.indexOf(e[0][N][0])==-1){w=e[0][v];var ee=!0;switch(w[1][0]){case 4:ee=!1;case 0:j=rn(" ",w[1][1]);break;case 5:ee=!1;case 1:j=rn("\r",w[1][1]);break;default:if(j="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}o.push((ee?j:"")+o.pop()+(ee?"":j)),v=-1}}if(o.length>1&&n.WTF)throw new Error("bad formula stack");return o[0]}function LCe(e){if(e==null){var t=pt(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return m0(e);return m0(0)}function ICe(e,t,s,a,n){var i=f0(t,s,n),l=LCe(e.v),o=pt(6),u=33;o.write_shift(2,u),o.write_shift(4,0);for(var d=pt(e.bf.length),m=0;m<e.bf.length;++m)d[m]=e.bf[m];var f=Ri([i,l,o,d]);return f}function Rw(e,t,s){var a=e.read_shift(4),n=PCe(e,a,s),i=e.read_shift(4),l=i>0?OCe(e,i,n,s):null;return[n,l]}var FCe=Rw,Mw=Rw,BCe=Rw,UCe=Rw,zCe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},cW={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},$Ce={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function HCe(e){var t="of:="+e.replace(Gk,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function qCe(e){return e.replace(/\./,"!")}var vv=typeof Map<"u";function Zk(e,t,s){var a=0,n=e.length;if(s){if(vv?s.has(t):Object.prototype.hasOwnProperty.call(s,t)){for(var i=vv?s.get(t):s[t];a<i.length;++a)if(e[i[a]].t===t)return e.Count++,i[a]}}else for(;a<n;++a)if(e[a].t===t)return e.Count++,a;return e[n]={t},e.Count++,e.Unique++,s&&(vv?(s.has(t)||s.set(t,[]),s.get(t).push(n)):(Object.prototype.hasOwnProperty.call(s,t)||(s[t]=[]),s[t].push(n))),n}function Lw(e,t){var s={min:e+1,max:e+1},a=-1;return t.MDW&&(oh=t.MDW),t.width!=null?s.customWidth=1:t.wpx!=null?a=Zj(t.wpx):t.wch!=null&&(a=t.wch),a>-1?(s.width=PA(a),s.customWidth=1):t.width!=null&&(s.width=t.width),t.hidden&&(s.hidden=!0),t.level!=null&&(s.outlineLevel=s.level=t.level),s}function dW(e,t){if(e){var s=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=s[0]),e.right==null&&(e.right=s[1]),e.top==null&&(e.top=s[2]),e.bottom==null&&(e.bottom=s[3]),e.header==null&&(e.header=s[4]),e.footer==null&&(e.footer=s[5])}}function Qm(e,t,s){var a=s.revssf[t.z!=null?t.z:"General"],n=60,i=e.length;if(a==null&&s.ssf){for(;n<392;++n)if(s.ssf[n]==null){nV(t.z,n),s.ssf[n]=t.z,s.revssf[t.z]=a=n;break}}for(n=0;n!=i;++n)if(e[n].numFmtId===a)return n;return e[i]={numFmtId:a,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function VCe(e,t,s){if(e&&e["!ref"]){var a=_a(e["!ref"]);if(a.e.c<a.s.c||a.e.r<a.s.r)throw new Error("Bad range ("+s+"): "+e["!ref"])}}function WCe(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',s=0;s!=e.length;++s)t+='<mergeCell ref="'+Rn(e[s])+'"/>';return t+"</mergeCells>"}function GCe(e,t,s,a,n){var i=!1,l={},o=null;if(a.bookType!=="xlsx"&&t.vbaraw){var u=t.SheetNames[s];try{t.Workbook&&(u=t.Workbook.Sheets[s].CodeName||u)}catch{}i=!0,l.codeName=Wv(Ws(u))}if(e&&e["!outline"]){var d={summaryBelow:1,summaryRight:1};e["!outline"].above&&(d.summaryBelow=0),e["!outline"].left&&(d.summaryRight=0),o=(o||"")+It("outlinePr",null,d)}!i&&!o||(n[n.length]=It("sheetPr",o,l))}var KCe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],YCe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function ZCe(e){var t={sheet:1};return KCe.forEach(function(s){e[s]!=null&&e[s]&&(t[s]="1")}),YCe.forEach(function(s){e[s]!=null&&!e[s]&&(t[s]="0")}),e.password&&(t.password=GV(e.password).toString(16).toUpperCase()),It("sheetProtection",null,t)}function XCe(e){return dW(e),It("pageMargins",null,e)}function JCe(e,t){for(var s=["<cols>"],a,n=0;n!=t.length;++n)(a=t[n])&&(s[s.length]=It("col",null,Lw(n,a)));return s[s.length]="</cols>",s.join("")}function QCe(e,t,s,a){var n=typeof e.ref=="string"?e.ref:Rn(e.ref);s.Workbook||(s.Workbook={Sheets:[]}),s.Workbook.Names||(s.Workbook.Names=[]);var i=s.Workbook.Names,l=zo(n);l.s.r==l.e.r&&(l.e.r=zo(t["!ref"]).e.r,n=Rn(l));for(var o=0;o<i.length;++o){var u=i[o];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==a){u.Ref="'"+s.SheetNames[a]+"'!"+n;break}}return o==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+s.SheetNames[a]+"'!"+n}),It("autoFilter",null,{ref:n})}function eke(e,t,s,a){var n={workbookViewId:"0"};return(((a||{}).Workbook||{}).Views||[])[0]&&(n.rightToLeft=a.Workbook.Views[0].RTL?"1":"0"),It("sheetViews",It("sheetView",null,n),{})}function tke(e,t,s,a){if(e.c&&s["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var n="",i=e.t,l=e.v;if(e.t!=="z")switch(e.t){case"b":n=e.v?"1":"0";break;case"n":n=""+e.v;break;case"e":n=Ry[e.v];break;case"d":a&&a.cellDates?n=Sl(e.v,-1).toISOString():(e=ro(e),e.t="n",n=""+(e.v=to(Sl(e.v)))),typeof e.z>"u"&&(e.z=sn[14]);break;default:n=e.v;break}var o=Mi("v",Ws(n)),u={r:t},d=Qm(a.cellXfs,e,a);switch(d!==0&&(u.s=d),e.t){case"n":break;case"d":u.t="d";break;case"b":u.t="b";break;case"e":u.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(a&&a.bookSST){o=Mi("v",""+Zk(a.Strings,e.v,a.revStrings)),u.t="s";break}u.t="str";break}if(e.t!=i&&(e.t=i,e.v=l),typeof e.f=="string"&&e.f){var m=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;o=It("f",Ws(e.f),m)+(e.v!=null?o:"")}return e.l&&s["!links"].push([t,e.l]),e.D&&(u.cm=1),It("c",o,u)}function rke(e,t,s,a){var n=[],i=[],l=_a(e["!ref"]),o="",u,d="",m=[],f=0,g=0,p=e["!rows"],y=Array.isArray(e),v={r:d},j,N=-1;for(g=l.s.c;g<=l.e.c;++g)m[g]=sl(g);for(f=l.s.r;f<=l.e.r;++f){for(i=[],d=Li(f),g=l.s.c;g<=l.e.c;++g){u=m[g]+d;var k=y?(e[f]||[])[g]:e[u];k!==void 0&&(o=tke(k,u,e,t))!=null&&i.push(o)}(i.length>0||p&&p[f])&&(v={r:d},p&&p[f]&&(j=p[f],j.hidden&&(v.hidden=1),N=-1,j.hpx?N=Xj(j.hpx):j.hpt&&(N=j.hpt),N>-1&&(v.ht=N,v.customHeight=1),j.level&&(v.outlineLevel=j.level)),n[n.length]=It("row",i.join(""),v))}if(p)for(;f<p.length;++f)p&&p[f]&&(v={r:f+1},j=p[f],j.hidden&&(v.hidden=1),N=-1,j.hpx?N=Xj(j.hpx):j.hpt&&(N=j.hpt),N>-1&&(v.ht=N,v.customHeight=1),j.level&&(v.outlineLevel=j.level),n[n.length]=It("row","",v));return n.join("")}function uW(e,t,s,a){var n=[Ln,It("worksheet",null,{xmlns:Xx[0],"xmlns:r":fi.r})],i=s.SheetNames[e],l=0,o="",u=s.Sheets[i];u==null&&(u={});var d=u["!ref"]||"A1",m=_a(d);if(m.e.c>16383||m.e.r>1048575){if(t.WTF)throw new Error("Range "+d+" exceeds format limit A1:XFD1048576");m.e.c=Math.min(m.e.c,16383),m.e.r=Math.min(m.e.c,1048575),d=Rn(m)}a||(a={}),u["!comments"]=[];var f=[];GCe(u,s,e,t,n),n[n.length]=It("dimension",null,{ref:d}),n[n.length]=eke(u,t,e,s),t.sheetFormat&&(n[n.length]=It("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),u["!cols"]!=null&&u["!cols"].length>0&&(n[n.length]=JCe(u,u["!cols"])),n[l=n.length]="<sheetData/>",u["!links"]=[],u["!ref"]!=null&&(o=rke(u,t),o.length>0&&(n[n.length]=o)),n.length>l+1&&(n[n.length]="</sheetData>",n[l]=n[l].replace("/>",">")),u["!protect"]&&(n[n.length]=ZCe(u["!protect"])),u["!autofilter"]!=null&&(n[n.length]=QCe(u["!autofilter"],u,s,e)),u["!merges"]!=null&&u["!merges"].length>0&&(n[n.length]=WCe(u["!merges"]));var g=-1,p,y=-1;return u["!links"].length>0&&(n[n.length]="<hyperlinks>",u["!links"].forEach(function(v){v[1].Target&&(p={ref:v[0]},v[1].Target.charAt(0)!="#"&&(y=Us(a,-1,Ws(v[1].Target).replace(/#.*$/,""),Ns.HLINK),p["r:id"]="rId"+y),(g=v[1].Target.indexOf("#"))>-1&&(p.location=Ws(v[1].Target.slice(g+1))),v[1].Tooltip&&(p.tooltip=Ws(v[1].Tooltip)),n[n.length]=It("hyperlink",null,p))}),n[n.length]="</hyperlinks>"),delete u["!links"],u["!margins"]!=null&&(n[n.length]=XCe(u["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(n[n.length]=Mi("ignoredErrors",It("ignoredError",null,{numberStoredAsText:1,sqref:d}))),f.length>0&&(y=Us(a,-1,"../drawings/drawing"+(e+1)+".xml",Ns.DRAW),n[n.length]=It("drawing",null,{"r:id":"rId"+y}),u["!drawing"]=f),u["!comments"].length>0&&(y=Us(a,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Ns.VML),n[n.length]=It("legacyDrawing",null,{"r:id":"rId"+y}),u["!legacy"]=y),n.length>1&&(n[n.length]="</worksheet>",n[1]=n[1].replace("/>",">")),n.join("")}function ske(e,t){var s={},a=e.l+t;s.r=e.read_shift(4),e.l+=4;var n=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=a,i&7&&(s.level=i&7),i&16&&(s.hidden=!0),i&32&&(s.hpt=n/20),s}function ake(e,t,s){var a=pt(145),n=(s["!rows"]||[])[e]||{};a.write_shift(4,e),a.write_shift(4,0);var i=320;n.hpx?i=Xj(n.hpx)*20:n.hpt&&(i=n.hpt*20),a.write_shift(2,i),a.write_shift(1,0);var l=0;n.level&&(l|=n.level),n.hidden&&(l|=16),(n.hpx||n.hpt)&&(l|=32),a.write_shift(1,l),a.write_shift(1,0);var o=0,u=a.l;a.l+=4;for(var d={r:e,c:0},m=0;m<16;++m)if(!(t.s.c>m+1<<10||t.e.c<m<<10)){for(var f=-1,g=-1,p=m<<10;p<m+1<<10;++p){d.c=p;var y=Array.isArray(s)?(s[d.r]||[])[d.c]:s[Gs(d)];y&&(f<0&&(f=p),g=p)}f<0||(++o,a.write_shift(4,f),a.write_shift(4,g))}var v=a.l;return a.l=u,a.write_shift(4,o),a.l=v,a.length>a.l?a.slice(0,a.l):a}function nke(e,t,s,a){var n=ake(a,s,t);(n.length>17||(t["!rows"]||[])[a])&&kt(e,0,n)}var ike=A0,lke=Qx;function oke(){}function cke(e,t){var s={},a=e[e.l];return++e.l,s.above=!(a&64),s.left=!(a&128),e.l+=18,s.name=y_e(e),s}function dke(e,t,s){s==null&&(s=pt(84+4*e.length));var a=192;t&&(t.above&&(a&=-65),t.left&&(a&=-129)),s.write_shift(1,a);for(var n=1;n<3;++n)s.write_shift(1,0);return Gj({auto:1},s),s.write_shift(-4,-1),s.write_shift(-4,-1),AV(e,s),s.slice(0,s.l)}function uke(e){var t=Tc(e);return[t]}function hke(e,t,s){return s==null&&(s=pt(8)),w0(t,s)}function mke(e){var t=S0(e);return[t]}function fke(e,t,s){return s==null&&(s=pt(4)),_0(t,s)}function pke(e){var t=Tc(e),s=e.read_shift(1);return[t,s,"b"]}function xke(e,t,s){return s==null&&(s=pt(9)),w0(t,s),s.write_shift(1,e.v?1:0),s}function gke(e){var t=S0(e),s=e.read_shift(1);return[t,s,"b"]}function vke(e,t,s){return s==null&&(s=pt(5)),_0(t,s),s.write_shift(1,e.v?1:0),s}function yke(e){var t=Tc(e),s=e.read_shift(1);return[t,s,"e"]}function bke(e,t,s){return s==null&&(s=pt(9)),w0(t,s),s.write_shift(1,e.v),s}function jke(e){var t=S0(e),s=e.read_shift(1);return[t,s,"e"]}function Nke(e,t,s){return s==null&&(s=pt(8)),_0(t,s),s.write_shift(1,e.v),s.write_shift(2,0),s.write_shift(1,0),s}function wke(e){var t=Tc(e),s=e.read_shift(4);return[t,s,"s"]}function Ske(e,t,s){return s==null&&(s=pt(12)),w0(t,s),s.write_shift(4,t.v),s}function _ke(e){var t=S0(e),s=e.read_shift(4);return[t,s,"s"]}function Ake(e,t,s){return s==null&&(s=pt(8)),_0(t,s),s.write_shift(4,t.v),s}function Cke(e){var t=Tc(e),s=eg(e);return[t,s,"n"]}function kke(e,t,s){return s==null&&(s=pt(16)),w0(t,s),m0(e.v,s),s}function Tke(e){var t=S0(e),s=eg(e);return[t,s,"n"]}function Eke(e,t,s){return s==null&&(s=pt(12)),_0(t,s),m0(e.v,s),s}function Oke(e){var t=Tc(e),s=CV(e);return[t,s,"n"]}function Pke(e,t,s){return s==null&&(s=pt(12)),w0(t,s),kV(e.v,s),s}function Dke(e){var t=S0(e),s=CV(e);return[t,s,"n"]}function Rke(e,t,s){return s==null&&(s=pt(8)),_0(t,s),kV(e.v,s),s}function Mke(e){var t=Tc(e),s=$k(e);return[t,s,"is"]}function Lke(e){var t=Tc(e),s=al(e);return[t,s,"str"]}function Ike(e,t,s){return s==null&&(s=pt(12+4*e.v.length)),w0(t,s),gi(e.v,s),s.length>s.l?s.slice(0,s.l):s}function Fke(e){var t=S0(e),s=al(e);return[t,s,"str"]}function Bke(e,t,s){return s==null&&(s=pt(8+4*e.v.length)),_0(t,s),gi(e.v,s),s.length>s.l?s.slice(0,s.l):s}function Uke(e,t,s){var a=e.l+t,n=Tc(e);n.r=s["!row"];var i=e.read_shift(1),l=[n,i,"b"];if(s.cellFormula){e.l+=2;var o=Mw(e,a-e.l,s);l[3]=wx(o,null,n,s.supbooks,s)}else e.l=a;return l}function zke(e,t,s){var a=e.l+t,n=Tc(e);n.r=s["!row"];var i=e.read_shift(1),l=[n,i,"e"];if(s.cellFormula){e.l+=2;var o=Mw(e,a-e.l,s);l[3]=wx(o,null,n,s.supbooks,s)}else e.l=a;return l}function $ke(e,t,s){var a=e.l+t,n=Tc(e);n.r=s["!row"];var i=eg(e),l=[n,i,"n"];if(s.cellFormula){e.l+=2;var o=Mw(e,a-e.l,s);l[3]=wx(o,null,n,s.supbooks,s)}else e.l=a;return l}function Hke(e,t,s){var a=e.l+t,n=Tc(e);n.r=s["!row"];var i=al(e),l=[n,i,"str"];if(s.cellFormula){e.l+=2;var o=Mw(e,a-e.l,s);l[3]=wx(o,null,n,s.supbooks,s)}else e.l=a;return l}var qke=A0,Vke=Qx;function Wke(e,t){return t==null&&(t=pt(4)),t.write_shift(4,e),t}function Gke(e,t){var s=e.l+t,a=A0(e),n=Hk(e),i=al(e),l=al(e),o=al(e);e.l=s;var u={rfx:a,relId:n,loc:i,display:o};return l&&(u.Tooltip=l),u}function Kke(e,t){var s=pt(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Qx({s:xi(e[0]),e:xi(e[0])},s),qk("rId"+t,s);var a=e[1].Target.indexOf("#"),n=a==-1?"":e[1].Target.slice(a+1);return gi(n||"",s),gi(e[1].Tooltip||"",s),gi("",s),s.slice(0,s.l)}function Yke(){}function Zke(e,t,s){var a=e.l+t,n=TV(e),i=e.read_shift(1),l=[n];if(l[2]=i,s.cellFormula){var o=FCe(e,a-e.l,s);l[1]=o}else e.l=a;return l}function Xke(e,t,s){var a=e.l+t,n=A0(e),i=[n];if(s.cellFormula){var l=UCe(e,a-e.l,s);i[1]=l,e.l=a}else e.l=a;return i}function Jke(e,t,s){s==null&&(s=pt(18));var a=Lw(e,t);s.write_shift(-4,e),s.write_shift(-4,e),s.write_shift(4,(a.width||10)*256),s.write_shift(4,0);var n=0;return t.hidden&&(n|=1),typeof a.width=="number"&&(n|=2),t.level&&(n|=t.level<<8),s.write_shift(2,n),s}var hW=["left","right","top","bottom","header","footer"];function Qke(e){var t={};return hW.forEach(function(s){t[s]=eg(e)}),t}function eTe(e,t){return t==null&&(t=pt(48)),dW(e),hW.forEach(function(s){m0(e[s],t)}),t}function tTe(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function rTe(e,t,s){s==null&&(s=pt(30));var a=924;return(((t||{}).Views||[])[0]||{}).RTL&&(a|=32),s.write_shift(2,a),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(1,0),s.write_shift(1,0),s.write_shift(2,0),s.write_shift(2,100),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(4,0),s}function sTe(e){var t=pt(24);return t.write_shift(4,4),t.write_shift(4,1),Qx(e,t),t}function aTe(e,t){return t==null&&(t=pt(66)),t.write_shift(2,e.password?GV(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(s){s[1]?t.write_shift(4,e[s[0]]!=null&&!e[s[0]]?1:0):t.write_shift(4,e[s[0]]!=null&&e[s[0]]?0:1)}),t}function nTe(){}function iTe(){}function lTe(e,t,s,a,n,i,l){if(t.v===void 0)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":t=ro(t),t.z=t.z||sn[14],t.v=to(Sl(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v;break}var u={r:s,c:a};switch(u.s=Qm(n.cellXfs,t,n),t.l&&i["!links"].push([Gs(u),t.l]),t.c&&i["!comments"].push([Gs(u),t.c]),t.t){case"s":case"str":return n.bookSST?(o=Zk(n.Strings,t.v,n.revStrings),u.t="s",u.v=o,l?kt(e,18,Ake(t,u)):kt(e,7,Ske(t,u))):(u.t="str",l?kt(e,17,Bke(t,u)):kt(e,6,Ike(t,u))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?l?kt(e,13,Rke(t,u)):kt(e,2,Pke(t,u)):l?kt(e,16,Eke(t,u)):kt(e,5,kke(t,u)),!0;case"b":return u.t="b",l?kt(e,15,vke(t,u)):kt(e,4,xke(t,u)),!0;case"e":return u.t="e",l?kt(e,14,Nke(t,u)):kt(e,3,bke(t,u)),!0}return l?kt(e,12,fke(t,u)):kt(e,1,hke(t,u)),!0}function oTe(e,t,s,a){var n=_a(t["!ref"]||"A1"),i,l="",o=[];kt(e,145);var u=Array.isArray(t),d=n.e.r;t["!rows"]&&(d=Math.max(n.e.r,t["!rows"].length-1));for(var m=n.s.r;m<=d;++m){l=Li(m),nke(e,t,n,m);var f=!1;if(m<=n.e.r)for(var g=n.s.c;g<=n.e.c;++g){m===n.s.r&&(o[g]=sl(g)),i=o[g]+l;var p=u?(t[m]||[])[g]:t[i];if(!p){f=!1;continue}f=lTe(e,p,m,g,a,t,f)}}kt(e,146)}function cTe(e,t){!t||!t["!merges"]||(kt(e,177,Wke(t["!merges"].length)),t["!merges"].forEach(function(s){kt(e,176,Vke(s))}),kt(e,178))}function dTe(e,t){!t||!t["!cols"]||(kt(e,390),t["!cols"].forEach(function(s,a){s&&kt(e,60,Jke(a,s))}),kt(e,391))}function uTe(e,t){!t||!t["!ref"]||(kt(e,648),kt(e,649,sTe(_a(t["!ref"]))),kt(e,650))}function hTe(e,t,s){t["!links"].forEach(function(a){if(a[1].Target){var n=Us(s,-1,a[1].Target.replace(/#.*$/,""),Ns.HLINK);kt(e,494,Kke(a,n))}}),delete t["!links"]}function mTe(e,t,s,a){if(t["!comments"].length>0){var n=Us(a,-1,"../drawings/vmlDrawing"+(s+1)+".vml",Ns.VML);kt(e,551,qk("rId"+n)),t["!legacy"]=n}}function fTe(e,t,s,a){if(t["!autofilter"]){var n=t["!autofilter"],i=typeof n.ref=="string"?n.ref:Rn(n.ref);s.Workbook||(s.Workbook={Sheets:[]}),s.Workbook.Names||(s.Workbook.Names=[]);var l=s.Workbook.Names,o=zo(i);o.s.r==o.e.r&&(o.e.r=zo(t["!ref"]).e.r,i=Rn(o));for(var u=0;u<l.length;++u){var d=l[u];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==a){d.Ref="'"+s.SheetNames[a]+"'!"+i;break}}u==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+s.SheetNames[a]+"'!"+i}),kt(e,161,Qx(_a(i))),kt(e,162)}}function pTe(e,t,s){kt(e,133),kt(e,137,rTe(t,s)),kt(e,138),kt(e,134)}function xTe(e,t){t["!protect"]&&kt(e,535,aTe(t["!protect"]))}function gTe(e,t,s,a){var n=Ql(),i=s.SheetNames[e],l=s.Sheets[i]||{},o=i;try{s&&s.Workbook&&(o=s.Workbook.Sheets[e].CodeName||o)}catch{}var u=_a(l["!ref"]||"A1");if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575)}return l["!links"]=[],l["!comments"]=[],kt(n,129),(s.vbaraw||l["!outline"])&&kt(n,147,dke(o,l["!outline"])),kt(n,148,lke(u)),pTe(n,l,s.Workbook),dTe(n,l),oTe(n,l,e,t),xTe(n,l),fTe(n,l,s,e),cTe(n,l),hTe(n,l,a),l["!margins"]&&kt(n,476,eTe(l["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&uTe(n,l),mTe(n,l,e,a),kt(n,130),n.end()}function vTe(e,t){e.l+=10;var s=al(e);return{name:s}}var yTe=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function bTe(e){return!e.Workbook||!e.Workbook.WBProps?"false":X3e(e.Workbook.WBProps.date1904)?"true":"false"}var jTe="][*?/\\".split("");function mW(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var s=!0;return jTe.forEach(function(a){if(e.indexOf(a)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),s}function NTe(e,t,s){e.forEach(function(a,n){mW(a);for(var i=0;i<n;++i)if(a==e[i])throw new Error("Duplicate Sheet Name: "+a);if(s){var l=t&&t[n]&&t[n].CodeName||a;if(l.charCodeAt(0)==95&&l.length>22)throw new Error("Bad Code Name: Worksheet"+l)}})}function wTe(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];NTe(e.SheetNames,t,!!e.vbaraw);for(var s=0;s<e.SheetNames.length;++s)VCe(e.Sheets[e.SheetNames[s]],e.SheetNames[s],s)}function fW(e){var t=[Ln];t[t.length]=It("workbook",null,{xmlns:Xx[0],"xmlns:r":fi.r});var s=e.Workbook&&(e.Workbook.Names||[]).length>0,a={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(yTe.forEach(function(o){e.Workbook.WBProps[o[0]]!=null&&e.Workbook.WBProps[o[0]]!=o[1]&&(a[o[0]]=e.Workbook.WBProps[o[0]])}),e.Workbook.WBProps.CodeName&&(a.codeName=e.Workbook.WBProps.CodeName,delete a.CodeName)),t[t.length]=It("workbookPr",null,a);var n=e.Workbook&&e.Workbook.Sheets||[],i=0;if(n&&n[0]&&n[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!n[i]||!n[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var l={name:Ws(e.SheetNames[i].slice(0,31))};if(l.sheetId=""+(i+1),l["r:id"]="rId"+(i+1),n[i])switch(n[i].Hidden){case 1:l.state="hidden";break;case 2:l.state="veryHidden";break}t[t.length]=It("sheet",null,l)}return t[t.length]="</sheets>",s&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(o){var u={name:o.Name};o.Comment&&(u.comment=o.Comment),o.Sheet!=null&&(u.localSheetId=""+o.Sheet),o.Hidden&&(u.hidden="1"),o.Ref&&(t[t.length]=It("definedName",Ws(o.Ref),u))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function STe(e,t){var s={};return s.Hidden=e.read_shift(4),s.iTabID=e.read_shift(4),s.strRelID=OA(e),s.name=al(e),s}function _Te(e,t){return t||(t=pt(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),qk(e.strRelID,t),gi(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function ATe(e,t){var s={},a=e.read_shift(4);s.defaultThemeVersion=e.read_shift(4);var n=t>8?al(e):"";return n.length>0&&(s.CodeName=n),s.autoCompressPictures=!!(a&65536),s.backupFile=!!(a&64),s.checkCompatibility=!!(a&4096),s.date1904=!!(a&1),s.filterPrivacy=!!(a&8),s.hidePivotFieldList=!!(a&1024),s.promptedSolutions=!!(a&16),s.publishItems=!!(a&2048),s.refreshAllConnections=!!(a&262144),s.saveExternalLinkValues=!!(a&128),s.showBorderUnselectedTables=!!(a&4),s.showInkAnnotation=!!(a&32),s.showObjects=["all","placeholders","none"][a>>13&3],s.showPivotChartFilter=!!(a&32768),s.updateLinks=["userSet","never","always"][a>>8&3],s}function CTe(e,t){t||(t=pt(72));var s=0;return e&&e.filterPrivacy&&(s|=8),t.write_shift(4,s),t.write_shift(4,0),AV(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function kTe(e,t,s){var a=e.l+t;e.l+=4,e.l+=1;var n=e.read_shift(4),i=b_e(e),l=BCe(e,0,s),o=Hk(e);e.l=a;var u={Name:i,Ptg:l};return n<268435455&&(u.Sheet=n),o&&(u.Comment=o),u}function TTe(e,t){kt(e,143);for(var s=0;s!=t.SheetNames.length;++s){var a=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[s]&&t.Workbook.Sheets[s].Hidden||0,n={Hidden:a,iTabID:s+1,strRelID:"rId"+(s+1),name:t.SheetNames[s]};kt(e,156,_Te(n))}kt(e,144)}function ETe(e,t){t||(t=pt(127));for(var s=0;s!=4;++s)t.write_shift(4,0);return gi("SheetJS",t),gi(Bj.version,t),gi(Bj.version,t),gi("7262",t),t.length>t.l?t.slice(0,t.l):t}function OTe(e,t){t||(t=pt(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var s=120;return t.write_shift(1,s),t.length>t.l?t.slice(0,t.l):t}function PTe(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var s=t.Workbook.Sheets,a=0,n=-1,i=-1;a<s.length;++a)!s[a]||!s[a].Hidden&&n==-1?n=a:s[a].Hidden==1&&i==-1&&(i=a);i>n||(kt(e,135),kt(e,158,OTe(n)),kt(e,136))}}function DTe(e,t){var s=Ql();return kt(s,131),kt(s,128,ETe()),kt(s,153,CTe(e.Workbook&&e.Workbook.WBProps||null)),PTe(s,e),TTe(s,e),kt(s,132),s.end()}function RTe(e,t,s){return(t.slice(-4)===".bin"?DTe:fW)(e)}function MTe(e,t,s,a,n){return(t.slice(-4)===".bin"?gTe:uW)(e,s,a,n)}function LTe(e,t,s){return(t.slice(-4)===".bin"?e6e:ZV)(e,s)}function ITe(e,t,s){return(t.slice(-4)===".bin"?CAe:WV)(e,s)}function FTe(e,t,s){return(t.slice(-4)===".bin"?x6e:tW)(e)}function BTe(e){return(e.slice(-4)===".bin"?o6e:QV)()}function UTe(e,t){var s=[];return e.Props&&s.push(L_e(e.Props,t)),e.Custprops&&s.push(I_e(e.Props,e.Custprops)),s.join("")}function zTe(){return""}function $Te(e,t){var s=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(a,n){var i=[];i.push(It("NumberFormat",null,{"ss:Format":Ws(sn[a.numFmtId])}));var l={"ss:ID":"s"+(21+n)};s.push(It("Style",i.join(""),l))}),It("Styles",s.join(""))}function pW(e){return It("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+Kk(e.Ref,{r:0,c:0})})}function HTe(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,s=[],a=0;a<t.length;++a){var n=t[a];n.Sheet==null&&(n.Name.match(/^_xlfn\./)||s.push(pW(n)))}return It("Names",s.join(""))}function qTe(e,t,s,a){if(!e||!((a||{}).Workbook||{}).Names)return"";for(var n=a.Workbook.Names,i=[],l=0;l<n.length;++l){var o=n[l];o.Sheet==s&&(o.Name.match(/^_xlfn\./)||i.push(pW(o)))}return i.join("")}function VTe(e,t,s,a){if(!e)return"";var n=[];if(e["!margins"]&&(n.push("<PageSetup>"),e["!margins"].header&&n.push(It("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&n.push(It("Footer",null,{"x:Margin":e["!margins"].footer})),n.push(It("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),n.push("</PageSetup>")),a&&a.Workbook&&a.Workbook.Sheets&&a.Workbook.Sheets[s])if(a.Workbook.Sheets[s].Hidden)n.push(It("Visible",a.Workbook.Sheets[s].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<s&&!(a.Workbook.Sheets[i]&&!a.Workbook.Sheets[i].Hidden);++i);i==s&&n.push("<Selected/>")}return((((a||{}).Workbook||{}).Views||[])[0]||{}).RTL&&n.push("<DisplayRightToLeft/>"),e["!protect"]&&(n.push(Mi("ProtectContents","True")),e["!protect"].objects&&n.push(Mi("ProtectObjects","True")),e["!protect"].scenarios&&n.push(Mi("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?n.push(Mi("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&n.push(Mi("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(l){e["!protect"][l[0]]&&n.push("<"+l[1]+"/>")})),n.length==0?"":It("WorksheetOptions",n.join(""),{xmlns:ko.x})}function WTe(e){return e.map(function(t){var s=Z3e(t.t||""),a=It("ss:Data",s,{xmlns:"http://www.w3.org/TR/REC-html40"});return It("Comment",a,{"ss:Author":t.a})}).join("")}function GTe(e,t,s,a,n,i,l){if(!e||e.v==null&&e.f==null)return"";var o={};if(e.f&&(o["ss:Formula"]="="+Ws(Kk(e.f,l))),e.F&&e.F.slice(0,t.length)==t){var u=xi(e.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(u.r==l.r?"":"["+(u.r-l.r)+"]")+"C"+(u.c==l.c?"":"["+(u.c-l.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=Ws(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=Ws(e.l.Tooltip))),s["!merges"])for(var d=s["!merges"],m=0;m!=d.length;++m)d[m].s.c!=l.c||d[m].s.r!=l.r||(d[m].e.c>d[m].s.c&&(o["ss:MergeAcross"]=d[m].e.c-d[m].s.c),d[m].e.r>d[m].s.r&&(o["ss:MergeDown"]=d[m].e.r-d[m].s.r));var f="",g="";switch(e.t){case"z":if(!a.sheetStubs)return"";break;case"n":f="Number",g=String(e.v);break;case"b":f="Boolean",g=e.v?"1":"0";break;case"e":f="Error",g=Ry[e.v];break;case"d":f="DateTime",g=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||sn[14]);break;case"s":f="String",g=Y3e(e.v||"");break}var p=Qm(a.cellXfs,e,a);o["ss:StyleID"]="s"+(21+p),o["ss:Index"]=l.c+1;var y=e.v!=null?g:"",v=e.t=="z"?"":'<Data ss:Type="'+f+'">'+y+"</Data>";return(e.c||[]).length>0&&(v+=WTe(e.c)),It("Cell",v,o)}function KTe(e,t){var s='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=YV(t.hpt)),t.hpx&&(s+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(s+=' ss:Hidden="1"')),s+">"}function YTe(e,t,s,a){if(!e["!ref"])return"";var n=_a(e["!ref"]),i=e["!merges"]||[],l=0,o=[];e["!cols"]&&e["!cols"].forEach(function(j,N){Wk(j);var k=!!j.width,w=Lw(N,j),A={"ss:Index":N+1};k&&(A["ss:Width"]=Yj(w.width)),j.hidden&&(A["ss:Hidden"]="1"),o.push(It("Column",null,A))});for(var u=Array.isArray(e),d=n.s.r;d<=n.e.r;++d){for(var m=[KTe(d,(e["!rows"]||[])[d])],f=n.s.c;f<=n.e.c;++f){var g=!1;for(l=0;l!=i.length;++l)if(!(i[l].s.c>f)&&!(i[l].s.r>d)&&!(i[l].e.c<f)&&!(i[l].e.r<d)){(i[l].s.c!=f||i[l].s.r!=d)&&(g=!0);break}if(!g){var p={r:d,c:f},y=Gs(p),v=u?(e[d]||[])[f]:e[y];m.push(GTe(v,y,e,t,s,a,p))}}m.push("</Row>"),m.length>2&&o.push(m.join(""))}return o.join("")}function ZTe(e,t,s){var a=[],n=s.SheetNames[e],i=s.Sheets[n],l=i?qTe(i,t,e,s):"";return l.length>0&&a.push("<Names>"+l+"</Names>"),l=i?YTe(i,t,e,s):"",l.length>0&&a.push("<Table>"+l+"</Table>"),a.push(VTe(i,t,e,s)),a.join("")}function XTe(e,t){t||(t={}),e.SSF||(e.SSF=ro(sn)),e.SSF&&(Ow(),Ew(e.SSF),t.revssf=Pw(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Qm(t.cellXfs,{},{revssf:{General:0}}));var s=[];s.push(UTe(e,t)),s.push(zTe()),s.push(""),s.push("");for(var a=0;a<e.SheetNames.length;++a)s.push(It("Worksheet",ZTe(a,t,e),{"ss:Name":Ws(e.SheetNames[a])}));return s[2]=$Te(e,t),s[3]=HTe(e),Ln+It("Workbook",s.join(""),{xmlns:ko.ss,"xmlns:o":ko.o,"xmlns:x":ko.x,"xmlns:ss":ko.ss,"xmlns:dt":ko.dt,"xmlns:html":ko.html})}var b3={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function JTe(e,t){var s=[],a=[],n=[],i=0,l,o=AL(BL,"n"),u=AL(UL,"n");if(e.Props)for(l=Ui(e.Props),i=0;i<l.length;++i)(Object.prototype.hasOwnProperty.call(o,l[i])?s:Object.prototype.hasOwnProperty.call(u,l[i])?a:n).push([l[i],e.Props[l[i]]]);if(e.Custprops)for(l=Ui(e.Custprops),i=0;i<l.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},l[i])||(Object.prototype.hasOwnProperty.call(o,l[i])?s:Object.prototype.hasOwnProperty.call(u,l[i])?a:n).push([l[i],e.Custprops[l[i]]]);var d=[];for(i=0;i<n.length;++i)BV.indexOf(n[i][0])>-1||LV.indexOf(n[i][0])>-1||n[i][1]!=null&&d.push(n[i]);a.length&&sa.utils.cfb_add(t,"/SummaryInformation",VL(a,b3.SI,u,UL)),(s.length||d.length)&&sa.utils.cfb_add(t,"/DocumentSummaryInformation",VL(s,b3.DSI,o,BL,d.length?d:null,b3.UDI))}function QTe(e,t){var s=t||{},a=sa.utils.cfb_new({root:"R"}),n="/Workbook";switch(s.bookType||"xls"){case"xls":s.bookType="biff8";case"xla":s.bookType||(s.bookType="xla");case"biff8":n="/Workbook",s.biff=8;break;case"biff5":n="/Book",s.biff=5;break;default:throw new Error("invalid type "+s.bookType+" for XLS CFB")}return sa.utils.cfb_add(a,n,xW(e,s)),s.biff==8&&(e.Props||e.Custprops)&&JTe(e,a),s.biff==8&&e.vbaraw&&g6e(a,sa.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),a}var eEe={0:{f:ske},1:{f:uke},2:{f:Oke},3:{f:yke},4:{f:pke},5:{f:Cke},6:{f:Lke},7:{f:wke},8:{f:Hke},9:{f:$ke},10:{f:Uke},11:{f:zke},12:{f:mke},13:{f:Dke},14:{f:jke},15:{f:gke},16:{f:Tke},17:{f:Fke},18:{f:_ke},19:{f:$k},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:kTe},40:{},42:{},43:{f:LAe},44:{f:RAe},45:{f:BAe},46:{f:zAe},47:{f:UAe},48:{},49:{f:m_e},50:{},51:{f:s6e},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:fAe},62:{f:Mke},63:{f:c6e},64:{f:nTe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:uu,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:tTe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:cke},148:{f:ike,p:16},151:{f:Yke},152:{},153:{f:ATe},154:{},155:{},156:{f:STe},157:{},158:{},159:{T:1,f:SAe},160:{T:-1},161:{T:1,f:A0},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:qke},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:t6e},336:{T:-1},337:{f:i6e,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:OA},357:{},358:{},359:{},360:{T:1},361:{},362:{f:oAe},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Zke},427:{f:Xke},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Qke},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:oke},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Gke},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:OA},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:f6e},633:{T:1},634:{T:-1},635:{T:1,f:h6e},636:{T:-1},637:{f:g_e},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:vTe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:iTe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Bt(e,t,s,a){var n=t;if(!isNaN(n)){var i=a||(s||[]).length||0,l=e.next(4);l.write_shift(2,n),l.write_shift(2,i),i>0&&Bk(s)&&e.push(s)}}function tEe(e,t,s,a){var n=(s||[]).length||0;if(n<=8224)return Bt(e,t,s,n);var i=t;if(!isNaN(i)){for(var l=s.parts||[],o=0,u=0,d=0;d+(l[o]||8224)<=8224;)d+=l[o]||8224,o++;var m=e.next(4);for(m.write_shift(2,i),m.write_shift(2,d),e.push(s.slice(u,u+d)),u+=d;u<n;){for(m=e.next(4),m.write_shift(2,60),d=0;d+(l[o]||8224)<=8224;)d+=l[o]||8224,o++;m.write_shift(2,d),e.push(s.slice(u,u+d)),u+=d}}}function Ly(e,t,s){return e||(e=pt(7)),e.write_shift(2,t),e.write_shift(2,s),e.write_shift(2,0),e.write_shift(1,0),e}function rEe(e,t,s,a){var n=pt(9);return Ly(n,e,t),zV(s,a||"b",n),n}function sEe(e,t,s){var a=pt(8+2*s.length);return Ly(a,e,t),a.write_shift(1,s.length),a.write_shift(s.length,s,"sbcs"),a.l<a.length?a.slice(0,a.l):a}function aEe(e,t,s,a){if(t.v!=null)switch(t.t){case"d":case"n":var n=t.t=="d"?to(Sl(t.v)):t.v;n==(n|0)&&n>=0&&n<65536?Bt(e,2,vAe(s,a,n)):Bt(e,3,gAe(s,a,n));return;case"b":case"e":Bt(e,5,rEe(s,a,t.v,t.t));return;case"s":case"str":Bt(e,4,sEe(s,a,(t.v||"").slice(0,255)));return}Bt(e,1,Ly(null,s,a))}function nEe(e,t,s,a){var n=Array.isArray(t),i=_a(t["!ref"]||"A1"),l,o="",u=[];if(i.e.c>255||i.e.r>16383){if(a.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),l=Rn(i)}for(var d=i.s.r;d<=i.e.r;++d){o=Li(d);for(var m=i.s.c;m<=i.e.c;++m){d===i.s.r&&(u[m]=sl(m)),l=u[m]+o;var f=n?(t[d]||[])[m]:t[l];f&&aEe(e,f,d,m)}}}function iEe(e,t){for(var s=t||{},a=Ql(),n=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==s.sheet&&(n=i);if(n==0&&s.sheet&&e.SheetNames[0]!=s.sheet)throw new Error("Sheet not found: "+s.sheet);return Bt(a,s.biff==4?1033:s.biff==3?521:9,Vk(e,16,s)),nEe(a,e.Sheets[e.SheetNames[n]],n,s),Bt(a,10),a.end()}function lEe(e,t,s){Bt(e,49,eAe({sz:12,name:"Arial"},s))}function oEe(e,t,s){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var n=a[0];n<=a[1];++n)t[n]!=null&&Bt(e,1054,sAe(n,t[n],s))})}function cEe(e,t){var s=pt(19);s.write_shift(4,2151),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(2,3),s.write_shift(1,1),s.write_shift(4,0),Bt(e,2151,s),s=pt(39),s.write_shift(4,2152),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(2,3),s.write_shift(1,0),s.write_shift(4,0),s.write_shift(2,1),s.write_shift(4,4),s.write_shift(2,0),qV(_a(t["!ref"]||"A1"),s),s.write_shift(4,4),Bt(e,2152,s)}function dEe(e,t){for(var s=0;s<16;++s)Bt(e,224,GL({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(a){Bt(e,224,GL(a,0,t))})}function uEe(e,t){for(var s=0;s<t["!links"].length;++s){var a=t["!links"][s];Bt(e,440,uAe(a)),a[1].Tooltip&&Bt(e,2048,hAe(a))}delete t["!links"]}function hEe(e,t){if(t){var s=0;t.forEach(function(a,n){++s<=256&&a&&Bt(e,125,pAe(Lw(n,a),n))})}}function mEe(e,t,s,a,n){var i=16+Qm(n.cellXfs,t,n);if(t.v==null&&!t.bf){Bt(e,513,f0(s,a,i));return}if(t.bf)Bt(e,6,ICe(t,s,a,n,i));else switch(t.t){case"d":case"n":var l=t.t=="d"?to(Sl(t.v)):t.v;Bt(e,515,lAe(s,a,l,i));break;case"b":case"e":Bt(e,517,iAe(s,a,t.v,i,n,t.t));break;case"s":case"str":if(n.bookSST){var o=Zk(n.Strings,t.v,n.revStrings);Bt(e,253,tAe(s,a,o,i))}else Bt(e,516,rAe(s,a,(t.v||"").slice(0,255),i,n));break;default:Bt(e,513,f0(s,a,i))}}function fEe(e,t,s){var a=Ql(),n=s.SheetNames[e],i=s.Sheets[n]||{},l=(s||{}).Workbook||{},o=(l.Sheets||[])[e]||{},u=Array.isArray(i),d=t.biff==8,m,f="",g=[],p=_a(i["!ref"]||"A1"),y=d?65536:16384;if(p.e.c>255||p.e.r>=y){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,y-1)}Bt(a,2057,Vk(s,16,t)),Bt(a,13,fc(1)),Bt(a,12,fc(100)),Bt(a,15,vl(!0)),Bt(a,17,vl(!1)),Bt(a,16,m0(.001)),Bt(a,95,vl(!0)),Bt(a,42,vl(!1)),Bt(a,43,vl(!1)),Bt(a,130,fc(1)),Bt(a,128,nAe()),Bt(a,131,vl(!1)),Bt(a,132,vl(!1)),d&&hEe(a,i["!cols"]),Bt(a,512,aAe(p,t)),d&&(i["!links"]=[]);for(var v=p.s.r;v<=p.e.r;++v){f=Li(v);for(var j=p.s.c;j<=p.e.c;++j){v===p.s.r&&(g[j]=sl(j)),m=g[j]+f;var N=u?(i[v]||[])[j]:i[m];N&&(mEe(a,N,v,j,t),d&&N.l&&i["!links"].push([m,N.l]))}}var k=o.CodeName||o.name||n;return d&&Bt(a,574,Q_e((l.Views||[])[0])),d&&(i["!merges"]||[]).length&&Bt(a,229,dAe(i["!merges"])),d&&uEe(a,i),Bt(a,442,HV(k)),d&&cEe(a,i),Bt(a,10),a.end()}function pEe(e,t,s){var a=Ql(),n=(e||{}).Workbook||{},i=n.Sheets||[],l=n.WBProps||{},o=s.biff==8,u=s.biff==5;if(Bt(a,2057,Vk(e,5,s)),s.bookType=="xla"&&Bt(a,135),Bt(a,225,o?fc(1200):null),Bt(a,193,U_e(2)),u&&Bt(a,191),u&&Bt(a,192),Bt(a,226),Bt(a,92,Y_e("SheetJS",s)),Bt(a,66,fc(o?1200:1252)),o&&Bt(a,353,fc(0)),o&&Bt(a,448),Bt(a,317,xAe(e.SheetNames.length)),o&&e.vbaraw&&Bt(a,211),o&&e.vbaraw){var d=l.CodeName||"ThisWorkbook";Bt(a,442,HV(d))}Bt(a,156,fc(17)),Bt(a,25,vl(!1)),Bt(a,18,vl(!1)),Bt(a,19,fc(0)),o&&Bt(a,431,vl(!1)),o&&Bt(a,444,fc(0)),Bt(a,61,J_e()),Bt(a,64,vl(!1)),Bt(a,141,fc(0)),Bt(a,34,vl(bTe(e)=="true")),Bt(a,14,vl(!0)),o&&Bt(a,439,vl(!1)),Bt(a,218,fc(0)),lEe(a,e,s),oEe(a,e.SSF,s),dEe(a,s),o&&Bt(a,352,vl(!1));var m=a.end(),f=Ql();o&&Bt(f,140,mAe()),o&&s.Strings&&tEe(f,252,X_e(s.Strings)),Bt(f,10);var g=f.end(),p=Ql(),y=0,v=0;for(v=0;v<e.SheetNames.length;++v)y+=(o?12:11)+(o?2:1)*e.SheetNames[v].length;var j=m.length+y+g.length;for(v=0;v<e.SheetNames.length;++v){var N=i[v]||{};Bt(p,133,Z_e({pos:j,hs:N.Hidden||0,dt:0,name:e.SheetNames[v]},s)),j+=t[v].length}var k=p.end();if(y!=k.length)throw new Error("BS8 "+y+" != "+k.length);var w=[];return m.length&&w.push(m),k.length&&w.push(k),g.length&&w.push(g),Ri(w)}function xEe(e,t){var s=t||{},a=[];e&&!e.SSF&&(e.SSF=ro(sn)),e&&e.SSF&&(Ow(),Ew(e.SSF),s.revssf=Pw(e.SSF),s.revssf[e.SSF[65535]]=0,s.ssf=e.SSF),s.Strings=[],s.Strings.Count=0,s.Strings.Unique=0,Xk(s),s.cellXfs=[],Qm(s.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var n=0;n<e.SheetNames.length;++n)a[a.length]=fEe(n,s,e);return a.unshift(pEe(e,a,s)),Ri(a)}function xW(e,t){for(var s=0;s<=e.SheetNames.length;++s){var a=e.Sheets[e.SheetNames[s]];if(!(!a||!a["!ref"])){var n=zo(a["!ref"]);n.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[s]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return xEe(e,t);case 4:case 3:case 2:return iEe(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function gEe(e,t,s,a){for(var n=e["!merges"]||[],i=[],l=t.s.c;l<=t.e.c;++l){for(var o=0,u=0,d=0;d<n.length;++d)if(!(n[d].s.r>s||n[d].s.c>l)&&!(n[d].e.r<s||n[d].e.c<l)){if(n[d].s.r<s||n[d].s.c<l){o=-1;break}o=n[d].e.r-n[d].s.r+1,u=n[d].e.c-n[d].s.c+1;break}if(!(o<0)){var m=Gs({r:s,c:l}),f=a.dense?(e[s]||[])[l]:e[m],g=f&&f.v!=null&&(f.h||K3e(f.w||(Nh(f),f.w)||""))||"",p={};o>1&&(p.rowspan=o),u>1&&(p.colspan=u),a.editable?g='<span contenteditable="true">'+g+"</span>":f&&(p["data-t"]=f&&f.t||"z",f.v!=null&&(p["data-v"]=f.v),f.z!=null&&(p["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(g='<a href="'+f.l.Target+'">'+g+"</a>")),p.id=(a.id||"sjs")+"-"+m,i.push(It("td",g,p))}}var y="<tr>";return y+i.join("")+"</tr>"}var vEe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',yEe="</body></html>";function bEe(e,t,s){var a=[];return a.join("")+"<table"+(s&&s.id?' id="'+s.id+'"':"")+">"}function gW(e,t){var s=t||{},a=s.header!=null?s.header:vEe,n=s.footer!=null?s.footer:yEe,i=[a],l=zo(e["!ref"]);s.dense=Array.isArray(e),i.push(bEe(e,l,s));for(var o=l.s.r;o<=l.e.r;++o)i.push(gEe(e,l,o,s));return i.push("</table>"+n),i.join("")}function vW(e,t,s){var a=s||{},n=0,i=0;if(a.origin!=null)if(typeof a.origin=="number")n=a.origin;else{var l=typeof a.origin=="string"?xi(a.origin):a.origin;n=l.r,i=l.c}var o=t.getElementsByTagName("tr"),u=Math.min(a.sheetRows||1e7,o.length),d={s:{r:0,c:0},e:{r:n,c:i}};if(e["!ref"]){var m=zo(e["!ref"]);d.s.r=Math.min(d.s.r,m.s.r),d.s.c=Math.min(d.s.c,m.s.c),d.e.r=Math.max(d.e.r,m.e.r),d.e.c=Math.max(d.e.c,m.e.c),n==-1&&(d.e.r=n=m.e.r+1)}var f=[],g=0,p=e["!rows"]||(e["!rows"]=[]),y=0,v=0,j=0,N=0,k=0,w=0;for(e["!cols"]||(e["!cols"]=[]);y<o.length&&v<u;++y){var A=o[y];if(eI(A)){if(a.display)continue;p[v]={hidden:!0}}var C=A.children;for(j=N=0;j<C.length;++j){var M=C[j];if(!(a.display&&eI(M))){var R=M.hasAttribute("data-v")?M.getAttribute("data-v"):M.hasAttribute("v")?M.getAttribute("v"):J3e(M.innerHTML),D=M.getAttribute("data-z")||M.getAttribute("z");for(g=0;g<f.length;++g){var B=f[g];B.s.c==N+i&&B.s.r<v+n&&v+n<=B.e.r&&(N=B.e.c+1-i,g=-1)}w=+M.getAttribute("colspan")||1,((k=+M.getAttribute("rowspan")||1)>1||w>1)&&f.push({s:{r:v+n,c:N+i},e:{r:v+n+(k||1)-1,c:N+i+(w||1)-1}});var z={t:"s",v:R},I=M.getAttribute("data-t")||M.getAttribute("t")||"";R!=null&&(R.length==0?z.t=I||"z":a.raw||R.trim().length==0||I=="s"||(R==="TRUE"?z={t:"b",v:!0}:R==="FALSE"?z={t:"b",v:!1}:isNaN(lh(R))?isNaN(Vv(R).getDate())||(z={t:"d",v:Sl(R)},a.cellDates||(z={t:"n",v:to(z.v)}),z.z=a.dateNF||sn[14]):z={t:"n",v:lh(R)})),z.z===void 0&&D!=null&&(z.z=D);var F="",Y=M.getElementsByTagName("A");if(Y&&Y.length)for(var te=0;te<Y.length&&!(Y[te].hasAttribute("href")&&(F=Y[te].getAttribute("href"),F.charAt(0)!="#"));++te);F&&F.charAt(0)!="#"&&(z.l={Target:F}),a.dense?(e[v+n]||(e[v+n]=[]),e[v+n][N+i]=z):e[Gs({c:N+i,r:v+n})]=z,d.e.c<N+i&&(d.e.c=N+i),N+=w}}++v}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),d.e.r=Math.max(d.e.r,v-1+n),e["!ref"]=Rn(d),v>=u&&(e["!fullref"]=Rn((d.e.r=o.length-y+v-1+n,d))),e}function yW(e,t){var s=t||{},a=s.dense?[]:{};return vW(a,e,t)}function jEe(e,t){return N0(yW(e,t),t)}function eI(e){var t="",s=NEe(e);return s&&(t=s(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function NEe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var wEe=(function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Gv({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Ln+t}})(),tI=(function(){var e=function(i){return Ws(i).replace(/  +/g,function(l){return'<text:s text:c="'+l.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,s=`          <table:covered-table-cell/>
`,a=function(i,l,o){var u=[];u.push('      <table:table table:name="'+Ws(l.SheetNames[o])+`" table:style-name="ta1">
`);var d=0,m=0,f=zo(i["!ref"]||"A1"),g=i["!merges"]||[],p=0,y=Array.isArray(i);if(i["!cols"])for(m=0;m<=f.e.c;++m)u.push("        <table:table-column"+(i["!cols"][m]?' table:style-name="co'+i["!cols"][m].ods+'"':"")+`></table:table-column>
`);var v="",j=i["!rows"]||[];for(d=0;d<f.s.r;++d)v=j[d]?' table:style-name="ro'+j[d].ods+'"':"",u.push("        <table:table-row"+v+`></table:table-row>
`);for(;d<=f.e.r;++d){for(v=j[d]?' table:style-name="ro'+j[d].ods+'"':"",u.push("        <table:table-row"+v+`>
`),m=0;m<f.s.c;++m)u.push(t);for(;m<=f.e.c;++m){var N=!1,k={},w="";for(p=0;p!=g.length;++p)if(!(g[p].s.c>m)&&!(g[p].s.r>d)&&!(g[p].e.c<m)&&!(g[p].e.r<d)){(g[p].s.c!=m||g[p].s.r!=d)&&(N=!0),k["table:number-columns-spanned"]=g[p].e.c-g[p].s.c+1,k["table:number-rows-spanned"]=g[p].e.r-g[p].s.r+1;break}if(N){u.push(s);continue}var A=Gs({r:d,c:m}),C=y?(i[d]||[])[m]:i[A];if(C&&C.f&&(k["table:formula"]=Ws(HCe(C.f)),C.F&&C.F.slice(0,A.length)==A)){var M=zo(C.F);k["table:number-matrix-columns-spanned"]=M.e.c-M.s.c+1,k["table:number-matrix-rows-spanned"]=M.e.r-M.s.r+1}if(!C){u.push(t);continue}switch(C.t){case"b":w=C.v?"TRUE":"FALSE",k["office:value-type"]="boolean",k["office:boolean-value"]=C.v?"true":"false";break;case"n":w=C.w||String(C.v||0),k["office:value-type"]="float",k["office:value"]=C.v||0;break;case"s":case"str":w=C.v==null?"":C.v,k["office:value-type"]="string";break;case"d":w=C.w||Sl(C.v).toISOString(),k["office:value-type"]="date",k["office:date-value"]=Sl(C.v).toISOString(),k["table:style-name"]="ce1";break;default:u.push(t);continue}var R=e(w);if(C.l&&C.l.Target){var D=C.l.Target;D=D.charAt(0)=="#"?"#"+qCe(D.slice(1)):D,D.charAt(0)!="#"&&!D.match(/^\w+:/)&&(D="../"+D),R=It("text:a",R,{"xlink:href":D.replace(/&/g,"&amp;")})}u.push("          "+It("table:table-cell",It("text:p",R,{}),k)+`
`)}u.push(`        </table:table-row>
`)}return u.push(`      </table:table>
`),u.join("")},n=function(i,l){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var o=0;l.SheetNames.map(function(d){return l.Sheets[d]}).forEach(function(d){if(d&&d["!cols"]){for(var m=0;m<d["!cols"].length;++m)if(d["!cols"][m]){var f=d["!cols"][m];if(f.width==null&&f.wpx==null&&f.wch==null)continue;Wk(f),f.ods=o;var g=d["!cols"][m].wpx+"px";i.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+g+`"/>
`),i.push(`  </style:style>
`),++o}}});var u=0;l.SheetNames.map(function(d){return l.Sheets[d]}).forEach(function(d){if(d&&d["!rows"]){for(var m=0;m<d["!rows"].length;++m)if(d["!rows"][m]){d["!rows"][m].ods=u;var f=d["!rows"][m].hpx+"px";i.push('  <style:style style:name="ro'+u+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),i.push(`  </style:style>
`),++u}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(l,o){var u=[Ln],d=Gv({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),m=Gv({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(u.push("<office:document"+d+m+`>
`),u.push(RV().replace(/office:document-meta/g,"office:meta"))):u.push("<office:document-content"+d+`>
`),n(u,l),u.push(`  <office:body>
`),u.push(`    <office:spreadsheet>
`);for(var f=0;f!=l.SheetNames.length;++f)u.push(a(l.Sheets[l.SheetNames[f]],l,f));return u.push(`    </office:spreadsheet>
`),u.push(`  </office:body>
`),o.bookType=="fods"?u.push("</office:document>"):u.push("</office:document-content>"),u.join("")}})();function bW(e,t){if(t.bookType=="fods")return tI(e,t);var s=Mk(),a="",n=[],i=[];return a="mimetype",Hr(s,a,"application/vnd.oasis.opendocument.spreadsheet"),a="content.xml",Hr(s,a,tI(e,t)),n.push([a,"text/xml"]),i.push([a,"ContentFile"]),a="styles.xml",Hr(s,a,wEe(e,t)),n.push([a,"text/xml"]),i.push([a,"StylesFile"]),a="meta.xml",Hr(s,a,Ln+RV()),n.push([a,"text/xml"]),i.push([a,"MetadataFile"]),a="manifest.rdf",Hr(s,a,M_e(i)),n.push([a,"application/rdf+xml"]),a="META-INF/manifest.xml",Hr(s,a,D_e(n)),s}function Jj(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function SEe(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):hd(Wv(e))}function _Ee(e,t){e:for(var s=0;s<=e.length-t.length;++s){for(var a=0;a<t.length;++a)if(e[s+a]!=t[a])continue e;return!0}return!1}function $m(e){var t=e.reduce(function(n,i){return n+i.length},0),s=new Uint8Array(t),a=0;return e.forEach(function(n){s.set(n,a),a+=n.length}),s}function AEe(e,t,s){var a=Math.floor(s==0?0:Math.LOG10E*Math.log(Math.abs(s)))+6176-20,n=s/Math.pow(10,a-6176);e[t+15]|=a>>7,e[t+14]|=(a&127)<<1;for(var i=0;n>=1;++i,n/=256)e[t+i]=n&255;e[t+15]|=s>=0?0:128}function Kv(e,t){var s=t?t[0]:0,a=e[s]&127;e:if(e[s++]>=128&&(a|=(e[s]&127)<<7,e[s++]<128||(a|=(e[s]&127)<<14,e[s++]<128)||(a|=(e[s]&127)<<21,e[s++]<128)||(a+=(e[s]&127)*Math.pow(2,28),++s,e[s++]<128)||(a+=(e[s]&127)*Math.pow(2,35),++s,e[s++]<128)||(a+=(e[s]&127)*Math.pow(2,42),++s,e[s++]<128)))break e;return t&&(t[0]=s),a}function Bs(e){var t=new Uint8Array(7);t[0]=e&127;var s=1;e:if(e>127){if(t[s-1]|=128,t[s]=e>>7&127,++s,e<=16383||(t[s-1]|=128,t[s]=e>>14&127,++s,e<=2097151)||(t[s-1]|=128,t[s]=e>>21&127,++s,e<=268435455)||(t[s-1]|=128,t[s]=e/256>>>21&127,++s,e<=34359738367)||(t[s-1]|=128,t[s]=e/65536>>>21&127,++s,e<=4398046511103))break e;t[s-1]|=128,t[s]=e/16777216>>>21&127,++s}return t.slice(0,s)}function ax(e){var t=0,s=e[t]&127;e:if(e[t++]>=128){if(s|=(e[t]&127)<<7,e[t++]<128||(s|=(e[t]&127)<<14,e[t++]<128)||(s|=(e[t]&127)<<21,e[t++]<128))break e;s|=(e[t]&127)<<28}return s}function Gn(e){for(var t=[],s=[0];s[0]<e.length;){var a=s[0],n=Kv(e,s),i=n&7;n=Math.floor(n/8);var l=0,o;if(n==0)break;switch(i){case 0:{for(var u=s[0];e[s[0]++]>=128;);o=e.slice(u,s[0])}break;case 5:l=4,o=e.slice(s[0],s[0]+l),s[0]+=l;break;case 1:l=8,o=e.slice(s[0],s[0]+l),s[0]+=l;break;case 2:l=Kv(e,s),o=e.slice(s[0],s[0]+l),s[0]+=l;break;default:throw new Error("PB Type ".concat(i," for Field ").concat(n," at offset ").concat(a))}var d={data:o,type:i};t[n]==null?t[n]=[d]:t[n].push(d)}return t}function Ei(e){var t=[];return e.forEach(function(s,a){s.forEach(function(n){n.data&&(t.push(Bs(a*8+n.type)),n.type==2&&t.push(Bs(n.data.length)),t.push(n.data))})}),$m(t)}function rd(e){for(var t,s=[],a=[0];a[0]<e.length;){var n=Kv(e,a),i=Gn(e.slice(a[0],a[0]+n));a[0]+=n;var l={id:ax(i[1][0].data),messages:[]};i[2].forEach(function(o){var u=Gn(o.data),d=ax(u[3][0].data);l.messages.push({meta:u,data:e.slice(a[0],a[0]+d)}),a[0]+=d}),(t=i[3])!=null&&t[0]&&(l.merge=ax(i[3][0].data)>>>0>0),s.push(l)}return s}function Sp(e){var t=[];return e.forEach(function(s){var a=[];a[1]=[{data:Bs(s.id),type:0}],a[2]=[],s.merge!=null&&(a[3]=[{data:Bs(+!!s.merge),type:0}]);var n=[];s.messages.forEach(function(l){n.push(l.data),l.meta[3]=[{type:0,data:Bs(l.data.length)}],a[2].push({data:Ei(l.meta),type:2})});var i=Ei(a);t.push(Bs(i.length)),t.push(i),n.forEach(function(l){return t.push(l)})}),$m(t)}function CEe(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var s=[0],a=Kv(t,s),n=[];s[0]<t.length;){var i=t[s[0]]&3;if(i==0){var l=t[s[0]++]>>2;if(l<60)++l;else{var o=l-59;l=t[s[0]],o>1&&(l|=t[s[0]+1]<<8),o>2&&(l|=t[s[0]+2]<<16),o>3&&(l|=t[s[0]+3]<<24),l>>>=0,l++,s[0]+=o}n.push(t.slice(s[0],s[0]+l)),s[0]+=l;continue}else{var u=0,d=0;if(i==1?(d=(t[s[0]]>>2&7)+4,u=(t[s[0]++]&224)<<3,u|=t[s[0]++]):(d=(t[s[0]++]>>2)+1,i==2?(u=t[s[0]]|t[s[0]+1]<<8,s[0]+=2):(u=(t[s[0]]|t[s[0]+1]<<8|t[s[0]+2]<<16|t[s[0]+3]<<24)>>>0,s[0]+=4)),n=[$m(n)],u==0)throw new Error("Invalid offset 0");if(u>n[0].length)throw new Error("Invalid offset beyond length");if(d>=u)for(n.push(n[0].slice(-u)),d-=u;d>=n[n.length-1].length;)n.push(n[n.length-1]),d-=n[n.length-1].length;n.push(n[0].slice(-u,-u+d))}}var m=$m(n);if(m.length!=a)throw new Error("Unexpected length: ".concat(m.length," != ").concat(a));return m}function sd(e){for(var t=[],s=0;s<e.length;){var a=e[s++],n=e[s]|e[s+1]<<8|e[s+2]<<16;s+=3,t.push(CEe(a,e.slice(s,s+n))),s+=n}if(s!==e.length)throw new Error("data is not a valid framed stream!");return $m(t)}function _p(e){for(var t=[],s=0;s<e.length;){var a=Math.min(e.length-s,268435455),n=new Uint8Array(4);t.push(n);var i=Bs(a),l=i.length;t.push(i),a<=60?(l++,t.push(new Uint8Array([a-1<<2]))):a<=256?(l+=2,t.push(new Uint8Array([240,a-1&255]))):a<=65536?(l+=3,t.push(new Uint8Array([244,a-1&255,a-1>>8&255]))):a<=16777216?(l+=4,t.push(new Uint8Array([248,a-1&255,a-1>>8&255,a-1>>16&255]))):a<=4294967296&&(l+=5,t.push(new Uint8Array([252,a-1&255,a-1>>8&255,a-1>>16&255,a-1>>>24&255]))),t.push(e.slice(s,s+a)),l+=a,n[0]=0,n[1]=l&255,n[2]=l>>8&255,n[3]=l>>16&255,s+=a}return $m(t)}function j3(e,t){var s=new Uint8Array(32),a=Jj(s),n=12,i=0;switch(s[0]=5,e.t){case"n":s[1]=2,AEe(s,n,e.v),i|=1,n+=16;break;case"b":s[1]=6,a.setFloat64(n,e.v?1:0,!0),i|=2,n+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));s[1]=3,a.setUint32(n,t.indexOf(e.v),!0),i|=8,n+=4;break;default:throw"unsupported cell type "+e.t}return a.setUint32(8,i,!0),s.slice(0,n)}function N3(e,t){var s=new Uint8Array(32),a=Jj(s),n=12,i=0;switch(s[0]=3,e.t){case"n":s[2]=2,a.setFloat64(n,e.v,!0),i|=32,n+=8;break;case"b":s[2]=6,a.setFloat64(n,e.v?1:0,!0),i|=32,n+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));s[2]=3,a.setUint32(n,t.indexOf(e.v),!0),i|=16,n+=4;break;default:throw"unsupported cell type "+e.t}return a.setUint32(4,i,!0),s.slice(0,n)}function gm(e){var t=Gn(e);return Kv(t[1][0].data)}function kEe(e,t,s){var a,n,i,l;if(!((a=e[6])!=null&&a[0])||!((n=e[7])!=null&&n[0]))throw"Mutation only works on post-BNC storages!";var o=((l=(i=e[8])==null?void 0:i[0])==null?void 0:l.data)&&ax(e[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var u=0,d=Jj(e[7][0].data),m=0,f=[],g=Jj(e[4][0].data),p=0,y=[],v=0;v<t.length;++v){if(t[v]==null){d.setUint16(v*2,65535,!0),g.setUint16(v*2,65535);continue}d.setUint16(v*2,m,!0),g.setUint16(v*2,p,!0);var j,N;switch(typeof t[v]){case"string":j=j3({t:"s",v:t[v]},s),N=N3({t:"s",v:t[v]},s);break;case"number":j=j3({t:"n",v:t[v]},s),N=N3({t:"n",v:t[v]},s);break;case"boolean":j=j3({t:"b",v:t[v]},s),N=N3({t:"b",v:t[v]},s);break;default:throw new Error("Unsupported value "+t[v])}f.push(j),m+=j.length,y.push(N),p+=N.length,++u}for(e[2][0].data=Bs(u);v<e[7][0].data.length/2;++v)d.setUint16(v*2,65535,!0),g.setUint16(v*2,65535,!0);return e[6][0].data=$m(f),e[3][0].data=$m(y),u}function TEe(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var s=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var a=zo(s["!ref"]);a.s.r=a.s.c=0;var n=!1;a.e.c>9&&(n=!0,a.e.c=9),a.e.r>49&&(n=!0,a.e.r=49),n&&console.error("The Numbers writer is currently limited to ".concat(Rn(a)));var i=Qj(s,{range:a,header:1}),l=["~Sh33tJ5~"];i.forEach(function(H){return H.forEach(function(q){typeof q=="string"&&l.push(q)})});var o={},u=[],d=sa.read(t.numbers,{type:"base64"});d.FileIndex.map(function(H,q){return[H,d.FullPaths[q]]}).forEach(function(H){var q=H[0],W=H[1];if(q.type==2&&q.name.match(/\.iwa/)){var le=q.content,Se=sd(le),Pe=rd(Se);Pe.forEach(function(re){u.push(re.id),o[re.id]={deps:[],location:W,type:ax(re.messages[0].meta[1][0].data)}})}}),u.sort(function(H,q){return H-q});var m=u.filter(function(H){return H>1}).map(function(H){return[H,Bs(H)]});d.FileIndex.map(function(H,q){return[H,d.FullPaths[q]]}).forEach(function(H){var q=H[0];if(H[1],!!q.name.match(/\.iwa/)){var W=rd(sd(q.content));W.forEach(function(le){le.messages.forEach(function(Se){m.forEach(function(Pe){le.messages.some(function(re){return ax(re.meta[1][0].data)!=11006&&_Ee(re.data,Pe[1])})&&o[Pe[0]].deps.push(le.id)})})})}});for(var f=sa.find(d,o[1].location),g=rd(sd(f.content)),p,y=0;y<g.length;++y){var v=g[y];v.id==1&&(p=v)}var j=gm(Gn(p.messages[0].data)[1][0].data);for(f=sa.find(d,o[j].location),g=rd(sd(f.content)),y=0;y<g.length;++y)v=g[y],v.id==j&&(p=v);for(j=gm(Gn(p.messages[0].data)[2][0].data),f=sa.find(d,o[j].location),g=rd(sd(f.content)),y=0;y<g.length;++y)v=g[y],v.id==j&&(p=v);for(j=gm(Gn(p.messages[0].data)[2][0].data),f=sa.find(d,o[j].location),g=rd(sd(f.content)),y=0;y<g.length;++y)v=g[y],v.id==j&&(p=v);var N=Gn(p.messages[0].data);{N[6][0].data=Bs(a.e.r+1),N[7][0].data=Bs(a.e.c+1);var k=gm(N[46][0].data),w=sa.find(d,o[k].location),A=rd(sd(w.content));{for(var C=0;C<A.length&&A[C].id!=k;++C);if(A[C].id!=k)throw"Bad ColumnRowUIDMapArchive";var M=Gn(A[C].messages[0].data);M[1]=[],M[2]=[],M[3]=[];for(var R=0;R<=a.e.c;++R){var D=[];D[1]=D[2]=[{type:0,data:Bs(R+420690)}],M[1].push({type:2,data:Ei(D)}),M[2].push({type:0,data:Bs(R)}),M[3].push({type:0,data:Bs(R)})}M[4]=[],M[5]=[],M[6]=[];for(var B=0;B<=a.e.r;++B)D=[],D[1]=D[2]=[{type:0,data:Bs(B+726270)}],M[4].push({type:2,data:Ei(D)}),M[5].push({type:0,data:Bs(B)}),M[6].push({type:0,data:Bs(B)});A[C].messages[0].data=Ei(M)}w.content=_p(Sp(A)),w.size=w.content.length,delete N[46];var z=Gn(N[4][0].data);{z[7][0].data=Bs(a.e.r+1);var I=Gn(z[1][0].data),F=gm(I[2][0].data);w=sa.find(d,o[F].location),A=rd(sd(w.content));{if(A[0].id!=F)throw"Bad HeaderStorageBucket";var Y=Gn(A[0].messages[0].data);for(B=0;B<i.length;++B){var te=Gn(Y[2][0].data);te[1][0].data=Bs(B),te[4][0].data=Bs(i[B].length),Y[2][B]={type:Y[2][0].type,data:Ei(te)}}A[0].messages[0].data=Ei(Y)}w.content=_p(Sp(A)),w.size=w.content.length;var ue=gm(z[2][0].data);w=sa.find(d,o[ue].location),A=rd(sd(w.content));{if(A[0].id!=ue)throw"Bad HeaderStorageBucket";for(Y=Gn(A[0].messages[0].data),R=0;R<=a.e.c;++R)te=Gn(Y[2][0].data),te[1][0].data=Bs(R),te[4][0].data=Bs(a.e.r+1),Y[2][R]={type:Y[2][0].type,data:Ei(te)};A[0].messages[0].data=Ei(Y)}w.content=_p(Sp(A)),w.size=w.content.length;var Z=gm(z[4][0].data);(function(){for(var H=sa.find(d,o[Z].location),q=rd(sd(H.content)),W,le=0;le<q.length;++le){var Se=q[le];Se.id==Z&&(W=Se)}var Pe=Gn(W.messages[0].data);{Pe[3]=[];var re=[];l.forEach(function(Ce,it){re[1]=[{type:0,data:Bs(it)}],re[2]=[{type:0,data:Bs(1)}],re[3]=[{type:2,data:SEe(Ce)}],Pe[3].push({type:2,data:Ei(re)})})}W.messages[0].data=Ei(Pe);var ye=Sp(q),ze=_p(ye);H.content=ze,H.size=H.content.length})();var ie=Gn(z[3][0].data);{var G=ie[1][0];delete ie[2];var ee=Gn(G.data);{var Ne=gm(ee[2][0].data);(function(){for(var H=sa.find(d,o[Ne].location),q=rd(sd(H.content)),W,le=0;le<q.length;++le){var Se=q[le];Se.id==Ne&&(W=Se)}var Pe=Gn(W.messages[0].data);{delete Pe[6],delete ie[7];var re=new Uint8Array(Pe[5][0].data);Pe[5]=[];for(var ye=0,ze=0;ze<=a.e.r;++ze){var Ce=Gn(re);ye+=kEe(Ce,i[ze],l),Ce[1][0].data=Bs(ze),Pe[5].push({data:Ei(Ce),type:2})}Pe[1]=[{type:0,data:Bs(a.e.c+1)}],Pe[2]=[{type:0,data:Bs(a.e.r+1)}],Pe[3]=[{type:0,data:Bs(ye)}],Pe[4]=[{type:0,data:Bs(a.e.r+1)}]}W.messages[0].data=Ei(Pe);var it=Sp(q),rt=_p(it);H.content=rt,H.size=H.content.length})()}G.data=Ei(ee)}z[3][0].data=Ei(ie)}N[4][0].data=Ei(z)}p.messages[0].data=Ei(N);var X=Sp(g),P=_p(X);return f.content=P,f.size=f.content.length,d}function EEe(e){return function(s){for(var a=0;a!=e.length;++a){var n=e[a];s[n[0]]===void 0&&(s[n[0]]=n[1]),n[2]==="n"&&(s[n[0]]=Number(s[n[0]]))}}}function Xk(e){EEe([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function OEe(e,t){return t.bookType=="ods"?bW(e,t):t.bookType=="numbers"?TEe(e,t):t.bookType=="xlsb"?PEe(e,t):DEe(e,t)}function PEe(e,t){Wp=1024,e&&!e.SSF&&(e.SSF=ro(sn)),e&&e.SSF&&(Ow(),Ew(e.SSF),t.revssf=Pw(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,vv?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var s=t.bookType=="xlsb"?"bin":"xml",a=rW.indexOf(t.bookType)>-1,n=OV();Xk(t=t||{});var i=Mk(),l="",o=0;if(t.cellXfs=[],Qm(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),l="docProps/core.xml",Hr(i,l,MV(e.Props,t)),n.coreprops.push(l),Us(t.rels,2,l,Ns.CORE_PROPS),l="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var u=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&u.push(e.SheetNames[d]);e.Props.SheetNames=u}for(e.Props.Worksheets=e.Props.SheetNames.length,Hr(i,l,IV(e.Props)),n.extprops.push(l),Us(t.rels,3,l,Ns.EXT_PROPS),e.Custprops!==e.Props&&Ui(e.Custprops||{}).length>0&&(l="docProps/custom.xml",Hr(i,l,FV(e.Custprops)),n.custprops.push(l),Us(t.rels,4,l,Ns.CUST_PROPS)),o=1;o<=e.SheetNames.length;++o){var m={"!id":{}},f=e.Sheets[e.SheetNames[o-1]],g=(f||{})["!type"]||"sheet";if(l="xl/worksheets/sheet"+o+"."+s,Hr(i,l,MTe(o-1,l,t,e,m)),n.sheets.push(l),Us(t.wbrels,-1,"worksheets/sheet"+o+"."+s,Ns.WS[0]),f){var p=f["!comments"],y=!1,v="";p&&p.length>0&&(v="xl/comments"+o+"."+s,Hr(i,v,FTe(p,v)),n.comments.push(v),Us(m,-1,"../comments"+o+"."+s,Ns.CMNT),y=!0),f["!legacy"]&&y&&Hr(i,"xl/drawings/vmlDrawing"+o+".vml",eW(o,f["!comments"])),delete f["!comments"],delete f["!legacy"]}m["!id"].rId1&&Hr(i,DV(l),rx(m))}return t.Strings!=null&&t.Strings.length>0&&(l="xl/sharedStrings."+s,Hr(i,l,ITe(t.Strings,l,t)),n.strs.push(l),Us(t.wbrels,-1,"sharedStrings."+s,Ns.SST)),l="xl/workbook."+s,Hr(i,l,RTe(e,l)),n.workbooks.push(l),Us(t.rels,1,l,Ns.WB),l="xl/theme/theme1.xml",Hr(i,l,JV(e.Themes,t)),n.themes.push(l),Us(t.wbrels,-1,"theme/theme1.xml",Ns.THEME),l="xl/styles."+s,Hr(i,l,LTe(e,l,t)),n.styles.push(l),Us(t.wbrels,-1,"styles."+s,Ns.STY),e.vbaraw&&a&&(l="xl/vbaProject.bin",Hr(i,l,e.vbaraw),n.vba.push(l),Us(t.wbrels,-1,"vbaProject.bin",Ns.VBA)),l="xl/metadata."+s,Hr(i,l,BTe(l)),n.metadata.push(l),Us(t.wbrels,-1,"metadata."+s,Ns.XLMETA),Hr(i,"[Content_Types].xml",PV(n,t)),Hr(i,"_rels/.rels",rx(t.rels)),Hr(i,"xl/_rels/workbook."+s+".rels",rx(t.wbrels)),delete t.revssf,delete t.ssf,i}function DEe(e,t){Wp=1024,e&&!e.SSF&&(e.SSF=ro(sn)),e&&e.SSF&&(Ow(),Ew(e.SSF),t.revssf=Pw(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,vv?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var s="xml",a=rW.indexOf(t.bookType)>-1,n=OV();Xk(t=t||{});var i=Mk(),l="",o=0;if(t.cellXfs=[],Qm(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),l="docProps/core.xml",Hr(i,l,MV(e.Props,t)),n.coreprops.push(l),Us(t.rels,2,l,Ns.CORE_PROPS),l="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var u=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&u.push(e.SheetNames[d]);e.Props.SheetNames=u}e.Props.Worksheets=e.Props.SheetNames.length,Hr(i,l,IV(e.Props)),n.extprops.push(l),Us(t.rels,3,l,Ns.EXT_PROPS),e.Custprops!==e.Props&&Ui(e.Custprops||{}).length>0&&(l="docProps/custom.xml",Hr(i,l,FV(e.Custprops)),n.custprops.push(l),Us(t.rels,4,l,Ns.CUST_PROPS));var m=["SheetJ5"];for(t.tcid=0,o=1;o<=e.SheetNames.length;++o){var f={"!id":{}},g=e.Sheets[e.SheetNames[o-1]],p=(g||{})["!type"]||"sheet";if(l="xl/worksheets/sheet"+o+"."+s,Hr(i,l,uW(o-1,t,e,f)),n.sheets.push(l),Us(t.wbrels,-1,"worksheets/sheet"+o+"."+s,Ns.WS[0]),g){var y=g["!comments"],v=!1,j="";if(y&&y.length>0){var N=!1;y.forEach(function(k){k[1].forEach(function(w){w.T==!0&&(N=!0)})}),N&&(j="xl/threadedComments/threadedComment"+o+"."+s,Hr(i,j,d6e(y,m,t)),n.threadedcomments.push(j),Us(f,-1,"../threadedComments/threadedComment"+o+"."+s,Ns.TCMNT)),j="xl/comments"+o+"."+s,Hr(i,j,tW(y)),n.comments.push(j),Us(f,-1,"../comments"+o+"."+s,Ns.CMNT),v=!0}g["!legacy"]&&v&&Hr(i,"xl/drawings/vmlDrawing"+o+".vml",eW(o,g["!comments"])),delete g["!comments"],delete g["!legacy"]}f["!id"].rId1&&Hr(i,DV(l),rx(f))}return t.Strings!=null&&t.Strings.length>0&&(l="xl/sharedStrings."+s,Hr(i,l,WV(t.Strings,t)),n.strs.push(l),Us(t.wbrels,-1,"sharedStrings."+s,Ns.SST)),l="xl/workbook."+s,Hr(i,l,fW(e)),n.workbooks.push(l),Us(t.rels,1,l,Ns.WB),l="xl/theme/theme1.xml",Hr(i,l,JV(e.Themes,t)),n.themes.push(l),Us(t.wbrels,-1,"theme/theme1.xml",Ns.THEME),l="xl/styles."+s,Hr(i,l,ZV(e,t)),n.styles.push(l),Us(t.wbrels,-1,"styles."+s,Ns.STY),e.vbaraw&&a&&(l="xl/vbaProject.bin",Hr(i,l,e.vbaraw),n.vba.push(l),Us(t.wbrels,-1,"vbaProject.bin",Ns.VBA)),l="xl/metadata."+s,Hr(i,l,QV()),n.metadata.push(l),Us(t.wbrels,-1,"metadata."+s,Ns.XLMETA),m.length>1&&(l="xl/persons/person.xml",Hr(i,l,u6e(m)),n.people.push(l),Us(t.wbrels,-1,"persons/person.xml",Ns.PEOPLE)),Hr(i,"[Content_Types].xml",PV(n,t)),Hr(i,"_rels/.rels",rx(t.rels)),Hr(i,"xl/_rels/workbook."+s+".rels",rx(t.wbrels)),delete t.revssf,delete t.ssf,i}function REe(e,t){var s="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":s=jh(e.slice(0,12));break;case"binary":s=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[s.charCodeAt(0),s.charCodeAt(1),s.charCodeAt(2),s.charCodeAt(3),s.charCodeAt(4),s.charCodeAt(5),s.charCodeAt(6),s.charCodeAt(7)]}function jW(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Py(t.file,sa.write(e,{type:Os?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return sa.write(e,t)}function MEe(e,t){var s=ro(t||{}),a=OEe(e,s);return LEe(a,s)}function LEe(e,t){var s={},a=Os?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(s.compression="DEFLATE"),t.password)s.type=a;else switch(t.type){case"base64":s.type="base64";break;case"binary":s.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":s.type=a;break;default:throw new Error("Unrecognized type "+t.type)}var n=e.FullPaths?sa.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[s.type]||s.type,compression:!!t.compression}):e.generate(s);if(typeof Deno<"u"&&typeof n=="string"){if(t.type=="binary"||t.type=="base64")return n;n=new Uint8Array(Tw(n))}return t.password&&typeof encrypt_agile<"u"?jW(encrypt_agile(n,t.password),t):t.type==="file"?Py(t.file,n):t.type=="string"?fv(n):n}function IEe(e,t){var s=t||{},a=QTe(e,s);return jW(a,s)}function Kd(e,t,s){s||(s="");var a=s+e;switch(t.type){case"base64":return qv(Wv(a));case"binary":return Wv(a);case"string":return e;case"file":return Py(t.file,a,"utf8");case"buffer":return Os?Dh(a,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(a):Kd(a,{type:"binary"}).split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function FEe(e,t){switch(t.type){case"base64":return qv(e);case"binary":return e;case"string":return e;case"file":return Py(t.file,e,"binary");case"buffer":return Os?Dh(e,"binary"):e.split("").map(function(s){return s.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function A1(e,t){switch(t.type){case"string":case"base64":case"binary":for(var s="",a=0;a<e.length;++a)s+=String.fromCharCode(e[a]);return t.type=="base64"?qv(s):t.type=="string"?fv(s):s;case"file":return Py(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function NW(e,t){h3e(),wTe(e);var s=ro(t||{});if(s.cellStyles&&(s.cellNF=!0,s.sheetStubs=!0),s.type=="array"){s.type="binary";var a=NW(e,s);return s.type="array",Tw(a)}var n=0;if(s.sheet&&(typeof s.sheet=="number"?n=s.sheet:n=e.SheetNames.indexOf(s.sheet),!e.SheetNames[n]))throw new Error("Sheet not found: "+s.sheet+" : "+typeof s.sheet);switch(s.bookType||"xlsb"){case"xml":case"xlml":return Kd(XTe(e,s),s);case"slk":case"sylk":return Kd(bAe.from_sheet(e.Sheets[e.SheetNames[n]],s),s);case"htm":case"html":return Kd(gW(e.Sheets[e.SheetNames[n]],s),s);case"txt":return FEe(wW(e.Sheets[e.SheetNames[n]],s),s);case"csv":return Kd(Jk(e.Sheets[e.SheetNames[n]],s),s,"\uFEFF");case"dif":return Kd(jAe.from_sheet(e.Sheets[e.SheetNames[n]],s),s);case"dbf":return A1(yAe.from_sheet(e.Sheets[e.SheetNames[n]],s),s);case"prn":return Kd(NAe.from_sheet(e.Sheets[e.SheetNames[n]],s),s);case"rtf":return Kd(TAe.from_sheet(e.Sheets[e.SheetNames[n]],s),s);case"eth":return Kd(VV.from_sheet(e.Sheets[e.SheetNames[n]],s),s);case"fods":return Kd(bW(e,s),s);case"wk1":return A1(KL.sheet_to_wk1(e.Sheets[e.SheetNames[n]],s),s);case"wk3":return A1(KL.book_to_wk3(e,s),s);case"biff2":s.biff||(s.biff=2);case"biff3":s.biff||(s.biff=3);case"biff4":return s.biff||(s.biff=4),A1(xW(e,s),s);case"biff5":s.biff||(s.biff=5);case"biff8":case"xla":case"xls":return s.biff||(s.biff=8),IEe(e,s);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return MEe(e,s);default:throw new Error("Unrecognized bookType |"+s.bookType+"|")}}function BEe(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},s=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();s.match(/^\.[a-z]+$/)&&(e.bookType=s.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function UEe(e,t,s){var a={};return a.type="file",a.file=t,BEe(a),NW(e,a)}function zEe(e,t,s,a,n,i,l,o){var u=Li(s),d=o.defval,m=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,g=n===1?[]:{};if(n!==1)if(Object.defineProperty)try{Object.defineProperty(g,"__rowNum__",{value:s,enumerable:!1})}catch{g.__rowNum__=s}else g.__rowNum__=s;if(!l||e[s])for(var p=t.s.c;p<=t.e.c;++p){var y=l?e[s][p]:e[a[p]+u];if(y===void 0||y.t===void 0){if(d===void 0)continue;i[p]!=null&&(g[i[p]]=d);continue}var v=y.v;switch(y.t){case"z":if(v==null)break;continue;case"e":v=v==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+y.t)}if(i[p]!=null){if(v==null)if(y.t=="e"&&v===null)g[i[p]]=null;else if(d!==void 0)g[i[p]]=d;else if(m&&v===null)g[i[p]]=null;else continue;else g[i[p]]=m&&(y.t!=="n"||y.t==="n"&&o.rawNumbers!==!1)?v:Nh(y,v,o);v!=null&&(f=!1)}}return{row:g,isempty:f}}function Qj(e,t){if(e==null||e["!ref"]==null)return[];var s={t:"n",v:0},a=0,n=1,i=[],l=0,o="",u={s:{r:0,c:0},e:{r:0,c:0}},d=t||{},m=d.range!=null?d.range:e["!ref"];switch(d.header===1?a=1:d.header==="A"?a=2:Array.isArray(d.header)?a=3:d.header==null&&(a=0),typeof m){case"string":u=_a(m);break;case"number":u=_a(e["!ref"]),u.s.r=m;break;default:u=m}a>0&&(n=0);var f=Li(u.s.r),g=[],p=[],y=0,v=0,j=Array.isArray(e),N=u.s.r,k=0,w={};j&&!e[N]&&(e[N]=[]);var A=d.skipHidden&&e["!cols"]||[],C=d.skipHidden&&e["!rows"]||[];for(k=u.s.c;k<=u.e.c;++k)if(!(A[k]||{}).hidden)switch(g[k]=sl(k),s=j?e[N][k]:e[g[k]+f],a){case 1:i[k]=k-u.s.c;break;case 2:i[k]=g[k];break;case 3:i[k]=d.header[k-u.s.c];break;default:if(s==null&&(s={w:"__EMPTY",t:"s"}),o=l=Nh(s,null,d),v=w[l]||0,!v)w[l]=1;else{do o=l+"_"+v++;while(w[o]);w[l]=v,w[o]=1}i[k]=o}for(N=u.s.r+n;N<=u.e.r;++N)if(!(C[N]||{}).hidden){var M=zEe(e,u,N,g,a,i,j,d);(M.isempty===!1||(a===1?d.blankrows!==!1:d.blankrows))&&(p[y++]=M.row)}return p.length=y,p}var rI=/"/g;function $Ee(e,t,s,a,n,i,l,o){for(var u=!0,d=[],m="",f=Li(s),g=t.s.c;g<=t.e.c;++g)if(a[g]){var p=o.dense?(e[s]||[])[g]:e[a[g]+f];if(p==null)m="";else if(p.v!=null){u=!1,m=""+(o.rawNumbers&&p.t=="n"?p.v:Nh(p,null,o));for(var y=0,v=0;y!==m.length;++y)if((v=m.charCodeAt(y))===n||v===i||v===34||o.forceQuotes){m='"'+m.replace(rI,'""')+'"';break}m=="ID"&&(m='"ID"')}else p.f!=null&&!p.F?(u=!1,m="="+p.f,m.indexOf(",")>=0&&(m='"'+m.replace(rI,'""')+'"')):m="";d.push(m)}return o.blankrows===!1&&u?null:d.join(l)}function Jk(e,t){var s=[],a=t??{};if(e==null||e["!ref"]==null)return"";var n=_a(e["!ref"]),i=a.FS!==void 0?a.FS:",",l=i.charCodeAt(0),o=a.RS!==void 0?a.RS:`
`,u=o.charCodeAt(0),d=new RegExp((i=="|"?"\\|":i)+"+$"),m="",f=[];a.dense=Array.isArray(e);for(var g=a.skipHidden&&e["!cols"]||[],p=a.skipHidden&&e["!rows"]||[],y=n.s.c;y<=n.e.c;++y)(g[y]||{}).hidden||(f[y]=sl(y));for(var v=0,j=n.s.r;j<=n.e.r;++j)(p[j]||{}).hidden||(m=$Ee(e,n,j,f,l,u,i,a),m!=null&&(a.strip&&(m=m.replace(d,"")),(m||a.blankrows!==!1)&&s.push((v++?o:"")+m)));return delete a.dense,s.join("")}function wW(e,t){t||(t={}),t.FS="	",t.RS=`
`;var s=Jk(e,t);return s}function HEe(e){var t="",s,a="";if(e==null||e["!ref"]==null)return[];var n=_a(e["!ref"]),i="",l=[],o,u=[],d=Array.isArray(e);for(o=n.s.c;o<=n.e.c;++o)l[o]=sl(o);for(var m=n.s.r;m<=n.e.r;++m)for(i=Li(m),o=n.s.c;o<=n.e.c;++o)if(t=l[o]+i,s=d?(e[m]||[])[o]:e[t],a="",s!==void 0){if(s.F!=null){if(t=s.F,!s.f)continue;a=s.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(s.f!=null)a=s.f;else{if(s.t=="z")continue;if(s.t=="n"&&s.v!=null)a=""+s.v;else if(s.t=="b")a=s.v?"TRUE":"FALSE";else if(s.w!==void 0)a="'"+s.w;else{if(s.v===void 0)continue;s.t=="s"?a="'"+s.v:a=""+s.v}}u[u.length]=t+"="+a}return u}function SW(e,t,s){var a=s||{},n=+!a.skipHeader,i=e||{},l=0,o=0;if(i&&a.origin!=null)if(typeof a.origin=="number")l=a.origin;else{var u=typeof a.origin=="string"?xi(a.origin):a.origin;l=u.r,o=u.c}var d,m={s:{c:0,r:0},e:{c:o,r:l+t.length-1+n}};if(i["!ref"]){var f=_a(i["!ref"]);m.e.c=Math.max(m.e.c,f.e.c),m.e.r=Math.max(m.e.r,f.e.r),l==-1&&(l=f.e.r+1,m.e.r=l+t.length-1+n)}else l==-1&&(l=0,m.e.r=t.length-1+n);var g=a.header||[],p=0;t.forEach(function(v,j){Ui(v).forEach(function(N){(p=g.indexOf(N))==-1&&(g[p=g.length]=N);var k=v[N],w="z",A="",C=Gs({c:o+p,r:l+j+n});d=Yv(i,C),k&&typeof k=="object"&&!(k instanceof Date)?i[C]=k:(typeof k=="number"?w="n":typeof k=="boolean"?w="b":typeof k=="string"?w="s":k instanceof Date?(w="d",a.cellDates||(w="n",k=to(k)),A=a.dateNF||sn[14]):k===null&&a.nullError&&(w="e",k=0),d?(d.t=w,d.v=k,delete d.w,delete d.R,A&&(d.z=A)):i[C]=d={t:w,v:k},A&&(d.z=A))})}),m.e.c=Math.max(m.e.c,o+g.length-1);var y=Li(l);if(n)for(p=0;p<g.length;++p)i[sl(p+o)+y]={t:"s",v:g[p]};return i["!ref"]=Rn(m),i}function qEe(e,t){return SW(null,e,t)}function Yv(e,t,s){if(typeof t=="string"){if(Array.isArray(e)){var a=xi(t);return e[a.r]||(e[a.r]=[]),e[a.r][a.c]||(e[a.r][a.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Yv(e,Gs(t)):Yv(e,Gs({r:t,c:s||0}))}function VEe(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var s=e.SheetNames.indexOf(t);if(s>-1)return s;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function WEe(){return{SheetNames:[],Sheets:{}}}function GEe(e,t,s,a){var n=1;if(!s)for(;n<=65535&&e.SheetNames.indexOf(s="Sheet"+n)!=-1;++n,s=void 0);if(!s||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(a&&e.SheetNames.indexOf(s)>=0){var i=s.match(/(^.*?)(\d+)$/);n=i&&+i[2]||0;var l=i&&i[1]||s;for(++n;n<=65535&&e.SheetNames.indexOf(s=l+n)!=-1;++n);}if(mW(s),e.SheetNames.indexOf(s)>=0)throw new Error("Worksheet with name |"+s+"| already exists!");return e.SheetNames.push(s),e.Sheets[s]=t,s}function KEe(e,t,s){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var a=VEe(e,t);switch(e.Workbook.Sheets[a]||(e.Workbook.Sheets[a]={}),s){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+s)}e.Workbook.Sheets[a].Hidden=s}function YEe(e,t){return e.z=t,e}function _W(e,t,s){return t?(e.l={Target:t},s&&(e.l.Tooltip=s)):delete e.l,e}function ZEe(e,t,s){return _W(e,"#"+t,s)}function XEe(e,t,s){e.c||(e.c=[]),e.c.push({t,a:s||"SheetJS"})}function JEe(e,t,s,a){for(var n=typeof t!="string"?t:_a(t),i=typeof t=="string"?t:Rn(t),l=n.s.r;l<=n.e.r;++l)for(var o=n.s.c;o<=n.e.c;++o){var u=Yv(e,l,o);u.t="n",u.F=i,delete u.v,l==n.s.r&&o==n.s.c&&(u.f=s,a&&(u.D=!0))}return e}var w3={encode_col:sl,encode_row:Li,encode_cell:Gs,encode_range:Rn,decode_col:zk,decode_row:Uk,split_cell:h_e,decode_cell:xi,decode_range:zo,format_cell:Nh,sheet_add_aoa:_V,sheet_add_json:SW,sheet_add_dom:vW,aoa_to_sheet:Jx,json_to_sheet:qEe,table_to_sheet:yW,table_to_book:jEe,sheet_to_csv:Jk,sheet_to_txt:wW,sheet_to_json:Qj,sheet_to_html:gW,sheet_to_formulae:HEe,sheet_to_row_object_array:Qj,sheet_get_cell:Yv,book_new:WEe,book_append_sheet:GEe,book_set_sheet_visibility:KEe,cell_set_number_format:YEe,cell_set_hyperlink:_W,cell_set_internal_link:ZEe,cell_add_comment:XEe,sheet_set_array_formula:JEe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const QEe="modulepreload",eOe=function(e){return"/"+e},sI={},S3=function(t,s,a){let n=Promise.resolve();if(s&&s.length>0){let u=function(d){return Promise.all(d.map(m=>Promise.resolve(m).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),o=l?.nonce||l?.getAttribute("nonce");n=u(s.map(d=>{if(d=eOe(d),d in sI)return;sI[d]=!0;const m=d.endsWith(".css"),f=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${f}`))return;const g=document.createElement("link");if(g.rel=m?"stylesheet":QEe,m||(g.as="script"),g.crossOrigin="",g.href=d,o&&g.setAttribute("nonce",o),document.head.appendChild(g),m)return new Promise((p,y)=>{g.addEventListener("load",p),g.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return n.then(l=>{for(const o of l||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})};function $s(e){"@babel/helpers - typeof";return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$s(e)}var vd=Uint8Array,Lo=Uint16Array,Qk=Int32Array,eT=new vd([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),tT=new vd([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),aI=new vd([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),AW=function(e,t){for(var s=new Lo(31),a=0;a<31;++a)s[a]=t+=1<<e[a-1];for(var n=new Qk(s[30]),a=1;a<30;++a)for(var i=s[a];i<s[a+1];++i)n[i]=i-s[a]<<5|a;return{b:s,r:n}},CW=AW(eT,2),tOe=CW.b,DA=CW.r;tOe[28]=258,DA[258]=28;var rOe=AW(tT,0),nI=rOe.r,RA=new Lo(32768);for(var wa=0;wa<32768;++wa){var vm=(wa&43690)>>1|(wa&21845)<<1;vm=(vm&52428)>>2|(vm&13107)<<2,vm=(vm&61680)>>4|(vm&3855)<<4,RA[wa]=((vm&65280)>>8|(vm&255)<<8)>>1}var yv=(function(e,t,s){for(var a=e.length,n=0,i=new Lo(t);n<a;++n)e[n]&&++i[e[n]-1];var l=new Lo(t);for(n=1;n<t;++n)l[n]=l[n-1]+i[n-1]<<1;var o;if(s){o=new Lo(1<<t);var u=15-t;for(n=0;n<a;++n)if(e[n])for(var d=n<<4|e[n],m=t-e[n],f=l[e[n]-1]++<<m,g=f|(1<<m)-1;f<=g;++f)o[RA[f]>>u]=d}else for(o=new Lo(a),n=0;n<a;++n)e[n]&&(o[n]=RA[l[e[n]-1]++]>>15-e[n]);return o}),p0=new vd(288);for(var wa=0;wa<144;++wa)p0[wa]=8;for(var wa=144;wa<256;++wa)p0[wa]=9;for(var wa=256;wa<280;++wa)p0[wa]=7;for(var wa=280;wa<288;++wa)p0[wa]=8;var eN=new vd(32);for(var wa=0;wa<32;++wa)eN[wa]=5;var sOe=yv(p0,9,0),aOe=yv(eN,5,0),kW=function(e){return(e+7)/8|0},nOe=function(e,t,s){return(s==null||s>e.length)&&(s=e.length),new vd(e.subarray(t,s))},qu=function(e,t,s){s<<=t&7;var a=t/8|0;e[a]|=s,e[a+1]|=s>>8},tv=function(e,t,s){s<<=t&7;var a=t/8|0;e[a]|=s,e[a+1]|=s>>8,e[a+2]|=s>>16},_3=function(e,t){for(var s=[],a=0;a<e.length;++a)e[a]&&s.push({s:a,f:e[a]});var n=s.length,i=s.slice();if(!n)return{t:EW,l:0};if(n==1){var l=new vd(s[0].s+1);return l[s[0].s]=1,{t:l,l:1}}s.sort(function(C,M){return C.f-M.f}),s.push({s:-1,f:25001});var o=s[0],u=s[1],d=0,m=1,f=2;for(s[0]={s:-1,f:o.f+u.f,l:o,r:u};m!=n-1;)o=s[s[d].f<s[f].f?d++:f++],u=s[d!=m&&s[d].f<s[f].f?d++:f++],s[m++]={s:-1,f:o.f+u.f,l:o,r:u};for(var g=i[0].s,a=1;a<n;++a)i[a].s>g&&(g=i[a].s);var p=new Lo(g+1),y=MA(s[m-1],p,0);if(y>t){var a=0,v=0,j=y-t,N=1<<j;for(i.sort(function(M,R){return p[R.s]-p[M.s]||M.f-R.f});a<n;++a){var k=i[a].s;if(p[k]>t)v+=N-(1<<y-p[k]),p[k]=t;else break}for(v>>=j;v>0;){var w=i[a].s;p[w]<t?v-=1<<t-p[w]++-1:++a}for(;a>=0&&v;--a){var A=i[a].s;p[A]==t&&(--p[A],++v)}y=t}return{t:new vd(p),l:y}},MA=function(e,t,s){return e.s==-1?Math.max(MA(e.l,t,s+1),MA(e.r,t,s+1)):t[e.s]=s},iI=function(e){for(var t=e.length;t&&!e[--t];);for(var s=new Lo(++t),a=0,n=e[0],i=1,l=function(u){s[a++]=u},o=1;o<=t;++o)if(e[o]==n&&o!=t)++i;else{if(!n&&i>2){for(;i>138;i-=138)l(32754);i>2&&(l(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(l(n),--i;i>6;i-=6)l(8304);i>2&&(l(i-3<<5|8208),i=0)}for(;i--;)l(n);i=1,n=e[o]}return{c:s.subarray(0,a),n:t}},rv=function(e,t){for(var s=0,a=0;a<t.length;++a)s+=e[a]*t[a];return s},TW=function(e,t,s){var a=s.length,n=kW(t+2);e[n]=a&255,e[n+1]=a>>8,e[n+2]=e[n]^255,e[n+3]=e[n+1]^255;for(var i=0;i<a;++i)e[n+i+4]=s[i];return(n+4+a)*8},lI=function(e,t,s,a,n,i,l,o,u,d,m){qu(t,m++,s),++n[256];for(var f=_3(n,15),g=f.t,p=f.l,y=_3(i,15),v=y.t,j=y.l,N=iI(g),k=N.c,w=N.n,A=iI(v),C=A.c,M=A.n,R=new Lo(19),D=0;D<k.length;++D)++R[k[D]&31];for(var D=0;D<C.length;++D)++R[C[D]&31];for(var B=_3(R,7),z=B.t,I=B.l,F=19;F>4&&!z[aI[F-1]];--F);var Y=d+5<<3,te=rv(n,p0)+rv(i,eN)+l,ue=rv(n,g)+rv(i,v)+l+14+3*F+rv(R,z)+2*R[16]+3*R[17]+7*R[18];if(u>=0&&Y<=te&&Y<=ue)return TW(t,m,e.subarray(u,u+d));var Z,ie,G,ee;if(qu(t,m,1+(ue<te)),m+=2,ue<te){Z=yv(g,p,0),ie=g,G=yv(v,j,0),ee=v;var Ne=yv(z,I,0);qu(t,m,w-257),qu(t,m+5,M-1),qu(t,m+10,F-4),m+=14;for(var D=0;D<F;++D)qu(t,m+3*D,z[aI[D]]);m+=3*F;for(var X=[k,C],P=0;P<2;++P)for(var H=X[P],D=0;D<H.length;++D){var q=H[D]&31;qu(t,m,Ne[q]),m+=z[q],q>15&&(qu(t,m,H[D]>>5&127),m+=H[D]>>12)}}else Z=sOe,ie=p0,G=aOe,ee=eN;for(var D=0;D<o;++D){var W=a[D];if(W>255){var q=W>>18&31;tv(t,m,Z[q+257]),m+=ie[q+257],q>7&&(qu(t,m,W>>23&31),m+=eT[q]);var le=W&31;tv(t,m,G[le]),m+=ee[le],le>3&&(tv(t,m,W>>5&8191),m+=tT[le])}else tv(t,m,Z[W]),m+=ie[W]}return tv(t,m,Z[256]),m+ie[256]},iOe=new Qk([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),EW=new vd(0),lOe=function(e,t,s,a,n,i){var l=i.z||e.length,o=new vd(a+l+5*(1+Math.ceil(l/7e3))+n),u=o.subarray(a,o.length-n),d=i.l,m=(i.r||0)&7;if(t){m&&(u[0]=i.r>>3);for(var f=iOe[t-1],g=f>>13,p=f&8191,y=(1<<s)-1,v=i.p||new Lo(32768),j=i.h||new Lo(y+1),N=Math.ceil(s/3),k=2*N,w=function(rt){return(e[rt]^e[rt+1]<<N^e[rt+2]<<k)&y},A=new Qk(25e3),C=new Lo(288),M=new Lo(32),R=0,D=0,B=i.i||0,z=0,I=i.w||0,F=0;B+2<l;++B){var Y=w(B),te=B&32767,ue=j[Y];if(v[te]=ue,j[Y]=te,I<=B){var Z=l-B;if((R>7e3||z>24576)&&(Z>423||!d)){m=lI(e,u,0,A,C,M,D,z,F,B-F,m),z=R=D=0,F=B;for(var ie=0;ie<286;++ie)C[ie]=0;for(var ie=0;ie<30;++ie)M[ie]=0}var G=2,ee=0,Ne=p,X=te-ue&32767;if(Z>2&&Y==w(B-X))for(var P=Math.min(g,Z)-1,H=Math.min(32767,B),q=Math.min(258,Z);X<=H&&--Ne&&te!=ue;){if(e[B+G]==e[B+G-X]){for(var W=0;W<q&&e[B+W]==e[B+W-X];++W);if(W>G){if(G=W,ee=X,W>P)break;for(var le=Math.min(X,W-2),Se=0,ie=0;ie<le;++ie){var Pe=B-X+ie&32767,re=v[Pe],ye=Pe-re&32767;ye>Se&&(Se=ye,ue=Pe)}}}te=ue,ue=v[te],X+=te-ue&32767}if(ee){A[z++]=268435456|DA[G]<<18|nI[ee];var ze=DA[G]&31,Ce=nI[ee]&31;D+=eT[ze]+tT[Ce],++C[257+ze],++M[Ce],I=B+G,++R}else A[z++]=e[B],++C[e[B]]}}for(B=Math.max(B,I);B<l;++B)A[z++]=e[B],++C[e[B]];m=lI(e,u,d,A,C,M,D,z,F,B-F,m),d||(i.r=m&7|u[m/8|0]<<3,m-=7,i.h=j,i.p=v,i.i=B,i.w=I)}else{for(var B=i.w||0;B<l+d;B+=65535){var it=B+65535;it>=l&&(u[m/8|0]=d,it=l),m=TW(u,m+1,e.subarray(B,it))}i.i=l}return nOe(o,0,a+kW(m)+n)},OW=function(){var e=1,t=0;return{p:function(s){for(var a=e,n=t,i=s.length|0,l=0;l!=i;){for(var o=Math.min(l+2655,i);l<o;++l)n+=a+=s[l];a=(a&65535)+15*(a>>16),n=(n&65535)+15*(n>>16)}e=a,t=n},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},oOe=function(e,t,s,a,n){if(!n&&(n={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),l=new vd(i.length+e.length);l.set(i),l.set(e,i.length),e=l,n.w=i.length}return lOe(e,t.level==null?6:t.level,t.mem==null?n.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,s,a,n)},PW=function(e,t,s){for(;s;++t)e[t]=s,s>>>=8},cOe=function(e,t){var s=t.level,a=s==0?0:s<6?1:s==9?3:2;if(e[0]=120,e[1]=a<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var n=OW();n.p(t.dictionary),PW(e,2,n.d())}};function LA(e,t){t||(t={});var s=OW();s.p(e);var a=oOe(e,t,t.dictionary?6:2,4);return cOe(a,t),PW(a,a.length-4,s.d()),a}var dOe=typeof TextDecoder<"u"&&new TextDecoder,uOe=0;try{dOe.decode(EW,{stream:!0}),uOe=1}catch{}function hOe(e){if(Array.isArray(e))return e}function mOe(e,t){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var a,n,i,l,o=[],u=!0,d=!1;try{if(i=(s=s.call(e)).next,t!==0)for(;!(u=(a=i.call(s)).done)&&(o.push(a.value),o.length!==t);u=!0);}catch(m){d=!0,n=m}finally{try{if(!u&&s.return!=null&&(l=s.return(),Object(l)!==l))return}finally{if(d)throw n}}return o}}function oI(e,t){(t==null||t>e.length)&&(t=e.length);for(var s=0,a=Array(t);s<t;s++)a[s]=e[s];return a}function fOe(e,t){if(e){if(typeof e=="string")return oI(e,t);var s={}.toString.call(e).slice(8,-1);return s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set"?Array.from(e):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?oI(e,t):void 0}}function pOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cI(e,t){return hOe(e)||mOe(e,t)||fOe(e,t)||pOe()}function dI(e,t="utf8"){return new TextDecoder(t).decode(e)}const xOe=new TextEncoder;function gOe(e){return xOe.encode(e)}const vOe=1024*8,yOe=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),A3={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class rT{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=vOe,s={}){let a=!1;typeof t=="number"?t=new ArrayBuffer(t):(a=!0,this.lastWrittenByte=t.byteLength);const n=s.offset?s.offset>>>0:0,i=t.byteLength-n;let l=n;(ArrayBuffer.isView(t)||t instanceof rT)&&(t.byteLength!==t.buffer.byteLength&&(l=t.byteOffset+n),t=t.buffer),a?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=l,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,l,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const a=(this.offset+t)*2,n=new Uint8Array(a);n.set(new Uint8Array(this.buffer)),this.buffer=n.buffer,this.length=a,this.byteLength=a,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,s){const a=A3[s].BYTES_PER_ELEMENT*t,n=this.byteOffset+this.offset,i=this.buffer.slice(n,n+a);if(this.littleEndian===yOe&&s!=="uint8"&&s!=="int8"){const o=new Uint8Array(this.buffer.slice(n,n+a));o.reverse();const u=new A3[s](o.buffer);return this.offset+=a,u.reverse(),u}const l=new A3[s](i);return this.offset+=a,l}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let s="";for(let a=0;a<t;a++)s+=this.readChar();return s}readUtf8(t=1){return dI(this.readBytes(t))}decodeText(t=1,s="utf8"){return dI(this.readBytes(t),s)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let s=0;s<t.length;s++)this._data.setUint8(this.offset++,t[s]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let s=0;s<t.length;s++)this.writeUint8(t.charCodeAt(s));return this}writeUtf8(t){return this.writeBytes(gOe(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function tg(e){let t=e.length;for(;--t>=0;)e[t]=0}const bOe=3,jOe=258,DW=29,NOe=256,wOe=NOe+1+DW,RW=30,SOe=512,_Oe=new Array((wOe+2)*2);tg(_Oe);const AOe=new Array(RW*2);tg(AOe);const COe=new Array(SOe);tg(COe);const kOe=new Array(jOe-bOe+1);tg(kOe);const TOe=new Array(DW);tg(TOe);const EOe=new Array(RW);tg(EOe);const OOe=(e,t,s,a)=>{let n=e&65535|0,i=e>>>16&65535|0,l=0;for(;s!==0;){l=s>2e3?2e3:s,s-=l;do n=n+t[a++]|0,i=i+n|0;while(--l);n%=65521,i%=65521}return n|i<<16|0};var IA=OOe;const POe=()=>{let e,t=[];for(var s=0;s<256;s++){e=s;for(var a=0;a<8;a++)e=e&1?3988292384^e>>>1:e>>>1;t[s]=e}return t},DOe=new Uint32Array(POe()),ROe=(e,t,s,a)=>{const n=DOe,i=a+s;e^=-1;for(let l=a;l<i;l++)e=e>>>8^n[(e^t[l])&255];return e^-1};var Wd=ROe,FA={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},MW={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const MOe=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var LOe=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const s=t.shift();if(s){if(typeof s!="object")throw new TypeError(s+"must be non-object");for(const a in s)MOe(s,a)&&(e[a]=s[a])}}return e},IOe=e=>{let t=0;for(let a=0,n=e.length;a<n;a++)t+=e[a].length;const s=new Uint8Array(t);for(let a=0,n=0,i=e.length;a<i;a++){let l=e[a];s.set(l,n),n+=l.length}return s},LW={assign:LOe,flattenChunks:IOe};let IW=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{IW=!1}const Zv=new Uint8Array(256);for(let e=0;e<256;e++)Zv[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Zv[254]=Zv[254]=1;var FOe=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,s,a,n,i,l=e.length,o=0;for(n=0;n<l;n++)s=e.charCodeAt(n),(s&64512)===55296&&n+1<l&&(a=e.charCodeAt(n+1),(a&64512)===56320&&(s=65536+(s-55296<<10)+(a-56320),n++)),o+=s<128?1:s<2048?2:s<65536?3:4;for(t=new Uint8Array(o),i=0,n=0;i<o;n++)s=e.charCodeAt(n),(s&64512)===55296&&n+1<l&&(a=e.charCodeAt(n+1),(a&64512)===56320&&(s=65536+(s-55296<<10)+(a-56320),n++)),s<128?t[i++]=s:s<2048?(t[i++]=192|s>>>6,t[i++]=128|s&63):s<65536?(t[i++]=224|s>>>12,t[i++]=128|s>>>6&63,t[i++]=128|s&63):(t[i++]=240|s>>>18,t[i++]=128|s>>>12&63,t[i++]=128|s>>>6&63,t[i++]=128|s&63);return t};const BOe=(e,t)=>{if(t<65534&&e.subarray&&IW)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let s="";for(let a=0;a<t;a++)s+=String.fromCharCode(e[a]);return s};var UOe=(e,t)=>{const s=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let a,n;const i=new Array(s*2);for(n=0,a=0;a<s;){let l=e[a++];if(l<128){i[n++]=l;continue}let o=Zv[l];if(o>4){i[n++]=65533,a+=o-1;continue}for(l&=o===2?31:o===3?15:7;o>1&&a<s;)l=l<<6|e[a++]&63,o--;if(o>1){i[n++]=65533;continue}l<65536?i[n++]=l:(l-=65536,i[n++]=55296|l>>10&1023,i[n++]=56320|l&1023)}return BOe(i,n)},zOe=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let s=t-1;for(;s>=0&&(e[s]&192)===128;)s--;return s<0||s===0?t:s+Zv[e[s]]>t?s:t},BA={string2buf:FOe,buf2string:UOe,utf8border:zOe};function $Oe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var HOe=$Oe;const C1=16209,qOe=16191;var VOe=function(t,s){let a,n,i,l,o,u,d,m,f,g,p,y,v,j,N,k,w,A,C,M,R,D,B,z;const I=t.state;a=t.next_in,B=t.input,n=a+(t.avail_in-5),i=t.next_out,z=t.output,l=i-(s-t.avail_out),o=i+(t.avail_out-257),u=I.dmax,d=I.wsize,m=I.whave,f=I.wnext,g=I.window,p=I.hold,y=I.bits,v=I.lencode,j=I.distcode,N=(1<<I.lenbits)-1,k=(1<<I.distbits)-1;e:do{y<15&&(p+=B[a++]<<y,y+=8,p+=B[a++]<<y,y+=8),w=v[p&N];t:for(;;){if(A=w>>>24,p>>>=A,y-=A,A=w>>>16&255,A===0)z[i++]=w&65535;else if(A&16){C=w&65535,A&=15,A&&(y<A&&(p+=B[a++]<<y,y+=8),C+=p&(1<<A)-1,p>>>=A,y-=A),y<15&&(p+=B[a++]<<y,y+=8,p+=B[a++]<<y,y+=8),w=j[p&k];r:for(;;){if(A=w>>>24,p>>>=A,y-=A,A=w>>>16&255,A&16){if(M=w&65535,A&=15,y<A&&(p+=B[a++]<<y,y+=8,y<A&&(p+=B[a++]<<y,y+=8)),M+=p&(1<<A)-1,M>u){t.msg="invalid distance too far back",I.mode=C1;break e}if(p>>>=A,y-=A,A=i-l,M>A){if(A=M-A,A>m&&I.sane){t.msg="invalid distance too far back",I.mode=C1;break e}if(R=0,D=g,f===0){if(R+=d-A,A<C){C-=A;do z[i++]=g[R++];while(--A);R=i-M,D=z}}else if(f<A){if(R+=d+f-A,A-=f,A<C){C-=A;do z[i++]=g[R++];while(--A);if(R=0,f<C){A=f,C-=A;do z[i++]=g[R++];while(--A);R=i-M,D=z}}}else if(R+=f-A,A<C){C-=A;do z[i++]=g[R++];while(--A);R=i-M,D=z}for(;C>2;)z[i++]=D[R++],z[i++]=D[R++],z[i++]=D[R++],C-=3;C&&(z[i++]=D[R++],C>1&&(z[i++]=D[R++]))}else{R=i-M;do z[i++]=z[R++],z[i++]=z[R++],z[i++]=z[R++],C-=3;while(C>2);C&&(z[i++]=z[R++],C>1&&(z[i++]=z[R++]))}}else if((A&64)===0){w=j[(w&65535)+(p&(1<<A)-1)];continue r}else{t.msg="invalid distance code",I.mode=C1;break e}break}}else if((A&64)===0){w=v[(w&65535)+(p&(1<<A)-1)];continue t}else if(A&32){I.mode=qOe;break e}else{t.msg="invalid literal/length code",I.mode=C1;break e}break}}while(a<n&&i<o);C=y>>3,a-=C,y-=C<<3,p&=(1<<y)-1,t.next_in=a,t.next_out=i,t.avail_in=a<n?5+(n-a):5-(a-n),t.avail_out=i<o?257+(o-i):257-(i-o),I.hold=p,I.bits=y};const Ap=15,uI=852,hI=592,mI=0,C3=1,fI=2,WOe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),GOe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),KOe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),YOe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),ZOe=(e,t,s,a,n,i,l,o)=>{const u=o.bits;let d=0,m=0,f=0,g=0,p=0,y=0,v=0,j=0,N=0,k=0,w,A,C,M,R,D=null,B;const z=new Uint16Array(Ap+1),I=new Uint16Array(Ap+1);let F=null,Y,te,ue;for(d=0;d<=Ap;d++)z[d]=0;for(m=0;m<a;m++)z[t[s+m]]++;for(p=u,g=Ap;g>=1&&z[g]===0;g--);if(p>g&&(p=g),g===0)return n[i++]=1<<24|64<<16|0,n[i++]=1<<24|64<<16|0,o.bits=1,0;for(f=1;f<g&&z[f]===0;f++);for(p<f&&(p=f),j=1,d=1;d<=Ap;d++)if(j<<=1,j-=z[d],j<0)return-1;if(j>0&&(e===mI||g!==1))return-1;for(I[1]=0,d=1;d<Ap;d++)I[d+1]=I[d]+z[d];for(m=0;m<a;m++)t[s+m]!==0&&(l[I[t[s+m]]++]=m);if(e===mI?(D=F=l,B=20):e===C3?(D=WOe,F=GOe,B=257):(D=KOe,F=YOe,B=0),k=0,m=0,d=f,R=i,y=p,v=0,C=-1,N=1<<p,M=N-1,e===C3&&N>uI||e===fI&&N>hI)return 1;for(;;){Y=d-v,l[m]+1<B?(te=0,ue=l[m]):l[m]>=B?(te=F[l[m]-B],ue=D[l[m]-B]):(te=96,ue=0),w=1<<d-v,A=1<<y,f=A;do A-=w,n[R+(k>>v)+A]=Y<<24|te<<16|ue|0;while(A!==0);for(w=1<<d-1;k&w;)w>>=1;if(w!==0?(k&=w-1,k+=w):k=0,m++,--z[d]===0){if(d===g)break;d=t[s+l[m]]}if(d>p&&(k&M)!==C){for(v===0&&(v=p),R+=f,y=d-v,j=1<<y;y+v<g&&(j-=z[y+v],!(j<=0));)y++,j<<=1;if(N+=1<<y,e===C3&&N>uI||e===fI&&N>hI)return 1;C=k&M,n[C]=p<<24|y<<16|R-i|0}}return k!==0&&(n[R+k]=d-v<<24|64<<16|0),o.bits=p,0};var bv=ZOe;const XOe=0,FW=1,BW=2,{Z_FINISH:pI,Z_BLOCK:JOe,Z_TREES:k1,Z_OK:x0,Z_STREAM_END:QOe,Z_NEED_DICT:ePe,Z_STREAM_ERROR:Ac,Z_DATA_ERROR:UW,Z_MEM_ERROR:zW,Z_BUF_ERROR:tPe,Z_DEFLATED:xI}=MW,Iw=16180,gI=16181,vI=16182,yI=16183,bI=16184,jI=16185,NI=16186,wI=16187,SI=16188,_I=16189,tN=16190,Vu=16191,k3=16192,AI=16193,T3=16194,CI=16195,kI=16196,TI=16197,EI=16198,T1=16199,E1=16200,OI=16201,PI=16202,DI=16203,RI=16204,MI=16205,E3=16206,LI=16207,II=16208,Oa=16209,$W=16210,HW=16211,rPe=852,sPe=592,aPe=15,nPe=aPe,FI=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function iPe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const C0=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Iw||t.mode>HW?1:0},qW=e=>{if(C0(e))return Ac;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=Iw,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(rPe),t.distcode=t.distdyn=new Int32Array(sPe),t.sane=1,t.back=-1,x0},VW=e=>{if(C0(e))return Ac;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,qW(e)},WW=(e,t)=>{let s;if(C0(e))return Ac;const a=e.state;return t<0?(s=0,t=-t):(s=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Ac:(a.window!==null&&a.wbits!==t&&(a.window=null),a.wrap=s,a.wbits=t,VW(e))},GW=(e,t)=>{if(!e)return Ac;const s=new iPe;e.state=s,s.strm=e,s.window=null,s.mode=Iw;const a=WW(e,t);return a!==x0&&(e.state=null),a},lPe=e=>GW(e,nPe);let BI=!0,O3,P3;const oPe=e=>{if(BI){O3=new Int32Array(512),P3=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(bv(FW,e.lens,0,288,O3,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;bv(BW,e.lens,0,32,P3,0,e.work,{bits:5}),BI=!1}e.lencode=O3,e.lenbits=9,e.distcode=P3,e.distbits=5},KW=(e,t,s,a)=>{let n;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),a>=i.wsize?(i.window.set(t.subarray(s-i.wsize,s),0),i.wnext=0,i.whave=i.wsize):(n=i.wsize-i.wnext,n>a&&(n=a),i.window.set(t.subarray(s-a,s-a+n),i.wnext),a-=n,a?(i.window.set(t.subarray(s-a,s),0),i.wnext=a,i.whave=i.wsize):(i.wnext+=n,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=n))),0},cPe=(e,t)=>{let s,a,n,i,l,o,u,d,m,f,g,p,y,v,j=0,N,k,w,A,C,M,R,D;const B=new Uint8Array(4);let z,I;const F=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(C0(e)||!e.output||!e.input&&e.avail_in!==0)return Ac;s=e.state,s.mode===Vu&&(s.mode=k3),l=e.next_out,n=e.output,u=e.avail_out,i=e.next_in,a=e.input,o=e.avail_in,d=s.hold,m=s.bits,f=o,g=u,D=x0;e:for(;;)switch(s.mode){case Iw:if(s.wrap===0){s.mode=k3;break}for(;m<16;){if(o===0)break e;o--,d+=a[i++]<<m,m+=8}if(s.wrap&2&&d===35615){s.wbits===0&&(s.wbits=15),s.check=0,B[0]=d&255,B[1]=d>>>8&255,s.check=Wd(s.check,B,2,0),d=0,m=0,s.mode=gI;break}if(s.head&&(s.head.done=!1),!(s.wrap&1)||(((d&255)<<8)+(d>>8))%31){e.msg="incorrect header check",s.mode=Oa;break}if((d&15)!==xI){e.msg="unknown compression method",s.mode=Oa;break}if(d>>>=4,m-=4,R=(d&15)+8,s.wbits===0&&(s.wbits=R),R>15||R>s.wbits){e.msg="invalid window size",s.mode=Oa;break}s.dmax=1<<s.wbits,s.flags=0,e.adler=s.check=1,s.mode=d&512?_I:Vu,d=0,m=0;break;case gI:for(;m<16;){if(o===0)break e;o--,d+=a[i++]<<m,m+=8}if(s.flags=d,(s.flags&255)!==xI){e.msg="unknown compression method",s.mode=Oa;break}if(s.flags&57344){e.msg="unknown header flags set",s.mode=Oa;break}s.head&&(s.head.text=d>>8&1),s.flags&512&&s.wrap&4&&(B[0]=d&255,B[1]=d>>>8&255,s.check=Wd(s.check,B,2,0)),d=0,m=0,s.mode=vI;case vI:for(;m<32;){if(o===0)break e;o--,d+=a[i++]<<m,m+=8}s.head&&(s.head.time=d),s.flags&512&&s.wrap&4&&(B[0]=d&255,B[1]=d>>>8&255,B[2]=d>>>16&255,B[3]=d>>>24&255,s.check=Wd(s.check,B,4,0)),d=0,m=0,s.mode=yI;case yI:for(;m<16;){if(o===0)break e;o--,d+=a[i++]<<m,m+=8}s.head&&(s.head.xflags=d&255,s.head.os=d>>8),s.flags&512&&s.wrap&4&&(B[0]=d&255,B[1]=d>>>8&255,s.check=Wd(s.check,B,2,0)),d=0,m=0,s.mode=bI;case bI:if(s.flags&1024){for(;m<16;){if(o===0)break e;o--,d+=a[i++]<<m,m+=8}s.length=d,s.head&&(s.head.extra_len=d),s.flags&512&&s.wrap&4&&(B[0]=d&255,B[1]=d>>>8&255,s.check=Wd(s.check,B,2,0)),d=0,m=0}else s.head&&(s.head.extra=null);s.mode=jI;case jI:if(s.flags&1024&&(p=s.length,p>o&&(p=o),p&&(s.head&&(R=s.head.extra_len-s.length,s.head.extra||(s.head.extra=new Uint8Array(s.head.extra_len)),s.head.extra.set(a.subarray(i,i+p),R)),s.flags&512&&s.wrap&4&&(s.check=Wd(s.check,a,p,i)),o-=p,i+=p,s.length-=p),s.length))break e;s.length=0,s.mode=NI;case NI:if(s.flags&2048){if(o===0)break e;p=0;do R=a[i+p++],s.head&&R&&s.length<65536&&(s.head.name+=String.fromCharCode(R));while(R&&p<o);if(s.flags&512&&s.wrap&4&&(s.check=Wd(s.check,a,p,i)),o-=p,i+=p,R)break e}else s.head&&(s.head.name=null);s.length=0,s.mode=wI;case wI:if(s.flags&4096){if(o===0)break e;p=0;do R=a[i+p++],s.head&&R&&s.length<65536&&(s.head.comment+=String.fromCharCode(R));while(R&&p<o);if(s.flags&512&&s.wrap&4&&(s.check=Wd(s.check,a,p,i)),o-=p,i+=p,R)break e}else s.head&&(s.head.comment=null);s.mode=SI;case SI:if(s.flags&512){for(;m<16;){if(o===0)break e;o--,d+=a[i++]<<m,m+=8}if(s.wrap&4&&d!==(s.check&65535)){e.msg="header crc mismatch",s.mode=Oa;break}d=0,m=0}s.head&&(s.head.hcrc=s.flags>>9&1,s.head.done=!0),e.adler=s.check=0,s.mode=Vu;break;case _I:for(;m<32;){if(o===0)break e;o--,d+=a[i++]<<m,m+=8}e.adler=s.check=FI(d),d=0,m=0,s.mode=tN;case tN:if(s.havedict===0)return e.next_out=l,e.avail_out=u,e.next_in=i,e.avail_in=o,s.hold=d,s.bits=m,ePe;e.adler=s.check=1,s.mode=Vu;case Vu:if(t===JOe||t===k1)break e;case k3:if(s.last){d>>>=m&7,m-=m&7,s.mode=E3;break}for(;m<3;){if(o===0)break e;o--,d+=a[i++]<<m,m+=8}switch(s.last=d&1,d>>>=1,m-=1,d&3){case 0:s.mode=AI;break;case 1:if(oPe(s),s.mode=T1,t===k1){d>>>=2,m-=2;break e}break;case 2:s.mode=kI;break;case 3:e.msg="invalid block type",s.mode=Oa}d>>>=2,m-=2;break;case AI:for(d>>>=m&7,m-=m&7;m<32;){if(o===0)break e;o--,d+=a[i++]<<m,m+=8}if((d&65535)!==(d>>>16^65535)){e.msg="invalid stored block lengths",s.mode=Oa;break}if(s.length=d&65535,d=0,m=0,s.mode=T3,t===k1)break e;case T3:s.mode=CI;case CI:if(p=s.length,p){if(p>o&&(p=o),p>u&&(p=u),p===0)break e;n.set(a.subarray(i,i+p),l),o-=p,i+=p,u-=p,l+=p,s.length-=p;break}s.mode=Vu;break;case kI:for(;m<14;){if(o===0)break e;o--,d+=a[i++]<<m,m+=8}if(s.nlen=(d&31)+257,d>>>=5,m-=5,s.ndist=(d&31)+1,d>>>=5,m-=5,s.ncode=(d&15)+4,d>>>=4,m-=4,s.nlen>286||s.ndist>30){e.msg="too many length or distance symbols",s.mode=Oa;break}s.have=0,s.mode=TI;case TI:for(;s.have<s.ncode;){for(;m<3;){if(o===0)break e;o--,d+=a[i++]<<m,m+=8}s.lens[F[s.have++]]=d&7,d>>>=3,m-=3}for(;s.have<19;)s.lens[F[s.have++]]=0;if(s.lencode=s.lendyn,s.lenbits=7,z={bits:s.lenbits},D=bv(XOe,s.lens,0,19,s.lencode,0,s.work,z),s.lenbits=z.bits,D){e.msg="invalid code lengths set",s.mode=Oa;break}s.have=0,s.mode=EI;case EI:for(;s.have<s.nlen+s.ndist;){for(;j=s.lencode[d&(1<<s.lenbits)-1],N=j>>>24,k=j>>>16&255,w=j&65535,!(N<=m);){if(o===0)break e;o--,d+=a[i++]<<m,m+=8}if(w<16)d>>>=N,m-=N,s.lens[s.have++]=w;else{if(w===16){for(I=N+2;m<I;){if(o===0)break e;o--,d+=a[i++]<<m,m+=8}if(d>>>=N,m-=N,s.have===0){e.msg="invalid bit length repeat",s.mode=Oa;break}R=s.lens[s.have-1],p=3+(d&3),d>>>=2,m-=2}else if(w===17){for(I=N+3;m<I;){if(o===0)break e;o--,d+=a[i++]<<m,m+=8}d>>>=N,m-=N,R=0,p=3+(d&7),d>>>=3,m-=3}else{for(I=N+7;m<I;){if(o===0)break e;o--,d+=a[i++]<<m,m+=8}d>>>=N,m-=N,R=0,p=11+(d&127),d>>>=7,m-=7}if(s.have+p>s.nlen+s.ndist){e.msg="invalid bit length repeat",s.mode=Oa;break}for(;p--;)s.lens[s.have++]=R}}if(s.mode===Oa)break;if(s.lens[256]===0){e.msg="invalid code -- missing end-of-block",s.mode=Oa;break}if(s.lenbits=9,z={bits:s.lenbits},D=bv(FW,s.lens,0,s.nlen,s.lencode,0,s.work,z),s.lenbits=z.bits,D){e.msg="invalid literal/lengths set",s.mode=Oa;break}if(s.distbits=6,s.distcode=s.distdyn,z={bits:s.distbits},D=bv(BW,s.lens,s.nlen,s.ndist,s.distcode,0,s.work,z),s.distbits=z.bits,D){e.msg="invalid distances set",s.mode=Oa;break}if(s.mode=T1,t===k1)break e;case T1:s.mode=E1;case E1:if(o>=6&&u>=258){e.next_out=l,e.avail_out=u,e.next_in=i,e.avail_in=o,s.hold=d,s.bits=m,VOe(e,g),l=e.next_out,n=e.output,u=e.avail_out,i=e.next_in,a=e.input,o=e.avail_in,d=s.hold,m=s.bits,s.mode===Vu&&(s.back=-1);break}for(s.back=0;j=s.lencode[d&(1<<s.lenbits)-1],N=j>>>24,k=j>>>16&255,w=j&65535,!(N<=m);){if(o===0)break e;o--,d+=a[i++]<<m,m+=8}if(k&&(k&240)===0){for(A=N,C=k,M=w;j=s.lencode[M+((d&(1<<A+C)-1)>>A)],N=j>>>24,k=j>>>16&255,w=j&65535,!(A+N<=m);){if(o===0)break e;o--,d+=a[i++]<<m,m+=8}d>>>=A,m-=A,s.back+=A}if(d>>>=N,m-=N,s.back+=N,s.length=w,k===0){s.mode=MI;break}if(k&32){s.back=-1,s.mode=Vu;break}if(k&64){e.msg="invalid literal/length code",s.mode=Oa;break}s.extra=k&15,s.mode=OI;case OI:if(s.extra){for(I=s.extra;m<I;){if(o===0)break e;o--,d+=a[i++]<<m,m+=8}s.length+=d&(1<<s.extra)-1,d>>>=s.extra,m-=s.extra,s.back+=s.extra}s.was=s.length,s.mode=PI;case PI:for(;j=s.distcode[d&(1<<s.distbits)-1],N=j>>>24,k=j>>>16&255,w=j&65535,!(N<=m);){if(o===0)break e;o--,d+=a[i++]<<m,m+=8}if((k&240)===0){for(A=N,C=k,M=w;j=s.distcode[M+((d&(1<<A+C)-1)>>A)],N=j>>>24,k=j>>>16&255,w=j&65535,!(A+N<=m);){if(o===0)break e;o--,d+=a[i++]<<m,m+=8}d>>>=A,m-=A,s.back+=A}if(d>>>=N,m-=N,s.back+=N,k&64){e.msg="invalid distance code",s.mode=Oa;break}s.offset=w,s.extra=k&15,s.mode=DI;case DI:if(s.extra){for(I=s.extra;m<I;){if(o===0)break e;o--,d+=a[i++]<<m,m+=8}s.offset+=d&(1<<s.extra)-1,d>>>=s.extra,m-=s.extra,s.back+=s.extra}if(s.offset>s.dmax){e.msg="invalid distance too far back",s.mode=Oa;break}s.mode=RI;case RI:if(u===0)break e;if(p=g-u,s.offset>p){if(p=s.offset-p,p>s.whave&&s.sane){e.msg="invalid distance too far back",s.mode=Oa;break}p>s.wnext?(p-=s.wnext,y=s.wsize-p):y=s.wnext-p,p>s.length&&(p=s.length),v=s.window}else v=n,y=l-s.offset,p=s.length;p>u&&(p=u),u-=p,s.length-=p;do n[l++]=v[y++];while(--p);s.length===0&&(s.mode=E1);break;case MI:if(u===0)break e;n[l++]=s.length,u--,s.mode=E1;break;case E3:if(s.wrap){for(;m<32;){if(o===0)break e;o--,d|=a[i++]<<m,m+=8}if(g-=u,e.total_out+=g,s.total+=g,s.wrap&4&&g&&(e.adler=s.check=s.flags?Wd(s.check,n,g,l-g):IA(s.check,n,g,l-g)),g=u,s.wrap&4&&(s.flags?d:FI(d))!==s.check){e.msg="incorrect data check",s.mode=Oa;break}d=0,m=0}s.mode=LI;case LI:if(s.wrap&&s.flags){for(;m<32;){if(o===0)break e;o--,d+=a[i++]<<m,m+=8}if(s.wrap&4&&d!==(s.total&4294967295)){e.msg="incorrect length check",s.mode=Oa;break}d=0,m=0}s.mode=II;case II:D=QOe;break e;case Oa:D=UW;break e;case $W:return zW;case HW:default:return Ac}return e.next_out=l,e.avail_out=u,e.next_in=i,e.avail_in=o,s.hold=d,s.bits=m,(s.wsize||g!==e.avail_out&&s.mode<Oa&&(s.mode<E3||t!==pI))&&KW(e,e.output,e.next_out,g-e.avail_out),f-=e.avail_in,g-=e.avail_out,e.total_in+=f,e.total_out+=g,s.total+=g,s.wrap&4&&g&&(e.adler=s.check=s.flags?Wd(s.check,n,g,e.next_out-g):IA(s.check,n,g,e.next_out-g)),e.data_type=s.bits+(s.last?64:0)+(s.mode===Vu?128:0)+(s.mode===T1||s.mode===T3?256:0),(f===0&&g===0||t===pI)&&D===x0&&(D=tPe),D},dPe=e=>{if(C0(e))return Ac;let t=e.state;return t.window&&(t.window=null),e.state=null,x0},uPe=(e,t)=>{if(C0(e))return Ac;const s=e.state;return(s.wrap&2)===0?Ac:(s.head=t,t.done=!1,x0)},hPe=(e,t)=>{const s=t.length;let a,n,i;return C0(e)||(a=e.state,a.wrap!==0&&a.mode!==tN)?Ac:a.mode===tN&&(n=1,n=IA(n,t,s,0),n!==a.check)?UW:(i=KW(e,t,s,s),i?(a.mode=$W,zW):(a.havedict=1,x0))};var mPe=VW,fPe=WW,pPe=qW,xPe=lPe,gPe=GW,vPe=cPe,yPe=dPe,bPe=uPe,jPe=hPe,NPe="pako inflate (from Nodeca project)",Gu={inflateReset:mPe,inflateReset2:fPe,inflateResetKeep:pPe,inflateInit:xPe,inflateInit2:gPe,inflate:vPe,inflateEnd:yPe,inflateGetHeader:bPe,inflateSetDictionary:jPe,inflateInfo:NPe};function wPe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var SPe=wPe;const YW=Object.prototype.toString,{Z_NO_FLUSH:_Pe,Z_FINISH:APe,Z_OK:Xv,Z_STREAM_END:D3,Z_NEED_DICT:R3,Z_STREAM_ERROR:CPe,Z_DATA_ERROR:UI,Z_MEM_ERROR:kPe}=MW;function Iy(e){this.options=LW.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new HOe,this.strm.avail_out=0;let s=Gu.inflateInit2(this.strm,t.windowBits);if(s!==Xv)throw new Error(FA[s]);if(this.header=new SPe,Gu.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=BA.string2buf(t.dictionary):YW.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(s=Gu.inflateSetDictionary(this.strm,t.dictionary),s!==Xv)))throw new Error(FA[s])}Iy.prototype.push=function(e,t){const s=this.strm,a=this.options.chunkSize,n=this.options.dictionary;let i,l,o;if(this.ended)return!1;for(t===~~t?l=t:l=t===!0?APe:_Pe,YW.call(e)==="[object ArrayBuffer]"?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;;){for(s.avail_out===0&&(s.output=new Uint8Array(a),s.next_out=0,s.avail_out=a),i=Gu.inflate(s,l),i===R3&&n&&(i=Gu.inflateSetDictionary(s,n),i===Xv?i=Gu.inflate(s,l):i===UI&&(i=R3));s.avail_in>0&&i===D3&&s.state.wrap>0&&e[s.next_in]!==0;)Gu.inflateReset(s),i=Gu.inflate(s,l);switch(i){case CPe:case UI:case R3:case kPe:return this.onEnd(i),this.ended=!0,!1}if(o=s.avail_out,s.next_out&&(s.avail_out===0||i===D3))if(this.options.to==="string"){let u=BA.utf8border(s.output,s.next_out),d=s.next_out-u,m=BA.buf2string(s.output,u);s.next_out=d,s.avail_out=a-d,d&&s.output.set(s.output.subarray(u,u+d),0),this.onData(m)}else this.onData(s.output.length===s.next_out?s.output:s.output.subarray(0,s.next_out));if(!(i===Xv&&o===0)){if(i===D3)return i=Gu.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(s.avail_in===0)break}}return!0};Iy.prototype.onData=function(e){this.chunks.push(e)};Iy.prototype.onEnd=function(e){e===Xv&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=LW.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function TPe(e,t){const s=new Iy(t);if(s.push(e),s.err)throw s.msg||FA[s.err];return s.result}var EPe=Iy,OPe=TPe,PPe={Inflate:EPe,inflate:OPe};const{Inflate:DPe,inflate:RPe}=PPe;var zI=DPe,MPe=RPe;const ZW=[];for(let e=0;e<256;e++){let t=e;for(let s=0;s<8;s++)t&1?t=3988292384^t>>>1:t=t>>>1;ZW[e]=t}const $I=4294967295;function LPe(e,t,s){let a=e;for(let n=0;n<s;n++)a=ZW[(a^t[n])&255]^a>>>8;return a}function IPe(e,t){return(LPe($I,e,t)^$I)>>>0}function HI(e,t,s){const a=e.readUint32(),n=IPe(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(n!==a)throw new Error(`CRC mismatch for chunk ${s}. Expected ${a}, found ${n}`)}function XW(e,t,s){for(let a=0;a<s;a++)t[a]=e[a]}function JW(e,t,s,a){let n=0;for(;n<a;n++)t[n]=e[n];for(;n<s;n++)t[n]=e[n]+t[n-a]&255}function QW(e,t,s,a){let n=0;if(s.length===0)for(;n<a;n++)t[n]=e[n];else for(;n<a;n++)t[n]=e[n]+s[n]&255}function eG(e,t,s,a,n){let i=0;if(s.length===0){for(;i<n;i++)t[i]=e[i];for(;i<a;i++)t[i]=e[i]+(t[i-n]>>1)&255}else{for(;i<n;i++)t[i]=e[i]+(s[i]>>1)&255;for(;i<a;i++)t[i]=e[i]+(t[i-n]+s[i]>>1)&255}}function tG(e,t,s,a,n){let i=0;if(s.length===0){for(;i<n;i++)t[i]=e[i];for(;i<a;i++)t[i]=e[i]+t[i-n]&255}else{for(;i<n;i++)t[i]=e[i]+s[i]&255;for(;i<a;i++)t[i]=e[i]+FPe(t[i-n],s[i],s[i-n])&255}}function FPe(e,t,s){const a=e+t-s,n=Math.abs(a-e),i=Math.abs(a-t),l=Math.abs(a-s);return n<=i&&n<=l?e:i<=l?t:s}function BPe(e,t,s,a,n,i){switch(e){case 0:XW(t,s,n);break;case 1:JW(t,s,n,i);break;case 2:QW(t,s,a,n);break;case 3:eG(t,s,a,n,i);break;case 4:tG(t,s,a,n,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const UPe=new Uint16Array([255]),zPe=new Uint8Array(UPe.buffer),$Pe=zPe[0]===255;function HPe(e){const{data:t,width:s,height:a,channels:n,depth:i}=e,l=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(i/8)*n,u=new Uint8Array(a*s*o);let d=0;for(let m=0;m<7;m++){const f=l[m],g=Math.ceil((s-f.x)/f.xStep),p=Math.ceil((a-f.y)/f.yStep);if(g<=0||p<=0)continue;const y=g*o,v=new Uint8Array(y);for(let j=0;j<p;j++){const N=t[d++],k=t.subarray(d,d+y);d+=y;const w=new Uint8Array(y);BPe(N,k,w,v,y,o),v.set(w);for(let A=0;A<g;A++){const C=f.x+A*f.xStep,M=f.y+j*f.yStep;if(!(C>=s||M>=a))for(let R=0;R<o;R++)u[(M*s+C)*o+R]=w[A*o+R]}}}if(i===16){const m=new Uint16Array(u.buffer);if($Pe)for(let f=0;f<m.length;f++)m[f]=qPe(m[f]);return m}else return u}function qPe(e){return(e&255)<<8|e>>8&255}const VPe=new Uint16Array([255]),WPe=new Uint8Array(VPe.buffer),GPe=WPe[0]===255,KPe=new Uint8Array(0);function qI(e){const{data:t,width:s,height:a,channels:n,depth:i}=e,l=Math.ceil(i/8)*n,o=Math.ceil(i/8*n*s),u=new Uint8Array(a*o);let d=KPe,m=0,f,g;for(let p=0;p<a;p++){switch(f=t.subarray(m+1,m+1+o),g=u.subarray(p*o,(p+1)*o),t[m]){case 0:XW(f,g,o);break;case 1:JW(f,g,o,l);break;case 2:QW(f,g,d,o);break;case 3:eG(f,g,d,o,l);break;case 4:tG(f,g,d,o,l);break;default:throw new Error(`Unsupported filter: ${t[m]}`)}d=g,m+=o+1}if(i===16){const p=new Uint16Array(u.buffer);if(GPe)for(let y=0;y<p.length;y++)p[y]=YPe(p[y]);return p}else return u}function YPe(e){return(e&255)<<8|e>>8&255}const j2=Uint8Array.of(137,80,78,71,13,10,26,10);function VI(e){if(!ZPe(e.readBytes(j2.length)))throw new Error("wrong PNG signature")}function ZPe(e){if(e.length<j2.length)return!1;for(let t=0;t<j2.length;t++)if(e[t]!==j2[t])return!1;return!0}const XPe="tEXt",JPe=0,rG=new TextDecoder("latin1");function QPe(e){if(t8e(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const e8e=/^[\u0000-\u00FF]*$/;function t8e(e){if(!e8e.test(e))throw new Error("invalid latin1 text")}function r8e(e,t,s){const a=sG(t);e[a]=s8e(t,s-a.length-1)}function sG(e){for(e.mark();e.readByte()!==JPe;);const t=e.offset;e.reset();const s=rG.decode(e.readBytes(t-e.offset-1));return e.skip(1),QPe(s),s}function s8e(e,t){return rG.decode(e.readBytes(t))}const wo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},M3={UNKNOWN:-1,DEFLATE:0},WI={UNKNOWN:-1,ADAPTIVE:0},L3={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},O1={NONE:0,BACKGROUND:1,PREVIOUS:2},I3={SOURCE:0,OVER:1};class a8e extends rT{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,s={}){super(t);const{checkCrc:a=!1}=s;this._checkCrc=a,this._inflator=new zI,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=M3.UNKNOWN,this._filterMethod=WI.UNKNOWN,this._interlaceMethod=L3.UNKNOWN,this._colorType=wo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(VI(this);!this._end;){const t=this.readUint32(),s=this.readChars(4);this.decodeChunk(t,s)}return this.decodeImage(),this._png}decodeApng(){for(VI(this);!this._end;){const t=this.readUint32(),s=this.readChars(4);this.decodeApngChunk(t,s)}return this.decodeApngImage(),this._apng}decodeChunk(t,s){const a=this.offset;switch(s){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case XPe:r8e(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-a!==t)throw new Error(`Length mismatch while decoding chunk ${s}`);this._checkCrc?HI(this,t+4,s):this.skip(4)}decodeApngChunk(t,s){const a=this.offset;switch(s!=="fdAT"&&s!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),s){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,s),this.offset=a+t;break}if(this.offset-a!==t)throw new Error(`Length mismatch while decoding chunk ${s}`);this._checkCrc?HI(this,t+4,s):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=n8e(this.readUint8());const s=this.readUint8();this._colorType=s;let a;switch(s){case wo.GREYSCALE:a=1;break;case wo.TRUECOLOUR:a=3;break;case wo.INDEXED_COLOUR:a=1;break;case wo.GREYSCALE_ALPHA:a=2;break;case wo.TRUECOLOUR_ALPHA:a=4;break;case wo.UNKNOWN:default:throw new Error(`Unknown color type: ${s}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==M3.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const s=t/3;this._hasPalette=!0;const a=[];this._palette=a;for(let n=0;n<s;n++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const s=t,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,s)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let s=t,a=this.offset+this.byteOffset;if(a+=4,s-=4,this._inflator.push(new Uint8Array(this.buffer,a,s)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case wo.GREYSCALE:case wo.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let s=0;s<t/2;s++)this._transparency[s]=this.readUint16();break}case wo.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let s=0;for(;s<t;s++){const a=this.readByte();this._palette[s].push(a)}for(;s<this._palette.length;s++)this._palette[s].push(255);break}case wo.UNKNOWN:case wo.GREYSCALE_ALPHA:case wo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const s=sG(this),a=this.readUint8();if(a!==M3.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const n=this.readBytes(t-s.length-2);this._png.iccEmbeddedProfile={name:s,profile:MPe(n)}}decodepHYs(){const t=this.readUint32(),s=this.readUint32(),a=this.readByte();this._png.resolution={x:t,y:s,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const s={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(t);if(a){if(a.data=qI({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)s.data=a.data;else{const n=this._apng.frames.at(t-1);this.disposeFrame(a,n,s),this.addFrameDataToCanvas(s,a)}this._apng.frames.push(s)}}return this._apng}disposeFrame(t,s,a){switch(t.disposeOp){case O1.NONE:break;case O1.BACKGROUND:for(let n=0;n<this._png.height;n++)for(let i=0;i<this._png.width;i++){const l=(n*t.width+i)*this._png.channels;for(let o=0;o<this._png.channels;o++)a.data[l+o]=0}break;case O1.PREVIOUS:a.data.set(s.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,s){const a=1<<this._png.depth,n=(i,l)=>{const o=((i+s.yOffset)*this._png.width+s.xOffset+l)*this._png.channels,u=(i*s.width+l)*this._png.channels;return{index:o,frameIndex:u}};switch(s.blendOp){case I3.SOURCE:for(let i=0;i<s.height;i++)for(let l=0;l<s.width;l++){const{index:o,frameIndex:u}=n(i,l);for(let d=0;d<this._png.channels;d++)t.data[o+d]=s.data[u+d]}break;case I3.OVER:for(let i=0;i<s.height;i++)for(let l=0;l<s.width;l++){const{index:o,frameIndex:u}=n(i,l);for(let d=0;d<this._png.channels;d++){const m=s.data[u+this._png.channels-1]/a,f=d%(this._png.channels-1)===0?1:s.data[u+d],g=Math.floor(m*f+(1-m)*t.data[o+d]);t.data[o+d]+=g}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==WI.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===L3.NO_INTERLACE)this._png.data=qI({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===L3.ADAM7)this._png.data=HPe({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,s=this._frames.at(-1);s?s.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:O1.NONE,blendOp:I3.SOURCE,data:t}),this._inflator=new zI,this._writingDataChunks=!1}}function n8e(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var GI;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(GI||(GI={}));function i8e(e,t){return new a8e(e,t).decode()}var Ar=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function F3(){Ar.console&&typeof Ar.console.log=="function"&&Ar.console.log.apply(Ar.console,arguments)}var la={log:F3,warn:function(e){Ar.console&&(typeof Ar.console.warn=="function"?Ar.console.warn.apply(Ar.console,arguments):F3.call(null,arguments))},error:function(e){Ar.console&&(typeof Ar.console.error=="function"?Ar.console.error.apply(Ar.console,arguments):F3(e))}};function B3(e,t,s){var a=new XMLHttpRequest;a.open("GET",e),a.responseType="blob",a.onload=function(){Rf(a.response,t,s)},a.onerror=function(){la.error("could not download file")},a.send()}function KI(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function P1(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Rf=Ar.saveAs||((typeof window>"u"?"undefined":$s(window))!=="object"||window!==Ar?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,s){var a=Ar.URL||Ar.webkitURL,n=document.createElement("a");t=t||e.name||"download",n.download=t,n.rel="noopener",typeof e=="string"?(n.href=e,n.origin!==location.origin?KI(n.href)?B3(e,t,s):P1(n,n.target="_blank"):P1(n)):(n.href=a.createObjectURL(e),setTimeout(function(){a.revokeObjectURL(n.href)},4e4),setTimeout(function(){P1(n)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,s){if(t=t||e.name||"download",typeof e=="string")if(KI(e))B3(e,t,s);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout(function(){P1(a)})}else navigator.msSaveOrOpenBlob((function(n,i){return i===void 0?i={autoBom:!1}:$s(i)!=="object"&&(la.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(n.type)?new Blob(["\uFEFF",n],{type:n.type}):n})(e,s),t)}:function(e,t,s,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),typeof e=="string")return B3(e,t,s);var n=e.type==="application/octet-stream",i=/constructor/i.test(Ar.HTMLElement)||Ar.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||n&&i)&&(typeof FileReader>"u"?"undefined":$s(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var m=o.result;m=l?m:m.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=m:location=m,a=null},o.readAsDataURL(e)}else{var u=Ar.URL||Ar.webkitURL,d=u.createObjectURL(e);a?a.location=d:location.href=d,a=null,setTimeout(function(){u.revokeObjectURL(d)},4e4)}});function aG(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var s=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],a=0;a<s.length;a++){var n=s[a].re,i=s[a].process,l=n.exec(e);l&&(t=i(l),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),u=this.g.toString(16),d=this.b.toString(16);return o.length==1&&(o="0"+o),u.length==1&&(u="0"+u),d.length==1&&(d="0"+d),"#"+o+u+d}}var N2=Ar.atob.bind(Ar),YI=Ar.btoa.bind(Ar);function U3(e,t){var s=e[0],a=e[1],n=e[2],i=e[3];s=Wi(s,a,n,i,t[0],7,-680876936),i=Wi(i,s,a,n,t[1],12,-389564586),n=Wi(n,i,s,a,t[2],17,606105819),a=Wi(a,n,i,s,t[3],22,-1044525330),s=Wi(s,a,n,i,t[4],7,-176418897),i=Wi(i,s,a,n,t[5],12,1200080426),n=Wi(n,i,s,a,t[6],17,-1473231341),a=Wi(a,n,i,s,t[7],22,-45705983),s=Wi(s,a,n,i,t[8],7,1770035416),i=Wi(i,s,a,n,t[9],12,-1958414417),n=Wi(n,i,s,a,t[10],17,-42063),a=Wi(a,n,i,s,t[11],22,-1990404162),s=Wi(s,a,n,i,t[12],7,1804603682),i=Wi(i,s,a,n,t[13],12,-40341101),n=Wi(n,i,s,a,t[14],17,-1502002290),s=Gi(s,a=Wi(a,n,i,s,t[15],22,1236535329),n,i,t[1],5,-165796510),i=Gi(i,s,a,n,t[6],9,-1069501632),n=Gi(n,i,s,a,t[11],14,643717713),a=Gi(a,n,i,s,t[0],20,-373897302),s=Gi(s,a,n,i,t[5],5,-701558691),i=Gi(i,s,a,n,t[10],9,38016083),n=Gi(n,i,s,a,t[15],14,-660478335),a=Gi(a,n,i,s,t[4],20,-405537848),s=Gi(s,a,n,i,t[9],5,568446438),i=Gi(i,s,a,n,t[14],9,-1019803690),n=Gi(n,i,s,a,t[3],14,-187363961),a=Gi(a,n,i,s,t[8],20,1163531501),s=Gi(s,a,n,i,t[13],5,-1444681467),i=Gi(i,s,a,n,t[2],9,-51403784),n=Gi(n,i,s,a,t[7],14,1735328473),s=Ki(s,a=Gi(a,n,i,s,t[12],20,-1926607734),n,i,t[5],4,-378558),i=Ki(i,s,a,n,t[8],11,-2022574463),n=Ki(n,i,s,a,t[11],16,1839030562),a=Ki(a,n,i,s,t[14],23,-35309556),s=Ki(s,a,n,i,t[1],4,-1530992060),i=Ki(i,s,a,n,t[4],11,1272893353),n=Ki(n,i,s,a,t[7],16,-155497632),a=Ki(a,n,i,s,t[10],23,-1094730640),s=Ki(s,a,n,i,t[13],4,681279174),i=Ki(i,s,a,n,t[0],11,-358537222),n=Ki(n,i,s,a,t[3],16,-722521979),a=Ki(a,n,i,s,t[6],23,76029189),s=Ki(s,a,n,i,t[9],4,-640364487),i=Ki(i,s,a,n,t[12],11,-421815835),n=Ki(n,i,s,a,t[15],16,530742520),s=Yi(s,a=Ki(a,n,i,s,t[2],23,-995338651),n,i,t[0],6,-198630844),i=Yi(i,s,a,n,t[7],10,1126891415),n=Yi(n,i,s,a,t[14],15,-1416354905),a=Yi(a,n,i,s,t[5],21,-57434055),s=Yi(s,a,n,i,t[12],6,1700485571),i=Yi(i,s,a,n,t[3],10,-1894986606),n=Yi(n,i,s,a,t[10],15,-1051523),a=Yi(a,n,i,s,t[1],21,-2054922799),s=Yi(s,a,n,i,t[8],6,1873313359),i=Yi(i,s,a,n,t[15],10,-30611744),n=Yi(n,i,s,a,t[6],15,-1560198380),a=Yi(a,n,i,s,t[13],21,1309151649),s=Yi(s,a,n,i,t[4],6,-145523070),i=Yi(i,s,a,n,t[11],10,-1120210379),n=Yi(n,i,s,a,t[2],15,718787259),a=Yi(a,n,i,s,t[9],21,-343485551),e[0]=Em(s,e[0]),e[1]=Em(a,e[1]),e[2]=Em(n,e[2]),e[3]=Em(i,e[3])}function Fw(e,t,s,a,n,i){return t=Em(Em(t,e),Em(a,i)),Em(t<<n|t>>>32-n,s)}function Wi(e,t,s,a,n,i,l){return Fw(t&s|~t&a,e,t,n,i,l)}function Gi(e,t,s,a,n,i,l){return Fw(t&a|s&~a,e,t,n,i,l)}function Ki(e,t,s,a,n,i,l){return Fw(t^s^a,e,t,n,i,l)}function Yi(e,t,s,a,n,i,l){return Fw(s^(t|~a),e,t,n,i,l)}function nG(e){var t,s=e.length,a=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)U3(a,l8e(e.substring(t-64,t)));e=e.substring(t-64);var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)n[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(n[t>>2]|=128<<(t%4<<3),t>55)for(U3(a,n),t=0;t<16;t++)n[t]=0;return n[14]=8*s,U3(a,n),a}function l8e(e){var t,s=[];for(t=0;t<64;t+=4)s[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return s}var ZI="0123456789abcdef".split("");function o8e(e){for(var t="",s=0;s<4;s++)t+=ZI[e>>8*s+4&15]+ZI[e>>8*s&15];return t}function c8e(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function UA(e){return nG(e).map(c8e).join("")}var d8e=(function(e){for(var t=0;t<e.length;t++)e[t]=o8e(e[t]);return e.join("")})(nG("hello"))!="5d41402abc4b2a76b9719d911017c592";function Em(e,t){if(d8e){var s=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(s>>16)<<16|65535&s}return e+t&4294967295}function zA(e,t){var s,a,n,i;if(e!==s){for(var l=(n=e,i=1+(256/e.length|0),new Array(i+1).join(n)),o=[],u=0;u<256;u++)o[u]=u;var d=0;for(u=0;u<256;u++){var m=o[u];d=(d+m+l.charCodeAt(u))%256,o[u]=o[d],o[d]=m}s=e,a=o}else o=a;var f=t.length,g=0,p=0,y="";for(u=0;u<f;u++)p=(p+(m=o[g=(g+1)%256]))%256,o[g]=o[p],o[p]=m,l=o[(o[g]+o[p])%256],y+=String.fromCharCode(t.charCodeAt(u)^l);return y}var XI={print:4,modify:8,copy:16,"annot-forms":32};function Mp(e,t,s,a){this.v=1,this.r=2;var n=192;e.forEach(function(o){if(XI.perm!==void 0)throw new Error("Invalid permission: "+o);n+=XI[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),l=(s+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,l),this.P=-(1+(255^n)),this.encryptionKey=UA(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(a)).substr(0,5),this.U=zA(this.encryptionKey,this.padding)}function Lp(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",s=e.length,a=0;a<s;a++){var n=e.charCodeAt(a);t+=n<33||n===35||n===37||n===40||n===41||n===47||n===60||n===62||n===91||n===93||n===123||n===125||n>126?"#"+("0"+n.toString(16)).slice(-2):e[a]}return t}function JI(e){if($s(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(s,a,n){if(n=n||!1,typeof s!="string"||typeof a!="function"||typeof n!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(s)||(t[s]={});var i=Math.random().toString(35);return t[s][i]=[a,!!n],i},this.unsubscribe=function(s){for(var a in t)if(t[a][s])return delete t[a][s],Object.keys(t[a]).length===0&&delete t[a],!0;return!1},this.publish=function(s){if(t.hasOwnProperty(s)){var a=Array.prototype.slice.call(arguments,1),n=[];for(var i in t[s]){var l=t[s][i];try{l[0].apply(e,a)}catch(o){Ar.console&&la.error("jsPDF PubSub Error",o.message,o)}l[1]&&n.push(i)}n.length&&n.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function rN(e){if(!(this instanceof rN))return new rN(e);var t="opacity,stroke-opacity".split(",");for(var s in e)e.hasOwnProperty(s)&&t.indexOf(s)>=0&&(this[s]=e[s]);this.id="",this.objectNumber=-1}function iG(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Lf(e,t,s,a,n){if(!(this instanceof Lf))return new Lf(e,t,s,a,n);this.type=e==="axial"?2:3,this.coords=t,this.colors=s,iG.call(this,a,n)}function Gp(e,t,s,a,n){if(!(this instanceof Gp))return new Gp(e,t,s,a,n);this.boundingBox=e,this.xStep=t,this.yStep=s,this.stream="",this.cloneIndex=0,iG.call(this,a,n)}function cr(e){var t,s=typeof arguments[0]=="string"?arguments[0]:"p",a=arguments[1],n=arguments[2],i=arguments[3],l=[],o=1,u=16,d="S",m=null;$s(e=e||{})==="object"&&(s=e.orientation,a=e.unit||a,n=e.format||n,i=e.compress||e.compressPdf||i,(m=e.encryption||null)!==null&&(m.userPassword=m.userPassword||"",m.ownerPassword=m.ownerPassword||"",m.userPermissions=m.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(u=e.floatPrecision),d=e.defaultPathOperation||"S"),l=e.filters||(i===!0?["FlateEncode"]:l),a=a||"mm",s=(""+(s||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,g={},p={internal:{},__private__:{}};p.__private__.PubSub=JI;var y="1.3",v=p.__private__.getPdfVersion=function(){return y};p.__private__.setPdfVersion=function(L){y=L};var j={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return j};var N=p.__private__.getPageFormat=function(L){return j[L]};n=n||"a4";var k="compat",w="advanced",A=k;function C(){this.saveGraphicsState(),fe(new or(Qt,0,0,-Qt,0,Ic()*Qt).toString()+" cm"),this.setFontSize(this.getFontSize()/Qt),d="n",A=w}function M(){this.restoreGraphicsState(),d="S",A=k}var R=p.__private__.combineFontStyleAndFontWeight=function(L,J){if(L=="bold"&&J=="normal"||L=="bold"&&J==400||L=="normal"&&J=="italic"||L=="bold"&&J=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return J&&(L=J==400||J==="normal"?L==="italic"?"italic":"normal":J!=700&&J!=="bold"||L!=="normal"?(J==700?"bold":J)+""+L:"bold"),L};p.advancedAPI=function(L){var J=A===k;return J&&C.call(this),typeof L!="function"||(L(this),J&&M.call(this)),this},p.compatAPI=function(L){var J=A===w;return J&&M.call(this),typeof L!="function"||(L(this),J&&C.call(this)),this},p.isAdvancedAPI=function(){return A===w};var D,B=function(L){if(A!==w)throw new Error(L+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},z=p.roundToPrecision=p.__private__.roundToPrecision=function(L,J){var Ee=t||J;if(isNaN(L)||isNaN(Ee))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return L.toFixed(Ee).replace(/0+$/,"")};D=p.hpf=p.__private__.hpf=typeof u=="number"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return z(L,u)}:u==="smart"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return z(L,L>-1&&L<1?16:5)}:function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return z(L,16)};var I=p.f2=p.__private__.f2=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f2");return z(L,2)},F=p.__private__.f3=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f3");return z(L,3)},Y=p.scale=p.__private__.scale=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.scale");return A===k?L*Qt:A===w?L:void 0},te=function(L){return Y((function(J){return A===k?Ic()-J:A===w?J:void 0})(L))};p.__private__.setPrecision=p.setPrecision=function(L){typeof parseInt(L,10)=="number"&&(t=parseInt(L,10))};var ue,Z="00000000000000000000000000000000",ie=p.__private__.getFileId=function(){return Z},G=p.__private__.setFileId=function(L){return Z=L!==void 0&&/^[a-fA-F0-9]{32}$/.test(L)?L.toUpperCase():Z.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),m!==null&&(cn=new Mp(m.userPermissions,m.userPassword,m.ownerPassword,Z)),Z};p.setFileId=function(L){return G(L),this},p.getFileId=function(){return ie()};var ee=p.__private__.convertDateToPDFDate=function(L){var J=L.getTimezoneOffset(),Ee=J<0?"+":"-",Le=Math.floor(Math.abs(J/60)),He=Math.abs(J%60),gt=[Ee,q(Le),"'",q(He),"'"].join("");return["D:",L.getFullYear(),q(L.getMonth()+1),q(L.getDate()),q(L.getHours()),q(L.getMinutes()),q(L.getSeconds()),gt].join("")},Ne=p.__private__.convertPDFDateToDate=function(L){var J=parseInt(L.substr(2,4),10),Ee=parseInt(L.substr(6,2),10)-1,Le=parseInt(L.substr(8,2),10),He=parseInt(L.substr(10,2),10),gt=parseInt(L.substr(12,2),10),Ct=parseInt(L.substr(14,2),10);return new Date(J,Ee,Le,He,gt,Ct,0)},X=p.__private__.setCreationDate=function(L){var J;if(L===void 0&&(L=new Date),L instanceof Date)J=ee(L);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(L))throw new Error("Invalid argument passed to jsPDF.setCreationDate");J=L}return ue=J},P=p.__private__.getCreationDate=function(L){var J=ue;return L==="jsDate"&&(J=Ne(ue)),J};p.setCreationDate=function(L){return X(L),this},p.getCreationDate=function(L){return P(L)};var H,q=p.__private__.padd2=function(L){return("0"+parseInt(L)).slice(-2)},W=p.__private__.padd2Hex=function(L){return("00"+(L=L.toString())).substr(L.length)},le=0,Se=[],Pe=[],re=0,ye=[],ze=[],Ce=!1,it=Pe;p.__private__.setCustomOutputDestination=function(L){Ce=!0,it=L};var rt=function(L){Ce||(it=L)};p.__private__.resetCustomOutputDestination=function(){Ce=!1,it=Pe};var fe=p.__private__.out=function(L){return L=L.toString(),re+=L.length+1,it.push(L),it},ke=p.__private__.write=function(L){return fe(arguments.length===1?L.toString():Array.prototype.join.call(arguments," "))},Ie=p.__private__.getArrayBuffer=function(L){for(var J=L.length,Ee=new ArrayBuffer(J),Le=new Uint8Array(Ee);J--;)Le[J]=L.charCodeAt(J);return Ee},je=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return je};var Me=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(L){return Me=A===w?L/Qt:L,this};var yt,xe=p.__private__.getFontSize=p.getFontSize=function(){return A===k?Me:Me*Qt},be=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(L){return be=L,this},p.__private__.getR2L=p.getR2L=function(){return be};var De,st=p.__private__.setZoomMode=function(L){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(L))yt=L;else if(isNaN(L)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(L)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+L+'" is not recognized.');yt=L}else yt=parseInt(L,10)};p.__private__.getZoomMode=function(){return yt};var ut,lt=p.__private__.setPageMode=function(L){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(L)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+L+'" is not recognized.');De=L};p.__private__.getPageMode=function(){return De};var At=p.__private__.setLayoutMode=function(L){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(L)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+L+'" is not recognized.');ut=L};p.__private__.getLayoutMode=function(){return ut},p.__private__.setDisplayMode=p.setDisplayMode=function(L,J,Ee){return st(L),At(J),lt(Ee),this};var Lt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(L){if(Object.keys(Lt).indexOf(L)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Lt[L]},p.__private__.getDocumentProperties=function(){return Lt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(L){for(var J in Lt)Lt.hasOwnProperty(J)&&L[J]&&(Lt[J]=L[J]);return this},p.__private__.setDocumentProperty=function(L,J){if(Object.keys(Lt).indexOf(L)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Lt[L]=J};var Et,Qt,qt,rs,Tr,nr={},mr={},Lr=[],ir={},ms={},dr={},br={},_s=null,kr=0,rr=[],Yr=new JI(p),ol=e.hotfixes||[],bn={},kl={},zi=[],or=function L(J,Ee,Le,He,gt,Ct){if(!(this instanceof L))return new L(J,Ee,Le,He,gt,Ct);isNaN(J)&&(J=1),isNaN(Ee)&&(Ee=0),isNaN(Le)&&(Le=0),isNaN(He)&&(He=1),isNaN(gt)&&(gt=0),isNaN(Ct)&&(Ct=0),this._matrix=[J,Ee,Le,He,gt,Ct]};Object.defineProperty(or.prototype,"sx",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(or.prototype,"shy",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(or.prototype,"shx",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(or.prototype,"sy",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(or.prototype,"tx",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(or.prototype,"ty",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(or.prototype,"a",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(or.prototype,"b",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(or.prototype,"c",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(or.prototype,"d",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(or.prototype,"e",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(or.prototype,"f",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(or.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(or.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(or.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(or.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),or.prototype.join=function(L){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(D).join(L)},or.prototype.multiply=function(L){var J=L.sx*this.sx+L.shy*this.shx,Ee=L.sx*this.shy+L.shy*this.sy,Le=L.shx*this.sx+L.sy*this.shx,He=L.shx*this.shy+L.sy*this.sy,gt=L.tx*this.sx+L.ty*this.shx+this.tx,Ct=L.tx*this.shy+L.ty*this.sy+this.ty;return new or(J,Ee,Le,He,gt,Ct)},or.prototype.decompose=function(){var L=this.sx,J=this.shy,Ee=this.shx,Le=this.sy,He=this.tx,gt=this.ty,Ct=Math.sqrt(L*L+J*J),Zt=(L/=Ct)*Ee+(J/=Ct)*Le;Ee-=L*Zt,Le-=J*Zt;var sr=Math.sqrt(Ee*Ee+Le*Le);return Zt/=sr,L*(Le/=sr)<J*(Ee/=sr)&&(L=-L,J=-J,Zt=-Zt,Ct=-Ct),{scale:new or(Ct,0,0,sr,0,0),translate:new or(1,0,0,1,He,gt),rotate:new or(L,J,-J,L,0,0),skew:new or(1,0,Zt,1,0,0)}},or.prototype.toString=function(L){return this.join(" ")},or.prototype.inversed=function(){var L=this.sx,J=this.shy,Ee=this.shx,Le=this.sy,He=this.tx,gt=this.ty,Ct=1/(L*Le-J*Ee),Zt=Le*Ct,sr=-J*Ct,Nr=-Ee*Ct,Er=L*Ct;return new or(Zt,sr,Nr,Er,-Zt*He-Nr*gt,-sr*He-Er*gt)},or.prototype.applyToPoint=function(L){var J=L.x*this.sx+L.y*this.shx+this.tx,Ee=L.x*this.shy+L.y*this.sy+this.ty;return new Ol(J,Ee)},or.prototype.applyToRectangle=function(L){var J=this.applyToPoint(L),Ee=this.applyToPoint(new Ol(L.x+L.w,L.y+L.h));return new Pc(J.x,J.y,Ee.x-J.x,Ee.y-J.y)},or.prototype.clone=function(){var L=this.sx,J=this.shy,Ee=this.shx,Le=this.sy,He=this.tx,gt=this.ty;return new or(L,J,Ee,Le,He,gt)},p.Matrix=or;var lo=p.matrixMult=function(L,J){return J.multiply(L)},Tl=new or(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Tl;var In=function(L,J){if(!ms[L]){var Ee=(J instanceof Lf?"Sh":"P")+(Object.keys(ir).length+1).toString(10);J.id=Ee,ms[L]=Ee,ir[Ee]=J,Yr.publish("addPattern",J)}};p.ShadingPattern=Lf,p.TilingPattern=Gp,p.addShadingPattern=function(L,J){return B("addShadingPattern()"),In(L,J),this},p.beginTilingPattern=function(L){B("beginTilingPattern()"),ju(L.boundingBox[0],L.boundingBox[1],L.boundingBox[2]-L.boundingBox[0],L.boundingBox[3]-L.boundingBox[1],L.matrix)},p.endTilingPattern=function(L,J){B("endTilingPattern()"),J.stream=ze[H].join(`
`),In(L,J),Yr.publish("endTilingPattern",J),zi.pop().restore()};var bi,Ks=p.__private__.newObject=function(){var L=Aa();return se(L,!0),L},Aa=p.__private__.newObjectDeferred=function(){return le++,Se[le]=function(){return re},le},se=function(L,J){return J=typeof J=="boolean"&&J,Se[L]=re,J&&fe(L+" 0 obj"),L},Te=p.__private__.newAdditionalObject=function(){var L={objId:Aa(),content:""};return ye.push(L),L},pe=Aa(),ge=Aa(),we=p.__private__.decodeColorString=function(L){var J=L.split(" ");if(J.length!==2||J[1]!=="g"&&J[1]!=="G")J.length!==5||J[4]!=="k"&&J[4]!=="K"||(J=[(1-J[0])*(1-J[3]),(1-J[1])*(1-J[3]),(1-J[2])*(1-J[3]),"r"]);else{var Ee=parseFloat(J[0]);J=[Ee,Ee,Ee,"r"]}for(var Le="#",He=0;He<3;He++)Le+=("0"+Math.floor(255*parseFloat(J[He])).toString(16)).slice(-2);return Le},Oe=p.__private__.encodeColorString=function(L){var J;typeof L=="string"&&(L={ch1:L});var Ee=L.ch1,Le=L.ch2,He=L.ch3,gt=L.ch4,Ct=L.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ee=="string"&&Ee.charAt(0)!=="#"){var Zt=new aG(Ee);if(Zt.ok)Ee=Zt.toHex();else if(!/^\d*\.?\d*$/.test(Ee))throw new Error('Invalid color "'+Ee+'" passed to jsPDF.encodeColorString.')}if(typeof Ee=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ee)&&(Ee="#"+Ee[1]+Ee[1]+Ee[2]+Ee[2]+Ee[3]+Ee[3]),typeof Ee=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ee)){var sr=parseInt(Ee.substr(1),16);Ee=sr>>16&255,Le=sr>>8&255,He=255&sr}if(Le===void 0||gt===void 0&&Ee===Le&&Le===He)J=typeof Ee=="string"?Ee+" "+Ct[0]:L.precision===2?I(Ee/255)+" "+Ct[0]:F(Ee/255)+" "+Ct[0];else if(gt===void 0||$s(gt)==="object"){if(gt&&!isNaN(gt.a)&&gt.a===0)return["1.","1.","1.",Ct[1]].join(" ");J=typeof Ee=="string"?[Ee,Le,He,Ct[1]].join(" "):L.precision===2?[I(Ee/255),I(Le/255),I(He/255),Ct[1]].join(" "):[F(Ee/255),F(Le/255),F(He/255),Ct[1]].join(" ")}else J=typeof Ee=="string"?[Ee,Le,He,gt,Ct[2]].join(" "):L.precision===2?[I(Ee),I(Le),I(He),I(gt),Ct[2]].join(" "):[F(Ee),F(Le),F(He),F(gt),Ct[2]].join(" ");return J},Ge=p.__private__.getFilters=function(){return l},dt=p.__private__.putStream=function(L){var J=(L=L||{}).data||"",Ee=L.filters||Ge(),Le=L.alreadyAppliedFilters||[],He=L.addLength1||!1,gt=J.length,Ct=L.objectId,Zt=function(dn){return dn};if(m!==null&&Ct===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");m!==null&&(Zt=cn.encryptor(Ct,0));var sr={};Ee===!0&&(Ee=["FlateEncode"]);var Nr=L.additionalKeyValues||[],Er=(sr=cr.API.processDataByFilters!==void 0?cr.API.processDataByFilters(J,Ee):{data:J,reverseChain:[]}).reverseChain+(Array.isArray(Le)?Le.join(" "):Le.toString());if(sr.data.length!==0&&(Nr.push({key:"Length",value:sr.data.length}),He===!0&&Nr.push({key:"Length1",value:gt})),Er.length!=0)if(Er.split("/").length-1==1)Nr.push({key:"Filter",value:Er});else{Nr.push({key:"Filter",value:"["+Er+"]"});for(var ss=0;ss<Nr.length;ss+=1)if(Nr[ss].key==="DecodeParms"){for(var xa=[],Ia=0;Ia<sr.reverseChain.split("/").length-1;Ia+=1)xa.push("null");xa.push(Nr[ss].value),Nr[ss].value="["+xa.join(" ")+"]"}}fe("<<");for(var Ys=0;Ys<Nr.length;Ys++)fe("/"+Nr[Ys].key+" "+Nr[Ys].value);fe(">>"),sr.data.length!==0&&(fe("stream"),fe(Zt(sr.data)),fe("endstream"))},Ye=p.__private__.putPage=function(L){var J=L.number,Ee=L.data,Le=L.objId,He=L.contentsObjId;se(Le,!0),fe("<</Type /Page"),fe("/Parent "+L.rootDictionaryObjId+" 0 R"),fe("/Resources "+L.resourceDictionaryObjId+" 0 R"),fe("/MediaBox ["+parseFloat(D(L.mediaBox.bottomLeftX))+" "+parseFloat(D(L.mediaBox.bottomLeftY))+" "+D(L.mediaBox.topRightX)+" "+D(L.mediaBox.topRightY)+"]"),L.cropBox!==null&&fe("/CropBox ["+D(L.cropBox.bottomLeftX)+" "+D(L.cropBox.bottomLeftY)+" "+D(L.cropBox.topRightX)+" "+D(L.cropBox.topRightY)+"]"),L.bleedBox!==null&&fe("/BleedBox ["+D(L.bleedBox.bottomLeftX)+" "+D(L.bleedBox.bottomLeftY)+" "+D(L.bleedBox.topRightX)+" "+D(L.bleedBox.topRightY)+"]"),L.trimBox!==null&&fe("/TrimBox ["+D(L.trimBox.bottomLeftX)+" "+D(L.trimBox.bottomLeftY)+" "+D(L.trimBox.topRightX)+" "+D(L.trimBox.topRightY)+"]"),L.artBox!==null&&fe("/ArtBox ["+D(L.artBox.bottomLeftX)+" "+D(L.artBox.bottomLeftY)+" "+D(L.artBox.topRightX)+" "+D(L.artBox.topRightY)+"]"),typeof L.userUnit=="number"&&L.userUnit!==1&&fe("/UserUnit "+L.userUnit),Yr.publish("putPage",{objId:Le,pageContext:rr[J],pageNumber:J,page:Ee}),fe("/Contents "+He+" 0 R"),fe(">>"),fe("endobj");var gt=Ee.join(`
`);return A===w&&(gt+=`
Q`),se(He,!0),dt({data:gt,filters:Ge(),objectId:He}),fe("endobj"),Le},Ze=p.__private__.putPages=function(){var L,J,Ee=[];for(L=1;L<=kr;L++)rr[L].objId=Aa(),rr[L].contentsObjId=Aa();for(L=1;L<=kr;L++)Ee.push(Ye({number:L,data:ze[L],objId:rr[L].objId,contentsObjId:rr[L].contentsObjId,mediaBox:rr[L].mediaBox,cropBox:rr[L].cropBox,bleedBox:rr[L].bleedBox,trimBox:rr[L].trimBox,artBox:rr[L].artBox,userUnit:rr[L].userUnit,rootDictionaryObjId:pe,resourceDictionaryObjId:ge}));se(pe,!0),fe("<</Type /Pages");var Le="/Kids [";for(J=0;J<kr;J++)Le+=Ee[J]+" 0 R ";fe(Le+"]"),fe("/Count "+kr),fe(">>"),fe("endobj"),Yr.publish("postPutPages")},Qe=function(L){Yr.publish("putFont",{font:L,out:fe,newObject:Ks,putStream:dt}),L.isAlreadyPutted!==!0&&(L.objectNumber=Ks(),fe("<<"),fe("/Type /Font"),fe("/BaseFont /"+Lp(L.postScriptName)),fe("/Subtype /Type1"),typeof L.encoding=="string"&&fe("/Encoding /"+L.encoding),fe("/FirstChar 32"),fe("/LastChar 255"),fe(">>"),fe("endobj"))},Tt=function(L){L.objectNumber=Ks();var J=[];J.push({key:"Type",value:"/XObject"}),J.push({key:"Subtype",value:"/Form"}),J.push({key:"BBox",value:"["+[D(L.x),D(L.y),D(L.x+L.width),D(L.y+L.height)].join(" ")+"]"}),J.push({key:"Matrix",value:"["+L.matrix.toString()+"]"});var Ee=L.pages[1].join(`
`);dt({data:Ee,additionalKeyValues:J,objectId:L.objectNumber}),fe("endobj")},Mt=function(L,J){J||(J=21);var Ee=Ks(),Le=(function(Ct,Zt){var sr,Nr=[],Er=1/(Zt-1);for(sr=0;sr<1;sr+=Er)Nr.push(sr);if(Nr.push(1),Ct[0].offset!=0){var ss={offset:0,color:Ct[0].color};Ct.unshift(ss)}if(Ct[Ct.length-1].offset!=1){var xa={offset:1,color:Ct[Ct.length-1].color};Ct.push(xa)}for(var Ia="",Ys=0,dn=0;dn<Nr.length;dn++){for(sr=Nr[dn];sr>Ct[Ys+1].offset;)Ys++;var Wa=Ct[Ys].offset,Bn=(sr-Wa)/(Ct[Ys+1].offset-Wa),Fc=Ct[Ys].color,fo=Ct[Ys+1].color;Ia+=W(Math.round((1-Bn)*Fc[0]+Bn*fo[0]).toString(16))+W(Math.round((1-Bn)*Fc[1]+Bn*fo[1]).toString(16))+W(Math.round((1-Bn)*Fc[2]+Bn*fo[2]).toString(16))}return Ia.trim()})(L.colors,J),He=[];He.push({key:"FunctionType",value:"0"}),He.push({key:"Domain",value:"[0.0 1.0]"}),He.push({key:"Size",value:"["+J+"]"}),He.push({key:"BitsPerSample",value:"8"}),He.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),He.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),dt({data:Le,additionalKeyValues:He,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ee}),fe("endobj"),L.objectNumber=Ks(),fe("<< /ShadingType "+L.type),fe("/ColorSpace /DeviceRGB");var gt="/Coords ["+D(parseFloat(L.coords[0]))+" "+D(parseFloat(L.coords[1]))+" ";L.type===2?gt+=D(parseFloat(L.coords[2]))+" "+D(parseFloat(L.coords[3])):gt+=D(parseFloat(L.coords[2]))+" "+D(parseFloat(L.coords[3]))+" "+D(parseFloat(L.coords[4]))+" "+D(parseFloat(L.coords[5])),fe(gt+="]"),L.matrix&&fe("/Matrix ["+L.matrix.toString()+"]"),fe("/Function "+Ee+" 0 R"),fe("/Extend [true true]"),fe(">>"),fe("endobj")},$t=function(L,J){var Ee=Aa(),Le=Ks();J.push({resourcesOid:Ee,objectOid:Le}),L.objectNumber=Le;var He=[];He.push({key:"Type",value:"/Pattern"}),He.push({key:"PatternType",value:"1"}),He.push({key:"PaintType",value:"1"}),He.push({key:"TilingType",value:"1"}),He.push({key:"BBox",value:"["+L.boundingBox.map(D).join(" ")+"]"}),He.push({key:"XStep",value:D(L.xStep)}),He.push({key:"YStep",value:D(L.yStep)}),He.push({key:"Resources",value:Ee+" 0 R"}),L.matrix&&He.push({key:"Matrix",value:"["+L.matrix.toString()+"]"}),dt({data:L.stream,additionalKeyValues:He,objectId:L.objectNumber}),fe("endobj")},Rt=function(L){for(var J in L.objectNumber=Ks(),fe("<<"),L)switch(J){case"opacity":fe("/ca "+I(L[J]));break;case"stroke-opacity":fe("/CA "+I(L[J]))}fe(">>"),fe("endobj")},Ft=function(L){se(L.resourcesOid,!0),fe("<<"),fe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var J in fe("/Font <<"),nr)nr.hasOwnProperty(J)&&(f===!1||f===!0&&g.hasOwnProperty(J))&&fe("/"+J+" "+nr[J].objectNumber+" 0 R");fe(">>")})(),(function(){if(Object.keys(ir).length>0){for(var J in fe("/Shading <<"),ir)ir.hasOwnProperty(J)&&ir[J]instanceof Lf&&ir[J].objectNumber>=0&&fe("/"+J+" "+ir[J].objectNumber+" 0 R");Yr.publish("putShadingPatternDict"),fe(">>")}})(),(function(J){if(Object.keys(ir).length>0){for(var Ee in fe("/Pattern <<"),ir)ir.hasOwnProperty(Ee)&&ir[Ee]instanceof p.TilingPattern&&ir[Ee].objectNumber>=0&&ir[Ee].objectNumber<J&&fe("/"+Ee+" "+ir[Ee].objectNumber+" 0 R");Yr.publish("putTilingPatternDict"),fe(">>")}})(L.objectOid),(function(){if(Object.keys(dr).length>0){var J;for(J in fe("/ExtGState <<"),dr)dr.hasOwnProperty(J)&&dr[J].objectNumber>=0&&fe("/"+J+" "+dr[J].objectNumber+" 0 R");Yr.publish("putGStateDict"),fe(">>")}})(),(function(){for(var J in fe("/XObject <<"),bn)bn.hasOwnProperty(J)&&bn[J].objectNumber>=0&&fe("/"+J+" "+bn[J].objectNumber+" 0 R");Yr.publish("putXobjectDict"),fe(">>")})(),fe(">>"),fe("endobj")},Gt=function(L){mr[L.fontName]=mr[L.fontName]||{},mr[L.fontName][L.fontStyle]=L.id},As=function(L,J,Ee,Le,He){var gt={id:"F"+(Object.keys(nr).length+1).toString(10),postScriptName:L,fontName:J,fontStyle:Ee,encoding:Le,isStandardFont:He||!1,metadata:{}};return Yr.publish("addFont",{font:gt,instance:this}),nr[gt.id]=gt,Gt(gt),gt.id},Gr=p.__private__.pdfEscape=p.pdfEscape=function(L,J){return(function(Ee,Le){var He,gt,Ct,Zt,sr,Nr,Er,ss,xa;if(Ct=(Le=Le||{}).sourceEncoding||"Unicode",sr=Le.outputEncoding,(Le.autoencode||sr)&&nr[Et].metadata&&nr[Et].metadata[Ct]&&nr[Et].metadata[Ct].encoding&&(Zt=nr[Et].metadata[Ct].encoding,!sr&&nr[Et].encoding&&(sr=nr[Et].encoding),!sr&&Zt.codePages&&(sr=Zt.codePages[0]),typeof sr=="string"&&(sr=Zt[sr]),sr)){for(Er=!1,Nr=[],He=0,gt=Ee.length;He<gt;He++)(ss=sr[Ee.charCodeAt(He)])?Nr.push(String.fromCharCode(ss)):Nr.push(Ee[He]),Nr[He].charCodeAt(0)>>8&&(Er=!0);Ee=Nr.join("")}for(He=Ee.length;Er===void 0&&He!==0;)Ee.charCodeAt(He-1)>>8&&(Er=!0),He--;if(!Er)return Ee;for(Nr=Le.noBOM?[]:[254,255],He=0,gt=Ee.length;He<gt;He++){if((xa=(ss=Ee.charCodeAt(He))>>8)>>8)throw new Error("Character at position "+He+" of string '"+Ee+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Nr.push(xa),Nr.push(ss-(xa<<8))}return String.fromCharCode.apply(void 0,Nr)})(L,J).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ds=p.__private__.beginPage=function(L){ze[++kr]=[],rr[kr]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(L[0]),topRightY:Number(L[1])}},co(kr),rt(ze[H])},ji=function(L,J){var Ee,Le,He;switch(s=J||s,typeof L=="string"&&(Ee=N(L.toLowerCase()),Array.isArray(Ee)&&(Le=Ee[0],He=Ee[1])),Array.isArray(L)&&(Le=L[0]*Qt,He=L[1]*Qt),isNaN(Le)&&(Le=n[0],He=n[1]),(Le>14400||He>14400)&&(la.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Le=Math.min(14400,Le),He=Math.min(14400,He)),n=[Le,He],s.substr(0,1)){case"l":He>Le&&(n=[He,Le]);break;case"p":Le>He&&(n=[He,Le])}Ds(n),vr(vu),fe(ul),Lh!==0&&fe(Lh+" J"),jn!==0&&fe(jn+" j"),Yr.publish("addPage",{pageNumber:kr})},oo=function(L){L>0&&L<=kr&&(ze.splice(L,1),rr.splice(L,1),kr--,H>kr&&(H=kr),this.setPage(H))},co=function(L){L>0&&L<=kr&&(H=L)},cl=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return ze.length-1},_d=function(L,J,Ee){var Le,He=void 0;return Ee=Ee||{},L=L!==void 0?L:nr[Et].fontName,J=J!==void 0?J:nr[Et].fontStyle,Le=L.toLowerCase(),mr[Le]!==void 0&&mr[Le][J]!==void 0?He=mr[Le][J]:mr[L]!==void 0&&mr[L][J]!==void 0?He=mr[L][J]:Ee.disableWarning===!1&&la.warn("Unable to look up font label for font '"+L+"', '"+J+"'. Refer to getFontList() for available fonts."),He||Ee.noFallback||(He=mr.times[J])==null&&(He=mr.times.normal),He},pa=p.__private__.putInfo=function(){var L=Ks(),J=function(Le){return Le};for(var Ee in m!==null&&(J=cn.encryptor(L,0)),fe("<<"),fe("/Producer ("+Gr(J("jsPDF "+cr.version))+")"),Lt)Lt.hasOwnProperty(Ee)&&Lt[Ee]&&fe("/"+Ee.substr(0,1).toUpperCase()+Ee.substr(1)+" ("+Gr(J(Lt[Ee]))+")");fe("/CreationDate ("+Gr(J(ue))+")"),fe(">>"),fe("endobj")},Ec=p.__private__.putCatalog=function(L){var J=(L=L||{}).rootDictionaryObjId||pe;switch(Ks(),fe("<<"),fe("/Type /Catalog"),fe("/Pages "+J+" 0 R"),yt||(yt="fullwidth"),yt){case"fullwidth":fe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":fe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":fe("/OpenAction [3 0 R /Fit]");break;case"original":fe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ee=""+yt;Ee.substr(Ee.length-1)==="%"&&(yt=parseInt(yt)/100),typeof yt=="number"&&fe("/OpenAction [3 0 R /XYZ null null "+I(yt)+"]")}switch(ut||(ut="continuous"),ut){case"continuous":fe("/PageLayout /OneColumn");break;case"single":fe("/PageLayout /SinglePage");break;case"two":case"twoleft":fe("/PageLayout /TwoColumnLeft");break;case"tworight":fe("/PageLayout /TwoColumnRight")}De&&fe("/PageMode /"+De),Yr.publish("putCatalog"),fe(">>"),fe("endobj")},uo=p.__private__.putTrailer=function(){fe("trailer"),fe("<<"),fe("/Size "+(le+1)),fe("/Root "+le+" 0 R"),fe("/Info "+(le-1)+" 0 R"),m!==null&&fe("/Encrypt "+cn.oid+" 0 R"),fe("/ID [ <"+Z+"> <"+Z+"> ]"),fe(">>")},fs=p.__private__.putHeader=function(){fe("%PDF-"+y),fe("%")},ef=p.__private__.putXRef=function(){var L="0000000000";fe("xref"),fe("0 "+(le+1)),fe("0000000000 65535 f ");for(var J=1;J<=le;J++)typeof Se[J]=="function"?fe((L+Se[J]()).slice(-10)+" 00000 n "):Se[J]!==void 0?fe((L+Se[J]).slice(-10)+" 00000 n "):fe("0000000000 00000 n ")},qo=p.__private__.buildDocument=function(){var L;le=0,re=0,Pe=[],Se=[],ye=[],pe=Aa(),ge=Aa(),rt(Pe),Yr.publish("buildDocument"),fs(),Ze(),(function(){Yr.publish("putAdditionalObjects");for(var Ee=0;Ee<ye.length;Ee++){var Le=ye[Ee];se(Le.objId,!0),fe(Le.content),fe("endobj")}Yr.publish("postPutAdditionalObjects")})(),L=[],(function(){for(var Ee in nr)nr.hasOwnProperty(Ee)&&(f===!1||f===!0&&g.hasOwnProperty(Ee))&&Qe(nr[Ee])})(),(function(){var Ee;for(Ee in dr)dr.hasOwnProperty(Ee)&&Rt(dr[Ee])})(),(function(){for(var Ee in bn)bn.hasOwnProperty(Ee)&&Tt(bn[Ee])})(),(function(Ee){var Le;for(Le in ir)ir.hasOwnProperty(Le)&&(ir[Le]instanceof Lf?Mt(ir[Le]):ir[Le]instanceof Gp&&$t(ir[Le],Ee))})(L),Yr.publish("putResources"),L.forEach(Ft),Ft({resourcesOid:ge,objectOid:Number.MAX_SAFE_INTEGER}),Yr.publish("postPutResources"),m!==null&&(cn.oid=Ks(),fe("<<"),fe("/Filter /Standard"),fe("/V "+cn.v),fe("/R "+cn.r),fe("/U <"+cn.toHexString(cn.U)+">"),fe("/O <"+cn.toHexString(cn.O)+">"),fe("/P "+cn.P),fe(">>"),fe("endobj")),pa(),Ec();var J=re;return ef(),uo(),fe("startxref"),fe(""+J),fe("%%EOF"),rt(ze[H]),Pe.join(`
`)},Ad=p.__private__.getBlob=function(L){return new Blob([Ie(L)],{type:"application/pdf"})},tf=p.output=p.__private__.output=(bi=function(L,J){switch(typeof(J=J||{})=="string"?J={filename:J}:J.filename=J.filename||"generated.pdf",L){case void 0:return qo();case"save":p.save(J.filename);break;case"arraybuffer":return Ie(qo());case"blob":return Ad(qo());case"bloburi":case"bloburl":if(Ar.URL!==void 0&&typeof Ar.URL.createObjectURL=="function")return Ar.URL&&Ar.URL.createObjectURL(Ad(qo()))||void 0;la.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ee="",Le=qo();try{Ee=YI(Le)}catch{Ee=YI(unescape(encodeURIComponent(Le)))}return"data:application/pdf;filename="+J.filename+";base64,"+Ee;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ar)==="[object Window]"){var He="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",gt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';J.pdfObjectUrl&&(He=J.pdfObjectUrl,gt="");var Ct='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+He+'"'+gt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(J)+");<\/script></body></html>",Zt=Ar.open();return Zt!==null&&Zt.document.write(Ct),Zt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ar)==="[object Window]"){var sr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(J.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+J.filename+'" width="500px" height="400px" /></body></html>',Nr=Ar.open();if(Nr!==null){Nr.document.write(sr);var Er=this;Nr.document.documentElement.querySelector("#pdfViewer").onload=function(){Nr.document.title=J.filename,Nr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Er.output("bloburl"))}}return Nr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ar)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ss='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",J)+'"></iframe></body></html>',xa=Ar.open();if(xa!==null&&(xa.document.write(ss),xa.document.title=J.filename),xa||typeof safari>"u")return xa;break;case"datauri":case"dataurl":return Ar.document.location.href=this.output("datauristring",J);default:return null}},bi.foo=function(){try{return bi.apply(this,arguments)}catch(Ee){var L=Ee.stack||"";~L.indexOf(" at ")&&(L=L.split(" at ")[1]);var J="Error in function "+L.split(`
`)[0].split("<")[0]+": "+Ee.message;if(!Ar.console)throw new Error(J);Ar.console.error(J,Ee),Ar.alert&&alert(J)}},bi.foo.bar=bi,bi.foo),Ni=function(L){return Array.isArray(ol)===!0&&ol.indexOf(L)>-1};switch(a){case"pt":Qt=1;break;case"mm":Qt=72/25.4;break;case"cm":Qt=72/2.54;break;case"in":Qt=72;break;case"px":Qt=Ni("px_scaling")==1?.75:96/72;break;case"pc":case"em":Qt=12;break;case"ex":Qt=6;break;default:if(typeof a!="number")throw new Error("Invalid unit: "+a);Qt=a}var cn=null;X(),G();var Va=p.__private__.getPageInfo=p.getPageInfo=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:rr[L].objId,pageNumber:L,pageContext:rr[L]}},Rh=p.__private__.getPageInfoByObjId=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var J in rr)if(rr[J].objId===L)break;return Va(J)},T0=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:rr[H].objId,pageNumber:H,pageContext:rr[H]}};p.addPage=function(){return ji.apply(this,arguments),this},p.setPage=function(){return co.apply(this,arguments),rt.call(this,ze[H]),this},p.insertPage=function(L){return this.addPage(),this.movePage(H,L),this},p.movePage=function(L,J){var Ee,Le;if(L>J){Ee=ze[L],Le=rr[L];for(var He=L;He>J;He--)ze[He]=ze[He-1],rr[He]=rr[He-1];ze[J]=Ee,rr[J]=Le,this.setPage(J)}else if(L<J){Ee=ze[L],Le=rr[L];for(var gt=L;gt<J;gt++)ze[gt]=ze[gt+1],rr[gt]=rr[gt+1];ze[J]=Ee,rr[J]=Le,this.setPage(J)}return this},p.deletePage=function(){return oo.apply(this,arguments),this},p.__private__.text=p.text=function(L,J,Ee,Le,He){var gt,Ct,Zt,sr,Nr,Er,ss,xa,Ia,Ys=(Le=Le||{}).scope||this;if(typeof L=="number"&&typeof J=="number"&&(typeof Ee=="string"||Array.isArray(Ee))){var dn=Ee;Ee=J,J=L,L=dn}if(arguments[3]instanceof or==0?(Zt=arguments[4],sr=arguments[5],$s(ss=arguments[3])==="object"&&ss!==null||(typeof Zt=="string"&&(sr=Zt,Zt=null),typeof ss=="string"&&(sr=ss,ss=null),typeof ss=="number"&&(Zt=ss,ss=null),Le={flags:ss,angle:Zt,align:sr})):(B("The transform parameter of text() with a Matrix value"),Ia=He),isNaN(J)||isNaN(Ee)||L==null)throw new Error("Invalid arguments passed to jsPDF.text");if(L.length===0)return Ys;var Wa,Bn="",Fc=typeof Le.lineHeightFactor=="number"?Le.lineHeightFactor:Oc,fo=Ys.internal.scaleFactor;function Bc(ps){return ps=ps.split("	").join(Array(Le.TabLen||9).join(" ")),Gr(ps,ss)}function uf(ps){for(var as,Zs=ps.concat(),Ba=[],ec=Zs.length;ec--;)typeof(as=Zs.shift())=="string"?Ba.push(as):Array.isArray(ps)&&(as.length===1||as[1]===void 0&&as[2]===void 0)?Ba.push(as[0]):Ba.push([as[0],as[1],as[2]]);return Ba}function Fh(ps,as){var Zs;if(typeof ps=="string")Zs=as(ps)[0];else if(Array.isArray(ps)){for(var Ba,ec,vo=ps.concat(),_u=[],ff=vo.length;ff--;)typeof(Ba=vo.shift())=="string"?_u.push(as(Ba)[0]):Array.isArray(Ba)&&typeof Ba[0]=="string"&&(ec=as(Ba[0],Ba[1],Ba[2]),_u.push([ec[0],ec[1],ec[2]]));Zs=_u}return Zs}var Go=!1,po=!0;if(typeof L=="string")Go=!0;else if(Array.isArray(L)){var wu=L.concat();Ct=[];for(var Uc,Nn=wu.length;Nn--;)(typeof(Uc=wu.shift())!="string"||Array.isArray(Uc)&&typeof Uc[0]!="string")&&(po=!1);Go=po}if(Go===!1)throw new Error('Type of text must be string or Array. "'+L+'" is not recognized.');typeof L=="string"&&(L=L.match(/[\r?\n]/)?L.split(/\r\n|\r|\n/g):[L]);var kd=Me/Ys.internal.scaleFactor,Td=kd*(Fc-1);switch(Le.baseline){case"bottom":Ee-=Td;break;case"top":Ee+=kd-Td;break;case"hanging":Ee+=kd-2*Td;break;case"middle":Ee+=kd/2-Td}if((Er=Le.maxWidth||0)>0&&(typeof L=="string"?L=Ys.splitTextToSize(L,Er):Object.prototype.toString.call(L)==="[object Array]"&&(L=L.reduce(function(ps,as){return ps.concat(Ys.splitTextToSize(as,Er))},[]))),gt={text:L,x:J,y:Ee,options:Le,mutex:{pdfEscape:Gr,activeFontKey:Et,fonts:nr,activeFontSize:Me}},Yr.publish("preProcessText",gt),L=gt.text,Zt=(Le=gt.options).angle,Ia instanceof or==0&&Zt&&typeof Zt=="number"){Zt*=Math.PI/180,Le.rotationDirection===0&&(Zt=-Zt),A===w&&(Zt=-Zt);var Bh=Math.cos(Zt),Ko=Math.sin(Zt);Ia=new or(Bh,Ko,-Ko,Bh,0,0)}else Zt&&Zt instanceof or&&(Ia=Zt);A!==w||Ia||(Ia=Tl),(Nr=Le.charSpace||El)!==void 0&&(Bn+=D(Y(Nr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(xa=Le.horizontalScale)!==void 0&&(Bn+=D(100*xa)+` Tz
`),Le.lang;var Si=-1,zc=Le.renderingMode!==void 0?Le.renderingMode:Le.stroke,Uh=Ys.internal.getCurrentPageInfo().pageContext;switch(zc){case 0:case!1:case"fill":Si=0;break;case 1:case!0:case"stroke":Si=1;break;case 2:case"fillThenStroke":Si=2;break;case 3:case"invisible":Si=3;break;case 4:case"fillAndAddForClipping":Si=4;break;case 5:case"strokeAndAddPathForClipping":Si=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Si=6;break;case 7:case"addToPathForClipping":Si=7}var hf=Uh.usedRenderingMode!==void 0?Uh.usedRenderingMode:-1;Si!==-1?Bn+=Si+` Tr
`:hf!==-1&&(Bn+=`0 Tr
`),Si!==-1&&(Uh.usedRenderingMode=Si),sr=Le.align||"left";var hl,xo=Me*Fc,$c=Ys.internal.pageSize.getWidth(),mf=nr[Et];Nr=Le.charSpace||El,Er=Le.maxWidth||0,ss=Object.assign({autoencode:!0,noBOM:!0},Le.flags);var go=[],Ed=function(ps){return Ys.getStringUnitWidth(ps,{font:mf,charSpace:Nr,fontSize:Me,doKerning:!1})*Me/fo};if(Object.prototype.toString.call(L)==="[object Array]"){var Hi;Ct=uf(L),sr!=="left"&&(hl=Ct.map(Ed));var _i,Yo=0;if(sr==="right"){J-=hl[0],L=[],Nn=Ct.length;for(var Zo=0;Zo<Nn;Zo++)Zo===0?(_i=dl(J),Hi=Fn(Ee)):(_i=Y(Yo-hl[Zo]),Hi=-xo),L.push([Ct[Zo],_i,Hi]),Yo=hl[Zo]}else if(sr==="center"){J-=hl[0]/2,L=[],Nn=Ct.length;for(var Hc=0;Hc<Nn;Hc++)Hc===0?(_i=dl(J),Hi=Fn(Ee)):(_i=Y((Yo-hl[Hc])/2),Hi=-xo),L.push([Ct[Hc],_i,Hi]),Yo=hl[Hc]}else if(sr==="left"){L=[],Nn=Ct.length;for(var zh=0;zh<Nn;zh++)L.push(Ct[zh])}else if(sr==="justify"&&mf.encoding==="Identity-H"){L=[],Nn=Ct.length,Er=Er!==0?Er:$c;for(var $h=0,Fa=0;Fa<Nn;Fa++)if(Hi=Fa===0?Fn(Ee):-xo,_i=Fa===0?dl(J):$h,Fa<Nn-1){var F0=Y((Er-hl[Fa])/(Ct[Fa].split(" ").length-1)),Xo=Ct[Fa].split(" ");L.push([Xo[0]+" ",_i,Hi]),$h=0;for(var Jo=1;Jo<Xo.length;Jo++){var Un=(Ed(Xo[Jo-1]+" "+Xo[Jo])-Ed(Xo[Jo]))*fo+F0;Jo==Xo.length-1?L.push([Xo[Jo],Un,0]):L.push([Xo[Jo]+" ",Un,0]),$h-=Un}}else L.push([Ct[Fa],_i,Hi]);L.push(["",$h,0])}else{if(sr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(L=[],Nn=Ct.length,Er=Er!==0?Er:$c,Fa=0;Fa<Nn;Fa++){Hi=Fa===0?Fn(Ee):-xo,_i=Fa===0?dl(J):0;var qc=Ct[Fa].split(" ").length-1,Hh=qc>0?(Er-hl[Fa])/qc:0;Fa<Nn-1?go.push(D(Y(Hh))):go.push(0),L.push([Ct[Fa],_i,Hi])}}}(typeof Le.R2L=="boolean"?Le.R2L:be)===!0&&(L=Fh(L,function(ps,as,Zs){return[ps.split("").reverse().join(""),as,Zs]})),gt={text:L,x:J,y:Ee,options:Le,mutex:{pdfEscape:Gr,activeFontKey:Et,fonts:nr,activeFontSize:Me}},Yr.publish("postProcessText",gt),L=gt.text,Wa=gt.mutex.isHex||!1;var qh=nr[Et].encoding;qh!=="WinAnsiEncoding"&&qh!=="StandardEncoding"||(L=Fh(L,function(ps,as,Zs){return[Bc(ps),as,Zs]})),Ct=uf(L),L=[];for(var Vc,Wc,Qo,Su=Array.isArray(Ct[0])?1:0,ml="",Gc=function(ps,as,Zs){var Ba="";return Zs instanceof or?(Zs=typeof Le.angle=="number"?lo(Zs,new or(1,0,0,1,ps,as)):lo(new or(1,0,0,1,ps,as),Zs),A===w&&(Zs=lo(new or(1,0,0,-1,0,0),Zs)),Ba=Zs.join(" ")+` Tm
`):Ba=D(ps)+" "+D(as)+` Td
`,Ba},ai=0;ai<Ct.length;ai++){switch(ml="",Su){case 1:Qo=(Wa?"<":"(")+Ct[ai][0]+(Wa?">":")"),Vc=parseFloat(Ct[ai][1]),Wc=parseFloat(Ct[ai][2]);break;case 0:Qo=(Wa?"<":"(")+Ct[ai]+(Wa?">":")"),Vc=dl(J),Wc=Fn(Ee)}go!==void 0&&go[ai]!==void 0&&(ml=go[ai]+` Tw
`),ai===0?L.push(ml+Gc(Vc,Wc,Ia)+Qo):Su===0?L.push(ml+Qo):Su===1&&L.push(ml+Gc(Vc,Wc,Ia)+Qo)}L=Su===0?L.join(` Tj
T* `):L.join(` Tj
`),L+=` Tj
`;var Pl=`BT
/`;return Pl+=Et+" "+Me+` Tf
`,Pl+=D(Me*Fc)+` TL
`,Pl+=Vo+`
`,Pl+=Bn,Pl+=L,fe(Pl+="ET"),g[Et]=!0,Ys};var rf=p.__private__.clip=p.clip=function(L){return fe(L==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return rf("evenodd")},p.__private__.discardPath=p.discardPath=function(){return fe("n"),this};var wi=p.__private__.isValidStyle=function(L){var J=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(L)!==-1&&(J=!0),J};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(L){return wi(L)&&(d=L),this};var sf=p.__private__.getStyle=p.getStyle=function(L){var J=d;switch(L){case"D":case"S":J="S";break;case"F":J="f";break;case"FD":case"DF":J="B";break;case"f":case"f*":case"B":case"B*":J=L}return J},af=p.close=function(){return fe("h"),this};p.stroke=function(){return fe("S"),this},p.fill=function(L){return ho("f",L),this},p.fillEvenOdd=function(L){return ho("f*",L),this},p.fillStroke=function(L){return ho("B",L),this},p.fillStrokeEvenOdd=function(L){return ho("B*",L),this};var ho=function(L,J){$s(J)==="object"?O0(J,L):fe(L)},gu=function(L){L===null||A===w&&L===void 0||(L=sf(L),fe(L))};function E0(L,J,Ee,Le,He){var gt=new Gp(J||this.boundingBox,Ee||this.xStep,Le||this.yStep,this.gState,He||this.matrix);gt.stream=this.stream;var Ct=L+"$$"+this.cloneIndex+++"$$";return In(Ct,gt),gt}var O0=function(L,J){var Ee=ms[L.key],Le=ir[Ee];if(Le instanceof Lf)fe("q"),fe(nf(J)),Le.gState&&p.setGState(Le.gState),fe(L.matrix.toString()+" cm"),fe("/"+Ee+" sh"),fe("Q");else if(Le instanceof Gp){var He=new or(1,0,0,-1,0,Ic());L.matrix&&(He=He.multiply(L.matrix||Tl),Ee=E0.call(Le,L.key,L.boundingBox,L.xStep,L.yStep,He).id),fe("q"),fe("/Pattern cs"),fe("/"+Ee+" scn"),Le.gState&&p.setGState(Le.gState),fe(J),fe("Q")}},nf=function(L){switch(L){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},lf=p.moveTo=function(L,J){return fe(D(Y(L))+" "+D(te(J))+" m"),this},P0=p.lineTo=function(L,J){return fe(D(Y(L))+" "+D(te(J))+" l"),this},$i=p.curveTo=function(L,J,Ee,Le,He,gt){return fe([D(Y(L)),D(te(J)),D(Y(Ee)),D(te(Le)),D(Y(He)),D(te(gt)),"c"].join(" ")),this};p.__private__.line=p.line=function(L,J,Ee,Le,He){if(isNaN(L)||isNaN(J)||isNaN(Ee)||isNaN(Le)||!wi(He))throw new Error("Invalid arguments passed to jsPDF.line");return A===k?this.lines([[Ee-L,Le-J]],L,J,[1,1],He||"S"):this.lines([[Ee-L,Le-J]],L,J,[1,1]).stroke()},p.__private__.lines=p.lines=function(L,J,Ee,Le,He,gt){var Ct,Zt,sr,Nr,Er,ss,xa,Ia,Ys,dn,Wa,Bn;if(typeof L=="number"&&(Bn=Ee,Ee=J,J=L,L=Bn),Le=Le||[1,1],gt=gt||!1,isNaN(J)||isNaN(Ee)||!Array.isArray(L)||!Array.isArray(Le)||!wi(He)||typeof gt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(lf(J,Ee),Ct=Le[0],Zt=Le[1],Nr=L.length,dn=J,Wa=Ee,sr=0;sr<Nr;sr++)(Er=L[sr]).length===2?(dn=Er[0]*Ct+dn,Wa=Er[1]*Zt+Wa,P0(dn,Wa)):(ss=Er[0]*Ct+dn,xa=Er[1]*Zt+Wa,Ia=Er[2]*Ct+dn,Ys=Er[3]*Zt+Wa,dn=Er[4]*Ct+dn,Wa=Er[5]*Zt+Wa,$i(ss,xa,Ia,Ys,dn,Wa));return gt&&af(),gu(He),this},p.path=function(L){for(var J=0;J<L.length;J++){var Ee=L[J],Le=Ee.c;switch(Ee.op){case"m":lf(Le[0],Le[1]);break;case"l":P0(Le[0],Le[1]);break;case"c":$i.apply(this,Le);break;case"h":af()}}return this},p.__private__.rect=p.rect=function(L,J,Ee,Le,He){if(isNaN(L)||isNaN(J)||isNaN(Ee)||isNaN(Le)||!wi(He))throw new Error("Invalid arguments passed to jsPDF.rect");return A===k&&(Le=-Le),fe([D(Y(L)),D(te(J)),D(Y(Ee)),D(Y(Le)),"re"].join(" ")),gu(He),this},p.__private__.triangle=p.triangle=function(L,J,Ee,Le,He,gt,Ct){if(isNaN(L)||isNaN(J)||isNaN(Ee)||isNaN(Le)||isNaN(He)||isNaN(gt)||!wi(Ct))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ee-L,Le-J],[He-Ee,gt-Le],[L-He,J-gt]],L,J,[1,1],Ct,!0),this},p.__private__.roundedRect=p.roundedRect=function(L,J,Ee,Le,He,gt,Ct){if(isNaN(L)||isNaN(J)||isNaN(Ee)||isNaN(Le)||isNaN(He)||isNaN(gt)||!wi(Ct))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Zt=4/3*(Math.SQRT2-1);return He=Math.min(He,.5*Ee),gt=Math.min(gt,.5*Le),this.lines([[Ee-2*He,0],[He*Zt,0,He,gt-gt*Zt,He,gt],[0,Le-2*gt],[0,gt*Zt,-He*Zt,gt,-He,gt],[2*He-Ee,0],[-He*Zt,0,-He,-gt*Zt,-He,-gt],[0,2*gt-Le],[0,-gt*Zt,He*Zt,-gt,He,-gt]],L+He,J,[1,1],Ct,!0),this},p.__private__.ellipse=p.ellipse=function(L,J,Ee,Le,He){if(isNaN(L)||isNaN(J)||isNaN(Ee)||isNaN(Le)||!wi(He))throw new Error("Invalid arguments passed to jsPDF.ellipse");var gt=4/3*(Math.SQRT2-1)*Ee,Ct=4/3*(Math.SQRT2-1)*Le;return lf(L+Ee,J),$i(L+Ee,J-Ct,L+gt,J-Le,L,J-Le),$i(L-gt,J-Le,L-Ee,J-Ct,L-Ee,J),$i(L-Ee,J+Ct,L-gt,J+Le,L,J+Le),$i(L+gt,J+Le,L+Ee,J+Ct,L+Ee,J),gu(He),this},p.__private__.circle=p.circle=function(L,J,Ee,Le){if(isNaN(L)||isNaN(J)||isNaN(Ee)||!wi(Le))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(L,J,Ee,Ee,Le)},p.setFont=function(L,J,Ee){return Ee&&(J=R(J,Ee)),Et=_d(L,J,{disableWarning:!1}),this};var mo=p.__private__.getFont=p.getFont=function(){return nr[_d.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var L,J,Ee={};for(L in mr)if(mr.hasOwnProperty(L))for(J in Ee[L]=[],mr[L])mr[L].hasOwnProperty(J)&&Ee[L].push(J);return Ee},p.addFont=function(L,J,Ee,Le,He){var gt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&gt.indexOf(arguments[3])!==-1?He=arguments[3]:arguments[3]&&gt.indexOf(arguments[3])==-1&&(Ee=R(Ee,Le)),As.call(this,L,J,Ee,He=He||"Identity-H")};var Oc,vu=e.lineWidth||.200025,Cd=p.__private__.getLineWidth=p.getLineWidth=function(){return vu},vr=p.__private__.setLineWidth=p.setLineWidth=function(L){return vu=L,fe(D(Y(L))+" w"),this};p.__private__.setLineDash=cr.API.setLineDash=cr.API.setLineDashPattern=function(L,J){if(L=L||[],J=J||0,isNaN(J)||!Array.isArray(L))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return L=L.map(function(Ee){return D(Y(Ee))}).join(" "),J=D(Y(J)),fe("["+L+"] "+J+" d"),this};var D0=p.__private__.getLineHeight=p.getLineHeight=function(){return Me*Oc};p.__private__.getLineHeight=p.getLineHeight=function(){return Me*Oc};var of=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(L){return typeof(L=L||1.15)=="number"&&(Oc=L),this},R0=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Oc};of(e.lineHeight);var dl=p.__private__.getHorizontalCoordinate=function(L){return Y(L)},Fn=p.__private__.getVerticalCoordinate=function(L){return A===w?L:rr[H].mediaBox.topRightY-rr[H].mediaBox.bottomLeftY-Y(L)},cf=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(L){return D(dl(L))},yu=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(L){return D(Fn(L))},ul=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return we(ul)},p.__private__.setStrokeColor=p.setDrawColor=function(L,J,Ee,Le){return ul=Oe({ch1:L,ch2:J,ch3:Ee,ch4:Le,pdfColorType:"draw",precision:2}),fe(ul),this};var bu=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return we(bu)},p.__private__.setFillColor=p.setFillColor=function(L,J,Ee,Le){return bu=Oe({ch1:L,ch2:J,ch3:Ee,ch4:Le,pdfColorType:"fill",precision:2}),fe(bu),this};var Vo=e.textColor||"0 g",M0=p.__private__.getTextColor=p.getTextColor=function(){return we(Vo)};p.__private__.setTextColor=p.setTextColor=function(L,J,Ee,Le){return Vo=Oe({ch1:L,ch2:J,ch3:Ee,ch4:Le,pdfColorType:"text",precision:3}),this};var El=e.charSpace,Mh=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(El||0)};p.__private__.setCharSpace=p.setCharSpace=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return El=L,this};var Lh=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(L){var J=p.CapJoinStyles[L];if(J===void 0)throw new Error("Line cap style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Lh=J,fe(J+" J"),this};var jn=0;p.__private__.setLineJoin=p.setLineJoin=function(L){var J=p.CapJoinStyles[L];if(J===void 0)throw new Error("Line join style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return jn=J,fe(J+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(L){if(L=L||0,isNaN(L))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return fe(D(Y(L))+" M"),this},p.GState=rN,p.setGState=function(L){(L=typeof L=="string"?dr[br[L]]:Wo(null,L)).equals(_s)||(fe("/"+L.id+" gs"),_s=L)};var Wo=function(L,J){if(!L||!br[L]){var Ee=!1;for(var Le in dr)if(dr.hasOwnProperty(Le)&&dr[Le].equals(J)){Ee=!0;break}if(Ee)J=dr[Le];else{var He="GS"+(Object.keys(dr).length+1).toString(10);dr[He]=J,J.id=He}return L&&(br[L]=J.id),Yr.publish("addGState",J),J}};p.addGState=function(L,J){return Wo(L,J),this},p.saveGraphicsState=function(){return fe("q"),Lr.push({key:Et,size:Me,color:Vo}),this},p.restoreGraphicsState=function(){fe("Q");var L=Lr.pop();return Et=L.key,Me=L.size,Vo=L.color,_s=null,this},p.setCurrentTransformationMatrix=function(L){return fe(L.toString()+" cm"),this},p.comment=function(L){return fe("#"+L),this};var Ol=function(L,J){var Ee=L||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ee},set:function(gt){isNaN(gt)||(Ee=parseFloat(gt))}});var Le=J||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Le},set:function(gt){isNaN(gt)||(Le=parseFloat(gt))}});var He="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return He},set:function(gt){He=gt.toString()}}),this},Pc=function(L,J,Ee,Le){Ol.call(this,L,J),this.type="rect";var He=Ee||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return He},set:function(Ct){isNaN(Ct)||(He=parseFloat(Ct))}});var gt=Le||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return gt},set:function(Ct){isNaN(Ct)||(gt=parseFloat(Ct))}}),this},Ih=function(){this.page=kr,this.currentPage=H,this.pages=ze.slice(0),this.pagesContext=rr.slice(0),this.x=qt,this.y=rs,this.matrix=Tr,this.width=Rc(H),this.height=df(H),this.outputDestination=it,this.id="",this.objectNumber=-1};Ih.prototype.restore=function(){kr=this.page,H=this.currentPage,rr=this.pagesContext,ze=this.pages,qt=this.x,rs=this.y,Tr=this.matrix,Nu(H,this.width),Mc(H,this.height),it=this.outputDestination};var ju=function(L,J,Ee,Le,He){zi.push(new Ih),kr=H=0,ze=[],qt=L,rs=J,Tr=He,Ds([Ee,Le])};for(var Dc in p.beginFormObject=function(L,J,Ee,Le,He){return ju(L,J,Ee,Le,He),this},p.endFormObject=function(L){return(function(J){if(kl[J])zi.pop().restore();else{var Ee=new Ih,Le="Xo"+(Object.keys(bn).length+1).toString(10);Ee.id=Le,kl[J]=Le,bn[Le]=Ee,Yr.publish("addFormObject",Ee),zi.pop().restore()}})(L),this},p.doFormObject=function(L,J){var Ee=bn[kl[L]];return fe("q"),fe(J.toString()+" cm"),fe("/"+Ee.id+" Do"),fe("Q"),this},p.getFormObject=function(L){var J=bn[kl[L]];return{x:J.x,y:J.y,width:J.width,height:J.height,matrix:J.matrix}},p.save=function(L,J){return L=L||"generated.pdf",(J=J||{}).returnPromise=J.returnPromise||!1,J.returnPromise===!1?(Rf(Ad(qo()),L),typeof Rf.unload=="function"&&Ar.setTimeout&&setTimeout(Rf.unload,911),this):new Promise(function(Ee,Le){try{var He=Rf(Ad(qo()),L);typeof Rf.unload=="function"&&Ar.setTimeout&&setTimeout(Rf.unload,911),Ee(He)}catch(gt){Le(gt.message)}})},cr.API)cr.API.hasOwnProperty(Dc)&&(Dc==="events"&&cr.API.events.length?(function(L,J){var Ee,Le,He;for(He=J.length-1;He!==-1;He--)Ee=J[He][0],Le=J[He][1],L.subscribe.apply(L,[Ee].concat(typeof Le=="function"?[Le]:Le))})(Yr,cr.API.events):p[Dc]=cr.API[Dc]);function Rc(L){return rr[L].mediaBox.topRightX-rr[L].mediaBox.bottomLeftX}function Nu(L,J){rr[L].mediaBox.topRightX=J+rr[L].mediaBox.bottomLeftX}function df(L){return rr[L].mediaBox.topRightY-rr[L].mediaBox.bottomLeftY}function Mc(L,J){rr[L].mediaBox.topRightY=J+rr[L].mediaBox.bottomLeftY}var Lc=p.getPageWidth=function(L){return Rc(L=L||H)/Qt},L0=p.setPageWidth=function(L,J){Nu(L,J*Qt)},Ic=p.getPageHeight=function(L){return df(L=L||H)/Qt},I0=p.setPageHeight=function(L,J){Mc(L,J*Qt)};return p.internal={pdfEscape:Gr,getStyle:sf,getFont:mo,getFontSize:xe,getCharSpace:Mh,getTextColor:M0,getLineHeight:D0,getLineHeightFactor:R0,getLineWidth:Cd,write:ke,getHorizontalCoordinate:dl,getVerticalCoordinate:Fn,getCoordinateString:cf,getVerticalCoordinateString:yu,collections:{},newObject:Ks,newAdditionalObject:Te,newObjectDeferred:Aa,newObjectDeferredBegin:se,getFilters:Ge,putStream:dt,events:Yr,scaleFactor:Qt,pageSize:{getWidth:function(){return Lc(H)},setWidth:function(L){L0(H,L)},getHeight:function(){return Ic(H)},setHeight:function(L){I0(H,L)}},encryptionOptions:m,encryption:cn,getEncryptor:function(L){return m!==null?cn.encryptor(L,0):function(J){return J}},output:tf,getNumberOfPages:cl,get pages(){return ze},out:fe,f2:I,f3:F,getPageInfo:Va,getPageInfoByObjId:Rh,getCurrentPageInfo:T0,getPDFVersion:v,Point:Ol,Rectangle:Pc,Matrix:or,hasHotfix:Ni},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Lc(H)},set:function(L){L0(H,L)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Ic(H)},set:function(L){I0(H,L)},enumerable:!0,configurable:!0}),(function(L){for(var J=0,Ee=je.length;J<Ee;J++){var Le=As.call(this,L[J][0],L[J][1],L[J][2],je[J][3],!0);f===!1&&(g[Le]=!0);var He=L[J][0].split("-");Gt({id:Le,fontName:He[0],fontStyle:He[1]||""})}Yr.publish("addFonts",{fonts:nr,dictionary:mr})}).call(p,je),Et="F1",ji(n,s),Yr.publish("initialized"),p}Mp.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Mp.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Mp.prototype.hexToBytes=function(e){for(var t=[],s=0;s<e.length;s+=2)t.push(String.fromCharCode(parseInt(e.substr(s,2),16)));return t.join("")},Mp.prototype.processOwnerPassword=function(e,t){return zA(UA(t).substr(0,5),e)},Mp.prototype.encryptor=function(e,t){var s=UA(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(a){return zA(s,a)}},rN.prototype.equals=function(e){var t,s="id,objectNumber,equals";if(!e||$s(e)!==$s(this))return!1;var a=0;for(t in this)if(!(s.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;a++}for(t in e)e.hasOwnProperty(t)&&s.indexOf(t)<0&&a--;return a===0},cr.API={events:[]},cr.version="4.1.0";var Qa=cr.API,sT=1,k0=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Cp=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},sN=function(e){return e.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(t){var s=t.charCodeAt(0).toString(16).toUpperCase();return"#"+(s.length===1?"0"+s:s)})},Dr=function(e){return e.toFixed(2)},ym=function(e){return e.toFixed(5)};Qa.__acroform__={};var io=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},QI=function(e){return e*sT},Yd=function(e){var t=new oG,s=tr.internal.getHeight(e)||0,a=tr.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Dr(a)),Number(Dr(s))],t},u8e=Qa.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},h8e=Qa.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},m8e=Qa.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},pn=Qa.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return m8e(e,t-1)},xn=Qa.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return u8e(e,t-1)},gn=Qa.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return h8e(e,t-1)},f8e=Qa.__acroform__.calculateCoordinates=function(e,t){var s=t.internal.getHorizontalCoordinate,a=t.internal.getVerticalCoordinate,n=e[0],i=e[1],l=e[2],o=e[3],u={};return u.lowerLeft_X=s(n)||0,u.lowerLeft_Y=a(i+o)||0,u.upperRight_X=s(n+l)||0,u.upperRight_Y=a(i)||0,[Number(Dr(u.lowerLeft_X)),Number(Dr(u.lowerLeft_Y)),Number(Dr(u.upperRight_X)),Number(Dr(u.upperRight_Y))]},p8e=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],s=e._V||e.DV,a=$A(e,s),n=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+n+" "+Dr(a.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(a.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Yd(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},$A=function(e,t){var s=e.fontSize===0?e.maxFontSize:e.fontSize,a={text:"",fontSize:""},n=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");n=e.multiline?n.map(function(I){return I.split(`
`)}):n.map(function(I){return[I]});var i=s,l=tr.internal.getHeight(e)||0;l=l<0?-l:l;var o=tr.internal.getWidth(e)||0;o=o<0?-o:o;var u=function(I,F,Y){if(I+1<n.length){var te=F+" "+n[I+1][0];return D1(te,e,Y).width<=o-4}return!1};i++;e:for(;i>0;){t="",i--;var d,m,f=D1("3",e,i).height,g=e.multiline?l-i:(l-f)/2,p=g+=2,y=0,v=0,j=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+D1(t,e,i=12).width+", FieldWidth:"+o+`
`;break}for(var N="",k=0,w=0;w<n.length;w++)if(n.hasOwnProperty(w)){var A=!1;if(n[w].length!==1&&j!==n[w].length-1){if((f+2)*(k+2)+2>l)continue e;N+=n[w][j],A=!0,v=w,w--}else{N=(N+=n[w][j]+" ").substr(N.length-1)==" "?N.substr(0,N.length-1):N;var C=parseInt(w),M=u(C,N,i),R=w>=n.length-1;if(M&&!R){N+=" ",j=0;continue}if(M||R){if(R)v=C;else if(e.multiline&&(f+2)*(k+2)+2>l)continue e}else{if(!e.multiline||(f+2)*(k+2)+2>l)continue e;v=C}}for(var D="",B=y;B<=v;B++){var z=n[B];if(e.multiline){if(B===v){D+=z[j]+" ",j=(j+1)%z.length;continue}if(B===y){D+=z[z.length-1]+" ";continue}}D+=z[0]+" "}switch(D=D.substr(D.length-1)==" "?D.substr(0,D.length-1):D,m=D1(D,e,i).width,e.textAlign){case"right":d=o-m-2;break;case"center":d=(o-m)/2;break;default:d=2}t+=Dr(d)+" "+Dr(p)+` Td
`,t+="("+k0(D)+`) Tj
`,t+=-Dr(d)+` 0 Td
`,p=-(i+2),m=0,y=A?v:v+1,k++,N=""}break}return a.text=t,a.fontSize=i,a},D1=function(e,t,s){var a=t.scope.internal.getFont(t.fontName,t.fontStyle),n=t.scope.getStringUnitWidth(e,{font:a,fontSize:parseFloat(s),charSpace:0})*parseFloat(s);return{height:t.scope.getStringUnitWidth("3",{font:a,fontSize:parseFloat(s),charSpace:0})*parseFloat(s)*1.5,width:n}},x8e={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},g8e=function(e,t){var s={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(a){return a.type===s.type&&a.object===s.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(s)},v8e=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(wd.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(x8e)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");sT=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new cG,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(s){s.internal.events.unsubscribe(s.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete s.internal.acroformPlugin.acroFormDictionaryRoot._eventID,s.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(s){s.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var a=s.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in a)if(a.hasOwnProperty(n)){var i=a[n];i.objId=void 0,i.hasAnnotation&&g8e(i,s)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(s){if(s.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");s.internal.write("/AcroForm "+s.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(s){(function(a,n){var i=!a;for(var l in a||(n.internal.newObjectDeferredBegin(n.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),n.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),a=a||n.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(a.hasOwnProperty(l)){var o=a[l],u=[],d=o.Rect;if(o.Rect&&(o.Rect=f8e(o.Rect,n)),n.internal.newObjectDeferredBegin(o.objId,!0),o.DA=tr.createDefaultAppearanceStream(o),$s(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(u=o.getKeyValueListForStream()),o.Rect=d,o.hasAppearanceStream&&!o.appearanceStreamContent){var m=p8e(o);u.push({key:"AP",value:"<</N "+m+">>"}),n.internal.acroformPlugin.xForms.push(m)}if(o.appearanceStreamContent){var f="";for(var g in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(g)){var p=o.appearanceStreamContent[g];if(f+="/"+g+" ",f+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var l in p)if(p.hasOwnProperty(l)){var y=p[l];typeof y=="function"&&(y=y.call(n,o)),f+="/"+l+" "+y+" ",n.internal.acroformPlugin.xForms.indexOf(y)>=0||n.internal.acroformPlugin.xForms.push(y)}}else typeof(y=p)=="function"&&(y=y.call(n,o)),f+="/"+l+" "+y,n.internal.acroformPlugin.xForms.indexOf(y)>=0||n.internal.acroformPlugin.xForms.push(y);f+=">>"}u.push({key:"AP",value:`<<
`+f+">>"})}n.internal.putStream({additionalKeyValues:u,objectId:o.objId}),n.internal.out("endobj")}i&&(function(v,j){for(var N in v)if(v.hasOwnProperty(N)){var k=N,w=v[N];j.internal.newObjectDeferredBegin(w.objId,!0),$s(w)==="object"&&typeof w.putStream=="function"&&w.putStream(),delete v[k]}})(n.internal.acroformPlugin.xForms,n)})(s,e)}),e.internal.acroformPlugin.isInitialized=!0}},lG=Qa.__acroform__.arrayToPdfArray=function(e,t,s){var a=function(l){return l};if(Array.isArray(e)){for(var n="[",i=0;i<e.length;i++)switch(i!==0&&(n+=" "),$s(e[i])){case"boolean":case"number":case"object":n+=e[i].toString();break;case"string":e[i].substr(0,1)==="/"?n+="/"+sN(e[i].substr(1)):(t!==void 0&&s&&(a=s.internal.getEncryptor(t)),n+="("+k0(a(e[i].toString()))+")")}return n+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},z3=function(e,t,s){var a=function(n){return n};return t!==void 0&&s&&(a=s.internal.getEncryptor(t)),(e=e||"").toString(),"("+k0(a(e))+")"},Jd=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Jd.prototype.toString=function(){return this.objId+" 0 R"},Jd.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Jd.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var s in t)if(Object.getOwnPropertyDescriptor(this,t[s]).configurable===!1){var a=t[s],n=this[a];n&&(Array.isArray(n)?e.push({key:a,value:lG(n,this.objId,this.scope)}):n instanceof Jd?(n.scope=this.scope,e.push({key:a,value:n.objId+" 0 R"})):typeof n!="function"&&e.push({key:a,value:n}))}return e};var oG=function(){Jd.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(s){e=s.trim()},get:function(){return e||null}})};io(oG,Jd);var cG=function(){Jd.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var s=function(a){return a};return this.scope&&(s=this.scope.internal.getEncryptor(this.objId)),"("+k0(s(e))+")"}},set:function(s){e=s}})};io(cG,Jd);var wd=function e(){Jd.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute F supplied.');t=N}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!pn(t,3)},set:function(N){N?this.F=xn(t,3):this.F=gn(t,3)}});var s=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return s},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute Ff supplied.');s=N}});var a=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(a.length!==0)return a},set:function(N){a=N!==void 0?N:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[0])?0:a[0]},set:function(N){a[0]=N}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[1])?0:a[1]},set:function(N){a[1]=N}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[2])?0:a[2]},set:function(N){a[2]=N}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[3])?0:a[3]},set:function(N){a[3]=N}});var n="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return n},set:function(N){switch(N){case"/Btn":case"/Tx":case"/Ch":case"/Sig":n=N;break;default:throw new Error('Invalid value "'+N+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof aN)return;i="FieldObject"+e.FieldNum++}var N=function(k){return k};return this.scope&&(N=this.scope.internal.getEncryptor(this.objId)),"("+k0(N(i))+")"},set:function(N){i=N.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(N){i=N}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(N){l=N}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(N){o=N}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(N){u=N}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/sT:d},set:function(N){d=N}});var m="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return m},set:function(N){m=N}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof aN||this instanceof Xf))return z3(f,this.objId,this.scope)},set:function(N){N=N.toString(),f=N}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof mi==0?z3(g,this.objId,this.scope):g},set:function(N){N=N.toString(),g=this instanceof mi==0?N.substr(0,1)==="("?Cp(N.substr(1,N.length-2)):Cp(N):N}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof mi==1?Cp(g.substr(1,g.length-1)):g},set:function(N){N=N.toString(),g=this instanceof mi==1?"/"+sN(N):N}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(N){this.V=N}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof mi==0?z3(p,this.objId,this.scope):p},set:function(N){N=N.toString(),p=this instanceof mi==0?N.substr(0,1)==="("?Cp(N.substr(1,N.length-2)):Cp(N):N}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof mi==1?Cp(p.substr(1,p.length-1)):p},set:function(N){N=N.toString(),p=this instanceof mi==1?"/"+sN(N):N}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,v=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return v},set:function(N){N=!!N,v=N}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(N){y=N}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,1)},set:function(N){N?this.Ff=xn(this.Ff,1):this.Ff=gn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,2)},set:function(N){N?this.Ff=xn(this.Ff,2):this.Ff=gn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,3)},set:function(N){N?this.Ff=xn(this.Ff,3):this.Ff=gn(this.Ff,3)}});var j=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(j!==null)return j},set:function(N){if([0,1,2].indexOf(N)===-1)throw new Error('Invalid value "'+N+'" for attribute Q supplied.');j=N}}),Object.defineProperty(this,"textAlign",{get:function(){var N;switch(j){case 0:default:N="left";break;case 1:N="center";break;case 2:N="right"}return N},configurable:!0,enumerable:!0,set:function(N){switch(N){case"right":case 2:j=2;break;case"center":case 1:j=1;break;default:j=0}}})};io(wd,Jd);var nx=function(){wd.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(s){e=s}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return lG(t,this.objId,this.scope)},set:function(s){var a,n;n=[],typeof(a=s)=="string"&&(n=(function(i,l,o){o||(o=1);for(var u,d=[];u=l.exec(i);)d.push(u[o]);return d})(a,/\((.*?)\)/g)),t=n}}),this.getOptions=function(){return t},this.setOptions=function(s){t=s,this.sort&&t.sort()},this.addOption=function(s){s=(s=s||"").toString(),t.push(s),this.sort&&t.sort()},this.removeOption=function(s,a){for(a=a||!1,s=(s=s||"").toString();t.indexOf(s)!==-1&&(t.splice(t.indexOf(s),1),a!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,18)},set:function(s){s?this.Ff=xn(this.Ff,18):this.Ff=gn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,19)},set:function(s){this.combo===!0&&(s?this.Ff=xn(this.Ff,19):this.Ff=gn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,20)},set:function(s){s?(this.Ff=xn(this.Ff,20),t.sort()):this.Ff=gn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,22)},set:function(s){s?this.Ff=xn(this.Ff,22):this.Ff=gn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,23)},set:function(s){s?this.Ff=xn(this.Ff,23):this.Ff=gn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,27)},set:function(s){s?this.Ff=xn(this.Ff,27):this.Ff=gn(this.Ff,27)}}),this.hasAppearanceStream=!1};io(nx,wd);var ix=function(){nx.call(this),this.fontName="helvetica",this.combo=!1};io(ix,nx);var lx=function(){ix.call(this),this.combo=!0};io(lx,ix);var w2=function(){lx.call(this),this.edit=!0};io(w2,lx);var mi=function(){wd.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,15)},set:function(s){s?this.Ff=xn(this.Ff,15):this.Ff=gn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,16)},set:function(s){s?this.Ff=xn(this.Ff,16):this.Ff=gn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,17)},set:function(s){s?this.Ff=xn(this.Ff,17):this.Ff=gn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,26)},set:function(s){s?this.Ff=xn(this.Ff,26):this.Ff=gn(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(i){return i};if(this.scope&&(s=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var a,n=[];for(a in n.push("<<"),t)n.push("/"+a+" ("+k0(s(t[a]))+")");return n.push(">>"),n.join(`
`)}},set:function(s){$s(s)==="object"&&(t=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(s){typeof s=="string"&&(t.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(s){e="/"+sN(s)}})};io(mi,wd);var S2=function(){mi.call(this),this.pushButton=!0};io(S2,mi);var ox=function(){mi.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};io(ox,mi);var aN=function(){var e,t;wd.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(n){t=n}});var s,a={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(o){return o};this.scope&&(n=this.scope.internal.getEncryptor(this.objId));var i,l=[];for(i in l.push("<<"),a)l.push("/"+i+" ("+k0(n(a[i]))+")");return l.push(">>"),l.join(`
`)},set:function(n){$s(n)==="object"&&(a=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return a.CA||""},set:function(n){typeof n=="string"&&(a.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return s},set:function(n){s=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return s.substr(1,s.length-1)},set:function(n){s="/"+n}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=tr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};io(aN,wd),ox.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var s=this.Kids[t];s.appearanceStreamContent=e.createAppearanceStream(s.optionName),s.caption=e.getCA()}},ox.prototype.createOption=function(e){var t=new aN;return t.Parent=this,t.optionName=e,this.Kids.push(t),y8e.call(this.scope,t),t};var _2=function(){mi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=tr.CheckBox.createAppearanceStream()};io(_2,mi);var Xf=function(){wd.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,13)},set:function(t){t?this.Ff=xn(this.Ff,13):this.Ff=gn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,21)},set:function(t){t?this.Ff=xn(this.Ff,21):this.Ff=gn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,23)},set:function(t){t?this.Ff=xn(this.Ff,23):this.Ff=gn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,24)},set:function(t){t?this.Ff=xn(this.Ff,24):this.Ff=gn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,25)},set:function(t){t?this.Ff=xn(this.Ff,25):this.Ff=gn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,26)},set:function(t){t?this.Ff=xn(this.Ff,26):this.Ff=gn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};io(Xf,wd);var A2=function(){Xf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,14)},set:function(e){e?this.Ff=xn(this.Ff,14):this.Ff=gn(this.Ff,14)}}),this.password=!0};io(A2,Xf);var tr={CheckBox:{createAppearanceStream:function(){return{N:{On:tr.CheckBox.YesNormal},D:{On:tr.CheckBox.YesPushDown,Off:tr.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Yd(e);t.scope=e.scope;var s=[],a=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),i=$A(e,e.caption);return s.push("0.749023 g"),s.push("0 0 "+Dr(tr.internal.getWidth(e))+" "+Dr(tr.internal.getHeight(e))+" re"),s.push("f"),s.push("BMC"),s.push("q"),s.push("0 0 1 rg"),s.push("/"+a+" "+Dr(i.fontSize)+" Tf "+n),s.push("BT"),s.push(i.text),s.push("ET"),s.push("Q"),s.push("EMC"),t.stream=s.join(`
`),t},YesNormal:function(e){var t=Yd(e);t.scope=e.scope;var s=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),n=[],i=tr.internal.getHeight(e),l=tr.internal.getWidth(e),o=$A(e,e.caption);return n.push("1 g"),n.push("0 0 "+Dr(l)+" "+Dr(i)+" re"),n.push("f"),n.push("q"),n.push("0 0 1 rg"),n.push("0 0 "+Dr(l-1)+" "+Dr(i-1)+" re"),n.push("W"),n.push("n"),n.push("0 g"),n.push("BT"),n.push("/"+s+" "+Dr(o.fontSize)+" Tf "+a),n.push(o.text),n.push("ET"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Yd(e);t.scope=e.scope;var s=[];return s.push("0.749023 g"),s.push("0 0 "+Dr(tr.internal.getWidth(e))+" "+Dr(tr.internal.getHeight(e))+" re"),s.push("f"),t.stream=s.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:tr.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=tr.RadioButton.Circle.YesNormal,t.D[e]=tr.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Yd(e);t.scope=e.scope;var s=[],a=tr.internal.getWidth(e)<=tr.internal.getHeight(e)?tr.internal.getWidth(e)/4:tr.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var n=tr.internal.Bezier_C,i=Number((a*n).toFixed(5));return s.push("q"),s.push("1 0 0 1 "+ym(tr.internal.getWidth(e)/2)+" "+ym(tr.internal.getHeight(e)/2)+" cm"),s.push(a+" 0 m"),s.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),s.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),s.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),s.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),s.push("f"),s.push("Q"),t.stream=s.join(`
`),t},YesPushDown:function(e){var t=Yd(e);t.scope=e.scope;var s=[],a=tr.internal.getWidth(e)<=tr.internal.getHeight(e)?tr.internal.getWidth(e)/4:tr.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var n=Number((2*a).toFixed(5)),i=Number((n*tr.internal.Bezier_C).toFixed(5)),l=Number((a*tr.internal.Bezier_C).toFixed(5));return s.push("0.749023 g"),s.push("q"),s.push("1 0 0 1 "+ym(tr.internal.getWidth(e)/2)+" "+ym(tr.internal.getHeight(e)/2)+" cm"),s.push(n+" 0 m"),s.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),s.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),s.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),s.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),s.push("f"),s.push("Q"),s.push("0 g"),s.push("q"),s.push("1 0 0 1 "+ym(tr.internal.getWidth(e)/2)+" "+ym(tr.internal.getHeight(e)/2)+" cm"),s.push(a+" 0 m"),s.push(a+" "+l+" "+l+" "+a+" 0 "+a+" c"),s.push("-"+l+" "+a+" -"+a+" "+l+" -"+a+" 0 c"),s.push("-"+a+" -"+l+" -"+l+" -"+a+" 0 -"+a+" c"),s.push(l+" -"+a+" "+a+" -"+l+" "+a+" 0 c"),s.push("f"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=Yd(e);t.scope=e.scope;var s=[],a=tr.internal.getWidth(e)<=tr.internal.getHeight(e)?tr.internal.getWidth(e)/4:tr.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var n=Number((2*a).toFixed(5)),i=Number((n*tr.internal.Bezier_C).toFixed(5));return s.push("0.749023 g"),s.push("q"),s.push("1 0 0 1 "+ym(tr.internal.getWidth(e)/2)+" "+ym(tr.internal.getHeight(e)/2)+" cm"),s.push(n+" 0 m"),s.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),s.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),s.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),s.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),s.push("f"),s.push("Q"),t.stream=s.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:tr.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=tr.RadioButton.Cross.YesNormal,t.D[e]=tr.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Yd(e);t.scope=e.scope;var s=[],a=tr.internal.calculateCross(e);return s.push("q"),s.push("1 1 "+Dr(tr.internal.getWidth(e)-2)+" "+Dr(tr.internal.getHeight(e)-2)+" re"),s.push("W"),s.push("n"),s.push(Dr(a.x1.x)+" "+Dr(a.x1.y)+" m"),s.push(Dr(a.x2.x)+" "+Dr(a.x2.y)+" l"),s.push(Dr(a.x4.x)+" "+Dr(a.x4.y)+" m"),s.push(Dr(a.x3.x)+" "+Dr(a.x3.y)+" l"),s.push("s"),s.push("Q"),t.stream=s.join(`
`),t},YesPushDown:function(e){var t=Yd(e);t.scope=e.scope;var s=tr.internal.calculateCross(e),a=[];return a.push("0.749023 g"),a.push("0 0 "+Dr(tr.internal.getWidth(e))+" "+Dr(tr.internal.getHeight(e))+" re"),a.push("f"),a.push("q"),a.push("1 1 "+Dr(tr.internal.getWidth(e)-2)+" "+Dr(tr.internal.getHeight(e)-2)+" re"),a.push("W"),a.push("n"),a.push(Dr(s.x1.x)+" "+Dr(s.x1.y)+" m"),a.push(Dr(s.x2.x)+" "+Dr(s.x2.y)+" l"),a.push(Dr(s.x4.x)+" "+Dr(s.x4.y)+" m"),a.push(Dr(s.x3.x)+" "+Dr(s.x3.y)+" l"),a.push("s"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=Yd(e);t.scope=e.scope;var s=[];return s.push("0.749023 g"),s.push("0 0 "+Dr(tr.internal.getWidth(e))+" "+Dr(tr.internal.getHeight(e))+" re"),s.push("f"),t.stream=s.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+s}};tr.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=tr.internal.getWidth(e),s=tr.internal.getHeight(e),a=Math.min(t,s);return{x1:{x:(t-a)/2,y:(s-a)/2+a},x2:{x:(t-a)/2+a,y:(s-a)/2},x3:{x:(t-a)/2,y:(s-a)/2},x4:{x:(t-a)/2+a,y:(s-a)/2+a}}}},tr.internal.getWidth=function(e){var t=0;return $s(e)==="object"&&(t=QI(e.Rect[2])),t},tr.internal.getHeight=function(e){var t=0;return $s(e)==="object"&&(t=QI(e.Rect[3])),t};var y8e=Qa.addField=function(e){if(v8e(this,e),!(e instanceof wd))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Qa.AcroFormChoiceField=nx,Qa.AcroFormListBox=ix,Qa.AcroFormComboBox=lx,Qa.AcroFormEditBox=w2,Qa.AcroFormButton=mi,Qa.AcroFormPushButton=S2,Qa.AcroFormRadioButton=ox,Qa.AcroFormCheckBox=_2,Qa.AcroFormTextField=Xf,Qa.AcroFormPasswordField=A2,Qa.AcroFormAppearance=tr,Qa.AcroForm={ChoiceField:nx,ListBox:ix,ComboBox:lx,EditBox:w2,Button:mi,PushButton:S2,RadioButton:ox,CheckBox:_2,TextField:Xf,PasswordField:A2,Appearance:tr},cr.AcroForm={ChoiceField:nx,ListBox:ix,ComboBox:lx,EditBox:w2,Button:mi,PushButton:S2,RadioButton:ox,CheckBox:_2,TextField:Xf,PasswordField:A2,Appearance:tr};cr.AcroForm;function dG(e){return e.reduce(function(t,s,a){return t[s]=a,t},{})}(function(e){var t="addImage_";e.__addimage__={};var s="UNKNOWN",a={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(I,F){var Y,te,ue,Z,ie,G=s;if((F=F||s)==="RGBA"||I.data!==void 0&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(M(I))for(ie in a)for(ue=a[ie],Y=0;Y<ue.length;Y+=1){for(Z=!0,te=0;te<ue[Y].length;te+=1)if(ue[Y][te]!==void 0&&ue[Y][te]!==I[te]){Z=!1;break}if(Z===!0){G=ie;break}}else for(ie in a)for(ue=a[ie],Y=0;Y<ue.length;Y+=1){for(Z=!0,te=0;te<ue[Y].length;te+=1)if(ue[Y][te]!==void 0&&ue[Y][te]!==I.charCodeAt(te)){Z=!1;break}if(Z===!0){G=ie;break}}return G===s&&F!==s&&(G=F),G},i=function I(F){for(var Y=this.internal.write,te=this.internal.putStream,ue=(0,this.internal.getFilters)();ue.indexOf("FlateEncode")!==-1;)ue.splice(ue.indexOf("FlateEncode"),1);F.objectId=this.internal.newObject();var Z=[];if(Z.push({key:"Type",value:"/XObject"}),Z.push({key:"Subtype",value:"/Image"}),Z.push({key:"Width",value:F.width}),Z.push({key:"Height",value:F.height}),F.colorSpace===N.INDEXED?Z.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(F.palette.length/3-1)+" "+("sMask"in F&&F.sMask!==void 0?F.objectId+2:F.objectId+1)+" 0 R]"}):(Z.push({key:"ColorSpace",value:"/"+F.colorSpace}),F.colorSpace===N.DEVICE_CMYK&&Z.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Z.push({key:"BitsPerComponent",value:F.bitsPerComponent}),"decodeParameters"in F&&F.decodeParameters!==void 0&&Z.push({key:"DecodeParms",value:"<<"+F.decodeParameters+">>"}),"transparency"in F&&Array.isArray(F.transparency)&&F.transparency.length>0){for(var ie="",G=0,ee=F.transparency.length;G<ee;G++)ie+=F.transparency[G]+" "+F.transparency[G]+" ";Z.push({key:"Mask",value:"["+ie+"]"})}F.sMask!==void 0&&Z.push({key:"SMask",value:F.objectId+1+" 0 R"});var Ne=F.filter!==void 0?["/"+F.filter]:void 0;if(te({data:F.data,additionalKeyValues:Z,alreadyAppliedFilters:Ne,objectId:F.objectId}),Y("endobj"),"sMask"in F&&F.sMask!==void 0){var X,P=(X=F.sMaskBitsPerComponent)!==null&&X!==void 0?X:F.bitsPerComponent,H={width:F.width,height:F.height,colorSpace:"DeviceGray",bitsPerComponent:P,data:F.sMask};"filter"in F&&(H.decodeParameters="/Predictor ".concat(F.predictor," /Colors 1 /BitsPerComponent ").concat(P," /Columns ").concat(F.width),H.filter=F.filter),I.call(this,H)}if(F.colorSpace===N.INDEXED){var q=this.internal.newObject();te({data:D(new Uint8Array(F.palette)),objectId:q}),Y("endobj")}},l=function(){var I=this.internal.collections[t+"images"];for(var F in I)i.call(this,I[F])},o=function(){var I,F=this.internal.collections[t+"images"],Y=this.internal.write;for(var te in F)Y("/I"+(I=F[te]).index,I.objectId,"0","R")},u=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",l),this.internal.events.subscribe("putXobjectDict",o))},d=function(){var I=this.internal.collections[t+"images"];return u.call(this),I},m=function(){return Object.keys(this.internal.collections[t+"images"]).length},f=function(I){return typeof e["process"+I.toUpperCase()]=="function"},g=function(I){return $s(I)==="object"&&I.nodeType===1},p=function(I,F){if(I.nodeName==="IMG"&&I.hasAttribute("src")){var Y=""+I.getAttribute("src");if(Y.indexOf("data:image/")===0)return N2(unescape(Y).split("base64,").pop());var te=e.loadFile(Y,!0);if(te!==void 0)return te}if(I.nodeName==="CANVAS"){if(I.width===0||I.height===0)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var ue;switch(F){case"PNG":ue="image/png";break;case"WEBP":ue="image/webp";break;default:ue="image/jpeg"}return N2(I.toDataURL(ue,1).split("base64,").pop())}},y=function(I){var F=this.internal.collections[t+"images"];if(F){for(var Y in F)if(I===F[Y].alias)return F[Y]}},v=function(I,F,Y){return I||F||(I=-96,F=-96),I<0&&(I=-1*Y.width*72/I/this.internal.scaleFactor),F<0&&(F=-1*Y.height*72/F/this.internal.scaleFactor),I===0&&(I=F*Y.width/Y.height),F===0&&(F=I*Y.height/Y.width),[I,F]},j=function(I,F,Y,te,ue,Z){var ie=v.call(this,Y,te,ue),G=this.internal.getCoordinateString,ee=this.internal.getVerticalCoordinateString,Ne=d.call(this);if(Y=ie[0],te=ie[1],Ne[ue.index]=ue,Z){Z*=Math.PI/180;var X=Math.cos(Z),P=Math.sin(Z),H=function(W){return W.toFixed(4)},q=[H(X),H(P),H(-1*P),H(X),0,0,"cm"]}this.internal.write("q"),Z?(this.internal.write([1,"0","0",1,G(I),ee(F+te),"cm"].join(" ")),this.internal.write(q.join(" ")),this.internal.write([G(Y),"0","0",G(te),"0","0","cm"].join(" "))):this.internal.write([G(Y),"0","0",G(te),G(I),ee(F+te),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ue.index+" Do"),this.internal.write("Q")},N=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var k=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=e.__addimage__.sHashCode=function(I){var F,Y,te=0;if(typeof I=="string")for(Y=I.length,F=0;F<Y;F++)te=(te<<5)-te+I.charCodeAt(F),te|=0;else if(M(I))for(Y=I.byteLength/2,F=0;F<Y;F++)te=(te<<5)-te+I[F],te|=0;return te},A=e.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var F=!0;return I.length===0&&(F=!1),I.length%4!=0&&(F=!1),/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))===!1&&(F=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))===!1&&(F=!1),F},C=e.__addimage__.extractImageFromDataUrl=function(I){if(I==null||!(I=I.trim()).startsWith("data:"))return null;var F=I.indexOf(",");return F<0?null:I.substring(0,F).trim().endsWith("base64")?I.substring(F+1):null};e.__addimage__.isArrayBuffer=function(I){return I instanceof ArrayBuffer};var M=e.__addimage__.isArrayBufferView=function(I){return I instanceof Int8Array||I instanceof Uint8Array||I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array},R=e.__addimage__.binaryStringToUint8Array=function(I){for(var F=I.length,Y=new Uint8Array(F),te=0;te<F;te++)Y[te]=I.charCodeAt(te);return Y},D=e.__addimage__.arrayBufferToBinaryString=function(I){for(var F="",Y=M(I)?I:new Uint8Array(I),te=0;te<Y.length;te+=8192)F+=String.fromCharCode.apply(null,Y.subarray(te,te+8192));return F};e.addImage=function(){var I,F,Y,te,ue,Z,ie,G,ee;if(typeof arguments[1]=="number"?(F=s,Y=arguments[1],te=arguments[2],ue=arguments[3],Z=arguments[4],ie=arguments[5],G=arguments[6],ee=arguments[7]):(F=arguments[1],Y=arguments[2],te=arguments[3],ue=arguments[4],Z=arguments[5],ie=arguments[6],G=arguments[7],ee=arguments[8]),$s(I=arguments[0])==="object"&&!g(I)&&"imageData"in I){var Ne=I;I=Ne.imageData,F=Ne.format||F||s,Y=Ne.x||Y||0,te=Ne.y||te||0,ue=Ne.w||Ne.width||ue,Z=Ne.h||Ne.height||Z,ie=Ne.alias||ie,G=Ne.compression||G,ee=Ne.rotation||Ne.angle||ee}var X=this.internal.getFilters();if(G===void 0&&X.indexOf("FlateEncode")!==-1&&(G="SLOW"),isNaN(Y)||isNaN(te))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var P=B.call(this,I,F,ie,G);return j.call(this,Y,te,ue,Z,P,ee),this};var B=function(I,F,Y,te){var ue,Z,ie;if(typeof I=="string"&&n(I)===s){I=unescape(I);var G=z(I,!1);(G!==""||(G=e.loadFile(I,!0))!==void 0)&&(I=G)}if(g(I)&&(I=p(I,F)),F=n(I,F),!f(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(((ie=Y)==null||ie.length===0)&&(Y=(function(ee){return typeof ee=="string"||M(ee)?w(ee):M(ee.data)?w(ee.data):null})(I)),(ue=y.call(this,Y))||(I instanceof Uint8Array||F==="RGBA"||(Z=I,I=R(I)),ue=this["process"+F.toUpperCase()](I,m.call(this),Y,(function(ee){return ee&&typeof ee=="string"&&(ee=ee.toUpperCase()),ee in e.image_compression?ee:k.NONE})(te),Z)),!ue)throw new Error("An unknown error occurred whilst processing the image.");return ue},z=e.__addimage__.convertBase64ToBinaryString=function(I,F){F=typeof F!="boolean"||F;var Y,te="";if(typeof I=="string"){var ue;Y=(ue=C(I))!==null&&ue!==void 0?ue:I;try{te=N2(Y)}catch(Z){if(F)throw A(Y)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Z.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return te};e.getImageProperties=function(I){var F,Y,te="";if(g(I)&&(I=p(I)),typeof I=="string"&&n(I)===s&&((te=z(I,!1))===""&&(te=e.loadFile(I)||""),I=te),Y=n(I),!f(Y))throw new Error("addImage does not support files of type '"+Y+"', please ensure that a plugin for '"+Y+"' support is added.");if(I instanceof Uint8Array||(I=R(I)),!(F=this["process"+Y.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return F.fileType=Y,F}})(cr.API),(function(e){var t=function(s){if(s!==void 0&&s!="")return!0};cr.API.events.push(["addPage",function(s){this.internal.getPageInfo(s.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(s){for(var a,n,i,l=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(s.objId),d=s.pageContext.annotations,m=!1,f=0;f<d.length&&!m;f++)switch((a=d[f]).type){case"link":(t(a.options.url)||t(a.options.pageNumber))&&(m=!0);break;case"reference":case"text":case"freetext":m=!0}if(m!=0){this.internal.write("/Annots [");for(var g=0;g<d.length;g++){a=d[g];var p=this.internal.pdfEscape,y=this.internal.getEncryptor(s.objId);switch(a.type){case"reference":this.internal.write(" "+a.object.objId+" 0 R ");break;case"text":var v=this.internal.newAdditionalObject(),j=this.internal.newAdditionalObject(),N=this.internal.getEncryptor(v.objId),k=a.title||"Note";i="<</Type /Annot /Subtype /Text "+(n="/Rect ["+l(a.bounds.x)+" "+o(a.bounds.y+a.bounds.h)+" "+l(a.bounds.x+a.bounds.w)+" "+o(a.bounds.y)+"] ")+"/Contents ("+p(N(a.contents))+")",i+=" /Popup "+j.objId+" 0 R",i+=" /P "+u.objId+" 0 R",i+=" /T ("+p(N(k))+") >>",v.content=i;var w=v.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(n="/Rect ["+l(a.bounds.x+30)+" "+o(a.bounds.y+a.bounds.h)+" "+l(a.bounds.x+a.bounds.w+30)+" "+o(a.bounds.y)+"] ")+" /Parent "+w,a.open&&(i+=" /Open true"),i+=" >>",j.content=i,this.internal.write(v.objId,"0 R",j.objId,"0 R");break;case"freetext":n="/Rect ["+l(a.bounds.x)+" "+o(a.bounds.y)+" "+l(a.bounds.x+a.bounds.w)+" "+o(a.bounds.y+a.bounds.h)+"] ";var A=a.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+n+"/Contents ("+p(y(a.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+A+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(a.options.name){var C=this.annotations._nameMap[a.options.name];a.options.pageNumber=C.page,a.options.top=C.y}else a.options.top||(a.options.top=0);if(n="/Rect ["+a.finalBounds.x+" "+a.finalBounds.y+" "+a.finalBounds.w+" "+a.finalBounds.h+"] ",i="",a.options.url)i="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /A <</S /URI /URI ("+p(y(a.options.url))+") >>";else if(a.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(a.options.pageNumber).objId+" 0 R",a.options.magFactor=a.options.magFactor||"XYZ",a.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+a.options.top+"]";break;case"FitV":a.options.left=a.options.left||0,i+=" /FitV "+a.options.left+"]";break;default:var M=o(a.options.top);a.options.left=a.options.left||0,a.options.zoom===void 0&&(a.options.zoom=0),i+=" /XYZ "+a.options.left+" "+M+" "+a.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(s){var a=this.internal.getCurrentPageInfo();switch(s.type){case"link":this.link(s.bounds.x,s.bounds.y,s.bounds.w,s.bounds.h,s);break;case"text":case"freetext":a.pageContext.annotations.push(s)}},e.link=function(s,a,n,i,l){var o=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:u(s),y:d(a),w:u(s+n),h:d(a+i)},options:l,type:"link"})},e.textWithLink=function(s,a,n,i){var l,o,u=this.getTextWidth(s),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var m=this.splitTextToSize(s,o).length;l=Math.ceil(d*m)}else o=u,l=d;return this.text(s,a,n,i),n+=.2*d,i.align==="center"&&(a-=u/2),i.align==="right"&&(a-=u),this.link(a,n-d,o,l,i),u},e.getTextWidth=function(s){var a=this.internal.getFontSize();return this.getStringUnitWidth(s)*a/this.internal.scaleFactor}})(cr.API),(function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},s={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},a={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},n=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(v){return t[v.charCodeAt(0)]!==void 0},l=e.__arabicParser__.isArabicLetter=function(v){return typeof v=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(v)},o=e.__arabicParser__.isArabicEndLetter=function(v){return l(v)&&i(v)&&t[v.charCodeAt(0)].length<=2},u=e.__arabicParser__.isArabicAlfLetter=function(v){return l(v)&&n.indexOf(v.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(v){return l(v)&&i(v)&&t[v.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(v){return l(v)&&i(v)&&t[v.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(v){return l(v)&&i(v)&&t[v.charCodeAt(0)].length>=3};var m=e.__arabicParser__.arabicLetterHasMedialForm=function(v){return l(v)&&i(v)&&t[v.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(v){var j=0,N=s,k="",w=0;for(j=0;j<v.length;j+=1)N[v.charCodeAt(j)]!==void 0?(w++,typeof(N=N[v.charCodeAt(j)])=="number"&&(k+=String.fromCharCode(N),N=s,w=0),j===v.length-1&&(N=s,k+=v.charAt(j-(w-1)),j-=w-1,w=0)):(N=s,k+=v.charAt(j-w),j-=w,w=0);return k};e.__arabicParser__.isArabicDiacritic=function(v){return v!==void 0&&a[v.charCodeAt(0)]!==void 0};var g=e.__arabicParser__.getCorrectForm=function(v,j,N){return l(v)?i(v)===!1?-1:!d(v)||!l(j)&&!l(N)||!l(N)&&o(j)||o(v)&&!l(j)||o(v)&&u(j)||o(v)&&o(j)?0:m(v)&&l(j)&&!o(j)&&l(N)&&d(N)?3:o(v)||!l(N)?1:2:-1},p=function(v){var j=0,N=0,k=0,w="",A="",C="",M=(v=v||"").split("\\s+"),R=[];for(j=0;j<M.length;j+=1){for(R.push(""),N=0;N<M[j].length;N+=1)w=M[j][N],A=M[j][N-1],C=M[j][N+1],l(w)?(k=g(w,A,C),R[j]+=k!==-1?String.fromCharCode(t[w.charCodeAt(0)][k]):w):R[j]+=w;R[j]=f(R[j])}return R.join(" ")},y=e.__arabicParser__.processArabic=e.processArabic=function(){var v,j=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,N=[];if(Array.isArray(j)){var k=0;for(N=[],k=0;k<j.length;k+=1)Array.isArray(j[k])?N.push([p(j[k][0]),j[k][1],j[k][2]]):N.push([p(j[k])]);v=N}else v=p(j);return typeof arguments[0]=="string"?v:(arguments[0].text=v,arguments[0])};e.events.push(["preProcessText",y])})(cr.API),cr.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(e){var t=function(){var s=void 0;Object.defineProperty(this,"pdf",{get:function(){return s},set:function(o){s=o}});var a=150;Object.defineProperty(this,"width",{get:function(){return a},set:function(o){a=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=a+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(o){l=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(s,a){var n;if((s=s||"2d")!=="2d")return null;for(n in a)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=a[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(cr.API),(function(e){var t={left:0,top:0,bottom:0,right:0},s=!1,a=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),n.call(this))},n=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(v){u=v}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(v){d=v}});var m=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return m},set:function(v){m=v}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(v){f=v}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(v){g=v}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(v){p=v}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(v){y=v}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(u){return a.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},e.getTextDimensions=function(u,d){a.call(this);var m=(d=d||{}).fontSize||this.getFontSize(),f=d.font||this.getFont(),g=d.scaleFactor||this.internal.scaleFactor,p=0,y=0,v=0,j=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var N=d.maxWidth;N>0?typeof u=="string"?u=this.splitTextToSize(u,N):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(w,A){return w.concat(j.splitTextToSize(A,N))},[])):u=Array.isArray(u)?u:[u];for(var k=0;k<u.length;k++)p<(v=this.getStringUnitWidth(u[k],{font:f})*m)&&(p=v);return p!==0&&(y=u.length),{w:p/=g,h:Math.max((y*m*this.getLineHeightFactor()-m*(this.getLineHeightFactor()-1))/g,0)}},e.cellAddPage=function(){a.call(this),this.addPage();var u=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=e.cell=function(){var u;u=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),a.call(this);var d=this.internal.__cell__.lastCell,m=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,g=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===u.lineNumber?(u.x=(d.x||0)+(d.width||0),u.y=d.y||0):d.y+d.height+u.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=f.top,p&&g&&(this.printHeaderRow(u.lineNumber,!0),u.y+=g[0].height)):u.y=d.y+d.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,s===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-m,u.y+m,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+m,{align:"center",baseline:"top",maxWidth:u.width-m-m}):this.text(u.text,u.x+m,u.y+m,{align:"left",baseline:"top",maxWidth:u.width-m-m})),this.internal.__cell__.lastCell=u,this};e.table=function(u,d,m,f,g){if(a.call(this),!m)throw new Error("No data for PDF table.");var p,y,v,j,N=[],k=[],w=[],A={},C={},M=[],R=[],D=(g=g||{}).autoSize||!1,B=g.printHeaders!==!1,z=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,I=g.margins||Object.assign({width:this.getPageWidth()},t),F=typeof g.padding=="number"?g.padding:3,Y=g.headerBackgroundColor||"#c8c8c8",te=g.headerTextColor||"#000";if(n.call(this),this.internal.__cell__.printHeaders=B,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=z,this.internal.__cell__.padding=F,this.internal.__cell__.headerBackgroundColor=Y,this.internal.__cell__.headerTextColor=te,this.setFontSize(z),f==null)k=N=Object.keys(m[0]),w=N.map(function(){return"left"});else if(Array.isArray(f)&&$s(f[0])==="object")for(N=f.map(function(Ne){return Ne.name}),k=f.map(function(Ne){return Ne.prompt||Ne.name||""}),w=f.map(function(Ne){return Ne.align||"left"}),p=0;p<f.length;p+=1)C[f[p].name]=.7499990551181103*f[p].width;else Array.isArray(f)&&typeof f[0]=="string"&&(k=N=f,w=N.map(function(){return"left"}));if(D||Array.isArray(f)&&typeof f[0]=="string")for(p=0;p<N.length;p+=1){for(A[j=N[p]]=m.map(function(Ne){return Ne[j]}),this.setFont(void 0,"bold"),M.push(this.getTextDimensions(k[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=A[j],this.setFont(void 0,"normal"),v=0;v<y.length;v+=1)M.push(this.getTextDimensions(y[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);C[j]=Math.max.apply(null,M)+F+F,M=[]}if(B){var ue={};for(p=0;p<N.length;p+=1)ue[N[p]]={},ue[N[p]].text=k[p],ue[N[p]].align=w[p];var Z=o.call(this,ue,C);R=N.map(function(Ne){return new i(u,d,C[Ne],Z,ue[Ne].text,void 0,ue[Ne].align)}),this.setTableHeaderRow(R),this.printHeaderRow(1,!1)}var ie=f.reduce(function(Ne,X){return Ne[X.name]=X.align,Ne},{});for(p=0;p<m.length;p+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:p,data:m[p]},this);var G=o.call(this,m[p],C);for(v=0;v<N.length;v+=1){var ee=m[p][N[v]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:p,col:v,data:ee},this),l.call(this,new i(u,d,C[N[v]],G,ee,p+2,ie[N[v]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=d,this};var o=function(u,d){var m=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(u).map(function(p){var y=u[p];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,d[p]-m-m)},this).map(function(p){return this.getLineHeightFactor()*p.length*f/g+m+m},this).reduce(function(p,y){return Math.max(p,y)},0)};e.setTableHeaderRow=function(u){a.call(this),this.internal.__cell__.tableHeaderRow=u},e.printHeaderRow=function(u,d){if(a.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var m;if(s=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){m=this.internal.__cell__.tableHeaderRow[p].clone(),d&&(m.y=this.internal.__cell__.margins.top||0,g.push(m)),m.lineNumber=u;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,m),this.setTextColor(y)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),s=!1}})(cr.API);var uG={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},hG=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],HA=dG(hG),mG=[100,200,300,400,500,600,700,800,900],b8e=dG(mG);function $3(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),s=(function(i){return uG[i=i||"normal"]?i:"normal"})(e.style),a=(function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400})(e.weight),n=(function(i){return typeof HA[i=i||"normal"]=="number"?i:"normal"})(e.stretch);return{family:t,style:s,weight:a,stretch:n,src:e.src||[],ref:e.ref||{name:t,style:[n,s,a].join(" ")}}}function eF(e,t,s,a){var n;for(n=s;n>=0&&n<t.length;n+=a)if(e[t[n]])return e[t[n]];for(n=s;n>=0&&n<t.length;n-=a)if(e[t[n]])return e[t[n]]}var j8e={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},tF={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function rF(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function sF(e){return e.trimLeft()}function N8e(e,t){for(var s=0;s<e.length;){if(e.charAt(s)===t)return[e.substring(0,s),e.substring(s+1)];s+=1}return null}function w8e(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var kp,R1,aF,nF,iF,H3=["times"];function lF(e,t,s,a,n){var i=4,l=cF;switch(n){case cr.API.image_compression.FAST:i=1,l=oF;break;case cr.API.image_compression.MEDIUM:i=6,l=dF;break;case cr.API.image_compression.SLOW:i=9,l=uF}e=(function(u,d,m,f){for(var g,p=u.length/d,y=new Uint8Array(u.length+p),v=[S8e,oF,cF,dF,uF],j=0;j<p;j+=1){var N=j*d,k=u.subarray(N,N+d);if(f)y.set(f(k,m,g),N+j);else{for(var w=v.length,A=[],C=0;C<w;C+=1)A[C]=v[C](k,m,g);var M=A8e(A.concat());y.set(A[M],N+j)}g=k}return y})(e,t,Math.ceil(s*a/8),l);var o=LA(e,{level:i});return cr.API.__addimage__.arrayBufferToBinaryString(o)}function S8e(e){var t=Array.apply([],e);return t.unshift(0),t}function oF(e,t){var s=e.length,a=[];a[0]=1;for(var n=0;n<s;n+=1){var i=e[n-t]||0;a[n+1]=e[n]-i+256&255}return a}function cF(e,t,s){var a=e.length,n=[];n[0]=2;for(var i=0;i<a;i+=1){var l=s&&s[i]||0;n[i+1]=e[i]-l+256&255}return n}function dF(e,t,s){var a=e.length,n=[];n[0]=3;for(var i=0;i<a;i+=1){var l=e[i-t]||0,o=s&&s[i]||0;n[i+1]=e[i]+256-(l+o>>>1)&255}return n}function uF(e,t,s){var a=e.length,n=[];n[0]=4;for(var i=0;i<a;i+=1){var l=_8e(e[i-t]||0,s&&s[i]||0,s&&s[i-t]||0);n[i+1]=e[i]-l+256&255}return n}function _8e(e,t,s){if(e===t&&t===s)return e;var a=Math.abs(t-s),n=Math.abs(e-s),i=Math.abs(e+t-s-s);return a<=n&&a<=i?e:n<=i?t:s}function A8e(e){var t=e.map(function(s){return s.reduce(function(a,n){return a+Math.abs(n)},0)});return t.indexOf(Math.min.apply(null,t))}function q3(e,t,s){var a=t*s,n=Math.floor(a/8),i=16-(a-8*n+s),l=(1<<s)-1;return fG(e,n)>>i&l}function hF(e,t,s,a){var n=s*a,i=Math.floor(n/8),l=16-(n-8*i+a),o=(1<<a)-1,u=(t&o)<<l;(function(d,m,f){if(m+1<d.byteLength)d.setUint16(m,f,!1);else{var g=f>>8&255;d.setUint8(m,g)}})(e,i,fG(e,i)&~(o<<l)&65535|u)}function fG(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function C8e(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var s=e[t++]|e[t++]<<8,a=e[t++]|e[t++]<<8,n=e[t++],i=n>>7,l=1<<1+(7&n);e[t++],e[t++];var o=null,u=null;i&&(o=t,u=l,t+=3*l);var d=!0,m=[],f=0,g=null,p=0,y=null;for(this.width=s,this.height=a;d&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,y=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((I=e[t++])>=0))throw Error("Invalid block size");if(I===0)break;t+=I}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var v=e[t++];f=e[t++]|e[t++]<<8,g=e[t++],1&v||(g=null),p=v>>2&7,t++;break;case 254:for(;;){if(!((I=e[t++])>=0))throw Error("Invalid block size");if(I===0)break;t+=I}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var j=e[t++]|e[t++]<<8,N=e[t++]|e[t++]<<8,k=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,A=e[t++],C=A>>6&1,M=1<<1+(7&A),R=o,D=u,B=!1;A>>7&&(B=!0,R=t,D=M,t+=3*M);var z=t;for(t++;;){var I;if(!((I=e[t++])>=0))throw Error("Invalid block size");if(I===0)break;t+=I}m.push({x:j,y:N,width:k,height:w,has_local_palette:B,palette_offset:R,palette_size:D,data_offset:z,data_length:t-z,transparent_index:g,interlaced:!!C,delay:f,disposal:p});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return m.length},this.loopCount=function(){return y},this.frameInfo=function(F){if(F<0||F>=m.length)throw new Error("Frame index out of range.");return m[F]},this.decodeAndBlitFrameBGRA=function(F,Y){var te=this.frameInfo(F),ue=te.width*te.height,Z=new Uint8Array(ue);mF(e,te.data_offset,Z,ue);var ie=te.palette_offset,G=te.transparent_index;G===null&&(G=256);var ee=te.width,Ne=s-ee,X=ee,P=4*(te.y*s+te.x),H=4*((te.y+te.height)*s+te.x),q=P,W=4*Ne;te.interlaced===!0&&(W+=4*s*7);for(var le=8,Se=0,Pe=Z.length;Se<Pe;++Se){var re=Z[Se];if(X===0&&(X=ee,(q+=W)>=H&&(W=4*Ne+4*s*(le-1),q=P+(ee+Ne)*(le<<1),le>>=1)),re===G)q+=4;else{var ye=e[ie+3*re],ze=e[ie+3*re+1],Ce=e[ie+3*re+2];Y[q++]=Ce,Y[q++]=ze,Y[q++]=ye,Y[q++]=255}--X}},this.decodeAndBlitFrameRGBA=function(F,Y){var te=this.frameInfo(F),ue=te.width*te.height,Z=new Uint8Array(ue);mF(e,te.data_offset,Z,ue);var ie=te.palette_offset,G=te.transparent_index;G===null&&(G=256);var ee=te.width,Ne=s-ee,X=ee,P=4*(te.y*s+te.x),H=4*((te.y+te.height)*s+te.x),q=P,W=4*Ne;te.interlaced===!0&&(W+=4*s*7);for(var le=8,Se=0,Pe=Z.length;Se<Pe;++Se){var re=Z[Se];if(X===0&&(X=ee,(q+=W)>=H&&(W=4*Ne+4*s*(le-1),q=P+(ee+Ne)*(le<<1),le>>=1)),re===G)q+=4;else{var ye=e[ie+3*re],ze=e[ie+3*re+1],Ce=e[ie+3*re+2];Y[q++]=ye,Y[q++]=ze,Y[q++]=Ce,Y[q++]=255}--X}}}function mF(e,t,s,a){for(var n=e[t++],i=1<<n,l=i+1,o=l+1,u=n+1,d=(1<<u)-1,m=0,f=0,g=0,p=e[t++],y=new Int32Array(4096),v=null;;){for(;m<16&&p!==0;)f|=e[t++]<<m,m+=8,p===1?p=e[t++]:--p;if(m<u)break;var j=f&d;if(f>>=u,m-=u,j!==i){if(j===l)break;for(var N=j<o?j:v,k=0,w=N;w>i;)w=y[w]>>8,++k;var A=w;if(g+k+(N!==j?1:0)>a)return void la.log("Warning, gif stream longer than expected.");s[g++]=A;var C=g+=k;for(N!==j&&(s[g++]=A),w=N;k--;)w=y[w],s[--C]=255&w,w>>=8;v!==null&&o<4096&&(y[o++]=v<<8|A,o>=d+1&&u<12&&(++u,d=d<<1|1)),v=j}else o=l+1,d=(1<<(u=n+1))-1,v=null}return g!==a&&la.log("Warning, gif stream shorter than expected."),s}function V3(e){var t,s,a,n,i,l=Math.floor,o=new Array(64),u=new Array(64),d=new Array(64),m=new Array(64),f=new Array(65535),g=new Array(65535),p=new Array(64),y=new Array(64),v=[],j=0,N=7,k=new Array(64),w=new Array(64),A=new Array(64),C=new Array(256),M=new Array(2048),R=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],F=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Y=[0,1,2,3,4,5,6,7,8,9,10,11],te=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ue=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Z(P,H){for(var q=0,W=0,le=new Array,Se=1;Se<=16;Se++){for(var Pe=1;Pe<=P[Se];Pe++)le[H[W]]=[],le[H[W]][0]=q,le[H[W]][1]=Se,W++,q++;q*=2}return le}function ie(P){for(var H=P[0],q=P[1]-1;q>=0;)H&1<<q&&(j|=1<<N),q--,--N<0&&(j==255?(G(255),G(0)):G(j),N=7,j=0)}function G(P){v.push(P)}function ee(P){G(P>>8&255),G(255&P)}function Ne(P,H,q,W,le){for(var Se,Pe=le[0],re=le[240],ye=(function(Me,yt){var xe,be,De,st,ut,lt,At,Lt,Et,Qt,qt=0;for(Et=0;Et<8;++Et){xe=Me[qt],be=Me[qt+1],De=Me[qt+2],st=Me[qt+3],ut=Me[qt+4],lt=Me[qt+5],At=Me[qt+6];var rs=xe+(Lt=Me[qt+7]),Tr=xe-Lt,nr=be+At,mr=be-At,Lr=De+lt,ir=De-lt,ms=st+ut,dr=st-ut,br=rs+ms,_s=rs-ms,kr=nr+Lr,rr=nr-Lr;Me[qt]=br+kr,Me[qt+4]=br-kr;var Yr=.707106781*(rr+_s);Me[qt+2]=_s+Yr,Me[qt+6]=_s-Yr;var ol=.382683433*((br=dr+ir)-(rr=mr+Tr)),bn=.5411961*br+ol,kl=1.306562965*rr+ol,zi=.707106781*(kr=ir+mr),or=Tr+zi,lo=Tr-zi;Me[qt+5]=lo+bn,Me[qt+3]=lo-bn,Me[qt+1]=or+kl,Me[qt+7]=or-kl,qt+=8}for(qt=0,Et=0;Et<8;++Et){xe=Me[qt],be=Me[qt+8],De=Me[qt+16],st=Me[qt+24],ut=Me[qt+32],lt=Me[qt+40],At=Me[qt+48];var Tl=xe+(Lt=Me[qt+56]),In=xe-Lt,bi=be+At,Ks=be-At,Aa=De+lt,se=De-lt,Te=st+ut,pe=st-ut,ge=Tl+Te,we=Tl-Te,Oe=bi+Aa,Ge=bi-Aa;Me[qt]=ge+Oe,Me[qt+32]=ge-Oe;var dt=.707106781*(Ge+we);Me[qt+16]=we+dt,Me[qt+48]=we-dt;var Ye=.382683433*((ge=pe+se)-(Ge=Ks+In)),Ze=.5411961*ge+Ye,Qe=1.306562965*Ge+Ye,Tt=.707106781*(Oe=se+Ks),Mt=In+Tt,$t=In-Tt;Me[qt+40]=$t+Ze,Me[qt+24]=$t-Ze,Me[qt+8]=Mt+Qe,Me[qt+56]=Mt-Qe,qt++}for(Et=0;Et<64;++Et)Qt=Me[Et]*yt[Et],p[Et]=Qt>0?Qt+.5|0:Qt-.5|0;return p})(P,H),ze=0;ze<64;++ze)y[R[ze]]=ye[ze];var Ce=y[0]-q;q=y[0],Ce==0?ie(W[0]):(ie(W[g[Se=32767+Ce]]),ie(f[Se]));for(var it=63;it>0&&y[it]==0;)it--;if(it==0)return ie(Pe),q;for(var rt,fe=1;fe<=it;){for(var ke=fe;y[fe]==0&&fe<=it;)++fe;var Ie=fe-ke;if(Ie>=16){rt=Ie>>4;for(var je=1;je<=rt;++je)ie(re);Ie&=15}Se=32767+y[fe],ie(le[(Ie<<4)+g[Se]]),ie(f[Se]),fe++}return it!=63&&ie(Pe),q}function X(P){P=Math.min(Math.max(P,1),100),i!=P&&((function(H){for(var q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],W=0;W<64;W++){var le=l((q[W]*H+50)/100);le=Math.min(Math.max(le,1),255),o[R[W]]=le}for(var Se=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Pe=0;Pe<64;Pe++){var re=l((Se[Pe]*H+50)/100);re=Math.min(Math.max(re,1),255),u[R[Pe]]=re}for(var ye=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ze=0,Ce=0;Ce<8;Ce++)for(var it=0;it<8;it++)d[ze]=1/(o[R[ze]]*ye[Ce]*ye[it]*8),m[ze]=1/(u[R[ze]]*ye[Ce]*ye[it]*8),ze++})(P<50?Math.floor(5e3/P):Math.floor(200-2*P)),i=P)}this.encode=function(P,H){H&&X(H),v=new Array,j=0,N=7,ee(65496),ee(65504),ee(16),G(74),G(70),G(73),G(70),G(0),G(1),G(1),G(0),ee(1),ee(1),G(0),G(0),(function(){ee(65499),ee(132),G(0);for(var be=0;be<64;be++)G(o[be]);G(1);for(var De=0;De<64;De++)G(u[De])})(),(function(be,De){ee(65472),ee(17),G(8),ee(De),ee(be),G(3),G(1),G(17),G(0),G(2),G(17),G(1),G(3),G(17),G(1)})(P.width,P.height),(function(){ee(65476),ee(418),G(0);for(var be=0;be<16;be++)G(D[be+1]);for(var De=0;De<=11;De++)G(B[De]);G(16);for(var st=0;st<16;st++)G(z[st+1]);for(var ut=0;ut<=161;ut++)G(I[ut]);G(1);for(var lt=0;lt<16;lt++)G(F[lt+1]);for(var At=0;At<=11;At++)G(Y[At]);G(17);for(var Lt=0;Lt<16;Lt++)G(te[Lt+1]);for(var Et=0;Et<=161;Et++)G(ue[Et])})(),ee(65498),ee(12),G(3),G(1),G(0),G(2),G(17),G(3),G(17),G(0),G(63),G(0);var q=0,W=0,le=0;j=0,N=7,this.encode.displayName="_encode_";for(var Se,Pe,re,ye,ze,Ce,it,rt,fe,ke=P.data,Ie=P.width,je=P.height,Me=4*Ie,yt=0;yt<je;){for(Se=0;Se<Me;){for(ze=Me*yt+Se,it=-1,rt=0,fe=0;fe<64;fe++)Ce=ze+(rt=fe>>3)*Me+(it=4*(7&fe)),yt+rt>=je&&(Ce-=Me*(yt+1+rt-je)),Se+it>=Me&&(Ce-=Se+it-Me+4),Pe=ke[Ce++],re=ke[Ce++],ye=ke[Ce++],k[fe]=(M[Pe]+M[re+256|0]+M[ye+512|0]>>16)-128,w[fe]=(M[Pe+768|0]+M[re+1024|0]+M[ye+1280|0]>>16)-128,A[fe]=(M[Pe+1280|0]+M[re+1536|0]+M[ye+1792|0]>>16)-128;q=Ne(k,d,q,t,a),W=Ne(w,m,W,s,n),le=Ne(A,m,le,s,n),Se+=32}yt+=8}if(N>=0){var xe=[];xe[1]=N+1,xe[0]=(1<<N+1)-1,ie(xe)}return ee(65497),new Uint8Array(v)},e=e||50,(function(){for(var P=String.fromCharCode,H=0;H<256;H++)C[H]=P(H)})(),t=Z(D,B),s=Z(F,Y),a=Z(z,I),n=Z(te,ue),(function(){for(var P=1,H=2,q=1;q<=15;q++){for(var W=P;W<H;W++)g[32767+W]=q,f[32767+W]=[],f[32767+W][1]=q,f[32767+W][0]=W;for(var le=-(H-1);le<=-P;le++)g[32767+le]=q,f[32767+le]=[],f[32767+le][1]=q,f[32767+le][0]=H-1+le;P<<=1,H<<=1}})(),(function(){for(var P=0;P<256;P++)M[P]=19595*P,M[P+256|0]=38470*P,M[P+512|0]=7471*P+32768,M[P+768|0]=-11059*P,M[P+1024|0]=-21709*P,M[P+1280|0]=32768*P+8421375,M[P+1536|0]=-27439*P,M[P+1792|0]=-5329*P})(),X(e)}function ad(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function fF(e){function t(B){if(!B)throw Error("assert :P")}function s(B,z,I){for(var F=0;4>F;F++)if(B[z+F]!=I.charCodeAt(F))return!0;return!1}function a(B,z,I,F,Y){for(var te=0;te<Y;te++)B[z+te]=I[F+te]}function n(B,z,I,F){for(var Y=0;Y<F;Y++)B[z+Y]=I}function i(B){return new Int32Array(B)}function l(B,z){for(var I=[],F=0;F<B;F++)I.push(new z);return I}function o(B,z){var I=[];return(function F(Y,te,ue){for(var Z=ue[te],ie=0;ie<Z&&(Y.push(ue.length>te+1?[]:new z),!(ue.length<te+1));ie++)F(Y[ie],te+1,ue)})(I,0,B),I}var u=function(){var B=this;function z(S,E){for(var U=1<<E-1>>>0;S&U;)U>>>=1;return U?(S&U-1)+U:S}function I(S,E,U,V,Q){t(!(V%U));do S[E+(V-=U)]=Q;while(0<V)}function F(S,E,U,V,Q){if(t(2328>=Q),512>=Q)var ne=i(512);else if((ne=i(Q))==null)return 0;return(function(oe,me,ve,Ae,Fe,Xe){var _e,Ue,Ve=me,ft=1<<ve,Ke=i(16),ht=i(16);for(t(Fe!=0),t(Ae!=null),t(oe!=null),t(0<ve),Ue=0;Ue<Fe;++Ue){if(15<Ae[Ue])return 0;++Ke[Ae[Ue]]}if(Ke[0]==Fe)return 0;for(ht[1]=0,_e=1;15>_e;++_e){if(Ke[_e]>1<<_e)return 0;ht[_e+1]=ht[_e]+Ke[_e]}for(Ue=0;Ue<Fe;++Ue)_e=Ae[Ue],0<Ae[Ue]&&(Xe[ht[_e]++]=Ue);if(ht[15]==1)return(Ae=new Y).g=0,Ae.value=Xe[0],I(oe,Ve,1,ft,Ae),ft;var vt,Ot=-1,St=ft-1,er=0,Vt=1,_r=1,Kt=1<<ve;for(Ue=0,_e=1,Fe=2;_e<=ve;++_e,Fe<<=1){if(Vt+=_r<<=1,0>(_r-=Ke[_e]))return 0;for(;0<Ke[_e];--Ke[_e])(Ae=new Y).g=_e,Ae.value=Xe[Ue++],I(oe,Ve+er,Fe,Kt,Ae),er=z(er,_e)}for(_e=ve+1,Fe=2;15>=_e;++_e,Fe<<=1){if(Vt+=_r<<=1,0>(_r-=Ke[_e]))return 0;for(;0<Ke[_e];--Ke[_e]){if(Ae=new Y,(er&St)!=Ot){for(Ve+=Kt,vt=1<<(Ot=_e)-ve;15>Ot&&!(0>=(vt-=Ke[Ot]));)++Ot,vt<<=1;ft+=Kt=1<<(vt=Ot-ve),oe[me+(Ot=er&St)].g=vt+ve,oe[me+Ot].value=Ve-me-Ot}Ae.g=_e-ve,Ae.value=Xe[Ue++],I(oe,Ve+(er>>ve),Fe,Kt,Ae),er=z(er,_e)}}return Vt!=2*ht[15]-1?0:ft})(S,E,U,V,Q,ne)}function Y(){this.value=this.g=0}function te(){this.value=this.g=0}function ue(){this.G=l(5,Y),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(Ed,te)}function Z(S,E,U,V){t(S!=null),t(E!=null),t(2147483648>V),S.Ca=254,S.I=0,S.b=-8,S.Ka=0,S.oa=E,S.pa=U,S.Jd=E,S.Yc=U+V,S.Zc=4<=V?U+V-4+1:U,Pe(S)}function ie(S,E){for(var U=0;0<E--;)U|=ye(S,128)<<E;return U}function G(S,E){var U=ie(S,E);return re(S)?-U:U}function ee(S,E,U,V){var Q,ne=0;for(t(S!=null),t(E!=null),t(4294967288>V),S.Sb=V,S.Ra=0,S.u=0,S.h=0,4<V&&(V=4),Q=0;Q<V;++Q)ne+=E[U+Q]<<8*Q;S.Ra=ne,S.bb=V,S.oa=E,S.pa=U}function Ne(S){for(;8<=S.u&&S.bb<S.Sb;)S.Ra>>>=8,S.Ra+=S.oa[S.pa+S.bb]<<Yo-8>>>0,++S.bb,S.u-=8;W(S)&&(S.h=1,S.u=0)}function X(S,E){if(t(0<=E),!S.h&&E<=_i){var U=q(S)&Hi[E];return S.u+=E,Ne(S),U}return S.h=1,S.u=0}function P(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function H(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function q(S){return S.Ra>>>(S.u&Yo-1)>>>0}function W(S){return t(S.bb<=S.Sb),S.h||S.bb==S.Sb&&S.u>Yo}function le(S,E){S.u=E,S.h=W(S)}function Se(S){S.u>=Zo&&(t(S.u>=Zo),Ne(S))}function Pe(S){t(S!=null&&S.oa!=null),S.pa<S.Zc?(S.I=(S.oa[S.pa++]|S.I<<8)>>>0,S.b+=8):(t(S!=null&&S.oa!=null),S.pa<S.Yc?(S.b+=8,S.I=S.oa[S.pa++]|S.I<<8):S.Ka?S.b=0:(S.I<<=8,S.b+=8,S.Ka=1))}function re(S){return ie(S,1)}function ye(S,E){var U=S.Ca;0>S.b&&Pe(S);var V=S.b,Q=U*E>>>8,ne=(S.I>>>V>Q)+0;for(ne?(U-=Q,S.I-=Q+1<<V>>>0):U=Q+1,V=U,Q=0;256<=V;)Q+=8,V>>=8;return V=7^Q+Hc[V],S.b-=V,S.Ca=(U<<V)-1,ne}function ze(S,E,U){S[E+0]=U>>24&255,S[E+1]=U>>16&255,S[E+2]=U>>8&255,S[E+3]=255&U}function Ce(S,E){return S[E+0]|S[E+1]<<8}function it(S,E){return Ce(S,E)|S[E+2]<<16}function rt(S,E){return Ce(S,E)|Ce(S,E+2)<<16}function fe(S,E){var U=1<<E;return t(S!=null),t(0<E),S.X=i(U),S.X==null?0:(S.Mb=32-E,S.Xa=E,1)}function ke(S,E){t(S!=null),t(E!=null),t(S.Xa==E.Xa),a(E.X,0,S.X,0,1<<E.Xa)}function Ie(){this.X=[],this.Xa=this.Mb=0}function je(S,E,U,V){t(U!=null),t(V!=null);var Q=U[0],ne=V[0];return Q==0&&(Q=(S*ne+E/2)/E),ne==0&&(ne=(E*Q+S/2)/S),0>=Q||0>=ne?0:(U[0]=Q,V[0]=ne,1)}function Me(S,E){return S+(1<<E)-1>>>E}function yt(S,E){return((4278255360&S)+(4278255360&E)>>>0&4278255360)+((16711935&S)+(16711935&E)>>>0&16711935)>>>0}function xe(S,E){B[E]=function(U,V,Q,ne,oe,me,ve){var Ae;for(Ae=0;Ae<oe;++Ae){var Fe=B[S](me[ve+Ae-1],Q,ne+Ae);me[ve+Ae]=yt(U[V+Ae],Fe)}}}function be(){this.ud=this.hd=this.jd=0}function De(S,E){return((4278124286&(S^E))>>>1)+(S&E)>>>0}function st(S){return 0<=S&&256>S?S:0>S?0:255<S?255:void 0}function ut(S,E){return st(S+(S-E+.5>>1))}function lt(S,E,U){return Math.abs(E-U)-Math.abs(S-U)}function At(S,E,U,V,Q,ne,oe){for(V=ne[oe-1],U=0;U<Q;++U)ne[oe+U]=V=yt(S[E+U],V)}function Lt(S,E,U,V,Q){var ne;for(ne=0;ne<U;++ne){var oe=S[E+ne],me=oe>>8&255,ve=16711935&(ve=(ve=16711935&oe)+((me<<16)+me));V[Q+ne]=(4278255360&oe)+ve>>>0}}function Et(S,E){E.jd=255&S,E.hd=S>>8&255,E.ud=S>>16&255}function Qt(S,E,U,V,Q,ne){var oe;for(oe=0;oe<V;++oe){var me=E[U+oe],ve=me>>>8,Ae=me,Fe=255&(Fe=(Fe=me>>>16)+((S.jd<<24>>24)*(ve<<24>>24)>>>5));Ae=255&(Ae=(Ae+=(S.hd<<24>>24)*(ve<<24>>24)>>>5)+((S.ud<<24>>24)*(Fe<<24>>24)>>>5)),Q[ne+oe]=(4278255360&me)+(Fe<<16)+Ae}}function qt(S,E,U,V,Q){B[E]=function(ne,oe,me,ve,Ae,Fe,Xe,_e,Ue){for(ve=Xe;ve<_e;++ve)for(Xe=0;Xe<Ue;++Xe)Ae[Fe++]=Q(me[V(ne[oe++])])},B[S]=function(ne,oe,me,ve,Ae,Fe,Xe){var _e=8>>ne.b,Ue=ne.Ea,Ve=ne.K[0],ft=ne.w;if(8>_e)for(ne=(1<<ne.b)-1,ft=(1<<_e)-1;oe<me;++oe){var Ke,ht=0;for(Ke=0;Ke<Ue;++Ke)Ke&ne||(ht=V(ve[Ae++])),Fe[Xe++]=Q(Ve[ht&ft]),ht>>=_e}else B["VP8LMapColor"+U](ve,Ae,Ve,ft,Fe,Xe,oe,me,Ue)}}function rs(S,E,U,V,Q){for(U=E+U;E<U;){var ne=S[E++];V[Q++]=ne>>16&255,V[Q++]=ne>>8&255,V[Q++]=255&ne}}function Tr(S,E,U,V,Q){for(U=E+U;E<U;){var ne=S[E++];V[Q++]=ne>>16&255,V[Q++]=ne>>8&255,V[Q++]=255&ne,V[Q++]=ne>>24&255}}function nr(S,E,U,V,Q){for(U=E+U;E<U;){var ne=(oe=S[E++])>>16&240|oe>>12&15,oe=240&oe|oe>>28&15;V[Q++]=ne,V[Q++]=oe}}function mr(S,E,U,V,Q){for(U=E+U;E<U;){var ne=(oe=S[E++])>>16&248|oe>>13&7,oe=oe>>5&224|oe>>3&31;V[Q++]=ne,V[Q++]=oe}}function Lr(S,E,U,V,Q){for(U=E+U;E<U;){var ne=S[E++];V[Q++]=255&ne,V[Q++]=ne>>8&255,V[Q++]=ne>>16&255}}function ir(S,E,U,V,Q,ne){if(ne==0)for(U=E+U;E<U;)ze(V,((ne=S[E++])[0]>>24|ne[1]>>8&65280|ne[2]<<8&16711680|ne[3]<<24)>>>0),Q+=32;else a(V,Q,S,E,U)}function ms(S,E){B[E][0]=B[S+"0"],B[E][1]=B[S+"1"],B[E][2]=B[S+"2"],B[E][3]=B[S+"3"],B[E][4]=B[S+"4"],B[E][5]=B[S+"5"],B[E][6]=B[S+"6"],B[E][7]=B[S+"7"],B[E][8]=B[S+"8"],B[E][9]=B[S+"9"],B[E][10]=B[S+"10"],B[E][11]=B[S+"11"],B[E][12]=B[S+"12"],B[E][13]=B[S+"13"],B[E][14]=B[S+"0"],B[E][15]=B[S+"0"]}function dr(S){return S==bf||S==H0||S==Wh||S==q0}function br(){this.eb=[],this.size=this.A=this.fb=0}function _s(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function kr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new br,this.f.kb=new _s,this.sd=null}function rr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Yr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ol(S){return alert("todo:WebPSamplerProcessPlane"),S.T}function bn(S,E){var U=S.T,V=E.ba.f.RGBA,Q=V.eb,ne=V.fb+S.ka*V.A,oe=Hn[E.ba.S],me=S.y,ve=S.O,Ae=S.f,Fe=S.N,Xe=S.ea,_e=S.W,Ue=E.cc,Ve=E.dc,ft=E.Mc,Ke=E.Nc,ht=S.ka,vt=S.ka+S.T,Ot=S.U,St=Ot+1>>1;for(ht==0?oe(me,ve,null,null,Ae,Fe,Xe,_e,Ae,Fe,Xe,_e,Q,ne,null,null,Ot):(oe(E.ec,E.fc,me,ve,Ue,Ve,ft,Ke,Ae,Fe,Xe,_e,Q,ne-V.A,Q,ne,Ot),++U);ht+2<vt;ht+=2)Ue=Ae,Ve=Fe,ft=Xe,Ke=_e,Fe+=S.Rc,_e+=S.Rc,ne+=2*V.A,oe(me,(ve+=2*S.fa)-S.fa,me,ve,Ue,Ve,ft,Ke,Ae,Fe,Xe,_e,Q,ne-V.A,Q,ne,Ot);return ve+=S.fa,S.j+vt<S.o?(a(E.ec,E.fc,me,ve,Ot),a(E.cc,E.dc,Ae,Fe,St),a(E.Mc,E.Nc,Xe,_e,St),U--):1&vt||oe(me,ve,null,null,Ae,Fe,Xe,_e,Ae,Fe,Xe,_e,Q,ne+V.A,null,null,Ot),U}function kl(S,E,U){var V=S.F,Q=[S.J];if(V!=null){var ne=S.U,oe=E.ba.S,me=oe==yf||oe==Wh;E=E.ba.f.RGBA;var ve=[0],Ae=S.ka;ve[0]=S.T,S.Kb&&(Ae==0?--ve[0]:(--Ae,Q[0]-=S.width),S.j+S.ka+S.T==S.o&&(ve[0]=S.o-S.j-Ae));var Fe=E.eb;Ae=E.fb+Ae*E.A,S=pf(V,Q[0],S.width,ne,ve,Fe,Ae+(me?0:3),E.A),t(U==ve),S&&dr(oe)&&Au(Fe,Ae,me,ne,ve,E.A)}return 0}function zi(S){var E=S.ma,U=E.ba.S,V=11>U,Q=U==ii||U==Rl||U==yf||U==Vh||U==12||dr(U);if(E.memory=null,E.Ib=null,E.Jb=null,E.Nd=null,!$c(E.Oa,S,Q?11:12))return 0;if(Q&&dr(U)&&uf(),S.da)alert("todo:use_scaling");else{if(V){if(E.Ib=ol,S.Kb){if(U=S.U+1>>1,E.memory=i(S.U+2*U),E.memory==null)return 0;E.ec=E.memory,E.fc=0,E.cc=E.ec,E.dc=E.fc+S.U,E.Mc=E.cc,E.Nc=E.dc+U,E.Ib=bn,uf()}}else alert("todo:EmitYUV");Q&&(E.Jb=kl,V&&fo())}if(V&&!Id){for(S=0;256>S;++S)qn[S]=89858*(S-128)+Yh>>Ul,Uw[S]=-22014*(S-128)+Yh,Hy[S]=-45773*(S-128),Y0[S]=113618*(S-128)+Yh>>Ul;for(S=Eu;S<Ld;++S)E=76283*(S-16)+Yh>>Ul,zw[S-Eu]=pa(E,255),$w[S-Eu]=pa(E+8>>4,15);Id=1}return 1}function or(S){var E=S.ma,U=S.U,V=S.T;return t(!(1&S.ka)),0>=U||0>=V?0:(U=E.Ib(S,E),E.Jb!=null&&E.Jb(S,E,U),E.Dc+=U,1)}function lo(S){S.ma.memory=null}function Tl(S,E,U,V){return X(S,8)!=47?0:(E[0]=X(S,14)+1,U[0]=X(S,14)+1,V[0]=X(S,1),X(S,3)!=0?0:!S.h)}function In(S,E){if(4>S)return S+1;var U=S-2>>1;return(2+(1&S)<<U)+X(E,U)+1}function bi(S,E){return 120<E?E-120:1<=(U=((U=Ll[E-1])>>4)*S+(8-(15&U)))?U:1;var U}function Ks(S,E,U){var V=q(U),Q=S[E+=255&V].g-8;return 0<Q&&(le(U,U.u+8),V=q(U),E+=S[E].value,E+=V&(1<<Q)-1),le(U,U.u+S[E].g),S[E].value}function Aa(S,E,U){return U.g+=S.g,U.value+=S.value<<E>>>0,t(8>=U.g),S.g}function se(S,E,U){var V=S.xc;return t((E=V==0?0:S.vc[S.md*(U>>V)+(E>>V)])<S.Wb),S.Ya[E]}function Te(S,E,U,V){var Q=S.ab,ne=S.c*E,oe=S.C;E=oe+E;var me=U,ve=V;for(V=S.Ta,U=S.Ua;0<Q--;){var Ae=S.gc[Q],Fe=oe,Xe=E,_e=me,Ue=ve,Ve=(ve=V,me=U,Ae.Ea);switch(t(Fe<Xe),t(Xe<=Ae.nc),Ae.hc){case 2:Fa(_e,Ue,(Xe-Fe)*Ve,ve,me);break;case 0:var ft=Fe,Ke=Xe,ht=ve,vt=me,Ot=(Kt=Ae).Ea;ft==0&&(zh(_e,Ue,null,null,1,ht,vt),At(_e,Ue+1,0,0,Ot-1,ht,vt+1),Ue+=Ot,vt+=Ot,++ft);for(var St=1<<Kt.b,er=St-1,Vt=Me(Ot,Kt.b),_r=Kt.K,Kt=Kt.w+(ft>>Kt.b)*Vt;ft<Ke;){var Kr=_r,na=Kt,Or=1;for($h(_e,Ue,ht,vt-Ot,1,ht,vt);Or<Ot;){var Wt=(Or&~er)+St;Wt>Ot&&(Wt=Ot),(0,qc[Kr[na++]>>8&15])(_e,Ue+ +Or,ht,vt+Or-Ot,Wt-Or,ht,vt+Or),Or=Wt}Ue+=Ot,vt+=Ot,++ft&er||(Kt+=Vt)}Xe!=Ae.nc&&a(ve,me-Ve,ve,me+(Xe-Fe-1)*Ve,Ve);break;case 1:for(Ve=_e,Ke=Ue,Ot=(_e=Ae.Ea)-(vt=_e&~(ht=(Ue=1<<Ae.b)-1)),ft=Me(_e,Ae.b),St=Ae.K,Ae=Ae.w+(Fe>>Ae.b)*ft;Fe<Xe;){for(er=St,Vt=Ae,_r=new be,Kt=Ke+vt,Kr=Ke+_e;Ke<Kt;)Et(er[Vt++],_r),Hh(_r,Ve,Ke,Ue,ve,me),Ke+=Ue,me+=Ue;Ke<Kr&&(Et(er[Vt++],_r),Hh(_r,Ve,Ke,Ot,ve,me),Ke+=Ot,me+=Ot),++Fe&ht||(Ae+=ft)}break;case 3:if(_e==ve&&Ue==me&&0<Ae.b){for(Ke=ve,_e=Ve=me+(Xe-Fe)*Ve-(vt=(Xe-Fe)*Me(Ae.Ea,Ae.b)),Ue=ve,ht=me,ft=[],vt=(Ot=vt)-1;0<=vt;--vt)ft[vt]=Ue[ht+vt];for(vt=Ot-1;0<=vt;--vt)Ke[_e+vt]=ft[vt];F0(Ae,Fe,Xe,ve,Ve,ve,me)}else F0(Ae,Fe,Xe,_e,Ue,ve,me)}me=V,ve=U}ve!=U&&a(V,U,me,ve,ne)}function pe(S,E){var U=S.V,V=S.Ba+S.c*S.C,Q=E-S.C;if(t(E<=S.l.o),t(16>=Q),0<Q){var ne=S.l,oe=S.Ta,me=S.Ua,ve=ne.width;if(Te(S,Q,U,V),Q=me=[me],t((U=S.C)<(V=E)),t(ne.v<ne.va),V>ne.o&&(V=ne.o),U<ne.j){var Ae=ne.j-U;U=ne.j,Q[0]+=Ae*ve}if(U>=V?U=0:(Q[0]+=4*ne.v,ne.ka=U-ne.j,ne.U=ne.va-ne.v,ne.T=V-U,U=1),U){if(me=me[0],11>(U=S.ca).S){var Fe=U.f.RGBA,Xe=(V=U.S,Q=ne.U,ne=ne.T,Ae=Fe.eb,Fe.A),_e=ne;for(Fe=Fe.fb+S.Ma*Fe.A;0<_e--;){var Ue=oe,Ve=me,ft=Q,Ke=Ae,ht=Fe;switch(V){case z0:qh(Ue,Ve,ft,Ke,ht);break;case ii:Vc(Ue,Ve,ft,Ke,ht);break;case bf:Vc(Ue,Ve,ft,Ke,ht),Au(Ke,ht,0,ft,1,0);break;case $0:Su(Ue,Ve,ft,Ke,ht);break;case Rl:ir(Ue,Ve,ft,Ke,ht,1);break;case H0:ir(Ue,Ve,ft,Ke,ht,1),Au(Ke,ht,0,ft,1,0);break;case yf:ir(Ue,Ve,ft,Ke,ht,0);break;case Wh:ir(Ue,Ve,ft,Ke,ht,0),Au(Ke,ht,1,ft,1,0);break;case Vh:Wc(Ue,Ve,ft,Ke,ht);break;case q0:Wc(Ue,Ve,ft,Ke,ht),Dl(Ke,ht,ft,1,0);break;case Od:Qo(Ue,Ve,ft,Ke,ht);break;default:t(0)}me+=ve,Fe+=Xe}S.Ma+=ne}else alert("todo:EmitRescaledRowsYUVA");t(S.Ma<=U.height)}}S.C=E,t(S.C<=S.i)}function ge(S){var E;if(0<S.ua)return 0;for(E=0;E<S.Wb;++E){var U=S.Ya[E].G,V=S.Ya[E].H;if(0<U[1][V[1]+0].g||0<U[2][V[2]+0].g||0<U[3][V[3]+0].g)return 0}return 1}function we(S,E,U,V,Q,ne){if(S.Z!=0){var oe=S.qd,me=S.rd;for(t(Yc[S.Z]!=null);E<U;++E)Yc[S.Z](oe,me,V,Q,V,Q,ne),oe=V,me=Q,Q+=ne;S.qd=oe,S.rd=me}}function Oe(S,E){var U=S.l.ma,V=U.Z==0||U.Z==1?S.l.j:S.C;if(V=S.C<V?V:S.C,t(E<=S.l.o),E>V){var Q=S.l.width,ne=U.ca,oe=U.tb+Q*V,me=S.V,ve=S.Ba+S.c*V,Ae=S.gc;t(S.ab==1),t(Ae[0].hc==3),Jo(Ae[0],V,E,me,ve,ne,oe),we(U,V,E,ne,oe,Q)}S.C=S.Ma=E}function Ge(S,E,U,V,Q,ne,oe){var me=S.$/V,ve=S.$%V,Ae=S.m,Fe=S.s,Xe=U+S.$,_e=Xe;Q=U+V*Q;var Ue=U+V*ne,Ve=280+Fe.ua,ft=S.Pb?me:16777216,Ke=0<Fe.ua?Fe.Wa:null,ht=Fe.wc,vt=Xe<Ue?se(Fe,ve,me):null;t(S.C<ne),t(Ue<=Q);var Ot=!1;e:for(;;){for(;Ot||Xe<Ue;){var St=0;if(me>=ft){var er=Xe-U;t((ft=S).Pb),ft.wd=ft.m,ft.xd=er,0<ft.s.ua&&ke(ft.s.Wa,ft.s.vb),ft=me+Pd}if(ve&ht||(vt=se(Fe,ve,me)),t(vt!=null),vt.Qb&&(E[Xe]=vt.qb,Ot=!0),!Ot)if(Se(Ae),vt.jc){St=Ae,er=E;var Vt=Xe,_r=vt.pd[q(St)&Ed-1];t(vt.jc),256>_r.g?(le(St,St.u+_r.g),er[Vt]=_r.value,St=0):(le(St,St.u+_r.g-256),t(256<=_r.value),St=_r.value),St==0&&(Ot=!0)}else St=Ks(vt.G[0],vt.H[0],Ae);if(Ae.h)break;if(Ot||256>St){if(!Ot)if(vt.nd)E[Xe]=(vt.qb|St<<8)>>>0;else{if(Se(Ae),Ot=Ks(vt.G[1],vt.H[1],Ae),Se(Ae),er=Ks(vt.G[2],vt.H[2],Ae),Vt=Ks(vt.G[3],vt.H[3],Ae),Ae.h)break;E[Xe]=(Vt<<24|Ot<<16|St<<8|er)>>>0}if(Ot=!1,++Xe,++ve>=V&&(ve=0,++me,oe!=null&&me<=ne&&!(me%16)&&oe(S,me),Ke!=null))for(;_e<Xe;)St=E[_e++],Ke.X[(506832829*St&4294967295)>>>Ke.Mb]=St}else if(280>St){if(St=In(St-256,Ae),er=Ks(vt.G[4],vt.H[4],Ae),Se(Ae),er=bi(V,er=In(er,Ae)),Ae.h)break;if(Xe-U<er||Q-Xe<St)break e;for(Vt=0;Vt<St;++Vt)E[Xe+Vt]=E[Xe+Vt-er];for(Xe+=St,ve+=St;ve>=V;)ve-=V,++me,oe!=null&&me<=ne&&!(me%16)&&oe(S,me);if(t(Xe<=Q),ve&ht&&(vt=se(Fe,ve,me)),Ke!=null)for(;_e<Xe;)St=E[_e++],Ke.X[(506832829*St&4294967295)>>>Ke.Mb]=St}else{if(!(St<Ve))break e;for(Ot=St-280,t(Ke!=null);_e<Xe;)St=E[_e++],Ke.X[(506832829*St&4294967295)>>>Ke.Mb]=St;St=Xe,t(!(Ot>>>(er=Ke).Xa)),E[St]=er.X[Ot],Ot=!0}Ot||t(Ae.h==W(Ae))}if(S.Pb&&Ae.h&&Xe<Q)t(S.m.h),S.a=5,S.m=S.wd,S.$=S.xd,0<S.s.ua&&ke(S.s.vb,S.s.Wa);else{if(Ae.h)break e;oe?.(S,me>ne?ne:me),S.a=0,S.$=Xe-U}return 1}return S.a=3,0}function dt(S){t(S!=null),S.vc=null,S.yc=null,S.Ya=null;var E=S.Wa;E!=null&&(E.X=null),S.vb=null,t(S!=null)}function Ye(){var S=new Nr;return S==null?null:(S.a=0,S.xb=ig,ms("Predictor","VP8LPredictors"),ms("Predictor","VP8LPredictors_C"),ms("PredictorAdd","VP8LPredictorsAdd"),ms("PredictorAdd","VP8LPredictorsAdd_C"),Fa=Lt,Hh=Qt,qh=rs,Vc=Tr,Wc=nr,Qo=mr,Su=Lr,B.VP8LMapColor32b=Xo,B.VP8LMapColor8b=Un,S)}function Ze(S,E,U,V,Q){var ne=1,oe=[S],me=[E],ve=V.m,Ae=V.s,Fe=null,Xe=0;e:for(;;){if(U)for(;ne&&X(ve,1);){var _e=oe,Ue=me,Ve=V,ft=1,Ke=Ve.m,ht=Ve.gc[Ve.ab],vt=X(Ke,2);if(Ve.Oc&1<<vt)ne=0;else{switch(Ve.Oc|=1<<vt,ht.hc=vt,ht.Ea=_e[0],ht.nc=Ue[0],ht.K=[null],++Ve.ab,t(4>=Ve.ab),vt){case 0:case 1:ht.b=X(Ke,3)+2,ft=Ze(Me(ht.Ea,ht.b),Me(ht.nc,ht.b),0,Ve,ht.K),ht.K=ht.K[0];break;case 3:var Ot,St=X(Ke,8)+1,er=16<St?0:4<St?1:2<St?2:3;if(_e[0]=Me(ht.Ea,er),ht.b=er,Ot=ft=Ze(St,1,0,Ve,ht.K)){var Vt,_r=St,Kt=ht,Kr=1<<(8>>Kt.b),na=i(Kr);if(na==null)Ot=0;else{var Or=Kt.K[0],Wt=Kt.w;for(na[0]=Kt.K[0][0],Vt=1;Vt<1*_r;++Vt)na[Vt]=yt(Or[Wt+Vt],na[Vt-1]);for(;Vt<4*Kr;++Vt)na[Vt]=0;Kt.K[0]=null,Kt.K[0]=na,Ot=1}}ft=Ot;break;case 2:break;default:t(0)}ne=ft}}if(oe=oe[0],me=me[0],ne&&X(ve,1)&&!(ne=1<=(Xe=X(ve,4))&&11>=Xe)){V.a=3;break e}var Ut;if(Ut=ne)t:{var ga,yr,Rr,Cs=V,un=oe,Vn=me,Xs=Xe,Ga=U,li=Cs.m,Ka=Cs.s,$r=[null],cs=1,va=0,xs=Il[Xs];r:for(;;){if(Ga&&X(li,1)){var hn=X(li,3)+2,ya=Me(un,hn),ds=Me(Vn,hn),za=ya*ds;if(!Ze(ya,ds,0,Cs,$r))break r;for($r=$r[0],Ka.xc=hn,ga=0;ga<za;++ga){var ks=$r[ga]>>8&65535;$r[ga]=ks,ks>=cs&&(cs=ks+1)}}if(li.h)break r;for(yr=0;5>yr;++yr){var Ya=ku[yr];!yr&&0<Xs&&(Ya+=1<<Xs),va<Ya&&(va=Ya)}var Za=l(cs*xs,Y),Ls=cs,ns=l(Ls,ue);if(ns==null)var oi=null;else t(65536>=Ls),oi=ns;var ka=i(va);if(oi==null||ka==null||Za==null){Cs.a=1;break r}var ur=Za;for(ga=Rr=0;ga<cs;++ga){var fr=oi[ga],us=fr.G,qi=fr.H,zl=0,Ci=1,Xa=0;for(yr=0;5>yr;++yr){Ya=ku[yr],us[yr]=ur,qi[yr]=Rr,!yr&&0<Xs&&(Ya+=1<<Xs);a:{var Fd,Bd=Ya,X0=Cs,Js=ka,og=ur,cg=Rr,J0=0,Zc=X0.m,Hw=X(Zc,1);if(n(Js,0,0,Bd),Hw){var dg=X(Zc,1)+1,ug=X(Zc,1),Q0=X(Zc,ug==0?1:8);Js[Q0]=1,dg==2&&(Js[Q0=X(Zc,8)]=1);var wn=1}else{var Ta=i(19),Sf=X(Zc,4)+4;if(19<Sf){X0.a=3;var Ud=0;break a}for(Fd=0;Fd<Sf;++Fd)Ta[jf[Fd]]=X(Zc,3);var Xh=void 0,Ou=void 0,rc=X0,ep=Ta,Jh=Bd,tp=Js,rp=0,Xc=rc.m,hg=8,mg=l(128,Y);s:for(;F(mg,0,7,ep,19);){if(X(Xc,1)){var qy=2+2*X(Xc,3);if((Xh=2+X(Xc,qy))>Jh)break s}else Xh=Jh;for(Ou=0;Ou<Jh&&Xh--;){Se(Xc);var fg=mg[0+(127&q(Xc))];le(Xc,Xc.u+fg.g);var zd=fg.value;if(16>zd)tp[Ou++]=zd,zd!=0&&(hg=zd);else{var Vy=zd==16,Wy=zd-16,Gy=Gh[Wy],pg=X(Xc,Ml[Wy])+Gy;if(Ou+pg>Jh)break s;for(var Ky=Vy?hg:0;0<pg--;)tp[Ou++]=Ky}}rp=1;break s}rp||(rc.a=3),wn=rp}(wn=wn&&!Zc.h)&&(J0=F(og,cg,8,Js,Bd)),wn&&J0!=0?Ud=J0:(X0.a=3,Ud=0)}if(Ud==0)break r;if(Ci&&V0[yr]==1&&(Ci=ur[Rr].g==0),zl+=ur[Rr].g,Rr+=Ud,3>=yr){var Pu,sp=ka[0];for(Pu=1;Pu<Ya;++Pu)ka[Pu]>sp&&(sp=ka[Pu]);Xa+=sp}}if(fr.nd=Ci,fr.Qb=0,Ci&&(fr.qb=(us[3][qi[3]+0].value<<24|us[1][qi[1]+0].value<<16|us[2][qi[2]+0].value)>>>0,zl==0&&256>us[0][qi[0]+0].value&&(fr.Qb=1,fr.qb+=us[0][qi[0]+0].value<<8)),fr.jc=!fr.Qb&&6>Xa,fr.jc){var _f,sc=fr;for(_f=0;_f<Ed;++_f){var Jc=_f,Qc=sc.pd[Jc],ap=sc.G[0][sc.H[0]+Jc];256<=ap.value?(Qc.g=ap.g+256,Qc.value=ap.value):(Qc.g=0,Qc.value=0,Jc>>=Aa(ap,8,Qc),Jc>>=Aa(sc.G[1][sc.H[1]+Jc],16,Qc),Jc>>=Aa(sc.G[2][sc.H[2]+Jc],0,Qc),Aa(sc.G[3][sc.H[3]+Jc],24,Qc))}}}Ka.vc=$r,Ka.Wb=cs,Ka.Ya=oi,Ka.yc=Za,Ut=1;break t}Ut=0}if(!(ne=Ut)){V.a=3;break e}if(0<Xe){if(Ae.ua=1<<Xe,!fe(Ae.Wa,Xe)){V.a=1,ne=0;break e}}else Ae.ua=0;var np=V,Du=oe,Yy=me,Qh=np.s,em=Qh.xc;if(np.c=Du,np.i=Yy,Qh.md=Me(Du,em),Qh.wc=em==0?-1:(1<<em)-1,U){V.xb=Dd;break e}if((Fe=i(oe*me))==null){V.a=1,ne=0;break e}ne=(ne=Ge(V,Fe,0,oe,me,me,null))&&!ve.h;break e}return ne?(Q!=null?Q[0]=Fe:(t(Fe==null),t(U)),V.$=0,U||dt(Ae)):dt(Ae),ne}function Qe(S,E){var U=S.c*S.i,V=U+E+16*E;return t(S.c<=E),S.V=i(V),S.V==null?(S.Ta=null,S.Ua=0,S.a=1,0):(S.Ta=S.V,S.Ua=S.Ba+U+E,1)}function Tt(S,E){var U=S.C,V=E-U,Q=S.V,ne=S.Ba+S.c*U;for(t(E<=S.l.o);0<V;){var oe=16<V?16:V,me=S.l.ma,ve=S.l.width,Ae=ve*oe,Fe=me.ca,Xe=me.tb+ve*U,_e=S.Ta,Ue=S.Ua;Te(S,oe,Q,ne),fl(_e,Ue,Fe,Xe,Ae),we(me,U,U+oe,Fe,Xe,ve),V-=oe,Q+=oe*S.c,U+=oe}t(U==E),S.C=S.Ma=E}function Mt(){this.ub=this.yd=this.td=this.Rb=0}function $t(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Rt(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Ft(){this.Yb=(function(){var S=[];return(function E(U,V,Q){for(var ne=Q[V],oe=0;oe<ne&&(U.push(Q.length>V+1?[]:0),!(Q.length<V+1));oe++)E(U[oe],V+1,Q)})(S,0,[3,11]),S})()}function Gt(){this.jb=i(3),this.Wc=o([4,8],Ft),this.Xc=o([4,17],Ft)}function As(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Gr(){this.ld=this.La=this.dd=this.tc=0}function Ds(){this.Na=this.la=0}function ji(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function oo(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function co(){this.uc=this.M=this.Nb=0,this.wa=Array(new Gr),this.Y=0,this.ya=Array(new oo),this.aa=0,this.l=new Ec}function cl(){this.y=i(16),this.f=i(8),this.ea=i(8)}function _d(){this.cb=this.a=0,this.sc="",this.m=new P,this.Od=new Mt,this.Kc=new $t,this.ed=new As,this.Qa=new Rt,this.Ic=this.$c=this.Aa=0,this.D=new co,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,P),this.ia=0,this.pb=l(4,ji),this.Pa=new Gt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new cl),this.Hd=0,this.rb=Array(new Ds),this.sb=0,this.wa=Array(new Gr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new oo),this.L=this.aa=0,this.gd=o([4,2],Gr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function pa(S,E){return 0>S?0:S>E?E:S}function Ec(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function uo(){var S=new _d;return S!=null&&(S.a=0,S.sc="OK",S.cb=0,S.Xb=0,pl||(pl=Ad)),S}function fs(S,E,U){return S.a==0&&(S.a=E,S.sc=U,S.cb=0),0}function ef(S,E,U){return 3<=U&&S[E+0]==157&&S[E+1]==1&&S[E+2]==42}function qo(S,E){if(S==null)return 0;if(S.a=0,S.sc="OK",E==null)return fs(S,2,"null VP8Io passed to VP8GetHeaders()");var U=E.data,V=E.w,Q=E.ha;if(4>Q)return fs(S,7,"Truncated header.");var ne=U[V+0]|U[V+1]<<8|U[V+2]<<16,oe=S.Od;if(oe.Rb=!(1&ne),oe.td=ne>>1&7,oe.yd=ne>>4&1,oe.ub=ne>>5,3<oe.td)return fs(S,3,"Incorrect keyframe parameters.");if(!oe.yd)return fs(S,4,"Frame not displayable.");V+=3,Q-=3;var me=S.Kc;if(oe.Rb){if(7>Q)return fs(S,7,"cannot parse picture header");if(!ef(U,V,Q))return fs(S,3,"Bad code word");me.c=16383&(U[V+4]<<8|U[V+3]),me.Td=U[V+4]>>6,me.i=16383&(U[V+6]<<8|U[V+5]),me.Ud=U[V+6]>>6,V+=7,Q-=7,S.za=me.c+15>>4,S.Ub=me.i+15>>4,E.width=me.c,E.height=me.i,E.Da=0,E.j=0,E.v=0,E.va=E.width,E.o=E.height,E.da=0,E.ib=E.width,E.hb=E.height,E.U=E.width,E.T=E.height,n((ne=S.Pa).jb,0,255,ne.jb.length),t((ne=S.Qa)!=null),ne.Cb=0,ne.Bb=0,ne.Fb=1,n(ne.Zb,0,0,ne.Zb.length),n(ne.Lb,0,0,ne.Lb)}if(oe.ub>Q)return fs(S,7,"bad partition length");Z(ne=S.m,U,V,oe.ub),V+=oe.ub,Q-=oe.ub,oe.Rb&&(me.Ld=re(ne),me.Kd=re(ne)),me=S.Qa;var ve,Ae=S.Pa;if(t(ne!=null),t(me!=null),me.Cb=re(ne),me.Cb){if(me.Bb=re(ne),re(ne)){for(me.Fb=re(ne),ve=0;4>ve;++ve)me.Zb[ve]=re(ne)?G(ne,7):0;for(ve=0;4>ve;++ve)me.Lb[ve]=re(ne)?G(ne,6):0}if(me.Bb)for(ve=0;3>ve;++ve)Ae.jb[ve]=re(ne)?ie(ne,8):255}else me.Bb=0;if(ne.Ka)return fs(S,3,"cannot parse segment header");if((me=S.ed).zd=re(ne),me.Tb=ie(ne,6),me.wb=ie(ne,3),me.Pc=re(ne),me.Pc&&re(ne)){for(Ae=0;4>Ae;++Ae)re(ne)&&(me.vd[Ae]=G(ne,6));for(Ae=0;4>Ae;++Ae)re(ne)&&(me.od[Ae]=G(ne,6))}if(S.L=me.Tb==0?0:me.zd?1:2,ne.Ka)return fs(S,3,"cannot parse filter header");var Fe=Q;if(Q=ve=V,V=ve+Fe,me=Fe,S.Xb=(1<<ie(S.m,2))-1,Fe<3*(Ae=S.Xb))U=7;else{for(ve+=3*Ae,me-=3*Ae,Fe=0;Fe<Ae;++Fe){var Xe=U[Q+0]|U[Q+1]<<8|U[Q+2]<<16;Xe>me&&(Xe=me),Z(S.Jc[+Fe],U,ve,Xe),ve+=Xe,me-=Xe,Q+=3}Z(S.Jc[+Ae],U,ve,me),U=ve<V?0:5}if(U!=0)return fs(S,U,"cannot parse partitions");for(U=ie(ve=S.m,7),Q=re(ve)?G(ve,4):0,V=re(ve)?G(ve,4):0,me=re(ve)?G(ve,4):0,Ae=re(ve)?G(ve,4):0,ve=re(ve)?G(ve,4):0,Fe=S.Qa,Xe=0;4>Xe;++Xe){if(Fe.Cb){var _e=Fe.Zb[Xe];Fe.Fb||(_e+=U)}else{if(0<Xe){S.pb[Xe]=S.pb[0];continue}_e=U}var Ue=S.pb[Xe];Ue.Sc[0]=Fl[pa(_e+Q,127)],Ue.Sc[1]=Bl[pa(_e+0,127)],Ue.Eb[0]=2*Fl[pa(_e+V,127)],Ue.Eb[1]=101581*Bl[pa(_e+me,127)]>>16,8>Ue.Eb[1]&&(Ue.Eb[1]=8),Ue.Qc[0]=Fl[pa(_e+Ae,117)],Ue.Qc[1]=Bl[pa(_e+ve,127)],Ue.lc=_e+ve}if(!oe.Rb)return fs(S,4,"Not a key frame.");for(re(ne),oe=S.Pa,U=0;4>U;++U){for(Q=0;8>Q;++Q)for(V=0;3>V;++V)for(me=0;11>me;++me)Ae=ye(ne,aa[U][Q][V][me])?ie(ne,8):$y[U][Q][V][me],oe.Wc[U][Q].Yb[V][me]=Ae;for(Q=0;17>Q;++Q)oe.Xc[U][Q]=oe.Wc[U][Zr[Q]]}return S.kc=re(ne),S.kc&&(S.Bd=ie(ne,8)),S.cb=1}function Ad(S,E,U,V,Q,ne,oe){var me=E[Q].Yb[U];for(U=0;16>Q;++Q){if(!ye(S,me[U+0]))return Q;for(;!ye(S,me[U+1]);)if(me=E[++Q].Yb[0],U=0,Q==16)return 16;var ve=E[Q+1].Yb;if(ye(S,me[U+2])){var Ae=S,Fe=0;if(ye(Ae,(_e=me)[(Xe=U)+3]))if(ye(Ae,_e[Xe+6])){for(me=0,Xe=2*(Fe=ye(Ae,_e[Xe+8]))+(_e=ye(Ae,_e[Xe+9+Fe])),Fe=0,_e=zy[Xe];_e[me];++me)Fe+=Fe+ye(Ae,_e[me]);Fe+=3+(8<<Xe)}else ye(Ae,_e[Xe+7])?(Fe=7+2*ye(Ae,165),Fe+=ye(Ae,145)):Fe=5+ye(Ae,159);else Fe=ye(Ae,_e[Xe+4])?3+ye(Ae,_e[Xe+5]):2;me=ve[2]}else Fe=1,me=ve[1];ve=oe+ng[Q],0>(Ae=S).b&&Pe(Ae);var Xe,_e=Ae.b,Ue=(Xe=Ae.Ca>>1)-(Ae.I>>_e)>>31;--Ae.b,Ae.Ca+=Ue,Ae.Ca|=1,Ae.I-=(Xe+1&Ue)<<_e,ne[ve]=((Fe^Ue)-Ue)*V[(0<Q)+0]}return 16}function tf(S){var E=S.rb[S.sb-1];E.la=0,E.Na=0,n(S.zc,0,0,S.zc.length),S.ja=0}function Ni(S,E,U,V,Q){Q=S[E+U+32*V]+(Q>>3),S[E+U+32*V]=-256&Q?0>Q?0:255:Q}function cn(S,E,U,V,Q,ne){Ni(S,E,0,U,V+Q),Ni(S,E,1,U,V+ne),Ni(S,E,2,U,V-ne),Ni(S,E,3,U,V-Q)}function Va(S){return(20091*S>>16)+S}function Rh(S,E,U,V){var Q,ne=0,oe=i(16);for(Q=0;4>Q;++Q){var me=S[E+0]+S[E+8],ve=S[E+0]-S[E+8],Ae=(35468*S[E+4]>>16)-Va(S[E+12]),Fe=Va(S[E+4])+(35468*S[E+12]>>16);oe[ne+0]=me+Fe,oe[ne+1]=ve+Ae,oe[ne+2]=ve-Ae,oe[ne+3]=me-Fe,ne+=4,E++}for(Q=ne=0;4>Q;++Q)me=(S=oe[ne+0]+4)+oe[ne+8],ve=S-oe[ne+8],Ae=(35468*oe[ne+4]>>16)-Va(oe[ne+12]),Ni(U,V,0,0,me+(Fe=Va(oe[ne+4])+(35468*oe[ne+12]>>16))),Ni(U,V,1,0,ve+Ae),Ni(U,V,2,0,ve-Ae),Ni(U,V,3,0,me-Fe),ne++,V+=32}function T0(S,E,U,V){var Q=S[E+0]+4,ne=35468*S[E+4]>>16,oe=Va(S[E+4]),me=35468*S[E+1]>>16;cn(U,V,0,Q+oe,S=Va(S[E+1]),me),cn(U,V,1,Q+ne,S,me),cn(U,V,2,Q-ne,S,me),cn(U,V,3,Q-oe,S,me)}function rf(S,E,U,V,Q){Rh(S,E,U,V),Q&&Rh(S,E+16,U,V+4)}function wi(S,E,U,V){Gc(S,E+0,U,V,1),Gc(S,E+32,U,V+128,1)}function sf(S,E,U,V){var Q;for(S=S[E+0]+4,Q=0;4>Q;++Q)for(E=0;4>E;++E)Ni(U,V,E,Q,S)}function af(S,E,U,V){S[E+0]&&ps(S,E+0,U,V),S[E+16]&&ps(S,E+16,U,V+4),S[E+32]&&ps(S,E+32,U,V+128),S[E+48]&&ps(S,E+48,U,V+128+4)}function ho(S,E,U,V){var Q,ne=i(16);for(Q=0;4>Q;++Q){var oe=S[E+0+Q]+S[E+12+Q],me=S[E+4+Q]+S[E+8+Q],ve=S[E+4+Q]-S[E+8+Q],Ae=S[E+0+Q]-S[E+12+Q];ne[0+Q]=oe+me,ne[8+Q]=oe-me,ne[4+Q]=Ae+ve,ne[12+Q]=Ae-ve}for(Q=0;4>Q;++Q)oe=(S=ne[0+4*Q]+3)+ne[3+4*Q],me=ne[1+4*Q]+ne[2+4*Q],ve=ne[1+4*Q]-ne[2+4*Q],Ae=S-ne[3+4*Q],U[V+0]=oe+me>>3,U[V+16]=Ae+ve>>3,U[V+32]=oe-me>>3,U[V+48]=Ae-ve>>3,V+=64}function gu(S,E,U){var V,Q=E-32,ne=ni,oe=255-S[Q-1];for(V=0;V<U;++V){var me,ve=ne,Ae=oe+S[E-1];for(me=0;me<U;++me)S[E+me]=ve[Ae+S[Q+me]];E+=32}}function E0(S,E){gu(S,E,4)}function O0(S,E){gu(S,E,8)}function nf(S,E){gu(S,E,16)}function lf(S,E){var U;for(U=0;16>U;++U)a(S,E+32*U,S,E-32,16)}function P0(S,E){var U;for(U=16;0<U;--U)n(S,E,S[E-1],16),E+=32}function $i(S,E,U){var V;for(V=0;16>V;++V)n(E,U+32*V,S,16)}function mo(S,E){var U,V=16;for(U=0;16>U;++U)V+=S[E-1+32*U]+S[E+U-32];$i(V>>5,S,E)}function Oc(S,E){var U,V=8;for(U=0;16>U;++U)V+=S[E-1+32*U];$i(V>>4,S,E)}function vu(S,E){var U,V=8;for(U=0;16>U;++U)V+=S[E+U-32];$i(V>>4,S,E)}function Cd(S,E){$i(128,S,E)}function vr(S,E,U){return S+2*E+U+2>>2}function D0(S,E){var U,V=E-32;for(V=new Uint8Array([vr(S[V-1],S[V+0],S[V+1]),vr(S[V+0],S[V+1],S[V+2]),vr(S[V+1],S[V+2],S[V+3]),vr(S[V+2],S[V+3],S[V+4])]),U=0;4>U;++U)a(S,E+32*U,V,0,V.length)}function of(S,E){var U=S[E-1],V=S[E-1+32],Q=S[E-1+64],ne=S[E-1+96];ze(S,E+0,16843009*vr(S[E-1-32],U,V)),ze(S,E+32,16843009*vr(U,V,Q)),ze(S,E+64,16843009*vr(V,Q,ne)),ze(S,E+96,16843009*vr(Q,ne,ne))}function R0(S,E){var U,V=4;for(U=0;4>U;++U)V+=S[E+U-32]+S[E-1+32*U];for(V>>=3,U=0;4>U;++U)n(S,E+32*U,V,4)}function dl(S,E){var U=S[E-1+0],V=S[E-1+32],Q=S[E-1+64],ne=S[E-1-32],oe=S[E+0-32],me=S[E+1-32],ve=S[E+2-32],Ae=S[E+3-32];S[E+0+96]=vr(V,Q,S[E-1+96]),S[E+1+96]=S[E+0+64]=vr(U,V,Q),S[E+2+96]=S[E+1+64]=S[E+0+32]=vr(ne,U,V),S[E+3+96]=S[E+2+64]=S[E+1+32]=S[E+0+0]=vr(oe,ne,U),S[E+3+64]=S[E+2+32]=S[E+1+0]=vr(me,oe,ne),S[E+3+32]=S[E+2+0]=vr(ve,me,oe),S[E+3+0]=vr(Ae,ve,me)}function Fn(S,E){var U=S[E+1-32],V=S[E+2-32],Q=S[E+3-32],ne=S[E+4-32],oe=S[E+5-32],me=S[E+6-32],ve=S[E+7-32];S[E+0+0]=vr(S[E+0-32],U,V),S[E+1+0]=S[E+0+32]=vr(U,V,Q),S[E+2+0]=S[E+1+32]=S[E+0+64]=vr(V,Q,ne),S[E+3+0]=S[E+2+32]=S[E+1+64]=S[E+0+96]=vr(Q,ne,oe),S[E+3+32]=S[E+2+64]=S[E+1+96]=vr(ne,oe,me),S[E+3+64]=S[E+2+96]=vr(oe,me,ve),S[E+3+96]=vr(me,ve,ve)}function cf(S,E){var U=S[E-1+0],V=S[E-1+32],Q=S[E-1+64],ne=S[E-1-32],oe=S[E+0-32],me=S[E+1-32],ve=S[E+2-32],Ae=S[E+3-32];S[E+0+0]=S[E+1+64]=ne+oe+1>>1,S[E+1+0]=S[E+2+64]=oe+me+1>>1,S[E+2+0]=S[E+3+64]=me+ve+1>>1,S[E+3+0]=ve+Ae+1>>1,S[E+0+96]=vr(Q,V,U),S[E+0+64]=vr(V,U,ne),S[E+0+32]=S[E+1+96]=vr(U,ne,oe),S[E+1+32]=S[E+2+96]=vr(ne,oe,me),S[E+2+32]=S[E+3+96]=vr(oe,me,ve),S[E+3+32]=vr(me,ve,Ae)}function yu(S,E){var U=S[E+0-32],V=S[E+1-32],Q=S[E+2-32],ne=S[E+3-32],oe=S[E+4-32],me=S[E+5-32],ve=S[E+6-32],Ae=S[E+7-32];S[E+0+0]=U+V+1>>1,S[E+1+0]=S[E+0+64]=V+Q+1>>1,S[E+2+0]=S[E+1+64]=Q+ne+1>>1,S[E+3+0]=S[E+2+64]=ne+oe+1>>1,S[E+0+32]=vr(U,V,Q),S[E+1+32]=S[E+0+96]=vr(V,Q,ne),S[E+2+32]=S[E+1+96]=vr(Q,ne,oe),S[E+3+32]=S[E+2+96]=vr(ne,oe,me),S[E+3+64]=vr(oe,me,ve),S[E+3+96]=vr(me,ve,Ae)}function ul(S,E){var U=S[E-1+0],V=S[E-1+32],Q=S[E-1+64],ne=S[E-1+96];S[E+0+0]=U+V+1>>1,S[E+2+0]=S[E+0+32]=V+Q+1>>1,S[E+2+32]=S[E+0+64]=Q+ne+1>>1,S[E+1+0]=vr(U,V,Q),S[E+3+0]=S[E+1+32]=vr(V,Q,ne),S[E+3+32]=S[E+1+64]=vr(Q,ne,ne),S[E+3+64]=S[E+2+64]=S[E+0+96]=S[E+1+96]=S[E+2+96]=S[E+3+96]=ne}function bu(S,E){var U=S[E-1+0],V=S[E-1+32],Q=S[E-1+64],ne=S[E-1+96],oe=S[E-1-32],me=S[E+0-32],ve=S[E+1-32],Ae=S[E+2-32];S[E+0+0]=S[E+2+32]=U+oe+1>>1,S[E+0+32]=S[E+2+64]=V+U+1>>1,S[E+0+64]=S[E+2+96]=Q+V+1>>1,S[E+0+96]=ne+Q+1>>1,S[E+3+0]=vr(me,ve,Ae),S[E+2+0]=vr(oe,me,ve),S[E+1+0]=S[E+3+32]=vr(U,oe,me),S[E+1+32]=S[E+3+64]=vr(V,U,oe),S[E+1+64]=S[E+3+96]=vr(Q,V,U),S[E+1+96]=vr(ne,Q,V)}function Vo(S,E){var U;for(U=0;8>U;++U)a(S,E+32*U,S,E-32,8)}function M0(S,E){var U;for(U=0;8>U;++U)n(S,E,S[E-1],8),E+=32}function El(S,E,U){var V;for(V=0;8>V;++V)n(E,U+32*V,S,8)}function Mh(S,E){var U,V=8;for(U=0;8>U;++U)V+=S[E+U-32]+S[E-1+32*U];El(V>>4,S,E)}function Lh(S,E){var U,V=4;for(U=0;8>U;++U)V+=S[E+U-32];El(V>>3,S,E)}function jn(S,E){var U,V=4;for(U=0;8>U;++U)V+=S[E-1+32*U];El(V>>3,S,E)}function Wo(S,E){El(128,S,E)}function Ol(S,E,U){var V=S[E-U],Q=S[E+0],ne=3*(Q-V)+Kc[1020+S[E-2*U]-S[E+U]],oe=vf[112+(ne+4>>3)];S[E-U]=ni[255+V+vf[112+(ne+3>>3)]],S[E+0]=ni[255+Q-oe]}function Pc(S,E,U,V){var Q=S[E+0],ne=S[E+U];return zn[255+S[E-2*U]-S[E-U]]>V||zn[255+ne-Q]>V}function Ih(S,E,U,V){return 4*zn[255+S[E-U]-S[E+0]]+zn[255+S[E-2*U]-S[E+U]]<=V}function ju(S,E,U,V,Q){var ne=S[E-3*U],oe=S[E-2*U],me=S[E-U],ve=S[E+0],Ae=S[E+U],Fe=S[E+2*U],Xe=S[E+3*U];return 4*zn[255+me-ve]+zn[255+oe-Ae]>V?0:zn[255+S[E-4*U]-ne]<=Q&&zn[255+ne-oe]<=Q&&zn[255+oe-me]<=Q&&zn[255+Xe-Fe]<=Q&&zn[255+Fe-Ae]<=Q&&zn[255+Ae-ve]<=Q}function Dc(S,E,U,V){var Q=2*V+1;for(V=0;16>V;++V)Ih(S,E+V,U,Q)&&Ol(S,E+V,U)}function Rc(S,E,U,V){var Q=2*V+1;for(V=0;16>V;++V)Ih(S,E+V*U,1,Q)&&Ol(S,E+V*U,1)}function Nu(S,E,U,V){var Q;for(Q=3;0<Q;--Q)Dc(S,E+=4*U,U,V)}function df(S,E,U,V){var Q;for(Q=3;0<Q;--Q)Rc(S,E+=4,U,V)}function Mc(S,E,U,V,Q,ne,oe,me){for(ne=2*ne+1;0<Q--;){if(ju(S,E,U,ne,oe))if(Pc(S,E,U,me))Ol(S,E,U);else{var ve=S,Ae=E,Fe=U,Xe=ve[Ae-2*Fe],_e=ve[Ae-Fe],Ue=ve[Ae+0],Ve=ve[Ae+Fe],ft=ve[Ae+2*Fe],Ke=27*(vt=Kc[1020+3*(Ue-_e)+Kc[1020+Xe-Ve]])+63>>7,ht=18*vt+63>>7,vt=9*vt+63>>7;ve[Ae-3*Fe]=ni[255+ve[Ae-3*Fe]+vt],ve[Ae-2*Fe]=ni[255+Xe+ht],ve[Ae-Fe]=ni[255+_e+Ke],ve[Ae+0]=ni[255+Ue-Ke],ve[Ae+Fe]=ni[255+Ve-ht],ve[Ae+2*Fe]=ni[255+ft-vt]}E+=V}}function Lc(S,E,U,V,Q,ne,oe,me){for(ne=2*ne+1;0<Q--;){if(ju(S,E,U,ne,oe))if(Pc(S,E,U,me))Ol(S,E,U);else{var ve=S,Ae=E,Fe=U,Xe=ve[Ae-Fe],_e=ve[Ae+0],Ue=ve[Ae+Fe],Ve=vf[112+(4+(ft=3*(_e-Xe))>>3)],ft=vf[112+(ft+3>>3)],Ke=Ve+1>>1;ve[Ae-2*Fe]=ni[255+ve[Ae-2*Fe]+Ke],ve[Ae-Fe]=ni[255+Xe+ft],ve[Ae+0]=ni[255+_e-Ve],ve[Ae+Fe]=ni[255+Ue-Ke]}E+=V}}function L0(S,E,U,V,Q,ne){Mc(S,E,U,1,16,V,Q,ne)}function Ic(S,E,U,V,Q,ne){Mc(S,E,1,U,16,V,Q,ne)}function I0(S,E,U,V,Q,ne){var oe;for(oe=3;0<oe;--oe)Lc(S,E+=4*U,U,1,16,V,Q,ne)}function L(S,E,U,V,Q,ne){var oe;for(oe=3;0<oe;--oe)Lc(S,E+=4,1,U,16,V,Q,ne)}function J(S,E,U,V,Q,ne,oe,me){Mc(S,E,Q,1,8,ne,oe,me),Mc(U,V,Q,1,8,ne,oe,me)}function Ee(S,E,U,V,Q,ne,oe,me){Mc(S,E,1,Q,8,ne,oe,me),Mc(U,V,1,Q,8,ne,oe,me)}function Le(S,E,U,V,Q,ne,oe,me){Lc(S,E+4*Q,Q,1,8,ne,oe,me),Lc(U,V+4*Q,Q,1,8,ne,oe,me)}function He(S,E,U,V,Q,ne,oe,me){Lc(S,E+4,1,Q,8,ne,oe,me),Lc(U,V+4,1,Q,8,ne,oe,me)}function gt(){this.ba=new kr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Yr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ct(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Zt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function sr(){this.ua=0,this.Wa=new Ie,this.vb=new Ie,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ue,this.yc=new Y}function Nr(){this.xb=this.a=0,this.l=new Ec,this.ca=new kr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new H,this.Pb=0,this.wd=new H,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new sr,this.ab=0,this.gc=l(4,Zt),this.Oc=0}function Er(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ec,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ss(S,E,U,V,Q,ne,oe){for(S=S==null?0:S[E+0],E=0;E<oe;++E)Q[ne+E]=S+U[V+E]&255,S=Q[ne+E]}function xa(S,E,U,V,Q,ne,oe){var me;if(S==null)ss(null,null,U,V,Q,ne,oe);else for(me=0;me<oe;++me)Q[ne+me]=S[E+me]+U[V+me]&255}function Ia(S,E,U,V,Q,ne,oe){if(S==null)ss(null,null,U,V,Q,ne,oe);else{var me,ve=S[E+0],Ae=ve,Fe=ve;for(me=0;me<oe;++me)Ae=Fe+(ve=S[E+me])-Ae,Fe=U[V+me]+(-256&Ae?0>Ae?0:255:Ae)&255,Ae=ve,Q[ne+me]=Fe}}function Ys(S,E,U,V){var Q=E.width,ne=E.o;if(t(S!=null&&E!=null),0>U||0>=V||U+V>ne)return null;if(!S.Cc){if(S.ga==null){var oe;if(S.ga=new Er,(oe=S.ga==null)||(oe=E.width*E.o,t(S.Gb.length==0),S.Gb=i(oe),S.Uc=0,S.Gb==null?oe=0:(S.mb=S.Gb,S.nb=S.Uc,S.rc=null,oe=1),oe=!oe),!oe){oe=S.ga;var me=S.Fa,ve=S.P,Ae=S.qc,Fe=S.mb,Xe=S.nb,_e=ve+1,Ue=Ae-1,Ve=oe.l;if(t(me!=null&&Fe!=null&&E!=null),Yc[0]=null,Yc[1]=ss,Yc[2]=xa,Yc[3]=Ia,oe.ca=Fe,oe.tb=Xe,oe.c=E.width,oe.i=E.height,t(0<oe.c&&0<oe.i),1>=Ae)E=0;else if(oe.$a=3&me[ve+0],oe.Z=me[ve+0]>>2&3,oe.Lc=me[ve+0]>>4&3,ve=me[ve+0]>>6&3,0>oe.$a||1<oe.$a||4<=oe.Z||1<oe.Lc||ve)E=0;else if(Ve.put=or,Ve.ac=zi,Ve.bc=lo,Ve.ma=oe,Ve.width=E.width,Ve.height=E.height,Ve.Da=E.Da,Ve.v=E.v,Ve.va=E.va,Ve.j=E.j,Ve.o=E.o,oe.$a)e:{t(oe.$a==1),E=Ye();t:for(;;){if(E==null){E=0;break e}if(t(oe!=null),oe.mc=E,E.c=oe.c,E.i=oe.i,E.l=oe.l,E.l.ma=oe,E.l.width=oe.c,E.l.height=oe.i,E.a=0,ee(E.m,me,_e,Ue),!Ze(oe.c,oe.i,1,E,null)||(E.ab==1&&E.gc[0].hc==3&&ge(E.s)?(oe.ic=1,me=E.c*E.i,E.Ta=null,E.Ua=0,E.V=i(me),E.Ba=0,E.V==null?(E.a=1,E=0):E=1):(oe.ic=0,E=Qe(E,oe.c)),!E))break t;E=1;break e}oe.mc=null,E=0}else E=Ue>=oe.c*oe.i;oe=!E}if(oe)return null;S.ga.Lc!=1?S.Ga=0:V=ne-U}t(S.ga!=null),t(U+V<=ne);e:{if(E=(me=S.ga).c,ne=me.l.o,me.$a==0){if(_e=S.rc,Ue=S.Vc,Ve=S.Fa,ve=S.P+1+U*E,Ae=S.mb,Fe=S.nb+U*E,t(ve<=S.P+S.qc),me.Z!=0)for(t(Yc[me.Z]!=null),oe=0;oe<V;++oe)Yc[me.Z](_e,Ue,Ve,ve,Ae,Fe,E),_e=Ae,Ue=Fe,Fe+=E,ve+=E;else for(oe=0;oe<V;++oe)a(Ae,Fe,Ve,ve,E),_e=Ae,Ue=Fe,Fe+=E,ve+=E;S.rc=_e,S.Vc=Ue}else{if(t(me.mc!=null),E=U+V,t((oe=me.mc)!=null),t(E<=oe.i),oe.C>=E)E=1;else if(me.ic||fo(),me.ic){me=oe.V,_e=oe.Ba,Ue=oe.c;var ft=oe.i,Ke=(Ve=1,ve=oe.$/Ue,Ae=oe.$%Ue,Fe=oe.m,Xe=oe.s,oe.$),ht=Ue*ft,vt=Ue*E,Ot=Xe.wc,St=Ke<vt?se(Xe,Ae,ve):null;t(Ke<=ht),t(E<=ft),t(ge(Xe));t:for(;;){for(;!Fe.h&&Ke<vt;){if(Ae&Ot||(St=se(Xe,Ae,ve)),t(St!=null),Se(Fe),256>(ft=Ks(St.G[0],St.H[0],Fe)))me[_e+Ke]=ft,++Ke,++Ae>=Ue&&(Ae=0,++ve<=E&&!(ve%16)&&Oe(oe,ve));else{if(!(280>ft)){Ve=0;break t}ft=In(ft-256,Fe);var er,Vt=Ks(St.G[4],St.H[4],Fe);if(Se(Fe),!(Ke>=(Vt=bi(Ue,Vt=In(Vt,Fe)))&&ht-Ke>=ft)){Ve=0;break t}for(er=0;er<ft;++er)me[_e+Ke+er]=me[_e+Ke+er-Vt];for(Ke+=ft,Ae+=ft;Ae>=Ue;)Ae-=Ue,++ve<=E&&!(ve%16)&&Oe(oe,ve);Ke<vt&&Ae&Ot&&(St=se(Xe,Ae,ve))}t(Fe.h==W(Fe))}Oe(oe,ve>E?E:ve);break t}!Ve||Fe.h&&Ke<ht?(Ve=0,oe.a=Fe.h?5:3):oe.$=Ke,E=Ve}else E=Ge(oe,oe.V,oe.Ba,oe.c,oe.i,E,Tt);if(!E){V=0;break e}}U+V>=ne&&(S.Cc=1),V=1}if(!V)return null;if(S.Cc&&((V=S.ga)!=null&&(V.mc=null),S.ga=null,0<S.Ga))return alert("todo:WebPDequantizeLevels"),null}return S.nb+U*Q}function dn(S,E,U,V,Q,ne){for(;0<Q--;){var oe,me=S,ve=E+(U?1:0),Ae=S,Fe=E+(U?0:3);for(oe=0;oe<V;++oe){var Xe=Ae[Fe+4*oe];Xe!=255&&(Xe*=32897,me[ve+4*oe+0]=me[ve+4*oe+0]*Xe>>23,me[ve+4*oe+1]=me[ve+4*oe+1]*Xe>>23,me[ve+4*oe+2]=me[ve+4*oe+2]*Xe>>23)}E+=ne}}function Wa(S,E,U,V,Q){for(;0<V--;){var ne;for(ne=0;ne<U;++ne){var oe=S[E+2*ne+0],me=15&(Ae=S[E+2*ne+1]),ve=4369*me,Ae=(240&Ae|Ae>>4)*ve>>16;S[E+2*ne+0]=(240&oe|oe>>4)*ve>>16&240|(15&oe|oe<<4)*ve>>16>>4&15,S[E+2*ne+1]=240&Ae|me}E+=Q}}function Bn(S,E,U,V,Q,ne,oe,me){var ve,Ae,Fe=255;for(Ae=0;Ae<Q;++Ae){for(ve=0;ve<V;++ve){var Xe=S[E+ve];ne[oe+4*ve]=Xe,Fe&=Xe}E+=U,oe+=me}return Fe!=255}function Fc(S,E,U,V,Q){var ne;for(ne=0;ne<Q;++ne)U[V+ne]=S[E+ne]>>8}function fo(){Au=dn,Dl=Wa,pf=Bn,fl=Fc}function Bc(S,E,U){B[S]=function(V,Q,ne,oe,me,ve,Ae,Fe,Xe,_e,Ue,Ve,ft,Ke,ht,vt,Ot){var St,er=Ot-1>>1,Vt=me[ve+0]|Ae[Fe+0]<<16,_r=Xe[_e+0]|Ue[Ve+0]<<16;t(V!=null);var Kt=3*Vt+_r+131074>>2;for(E(V[Q+0],255&Kt,Kt>>16,ft,Ke),ne!=null&&(Kt=3*_r+Vt+131074>>2,E(ne[oe+0],255&Kt,Kt>>16,ht,vt)),St=1;St<=er;++St){var Kr=me[ve+St]|Ae[Fe+St]<<16,na=Xe[_e+St]|Ue[Ve+St]<<16,Or=Vt+Kr+_r+na+524296,Wt=Or+2*(Kr+_r)>>3;Kt=Wt+Vt>>1,Vt=(Or=Or+2*(Vt+na)>>3)+Kr>>1,E(V[Q+2*St-1],255&Kt,Kt>>16,ft,Ke+(2*St-1)*U),E(V[Q+2*St-0],255&Vt,Vt>>16,ft,Ke+(2*St-0)*U),ne!=null&&(Kt=Or+_r>>1,Vt=Wt+na>>1,E(ne[oe+2*St-1],255&Kt,Kt>>16,ht,vt+(2*St-1)*U),E(ne[oe+2*St+0],255&Vt,Vt>>16,ht,vt+(2*St+0)*U)),Vt=Kr,_r=na}1&Ot||(Kt=3*Vt+_r+131074>>2,E(V[Q+Ot-1],255&Kt,Kt>>16,ft,Ke+(Ot-1)*U),ne!=null&&(Kt=3*_r+Vt+131074>>2,E(ne[oe+Ot-1],255&Kt,Kt>>16,ht,vt+(Ot-1)*U)))}}function uf(){Hn[z0]=Tu,Hn[ii]=Kh,Hn[$0]=lg,Hn[Rl]=G0,Hn[yf]=Rd,Hn[Vh]=tc,Hn[Od]=Md,Hn[bf]=Kh,Hn[H0]=G0,Hn[Wh]=Rd,Hn[q0]=tc}function Fh(S){return S&-16384?0>S?0:255:S>>K0}function Go(S,E){return Fh((19077*S>>8)+(26149*E>>8)-14234)}function po(S,E,U){return Fh((19077*S>>8)-(6419*E>>8)-(13320*U>>8)+8708)}function wu(S,E){return Fh((19077*S>>8)+(33050*E>>8)-17685)}function Uc(S,E,U,V,Q){V[Q+0]=Go(S,U),V[Q+1]=po(S,E,U),V[Q+2]=wu(S,E)}function Nn(S,E,U,V,Q){V[Q+0]=wu(S,E),V[Q+1]=po(S,E,U),V[Q+2]=Go(S,U)}function kd(S,E,U,V,Q){var ne=po(S,E,U);E=ne<<3&224|wu(S,E)>>3,V[Q+0]=248&Go(S,U)|ne>>5,V[Q+1]=E}function Td(S,E,U,V,Q){var ne=240&wu(S,E)|15;V[Q+0]=240&Go(S,U)|po(S,E,U)>>4,V[Q+1]=ne}function Bh(S,E,U,V,Q){V[Q+0]=255,Uc(S,E,U,V,Q+1)}function Ko(S,E,U,V,Q){Nn(S,E,U,V,Q),V[Q+3]=255}function Si(S,E,U,V,Q){Uc(S,E,U,V,Q),V[Q+3]=255}function zc(S,E,U){B[S]=function(V,Q,ne,oe,me,ve,Ae,Fe,Xe){for(var _e=Fe+(-2&Xe)*U;Fe!=_e;)E(V[Q+0],ne[oe+0],me[ve+0],Ae,Fe),E(V[Q+1],ne[oe+0],me[ve+0],Ae,Fe+U),Q+=2,++oe,++ve,Fe+=2*U;1&Xe&&E(V[Q+0],ne[oe+0],me[ve+0],Ae,Fe)}}function Uh(S,E,U){return U==0?S==0?E==0?6:5:E==0?4:0:U}function hf(S,E,U,V,Q){switch(S>>>30){case 3:Gc(E,U,V,Q,0);break;case 2:ai(E,U,V,Q);break;case 1:ps(E,U,V,Q)}}function hl(S,E){var U,V,Q=E.M,ne=E.Nb,oe=S.oc,me=S.pc+40,ve=S.oc,Ae=S.pc+584,Fe=S.oc,Xe=S.pc+600;for(U=0;16>U;++U)oe[me+32*U-1]=129;for(U=0;8>U;++U)ve[Ae+32*U-1]=129,Fe[Xe+32*U-1]=129;for(0<Q?oe[me-1-32]=ve[Ae-1-32]=Fe[Xe-1-32]=129:(n(oe,me-32-1,127,21),n(ve,Ae-32-1,127,9),n(Fe,Xe-32-1,127,9)),V=0;V<S.za;++V){var _e=E.ya[E.aa+V];if(0<V){for(U=-1;16>U;++U)a(oe,me+32*U-4,oe,me+32*U+12,4);for(U=-1;8>U;++U)a(ve,Ae+32*U-4,ve,Ae+32*U+4,4),a(Fe,Xe+32*U-4,Fe,Xe+32*U+4,4)}var Ue=S.Gd,Ve=S.Hd+V,ft=_e.ad,Ke=_e.Hc;if(0<Q&&(a(oe,me-32,Ue[Ve].y,0,16),a(ve,Ae-32,Ue[Ve].f,0,8),a(Fe,Xe-32,Ue[Ve].ea,0,8)),_e.Za){var ht=oe,vt=me-32+16;for(0<Q&&(V>=S.za-1?n(ht,vt,Ue[Ve].y[15],4):a(ht,vt,Ue[Ve+1].y,0,4)),U=0;4>U;U++)ht[vt+128+U]=ht[vt+256+U]=ht[vt+384+U]=ht[vt+0+U];for(U=0;16>U;++U,Ke<<=2)ht=oe,vt=me+Ua[U],Ca[_e.Ob[U]](ht,vt),hf(Ke,ft,16*+U,ht,vt)}else if(ht=Uh(V,Q,_e.Ob[0]),Ai[ht](oe,me),Ke!=0)for(U=0;16>U;++U,Ke<<=2)hf(Ke,ft,16*+U,oe,me+Ua[U]);for(U=_e.Gc,ht=Uh(V,Q,_e.Dd),yo[ht](ve,Ae),yo[ht](Fe,Xe),Ke=ft,ht=ve,vt=Ae,255&(_e=0|U)&&(170&_e?Pl(Ke,256,ht,vt):as(Ke,256,ht,vt)),_e=Fe,Ke=Xe,255&(U>>=8)&&(170&U?Pl(ft,320,_e,Ke):as(ft,320,_e,Ke)),Q<S.Ub-1&&(a(Ue[Ve].y,0,oe,me+480,16),a(Ue[Ve].f,0,ve,Ae+224,8),a(Ue[Ve].ea,0,Fe,Xe+224,8)),U=8*ne*S.B,Ue=S.sa,Ve=S.ta+16*V+16*ne*S.R,ft=S.qa,_e=S.ra+8*V+U,Ke=S.Ha,ht=S.Ia+8*V+U,U=0;16>U;++U)a(Ue,Ve+U*S.R,oe,me+32*U,16);for(U=0;8>U;++U)a(ft,_e+U*S.B,ve,Ae+32*U,8),a(Ke,ht+U*S.B,Fe,Xe+32*U,8)}}function xo(S,E,U,V,Q,ne,oe,me,ve){var Ae=[0],Fe=[0],Xe=0,_e=ve!=null?ve.kd:0,Ue=ve??new Ct;if(S==null||12>U)return 7;Ue.data=S,Ue.w=E,Ue.ha=U,E=[E],U=[U],Ue.gb=[Ue.gb];e:{var Ve=E,ft=U,Ke=Ue.gb;if(t(S!=null),t(ft!=null),t(Ke!=null),Ke[0]=0,12<=ft[0]&&!s(S,Ve[0],"RIFF")){if(s(S,Ve[0]+8,"WEBP")){Ke=3;break e}var ht=rt(S,Ve[0]+4);if(12>ht||4294967286<ht){Ke=3;break e}if(_e&&ht>ft[0]-8){Ke=7;break e}Ke[0]=ht,Ve[0]+=12,ft[0]-=12}Ke=0}if(Ke!=0)return Ke;for(ht=0<Ue.gb[0],U=U[0];;){e:{var vt=S;ft=E,Ke=U;var Ot=Ae,St=Fe,er=Ve=[0];if((Kt=Xe=[Xe])[0]=0,8>Ke[0])Ke=7;else{if(!s(vt,ft[0],"VP8X")){if(rt(vt,ft[0]+4)!=10){Ke=3;break e}if(18>Ke[0]){Ke=7;break e}var Vt=rt(vt,ft[0]+8),_r=1+it(vt,ft[0]+12);if(2147483648<=_r*(vt=1+it(vt,ft[0]+15))){Ke=3;break e}er!=null&&(er[0]=Vt),Ot!=null&&(Ot[0]=_r),St!=null&&(St[0]=vt),ft[0]+=18,Ke[0]-=18,Kt[0]=1}Ke=0}}if(Xe=Xe[0],Ve=Ve[0],Ke!=0)return Ke;if(ft=!!(2&Ve),!ht&&Xe)return 3;if(ne!=null&&(ne[0]=!!(16&Ve)),oe!=null&&(oe[0]=ft),me!=null&&(me[0]=0),oe=Ae[0],Ve=Fe[0],Xe&&ft&&ve==null){Ke=0;break}if(4>U){Ke=7;break}if(ht&&Xe||!ht&&!Xe&&!s(S,E[0],"ALPH")){U=[U],Ue.na=[Ue.na],Ue.P=[Ue.P],Ue.Sa=[Ue.Sa];e:{Vt=S,Ke=E,ht=U;var Kt=Ue.gb;Ot=Ue.na,St=Ue.P,er=Ue.Sa,_r=22,t(Vt!=null),t(ht!=null),vt=Ke[0];var Kr=ht[0];for(t(Ot!=null),t(er!=null),Ot[0]=null,St[0]=null,er[0]=0;;){if(Ke[0]=vt,ht[0]=Kr,8>Kr){Ke=7;break e}var na=rt(Vt,vt+4);if(4294967286<na){Ke=3;break e}var Or=8+na+1&-2;if(_r+=Or,0<Kt&&_r>Kt){Ke=3;break e}if(!s(Vt,vt,"VP8 ")||!s(Vt,vt,"VP8L")){Ke=0;break e}if(Kr[0]<Or){Ke=7;break e}s(Vt,vt,"ALPH")||(Ot[0]=Vt,St[0]=vt+8,er[0]=na),vt+=Or,Kr-=Or}}if(U=U[0],Ue.na=Ue.na[0],Ue.P=Ue.P[0],Ue.Sa=Ue.Sa[0],Ke!=0)break}U=[U],Ue.Ja=[Ue.Ja],Ue.xa=[Ue.xa];e:if(Kt=S,Ke=E,ht=U,Ot=Ue.gb[0],St=Ue.Ja,er=Ue.xa,Vt=Ke[0],vt=!s(Kt,Vt,"VP8 "),_r=!s(Kt,Vt,"VP8L"),t(Kt!=null),t(ht!=null),t(St!=null),t(er!=null),8>ht[0])Ke=7;else{if(vt||_r){if(Kt=rt(Kt,Vt+4),12<=Ot&&Kt>Ot-12){Ke=3;break e}if(_e&&Kt>ht[0]-8){Ke=7;break e}St[0]=Kt,Ke[0]+=8,ht[0]-=8,er[0]=_r}else er[0]=5<=ht[0]&&Kt[Vt+0]==47&&!(Kt[Vt+4]>>5),St[0]=ht[0];Ke=0}if(U=U[0],Ue.Ja=Ue.Ja[0],Ue.xa=Ue.xa[0],E=E[0],Ke!=0)break;if(4294967286<Ue.Ja)return 3;if(me==null||ft||(me[0]=Ue.xa?2:1),oe=[oe],Ve=[Ve],Ue.xa){if(5>U){Ke=7;break}me=oe,_e=Ve,ft=ne,S==null||5>U?S=0:5<=U&&S[E+0]==47&&!(S[E+4]>>5)?(ht=[0],Kt=[0],Ot=[0],ee(St=new H,S,E,U),Tl(St,ht,Kt,Ot)?(me!=null&&(me[0]=ht[0]),_e!=null&&(_e[0]=Kt[0]),ft!=null&&(ft[0]=Ot[0]),S=1):S=0):S=0}else{if(10>U){Ke=7;break}me=Ve,S==null||10>U||!ef(S,E+3,U-3)?S=0:(_e=S[E+0]|S[E+1]<<8|S[E+2]<<16,ft=16383&(S[E+7]<<8|S[E+6]),S=16383&(S[E+9]<<8|S[E+8]),1&_e||3<(_e>>1&7)||!(_e>>4&1)||_e>>5>=Ue.Ja||!ft||!S?S=0:(oe&&(oe[0]=ft),me&&(me[0]=S),S=1))}if(!S||(oe=oe[0],Ve=Ve[0],Xe&&(Ae[0]!=oe||Fe[0]!=Ve)))return 3;ve!=null&&(ve[0]=Ue,ve.offset=E-ve.w,t(4294967286>E-ve.w),t(ve.offset==ve.ha-U));break}return Ke==0||Ke==7&&Xe&&ve==null?(ne!=null&&(ne[0]|=Ue.na!=null&&0<Ue.na.length),V!=null&&(V[0]=oe),Q!=null&&(Q[0]=Ve),0):Ke}function $c(S,E,U){var V=E.width,Q=E.height,ne=0,oe=0,me=V,ve=Q;if(E.Da=S!=null&&0<S.Da,E.Da&&(me=S.cd,ve=S.bd,ne=S.v,oe=S.j,11>U||(ne&=-2,oe&=-2),0>ne||0>oe||0>=me||0>=ve||ne+me>V||oe+ve>Q))return 0;if(E.v=ne,E.j=oe,E.va=ne+me,E.o=oe+ve,E.U=me,E.T=ve,E.da=S!=null&&0<S.da,E.da){if(!je(me,ve,U=[S.ib],ne=[S.hb]))return 0;E.ib=U[0],E.hb=ne[0]}return E.ob=S!=null&&S.ob,E.Kb=S==null||!S.Sd,E.da&&(E.ob=E.ib<3*V/4&&E.hb<3*Q/4,E.Kb=0),1}function mf(S){if(S==null)return 2;if(11>S.S){var E=S.f.RGBA;E.fb+=(S.height-1)*E.A,E.A=-E.A}else E=S.f.kb,S=S.height,E.O+=(S-1)*E.fa,E.fa=-E.fa,E.N+=(S-1>>1)*E.Ab,E.Ab=-E.Ab,E.W+=(S-1>>1)*E.Db,E.Db=-E.Db,E.F!=null&&(E.J+=(S-1)*E.lb,E.lb=-E.lb);return 0}function go(S,E,U,V){if(V==null||0>=S||0>=E)return 2;if(U!=null){if(U.Da){var Q=U.cd,ne=U.bd,oe=-2&U.v,me=-2&U.j;if(0>oe||0>me||0>=Q||0>=ne||oe+Q>S||me+ne>E)return 2;S=Q,E=ne}if(U.da){if(!je(S,E,Q=[U.ib],ne=[U.hb]))return 2;S=Q[0],E=ne[0]}}V.width=S,V.height=E;e:{var ve=V.width,Ae=V.height;if(S=V.S,0>=ve||0>=Ae||!(S>=z0&&13>S))S=2;else{if(0>=V.Rd&&V.sd==null){oe=ne=Q=E=0;var Fe=(me=ve*Z0[S])*Ae;if(11>S||(ne=(Ae+1)/2*(E=(ve+1)/2),S==12&&(oe=(Q=ve)*Ae)),(Ae=i(Fe+2*ne+oe))==null){S=1;break e}V.sd=Ae,11>S?((ve=V.f.RGBA).eb=Ae,ve.fb=0,ve.A=me,ve.size=Fe):((ve=V.f.kb).y=Ae,ve.O=0,ve.fa=me,ve.Fd=Fe,ve.f=Ae,ve.N=0+Fe,ve.Ab=E,ve.Cd=ne,ve.ea=Ae,ve.W=0+Fe+ne,ve.Db=E,ve.Ed=ne,S==12&&(ve.F=Ae,ve.J=0+Fe+2*ne),ve.Tc=oe,ve.lb=Q)}if(E=1,Q=V.S,ne=V.width,oe=V.height,Q>=z0&&13>Q)if(11>Q)S=V.f.RGBA,E&=(me=Math.abs(S.A))*(oe-1)+ne<=S.size,E&=me>=ne*Z0[Q],E&=S.eb!=null;else{S=V.f.kb,me=(ne+1)/2,Fe=(oe+1)/2,ve=Math.abs(S.fa),Ae=Math.abs(S.Ab);var Xe=Math.abs(S.Db),_e=Math.abs(S.lb),Ue=_e*(oe-1)+ne;E&=ve*(oe-1)+ne<=S.Fd,E&=Ae*(Fe-1)+me<=S.Cd,E=(E&=Xe*(Fe-1)+me<=S.Ed)&ve>=ne&Ae>=me&Xe>=me,E&=S.y!=null,E&=S.f!=null,E&=S.ea!=null,Q==12&&(E&=_e>=ne,E&=Ue<=S.Tc,E&=S.F!=null)}else E=0;S=E?0:2}}return S!=0||U!=null&&U.fd&&(S=mf(V)),S}var Ed=64,Hi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],_i=24,Yo=32,Zo=8,Hc=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];xe("Predictor0","PredictorAdd0"),B.Predictor0=function(){return 4278190080},B.Predictor1=function(S){return S},B.Predictor2=function(S,E,U){return E[U+0]},B.Predictor3=function(S,E,U){return E[U+1]},B.Predictor4=function(S,E,U){return E[U-1]},B.Predictor5=function(S,E,U){return De(De(S,E[U+1]),E[U+0])},B.Predictor6=function(S,E,U){return De(S,E[U-1])},B.Predictor7=function(S,E,U){return De(S,E[U+0])},B.Predictor8=function(S,E,U){return De(E[U-1],E[U+0])},B.Predictor9=function(S,E,U){return De(E[U+0],E[U+1])},B.Predictor10=function(S,E,U){return De(De(S,E[U-1]),De(E[U+0],E[U+1]))},B.Predictor11=function(S,E,U){var V=E[U+0];return 0>=lt(V>>24&255,S>>24&255,(E=E[U-1])>>24&255)+lt(V>>16&255,S>>16&255,E>>16&255)+lt(V>>8&255,S>>8&255,E>>8&255)+lt(255&V,255&S,255&E)?V:S},B.Predictor12=function(S,E,U){var V=E[U+0];return(st((S>>24&255)+(V>>24&255)-((E=E[U-1])>>24&255))<<24|st((S>>16&255)+(V>>16&255)-(E>>16&255))<<16|st((S>>8&255)+(V>>8&255)-(E>>8&255))<<8|st((255&S)+(255&V)-(255&E)))>>>0},B.Predictor13=function(S,E,U){var V=E[U-1];return(ut((S=De(S,E[U+0]))>>24&255,V>>24&255)<<24|ut(S>>16&255,V>>16&255)<<16|ut(S>>8&255,V>>8&255)<<8|ut(255&S,255&V))>>>0};var zh=B.PredictorAdd0;B.PredictorAdd1=At,xe("Predictor2","PredictorAdd2"),xe("Predictor3","PredictorAdd3"),xe("Predictor4","PredictorAdd4"),xe("Predictor5","PredictorAdd5"),xe("Predictor6","PredictorAdd6"),xe("Predictor7","PredictorAdd7"),xe("Predictor8","PredictorAdd8"),xe("Predictor9","PredictorAdd9"),xe("Predictor10","PredictorAdd10"),xe("Predictor11","PredictorAdd11"),xe("Predictor12","PredictorAdd12"),xe("Predictor13","PredictorAdd13");var $h=B.PredictorAdd2;qt("ColorIndexInverseTransform","MapARGB","32b",function(S){return S>>8&255},function(S){return S}),qt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(S){return S},function(S){return S>>8&255});var Fa,F0=B.ColorIndexInverseTransform,Xo=B.MapARGB,Jo=B.VP8LColorIndexInverseTransformAlpha,Un=B.MapAlpha,qc=B.VP8LPredictorsAdd=[];qc.length=16,(B.VP8LPredictors=[]).length=16,(B.VP8LPredictorsAdd_C=[]).length=16,(B.VP8LPredictors_C=[]).length=16;var Hh,qh,Vc,Wc,Qo,Su,ml,Gc,ai,Pl,ps,as,Zs,Ba,ec,vo,_u,ff,rg,Fy,By,Uy,sg,ag,Au,Dl,pf,fl,Cu=i(511),B0=i(2041),xf=i(225),gf=i(767),U0=0,Kc=B0,vf=xf,ni=gf,zn=Cu,z0=0,ii=1,$0=2,Rl=3,yf=4,Vh=5,Od=6,bf=7,H0=8,Wh=9,q0=10,Ml=[2,3,7],Gh=[3,3,11],ku=[280,256,256,256,40],V0=[0,1,1,1,0],jf=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ll=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Il=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Pd=8,Fl=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Bl=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],pl=null,zy=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],ng=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],W0=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],$y=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],$n=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],aa=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Zr=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ai=[],Ca=[],yo=[],Dd=1,ig=2,Yc=[],Hn=[];Bc("UpsampleRgbLinePair",Uc,3),Bc("UpsampleBgrLinePair",Nn,3),Bc("UpsampleRgbaLinePair",Si,4),Bc("UpsampleBgraLinePair",Ko,4),Bc("UpsampleArgbLinePair",Bh,4),Bc("UpsampleRgba4444LinePair",Td,2),Bc("UpsampleRgb565LinePair",kd,2);var Tu=B.UpsampleRgbLinePair,lg=B.UpsampleBgrLinePair,Kh=B.UpsampleRgbaLinePair,G0=B.UpsampleBgraLinePair,Rd=B.UpsampleArgbLinePair,tc=B.UpsampleRgba4444LinePair,Md=B.UpsampleRgb565LinePair,Ul=16,Yh=1<<Ul-1,Eu=-227,Ld=482,K0=6,Id=0,qn=i(256),Y0=i(256),Hy=i(256),Uw=i(256),zw=i(Ld-Eu),$w=i(Ld-Eu);zc("YuvToRgbRow",Uc,3),zc("YuvToBgrRow",Nn,3),zc("YuvToRgbaRow",Si,4),zc("YuvToBgraRow",Ko,4),zc("YuvToArgbRow",Bh,4),zc("YuvToRgba4444Row",Td,2),zc("YuvToRgb565Row",kd,2);var Ua=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Zh=[0,2,8],Nf=[8,7,6,4,4,2,2,2,1,1,1,1],wf=1;this.WebPDecodeRGBA=function(S,E,U,V,Q){var ne=ii,oe=new gt,me=new kr;oe.ba=me,me.S=ne,me.width=[me.width],me.height=[me.height];var ve=me.width,Ae=me.height,Fe=new rr;if(Fe==null||S==null)var Xe=2;else t(Fe!=null),Xe=xo(S,E,U,Fe.width,Fe.height,Fe.Pd,Fe.Qd,Fe.format,null);if(Xe!=0?ve=0:(ve!=null&&(ve[0]=Fe.width[0]),Ae!=null&&(Ae[0]=Fe.height[0]),ve=1),ve){me.width=me.width[0],me.height=me.height[0],V!=null&&(V[0]=me.width),Q!=null&&(Q[0]=me.height);e:{if(V=new Ec,(Q=new Ct).data=S,Q.w=E,Q.ha=U,Q.kd=1,E=[0],t(Q!=null),((S=xo(Q.data,Q.w,Q.ha,null,null,null,E,null,Q))==0||S==7)&&E[0]&&(S=4),(E=S)==0){if(t(oe!=null),V.data=Q.data,V.w=Q.w+Q.offset,V.ha=Q.ha-Q.offset,V.put=or,V.ac=zi,V.bc=lo,V.ma=oe,Q.xa){if((S=Ye())==null){oe=1;break e}if((function(_e,Ue){var Ve=[0],ft=[0],Ke=[0];t:for(;;){if(_e==null)return 0;if(Ue==null)return _e.a=2,0;if(_e.l=Ue,_e.a=0,ee(_e.m,Ue.data,Ue.w,Ue.ha),!Tl(_e.m,Ve,ft,Ke)){_e.a=3;break t}if(_e.xb=ig,Ue.width=Ve[0],Ue.height=ft[0],!Ze(Ve[0],ft[0],1,_e,null))break t;return 1}return t(_e.a!=0),0})(S,V)){if(V=(E=go(V.width,V.height,oe.Oa,oe.ba))==0){t:{V=S;r:for(;;){if(V==null){V=0;break t}if(t(V.s.yc!=null),t(V.s.Ya!=null),t(0<V.s.Wb),t((U=V.l)!=null),t((Q=U.ma)!=null),V.xb!=0){if(V.ca=Q.ba,V.tb=Q.tb,t(V.ca!=null),!$c(Q.Oa,U,Rl)){V.a=2;break r}if(!Qe(V,U.width)||U.da)break r;if((U.da||dr(V.ca.S))&&fo(),11>V.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),V.ca.f.kb.F!=null&&fo()),V.Pb&&0<V.s.ua&&V.s.vb.X==null&&!fe(V.s.vb,V.s.Wa.Xa)){V.a=1;break r}V.xb=0}if(!Ge(V,V.V,V.Ba,V.c,V.i,U.o,pe))break r;Q.Dc=V.Ma,V=1;break t}t(V.a!=0),V=0}V=!V}V&&(E=S.a)}else E=S.a}else{if((S=new uo)==null){oe=1;break e}if(S.Fa=Q.na,S.P=Q.P,S.qc=Q.Sa,qo(S,V)){if((E=go(V.width,V.height,oe.Oa,oe.ba))==0){if(S.Aa=0,U=oe.Oa,t((Q=S)!=null),U!=null){if(0<(ve=0>(ve=U.Md)?0:100<ve?255:255*ve/100)){for(Ae=Fe=0;4>Ae;++Ae)12>(Xe=Q.pb[Ae]).lc&&(Xe.ia=ve*Nf[0>Xe.lc?0:Xe.lc]>>3),Fe|=Xe.ia;Fe&&(alert("todo:VP8InitRandom"),Q.ia=1)}Q.Ga=U.Id,100<Q.Ga?Q.Ga=100:0>Q.Ga&&(Q.Ga=0)}(function(_e,Ue){if(_e==null)return 0;if(Ue==null)return fs(_e,2,"NULL VP8Io parameter in VP8Decode().");if(!_e.cb&&!qo(_e,Ue))return 0;if(t(_e.cb),Ue.ac==null||Ue.ac(Ue)){Ue.ob&&(_e.L=0);var Ve=Zh[_e.L];if(_e.L==2?(_e.yb=0,_e.zb=0):(_e.yb=Ue.v-Ve>>4,_e.zb=Ue.j-Ve>>4,0>_e.yb&&(_e.yb=0),0>_e.zb&&(_e.zb=0)),_e.Va=Ue.o+15+Ve>>4,_e.Hb=Ue.va+15+Ve>>4,_e.Hb>_e.za&&(_e.Hb=_e.za),_e.Va>_e.Ub&&(_e.Va=_e.Ub),0<_e.L){var ft=_e.ed;for(Ve=0;4>Ve;++Ve){var Ke;if(_e.Qa.Cb){var ht=_e.Qa.Lb[Ve];_e.Qa.Fb||(ht+=ft.Tb)}else ht=ft.Tb;for(Ke=0;1>=Ke;++Ke){var vt=_e.gd[Ve][Ke],Ot=ht;if(ft.Pc&&(Ot+=ft.vd[0],Ke&&(Ot+=ft.od[0])),0<(Ot=0>Ot?0:63<Ot?63:Ot)){var St=Ot;0<ft.wb&&(St=4<ft.wb?St>>2:St>>1)>9-ft.wb&&(St=9-ft.wb),1>St&&(St=1),vt.dd=St,vt.tc=2*Ot+St,vt.ld=40<=Ot?2:15<=Ot?1:0}else vt.tc=0;vt.La=Ke}}}Ve=0}else fs(_e,6,"Frame setup failed"),Ve=_e.a;if(Ve=Ve==0){if(Ve){_e.$c=0,0<_e.Aa||(_e.Ic=wf);t:{Ve=_e.Ic,ft=4*(St=_e.za);var er=32*St,Vt=St+1,_r=0<_e.L?St*(0<_e.Aa?2:1):0,Kt=(_e.Aa==2?2:1)*St;if((vt=ft+832+(Ke=3*(16*Ve+Zh[_e.L])/2*er)+(ht=_e.Fa!=null&&0<_e.Fa.length?_e.Kc.c*_e.Kc.i:0))!=vt)Ve=0;else{if(vt>_e.Vb){if(_e.Vb=0,_e.Ec=i(vt),_e.Fc=0,_e.Ec==null){Ve=fs(_e,1,"no memory during frame initialization.");break t}_e.Vb=vt}vt=_e.Ec,Ot=_e.Fc,_e.Ac=vt,_e.Bc=Ot,Ot+=ft,_e.Gd=l(er,cl),_e.Hd=0,_e.rb=l(Vt+1,Ds),_e.sb=1,_e.wa=_r?l(_r,Gr):null,_e.Y=0,_e.D.Nb=0,_e.D.wa=_e.wa,_e.D.Y=_e.Y,0<_e.Aa&&(_e.D.Y+=St),t(!0),_e.oc=vt,_e.pc=Ot,Ot+=832,_e.ya=l(Kt,oo),_e.aa=0,_e.D.ya=_e.ya,_e.D.aa=_e.aa,_e.Aa==2&&(_e.D.aa+=St),_e.R=16*St,_e.B=8*St,St=(er=Zh[_e.L])*_e.R,er=er/2*_e.B,_e.sa=vt,_e.ta=Ot+St,_e.qa=_e.sa,_e.ra=_e.ta+16*Ve*_e.R+er,_e.Ha=_e.qa,_e.Ia=_e.ra+8*Ve*_e.B+er,_e.$c=0,Ot+=Ke,_e.mb=ht?vt:null,_e.nb=ht?Ot:null,t(Ot+ht<=_e.Fc+_e.Vb),tf(_e),n(_e.Ac,_e.Bc,0,ft),Ve=1}}if(Ve){if(Ue.ka=0,Ue.y=_e.sa,Ue.O=_e.ta,Ue.f=_e.qa,Ue.N=_e.ra,Ue.ea=_e.Ha,Ue.Vd=_e.Ia,Ue.fa=_e.R,Ue.Rc=_e.B,Ue.F=null,Ue.J=0,!U0){for(Ve=-255;255>=Ve;++Ve)Cu[255+Ve]=0>Ve?-Ve:Ve;for(Ve=-1020;1020>=Ve;++Ve)B0[1020+Ve]=-128>Ve?-128:127<Ve?127:Ve;for(Ve=-112;112>=Ve;++Ve)xf[112+Ve]=-16>Ve?-16:15<Ve?15:Ve;for(Ve=-255;510>=Ve;++Ve)gf[255+Ve]=0>Ve?0:255<Ve?255:Ve;U0=1}ml=ho,Gc=rf,Pl=wi,ps=sf,as=af,ai=T0,Zs=L0,Ba=Ic,ec=J,vo=Ee,_u=I0,ff=L,rg=Le,Fy=He,By=Dc,Uy=Rc,sg=Nu,ag=df,Ca[0]=R0,Ca[1]=E0,Ca[2]=D0,Ca[3]=of,Ca[4]=dl,Ca[5]=cf,Ca[6]=Fn,Ca[7]=yu,Ca[8]=bu,Ca[9]=ul,Ai[0]=mo,Ai[1]=nf,Ai[2]=lf,Ai[3]=P0,Ai[4]=Oc,Ai[5]=vu,Ai[6]=Cd,yo[0]=Mh,yo[1]=O0,yo[2]=Vo,yo[3]=M0,yo[4]=jn,yo[5]=Lh,yo[6]=Wo,Ve=1}else Ve=0}Ve&&(Ve=(function(Kr,na){for(Kr.M=0;Kr.M<Kr.Va;++Kr.M){var Or,Wt=Kr.Jc[Kr.M&Kr.Xb],Ut=Kr.m,ga=Kr;for(Or=0;Or<ga.za;++Or){var yr=Ut,Rr=ga,Cs=Rr.Ac,un=Rr.Bc+4*Or,Vn=Rr.zc,Xs=Rr.ya[Rr.aa+Or];if(Rr.Qa.Bb?Xs.$b=ye(yr,Rr.Pa.jb[0])?2+ye(yr,Rr.Pa.jb[2]):ye(yr,Rr.Pa.jb[1]):Xs.$b=0,Rr.kc&&(Xs.Ad=ye(yr,Rr.Bd)),Xs.Za=!ye(yr,145)+0,Xs.Za){var Ga=Xs.Ob,li=0;for(Rr=0;4>Rr;++Rr){var Ka,$r=Vn[0+Rr];for(Ka=0;4>Ka;++Ka){$r=$n[Cs[un+Ka]][$r];for(var cs=W0[ye(yr,$r[0])];0<cs;)cs=W0[2*cs+ye(yr,$r[cs])];$r=-cs,Cs[un+Ka]=$r}a(Ga,li,Cs,un,4),li+=4,Vn[0+Rr]=$r}}else $r=ye(yr,156)?ye(yr,128)?1:3:ye(yr,163)?2:0,Xs.Ob[0]=$r,n(Cs,un,$r,4),n(Vn,0,$r,4);Xs.Dd=ye(yr,142)?ye(yr,114)?ye(yr,183)?1:3:2:0}if(ga.m.Ka)return fs(Kr,7,"Premature end-of-partition0 encountered.");for(;Kr.ja<Kr.za;++Kr.ja){if(ga=Wt,yr=(Ut=Kr).rb[Ut.sb-1],Cs=Ut.rb[Ut.sb+Ut.ja],Or=Ut.ya[Ut.aa+Ut.ja],un=Ut.kc?Or.Ad:0)yr.la=Cs.la=0,Or.Za||(yr.Na=Cs.Na=0),Or.Hc=0,Or.Gc=0,Or.ia=0;else{var va,xs;if(yr=Cs,Cs=ga,un=Ut.Pa.Xc,Vn=Ut.ya[Ut.aa+Ut.ja],Xs=Ut.pb[Vn.$b],Rr=Vn.ad,Ga=0,li=Ut.rb[Ut.sb-1],$r=Ka=0,n(Rr,Ga,0,384),Vn.Za)var hn=0,ya=un[3];else{cs=i(16);var ds=yr.Na+li.Na;if(ds=pl(Cs,un[1],ds,Xs.Eb,0,cs,0),yr.Na=li.Na=(0<ds)+0,1<ds)ml(cs,0,Rr,Ga);else{var za=cs[0]+3>>3;for(cs=0;256>cs;cs+=16)Rr[Ga+cs]=za}hn=1,ya=un[0]}var ks=15&yr.la,Ya=15&li.la;for(cs=0;4>cs;++cs){var Za=1&Ya;for(za=xs=0;4>za;++za)ks=ks>>1|(Za=(ds=pl(Cs,ya,ds=Za+(1&ks),Xs.Sc,hn,Rr,Ga))>hn)<<7,xs=xs<<2|(3<ds?3:1<ds?2:Rr[Ga+0]!=0),Ga+=16;ks>>=4,Ya=Ya>>1|Za<<7,Ka=(Ka<<8|xs)>>>0}for(ya=ks,hn=Ya>>4,va=0;4>va;va+=2){for(xs=0,ks=yr.la>>4+va,Ya=li.la>>4+va,cs=0;2>cs;++cs){for(Za=1&Ya,za=0;2>za;++za)ds=Za+(1&ks),ks=ks>>1|(Za=0<(ds=pl(Cs,un[2],ds,Xs.Qc,0,Rr,Ga)))<<3,xs=xs<<2|(3<ds?3:1<ds?2:Rr[Ga+0]!=0),Ga+=16;ks>>=2,Ya=Ya>>1|Za<<5}$r|=xs<<4*va,ya|=ks<<4<<va,hn|=(240&Ya)<<va}yr.la=ya,li.la=hn,Vn.Hc=Ka,Vn.Gc=$r,Vn.ia=43690&$r?0:Xs.ia,un=!(Ka|$r)}if(0<Ut.L&&(Ut.wa[Ut.Y+Ut.ja]=Ut.gd[Or.$b][Or.Za],Ut.wa[Ut.Y+Ut.ja].La|=!un),ga.Ka)return fs(Kr,7,"Premature end-of-file encountered.")}if(tf(Kr),Ut=na,ga=1,Or=(Wt=Kr).D,yr=0<Wt.L&&Wt.M>=Wt.zb&&Wt.M<=Wt.Va,Wt.Aa==0)t:{if(Or.M=Wt.M,Or.uc=yr,hl(Wt,Or),ga=1,Or=(xs=Wt.D).Nb,yr=($r=Zh[Wt.L])*Wt.R,Cs=$r/2*Wt.B,cs=16*Or*Wt.R,za=8*Or*Wt.B,un=Wt.sa,Vn=Wt.ta-yr+cs,Xs=Wt.qa,Rr=Wt.ra-Cs+za,Ga=Wt.Ha,li=Wt.Ia-Cs+za,Ya=(ks=xs.M)==0,Ka=ks>=Wt.Va-1,Wt.Aa==2&&hl(Wt,xs),xs.uc)for(Za=(ds=Wt).D.M,t(ds.D.uc),xs=ds.yb;xs<ds.Hb;++xs){hn=xs,ya=Za;var Ls=(ns=(Xa=ds).D).Nb;va=Xa.R;var ns=ns.wa[ns.Y+hn],oi=Xa.sa,ka=Xa.ta+16*Ls*va+16*hn,ur=ns.dd,fr=ns.tc;if(fr!=0)if(t(3<=fr),Xa.L==1)0<hn&&Uy(oi,ka,va,fr+4),ns.La&&ag(oi,ka,va,fr),0<ya&&By(oi,ka,va,fr+4),ns.La&&sg(oi,ka,va,fr);else{var us=Xa.B,qi=Xa.qa,zl=Xa.ra+8*Ls*us+8*hn,Ci=Xa.Ha,Xa=Xa.Ia+8*Ls*us+8*hn;Ls=ns.ld,0<hn&&(Ba(oi,ka,va,fr+4,ur,Ls),vo(qi,zl,Ci,Xa,us,fr+4,ur,Ls)),ns.La&&(ff(oi,ka,va,fr,ur,Ls),Fy(qi,zl,Ci,Xa,us,fr,ur,Ls)),0<ya&&(Zs(oi,ka,va,fr+4,ur,Ls),ec(qi,zl,Ci,Xa,us,fr+4,ur,Ls)),ns.La&&(_u(oi,ka,va,fr,ur,Ls),rg(qi,zl,Ci,Xa,us,fr,ur,Ls))}}if(Wt.ia&&alert("todo:DitherRow"),Ut.put!=null){if(xs=16*ks,ks=16*(ks+1),Ya?(Ut.y=Wt.sa,Ut.O=Wt.ta+cs,Ut.f=Wt.qa,Ut.N=Wt.ra+za,Ut.ea=Wt.Ha,Ut.W=Wt.Ia+za):(xs-=$r,Ut.y=un,Ut.O=Vn,Ut.f=Xs,Ut.N=Rr,Ut.ea=Ga,Ut.W=li),Ka||(ks-=$r),ks>Ut.o&&(ks=Ut.o),Ut.F=null,Ut.J=null,Wt.Fa!=null&&0<Wt.Fa.length&&xs<ks&&(Ut.J=Ys(Wt,Ut,xs,ks-xs),Ut.F=Wt.mb,Ut.F==null&&Ut.F.length==0)){ga=fs(Wt,3,"Could not decode alpha data.");break t}xs<Ut.j&&($r=Ut.j-xs,xs=Ut.j,t(!(1&$r)),Ut.O+=Wt.R*$r,Ut.N+=Wt.B*($r>>1),Ut.W+=Wt.B*($r>>1),Ut.F!=null&&(Ut.J+=Ut.width*$r)),xs<ks&&(Ut.O+=Ut.v,Ut.N+=Ut.v>>1,Ut.W+=Ut.v>>1,Ut.F!=null&&(Ut.J+=Ut.v),Ut.ka=xs-Ut.j,Ut.U=Ut.va-Ut.v,Ut.T=ks-xs,ga=Ut.put(Ut))}Or+1!=Wt.Ic||Ka||(a(Wt.sa,Wt.ta-yr,un,Vn+16*Wt.R,yr),a(Wt.qa,Wt.ra-Cs,Xs,Rr+8*Wt.B,Cs),a(Wt.Ha,Wt.Ia-Cs,Ga,li+8*Wt.B,Cs))}if(!ga)return fs(Kr,6,"Output aborted.")}return 1})(_e,Ue)),Ue.bc!=null&&Ue.bc(Ue),Ve&=1}return Ve?(_e.cb=0,Ve):0})(S,V)||(E=S.a)}}else E=S.a}E==0&&oe.Oa!=null&&oe.Oa.fd&&(E=mf(oe.ba))}oe=E}ne=oe!=0?null:11>ne?me.f.RGBA.eb:me.f.kb.y}else ne=null;return ne};var Z0=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(B,z){for(var I="",F=0;F<4;F++)I+=String.fromCharCode(B[z++]);return I}function m(B,z){return B[z+0]|B[z+1]<<8}function f(B,z){return(B[z+0]|B[z+1]<<8|B[z+2]<<16)>>>0}function g(B,z){return(B[z+0]|B[z+1]<<8|B[z+2]<<16|B[z+3]<<24)>>>0}new u;var p=[0],y=[0],v=[],j=new u,N=e,k=(function(B,z){var I={},F=0,Y=!1,te=0,ue=0;if(I.frames=[],!(function(P,H){for(var q=0;q<4;q++)if(P[H+q]!="RIFF".charCodeAt(q))return!0;return!1})(B,z)){for(g(B,z+=4),z+=8;z<B.length;){var Z=d(B,z),ie=g(B,z+=4);z+=4;var G=ie+(1&ie);switch(Z){case"VP8 ":case"VP8L":I.frames[F]===void 0&&(I.frames[F]={}),(X=I.frames[F]).src_off=Y?ue:z-8,X.src_size=te+ie+8,F++,Y&&(Y=!1,te=0,ue=0);break;case"VP8X":(X=I.header={}).feature_flags=B[z];var ee=z+4;X.canvas_width=1+f(B,ee),ee+=3,X.canvas_height=1+f(B,ee),ee+=3;break;case"ALPH":Y=!0,te=G+8,ue=z-8;break;case"ANIM":(X=I.header).bgcolor=g(B,z),ee=z+4,X.loop_count=m(B,ee),ee+=2;break;case"ANMF":var Ne,X;(X=I.frames[F]={}).offset_x=2*f(B,z),z+=3,X.offset_y=2*f(B,z),z+=3,X.width=1+f(B,z),z+=3,X.height=1+f(B,z),z+=3,X.duration=f(B,z),z+=3,Ne=B[z++],X.dispose=1&Ne,X.blend=Ne>>1&1}Z!="ANMF"&&(z+=G)}return I}})(N,0);k.response=N,k.rgbaoutput=!0,k.dataurl=!1;var w=k.header?k.header:null,A=k.frames?k.frames:null;if(w){w.loop_counter=w.loop_count,p=[w.canvas_height],y=[w.canvas_width];for(var C=0;C<A.length&&A[C].blend!=0;C++);}var M=A[0],R=j.WebPDecodeRGBA(N,M.src_off,M.src_size,y,p);M.rgba=R,M.imgwidth=y[0],M.imgheight=p[0];for(var D=0;D<y[0]*p[0]*4;D++)v[D]=R[D];return this.width=y,this.height=p,this.data=v,this}function k8e(){var e,t=this.internal.__metadata__.metadata,s=unescape(encodeURIComponent(t));e=this.internal.__metadata__.rawXml?s:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+s.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+e.length+" >>"),this.internal.write("stream"),this.internal.write(e),this.internal.write("endstream"),this.internal.write("endobj")}function T8e(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(e){var t,s,a,n,i,l,o,u,d,m=function(P){return P=P||{},this.isStrokeTransparent=P.isStrokeTransparent||!1,this.strokeOpacity=P.strokeOpacity||1,this.strokeStyle=P.strokeStyle||"#000000",this.fillStyle=P.fillStyle||"#000000",this.isFillTransparent=P.isFillTransparent||!1,this.fillOpacity=P.fillOpacity||1,this.font=P.font||"10px sans-serif",this.textBaseline=P.textBaseline||"alphabetic",this.textAlign=P.textAlign||"left",this.lineWidth=P.lineWidth||1,this.lineJoin=P.lineJoin||"miter",this.lineCap=P.lineCap||"butt",this.path=P.path||[],this.transform=P.transform!==void 0?P.transform.clone():new u,this.globalCompositeOperation=P.globalCompositeOperation||"normal",this.globalAlpha=P.globalAlpha||1,this.clip_path=P.clip_path||[],this.currentPoint=P.currentPoint||new l,this.miterLimit=P.miterLimit||10,this.lastPoint=P.lastPoint||new l,this.lineDashOffset=P.lineDashOffset||0,this.lineDash=P.lineDash||[],this.margin=P.margin||[0,0,0,0],this.prevPageLastElemOffset=P.prevPageLastElemOffset||0,this.ignoreClearRect=typeof P.ignoreClearRect!="boolean"||P.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,s=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,n=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,l=this.internal.Point,o=this.internal.Rectangle,u=this.internal.Matrix,d=new m}]);var f=function(P){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=P;Object.defineProperty(this,"pdf",{get:function(){return H}});var q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return q},set:function(fe){q=!!fe}});var W=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return W},set:function(fe){W=!!fe}});var le=0;Object.defineProperty(this,"posX",{get:function(){return le},set:function(fe){isNaN(fe)||(le=fe)}});var Se=0;Object.defineProperty(this,"posY",{get:function(){return Se},set:function(fe){isNaN(fe)||(Se=fe)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(fe){var ke;typeof fe=="number"?ke=[fe,fe,fe,fe]:((ke=new Array(4))[0]=fe[0],ke[1]=fe.length>=2?fe[1]:ke[0],ke[2]=fe.length>=3?fe[2]:ke[0],ke[3]=fe.length>=4?fe[3]:ke[1]),d.margin=ke}});var Pe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Pe},set:function(fe){Pe=fe}});var re=0;Object.defineProperty(this,"lastBreak",{get:function(){return re},set:function(fe){re=fe}});var ye=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ye},set:function(fe){ye=fe}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(fe){fe instanceof m&&(d=fe)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(fe){d.path=fe}});var ze=[];Object.defineProperty(this,"ctxStack",{get:function(){return ze},set:function(fe){ze=fe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(fe){var ke;ke=g(fe),this.ctx.fillStyle=ke.style,this.ctx.isFillTransparent=ke.a===0,this.ctx.fillOpacity=ke.a,this.pdf.setFillColor(ke.r,ke.g,ke.b,{a:ke.a}),this.pdf.setTextColor(ke.r,ke.g,ke.b,{a:ke.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(fe){var ke=g(fe);this.ctx.strokeStyle=ke.style,this.ctx.isStrokeTransparent=ke.a===0,this.ctx.strokeOpacity=ke.a,ke.a===0?this.pdf.setDrawColor(255,255,255):(ke.a,this.pdf.setDrawColor(ke.r,ke.g,ke.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(fe){["butt","round","square"].indexOf(fe)!==-1&&(this.ctx.lineCap=fe,this.pdf.setLineCap(fe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(fe){isNaN(fe)||(this.ctx.lineWidth=fe,this.pdf.setLineWidth(fe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(fe){["bevel","round","miter"].indexOf(fe)!==-1&&(this.ctx.lineJoin=fe,this.pdf.setLineJoin(fe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(fe){isNaN(fe)||(this.ctx.miterLimit=fe,this.pdf.setMiterLimit(fe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(fe){this.ctx.textBaseline=fe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(fe){["right","end","center","left","start"].indexOf(fe)!==-1&&(this.ctx.textAlign=fe)}});var Ce=null,it=null,rt=null;Object.defineProperty(this,"fontFaces",{get:function(){return rt},set:function(fe){Ce=null,it=null,rt=fe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(fe){var ke;if(this.ctx.font=fe,(ke=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(fe))!==null){var Ie=ke[1];ke[2];var je=ke[3],Me=ke[4];ke[5];var yt=ke[6],xe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Me)[2];Me=Math.floor(xe==="px"?parseFloat(Me)*this.pdf.internal.scaleFactor:xe==="em"?parseFloat(Me)*this.pdf.getFontSize():parseFloat(Me)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Me);var be=(function(qt){var rs,Tr,nr=[],mr=qt.trim();if(mr==="")return H3;if(mr in tF)return[tF[mr]];for(;mr!=="";){switch(Tr=null,rs=(mr=sF(mr)).charAt(0)){case'"':case"'":Tr=N8e(mr.substring(1),rs);break;default:Tr=w8e(mr)}if(Tr===null||(nr.push(Tr[0]),(mr=sF(Tr[1]))!==""&&mr.charAt(0)!==","))return H3;mr=mr.replace(/^,/,"")}return nr})(yt);if(this.fontFaces){var De=(function(qt,rs){var Tr=qt.getFontList(),nr=JSON.stringify(Tr);if(Ce===null||it!==nr){var mr=(function(Lr){var ir=[];return Object.keys(Lr).forEach(function(ms){Lr[ms].forEach(function(dr){var br=null;switch(dr){case"bold":br={family:ms,weight:"bold"};break;case"italic":br={family:ms,style:"italic"};break;case"bolditalic":br={family:ms,weight:"bold",style:"italic"};break;case"":case"normal":br={family:ms}}br!==null&&(br.ref={name:ms,style:dr},ir.push(br))})}),ir})(Tr);Ce=(function(Lr){for(var ir={},ms=0;ms<Lr.length;++ms){var dr=$3(Lr[ms]),br=dr.family,_s=dr.stretch,kr=dr.style,rr=dr.weight;ir[br]=ir[br]||{},ir[br][_s]=ir[br][_s]||{},ir[br][_s][kr]=ir[br][_s][kr]||{},ir[br][_s][kr][rr]=dr}return ir})(mr.concat(rs)),it=nr}return Ce})(this.pdf,this.fontFaces),st=be.map(function(qt){return{family:qt,stretch:"normal",weight:je,style:Ie}}),ut=(function(qt,rs,Tr){for(var nr=(Tr=Tr||{}).defaultFontFamily||"times",mr=Object.assign({},j8e,Tr.genericFontFamilies||{}),Lr=null,ir=null,ms=0;ms<rs.length;++ms)if(mr[(Lr=$3(rs[ms])).family]&&(Lr.family=mr[Lr.family]),qt.hasOwnProperty(Lr.family)){ir=qt[Lr.family];break}if(!(ir=ir||qt[nr]))throw new Error("Could not find a font-family for the rule '"+rF(Lr)+"' and default family '"+nr+"'.");if(ir=(function(dr,br){if(br[dr])return br[dr];var _s=HA[dr],kr=_s<=HA.normal?-1:1,rr=eF(br,hG,_s,kr);if(!rr)throw new Error("Could not find a matching font-stretch value for "+dr);return rr})(Lr.stretch,ir),ir=(function(dr,br){if(br[dr])return br[dr];for(var _s=uG[dr],kr=0;kr<_s.length;++kr)if(br[_s[kr]])return br[_s[kr]];throw new Error("Could not find a matching font-style for "+dr)})(Lr.style,ir),!(ir=(function(dr,br){if(br[dr])return br[dr];if(dr===400&&br[500])return br[500];if(dr===500&&br[400])return br[400];var _s=b8e[dr],kr=eF(br,mG,_s,dr<400?-1:1);if(!kr)throw new Error("Could not find a matching font-weight for value "+dr);return kr})(Lr.weight,ir)))throw new Error("Failed to resolve a font for the rule '"+rF(Lr)+"'.");return ir})(De,st);this.pdf.setFont(ut.ref.name,ut.ref.style)}else{var lt="";(je==="bold"||parseInt(je,10)>=700||Ie==="bold")&&(lt="bold"),Ie==="italic"&&(lt+="italic"),lt.length===0&&(lt="normal");for(var At="",Lt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Et=0;Et<be.length;Et++){if(this.pdf.internal.getFont(be[Et],lt,{noFallback:!0,disableWarning:!0})!==void 0){At=be[Et];break}if(lt==="bolditalic"&&this.pdf.internal.getFont(be[Et],"bold",{noFallback:!0,disableWarning:!0})!==void 0)At=be[Et],lt="bold";else if(this.pdf.internal.getFont(be[Et],"normal",{noFallback:!0,disableWarning:!0})!==void 0){At=be[Et],lt="normal";break}}if(At===""){for(var Qt=0;Qt<be.length;Qt++)if(Lt[be[Qt]]){At=Lt[be[Qt]];break}}At=At===""?"Times":At,this.pdf.setFont(At,lt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(fe){this.ctx.globalCompositeOperation=fe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(fe){this.ctx.globalAlpha=fe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(fe){this.ctx.lineDashOffset=fe,X.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(fe){this.ctx.lineDash=fe,X.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(fe){this.ctx.ignoreClearRect=!!fe}})};f.prototype.setLineDash=function(P){this.lineDash=P},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){A.call(this,"fill",!1)},f.prototype.stroke=function(){A.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(P,H){if(isNaN(P)||isNaN(H))throw la.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var q=this.ctx.transform.applyToPoint(new l(P,H));this.path.push({type:"mt",x:q.x,y:q.y}),this.ctx.lastPoint=new l(P,H)},f.prototype.closePath=function(){var P=new l(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&$s(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){P=new l(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(P.x,P.y)},f.prototype.lineTo=function(P,H){if(isNaN(P)||isNaN(H))throw la.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var q=this.ctx.transform.applyToPoint(new l(P,H));this.path.push({type:"lt",x:q.x,y:q.y}),this.ctx.lastPoint=new l(q.x,q.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),A.call(this,null,!0)},f.prototype.quadraticCurveTo=function(P,H,q,W){if(isNaN(q)||isNaN(W)||isNaN(P)||isNaN(H))throw la.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var le=this.ctx.transform.applyToPoint(new l(q,W)),Se=this.ctx.transform.applyToPoint(new l(P,H));this.path.push({type:"qct",x1:Se.x,y1:Se.y,x:le.x,y:le.y}),this.ctx.lastPoint=new l(le.x,le.y)},f.prototype.bezierCurveTo=function(P,H,q,W,le,Se){if(isNaN(le)||isNaN(Se)||isNaN(P)||isNaN(H)||isNaN(q)||isNaN(W))throw la.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Pe=this.ctx.transform.applyToPoint(new l(le,Se)),re=this.ctx.transform.applyToPoint(new l(P,H)),ye=this.ctx.transform.applyToPoint(new l(q,W));this.path.push({type:"bct",x1:re.x,y1:re.y,x2:ye.x,y2:ye.y,x:Pe.x,y:Pe.y}),this.ctx.lastPoint=new l(Pe.x,Pe.y)},f.prototype.arc=function(P,H,q,W,le,Se){if(isNaN(P)||isNaN(H)||isNaN(q)||isNaN(W)||isNaN(le))throw la.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Se=!!Se,!this.ctx.transform.isIdentity){var Pe=this.ctx.transform.applyToPoint(new l(P,H));P=Pe.x,H=Pe.y;var re=this.ctx.transform.applyToPoint(new l(0,q)),ye=this.ctx.transform.applyToPoint(new l(0,0));q=Math.sqrt(Math.pow(re.x-ye.x,2)+Math.pow(re.y-ye.y,2))}Math.abs(le-W)>=2*Math.PI&&(W=0,le=2*Math.PI),this.path.push({type:"arc",x:P,y:H,radius:q,startAngle:W,endAngle:le,counterclockwise:Se})},f.prototype.arcTo=function(P,H,q,W,le){throw new Error("arcTo not implemented.")},f.prototype.rect=function(P,H,q,W){if(isNaN(P)||isNaN(H)||isNaN(q)||isNaN(W))throw la.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(P,H),this.lineTo(P+q,H),this.lineTo(P+q,H+W),this.lineTo(P,H+W),this.lineTo(P,H),this.lineTo(P+q,H),this.lineTo(P,H)},f.prototype.fillRect=function(P,H,q,W){if(isNaN(P)||isNaN(H)||isNaN(q)||isNaN(W))throw la.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var le={};this.lineCap!=="butt"&&(le.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(le.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(P,H,q,W),this.fill(),le.hasOwnProperty("lineCap")&&(this.lineCap=le.lineCap),le.hasOwnProperty("lineJoin")&&(this.lineJoin=le.lineJoin)}},f.prototype.strokeRect=function(P,H,q,W){if(isNaN(P)||isNaN(H)||isNaN(q)||isNaN(W))throw la.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(P,H,q,W),this.stroke())},f.prototype.clearRect=function(P,H,q,W){if(isNaN(P)||isNaN(H)||isNaN(q)||isNaN(W))throw la.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(P,H,q,W))},f.prototype.save=function(P){P=typeof P!="boolean"||P;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),P){this.ctx.fontSize=this.pdf.internal.getFontSize();var W=new m(this.ctx);this.ctxStack.push(this.ctx),this.ctx=W}},f.prototype.restore=function(P){P=typeof P!="boolean"||P;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("Q");this.pdf.setPage(H),P&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(P){var H,q,W,le;if(P.isCanvasGradient===!0&&(P=P.getColor()),!P)return{r:0,g:0,b:0,a:0,style:P};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(P))H=0,q=0,W=0,le=0;else{var Se=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(P);if(Se!==null)H=parseInt(Se[1]),q=parseInt(Se[2]),W=parseInt(Se[3]),le=1;else if((Se=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(P))!==null)H=parseInt(Se[1]),q=parseInt(Se[2]),W=parseInt(Se[3]),le=parseFloat(Se[4]);else{if(le=1,typeof P=="string"&&P.charAt(0)!=="#"){var Pe=new aG(P);P=Pe.ok?Pe.toHex():"#000000"}P.length===4?(H=P.substring(1,2),H+=H,q=P.substring(2,3),q+=q,W=P.substring(3,4),W+=W):(H=P.substring(1,3),q=P.substring(3,5),W=P.substring(5,7)),H=parseInt(H,16),q=parseInt(q,16),W=parseInt(W,16)}}return{r:H,g:q,b:W,a:le,style:P}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(P,H,q,W){if(isNaN(H)||isNaN(q)||typeof P!="string")throw la.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(W=isNaN(W)?void 0:W,!p.call(this)){var le=G(this.ctx.transform.rotation),Se=this.ctx.transform.scaleX;F.call(this,{text:P,x:H,y:q,scale:Se,angle:le,align:this.textAlign,maxWidth:W})}},f.prototype.strokeText=function(P,H,q,W){if(isNaN(H)||isNaN(q)||typeof P!="string")throw la.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){W=isNaN(W)?void 0:W;var le=G(this.ctx.transform.rotation),Se=this.ctx.transform.scaleX;F.call(this,{text:P,x:H,y:q,scale:Se,renderingMode:"stroke",angle:le,align:this.textAlign,maxWidth:W})}},f.prototype.measureText=function(P){if(typeof P!="string")throw la.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,q=this.pdf.internal.scaleFactor,W=H.internal.getFontSize(),le=H.getStringUnitWidth(P)*W/H.internal.scaleFactor;return new function(Se){var Pe=(Se=Se||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Pe}}),this}({width:le*=Math.round(96*q/72*1e4)/1e4})},f.prototype.scale=function(P,H){if(isNaN(P)||isNaN(H))throw la.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var q=new u(P,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(q)},f.prototype.rotate=function(P){if(isNaN(P))throw la.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new u(Math.cos(P),Math.sin(P),-Math.sin(P),Math.cos(P),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},f.prototype.translate=function(P,H){if(isNaN(P)||isNaN(H))throw la.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var q=new u(1,0,0,1,P,H);this.ctx.transform=this.ctx.transform.multiply(q)},f.prototype.transform=function(P,H,q,W,le,Se){if(isNaN(P)||isNaN(H)||isNaN(q)||isNaN(W)||isNaN(le)||isNaN(Se))throw la.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Pe=new u(P,H,q,W,le,Se);this.ctx.transform=this.ctx.transform.multiply(Pe)},f.prototype.setTransform=function(P,H,q,W,le,Se){P=isNaN(P)?1:P,H=isNaN(H)?0:H,q=isNaN(q)?0:q,W=isNaN(W)?1:W,le=isNaN(le)?0:le,Se=isNaN(Se)?0:Se,this.ctx.transform=new u(P,H,q,W,le,Se)};var v=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(P,H,q,W,le,Se,Pe,re,ye){var ze=this.pdf.getImageProperties(P),Ce=1,it=1,rt=1,fe=1;W!==void 0&&re!==void 0&&(rt=re/W,fe=ye/le,Ce=ze.width/W*re/W,it=ze.height/le*ye/le),Se===void 0&&(Se=H,Pe=q,H=0,q=0),W!==void 0&&re===void 0&&(re=W,ye=le),W===void 0&&re===void 0&&(re=ze.width,ye=ze.height);var ke=this.ctx.transform.decompose(),Ie=G(ke.rotate.shx),je=new u,Me=(je=(je=(je=je.multiply(ke.translate)).multiply(ke.skew)).multiply(ke.scale)).applyToRectangle(new o(Se-H*rt,Pe-q*fe,W*Ce,le*it));if(this.autoPaging){for(var yt,xe=j.call(this,Me),be=[],De=0;De<xe.length;De+=1)be.indexOf(xe[De])===-1&&be.push(xe[De]);w(be);for(var st=be[0],ut=be[be.length-1],lt=st;lt<ut+1;lt++){this.pdf.setPage(lt);var At=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Lt=lt===1?this.posY+this.margin[0]:this.margin[0],Et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Qt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],qt=lt===1?0:Et+(lt-2)*Qt;if(this.ctx.clip_path.length!==0){var rs=this.path;yt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(yt,this.posX+this.margin[3],-qt+Lt+this.ctx.prevPageLastElemOffset),C.call(this,"fill",!0),this.path=rs}var Tr=JSON.parse(JSON.stringify(Me));Tr=k([Tr],this.posX+this.margin[3],-qt+Lt+this.ctx.prevPageLastElemOffset)[0];var nr=(lt>st||lt<ut)&&v.call(this);nr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],At,Qt,null).clip().discardPath()),this.pdf.addImage(P,"JPEG",Tr.x,Tr.y,Tr.w,Tr.h,null,null,Ie),nr&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(P,"JPEG",Me.x,Me.y,Me.w,Me.h,null,null,Ie)};var j=function(P,H,q){var W=[];H=H||this.pdf.internal.pageSize.width,q=q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var le=this.posY+this.ctx.prevPageLastElemOffset;switch(P.type){default:case"mt":case"lt":W.push(Math.floor((P.y+le)/q)+1);break;case"arc":W.push(Math.floor((P.y+le-P.radius)/q)+1),W.push(Math.floor((P.y+le+P.radius)/q)+1);break;case"qct":var Se=ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x,P.y);W.push(Math.floor((Se.y+le)/q)+1),W.push(Math.floor((Se.y+Se.h+le)/q)+1);break;case"bct":var Pe=Ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x2,P.y2,P.x,P.y);W.push(Math.floor((Pe.y+le)/q)+1),W.push(Math.floor((Pe.y+Pe.h+le)/q)+1);break;case"rect":W.push(Math.floor((P.y+le)/q)+1),W.push(Math.floor((P.y+P.h+le)/q)+1)}for(var re=0;re<W.length;re+=1)for(;this.pdf.internal.getNumberOfPages()<W[re];)N.call(this);return W},N=function(){var P=this.fillStyle,H=this.strokeStyle,q=this.font,W=this.lineCap,le=this.lineWidth,Se=this.lineJoin;this.pdf.addPage(),this.fillStyle=P,this.strokeStyle=H,this.font=q,this.lineCap=W,this.lineWidth=le,this.lineJoin=Se},k=function(P,H,q){for(var W=0;W<P.length;W++)switch(P[W].type){case"bct":P[W].x2+=H,P[W].y2+=q;case"qct":P[W].x1+=H,P[W].y1+=q;default:P[W].x+=H,P[W].y+=q}return P},w=function(P){return P.sort(function(H,q){return H-q})},A=function(P,H){var q=this.fillStyle,W=this.strokeStyle,le=this.lineCap,Se=this.lineWidth,Pe=Math.abs(Se*this.ctx.transform.scaleX),re=this.lineJoin;if(this.autoPaging){for(var ye,ze,Ce=JSON.parse(JSON.stringify(this.path)),it=JSON.parse(JSON.stringify(this.path)),rt=[],fe=0;fe<it.length;fe++)if(it[fe].x!==void 0)for(var ke=j.call(this,it[fe]),Ie=0;Ie<ke.length;Ie+=1)rt.indexOf(ke[Ie])===-1&&rt.push(ke[Ie]);for(var je=0;je<rt.length;je++)for(;this.pdf.internal.getNumberOfPages()<rt[je];)N.call(this);w(rt);for(var Me=rt[0],yt=rt[rt.length-1],xe=Me;xe<yt+1;xe++){this.pdf.setPage(xe),this.fillStyle=q,this.strokeStyle=W,this.lineCap=le,this.lineWidth=Pe,this.lineJoin=re;var be=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],De=xe===1?this.posY+this.margin[0]:this.margin[0],st=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ut=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],lt=xe===1?0:st+(xe-2)*ut;if(this.ctx.clip_path.length!==0){var At=this.path;ye=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(ye,this.posX+this.margin[3],-lt+De+this.ctx.prevPageLastElemOffset),C.call(this,P,!0),this.path=At}if(ze=JSON.parse(JSON.stringify(Ce)),this.path=k(ze,this.posX+this.margin[3],-lt+De+this.ctx.prevPageLastElemOffset),H===!1||xe===0){var Lt=(xe>Me||xe<yt)&&v.call(this);Lt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],be,ut,null).clip().discardPath()),C.call(this,P,H),Lt&&this.pdf.restoreGraphicsState()}this.lineWidth=Se}this.path=Ce}else this.lineWidth=Pe,C.call(this,P,H),this.lineWidth=Se},C=function(P,H){if((P!=="stroke"||H||!y.call(this))&&(P==="stroke"||H||!p.call(this))){for(var q,W,le=[],Se=this.path,Pe=0;Pe<Se.length;Pe++){var re=Se[Pe];switch(re.type){case"begin":le.push({begin:!0});break;case"close":le.push({close:!0});break;case"mt":le.push({start:re,deltas:[],abs:[]});break;case"lt":var ye=le.length;if(Se[Pe-1]&&!isNaN(Se[Pe-1].x)&&(q=[re.x-Se[Pe-1].x,re.y-Se[Pe-1].y],ye>0)){for(;ye>=0;ye--)if(le[ye-1].close!==!0&&le[ye-1].begin!==!0){le[ye-1].deltas.push(q),le[ye-1].abs.push(re);break}}break;case"bct":q=[re.x1-Se[Pe-1].x,re.y1-Se[Pe-1].y,re.x2-Se[Pe-1].x,re.y2-Se[Pe-1].y,re.x-Se[Pe-1].x,re.y-Se[Pe-1].y],le[le.length-1].deltas.push(q);break;case"qct":var ze=Se[Pe-1].x+2/3*(re.x1-Se[Pe-1].x),Ce=Se[Pe-1].y+2/3*(re.y1-Se[Pe-1].y),it=re.x+2/3*(re.x1-re.x),rt=re.y+2/3*(re.y1-re.y),fe=re.x,ke=re.y;q=[ze-Se[Pe-1].x,Ce-Se[Pe-1].y,it-Se[Pe-1].x,rt-Se[Pe-1].y,fe-Se[Pe-1].x,ke-Se[Pe-1].y],le[le.length-1].deltas.push(q);break;case"arc":le.push({deltas:[],abs:[],arc:!0}),Array.isArray(le[le.length-1].abs)&&le[le.length-1].abs.push(re)}}W=H?null:P==="stroke"?"stroke":"fill";for(var Ie=!1,je=0;je<le.length;je++)if(le[je].arc)for(var Me=le[je].abs,yt=0;yt<Me.length;yt++){var xe=Me[yt];xe.type==="arc"?D.call(this,xe.x,xe.y,xe.radius,xe.startAngle,xe.endAngle,xe.counterclockwise,void 0,H,!Ie):Y.call(this,xe.x,xe.y),Ie=!0}else if(le[je].close===!0)this.pdf.internal.out("h"),Ie=!1;else if(le[je].begin!==!0){var be=le[je].start.x,De=le[je].start.y;te.call(this,le[je].deltas,be,De),Ie=!0}W&&B.call(this,W),H&&z.call(this)}},M=function(P){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,q=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return P-q;case"top":return P+H-q;case"hanging":return P+H-2*q;case"middle":return P+H/2-q;default:return P}},R=function(P){return P+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var P=function(){};return P.colorStops=[],P.addColorStop=function(H,q){this.colorStops.push([H,q])},P.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},P.isCanvasGradient=!0,P},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var D=function(P,H,q,W,le,Se,Pe,re,ye){for(var ze=Z.call(this,q,W,le,Se),Ce=0;Ce<ze.length;Ce++){var it=ze[Ce];Ce===0&&(ye?I.call(this,it.x1+P,it.y1+H):Y.call(this,it.x1+P,it.y1+H)),ue.call(this,P,H,it.x2,it.y2,it.x3,it.y3,it.x4,it.y4)}re?z.call(this):B.call(this,Pe)},B=function(P){switch(P){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},z=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(P,H){this.pdf.internal.out(s(P)+" "+a(H)+" m")},F=function(P){var H;switch(P.align){case"right":case"end":H="right";break;case"center":H="center";break;default:H="left"}var q,W,le,Se=this.pdf.getTextDimensions(P.text),Pe=M.call(this,P.y),re=R.call(this,Pe)-Se.h,ye=this.ctx.transform.applyToPoint(new l(P.x,Pe));if(this.autoPaging){var ze=this.ctx.transform.decompose(),Ce=new u;Ce=(Ce=(Ce=Ce.multiply(ze.translate)).multiply(ze.skew)).multiply(ze.scale);for(var it=this.ctx.transform.applyToRectangle(new o(P.x,Pe,Se.w,Se.h)),rt=Ce.applyToRectangle(new o(P.x,re,Se.w,Se.h)),fe=j.call(this,rt),ke=[],Ie=0;Ie<fe.length;Ie+=1)ke.indexOf(fe[Ie])===-1&&ke.push(fe[Ie]);w(ke);for(var je=ke[0],Me=ke[ke.length-1],yt=je;yt<Me+1;yt++){this.pdf.setPage(yt);var xe=yt===1?this.posY+this.margin[0]:this.margin[0],be=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],De=this.pdf.internal.pageSize.height-this.margin[2],st=De-this.margin[0],ut=this.pdf.internal.pageSize.width-this.margin[1],lt=ut-this.margin[3],At=yt===1?0:be+(yt-2)*st;if(this.ctx.clip_path.length!==0){var Lt=this.path;q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(q,this.posX+this.margin[3],-1*At+xe),C.call(this,"fill",!0),this.path=Lt}var Et=k([JSON.parse(JSON.stringify(rt))],this.posX+this.margin[3],-At+xe+this.ctx.prevPageLastElemOffset)[0];P.scale>=.01&&(W=this.pdf.internal.getFontSize(),this.pdf.setFontSize(W*P.scale),le=this.lineWidth,this.lineWidth=le*P.scale);var Qt=this.autoPaging!=="text";if(Qt||Et.y+Et.h<=De){if(Qt||Et.y>=xe&&Et.x<=ut){var qt=Qt?P.text:this.pdf.splitTextToSize(P.text,P.maxWidth||ut-Et.x)[0],rs=k([JSON.parse(JSON.stringify(it))],this.posX+this.margin[3],-At+xe+this.ctx.prevPageLastElemOffset)[0],Tr=Qt&&(yt>je||yt<Me)&&v.call(this);Tr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],lt,st,null).clip().discardPath()),this.pdf.text(qt,rs.x,rs.y,{angle:P.angle,align:H,renderingMode:P.renderingMode}),Tr&&this.pdf.restoreGraphicsState()}}else Et.y<De&&(this.ctx.prevPageLastElemOffset+=De-Et.y);P.scale>=.01&&(this.pdf.setFontSize(W),this.lineWidth=le)}}else P.scale>=.01&&(W=this.pdf.internal.getFontSize(),this.pdf.setFontSize(W*P.scale),le=this.lineWidth,this.lineWidth=le*P.scale),this.pdf.text(P.text,ye.x+this.posX,ye.y+this.posY,{angle:P.angle,align:H,renderingMode:P.renderingMode,maxWidth:P.maxWidth}),P.scale>=.01&&(this.pdf.setFontSize(W),this.lineWidth=le)},Y=function(P,H,q,W){q=q||0,W=W||0,this.pdf.internal.out(s(P+q)+" "+a(H+W)+" l")},te=function(P,H,q){return this.pdf.lines(P,H,q,null,null)},ue=function(P,H,q,W,le,Se,Pe,re){this.pdf.internal.out([t(n(q+P)),t(i(W+H)),t(n(le+P)),t(i(Se+H)),t(n(Pe+P)),t(i(re+H)),"c"].join(" "))},Z=function(P,H,q,W){for(var le=2*Math.PI,Se=Math.PI/2;H>q;)H-=le;var Pe=Math.abs(q-H);Pe<le&&W&&(Pe=le-Pe);for(var re=[],ye=W?-1:1,ze=H;Pe>1e-5;){var Ce=ze+ye*Math.min(Pe,Se);re.push(ie.call(this,P,ze,Ce)),Pe-=Math.abs(Ce-ze),ze=Ce}return re},ie=function(P,H,q){var W=(q-H)/2,le=P*Math.cos(W),Se=P*Math.sin(W),Pe=le,re=-Se,ye=Pe*Pe+re*re,ze=ye+Pe*le+re*Se,Ce=4/3*(Math.sqrt(2*ye*ze)-ze)/(Pe*Se-re*le),it=Pe-Ce*re,rt=re+Ce*Pe,fe=it,ke=-rt,Ie=W+H,je=Math.cos(Ie),Me=Math.sin(Ie);return{x1:P*Math.cos(H),y1:P*Math.sin(H),x2:it*je-rt*Me,y2:it*Me+rt*je,x3:fe*je-ke*Me,y3:fe*Me+ke*je,x4:P*Math.cos(q),y4:P*Math.sin(q)}},G=function(P){return 180*P/Math.PI},ee=function(P,H,q,W,le,Se){var Pe=P+.5*(q-P),re=H+.5*(W-H),ye=le+.5*(q-le),ze=Se+.5*(W-Se),Ce=Math.min(P,le,Pe,ye),it=Math.max(P,le,Pe,ye),rt=Math.min(H,Se,re,ze),fe=Math.max(H,Se,re,ze);return new o(Ce,rt,it-Ce,fe-rt)},Ne=function(P,H,q,W,le,Se,Pe,re){var ye,ze,Ce,it,rt,fe,ke,Ie,je,Me,yt,xe,be,De,st=q-P,ut=W-H,lt=le-q,At=Se-W,Lt=Pe-le,Et=re-Se;for(ze=0;ze<41;ze++)je=(ke=(Ce=P+(ye=ze/40)*st)+ye*((rt=q+ye*lt)-Ce))+ye*(rt+ye*(le+ye*Lt-rt)-ke),Me=(Ie=(it=H+ye*ut)+ye*((fe=W+ye*At)-it))+ye*(fe+ye*(Se+ye*Et-fe)-Ie),ze==0?(yt=je,xe=Me,be=je,De=Me):(yt=Math.min(yt,je),xe=Math.min(xe,Me),be=Math.max(be,je),De=Math.max(De,Me));return new o(Math.round(yt),Math.round(xe),Math.round(be-yt),Math.round(De-xe))},X=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var P,H,q=(P=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:P,lineDashOffset:H}));this.prevLineDash!==q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=q)}}})(cr.API),(function(e){var t=function(l){var o,u,d,m,f,g,p,y,v,j;for(u=[],d=0,m=(l+=o="\0\0\0\0".slice(l.length%4||4)).length;m>d;d+=4)(f=(l.charCodeAt(d)<<24)+(l.charCodeAt(d+1)<<16)+(l.charCodeAt(d+2)<<8)+l.charCodeAt(d+3))!==0?(g=(f=((f=((f=((f=(f-(j=f%85))/85)-(v=f%85))/85)-(y=f%85))/85)-(p=f%85))/85)%85,u.push(g+33,p+33,y+33,v+33,j+33)):u.push(122);return(function(N,k){for(var w=k;w>0;w--)N.pop()})(u,o.length),String.fromCharCode.apply(String,u)+"~>"},s=function(l){var o,u,d,m,f,g=String,p="length",y=255,v="charCodeAt",j="slice",N="replace";for(l[j](-2),l=l[j](0,-2)[N](/\s/g,"")[N]("z","!!!!!"),d=[],m=0,f=(l+=o="uuuuu"[j](l[p]%5||5))[p];f>m;m+=5)u=52200625*(l[v](m)-33)+614125*(l[v](m+1)-33)+7225*(l[v](m+2)-33)+85*(l[v](m+3)-33)+(l[v](m+4)-33),d.push(y&u>>24,y&u>>16,y&u>>8,y&u);return(function(k,w){for(var A=w;A>0;A--)k.pop()})(d,o[p]),g.fromCharCode.apply(g,d)},a=function(l){return l.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},n=function(l){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((l=l.replace(/\s/g,"")).indexOf(">")!==-1&&(l=l.substr(0,l.indexOf(">"))),l.length%2&&(l+="0"),o.test(l)===!1)return"";for(var u="",d=0;d<l.length;d+=2)u+=String.fromCharCode("0x"+(l[d]+l[d+1]));return u},i=function(l){for(var o=new Uint8Array(l.length),u=l.length;u--;)o[u]=l.charCodeAt(u);return(o=LA(o)).reduce(function(d,m){return d+String.fromCharCode(m)},"")};e.processDataByFilters=function(l,o){var u=0,d=l||"",m=[];for(typeof(o=o||[])=="string"&&(o=[o]),u=0;u<o.length;u+=1)switch(o[u]){case"ASCII85Decode":case"/ASCII85Decode":d=s(d),m.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=t(d),m.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=n(d),m.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=a(d),m.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=i(d),m.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[u]+'" is not implemented')}return{data:d,reverseChain:m.reverse().join(" ")}}})(cr.API),(function(e){e.loadFile=function(t,s,a){return(function(n,i,l){i=i!==!1,l=typeof l=="function"?l:function(){};var o=void 0;try{o=(function(u,d,m){var f=new XMLHttpRequest,g=0,p=function(y){var v=y.length,j=[],N=String.fromCharCode;for(g=0;g<v;g+=1)j.push(N(255&y.charCodeAt(g)));return j.join("")};if(f.open("GET",u,!d),f.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(f.onload=function(){f.status===200?m(p(this.responseText)):m(void 0)}),f.send(null),d&&f.status===200)return p(f.responseText)})(n,i,l)}catch{}return o})(t,s,a)},e.allowFsRead=void 0,e.loadImageFile=e.loadFile})(cr.API),(function(e){function t(){return(Ar.html2canvas?Promise.resolve(Ar.html2canvas):S3(()=>import("./html2canvas.esm-DXEQVQnt.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function s(){return(Ar.DOMPurify?Promise.resolve(Ar.DOMPurify):S3(()=>import("./purify.es-Bzr520pe.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var a=function(o){var u=$s(o);return u==="undefined"?"undefined":u==="string"||o instanceof String?"string":u==="number"||o instanceof Number?"number":u==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":u==="object"?"object":"unknown"},n=function(o,u){var d=document.createElement(o);for(var m in u.className&&(d.className=u.className),u.innerHTML&&u.dompurify&&(d.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)d.style[m]=u.style[m];return d},i=function o(u,d){for(var m=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),f=u.firstChild;f;f=f.nextSibling)d!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||m.appendChild(o(f,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(m.width=u.width,m.height=u.height,m.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(m.value=u.value),m.addEventListener("load",function(){m.scrollTop=u.scrollTop,m.scrollLeft=u.scrollLeft},!0)),m},l=function o(u){var d=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),m=o.convert(Promise.resolve(),d);return(m=m.setProgress(1,o,1,[o])).set(u)};(l.prototype=Object.create(Promise.prototype)).constructor=l,l.convert=function(o,u){return o.__proto__=u||l.prototype,o},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},l.prototype.from=function(o,u){return this.then(function(){switch(u=u||(function(d){switch(a(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(o),u){case"string":return this.then(s).then(function(d){return this.set({src:n("div",{innerHTML:o,dompurify:d})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},l.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=n("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=n("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(n("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},l.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(u){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,u(this.prop.container,d)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},l.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(u){var d=this.opt.jsPDF,m=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=m,m)for(var p=0;p<m.length;++p){var y=m[p],v=y.src.find(function(j){return j.format==="truetype"});v&&d.addFont(v.url,y.ref.name,y.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,d.context2d.save(!0),u(this.prop.container,g)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},l.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},l.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},l.prototype.output=function(o,u,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(o,u):this.outputPdf(o,u)},l.prototype.outputPdf=function(o,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,u)})},l.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},l.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},l.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},l.prototype.set=function(o){if(a(o)!=="object")return this;var u=Object.keys(o||{}).map(function(d){if(d in l.template.prop)return function(){this.prop[d]=o[d]};switch(d){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[d]=o[d]}}},this);return this.then(function(){return this.thenList(u)})},l.prototype.get=function(o,u){return this.then(function(){var d=o in l.template.prop?this.prop[o]:this.opt[o];return u?u(d):d})},l.prototype.setMargin=function(o){return this.then(function(){switch(a(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},l.prototype.setPageSize=function(o){function u(d,m){return Math.floor(d*m/72*96)}return this.then(function(){(o=o||cr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:u(o.inner.width,o.k),height:u(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},l.prototype.setProgress=function(o,u,d,m){return o!=null&&(this.progress.val=o),u!=null&&(this.progress.state=u),d!=null&&(this.progress.n=d),m!=null&&(this.progress.stack=m),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(o,u,d,m){return this.setProgress(o?this.progress.val+o:null,u||null,d?this.progress.n+d:null,m?this.progress.stack.concat(m):null)},l.prototype.then=function(o,u){var d=this;return this.thenCore(o,u,function(m,f){return d.updateProgress(null,null,1,[m]),Promise.prototype.then.call(this,function(g){return d.updateProgress(null,m),g}).then(m,f).then(function(g){return d.updateProgress(1),g})})},l.prototype.thenCore=function(o,u,d){d=d||Promise.prototype.then;var m=this;o&&(o=o.bind(m)),u&&(u=u.bind(m));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?m:l.convert(Object.assign({},m),Promise.prototype),g=d.call(f,o,u);return l.convert(g,m.__proto__)},l.prototype.thenExternal=function(o,u){return Promise.prototype.then.call(this,o,u)},l.prototype.thenList=function(o){var u=this;return o.forEach(function(d){u=u.thenCore(d)}),u},l.prototype.catch=function(o){o&&(o=o.bind(this));var u=Promise.prototype.catch.call(this,o);return l.convert(u,this)},l.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},l.prototype.error=function(o){return this.then(function(){throw new Error(o)})},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,cr.getPageSize=function(o,u,d){if($s(o)==="object"){var m=o;o=m.orientation,u=m.unit||u,d=m.format||d}u=u||"mm",d=d||"a4",o=(""+(o||"P")).toLowerCase();var f,g=(""+d).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+u}var y,v=0,j=0;if(p.hasOwnProperty(g))v=p[g][1]/f,j=p[g][0]/f;else try{v=d[1],j=d[0]}catch{throw new Error("Invalid format: "+d)}if(o==="p"||o==="portrait")o="p",j>v&&(y=j,j=v,v=y);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",v>j&&(y=j,j=v,v=y)}return{width:j,height:v,unit:u,k:f,orientation:o}},e.html=function(o,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map($3):null;var d=new l(u);return u.worker?d:d.from(o).doCallback()}})(cr.API),cr.API.addJS=function(e){var t,s,a=e;return this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(t+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),s=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+a+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){t!==void 0&&s!==void 0&&this.internal.out("/Names <</JavaScript "+t+" 0 R>>")}),this},(function(e){var t;e.events.push(["postPutResources",function(){var s=this,a=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var n=s.outline.render().split(/\r\n/),i=0;i<n.length;i++){var l=n[i],o=a.exec(l);if(o!=null){var u=o[1];s.internal.newObjectDeferredBegin(u,!1)}s.internal.write(l)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,m=[];for(i=0;i<d;i++){var f=s.internal.newObject();m.push(f);var g=s.internal.getPageInfo(i+1);s.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var p=s.internal.newObject();for(s.internal.write("<< /Names [ "),i=0;i<m.length;i++)s.internal.write("(page_"+(i+1)+")"+m[i]+" 0 R");s.internal.write(" ] >>","endobj"),t=s.internal.newObject(),s.internal.write("<< /Dests "+p+" 0 R"),s.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var s=this;s.outline.root.children.length>0&&(s.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&s.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var s=this;s.outline={createNamedDestinations:!1,root:{children:[]}},s.outline.add=function(a,n,i){var l={title:n,options:i,children:[]};return a==null&&(a=this.root),a.children.push(l),l},s.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=s,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},s.outline.genIds_r=function(a){a.id=s.internal.newObjectDeferred();for(var n=0;n<a.children.length;n++)this.genIds_r(a.children[n])},s.outline.renderRoot=function(a){this.objStart(a),this.line("/Type /Outlines"),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1]))),this.line("/Count "+this.count_r({count:0},a)),this.objEnd()},s.outline.renderItems=function(a){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<a.children.length;i++){var l=a.children[i];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(a)),i>0&&this.line("/Prev "+this.makeRef(a.children[i-1])),i<a.children.length-1&&this.line("/Next "+this.makeRef(a.children[i+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var o=this.count=this.count_r({count:0},l);if(o>0&&this.line("/Count "+o),l.options&&l.options.pageNumber){var u=s.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var d=0;d<a.children.length;d++)this.renderItems(a.children[d])},s.outline.line=function(a){this.ctx.val+=a+`\r
`},s.outline.makeRef=function(a){return a.id+" 0 R"},s.outline.makeString=function(a){return"("+s.internal.pdfEscape(a)+")"},s.outline.objStart=function(a){this.ctx.val+=`\r
`+a.id+` 0 obj\r
<<\r
`},s.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},s.outline.count_r=function(a,n){for(var i=0;i<n.children.length;i++)a.count++,this.count_r(a,n.children[i]);return a.count}}])})(cr.API),(function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(s,a,n,i,l,o){var u,d=this.decode.DCT_DECODE,m=null;if(typeof s=="string"||this.__addimage__.isArrayBuffer(s)||this.__addimage__.isArrayBufferView(s)){switch(s=l||s,s=this.__addimage__.isArrayBuffer(s)?new Uint8Array(s):s,u=(function(f){for(var g,p=256*f.charCodeAt(4)+f.charCodeAt(5),y=f.length,v={width:0,height:0,numcomponents:1},j=4;j<y;j+=2){if(j+=p,t.indexOf(f.charCodeAt(j+1))!==-1){g=256*f.charCodeAt(j+5)+f.charCodeAt(j+6),v={width:256*f.charCodeAt(j+7)+f.charCodeAt(j+8),height:g,numcomponents:f.charCodeAt(j+9)};break}p=256*f.charCodeAt(j+2)+f.charCodeAt(j+3)}return v})(s=this.__addimage__.isArrayBufferView(s)?this.__addimage__.arrayBufferToBinaryString(s):s),u.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}m={data:s,width:u.width,height:u.height,colorSpace:o,bitsPerComponent:8,filter:d,index:a,alias:n}}return m}})(cr.API),cr.API.processPNG=function(e,t,s,a){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var n,i=i8e(e,{checkCrc:!0}),l=i.width,o=i.height,u=i.channels,d=i.palette,m=i.depth;n=d&&u===1?(function(D){for(var B=D.width,z=D.height,I=D.data,F=D.palette,Y=D.depth,te=!1,ue=[],Z=[],ie=void 0,G=!1,ee=0,Ne=0;Ne<F.length;Ne++){var X=cI(F[Ne],4),P=X[0],H=X[1],q=X[2],W=X[3];ue.push(P,H,q),W!=null&&(W===0?(ee++,Z.length<1&&Z.push(Ne)):W<255&&(G=!0))}if(G||ee>1){te=!0,Z=void 0;var le=B*z;ie=new Uint8Array(le);for(var Se=new DataView(I.buffer),Pe=0;Pe<le;Pe++){var re=q3(Se,Pe,Y),ye=cI(F[re],4)[3];ie[Pe]=ye}}else ee===0&&(Z=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:te?8:void 0,colorBytes:I,alphaBytes:ie,needSMask:te,palette:ue,mask:Z}})(i):u===2||u===4?(function(D){for(var B=D.data,z=D.width,I=D.height,F=D.channels,Y=D.depth,te=F===2?"DeviceGray":"DeviceRGB",ue=F-1,Z=z*I,ie=ue,G=Z*ie,ee=1*Z,Ne=Math.ceil(G*Y/8),X=Math.ceil(ee*Y/8),P=new Uint8Array(Ne),H=new Uint8Array(X),q=new DataView(B.buffer),W=new DataView(P.buffer),le=new DataView(H.buffer),Se=!1,Pe=0;Pe<Z;Pe++){for(var re=Pe*F,ye=0;ye<ie;ye++)hF(W,q3(q,re+ye,Y),Pe*ie+ye,Y);var ze=q3(q,re+ie,Y);ze<(1<<Y)-1&&(Se=!0),hF(le,ze,1*Pe,Y)}return{colorSpace:te,colorsPerPixel:ue,sMaskBitsPerComponent:Se?Y:void 0,colorBytes:P,alphaBytes:H,needSMask:Se}})(i):(function(D){var B=D.data,z=D.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:z,colorsPerPixel:z==="DeviceGray"?1:3,colorBytes:B instanceof Uint16Array?(function(I){for(var F=I.length,Y=new Uint8Array(2*F),te=new DataView(Y.buffer,Y.byteOffset,Y.byteLength),ue=0;ue<F;ue++)te.setUint16(2*ue,I[ue],!1);return Y})(B):B,needSMask:!1}})(i);var f,g,p,y=n,v=y.colorSpace,j=y.colorsPerPixel,N=y.sMaskBitsPerComponent,k=y.colorBytes,w=y.alphaBytes,A=y.needSMask,C=y.palette,M=y.mask,R=null;return a!==cr.API.image_compression.NONE&&typeof LA=="function"?(R=(function(D){var B;switch(D){case cr.API.image_compression.FAST:B=11;break;case cr.API.image_compression.MEDIUM:B=13;break;case cr.API.image_compression.SLOW:B=14;break;default:B=12}return B})(a),f=this.decode.FLATE_DECODE,g="/Predictor ".concat(R," /Colors ").concat(j," /BitsPerComponent ").concat(m," /Columns ").concat(l),e=lF(k,Math.ceil(l*j*m/8),j,m,a),A&&(p=lF(w,Math.ceil(l*N/8),1,N,a))):(f=void 0,g=void 0,e=k,A&&(p=w)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:s,data:e,index:t,filter:f,decodeParameters:g,transparency:M,palette:C,sMask:p,predictor:R,width:l,height:o,bitsPerComponent:m,sMaskBitsPerComponent:N,colorSpace:v}}},(function(e){e.processGIF89A=function(t,s,a,n){var i=new C8e(t),l=i.width,o=i.height,u=[];i.decodeAndBlitFrameRGBA(0,u);var d={data:u,width:l,height:o},m=new V3(100).encode(d,100);return e.processJPEG.call(this,m,s,a,n)},e.processGIF87A=e.processGIF89A})(cr.API),ad.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:n,green:a,blue:s,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ad.prototype.parseBGR=function(){this.pos=this.offset;var e="bit"+this.bitPP,t=this.width*this.height*4;if(t>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(t);try{this[e]()}catch(s){la.log("bit decode error:"+s)}},ad.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),s=t%4;for(e=this.height-1;e>=0;e--){for(var a=this.bottom_up?e:this.height-1-e,n=0;n<t;n++)for(var i=this.datav.getUint8(this.pos++,!0),l=a*this.width*4+8*n*4,o=0;o<8&&8*n+o<this.width;o++){var u=this.palette[i>>7-o&1];this.data[l+4*o]=u.blue,this.data[l+4*o+1]=u.green,this.data[l+4*o+2]=u.red,this.data[l+4*o+3]=255}s!==0&&(this.pos+=4-s)}},ad.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,s=this.height-1;s>=0;s--){for(var a=this.bottom_up?s:this.height-1-s,n=0;n<e;n++){var i=this.datav.getUint8(this.pos++,!0),l=a*this.width*4+2*n*4,o=i>>4,u=15&i,d=this.palette[o];if(this.data[l]=d.blue,this.data[l+1]=d.green,this.data[l+2]=d.red,this.data[l+3]=255,2*n+1>=this.width)break;d=this.palette[u],this.data[l+4]=d.blue,this.data[l+4+1]=d.green,this.data[l+4+2]=d.red,this.data[l+4+3]=255}t!==0&&(this.pos+=4-t)}},ad.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var s=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var n=this.datav.getUint8(this.pos++,!0),i=s*this.width*4+4*a;if(n<this.palette.length){var l=this.palette[n];this.data[i]=l.red,this.data[i+1]=l.green,this.data[i+2]=l.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},ad.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),s=this.height-1;s>=0;s--){for(var a=this.bottom_up?s:this.height-1-s,n=0;n<this.width;n++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(i&t)/t*255|0,o=(i>>5&t)/t*255|0,u=(i>>10&t)/t*255|0,d=i>>15?255:0,m=a*this.width*4+4*n;this.data[m]=u,this.data[m+1]=o,this.data[m+2]=l,this.data[m+3]=d}this.pos+=e}},ad.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),s=parseInt("111111",2),a=this.height-1;a>=0;a--){for(var n=this.bottom_up?a:this.height-1-a,i=0;i<this.width;i++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(l&t)/t*255|0,u=(l>>5&s)/s*255|0,d=(l>>11)/t*255|0,m=n*this.width*4+4*i;this.data[m]=d,this.data[m+1]=u,this.data[m+2]=o,this.data[m+3]=255}this.pos+=e}},ad.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,s=0;s<this.width;s++){var a=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*s;this.data[l]=i,this.data[l+1]=n,this.data[l+2]=a,this.data[l+3]=255}this.pos+=this.width%4}},ad.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,s=0;s<this.width;s++){var a=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*s;this.data[o]=i,this.data[o+1]=n,this.data[o+2]=a,this.data[o+3]=l}},ad.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(t,s,a,n){var i=new ad(t,!1),l=i.width,o=i.height,u={data:i.getData(),width:l,height:o},d=new V3(100).encode(u,100);return e.processJPEG.call(this,d,s,a,n)}})(cr.API),fF.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(t,s,a,n){var i=new fF(t),l=i.width,o=i.height,u={data:i.getData(),width:l,height:o},d=new V3(100).encode(u,100);return e.processJPEG.call(this,d,s,a,n)}})(cr.API),cr.API.processRGBA=function(e,t,s){for(var a=e.data,n=a.length,i=new Uint8Array(n/4*3),l=new Uint8Array(n/4),o=0,u=0,d=0;d<n;d+=4){var m=a[d],f=a[d+1],g=a[d+2],p=a[d+3];i[o++]=m,i[o++]=f,i[o++]=g,l[u++]=p}var y=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:y,index:t,alias:s,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},cr.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},kp=cr.API,R1=kp.getCharWidthsArray=function(e,t){var s,a,n=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),l=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:n.metadata.Unicode.widths,u=o.fof?o.fof:1,d=t.kerning?t.kerning:n.metadata.Unicode.kerning,m=d.fof?d.fof:1,f=t.doKerning!==!1,g=0,p=e.length,y=0,v=o[0]||u,j=[];for(s=0;s<p;s++)a=e.charCodeAt(s),typeof n.metadata.widthOfString=="function"?j.push((n.metadata.widthOfGlyph(n.metadata.characterToGlyph(a))+l*(1e3/i)||0)/1e3):(g=f&&$s(d[a])==="object"&&!isNaN(parseInt(d[a][y],10))?d[a][y]/m:0,j.push((o[a]||v)/u+g)),y=a;return j},aF=kp.getStringUnitWidth=function(e,t){var s=(t=t||{}).fontSize||this.internal.getFontSize(),a=t.font||this.internal.getFont(),n=t.charSpace||this.internal.getCharSpace();return kp.processArabic&&(e=kp.processArabic(e)),typeof a.metadata.widthOfString=="function"?a.metadata.widthOfString(e,s,n)/s:R1.apply(this,arguments).reduce(function(i,l){return i+l},0)},nF=function(e,t,s,a){for(var n=[],i=0,l=e.length,o=0;i!==l&&o+t[i]<s;)o+=t[i],i++;n.push(e.slice(0,i));var u=i;for(o=0;i!==l;)o+t[i]>a&&(n.push(e.slice(u,i)),o=0,u=i),o+=t[i],i++;return u!==i&&n.push(e.slice(u,i)),n},iF=function(e,t,s){s||(s={});var a,n,i,l,o,u,d,m=[],f=[m],g=s.textIndent||0,p=0,y=0,v=e.split(" "),j=R1.apply(this,[" ",s])[0];if(u=s.lineIndent===-1?v[0].length+2:s.lineIndent||0){var N=Array(u).join(" "),k=[];v.map(function(A){(A=A.split(/\s*\n/)).length>1?k=k.concat(A.map(function(C,M){return(M&&C.length?`
`:"")+C})):k.push(A[0])}),v=k,u=aF.apply(this,[N,s])}for(i=0,l=v.length;i<l;i++){var w=0;if(a=v[i],u&&a[0]==`
`&&(a=a.substr(1),w=1),g+p+(y=(n=R1.apply(this,[a,s])).reduce(function(A,C){return A+C},0))>t||w){if(y>t){for(o=nF.apply(this,[a,n,t-(g+p),t]),m.push(o.shift()),m=[o.pop()];o.length;)f.push([o.shift()]);y=n.slice(a.length-(m[0]?m[0].length:0)).reduce(function(A,C){return A+C},0)}else m=[a];f.push(m),g=y+u,p=j}else m.push(a),g+=p+y,p=j}return d=u?function(A,C){return(C?N:"")+A.join(" ")}:function(A){return A.join(" ")},f.map(d)},kp.splitTextToSize=function(e,t,s){var a,n=(s=s||{}).fontSize||this.internal.getFontSize(),i=(function(m){if(m.widths&&m.kerning)return{widths:m.widths,kerning:m.kerning};var f=this.internal.getFont(m.fontName,m.fontStyle),g="Unicode";return f.metadata[g]?{widths:f.metadata[g].widths||{0:1},kerning:f.metadata[g].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,s);a=Array.isArray(e)?e:String(e).split(/\r?\n/);var l=1*this.internal.scaleFactor*t/n;i.textIndent=s.textIndent?1*s.textIndent*this.internal.scaleFactor/n:0,i.lineIndent=s.lineIndent;var o,u,d=[];for(o=0,u=a.length;o<u;o++)d=d.concat(iF.apply(this,[a[o],l,i]));return d},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",s="klmnopqrstuvwxyz",a={},n={},i=0;i<16;i++)a[s[i]]=t[i],n[t[i]]=s[i];var l=function(g){return"0x"+parseInt(g,10).toString(16)},o=e.__fontmetrics__.compress=function(g){var p,y,v,j,N=["{"];for(var k in g){if(p=g[k],isNaN(parseInt(k,10))?y="'"+k+"'":(k=parseInt(k,10),y=(y=l(k).slice(2)).slice(0,-1)+n[y.slice(-1)]),typeof p=="number")p<0?(v=l(p).slice(3),j="-"):(v=l(p).slice(2),j=""),v=j+v.slice(0,-1)+n[v.slice(-1)];else{if($s(p)!=="object")throw new Error("Don't know what to do with value type "+$s(p)+".");v=o(p)}N.push(y+v)}return N.push("}"),N.join("")},u=e.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,y,v,j,N={},k=1,w=N,A=[],C="",M="",R=g.length-1,D=1;D<R;D+=1)(j=g[D])=="'"?p?(v=p.join(""),p=void 0):p=[]:p?p.push(j):j=="{"?(A.push([w,v]),w={},v=void 0):j=="}"?((y=A.pop())[0][y[1]]=w,v=void 0,w=y[0]):j=="-"?k=-1:v===void 0?a.hasOwnProperty(j)?(C+=a[j],v=parseInt(C,16)*k,k=1,C=""):C+=j:a.hasOwnProperty(j)?(M+=a[j],w[v]=parseInt(M,16)*k,k=1,v=void 0,M=""):M+=j;return N},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},m={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},f={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(g){var p=g.font,y=f.Unicode[p.postScriptName];y&&(p.metadata.Unicode={},p.metadata.Unicode.widths=y.widths,p.metadata.Unicode.kerning=y.kerning);var v=m.Unicode[p.postScriptName];v&&(p.metadata.Unicode.encoding=v,p.encoding=v.codePages[0])}])})(cr.API),(function(e){var t=function(s){for(var a=s.length,n=new Uint8Array(a),i=0;i<a;i++)n[i]=s.charCodeAt(i);return n};e.API.events.push(["addFont",function(s){var a=void 0,n=s.font,i=s.instance;if(!n.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");if(typeof(a=i.existsFileInVFS(n.postScriptName)===!1?i.loadFile(n.postScriptName):i.getFileFromVFS(n.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");(function(l,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(N2(o)),l.metadata=e.API.TTFFont.open(o),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(n,a)}}])})(cr),cr.API.addSvgAsImage=function(e,t,s,a,n,i,l,o){if(isNaN(t)||isNaN(s))throw la.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(n))throw la.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=a,u.height=n;var d=u.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,u.width,u.height);var m={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(Ar.canvg?Promise.resolve(Ar.canvg):S3(()=>import("./index.es-B0u4BEeq.js"),[])).catch(function(g){return Promise.reject(new Error("Could not load canvg: "+g))}).then(function(g){return g.default?g.default:g}).then(function(g){return g.fromString(d,e,m)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(m)}).then(function(){f.addImage(u.toDataURL("image/jpeg",1),t,s,a,n,l,o)})},cr.API.putTotalPages=function(e){var t,s=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),s=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),s=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var a=1;a<=this.internal.getNumberOfPages();a++)for(var n=0;n<this.internal.pages[a].length;n++)this.internal.pages[a][n]=this.internal.pages[a][n].replace(t,s);return this},cr.API.viewerPreferences=function(e,t){var s;e=e||{},t=t||!1;var a,n,i,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(l),u=[],d=0,m=0,f=0;function g(y,v){var j,N=!1;for(j=0;j<y.length;j+=1)y[j]===v&&(N=!0);return N}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),s=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var p=o.length;for(f=0;f<p;f+=1)s[o[f]].value=s[o[f]].defaultValue,s[o[f]].explicitSet=!1}if($s(e)==="object"){for(n in e)if(i=e[n],g(o,n)&&i!==void 0){if(s[n].type==="boolean"&&typeof i=="boolean")s[n].value=i;else if(s[n].type==="name"&&g(s[n].valueSet,i))s[n].value=i;else if(s[n].type==="integer"&&Number.isInteger(i))s[n].value=i;else if(s[n].type==="array"){for(d=0;d<i.length;d+=1)if(a=!0,i[d].length===1&&typeof i[d][0]=="number")u.push(String(i[d]-1));else if(i[d].length>1){for(m=0;m<i[d].length;m+=1)typeof i[d][m]!="number"&&(a=!1);a===!0&&u.push([i[d][0]-1,i[d][1]-1].join(" "))}s[n].value="["+u.join(" ")+"]"}else s[n].value=s[n].defaultValue;s[n].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,v=[];for(y in s)s[y].explicitSet===!0&&(s[y].type==="name"?v.push("/"+y+" /"+s[y].value):v.push("/"+y+" "+s[y].value));v.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+v.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=s,this},cr.API.addMetadata=function(e,t){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:e,namespaceUri:t??"http://jspdf.default.namespaceuri/",rawXml:typeof t=="boolean"&&t},this.internal.events.subscribe("putCatalog",T8e),this.internal.events.subscribe("postPutResources",k8e)),this},(function(e){var t=e.API,s=t.pdfEscape16=function(i,l){for(var o,u=l.metadata.Unicode.widths,d=["","0","00","000","0000"],m=[""],f=0,g=i.length;f<g;++f){if(o=l.metadata.characterToGlyph(i.charCodeAt(f)),l.metadata.glyIdsUsed.push(o),l.metadata.toUnicode[o]=i.charCodeAt(f),u.indexOf(o)==-1&&(u.push(o),u.push([parseInt(l.metadata.widthOfGlyph(o),10)])),o=="0")return m.join("");o=o.toString(16),m.push(d[4-o.length],o)}return m.join("")},a=function(i){var l,o,u,d,m,f,g;for(m=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],f=0,g=(o=Object.keys(i).sort(function(p,y){return p-y})).length;f<g;f++)l=o[f],u.length>=100&&(m+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),i[l]!==void 0&&i[l]!==null&&typeof i[l].toString=="function"&&(d=("0000"+i[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),u.push("<"+l+"><"+d+">"));return u.length&&(m+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),m+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(l){var o=l.font,u=l.out,d=l.newObject,m=l.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,g=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),p="",y=0;y<g.length;y++)p+=String.fromCharCode(g[y]);var v=d();m({data:p,addLength1:!0,objectId:v}),u("endobj");var j=d();m({data:a(o.metadata.toUnicode),addLength1:!0,objectId:j}),u("endobj");var N=d();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+Lp(o.fontName)),u("/FontFile2 "+v+" 0 R"),u("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),u("/Flags "+o.metadata.flags),u("/StemV "+o.metadata.stemV),u("/ItalicAngle "+o.metadata.italicAngle),u("/Ascent "+o.metadata.ascender),u("/Descent "+o.metadata.decender),u("/CapHeight "+o.metadata.capHeight),u(">>"),u("endobj");var k=d();u("<<"),u("/Type /Font"),u("/BaseFont /"+Lp(o.fontName)),u("/FontDescriptor "+N+" 0 R"),u("/W "+e.API.PDFObject.convert(f)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+o.encoding+")"),u(">>"),u(">>"),u("endobj"),o.objectNumber=d(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+j+" 0 R"),u("/BaseFont /"+Lp(o.fontName)),u("/Encoding /"+o.encoding),u("/DescendantFonts ["+k+" 0 R]"),u(">>"),u("endobj"),o.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(l){var o=l.font,u=l.out,d=l.newObject,m=l.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,g="",p=0;p<f.length;p++)g+=String.fromCharCode(f[p]);var y=d();m({data:g,addLength1:!0,objectId:y}),u("endobj");var v=d();m({data:a(o.metadata.toUnicode),addLength1:!0,objectId:v}),u("endobj");var j=d();u("<<"),u("/Descent "+o.metadata.decender),u("/CapHeight "+o.metadata.capHeight),u("/StemV "+o.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+y+" 0 R"),u("/Flags 96"),u("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),u("/FontName /"+Lp(o.fontName)),u("/ItalicAngle "+o.metadata.italicAngle),u("/Ascent "+o.metadata.ascender),u(">>"),u("endobj"),o.objectNumber=d();for(var N=0;N<o.metadata.hmtx.widths.length;N++)o.metadata.hmtx.widths[N]=parseInt(o.metadata.hmtx.widths[N]*(1e3/o.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+v+" 0 R/BaseFont/"+Lp(o.fontName)+"/FontDescriptor "+j+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),u("endobj"),o.isAlreadyPutted=!0}})(i)}]);var n=function(i){var l,o=i.text||"",u=i.x,d=i.y,m=i.options||{},f=i.mutex||{},g=f.pdfEscape,p=f.activeFontKey,y=f.fonts,v=p,j="",N=0,k="",w=y[v].encoding;if(y[v].encoding!=="Identity-H")return{text:o,x:u,y:d,options:m,mutex:f};for(k=o,v=p,Array.isArray(o)&&(k=o[0]),N=0;N<k.length;N+=1)y[v].metadata.hasOwnProperty("cmap")&&(l=y[v].metadata.cmap.unicode.codeMap[k[N].charCodeAt(0)]),l||k[N].charCodeAt(0)<256&&y[v].metadata.hasOwnProperty("Unicode")?j+=k[N]:j+="";var A="";return parseInt(v.slice(1))<14||w==="WinAnsiEncoding"?A=g(j,v).split("").map(function(C){return C.charCodeAt(0).toString(16)}).join(""):w==="Identity-H"&&(A=s(j,y[v])),f.isHex=!0,{text:A,x:u,y:d,options:m,mutex:f}};t.events.push(["postProcessText",function(i){var l=i.text||"",o=[],u={text:l,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(l)){var d=0;for(d=0;d<l.length;d+=1)Array.isArray(l[d])&&l[d].length===3?o.push([n(Object.assign({},u,{text:l[d][0]})).text,l[d][1],l[d][2]]):o.push(n(Object.assign({},u,{text:l[d]})).text);i.text=o}else i.text=n(Object.assign({},u,{text:l})).text}])})(cr),(function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(s){return t.call(this),this.internal.vFS[s]!==void 0},e.addFileToVFS=function(s,a){return t.call(this),this.internal.vFS[s]=a,this},e.getFileFromVFS=function(s){return t.call(this),this.internal.vFS[s]!==void 0?this.internal.vFS[s]:null}})(cr.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(a){var n,i,l,o,u,d,m,f=t,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},v={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},j=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],N=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),k=!1,w=0;this.__bidiEngine__={};var A=function(I){var F=I.charCodeAt(),Y=F>>8,te=v[Y];return te!==void 0?f[256*te+(255&F)]:Y===252||Y===253?"AL":N.test(Y)?"L":Y===8?"R":"N"},C=function(I){for(var F,Y=0;Y<I.length;Y++){if((F=A(I.charAt(Y)))==="L")return!1;if(F==="R")return!0}return!1},M=function(I,F,Y,te){var ue,Z,ie,G,ee=F[te];switch(ee){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":k=!1;break;case"N":case"AN":break;case"EN":k&&(ee="AN");break;case"AL":k=!0,ee="R";break;case"WS":case"BN":ee="N";break;case"CS":te<1||te+1>=F.length||(ue=Y[te-1])!=="EN"&&ue!=="AN"||(Z=F[te+1])!=="EN"&&Z!=="AN"?ee="N":k&&(Z="AN"),ee=Z===ue?Z:"N";break;case"ES":ee=(ue=te>0?Y[te-1]:"B")==="EN"&&te+1<F.length&&F[te+1]==="EN"?"EN":"N";break;case"ET":if(te>0&&Y[te-1]==="EN"){ee="EN";break}if(k){ee="N";break}for(ie=te+1,G=F.length;ie<G&&F[ie]==="ET";)ie++;ee=ie<G&&F[ie]==="EN"?"EN":"N";break;case"NSM":if(l&&!o){for(G=F.length,ie=te+1;ie<G&&F[ie]==="NSM";)ie++;if(ie<G){var Ne=I[te],X=Ne>=1425&&Ne<=2303||Ne===64286;if(ue=F[ie],X&&(ue==="R"||ue==="AL")){ee="R";break}}}ee=te<1||(ue=F[te-1])==="B"?"N":Y[te-1];break;case"B":k=!1,n=!0,ee=w;break;case"S":i=!0,ee="N"}return ee},R=function(I,F,Y){var te=I.split("");return Y&&D(te,Y,{hiLevel:w}),te.reverse(),F&&F.reverse(),te.join("")},D=function(I,F,Y){var te,ue,Z,ie,G,ee=-1,Ne=I.length,X=0,P=[],H=w?p:g,q=[];for(k=!1,n=!1,i=!1,ue=0;ue<Ne;ue++)q[ue]=A(I[ue]);for(Z=0;Z<Ne;Z++){if(G=X,P[Z]=M(I,q,P,Z),te=240&(X=H[G][y[P[Z]]]),X&=15,F[Z]=ie=H[X][5],te>0)if(te===16){for(ue=ee;ue<Z;ue++)F[ue]=1;ee=-1}else ee=-1;if(H[X][6])ee===-1&&(ee=Z);else if(ee>-1){for(ue=ee;ue<Z;ue++)F[ue]=ie;ee=-1}q[Z]==="B"&&(F[Z]=0),Y.hiLevel|=ie}i&&(function(W,le,Se){for(var Pe=0;Pe<Se;Pe++)if(W[Pe]==="S"){le[Pe]=w;for(var re=Pe-1;re>=0&&W[re]==="WS";re--)le[re]=w}})(q,F,Ne)},B=function(I,F,Y,te,ue){if(!(ue.hiLevel<I)){if(I===1&&w===1&&!n)return F.reverse(),void(Y&&Y.reverse());for(var Z,ie,G,ee,Ne=F.length,X=0;X<Ne;){if(te[X]>=I){for(G=X+1;G<Ne&&te[G]>=I;)G++;for(ee=X,ie=G-1;ee<ie;ee++,ie--)Z=F[ee],F[ee]=F[ie],F[ie]=Z,Y&&(Z=Y[ee],Y[ee]=Y[ie],Y[ie]=Z);X=G}X++}}},z=function(I,F,Y){var te=I.split(""),ue={hiLevel:w};return Y||(Y=[]),D(te,Y,ue),(function(Z,ie,G){if(G.hiLevel!==0&&m)for(var ee,Ne=0;Ne<Z.length;Ne++)ie[Ne]===1&&(ee=j.indexOf(Z[Ne]))>=0&&(Z[Ne]=j[ee+1])})(te,Y,ue),B(2,te,F,Y,ue),B(1,te,F,Y,ue),te.join("")};return this.__bidiEngine__.doBidiReorder=function(I,F,Y){if((function(ue,Z){if(Z)for(var ie=0;ie<ue.length;ie++)Z[ie]=ie;o===void 0&&(o=C(ue)),d===void 0&&(d=C(ue))})(I,F),l||!u||d)if(l&&u&&o^d)w=o?1:0,I=R(I,F,Y);else if(!l&&u&&d)w=o?1:0,I=z(I,F,Y),I=R(I,F);else if(!l||o||u||d){if(l&&!u&&o^d)I=R(I,F),o?(w=0,I=z(I,F,Y)):(w=1,I=z(I,F,Y),I=R(I,F));else if(l&&o&&!u&&d)w=1,I=z(I,F,Y),I=R(I,F);else if(!l&&!u&&o^d){var te=m;o?(w=1,I=z(I,F,Y),w=0,m=!1,I=z(I,F,Y),m=te):(w=0,I=z(I,F,Y),I=R(I,F),w=1,m=!1,I=z(I,F,Y),m=te,I=R(I,F))}}else w=0,I=z(I,F,Y);else w=o?1:0,I=z(I,F,Y);return I},this.__bidiEngine__.setOptions=function(I){I&&(l=I.isInputVisual,u=I.isOutputVisual,o=I.isInputRtl,d=I.isOutputRtl,m=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(a),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],s=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(a){var n=a.text;a.x,a.y;var i=a.options||{};a.mutex,i.lang;var l=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,s.setOptions(i),Object.prototype.toString.call(n)==="[object Array]"){var o=0;for(l=[],o=0;o<n.length;o+=1)Object.prototype.toString.call(n[o])==="[object Array]"?l.push([s.doBidiReorder(n[o][0]),n[o][1],n[o][2]]):l.push([s.doBidiReorder(n[o])]);a.text=l}else a.text=s.doBidiReorder(n);s.setOptions({isInputVisual:!0})}])})(cr),cr.API.TTFFont=(function(){function e(t){var s;if(this.rawData=t,s=this.contents=new Hm(t),this.contents.pos=4,s.readString(4)==="ttcf")throw new Error("TTCF not supported.");s.pos=0,this.parse(),this.subset=new q8e(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new E8e(this.contents),this.head=new P8e(this),this.name=new I8e(this),this.cmap=new pG(this),this.toUnicode={},this.hhea=new D8e(this),this.maxp=new F8e(this),this.hmtx=new B8e(this),this.post=new M8e(this),this.os2=new R8e(this),this.loca=new H8e(this),this.glyf=new U8e(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,s,a,n,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,o,u,d;for(d=[],l=0,o=(u=this.bbox).length;l<o;l++)t=u[l],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(a=255&(n=this.post.italic_angle),32768&(s=n>>16)&&(s=-(1+(65535^s))),this.italicAngle=+(s+"."+a)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var s;return((s=this.cmap.unicode)!=null?s.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var s;return s=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*s},e.prototype.widthOfString=function(t,s,a){var n,i,l,o;for(l=0,i=0,o=(t=""+t).length;0<=o?i<o:i>o;i=0<=o?++i:--i)n=t.charCodeAt(i),l+=this.widthOfGlyph(this.characterToGlyph(n))+a*(1e3/s)||0;return l*(s/1e3)},e.prototype.lineHeight=function(t,s){var a;return s==null&&(s=!1),a=s?this.lineGap:0,(this.ascender+a-this.decender)/1e3*t},e})();var Sd,Hm=(function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var s,a;for(a=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)a[s]=String.fromCharCode(this.readByte());return a.join("")},e.prototype.writeString=function(t){var s,a,n;for(n=[],s=0,a=t.length;0<=a?s<a:s>a;s=0<=a?++s:--s)n.push(this.writeByte(t.charCodeAt(s)));return n},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,s,a,n,i,l,o,u;return t=this.readByte(),s=this.readByte(),a=this.readByte(),n=this.readByte(),i=this.readByte(),l=this.readByte(),o=this.readByte(),u=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^s)+1099511627776*(255^a)+4294967296*(255^n)+16777216*(255^i)+65536*(255^l)+256*(255^o)+(255^u)+1):72057594037927940*t+281474976710656*s+1099511627776*a+4294967296*n+16777216*i+65536*l+256*o+u},e.prototype.writeLongLong=function(t){var s,a;return s=Math.floor(t/4294967296),a=4294967295&t,this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s),this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var s,a;for(s=[],a=0;0<=t?a<t:a>t;a=0<=t?++a:--a)s.push(this.readByte());return s},e.prototype.write=function(t){var s,a,n,i;for(i=[],a=0,n=t.length;a<n;a++)s=t[a],i.push(this.writeByte(s));return i},e})(),E8e=(function(){var e;function t(s){var a,n,i;for(this.scalarType=s.readInt(),this.tableCount=s.readShort(),this.searchRange=s.readShort(),this.entrySelector=s.readShort(),this.rangeShift=s.readShort(),this.tables={},n=0,i=this.tableCount;0<=i?n<i:n>i;n=0<=i?++n:--n)a={tag:s.readString(4),checksum:s.readInt(),offset:s.readInt(),length:s.readInt()},this.tables[a.tag]=a}return t.prototype.encode=function(s){var a,n,i,l,o,u,d,m,f,g,p,y,v;for(v in p=Object.keys(s).length,u=Math.log(2),f=16*Math.floor(Math.log(p)/u),l=Math.floor(f/u),m=16*p-f,(n=new Hm).writeInt(this.scalarType),n.writeShort(p),n.writeShort(f),n.writeShort(l),n.writeShort(m),i=16*p,d=n.pos+i,o=null,y=[],s)for(g=s[v],n.writeString(v),n.writeInt(e(g)),n.writeInt(d),n.writeInt(g.length),y=y.concat(g),v==="head"&&(o=d),d+=g.length;d%4;)y.push(0),d++;return n.write(y),a=2981146554-e(n.data),n.pos=o+8,n.writeUInt32(a),n.data},e=function(s){var a,n,i,l;for(s=xG.call(s);s.length%4;)s.push(0);for(i=new Hm(s),n=0,a=0,l=s.length;a<l;a=a+=4)n+=i.readUInt32();return 4294967295&n},t})(),O8e={}.hasOwnProperty,xu=function(e,t){for(var s in t)O8e.call(t,s)&&(e[s]=t[s]);function a(){this.constructor=e}return a.prototype=t.prototype,e.prototype=new a,e.__super__=t.prototype,e};Sd=(function(){function e(t){var s;this.file=t,s=this.file.directory.tables[this.tag],this.exists=!!s,s&&(this.offset=s.offset,this.length=s.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var P8e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return xu(e,Sd),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var s;return(s=new Hm).writeInt(this.version),s.writeInt(this.revision),s.writeInt(this.checkSumAdjustment),s.writeInt(this.magicNumber),s.writeShort(this.flags),s.writeShort(this.unitsPerEm),s.writeLongLong(this.created),s.writeLongLong(this.modified),s.writeShort(this.xMin),s.writeShort(this.yMin),s.writeShort(this.xMax),s.writeShort(this.yMax),s.writeShort(this.macStyle),s.writeShort(this.lowestRecPPEM),s.writeShort(this.fontDirectionHint),s.writeShort(t),s.writeShort(this.glyphDataFormat),s.data},e})(),pF=(function(){function e(t,s){var a,n,i,l,o,u,d,m,f,g,p,y,v,j,N,k,w;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=s+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=t.readByte();break;case 4:for(p=t.readUInt16(),g=p/2,t.pos+=6,i=(function(){var A,C;for(C=[],u=A=0;0<=g?A<g:A>g;u=0<=g?++A:--A)C.push(t.readUInt16());return C})(),t.pos+=2,v=(function(){var A,C;for(C=[],u=A=0;0<=g?A<g:A>g;u=0<=g?++A:--A)C.push(t.readUInt16());return C})(),d=(function(){var A,C;for(C=[],u=A=0;0<=g?A<g:A>g;u=0<=g?++A:--A)C.push(t.readUInt16());return C})(),m=(function(){var A,C;for(C=[],u=A=0;0<=g?A<g:A>g;u=0<=g?++A:--A)C.push(t.readUInt16());return C})(),n=(this.length-t.pos+this.offset)/2,o=(function(){var A,C;for(C=[],u=A=0;0<=n?A<n:A>n;u=0<=n?++A:--A)C.push(t.readUInt16());return C})(),u=N=0,w=i.length;N<w;u=++N)for(j=i[u],a=k=y=v[u];y<=j?k<=j:k>=j;a=y<=j?++k:--k)m[u]===0?l=a+d[u]:(l=o[m[u]/2+(a-y)-(g-u)]||0)!==0&&(l+=d[u]),this.codeMap[a]=65535&l}t.pos=f}return e.encode=function(t,s){var a,n,i,l,o,u,d,m,f,g,p,y,v,j,N,k,w,A,C,M,R,D,B,z,I,F,Y,te,ue,Z,ie,G,ee,Ne,X,P,H,q,W,le,Se,Pe,re,ye,ze,Ce;switch(te=new Hm,l=Object.keys(t).sort(function(it,rt){return it-rt}),s){case"macroman":for(v=0,j=(function(){var it=[];for(y=0;y<256;++y)it.push(0);return it})(),k={0:0},i={},ue=0,ee=l.length;ue<ee;ue++)k[re=t[n=l[ue]]]==null&&(k[re]=++v),i[n]={old:t[n],new:k[t[n]]},j[n]=k[t[n]];return te.writeUInt16(1),te.writeUInt16(0),te.writeUInt32(12),te.writeUInt16(0),te.writeUInt16(262),te.writeUInt16(0),te.write(j),{charMap:i,subtable:te.data,maxGlyphID:v+1};case"unicode":for(F=[],f=[],w=0,k={},a={},N=d=null,Z=0,Ne=l.length;Z<Ne;Z++)k[C=t[n=l[Z]]]==null&&(k[C]=++w),a[n]={old:C,new:k[C]},o=k[C]-n,N!=null&&o===d||(N&&f.push(N),F.push(n),d=o),N=n;for(N&&f.push(N),f.push(65535),F.push(65535),z=2*(B=F.length),D=2*Math.pow(Math.log(B)/Math.LN2,2),g=Math.log(D/2)/Math.LN2,R=2*B-D,u=[],M=[],p=[],y=ie=0,X=F.length;ie<X;y=++ie){if(I=F[y],m=f[y],I===65535){u.push(0),M.push(0);break}if(I-(Y=a[I].new)>=32768)for(u.push(0),M.push(2*(p.length+B-y)),n=G=I;I<=m?G<=m:G>=m;n=I<=m?++G:--G)p.push(a[n].new);else u.push(Y-I),M.push(0)}for(te.writeUInt16(3),te.writeUInt16(1),te.writeUInt32(12),te.writeUInt16(4),te.writeUInt16(16+8*B+2*p.length),te.writeUInt16(0),te.writeUInt16(z),te.writeUInt16(D),te.writeUInt16(g),te.writeUInt16(R),Se=0,P=f.length;Se<P;Se++)n=f[Se],te.writeUInt16(n);for(te.writeUInt16(0),Pe=0,H=F.length;Pe<H;Pe++)n=F[Pe],te.writeUInt16(n);for(ye=0,q=u.length;ye<q;ye++)o=u[ye],te.writeUInt16(o);for(ze=0,W=M.length;ze<W;ze++)A=M[ze],te.writeUInt16(A);for(Ce=0,le=p.length;Ce<le;Ce++)v=p[Ce],te.writeUInt16(v);return{charMap:a,subtable:te.data,maxGlyphID:w+1}}},e})(),pG=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return xu(e,Sd),e.prototype.tag="cmap",e.prototype.parse=function(t){var s,a,n;for(t.pos=this.offset,this.version=t.readUInt16(),n=t.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)s=new pF(t,this.offset),this.tables.push(s),s.isUnicode&&this.unicode==null&&(this.unicode=s);return!0},e.encode=function(t,s){var a,n;return s==null&&(s="macroman"),a=pF.encode(t,s),(n=new Hm).writeUInt16(0),n.writeUInt16(1),a.table=n.data.concat(a.subtable),a},e})(),D8e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return xu(e,Sd),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e})(),R8e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return xu(e,Sd),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var s,a;for(a=[],s=0;s<10;++s)a.push(t.readByte());return a})(),this.charRange=(function(){var s,a;for(a=[],s=0;s<4;++s)a.push(t.readInt());return a})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var s,a;for(a=[],s=0;s<2;s=++s)a.push(t.readInt());return a})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e})(),M8e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return xu(e,Sd),e.prototype.tag="post",e.prototype.parse=function(t){var s,a,n;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(a=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],n=[];t.pos<this.offset+this.length;)s=t.readByte(),n.push(this.names.push(t.readString(s)));return n;case 151552:return a=t.readUInt16(),this.offsets=t.read(a);case 262144:return this.map=(function(){var l,o,u;for(u=[],i=l=0,o=this.file.maxp.numGlyphs;0<=o?l<o:l>o;i=0<=o?++l:--l)u.push(t.readUInt32());return u}).call(this)}},e})(),L8e=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},I8e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return xu(e,Sd),e.prototype.tag="name",e.prototype.parse=function(t){var s,a,n,i,l,o,u,d,m,f,g;for(t.pos=this.offset,t.readShort(),s=t.readShort(),o=t.readShort(),a=[],i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)a.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+o+t.readShort()});for(u={},i=m=0,f=a.length;m<f;i=++m)n=a[i],t.pos=n.offset,d=t.readString(n.length),l=new L8e(d,n),u[g=n.nameID]==null&&(u[g]=[]),u[n.nameID].push(l);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},e})(),F8e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return xu(e,Sd),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e})(),B8e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return xu(e,Sd),e.prototype.tag="hmtx",e.prototype.parse=function(t){var s,a,n,i,l,o,u;for(t.pos=this.offset,this.metrics=[],s=0,o=this.file.hhea.numberOfMetrics;0<=o?s<o:s>o;s=0<=o?++s:--s)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(n=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,m;for(m=[],s=d=0;0<=n?d<n:d>n;s=0<=n?++d:--d)m.push(t.readInt16());return m})(),this.widths=(function(){var d,m,f,g;for(g=[],d=0,m=(f=this.metrics).length;d<m;d++)i=f[d],g.push(i.advance);return g}).call(this),a=this.widths[this.widths.length-1],u=[],s=l=0;0<=n?l<n:l>n;s=0<=n?++l:--l)u.push(this.widths.push(a));return u},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e})(),xG=[].slice,U8e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return xu(e,Sd),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var s,a,n,i,l,o,u,d,m,f;return t in this.cache?this.cache[t]:(i=this.file.loca,s=this.file.contents,a=i.indexOf(t),(n=i.lengthOf(t))===0?this.cache[t]=null:(s.pos=this.offset+a,l=(o=new Hm(s.read(n))).readShort(),d=o.readShort(),f=o.readShort(),u=o.readShort(),m=o.readShort(),this.cache[t]=l===-1?new $8e(o,d,f,u,m):new z8e(o,l,d,f,u,m),this.cache[t]))},e.prototype.encode=function(t,s,a){var n,i,l,o,u;for(l=[],i=[],o=0,u=s.length;o<u;o++)n=t[s[o]],i.push(l.length),n&&(l=l.concat(n.encode(a)));return i.push(l.length),{table:l,offsets:i}},e})(),z8e=(function(){function e(t,s,a,n,i,l){this.raw=t,this.numberOfContours=s,this.xMin=a,this.yMin=n,this.xMax=i,this.yMax=l,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),$8e=(function(){function e(t,s,a,n,i){var l,o;for(this.raw=t,this.xMin=s,this.yMin=a,this.xMax=n,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;o=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&o;)l.pos+=1&o?4:2,128&o?l.pos+=8:64&o?l.pos+=4:8&o&&(l.pos+=2)}return e.prototype.encode=function(){var t,s,a;for(s=new Hm(xG.call(this.raw.data)),t=0,a=this.glyphIDs.length;t<a;++t)s.pos=this.glyphOffsets[t];return s.data},e})(),H8e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return xu(e,Sd),e.prototype.tag="loca",e.prototype.parse=function(t){var s,a;return t.pos=this.offset,s=this.file.head.indexToLocFormat,this.offsets=s===0?(function(){var n,i;for(i=[],a=0,n=this.length;a<n;a+=2)i.push(2*t.readUInt16());return i}).call(this):(function(){var n,i;for(i=[],a=0,n=this.length;a<n;a+=4)i.push(t.readUInt32());return i}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,s){for(var a=new Uint32Array(this.offsets.length),n=0,i=0,l=0;l<a.length;++l)if(a[l]=n,i<s.length&&s[i]==l){++i,a[l]=n;var o=this.offsets[l],u=this.offsets[l+1]-o;u>0&&(n+=u)}for(var d=new Array(4*a.length),m=0;m<a.length;++m)d[4*m+3]=255&a[m],d[4*m+2]=(65280&a[m])>>8,d[4*m+1]=(16711680&a[m])>>16,d[4*m]=(4278190080&a[m])>>24;return d},e})(),q8e=(function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,s,a,n,i;for(s in n=this.font.cmap.tables[0].codeMap,t={},i=this.subset)a=i[s],t[s]=n[a];return t},e.prototype.glyphsFor=function(t){var s,a,n,i,l,o,u;for(n={},l=0,o=t.length;l<o;l++)n[i=t[l]]=this.font.glyf.glyphFor(i);for(i in s=[],n)(a=n[i])!=null&&a.compound&&s.push.apply(s,a.glyphIDs);if(s.length>0)for(i in u=this.glyphsFor(s))a=u[i],n[i]=a;return n},e.prototype.encode=function(t,s){var a,n,i,l,o,u,d,m,f,g,p,y,v,j,N;for(n in a=pG.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(t),p={0:0},N=a.charMap)p[(u=N[n]).old]=u.new;for(y in g=a.maxGlyphID,l)y in p||(p[y]=g++);return m=(function(k){var w,A;for(w in A={},k)A[k[w]]=w;return A})(p),f=Object.keys(m).sort(function(k,w){return k-w}),v=(function(){var k,w,A;for(A=[],k=0,w=f.length;k<w;k++)o=f[k],A.push(m[o]);return A})(),i=this.font.glyf.encode(l,v,p),d=this.font.loca.encode(i.offsets,v),j={cmap:this.font.cmap.raw(),glyf:i.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(s)},this.font.os2.exists&&(j["OS/2"]=this.font.os2.raw()),this.font.directory.encode(j)},e})();cr.API.PDFObject=(function(){var e;function t(){}return e=function(s,a){return(Array(a+1).join("0")+s).slice(-a)},t.convert=function(s){var a,n,i,l;if(Array.isArray(s))return"["+(function(){var o,u,d;for(d=[],o=0,u=s.length;o<u;o++)a=s[o],d.push(t.convert(a));return d})().join(" ")+"]";if(typeof s=="string")return"/"+s;if(s?.isString)return"("+s+")";if(s instanceof Date)return"(D:"+e(s.getUTCFullYear(),4)+e(s.getUTCMonth(),2)+e(s.getUTCDate(),2)+e(s.getUTCHours(),2)+e(s.getUTCMinutes(),2)+e(s.getUTCSeconds(),2)+"Z)";if({}.toString.call(s)==="[object Object]"){for(n in i=["<<"],s)l=s[n],i.push("/"+n+" "+t.convert(l));return i.push(">>"),i.join(`
`)}return""+s},t})();function gG(e,t,s,a,n){a=a||{};var i=1.15,l=n.internal.scaleFactor,o=n.internal.getFontSize()/l,u=n.getLineHeightFactor?n.getLineHeightFactor():i,d=o*u,m=/\r\n|\r|\n/g,f="",g=1;if((a.valign==="middle"||a.valign==="bottom"||a.halign==="center"||a.halign==="right")&&(f=typeof e=="string"?e.split(m):e,g=f.length||1),s+=o*(2-i),a.valign==="middle"?s-=g/2*d:a.valign==="bottom"&&(s-=g*d),a.halign==="center"||a.halign==="right"){var p=o;if(a.halign==="center"&&(p*=.5),f&&g>=1){for(var y=0;y<f.length;y++)n.text(f[y],t-n.getStringUnitWidth(f[y])*p,s),s+=d;return n}t-=n.getStringUnitWidth(e)*p}return a.halign==="justify"?n.text(e,t,s,{maxWidth:a.maxWidth||100,align:"justify"}):n.text(e,t,s),n}var xF={},cx=(function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,s){s===void 0&&(s=null),s?s.__autoTableDocumentDefaults=t:xF=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,s){var a,n,i;s===void 0&&(s=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var l=this.jsPDFDocument.internal.getFont(),o=l.fontStyle,u=l.fontName;if(t.font&&(u=t.font),t.fontStyle){o=t.fontStyle;var d=this.getFontList()[u];d&&d.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(d[0]),o=d[0])}if(this.jsPDFDocument.setFont(u,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!s){var m=e.unifyColor(t.fillColor);m&&(a=this.jsPDFDocument).setFillColor.apply(a,m),m=e.unifyColor(t.textColor),m&&(n=this.jsPDFDocument).setTextColor.apply(n,m),m=e.unifyColor(t.lineColor),m&&(i=this.jsPDFDocument).setDrawColor.apply(i,m),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,s,a){return this.jsPDFDocument.splitTextToSize(t,s,a)},e.prototype.rect=function(t,s,a,n,i){return this.jsPDFDocument.rect(t,s,a,n,i)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return xF||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e})(),qA=function(e,t){return qA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(s[n]=a[n])},qA(e,t)};function vG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");qA(e,t);function s(){this.constructor=e}e.prototype=t===null?Object.create(t):(s.prototype=t.prototype,new s)}var yG=(function(e){vG(t,e);function t(s){var a=e.call(this)||this;return a._element=s,a}return t})(Array);function V8e(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function W8e(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function nN(e,t,s){s.applyStyles(t,!0);var a=Array.isArray(e)?e:[e],n=a.map(function(i){return s.getTextWidth(i)}).reduce(function(i,l){return Math.max(i,l)},0);return n}function bG(e,t,s,a){var n=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:n,lineColor:i});var l=jG(n,!1);l&&e.rect(s.x,s.y,t.getWidth(e.pageSize().width),a.y-s.y,l)}function jG(e,t){var s=e>0,a=t||t===0;return s&&a?"DF":s?"S":a?"F":null}function Bw(e,t){var s,a,n,i;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(s=e.left)!==null&&s!==void 0?s:t,top:(a=e.top)!==null&&a!==void 0?a:t,right:(n=e.right)!==null&&n!==void 0?n:t,bottom:(i=e.bottom)!==null&&i!==void 0?i:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function NG(e,t){var s=Bw(t.settings.margin,0);return e.pageSize().width-(s.left+s.right)}function G8e(e,t,s,a,n){var i={},l=1.3333333333333333,o=W3(t,function(w){return n.getComputedStyle(w).backgroundColor});o!=null&&(i.fillColor=o);var u=W3(t,function(w){return n.getComputedStyle(w).color});u!=null&&(i.textColor=u);var d=Y8e(a,s);d&&(i.cellPadding=d);var m="borderTopColor",f=l*s,g=a.borderTopWidth;if(a.borderBottomWidth===g&&a.borderRightWidth===g&&a.borderLeftWidth===g){var p=(parseFloat(g)||0)/f;p&&(i.lineWidth=p)}else i.lineWidth={top:(parseFloat(a.borderTopWidth)||0)/f,right:(parseFloat(a.borderRightWidth)||0)/f,bottom:(parseFloat(a.borderBottomWidth)||0)/f,left:(parseFloat(a.borderLeftWidth)||0)/f},i.lineWidth.top||(i.lineWidth.right?m="borderRightColor":i.lineWidth.bottom?m="borderBottomColor":i.lineWidth.left&&(m="borderLeftColor"));var y=W3(t,function(w){return n.getComputedStyle(w)[m]});y!=null&&(i.lineColor=y);var v=["left","right","center","justify"];v.indexOf(a.textAlign)!==-1&&(i.halign=a.textAlign),v=["middle","bottom","top"],v.indexOf(a.verticalAlign)!==-1&&(i.valign=a.verticalAlign);var j=parseInt(a.fontSize||"");isNaN(j)||(i.fontSize=j/l);var N=K8e(a);N&&(i.fontStyle=N);var k=(a.fontFamily||"").toLowerCase();return e.indexOf(k)!==-1&&(i.font=k),i}function K8e(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function W3(e,t){var s=wG(e,t);if(!s)return null;var a=s.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!a||!Array.isArray(a))return null;var n=[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])],i=parseInt(a[4]);return i===0||isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:n}function wG(e,t){var s=t(e);return s==="rgba(0, 0, 0, 0)"||s==="transparent"||s==="initial"||s==="inherit"?e.parentElement==null?null:wG(e.parentElement,t):s}function Y8e(e,t){var s=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],a=96/(72/t),n=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=s.map(function(o){return parseInt(o||"0")/a}),l=Bw(i,0);return n>l.top&&(l.top=n),n>l.bottom&&(l.bottom=n),l}function SG(e,t,s,a,n){var i,l;a===void 0&&(a=!1),n===void 0&&(n=!1);var o;typeof t=="string"?o=s.document.querySelector(t):o=t;var u=Object.keys(e.getFontList()),d=e.scaleFactor(),m=[],f=[],g=[];if(!o)return console.error("Html table could not be found with input: ",t),{head:m,body:f,foot:g};for(var p=0;p<o.rows.length;p++){var y=o.rows[p],v=(l=(i=y?.parentElement)===null||i===void 0?void 0:i.tagName)===null||l===void 0?void 0:l.toLowerCase(),j=Z8e(u,d,s,y,a,n);j&&(v==="thead"?m.push(j):v==="tfoot"?g.push(j):f.push(j))}return{head:m,body:f,foot:g}}function Z8e(e,t,s,a,n,i){for(var l=new yG(a),o=0;o<a.cells.length;o++){var u=a.cells[o],d=s.getComputedStyle(u);if(n||d.display!=="none"){var m=void 0;i&&(m=G8e(e,u,t,d,s)),l.push({rowSpan:u.rowSpan,colSpan:u.colSpan,styles:m,_element:u,content:X8e(u)})}}var f=s.getComputedStyle(a);if(l.length>0&&(n||f.display!=="none"))return l}function X8e(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(s){return s.trim()}).join(`
`),t.innerText||t.textContent||""}function J8e(e,t,s){for(var a=0,n=[e,t,s];a<n.length;a++){var i=n[a];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function eh(e,t,s,a,n){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),l=1;l<arguments.length;l++){var o=arguments[l];if(o!=null)for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(i[u]=o[u])}return i}function _G(e,t){var s=new cx(e),a=s.getDocumentOptions(),n=s.getGlobalOptions();J8e(n,a,t);var i=eh({},n,a,t),l;typeof window<"u"&&(l=window);var o=Q8e(n,a,t),u=eDe(n,a,t),d=tDe(s,i),m=sDe(s,i,l);return{id:t.tableId,content:m,hooks:u,styles:o,settings:d}}function Q8e(e,t,s){for(var a={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},n=function(u){if(u==="columnStyles"){var d=e[u],m=t[u],f=s[u];a.columnStyles=eh({},d,m,f)}else{var g=[e,t,s],p=g.map(function(y){return y[u]||{}});a[u]=eh({},p[0],p[1],p[2])}},i=0,l=Object.keys(a);i<l.length;i++){var o=l[i];n(o)}return a}function eDe(e,t,s){for(var a=[e,t,s],n={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,l=a;i<l.length;i++){var o=l[i];o.didParseCell&&n.didParseCell.push(o.didParseCell),o.willDrawCell&&n.willDrawCell.push(o.willDrawCell),o.didDrawCell&&n.didDrawCell.push(o.didDrawCell),o.willDrawPage&&n.willDrawPage.push(o.willDrawPage),o.didDrawPage&&n.didDrawPage.push(o.didDrawPage)}return n}function tDe(e,t){var s,a,n,i,l,o,u,d,m,f,g,p,y=Bw(t.margin,40/e.scaleFactor()),v=(s=rDe(e,t.startY))!==null&&s!==void 0?s:y.top,j;t.showFoot===!0?j="everyPage":t.showFoot===!1?j="never":j=(a=t.showFoot)!==null&&a!==void 0?a:"everyPage";var N;t.showHead===!0?N="everyPage":t.showHead===!1?N="never":N=(n=t.showHead)!==null&&n!==void 0?n:"everyPage";var k=(i=t.useCss)!==null&&i!==void 0?i:!1,w=t.theme||(k?"plain":"striped"),A=!!t.horizontalPageBreak,C=(l=t.horizontalPageBreakRepeat)!==null&&l!==void 0?l:null;return{includeHiddenHtml:(o=t.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:k,theme:w,startY:v,margin:y,pageBreak:(u=t.pageBreak)!==null&&u!==void 0?u:"auto",rowPageBreak:(d=t.rowPageBreak)!==null&&d!==void 0?d:"auto",tableWidth:(m=t.tableWidth)!==null&&m!==void 0?m:"auto",showHead:N,showFoot:j,tableLineWidth:(f=t.tableLineWidth)!==null&&f!==void 0?f:0,tableLineColor:(g=t.tableLineColor)!==null&&g!==void 0?g:200,horizontalPageBreak:A,horizontalPageBreakRepeat:C,horizontalPageBreakBehaviour:(p=t.horizontalPageBreakBehaviour)!==null&&p!==void 0?p:"afterAllRows"}}function rDe(e,t){var s=e.getLastAutoTable(),a=e.scaleFactor(),n=e.pageNumber(),i=!1;if(s&&s.startPageNumber){var l=s.startPageNumber+s.pageNumber-1;i=l===n}return typeof t=="number"?t:(t==null||t===!1)&&i&&s?.finalY!=null?s.finalY+20/a:null}function sDe(e,t,s){var a=t.head||[],n=t.body||[],i=t.foot||[];if(t.html){var l=t.includeHiddenHtml;if(s){var o=SG(e,t.html,s,l,t.useCss)||{};a=o.head||a,n=o.body||a,i=o.foot||a}else console.error("Cannot parse html in non browser environment")}var u=t.columns||aDe(a,n,i);return{columns:u,head:a,body:n,foot:i}}function aDe(e,t,s){var a=e[0]||t[0]||s[0]||[],n=[];return Object.keys(a).filter(function(i){return i!=="_element"}).forEach(function(i){var l=1,o;Array.isArray(a)?o=a[parseInt(i)]:o=a[i],typeof o=="object"&&!Array.isArray(o)&&(l=o?.colSpan||1);for(var u=0;u<l;u++){var d=void 0;Array.isArray(a)?d=n.length:d=i+(u>0?"_".concat(u):"");var m={dataKey:d};n.push(m)}}),n}var VA=(function(){function e(t,s,a){this.table=s,this.pageNumber=s.pageNumber,this.settings=s.settings,this.cursor=a,this.doc=t.getDocument()}return e})(),nDe=(function(e){vG(t,e);function t(s,a,n,i,l,o){var u=e.call(this,s,a,o)||this;return u.cell=n,u.row=i,u.column=l,u.section=i.section,u}return t})(VA),iDe=(function(){function e(t,s){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=s.columns,this.head=s.head,this.body=s.body,this.foot=s.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(s,a){return s+a.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(s,a){return s+a.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,s,a,n,i,l){for(var o=0,u=s;o<u.length;o++){var d=u[o],m=new nDe(t,this,a,n,i,l),f=d(m)===!1;if(a.text=Array.isArray(a.text)?a.text:[a.text],f)return!1}return!0},e.prototype.callEndPageHooks=function(t,s){t.applyStyles(t.userStyles);for(var a=0,n=this.hooks.didDrawPage;a<n.length;a++){var i=n[a];i(new VA(t,this,s))}},e.prototype.callWillDrawPageHooks=function(t,s){for(var a=0,n=this.hooks.willDrawPage;a<n.length;a++){var i=n[a];i(new VA(t,this,s))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var s=this.columns.reduce(function(n,i){return n+i.wrappedWidth},0);return s}else{var a=this.settings.margin;return t-a.left-a.right}},e})(),AG=(function(){function e(t,s,a,n,i){i===void 0&&(i=!1),this.height=0,this.raw=t,t instanceof yG&&(this.raw=t._element,this.element=t._element),this.index=s,this.section=a,this.cells=n,this.spansMultiplePages=i}return e.prototype.getMaxCellHeight=function(t){var s=this;return t.reduce(function(a,n){var i;return Math.max(a,((i=s.cells[n.index])===null||i===void 0?void 0:i.height)||0)},0)},e.prototype.hasRowSpan=function(t){var s=this;return t.filter(function(a){var n=s.cells[a.index];return n?n.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,s){return this.getMaxCellHeight(s)<=t},e.prototype.getMinimumRowHeight=function(t,s){var a=this;return t.reduce(function(n,i){var l=a.cells[i.index];if(!l)return 0;var o=s.getLineHeight(l.styles.fontSize),u=l.padding("vertical"),d=u+o;return d>n?d:n},0)},e})(),CG=(function(){function e(t,s,a){var n;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=s,this.section=a,this.raw=t;var i=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,i=(n=t.content)!==null&&n!==void 0?n:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var l=i!=null?""+i:"",o=/\r\n|\r|\n/g;this.text=l.split(o)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var s=this.height-this.padding("vertical");t=this.y+s/2+this.padding("top")}var a;if(this.styles.halign==="right")a=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var n=this.width-this.padding("horizontal");a=this.x+n/2+this.padding("left")}else a=this.x+this.padding("left");return{x:a,y:t}},e.prototype.getContentHeight=function(t,s){s===void 0&&(s=1.15);var a=Array.isArray(this.text)?this.text.length:1,n=this.styles.fontSize/t*s,i=a*n+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},e.prototype.padding=function(t){var s=Bw(this.styles.cellPadding,0);return t==="vertical"?s.top+s.bottom:t==="horizontal"?s.left+s.right:s[t]},e})(),lDe=(function(){function e(t,s,a){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=s,this.index=a}return e.prototype.getMaxCustomCellWidth=function(t){for(var s=0,a=0,n=t.allRows();a<n.length;a++){var i=n[a],l=i.cells[this.index];l&&typeof l.styles.cellWidth=="number"&&(s=Math.max(s,l.styles.cellWidth))}return s},e})();function oDe(e,t){cDe(e,t);var s=[],a=0;t.columns.forEach(function(i){var l=i.getMaxCustomCellWidth(t);l?i.width=l:(i.width=i.wrappedWidth,s.push(i)),a+=i.width});var n=t.getWidth(e.pageSize().width)-a;n&&(n=WA(s,n,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),n&&(n=WA(s,n,function(i){return i.minWidth})),n=Math.abs(n),!t.settings.horizontalPageBreak&&n>.1/e.scaleFactor()&&(n=n<1?n:Math.round(n),console.log("Of the table content, ".concat(n," units width could not fit page"))),uDe(t),hDe(t,e),dDe(t)}function cDe(e,t){var s=e.scaleFactor(),a=t.settings.horizontalPageBreak,n=NG(e,t);t.allRows().forEach(function(i){for(var l=0,o=t.columns;l<o.length;l++){var u=o[l],d=i.cells[u.index];if(d){var m=t.hooks.didParseCell;t.callCellHooks(e,m,d,i,u,null);var f=d.padding("horizontal");d.contentWidth=nN(d.text,d.styles,e)+f;var g=nN(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,e);if(d.minReadableWidth=g+d.padding("horizontal"),typeof d.styles.cellWidth=="number")d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if(d.styles.cellWidth==="wrap"||a===!0)d.contentWidth>n?(d.minWidth=n,d.wrappedWidth=n):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var p=10/s;d.minWidth=d.styles.minCellWidth||p,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),t.allRows().forEach(function(i){for(var l=0,o=t.columns;l<o.length;l++){var u=o[l],d=i.cells[u.index];if(d&&d.colSpan===1)u.wrappedWidth=Math.max(u.wrappedWidth,d.wrappedWidth),u.minWidth=Math.max(u.minWidth,d.minWidth),u.minReadableWidth=Math.max(u.minReadableWidth,d.minReadableWidth);else{var m=t.styles.columnStyles[u.dataKey]||t.styles.columnStyles[u.index]||{},f=m.cellWidth||m.minCellWidth;f&&typeof f=="number"&&(u.minWidth=f,u.wrappedWidth=f)}d&&(d.colSpan>1&&!u.minWidth&&(u.minWidth=d.minWidth),d.colSpan>1&&!u.wrappedWidth&&(u.wrappedWidth=d.minWidth))}})}function WA(e,t,s){for(var a=t,n=e.reduce(function(p,y){return p+y.wrappedWidth},0),i=0;i<e.length;i++){var l=e[i],o=l.wrappedWidth/n,u=a*o,d=l.width+u,m=s(l),f=d<m?m:d;t-=f-l.width,l.width=f}if(t=Math.round(t*1e10)/1e10,t){var g=e.filter(function(p){return t<0?p.width>s(p):!0});g.length&&(t=WA(g,t,s))}return t}function dDe(e){for(var t={},s=1,a=e.allRows(),n=0;n<a.length;n++)for(var i=a[n],l=0,o=e.columns;l<o.length;l++){var u=o[l],d=t[u.index];if(s>1)s--,delete i.cells[u.index];else if(d)d.cell.height+=i.height,s=d.cell.colSpan,delete i.cells[u.index],d.left--,d.left<=1&&delete t[u.index];else{var m=i.cells[u.index];if(!m)continue;if(m.height=i.height,m.rowSpan>1){var f=a.length-n,g=m.rowSpan>f?f:m.rowSpan;t[u.index]={cell:m,left:g,row:i}}}}}function uDe(e){for(var t=e.allRows(),s=0;s<t.length;s++)for(var a=t[s],n=null,i=0,l=0,o=0;o<e.columns.length;o++){var u=e.columns[o];if(l-=1,l>1&&e.columns[o+1])i+=u.width,delete a.cells[u.index];else if(n){var d=n;delete a.cells[u.index],n=null,d.width=u.width+i}else{var d=a.cells[u.index];if(!d)continue;if(l=d.colSpan,i=0,d.colSpan>1){n=d,i+=u.width;continue}d.width=u.width+i}}}function hDe(e,t){for(var s={count:0,height:0},a=0,n=e.allRows();a<n.length;a++){for(var i=n[a],l=0,o=e.columns;l<o.length;l++){var u=o[l],d=i.cells[u.index];if(d){t.applyStyles(d.styles,!0);var m=d.width-d.padding("horizontal");if(d.styles.overflow==="linebreak")d.text=t.splitTextToSize(d.text,m+1/t.scaleFactor(),{fontSize:d.styles.fontSize});else if(d.styles.overflow==="ellipsize")d.text=gF(d.text,m,d.styles,t,"...");else if(d.styles.overflow==="hidden")d.text=gF(d.text,m,d.styles,t,"");else if(typeof d.styles.overflow=="function"){var f=d.styles.overflow(d.text,m);typeof f=="string"?d.text=[f]:d.text=f}d.contentHeight=d.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var g=d.contentHeight/d.rowSpan;d.rowSpan>1&&s.count*s.height<g*d.rowSpan?s={height:g,count:d.rowSpan}:s&&s.count>0&&s.height>g&&(g=s.height),g>i.height&&(i.height=g)}}s.count--}}function gF(e,t,s,a,n){return e.map(function(i){return mDe(i,t,s,a,n)})}function mDe(e,t,s,a,n){var i=1e4*a.scaleFactor();if(t=Math.ceil(t*i)/i,t>=nN(e,s,a))return e;for(;t<nN(e+n,s,a)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+n}function kG(e,t){var s=new cx(e),a=fDe(t,s.scaleFactor()),n=new iDe(t,a);return oDe(s,n),s.applyStyles(s.userStyles),n}function fDe(e,t){var s=e.content,a=xDe(s.columns);if(s.head.length===0){var n=vF(a,"head");n&&s.head.push(n)}if(s.foot.length===0){var n=vF(a,"foot");n&&s.foot.push(n)}var i=e.settings.theme,l=e.styles;return{columns:a,head:G3("head",s.head,a,l,i,t),body:G3("body",s.body,a,l,i,t),foot:G3("foot",s.foot,a,l,i,t)}}function G3(e,t,s,a,n,i){var l={},o=t.map(function(u,d){for(var m=0,f={},g=0,p=0,y=0,v=s;y<v.length;y++){var j=v[y];if(l[j.index]==null||l[j.index].left===0)if(p===0){var N=void 0;Array.isArray(u)?N=u[j.index-g-m]:N=u[j.dataKey];var k={};typeof N=="object"&&!Array.isArray(N)&&(k=N?.styles||{});var w=gDe(e,j,d,n,a,i,k),A=new CG(N,w,e);f[j.dataKey]=A,f[j.index]=A,p=A.colSpan-1,l[j.index]={left:A.rowSpan-1,times:p}}else p--,g++;else l[j.index].left--,p=l[j.index].times,m++}return new AG(u,d,e,f)});return o}function vF(e,t){var s={};return e.forEach(function(a){if(a.raw!=null){var n=pDe(t,a.raw);n!=null&&(s[a.dataKey]=n)}}),Object.keys(s).length>0?s:null}function pDe(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function xDe(e){return e.map(function(t,s){var a,n;return typeof t=="object"?n=(a=t.dataKey)!==null&&a!==void 0?a:s:n=s,new lDe(n,t,s)})}function gDe(e,t,s,a,n,i,l){var o=W8e(a),u;e==="head"?u=n.headStyles:e==="body"?u=n.bodyStyles:e==="foot"&&(u=n.footStyles);var d=eh({},o.table,o[e],n.styles,u),m=n.columnStyles[t.dataKey]||n.columnStyles[t.index]||{},f=e==="body"?m:{},g=e==="body"&&s%2===0?eh({},o.alternateRow,n.alternateRowStyles):{},p=V8e(i),y=eh({},p,d,g,f);return eh(y,l)}function vDe(e,t,s){var a;s===void 0&&(s={});var n=NG(e,t),i=new Map,l=[],o=[],u=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?u=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(u=[t.settings.horizontalPageBreakRepeat]),u.forEach(function(g){var p=t.columns.find(function(y){return y.dataKey===g||y.index===g});p&&!i.has(p.index)&&(i.set(p.index,!0),l.push(p.index),o.push(t.columns[p.index]),n-=p.wrappedWidth)});for(var d=!0,m=(a=s?.start)!==null&&a!==void 0?a:0;m<t.columns.length;){if(i.has(m)){m++;continue}var f=t.columns[m].wrappedWidth;if(d||n>=f)d=!1,l.push(m),o.push(t.columns[m]),n-=f;else break;m++}return{colIndexes:l,columns:o,lastIndex:m-1}}function yDe(e,t){for(var s=[],a=0;a<t.columns.length;a++){var n=vDe(e,t,{start:a});n.columns.length&&(s.push(n),a=n.lastIndex)}return s}function TG(e,t){var s=t.settings,a=s.startY,n=s.margin,i={x:n.left,y:a},l=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),o=a+n.bottom+l;if(s.pageBreak==="avoid"){var u=t.body,d=u.reduce(function(g,p){return g+p.height},0);o+=d}var m=new cx(e);(s.pageBreak==="always"||s.startY!=null&&o>m.pageSize().height)&&(OG(m),i.y=n.top),t.callWillDrawPageHooks(m,i);var f=eh({},i);t.startPageNumber=m.pageNumber(),s.horizontalPageBreak?bDe(m,t,f,i):(m.applyStyles(m.userStyles),(s.showHead==="firstPage"||s.showHead==="everyPage")&&t.head.forEach(function(g){return wh(m,t,g,i,t.columns)}),m.applyStyles(m.userStyles),t.body.forEach(function(g,p){var y=p===t.body.length-1;iN(m,t,g,y,f,i,t.columns)}),m.applyStyles(m.userStyles),(s.showFoot==="lastPage"||s.showFoot==="everyPage")&&t.foot.forEach(function(g){return wh(m,t,g,i,t.columns)})),bG(m,t,f,i),t.callEndPageHooks(m,i),t.finalY=i.y,e.lastAutoTable=t,m.applyStyles(m.userStyles)}function bDe(e,t,s,a){var n=yDe(e,t),i=t.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")n.forEach(function(d,m){e.applyStyles(e.userStyles),m>0?jv(e,t,s,a,d.columns,!0):yF(e,t,a,d.columns),jDe(e,t,s,a,d.columns),K3(e,t,a,d.columns)});else for(var l=-1,o=n[0],u=function(){var d=l;if(o){e.applyStyles(e.userStyles);var m=o.columns;l>=0?jv(e,t,s,a,m,!0):yF(e,t,a,m),d=bF(e,t,l+1,a,m),K3(e,t,a,m)}var f=d-l;n.slice(1).forEach(function(g){e.applyStyles(e.userStyles),jv(e,t,s,a,g.columns,!0),bF(e,t,l+1,a,g.columns,f),K3(e,t,a,g.columns)}),l=d};l<t.body.length-1;)u()}function yF(e,t,s,a){var n=t.settings;e.applyStyles(e.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&t.head.forEach(function(i){return wh(e,t,i,s,a)})}function jDe(e,t,s,a,n){e.applyStyles(e.userStyles),t.body.forEach(function(i,l){var o=l===t.body.length-1;iN(e,t,i,o,s,a,n)})}function bF(e,t,s,a,n,i){e.applyStyles(e.userStyles),i=i??t.body.length;var l=Math.min(s+i,t.body.length),o=-1;return t.body.slice(s,l).forEach(function(u,d){var m=s+d===t.body.length-1,f=EG(e,t,m,a);u.canEntireRowFit(f,n)&&(wh(e,t,u,a,n),o=s+d)}),o}function K3(e,t,s,a){var n=t.settings;e.applyStyles(e.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&t.foot.forEach(function(i){return wh(e,t,i,s,a)})}function NDe(e,t,s){var a=s.getLineHeight(e.styles.fontSize),n=e.padding("vertical"),i=Math.floor((t-n)/a);return Math.max(0,i)}function wDe(e,t,s,a){var n={};e.spansMultiplePages=!0,e.height=0;for(var i=0,l=0,o=s.columns;l<o.length;l++){var u=o[l],d=e.cells[u.index];if(d){Array.isArray(d.text)||(d.text=[d.text]);var m=new CG(d.raw,d.styles,d.section);m=eh(m,d),m.text=[];var f=NDe(d,t,a);d.text.length>f&&(m.text=d.text.splice(f,d.text.length));var g=a.scaleFactor(),p=a.getLineHeightFactor();d.contentHeight=d.getContentHeight(g,p),d.contentHeight>=t&&(d.contentHeight=t,m.styles.minCellHeight-=t),d.contentHeight>e.height&&(e.height=d.contentHeight),m.contentHeight=m.getContentHeight(g,p),m.contentHeight>i&&(i=m.contentHeight),n[u.index]=m}}var y=new AG(e.raw,-1,e.section,n,!0);y.height=i;for(var v=0,j=s.columns;v<j.length;v++){var u=j[v],m=y.cells[u.index];m&&(m.height=y.height);var d=e.cells[u.index];d&&(d.height=e.height)}return y}function SDe(e,t,s,a){var n=e.pageSize().height,i=a.settings.margin,l=i.top+i.bottom,o=n-l;t.section==="body"&&(o-=a.getHeadHeight(a.columns)+a.getFootHeight(a.columns));var u=t.getMinimumRowHeight(a.columns,e),d=u<s;if(u>o)return console.log("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!d)return!1;var m=t.hasRowSpan(a.columns),f=t.getMaxCellHeight(a.columns)>o;return f?(m&&console.log("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(m||a.settings.rowPageBreak==="avoid")}function iN(e,t,s,a,n,i,l){var o=EG(e,t,a,i);if(s.canEntireRowFit(o,l))wh(e,t,s,i,l);else if(SDe(e,s,o,t)){var u=wDe(s,o,t,e);wh(e,t,s,i,l),jv(e,t,n,i,l),iN(e,t,u,a,n,i,l)}else jv(e,t,n,i,l),iN(e,t,s,a,n,i,l)}function wh(e,t,s,a,n){a.x=t.settings.margin.left;for(var i=0,l=n;i<l.length;i++){var o=l[i],u=s.cells[o.index];if(!u){a.x+=o.width;continue}e.applyStyles(u.styles),u.x=a.x,u.y=a.y;var d=t.callCellHooks(e,t.hooks.willDrawCell,u,s,o,a);if(d===!1){a.x+=o.width;continue}_De(e,u,a);var m=u.getTextPos();gG(u.text,m.x,m.y,{halign:u.styles.halign,valign:u.styles.valign,maxWidth:Math.ceil(u.width-u.padding("left")-u.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,u,s,o,a),a.x+=o.width}a.y+=s.height}function _De(e,t,s){var a=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof a.lineWidth=="number"){var n=jG(a.lineWidth,a.fillColor);n&&e.rect(t.x,s.y,t.width,t.height,n)}else typeof a.lineWidth=="object"&&(a.fillColor&&e.rect(t.x,s.y,t.width,t.height,"F"),ADe(e,t,s,a.lineWidth))}function ADe(e,t,s,a){var n,i,l,o;a.top&&(n=s.x,i=s.y,l=s.x+t.width,o=s.y,a.right&&(l+=.5*a.right),a.left&&(n-=.5*a.left),u(a.top,n,i,l,o)),a.bottom&&(n=s.x,i=s.y+t.height,l=s.x+t.width,o=s.y+t.height,a.right&&(l+=.5*a.right),a.left&&(n-=.5*a.left),u(a.bottom,n,i,l,o)),a.left&&(n=s.x,i=s.y,l=s.x,o=s.y+t.height,a.top&&(i-=.5*a.top),a.bottom&&(o+=.5*a.bottom),u(a.left,n,i,l,o)),a.right&&(n=s.x+t.width,i=s.y,l=s.x+t.width,o=s.y+t.height,a.top&&(i-=.5*a.top),a.bottom&&(o+=.5*a.bottom),u(a.right,n,i,l,o));function u(d,m,f,g,p){e.getDocument().setLineWidth(d),e.getDocument().line(m,f,g,p,"S")}}function EG(e,t,s,a){var n=t.settings.margin.bottom,i=t.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&s)&&(n+=t.getFootHeight(t.columns)),e.pageSize().height-a.y-n}function jv(e,t,s,a,n,i){n===void 0&&(n=[]),i===void 0&&(i=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!i&&t.foot.forEach(function(o){return wh(e,t,o,a,n)}),t.callEndPageHooks(e,a);var l=t.settings.margin;bG(e,t,s,a),OG(e),t.pageNumber++,a.x=l.left,a.y=l.top,s.y=l.top,t.callWillDrawPageHooks(e,a),t.settings.showHead==="everyPage"&&(t.head.forEach(function(o){return wh(e,t,o,a,n)}),e.applyStyles(e.userStyles))}function OG(e){var t=e.pageNumber();e.setPage(t+1);var s=e.pageNumber();return s===t?(e.addPage(),!0):!1}function CDe(e){e.API.autoTable=function(){for(var t=[],s=0;s<arguments.length;s++)t[s]=arguments[s];var a=t[0],n=_G(this,a),i=kG(this,n);return TG(this,i),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,s,a,n){gG(t,s,a,n,this)},e.API.autoTableSetDefaults=function(t){return cx.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,s){cx.setDefaults(t,s)},e.API.autoTableHtmlToJson=function(t,s){var a;if(s===void 0&&(s=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var n=new cx(this),i=SG(n,t,window,s,!1),l=i.head,o=i.body,u=((a=l[0])===null||a===void 0?void 0:a.map(function(d){return d.content}))||[];return{columns:u,rows:o,data:o}}}var Y3;function kDe(e,t){var s=_G(e,t),a=kG(e,s);TG(e,a)}try{if(typeof window<"u"&&window){var jF=window,NF=jF.jsPDF||((Y3=jF.jspdf)===null||Y3===void 0?void 0:Y3.jsPDF);NF&&CDe(NF)}}catch(e){console.error("Could not apply autoTable plugin",e)}const dx=({data:e,className:t=""})=>{const s=()=>{const n=new cr;n.setFontSize(16),n.text(e.filename.replace(/-/g," ").toUpperCase(),14,15),n.setFontSize(10),n.text(`Generated: ${new Date().toLocaleDateString()}`,14,22),kDe(n,{head:[e.headers],body:e.data.map(i=>e.headers.map(l=>i[l]||"")),startY:28,theme:"grid",headStyles:{fillColor:[59,130,246],fontSize:10},styles:{fontSize:9}}),n.save(`${e.filename}.pdf`)},a=()=>{const n=w3.json_to_sheet(e.data),i=w3.book_new();w3.book_append_sheet(i,n,"Report"),UEe(i,`${e.filename}.xlsx`)};return r.jsxs("div",{className:`flex gap-2 ${t}`,children:[r.jsxs(ce,{size:"sm",variant:"secondary",onClick:s,children:[r.jsx(Hs,{className:"h-4 w-4 mr-1"}),"PDF"]}),r.jsxs(ce,{size:"sm",variant:"secondary",onClick:a,children:[r.jsx(IX,{className:"h-4 w-4 mr-1"}),"Excel"]})]})},M1=[{month:"Jan",orders:1250,completed:1180,cancelled:70,revenue:125e3},{month:"Feb",orders:1380,completed:1320,cancelled:60,revenue:138e3},{month:"Mar",orders:1420,completed:1350,cancelled:70,revenue:142e3},{month:"Apr",orders:1580,completed:1520,cancelled:60,revenue:158e3},{month:"May",orders:1650,completed:1590,cancelled:60,revenue:165e3},{month:"Jun",orders:1720,completed:1680,cancelled:40,revenue:172e3}],TDe=[{product:"Fresh Chicken",orders:450,trend:15.2,category:"Poultry"},{product:"Mutton Premium",orders:280,trend:-8.5,category:"Meat"},{product:"Fish Fillet",orders:320,trend:12.8,category:"Seafood"},{product:"Prawns Large",orders:180,trend:22.4,category:"Seafood"},{product:"Eggs Organic",orders:520,trend:5.6,category:"Dairy"}],EDe=()=>{const[e,t]=_.useState("6months"),s={headers:["Month","Total Orders","Completed","Cancelled","Revenue"],data:M1.map(i=>({Month:i.month,"Total Orders":i.orders,Completed:i.completed,Cancelled:i.cancelled,Revenue:i.revenue})),filename:"order-report"},a=M1.reduce((i,l)=>i+l.orders,0),n=(M1.reduce((i,l)=>i+l.completed,0)/a*100).toFixed(1);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold",children:"Order Reports & Trends"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Track order performance and trends"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("select",{value:e,onChange:i=>t(i.target.value),className:"px-3 py-2 border rounded-lg text-sm",children:[r.jsx("option",{value:"3months",children:"3 Months"}),r.jsx("option",{value:"6months",children:"6 Months"}),r.jsx("option",{value:"12months",children:"12 Months"})]}),r.jsx(dx,{data:s})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Orders"}),r.jsx("p",{className:"text-2xl font-bold",children:a.toLocaleString()})]}),r.jsx(el,{className:"h-8 w-8 text-blue-600"})]})}),r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Completion Rate"}),r.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[n,"%"]})]}),r.jsx(Ps,{className:"h-8 w-8 text-green-600"})]})}),r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Avg Daily Orders"}),r.jsx("p",{className:"text-2xl font-bold",children:Math.round(a/180)})]}),r.jsx(hs,{className:"h-8 w-8 text-purple-600"})]})}),r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Top Category"}),r.jsx("p",{className:"text-lg font-bold text-orange-600",children:"Poultry"})]}),r.jsx(Pt,{className:"h-8 w-8 text-orange-600"})]})})]}),r.jsxs(ae,{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Order Volume Trends"}),r.jsx(Nl,{width:"100%",height:300,children:r.jsxs(Cw,{data:M1,children:[r.jsx(wc,{strokeDasharray:"3 3"}),r.jsx(Sc,{dataKey:"month"}),r.jsx(_c,{}),r.jsx(wl,{}),r.jsx(Bm,{type:"monotone",dataKey:"orders",stroke:"#3B82F6",strokeWidth:2,name:"Total Orders"}),r.jsx(Bm,{type:"monotone",dataKey:"completed",stroke:"#10B981",strokeWidth:2,name:"Completed"})]})})]}),r.jsxs(ae,{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Product Order Trends"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b",children:[r.jsx("th",{className:"text-left py-3 px-4",children:"Product"}),r.jsx("th",{className:"text-left py-3 px-4",children:"Category"}),r.jsx("th",{className:"text-left py-3 px-4",children:"Orders"}),r.jsx("th",{className:"text-left py-3 px-4",children:"Trend"})]})}),r.jsx("tbody",{children:TDe.map((i,l)=>r.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[r.jsx("td",{className:"py-3 px-4 font-medium",children:i.product}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded-full text-xs",children:i.category})}),r.jsx("td",{className:"py-3 px-4",children:i.orders}),r.jsxs("td",{className:`py-3 px-4 font-medium ${i.trend>0?"text-green-600":"text-red-600"}`,children:[i.trend>0?"+":"",i.trend,"%"]})]},l))})]})})]})]})},cc=[{month:"Jan",revenue:125e3,previousYear:11e4,orders:1250},{month:"Feb",revenue:138e3,previousYear:125e3,orders:1380},{month:"Mar",revenue:142e3,previousYear:13e4,orders:1420},{month:"Apr",revenue:158e3,previousYear:145e3,orders:1580},{month:"May",revenue:165e3,previousYear:15e4,orders:1650},{month:"Jun",revenue:172e3,previousYear:16e4,orders:1720}],ODe=()=>{const[e,t]=_.useState("6months"),s=cc.reduce((d,m)=>d+m.revenue,0),a=cc.reduce((d,m)=>d+m.previousYear,0),n=((s-a)/a*100).toFixed(1),i=cc[cc.length-1],l=cc[cc.length-2],o=((i.revenue-l.revenue)/l.revenue*100).toFixed(1),u={headers:["Month","Revenue","Previous Year","YoY Growth","Orders"],data:cc.map(d=>({Month:d.month,Revenue:d.revenue,"Previous Year":d.previousYear,"YoY Growth":((d.revenue-d.previousYear)/d.previousYear*100).toFixed(1)+"%",Orders:d.orders})),filename:"revenue-report"};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold",children:"Revenue Reports & Growth Metrics"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Track revenue performance with MoM and YoY growth"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("select",{value:e,onChange:d=>t(d.target.value),className:"px-3 py-2 border rounded-lg text-sm",children:[r.jsx("option",{value:"3months",children:"3 Months"}),r.jsx("option",{value:"6months",children:"6 Months"}),r.jsx("option",{value:"12months",children:"12 Months"})]}),r.jsx(dx,{data:u})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Revenue"}),r.jsxs("p",{className:"text-2xl font-bold",children:["",(s/1e5).toFixed(1),"L"]})]}),r.jsx(Tx,{className:"h-8 w-8 text-green-600"})]})}),r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"YoY Growth"}),r.jsxs("p",{className:`text-2xl font-bold ${parseFloat(n)>0?"text-green-600":"text-red-600"}`,children:[parseFloat(n)>0?"+":"",n,"%"]})]}),r.jsx(Ps,{className:"h-8 w-8 text-blue-600"})]})}),r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"MoM Growth"}),r.jsxs("p",{className:`text-2xl font-bold ${parseFloat(o)>0?"text-green-600":"text-red-600"}`,children:[parseFloat(o)>0?"+":"",o,"%"]})]}),r.jsx(hs,{className:"h-8 w-8 text-purple-600"})]})}),r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Avg Order Value"}),r.jsxs("p",{className:"text-2xl font-bold",children:["",Math.round(s/cc.reduce((d,m)=>d+m.orders,0))]})]}),r.jsx(Yn,{className:"h-8 w-8 text-orange-600"})]})})]}),r.jsxs(ae,{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Revenue Growth Trends"}),r.jsx(Nl,{width:"100%",height:300,children:r.jsxs(Cw,{data:cc,children:[r.jsx(wc,{strokeDasharray:"3 3"}),r.jsx(Sc,{dataKey:"month"}),r.jsx(_c,{}),r.jsx(wl,{formatter:d=>[`${d.toLocaleString()}`,""]}),r.jsx(Bm,{type:"monotone",dataKey:"revenue",stroke:"#10B981",strokeWidth:3,name:"Current Year"}),r.jsx(Bm,{type:"monotone",dataKey:"previousYear",stroke:"#6B7280",strokeWidth:2,strokeDasharray:"5 5",name:"Previous Year"})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(ae,{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Monthly Growth Rate"}),r.jsx(Nl,{width:"100%",height:250,children:r.jsxs(Nx,{data:cc.map((d,m)=>({...d,growth:m>0?((d.revenue-cc[m-1].revenue)/cc[m-1].revenue*100).toFixed(1):0})),children:[r.jsx(wc,{strokeDasharray:"3 3"}),r.jsx(Sc,{dataKey:"month"}),r.jsx(_c,{}),r.jsx(wl,{formatter:d=>[`${d}%`,"Growth"]}),r.jsx(tu,{dataKey:"growth",fill:"#3B82F6"})]})})]}),r.jsxs(ae,{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Revenue Breakdown"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[r.jsx("span",{className:"font-medium",children:"Q1 Revenue"}),r.jsx("span",{className:"text-green-600 font-bold",children:"4.05L"})]}),r.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[r.jsx("span",{className:"font-medium",children:"Q2 Revenue"}),r.jsx("span",{className:"text-blue-600 font-bold",children:"4.95L"})]}),r.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg",children:[r.jsx("span",{className:"font-medium",children:"Best Month"}),r.jsx("span",{className:"text-purple-600 font-bold",children:"June (1.72L)"})]}),r.jsxs("div",{className:"flex justify-between items-center p-3 bg-orange-50 rounded-lg",children:[r.jsx("span",{className:"font-medium",children:"Growth Trend"}),r.jsx("span",{className:"text-orange-600 font-bold",children:"Positive"})]})]})]})]})]})};function L1(){const[e,t]=_.useState({}),[s,a]=_.useState("orders");return console.log("Sales report filters:",e),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsx(_h,{onFiltersChange:t,statusOptions:[{value:"completed",label:"Completed"},{value:"pending",label:"Pending"},{value:"cancelled",label:"Cancelled"},{value:"processing",label:"Processing"}],categoryOptions:[{value:"poultry",label:"Poultry"},{value:"meat",label:"Meat"},{value:"seafood",label:"Seafood"},{value:"dairy",label:"Dairy"}]}),r.jsx("div",{className:"border-b",children:r.jsxs("nav",{className:"flex space-x-8",children:[r.jsx("button",{onClick:()=>a("orders"),className:`py-2 px-1 border-b-2 font-medium text-sm ${s==="orders"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Order Reports"}),r.jsx("button",{onClick:()=>a("revenue"),className:`py-2 px-1 border-b-2 font-medium text-sm ${s==="revenue"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Revenue Reports"})]})}),s==="orders"&&r.jsx(EDe,{}),s==="revenue"&&r.jsx(ODe,{})]})}const Tf=[{date:"2024-01-01",packed:145,time:8.5,efficiency:92,staff:"Team A"},{date:"2024-01-02",packed:162,time:7.8,efficiency:95,staff:"Team B"},{date:"2024-01-03",packed:138,time:9.2,efficiency:88,staff:"Team A"},{date:"2024-01-04",packed:175,time:7.2,efficiency:98,staff:"Team C"},{date:"2024-01-05",packed:156,time:8.1,efficiency:94,staff:"Team B"}],bm=[{supplier:"ABC Farms",orders:25,amount:125e3,onTime:92,category:"Poultry"},{supplier:"XYZ Meat Co",orders:18,amount:95e3,onTime:88,category:"Meat"},{supplier:"Fresh Catch",orders:15,amount:75e3,onTime:95,category:"Seafood"},{supplier:"Dairy Plus",orders:12,amount:45e3,onTime:98,category:"Dairy"}],sv=[{product:"Fresh Chicken",labels:450,accuracy:98.5,type:"Standard"},{product:"Mutton Premium",labels:280,accuracy:97.2,type:"Premium"},{product:"Fish Fillet",labels:320,accuracy:99.1,type:"Fresh"},{product:"Prawns Large",labels:180,accuracy:96.8,type:"Frozen"}],av=[{type:"Curry Cut",orders:320,time:5.2,popularity:85},{type:"Boneless",orders:280,time:8.5,popularity:92},{type:"Whole",orders:150,time:2.1,popularity:65},{type:"Fry Cut",orders:200,time:6.8,popularity:78}],wF=["#3B82F6","#10B981","#F59E0B","#EF4444"],PDe=()=>{const[e,t]=_.useState("packing"),s=()=>{switch(e){case"packing":return{headers:["Date","Items Packed","Avg Time (min)","Efficiency %","Staff"],data:Tf.map(n=>({Date:n.date,"Items Packed":n.packed,"Avg Time (min)":n.time,"Efficiency %":n.efficiency,Staff:n.staff})),filename:"packing-report"};case"procurement":return{headers:["Supplier","Orders","Amount","On-Time %","Category"],data:bm.map(n=>({Supplier:n.supplier,Orders:n.orders,Amount:n.amount,"On-Time %":n.onTime,Category:n.category})),filename:"procurement-report"};case"labeling":return{headers:["Product","Labels","Accuracy %","Type"],data:sv.map(n=>({Product:n.product,Labels:n.labels,"Accuracy %":n.accuracy,Type:n.type})),filename:"labeling-report"};case"cutting":return{headers:["Cutting Type","Orders","Avg Time (min)","Popularity %"],data:av.map(n=>({"Cutting Type":n.type,Orders:n.orders,"Avg Time (min)":n.time,"Popularity %":n.popularity})),filename:"cutting-type-report"};default:return{headers:[],data:[],filename:"report"}}},a=[{id:"packing",label:"Packing Report",icon:Pt},{id:"procurement",label:"Procurement Report",icon:el},{id:"labeling",label:"Labeling Report",icon:Hs},{id:"cutting",label:"Cutting Type Report",icon:Zu}];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold",children:"Operational Reports"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Comprehensive operational performance metrics"})]}),r.jsx(dx,{data:s()})]}),r.jsx("div",{className:"border-b",children:r.jsx("nav",{className:"flex space-x-8",children:a.map(n=>r.jsxs("button",{onClick:()=>t(n.id),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ${e===n.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[r.jsx(n.icon,{className:"h-4 w-4"}),n.label]},n.id))})}),e==="packing"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Packed"}),r.jsx("p",{className:"text-2xl font-bold",children:Tf.reduce((n,i)=>n+i.packed,0)})]}),r.jsx(Pt,{className:"h-8 w-8 text-blue-600"})]})}),r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Avg Efficiency"}),r.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[(Tf.reduce((n,i)=>n+i.efficiency,0)/Tf.length).toFixed(1),"%"]})]}),r.jsx(Pt,{className:"h-8 w-8 text-green-600"})]})}),r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Avg Time"}),r.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[(Tf.reduce((n,i)=>n+i.time,0)/Tf.length).toFixed(1)," min"]})]}),r.jsx(Pt,{className:"h-8 w-8 text-purple-600"})]})})]}),r.jsxs(ae,{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Daily Packing Performance"}),r.jsx(Nl,{width:"100%",height:300,children:r.jsxs(Nx,{data:Tf,children:[r.jsx(wc,{strokeDasharray:"3 3"}),r.jsx(Sc,{dataKey:"date"}),r.jsx(_c,{}),r.jsx(wl,{}),r.jsx(tu,{dataKey:"packed",fill:"#3B82F6",name:"Items Packed"})]})})]})]}),e==="procurement"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Orders"}),r.jsx("p",{className:"text-2xl font-bold",children:bm.reduce((n,i)=>n+i.orders,0)})]}),r.jsx(el,{className:"h-8 w-8 text-blue-600"})]})}),r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Amount"}),r.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",(bm.reduce((n,i)=>n+i.amount,0)/1e5).toFixed(1),"L"]})]}),r.jsx(el,{className:"h-8 w-8 text-green-600"})]})}),r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Avg On-Time"}),r.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[(bm.reduce((n,i)=>n+i.onTime,0)/bm.length).toFixed(1),"%"]})]}),r.jsx(el,{className:"h-8 w-8 text-purple-600"})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(ae,{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Supplier Performance"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b",children:[r.jsx("th",{className:"text-left py-2",children:"Supplier"}),r.jsx("th",{className:"text-left py-2",children:"Orders"}),r.jsx("th",{className:"text-left py-2",children:"On-Time %"})]})}),r.jsx("tbody",{children:bm.map((n,i)=>r.jsxs("tr",{className:"border-b",children:[r.jsx("td",{className:"py-2",children:n.supplier}),r.jsx("td",{className:"py-2",children:n.orders}),r.jsxs("td",{className:`py-2 font-medium ${n.onTime>90?"text-green-600":"text-red-600"}`,children:[n.onTime,"%"]})]},i))})]})})]}),r.jsxs(ae,{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Category Distribution"}),r.jsx(Nl,{width:"100%",height:200,children:r.jsxs(kw,{children:[r.jsx(ky,{data:bm,cx:"50%",cy:"50%",outerRadius:80,dataKey:"amount",nameKey:"category",children:bm.map((n,i)=>r.jsx(Jm,{fill:wF[i%wF.length]},`cell-${i}`))}),r.jsx(wl,{formatter:n=>[`${n.toLocaleString()}`,"Amount"]})]})})]})]})]}),e==="labeling"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Labels"}),r.jsx("p",{className:"text-2xl font-bold",children:sv.reduce((n,i)=>n+i.labels,0)})]}),r.jsx(Hs,{className:"h-8 w-8 text-blue-600"})]})}),r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Avg Accuracy"}),r.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[(sv.reduce((n,i)=>n+i.accuracy,0)/sv.length).toFixed(1),"%"]})]}),r.jsx(Hs,{className:"h-8 w-8 text-green-600"})]})}),r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Label Types"}),r.jsx("p",{className:"text-2xl font-bold text-purple-600",children:"4"})]}),r.jsx(Hs,{className:"h-8 w-8 text-purple-600"})]})})]}),r.jsxs(ae,{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Labeling Performance"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b",children:[r.jsx("th",{className:"text-left py-3 px-4",children:"Product"}),r.jsx("th",{className:"text-left py-3 px-4",children:"Labels"}),r.jsx("th",{className:"text-left py-3 px-4",children:"Accuracy"}),r.jsx("th",{className:"text-left py-3 px-4",children:"Type"})]})}),r.jsx("tbody",{children:sv.map((n,i)=>r.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[r.jsx("td",{className:"py-3 px-4 font-medium",children:n.product}),r.jsx("td",{className:"py-3 px-4",children:n.labels}),r.jsxs("td",{className:`py-3 px-4 font-medium ${n.accuracy>98?"text-green-600":"text-yellow-600"}`,children:[n.accuracy,"%"]}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded-full text-xs",children:n.type})})]},i))})]})})]})]}),e==="cutting"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Orders"}),r.jsx("p",{className:"text-2xl font-bold",children:av.reduce((n,i)=>n+i.orders,0)})]}),r.jsx(Zu,{className:"h-8 w-8 text-blue-600"})]})}),r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Most Popular"}),r.jsx("p",{className:"text-lg font-bold text-green-600",children:"Boneless"})]}),r.jsx(Zu,{className:"h-8 w-8 text-green-600"})]})}),r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Avg Time"}),r.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[(av.reduce((n,i)=>n+i.time,0)/av.length).toFixed(1)," min"]})]}),r.jsx(Zu,{className:"h-8 w-8 text-purple-600"})]})})]}),r.jsxs(ae,{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Cutting Type Performance"}),r.jsx(Nl,{width:"100%",height:300,children:r.jsxs(Nx,{data:av,children:[r.jsx(wc,{strokeDasharray:"3 3"}),r.jsx(Sc,{dataKey:"type"}),r.jsx(_c,{}),r.jsx(wl,{}),r.jsx(tu,{dataKey:"orders",fill:"#3B82F6",name:"Orders"})]})})]})]})]})};function Tp(){const[e,t]=_.useState({});return console.log("Packing report filters:",e),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsx(_h,{onFiltersChange:t,statusOptions:[{value:"completed",label:"Completed"},{value:"in_progress",label:"In Progress"},{value:"pending",label:"Pending"},{value:"delayed",label:"Delayed"}],categoryOptions:[{value:"team_a",label:"Team A"},{value:"team_b",label:"Team B"},{value:"team_c",label:"Team C"}]}),r.jsx(PDe,{})]})}function aT({title:e,description:t,dateRange:s,onDateRangeChange:a,onSchedule:n,onExport:i}){return r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",children:e}),r.jsx("p",{className:"text-gray-600",children:t})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx(Dt,{value:s,onChange:l=>a(l.target.value),options:[{value:"today",label:"Today"},{value:"week",label:"This Week"},{value:"month",label:"This Month"},{value:"quarter",label:"This Quarter"},{value:"custom",label:"Custom Range"}]}),r.jsxs(ce,{variant:"secondary",size:"sm",onClick:n,children:[r.jsx(hs,{className:"mr-2 h-4 w-4"})," Schedule"]}),r.jsxs(ce,{size:"sm",onClick:i,children:[r.jsx(Ho,{className:"mr-2 h-4 w-4"})," Export"]})]})]})}function nT({title:e,value:t,change:s,changeType:a="neutral",icon:n,iconColor:i}){return r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:e}),r.jsx("p",{className:"text-2xl font-bold",children:t}),s&&r.jsx("p",{className:`text-xs flex items-center mt-1 ${a==="positive"?"text-green-600":a==="negative"?"text-red-600":"text-blue-600"}`,children:s})]}),r.jsx("div",{className:`rounded-lg p-3 ${i}`,children:r.jsx(n,{className:"h-6 w-6"})})]})})}function iT({title:e,viewMode:t,onViewModeChange:s,viewOptions:a,children:n}){return r.jsxs(ae,{children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-6 gap-4",children:[r.jsx("h2",{className:"text-lg font-semibold",children:e}),r.jsx("div",{className:"flex flex-wrap gap-2",children:a.map(i=>r.jsx(ce,{variant:t===i.value?"primary":"secondary",size:"sm",onClick:()=>s(i.value),children:i.label},i.value))})]}),n||r.jsx("div",{className:"h-64 rounded-lg bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("p",{className:"text-gray-500 mb-2",children:[e," visualization"]}),r.jsxs("p",{className:"text-sm text-gray-400",children:["Current view: ",t]})]})})]})}function Sx({title:e,icon:t,data:s,type:a}){const n=a==="hub"?"bg-blue-50":"bg-green-50",i=a==="hub"?"text-blue-900":"text-green-900",l=a==="hub"?"text-blue-600":"text-green-600";return r.jsxs(ae,{className:`${n} border-2 ${a==="hub"?"border-blue-200":"border-green-200"}`,children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"p-2 rounded-lg bg-white",children:r.jsx(t,{className:`h-5 w-5 ${l}`})}),r.jsx("h3",{className:`text-lg font-semibold ${i}`,children:e})]}),r.jsx("div",{className:"grid gap-3 grid-cols-2 lg:grid-cols-4",children:s.metrics.map(o=>r.jsxs("div",{className:"bg-white p-3 rounded-lg",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:o.title}),r.jsx("p",{className:"text-lg font-bold text-gray-900",children:o.value}),r.jsx("p",{className:`text-xs ${o.changeType==="positive"?"text-green-600":o.changeType==="negative"?"text-red-600":"text-blue-600"}`,children:o.change})]},o.title))}),s.topProducts&&r.jsxs("div",{className:"mt-4 bg-white p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Top Products"}),r.jsx("div",{className:"space-y-2",children:s.topProducts.slice(0,3).map((o,u)=>r.jsxs("div",{className:"flex justify-between items-center text-sm",children:[r.jsxs("span",{className:"font-medium",children:["#",u+1," ",o.name]}),r.jsxs("div",{className:"flex gap-3 text-xs",children:[r.jsxs("span",{className:"text-gray-600",children:[o.orders," orders"]}),r.jsx("span",{className:"font-semibold",children:o.sales}),r.jsx("span",{className:"text-green-600",children:o.growth})]})]},o.name))})]})]})}const Z3={super_admin:{metrics:[{title:"Total Deliveries",value:"142",change:"+8% from yesterday",changeType:"positive"},{title:"On-Time Rate",value:"94.2%",change:"+2.1% from yesterday",changeType:"positive"},{title:"Avg Delivery Time",value:"28m",change:"-3m from yesterday",changeType:"positive"},{title:"Failed Deliveries",value:"8",change:"+2 from yesterday",changeType:"negative"}]},hub:{metrics:[{title:"Hub Deliveries",value:"89",change:"+12% from yesterday",changeType:"positive"},{title:"Hub On-Time Rate",value:"96.1%",change:"+1.8% from yesterday",changeType:"positive"},{title:"Hub Delivery Time",value:"25m",change:"-4m from yesterday",changeType:"positive"},{title:"Hub Failed",value:"3",change:"+1 from yesterday",changeType:"negative"}]},store:{metrics:[{title:"Store Deliveries",value:"53",change:"+3% from yesterday",changeType:"positive"},{title:"Store On-Time Rate",value:"91.5%",change:"+2.5% from yesterday",changeType:"positive"},{title:"Store Delivery Time",value:"32m",change:"-2m from yesterday",changeType:"positive"},{title:"Store Failed",value:"5",change:"+1 from yesterday",changeType:"negative"}]}},X3={super_admin:{metrics:[{title:"Total Items",value:"2,847",change:"Across 156 products",changeType:"neutral"},{title:"Stock Value",value:"4.2L",change:"+8% from last week",changeType:"positive"},{title:"Low Stock Items",value:"23",change:"Needs restocking",changeType:"negative"},{title:"Turnover Rate",value:"12.5x",change:"+0.8x from last month",changeType:"positive"}]},hub:{metrics:[{title:"Hub Stock Items",value:"1,642",change:"Across 98 products",changeType:"neutral"},{title:"Hub Stock Value",value:"2.4L",change:"+12% from last week",changeType:"positive"},{title:"Hub Low Stock",value:"14",change:"Needs restocking",changeType:"negative"},{title:"Hub Turnover",value:"14.2x",change:"+1.2x from last month",changeType:"positive"}]},store:{metrics:[{title:"Store Stock Items",value:"1,205",change:"Across 78 products",changeType:"neutral"},{title:"Store Stock Value",value:"1.8L",change:"+4% from last week",changeType:"positive"},{title:"Store Low Stock",value:"9",change:"Needs restocking",changeType:"negative"},{title:"Store Turnover",value:"10.8x",change:"+0.4x from last month",changeType:"positive"}]}},J3={super_admin:{metrics:[{title:"Total Customers",value:"2,847",change:"+12% from last month",changeType:"positive"},{title:"New Customers",value:"23",change:"+18% from yesterday",changeType:"positive"},{title:"Avg Lifetime Value",value:"8,450",change:"+5% from last month",changeType:"positive"},{title:"Retention Rate",value:"78.5%",change:"+2.3% from last month",changeType:"positive"}]},hub:{metrics:[{title:"Hub Customers",value:"1,642",change:"+15% from last month",changeType:"positive"},{title:"Hub New Customers",value:"14",change:"+22% from yesterday",changeType:"positive"},{title:"Hub Avg LTV",value:"9,200",change:"+8% from last month",changeType:"positive"},{title:"Hub Retention",value:"82.1%",change:"+3.1% from last month",changeType:"positive"}]},store:{metrics:[{title:"Store Customers",value:"1,205",change:"+8% from last month",changeType:"positive"},{title:"Store New Customers",value:"9",change:"+12% from yesterday",changeType:"positive"},{title:"Store Avg LTV",value:"7,650",change:"+2% from last month",changeType:"positive"},{title:"Store Retention",value:"74.8%",change:"+1.5% from last month",changeType:"positive"}]}};function DDe(){const[e,t]=_.useState("today"),[s,a]=_.useState("daily"),n=so(),l=n.pathname.includes("/hub/")?"hub":n.pathname.includes("/store/")?"store":"super_admin",o=Z3[l],u=[{id:"DA001",name:"Rajesh Kumar",phone:"+91 9876543210",deliveries:12,onTime:11,rating:4.8,status:"Active"},{id:"DA002",name:"Suresh Singh",phone:"+91 9876543211",deliveries:15,onTime:14,rating:4.6,status:"Active"},{id:"DA003",name:"Amit Sharma",phone:"+91 9876543212",deliveries:8,onTime:7,rating:4.9,status:"Break"},{id:"DA004",name:"Vijay Raj",phone:"+91 9876543213",deliveries:18,onTime:17,rating:4.7,status:"Active"},{id:"DA005",name:"Ravi Patel",phone:"+91 9876543214",deliveries:10,onTime:9,rating:4.5,status:"Active"}],d=[{id:"ORD001",customer:"Priya Sharma",address:"Anna Nagar, Chennai",agent:"Rajesh Kumar",time:"2:45 PM",status:"Delivered",delay:"0m"},{id:"ORD002",customer:"Arjun Patel",address:"T Nagar, Chennai",agent:"Suresh Singh",time:"3:12 PM",status:"In Transit",delay:"5m"},{id:"ORD003",customer:"Meera Reddy",address:"Velachery, Chennai",agent:"Vijay Raj",time:"3:30 PM",status:"Delivered",delay:"0m"},{id:"ORD004",customer:"Kiran Kumar",address:"Adyar, Chennai",agent:"Ravi Patel",time:"4:05 PM",status:"Delayed",delay:"15m"},{id:"ORD005",customer:"Sita Devi",address:"Mylapore, Chennai",agent:"Rajesh Kumar",time:"4:20 PM",status:"Delivered",delay:"0m"}],m=()=>{alert(`Schedule ${l} delivery report functionality`)},f=()=>{alert(`Exporting ${l} delivery report...`)},g=[zr,Cr,wr,ls],p=["bg-blue-50 text-blue-600","bg-green-50 text-green-600","bg-purple-50 text-purple-600","bg-red-50 text-red-600"],y=v=>{switch(v){case"Delivered":return"bg-green-100 text-green-700";case"In Transit":return"bg-blue-100 text-blue-700";case"Delayed":return"bg-red-100 text-red-700";case"Active":return"bg-green-100 text-green-700";case"Break":return"bg-yellow-100 text-yellow-700";default:return"bg-gray-100 text-gray-700"}};return r.jsxs("div",{className:"space-y-6",children:[r.jsx(aT,{title:"Delivery Report",description:"On-time rate, delayed orders, and partner performance",dateRange:e,onDateRangeChange:t,onSchedule:m,onExport:f}),r.jsx("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-4",children:o.metrics.map((v,j)=>r.jsx(nT,{title:v.title,value:v.value,change:v.change,changeType:v.changeType,icon:g[j],iconColor:p[j]},v.title))}),r.jsx(iT,{title:"Delivery Performance",viewMode:s,onViewModeChange:a,viewOptions:[{value:"hourly",label:"Hourly"},{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"}]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Delivery Agents Performance"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-gray-200",children:[r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Agent"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Contact"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Deliveries"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"On-Time"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Rating"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Status"})]})}),r.jsx("tbody",{children:u.map(v=>r.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[r.jsx("td",{className:"py-3 px-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-8 w-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-sm font-bold",children:v.name.charAt(0)}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:v.name}),r.jsx("p",{className:"text-sm text-gray-500",children:v.id})]})]})}),r.jsx("td",{className:"py-3 px-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(su,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-sm text-gray-600",children:v.phone})]})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:"font-medium text-gray-900",children:v.deliveries})}),r.jsxs("td",{className:"py-3 px-4",children:[r.jsxs("span",{className:"font-medium text-green-600",children:[v.onTime,"/",v.deliveries]}),r.jsxs("span",{className:"text-sm text-gray-500 ml-1",children:["(",Math.round(v.onTime/v.deliveries*100),"%)"]})]}),r.jsx("td",{className:"py-3 px-4",children:r.jsxs("span",{className:"font-medium text-yellow-600",children:[" ",v.rating]})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${y(v.status)}`,children:v.status})})]},v.id))})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Deliveries"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-gray-200",children:[r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Order ID"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Customer"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Address"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Agent"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Time"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Status"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Delay"})]})}),r.jsx("tbody",{children:d.map(v=>r.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:"font-medium text-blue-600",children:v.id})}),r.jsx("td",{className:"py-3 px-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(il,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"font-medium text-gray-900",children:v.customer})]})}),r.jsx("td",{className:"py-3 px-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(qs,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-sm text-gray-600",children:v.address})]})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:"text-sm text-gray-700",children:v.agent})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:"text-sm text-gray-700",children:v.time})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${y(v.status)}`,children:v.status})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:`text-sm font-medium ${v.delay==="0m"?"text-green-600":"text-red-600"}`,children:v.delay==="0m"?"On Time":`+${v.delay}`})})]},v.id))})]})})]}),l==="super_admin"&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"flex items-center gap-2 mb-4",children:r.jsx("h2",{className:"text-xl font-semibold",children:"Detailed Reports by Location"})}),r.jsxs("div",{className:"grid gap-6 grid-cols-1 lg:grid-cols-2",children:[r.jsx(Sx,{title:"Hub Deliveries",icon:eo,data:Z3.hub,type:"hub"}),r.jsx(Sx,{title:"Store Deliveries",icon:Zn,data:Z3.store,type:"store"})]})]})]})}function Ep(){return r.jsx(DDe,{})}function RDe(){const[e,t]=_.useState("today"),[s,a]=_.useState("current"),n=so(),l=n.pathname.includes("/hub/")?"hub":n.pathname.includes("/store/")?"store":"super_admin",o=X3[l],u=[{id:"PRD001",name:"Fresh Salmon",category:"Fish",currentStock:45,minLevel:20,maxLevel:100,unit:"kg",value:"22,500",lastUpdated:"2 hours ago",status:"Good"},{id:"PRD002",name:"Tiger Prawns",category:"Prawns",currentStock:8,minLevel:15,maxLevel:50,unit:"kg",value:"12,000",lastUpdated:"1 hour ago",status:"Low"},{id:"PRD003",name:"Sea Bass",category:"Fish",currentStock:32,minLevel:25,maxLevel:80,unit:"kg",value:"19,200",lastUpdated:"3 hours ago",status:"Good"},{id:"PRD004",name:"Fresh Lobster",category:"Lobster",currentStock:5,minLevel:10,maxLevel:30,unit:"kg",value:"17,500",lastUpdated:"30 min ago",status:"Critical"},{id:"PRD005",name:"Mud Crab",category:"Crab",currentStock:18,minLevel:12,maxLevel:40,unit:"kg",value:"14,400",lastUpdated:"1 hour ago",status:"Good"},{id:"PRD006",name:"Pomfret",category:"Fish",currentStock:12,minLevel:18,maxLevel:60,unit:"kg",value:"9,600",lastUpdated:"4 hours ago",status:"Low"}],d=[{id:"MOV001",product:"Fresh Salmon",type:"In",quantity:25,reason:"Purchase Order PO001",timestamp:"2024-01-13 10:30 AM",user:"Ramesh Kumar"},{id:"MOV002",product:"Tiger Prawns",type:"Out",quantity:12,reason:"Order ORD-456",timestamp:"2024-01-13 09:15 AM",user:"System"},{id:"MOV003",product:"Sea Bass",type:"In",quantity:15,reason:"Purchase Order PO002",timestamp:"2024-01-13 08:45 AM",user:"Sita Sharma"},{id:"MOV004",product:"Fresh Lobster",type:"Out",quantity:8,reason:"Order ORD-789",timestamp:"2024-01-13 08:00 AM",user:"System"},{id:"MOV005",product:"Mud Crab",type:"Adjustment",quantity:3,reason:"Stock Count Correction",timestamp:"2024-01-13 07:30 AM",user:"Arjun Singh"}],m=[{id:"LS001",product:"Fresh Lobster",currentStock:5,minLevel:10,shortage:5,category:"Lobster",urgency:"Critical",daysLeft:1},{id:"LS002",product:"Tiger Prawns",currentStock:8,minLevel:15,shortage:7,category:"Prawns",urgency:"High",daysLeft:2},{id:"LS003",product:"Pomfret",currentStock:12,minLevel:18,shortage:6,category:"Fish",urgency:"Medium",daysLeft:3}],f=()=>{alert(`Schedule ${l} stock report functionality`)},g=()=>{alert(`Exporting ${l} stock report...`)},p=[Pt,Yn,ls,Ps],y=["bg-blue-50 text-blue-600","bg-green-50 text-green-600","bg-red-50 text-red-600","bg-purple-50 text-purple-600"],v=w=>{switch(w){case"Good":return"bg-green-100 text-green-700";case"Low":return"bg-yellow-100 text-yellow-700";case"Critical":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},j=w=>{switch(w){case"In":return"bg-green-100 text-green-700";case"Out":return"bg-red-100 text-red-700";case"Adjustment":return"bg-blue-100 text-blue-700";default:return"bg-gray-100 text-gray-700"}},N=w=>{switch(w){case"Critical":return"bg-red-100 text-red-700";case"High":return"bg-orange-100 text-orange-700";case"Medium":return"bg-yellow-100 text-yellow-700";default:return"bg-gray-100 text-gray-700"}},k=(w,A)=>Math.round(w/A*100);return r.jsxs("div",{className:"space-y-6",children:[r.jsx(aT,{title:"Stock Report",description:"Current stock, low stock alerts, and inventory movements",dateRange:e,onDateRangeChange:t,onSchedule:f,onExport:g}),r.jsx("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-4",children:o.metrics.map((w,A)=>r.jsx(nT,{title:w.title,value:w.value,change:w.change,changeType:w.changeType,icon:p[A],iconColor:y[A]},w.title))}),r.jsx(iT,{title:"Stock Movement",viewMode:s,onViewModeChange:a,viewOptions:[{value:"current",label:"Current Stock"},{value:"daily",label:"Daily Movement"},{value:"weekly",label:"Weekly Trends"}]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Current Stock Levels"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-gray-200",children:[r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Product"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Category"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Current Stock"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Stock Level"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Value"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Last Updated"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Status"})]})}),r.jsx("tbody",{children:u.map(w=>r.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[r.jsx("td",{className:"py-3 px-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-8 w-8 bg-gradient-to-br from-blue-500 to-green-600 rounded-full flex items-center justify-center text-white text-sm font-bold",children:r.jsx(Kl,{className:"h-4 w-4"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:w.name}),r.jsx("p",{className:"text-sm text-gray-500",children:w.id})]})]})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:"text-sm text-gray-700",children:w.category})}),r.jsx("td",{className:"py-3 px-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(T2,{className:"h-4 w-4 text-gray-400"}),r.jsxs("span",{className:"font-medium text-gray-900",children:[w.currentStock," ",w.unit]})]})}),r.jsxs("td",{className:"py-3 px-4",children:[r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:`h-2 rounded-full ${k(w.currentStock,w.maxLevel)>50?"bg-green-500":k(w.currentStock,w.maxLevel)>25?"bg-yellow-500":"bg-red-500"}`,style:{width:`${k(w.currentStock,w.maxLevel)}%`}})}),r.jsxs("span",{className:"text-xs text-gray-500 mt-1",children:[k(w.currentStock,w.maxLevel),"% of max"]})]}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:"font-medium text-green-600",children:w.value})}),r.jsx("td",{className:"py-3 px-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(hs,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-sm text-gray-700",children:w.lastUpdated})]})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${v(w.status)}`,children:w.status})})]},w.id))})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Stock Movements"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-gray-200",children:[r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Product"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Type"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Quantity"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Reason"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Timestamp"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"User"})]})}),r.jsx("tbody",{children:d.map(w=>r.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:"font-medium text-gray-900",children:w.product})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${j(w.type)}`,children:w.type})}),r.jsx("td",{className:"py-3 px-4",children:r.jsxs("span",{className:`font-medium ${w.type==="In"?"text-green-600":w.type==="Out"?"text-red-600":"text-blue-600"}`,children:[w.type==="Out"?"-":"+",w.quantity," kg"]})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:"text-sm text-gray-700",children:w.reason})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:"text-sm text-gray-700",children:w.timestamp})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:"text-sm text-gray-700",children:w.user})})]},w.id))})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Low Stock Alerts"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-gray-200",children:[r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Product"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Category"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Current Stock"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Min Level"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Shortage"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Days Left"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Urgency"})]})}),r.jsx("tbody",{children:m.map(w=>r.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[r.jsx("td",{className:"py-3 px-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ls,{className:"h-4 w-4 text-red-500"}),r.jsx("span",{className:"font-medium text-gray-900",children:w.product})]})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:"text-sm text-gray-700",children:w.category})}),r.jsx("td",{className:"py-3 px-4",children:r.jsxs("span",{className:"font-medium text-red-600",children:[w.currentStock," kg"]})}),r.jsx("td",{className:"py-3 px-4",children:r.jsxs("span",{className:"text-sm text-gray-700",children:[w.minLevel," kg"]})}),r.jsx("td",{className:"py-3 px-4",children:r.jsxs("span",{className:"font-medium text-red-600",children:["-",w.shortage," kg"]})}),r.jsx("td",{className:"py-3 px-4",children:r.jsxs("span",{className:"text-sm text-gray-700",children:[w.daysLeft," days"]})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${N(w.urgency)}`,children:w.urgency})})]},w.id))})]})})]}),l==="super_admin"&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"flex items-center gap-2 mb-4",children:r.jsx("h2",{className:"text-xl font-semibold",children:"Detailed Reports by Location"})}),r.jsxs("div",{className:"grid gap-6 grid-cols-1 lg:grid-cols-2",children:[r.jsx(Sx,{title:"Hub Inventory",icon:eo,data:X3.hub,type:"hub"}),r.jsx(Sx,{title:"Store Inventory",icon:Zn,data:X3.store,type:"store"})]})]})]})}function I1(){return r.jsx(RDe,{})}function MDe(){const[e,t]=_.useState("today"),[s,a]=_.useState("overview"),n=so(),l=n.pathname.includes("/hub/")?"hub":n.pathname.includes("/store/")?"store":"super_admin",o=J3[l],u=()=>{alert(`Schedule ${l} customer report functionality`)},d=()=>{alert(`Exporting ${l} customer report...`)},m=[Mr,Mr,Tx,KX],f=["bg-blue-50 text-blue-600","bg-green-50 text-green-600","bg-purple-50 text-purple-600","bg-orange-50 text-orange-600"];return r.jsxs("div",{className:"space-y-6",children:[r.jsx(aT,{title:"Customer Report",description:"New customers, active customers, and lifetime value analytics",dateRange:e,onDateRangeChange:t,onSchedule:u,onExport:d}),r.jsx("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-4",children:o.metrics.map((g,p)=>r.jsx(nT,{title:g.title,value:g.value,change:g.change,changeType:g.changeType,icon:m[p],iconColor:f[p]},g.title))}),r.jsx(iT,{title:"Customer Growth",viewMode:s,onViewModeChange:a,viewOptions:[{value:"overview",label:"Overview"},{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"}]}),l==="super_admin"&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"flex items-center gap-2 mb-4",children:r.jsx("h2",{className:"text-xl font-semibold",children:"Detailed Reports by Location"})}),r.jsxs("div",{className:"grid gap-6 grid-cols-1 lg:grid-cols-2",children:[r.jsx(Sx,{title:"Hub Customers",icon:eo,data:J3.hub,type:"hub"}),r.jsx(Sx,{title:"Store Customers",icon:Zn,data:J3.store,type:"store"})]})]})]})}function F1(){return r.jsx(MDe,{})}const LDe=[{month:"Jan",predicted:1200,actual:1150,confidence:85},{month:"Feb",predicted:1350,actual:1320,confidence:88},{month:"Mar",predicted:1500,actual:1480,confidence:90},{month:"Apr",predicted:1650,confidence:87},{month:"May",predicted:1800,confidence:85},{month:"Jun",predicted:1950,confidence:82}],IDe=[{product:"Fresh Chicken",currentStock:500,predictedDemand:750,riskLevel:"high",trend:"up"},{product:"Mutton Premium",currentStock:200,predictedDemand:180,riskLevel:"low",trend:"stable"},{product:"Fish Fillet",currentStock:150,predictedDemand:220,riskLevel:"medium",trend:"up"},{product:"Prawns Large",currentStock:80,predictedDemand:120,riskLevel:"high",trend:"up"},{product:"Eggs Organic",currentStock:300,predictedDemand:280,riskLevel:"low",trend:"down"}],FDe=[{category:"Chicken",demand:750,stock:500,gap:250},{category:"Mutton",demand:180,stock:200,gap:-20},{category:"Fish",demand:220,stock:150,gap:70},{category:"Prawns",demand:120,stock:80,gap:40},{category:"Eggs",demand:280,stock:300,gap:-20}],BDe={low:"#10B981",medium:"#F59E0B",high:"#EF4444"},UDe=()=>{const[e,t]=_.useState("6months"),[s,a]=_.useState("overview"),n=l=>BDe[l],i=l=>l==="up"?"":l==="down"?"":"";return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 rounded-xl p-6 text-white shadow-lg",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"h-12 w-12 bg-white/20 rounded-lg flex items-center justify-center",children:r.jsx(Ps,{className:"h-7 w-7"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Product Demand Forecast Analysis"}),r.jsx("p",{className:"text-blue-100 mt-1",children:"AI-powered demand prediction and inventory planning"})]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("div",{className:"flex bg-white/10 rounded-lg p-1",children:[r.jsx("button",{onClick:()=>a("overview"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${s==="overview"?"bg-white text-blue-600":"text-white hover:bg-white/10"}`,children:"Overview"}),r.jsx("button",{onClick:()=>a("detailed"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${s==="detailed"?"bg-white text-blue-600":"text-white hover:bg-white/10"}`,children:"Detailed"})]}),r.jsxs("select",{value:e,onChange:l=>t(l.target.value),className:"px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-sm text-white backdrop-blur-sm",children:[r.jsx("option",{value:"3months",className:"text-gray-900",children:"3 Months"}),r.jsx("option",{value:"6months",className:"text-gray-900",children:"6 Months"}),r.jsx("option",{value:"12months",className:"text-gray-900",children:"12 Months"})]}),r.jsxs(ce,{size:"sm",className:"bg-white text-blue-600 hover:bg-blue-50",children:[r.jsx(Ho,{className:"h-4 w-4 mr-2"}),"Export Report"]})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx(ae,{className:"p-5 border-l-4 border-green-500 hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Forecast Accuracy"}),r.jsx("p",{className:"text-3xl font-bold text-green-600 mt-2",children:"87.5%"}),r.jsx("p",{className:"text-xs text-green-600 mt-1",children:" 2.3% from last month"})]}),r.jsx("div",{className:"h-12 w-12 bg-green-100 rounded-xl flex items-center justify-center",children:r.jsx(Vm,{className:"h-6 w-6 text-green-600"})})]})}),r.jsx(ae,{className:"p-5 border-l-4 border-red-500 hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"High Risk Items"}),r.jsx("p",{className:"text-3xl font-bold text-red-600 mt-2",children:"2"}),r.jsx("p",{className:"text-xs text-red-600 mt-1",children:"Requires immediate action"})]}),r.jsx("div",{className:"h-12 w-12 bg-red-100 rounded-xl flex items-center justify-center",children:r.jsx(ls,{className:"h-6 w-6 text-red-600"})})]})}),r.jsx(ae,{className:"p-5 border-l-4 border-blue-500 hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Predicted Growth"}),r.jsx("p",{className:"text-3xl font-bold text-blue-600 mt-2",children:"+15.2%"}),r.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Next 6 months trend"})]}),r.jsx("div",{className:"h-12 w-12 bg-blue-100 rounded-xl flex items-center justify-center",children:r.jsx(wv,{className:"h-6 w-6 text-blue-600"})})]})}),r.jsx(ae,{className:"p-5 border-l-4 border-purple-500 hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Stock Coverage"}),r.jsx("p",{className:"text-3xl font-bold text-purple-600 mt-2",children:"18 Days"}),r.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"Average across products"})]}),r.jsx("div",{className:"h-12 w-12 bg-purple-100 rounded-xl flex items-center justify-center",children:r.jsx(hs,{className:"h-6 w-6 text-purple-600"})})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(ae,{className:"p-6 shadow-md",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ps,{className:"h-5 w-5 text-blue-600"}),r.jsx("h3",{className:"text-lg font-semibold",children:"Demand Forecast Trend"})]}),r.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full font-medium",children:"6 Months Projection"})]}),r.jsx(Nl,{width:"100%",height:280,children:r.jsxs(Cw,{data:LDe,children:[r.jsx(wc,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),r.jsx(Sc,{dataKey:"month",tick:{fontSize:12}}),r.jsx(_c,{tick:{fontSize:12}}),r.jsx(wl,{contentStyle:{borderRadius:"8px",border:"1px solid #e5e7eb"}}),r.jsx(J_,{}),r.jsx(Bm,{type:"monotone",dataKey:"actual",stroke:"#10B981",strokeWidth:3,name:"Actual Demand",dot:{fill:"#10B981",r:4}}),r.jsx(Bm,{type:"monotone",dataKey:"predicted",stroke:"#3B82F6",strokeWidth:3,strokeDasharray:"5 5",name:"Predicted Demand",dot:{fill:"#3B82F6",r:4}})]})})]}),r.jsxs(ae,{className:"p-6 shadow-md",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Yn,{className:"h-5 w-5 text-purple-600"}),r.jsx("h3",{className:"text-lg font-semibold",children:"Category Demand vs Stock"})]}),r.jsx("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded-full font-medium",children:"Current Status"})]}),r.jsx(Nl,{width:"100%",height:280,children:r.jsxs(Nx,{data:FDe,children:[r.jsx(wc,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),r.jsx(Sc,{dataKey:"category",tick:{fontSize:12}}),r.jsx(_c,{tick:{fontSize:12}}),r.jsx(wl,{contentStyle:{borderRadius:"8px",border:"1px solid #e5e7eb"}}),r.jsx(J_,{}),r.jsx(tu,{dataKey:"demand",fill:"#8B5CF6",name:"Predicted Demand",radius:[8,8,0,0]}),r.jsx(tu,{dataKey:"stock",fill:"#10B981",name:"Current Stock",radius:[8,8,0,0]})]})})]})]}),r.jsxs(ae,{className:"p-6 shadow-md",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Pt,{className:"h-5 w-5 text-orange-600"}),r.jsx("h3",{className:"text-lg font-semibold",children:"Product Risk Analysis"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("span",{className:"text-xs bg-red-100 text-red-700 px-3 py-1 rounded-full font-medium",children:"2 High Risk"}),r.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-700 px-3 py-1 rounded-full font-medium",children:"1 Medium Risk"}),r.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-3 py-1 rounded-full font-medium",children:"2 Low Risk"})]})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50 border-b-2 border-gray-200",children:[r.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-700 text-sm",children:"Product Name"}),r.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-700 text-sm",children:"Current Stock"}),r.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-700 text-sm",children:"Predicted Demand"}),r.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-700 text-sm",children:"Gap"}),r.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-700 text-sm",children:"Risk Level"}),r.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-700 text-sm",children:"Trend"}),r.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-700 text-sm",children:"Action"})]})}),r.jsx("tbody",{children:IDe.map((l,o)=>{const u=l.predictedDemand-l.currentStock;return r.jsxs("tr",{className:"border-b hover:bg-gray-50 transition-colors",children:[r.jsx("td",{className:"py-4 px-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"h-8 w-8 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(Pt,{className:"h-4 w-4 text-blue-600"})}),r.jsx("span",{className:"font-medium text-gray-900",children:l.product})]})}),r.jsx("td",{className:"py-4 px-4",children:r.jsxs("span",{className:"font-medium text-gray-700",children:[l.currentStock," kg"]})}),r.jsx("td",{className:"py-4 px-4",children:r.jsxs("span",{className:"font-medium text-gray-700",children:[l.predictedDemand," kg"]})}),r.jsx("td",{className:"py-4 px-4",children:r.jsxs("span",{className:`font-semibold ${u>0?"text-red-600":"text-green-600"}`,children:[u>0?"+":"",u," kg"]})}),r.jsx("td",{className:"py-4 px-4",children:r.jsx("span",{className:"px-3 py-1.5 rounded-full text-xs font-semibold text-white inline-block",style:{backgroundColor:n(l.riskLevel)},children:l.riskLevel.toUpperCase()})}),r.jsx("td",{className:"py-4 px-4",children:r.jsxs("span",{className:"flex items-center gap-1.5 font-medium",children:[r.jsx("span",{className:"text-lg",children:i(l.trend)}),r.jsx("span",{className:"capitalize text-gray-700",children:l.trend})]})}),r.jsxs("td",{className:"py-4 px-4",children:[l.riskLevel==="high"&&r.jsx(ce,{size:"sm",className:"bg-red-600 hover:bg-red-700 text-white",children:"Reorder Now"}),l.riskLevel==="medium"&&r.jsx(ce,{size:"sm",className:"bg-yellow-600 hover:bg-yellow-700 text-white",children:"Monitor"}),l.riskLevel==="low"&&r.jsxs("span",{className:"text-green-600 text-sm font-semibold flex items-center gap-1",children:[r.jsx("span",{className:"text-lg",children:""})," Optimal"]})]})]},o)})})]})})]}),r.jsxs(ae,{className:"p-6 shadow-md bg-gradient-to-br from-gray-50 to-white",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[r.jsx("div",{className:"h-10 w-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:r.jsx(Ps,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold",children:"AI-Powered Recommendations"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Smart insights to optimize your inventory"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx("div",{className:"bg-white border-2 border-red-200 rounded-xl p-4 hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"h-10 w-10 bg-red-100 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx(ls,{className:"h-5 w-5 text-red-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("span",{className:"text-xs bg-red-100 text-red-700 px-2 py-0.5 rounded-full font-semibold",children:"URGENT"}),r.jsx("span",{className:"text-xs text-gray-500",children:"Stock Alert"})]}),r.jsx("p",{className:"font-semibold text-red-800 mb-1",children:"Fresh Chicken Critical"}),r.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Stock depletes in 3 days. Order 400kg immediately to avoid stockout."}),r.jsx(ce,{size:"sm",className:"w-full bg-red-600 hover:bg-red-700 text-white",children:"Create Order"})]})]})}),r.jsx("div",{className:"bg-white border-2 border-yellow-200 rounded-xl p-4 hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"h-10 w-10 bg-yellow-100 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx(Ps,{className:"h-5 w-5 text-yellow-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-700 px-2 py-0.5 rounded-full font-semibold",children:"OPPORTUNITY"}),r.jsx("span",{className:"text-xs text-gray-500",children:"Demand Surge"})]}),r.jsx("p",{className:"font-semibold text-yellow-800 mb-1",children:"Prawns Demand Rising"}),r.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"50% increase predicted. Boost stock by 30% to capture demand."}),r.jsx(ce,{size:"sm",className:"w-full bg-yellow-600 hover:bg-yellow-700 text-white",children:"Adjust Stock"})]})]})}),r.jsx("div",{className:"bg-white border-2 border-blue-200 rounded-xl p-4 hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx(Pt,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded-full font-semibold",children:"OPTIMIZE"}),r.jsx("span",{className:"text-xs text-gray-500",children:"Overstock"})]}),r.jsx("p",{className:"font-semibold text-blue-800 mb-1",children:"Eggs Organic Surplus"}),r.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Stock exceeds demand. Run promotion to clear inventory faster."}),r.jsx(ce,{size:"sm",className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:"Create Offer"})]})]})})]})]})]})};function B1(){const[e,t]=_.useState({});return console.log("Product demand forecast filters:",e),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsx(_h,{onFiltersChange:t,statusOptions:[{value:"high_risk",label:"High Risk"},{value:"medium_risk",label:"Medium Risk"},{value:"low_risk",label:"Low Risk"},{value:"optimal",label:"Optimal"}],categoryOptions:[{value:"chicken",label:"Chicken"},{value:"mutton",label:"Mutton"},{value:"fish",label:"Fish & Seafood"},{value:"eggs",label:"Eggs"},{value:"processed",label:"Processed Items"}]}),r.jsx(UDe,{})]})}const zDe=[{period:"Jan",sales:1200,orders:450,revenue:85e3},{period:"Feb",sales:1350,orders:520,revenue:92e3},{period:"Mar",sales:1180,orders:480,revenue:88e3},{period:"Apr",sales:1450,orders:580,revenue:98e3},{period:"May",sales:1620,orders:640,revenue:105e3},{period:"Jun",sales:1580,orders:620,revenue:102e3}],$De=[{product:"Fresh Chicken",category:"Poultry",currentSales:850,previousSales:720,growth:18.1,trend:"up",popularity:95},{product:"Mutton Premium",category:"Meat",currentSales:420,previousSales:480,growth:-12.5,trend:"down",popularity:78},{product:"Fish Fillet",category:"Seafood",currentSales:320,previousSales:280,growth:14.3,trend:"up",popularity:82},{product:"Prawns Large",category:"Seafood",currentSales:180,previousSales:160,growth:12.5,trend:"up",popularity:88},{product:"Eggs Organic",category:"Dairy",currentSales:650,previousSales:670,growth:-3,trend:"stable",popularity:91}],Q3=[{name:"Poultry",value:45,color:"#3B82F6"},{name:"Meat",value:25,color:"#EF4444"},{name:"Seafood",value:20,color:"#10B981"},{name:"Dairy",value:10,color:"#F59E0B"}],HDe=()=>{const[e,t]=_.useState("6months"),[s,a]=_.useState("sales"),n=l=>l==="up"?r.jsx(Ps,{className:"h-4 w-4 text-green-600"}):l==="down"?r.jsx(o2,{className:"h-4 w-4 text-red-600"}):r.jsx("div",{className:"h-4 w-4 bg-gray-400 rounded-full"}),i=l=>l>0?"text-green-600":l<0?"text-red-600":"text-gray-600";return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Yn,{className:"h-6 w-6 text-purple-600"}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold",children:"Product Trend Analysis"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Track product performance and market trends"})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("select",{value:e,onChange:l=>t(l.target.value),className:"px-3 py-2 border rounded-lg text-sm",children:[r.jsx("option",{value:"3months",children:"3 Months"}),r.jsx("option",{value:"6months",children:"6 Months"}),r.jsx("option",{value:"12months",children:"12 Months"})]}),r.jsxs(ce,{size:"sm",variant:"secondary",children:[r.jsx(Ho,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Top Performer"}),r.jsx("p",{className:"text-lg font-bold text-green-600",children:"Fresh Chicken"}),r.jsx("p",{className:"text-xs text-green-600",children:"+18.1% growth"})]}),r.jsx(Ps,{className:"h-8 w-8 text-green-600"})]})}),r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Declining Product"}),r.jsx("p",{className:"text-lg font-bold text-red-600",children:"Mutton Premium"}),r.jsx("p",{className:"text-xs text-red-600",children:"-12.5% decline"})]}),r.jsx(o2,{className:"h-8 w-8 text-red-600"})]})}),r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Avg Growth"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"+5.9%"})]}),r.jsx(Yn,{className:"h-8 w-8 text-blue-600"})]})}),r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Trending Products"}),r.jsx("p",{className:"text-2xl font-bold text-purple-600",children:"3"})]}),r.jsx(Ps,{className:"h-8 w-8 text-purple-600"})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs(ae,{className:"lg:col-span-2 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Sales Trend"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>a("sales"),className:`px-3 py-1 text-sm rounded ${s==="sales"?"bg-blue-100 text-blue-600":"text-gray-600"}`,children:"Sales"}),r.jsx("button",{onClick:()=>a("revenue"),className:`px-3 py-1 text-sm rounded ${s==="revenue"?"bg-blue-100 text-blue-600":"text-gray-600"}`,children:"Revenue"})]})]}),r.jsx(Nl,{width:"100%",height:300,children:r.jsxs(Cw,{data:zDe,children:[r.jsx(wc,{strokeDasharray:"3 3"}),r.jsx(Sc,{dataKey:"period"}),r.jsx(_c,{}),r.jsx(wl,{}),r.jsx(Bm,{type:"monotone",dataKey:s,stroke:"#8B5CF6",strokeWidth:3,dot:{fill:"#8B5CF6",strokeWidth:2,r:4}})]})})]}),r.jsxs(ae,{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Category Share"}),r.jsx(Nl,{width:"100%",height:200,children:r.jsxs(kw,{children:[r.jsx(ky,{data:Q3,cx:"50%",cy:"50%",innerRadius:40,outerRadius:80,dataKey:"value",children:Q3.map((l,o)=>r.jsx(Jm,{fill:l.color},`cell-${o}`))}),r.jsx(wl,{})]})}),r.jsx("div",{className:"mt-4 space-y-2",children:Q3.map((l,o)=>r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:l.color}}),r.jsx("span",{children:l.name})]}),r.jsxs("span",{className:"font-medium",children:[l.value,"%"]})]},o))})]})]}),r.jsxs(ae,{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Product Performance"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b",children:[r.jsx("th",{className:"text-left py-3 px-4",children:"Product"}),r.jsx("th",{className:"text-left py-3 px-4",children:"Category"}),r.jsx("th",{className:"text-left py-3 px-4",children:"Current Sales"}),r.jsx("th",{className:"text-left py-3 px-4",children:"Previous Sales"}),r.jsx("th",{className:"text-left py-3 px-4",children:"Growth"}),r.jsx("th",{className:"text-left py-3 px-4",children:"Trend"}),r.jsx("th",{className:"text-left py-3 px-4",children:"Popularity"})]})}),r.jsx("tbody",{children:$De.map((l,o)=>r.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[r.jsx("td",{className:"py-3 px-4 font-medium",children:l.product}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded-full text-xs",children:l.category})}),r.jsx("td",{className:"py-3 px-4",children:l.currentSales}),r.jsx("td",{className:"py-3 px-4",children:l.previousSales}),r.jsxs("td",{className:`py-3 px-4 font-medium ${i(l.growth)}`,children:[l.growth>0?"+":"",l.growth,"%"]}),r.jsx("td",{className:"py-3 px-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[n(l.trend),r.jsx("span",{className:"capitalize text-sm",children:l.trend})]})}),r.jsx("td",{className:"py-3 px-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${l.popularity}%`}})}),r.jsxs("span",{className:"text-sm",children:[l.popularity,"%"]})]})})]},o))})]})})]}),r.jsxs(ae,{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Key Insights"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx("div",{className:"p-4 bg-green-50 rounded-lg",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Ps,{className:"h-5 w-5 text-green-600 mt-1"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-green-800",children:"Growing Categories"}),r.jsx("p",{className:"text-sm text-green-700 mt-1",children:"Poultry and Seafood showing strong upward trends with 15%+ growth"})]})]})}),r.jsx("div",{className:"p-4 bg-red-50 rounded-lg",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(o2,{className:"h-5 w-5 text-red-600 mt-1"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-red-800",children:"Declining Products"}),r.jsx("p",{className:"text-sm text-red-700 mt-1",children:"Mutton Premium needs attention - consider promotional strategies"})]})]})})]})]})]})};function U1(){const[e,t]=_.useState({});return console.log("Product trend analysis filters:",e),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsx(_h,{onFiltersChange:t,statusOptions:[{value:"trending_up",label:"Trending Up"},{value:"trending_down",label:"Trending Down"},{value:"stable",label:"Stable"},{value:"volatile",label:"Volatile"}],categoryOptions:[{value:"poultry",label:"Poultry"},{value:"meat",label:"Meat"},{value:"seafood",label:"Seafood"},{value:"dairy",label:"Dairy"},{value:"processed",label:"Processed"}]}),r.jsx(HDe,{})]})}const Op=[{month:"Jan",sales:125e3,cgst:11250,sgst:11250,igst:0,total:147500},{month:"Feb",sales:138e3,cgst:12420,sgst:12420,igst:0,total:162840},{month:"Mar",sales:142e3,cgst:12780,sgst:12780,igst:0,total:167560},{month:"Apr",sales:158e3,cgst:14220,sgst:14220,igst:0,total:186440},{month:"May",sales:165e3,cgst:14850,sgst:14850,igst:0,total:194700},{month:"Jun",sales:172e3,cgst:15480,sgst:15480,igst:0,total:202960}],nv=[{category:"Poultry",sales:45e4,gst:40500,rate:9},{category:"Meat",sales:32e4,gst:28800,rate:9},{category:"Seafood",sales:18e4,gst:16200,rate:9},{category:"Processed",sales:15e4,gst:27e3,rate:18}],e_=["#3B82F6","#10B981","#F59E0B","#EF4444"],qDe=()=>{const[e,t]=_.useState("6months"),s=Op.reduce((o,u)=>o+u.sales,0),a=Op.reduce((o,u)=>o+u.cgst+u.sgst+u.igst,0),n=Op.reduce((o,u)=>o+u.total,0),i={headers:["Month","Sales","CGST","SGST","IGST","Total with GST"],data:Op.map(o=>({Month:o.month,Sales:o.sales,CGST:o.cgst,SGST:o.sgst,IGST:o.igst,"Total with GST":o.total})),filename:"gst-tax-report"},l={headers:["Category","Sales","GST Amount","GST Rate %"],data:nv.map(o=>({Category:o.category,Sales:o.sales,"GST Amount":o.gst,"GST Rate %":o.rate})),filename:"gst-breakdown-report"};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold",children:"Tax Calculation & GST Reports"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Comprehensive tax and GST reporting for accounting"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("select",{value:e,onChange:o=>t(o.target.value),className:"px-3 py-2 border rounded-lg text-sm",children:[r.jsx("option",{value:"3months",children:"3 Months"}),r.jsx("option",{value:"6months",children:"6 Months"}),r.jsx("option",{value:"12months",children:"12 Months"})]}),r.jsx(dx,{data:i})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Sales"}),r.jsxs("p",{className:"text-2xl font-bold",children:["",(s/1e5).toFixed(1),"L"]})]}),r.jsx(Tx,{className:"h-8 w-8 text-blue-600"})]})}),r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total GST"}),r.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",(a/1e5).toFixed(1),"L"]})]}),r.jsx(dh,{className:"h-8 w-8 text-green-600"})]})}),r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Revenue"}),r.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["",(n/1e5).toFixed(1),"L"]})]}),r.jsx(Qf,{className:"h-8 w-8 text-purple-600"})]})}),r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Avg GST Rate"}),r.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[(a/s*100).toFixed(1),"%"]})]}),r.jsx(Hs,{className:"h-8 w-8 text-orange-600"})]})})]}),r.jsxs(ae,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Monthly GST Collection"}),r.jsx(dx,{data:i,className:"scale-75"})]}),r.jsx(Nl,{width:"100%",height:300,children:r.jsxs(Nx,{data:Op,children:[r.jsx(wc,{strokeDasharray:"3 3"}),r.jsx(Sc,{dataKey:"month"}),r.jsx(_c,{}),r.jsx(wl,{formatter:o=>[`${o.toLocaleString()}`,""]}),r.jsx(tu,{dataKey:"cgst",stackId:"gst",fill:"#3B82F6",name:"CGST"}),r.jsx(tu,{dataKey:"sgst",stackId:"gst",fill:"#10B981",name:"SGST"}),r.jsx(tu,{dataKey:"igst",stackId:"gst",fill:"#F59E0B",name:"IGST"})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(ae,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"GST by Category"}),r.jsx(dx,{data:l,className:"scale-75"})]}),r.jsx(Nl,{width:"100%",height:200,children:r.jsxs(kw,{children:[r.jsx(ky,{data:nv,cx:"50%",cy:"50%",outerRadius:80,dataKey:"gst",nameKey:"category",children:nv.map((o,u)=>r.jsx(Jm,{fill:e_[u%e_.length]},`cell-${u}`))}),r.jsx(wl,{formatter:o=>[`${o.toLocaleString()}`,"GST"]})]})}),r.jsx("div",{className:"mt-4 space-y-2",children:nv.map((o,u)=>r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e_[u]}}),r.jsx("span",{children:o.category})]}),r.jsxs("span",{className:"font-medium",children:["",o.gst.toLocaleString()]})]},u))})]}),r.jsxs(ae,{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Monthly Tax Summary"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b",children:[r.jsx("th",{className:"text-left py-2",children:"Month"}),r.jsx("th",{className:"text-left py-2",children:"Sales"}),r.jsx("th",{className:"text-left py-2",children:"GST"}),r.jsx("th",{className:"text-left py-2",children:"Total"})]})}),r.jsx("tbody",{children:Op.map((o,u)=>r.jsxs("tr",{className:"border-b",children:[r.jsx("td",{className:"py-2 font-medium",children:o.month}),r.jsxs("td",{className:"py-2",children:["",o.sales.toLocaleString()]}),r.jsxs("td",{className:"py-2 text-green-600",children:["",(o.cgst+o.sgst+o.igst).toLocaleString()]}),r.jsxs("td",{className:"py-2 font-medium",children:["",o.total.toLocaleString()]})]},u))})]})})]})]}),r.jsxs(ae,{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"GST Rate Analysis"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:nv.map((o,u)=>r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"font-medium",children:o.category}),r.jsxs("span",{className:"text-sm bg-blue-100 text-blue-600 px-2 py-1 rounded",children:[o.rate,"%"]})]}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Sales:"}),r.jsxs("span",{children:["",o.sales.toLocaleString()]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"GST:"}),r.jsxs("span",{className:"text-green-600",children:["",o.gst.toLocaleString()]})]}),r.jsxs("div",{className:"flex justify-between font-medium",children:[r.jsx("span",{children:"Total:"}),r.jsxs("span",{children:["",(o.sales+o.gst).toLocaleString()]})]})]})]},u))})]}),r.jsxs(ae,{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Compliance Summary"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx("div",{className:"p-4 bg-green-50 rounded-lg",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx(dh,{className:"h-4 w-4 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-green-800",children:"GST Filing Status"}),r.jsx("p",{className:"text-sm text-green-600",children:"Up to date"})]})]})}),r.jsx("div",{className:"p-4 bg-blue-50 rounded-lg",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx(Qf,{className:"h-4 w-4 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-blue-800",children:"Return Filing"}),r.jsx("p",{className:"text-sm text-blue-600",children:"GSTR-1 & GSTR-3B"})]})]})}),r.jsx("div",{className:"p-4 bg-purple-50 rounded-lg",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:r.jsx(Hs,{className:"h-4 w-4 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-purple-800",children:"Next Due Date"}),r.jsx("p",{className:"text-sm text-purple-600",children:"20th July 2024"})]})]})})]})]})]})};function z1(){const[e,t]=_.useState({});return console.log("Tax GST report filters:",e),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsx(_h,{onFiltersChange:t,statusOptions:[{value:"filed",label:"Filed"},{value:"pending",label:"Pending"},{value:"overdue",label:"Overdue"}],categoryOptions:[{value:"cgst",label:"CGST"},{value:"sgst",label:"SGST"},{value:"igst",label:"IGST"},{value:"cess",label:"CESS"}]}),r.jsx(qDe,{})]})}const lT=({entityType:e,entityId:t,onRollback:s,className:a=""})=>{const{getHistory:n,rollback:i,clearHistory:l}=r6(),[o,u]=_.useState(null),[d,m]=_.useState(!1),f=n(e,t),g=async v=>{if(s){m(!0);try{const j=await i(v.id,s);alert(j?"Rollback completed successfully":"Rollback failed")}catch(j){alert("Rollback failed: "+j)}finally{m(!1),u(null)}}},p=v=>new Date(v).toLocaleString(),y=v=>v.toLowerCase().includes("delete")?"text-red-600":v.toLowerCase().includes("create")?"text-green-600":v.toLowerCase().includes("update")?"text-blue-600":v.toLowerCase().includes("rollback")?"text-purple-600":"text-gray-600";return r.jsxs("div",{className:`space-y-4 ${a}`,children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Tn,{className:"h-5 w-5 text-blue-600"}),r.jsx("h3",{className:"text-lg font-semibold",children:"Rollback History"}),r.jsxs("span",{className:"text-sm text-gray-500",children:["(",f.length," entries)"]})]}),f.length>0&&r.jsxs(ce,{variant:"danger",size:"sm",onClick:()=>{confirm("Clear all history? This cannot be undone.")&&l(e)},children:[r.jsx(Sr,{className:"h-4 w-4 mr-1"}),"Clear History"]})]}),f.length===0?r.jsxs(ae,{className:"p-8 text-center",children:[r.jsx(Tn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h4",{className:"text-lg font-medium text-gray-600 mb-2",children:"No History Available"}),r.jsx("p",{className:"text-gray-500",children:"No rollback entries found for this item."})]}):r.jsx("div",{className:"space-y-2",children:f.map(v=>r.jsxs(ae,{className:"p-4 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("span",{className:`font-medium ${y(v.action)}`,children:v.action}),r.jsxs("span",{className:"text-sm text-gray-500",children:[v.entityType," #",v.entityId]})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(wr,{className:"h-4 w-4"}),p(v.timestamp)]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(il,{className:"h-4 w-4"}),v.userName]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>u(o?.id===v.id?null:v),children:r.jsx(Fr,{className:"h-4 w-4"})}),s&&r.jsxs(ce,{variant:"secondary",size:"sm",onClick:()=>{confirm(`Rollback to previous state? This will restore the data to how it was before "${v.action}".`)&&g(v)},disabled:d,children:[r.jsx(Tn,{className:"h-4 w-4 mr-1"}),d?"Rolling back...":"Rollback"]})]})]}),o?.id===v.id&&r.jsx("div",{className:"mt-4 pt-4 border-t",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("h5",{className:"font-medium text-gray-700 mb-2",children:"Previous State"}),r.jsx("pre",{className:"bg-gray-50 p-3 rounded text-xs overflow-auto max-h-40",children:JSON.stringify(v.previousState,null,2)})]}),r.jsxs("div",{children:[r.jsx("h5",{className:"font-medium text-gray-700 mb-2",children:"Current State"}),r.jsx("pre",{className:"bg-gray-50 p-3 rounded text-xs overflow-auto max-h-40",children:JSON.stringify(v.currentState,null,2)})]})]})})]},v.id))}),d&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsx(ae,{className:"p-6 max-w-sm",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Tn,{className:"h-6 w-6 text-blue-600 animate-spin"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:"Rolling back..."}),r.jsx("p",{className:"text-sm text-gray-600",children:"Please wait while we restore the previous state."})]})]})})})]})},VDe=({entityType:e,entityId:t,onRollback:s,className:a="",showHistory:n=!0})=>{const[i,l]=_.useState(!1);return r.jsxs("div",{className:a,children:[r.jsx("div",{className:"flex gap-2",children:n&&r.jsxs(ce,{variant:"ghost",size:"sm",onClick:()=>l(!i),children:[r.jsx(hx,{className:"h-4 w-4 mr-1"}),"History"]})}),i&&r.jsx("div",{className:"mt-4",children:r.jsx(lT,{entityType:e,entityId:t,onRollback:s})})]})},WDe=()=>{const[e,t]=_.useState({id:"prod_001",name:"Fresh Chicken",price:250,category:"Poultry",stock:100}),{saveState:s}=r6(),a=(i,l)=>{const o={...e},u={...e,[i]:l};t(u),s(`Update ${i}`,"product",e.id,o,u)},n=i=>{t(i)};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-semibold",children:"Product Management with Rollback"}),r.jsx(VDe,{entityType:"product",entityId:e.id,onRollback:n})]}),r.jsxs(ae,{className:"p-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Product Name"}),r.jsx(he,{value:e.name,onChange:i=>a("name",i.target.value)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Category"}),r.jsx(he,{value:e.category,onChange:i=>a("category",i.target.value)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Price ()"}),r.jsx(he,{type:"number",value:e.price,onChange:i=>a("price",parseFloat(i.target.value)||0)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Stock"}),r.jsx(he,{type:"number",value:e.stock,onChange:i=>a("stock",parseInt(i.target.value)||0)})]})]}),r.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[r.jsx("h4",{className:"font-medium mb-2",children:"Current Product State:"}),r.jsx("pre",{className:"text-sm",children:JSON.stringify(e,null,2)})]})]})]})},GDe=()=>{const[e,t]=_.useState({orders:1250,products:450,users:320,settings:{maintenanceMode:!1,maxOrdersPerDay:1e3,autoBackup:!0}}),{saveState:s}=r6(),a=i=>{const l={...e};let o={...e},u="";switch(i){case"maintenance":o.settings.maintenanceMode=!o.settings.maintenanceMode,u=`${o.settings.maintenanceMode?"Enable":"Disable"} Maintenance Mode`;break;case"orders":o.orders+=Math.floor(Math.random()*50)+10,u="Process New Orders";break;case"products":o.products+=Math.floor(Math.random()*10)-5,u="Update Product Inventory";break;case"users":o.users+=Math.floor(Math.random()*5)+1,u="Add New Users";break;case"settings":o.settings.maxOrdersPerDay=Math.floor(Math.random()*500)+800,u="Update System Settings";break}t(o),s(u,"system","main",l,o)},n=i=>{t(i)};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Tn,{className:"h-6 w-6 text-blue-600"}),r.jsx("h2",{className:"text-xl font-semibold",children:"System State Management with Rollback"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Orders"}),r.jsx("p",{className:"text-2xl font-bold",children:e.orders})]}),r.jsx(el,{className:"h-8 w-8 text-blue-600"})]})}),r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Products"}),r.jsx("p",{className:"text-2xl font-bold",children:e.products})]}),r.jsx(Pt,{className:"h-8 w-8 text-green-600"})]})}),r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Users"}),r.jsx("p",{className:"text-2xl font-bold",children:e.users})]}),r.jsx(Mr,{className:"h-8 w-8 text-purple-600"})]})}),r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Maintenance"}),r.jsx("p",{className:`text-lg font-bold ${e.settings.maintenanceMode?"text-red-600":"text-green-600"}`,children:e.settings.maintenanceMode?"ON":"OFF"})]}),r.jsx(nl,{className:"h-8 w-8 text-orange-600"})]})})]}),r.jsxs(ae,{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Simulate System Changes"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx(ce,{onClick:()=>a("maintenance"),children:"Toggle Maintenance Mode"}),r.jsx(ce,{onClick:()=>a("orders"),children:"Process Orders"}),r.jsx(ce,{onClick:()=>a("products"),children:"Update Inventory"}),r.jsx(ce,{onClick:()=>a("users"),children:"Add Users"}),r.jsx(ce,{onClick:()=>a("settings"),children:"Update Settings"})]})]}),r.jsxs(ae,{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Current System Settings"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"p-3 bg-gray-50 rounded",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Maintenance Mode"}),r.jsx("p",{className:`font-medium ${e.settings.maintenanceMode?"text-red-600":"text-green-600"}`,children:e.settings.maintenanceMode?"Enabled":"Disabled"})]}),r.jsxs("div",{className:"p-3 bg-gray-50 rounded",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Max Orders/Day"}),r.jsx("p",{className:"font-medium",children:e.settings.maxOrdersPerDay})]}),r.jsxs("div",{className:"p-3 bg-gray-50 rounded",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Auto Backup"}),r.jsx("p",{className:`font-medium ${e.settings.autoBackup?"text-green-600":"text-red-600"}`,children:e.settings.autoBackup?"Enabled":"Disabled"})]})]})]}),r.jsx(lT,{entityType:"system",entityId:"main",onRollback:n})]})},KDe=()=>{const[e,t]=_.useState("product"),s=[{id:"product",label:"Product Management",icon:Pt},{id:"system",label:"System Management",icon:nl},{id:"history",label:"Global History",icon:hx}];return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 rounded-xl p-6 text-white shadow-lg",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"h-14 w-14 bg-white/20 rounded-xl flex items-center justify-center",children:r.jsx(Tn,{className:"h-8 w-8"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Rollback & Data Recovery"}),r.jsx("p",{className:"text-purple-100 mt-1",children:"Restore previous states and recover data with confidence"})]})]}),r.jsxs("div",{className:"flex items-center gap-2 bg-white/10 px-4 py-2 rounded-lg backdrop-blur-sm",children:[r.jsx(Fi,{className:"h-5 w-5"}),r.jsx("span",{className:"font-medium",children:"Protected System"})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(ae,{className:"p-5 border-l-4 border-blue-500 hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Total Snapshots"}),r.jsx("p",{className:"text-3xl font-bold text-blue-600 mt-2",children:"247"}),r.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Across all entities"})]}),r.jsx("div",{className:"h-12 w-12 bg-blue-100 rounded-xl flex items-center justify-center",children:r.jsx(zO,{className:"h-6 w-6 text-blue-600"})})]})}),r.jsx(ae,{className:"p-5 border-l-4 border-green-500 hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Successful Restores"}),r.jsx("p",{className:"text-3xl font-bold text-green-600 mt-2",children:"98.5%"}),r.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Recovery success rate"})]}),r.jsx("div",{className:"h-12 w-12 bg-green-100 rounded-xl flex items-center justify-center",children:r.jsx(Cr,{className:"h-6 w-6 text-green-600"})})]})}),r.jsx(ae,{className:"p-5 border-l-4 border-purple-500 hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Last Rollback"}),r.jsx("p",{className:"text-3xl font-bold text-purple-600 mt-2",children:"2h"}),r.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"2 hours ago"})]}),r.jsx("div",{className:"h-12 w-12 bg-purple-100 rounded-xl flex items-center justify-center",children:r.jsx(wr,{className:"h-6 w-6 text-purple-600"})})]})}),r.jsx(ae,{className:"p-5 border-l-4 border-orange-500 hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Retention Period"}),r.jsx("p",{className:"text-3xl font-bold text-orange-600 mt-2",children:"30d"}),r.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Auto-cleanup enabled"})]}),r.jsx("div",{className:"h-12 w-12 bg-orange-100 rounded-xl flex items-center justify-center",children:r.jsx(tl,{className:"h-6 w-6 text-orange-600"})})]})})]}),r.jsx(ae,{className:"p-1",children:r.jsx("nav",{className:"flex space-x-1",children:s.map(a=>r.jsxs("button",{onClick:()=>t(a.id),className:`flex-1 py-3 px-4 rounded-lg font-medium text-sm flex items-center justify-center gap-2 transition-all ${e===a.id?"bg-blue-600 text-white shadow-md":"text-gray-600 hover:bg-gray-100"}`,children:[r.jsx(a.icon,{className:"h-5 w-5"}),a.label]},a.id))})}),e==="product"&&r.jsx(WDe,{}),e==="system"&&r.jsx(GDe,{}),e==="history"&&r.jsx("div",{className:"space-y-6",children:r.jsxs(ae,{className:"p-6 shadow-md",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold",children:"Global Rollback History"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"View all rollback entries across the entire system. This includes all entity types and operations."})]}),r.jsxs(ce,{variant:"secondary",size:"sm",children:[r.jsx(zO,{className:"h-4 w-4 mr-2"}),"Export History"]})]}),r.jsx(lT,{})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsx(ae,{className:"p-6 bg-gradient-to-br from-blue-50 to-purple-50 border-blue-200 shadow-md",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"h-10 w-10 bg-blue-600 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx(Tn,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-blue-900 mb-3",children:"How Rollback Works"}),r.jsxs("ul",{className:"text-sm text-blue-800 space-y-2",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Cr,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Every data change is automatically tracked with timestamps"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Cr,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Previous states are stored securely for recovery"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Cr,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Rollback operations create new history entries for audit trails"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Cr,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Each rollback requires confirmation to prevent accidental data loss"})]})]})]})]})}),r.jsx(ae,{className:"p-6 bg-gradient-to-br from-green-50 to-emerald-50 border-green-200 shadow-md",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"h-10 w-10 bg-green-600 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx(Fi,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-green-900 mb-3",children:"Data Protection Features"}),r.jsxs("ul",{className:"text-sm text-green-800 space-y-2",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Cr,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Point-in-time recovery for critical data"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Cr,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Automatic backup before major operations"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Cr,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"30-day retention with configurable policies"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Cr,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Role-based access control for restore operations"})]})]})]})]})})]})]})};function $1(){return r.jsx(XF,{children:r.jsx("div",{className:"p-6",children:r.jsx(KDe,{})})})}function H1(){const[e,t]=_.useState({name:"BAYHAWK",email:"support@bayhawk.com",phone:"+91 9876543210",language:"en",currency:"INR",timezone:"IST"}),[s,a]=_.useState({licenseNumber:"",validityDate:""});return r.jsxs("div",{className:"space-y-4 sm:space-y-6 p-3 sm:p-4 md:p-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"General Settings"}),r.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1",children:"Configure your business information and basic settings"})]}),r.jsxs(ce,{className:"w-full sm:w-auto",children:[r.jsx(Ii,{className:"mr-2 h-5 w-5"}),"Save All Changes"]})]}),r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[r.jsx("div",{className:"rounded-lg bg-blue-50 p-2",children:r.jsx(qm,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-base sm:text-lg font-semibold",children:"Business Information"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Basic details about your business"})]})]}),r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Logo"}),r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[r.jsx("div",{className:"h-20 w-20 rounded-lg bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center shadow-lg",children:r.jsx("span",{className:"text-white font-bold text-xl",children:"B"})}),r.jsxs("div",{className:"w-full sm:w-auto",children:[r.jsxs(ce,{variant:"secondary",size:"sm",className:"w-full sm:w-auto",children:[r.jsx(Ro,{className:"h-4 w-4 mr-2"}),"Upload New Logo"]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Recommended: 200x200px, PNG or JPG"})]})]})]}),r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2",children:[r.jsx(he,{label:"Business Name",value:e.name,onChange:n=>t({...e,name:n.target.value}),placeholder:"Enter business name"}),r.jsx(he,{label:"Support Email",type:"email",value:e.email,onChange:n=>t({...e,email:n.target.value}),placeholder:"support@example.com"})]}),r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2",children:[r.jsx(he,{label:"Support Phone",type:"tel",value:e.phone,onChange:n=>t({...e,phone:n.target.value}),placeholder:"+91 9876543210"}),r.jsx(Dt,{label:"Default Language",value:e.language,onChange:n=>t({...e,language:n.target.value}),options:[{value:"en",label:"English"},{value:"ta",label:"Tamil"},{value:"hi",label:"Hindi"},{value:"te",label:"Telugu"},{value:"kn",label:"Kannada"}]})]}),r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2",children:[r.jsx(Dt,{label:"Currency",value:e.currency,onChange:n=>t({...e,currency:n.target.value}),options:[{value:"INR",label:"INR ()"},{value:"USD",label:"USD ($)"},{value:"EUR",label:"EUR ()"}]}),r.jsx(Dt,{label:"Timezone",value:e.timezone,onChange:n=>t({...e,timezone:n.target.value}),options:[{value:"IST",label:"IST (UTC+5:30)"},{value:"UTC",label:"UTC (UTC+0:00)"},{value:"EST",label:"EST (UTC-5:00)"}]})]})]})]}),r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[r.jsx("div",{className:"rounded-lg bg-green-50 p-2",children:r.jsx(Hs,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-base sm:text-lg font-semibold",children:"FSSAI Certificate"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Food Safety and Standards Authority of India certification"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2",children:[r.jsx(he,{label:"FSSAI License Number",value:s.licenseNumber,onChange:n=>a({...s,licenseNumber:n.target.value}),placeholder:"12345678901234",maxLength:14}),r.jsx(he,{label:"Validity Date",type:"date",value:s.validityDate,onChange:n=>a({...s,validityDate:n.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Certificate Document"}),r.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 sm:p-6 text-center hover:border-gray-400 transition-colors",children:[r.jsx(Ro,{className:"h-6 w-6 sm:h-8 sm:w-8 text-gray-400 mx-auto mb-2"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-2",children:"Upload FSSAI Certificate"}),r.jsx(ce,{variant:"secondary",size:"sm",children:"Choose File"}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"PDF, JPG, PNG up to 5MB"})]})]})]})]}),r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[r.jsx("div",{className:"rounded-lg bg-purple-50 p-2",children:r.jsx(hs,{className:"h-4 w-4 sm:h-5 sm:w-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-base sm:text-lg font-semibold",children:"Business Hours"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Set your operational hours"})]})]}),r.jsx("div",{className:"space-y-3 sm:space-y-4",children:[{day:"Monday",open:"09:00",close:"21:00",enabled:!0},{day:"Tuesday",open:"09:00",close:"21:00",enabled:!0},{day:"Wednesday",open:"09:00",close:"21:00",enabled:!0},{day:"Thursday",open:"09:00",close:"21:00",enabled:!0},{day:"Friday",open:"09:00",close:"21:00",enabled:!0},{day:"Saturday",open:"09:00",close:"21:00",enabled:!0},{day:"Sunday",open:"10:00",close:"20:00",enabled:!0}].map(n=>r.jsxs("div",{className:"flex flex-col gap-3 p-3 sm:p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"font-medium text-sm",children:n.day}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:n.enabled,className:"rounded"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Open"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(he,{type:"time",value:n.open,className:"flex-1",disabled:!n.enabled}),r.jsx("span",{className:"text-gray-500 text-sm",children:"to"}),r.jsx(he,{type:"time",value:n.close,className:"flex-1",disabled:!n.enabled})]})]},n.day))})]}),r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[r.jsx("div",{className:"rounded-lg bg-orange-50 p-2",children:r.jsx(Dm,{className:"h-4 w-4 sm:h-5 sm:w-5 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-base sm:text-lg font-semibold",children:"Contact Information"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Additional contact details"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2",children:[r.jsx(he,{label:"WhatsApp Number",type:"tel",placeholder:"+91 9876543210"}),r.jsx(he,{label:"Customer Care Email",type:"email",placeholder:"care@bayhawk.com"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Address"}),r.jsx("textarea",{className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Enter complete business address"})]}),r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-3",children:[r.jsx(he,{label:"City",placeholder:"Chennai"}),r.jsx(he,{label:"State",placeholder:"Tamil Nadu"}),r.jsx(he,{label:"PIN Code",placeholder:"600001"})]})]})]})]})}function q1(){const[e,t]=_.useState([{id:"1",name:"Morning Slot",startTime:"07:00",endTime:"09:00",capacity:50,cutoffTime:"06:00",isActive:!0,days:["monday","tuesday","wednesday","thursday","friday","saturday","sunday"]},{id:"2",name:"Afternoon Slot",startTime:"13:00",endTime:"15:00",capacity:50,cutoffTime:"12:00",isActive:!0,days:["monday","tuesday","wednesday","thursday","friday","saturday","sunday"]},{id:"3",name:"Evening Slot",startTime:"19:00",endTime:"21:00",capacity:50,cutoffTime:"18:00",isActive:!0,days:["monday","tuesday","wednesday","thursday","friday","saturday","sunday"]}]),[s,a]=_.useState("00:30"),[n,i]=_.useState(7),[l,o]=_.useState([{id:"1",date:"2026-01-26",name:"Republic Day"},{id:"2",date:"2026-08-15",name:"Independence Day"},{id:"3",date:"2026-10-02",name:"Gandhi Jayanti"}]),[u,d]=_.useState({date:"",name:"",description:""}),m=[{key:"monday",label:"Mon"},{key:"tuesday",label:"Tue"},{key:"wednesday",label:"Wed"},{key:"thursday",label:"Thu"},{key:"friday",label:"Fri"},{key:"saturday",label:"Sat"},{key:"sunday",label:"Sun"}],f=()=>{const N={id:Date.now().toString(),name:`Slot ${e.length+1}`,startTime:"10:00",endTime:"12:00",capacity:30,cutoffTime:"09:00",isActive:!0,days:["monday","tuesday","wednesday","thursday","friday","saturday"]};t([...e,N])},g=(N,k)=>{t(e.map(w=>w.id===N?{...w,...k}:w))},p=N=>{t(e.filter(k=>k.id!==N))},y=(N,k)=>{const w=e.find(C=>C.id===N);if(!w)return;const A=w.days.includes(k)?w.days.filter(C=>C!==k):[...w.days,k];g(N,{days:A})},v=()=>{if(!u.date||!u.name)return;const N={id:Date.now().toString(),...u};o([...l,N]),d({date:"",name:"",description:""})},j=N=>{o(l.filter(k=>k.id!==N))};return r.jsxs("div",{className:"space-y-4 sm:space-y-6 p-3 sm:p-4 md:p-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Delivery Slots"}),r.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1",children:"Configure delivery time slots and capacity"})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[r.jsxs(ce,{variant:"secondary",onClick:f,className:"w-full sm:w-auto",children:[r.jsx(hr,{className:"mr-2 h-5 w-5"}),"Add Slot"]}),r.jsxs(ce,{className:"w-full sm:w-auto",children:[r.jsx(Ii,{className:"mr-2 h-5 w-5"}),"Save Changes"]})]})]}),r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6 p-4 bg-blue-50 rounded-lg border border-blue-100",children:[r.jsx(wr,{className:"h-5 w-5 text-blue-600"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Time Slots Configuration"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Set up available delivery time slots with cut-off times"})]})]}),r.jsx("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"p-1 bg-yellow-100 rounded",children:r.jsx(wr,{className:"h-4 w-4 text-yellow-700"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-yellow-900 text-sm",children:"Cut-off Time Limit"}),r.jsx("p",{className:"text-sm text-yellow-800 mt-1",children:"Set a cut-off time for each delivery slot. Orders placed after the cut-off time will not be accepted for that slot. For example, if a slot is 7:00 AM - 9:00 AM with a cut-off at 6:00 AM, customers must order before 6:00 AM to get delivery in that slot."})]})]})}),r.jsx("div",{className:"space-y-6",children:e.map(N=>r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",checked:N.isActive,onChange:k=>g(N.id,{isActive:k.target.checked}),className:"w-4 h-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-900",children:N.name}),r.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:[N.startTime," - ",N.endTime]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ce,{variant:"ghost",size:"sm",children:r.jsx(vs,{className:"h-4 w-4 text-gray-600"})}),r.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>p(N.id),children:r.jsx(Sr,{className:"h-4 w-4 text-red-500"})})]})]}),r.jsxs("div",{className:"grid gap-4 grid-cols-5",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Slot Name"}),r.jsx(he,{value:N.name,onChange:k=>g(N.id,{name:k.target.value}),className:"w-full"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Time"}),r.jsxs("div",{className:"relative",children:[r.jsx(he,{type:"time",value:N.startTime,onChange:k=>g(N.id,{startTime:k.target.value}),className:"w-full"}),r.jsx(wr,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Time"}),r.jsxs("div",{className:"relative",children:[r.jsx(he,{type:"time",value:N.endTime,onChange:k=>g(N.id,{endTime:k.target.value}),className:"w-full"}),r.jsx(wr,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Cut-off Time",r.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"(Order deadline)"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(he,{type:"time",value:N.cutoffTime,onChange:k=>g(N.id,{cutoffTime:k.target.value}),className:"w-full bg-yellow-50 border-yellow-300"}),r.jsx(wr,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-yellow-600 pointer-events-none"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Orders accepted until"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Capacity"}),r.jsx(he,{type:"number",value:N.capacity,onChange:k=>g(N.id,{capacity:parseInt(k.target.value)}),className:"w-full"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Available Days"}),r.jsx("div",{className:"flex gap-2",children:m.map(k=>r.jsx("button",{onClick:()=>y(N.id,k.key),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${N.days.includes(k.key)?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:k.label},k.key))})]}),r.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-600 pt-2 border-t",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Mr,{className:"h-4 w-4"}),r.jsxs("span",{children:["Capacity: ",N.capacity," orders"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(hs,{className:"h-4 w-4"}),r.jsxs("span",{children:[N.days.length," days active"]})]})]})]},N.id))})]}),r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[r.jsx("div",{className:"rounded-lg bg-green-50 p-2",children:r.jsx(hs,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-base sm:text-lg font-semibold",children:"Delivery Settings"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Configure delivery rules and restrictions"})]})]}),r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Next Day Delivery Cut-off Time"}),r.jsx(he,{type:"time",value:s,onChange:N=>a(N.target.value)}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:"Orders placed after this time will be scheduled for the next available day"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Advance Booking Days"}),r.jsx(he,{type:"number",value:n,onChange:N=>i(parseInt(N.target.value)),min:"1",max:"30"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:"Maximum days in advance customers can book delivery"})]})]}),r.jsxs("div",{className:"border-t pt-4 sm:pt-6",children:[r.jsx("h3",{className:"font-medium mb-4 text-sm sm:text-base",children:"Delivery Restrictions"}),r.jsx("div",{className:"space-y-3",children:[{label:"Allow same-day delivery",desc:"Enable delivery on the same day if ordered before cut-off time"},{label:"Block delivery on holidays",desc:"Automatically disable delivery slots on public holidays"},{label:"Enable express delivery",desc:"Allow customers to pay extra for priority delivery"},{label:"Weekend delivery",desc:"Enable delivery slots on weekends"}].map((N,k)=>r.jsxs("div",{className:"flex items-start sm:items-center justify-between py-2 gap-3",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium text-xs sm:text-sm",children:N.label}),r.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:N.desc})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer flex-shrink-0",children:[r.jsx("input",{type:"checkbox",defaultChecked:!0,className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 rounded-full peer peer-checked:bg-blue-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]})]},k))})]})]})]}),r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[r.jsx("div",{className:"rounded-lg bg-purple-50 p-2",children:r.jsx(Mr,{className:"h-4 w-4 sm:h-5 sm:w-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-base sm:text-lg font-semibold",children:"Slot Performance"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Current week's slot utilization"})]})]}),r.jsx("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:e.filter(N=>N.isActive).map(N=>{const k=Math.floor(Math.random()*80)+20;return r.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"font-medium text-sm",children:N.name}),r.jsxs("span",{className:"text-xs text-gray-500",children:[N.startTime," - ",N.endTime]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:"Utilization"}),r.jsxs("span",{className:"font-medium",children:[k,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${k}%`}})}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[r.jsxs("span",{children:[Math.floor(N.capacity*k/100)," / ",N.capacity]}),r.jsx("span",{children:"orders"})]})]})]},N.id)})})]}),r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"rounded-lg bg-red-50 p-2",children:r.jsx(hs,{className:"h-5 w-5 text-red-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Holiday Management"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Block delivery on specific dates"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 bg-gray-50 rounded-lg",children:[r.jsx(he,{label:"Date",type:"date",value:u.date,onChange:N=>d({...u,date:N.target.value})}),r.jsx(he,{label:"Holiday Name",value:u.name,onChange:N=>d({...u,name:N.target.value}),placeholder:"e.g., Diwali"}),r.jsx("div",{className:"flex items-end",children:r.jsxs(ce,{onClick:v,className:"w-full",children:[r.jsx(hr,{className:"mr-2 h-4 w-4"}),"Add Holiday"]})})]}),r.jsx("div",{className:"space-y-2",children:l.length===0?r.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No holidays configured"}):l.map(N=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(hs,{className:"h-4 w-4 text-gray-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-sm",children:N.name}),r.jsx("p",{className:"text-xs text-gray-500",children:new Date(N.date).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})})]})]}),r.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>j(N.id),children:r.jsx(Sr,{className:"h-4 w-4 text-red-500"})})]},N.id))})]})]})]})}function V1(){const[e,t]=_.useState({freeDeliveryThreshold:500,shipmentModel:"hub_only",hubDeliveryCharge:40,storeDeliveryCharge:30,expressDeliveryEnabled:!0,expressDeliveryCharge:50,weightBasedChargesEnabled:!0,surgeChargesEnabled:!1,surgeCharge:50,surgeChargeDescription:"Mon-Sat, day delivery"}),[s,a]=_.useState([{id:"1",name:"Zone A - Central",areas:["T Nagar","Anna Nagar","Adyar","Mylapore"],baseCharge:30,freeDeliveryThreshold:500,expressCharge:40,expressDeliveryEnabled:!0,isActive:!0},{id:"2",name:"Zone B - North",areas:["Ambattur","Avadi","Red Hills","Poonamallee"],baseCharge:40,freeDeliveryThreshold:600,expressCharge:50,expressDeliveryEnabled:!0,isActive:!0},{id:"3",name:"Zone C - South",areas:["Tambaram","Chrompet","Pallavaram","Medavakkam"],baseCharge:45,freeDeliveryThreshold:700,expressCharge:60,expressDeliveryEnabled:!1,isActive:!0}]),[n]=_.useState([{minWeight:0,maxWeight:2,charge:0},{minWeight:2,maxWeight:5,charge:10},{minWeight:5,maxWeight:10,charge:20},{minWeight:10,maxWeight:20,charge:40}]),i=()=>{const u={id:Date.now().toString(),name:`Zone ${s.length+1}`,areas:[],baseCharge:35,freeDeliveryThreshold:500,expressCharge:45,expressDeliveryEnabled:!0,isActive:!0};a([...s,u])},l=(u,d)=>{a(s.map(m=>m.id===u?{...m,...d}:m))},o=u=>{a(s.filter(d=>d.id!==u))};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Shipping Charges"}),r.jsx("p",{className:"text-gray-600",children:"Configure delivery charges and shipping zones"})]}),r.jsxs(ce,{children:[r.jsx(Ii,{className:"mr-2 h-5 w-5"}),"Save All Changes"]})]}),r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"rounded-lg bg-blue-50 p-2",children:r.jsx(zr,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Global Shipping Settings"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Default shipping configuration"})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"border-b pb-6",children:[r.jsx("h3",{className:"font-medium mb-4",children:"Shipment Delivery Model"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("label",{className:"flex items-start gap-3 p-4 border-2 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[r.jsx("input",{type:"radio",name:"shipmentModel",checked:e.shipmentModel==="hub_only",onChange:()=>t({...e,shipmentModel:"hub_only"}),className:"mt-1"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(zr,{className:"h-5 w-5 text-blue-600"}),r.jsx("span",{className:"font-medium",children:"Shipment 1: Hub Delivery Only"})]}),r.jsx("p",{className:"text-sm text-gray-600",children:"Direct delivery from hub to customer. Single delivery charge applies."}),r.jsxs("div",{className:"mt-2 text-xs text-gray-500 bg-blue-50 p-2 rounded",children:["Example: Hub  Customer (",e.hubDeliveryCharge,")"]})]})]}),r.jsxs("label",{className:"flex items-start gap-3 p-4 border-2 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[r.jsx("input",{type:"radio",name:"shipmentModel",checked:e.shipmentModel==="hub_and_store",onChange:()=>t({...e,shipmentModel:"hub_and_store"}),className:"mt-1"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(zr,{className:"h-5 w-5 text-purple-600"}),r.jsx("span",{className:"font-medium",children:"Shipment 2: Hub + Store Delivery"})]}),r.jsx("p",{className:"text-sm text-gray-600",children:"Two-tier delivery: Hub to Store, then Store to Customer. Combined charges apply."}),r.jsxs("div",{className:"mt-2 text-xs text-gray-500 bg-purple-50 p-2 rounded",children:["Example: Hub  Store (",e.hubDeliveryCharge,") + Store  Customer (",e.storeDeliveryCharge,") = Total: ",e.hubDeliveryCharge+e.storeDeliveryCharge]})]})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium mb-3",children:"Free Delivery Threshold"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm",children:"Free delivery for orders above"}),r.jsx(he,{type:"number",value:e.freeDeliveryThreshold,onChange:u=>t({...e,freeDeliveryThreshold:parseInt(u.target.value)}),className:"w-24"}),r.jsx("span",{className:"text-sm",children:""})]})]}),r.jsxs("div",{children:[r.jsxs("h3",{className:"font-medium mb-3",children:["Delivery Charges Configuration",r.jsxs("span",{className:"ml-2 text-sm font-normal text-gray-500",children:["(",e.shipmentModel==="hub_only"?"Hub Only Model":"Hub + Store Model",")"]})]}),r.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hub Delivery Charge ()"}),r.jsx(he,{type:"number",value:e.hubDeliveryCharge,onChange:u=>t({...e,hubDeliveryCharge:parseInt(u.target.value)})}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e.shipmentModel==="hub_only"?"Direct hub-to-customer delivery charge":"Hub-to-store delivery charge"})]}),e.shipmentModel==="hub_and_store"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Store Delivery Charge ()"}),r.jsx(he,{type:"number",value:e.storeDeliveryCharge,onChange:u=>t({...e,storeDeliveryCharge:parseInt(u.target.value)})}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Store-to-customer delivery charge"})]})]}),e.shipmentModel==="hub_and_store"&&r.jsx("div",{className:"mt-3 p-3 bg-purple-50 border border-purple-200 rounded-lg",children:r.jsxs("p",{className:"text-sm text-purple-800",children:[r.jsx("strong",{children:"Total Delivery Charge:"})," ",e.hubDeliveryCharge+e.storeDeliveryCharge,r.jsxs("span",{className:"text-xs ml-2",children:["(Hub: ",e.hubDeliveryCharge," + Store: ",e.storeDeliveryCharge,")"]})]})})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium mb-3",children:"Express Delivery"}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"flex-1",children:r.jsx(he,{label:"Extra Charge ()",type:"number",value:e.expressDeliveryCharge,onChange:u=>t({...e,expressDeliveryCharge:parseInt(u.target.value)})})}),r.jsx("div",{className:"pt-6",children:r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:e.expressDeliveryEnabled,onChange:u=>t({...e,expressDeliveryEnabled:u.target.checked}),className:"rounded"}),r.jsx("span",{className:"text-sm",children:"Enable Express Delivery"})]})})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium mb-3",children:"Surge Charges"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:e.surgeChargesEnabled,onChange:u=>t({...e,surgeChargesEnabled:u.target.checked}),className:"rounded"}),r.jsx("span",{className:"text-sm font-medium",children:"Apply Surge Charges"})]}),e.surgeChargesEnabled&&r.jsxs("div",{className:"pl-6 space-y-3",children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Apply surge charges for premium day delivery"}),r.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[r.jsx(he,{label:"Surge Charge ()",type:"number",value:e.surgeCharge,onChange:u=>t({...e,surgeCharge:parseInt(u.target.value)})}),r.jsx(he,{label:"Description",value:e.surgeChargeDescription,onChange:u=>t({...e,surgeChargeDescription:u.target.value}),placeholder:"e.g., Mon-Sat, day delivery"})]})]})]})]})]})]}),r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"rounded-lg bg-green-50 p-2",children:r.jsx(qs,{className:"h-5 w-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Shipping Zones"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Configure zone-specific delivery charges"})]})]}),r.jsxs(ce,{variant:"secondary",onClick:i,children:[r.jsx(hr,{className:"mr-2 h-5 w-5"}),"Add Zone"]})]}),r.jsx("div",{className:"space-y-4",children:s.map(u=>r.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",checked:u.isActive,onChange:d=>l(u.id,{isActive:d.target.checked}),className:"rounded"}),r.jsx("span",{className:"font-medium",children:u.name}),r.jsxs("span",{className:"text-sm text-gray-500",children:[u.areas.length," areas"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ce,{variant:"ghost",size:"sm",children:r.jsx(vs,{className:"h-5 w-5"})}),r.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>o(u.id),children:r.jsx(Sr,{className:"h-5 w-5 text-red-500"})})]})]}),r.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[r.jsx(he,{label:"Zone Name",value:u.name,onChange:d=>l(u.id,{name:d.target.value})}),r.jsx(he,{label:"Base Charge ()",type:"number",value:u.baseCharge,onChange:d=>l(u.id,{baseCharge:parseInt(d.target.value)})}),r.jsx(he,{label:"Free Delivery Above ()",type:"number",value:u.freeDeliveryThreshold,onChange:d=>l(u.id,{freeDeliveryThreshold:parseInt(d.target.value)})})]}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(mh,{className:"h-5 w-5 text-yellow-600"}),r.jsx("h4",{className:"font-medium text-gray-900",children:"Express Delivery"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:u.expressDeliveryEnabled,onChange:d=>l(u.id,{expressDeliveryEnabled:d.target.checked}),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 rounded-full peer peer-checked:bg-green-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]})]}),u.expressDeliveryEnabled?r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:[r.jsx(he,{label:"Express Delivery Charge ()",type:"number",value:u.expressCharge,onChange:d=>l(u.id,{expressCharge:parseInt(d.target.value)}),className:"bg-white"}),r.jsx("p",{className:"text-xs text-yellow-700 mt-2",children:"Additional charge for express/priority delivery in this zone"})]}):r.jsx("p",{className:"text-sm text-gray-500 bg-gray-50 p-3 rounded-lg",children:"Express delivery is disabled for this zone"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Coverage Areas"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.areas.map((d,m)=>r.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded-full text-xs",children:d},m)),r.jsx("button",{className:"px-2 py-1 border border-dashed border-gray-300 rounded-full text-xs text-gray-500 hover:border-gray-400",children:"+ Add Area"})]})]})]},u.id))})]}),r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"rounded-lg bg-purple-50 p-2",children:r.jsx(dh,{className:"h-5 w-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Weight-Based Additional Charges"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Extra charges based on order weight"})]})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:e.weightBasedChargesEnabled,onChange:u=>t({...e,weightBasedChargesEnabled:u.target.checked}),className:"rounded"}),r.jsx("span",{className:"text-sm font-medium",children:"Enable Weight-Based Charges"})]})]}),r.jsx("div",{className:"space-y-4",children:n.map((u,d)=>r.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(he,{type:"number",value:u.minWeight,className:"w-20",disabled:!0}),r.jsx("span",{className:"text-sm text-gray-500",children:"to"}),r.jsx(he,{type:"number",value:u.maxWeight,className:"w-20",disabled:!0}),r.jsx("span",{className:"text-sm text-gray-500",children:"kg"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm",children:"Additional charge:"}),r.jsx(he,{type:"number",value:u.charge,className:"w-20",disabled:!e.weightBasedChargesEnabled}),r.jsx("span",{className:"text-sm",children:""})]})]},d))})]}),r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"rounded-lg bg-orange-50 p-2",children:r.jsx(mh,{className:"h-5 w-5 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Shipping Calculator Preview"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Test your shipping charges configuration"})]})]}),r.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[r.jsx(Dt,{label:"Select Zone",options:s.map(u=>({value:u.id,label:u.name}))}),r.jsx(he,{label:"Order Value ()",type:"number",placeholder:"1000"}),r.jsx(he,{label:"Weight (kg)",type:"number",placeholder:"3"})]}),r.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:[r.jsx("h3",{className:"font-medium mb-2",children:"Calculated Charges:"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Base Delivery Charge:"}),r.jsx("span",{children:"30"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Weight-based Charge:"}),r.jsx("span",{children:"10"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Express Delivery:"}),r.jsx("span",{children:"40"})]}),r.jsxs("div",{className:"flex justify-between text-red-600",children:[r.jsx("span",{children:"Free Delivery Discount:"}),r.jsx("span",{children:"-30"})]}),r.jsxs("div",{className:"border-t pt-1 flex justify-between font-medium",children:[r.jsx("span",{children:"Total Shipping:"}),r.jsx("span",{children:"50"})]})]})]})]})]})}function W1(){const[e,t]=_.useState([{id:"razorpay",name:"Razorpay",description:"Payment Gateway for secure online transactions",icon:Jn,connected:!0,status:"active",category:"payment",config:{keyId:"rzp_test_****"}},{id:"gpay",name:"Google Pay (GPay)",description:"UPI payment integration",icon:Jn,connected:!1,status:"inactive",category:"payment"},{id:"google-analytics-4",name:"Google Analytics 4",description:"Free baseline tracking",icon:Yn,connected:!1,status:"inactive",category:"analytics"},{id:"google-search-console",name:"Google Search Console",description:"Free SEO monitoring",icon:wm,connected:!1,status:"inactive",category:"analytics"},{id:"google-merchant-center",name:"Google Merchant Center",description:"Free product feed",icon:wm,connected:!1,status:"inactive",category:"analytics"},{id:"schema-markup",name:"Schema Markup",description:"Technical SEO",icon:wm,connected:!1,status:"inactive",category:"analytics"},{id:"google-ads",name:"Google Ads",description:"Paid search + Shopping campaigns",icon:Yn,connected:!1,status:"inactive",category:"analytics"},{id:"meta-pixel",name:"Meta Pixel + Meta Ads",description:"Retargeting + social ads",icon:Yn,connected:!1,status:"inactive",category:"analytics"},{id:"google-tag-manager",name:"Google Tag Manager",description:"Event tracking setup",icon:Yn,connected:!1,status:"inactive",category:"analytics"},{id:"rank-math",name:"Rank Math",description:"On-page optimization",icon:wm,connected:!1,status:"inactive",category:"analytics"},{id:"robots-txt",name:"Robots.txt Configuration",description:"Search engine crawling rules",icon:wm,connected:!1,status:"inactive",category:"analytics"},{id:"google-maps",name:"Google Maps",description:"Location services and route optimization",icon:qs,connected:!0,status:"active",category:"location",config:{apiKey:"AIza****"}},{id:"sms-gateway",name:"SMS Gateway",description:"OTP and notification SMS service",icon:Hf,connected:!0,status:"active",category:"communication",config:{apiKey:"sms_****"}},{id:"whatsapp-business",name:"WhatsApp Business",description:"Order updates and customer communication",icon:Hf,connected:!1,status:"inactive",category:"communication"},{id:"sendgrid",name:"SendGrid",description:"Email delivery service for notifications",icon:Dm,connected:!1,status:"inactive",category:"communication"}]),[s,a]=_.useState(null),n=u=>{t(e.map(d=>d.id===u?{...d,connected:!d.connected,status:d.connected?"inactive":"active"}:d))},i=u=>{switch(u){case"active":return"text-green-600";case"error":return"text-red-600";default:return"text-gray-500"}},l=u=>u==="active"?Cr:uh,o=[{key:"payment",label:"Payment Gateways",color:"bg-green-50 text-green-700"},{key:"analytics",label:"Analytics & SEO",color:"bg-orange-50 text-orange-700"},{key:"location",label:"Location Services",color:"bg-purple-50 text-purple-700"},{key:"communication",label:"Communication",color:"bg-blue-50 text-blue-700"}];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Integrations"}),r.jsx("p",{className:"text-gray-600",children:"Connect and configure third-party services"})]}),r.jsxs(ce,{children:[r.jsx(Ii,{className:"mr-2 h-5 w-5"}),"Save All Changes"]})]}),o.map(u=>{const d=e.filter(m=>m.category===u.key);return d.length===0?null:r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:`rounded-lg p-2 ${u.color.replace("text-","bg-").replace("-700","-100")}`,children:r.jsx(n6,{className:`h-5 w-5 ${u.color}`})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold",children:u.label}),r.jsxs("p",{className:"text-sm text-gray-600",children:[d.length," services available"]})]})]}),r.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:d.map(m=>{const f=l(m.status);return r.jsxs("div",{className:"border rounded-lg p-4 hover:border-gray-300 transition-colors",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"rounded-lg bg-gray-100 p-2",children:r.jsx(m.icon,{className:"h-5 w-5 text-gray-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",children:m.name}),r.jsx("p",{className:"text-sm text-gray-500",children:m.description})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(f,{className:`h-4 w-4 ${i(m.status)}`}),r.jsx("span",{className:`text-sm ${i(m.status)}`,children:m.connected?m.status==="error"?"Error":"Connected":"Not Connected"})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:m.connected,onChange:()=>n(m.id),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 rounded-full peer peer-checked:bg-blue-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]}),r.jsx("span",{className:"text-sm text-gray-600",children:m.connected?"Enabled":"Disabled"})]}),r.jsxs(ce,{variant:"secondary",size:"sm",onClick:()=>a(m),disabled:!m.connected,children:[r.jsx(nl,{className:"h-4 w-4 mr-1"}),"Configure"]})]})]},m.id)})})]},u.key)}),s&&r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[r.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:()=>a(null)}),r.jsxs(ae,{className:"relative w-full max-w-2xl",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"rounded-lg bg-gray-100 p-2",children:r.jsx(s.icon,{className:"h-5 w-5 text-gray-600"})}),r.jsxs("div",{children:[r.jsxs("h2",{className:"text-xl font-semibold",children:[s.name," Configuration"]}),r.jsx("p",{className:"text-sm text-gray-600",children:s.description})]})]}),r.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>a(null),children:""})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(he,{label:"API Key / Configuration",placeholder:"Enter configuration details"}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[r.jsx(ce,{variant:"secondary",onClick:()=>a(null),children:"Cancel"}),r.jsxs(ce,{children:[r.jsx(Ii,{className:"h-5 w-5 mr-2"}),"Save Configuration"]})]})]})]})]})}),r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"rounded-lg bg-indigo-50 p-2",children:r.jsx(Yn,{className:"h-5 w-5 text-indigo-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Integration Status"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Overview of all integrations"})]})]}),r.jsxs("div",{className:"grid gap-4 sm:grid-cols-4",children:[r.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.filter(u=>u.status==="active").length}),r.jsx("div",{className:"text-sm text-green-600",children:"Active"})]}),r.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-red-600",children:e.filter(u=>u.status==="error").length}),r.jsx("div",{className:"text-sm text-red-600",children:"Errors"})]}),r.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-600",children:e.filter(u=>u.status==="inactive").length}),r.jsx("div",{className:"text-sm text-gray-600",children:"Inactive"})]}),r.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.length}),r.jsx("div",{className:"text-sm text-blue-600",children:"Total"})]})]})]})]})}function G1(){const[e,t]=_.useState({newOrderAlerts:!0,lowStockAlerts:!0,paymentFailureAlerts:!0,customerSupportAlerts:!0,dailySummaryEmail:!0,orderStatusUpdates:!0,promotionalEmails:!1,maintenanceAlerts:!0}),[s,a]=_.useState({enabled:!1,expiryDate:"",alertType:"email",daysBefore:7,message:"Important notification settings will expire on {expiry_date}. Please review and update your preferences."}),[n,i]=_.useState({enabled:!0,type:"loyalty_points",alertMethods:["email","push"],daysBefore:7,customMessage:"",autoReminder:!0,reminderFrequency:3,trackingEnabled:!0,includeClickTracking:!0}),[l,o]=_.useState({enabled:!0,type:"wallet_cash",alertMethods:["email","sms"],daysBefore:14,customMessage:"",autoReminder:!1,reminderFrequency:7,trackingEnabled:!0,includeClickTracking:!1}),[u,d]=_.useState([{id:"1",name:"Order Confirmation",type:"email",trigger:"order_placed",subject:"Order Confirmed - #{order_id}",content:"Dear {customer_name}, your order #{order_id} has been confirmed. Total amount: {order_total}. Expected delivery: {delivery_date}.",isActive:!0,variables:["customer_name","order_id","order_total","delivery_date"]},{id:"2",name:"Order Status Update",type:"sms",trigger:"order_status_changed",content:"Hi {customer_name}, your order #{order_id} is now {order_status}. Track: {tracking_url}",isActive:!0,variables:["customer_name","order_id","order_status","tracking_url"]},{id:"3",name:"Low Stock Alert",type:"email",trigger:"low_stock",subject:"Low Stock Alert - {product_name}",content:"Product {product_name} is running low. Current stock: {current_stock}. Minimum threshold: {min_threshold}.",isActive:!0,variables:["product_name","current_stock","min_threshold"]},{id:"4",name:"Payment Failed",type:"push",trigger:"payment_failed",content:"Payment failed for order #{order_id}. Please try again or contact support.",isActive:!0,variables:["order_id","customer_name"]}]),[m,f]=_.useState(null),[g,p]=_.useState(!1),y=[{value:"email",label:"Email",icon:Dm,color:"text-blue-600"},{value:"sms",label:"SMS",icon:Hf,color:"text-green-600"},{value:"push",label:"Push Notification",icon:Am,color:"text-purple-600"},{value:"whatsapp",label:"WhatsApp",icon:Hf,color:"text-green-600"}],v=k=>{t(w=>({...w,[k]:!w[k]}))},j=()=>{const k={id:Date.now().toString(),name:"New Template",type:"email",trigger:"custom",subject:"",content:"",isActive:!1,variables:[]};d([...u,k]),f(k),p(!0)},N=()=>{console.log("Saving notification settings:",{notificationSettings:e,expiryDateAlert:s,loyaltyPointsAlert:n,walletCashAlert:l,templates:u}),alert("Notification settings saved successfully!")};return r.jsxs("div",{className:"space-y-4 sm:space-y-6 p-3 sm:p-4 md:p-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Notification Customization"}),r.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1",children:"Configure notification settings and templates"})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[r.jsxs(ce,{variant:"secondary",onClick:j,className:"w-full sm:w-auto",children:[r.jsx(hr,{className:"mr-2 h-5 w-5"}),"Add Template"]}),r.jsxs(ce,{className:"w-full sm:w-auto",onClick:N,children:[r.jsx(Ii,{className:"mr-2 h-5 w-5"}),"Save All Changes"]})]})]}),r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[r.jsx("div",{className:"rounded-lg bg-blue-50 p-2",children:r.jsx(Am,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-base sm:text-lg font-semibold",children:"Notification Settings"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Enable or disable notification types"})]})]}),r.jsx("div",{className:"grid gap-3 sm:gap-4 grid-cols-1 md:grid-cols-2",children:[{key:"newOrderAlerts",label:"New Order Alerts",desc:"Get notified when a new order is placed"},{key:"lowStockAlerts",label:"Low Stock Alerts",desc:"Alert when product stock falls below threshold"},{key:"paymentFailureAlerts",label:"Payment Failure Alerts",desc:"Notify on payment failures"},{key:"customerSupportAlerts",label:"Customer Support Alerts",desc:"New support tickets and messages"},{key:"dailySummaryEmail",label:"Daily Summary Email",desc:"Receive daily sales and order summary"},{key:"orderStatusUpdates",label:"Order Status Updates",desc:"Notify customers about order status changes"},{key:"promotionalEmails",label:"Promotional Emails",desc:"Send marketing and promotional content"},{key:"maintenanceAlerts",label:"Maintenance Alerts",desc:"System maintenance and downtime notifications"}].map(k=>r.jsxs("div",{className:"flex items-start sm:items-center justify-between p-3 sm:p-4 border rounded-lg gap-3",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-medium text-xs sm:text-sm truncate",children:k.label}),r.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:k.desc})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer flex-shrink-0",children:[r.jsx("input",{type:"checkbox",checked:e[k.key],onChange:()=>v(k.key),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 rounded-full peer peer-checked:bg-blue-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]})]},k.key))})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"rounded-lg bg-orange-50 p-2",children:r.jsx(ls,{className:"h-5 w-5 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Customer Expiry Alerts"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Notify customers before their loyalty points and wallet cash expire"})]})]}),r.jsxs("div",{className:"grid gap-4 lg:grid-cols-2",children:[r.jsx(_P,{config:n,onChange:i}),r.jsx(_P,{config:l,onChange:o})]})]}),r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[r.jsx("div",{className:"rounded-lg bg-green-50 p-2",children:r.jsx(vs,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-base sm:text-lg font-semibold",children:"Notification Templates"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Customize notification messages and content"})]})]}),r.jsx("div",{className:"space-y-4",children:u.map(k=>{const w=y.find(C=>C.value===k.type)?.icon||Am,A=y.find(C=>C.value===k.type)?.color||"text-gray-600";return r.jsxs("div",{className:"border rounded-lg p-3 sm:p-4",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-wrap",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:k.isActive,onChange:C=>{d(u.map(M=>M.id===k.id?{...M,isActive:C.target.checked}:M))},className:"rounded"}),r.jsx(w,{className:`h-4 w-4 ${A}`}),r.jsx("span",{className:"font-medium text-sm sm:text-base",children:k.name})]}),r.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded-full text-xs capitalize",children:k.type}),r.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-600 rounded-full text-xs",children:k.trigger.replace("_"," ")})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>f(k),children:r.jsx(Fr,{className:"h-5 w-5"})}),r.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>{f(k),p(!0)},children:r.jsx(vs,{className:"h-5 w-5"})})]})]}),k.subject&&r.jsxs("div",{className:"mb-2",children:[r.jsx("span",{className:"text-xs text-gray-500",children:"Subject:"}),r.jsx("p",{className:"text-xs sm:text-sm font-medium truncate",children:k.subject})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("span",{className:"text-xs text-gray-500",children:"Content:"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-700 line-clamp-2",children:k.content})]}),r.jsx("div",{className:"flex flex-wrap gap-1",children:k.variables.map(C=>r.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-700 rounded text-xs",children:`{${C}}`},C))})]},k.id)})})]}),r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[r.jsx("div",{className:"rounded-lg bg-purple-50 p-2",children:r.jsx(Dm,{className:"h-4 w-4 sm:h-5 sm:w-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-base sm:text-lg font-semibold",children:"Email Configuration"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Configure email sender settings"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2",children:[r.jsx(he,{label:"From Name",defaultValue:"BAYHAWK",placeholder:"Your Business Name"}),r.jsx(he,{label:"From Email",type:"email",defaultValue:"noreply@bayhawk.com",placeholder:"noreply@yourdomain.com"})]}),r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2",children:[r.jsx(he,{label:"Reply-To Email",type:"email",defaultValue:"support@bayhawk.com",placeholder:"support@yourdomain.com"}),r.jsx(Dt,{label:"Email Provider",options:[{value:"sendgrid",label:"SendGrid"},{value:"mailgun",label:"Mailgun"},{value:"ses",label:"Amazon SES"},{value:"smtp",label:"Custom SMTP"}]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Signature"}),r.jsx("textarea",{className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:4,defaultValue:`Best regards,
BAYHAWK Team
support@bayhawk.com
+91 9876543210`})]})]})]}),r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[r.jsx("div",{className:"rounded-lg bg-orange-50 p-2",children:r.jsx(Hf,{className:"h-4 w-4 sm:h-5 sm:w-5 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-base sm:text-lg font-semibold",children:"SMS Configuration"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Configure SMS notification settings"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-3",children:[r.jsx(he,{label:"Sender ID",defaultValue:"BAYHWK",placeholder:"SENDER",maxLength:6}),r.jsx(Dt,{label:"SMS Provider",options:[{value:"twilio",label:"Twilio"},{value:"textlocal",label:"TextLocal"},{value:"msg91",label:"MSG91"},{value:"custom",label:"Custom Gateway"}]}),r.jsx(he,{label:"Character Limit",type:"number",defaultValue:"160",min:"70",max:"1600"})]}),r.jsxs("div",{className:"p-3 sm:p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(AQ,{className:"h-4 w-4 text-yellow-600 flex-shrink-0"}),r.jsx("span",{className:"font-medium text-sm sm:text-base text-yellow-800",children:"SMS Usage Guidelines"})]}),r.jsxs("ul",{className:"text-xs sm:text-sm text-yellow-700 space-y-1",children:[r.jsx("li",{children:" Keep messages under 160 characters for single SMS"}),r.jsx("li",{children:" Use approved sender ID registered with telecom operators"}),r.jsx("li",{children:" Include opt-out instructions for promotional messages"}),r.jsx("li",{children:" Avoid sending messages during restricted hours (9 PM - 9 AM)"})]})]})]})]}),r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[r.jsx("div",{className:"rounded-lg bg-red-50 p-2",children:r.jsx(ls,{className:"h-4 w-4 sm:h-5 sm:w-5 text-red-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-base sm:text-lg font-semibold",children:"Expiry Date Alert"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Set expiry date for notification settings and configure alerts"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-start sm:items-center justify-between p-3 sm:p-4 border rounded-lg gap-3",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-medium text-xs sm:text-sm",children:"Enable Expiry Date Alert"}),r.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Send notifications before settings expire"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer flex-shrink-0",children:[r.jsx("input",{type:"checkbox",checked:s.enabled,onChange:k=>a(w=>({...w,enabled:k.target.checked})),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 rounded-full peer peer-checked:bg-blue-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]})]}),s.enabled&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:[r.jsx(hs,{className:"inline h-4 w-4 mr-1"}),"Expiry Date"]}),r.jsx("input",{type:"date",value:s.expiryDate,onChange:k=>a(w=>({...w,expiryDate:k.target.value})),className:"w-full rounded-lg border border-gray-300 px-3 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:new Date().toISOString().split("T")[0]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Days Before Expiry"}),r.jsx("input",{type:"number",value:s.daysBefore,onChange:k=>a(w=>({...w,daysBefore:parseInt(k.target.value)||7})),min:"1",max:"30",className:"w-full rounded-lg border border-gray-300 px-3 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Alert Type"}),r.jsxs("select",{value:s.alertType,onChange:k=>a(w=>({...w,alertType:k.target.value})),className:"w-full rounded-lg border border-gray-300 bg-white px-3 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent cursor-pointer",children:[r.jsx("option",{value:"email",children:"Email"}),r.jsx("option",{value:"sms",children:"SMS"}),r.jsx("option",{value:"push",children:"Push Notification"})]})]}),r.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gray-50 rounded-lg",children:[r.jsx(ls,{className:"h-4 w-4 text-amber-600 flex-shrink-0"}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("p",{className:"text-xs font-medium text-amber-800",children:"Status"}),r.jsx("p",{className:"text-xs text-amber-700",children:s.expiryDate?(()=>{const k=new Date(s.expiryDate),w=new Date,A=Math.ceil((k.getTime()-w.getTime())/(1e3*60*60*24));return A<0?"Expired":A===0?"Expires today":A<=s.daysBefore?`Expires in ${A} days`:`Active (${A} days remaining)`})():"No expiry date set"})]}),s.expiryDate&&(()=>{const k=new Date(s.expiryDate),w=new Date,A=Math.ceil((k.getTime()-w.getTime())/(1e3*60*60*24));return A<0?r.jsx(at,{variant:"danger",className:"text-xs",children:"Expired"}):A===0?r.jsx(at,{variant:"warning",className:"text-xs",children:"Today"}):A<=s.daysBefore?r.jsxs(at,{variant:"warning",className:"text-xs",children:[A," days"]}):r.jsx(at,{variant:"success",className:"text-xs",children:"Active"})})()]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Alert Message"}),r.jsx("textarea",{value:s.message,onChange:k=>a(w=>({...w,message:k.target.value})),rows:3,className:"w-full rounded-lg border border-gray-300 px-3 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter alert message..."}),r.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[r.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs",children:"{expiry_date}"}),r.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs",children:"{days_remaining}"}),r.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs",children:"{settings_name}"})]})]}),s.expiryDate&&r.jsxs("div",{className:"p-3 sm:p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Am,{className:"h-4 w-4 text-blue-600 flex-shrink-0"}),r.jsx("span",{className:"font-medium text-sm sm:text-base text-blue-800",children:"Alert Preview"})]}),r.jsx("p",{className:"text-xs sm:text-sm text-blue-700",children:s.message.replace("{expiry_date}",new Date(s.expiryDate).toLocaleDateString()).replace("{days_remaining}",Math.max(0,Math.ceil((new Date(s.expiryDate).getTime()-new Date().getTime())/(1e3*60*60*24))).toString()).replace("{settings_name}","Notification Settings")}),r.jsxs("p",{className:"text-xs text-blue-600 mt-2",children:["Will be sent via ",r.jsx("span",{className:"font-medium uppercase",children:s.alertType})," ",s.daysBefore," days before expiry"]})]})]})]})]}),m&&r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex min-h-screen items-center justify-center p-3 sm:p-4",children:[r.jsx("div",{className:"fixed inset-0 bg-black/50 transition-opacity",onClick:()=>{f(null),p(!1)}}),r.jsxs(ae,{className:"relative w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-start sm:items-center justify-between mb-4 sm:mb-6 gap-3",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("h2",{className:"text-lg sm:text-xl font-semibold truncate",children:[g?"Edit":"View"," Template:"," ",m.name]}),r.jsxs("p",{className:"text-xs sm:text-sm text-gray-600",children:[m.type.toUpperCase()," "," ",m.trigger.replace("_"," ")]})]}),r.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[!g&&r.jsxs(ce,{variant:"secondary",size:"sm",onClick:()=>p(!0),children:[r.jsx(vs,{className:"h-4 w-4 sm:mr-1"}),r.jsx("span",{className:"hidden sm:inline",children:"Edit"})]}),r.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>{f(null),p(!1)},children:r.jsx(ws,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2",children:[r.jsx(he,{label:"Template Name",value:m.name,disabled:!g}),r.jsx(Dt,{label:"Notification Type",value:m.type,disabled:!g,options:y.map(k=>({value:k.value,label:k.label}))})]}),m.type==="email"&&r.jsx(he,{label:"Subject Line",value:m.subject||"",disabled:!g,placeholder:"Enter email subject"}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message Content"}),r.jsx("textarea",{className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-50",rows:6,value:m.content,disabled:!g,placeholder:"Enter notification content..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Available Variables"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:m.variables.map(k=>r.jsx("button",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs hover:bg-blue-200",onClick:()=>{navigator.clipboard.writeText(`{${k}}`)},children:`{${k}}`},k))})]}),g&&r.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-2 pt-4 border-t",children:[r.jsx(ce,{variant:"secondary",onClick:()=>p(!1),className:"w-full sm:w-auto",children:"Cancel"}),r.jsxs(ce,{className:"w-full sm:w-auto",children:[r.jsx(Ii,{className:"h-4 w-4 mr-2"}),"Save Template"]})]})]})]})]})})]})}function K1(){const[e,t]=_.useState({enableWeatherAlerts:!0,showWeatherOnDashboard:!0,enableDeliveryRestrictions:!0,enableCustomerNotifications:!0,weatherProvider:"openweather",updateInterval:30,temperatureUnit:"celsius",windSpeedUnit:"kmh"}),[s,a]=_.useState([{id:"1",condition:"heavy_rain",threshold:50,action:"suspend_delivery",isActive:!0,message:"Delivery suspended due to heavy rainfall. We will resume once conditions improve."},{id:"2",condition:"high_temperature",threshold:40,action:"notify_customers",isActive:!0,message:"Due to extreme heat, delivery times may be extended to ensure product quality."},{id:"3",condition:"strong_wind",threshold:60,action:"restrict_zones",isActive:!0,message:"Delivery restricted in certain areas due to strong winds."},{id:"4",condition:"thunderstorm",threshold:0,action:"delay_delivery",isActive:!0,message:"Deliveries may be delayed due to thunderstorm conditions."}]),[n,i]=_.useState([{id:"1",name:"Chennai Central",lat:13.0827,lng:80.2707,isActive:!0},{id:"2",name:"Anna Nagar",lat:13.085,lng:80.2101,isActive:!0},{id:"3",name:"T Nagar",lat:13.0418,lng:80.2341,isActive:!0},{id:"4",name:"Adyar",lat:13.0067,lng:80.2206,isActive:!0}]),l=[{value:"heavy_rain",label:"Heavy Rain",icon:i4,unit:"mm/hr"},{value:"high_temperature",label:"High Temperature",icon:Yp,unit:"C"},{value:"low_temperature",label:"Low Temperature",icon:Yp,unit:"C"},{value:"strong_wind",label:"Strong Wind",icon:WO,unit:"km/h"},{value:"thunderstorm",label:"Thunderstorm",icon:i4,unit:"intensity"},{value:"fog",label:"Dense Fog",icon:r9,unit:"visibility km"}],o=[{value:"suspend_delivery",label:"Suspend All Deliveries"},{value:"delay_delivery",label:"Delay Deliveries"},{value:"restrict_zones",label:"Restrict Specific Zones"},{value:"notify_customers",label:"Notify Customers Only"},{value:"alert_staff",label:"Alert Staff Only"}],u=[{value:"openweather",label:"OpenWeatherMap"},{value:"weatherapi",label:"WeatherAPI"},{value:"accuweather",label:"AccuWeather"},{value:"darksky",label:"Dark Sky (Apple)"}],d={temperature:32,humidity:78,windSpeed:15,condition:"Partly Cloudy",rainfall:0,visibility:10,uvIndex:7},m=()=>{const p={id:Date.now().toString(),condition:"heavy_rain",threshold:25,action:"notify_customers",isActive:!1,message:"Weather alert message"};a([...s,p])},f=(p,y)=>{a(s.map(v=>v.id===p?{...v,...y}:v))},g=p=>{a(s.filter(y=>y.id!==p))};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Weather Customization"}),r.jsx("p",{className:"text-gray-600",children:"Configure weather-based delivery controls and alerts"})]}),r.jsxs(ce,{children:[r.jsx(Ii,{className:"mr-2 h-5 w-5"}),"Save All Changes"]})]}),r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"rounded-lg bg-blue-50 p-2",children:r.jsx(tQ,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Current Weather Conditions"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Live weather data for your delivery areas"})]})]}),r.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[r.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[r.jsx(Yp,{className:"h-8 w-8 text-blue-600 mx-auto mb-2"}),r.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[d.temperature,"C"]}),r.jsx("div",{className:"text-sm text-blue-600",children:"Temperature"})]}),r.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[r.jsx(i4,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),r.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[d.rainfall,"mm"]}),r.jsx("div",{className:"text-sm text-green-600",children:"Rainfall"})]}),r.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[r.jsx(WO,{className:"h-8 w-8 text-purple-600 mx-auto mb-2"}),r.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[d.windSpeed," km/h"]}),r.jsx("div",{className:"text-sm text-purple-600",children:"Wind Speed"})]}),r.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[r.jsx(Fr,{className:"h-8 w-8 text-orange-600 mx-auto mb-2"}),r.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[d.visibility," km"]}),r.jsx("div",{className:"text-sm text-orange-600",children:"Visibility"})]})]}),r.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium",children:["Overall Condition: ",d.condition]}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Humidity: ",d.humidity,"%  UV Index: ",d.uvIndex]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Last updated: 5 minutes ago"}),r.jsxs(ce,{variant:"secondary",size:"sm",children:[r.jsx(nl,{className:"h-4 w-4 mr-1"}),"Refresh"]})]})]})})]}),r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"rounded-lg bg-green-50 p-2",children:r.jsx(nl,{className:"h-5 w-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Weather Settings"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Configure weather monitoring preferences"})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[r.jsx(Dt,{label:"Weather Data Provider",value:e.weatherProvider,onChange:p=>t({...e,weatherProvider:p.target.value}),options:u}),r.jsx(he,{label:"Update Interval (minutes)",type:"number",value:e.updateInterval,onChange:p=>t({...e,updateInterval:parseInt(p.target.value)}),min:"5",max:"120"})]}),r.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[r.jsx(Dt,{label:"Temperature Unit",value:e.temperatureUnit,onChange:p=>t({...e,temperatureUnit:p.target.value}),options:[{value:"celsius",label:"Celsius (C)"},{value:"fahrenheit",label:"Fahrenheit (F)"}]}),r.jsx(Dt,{label:"Wind Speed Unit",value:e.windSpeedUnit,onChange:p=>t({...e,windSpeedUnit:p.target.value}),options:[{value:"kmh",label:"km/h"},{value:"mph",label:"mph"},{value:"ms",label:"m/s"}]})]}),r.jsx("div",{className:"space-y-3",children:[{key:"enableWeatherAlerts",label:"Enable Weather Alerts",desc:"Receive alerts for severe weather conditions"},{key:"showWeatherOnDashboard",label:"Show Weather on Dashboard",desc:"Display current weather information on main dashboard"},{key:"enableDeliveryRestrictions",label:"Enable Delivery Restrictions",desc:"Automatically restrict deliveries based on weather conditions"},{key:"enableCustomerNotifications",label:"Customer Weather Notifications",desc:"Notify customers about weather-related delivery changes"}].map(p=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-sm",children:p.label}),r.jsx("p",{className:"text-xs text-gray-500",children:p.desc})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:e[p.key],onChange:y=>t({...e,[p.key]:y.target.checked}),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 rounded-full peer peer-checked:bg-blue-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]})]},p.key))})]})]}),r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"rounded-lg bg-red-50 p-2",children:r.jsx(ls,{className:"h-5 w-5 text-red-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Weather Alerts"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Configure automatic actions for weather conditions"})]})]}),r.jsxs(ce,{variant:"secondary",onClick:m,children:[r.jsx(ls,{className:"mr-2 h-4 w-4"}),"Add Alert"]})]}),r.jsx("div",{className:"space-y-4",children:s.map(p=>{const y=l.find(N=>N.value===p.condition),v=o.find(N=>N.value===p.action),j=y?.icon||ls;return r.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",checked:p.isActive,onChange:N=>f(p.id,{isActive:N.target.checked}),className:"rounded"}),r.jsx(j,{className:"h-5 w-5 text-gray-600"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:y?.label}),r.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:[p.threshold," ",y?.unit]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded-full text-xs",children:v?.label}),r.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>g(p.id),children:""})]})]}),r.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[r.jsx(Dt,{label:"Weather Condition",value:p.condition,onChange:N=>f(p.id,{condition:N.target.value}),options:l.map(N=>({value:N.value,label:N.label}))}),r.jsx(he,{label:`Threshold (${y?.unit})`,type:"number",value:p.threshold,onChange:N=>f(p.id,{threshold:parseFloat(N.target.value)})}),r.jsx(Dt,{label:"Action",value:p.action,onChange:N=>f(p.id,{action:N.target.value}),options:o})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Message"}),r.jsx("textarea",{className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:2,value:p.message,onChange:N=>f(p.id,{message:N.target.value}),placeholder:"Message to display to customers when this alert is triggered"})]})]},p.id)})})]}),r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"rounded-lg bg-purple-50 p-2",children:r.jsx(qs,{className:"h-5 w-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Monitoring Locations"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Weather monitoring points for your delivery areas"})]})]}),r.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:n.map(p=>r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:p.isActive,onChange:y=>{i(n.map(v=>v.id===p.id?{...v,isActive:y.target.checked}:v))},className:"rounded"}),r.jsx("span",{className:"font-medium",children:p.name})]}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${p.isActive?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:p.isActive?"Active":"Inactive"})]}),r.jsxs("div",{className:"text-sm text-gray-500",children:[r.jsxs("p",{children:["Lat: ",p.lat,", Lng: ",p.lng]}),r.jsxs("p",{children:["Weather: ",d.condition,"  ",d.temperature,"C"]})]})]},p.id))}),r.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(qs,{className:"h-5 w-5 text-blue-600"}),r.jsx("span",{className:"font-medium text-blue-800",children:"Add New Location"})]}),r.jsxs("div",{className:"grid gap-3 sm:grid-cols-3",children:[r.jsx(he,{placeholder:"Location Name"}),r.jsx(he,{placeholder:"Latitude",type:"number",step:"any"}),r.jsx(he,{placeholder:"Longitude",type:"number",step:"any"})]}),r.jsx(ce,{variant:"secondary",size:"sm",className:"mt-3",children:"Add Location"})]})]}),r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"rounded-lg bg-orange-50 p-2",children:r.jsx(Yn,{className:"h-5 w-5 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Weather Impact Summary"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Recent weather-related delivery impacts"})]})]}),r.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[r.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-red-600",children:"12"}),r.jsx("div",{className:"text-sm text-red-600",children:"Suspended Deliveries"}),r.jsx("div",{className:"text-xs text-gray-500",children:"Last 7 days"})]}),r.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:"28"}),r.jsx("div",{className:"text-sm text-yellow-600",children:"Delayed Deliveries"}),r.jsx("div",{className:"text-xs text-gray-500",children:"Last 7 days"})]}),r.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"156"}),r.jsx("div",{className:"text-sm text-blue-600",children:"Customer Notifications"}),r.jsx("div",{className:"text-xs text-gray-500",children:"Last 7 days"})]})]})]})]})}function Y1(){const[e,t]=_.useState([{id:"1",title:"Privacy Policy",type:"privacy",content:"This Privacy Policy describes how BAYHAWK collects, uses, and protects your personal information...",lastUpdated:"2024-01-15",version:"2.1",isActive:!0,isRequired:!0},{id:"2",title:"Terms & Conditions",type:"terms",content:"By using our services, you agree to these terms and conditions...",lastUpdated:"2024-01-10",version:"1.8",isActive:!0,isRequired:!0},{id:"3",title:"Refund Policy",type:"refund",content:"Our refund policy outlines the conditions under which refunds are processed...",lastUpdated:"2024-01-05",version:"1.3",isActive:!0,isRequired:!1},{id:"4",title:"Shipping Policy",type:"shipping",content:"This policy covers our shipping procedures, delivery times, and related terms...",lastUpdated:"2023-12-20",version:"1.5",isActive:!0,isRequired:!1},{id:"5",title:"Cookie Policy",type:"cookie",content:"This Cookie Policy explains how we use cookies and similar technologies...",lastUpdated:"2023-12-15",version:"1.2",isActive:!1,isRequired:!1}]),[s,a]=_.useState(null),[n,i]=_.useState(!1),[l,o]=_.useState({gdprCompliance:!0,ccpaCompliance:!1,coppaCompliance:!1,requireConsent:!0,consentLogging:!0,autoUpdateNotification:!0}),u=[{value:"privacy",label:"Privacy Policy",icon:Fi,required:!0},{value:"terms",label:"Terms & Conditions",icon:Hs,required:!0},{value:"refund",label:"Refund Policy",icon:ld,required:!1},{value:"shipping",label:"Shipping Policy",icon:Hs,required:!1},{value:"cookie",label:"Cookie Policy",icon:Hs,required:!1},{value:"disclaimer",label:"Disclaimer",icon:T2,required:!1},{value:"custom",label:"Custom Document",icon:Hs,required:!1}],d=()=>{const j={id:Date.now().toString(),title:"New Legal Document",type:"custom",content:"",lastUpdated:new Date().toISOString().split("T")[0],version:"1.0",isActive:!1,isRequired:!1};t([...e,j]),a(j),i(!0)},m=(j,N)=>{t(e.map(k=>k.id===j?{...k,...N,lastUpdated:new Date().toISOString().split("T")[0],version:N.content?f(k.version):k.version}:k))},f=j=>{const N=j.split("."),k=parseInt(N[1]||"0")+1;return`${N[0]}.${k}`},g=j=>{t(e.filter(N=>N.id!==j))},p=j=>u.find(k=>k.value===j)?.icon||Hs,y=(j,N)=>!j&&N?"text-red-600 bg-red-50":j?"text-green-600 bg-green-50":"text-gray-600 bg-gray-50",v=(j,N)=>!j&&N?"Required - Inactive":j?"Active":"Inactive";return r.jsxs("div",{className:"space-y-4 sm:space-y-6 p-3 sm:p-4 md:p-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Legal Documents"}),r.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1",children:"Manage legal documents and compliance settings"})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[r.jsxs(ce,{variant:"secondary",onClick:d,className:"w-full sm:w-auto",children:[r.jsx(hr,{className:"mr-2 h-5 w-5"}),"Add Document"]}),r.jsxs(ce,{className:"w-full sm:w-auto",children:[r.jsx(Ii,{className:"mr-2 h-5 w-5"}),"Save All Changes"]})]})]}),r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[r.jsx("div",{className:"rounded-lg bg-blue-50 p-2",children:r.jsx(Fi,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-base sm:text-lg font-semibold",children:"Compliance Status"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Legal compliance and document status overview"})]})]}),r.jsxs("div",{className:"grid gap-3 sm:gap-4 grid-cols-2 lg:grid-cols-4",children:[r.jsxs("div",{className:"text-center p-3 sm:p-4 bg-green-50 rounded-lg",children:[r.jsx("div",{className:"text-xl sm:text-2xl font-bold text-green-600",children:e.filter(j=>j.isActive).length}),r.jsx("div",{className:"text-xs sm:text-sm text-green-600 mt-1",children:"Active Documents"})]}),r.jsxs("div",{className:"text-center p-3 sm:p-4 bg-red-50 rounded-lg",children:[r.jsx("div",{className:"text-xl sm:text-2xl font-bold text-red-600",children:e.filter(j=>j.isRequired&&!j.isActive).length}),r.jsx("div",{className:"text-xs sm:text-sm text-red-600 mt-1",children:"Missing Required"})]}),r.jsxs("div",{className:"text-center p-3 sm:p-4 bg-yellow-50 rounded-lg",children:[r.jsx("div",{className:"text-xl sm:text-2xl font-bold text-yellow-600",children:e.filter(j=>Math.floor((Date.now()-new Date(j.lastUpdated).getTime())/864e5)>365).length}),r.jsx("div",{className:"text-xs sm:text-sm text-yellow-600 mt-1",children:"Need Updates"})]}),r.jsxs("div",{className:"text-center p-3 sm:p-4 bg-blue-50 rounded-lg",children:[r.jsx("div",{className:"text-xl sm:text-2xl font-bold text-blue-600",children:Object.values(l).filter(Boolean).length}),r.jsx("div",{className:"text-xs sm:text-sm text-blue-600 mt-1",children:"Compliance Rules"})]})]})]}),r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[r.jsx("div",{className:"rounded-lg bg-green-50 p-2",children:r.jsx(Hs,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-base sm:text-lg font-semibold",children:"Legal Documents"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Manage your legal documents and policies"})]})]}),r.jsx("div",{className:"space-y-4",children:e.map(j=>{const N=p(j.type),k=y(j.isActive,j.isRequired),w=v(j.isActive,j.isRequired),A=Math.floor((Date.now()-new Date(j.lastUpdated).getTime())/(1e3*60*60*24));return r.jsxs("div",{className:"border rounded-lg p-3 sm:p-4",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-3",children:[r.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[r.jsx(N,{className:"h-5 w-5 text-gray-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-medium text-sm sm:text-base truncate",children:j.title}),r.jsxs("div",{className:"flex flex-wrap items-center gap-1 sm:gap-2 text-xs sm:text-sm text-gray-500 mt-1",children:[r.jsxs("span",{children:["Version ",j.version]}),r.jsx("span",{className:"hidden sm:inline",children:""}),r.jsxs("span",{children:["Updated ",A,"d ago"]}),j.isRequired&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"hidden sm:inline",children:""}),r.jsx("span",{className:"text-red-600 font-medium",children:"Required"})]})]})]})]}),r.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3",children:[r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${k} whitespace-nowrap`,children:w}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>a(j),children:r.jsx(Fr,{className:"h-5 w-5"})}),r.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>{a(j),i(!0)},children:r.jsx(vs,{className:"h-5 w-5"})}),!j.isRequired&&r.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>g(j.id),children:r.jsx(ws,{className:"h-4 w-4"})})]})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[r.jsxs("div",{className:"text-xs sm:text-sm text-gray-600 line-clamp-2 flex-1",children:[j.content.substring(0,150),"..."]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer flex-shrink-0",children:[r.jsx("input",{type:"checkbox",checked:j.isActive,onChange:C=>m(j.id,{isActive:C.target.checked}),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 rounded-full peer peer-checked:bg-blue-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]})]}),A>365&&r.jsxs("div",{className:"mt-3 p-2 bg-yellow-50 border border-yellow-200 rounded text-xs sm:text-sm text-yellow-700",children:[r.jsx(hs,{className:"h-4 w-4 inline mr-1"}),"This document hasn't been updated in over a year. Consider reviewing for accuracy."]})]},j.id)})})]}),r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[r.jsx("div",{className:"rounded-lg bg-purple-50 p-2",children:r.jsx(T2,{className:"h-4 w-4 sm:h-5 sm:w-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-base sm:text-lg font-semibold",children:"Compliance Settings"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Configure legal compliance requirements"})]})]}),r.jsx("div",{className:"space-y-3 sm:space-y-4",children:[{key:"gdprCompliance",label:"GDPR Compliance",desc:"European General Data Protection Regulation compliance"},{key:"ccpaCompliance",label:"CCPA Compliance",desc:"California Consumer Privacy Act compliance"},{key:"coppaCompliance",label:"COPPA Compliance",desc:"Children's Online Privacy Protection Act compliance"},{key:"requireConsent",label:"Require User Consent",desc:"Require explicit consent for data collection"},{key:"consentLogging",label:"Log Consent Records",desc:"Keep records of user consent for legal purposes"},{key:"autoUpdateNotification",label:"Auto-Update Notifications",desc:"Notify users when legal documents are updated"}].map(j=>r.jsxs("div",{className:"flex items-start sm:items-center justify-between p-3 sm:p-4 border rounded-lg gap-3",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-medium text-xs sm:text-sm",children:j.label}),r.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:j.desc})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer flex-shrink-0",children:[r.jsx("input",{type:"checkbox",checked:l[j.key],onChange:N=>o({...l,[j.key]:N.target.checked}),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 rounded-full peer peer-checked:bg-blue-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]})]},j.key))})]}),s&&r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex min-h-screen items-center justify-center p-3 sm:p-4",children:[r.jsx("div",{className:"fixed inset-0 bg-black/50 transition-opacity",onClick:()=>{a(null),i(!1)}}),r.jsxs(ae,{className:"relative w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-start sm:items-center justify-between mb-4 sm:mb-6 gap-3",children:[r.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[r.jsx("div",{className:"rounded-lg bg-gray-100 p-2 flex-shrink-0",children:lr.createElement(p(s.type),{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-600"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("h2",{className:"text-lg sm:text-xl font-semibold truncate",children:[n?"Edit":"View",": ",s.title]}),r.jsxs("p",{className:"text-xs sm:text-sm text-gray-600",children:["Version ",s.version,"  Last updated: ",s.lastUpdated]})]})]}),r.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[!n&&r.jsxs(ce,{variant:"secondary",size:"sm",onClick:()=>i(!0),children:[r.jsx(vs,{className:"h-4 w-4 sm:mr-1"}),r.jsx("span",{className:"hidden sm:inline",children:"Edit"})]}),r.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>{a(null),i(!1)},children:r.jsx(ws,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2",children:[r.jsx(he,{label:"Document Title",value:s.title,disabled:!n,onChange:j=>a({...s,title:j.target.value})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Document Type"}),r.jsx("select",{value:s.type,disabled:!n,onChange:j=>a({...s,type:j.target.value}),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-50",children:u.map(j=>r.jsxs("option",{value:j.value,children:[j.label," ",j.required?"(Required)":""]},j.value))})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Document Content"}),r.jsx("textarea",{className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-50",rows:15,value:s.content,disabled:!n,onChange:j=>a({...s,content:j.target.value}),placeholder:"Enter the legal document content here..."})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 sm:gap-4",children:[r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:s.isActive,disabled:!n,onChange:j=>a({...s,isActive:j.target.checked}),className:"rounded"}),r.jsx("span",{className:"text-sm",children:"Document is active"})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:s.isRequired,disabled:!n||u.find(j=>j.value===s.type)?.required,onChange:j=>a({...s,isRequired:j.target.checked}),className:"rounded"}),r.jsx("span",{className:"text-sm",children:"Required document"})]})]}),n&&r.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-2 pt-4 border-t",children:[r.jsx(ce,{variant:"secondary",onClick:()=>i(!1),className:"w-full sm:w-auto",children:"Cancel"}),r.jsxs(ce,{onClick:()=>{m(s.id,s),i(!1)},className:"w-full sm:w-auto",children:[r.jsx(Ii,{className:"h-4 w-4 mr-2"}),"Save Document"]})]})]})]})]})})]})}function Z1(){const[e,t]=_.useState([{id:"1",title:"Diwali Special Offer",type:"festival",videoUrl:"/videos/diwali-ad.mp4",isActive:!1,uploadDate:"2026-01-10",schedule:{startDate:"2026-10-20",endDate:"2026-11-05"}},{id:"2",title:"Fresh Fish Daily",type:"regular",videoUrl:"/videos/regular-ad.mp4",isActive:!0,uploadDate:"2026-01-08"}]),[s,a]=_.useState("regular"),[n,i]=_.useState(!1),l=m=>{const f=m.target.files?.[0];f&&(i(!0),setTimeout(()=>{const g={id:Date.now().toString(),title:`New ${s} Ad`,type:s,videoUrl:URL.createObjectURL(f),isActive:!1,uploadDate:new Date().toISOString().split("T")[0]};t([...e,g]),i(!1)},2e3))},o=m=>{t(e.map(f=>f.id===m?{...f,isActive:!f.isActive}:{...f,isActive:!1}))},u=m=>{t(e.filter(f=>f.id!==m))},d=e.find(m=>m.isActive);return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Advertisement Management"}),r.jsx("p",{className:"text-gray-600",children:"Manage video advertisements for customer app"})]})}),r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Current Active Advertisement"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Fr,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{className:"text-sm text-green-600",children:"Live on Customer App"})]})]}),d?r.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[r.jsx("div",{className:"lg:w-1/3",children:r.jsxs("div",{className:"aspect-[9/16] bg-gray-900 rounded-lg overflow-hidden relative max-w-[200px] mx-auto",children:[r.jsx("video",{className:"w-full h-full object-cover",controls:!0,poster:"/api/placeholder/200/356",children:r.jsx("source",{src:d.videoUrl,type:"video/mp4"})}),r.jsx("div",{className:"absolute top-2 right-2 bg-green-500 text-white px-2 py-1 rounded text-xs",children:"LIVE"})]})}),r.jsx("div",{className:"lg:w-2/3",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-lg",children:d.title}),r.jsxs("p",{className:"text-sm text-gray-600 capitalize",children:[d.type," Advertisement"]})]}),r.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Upload Date"}),r.jsx("p",{className:"text-sm text-gray-600",children:d.uploadDate})]}),d.schedule&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Schedule"}),r.jsxs("p",{className:"text-sm text-gray-600",children:[d.schedule.startDate," to ",d.schedule.endDate]})]})]})]})})]}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(rh,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:"No active advertisement"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Upload and activate an ad to display on customer app"})]})]}),r.jsxs(ae,{children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Upload New Advertisement"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Advertisement Type"}),r.jsx(Dt,{value:s,onChange:m=>a(m.target.value),options:[{value:"regular",label:"Regular Advertisement"},{value:"festival",label:"Festival Special"},{value:"seasonal",label:"Seasonal Offer"}]})]})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Video Upload (9:16 Aspect Ratio)"}),r.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-400 transition-colors",children:[r.jsx("input",{type:"file",accept:"video/*",onChange:l,className:"hidden",id:"video-upload",disabled:n}),r.jsxs("label",{htmlFor:"video-upload",className:"cursor-pointer",children:[r.jsx(Ro,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-gray-600",children:n?"Uploading...":"Click to upload video or drag and drop"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Recommended: 9:16 aspect ratio, MP4 format, max 50MB"})]})]})]}),s==="festival"&&r.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),r.jsx("input",{type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"}),r.jsx("input",{type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})]}),r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Advertisement Library"}),r.jsxs("span",{className:"text-sm text-gray-500",children:[e.length," total ads"]})]}),r.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:e.map(m=>r.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"aspect-[9/16] bg-gray-900 rounded-lg overflow-hidden relative mb-3 max-w-[120px] mx-auto",children:[r.jsx("video",{className:"w-full h-full object-cover",poster:"/api/placeholder/120/213",children:r.jsx("source",{src:m.videoUrl,type:"video/mp4"})}),m.isActive&&r.jsx("div",{className:"absolute top-1 right-1 bg-green-500 text-white px-1 py-0.5 rounded text-xs",children:"ACTIVE"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h3",{className:"font-medium text-sm",children:m.title}),r.jsx("p",{className:"text-xs text-gray-500 capitalize",children:m.type}),r.jsxs("p",{className:"text-xs text-gray-400",children:["Uploaded: ",m.uploadDate]}),m.schedule&&r.jsxs("div",{className:"flex items-center gap-1 text-xs text-blue-600",children:[r.jsx(hs,{className:"h-3 w-3"}),r.jsx("span",{children:"Scheduled"})]}),r.jsxs("div",{className:"flex gap-2 pt-2",children:[r.jsx(ce,{size:"sm",variant:m.isActive?"secondary":"primary",onClick:()=>o(m.id),className:"flex-1 text-xs",children:m.isActive?"Deactivate":"Activate"}),r.jsx(ce,{size:"sm",variant:"secondary",onClick:()=>u(m.id),className:"text-red-600 hover:text-red-700",children:r.jsx(Sr,{className:"h-3 w-3"})})]})]})]},m.id))})]}),r.jsx(ae,{className:"bg-blue-50 border-blue-200",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(nl,{className:"h-5 w-5 text-blue-600 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"Advertisement Guidelines"}),r.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[r.jsx("li",{children:" Video format: MP4, maximum 50MB file size"}),r.jsx("li",{children:" Aspect ratio: 9:16 (vertical format for mobile)"}),r.jsx("li",{children:" Duration: 15-30 seconds recommended"}),r.jsx("li",{children:" Festival ads can be scheduled for specific date ranges"}),r.jsx("li",{children:" Only one advertisement can be active at a time"}),r.jsx("li",{children:" Regular ads display until manually changed"})]})]})]})})]})}const YDe=[{id:"1",code:"WELCOME50",discountType:"percentage",discountValue:50,minOrderValue:500,maxDiscount:200,validFrom:"2024-01-01",validTo:"2024-01-31",usageLimit:1e3,isActive:!0},{id:"2",code:"FLAT100",discountType:"flat",discountValue:100,minOrderValue:800,validFrom:"2024-01-01",validTo:"2024-02-28",usageLimit:500,isActive:!0},{id:"3",code:"FISH20",discountType:"percentage",discountValue:20,minOrderValue:1e3,maxDiscount:300,validFrom:"2024-01-15",validTo:"2024-01-20",usageLimit:200,isActive:!1}];function X1(){const[e,t]=_.useState("coupons"),[s,a]=_.useState(""),[n,i]=_.useState(!1);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Marketing & Notifications"}),r.jsx("p",{className:"text-gray-600",children:"Manage coupons, notifications, and gamification"})]}),r.jsxs(ce,{onClick:()=>i(!0),children:[r.jsx(hr,{className:"mr-2 h-4 w-4"})," Add ",e==="coupons"?"Coupon":e==="notifications"?"Notification":"Reward"]})]}),r.jsx("div",{className:"flex gap-2 border-b",children:[{id:"coupons",label:"Coupons & Offers",icon:mx},{id:"notifications",label:"Push Notifications",icon:Am},{id:"gamification",label:"Gamification",icon:ru}].map(l=>r.jsxs("button",{onClick:()=>t(l.id),className:`flex items-center gap-2 px-4 py-3 border-b-2 transition-colors ${e===l.id?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[r.jsx(l.icon,{className:"h-4 w-4"}),l.label]},l.id))}),e==="coupons"&&r.jsxs(r.Fragment,{children:[r.jsx(ae,{children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Mn,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),r.jsx(he,{placeholder:"Search coupons...",className:"pl-10"})]}),r.jsx(Dt,{value:s,onChange:l=>a(l.target.value),options:[{value:"",label:"All Status"},{value:"active",label:"Active"},{value:"expired",label:"Expired"}]})]})}),r.jsx(ae,{className:"p-0 overflow-hidden",children:r.jsxs(Lx,{children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx(Vr,{children:"Code"}),r.jsx(Vr,{children:"Discount"}),r.jsx(Vr,{children:"Min Order"}),r.jsx(Vr,{children:"Max Discount"}),r.jsx(Vr,{children:"Valid Period"}),r.jsx(Vr,{children:"Usage"}),r.jsx(Vr,{children:"Status"}),r.jsx(Vr,{children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:YDe.map(l=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx(Wr,{children:r.jsx("span",{className:"font-mono font-medium text-primary-600",children:l.code})}),r.jsx(Wr,{children:l.discountType==="percentage"?`${l.discountValue}%`:jt(l.discountValue)}),r.jsx(Wr,{children:jt(l.minOrderValue)}),r.jsx(Wr,{children:l.maxDiscount?jt(l.maxDiscount):"-"}),r.jsx(Wr,{children:r.jsxs("span",{className:"text-xs",children:[PP(l.validFrom)," - ",PP(l.validTo)]})}),r.jsxs(Wr,{children:["0 / ",l.usageLimit]}),r.jsx(Wr,{children:r.jsx(at,{variant:Qn(l.isActive?"active":"inactive"),children:l.isActive?"Active":"Expired"})}),r.jsx(Wr,{children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{className:"p-1 hover:bg-gray-100 rounded",children:r.jsx(vs,{className:"h-4 w-4"})}),r.jsx("button",{className:"p-1 hover:bg-gray-100 rounded text-red-600",children:r.jsx(Sr,{className:"h-4 w-4"})})]})})]},l.id))})]})})]}),e==="notifications"&&r.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[r.jsxs(ae,{children:[r.jsx("h3",{className:"font-semibold mb-4",children:"Automated Notifications"}),r.jsx("div",{className:"space-y-3",children:["Order Confirmation","Order Status Updates","Delivery Updates","Payment Confirmation"].map(l=>r.jsxs("div",{className:"flex items-center justify-between py-2 border-b last:border-0",children:[r.jsx("span",{children:l}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",defaultChecked:!0,className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]},l))})]}),r.jsxs(ae,{children:[r.jsx("h3",{className:"font-semibold mb-4",children:"Send Custom Notification"}),r.jsxs("form",{className:"space-y-4",children:[r.jsx(he,{label:"Title",placeholder:"Notification title"}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),r.jsx("textarea",{className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-primary-500 focus:outline-none",rows:3,placeholder:"Notification message..."})]}),r.jsx(Dt,{label:"Target Audience",options:[{value:"all",label:"All Users"},{value:"premium",label:"Premium Members"},{value:"inactive",label:"Inactive Users"}]}),r.jsx(ce,{className:"w-full",children:"Send Notification"})]})]})]}),e==="gamification"&&r.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[r.jsxs(ae,{children:[r.jsx("h3",{className:"font-semibold mb-4",children:" Scratch Card Settings"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{children:"Enable Daily Scratch Cards"}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",defaultChecked:!0,className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 rounded-full peer peer-checked:bg-primary-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]})]}),r.jsx(he,{label:"Validity Period (hours)",type:"number",defaultValue:"24"}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsx("p",{className:"text-sm font-medium mb-2",children:"Reward Probabilities"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-24 text-sm",children:"10 Cashback"}),r.jsx(he,{type:"number",defaultValue:"40",className:"w-20"}),r.jsx("span",{className:"text-sm",children:"%"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-24 text-sm",children:"25 Cashback"}),r.jsx(he,{type:"number",defaultValue:"30",className:"w-20"}),r.jsx("span",{className:"text-sm",children:"%"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-24 text-sm",children:"Free Delivery"}),r.jsx(he,{type:"number",defaultValue:"20",className:"w-20"}),r.jsx("span",{className:"text-sm",children:"%"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-24 text-sm",children:"50 Cashback"}),r.jsx(he,{type:"number",defaultValue:"10",className:"w-20"}),r.jsx("span",{className:"text-sm",children:"%"})]})]})]})]})]}),r.jsxs(ae,{children:[r.jsx("h3",{className:"font-semibold mb-4",children:" Spin Wheel Settings"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{children:"Enable Spin Wheel (After Order)"}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",defaultChecked:!0,className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 rounded-full peer peer-checked:bg-primary-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]})]}),r.jsx("p",{className:"text-sm text-gray-500",children:"One spin per order placement"}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsx("p",{className:"text-sm font-medium mb-2",children:"Wheel Segments (6-8)"}),r.jsx("div",{className:"space-y-2",children:["5% Off","10% Off","Free Delivery","20 Cashback","Better Luck","15% Off"].map((l,o)=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(he,{defaultValue:l,className:"flex-1"}),r.jsx(he,{type:"number",defaultValue:Math.floor(100/6),className:"w-16"}),r.jsx("span",{className:"text-sm",children:"%"})]},o))})]})]})]})]}),r.jsx(gr,{isOpen:n&&e==="coupons",onClose:()=>i(!1),title:"Create Coupon",children:r.jsxs("form",{className:"space-y-4",children:[r.jsx(he,{label:"Coupon Code",placeholder:"WELCOME50"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(Dt,{label:"Discount Type",options:[{value:"percentage",label:"Percentage"},{value:"flat",label:"Flat Amount"}]}),r.jsx(he,{label:"Discount Value",type:"number",placeholder:"50"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(he,{label:"Min Order Value ()",type:"number",placeholder:"500"}),r.jsx(he,{label:"Max Discount ()",type:"number",placeholder:"200"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(he,{label:"Valid From",type:"date"}),r.jsx(he,{label:"Valid To",type:"date"})]}),r.jsx(he,{label:"Usage Limit",type:"number",placeholder:"1000"}),r.jsxs("div",{className:"flex gap-2 pt-4",children:[r.jsx(ce,{type:"button",variant:"secondary",onClick:()=>i(!1),className:"flex-1",children:"Cancel"}),r.jsx(ce,{type:"submit",className:"flex-1",children:"Create Coupon"})]})]})})]})}function J1({isOpen:e,onClose:t,title:s,children:a,size:n="lg",className:i=""}){if(!e)return null;const l={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl","2xl":"max-w-6xl"};return r.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),r.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:r.jsxs("div",{className:`relative w-full ${l[n]} bg-white rounded-xl shadow-xl transform transition-all ${i}`,onClick:o=>o.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(ws,{className:"h-5 w-5 text-gray-500"})})]}),r.jsx("div",{className:"max-h-[calc(100vh-200px)] overflow-y-auto",children:a})]})})]})}function SF({mediaItems:e,onMediaChange:t,videoUrl:s,onVideoUrlChange:a,maxImages:n=6,maxVideos:i=3,className:l=""}){const o=_.useRef(null),u=_.useRef(null),[d,m]=_.useState(""),f=w=>{if(!w)return"";try{new URL(w)}catch{return"Please enter a valid URL"}return[/youtube\.com\/watch\?v=|youtu\.be\//,/vimeo\.com\//,/dailymotion\.com\//,/facebook\.com\/.*\/videos\//,/instagram\.com\/p\//,/\.mp4$|\.webm$|\.ogg$/i].some(M=>M.test(w))?"":"Please enter a valid video URL (YouTube, Vimeo, etc.)"},g=w=>{a(w);const A=f(w);m(A)},p=w=>{const A=Array.from(w.target.files||[]);if(A.length>0){const C=A.filter(D=>D.type.startsWith("image/"));if(e.filter(D=>D.type==="image").length+C.length>n){alert(`Maximum ${n} images allowed`);return}const R=C.map(D=>({id:Date.now().toString()+Math.random(),type:"image",url:URL.createObjectURL(D),name:D.name}));t([...e,...R])}w.target&&(w.target.value="")},y=w=>{const A=Array.from(w.target.files||[]);if(A.length>0){const C=A.filter(D=>D.type.startsWith("video/"));if(e.filter(D=>D.type==="video-file").length+C.length>i){alert(`Maximum ${i} video files allowed`);return}const R=C.map(D=>({id:Date.now().toString()+Math.random(),type:"video-file",url:URL.createObjectURL(D),name:D.name}));t([...e,...R])}w.target&&(w.target.value="")},v=w=>{const A=e.filter(C=>C.id!==w);t(A)},j=w=>{const A=w.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/)([^&\n?#]+)/);if(A)return`https://img.youtube.com/vi/${A[1]}/mqdefault.jpg`;const C=w.match(/vimeo\.com\/(\d+)/);return C?`https://vumbnail.com/${C[1]}.jpg`:null},N=e.filter(w=>w.type==="image"),k=e.filter(w=>w.type==="video-file");return r.jsxs("div",{className:`space-y-6 ${l}`,children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Recipe Video URL (Optional)"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(n6,{className:"h-4 w-4 text-gray-400"})}),r.jsx(he,{type:"url",placeholder:"https://youtube.com/watch?v=... or https://vimeo.com/...",value:s,onChange:w=>g(w.target.value),className:`pl-10 ${d?"border-red-300 focus:border-red-500 focus:ring-red-500":""}`}),s&&!d&&r.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:r.jsx("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-700",title:"Open video in new tab",children:r.jsx(n_,{className:"h-4 w-4"})})})]}),d&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:d}),s&&!d&&r.jsxs("p",{className:"mt-1 text-sm text-green-600 flex items-center gap-1",children:[r.jsx(rh,{className:"h-3 w-3"}),"Valid video URL detected"]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Recipe Media"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(ce,{type:"button",variant:"secondary",size:"sm",onClick:()=>o.current?.click(),disabled:N.length>=n,className:"text-xs",children:[r.jsx(k2,{className:"h-3 w-3 mr-1"}),"Add Images (",N.length,"/",n,")"]}),r.jsxs(ce,{type:"button",variant:"secondary",size:"sm",onClick:()=>u.current?.click(),disabled:k.length>=i,className:"text-xs",children:[r.jsx(o4,{className:"h-3 w-3 mr-1"}),"Add Videos (",k.length,"/",i,")"]})]})]}),r.jsx("input",{ref:o,type:"file",accept:"image/*",multiple:!0,onChange:p,className:"hidden"}),r.jsx("input",{ref:u,type:"file",accept:"video/*",multiple:!0,onChange:y,className:"hidden"}),r.jsxs("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 gap-3",children:[s&&!d&&r.jsxs("div",{className:"relative group",children:[r.jsxs("div",{className:"aspect-square bg-gradient-to-br from-blue-100 to-blue-200 rounded-lg overflow-hidden border-2 border-blue-300",children:[j(s)?r.jsx("img",{src:j(s),alt:"Main video",className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center",children:r.jsx(o4,{className:"h-6 w-6 text-blue-600"})}),r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsx(rh,{className:"h-4 w-4 text-white"})}),r.jsx("div",{className:"absolute top-1 left-1",children:r.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded text-white font-medium bg-blue-500",children:"MAIN"})})]}),r.jsx("p",{className:"text-xs text-gray-600 mt-1 truncate",children:"Main Video"})]}),e.map(w=>r.jsxs("div",{className:"relative group",children:[r.jsxs("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden border-2 border-gray-200",children:[w.type==="image"?r.jsx("img",{src:w.url,alt:w.name,className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center bg-purple-100",children:r.jsx(o4,{className:"h-6 w-6 text-purple-600"})}),w.type!=="image"&&r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsx(rh,{className:"h-4 w-4 text-white"})}),r.jsx("div",{className:"absolute top-1 left-1",children:r.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded text-white font-medium ${w.type==="image"?"bg-green-500":"bg-purple-500"}`,children:w.type==="image"?"IMG":"VID"})})]}),r.jsx("p",{className:"text-xs text-gray-600 mt-1 truncate",title:w.name,children:w.name}),r.jsx("button",{type:"button",onClick:()=>v(w.id),className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity shadow-sm",title:"Remove media",children:r.jsx(ws,{className:"h-3 w-3"})})]},w.id)),N.length+k.length<n+i&&r.jsxs("div",{onClick:()=>o.current?.click(),className:"aspect-square border-2 border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:border-blue-400 hover:bg-blue-50 transition-colors",children:[r.jsx(hr,{className:"h-4 w-4 text-gray-400 mb-1"}),r.jsx("span",{className:"text-xs text-gray-500",children:"Add Media"})]})]}),r.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mt-3 pt-3 border-t",children:[r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("span",{children:["Images: ",N.length,"/",n]}),r.jsxs("span",{children:["Videos: ",k.length,"/",i]})]}),r.jsx("span",{children:"Supported: JPG, PNG, MP4, WebM"})]})]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[r.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-1",children:"Media Guidelines:"}),r.jsxs("ul",{className:"text-xs text-blue-800 space-y-1",children:[r.jsxs("li",{children:[" ",r.jsx("strong",{children:"Video URL is optional"})," - Use YouTube, Vimeo, or direct video links"]}),r.jsx("li",{children:" Add recipe images to showcase the cooking process and final dish"}),r.jsx("li",{children:" Optional video files for additional cooking demonstrations"}),r.jsx("li",{children:" Keep files under 10MB for better performance"})]})]})]})}function ZDe({recipe:e,onView:t,onEdit:s,onDelete:a,onLike:n,onDislike:i}){const[l,o]=_.useState(!1),[u,d]=_.useState(!1),m=()=>{u&&d(!1),o(!l),n?.(e.id)},f=()=>{l&&o(!1),d(!u),i?.(e.id)},g=p=>{switch(p){case"easy":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"hard":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return r.jsxs(ae,{className:"overflow-hidden hover:shadow-lg transition-all duration-200",children:[r.jsxs("div",{className:"relative h-48 bg-gray-100",children:[e.images?.[0]?r.jsx("img",{src:e.images[0],alt:e.name,className:"w-full h-full object-cover cursor-pointer",onClick:()=>t?.(e)}):r.jsx("div",{className:"w-full h-full flex items-center justify-center cursor-pointer",onClick:()=>t?.(e),children:r.jsx(Sv,{className:"h-16 w-16 text-gray-400"})}),e.videoUrl&&r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity cursor-pointer",onClick:()=>t?.(e),children:r.jsx(rh,{className:"h-12 w-12 text-white"})}),r.jsx("div",{className:"absolute top-3 left-3",children:r.jsx(at,{variant:e.isPublished?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:e.isPublished?"Published":"Draft"})}),r.jsx("div",{className:"absolute top-3 right-3",children:r.jsx(at,{variant:g(e.difficulty),children:e.difficulty})})]}),r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"mb-3",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1 line-clamp-1",children:e.name}),r.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:e.description})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4 p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"flex items-center justify-center gap-1 text-blue-600 mb-1",children:[r.jsx(wr,{className:"h-4 w-4"}),r.jsxs("span",{className:"font-semibold text-sm",children:[e.prepTime+e.cookTime,"m"]})]}),r.jsx("p",{className:"text-xs text-gray-600",children:"Time"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"flex items-center justify-center gap-1 text-green-600 mb-1",children:[r.jsx(Mr,{className:"h-4 w-4"}),r.jsx("span",{className:"font-semibold text-sm",children:e.serves})]}),r.jsx("p",{className:"text-xs text-gray-600",children:"Serves"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"flex items-center justify-center gap-1 text-orange-600 mb-1",children:[r.jsx(qf,{className:"h-4 w-4 fill-current"}),r.jsx("span",{className:"font-semibold text-sm",children:e.rating?.toFixed(1)||"0.0"})]}),r.jsx("p",{className:"text-xs text-gray-600",children:"Rating"})]})]}),r.jsx("div",{className:"mb-4",children:r.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border border-gray-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("button",{onClick:m,className:`flex items-center gap-1 px-3 py-1.5 rounded-full text-sm font-medium transition-all ${l?"bg-green-100 text-green-700 shadow-sm":"hover:bg-gray-100 text-gray-600"}`,children:[r.jsx(c9,{className:`h-4 w-4 ${l?"fill-current":""}`}),r.jsx("span",{className:"font-semibold",children:(e.likes||0)+(l?1:0)})]}),r.jsxs("button",{onClick:f,className:`flex items-center gap-1 px-3 py-1.5 rounded-full text-sm font-medium transition-all ${u?"bg-red-100 text-red-700 shadow-sm":"hover:bg-gray-100 text-gray-600"}`,children:[r.jsx(o9,{className:`h-4 w-4 ${u?"fill-current":""}`}),r.jsx("span",{className:"font-semibold",children:(e.dislikes||0)+(u?1:0)})]})]}),r.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[r.jsx(l6,{className:"h-4 w-4"}),r.jsxs("span",{className:"text-sm font-medium",children:[e.reviewCount||0," reviews"]})]})]})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>t?.(e),className:"flex-1 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:[r.jsx(Fr,{className:"h-4 w-4 inline mr-1"}),"View"]}),r.jsx("button",{onClick:()=>s?.(e),className:"px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",title:"Edit Recipe",children:r.jsx(vs,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>a?.(e),className:"px-3 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50 transition-colors",title:"Delete Recipe",children:r.jsx(Sr,{className:"h-4 w-4"})})]})]})]})}function XDe({recipe:e,onEdit:t,onDelete:s,onLike:a,onDislike:n}){const[i,l]=_.useState(!1),[o,u]=_.useState(!1),d=()=>{o&&u(!1),l(!i),a?.(e.id)},m=()=>{i&&l(!1),u(!o),n?.(e.id)},f=y=>{switch(y){case"easy":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"hard":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},g=y=>{const v=y?.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/)([^&\n?#]+)/);return v?`https://img.youtube.com/vi/${v[1]}/mqdefault.jpg`:null},p=y=>Array.from({length:5},(v,j)=>r.jsx(qf,{className:`h-4 w-4 ${j<y?"text-yellow-400 fill-current":"text-gray-300"}`},j));return r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:e.name}),r.jsx("p",{className:"text-gray-600 mb-4",children:e.description}),r.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[r.jsx(at,{variant:f(e.difficulty),children:e.difficulty}),r.jsx(at,{variant:e.isPublished?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:e.isPublished?"Published":"Draft"})]})]}),e.videoUrl&&r.jsxs(ae,{className:"p-4",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Recipe Video"}),r.jsx("div",{className:"relative",children:g(e.videoUrl)?r.jsxs("div",{className:"relative rounded-lg overflow-hidden",children:[r.jsx("img",{src:g(e.videoUrl),alt:"Recipe video",className:"w-full h-64 object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30 flex items-center justify-center",children:r.jsxs("a",{href:e.videoUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 bg-white bg-opacity-90 rounded-lg hover:bg-opacity-100 transition-all",children:[r.jsx(rh,{className:"h-5 w-5 text-red-600"}),r.jsx("span",{className:"font-medium",children:"Watch Recipe Video"}),r.jsx(n_,{className:"h-4 w-4"})]})})]}):r.jsx("div",{className:"text-center py-8",children:r.jsxs("a",{href:e.videoUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(rh,{className:"h-5 w-5"}),"Watch Recipe Video",r.jsx(n_,{className:"h-4 w-4"})]})})})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs(ae,{className:"p-4 text-center",children:[r.jsxs("div",{className:"flex items-center justify-center gap-1 text-blue-600 mb-2",children:[r.jsx(wr,{className:"h-5 w-5"}),r.jsx("span",{className:"font-semibold text-lg",children:e.prepTime+e.cookTime})]}),r.jsx("p",{className:"text-sm text-gray-600",children:"Total Time (min)"})]}),r.jsxs(ae,{className:"p-4 text-center",children:[r.jsxs("div",{className:"flex items-center justify-center gap-1 text-green-600 mb-2",children:[r.jsx(Mr,{className:"h-5 w-5"}),r.jsx("span",{className:"font-semibold text-lg",children:e.serves})]}),r.jsx("p",{className:"text-sm text-gray-600",children:"Servings"})]}),r.jsxs(ae,{className:"p-4 text-center",children:[r.jsxs("div",{className:"flex items-center justify-center gap-1 text-orange-600 mb-2",children:[r.jsx(qf,{className:"h-5 w-5 fill-current"}),r.jsx("span",{className:"font-semibold text-lg",children:e.rating?.toFixed(1)||"0.0"})]}),r.jsx("p",{className:"text-sm text-gray-600",children:"Rating"})]}),r.jsxs(ae,{className:"p-4 text-center",children:[r.jsxs("div",{className:"flex items-center justify-center gap-1 text-purple-600 mb-2",children:[r.jsx(l6,{className:"h-5 w-5"}),r.jsx("span",{className:"font-semibold text-lg",children:e.reviewCount||0})]}),r.jsx("p",{className:"text-sm text-gray-600",children:"Reviews"})]})]}),r.jsxs(ae,{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4 text-center",children:"Recipe Feedback"}),r.jsxs("div",{className:"flex items-center justify-center gap-6",children:[r.jsxs("button",{onClick:d,className:`flex flex-col items-center gap-2 px-6 py-4 rounded-xl transition-all ${i?"bg-green-100 text-green-700 shadow-md scale-105":"hover:bg-gray-100 text-gray-600 hover:scale-105"}`,children:[r.jsx(c9,{className:`h-8 w-8 ${i?"fill-current":""}`}),r.jsx("span",{className:"font-bold text-xl",children:(e.likes||0)+(i?1:0)}),r.jsx("span",{className:"text-sm font-medium",children:"Likes"})]}),r.jsx("div",{className:"w-px h-16 bg-gray-300"}),r.jsxs("button",{onClick:m,className:`flex flex-col items-center gap-2 px-6 py-4 rounded-xl transition-all ${o?"bg-red-100 text-red-700 shadow-md scale-105":"hover:bg-gray-100 text-gray-600 hover:scale-105"}`,children:[r.jsx(o9,{className:`h-8 w-8 ${o?"fill-current":""}`}),r.jsx("span",{className:"font-bold text-xl",children:(e.dislikes||0)+(o?1:0)}),r.jsx("span",{className:"text-sm font-medium",children:"Dislikes"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(ae,{className:"p-6",children:[r.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Ingredients"}),r.jsx("div",{className:"space-y-3",children:e.ingredients.map((y,v)=>r.jsxs("div",{className:"flex items-center gap-3 p-2 hover:bg-gray-50 rounded-lg",children:[r.jsx("span",{className:"w-6 h-6 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-sm font-medium flex-shrink-0",children:v+1}),r.jsx("span",{className:"font-medium",children:y.name}),r.jsx("span",{className:"text-gray-600 ml-auto",children:y.quantity})]},v))})]}),r.jsxs(ae,{className:"p-6",children:[r.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Instructions"}),r.jsx("div",{className:"space-y-4",children:e.instructions.map((y,v)=>r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-semibold",children:v+1}),r.jsx("p",{className:"text-gray-700 leading-relaxed pt-1",children:y})]},v))})]})]}),e.reviews&&e.reviews.length>0&&r.jsxs(ae,{className:"p-6",children:[r.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Customer Reviews"}),r.jsx("div",{className:"space-y-4",children:e.reviews.slice(0,3).map(y=>r.jsx("div",{className:"border-b border-gray-200 pb-4 last:border-b-0",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:y.userAvatar?r.jsx("img",{src:y.userAvatar,alt:y.userName,className:"w-full h-full rounded-full object-cover"}):r.jsx(il,{className:"h-5 w-5 text-gray-500"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("span",{className:"font-medium",children:y.userName}),y.isVerified&&r.jsx(Cr,{className:"h-4 w-4 text-green-500"}),r.jsx("div",{className:"flex items-center gap-1",children:p(y.rating)})]}),r.jsx("p",{className:"text-gray-700 mb-2",children:y.comment}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[r.jsx(hs,{className:"h-3 w-3"}),r.jsx("span",{children:new Date(y.createdAt).toLocaleDateString()})]})]})]})},y.id))})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[r.jsxs(ce,{onClick:()=>t?.(e),className:"flex-1",children:[r.jsx(vs,{className:"h-4 w-4 mr-2"}),"Edit Recipe"]}),r.jsxs(ce,{variant:"secondary",onClick:()=>s?.(e),className:"flex-1 border-red-300 text-red-600 hover:bg-red-50",children:[r.jsx(Sr,{className:"h-4 w-4 mr-2"}),"Delete Recipe"]})]})]})}const JDe=[{id:"h1",name:"Fish Curry - Kerala Style",description:"Traditional Kerala fish curry with coconut milk",category:"Fish",difficulty:"medium",prepTime:15,cookTime:30,serves:4,ingredients:[{name:"Fish (Kingfish)",quantity:"500g"},{name:"Coconut milk",quantity:"200ml"},{name:"Curry leaves",quantity:"10-12"}],instructions:["Clean and cut fish into medium pieces","Heat oil in a pan and add curry leaves","Add fish pieces and cook until golden"],images:["https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=400&h=300&fit=crop"],videoUrl:"https://youtube.com/watch?v=fish-curry-kerala",isPublished:!0,moduleType:"hub",hubId:"hub_1",likes:45,dislikes:3,rating:4.5,reviewCount:12,reviews:[{id:"r1",userId:"u1",userName:"Priya Sharma",rating:5,comment:"Absolutely delicious! The coconut milk makes it so creamy.",createdAt:"2024-01-15T10:30:00Z",isVerified:!0}],tips:[{id:"t1",userId:"u2",userName:"Chef Ravi",tip:"Add a pinch of turmeric for better color and flavor",likes:8,createdAt:"2024-01-16T14:20:00Z"}]},{id:"h2",name:"Prawn Masala",description:"Spicy prawn masala with aromatic spices",category:"Fish",difficulty:"easy",prepTime:10,cookTime:20,serves:3,ingredients:[],instructions:[],images:["https://images.unsplash.com/photo-1565680018434-b513d5e5fd47?w=400&h=300&fit=crop"],videoUrl:"https://youtube.com/watch?v=prawn-masala-recipe",isPublished:!0,moduleType:"hub",hubId:"hub_1",likes:32,dislikes:1,rating:4.2,reviewCount:8},{id:"h3",name:"Crab Roast",description:"Chettinad style crab roast",category:"Fish",difficulty:"hard",prepTime:20,cookTime:45,serves:4,ingredients:[],instructions:[],images:["https://images.unsplash.com/photo-1544943910-4c1dc44aab44?w=400&h=300&fit=crop"],isPublished:!1,moduleType:"hub",hubId:"hub_1",likes:18,dislikes:2,rating:4,reviewCount:5}],QDe=[{id:"s1",name:"Grilled Fish Steak",description:"Healthy grilled fish with herbs",category:"Fish",difficulty:"easy",prepTime:10,cookTime:15,serves:2,ingredients:[],instructions:[],images:["https://images.unsplash.com/photo-1544943910-4c1dc44aab44?w=400&h=300&fit=crop"],videoUrl:"https://youtube.com/watch?v=grilled-fish-recipe",isPublished:!0,moduleType:"store",storeId:"store_1",likes:28,dislikes:0,rating:4.8,reviewCount:6},{id:"s2",name:"Chicken Biryani",description:"Aromatic chicken biryani with basmati rice",category:"Chicken",difficulty:"medium",prepTime:30,cookTime:60,serves:6,ingredients:[],instructions:[],images:["https://images.unsplash.com/photo-1563379091339-03246963d96c?w=400&h=300&fit=crop"],isPublished:!0,moduleType:"store",storeId:"store_1",likes:67,dislikes:4,rating:4.6,reviewCount:23}];function Q1(){const{user:e}=os(),[t,s]=_.useState(JDe),[a,n]=_.useState(QDe),[i,l]=_.useState("hub"),[o,u]=_.useState(!1),[d,m]=_.useState(!1),[f,g]=_.useState(!1),[p,y]=_.useState(!1),[v,j]=_.useState(null),[N,k]=_.useState([]),[w,A]=_.useState(""),[C,M]=_.useState({name:"",description:"",category:"",difficulty:"easy",prepTime:0,cookTime:0,serves:0,ingredients:[],instructions:[],images:[],isPublished:!0}),R=()=>e?.loginType==="hub"?["All","Fish"]:e?.loginType==="store"?["All","Fish","Chicken","Mutton","Egg","Quick & Easy","Traditional","Healthy"]:["All","Fish","Chicken","Mutton","Egg","Quick & Easy","Traditional","Healthy"],D=[...t,...a],B=ux(D,e),z=B.filter(P=>P.moduleType==="hub"),I=B.filter(P=>P.moduleType==="store"),Y=e?.loginType==="hub"?["hub"]:e?.loginType==="store"?["store"]:["hub","store"];_.useState(()=>{const P=e?.loginType==="hub"?"hub":e?.loginType==="store"?"store":"hub";l(P)});const te=i==="hub"?z:I,ue=P=>{j(P),m(!0)},Z=P=>{j(P),M(P),g(!0)},ie=P=>{j(P),y(!0)},G=()=>{v&&(i==="hub"?s(t.filter(P=>P.id!==v.id)):n(a.filter(P=>P.id!==v.id)),y(!1),j(null),alert(`Recipe "${v.name}" has been deleted successfully!`))},ee=()=>{k([]),A(""),M({name:"",description:"",category:"",difficulty:"easy",prepTime:0,cookTime:0,serves:0,ingredients:[],instructions:[],images:[],isPublished:!0})},Ne=P=>{console.log("Like recipe:",P),i==="hub"?s(H=>H.map(q=>q.id===P?{...q,likes:(q.likes||0)+1}:q)):n(H=>H.map(q=>q.id===P?{...q,likes:(q.likes||0)+1}:q))},X=P=>{console.log("Dislike recipe:",P),i==="hub"?s(H=>H.map(q=>q.id===P?{...q,dislikes:(q.dislikes||0)+1}:q)):n(H=>H.map(q=>q.id===P?{...q,dislikes:(q.dislikes||0)+1}:q))};return r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-bold truncate",children:"Recipe Management"}),r.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1",children:"Manage recipes and cooking guides"})]}),r.jsxs(ce,{onClick:()=>u(!0),className:"w-full sm:w-auto flex-shrink-0",children:[r.jsx(hr,{className:"mr-2 h-5 w-5"}),r.jsx("span",{className:"hidden sm:inline",children:"Add Recipe"}),r.jsx("span",{className:"sm:hidden",children:"Add"})]})]}),Y.length>1&&r.jsx(ae,{className:"p-4",children:r.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-4 p-1 bg-gray-50 rounded-lg",children:[r.jsxs("button",{onClick:()=>l("hub"),className:`flex items-center gap-2 px-3 sm:px-4 py-2 rounded-md font-medium transition-all text-sm ${i==="hub"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[r.jsx(eo,{className:"h-4 w-4"}),"Hub Recipes (",z.length,")"]}),r.jsxs("button",{onClick:()=>l("store"),className:`flex items-center gap-2 px-4 py-2 rounded-md font-medium transition-all ${i==="store"?"bg-white text-green-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[r.jsx(Zn,{className:"h-4 w-4"}),"Store Recipes (",I.length,")"]})]})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:te.map(P=>r.jsx(ZDe,{recipe:P,onView:ue,onEdit:Z,onDelete:ie,onLike:Ne,onDislike:X},P.id))}),te.length===0&&r.jsxs(ae,{className:"p-12 text-center",children:[r.jsx("div",{className:"text-gray-400 mb-4",children:r.jsx(wr,{className:"h-12 w-12 mx-auto"})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No recipes found"}),r.jsx("p",{className:"text-gray-500 mb-4",children:"Get started by creating your first recipe"}),r.jsxs(ce,{onClick:()=>u(!0),children:[r.jsx(hr,{className:"mr-2 h-5 w-5"}),"Add Recipe"]})]}),r.jsx(J1,{isOpen:o,onClose:()=>{u(!1),ee()},title:"Add New Recipe",size:"xl",children:r.jsxs("form",{className:"p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Basic Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Recipe Name"}),r.jsx(he,{placeholder:"Fish Curry - Kerala Style",value:C.name||"",onChange:P=>M(H=>({...H,name:P.target.value})),required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),r.jsxs("select",{value:C.category||"",onChange:P=>M(H=>({...H,category:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"",children:"Select Category"}),R().filter(P=>P!=="All").map(P=>r.jsx("option",{value:P.toLowerCase(),children:P},P))]})]})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Describe your recipe...",value:C.description||"",onChange:P=>M(H=>({...H,description:P.target.value}))})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Recipe Details"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prep Time (min)"}),r.jsx(he,{type:"number",placeholder:"15",value:C.prepTime||"",onChange:P=>M(H=>({...H,prepTime:parseInt(P.target.value)||0}))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cook Time (min)"}),r.jsx(he,{type:"number",placeholder:"30",value:C.cookTime||"",onChange:P=>M(H=>({...H,cookTime:parseInt(P.target.value)||0}))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Serves"}),r.jsx(he,{type:"number",placeholder:"4",value:C.serves||"",onChange:P=>M(H=>({...H,serves:parseInt(P.target.value)||0}))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Difficulty"}),r.jsxs("select",{value:C.difficulty||"easy",onChange:P=>M(H=>({...H,difficulty:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"easy",children:"Easy"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"hard",children:"Hard"})]})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Recipe Media"}),r.jsx(SF,{mediaItems:N,onMediaChange:k,videoUrl:w,onVideoUrlChange:A,maxImages:6,maxVideos:2})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Ingredients"}),r.jsxs("div",{className:"space-y-2",children:[C.ingredients?.map((P,H)=>r.jsxs("div",{className:"flex gap-2",children:[r.jsx(he,{placeholder:"Ingredient name",value:P.name,onChange:q=>{const W=[...C.ingredients||[]];W[H]={...P,name:q.target.value},M(le=>({...le,ingredients:W}))},className:"flex-1"}),r.jsx(he,{placeholder:"Quantity",value:P.quantity,onChange:q=>{const W=[...C.ingredients||[]];W[H]={...P,quantity:q.target.value},M(le=>({...le,ingredients:W}))},className:"w-24"}),r.jsx("button",{type:"button",onClick:()=>{const q=[...C.ingredients||[]];q.splice(H,1),M(W=>({...W,ingredients:q}))},className:"px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg",children:r.jsx(ws,{className:"h-4 w-4"})})]},H)),r.jsxs("button",{type:"button",onClick:()=>M(P=>({...P,ingredients:[...P.ingredients||[],{name:"",quantity:""}]})),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[r.jsx(hr,{className:"h-4 w-4"})," Add Ingredient"]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Instructions"}),r.jsxs("div",{className:"space-y-2",children:[C.instructions?.map((P,H)=>r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("span",{className:"w-8 h-10 flex items-center justify-center text-sm font-medium text-gray-500 bg-gray-100 rounded",children:[H+1,"."]}),r.jsx("textarea",{placeholder:"Step instruction",value:P,onChange:q=>{const W=[...C.instructions||[]];W[H]=q.target.value,M(le=>({...le,instructions:W}))},className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none",rows:2}),r.jsx("button",{type:"button",onClick:()=>{const q=[...C.instructions||[]];q.splice(H,1),M(W=>({...W,instructions:q}))},className:"px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg",children:r.jsx(ws,{className:"h-4 w-4"})})]},H)),r.jsxs("button",{type:"button",onClick:()=>M(P=>({...P,instructions:[...P.instructions||[],""]})),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[r.jsx(hr,{className:"h-4 w-4"})," Add Step"]})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[r.jsx("button",{type:"button",onClick:()=>{u(!1),ee()},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),r.jsx("button",{type:"button",onClick:()=>{if(!C.name||!C.category){alert("Please fill in all required fields: recipe name and category");return}const P=N.filter(W=>W.type==="image").map(W=>W.url),H=N.filter(W=>W.type==="video-file"),q={id:`${i[0]}${Date.now()}`,name:C.name||"",description:C.description||"",category:C.category||"",difficulty:C.difficulty||"easy",prepTime:C.prepTime||0,cookTime:C.cookTime||0,serves:C.serves||0,ingredients:C.ingredients||[],instructions:C.instructions||[],images:P,videoUrl:w||void 0,additionalVideos:H.map(W=>({id:W.id,type:"file",url:W.url,name:W.name})),isPublished:!0,likes:0,dislikes:0,rating:0,reviewCount:0,reviews:[],tips:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};i==="hub"?s([...t,q]):n([...a,q]),u(!1),ee(),alert(`Recipe "${q.name}" has been added successfully!`)},className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Save Recipe"})]})]})}),r.jsx(J1,{isOpen:d,onClose:()=>{m(!1),j(null)},title:"Recipe Details",size:"2xl",children:v&&r.jsx(XDe,{recipe:v,onEdit:Z,onDelete:ie,onLike:Ne,onDislike:X})}),r.jsx(J1,{isOpen:f,onClose:()=>{g(!1),j(null),ee()},title:"Edit Recipe",size:"xl",children:v&&r.jsxs("form",{className:"p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Basic Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Recipe Name"}),r.jsx(he,{placeholder:"Fish Curry - Kerala Style",value:C.name||v.name,onChange:P=>M(H=>({...H,name:P.target.value})),required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),r.jsx("select",{value:C.category||v.category,onChange:P=>M(H=>({...H,category:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:R().filter(P=>P!=="All").map(P=>r.jsx("option",{value:P.toLowerCase(),children:P},P))})]})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Describe your recipe...",value:C.description||v.description,onChange:P=>M(H=>({...H,description:P.target.value}))})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Recipe Details"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prep Time (min)"}),r.jsx(he,{type:"number",placeholder:"15",value:C.prepTime||v.prepTime,onChange:P=>M(H=>({...H,prepTime:parseInt(P.target.value)||0}))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cook Time (min)"}),r.jsx(he,{type:"number",placeholder:"30",value:C.cookTime||v.cookTime,onChange:P=>M(H=>({...H,cookTime:parseInt(P.target.value)||0}))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Serves"}),r.jsx(he,{type:"number",placeholder:"4",value:C.serves||v.serves,onChange:P=>M(H=>({...H,serves:parseInt(P.target.value)||0}))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Difficulty"}),r.jsxs("select",{value:C.difficulty||v.difficulty,onChange:P=>M(H=>({...H,difficulty:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"easy",children:"Easy"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"hard",children:"Hard"})]})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Recipe Media"}),r.jsx(SF,{mediaItems:N,onMediaChange:k,videoUrl:w||v.videoUrl||"",onVideoUrlChange:A,maxImages:6,maxVideos:2})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Ingredients"}),r.jsxs("div",{className:"space-y-2",children:[(C.ingredients||v.ingredients).map((P,H)=>r.jsxs("div",{className:"flex gap-2",children:[r.jsx(he,{placeholder:"Ingredient name",value:P.name,onChange:q=>{const W=[...C.ingredients||v.ingredients];W[H]={...P,name:q.target.value},M(le=>({...le,ingredients:W}))},className:"flex-1"}),r.jsx(he,{placeholder:"Quantity",value:P.quantity,onChange:q=>{const W=[...C.ingredients||v.ingredients];W[H]={...P,quantity:q.target.value},M(le=>({...le,ingredients:W}))},className:"w-24"}),r.jsx("button",{type:"button",onClick:()=>{const q=[...C.ingredients||v.ingredients];q.splice(H,1),M(W=>({...W,ingredients:q}))},className:"px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg",children:r.jsx(ws,{className:"h-4 w-4"})})]},H)),r.jsxs("button",{type:"button",onClick:()=>M(P=>({...P,ingredients:[...P.ingredients||v.ingredients,{name:"",quantity:""}]})),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[r.jsx(hr,{className:"h-4 w-4"})," Add Ingredient"]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Instructions"}),r.jsxs("div",{className:"space-y-2",children:[(C.instructions||v.instructions).map((P,H)=>r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("span",{className:"w-8 h-10 flex items-center justify-center text-sm font-medium text-gray-500 bg-gray-100 rounded",children:[H+1,"."]}),r.jsx("textarea",{placeholder:"Step instruction",value:P,onChange:q=>{const W=[...C.instructions||v.instructions];W[H]=q.target.value,M(le=>({...le,instructions:W}))},className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none",rows:2}),r.jsx("button",{type:"button",onClick:()=>{const q=[...C.instructions||v.instructions];q.splice(H,1),M(W=>({...W,instructions:q}))},className:"px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg",children:r.jsx(ws,{className:"h-4 w-4"})})]},H)),r.jsxs("button",{type:"button",onClick:()=>M(P=>({...P,instructions:[...P.instructions||v.instructions,""]})),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[r.jsx(hr,{className:"h-4 w-4"})," Add Step"]})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[r.jsx("button",{type:"button",onClick:()=>{g(!1),j(null),ee()},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),r.jsx("button",{type:"button",onClick:()=>{const P=N.filter(W=>W.type==="image").map(W=>W.url),H=N.filter(W=>W.type==="video-file"),q={...v,name:C.name||v.name,description:C.description||v.description,category:C.category||v.category,difficulty:C.difficulty||v.difficulty,prepTime:C.prepTime||v.prepTime,cookTime:C.cookTime||v.cookTime,serves:C.serves||v.serves,ingredients:C.ingredients||v.ingredients,instructions:C.instructions||v.instructions,images:P.length>0?P:v.images,videoUrl:w||v.videoUrl||void 0,additionalVideos:H.length>0?H.map(W=>({id:W.id,type:"file",url:W.url,name:W.name})):v.additionalVideos,isPublished:v.isPublished,updatedAt:new Date().toISOString()};i==="hub"?s(t.map(W=>W.id===v.id?q:W)):n(a.map(W=>W.id===v.id?q:W)),g(!1),j(null),ee(),alert(`Recipe "${q.name}" has been updated successfully!`)},className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Update Recipe"})]})]})}),r.jsx(J1,{isOpen:p,onClose:()=>{y(!1),j(null)},title:"Delete Recipe",size:"md",children:v&&r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:r.jsx(Sr,{className:"h-6 w-6 text-red-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Delete Recipe"}),r.jsx("p",{className:"text-sm text-gray-500",children:"This action cannot be undone"})]})]}),r.jsxs("p",{className:"text-gray-700",children:["Are you sure you want to delete ",r.jsxs("strong",{children:['"',v.name,'"']}),"? This will permanently remove the recipe and all its data."]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:()=>{y(!1),j(null)},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),r.jsx("button",{onClick:G,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Delete Recipe"})]})]})})]})}const nd={name:"Bay Hawk Elite",tagline:"The Only Seafood Membership That Guarantees Your Price",price:1299,pricePerMonth:108,members:156,benefits:["No surge charges on raining or peak days","Free delivery from 349 (members) | Delivery charges applicable (non-members)","300 Welcome cash in your Wallet","10% extra bonus on premium pomfret, tiger prawns, lobster and more","Priority order processing & delivery","Surprises on special occasions"],rules:["1 Year subscription plan price at 1,299, per month 108","Wallet cash added has the expiry time of 60 days","My Profile page needs to show how much is saved & how time used through the membership","10% extra offer only on selected products","While checkout the non members should be notified like Elite members will save the delivery charge, 10% offer(on selected products) and surge charge(if applicable)","Members can see how much they have saved while placing the order"],marketingPoints:[{icon:Fi,text:"Free delivery from 349. Non Members: Delivery charges apply on every order"},{icon:mh,text:"Members get priority processing & faster delivery during busy hours"},{icon:ru,text:"300 welcome cash in your Wallet ready to use on your next order"},{icon:Na,text:"Members save 10% extra on premium cuts: pomfret, tiger prawns, lobster & more"},{icon:Fi,text:"Members never pay surge pricing for the same seafood price in rain, weekends and peak hours"},{icon:ru,text:"Members get little surprises on birthdays, anniversaries and festivals just our way of saying thank you"}]},_F=[{id:"1",name:"Free",price:0,billingCycle:"monthly",members:1523,features:["Basic delivery slots","Standard support"],isActive:!0}];function eRe(){const[e,t]=_.useState(""),[s,a]=_.useState(!1);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Subscription Management"}),r.jsx("p",{className:"text-gray-600",children:"Manage Elite membership plans and members"})]}),r.jsxs(ce,{children:[r.jsx(hr,{className:"mr-2 h-5 w-5"})," Create Plan"]})]}),r.jsxs("div",{className:"grid gap-6 sm:grid-cols-4",children:[r.jsxs(ae,{className:"flex items-center gap-4",children:[r.jsx("div",{className:"rounded-lg bg-yellow-100 p-3",children:r.jsx(Na,{className:"h-6 w-6 text-yellow-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Elite Members"}),r.jsx("p",{className:"text-2xl font-bold",children:nd.members})]})]}),r.jsxs(ae,{className:"flex items-center gap-4",children:[r.jsx("div",{className:"rounded-lg bg-purple-100 p-3",children:r.jsx(Mr,{className:"h-6 w-6 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Free Members"}),r.jsx("p",{className:"text-2xl font-bold",children:_F[0].members})]})]}),r.jsxs(ae,{className:"flex items-center gap-4",children:[r.jsx("div",{className:"rounded-lg bg-green-100 p-3",children:r.jsx(Ps,{className:"h-6 w-6 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Conversion Rate"}),r.jsx("p",{className:"text-2xl font-bold",children:"9.3%"})]})]}),r.jsxs(ae,{className:"flex items-center gap-4",children:[r.jsx("div",{className:"rounded-lg bg-blue-100 p-3",children:r.jsx(Na,{className:"h-6 w-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Annual Revenue"}),r.jsxs("p",{className:"text-2xl font-bold",children:["",(nd.price*nd.members).toLocaleString()]})]})]})]}),r.jsxs(ae,{className:"ring-2 ring-yellow-500 bg-gradient-to-br from-yellow-50 to-white",children:[r.jsxs("div",{className:"flex items-start justify-between mb-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Na,{className:"h-8 w-8 text-yellow-600"}),r.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:nd.name})]}),r.jsxs("p",{className:"text-lg text-gray-700 italic",children:['"',nd.tagline,'"']})]}),r.jsxs(at,{variant:"bg-yellow-100 text-yellow-800 text-lg px-4 py-2",children:[r.jsx(Na,{className:"h-5 w-5 inline mr-1"}),"Elite"]})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex items-baseline gap-2 mb-2",children:[r.jsxs("span",{className:"text-5xl font-bold text-gray-900",children:["",nd.price]}),r.jsx("span",{className:"text-gray-600",children:"/year"})]}),r.jsxs("p",{className:"text-lg text-gray-600",children:["Only ",nd.pricePerMonth,"/month"]}),r.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:[nd.members," active Elite members"]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Benefits:"}),nd.benefits.map((n,i)=>r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Do,{className:"h-5 w-5 text-green-600 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-gray-700",children:n})]},i))]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Marketing Highlights:"}),r.jsx("div",{className:"space-y-4",children:nd.marketingPoints.map((n,i)=>{const l=n.icon;return r.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white rounded-lg border border-gray-200",children:[r.jsx(l,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-sm text-gray-700",children:n.text})]},i)})})]})]}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsxs("button",{onClick:()=>a(!s),className:"text-blue-600 hover:text-blue-700 font-medium flex items-center gap-2",children:[s?"":""," Rules & Conditions"]}),s&&r.jsx("div",{className:"mt-4 space-y-2 bg-blue-50 p-4 rounded-lg",children:nd.rules.map((n,i)=>r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsxs("span",{className:"text-blue-600 font-bold",children:[i+1,"."]}),r.jsx("span",{className:"text-sm text-gray-700",children:n})]},i))})]}),r.jsxs("div",{className:"flex gap-3 mt-6",children:[r.jsxs(ce,{className:"flex-1",children:[r.jsx(vs,{className:"h-5 w-5 mr-2"})," Edit Plan"]}),r.jsx(ce,{variant:"secondary",children:"View Analytics"})]})]}),r.jsx("div",{className:"grid gap-6 lg:grid-cols-2",children:_F.map(n=>r.jsxs(ae,{children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsx("h3",{className:"text-xl font-bold",children:n.name})}),r.jsxs("div",{className:"mb-4",children:[r.jsx("span",{className:"text-3xl font-bold",children:jt(n.price)}),r.jsxs("span",{className:"text-gray-500",children:["/",n.billingCycle]})]}),r.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:[n.members," active members"]}),r.jsx("ul",{className:"space-y-2 mb-6",children:n.features.map((i,l)=>r.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[r.jsx(Do,{className:"h-4 w-4 text-green-500"})," ",i]},l))}),r.jsx("div",{className:"flex gap-2",children:r.jsxs(ce,{variant:"secondary",size:"sm",className:"flex-1",children:[r.jsx(vs,{className:"h-5 w-5 mr-1"})," Edit"]})})]},n.id))}),r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Recent Members"}),r.jsx(Dt,{value:e,onChange:n=>t(n.target.value),options:[{value:"",label:"All Plans"},{value:"free",label:"Free"},{value:"elite",label:"Elite"}]})]}),r.jsxs(Lx,{children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx(Vr,{children:"Member"}),r.jsx(Vr,{children:"Plan"}),r.jsx(Vr,{children:"Start Date"}),r.jsx(Vr,{children:"Renewal Date"}),r.jsx(Vr,{children:"Savings"}),r.jsx(Vr,{children:"Status"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:[{name:"Rajesh Kumar",email:"rajesh@email.com",plan:"Elite",start:"2024-01-01",renewal:"2025-01-01",savings:2450,status:"active"},{name:"Priya Sharma",email:"priya@email.com",plan:"Elite",start:"2023-12-15",renewal:"2024-12-15",savings:3200,status:"active"},{name:"Arun Patel",email:"arun@email.com",plan:"Free",start:"2024-01-05",renewal:"-",savings:0,status:"active"}].map((n,i)=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx(Wr,{children:r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:n.name}),r.jsx("p",{className:"text-xs text-gray-500",children:n.email})]})}),r.jsx(Wr,{children:r.jsxs(at,{variant:n.plan==="Elite"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800",children:[n.plan==="Elite"&&r.jsx(Na,{className:"h-3 w-3 inline mr-1"}),n.plan]})}),r.jsx(Wr,{children:n.start}),r.jsx(Wr,{children:n.renewal}),r.jsx(Wr,{children:n.savings>0?`${n.savings}`:"-"}),r.jsx(Wr,{children:r.jsx(at,{variant:Qn(n.status),children:n.status})})]},i))})]})]})]})}const AF=[{id:"TXN001",customer:"Rajesh Kumar",type:"credit",description:"Referral Reward",amount:100,balance:350,status:"completed",date:"2024-01-07T10:30:00"},{id:"TXN002",customer:"Priya Sharma",type:"debit",description:"Order #ORD-2024-001",amount:150,balance:50,status:"completed",date:"2024-01-07T09:15:00"},{id:"TXN003",customer:"Arun Patel",type:"credit",description:"Order Refund",amount:250,balance:250,status:"completed",date:"2024-01-06T14:20:00"},{id:"TXN004",customer:"Lakshmi Devi",type:"credit",description:"Scratch Card Reward",amount:25,balance:525,status:"completed",date:"2024-01-06T11:45:00"},{id:"TXN005",customer:"Suresh Menon",type:"debit",description:"Order #ORD-2024-005",amount:200,balance:0,status:"completed",date:"2024-01-05T16:00:00"}];function tRe(){const[e,t]=_.useState(!1);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Wallet Management"}),r.jsx("p",{className:"text-gray-600",children:"Manage customer wallets and transactions"})]}),r.jsxs(ce,{onClick:()=>t(!0),children:[r.jsx(hr,{className:"mr-2 h-5 w-5"})," Add Credit"]})]}),r.jsxs("div",{className:"grid gap-6 sm:grid-cols-4",children:[r.jsxs(ae,{className:"flex items-center gap-4",children:[r.jsx("div",{className:"rounded-lg bg-blue-100 p-3",children:r.jsx(Ex,{className:"h-6 w-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Balance"}),r.jsx("p",{className:"text-2xl font-bold",children:"1,24,500"})]})]}),r.jsxs(ae,{className:"flex items-center gap-4",children:[r.jsx("div",{className:"rounded-lg bg-green-100 p-3",children:r.jsx(Kp,{className:"h-6 w-6 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Credits (Today)"}),r.jsx("p",{className:"text-2xl font-bold",children:"8,450"})]})]}),r.jsxs(ae,{className:"flex items-center gap-4",children:[r.jsx("div",{className:"rounded-lg bg-red-100 p-3",children:r.jsx(UO,{className:"h-6 w-6 text-red-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Debits (Today)"}),r.jsx("p",{className:"text-2xl font-bold",children:"12,300"})]})]}),r.jsxs(ae,{className:"flex items-center gap-4",children:[r.jsx("div",{className:"rounded-lg bg-orange-100 p-3",children:r.jsx(ld,{className:"h-6 w-6 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Pending Refunds"}),r.jsx("p",{className:"text-2xl font-bold",children:"2,150"})]})]})]}),r.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[r.jsxs(ae,{children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Wallet Settings"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Balance Expiry"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(he,{type:"number",defaultValue:"365",className:"w-24"}),r.jsx("span",{className:"text-sm text-gray-500",children:"days"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Balance Limit"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-gray-500",children:""}),r.jsx(he,{type:"number",defaultValue:"5000",className:"w-24"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Usage Amount"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-gray-500",children:""}),r.jsx(he,{type:"number",defaultValue:"1",className:"w-24"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Usage per Order"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(he,{type:"number",defaultValue:"50",className:"w-24"}),r.jsx("span",{className:"text-sm text-gray-500",children:"%"})]})]}),r.jsxs("div",{className:"flex items-center justify-between pt-2",children:[r.jsx("span",{className:"text-sm",children:"Enable Wallet Payments"}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",defaultChecked:!0,className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 rounded-full peer peer-checked:bg-primary-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]})]}),r.jsx(ce,{className:"w-full",children:"Save Settings"})]})]}),r.jsxs(ae,{className:"lg:col-span-2",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Recent Transactions"}),r.jsx("div",{className:"flex gap-2",children:r.jsx(Dt,{options:[{value:"",label:"All Types"},{value:"credit",label:"Credits"},{value:"debit",label:"Debits"}]})})]}),r.jsx("div",{className:"space-y-3",children:AF.map(s=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`p-2 rounded-full ${s.type==="credit"?"bg-green-100":"bg-red-100"}`,children:s.type==="credit"?r.jsx(Kp,{className:"h-4 w-4 text-green-600"}):r.jsx(UO,{className:"h-4 w-4 text-red-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:s.customer}),r.jsx("p",{className:"text-sm text-gray-500",children:s.description})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:`font-medium ${s.type==="credit"?"text-green-600":"text-red-600"}`,children:[s.type==="credit"?"+":"-",jt(s.amount)]}),r.jsx("p",{className:"text-xs text-gray-500",children:Rm(s.date)})]})]},s.id))})]})]}),r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"All Transactions"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Mn,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),r.jsx(he,{placeholder:"Search customer...",className:"pl-10"})]}),r.jsx(ce,{variant:"secondary",children:"Export"})]})]}),r.jsxs(Lx,{children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx(Vr,{children:"Transaction ID"}),r.jsx(Vr,{children:"Customer"}),r.jsx(Vr,{children:"Type"}),r.jsx(Vr,{children:"Description"}),r.jsx(Vr,{children:"Amount"}),r.jsx(Vr,{children:"Balance After"}),r.jsx(Vr,{children:"Status"}),r.jsx(Vr,{children:"Date"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:AF.map(s=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx(Wr,{children:r.jsx("span",{className:"font-mono text-sm",children:s.id})}),r.jsx(Wr,{children:r.jsx("span",{className:"font-medium",children:s.customer})}),r.jsx(Wr,{children:r.jsx(at,{variant:s.type==="credit"?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:s.type})}),r.jsx(Wr,{children:s.description}),r.jsxs(Wr,{className:s.type==="credit"?"text-green-600":"text-red-600",children:[s.type==="credit"?"+":"-",jt(s.amount)]}),r.jsx(Wr,{children:jt(s.balance)}),r.jsx(Wr,{children:r.jsx(at,{variant:Qn(s.status),children:s.status})}),r.jsx(Wr,{children:r.jsx("span",{className:"text-sm",children:Rm(s.date)})})]},s.id))})]})]}),r.jsx(gr,{isOpen:e,onClose:()=>t(!1),title:"Add Wallet Credit",children:r.jsxs("form",{className:"space-y-4",children:[r.jsx(he,{label:"Customer Phone/Email",placeholder:"Search customer..."}),r.jsx(he,{label:"Amount ()",type:"number",placeholder:"100"}),r.jsx(Dt,{label:"Reason",options:[{value:"refund",label:"Order Refund"},{value:"compensation",label:"Compensation"},{value:"promotion",label:"Promotional Credit"},{value:"other",label:"Other"}]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),r.jsx("textarea",{className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-primary-500 focus:outline-none",rows:2,placeholder:"Add notes..."})]}),r.jsxs("div",{className:"flex gap-2 pt-4",children:[r.jsx(ce,{type:"button",variant:"secondary",onClick:()=>t(!1),className:"flex-1",children:"Cancel"}),r.jsx(ce,{type:"submit",className:"flex-1",children:"Add Credit"})]})]})})]})}function CF(){const[e,t]=_.useState([{id:"1",productName:"Anchovy | ",variant:"Medium",count:{min:20,max:30},grossWeight:.5,basePrice:{min:150,max:250},purchasePriceEntry:"",status:"Purchased",remarks:""},{id:"2",productName:"Black Pomfret |  ",variant:"Medium",count:{min:2,max:3},grossWeight:2,basePrice:{min:500,max:650},purchasePriceEntry:"",status:"Cancelled",remarks:""}]),[s,a]=_.useState([{id:"1",productName:"Anchovy | ",variant:"Medium",varientImage:"",cuttingType:"Headed and Gutted",grossWeight:.5,status:"Completed",remarks:""},{id:"2",productName:"Anchovy | ",variant:"Medium",varientImage:"",cuttingType:"Uncleaned",grossWeight:.5,status:"Unprocessed",remarks:""},{id:"3",productName:"Black Pomfret |  ",variant:"Medium",varientImage:"",cuttingType:"Steaks",grossWeight:.5,status:"Processing",remarks:""},{id:"4",productName:"Red Snapper | ",variant:"Medium",varientImage:"",cuttingType:"Gilled and Gutted",grossWeight:1,status:"",remarks:""}]),[n,i]=_.useState({dateRange:"",status:"",product:""}),[l,o]=_.useState({dateRange:"",status:"",cuttingType:"",product:""}),u=(m,f)=>{t(e.map(g=>g.id===m?{...g,status:f}:g))},d=(m,f)=>{a(s.map(g=>g.id===m?{...g,status:f}:g))};return r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Procurement"}),r.jsx("p",{className:"text-gray-600",children:"Below snip is the reference of information required to purchase. After the purchase done status could be manually changed by the respective person."}),r.jsxs("ul",{className:"list-disc ml-6 mt-2 text-sm text-gray-600",children:[r.jsx("li",{children:'Default status - "Processing"'}),r.jsx("li",{children:"Filters - Date range, Status & Product"})]})]}),r.jsxs("div",{className:"mb-4 flex gap-4 items-center",children:[r.jsx(Jf,{className:"w-5 h-5 text-gray-500"}),r.jsx("input",{type:"text",placeholder:"Date range",className:"border rounded px-3 py-2",value:n.dateRange,onChange:m=>i({...n,dateRange:m.target.value})}),r.jsxs("select",{className:"border rounded px-3 py-2",value:n.status,onChange:m=>i({...n,status:m.target.value}),children:[r.jsx("option",{value:"",children:"All Status"}),r.jsx("option",{value:"Processing",children:"Processing"}),r.jsx("option",{value:"Purchased",children:"Purchased"}),r.jsx("option",{value:"Cancelled",children:"Cancelled"}),r.jsx("option",{value:"Alternate",children:"Alternate"})]}),r.jsx("input",{type:"text",placeholder:"Product",className:"border rounded px-3 py-2",value:n.product,onChange:m=>i({...n,product:m.target.value})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[r.jsx("div",{className:"bg-blue-500 text-white font-semibold",children:r.jsxs("div",{className:"grid grid-cols-9 gap-4 p-4",children:[r.jsx("div",{children:"Product Name"}),r.jsx("div",{children:"Varient"}),r.jsxs("div",{children:["Count",r.jsx("br",{}),r.jsx("span",{className:"text-xs",children:"Min. Max."})]}),r.jsx("div",{children:"Gross weight"}),r.jsxs("div",{children:["Base Price",r.jsx("br",{}),r.jsx("span",{className:"text-xs",children:"Min. Max."})]}),r.jsx("div",{children:"Purchase Price Entry"}),r.jsx("div",{children:"Status"}),r.jsx("div",{children:"Remarks"})]})}),e.map(m=>r.jsxs("div",{className:`grid grid-cols-9 gap-4 p-4 border-b ${m.status==="Cancelled"?"bg-yellow-100":""}`,children:[r.jsx("div",{children:m.productName}),r.jsx("div",{children:m.variant}),r.jsxs("div",{children:[m.count.min," ",m.count.max]}),r.jsx("div",{children:m.grossWeight}),r.jsxs("div",{children:[m.basePrice.min," ",m.basePrice.max]}),r.jsx("div",{children:r.jsx("input",{type:"text",className:"border rounded px-2 py-1 w-full",value:m.purchasePriceEntry,onChange:f=>t(e.map(g=>g.id===m.id?{...g,purchasePriceEntry:f.target.value}:g))})}),r.jsx("div",{children:r.jsxs("select",{className:`border rounded px-2 py-1 w-full ${m.status==="Purchased"?"bg-green-500 text-white":m.status==="Cancelled"?"bg-red-500 text-white":m.status==="Alternate"?"bg-orange-500 text-white":"bg-yellow-500 text-white"}`,value:m.status,onChange:f=>u(m.id,f.target.value),children:[r.jsx("option",{value:"Processing",children:"Processing"}),r.jsx("option",{value:"Purchased",children:"Purchased"}),r.jsx("option",{value:"Cancelled",children:"Cancelled"}),r.jsx("option",{value:"Alternate",children:"Alternate"})]})}),r.jsx("div",{children:r.jsx("input",{type:"text",className:"border rounded px-2 py-1 w-full",value:m.remarks,onChange:f=>t(e.map(g=>g.id===m.id?{...g,remarks:f.target.value}:g))})})]},m.id))]}),r.jsxs("div",{className:"mt-12 mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Cutting & Cleaning"}),r.jsx("p",{className:"text-gray-600",children:"Below snip is the reference of information required for Cutting & Cleaning. After the Cutting & Cleaning done status could be manually changed by the respective person."}),r.jsxs("ul",{className:"list-disc ml-6 mt-2 text-sm text-gray-600",children:[r.jsx("li",{children:'Default status - "Processing"'}),r.jsx("li",{children:"Filters - Date range, Status, Cutting type & Product"})]})]}),r.jsxs("div",{className:"mb-4 flex gap-4 items-center",children:[r.jsx(Jf,{className:"w-5 h-5 text-gray-500"}),r.jsx("input",{type:"text",placeholder:"Date range",className:"border rounded px-3 py-2",value:l.dateRange,onChange:m=>o({...l,dateRange:m.target.value})}),r.jsxs("select",{className:"border rounded px-3 py-2",value:l.status,onChange:m=>o({...l,status:m.target.value}),children:[r.jsx("option",{value:"",children:"All Status"}),r.jsx("option",{value:"Processing",children:"Processing"}),r.jsx("option",{value:"Completed",children:"Completed"}),r.jsx("option",{value:"Unprocessed",children:"Unprocessed"})]}),r.jsx("input",{type:"text",placeholder:"Cutting type",className:"border rounded px-3 py-2",value:l.cuttingType,onChange:m=>o({...l,cuttingType:m.target.value})}),r.jsx("input",{type:"text",placeholder:"Product",className:"border rounded px-3 py-2",value:l.product,onChange:m=>o({...l,product:m.target.value})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[r.jsx("div",{className:"bg-blue-500 text-white font-semibold",children:r.jsxs("div",{className:"grid grid-cols-7 gap-4 p-4",children:[r.jsx("div",{children:"Product Name"}),r.jsx("div",{children:"Varient"}),r.jsx("div",{children:"Varient Images"}),r.jsx("div",{children:"Cutting Type"}),r.jsx("div",{children:"Gross Weight"}),r.jsx("div",{children:"Status"}),r.jsx("div",{children:"Remarks"})]})}),s.map(m=>r.jsxs("div",{className:`grid grid-cols-7 gap-4 p-4 border-b ${m.status==="Unprocessed"?"bg-yellow-100":""}`,children:[r.jsx("div",{children:m.productName}),r.jsx("div",{children:m.variant}),r.jsx("div",{className:"flex items-center justify-center",children:r.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded flex items-center justify-center",children:r.jsx("span",{className:"text-xs text-gray-500",children:"Image"})})}),r.jsx("div",{children:m.cuttingType}),r.jsx("div",{children:m.grossWeight}),r.jsx("div",{children:r.jsxs("select",{className:`border rounded px-2 py-1 w-full ${m.status==="Completed"?"bg-green-500 text-white":m.status==="Unprocessed"?"bg-red-500 text-white":m.status==="Processing"?"bg-yellow-500 text-white":"bg-gray-200"}`,value:m.status,onChange:f=>d(m.id,f.target.value),children:[r.jsx("option",{value:"",children:"Select Status"}),r.jsx("option",{value:"Processing",children:"Processing"}),r.jsx("option",{value:"Completed",children:"Completed"}),r.jsx("option",{value:"Unprocessed",children:"Unprocessed"})]})}),r.jsx("div",{children:r.jsx("input",{type:"text",className:"border rounded px-2 py-1 w-full",value:m.remarks,onChange:f=>a(s.map(g=>g.id===m.id?{...g,remarks:f.target.value}:g))})})]},m.id))]})]})}function kF(){const[e,t]=_.useState([{id:"1",orderId:"ORD-001",customerName:"John Doe",productName:"Anchovy | ",variant:"Medium",quantity:2,cuttingType:"Headed and Gutted",status:"Processing",remarks:""},{id:"2",orderId:"ORD-002",customerName:"Jane Smith",productName:"Black Pomfret |  ",variant:"Large",quantity:1,cuttingType:"Steaks",status:"Completed",remarks:""}]),[s,a]=_.useState({dateRange:"",status:"",customer:"",product:""}),n=(i,l)=>{t(e.map(o=>o.id===i?{...o,status:l}:o))};return r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Packing"}),r.jsx("p",{className:"text-gray-600",children:"Below snip is the reference of information required for Packing. After the Packing done status could be manually changed by the respective person."}),r.jsxs("ul",{className:"list-disc ml-6 mt-2 text-sm text-gray-600",children:[r.jsx("li",{children:'Default status - "Processing"'}),r.jsx("li",{children:"Filters - Date range, Status, Customer & Product"})]})]}),r.jsxs("div",{className:"mb-4 flex gap-4 items-center",children:[r.jsx(Jf,{className:"w-5 h-5 text-gray-500"}),r.jsx("input",{type:"text",placeholder:"Date range",className:"border rounded px-3 py-2",value:s.dateRange,onChange:i=>a({...s,dateRange:i.target.value})}),r.jsxs("select",{className:"border rounded px-3 py-2",value:s.status,onChange:i=>a({...s,status:i.target.value}),children:[r.jsx("option",{value:"",children:"All Status"}),r.jsx("option",{value:"Processing",children:"Processing"}),r.jsx("option",{value:"Completed",children:"Completed"}),r.jsx("option",{value:"Pending",children:"Pending"})]}),r.jsx("input",{type:"text",placeholder:"Customer",className:"border rounded px-3 py-2",value:s.customer,onChange:i=>a({...s,customer:i.target.value})}),r.jsx("input",{type:"text",placeholder:"Product",className:"border rounded px-3 py-2",value:s.product,onChange:i=>a({...s,product:i.target.value})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[r.jsx("div",{className:"bg-blue-500 text-white font-semibold",children:r.jsxs("div",{className:"grid grid-cols-8 gap-4 p-4",children:[r.jsx("div",{children:"Order ID"}),r.jsx("div",{children:"Customer Name"}),r.jsx("div",{children:"Product Name"}),r.jsx("div",{children:"Variant"}),r.jsx("div",{children:"Quantity"}),r.jsx("div",{children:"Cutting Type"}),r.jsx("div",{children:"Status"}),r.jsx("div",{children:"Remarks"})]})}),e.map(i=>r.jsxs("div",{className:"grid grid-cols-8 gap-4 p-4 border-b",children:[r.jsx("div",{children:i.orderId}),r.jsx("div",{children:i.customerName}),r.jsx("div",{children:i.productName}),r.jsx("div",{children:i.variant}),r.jsx("div",{children:i.quantity}),r.jsx("div",{children:i.cuttingType}),r.jsx("div",{children:r.jsxs("select",{className:`border rounded px-2 py-1 w-full ${i.status==="Completed"?"bg-green-500 text-white":i.status==="Pending"?"bg-red-500 text-white":"bg-yellow-500 text-white"}`,value:i.status,onChange:l=>n(i.id,l.target.value),children:[r.jsx("option",{value:"Processing",children:"Processing"}),r.jsx("option",{value:"Completed",children:"Completed"}),r.jsx("option",{value:"Pending",children:"Pending"})]})}),r.jsx("div",{children:r.jsx("input",{type:"text",className:"border rounded px-2 py-1 w-full",value:i.remarks,onChange:l=>t(e.map(o=>o.id===i.id?{...o,remarks:l.target.value}:o))})})]},i.id))]})]})}const dc=[{id:"general",title:"General Settings",description:"Business information, logo, and basic configuration",icon:wm,path:"/settings",hubPath:"/hub/settings",storePath:"/store/settings",status:"complete"},{id:"delivery-slots",title:"Delivery Slots",description:"Configure delivery time slots and capacity",icon:wr,path:"/settings/delivery-slots",hubPath:"/hub/settings/delivery-slots",storePath:"/store/settings/delivery-slots",status:"complete"},{id:"shipping-charges",title:"Shipping Charges",description:"Set up delivery charges and shipping zones",icon:zr,path:"/settings/shipping-charges",hubPath:"/hub/settings/shipping-charges",storePath:"/store/settings/shipping-charges",status:"complete"},{id:"integrations",title:"Integrations",description:"Connect third-party services and APIs",icon:Jn,path:"/settings/integrations",hubPath:"/hub/settings/integrations",storePath:"/store/settings/integrations",status:"warning"},{id:"weather",title:"Weather Customization",description:"Weather-based delivery controls and alerts",icon:r9,path:"/settings/weather",hubPath:"/hub/settings/weather",storePath:"/store/settings/weather",status:"complete"},{id:"notifications",title:"Notification Customization",description:"Configure notification templates and settings",icon:Am,path:"/settings/notification",hubPath:"/hub/settings/notification",storePath:"/store/settings/notification",status:"complete"},{id:"legal",title:"Legal Documents",description:"Manage privacy policy, terms, and compliance",icon:Fi,path:"/settings/legal",hubPath:"/hub/settings/legal",storePath:"/store/settings/legal",status:"incomplete"},{id:"advertisement",title:"Advertisement Management",description:"Manage video ads for customer app (9:16 format)",icon:rh,path:"/settings/advertisement",hubPath:"/hub/settings/advertisement",storePath:"/store/settings/advertisement",status:"complete"}];function e2(){const e=Qv(),t=so(),a=t.pathname.startsWith("/hub/")?"hub":t.pathname.startsWith("/store/")?"store":"super_admin",n=o=>{let u=o.path;a==="hub"?u=o.hubPath:a==="store"&&(u=o.storePath),e(u)},i=o=>{switch(o){case"complete":return Cr;case"warning":return ls;case"incomplete":return ls;default:return Cr}},l=o=>{switch(o){case"complete":return"text-green-600";case"warning":return"text-yellow-600";case"incomplete":return"text-red-600";default:return"text-gray-600"}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Settings"}),r.jsx("p",{className:"text-gray-600",children:"Configure your admin panel settings and preferences"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(nl,{className:"h-5 w-5 text-gray-400"}),r.jsxs("span",{className:"text-sm text-gray-500",children:[dc.filter(o=>o.status==="complete").length," of ",dc.length," configured"]})]})]}),r.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:dc.map(o=>{const u=i(o.status),d=l(o.status);return r.jsx(ae,{className:"cursor-pointer transition-all hover:shadow-md hover:border-blue-300 group",onClick:()=>n(o),children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"rounded-lg bg-blue-50 p-3 group-hover:bg-blue-100 transition-colors",children:r.jsx(o.icon,{className:"h-6 w-6 text-blue-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:o.title}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(u,{className:`h-4 w-4 ${d}`}),r.jsx(cN,{className:"h-4 w-4 text-gray-400 group-hover:text-blue-600 transition-colors"})]})]}),r.jsx("p",{className:"text-sm text-gray-500",children:o.description})]})]})},o.id)})}),r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"rounded-lg bg-green-50 p-2",children:r.jsx(nl,{className:"h-5 w-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Quick Actions"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Common settings tasks"})]})]}),r.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[r.jsxs(ce,{variant:"secondary",className:"h-auto p-4 flex-col items-start",onClick:()=>n(dc[0]),children:[r.jsx(wm,{className:"h-5 w-5 mb-2"}),r.jsx("span",{className:"font-medium",children:"Update Business Info"}),r.jsx("span",{className:"text-xs text-gray-500",children:"Logo, contact details"})]}),r.jsxs(ce,{variant:"secondary",className:"h-auto p-4 flex-col items-start",onClick:()=>n(dc[1]),children:[r.jsx(wr,{className:"h-5 w-5 mb-2"}),r.jsx("span",{className:"font-medium",children:"Manage Delivery Slots"}),r.jsx("span",{className:"text-xs text-gray-500",children:"Time slots, capacity"})]}),r.jsxs(ce,{variant:"secondary",className:"h-auto p-4 flex-col items-start",onClick:()=>n(dc[3]),children:[r.jsx(Jn,{className:"h-5 w-5 mb-2"}),r.jsx("span",{className:"font-medium",children:"Setup Integrations"}),r.jsx("span",{className:"text-xs text-gray-500",children:"Payment, SMS, Maps"})]}),r.jsxs(ce,{variant:"secondary",className:"h-auto p-4 flex-col items-start",onClick:()=>n(dc[6]),children:[r.jsx(Fi,{className:"h-5 w-5 mb-2"}),r.jsx("span",{className:"font-medium",children:"Legal Documents"}),r.jsx("span",{className:"text-xs text-gray-500",children:"Privacy, terms"})]})]})]}),r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"rounded-lg bg-purple-50 p-2",children:r.jsx(Cr,{className:"h-5 w-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Configuration Status"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Overview of your settings completion"})]})]}),r.jsx("div",{className:"space-y-3",children:dc.map(o=>{const u=i(o.status),d=l(o.status);return r.jsxs("div",{className:"flex items-center justify-between py-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(o.icon,{className:"h-4 w-4 text-gray-600"}),r.jsx("span",{className:"text-sm font-medium",children:o.title})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(u,{className:`h-4 w-4 ${d}`}),r.jsx("span",{className:`text-xs font-medium ${d}`,children:o.status==="complete"?"Configured":o.status==="warning"?"Needs Attention":"Not Configured"})]})]},o.id)})}),r.jsxs("div",{className:"mt-4 pt-4 border-t",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Overall Progress"}),r.jsxs("span",{className:"font-medium",children:[Math.round(dc.filter(o=>o.status==="complete").length/dc.length*100),"% Complete"]})]}),r.jsx("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${dc.filter(o=>o.status==="complete").length/dc.length*100}%`}})})]})]})]})}const t_=[{id:"LOG001",userId:"U001",userName:"Rajesh Kumar (Hub Admin)",action:"Created Order",module:"Orders",details:"Manual order HUB001 created for customer John Doe with total amount 2,450",ipAddress:"192.168.1.1",timestamp:"2026-01-13T14:30:00Z",moduleType:"hub",hubId:"hub_1"},{id:"LOG002",userId:"U002",userName:"Priya Singh (Hub Manager)",action:"Updated Product",module:"Products",details:"Updated stock for Fresh Pomfret - 500g variant from 25kg to 50kg",ipAddress:"192.168.1.2",timestamp:"2026-01-13T13:15:00Z",moduleType:"hub",hubId:"hub_1"},{id:"LOG003",userId:"U003",userName:"Arun Patel (Store Admin)",action:"Login",module:"Authentication",details:"User successfully logged into the system from Chrome browser",ipAddress:"192.168.1.3",timestamp:"2026-01-13T12:45:00Z",moduleType:"store",storeId:"store_1"},{id:"LOG004",userId:"U001",userName:"Rajesh Kumar (Hub Admin)",action:"Deleted Product",module:"Products",details:'Permanently deleted product "Expired Tuna - 1kg" from inventory due to quality issues',ipAddress:"192.168.1.1",timestamp:"2026-01-13T11:20:00Z",moduleType:"hub",hubId:"hub_1"},{id:"LOG005",userId:"U004",userName:"Murugan K (Delivery Agent)",action:"Updated Order Status",module:"Orders",details:'Changed order ORD-2024-001 status from "Out for Delivery" to "Delivered"',ipAddress:"192.168.1.4",timestamp:"2026-01-13T10:30:00Z",moduleType:"hub",hubId:"hub_1"},{id:"LOG006",userId:"U002",userName:"Priya Singh (Hub Manager)",action:"Generated Report",module:"Reports",details:"Generated and downloaded Sales Report for date range 2026-01-01 to 2026-01-10",ipAddress:"192.168.1.2",timestamp:"2026-01-13T09:15:00Z",moduleType:"hub",hubId:"hub_1"},{id:"LOG007",userId:"U005",userName:"Lakshmi Devi (Team Lead)",action:"Created User",module:"Team Management",details:'Added new team member "Senthil Kumar" with role "Packing Employee"',ipAddress:"192.168.1.5",timestamp:"2026-01-13T08:45:00Z",moduleType:"store",storeId:"store_1"},{id:"LOG008",userId:"U006",userName:"Karthik Raja (Procurement)",action:"Updated Stock",module:"Inventory",details:"Received new stock: King Fish - 2kg, quantity: 100 pieces from supplier ABC Fisheries",ipAddress:"192.168.1.6",timestamp:"2026-01-13T08:00:00Z",moduleType:"hub",hubId:"hub_1"},{id:"LOG009",userId:"U007",userName:"Divya R (Packing)",action:"Order Packed",module:"Orders",details:"Successfully packed order ORD-2024-002 with 3 items for customer Priya Sharma",ipAddress:"192.168.1.7",timestamp:"2026-01-12T18:30:00Z",moduleType:"store",storeId:"store_2"},{id:"LOG010",userId:"U003",userName:"Arun Patel (Store Admin)",action:"Updated Settings",module:"Settings",details:"Modified delivery time slots: Added new slot 7:00 PM - 9:00 PM for weekend deliveries",ipAddress:"192.168.1.3",timestamp:"2026-01-12T17:15:00Z",moduleType:"store",storeId:"store_1"},{id:"LOG011",userId:"U008",userName:"Vijay M (Delivery Agent)",action:"Failed Login",module:"Authentication",details:"Failed login attempt - incorrect password (3rd attempt)",ipAddress:"192.168.1.8",timestamp:"2026-01-12T16:45:00Z",moduleType:"store",storeId:"store_1"},{id:"LOG012",userId:"U001",userName:"Rajesh Kumar (Hub Admin)",action:"Bulk Update",module:"Products",details:"Bulk price update applied to 25 fish products - increased prices by 5% due to market changes",ipAddress:"192.168.1.1",timestamp:"2026-01-12T15:20:00Z",moduleType:"hub",hubId:"hub_1"},{id:"LOG013",userId:"U009",userName:"Anitha S (Store Manager)",action:"Order Cancelled",module:"Orders",details:"Cancelled order ORD-2024-003 due to customer request - refund initiated",ipAddress:"192.168.1.9",timestamp:"2026-01-12T14:10:00Z",moduleType:"store",storeId:"store_1"},{id:"LOG014",userId:"U010",userName:"Muthu Kumar (Procurement)",action:"Supplier Added",module:"Suppliers",details:'Added new supplier "Fresh Ocean Traders" with contact details and product categories',ipAddress:"192.168.1.10",timestamp:"2026-01-12T13:30:00Z",moduleType:"store",storeId:"store_1"},{id:"LOG015",userId:"U002",userName:"Priya Singh (Hub Manager)",action:"System Backup",module:"System",details:"Initiated daily system backup - all data successfully backed up to cloud storage",ipAddress:"192.168.1.2",timestamp:"2026-01-12T12:00:00Z",moduleType:"hub",hubId:"hub_1"},{id:"LOG016",userId:"U011",userName:"Ravi Kumar (Packing)",action:"Quality Check",module:"Quality Control",details:"Performed quality check on incoming stock - rejected 5kg of Mackerel due to freshness issues",ipAddress:"192.168.1.11",timestamp:"2026-01-12T11:15:00Z",moduleType:"hub",hubId:"hub_1"},{id:"LOG017",userId:"U012",userName:"Neha Gupta (Delivery Agent)",action:"Route Optimized",module:"Delivery",details:"Optimized delivery route for 8 orders in Sector 15 area - estimated time saved: 45 minutes",ipAddress:"192.168.1.12",timestamp:"2026-01-12T10:30:00Z",moduleType:"hub",hubId:"hub_1"},{id:"LOG018",userId:"U003",userName:"Arun Patel (Store Admin)",action:"Promotion Created",module:"Marketing",details:"Created weekend special promotion: 20% off on all Pomfret varieties",ipAddress:"192.168.1.3",timestamp:"2026-01-12T09:45:00Z",moduleType:"store",storeId:"store_1"},{id:"LOG019",userId:"U013",userName:"Suresh M (Delivery)",action:"Customer Feedback",module:"Customer Service",details:"Recorded customer feedback for order ORD-2024-004 - 5-star rating with positive comments",ipAddress:"192.168.1.13",timestamp:"2026-01-12T08:20:00Z",moduleType:"hub",hubId:"hub_1"},{id:"LOG020",userId:"U001",userName:"Rajesh Kumar (Hub Admin)",action:"Security Update",module:"Security",details:"Applied security patch v2.1.3 - enhanced password encryption and session management",ipAddress:"192.168.1.1",timestamp:"2026-01-11T23:30:00Z",moduleType:"hub",hubId:"hub_1"}],rRe={"Created Order":Cr,"Updated Product":ld,Login:Cr,"Deleted Product":uh,"Updated Order Status":ld,"Generated Report":Ho,"Created User":il,"Failed Login":ls,"Updated Settings":ld,"Bulk Update":ld,"Order Packed":Cr,"Order Cancelled":uh,"Supplier Added":il,"System Backup":Fi,"Quality Check":Cr,"Route Optimized":wv,"Promotion Created":Cr,"Customer Feedback":Cr,"Security Update":Fi,"Updated Stock":ld},sRe={Orders:"bg-blue-100 text-blue-800",Products:"bg-green-100 text-green-800",Authentication:"bg-yellow-100 text-yellow-800",Reports:"bg-purple-100 text-purple-800","Team Management":"bg-indigo-100 text-indigo-800",Settings:"bg-gray-100 text-gray-800",Inventory:"bg-orange-100 text-orange-800",Suppliers:"bg-pink-100 text-pink-800",System:"bg-red-100 text-red-800","Quality Control":"bg-teal-100 text-teal-800",Delivery:"bg-cyan-100 text-cyan-800",Marketing:"bg-lime-100 text-lime-800","Customer Service":"bg-emerald-100 text-emerald-800",Security:"bg-rose-100 text-rose-800"};function t2(){const{user:e}=os(),[t,s]=_.useState(""),[a,n]=_.useState(""),[i,l]=_.useState(""),[o,u]=_.useState(""),d=_.useMemo(()=>{let p=ux(t_,e);if(t&&(p=p.filter(y=>y.userName.toLowerCase().includes(t.toLowerCase())||y.action.toLowerCase().includes(t.toLowerCase())||y.details.toLowerCase().includes(t.toLowerCase())||y.id.toLowerCase().includes(t.toLowerCase()))),a&&(p=p.filter(y=>y.module===a)),i&&(p=p.filter(y=>y.action===i)),o){const y=new Date(o);p=p.filter(v=>new Date(v.timestamp).toDateString()===y.toDateString())}return p.sort((y,v)=>new Date(v.timestamp).getTime()-new Date(y.timestamp).getTime())},[t,a,i,o,e]),m=[...new Set(t_.map(p=>p.module))],f=[...new Set(t_.map(p=>p.action))],g=()=>{const p=[["ID","User","Action","Module","Details","IP Address","Timestamp"],...d.map(N=>[N.id,N.userName,N.action,N.module,N.details,N.ipAddress,new Date(N.timestamp).toLocaleString()])].map(N=>N.join(",")).join(`
`),y=new Blob([p],{type:"text/csv"}),v=window.URL.createObjectURL(y),j=document.createElement("a");j.href=v,j.download=`audit-logs-${new Date().toISOString().split("T")[0]}.csv`,j.click(),window.URL.revokeObjectURL(v)};return!$a(e,We.HUB_AUDIT_LOGS)&&!$a(e,We.STORE_TEAM_MANAGE)?r.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Fi,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Access Denied"}),r.jsx("p",{className:"text-gray-600",children:"You don't have permission to view audit logs."})]})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Audit Logs"}),r.jsx("p",{className:"text-gray-600",children:"Track system activities and user actions"})]}),r.jsxs(ce,{onClick:g,className:"flex items-center gap-2",children:[r.jsx(Ho,{className:"h-4 w-4"}),"Export Logs"]})]}),r.jsx(ae,{className:"p-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),r.jsxs("div",{className:"relative",children:[r.jsx(Mn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(he,{placeholder:"Search logs...",value:t,onChange:p=>s(p.target.value),className:"pl-10"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Module"}),r.jsx(Dt,{value:a,onChange:p=>n(p.target.value),options:[{value:"",label:"All Modules"},...m.map(p=>({value:p,label:p}))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Action"}),r.jsx(Dt,{value:i,onChange:p=>l(p.target.value),options:[{value:"",label:"All Actions"},...f.map(p=>({value:p,label:p}))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),r.jsx(he,{type:"date",value:o,onChange:p=>u(p.target.value)})]})]})}),r.jsxs(ae,{className:"overflow-hidden",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User & Action"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Module"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Details"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"IP Address"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Timestamp"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:d.map(p=>{const y=rRe[p.action]||wv;return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:r.jsx(y,{className:"h-4 w-4 text-gray-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:p.userName}),r.jsx("p",{className:"text-sm text-gray-600",children:p.action})]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx(at,{className:sRe[p.module]||"bg-gray-100 text-gray-800",children:p.module})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("p",{className:"text-sm text-gray-900 max-w-md truncate",title:p.details,children:p.details})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(wm,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-sm text-gray-600 font-mono",children:p.ipAddress})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(wr,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-sm text-gray-600",children:new Date(p.timestamp).toLocaleString()})]})})]},p.id)})})]})}),d.length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(wv,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No audit logs found"}),r.jsx("p",{className:"text-gray-600",children:"Try adjusting your search criteria or filters."})]})]})]})}function aRe({template:e,quantity:t}){const s=n=>{if(!n.isVisible)return null;const i={position:"absolute",left:`${n.position.x}px`,top:`${n.position.y}px`,width:`${n.width}px`,height:`${n.height}px`,fontSize:`${n.fontSize}px`,fontWeight:n.fontWeight,display:"flex",alignItems:"center",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"};switch(n.type){case"barcode":return r.jsx("div",{style:i,children:r.jsxs("div",{className:"w-full h-full bg-white border flex flex-col items-center justify-center",children:[r.jsx("div",{className:"flex space-x-px mb-1",children:Array.from({length:20},(o,u)=>r.jsx("div",{className:"bg-black",style:{width:"2px",height:`${Math.random()*15+10}px`}},u))}),r.jsx("div",{style:{fontSize:"8px"},children:n.value})]})},n.id);case"qrcode":return r.jsx("div",{style:i,children:r.jsx("div",{className:"w-full h-full bg-white border flex items-center justify-center",children:r.jsx("div",{className:"grid grid-cols-8 gap-px",children:Array.from({length:64},(o,u)=>r.jsx("div",{className:`w-1 h-1 ${Math.random()>.5?"bg-black":"bg-white"}`},u))})})},n.id);case"image":return r.jsx("div",{style:i,children:r.jsx("div",{className:"w-full h-full bg-gray-200 border flex items-center justify-center text-xs text-gray-500",children:"IMG"})},n.id);case"date":const l=new Date(n.value).toLocaleDateString();return r.jsx("div",{style:i,children:l},n.id);default:return r.jsx("div",{style:i,children:n.value},n.id)}},a=n=>r.jsx("div",{className:"relative border border-gray-300 bg-white",style:{width:`${e.width}px`,height:`${e.height}px`,minWidth:`${e.width}px`,minHeight:`${e.height}px`},children:e.fields.map(s)},n);return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"font-medium",children:["Preview: ",e.name]}),r.jsxs("p",{className:"text-sm text-gray-500",children:[e.width,"  ",e.height," mm  ",t," label",t>1?"s":""]})]}),r.jsx("div",{className:"text-sm text-gray-500",children:"Scale: 1:1"})]}),r.jsx("div",{className:"border rounded-lg p-4 bg-gray-50 overflow-auto",children:r.jsx("div",{className:"flex flex-wrap gap-4",style:{maxHeight:"600px",overflowY:"auto"},children:Array.from({length:t},(n,i)=>a(i))})}),r.jsxs("div",{className:"grid gap-4 sm:grid-cols-3 text-sm",children:[r.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[r.jsx("div",{className:"font-medium text-blue-900",children:"Dimensions"}),r.jsxs("div",{className:"text-blue-700",children:[e.width,"  ",e.height," mm"]})]}),r.jsxs("div",{className:"p-3 bg-green-50 rounded-lg",children:[r.jsx("div",{className:"font-medium text-green-900",children:"Fields"}),r.jsxs("div",{className:"text-green-700",children:[e.fields.filter(n=>n.isVisible).length," visible"]})]}),r.jsxs("div",{className:"p-3 bg-purple-50 rounded-lg",children:[r.jsx("div",{className:"font-medium text-purple-900",children:"Paper Size"}),r.jsx("div",{className:"text-purple-700",children:e.paperSize})]})]})]})}function nRe({template:e,onUpdateField:t,onRemoveField:s}){const[a,n]=_.useState(null),[i,l]=_.useState(null),[o,u]=_.useState({x:0,y:0}),[d,m]=_.useState(1),[f,g]=_.useState(!0),p=_.useRef(null),y=_.useCallback((w,A)=>{if(w.preventDefault(),!e.fields.find(R=>R.id===A))return;const M=w.currentTarget.getBoundingClientRect();u({x:w.clientX-M.left,y:w.clientY-M.top}),l(A),n(A)},[e.fields]),v=_.useCallback(w=>{if(!i||!p.current)return;const A=p.current.getBoundingClientRect(),C=e.fields.find(D=>D.id===i);if(!C)return;const M=Math.max(0,Math.min(e.width-C.width,(w.clientX-A.left-o.x)/d)),R=Math.max(0,Math.min(e.height-C.height,(w.clientY-A.top-o.y)/d));t(i,{position:{x:Math.round(M),y:Math.round(R)}})},[i,o,d,e.width,e.height,t]),j=_.useCallback(()=>{l(null)},[]),N=_.useCallback(w=>{const A=a===w.id,C=i===w.id,M={position:"absolute",left:`${w.position.x}px`,top:`${w.position.y}px`,width:`${w.width}px`,height:`${w.height}px`,fontSize:`${w.fontSize}px`,fontWeight:w.fontWeight,cursor:C?"grabbing":"grab",border:A?"2px solid #3b82f6":"1px solid rgba(0,0,0,0.1)",backgroundColor:A?"rgba(59, 130, 246, 0.1)":"rgba(255,255,255,0.9)",display:"flex",alignItems:"center",justifyContent:w.type==="barcode"||w.type==="qrcode"?"center":"flex-start",padding:"2px 4px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",userSelect:"none",opacity:w.isVisible?1:.5,boxShadow:A?"0 4px 12px rgba(59, 130, 246, 0.3)":"0 1px 3px rgba(0,0,0,0.1)",borderRadius:"2px",zIndex:A?10:1};let R;switch(w.type){case"barcode":R=r.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-white",children:[r.jsx("div",{className:"flex space-x-px mb-1",children:Array.from({length:Math.min(20,Math.floor(w.width/3))},(B,z)=>r.jsx("div",{className:"bg-black",style:{width:"2px",height:`${Math.min(w.height-10,20)}px`}},z))}),r.jsx("div",{style:{fontSize:Math.min(w.fontSize,8)},children:w.value.slice(0,12)})]});break;case"qrcode":R=r.jsx("div",{className:"w-full h-full bg-white flex items-center justify-center",children:r.jsx("div",{className:"grid grid-cols-8 gap-px",style:{width:Math.min(w.width-4,w.height-4)},children:Array.from({length:64},(B,z)=>r.jsx("div",{className:`aspect-square ${Math.random()>.5?"bg-black":"bg-white"}`},z))})});break;case"image":R=r.jsx("div",{className:"w-full h-full bg-gray-100 border-2 border-dashed border-gray-300 flex items-center justify-center text-gray-500",children:r.jsx("span",{style:{fontSize:Math.min(w.fontSize,12)},children:"IMAGE"})});break;case"date":const D=w.value?new Date(w.value).toLocaleDateString():"DD/MM/YYYY";R=r.jsx("span",{children:D});break;case"number":R=r.jsx("span",{children:w.value||"0"});break;default:R=r.jsx("span",{children:w.value||w.name})}return r.jsxs("div",{style:M,onMouseDown:D=>y(D,w.id),onClick:D=>{D.stopPropagation(),n(w.id)},className:`
          hover:border-blue-400 transition-all duration-200
          ${C?"scale-105":""}
          ${w.isVisible?"":"opacity-50"}
        `,children:[R,A&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"absolute -top-1 -left-1 w-2 h-2 bg-blue-500 rounded-full"}),r.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-blue-500 rounded-full"}),r.jsx("div",{className:"absolute -bottom-1 -left-1 w-2 h-2 bg-blue-500 rounded-full"}),r.jsx("div",{className:"absolute -bottom-1 -right-1 w-2 h-2 bg-blue-500 rounded-full"}),r.jsxs("div",{className:"absolute -top-8 -right-1 flex gap-1",children:[r.jsx("button",{className:"w-6 h-6 bg-blue-500 text-white rounded text-xs hover:bg-blue-600 flex items-center justify-center",onClick:D=>{D.stopPropagation(),t(w.id,{isVisible:!w.isVisible})},title:w.isVisible?"Hide field":"Show field",children:w.isVisible?r.jsx(Fr,{className:"w-3 h-3"}):r.jsx(fd,{className:"w-3 h-3"})}),r.jsx("button",{className:"w-6 h-6 bg-red-500 text-white rounded text-xs hover:bg-red-600 flex items-center justify-center",onClick:D=>{D.stopPropagation(),s(w.id),n(null)},title:"Remove field",children:r.jsx(Sr,{className:"w-3 h-3"})})]})]})]},w.id)},[a,i,y,t,s]),k=e.fields.find(w=>w.id===a);return r.jsxs("div",{className:"space-y-6",children:[r.jsx(ae,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm font-medium",children:"Zoom:"}),r.jsx(ce,{variant:"secondary",size:"sm",onClick:()=>m(Math.max(.5,d-.25)),disabled:d<=.5,children:r.jsx(RQ,{className:"h-4 w-4"})}),r.jsxs("span",{className:"text-sm min-w-[3rem] text-center",children:[Math.round(d*100),"%"]}),r.jsx(ce,{variant:"secondary",size:"sm",onClick:()=>m(Math.min(2,d+.25)),disabled:d>=2,children:r.jsx(PQ,{className:"h-4 w-4"})}),r.jsx(ce,{variant:"secondary",size:"sm",onClick:()=>m(1),children:r.jsx(Tn,{className:"h-4 w-4"})})]}),r.jsxs(ce,{variant:f?"primary":"secondary",size:"sm",onClick:()=>g(!f),children:[r.jsx(qX,{className:"mr-2 h-4 w-4"}),"Grid"]})]}),r.jsxs("div",{className:"text-sm text-gray-500",children:[e.width,"  ",e.height," mm  ",e.fields.length," fields"]})]})}),r.jsx(ae,{children:r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-lg",children:"Design Canvas"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Click and drag fields to reposition  Click outside to deselect"})]})}),r.jsx("div",{className:"flex justify-center overflow-auto p-4 bg-gray-50 rounded-lg",children:r.jsxs("div",{ref:p,className:"relative bg-white shadow-lg",style:{width:`${e.width*d}px`,height:`${e.height*d}px`,transform:`scale(${d})`,transformOrigin:"top left",minWidth:`${e.width}px`,minHeight:`${e.height}px`,border:"1px solid #e5e7eb"},onMouseMove:v,onMouseUp:j,onMouseLeave:j,onClick:()=>n(null),children:[e.fields.map(N),f&&r.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-30",children:r.jsxs("svg",{width:"100%",height:"100%",children:[r.jsx("defs",{children:r.jsx("pattern",{id:"grid",width:"10",height:"10",patternUnits:"userSpaceOnUse",children:r.jsx("path",{d:"M 10 0 L 0 0 0 10",fill:"none",stroke:"#d1d5db",strokeWidth:"0.5"})})}),r.jsx("rect",{width:"100%",height:"100%",fill:"url(#grid)"})]})}),r.jsx("div",{className:"absolute -top-4 left-0 right-0 h-4 bg-gray-100 border-b text-xs flex items-center",children:Array.from({length:Math.ceil(e.width/50)},(w,A)=>r.jsx("div",{className:"absolute text-gray-500",style:{left:`${A*50}px`},children:A*50},A))}),r.jsx("div",{className:"absolute -left-4 top-0 bottom-0 w-4 bg-gray-100 border-r text-xs",children:Array.from({length:Math.ceil(e.height/50)},(w,A)=>r.jsx("div",{className:"absolute text-gray-500 transform -rotate-90 origin-center",style:{top:`${A*50}px`,left:"2px"},children:A*50},A))})]})})]})}),k&&r.jsx(ae,{children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"rounded-lg bg-blue-50 p-2",children:r.jsx(gQ,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-lg",children:"Field Properties"}),r.jsxs("p",{className:"text-sm text-gray-600",children:[k.name," (",k.type,")"]})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[r.jsx(he,{label:"Field Value",value:k.value,onChange:w=>t(k.id,{value:w.target.value}),placeholder:"Enter field value"}),r.jsx(he,{label:"Font Size (px)",type:"number",value:k.fontSize,onChange:w=>t(k.id,{fontSize:parseInt(w.target.value)||12}),min:"6",max:"72"}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Font Weight"}),r.jsxs("select",{value:k.fontWeight,onChange:w=>t(k.id,{fontWeight:w.target.value}),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"normal",children:"Normal"}),r.jsx("option",{value:"bold",children:"Bold"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(he,{label:"X Position",type:"number",value:k.position.x,onChange:w=>t(k.id,{position:{...k.position,x:parseInt(w.target.value)||0}}),min:"0",max:e.width-k.width}),r.jsx(he,{label:"Y Position",type:"number",value:k.position.y,onChange:w=>t(k.id,{position:{...k.position,y:parseInt(w.target.value)||0}}),min:"0",max:e.height-k.height})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(he,{label:"Width (px)",type:"number",value:k.width,onChange:w=>t(k.id,{width:parseInt(w.target.value)||50}),min:"10",max:e.width}),r.jsx(he,{label:"Height (px)",type:"number",value:k.height,onChange:w=>t(k.id,{height:parseInt(w.target.value)||20}),min:"10",max:e.height})]})]}),r.jsxs("div",{className:"flex gap-3 mt-6",children:[r.jsxs(ce,{variant:"secondary",onClick:()=>t(k.id,{isVisible:!k.isVisible}),children:[k.isVisible?r.jsx(fd,{className:"mr-2 h-4 w-4"}):r.jsx(Fr,{className:"mr-2 h-4 w-4"}),k.isVisible?"Hide Field":"Show Field"]}),r.jsxs(ce,{variant:"danger",onClick:()=>{s(k.id),n(null)},children:[r.jsx(Sr,{className:"mr-2 h-4 w-4"}),"Remove Field"]})]})]})}),r.jsx(ae,{children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"font-semibold text-lg",children:["Fields (",e.fields.length,")"]}),r.jsxs("div",{className:"text-sm text-gray-500",children:[e.fields.filter(w=>w.isVisible).length," visible"]})]}),r.jsxs("div",{className:"space-y-2",children:[e.fields.map(w=>r.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border cursor-pointer transition-all ${a===w.id?"border-blue-300 bg-blue-50 shadow-sm":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,onClick:()=>n(w.id),children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx($O,{className:"h-4 w-4 text-gray-400"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-sm",children:w.name}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:w.type}),r.jsxs("span",{className:"text-xs text-gray-500",children:[w.position.x,", ",w.position.y]}),r.jsxs("span",{className:"text-xs text-gray-500",children:[w.width,"",w.height]})]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:A=>{A.stopPropagation(),t(w.id,{isVisible:!w.isVisible})},className:`p-1 rounded transition-colors ${w.isVisible?"text-blue-600 hover:bg-blue-100":"text-gray-400 hover:bg-gray-100"}`,title:w.isVisible?"Hide field":"Show field",children:w.isVisible?r.jsx(Fr,{className:"h-4 w-4"}):r.jsx(fd,{className:"h-4 w-4"})}),r.jsx("button",{onClick:A=>{A.stopPropagation(),s(w.id),a===w.id&&n(null)},className:"p-1 rounded text-gray-400 hover:text-red-600 hover:bg-red-50 transition-colors",title:"Remove field",children:r.jsx(Sr,{className:"h-4 w-4"})})]})]},w.id)),e.fields.length===0&&r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx($O,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),r.jsx("p",{children:"No fields added yet"}),r.jsx("p",{className:"text-sm",children:"Add fields from the Data tab"})]})]})]})})]})}const iRe={"Product Information":Pt,Pricing:hh,Inventory:hs,"Barcodes & QR":uN,"Business Info":qm};function lRe({availableFields:e,selectedFields:t,onAddField:s,onRemoveField:a}){const[n,i]=_.useState(""),[l,o]=_.useState(["Product Information"]),u=f=>{o(g=>g.includes(f)?g.filter(p=>p!==f):[...g,f])},d=e.map(f=>({...f,fields:f.fields.filter(g=>g.label.toLowerCase().includes(n.toLowerCase())||g.id.toLowerCase().includes(n.toLowerCase()))})).filter(f=>f.fields.length>0),m=f=>t.includes(f);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Data Fields"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Select fields to include in your label"})]}),r.jsxs("div",{className:"text-sm text-gray-500",children:[t.length," field",t.length!==1?"s":""," selected"]})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Mn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),r.jsx(he,{placeholder:"Search fields...",value:n,onChange:f=>i(f.target.value),className:"pl-10"})]}),t.length>0&&r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h4",{className:"font-medium text-blue-900",children:"Selected Fields"}),r.jsxs("span",{className:"text-sm text-blue-700",children:[t.length," selected"]})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(f=>{const g=e.flatMap(p=>p.fields).find(p=>p.id===f);return g?r.jsxs("div",{className:"flex items-center gap-2 bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm",children:[r.jsx("span",{children:g.label}),r.jsx("button",{onClick:()=>a(f),className:"hover:bg-blue-200 rounded-full p-0.5",children:r.jsx(hr,{className:"h-3 w-3 rotate-45"})})]},f):null})})]}),r.jsx("div",{className:"space-y-4",children:d.map(f=>{const g=iRe[f.category]||Pt,p=l.includes(f.category);return r.jsxs("div",{className:"border rounded-lg",children:[r.jsxs("button",{onClick:()=>u(f.category),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"rounded-lg bg-gray-100 p-2",children:r.jsx(g,{className:"h-4 w-4 text-gray-600"})}),r.jsxs("div",{className:"text-left",children:[r.jsx("h4",{className:"font-medium",children:f.category}),r.jsxs("p",{className:"text-sm text-gray-500",children:[f.fields.length," field",f.fields.length!==1?"s":""]})]})]}),p?r.jsx(s6,{className:"h-4 w-4 text-gray-400"}):r.jsx(t9,{className:"h-4 w-4 text-gray-400"})]}),p&&r.jsx("div",{className:"border-t bg-gray-50",children:r.jsx("div",{className:"p-4 space-y-2",children:f.fields.map(y=>{const v=m(y.id);return r.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border transition-colors ${v?"bg-green-50 border-green-200":"bg-white border-gray-200 hover:border-gray-300"}`,children:[r.jsx("div",{className:"flex items-center gap-3",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium text-sm",children:y.label}),r.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:y.type})]})}),v?r.jsxs(ce,{variant:"secondary",size:"sm",onClick:()=>a(y.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[r.jsx(hr,{className:"h-4 w-4 rotate-45"}),"Remove"]}):r.jsxs(ce,{variant:"secondary",size:"sm",onClick:()=>s(y),className:"text-green-600 hover:text-green-700 hover:bg-green-50",children:[r.jsx(hr,{className:"h-4 w-4"}),"Add"]})]},y.id)})})})]},f.category)})}),d.length===0&&n&&r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(Mn,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),r.jsxs("p",{children:['No fields found matching "',n,'"']}),r.jsx("p",{className:"text-sm",children:"Try adjusting your search terms"})]}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsx("h4",{className:"font-medium mb-3",children:"Quick Add Common Fields"}),r.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[r.jsxs(ce,{variant:"secondary",size:"sm",onClick:()=>{const f=e.flatMap(g=>g.fields).find(g=>g.id==="product_name");f&&!m("product_name")&&s(f)},disabled:m("product_name"),className:"justify-start",children:[r.jsx(Pt,{className:"mr-2 h-4 w-4"}),"Product Name"]}),r.jsxs(ce,{variant:"secondary",size:"sm",onClick:()=>{const f=e.flatMap(g=>g.fields).find(g=>g.id==="price");f&&!m("price")&&s(f)},disabled:m("price"),className:"justify-start",children:[r.jsx(hh,{className:"mr-2 h-4 w-4"}),"Price"]}),r.jsxs(ce,{variant:"secondary",size:"sm",onClick:()=>{const f=e.flatMap(g=>g.fields).find(g=>g.id==="barcode");f&&!m("barcode")&&s(f)},disabled:m("barcode"),className:"justify-start",children:[r.jsx(uN,{className:"mr-2 h-4 w-4"}),"Barcode"]}),r.jsxs(ce,{variant:"secondary",size:"sm",onClick:()=>{const f=e.flatMap(g=>g.fields).find(g=>g.id==="expiry_date");f&&!m("expiry_date")&&s(f)},disabled:m("expiry_date"),className:"justify-start",children:[r.jsx(hs,{className:"mr-2 h-4 w-4"}),"Expiry Date"]})]})]})]})}const oRe={customer_name:"John Doe",customer_address:"123 Main St, City, State 12345",phone_number:"+91 9876543210",alternate_phone:"+91 9876543211",invoice_number:"INV-2024-001",net_amount:"1,250.00",payment_mode:"Online Payment",delivery_date:"2024-01-30",delivery_slot:"10:00 AM - 12:00 PM",delivery_instructions:"Ring the doorbell twice",support_phone:"+91 1800-123-456",product_name:"Fresh Salmon - Premium Cut",product_weight:"1.5 kg",cutting_type:"Fillet",quantity:"2",packing_date:"2024-01-29"},cRe=({fields:e,type:t,className:s})=>{const a=e.filter(i=>i.enabled),n=i=>{const l=oRe[i.id]||`{${i.label}}`,o={position:"absolute",left:`${i.position.x}px`,top:`${i.position.y}px`,fontSize:`${i.fontSize}px`,fontWeight:i.fontWeight};return i.type==="qr"?r.jsxs("div",{style:o,className:"flex items-center gap-1",children:[r.jsx(n9,{className:"h-6 w-6"}),r.jsx("span",{className:"text-xs",children:"QR Code"})]},i.id):i.type==="barcode"?r.jsxs("div",{style:o,className:"flex items-center gap-1",children:[r.jsx(uN,{className:"h-4 w-4"}),r.jsx("span",{className:"text-xs",children:"|||||||||||"})]},i.id):i.type==="image"?r.jsx("div",{style:o,className:"w-12 h-8 bg-gray-200 rounded flex items-center justify-center",children:r.jsx("span",{className:"text-xs text-gray-500",children:"Logo"})},i.id):r.jsxs("div",{style:o,className:"text-gray-800",children:[i.required&&r.jsx("span",{className:"text-red-500 mr-1",children:"*"}),l]},i.id)};return r.jsxs(ae,{className:s,children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t==="delivery"?r.jsx(zr,{className:"h-5 w-5 text-blue-600"}):r.jsx(Pt,{className:"h-5 w-5 text-green-600"}),r.jsx("h3",{className:"font-medium",children:t==="delivery"?"Delivery Slip Preview":"Packing Slip Preview"})]}),r.jsxs("div",{className:"relative bg-white border-2 border-dashed border-gray-300 rounded-lg",style:{height:"300px",width:"100%"},children:[a.map(n),a.length===0&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-gray-500",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Pt,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),r.jsx("p",{className:"text-sm",children:"No fields enabled"})]})})]}),r.jsxs("div",{className:"mt-3 text-xs text-gray-500",children:[a.length," field(s) enabled  ",a.filter(i=>i.required).length," required"]})]})},dRe=({templates:e,activeTemplateId:t,onTemplateChange:s,onTemplateCreate:a,onTemplateUpdate:n,onTemplateDelete:i,className:l})=>{const[o,u]=_.useState(!1),[d,m]=_.useState(null),[f,g]=_.useState(""),[p,y]=_.useState("delivery"),v=e.find(C=>C.id===t),j=e.filter(C=>C.type==="delivery"),N=e.filter(C=>C.type==="packing"),k=()=>{if(!f.trim())return;a({name:f,type:p,fields:p==="delivery"?[{id:"customer_name",label:"Customer Name",type:"text",required:!0,enabled:!0,position:{x:20,y:20},fontSize:14,fontWeight:"bold"},{id:"customer_address",label:"Delivery Address",type:"address",required:!0,enabled:!0,position:{x:20,y:45},fontSize:12,fontWeight:"normal"},{id:"phone_number",label:"Phone Number",type:"phone",required:!0,enabled:!0,position:{x:20,y:85},fontSize:12,fontWeight:"normal"},{id:"invoice_number",label:"Invoice Number",type:"text",required:!0,enabled:!0,position:{x:20,y:110},fontSize:12,fontWeight:"bold"},{id:"net_amount",label:"Net Amount",type:"number",required:!0,enabled:!0,position:{x:150,y:110},fontSize:12,fontWeight:"bold"},{id:"delivery_date",label:"Delivery Date",type:"date",required:!0,enabled:!0,position:{x:20,y:160},fontSize:12,fontWeight:"normal"},{id:"support_phone",label:"Support Phone",type:"phone",required:!0,enabled:!0,position:{x:20,y:210},fontSize:10,fontWeight:"normal"}]:[{id:"customer_name",label:"Customer Name",type:"text",required:!0,enabled:!0,position:{x:20,y:20},fontSize:14,fontWeight:"bold"},{id:"invoice_number",label:"Invoice Number",type:"text",required:!0,enabled:!0,position:{x:20,y:45},fontSize:12,fontWeight:"bold"},{id:"product_name",label:"Product Name",type:"text",required:!0,enabled:!0,position:{x:20,y:70},fontSize:12,fontWeight:"normal"},{id:"product_weight",label:"Weight",type:"text",required:!0,enabled:!0,position:{x:150,y:70},fontSize:12,fontWeight:"normal"},{id:"quantity",label:"Quantity",type:"number",required:!0,enabled:!0,position:{x:150,y:95},fontSize:12,fontWeight:"normal"},{id:"net_amount",label:"Net Amount",type:"number",required:!0,enabled:!0,position:{x:20,y:120},fontSize:12,fontWeight:"bold"}]}),g(""),u(!1)},w=C=>{a({name:`${C.name} (Copy)`,type:C.type,fields:[...C.fields]})},A=({template:C})=>r.jsxs("div",{className:`p-3 border rounded-lg cursor-pointer transition-all ${C.id===t?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[C.type==="delivery"?r.jsx(zr,{className:"h-4 w-4 text-blue-600"}):r.jsx(Pt,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{className:"font-medium text-sm",children:C.name})]}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx(ce,{variant:"ghost",size:"sm",onClick:M=>{M.stopPropagation(),m(C.id),g(C.name)},children:r.jsx(vs,{className:"h-3 w-3"})}),r.jsx(ce,{variant:"ghost",size:"sm",onClick:M=>{M.stopPropagation(),w(C)},children:r.jsx(a9,{className:"h-3 w-3"})}),r.jsx(ce,{variant:"ghost",size:"sm",onClick:M=>{M.stopPropagation(),e.length>1&&i(C.id)},disabled:e.length<=1,children:r.jsx(Sr,{className:"h-3 w-3"})})]})]}),r.jsxs("div",{className:"text-xs text-gray-500",children:[C.fields.filter(M=>M.enabled).length," fields enabled"]}),r.jsx(ce,{variant:C.id===t?"primary":"secondary",size:"sm",className:"w-full mt-2",onClick:()=>s(C.id),children:C.id===t?"Active":"Use Template"})]});return r.jsxs("div",{className:l,children:[r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"rounded-lg bg-purple-50 p-2",children:r.jsx(Hs,{className:"h-5 w-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold",children:"Template Manager"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Manage slip templates"})]})]}),r.jsxs(ce,{onClick:()=>u(!0),children:[r.jsx(hr,{className:"mr-2 h-4 w-4"}),"New Template"]})]}),v&&r.jsxs("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[v.type==="delivery"?r.jsx(zr,{className:"h-4 w-4 text-blue-600"}):r.jsx(Pt,{className:"h-4 w-4 text-green-600"}),r.jsxs("span",{className:"font-medium",children:["Active: ",v.name]})]}),r.jsxs("div",{className:"text-sm text-gray-600",children:[v.fields.filter(C=>C.enabled).length," of ",v.fields.length," fields enabled"]})]}),r.jsxs("div",{className:"space-y-6",children:[j.length>0&&r.jsxs("div",{children:[r.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[r.jsx(zr,{className:"h-4 w-4 text-blue-600"}),"Delivery Slip Templates (",j.length,")"]}),r.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-3",children:j.map(C=>r.jsx(A,{template:C},C.id))})]}),N.length>0&&r.jsxs("div",{children:[r.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[r.jsx(Pt,{className:"h-4 w-4 text-green-600"}),"Packing Slip Templates (",N.length,")"]}),r.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-3",children:N.map(C=>r.jsx(A,{template:C},C.id))})]})]})]}),r.jsx(gr,{isOpen:o,onClose:()=>u(!1),title:"Create New Template",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx(he,{label:"Template Name",value:f,onChange:C=>g(C.target.value),placeholder:"Enter template name"}),r.jsx(Dt,{label:"Template Type",value:p,onChange:C=>y(C.target.value),options:[{value:"delivery",label:"Delivery Slip"},{value:"packing",label:"Packing Slip"}]}),r.jsxs("div",{className:"flex gap-2 justify-end",children:[r.jsx(ce,{variant:"secondary",onClick:()=>u(!1),children:"Cancel"}),r.jsx(ce,{onClick:k,disabled:!f.trim(),children:"Create Template"})]})]})}),r.jsx(gr,{isOpen:!!d,onClose:()=>m(null),title:"Edit Template Name",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx(he,{label:"Template Name",value:f,onChange:C=>g(C.target.value),placeholder:"Enter template name"}),r.jsxs("div",{className:"flex gap-2 justify-end",children:[r.jsx(ce,{variant:"secondary",onClick:()=>m(null),children:"Cancel"}),r.jsx(ce,{onClick:()=>{d&&f.trim()&&(n(d,{name:f}),m(null),g(""))},disabled:!f.trim(),children:"Save Changes"})]})]})})]})},uRe=[{id:"customer_name",label:"Customer Name",type:"text",required:!0,enabled:!0,position:{x:20,y:20},fontSize:14,fontWeight:"bold"},{id:"customer_address",label:"Delivery Address",type:"address",required:!0,enabled:!0,position:{x:20,y:45},fontSize:12,fontWeight:"normal"},{id:"phone_number",label:"Phone Number",type:"phone",required:!0,enabled:!0,position:{x:20,y:85},fontSize:12,fontWeight:"normal"},{id:"alternate_phone",label:"Alternate Phone",type:"phone",required:!1,enabled:!0,position:{x:150,y:85},fontSize:12,fontWeight:"normal"},{id:"invoice_number",label:"Invoice Number",type:"text",required:!0,enabled:!0,position:{x:20,y:110},fontSize:12,fontWeight:"bold"},{id:"net_amount",label:"Net Amount",type:"number",required:!0,enabled:!0,position:{x:150,y:110},fontSize:12,fontWeight:"bold"},{id:"payment_mode",label:"Payment Mode",type:"text",required:!0,enabled:!0,position:{x:20,y:135},fontSize:12,fontWeight:"normal"},{id:"delivery_date",label:"Delivery Date",type:"date",required:!0,enabled:!0,position:{x:20,y:160},fontSize:12,fontWeight:"normal"},{id:"delivery_slot",label:"Delivery Slot",type:"text",required:!1,enabled:!0,position:{x:150,y:160},fontSize:12,fontWeight:"normal"},{id:"delivery_instructions",label:"Delivery Instructions",type:"text",required:!1,enabled:!0,position:{x:20,y:185},fontSize:10,fontWeight:"normal"},{id:"support_phone",label:"Support Phone",type:"phone",required:!0,enabled:!0,position:{x:20,y:210},fontSize:10,fontWeight:"normal"},{id:"qr_code",label:"QR Code",type:"qr",required:!1,enabled:!0,position:{x:200,y:20},fontSize:10,fontWeight:"normal"},{id:"brand_logo",label:"Brand Logo",type:"image",required:!1,enabled:!0,position:{x:200,y:60},fontSize:10,fontWeight:"normal"}],hRe=[{id:"customer_name",label:"Customer Name",type:"text",required:!0,enabled:!0,position:{x:20,y:20},fontSize:14,fontWeight:"bold"},{id:"invoice_number",label:"Invoice Number",type:"text",required:!0,enabled:!0,position:{x:20,y:45},fontSize:12,fontWeight:"bold"},{id:"product_name",label:"Product Name",type:"text",required:!0,enabled:!0,position:{x:20,y:70},fontSize:12,fontWeight:"normal"},{id:"product_weight",label:"Weight",type:"text",required:!0,enabled:!0,position:{x:150,y:70},fontSize:12,fontWeight:"normal"},{id:"cutting_type",label:"Cutting Type",type:"text",required:!1,enabled:!0,position:{x:20,y:95},fontSize:12,fontWeight:"normal"},{id:"quantity",label:"Quantity",type:"number",required:!0,enabled:!0,position:{x:150,y:95},fontSize:12,fontWeight:"normal"},{id:"net_amount",label:"Net Amount",type:"number",required:!0,enabled:!0,position:{x:20,y:120},fontSize:12,fontWeight:"bold"},{id:"payment_mode",label:"Payment Mode",type:"text",required:!0,enabled:!0,position:{x:150,y:120},fontSize:12,fontWeight:"normal"},{id:"packing_date",label:"Packing Date",type:"date",required:!0,enabled:!0,position:{x:20,y:145},fontSize:12,fontWeight:"normal"},{id:"barcode",label:"Product Barcode",type:"barcode",required:!1,enabled:!0,position:{x:20,y:170},fontSize:10,fontWeight:"normal"},{id:"brand_logo",label:"Brand Logo",type:"image",required:!1,enabled:!0,position:{x:200,y:20},fontSize:10,fontWeight:"normal"},{id:"support_phone",label:"Support Phone",type:"phone",required:!0,enabled:!0,position:{x:20,y:200},fontSize:10,fontWeight:"normal"}],mRe=({config:e,onChange:t,className:s})=>{const[a,n]=_.useState("delivery"),[i,l]=_.useState(!1),[o,u]=_.useState([{id:"default-delivery",name:"Default Delivery Slip",type:"delivery",fields:uRe,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"default-packing",name:"Default Packing Slip",type:"packing",fields:hRe,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}]),[d,m]=_.useState("default-delivery"),f=w=>{const A=o.find(C=>C.id===w);A&&(m(w),A.type==="delivery"?(t({...e,deliverySlip:A.fields}),n("delivery")):(t({...e,packingSlip:A.fields}),n("packing")))},g=w=>{const A={...w,id:`template-${Date.now()}`,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};u(C=>[...C,A]),m(A.id),A.type==="delivery"?(t({...e,deliverySlip:A.fields}),n("delivery")):(t({...e,packingSlip:A.fields}),n("packing"))},p=(w,A)=>{u(C=>C.map(M=>M.id===w?{...M,...A,updatedAt:new Date().toISOString()}:M))},y=w=>{if(u(A=>A.filter(C=>C.id!==w)),d===w){const A=o.find(C=>C.id!==w);A&&f(A.id)}},v=()=>{const w=a==="delivery"?e.deliverySlip:e.packingSlip;p(d,{fields:w})},j=(w,A,C)=>{const M=w==="delivery"?"deliverySlip":"packingSlip",R=e[M].map(D=>D.id===A?{...D,...C}:D);t({...e,[M]:R})},N=({field:w,slipType:A})=>r.jsxs("div",{className:"grid grid-cols-12 gap-3 items-center p-3 border rounded-lg",children:[r.jsx("div",{className:"col-span-3",children:r.jsx(Up,{checked:w.enabled,onChange:C=>j(A,w.id,{enabled:C.target.checked}),label:w.label})}),r.jsx("div",{className:"col-span-2",children:r.jsx(Dt,{value:w.fontSize.toString(),onChange:C=>j(A,w.id,{fontSize:parseInt(C.target.value)}),options:[{value:"8",label:"8px"},{value:"10",label:"10px"},{value:"12",label:"12px"},{value:"14",label:"14px"},{value:"16",label:"16px"}]})}),r.jsx("div",{className:"col-span-2",children:r.jsx(Dt,{value:w.fontWeight,onChange:C=>j(A,w.id,{fontWeight:C.target.value}),options:[{value:"normal",label:"Normal"},{value:"bold",label:"Bold"}]})}),r.jsx("div",{className:"col-span-2",children:r.jsx(he,{type:"number",value:w.position.x,onChange:C=>j(A,w.id,{position:{...w.position,x:parseInt(C.target.value)||0}}),placeholder:"X"})}),r.jsx("div",{className:"col-span-2",children:r.jsx(he,{type:"number",value:w.position.y,onChange:C=>j(A,w.id,{position:{...w.position,y:parseInt(C.target.value)||0}}),placeholder:"Y"})}),r.jsx("div",{className:"col-span-1 text-center",children:w.required&&r.jsx("span",{className:"text-red-500 text-sm",children:"*"})})]}),k=a==="delivery"?e.deliverySlip:e.packingSlip;return r.jsxs("div",{className:"space-y-6",children:[r.jsx(ae,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"rounded-lg bg-purple-50 p-2",children:r.jsx(Hs,{className:"h-5 w-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",children:"Templates"}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Active: ",o.find(w=>w.id===d)?.name]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(ce,{variant:"secondary",onClick:v,children:[r.jsx(nl,{className:"mr-2 h-4 w-4"}),"Save Changes"]}),r.jsxs(ce,{variant:"secondary",onClick:()=>l(!i),children:[r.jsx(Hs,{className:"mr-2 h-4 w-4"}),i?"Hide":"Manage"," Templates"]})]})]})}),i&&r.jsx(dRe,{templates:o,activeTemplateId:d,onTemplateChange:f,onTemplateCreate:g,onTemplateUpdate:p,onTemplateDelete:y}),r.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[r.jsxs(ae,{className:s,children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"rounded-lg bg-blue-50 p-2",children:a==="delivery"?r.jsx(zr,{className:"h-5 w-5 text-blue-600"}):r.jsx(Pt,{className:"h-5 w-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Field Configuration"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Configure slip fields"})]})]})}),r.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1 mb-6",children:[r.jsxs("button",{onClick:()=>n("delivery"),className:`flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${a==="delivery"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[r.jsx(zr,{className:"h-4 w-4"}),"Delivery Slip"]}),r.jsxs("button",{onClick:()=>n("packing"),className:`flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${a==="packing"?"bg-white text-green-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[r.jsx(Pt,{className:"h-4 w-4"}),"Packing Slip"]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-12 gap-3 text-sm font-medium text-gray-700 px-3",children:[r.jsx("div",{className:"col-span-3",children:"Field Name"}),r.jsx("div",{className:"col-span-2",children:"Font Size"}),r.jsx("div",{className:"col-span-2",children:"Font Weight"}),r.jsx("div",{className:"col-span-2",children:"X Position"}),r.jsx("div",{className:"col-span-2",children:"Y Position"}),r.jsx("div",{className:"col-span-1",children:"Required"})]}),r.jsx("div",{className:"space-y-2",children:k.map(w=>r.jsx(N,{field:w,slipType:a},w.id))})]}),r.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Hs,{className:"h-4 w-4 text-gray-600"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Configuration Summary"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Enabled Fields:"}),r.jsx("span",{className:"ml-2 font-medium",children:k.filter(w=>w.enabled).length})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Required Fields:"}),r.jsx("span",{className:"ml-2 font-medium",children:k.filter(w=>w.required&&w.enabled).length})]})]})]})]}),r.jsx(cRe,{fields:k,type:a})]})]})},fRe=({onSave:e,className:t})=>{const[s,a]=_.useState({customerName:"",customerAddress:"",phoneNumber:"",alternatePhone:"",invoiceNumber:`INV-${Date.now()}`,billDate:new Date().toISOString().split("T")[0],dueDate:"",deliveryDate:"",deliverySlot:"",deliveryInstructions:"",items:[{id:"1",productName:"",weight:"",cuttingType:"",quantity:1,unitPrice:0,discount:0,taxRate:18,total:0}],paymentMode:"cash",subtotal:0,totalDiscount:0,totalTax:0,deliveryCharges:0,netAmount:0,supportPhone:"+91 1800-123-456",notes:""}),[n,i]=_.useState(!1),l=(g,p)=>{a(y=>({...y,[g]:p}))},o=(g,p,y)=>{const v=s.items.map((j,N)=>{if(N===g){const k={...j,[p]:y};if(p==="quantity"||p==="unitPrice"||p==="discount"){const w=k.quantity*k.unitPrice,A=w*k.discount/100,C=w-A,M=C*k.taxRate/100;k.total=C+M}return k}return j});a(j=>{const N=v.reduce((C,M)=>C+M.quantity*M.unitPrice,0),k=v.reduce((C,M)=>C+M.quantity*M.unitPrice*M.discount/100,0),w=v.reduce((C,M)=>{const R=M.quantity*M.unitPrice,D=R*M.discount/100,B=R-D;return C+B*M.taxRate/100},0),A=N-k+w+j.deliveryCharges;return{...j,items:v,subtotal:N,totalDiscount:k,totalTax:w,netAmount:A}})},u=()=>{a(g=>({...g,items:[...g.items,{id:Date.now().toString(),productName:"",weight:"",cuttingType:"",quantity:1,unitPrice:0,discount:0,taxRate:18,total:0}]}))},d=g=>{s.items.length>1&&a(p=>({...p,items:p.items.filter((y,v)=>v!==g)}))},m=[{value:"cash",label:"Cash"},{value:"card",label:"Card"},{value:"upi",label:"UPI"},{value:"netbanking",label:"Net Banking"},{value:"cod",label:"Cash on Delivery"}],f=[{value:"9-12",label:"9:00 AM - 12:00 PM"},{value:"12-15",label:"12:00 PM - 3:00 PM"},{value:"15-18",label:"3:00 PM - 6:00 PM"},{value:"18-21",label:"6:00 PM - 9:00 PM"}];return r.jsxs("div",{className:`space-y-6 ${t}`,children:[r.jsxs(ae,{children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"rounded-lg bg-green-50 p-2",children:r.jsx(Qf,{className:"h-5 w-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Bill Entry"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Create detailed invoice with delivery information"})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(ce,{variant:"secondary",onClick:()=>i(!n),children:[r.jsx(Fr,{className:"mr-2 h-4 w-4"}),n?"Hide":"Show"," Preview"]}),r.jsxs(ce,{onClick:()=>e(s),children:[r.jsx(Ii,{className:"mr-2 h-4 w-4"}),"Save Bill"]})]})]}),r.jsxs("div",{className:"grid gap-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-md font-medium mb-4",children:"Customer Information"}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsx(he,{label:"Customer Name *",value:s.customerName,onChange:g=>l("customerName",g.target.value),placeholder:"Enter customer name"}),r.jsx(he,{label:"Phone Number *",value:s.phoneNumber,onChange:g=>l("phoneNumber",g.target.value),placeholder:"+91 9876543210"}),r.jsx("div",{className:"md:col-span-2",children:r.jsx(he,{label:"Address *",value:s.customerAddress,onChange:g=>l("customerAddress",g.target.value),placeholder:"Complete delivery address"})}),r.jsx(he,{label:"Alternate Phone",value:s.alternatePhone,onChange:g=>l("alternatePhone",g.target.value),placeholder:"+91 9876543211"})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-md font-medium mb-4",children:"Bill Details"}),r.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[r.jsx(he,{label:"Invoice Number *",value:s.invoiceNumber,onChange:g=>l("invoiceNumber",g.target.value)}),r.jsx(he,{label:"Bill Date *",type:"date",value:s.billDate,onChange:g=>l("billDate",g.target.value)}),r.jsx(he,{label:"Due Date",type:"date",value:s.dueDate,onChange:g=>l("dueDate",g.target.value)})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-md font-medium mb-4",children:"Delivery Information"}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsx(he,{label:"Delivery Date",type:"date",value:s.deliveryDate,onChange:g=>l("deliveryDate",g.target.value)}),r.jsx(Dt,{label:"Delivery Slot",value:s.deliverySlot,onChange:g=>l("deliverySlot",g.target.value),options:f}),r.jsx("div",{className:"md:col-span-2",children:r.jsx(he,{label:"Delivery Instructions",value:s.deliveryInstructions,onChange:g=>l("deliveryInstructions",g.target.value),placeholder:"Special delivery instructions"})})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-md font-medium",children:"Items"}),r.jsxs(ce,{variant:"secondary",size:"sm",onClick:u,children:[r.jsx(hr,{className:"mr-1 h-4 w-4"}),"Add Item"]})]}),r.jsx("div",{className:"space-y-4",children:s.items.map((g,p)=>r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"grid md:grid-cols-7 gap-3",children:[r.jsx("div",{className:"md:col-span-2",children:r.jsx(he,{label:"Product Name *",value:g.productName,onChange:y=>o(p,"productName",y.target.value),placeholder:"Product name"})}),r.jsx(he,{label:"Weight",value:g.weight,onChange:y=>o(p,"weight",y.target.value),placeholder:"1.5 kg"}),r.jsx(he,{label:"Cutting Type",value:g.cuttingType,onChange:y=>o(p,"cuttingType",y.target.value),placeholder:"Fillet"}),r.jsx(he,{label:"Qty *",type:"number",value:g.quantity,onChange:y=>o(p,"quantity",parseInt(y.target.value)||0)}),r.jsx(he,{label:"Unit Price *",type:"number",value:g.unitPrice,onChange:y=>o(p,"unitPrice",parseFloat(y.target.value)||0)}),r.jsxs("div",{className:"flex items-end gap-2",children:[r.jsx("div",{className:"flex-1",children:r.jsx(he,{label:"Discount %",type:"number",value:g.discount,onChange:y=>o(p,"discount",parseFloat(y.target.value)||0)})}),s.items.length>1&&r.jsx(ce,{variant:"danger",size:"sm",onClick:()=>d(p),children:r.jsx(bd,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"mt-2 text-right",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Total: "}),r.jsxs("span",{className:"font-medium",children:["",g.total.toFixed(2)]})]})]},g.id))})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-md font-medium mb-4",children:"Payment Details"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(Dt,{label:"Payment Mode *",value:s.paymentMode,onChange:g=>l("paymentMode",g.target.value),options:m}),r.jsx(he,{label:"Delivery Charges",type:"number",value:s.deliveryCharges,onChange:g=>l("deliveryCharges",parseFloat(g.target.value)||0)}),r.jsx(he,{label:"Support Phone",value:s.supportPhone,onChange:g=>l("supportPhone",g.target.value)}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),r.jsx("textarea",{value:s.notes,onChange:g=>l("notes",g.target.value),rows:3,className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Additional notes or terms"})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-md font-medium mb-4",children:"Bill Summary"}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Subtotal:"}),r.jsxs("span",{children:["",s.subtotal.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between text-red-600",children:[r.jsx("span",{children:"Discount:"}),r.jsxs("span",{children:["-",s.totalDiscount.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Tax (GST):"}),r.jsxs("span",{children:["",s.totalTax.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Delivery Charges:"}),r.jsxs("span",{children:["",s.deliveryCharges.toFixed(2)]})]}),r.jsx("hr",{}),r.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[r.jsx("span",{children:"Net Amount:"}),r.jsxs("span",{children:["",s.netAmount.toFixed(2)]})]})]})]})]})]})]}),n&&r.jsxs(ae,{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Bill Preview"}),r.jsxs("div",{className:"bg-white border rounded-lg p-6 max-w-2xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("h2",{className:"text-xl font-bold",children:"INVOICE"}),r.jsxs("p",{className:"text-sm text-gray-600",children:["#",s.invoiceNumber]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-2",children:"Bill To:"}),r.jsx("p",{className:"text-sm",children:s.customerName}),r.jsx("p",{className:"text-sm text-gray-600",children:s.customerAddress}),r.jsx("p",{className:"text-sm text-gray-600",children:s.phoneNumber})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-sm",children:[r.jsx("strong",{children:"Date:"})," ",s.billDate]}),r.jsxs("p",{className:"text-sm",children:[r.jsx("strong",{children:"Delivery:"})," ",s.deliveryDate]}),r.jsxs("p",{className:"text-sm",children:[r.jsx("strong",{children:"Payment:"})," ",s.paymentMode]})]})]}),r.jsx("div",{className:"mb-6",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left p-2",children:"Item"}),r.jsx("th",{className:"text-right p-2",children:"Qty"}),r.jsx("th",{className:"text-right p-2",children:"Price"}),r.jsx("th",{className:"text-right p-2",children:"Total"})]})}),r.jsx("tbody",{children:s.items.map((g,p)=>r.jsxs("tr",{className:"border-t",children:[r.jsxs("td",{className:"p-2",children:[r.jsx("div",{children:g.productName}),g.weight&&r.jsx("div",{className:"text-xs text-gray-500",children:g.weight}),g.cuttingType&&r.jsx("div",{className:"text-xs text-gray-500",children:g.cuttingType})]}),r.jsx("td",{className:"text-right p-2",children:g.quantity}),r.jsxs("td",{className:"text-right p-2",children:["",g.unitPrice]}),r.jsxs("td",{className:"text-right p-2",children:["",g.total.toFixed(2)]})]},p))})]})}),r.jsxs("div",{className:"text-right space-y-1 mb-6",children:[r.jsxs("p",{className:"text-sm",children:["Subtotal: ",s.subtotal.toFixed(2)]}),r.jsxs("p",{className:"text-sm text-red-600",children:["Discount: -",s.totalDiscount.toFixed(2)]}),r.jsxs("p",{className:"text-sm",children:["Tax: ",s.totalTax.toFixed(2)]}),r.jsxs("p",{className:"text-sm",children:["Delivery: ",s.deliveryCharges.toFixed(2)]}),r.jsxs("p",{className:"text-lg font-bold",children:["Total: ",s.netAmount.toFixed(2)]})]}),r.jsxs("div",{className:"text-center text-xs text-gray-500",children:[r.jsxs("p",{children:["Support: ",s.supportPhone]}),s.notes&&r.jsx("p",{className:"mt-2",children:s.notes})]})]})]})]})},r2=[{id:"product_name",name:"Product Name",type:"text",value:"Fresh Salmon - 1kg",fontSize:16,fontWeight:"bold",position:{x:10,y:10},width:200,height:25,isVisible:!0},{id:"product_code",name:"Product Code",type:"text",value:"SAL001",fontSize:12,fontWeight:"normal",position:{x:10,y:40},width:100,height:20,isVisible:!0},{id:"price",name:"Price",type:"text",value:"450.00",fontSize:14,fontWeight:"bold",position:{x:120,y:40},width:80,height:20,isVisible:!0},{id:"barcode",name:"Barcode",type:"barcode",value:"1234567890123",fontSize:10,fontWeight:"normal",position:{x:10,y:70},width:150,height:30,isVisible:!0},{id:"expiry_date",name:"Expiry Date",type:"date",value:"2024-02-15",fontSize:10,fontWeight:"normal",position:{x:10,y:110},width:100,height:15,isVisible:!0},{id:"batch_number",name:"Batch Number",type:"text",value:"B240115001",fontSize:10,fontWeight:"normal",position:{x:120,y:110},width:80,height:15,isVisible:!0}],pRe=[{category:"Product Information",fields:[{id:"product_name",label:"Product Name",type:"text"},{id:"product_code",label:"Product Code",type:"text"},{id:"product_description",label:"Description",type:"text"},{id:"category",label:"Category",type:"text"},{id:"brand",label:"Brand",type:"text"},{id:"weight",label:"Weight",type:"text"},{id:"unit",label:"Unit",type:"text"}]},{category:"Pricing",fields:[{id:"price",label:"Price",type:"text"},{id:"mrp",label:"MRP",type:"text"},{id:"discount",label:"Discount",type:"text"},{id:"tax_rate",label:"Tax Rate",type:"text"},{id:"final_price",label:"Final Price",type:"text"}]},{category:"Inventory",fields:[{id:"batch_number",label:"Batch Number",type:"text"},{id:"lot_number",label:"Lot Number",type:"text"},{id:"manufacturing_date",label:"Manufacturing Date",type:"date"},{id:"expiry_date",label:"Expiry Date",type:"date"},{id:"stock_quantity",label:"Stock Quantity",type:"number"}]},{category:"Barcodes & QR",fields:[{id:"barcode",label:"Barcode",type:"barcode"},{id:"qr_code",label:"QR Code",type:"qrcode"},{id:"sku",label:"SKU",type:"text"}]},{category:"Business Info",fields:[{id:"company_name",label:"Company Name",type:"text"},{id:"company_logo",label:"Company Logo",type:"image"},{id:"address",label:"Address",type:"text"},{id:"phone",label:"Phone",type:"text"},{id:"email",label:"Email",type:"text"}]}];function s2(){const[e,t]=_.useState({id:"1",name:"Product Label",width:220,height:140,fields:r2,paperSize:"A4",orientation:"portrait"}),[s,a]=_.useState("design"),[n,i]=_.useState(r2.map(D=>D.id)),[l,o]=_.useState(1),[u,d]=_.useState(!1),m=_.useRef(null),[f,g]=_.useState({dateFrom:"",dateTo:"",customer:"",invoiceNumber:"",product:"",selectedOrders:[]}),p=[{id:"ORD-001",date:"2024-02-10",customer:"Rajesh Kumar",invoice:"INV-2024-001",product:"Fresh Salmon",amount:850},{id:"ORD-002",date:"2024-02-10",customer:"Priya Sharma",invoice:"INV-2024-002",product:"Tuna Steak",amount:1200},{id:"ORD-003",date:"2024-02-11",customer:"Arun Patel",invoice:"INV-2024-003",product:"Prawns",amount:650},{id:"ORD-004",date:"2024-02-11",customer:"Lakshmi Devi",invoice:"INV-2024-004",product:"Crab",amount:1450},{id:"ORD-005",date:"2024-02-12",customer:"Rajesh Kumar",invoice:"INV-2024-005",product:"Lobster",amount:2100}],[y,v]=_.useState({deliverySlip:[{id:"customer_name",label:"Customer Name",type:"text",required:!0,enabled:!0,position:{x:20,y:20},fontSize:14,fontWeight:"bold"},{id:"customer_address",label:"Delivery Address",type:"address",required:!0,enabled:!0,position:{x:20,y:45},fontSize:12,fontWeight:"normal"},{id:"phone_number",label:"Phone Number",type:"phone",required:!0,enabled:!0,position:{x:20,y:85},fontSize:12,fontWeight:"normal"},{id:"alternate_phone",label:"Alternate Phone",type:"phone",required:!1,enabled:!0,position:{x:150,y:85},fontSize:12,fontWeight:"normal"},{id:"invoice_number",label:"Invoice Number",type:"text",required:!0,enabled:!0,position:{x:20,y:110},fontSize:12,fontWeight:"bold"},{id:"net_amount",label:"Net Amount",type:"number",required:!0,enabled:!0,position:{x:150,y:110},fontSize:12,fontWeight:"bold"},{id:"payment_mode",label:"Payment Mode",type:"text",required:!0,enabled:!0,position:{x:20,y:135},fontSize:12,fontWeight:"normal"},{id:"delivery_date",label:"Delivery Date",type:"date",required:!0,enabled:!0,position:{x:20,y:160},fontSize:12,fontWeight:"normal"},{id:"delivery_slot",label:"Delivery Slot",type:"text",required:!1,enabled:!0,position:{x:150,y:160},fontSize:12,fontWeight:"normal"},{id:"delivery_instructions",label:"Delivery Instructions",type:"text",required:!1,enabled:!0,position:{x:20,y:185},fontSize:10,fontWeight:"normal"},{id:"support_phone",label:"Support Phone",type:"phone",required:!0,enabled:!0,position:{x:20,y:210},fontSize:10,fontWeight:"normal"},{id:"qr_code",label:"QR Code",type:"qr",required:!1,enabled:!0,position:{x:200,y:20},fontSize:10,fontWeight:"normal"},{id:"brand_logo",label:"Brand Logo",type:"image",required:!1,enabled:!0,position:{x:200,y:60},fontSize:10,fontWeight:"normal"}],packingSlip:[{id:"customer_name",label:"Customer Name",type:"text",required:!0,enabled:!0,position:{x:20,y:20},fontSize:14,fontWeight:"bold"},{id:"invoice_number",label:"Invoice Number",type:"text",required:!0,enabled:!0,position:{x:20,y:45},fontSize:12,fontWeight:"bold"},{id:"product_name",label:"Product Name",type:"text",required:!0,enabled:!0,position:{x:20,y:70},fontSize:12,fontWeight:"normal"},{id:"product_weight",label:"Weight",type:"text",required:!0,enabled:!0,position:{x:150,y:70},fontSize:12,fontWeight:"normal"},{id:"cutting_type",label:"Cutting Type",type:"text",required:!1,enabled:!0,position:{x:20,y:95},fontSize:12,fontWeight:"normal"},{id:"quantity",label:"Quantity",type:"number",required:!0,enabled:!0,position:{x:150,y:95},fontSize:12,fontWeight:"normal"},{id:"net_amount",label:"Net Amount",type:"number",required:!0,enabled:!0,position:{x:20,y:120},fontSize:12,fontWeight:"bold"},{id:"payment_mode",label:"Payment Mode",type:"text",required:!0,enabled:!0,position:{x:150,y:120},fontSize:12,fontWeight:"normal"},{id:"packing_date",label:"Packing Date",type:"date",required:!0,enabled:!0,position:{x:20,y:145},fontSize:12,fontWeight:"normal"},{id:"barcode",label:"Product Barcode",type:"barcode",required:!1,enabled:!0,position:{x:20,y:170},fontSize:10,fontWeight:"normal"},{id:"brand_logo",label:"Brand Logo",type:"image",required:!1,enabled:!0,position:{x:200,y:20},fontSize:10,fontWeight:"normal"},{id:"support_phone",label:"Support Phone",type:"phone",required:!0,enabled:!0,position:{x:20,y:200},fontSize:10,fontWeight:"normal"}]}),j=[{value:"A4",label:"A4 (210  297 mm)"},{value:"A5",label:"A5 (148  210 mm)"},{value:"Letter",label:"Letter (8.5  11 in)"},{value:"Custom",label:"Custom Size"}],N=[{value:"product",label:"Product Label"},{value:"shipping",label:"Shipping Label"},{value:"barcode",label:"Barcode Label"},{value:"price",label:"Price Tag"},{value:"custom",label:"Custom Template"}],k=(D,B)=>{t(z=>({...z,fields:z.fields.map(I=>I.id===D?{...I,...B}:I)}))},w=D=>{const B={id:D.id,name:D.label,type:D.type,value:`Sample ${D.label}`,fontSize:12,fontWeight:"normal",position:{x:10,y:10},width:150,height:20,isVisible:!0};t(z=>({...z,fields:[...z.fields,B]})),i(z=>[...z,D.id])},A=D=>{t(B=>({...B,fields:B.fields.filter(z=>z.id!==D)})),i(B=>B.filter(z=>z!==D))},C=()=>{if(m.current){const D=window.open("","_blank");D&&(D.document.write(`
          <html>
            <head>
              <title>Print Labels</title>
              <style>
                body { margin: 0; padding: 20px; font-family: Arial, sans-serif; }
                .label-container { display: flex; flex-wrap: wrap; gap: 10px; }
                .label { border: 1px solid #ccc; page-break-inside: avoid; }
                @media print {
                  body { margin: 0; padding: 0; }
                  .label-container { gap: 0; }
                }
              </style>
            </head>
            <body>
              ${m.current.innerHTML}
            </body>
          </html>
        `),D.document.close(),D.print())}},M=()=>{console.log("Downloading labels...")},R=()=>{t({id:"1",name:"Product Label",width:220,height:140,fields:r2,paperSize:"A4",orientation:"portrait"}),i(r2.map(D=>D.id))};return r.jsxs("div",{className:"space-y-4 sm:space-y-6 p-4 sm:p-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Label Generator"}),r.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Create and customize labels for your products"})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[r.jsxs(ce,{variant:"secondary",onClick:R,className:"text-sm",children:[r.jsx(Tn,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4"}),"Reset"]}),r.jsxs(ce,{variant:"secondary",onClick:()=>d(!u),className:"text-sm",children:[r.jsx(Fr,{className:"mr-2 h-4 w-4 sm:h-5 sm:w-5"}),u?"Edit":"Preview"]}),r.jsxs(ce,{className:"text-sm",children:[r.jsx(Ii,{className:"mr-2 h-4 w-4 sm:h-5 sm:w-5"}),"Save Template"]})]})]}),r.jsxs(ae,{className:"p-4 sm:p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[r.jsx("div",{className:"rounded-lg bg-blue-50 p-2",children:r.jsx(nl,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-base sm:text-lg font-semibold",children:"Template Settings"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Configure label dimensions and layout"})]})]}),r.jsxs("div",{className:"grid gap-3 sm:gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-4",children:[r.jsx(he,{label:"Template Name",value:e.name,onChange:D=>t(B=>({...B,name:D.target.value}))}),r.jsx(Dt,{label:"Paper Size",value:e.paperSize,onChange:D=>t(B=>({...B,paperSize:D.target.value})),options:j}),r.jsx(he,{label:"Width (mm)",type:"number",value:e.width,onChange:D=>t(B=>({...B,width:parseInt(D.target.value)}))}),r.jsx(he,{label:"Height (mm)",type:"number",value:e.height,onChange:D=>t(B=>({...B,height:parseInt(D.target.value)}))})]})]}),u?r.jsxs("div",{className:"grid gap-4 sm:gap-6 lg:grid-cols-4",children:[r.jsx("div",{className:"lg:col-span-3",children:r.jsxs(ae,{className:"p-4 sm:p-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4 sm:mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"rounded-lg bg-indigo-50 p-2",children:r.jsx(Fr,{className:"h-4 w-4 sm:h-5 sm:w-5 text-indigo-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-base sm:text-lg font-semibold",children:"Label Preview"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Preview your labels before printing"})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[r.jsxs(ce,{variant:"secondary",onClick:M,className:"text-xs sm:text-sm",children:[r.jsx(Ho,{className:"mr-2 h-4 w-4 sm:h-5 sm:w-5"}),r.jsx("span",{className:"hidden sm:inline",children:"Download"}),r.jsx("span",{className:"sm:hidden",children:"Save"})]}),r.jsxs(ce,{onClick:C,className:"text-xs sm:text-sm",children:[r.jsx(Sm,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4"}),"Print"]})]})]}),r.jsx("div",{ref:m,children:r.jsx(aRe,{template:e,quantity:l})})]})}),r.jsxs("div",{children:[r.jsxs(ae,{className:"p-4 sm:p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[r.jsx("div",{className:"rounded-lg bg-red-50 p-2",children:r.jsx(Sm,{className:"h-4 w-4 sm:h-5 sm:w-5 text-red-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-base sm:text-lg font-semibold",children:"Print Settings"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Configure printing options"})]})]}),r.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Number of Labels"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ce,{variant:"secondary",size:"sm",onClick:()=>o(Math.max(1,l-1)),className:"p-1 sm:p-2",children:r.jsx(bd,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),r.jsx(he,{type:"number",value:l,onChange:D=>o(Math.max(1,parseInt(D.target.value)||1)),className:"text-center text-xs sm:text-sm",min:"1"}),r.jsx(ce,{variant:"secondary",size:"sm",onClick:()=>o(l+1),className:"p-1 sm:p-2",children:r.jsx(hr,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]})]}),r.jsx(Dt,{label:"Print Quality",options:[{value:"draft",label:"Draft"},{value:"normal",label:"Normal"},{value:"high",label:"High Quality"}],className:"text-xs sm:text-sm"}),r.jsx(Dt,{label:"Printer",options:[{value:"default",label:"Default Printer"},{value:"thermal",label:"Thermal Printer"},{value:"laser",label:"Laser Printer"}],className:"text-xs sm:text-sm"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",className:"rounded",defaultChecked:!0}),r.jsx("span",{className:"text-xs sm:text-sm",children:"Print borders"})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",className:"rounded"}),r.jsx("span",{className:"text-xs sm:text-sm",children:"Print in grayscale"})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",className:"rounded"}),r.jsx("span",{className:"text-xs sm:text-sm",children:"Fit to page"})]})]})]})]}),r.jsxs(ae,{className:"mt-4 sm:mt-6 p-4 sm:p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3 sm:mb-4",children:[r.jsx("div",{className:"rounded-lg bg-yellow-50 p-2",children:r.jsx(Hs,{className:"h-4 w-4 sm:h-5 sm:w-5 text-yellow-600"})}),r.jsx("div",{children:r.jsx("h3",{className:"text-sm sm:text-base font-semibold",children:"Templates"})})]}),r.jsx("div",{className:"space-y-2",children:N.map(D=>r.jsx("button",{className:"w-full text-left p-2 rounded hover:bg-gray-50 text-xs sm:text-sm",children:D.label},D.value))})]})]})]}):r.jsxs("div",{className:"grid gap-4 sm:gap-6 lg:grid-cols-3",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsxs(ae,{className:"p-4 sm:p-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4 sm:mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"rounded-lg bg-green-50 p-2",children:r.jsx(Hs,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-base sm:text-lg font-semibold",children:"Label, Slip & Bill Designer"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Design labels, create delivery slips, packing slips, and bills"})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(ce,{variant:s==="design"?"primary":"secondary",size:"sm",onClick:()=>a("design"),className:"text-xs sm:text-sm",children:"Design"}),r.jsx(ce,{variant:s==="data"?"primary":"secondary",size:"sm",onClick:()=>a("data"),className:"text-xs sm:text-sm",children:"Data"}),r.jsxs(ce,{variant:s==="slips"?"primary":"secondary",size:"sm",onClick:()=>a("slips"),className:"text-xs sm:text-sm",children:[r.jsx(zr,{className:"mr-1 h-3 w-3"}),"Slips"]}),r.jsxs(ce,{variant:s==="bill"?"primary":"secondary",size:"sm",onClick:()=>a("bill"),className:"text-xs sm:text-sm",children:[r.jsx(Qf,{className:"mr-1 h-3 w-3"}),"Bill"]}),r.jsxs(ce,{variant:s==="print"?"primary":"secondary",size:"sm",onClick:()=>a("print"),className:"text-xs sm:text-sm",children:[r.jsx(Sm,{className:"mr-1 h-3 w-3"}),"Print Slips"]})]})]}),s==="design"&&r.jsx(nRe,{template:e,onUpdateField:k,onRemoveField:A}),s==="data"&&r.jsx(lRe,{availableFields:pRe,selectedFields:n,onAddField:w,onRemoveField:A}),s==="slips"&&r.jsx(mRe,{config:y,onChange:v}),s==="bill"&&r.jsx(fRe,{onSave:D=>{console.log("Saving bill:",D),alert("Bill saved successfully!")}}),s==="print"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[r.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[r.jsx(hs,{className:"h-5 w-5 text-blue-600"}),"Filter Orders for Printing"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(he,{label:"From Date",type:"date",value:f.dateFrom,onChange:D=>g({...f,dateFrom:D.target.value})}),r.jsx(he,{label:"To Date",type:"date",value:f.dateTo,onChange:D=>g({...f,dateTo:D.target.value})}),r.jsx(he,{label:"Customer Name",value:f.customer,onChange:D=>g({...f,customer:D.target.value}),placeholder:"Search customer..."}),r.jsx(he,{label:"Invoice Number",value:f.invoiceNumber,onChange:D=>g({...f,invoiceNumber:D.target.value}),placeholder:"INV-2024-001"}),r.jsx(he,{label:"Product Name",value:f.product,onChange:D=>g({...f,product:D.target.value}),placeholder:"Search product..."}),r.jsx("div",{className:"flex items-end",children:r.jsx(ce,{variant:"secondary",onClick:()=>g({dateFrom:"",dateTo:"",customer:"",invoiceNumber:"",product:"",selectedOrders:[]}),className:"w-full",children:"Clear Filters"})})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"font-semibold",children:["Orders (",f.selectedOrders.length," selected)"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(ce,{size:"sm",variant:"secondary",onClick:()=>g({...f,selectedOrders:p.map(D=>D.id)}),children:"Select All"}),r.jsx(ce,{size:"sm",variant:"secondary",onClick:()=>g({...f,selectedOrders:[]}),children:"Deselect All"}),r.jsxs(ce,{size:"sm",disabled:f.selectedOrders.length===0,onClick:()=>alert(`Printing ${f.selectedOrders.length} delivery slips...`),children:[r.jsx(Sm,{className:"mr-2 h-4 w-4"}),"Print Selected"]})]})]}),r.jsx("div",{className:"space-y-2",children:p.filter(D=>!(f.dateFrom&&D.date<f.dateFrom||f.dateTo&&D.date>f.dateTo||f.customer&&!D.customer.toLowerCase().includes(f.customer.toLowerCase())||f.invoiceNumber&&!D.invoice.toLowerCase().includes(f.invoiceNumber.toLowerCase())||f.product&&!D.product.toLowerCase().includes(f.product.toLowerCase()))).map(D=>r.jsx("div",{className:`p-4 border rounded-lg cursor-pointer transition-colors ${f.selectedOrders.includes(D.id)?"bg-blue-50 border-blue-300":"bg-white hover:bg-gray-50"}`,onClick:()=>{const B=f.selectedOrders.includes(D.id)?f.selectedOrders.filter(z=>z!==D.id):[...f.selectedOrders,D.id];g({...f,selectedOrders:B})},children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("input",{type:"checkbox",checked:f.selectedOrders.includes(D.id),onChange:()=>{},className:"h-4 w-4 rounded"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold",children:D.id}),r.jsx("p",{className:"text-sm text-gray-600",children:D.date})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:D.customer}),r.jsx("p",{className:"text-xs text-gray-500",children:D.invoice})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm",children:D.product}),r.jsxs("p",{className:"text-xs text-gray-500",children:["",D.amount]})]})]}),r.jsx(ce,{size:"sm",variant:"ghost",onClick:B=>{B.stopPropagation(),alert(`Printing delivery slip for ${D.id}...`)},children:r.jsx(Sm,{className:"h-4 w-4"})})]})},D.id))})]})]})]})}),r.jsxs("div",{children:[r.jsxs(ae,{className:"p-4 sm:p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[r.jsx("div",{className:"rounded-lg bg-purple-50 p-2",children:r.jsx(nl,{className:"h-4 w-4 sm:h-5 sm:w-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-base sm:text-lg font-semibold",children:"Field Properties"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Customize selected field"})]})]}),r.jsx("div",{className:"space-y-4",children:r.jsx("div",{className:"text-xs sm:text-sm text-gray-500 text-center py-6 sm:py-8",children:"Select a field to edit its properties"})})]}),r.jsxs(ae,{className:"mt-4 sm:mt-6 p-4 sm:p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3 sm:mb-4",children:[r.jsx("div",{className:"rounded-lg bg-orange-50 p-2",children:r.jsx(Pt,{className:"h-4 w-4 sm:h-5 sm:w-5 text-orange-600"})}),r.jsx("div",{children:r.jsx("h3",{className:"text-sm sm:text-base font-semibold",children:"Quick Actions"})})]}),r.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[r.jsxs(ce,{variant:"secondary",className:"w-full justify-start text-xs sm:text-sm",size:"sm",children:[r.jsx(hr,{className:"mr-2 h-4 w-4 sm:h-5 sm:w-5"}),"Add Text Field"]}),r.jsxs(ce,{variant:"secondary",className:"w-full justify-start text-xs sm:text-sm",size:"sm",children:[r.jsx(uN,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4"}),"Add Barcode"]}),r.jsxs(ce,{variant:"secondary",className:"w-full justify-start text-xs sm:text-sm",size:"sm",children:[r.jsx(n9,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4"}),"Add QR Code"]}),r.jsxs(ce,{variant:"secondary",className:"w-full justify-start text-xs sm:text-sm",size:"sm",children:[r.jsx(hs,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4"}),"Add Date Field"]})]})]})]})]})]})}function xRe({children:e}){const{isAuthenticated:t}=os();return t?r.jsx(r.Fragment,{children:e}):r.jsx(Xn,{to:"/login",replace:!0})}function gRe(){const{isAuthenticated:e}=os();return r.jsx(XF,{children:r.jsxs(YY,{children:[r.jsx($e,{path:"/login",element:e?r.jsx(Xn,{to:"/dashboard",replace:!0}):r.jsx(fne,{})}),r.jsxs($e,{path:"/",element:r.jsx(xRe,{children:r.jsx($Q,{})}),children:[r.jsx($e,{index:!0,element:r.jsx(Xn,{to:"/dashboard",replace:!0})}),r.jsx($e,{path:"dashboard",element:r.jsx(L5e,{})}),r.jsx($e,{path:"procurement-dashboard",element:r.jsx(is,{children:r.jsx(I5e,{})})}),r.jsx($e,{path:"packing-dashboard",element:r.jsx(Ob,{children:r.jsx(F5e,{})})}),r.jsx($e,{path:"delivery-dashboard",element:r.jsx(VQ,{children:r.jsx(B5e,{})})}),r.jsx($e,{path:"hub/products/categories",element:r.jsx(is,{children:r.jsx(x1,{})})}),r.jsx($e,{path:"hub/products/cutting-types",element:r.jsx(is,{children:r.jsx(l1,{})})}),r.jsx($e,{path:"hub/products/stock",element:r.jsx(is,{children:r.jsx(v1,{})})}),r.jsx($e,{path:"hub/products/approval",element:r.jsx(Ur,{permission:"PRODUCT_APPROVAL",children:r.jsx(i1,{})})}),r.jsx($e,{path:"hub/products/recipes",element:r.jsx(is,{children:r.jsx(Q1,{})})}),r.jsx($e,{path:"hub/products/*",element:r.jsx(is,{children:r.jsx(n1,{})})}),r.jsx($e,{path:"hub/scratch-card",element:r.jsx(is,{children:r.jsx(o1,{})})}),r.jsx($e,{path:"hub/spin-wheel",element:r.jsx(is,{children:r.jsx(c1,{})})}),r.jsx($e,{path:"hub/flash-sale",element:r.jsx(is,{children:r.jsx(d1,{})})}),r.jsx($e,{path:"hub/subscription",element:r.jsx(is,{children:r.jsx(u1,{})})}),r.jsx($e,{path:"hub/offer-notification",element:r.jsx(is,{children:r.jsx(h1,{})})}),r.jsx($e,{path:"hub/coupon",element:r.jsx(is,{children:r.jsx(m1,{})})}),r.jsx($e,{path:"hub/in-app-currency",element:r.jsx(is,{children:r.jsx(f1,{})})}),r.jsx($e,{path:"hub/referral",element:r.jsx(is,{children:r.jsx(Jg,{})})}),r.jsx($e,{path:"hub/marketing/*",element:r.jsx(is,{children:r.jsx(X1,{})})}),r.jsx($e,{path:"hub/reports/stock",element:r.jsx(is,{children:r.jsx(I1,{})})}),r.jsx($e,{path:"hub/reports/procurement",element:r.jsx(is,{children:r.jsx(l_,{})})}),r.jsx($e,{path:"hub/procurement",element:r.jsx(is,{children:r.jsx(CF,{})})}),r.jsx($e,{path:"hub/reports/sales",element:r.jsx(Ur,{permission:We.HUB_REPORTS_SALES,children:r.jsx(L1,{})})}),r.jsx($e,{path:"hub/reports/packing",element:r.jsx(ic,{allowedRoles:["hub_main_admin","hub_packing"],children:r.jsx(Tp,{})})}),r.jsx($e,{path:"hub/reports/delivery",element:r.jsx(ic,{allowedRoles:["hub_main_admin","hub_delivery"],children:r.jsx(Ep,{})})}),r.jsx($e,{path:"hub/reports/customer",element:r.jsx(Ur,{permission:We.HUB_REPORTS_CUSTOMER,children:r.jsx(F1,{})})}),r.jsx($e,{path:"hub/reports/demand-forecast",element:r.jsx(Ur,{permission:We.HUB_REPORTS_SALES,children:r.jsx(B1,{})})}),r.jsx($e,{path:"hub/reports/trend-analysis",element:r.jsx(Ur,{permission:We.HUB_REPORTS_SALES,children:r.jsx(U1,{})})}),r.jsx($e,{path:"hub/reports/tax-gst",element:r.jsx(Ur,{permission:We.HUB_REPORTS_SALES,children:r.jsx(z1,{})})}),r.jsx($e,{path:"hub/system/rollback",element:r.jsx(Ur,{permission:We.HUB_REPORTS_SALES,children:r.jsx($1,{})})}),r.jsx($e,{path:"hub/reports",element:r.jsx(Np,{})}),r.jsx($e,{path:"hub/orders/*",element:r.jsx(ic,{allowedRoles:["hub_main_admin","hub_packing","hub_delivery"],children:r.jsx(a1,{})})}),r.jsx($e,{path:"hub/team/*",element:r.jsx(Ur,{permission:We.HUB_TEAM_VIEW,children:r.jsx(p1,{})})}),r.jsx($e,{path:"hub/labeling",element:r.jsx(ic,{allowedRoles:["hub_main_admin","hub_packing"],children:r.jsx(s2,{})})}),r.jsx($e,{path:"hub/packing",element:r.jsx(Ob,{children:r.jsx(kF,{})})}),r.jsx($e,{path:"hub/reports/packing",element:r.jsx(ic,{allowedRoles:["hub_main_admin","hub_packing"],children:r.jsx(Tp,{})})}),r.jsx($e,{path:"hub/reports/delivery",element:r.jsx(ic,{allowedRoles:["hub_main_admin","hub_delivery"],children:r.jsx(Ep,{})})}),r.jsx($e,{path:"hub/reports",element:r.jsx(Ob,{children:r.jsx(Np,{})})}),r.jsx($e,{path:"hub/orders/manual",element:r.jsx(Ur,{permission:We.HUB_ORDERS_CREATE,children:r.jsx(T4e,{})})}),r.jsx($e,{path:"hub/orders/pre-orders",element:r.jsx(Ur,{permission:We.HUB_PRE_ORDERS,children:r.jsx(P4e,{})})}),r.jsx($e,{path:"hub/audit",element:r.jsx(Ur,{permission:We.HUB_AUDIT_LOGS,children:r.jsx(t2,{})})}),r.jsx($e,{path:"hub/settings",element:r.jsx(Ur,{permission:"HUB_TEAM_MANAGE",children:r.jsx(H1,{})})}),r.jsx($e,{path:"hub/settings/delivery-slots",element:r.jsx(Ur,{permission:"HUB_TEAM_MANAGE",children:r.jsx(q1,{})})}),r.jsx($e,{path:"hub/settings/shipping-charges",element:r.jsx(Ur,{permission:"HUB_TEAM_MANAGE",children:r.jsx(V1,{})})}),r.jsx($e,{path:"hub/settings/integrations",element:r.jsx(Ur,{permission:"HUB_TEAM_MANAGE",children:r.jsx(W1,{})})}),r.jsx($e,{path:"hub/settings/weather",element:r.jsx(Ur,{permission:"HUB_TEAM_MANAGE",children:r.jsx(K1,{})})}),r.jsx($e,{path:"hub/settings/notification",element:r.jsx(Ur,{permission:"HUB_TEAM_MANAGE",children:r.jsx(G1,{})})}),r.jsx($e,{path:"hub/settings/legal",element:r.jsx(Ur,{permission:"HUB_TEAM_MANAGE",children:r.jsx(Y1,{})})}),r.jsx($e,{path:"hub/settings/advertisement",element:r.jsx(Ur,{permission:"HUB_TEAM_MANAGE",children:r.jsx(Z1,{})})}),r.jsx($e,{path:"hub/settings/*",element:r.jsx(Ur,{permission:"HUB_TEAM_MANAGE",children:r.jsx(e2,{})})}),r.jsx($e,{path:"store/products/categories",element:r.jsx(is,{children:r.jsx(x1,{})})}),r.jsx($e,{path:"store/products/cutting-types",element:r.jsx(is,{children:r.jsx(l1,{})})}),r.jsx($e,{path:"store/products/stock",element:r.jsx(is,{children:r.jsx(v1,{})})}),r.jsx($e,{path:"store/products/approval",element:r.jsx(Ur,{permission:"PRODUCT_APPROVAL",children:r.jsx(i1,{})})}),r.jsx($e,{path:"store/products/recipes",element:r.jsx(is,{children:r.jsx(Q1,{})})}),r.jsx($e,{path:"store/products/*",element:r.jsx(is,{children:r.jsx(n1,{})})}),r.jsx($e,{path:"store/scratch-card",element:r.jsx(is,{children:r.jsx(o1,{})})}),r.jsx($e,{path:"store/spin-wheel",element:r.jsx(is,{children:r.jsx(c1,{})})}),r.jsx($e,{path:"store/flash-sale",element:r.jsx(is,{children:r.jsx(d1,{})})}),r.jsx($e,{path:"store/subscription",element:r.jsx(is,{children:r.jsx(u1,{})})}),r.jsx($e,{path:"store/offer-notification",element:r.jsx(is,{children:r.jsx(h1,{})})}),r.jsx($e,{path:"store/coupon",element:r.jsx(is,{children:r.jsx(m1,{})})}),r.jsx($e,{path:"store/in-app-currency",element:r.jsx(is,{children:r.jsx(f1,{})})}),r.jsx($e,{path:"store/referral",element:r.jsx(is,{children:r.jsx(Jg,{})})}),r.jsx($e,{path:"store/marketing/*",element:r.jsx(is,{children:r.jsx(X1,{})})}),r.jsx($e,{path:"store/reports/stock",element:r.jsx(is,{children:r.jsx(I1,{})})}),r.jsx($e,{path:"store/reports/procurement",element:r.jsx(is,{children:r.jsx(l_,{})})}),r.jsx($e,{path:"store/procurement",element:r.jsx(is,{children:r.jsx(CF,{})})}),r.jsx($e,{path:"store/reports/sales",element:r.jsx(Ur,{permission:"HUB_REPORTS_SALES",children:r.jsx(L1,{})})}),r.jsx($e,{path:"store/reports/packing",element:r.jsx(ic,{allowedRoles:["store_main_admin","store_packing"],children:r.jsx(Tp,{})})}),r.jsx($e,{path:"store/reports/delivery",element:r.jsx(ic,{allowedRoles:["store_main_admin","store_delivery"],children:r.jsx(Ep,{})})}),r.jsx($e,{path:"store/reports/customer",element:r.jsx(Ur,{permission:"HUB_REPORTS_CUSTOMER",children:r.jsx(F1,{})})}),r.jsx($e,{path:"store/reports/demand-forecast",element:r.jsx(Ur,{permission:"HUB_REPORTS_SALES",children:r.jsx(B1,{})})}),r.jsx($e,{path:"store/reports/trend-analysis",element:r.jsx(Ur,{permission:"HUB_REPORTS_SALES",children:r.jsx(U1,{})})}),r.jsx($e,{path:"store/reports/tax-gst",element:r.jsx(Ur,{permission:"HUB_REPORTS_SALES",children:r.jsx(z1,{})})}),r.jsx($e,{path:"store/system/rollback",element:r.jsx(Ur,{permission:"HUB_REPORTS_SALES",children:r.jsx($1,{})})}),r.jsx($e,{path:"store/reports",element:r.jsx(Np,{})}),r.jsx($e,{path:"store/orders/*",element:r.jsx(ic,{allowedRoles:["store_main_admin","store_packing","store_delivery"],children:r.jsx(a1,{})})}),r.jsx($e,{path:"store/team/*",element:r.jsx(Ur,{permission:We.STORE_TEAM_VIEW,children:r.jsx(p1,{})})}),r.jsx($e,{path:"store/labeling",element:r.jsx(ic,{allowedRoles:["store_main_admin","store_packing"],children:r.jsx(s2,{})})}),r.jsx($e,{path:"store/packing",element:r.jsx(Ob,{children:r.jsx(kF,{})})}),r.jsx($e,{path:"store/reports/packing",element:r.jsx(ic,{allowedRoles:["store_main_admin","store_packing"],children:r.jsx(Tp,{})})}),r.jsx($e,{path:"store/reports/delivery",element:r.jsx(ic,{allowedRoles:["store_main_admin","store_delivery"],children:r.jsx(Ep,{})})}),r.jsx($e,{path:"store/reports",element:r.jsx(Np,{})}),r.jsx($e,{path:"store/orders/manual",element:r.jsx(Ur,{permission:"STORE_ORDERS_CREATE",children:r.jsx(tL,{})})}),r.jsx($e,{path:"store/orders/pre-orders",element:r.jsx(Ur,{permission:"STORE_ORDERS_CREATE",children:r.jsx(rL,{})})}),r.jsx($e,{path:"store/team/custom-roles",element:r.jsx(Ur,{permission:"STORE_TEAM_MANAGE",children:r.jsx(f3,{})})}),r.jsx($e,{path:"store/audit",element:r.jsx(Ur,{permission:"STORE_TEAM_MANAGE",children:r.jsx(t2,{})})}),r.jsx($e,{path:"store/settings",element:r.jsx(Ur,{permission:"STORE_TEAM_MANAGE",children:r.jsx(H1,{})})}),r.jsx($e,{path:"store/settings/delivery-slots",element:r.jsx(Ur,{permission:"STORE_TEAM_MANAGE",children:r.jsx(q1,{})})}),r.jsx($e,{path:"store/settings/shipping-charges",element:r.jsx(Ur,{permission:"STORE_TEAM_MANAGE",children:r.jsx(V1,{})})}),r.jsx($e,{path:"store/settings/integrations",element:r.jsx(Ur,{permission:"STORE_TEAM_MANAGE",children:r.jsx(W1,{})})}),r.jsx($e,{path:"store/settings/weather",element:r.jsx(Ur,{permission:"STORE_TEAM_MANAGE",children:r.jsx(K1,{})})}),r.jsx($e,{path:"store/settings/notification",element:r.jsx(Ur,{permission:"STORE_TEAM_MANAGE",children:r.jsx(G1,{})})}),r.jsx($e,{path:"store/settings/legal",element:r.jsx(Ur,{permission:"STORE_TEAM_MANAGE",children:r.jsx(Y1,{})})}),r.jsx($e,{path:"store/settings/advertisement",element:r.jsx(Ur,{permission:"STORE_TEAM_MANAGE",children:r.jsx(Z1,{})})}),r.jsx($e,{path:"store/settings/*",element:r.jsx(Ur,{permission:"STORE_TEAM_MANAGE",children:r.jsx(e2,{})})}),r.jsx($e,{path:"store/orders/manual",element:r.jsx(tL,{})}),r.jsx($e,{path:"store/orders/pre-orders",element:r.jsx(rL,{})}),r.jsx($e,{path:"store/team/custom-roles",element:r.jsx(f3,{})}),r.jsx($e,{path:"store/products/categories",element:r.jsx(x1,{})}),r.jsx($e,{path:"store/products/cutting-types",element:r.jsx(l1,{})}),r.jsx($e,{path:"store/products/stock",element:r.jsx(v1,{})}),r.jsx($e,{path:"store/products/approval",element:r.jsx(i1,{})}),r.jsx($e,{path:"store/scratch-card",element:r.jsx(o1,{})}),r.jsx($e,{path:"store/spin-wheel",element:r.jsx(c1,{})}),r.jsx($e,{path:"store/flash-sale",element:r.jsx(d1,{})}),r.jsx($e,{path:"store/subscription",element:r.jsx(u1,{})}),r.jsx($e,{path:"store/offer-notification",element:r.jsx(h1,{})}),r.jsx($e,{path:"store/coupon",element:r.jsx(m1,{})}),r.jsx($e,{path:"store/in-app-currency",element:r.jsx(f1,{})}),r.jsx($e,{path:"store/referral",element:r.jsx(Jg,{})}),r.jsx($e,{path:"store/products/recipes",element:r.jsx(Q1,{})}),r.jsx($e,{path:"store/marketing/referral",element:r.jsx(Jg,{})}),r.jsx($e,{path:"store/labeling",element:r.jsx(s2,{})}),r.jsx($e,{path:"store/audit",element:r.jsx(t2,{})}),r.jsx($e,{path:"store/reports",element:r.jsx(Np,{})}),r.jsx($e,{path:"store/reports/sales",element:r.jsx(L1,{})}),r.jsx($e,{path:"store/reports/packing",element:r.jsx(Tp,{})}),r.jsx($e,{path:"store/reports/delivery",element:r.jsx(Ep,{})}),r.jsx($e,{path:"store/reports/stock",element:r.jsx(I1,{})}),r.jsx($e,{path:"store/reports/customer",element:r.jsx(F1,{})}),r.jsx($e,{path:"store/reports/demand-forecast",element:r.jsx(B1,{})}),r.jsx($e,{path:"store/reports/trend-analysis",element:r.jsx(U1,{})}),r.jsx($e,{path:"store/reports/tax-gst",element:r.jsx(z1,{})}),r.jsx($e,{path:"store/system/rollback",element:r.jsx($1,{})}),r.jsx($e,{path:"store/settings",element:r.jsx(H1,{})}),r.jsx($e,{path:"store/settings/delivery-slots",element:r.jsx(q1,{})}),r.jsx($e,{path:"store/settings/shipping-charges",element:r.jsx(V1,{})}),r.jsx($e,{path:"store/settings/integrations",element:r.jsx(W1,{})}),r.jsx($e,{path:"store/settings/weather",element:r.jsx(K1,{})}),r.jsx($e,{path:"store/settings/notification",element:r.jsx(G1,{})}),r.jsx($e,{path:"store/settings/legal",element:r.jsx(Y1,{})}),r.jsx($e,{path:"store/settings/advertisement",element:r.jsx(Z1,{})}),r.jsx($e,{path:"store/orders/*",element:r.jsx(a1,{})}),r.jsx($e,{path:"store/team/*",element:r.jsx(p1,{})}),r.jsx($e,{path:"store/products/*",element:r.jsx(n1,{})}),r.jsx($e,{path:"store/marketing/*",element:r.jsx(X1,{})}),r.jsx($e,{path:"store/settings/*",element:r.jsx(e2,{})}),r.jsx($e,{path:"orders/manual",element:r.jsx(_4e,{})}),r.jsx($e,{path:"orders/pre-orders",element:r.jsx(A4e,{})}),r.jsx($e,{path:"products/categories",element:r.jsx(x1,{})}),r.jsx($e,{path:"products/cutting-types",element:r.jsx(l1,{})}),r.jsx($e,{path:"products/stock",element:r.jsx(v1,{})}),r.jsx($e,{path:"products/approval",element:r.jsx(i1,{})}),r.jsx($e,{path:"scratch-card",element:r.jsx(o1,{})}),r.jsx($e,{path:"spin-wheel",element:r.jsx(c1,{})}),r.jsx($e,{path:"flash-sale",element:r.jsx(d1,{})}),r.jsx($e,{path:"subscription",element:r.jsx(u1,{})}),r.jsx($e,{path:"offer-notification",element:r.jsx(h1,{})}),r.jsx($e,{path:"coupon",element:r.jsx(m1,{})}),r.jsx($e,{path:"in-app-currency",element:r.jsx(f1,{})}),r.jsx($e,{path:"referral",element:r.jsx(Jg,{})}),r.jsx($e,{path:"hubs",element:r.jsx(OSe,{})}),r.jsx($e,{path:"stores",element:r.jsx(FSe,{})}),r.jsx($e,{path:"team/custom-roles",element:r.jsx(f3,{})}),r.jsx($e,{path:"recipes",element:r.jsx(Q1,{})}),r.jsx($e,{path:"membership",element:r.jsx(eRe,{})}),r.jsx($e,{path:"wallet",element:r.jsx(tRe,{})}),r.jsx($e,{path:"labeling",element:r.jsx(s2,{})}),r.jsx($e,{path:"audit",element:r.jsx(t2,{})}),r.jsx($e,{path:"reports",element:r.jsx(Np,{})}),r.jsx($e,{path:"reports/sales",element:r.jsx(L1,{})}),r.jsx($e,{path:"reports/packing",element:r.jsx(Tp,{})}),r.jsx($e,{path:"reports/delivery",element:r.jsx(Ep,{})}),r.jsx($e,{path:"reports/stock",element:r.jsx(I1,{})}),r.jsx($e,{path:"reports/customer",element:r.jsx(F1,{})}),r.jsx($e,{path:"reports/demand-forecast",element:r.jsx(B1,{})}),r.jsx($e,{path:"reports/trend-analysis",element:r.jsx(U1,{})}),r.jsx($e,{path:"reports/tax-gst",element:r.jsx(z1,{})}),r.jsx($e,{path:"system/rollback",element:r.jsx($1,{})}),r.jsx($e,{path:"settings",element:r.jsx(H1,{})}),r.jsx($e,{path:"settings/delivery-slots",element:r.jsx(q1,{})}),r.jsx($e,{path:"settings/shipping-charges",element:r.jsx(V1,{})}),r.jsx($e,{path:"settings/integrations",element:r.jsx(W1,{})}),r.jsx($e,{path:"settings/weather",element:r.jsx(K1,{})}),r.jsx($e,{path:"settings/notification",element:r.jsx(G1,{})}),r.jsx($e,{path:"settings/legal",element:r.jsx(Y1,{})}),r.jsx($e,{path:"settings/advertisement",element:r.jsx(Z1,{})}),r.jsx($e,{path:"orders/*",element:r.jsx(a1,{})}),r.jsx($e,{path:"products/*",element:r.jsx(n1,{})}),r.jsx($e,{path:"team/*",element:r.jsx(p1,{})}),r.jsx($e,{path:"marketing/*",element:r.jsx(X1,{})}),r.jsx($e,{path:"settings/*",element:r.jsx(e2,{})})]}),r.jsx($e,{path:"*",element:r.jsx(Xn,{to:"/dashboard",replace:!0})})]})})}YK.createRoot(document.getElementById("root")).render(r.jsx(_.StrictMode,{children:r.jsx(yZ,{children:r.jsx(OZ,{children:r.jsx(gRe,{})})})}));export{$s as _,vRe as c,Sh as g};
