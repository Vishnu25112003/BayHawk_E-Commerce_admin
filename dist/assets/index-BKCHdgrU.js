function wJ(e,t){for(var s=0;s<t.length;s++){const a=t[s];if(typeof a!="string"&&!Array.isArray(a)){for(const n in a)if(n!=="default"&&!(n in e)){const i=Object.getOwnPropertyDescriptor(a,n);i&&Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:()=>a[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();var PUe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function sf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _S={exports:{}},Lv={};var $8;function SJ(){if($8)return Lv;$8=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function s(a,n,i){var l=null;if(i!==void 0&&(l=""+i),n.key!==void 0&&(l=""+n.key),"key"in n){i={};for(var o in n)o!=="key"&&(i[o]=n[o])}else i=n;return n=i.ref,{$$typeof:e,type:a,key:l,ref:n!==void 0?n:null,props:i}}return Lv.Fragment=t,Lv.jsx=s,Lv.jsxs=s,Lv}var H8;function _J(){return H8||(H8=1,_S.exports=SJ()),_S.exports}var r=_J(),kS={exports:{}},Br={};var q8;function kJ(){if(q8)return Br;q8=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),l=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),p=Symbol.iterator;function x(te){return te===null||typeof te!="object"?null:(te=p&&te[p]||te["@@iterator"],typeof te=="function"?te:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,b={};function j(te,D,H){this.props=te,this.context=D,this.refs=b,this.updater=H||v}j.prototype.isReactComponent={},j.prototype.setState=function(te,D){if(typeof te!="object"&&typeof te!="function"&&te!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,te,D,"setState")},j.prototype.forceUpdate=function(te){this.updater.enqueueForceUpdate(this,te,"forceUpdate")};function S(){}S.prototype=j.prototype;function w(te,D,H){this.props=te,this.context=D,this.refs=b,this.updater=H||v}var k=w.prototype=new S;k.constructor=w,y(k,j.prototype),k.isPureReactComponent=!0;var _=Array.isArray;function O(){}var E={H:null,A:null,T:null,S:null},F=Object.prototype.hasOwnProperty;function I(te,D,H){var q=H.ref;return{$$typeof:e,type:te,key:D,ref:q!==void 0?q:null,props:H}}function U(te,D){return I(te.type,D,te.props)}function M(te){return typeof te=="object"&&te!==null&&te.$$typeof===e}function L(te){var D={"=":"=0",":":"=2"};return"$"+te.replace(/[=:]/g,function(H){return D[H]})}var J=/\/+/g;function K(te,D){return typeof te=="object"&&te!==null&&te.key!=null?L(""+te.key):D.toString(36)}function ae(te){switch(te.status){case"fulfilled":return te.value;case"rejected":throw te.reason;default:switch(typeof te.status=="string"?te.then(O,O):(te.status="pending",te.then(function(D){te.status==="pending"&&(te.status="fulfilled",te.value=D)},function(D){te.status==="pending"&&(te.status="rejected",te.reason=D)})),te.status){case"fulfilled":return te.value;case"rejected":throw te.reason}}throw te}function V(te,D,H,q,W){var G=typeof te;(G==="undefined"||G==="boolean")&&(te=null);var fe=!1;if(te===null)fe=!0;else switch(G){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(te.$$typeof){case e:case t:fe=!0;break;case h:return fe=te._init,V(fe(te._payload),D,H,q,W)}}if(fe)return W=W(te),fe=q===""?"."+K(te,0):q,_(W)?(H="",fe!=null&&(H=fe.replace(J,"$&/")+"/"),V(W,D,H,"",function(ge){return ge})):W!=null&&(M(W)&&(W=U(W,H+(W.key==null||te&&te.key===W.key?"":(""+W.key).replace(J,"$&/")+"/")+fe)),D.push(W)),1;fe=0;var Se=q===""?".":q+":";if(_(te))for(var se=0;se<te.length;se++)q=te[se],G=Se+K(q,se),fe+=V(q,D,H,G,W);else if(se=x(te),typeof se=="function")for(te=se.call(te),se=0;!(q=te.next()).done;)q=q.value,G=Se+K(q,se++),fe+=V(q,D,H,G,W);else if(G==="object"){if(typeof te.then=="function")return V(ae(te),D,H,q,W);throw D=String(te),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(te).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.")}return fe}function re(te,D,H){if(te==null)return te;var q=[],W=0;return V(te,q,"","",function(G){return D.call(H,G,W++)}),q}function X(te){if(te._status===-1){var D=te._result;D=D(),D.then(function(H){(te._status===0||te._status===-1)&&(te._status=1,te._result=H)},function(H){(te._status===0||te._status===-1)&&(te._status=2,te._result=H)}),te._status===-1&&(te._status=0,te._result=D)}if(te._status===1)return te._result.default;throw te._result}var Z=typeof reportError=="function"?reportError:function(te){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var D=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof te=="object"&&te!==null&&typeof te.message=="string"?String(te.message):String(te),error:te});if(!window.dispatchEvent(D))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",te);return}console.error(te)},ye={map:re,forEach:function(te,D,H){re(te,function(){D.apply(this,arguments)},H)},count:function(te){var D=0;return re(te,function(){D++}),D},toArray:function(te){return re(te,function(D){return D})||[]},only:function(te){if(!M(te))throw Error("React.Children.only expected to receive a single React element child.");return te}};return Br.Activity=m,Br.Children=ye,Br.Component=j,Br.Fragment=s,Br.Profiler=n,Br.PureComponent=w,Br.StrictMode=a,Br.Suspense=c,Br.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,Br.__COMPILER_RUNTIME={__proto__:null,c:function(te){return E.H.useMemoCache(te)}},Br.cache=function(te){return function(){return te.apply(null,arguments)}},Br.cacheSignal=function(){return null},Br.cloneElement=function(te,D,H){if(te==null)throw Error("The argument must be a React element, but you passed "+te+".");var q=y({},te.props),W=te.key;if(D!=null)for(G in D.key!==void 0&&(W=""+D.key),D)!F.call(D,G)||G==="key"||G==="__self"||G==="__source"||G==="ref"&&D.ref===void 0||(q[G]=D[G]);var G=arguments.length-2;if(G===1)q.children=H;else if(1<G){for(var fe=Array(G),Se=0;Se<G;Se++)fe[Se]=arguments[Se+2];q.children=fe}return I(te.type,W,q)},Br.createContext=function(te){return te={$$typeof:l,_currentValue:te,_currentValue2:te,_threadCount:0,Provider:null,Consumer:null},te.Provider=te,te.Consumer={$$typeof:i,_context:te},te},Br.createElement=function(te,D,H){var q,W={},G=null;if(D!=null)for(q in D.key!==void 0&&(G=""+D.key),D)F.call(D,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&(W[q]=D[q]);var fe=arguments.length-2;if(fe===1)W.children=H;else if(1<fe){for(var Se=Array(fe),se=0;se<fe;se++)Se[se]=arguments[se+2];W.children=Se}if(te&&te.defaultProps)for(q in fe=te.defaultProps,fe)W[q]===void 0&&(W[q]=fe[q]);return I(te,G,W)},Br.createRef=function(){return{current:null}},Br.forwardRef=function(te){return{$$typeof:o,render:te}},Br.isValidElement=M,Br.lazy=function(te){return{$$typeof:h,_payload:{_status:-1,_result:te},_init:X}},Br.memo=function(te,D){return{$$typeof:d,type:te,compare:D===void 0?null:D}},Br.startTransition=function(te){var D=E.T,H={};E.T=H;try{var q=te(),W=E.S;W!==null&&W(H,q),typeof q=="object"&&q!==null&&typeof q.then=="function"&&q.then(O,Z)}catch(G){Z(G)}finally{D!==null&&H.types!==null&&(D.types=H.types),E.T=D}},Br.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},Br.use=function(te){return E.H.use(te)},Br.useActionState=function(te,D,H){return E.H.useActionState(te,D,H)},Br.useCallback=function(te,D){return E.H.useCallback(te,D)},Br.useContext=function(te){return E.H.useContext(te)},Br.useDebugValue=function(){},Br.useDeferredValue=function(te,D){return E.H.useDeferredValue(te,D)},Br.useEffect=function(te,D){return E.H.useEffect(te,D)},Br.useEffectEvent=function(te){return E.H.useEffectEvent(te)},Br.useId=function(){return E.H.useId()},Br.useImperativeHandle=function(te,D,H){return E.H.useImperativeHandle(te,D,H)},Br.useInsertionEffect=function(te,D){return E.H.useInsertionEffect(te,D)},Br.useLayoutEffect=function(te,D){return E.H.useLayoutEffect(te,D)},Br.useMemo=function(te,D){return E.H.useMemo(te,D)},Br.useOptimistic=function(te,D){return E.H.useOptimistic(te,D)},Br.useReducer=function(te,D,H){return E.H.useReducer(te,D,H)},Br.useRef=function(te){return E.H.useRef(te)},Br.useState=function(te){return E.H.useState(te)},Br.useSyncExternalStore=function(te,D,H){return E.H.useSyncExternalStore(te,D,H)},Br.useTransition=function(){return E.H.useTransition()},Br.version="19.2.3",Br}var V8;function _g(){return V8||(V8=1,kS.exports=kJ()),kS.exports}var A=_g();const ur=sf(A),AJ=wJ({__proto__:null,default:ur},[A]);var AS={exports:{}},Iv={},CS={exports:{}},TS={};var W8;function CJ(){return W8||(W8=1,(function(e){function t(V,re){var X=V.length;V.push(re);e:for(;0<X;){var Z=X-1>>>1,ye=V[Z];if(0<n(ye,re))V[Z]=re,V[X]=ye,X=Z;else break e}}function s(V){return V.length===0?null:V[0]}function a(V){if(V.length===0)return null;var re=V[0],X=V.pop();if(X!==re){V[0]=X;e:for(var Z=0,ye=V.length,te=ye>>>1;Z<te;){var D=2*(Z+1)-1,H=V[D],q=D+1,W=V[q];if(0>n(H,X))q<ye&&0>n(W,H)?(V[Z]=W,V[q]=X,Z=q):(V[Z]=H,V[D]=X,Z=D);else if(q<ye&&0>n(W,X))V[Z]=W,V[q]=X,Z=q;else break e}}return re}function n(V,re){var X=V.sortIndex-re.sortIndex;return X!==0?X:V.id-re.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],d=[],h=1,m=null,p=3,x=!1,v=!1,y=!1,b=!1,j=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function k(V){for(var re=s(d);re!==null;){if(re.callback===null)a(d);else if(re.startTime<=V)a(d),re.sortIndex=re.expirationTime,t(c,re);else break;re=s(d)}}function _(V){if(y=!1,k(V),!v)if(s(c)!==null)v=!0,O||(O=!0,L());else{var re=s(d);re!==null&&ae(_,re.startTime-V)}}var O=!1,E=-1,F=5,I=-1;function U(){return b?!0:!(e.unstable_now()-I<F)}function M(){if(b=!1,O){var V=e.unstable_now();I=V;var re=!0;try{e:{v=!1,y&&(y=!1,S(E),E=-1),x=!0;var X=p;try{t:{for(k(V),m=s(c);m!==null&&!(m.expirationTime>V&&U());){var Z=m.callback;if(typeof Z=="function"){m.callback=null,p=m.priorityLevel;var ye=Z(m.expirationTime<=V);if(V=e.unstable_now(),typeof ye=="function"){m.callback=ye,k(V),re=!0;break t}m===s(c)&&a(c),k(V)}else a(c);m=s(c)}if(m!==null)re=!0;else{var te=s(d);te!==null&&ae(_,te.startTime-V),re=!1}}break e}finally{m=null,p=X,x=!1}re=void 0}}finally{re?L():O=!1}}}var L;if(typeof w=="function")L=function(){w(M)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,K=J.port2;J.port1.onmessage=M,L=function(){K.postMessage(null)}}else L=function(){j(M,0)};function ae(V,re){E=j(function(){V(e.unstable_now())},re)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_next=function(V){switch(p){case 1:case 2:case 3:var re=3;break;default:re=p}var X=p;p=re;try{return V()}finally{p=X}},e.unstable_requestPaint=function(){b=!0},e.unstable_runWithPriority=function(V,re){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var X=p;p=V;try{return re()}finally{p=X}},e.unstable_scheduleCallback=function(V,re,X){var Z=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?Z+X:Z):X=Z,V){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=X+ye,V={id:h++,callback:re,priorityLevel:V,startTime:X,expirationTime:ye,sortIndex:-1},X>Z?(V.sortIndex=X,t(d,V),s(c)===null&&V===s(d)&&(y?(S(E),E=-1):y=!0,ae(_,X-Z))):(V.sortIndex=ye,t(c,V),v||x||(v=!0,O||(O=!0,L()))),V},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(V){var re=p;return function(){var X=p;p=re;try{return V.apply(this,arguments)}finally{p=X}}}})(TS)),TS}var G8;function TJ(){return G8||(G8=1,CS.exports=CJ()),CS.exports}var ES={exports:{}},cl={};var K8;function EJ(){if(K8)return cl;K8=1;var e=_g();function t(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var a={d:{f:s,r:function(){throw Error(t(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},n=Symbol.for("react.portal");function i(c,d,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:n,key:m==null?null:""+m,children:c,containerInfo:d,implementation:h}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return cl.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,cl.createPortal=function(c,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return i(c,d,null,h)},cl.flushSync=function(c){var d=l.T,h=a.p;try{if(l.T=null,a.p=2,c)return c()}finally{l.T=d,a.p=h,a.d.f()}},cl.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,a.d.C(c,d))},cl.prefetchDNS=function(c){typeof c=="string"&&a.d.D(c)},cl.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var h=d.as,m=o(h,d.crossOrigin),p=typeof d.integrity=="string"?d.integrity:void 0,x=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?a.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:p,fetchPriority:x}):h==="script"&&a.d.X(c,{crossOrigin:m,integrity:p,fetchPriority:x,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},cl.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=o(d.as,d.crossOrigin);a.d.M(c,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&a.d.M(c)},cl.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,m=o(h,d.crossOrigin);a.d.L(c,h,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},cl.preloadModule=function(c,d){if(typeof c=="string")if(d){var h=o(d.as,d.crossOrigin);a.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else a.d.m(c)},cl.requestFormReset=function(c){a.d.r(c)},cl.unstable_batchedUpdates=function(c,d){return c(d)},cl.useFormState=function(c,d,h){return l.H.useFormState(c,d,h)},cl.useFormStatus=function(){return l.H.useHostTransitionStatus()},cl.version="19.2.3",cl}var Y8;function AU(){if(Y8)return ES.exports;Y8=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ES.exports=EJ(),ES.exports}var X8;function PJ(){if(X8)return Iv;X8=1;var e=TJ(),t=_g(),s=AU();function a(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function i(u){var f=u,g=u;if(u.alternate)for(;f.return;)f=f.return;else{u=f;do f=u,(f.flags&4098)!==0&&(g=f.return),u=f.return;while(u)}return f.tag===3?g:null}function l(u){if(u.tag===13){var f=u.memoizedState;if(f===null&&(u=u.alternate,u!==null&&(f=u.memoizedState)),f!==null)return f.dehydrated}return null}function o(u){if(u.tag===31){var f=u.memoizedState;if(f===null&&(u=u.alternate,u!==null&&(f=u.memoizedState)),f!==null)return f.dehydrated}return null}function c(u){if(i(u)!==u)throw Error(a(188))}function d(u){var f=u.alternate;if(!f){if(f=i(u),f===null)throw Error(a(188));return f!==u?null:u}for(var g=u,N=f;;){var T=g.return;if(T===null)break;var R=T.alternate;if(R===null){if(N=T.return,N!==null){g=N;continue}break}if(T.child===R.child){for(R=T.child;R;){if(R===g)return c(T),u;if(R===N)return c(T),f;R=R.sibling}throw Error(a(188))}if(g.return!==N.return)g=T,N=R;else{for(var Q=!1,pe=T.child;pe;){if(pe===g){Q=!0,g=T,N=R;break}if(pe===N){Q=!0,N=T,g=R;break}pe=pe.sibling}if(!Q){for(pe=R.child;pe;){if(pe===g){Q=!0,g=R,N=T;break}if(pe===N){Q=!0,N=R,g=T;break}pe=pe.sibling}if(!Q)throw Error(a(189))}}if(g.alternate!==N)throw Error(a(190))}if(g.tag!==3)throw Error(a(188));return g.stateNode.current===g?u:f}function h(u){var f=u.tag;if(f===5||f===26||f===27||f===6)return u;for(u=u.child;u!==null;){if(f=h(u),f!==null)return f;u=u.sibling}return null}var m=Object.assign,p=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),S=Symbol.for("react.consumer"),w=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function L(u){return u===null||typeof u!="object"?null:(u=M&&u[M]||u["@@iterator"],typeof u=="function"?u:null)}var J=Symbol.for("react.client.reference");function K(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===J?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case y:return"Fragment";case j:return"Profiler";case b:return"StrictMode";case _:return"Suspense";case O:return"SuspenseList";case I:return"Activity"}if(typeof u=="object")switch(u.$$typeof){case v:return"Portal";case w:return u.displayName||"Context";case S:return(u._context.displayName||"Context")+".Consumer";case k:var f=u.render;return u=u.displayName,u||(u=f.displayName||f.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case E:return f=u.displayName||null,f!==null?f:K(u.type)||"Memo";case F:f=u._payload,u=u._init;try{return K(u(f))}catch{}}return null}var ae=Array.isArray,V=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},Z=[],ye=-1;function te(u){return{current:u}}function D(u){0>ye||(u.current=Z[ye],Z[ye]=null,ye--)}function H(u,f){ye++,Z[ye]=u.current,u.current=f}var q=te(null),W=te(null),G=te(null),fe=te(null);function Se(u,f){switch(H(G,f),H(W,u),H(q,null),f.nodeType){case 9:case 11:u=(u=f.documentElement)&&(u=u.namespaceURI)?u8(u):0;break;default:if(u=f.tagName,f=f.namespaceURI)f=u8(f),u=h8(f,u);else switch(u){case"svg":u=1;break;case"math":u=2;break;default:u=0}}D(q),H(q,u)}function se(){D(q),D(W),D(G)}function ge(u){u.memoizedState!==null&&H(fe,u);var f=q.current,g=h8(f,u.type);f!==g&&(H(W,u),H(q,g))}function Be(u){W.current===u&&(D(q),D(W)),fe.current===u&&(D(fe),Dv._currentValue=X)}var ee,at;function nt(u){if(ee===void 0)try{throw Error()}catch(g){var f=g.stack.trim().match(/\n( *(at )?)/);ee=f&&f[1]||"",at=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ee+u+at}var xe=!1;function ot(u,f){if(!u||xe)return"";xe=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var N={DetermineComponentFrameRoot:function(){try{if(f){var _t=function(){throw Error()};if(Object.defineProperty(_t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_t,[])}catch(dt){var lt=dt}Reflect.construct(u,[],_t)}else{try{_t.call()}catch(dt){lt=dt}u.call(_t.prototype)}}else{try{throw Error()}catch(dt){lt=dt}(_t=u())&&typeof _t.catch=="function"&&_t.catch(function(){})}}catch(dt){if(dt&&lt&&typeof dt.stack=="string")return[dt.stack,lt.stack]}return[null,null]}};N.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(N.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(N.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var R=N.DetermineComponentFrameRoot(),Q=R[0],pe=R[1];if(Q&&pe){var Fe=Q.split(`
`),it=pe.split(`
`);for(T=N=0;N<Fe.length&&!Fe[N].includes("DetermineComponentFrameRoot");)N++;for(;T<it.length&&!it[T].includes("DetermineComponentFrameRoot");)T++;if(N===Fe.length||T===it.length)for(N=Fe.length-1,T=it.length-1;1<=N&&0<=T&&Fe[N]!==it[T];)T--;for(;1<=N&&0<=T;N--,T--)if(Fe[N]!==it[T]){if(N!==1||T!==1)do if(N--,T--,0>T||Fe[N]!==it[T]){var yt=`
`+Fe[N].replace(" at new "," at ");return u.displayName&&yt.includes("<anonymous>")&&(yt=yt.replace("<anonymous>",u.displayName)),yt}while(1<=N&&0<=T);break}}}finally{xe=!1,Error.prepareStackTrace=g}return(g=u?u.displayName||u.name:"")?nt(g):""}function ut(u,f){switch(u.tag){case 26:case 27:case 5:return nt(u.type);case 16:return nt("Lazy");case 13:return u.child!==f&&f!==null?nt("Suspense Fallback"):nt("Suspense");case 19:return nt("SuspenseList");case 0:case 15:return ot(u.type,!1);case 11:return ot(u.type.render,!1);case 1:return ot(u.type,!0);case 31:return nt("Activity");default:return""}}function Re(u){try{var f="",g=null;do f+=ut(u,g),g=u,u=u.return;while(u);return f}catch(N){return`
Error generating stack: `+N.message+`
`+N.stack}}var Ge=Object.prototype.hasOwnProperty,qt=e.unstable_scheduleCallback,we=e.unstable_cancelCallback,_e=e.unstable_shouldYield,ne=e.unstable_requestPaint,Oe=e.unstable_now,Me=e.unstable_getCurrentPriorityLevel,De=e.unstable_ImmediatePriority,He=e.unstable_UserBlockingPriority,mt=e.unstable_NormalPriority,xt=e.unstable_LowPriority,At=e.unstable_IdlePriority,Ot=e.log,br=e.unstable_setDisableYieldValue,Jt=null,Vt=null;function pr(u){if(typeof Ot=="function"&&br(u),Vt&&typeof Vt.setStrictMode=="function")try{Vt.setStrictMode(Jt,u)}catch{}}var Hr=Math.clz32?Math.clz32:fr,cr=Math.log,Ns=Math.LN2;function fr(u){return u>>>=0,u===0?32:31-(cr(u)/Ns|0)|0}var Sr=256,Fs=262144,Rr=4194304;function ar(u){var f=u&42;if(f!==0)return f;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return u&261888;case 262144:case 524288:case 1048576:case 2097152:return u&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function is(u,f,g){var N=u.pendingLanes;if(N===0)return 0;var T=0,R=u.suspendedLanes,Q=u.pingedLanes;u=u.warmLanes;var pe=N&134217727;return pe!==0?(N=pe&~R,N!==0?T=ar(N):(Q&=pe,Q!==0?T=ar(Q):g||(g=pe&~u,g!==0&&(T=ar(g))))):(pe=N&~R,pe!==0?T=ar(pe):Q!==0?T=ar(Q):g||(g=N&~u,g!==0&&(T=ar(g)))),T===0?0:f!==0&&f!==T&&(f&R)===0&&(R=T&-T,g=f&-f,R>=g||R===32&&(g&4194048)!==0)?f:T}function El(u,f){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&f)===0}function Un(u,f){switch(u){case 1:case 2:case 4:case 8:case 64:return f+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zl(){var u=Rr;return Rr<<=1,(Rr&62914560)===0&&(Rr=4194304),u}function nl(u){for(var f=[],g=0;31>g;g++)f.push(u);return f}function hr(u,f){u.pendingLanes|=f,f!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function Po(u,f,g,N,T,R){var Q=u.pendingLanes;u.pendingLanes=g,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=g,u.entangledLanes&=g,u.errorRecoveryDisabledLanes&=g,u.shellSuspendCounter=0;var pe=u.entanglements,Fe=u.expirationTimes,it=u.hiddenUpdates;for(g=Q&~g;0<g;){var yt=31-Hr(g),_t=1<<yt;pe[yt]=0,Fe[yt]=-1;var lt=it[yt];if(lt!==null)for(it[yt]=null,yt=0;yt<lt.length;yt++){var dt=lt[yt];dt!==null&&(dt.lane&=-536870913)}g&=~_t}N!==0&&Jl(u,N,0),R!==0&&T===0&&u.tag!==0&&(u.suspendedLanes|=R&~(Q&~f))}function Jl(u,f,g){u.pendingLanes|=f,u.suspendedLanes&=~f;var N=31-Hr(f);u.entangledLanes|=f,u.entanglements[N]=u.entanglements[N]|1073741824|g&261930}function ai(u,f){var g=u.entangledLanes|=f;for(u=u.entanglements;g;){var N=31-Hr(g),T=1<<N;T&f|u[N]&f&&(u[N]|=f),g&=~T}}function $i(u,f){var g=f&-f;return g=(g&42)!==0?1:aa(g),(g&(u.suspendedLanes|f))!==0?0:g}function aa(u){switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=128;break;case 268435456:u=134217728;break;default:u=0}return u}function Ba(u){return u&=-u,2<u?8<u?(u&134217727)!==0?32:268435456:8:2}function ce(){var u=re.p;return u!==0?u:(u=window.event,u===void 0?32:M8(u.type))}function Te(u,f){var g=re.p;try{return re.p=u,f()}finally{re.p=g}}var be=Math.random().toString(36).slice(2),je="__reactFiber$"+be,ke="__reactProps$"+be,Pe="__reactContainer$"+be,Ke="__reactEvents$"+be,ht="__reactListeners$"+be,Ze="__reactHandles$"+be,Je="__reactResources$"+be,rt="__reactMarker$"+be;function Dt(u){delete u[je],delete u[ke],delete u[Ke],delete u[ht],delete u[Ze]}function Ft(u){var f=u[je];if(f)return f;for(var g=u.parentNode;g;){if(f=g[Pe]||g[je]){if(g=f.alternate,f.child!==null||g!==null&&g.child!==null)for(u=y8(u);u!==null;){if(g=u[je])return g;u=y8(u)}return f}u=g,g=u.parentNode}return null}function Ht(u){if(u=u[je]||u[Pe]){var f=u.tag;if(f===5||f===6||f===13||f===31||f===26||f===27||f===3)return u}return null}function Mt(u){var f=u.tag;if(f===5||f===26||f===27||f===6)return u.stateNode;throw Error(a(33))}function It(u){var f=u[Je];return f||(f=u[Je]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function Yt(u){u[rt]=!0}var Ls=new Set,ts={};function $s(u,f){Hi(u,f),Hi(u+"Capture",f)}function Hi(u,f){for(ts[u]=f,u=0;u<f.length;u++)Ls.add(f[u])}var Oo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Do={},Pl={};function tu(u){return Ge.call(Pl,u)?!0:Ge.call(Do,u)?!1:Oo.test(u)?Pl[u]=!0:(Do[u]=!0,!1)}function Aa(u,f,g){if(tu(f))if(g===null)u.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":u.removeAttribute(f);return;case"boolean":var N=f.toLowerCase().slice(0,5);if(N!=="data-"&&N!=="aria-"){u.removeAttribute(f);return}}u.setAttribute(f,""+g)}}function ld(u,f,g){if(g===null)u.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(f);return}u.setAttribute(f,""+g)}}function Ro(u,f,g,N){if(N===null)u.removeAttribute(g);else{switch(typeof N){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(g);return}u.setAttributeNS(f,g,""+N)}}function ws(u){switch(typeof u){case"bigint":case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function zm(u){var f=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function fc(u,f,g){var N=Object.getOwnPropertyDescriptor(u.constructor.prototype,f);if(!u.hasOwnProperty(f)&&typeof N<"u"&&typeof N.get=="function"&&typeof N.set=="function"){var T=N.get,R=N.set;return Object.defineProperty(u,f,{configurable:!0,get:function(){return T.call(this)},set:function(Q){g=""+Q,R.call(this,Q)}}),Object.defineProperty(u,f,{enumerable:N.enumerable}),{getValue:function(){return g},setValue:function(Q){g=""+Q},stopTracking:function(){u._valueTracker=null,delete u[f]}}}}function ru(u){if(!u._valueTracker){var f=zm(u)?"checked":"value";u._valueTracker=fc(u,f,""+u[f])}}function $m(u){if(!u)return!1;var f=u._valueTracker;if(!f)return!0;var g=f.getValue(),N="";return u&&(N=zm(u)?u.checked?"true":"false":u.value),u=N,u!==g?(f.setValue(u),!0):!1}function qi(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}var kn=/[\n"\\]/g;function ln(u){return u.replace(kn,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function pf(u,f,g,N,T,R,Q,pe){u.name="",Q!=null&&typeof Q!="function"&&typeof Q!="symbol"&&typeof Q!="boolean"?u.type=Q:u.removeAttribute("type"),f!=null?Q==="number"?(f===0&&u.value===""||u.value!=f)&&(u.value=""+ws(f)):u.value!==""+ws(f)&&(u.value=""+ws(f)):Q!=="submit"&&Q!=="reset"||u.removeAttribute("value"),f!=null?Hm(u,Q,ws(f)):g!=null?Hm(u,Q,ws(g)):N!=null&&u.removeAttribute("value"),T==null&&R!=null&&(u.defaultChecked=!!R),T!=null&&(u.checked=T&&typeof T!="function"&&typeof T!="symbol"),pe!=null&&typeof pe!="function"&&typeof pe!="symbol"&&typeof pe!="boolean"?u.name=""+ws(pe):u.removeAttribute("name")}function Ex(u,f,g,N,T,R,Q,pe){if(R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(u.type=R),f!=null||g!=null){if(!(R!=="submit"&&R!=="reset"||f!=null)){ru(u);return}g=g!=null?""+ws(g):"",f=f!=null?""+ws(f):g,pe||f===u.value||(u.value=f),u.defaultValue=f}N=N??T,N=typeof N!="function"&&typeof N!="symbol"&&!!N,u.checked=pe?u.checked:!!N,u.defaultChecked=!!N,Q!=null&&typeof Q!="function"&&typeof Q!="symbol"&&typeof Q!="boolean"&&(u.name=Q),ru(u)}function Hm(u,f,g){f==="number"&&qi(u.ownerDocument)===u||u.defaultValue===""+g||(u.defaultValue=""+g)}function Vi(u,f,g,N){if(u=u.options,f){f={};for(var T=0;T<g.length;T++)f["$"+g[T]]=!0;for(g=0;g<u.length;g++)T=f.hasOwnProperty("$"+u[g].value),u[g].selected!==T&&(u[g].selected=T),T&&N&&(u[g].defaultSelected=!0)}else{for(g=""+ws(g),f=null,T=0;T<u.length;T++){if(u[T].value===g){u[T].selected=!0,N&&(u[T].defaultSelected=!0);return}f!==null||u[T].disabled||(f=u[T])}f!==null&&(f.selected=!0)}}function qm(u,f,g){if(f!=null&&(f=""+ws(f),f!==u.value&&(u.value=f),g==null)){u.defaultValue!==f&&(u.defaultValue=f);return}u.defaultValue=g!=null?""+ws(g):""}function Vm(u,f,g,N){if(f==null){if(N!=null){if(g!=null)throw Error(a(92));if(ae(N)){if(1<N.length)throw Error(a(93));N=N[0]}g=N}g==null&&(g=""),f=g}g=ws(f),u.defaultValue=g,N=u.textContent,N===g&&N!==""&&N!==null&&(u.value=N),ru(u)}function Mo(u,f){if(f){var g=u.firstChild;if(g&&g===u.lastChild&&g.nodeType===3){g.nodeValue=f;return}}u.textContent=f}var Zu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Px(u,f,g){var N=f.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?N?u.setProperty(f,""):f==="float"?u.cssFloat="":u[f]="":N?u.setProperty(f,g):typeof g!="number"||g===0||Zu.has(f)?f==="float"?u.cssFloat=g:u[f]=(""+g).trim():u[f]=g+"px"}function Ox(u,f,g){if(f!=null&&typeof f!="object")throw Error(a(62));if(u=u.style,g!=null){for(var N in g)!g.hasOwnProperty(N)||f!=null&&f.hasOwnProperty(N)||(N.indexOf("--")===0?u.setProperty(N,""):N==="float"?u.cssFloat="":u[N]="");for(var T in f)N=f[T],f.hasOwnProperty(T)&&g[T]!==N&&Px(u,T,N)}else for(var R in f)f.hasOwnProperty(R)&&Px(u,R,f[R])}function Wm(u){if(u.indexOf("-")===-1)return!1;switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function il(u){return Dx.test(""+u)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":u}function Fo(){}var od=null;function Ju(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var su=null,jr=null;function Rx(u){var f=Ht(u);if(f&&(u=f.stateNode)){var g=u[ke]||null;e:switch(u=f.stateNode,f.type){case"input":if(pf(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),f=g.name,g.type==="radio"&&f!=null){for(g=u;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+ln(""+f)+'"][type="radio"]'),f=0;f<g.length;f++){var N=g[f];if(N!==u&&N.form===u.form){var T=N[ke]||null;if(!T)throw Error(a(90));pf(N,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(f=0;f<g.length;f++)N=g[f],N.form===u.form&&$m(N)}break e;case"textarea":qm(u,g.value,g.defaultValue);break e;case"select":f=g.value,f!=null&&Vi(u,!!g.multiple,f,!1)}}}var Km=!1;function Mx(u,f,g){if(Km)return u(f,g);Km=!0;try{var N=u(f);return N}finally{if(Km=!1,(su!==null||jr!==null)&&(O1(),su&&(f=su,u=jr,jr=su=null,Rx(f),u)))for(f=0;f<u.length;f++)Rx(u[f])}}function Ol(u,f){var g=u.stateNode;if(g===null)return null;var N=g[ke]||null;if(N===null)return null;g=N[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(N=!N.disabled)||(u=u.type,N=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!N;break e;default:u=!1}if(u)return null;if(g&&typeof g!="function")throw Error(a(231,f,typeof g));return g}var ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ym=!1;if(ni)try{var Qu={};Object.defineProperty(Qu,"passive",{get:function(){Ym=!0}}),window.addEventListener("test",Qu,Qu),window.removeEventListener("test",Qu,Qu)}catch{Ym=!1}var Dl=null,eh=null,mc=null;function Fx(){if(mc)return mc;var u,f=eh,g=f.length,N,T="value"in Dl?Dl.value:Dl.textContent,R=T.length;for(u=0;u<g&&f[u]===T[u];u++);var Q=g-u;for(N=1;N<=Q&&f[g-N]===T[R-N];N++);return mc=T.slice(u,1<N?1-N:void 0)}function Ql(u){var f=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&f===13&&(u=13)):u=f,u===10&&(u=13),32<=u||u===13?u:0}function gf(){return!0}function vf(){return!1}function zn(u){function f(g,N,T,R,Q){this._reactName=g,this._targetInst=T,this.type=N,this.nativeEvent=R,this.target=Q,this.currentTarget=null;for(var pe in u)u.hasOwnProperty(pe)&&(g=u[pe],this[pe]=g?g(R):R[pe]);return this.isDefaultPrevented=(R.defaultPrevented!=null?R.defaultPrevented:R.returnValue===!1)?gf:vf,this.isPropagationStopped=vf,this}return m(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=gf)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=gf)},persist:function(){},isPersistent:gf}),f}var xc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},eo=zn(xc),cd=m({},xc,{view:0,detail:0}),yf=zn(cd),th,dd,ud,rh=m({},cd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kr,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==ud&&(ud&&u.type==="mousemove"?(th=u.screenX-ud.screenX,dd=u.screenY-ud.screenY):dd=th=0,ud=u),th)},movementY:function(u){return"movementY"in u?u.movementY:dd}}),Xm=zn(rh),hd=m({},rh,{dataTransfer:0}),fd=zn(hd),Lx=m({},cd,{relatedTarget:0}),md=zn(Lx),Ix=m({},xc,{animationName:0,elapsedTime:0,pseudoElement:0}),B=zn(Ix),ie=m({},xc,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),Ee=zn(ie),Le=m({},xc,{data:0}),qe=zn(Le),jt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Et={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lr(u){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(u):(u=Qt[u])?!!f[u]:!1}function kr(){return lr}var Lr=m({},cd,{key:function(u){if(u.key){var f=jt[u.key]||u.key;if(f!=="Unidentified")return f}return u.type==="keypress"?(u=Ql(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?Et[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kr,charCode:function(u){return u.type==="keypress"?Ql(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?Ql(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),ms=zn(Lr),Ca=m({},rh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Za=zn(Ca),na=m({},cd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kr}),An=zn(na),on=m({},xc,{propertyName:0,elapsedTime:0,pseudoElement:0}),ii=zn(on),xd=m({},rh,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),Lo=zn(xd),pd=m({},xc,{newState:0,oldState:0}),Zm=zn(pd),bf=[9,13,27,32],pc=ni&&"CompositionEvent"in window,Io=null;ni&&"documentMode"in document&&(Io=document.documentMode);var sh=ni&&"TextEvent"in window&&!Io,gd=ni&&(!pc||Io&&8<Io&&11>=Io),$n=" ",au=!1;function nu(u,f){switch(u){case"keyup":return bf.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jf(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var gc=!1;function Wi(u,f){switch(u){case"compositionend":return jf(f);case"keypress":return f.which!==32?null:(au=!0,$n);case"textInput":return u=f.data,u===$n&&au?null:u;default:return null}}function vd(u,f){if(gc)return u==="compositionend"||!pc&&nu(u,f)?(u=Fx(),mc=eh=Dl=null,gc=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return gd&&f.locale!=="ko"?null:f.data;default:return null}}var Nf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jm(u){var f=u&&u.nodeName&&u.nodeName.toLowerCase();return f==="input"?!!Nf[u.type]:f==="textarea"}function Rl(u,f,g,N){su?jr?jr.push(N):jr=[N]:su=N,f=B1(f,"onChange"),0<f.length&&(g=new eo("onChange","change",null,g,N),u.push({event:g,listeners:f}))}var Bo=null,yd=null;function Qm(u){n8(u,0)}function Uo(u){var f=Mt(u);if($m(f))return u}function iu(u,f){if(u==="change")return f}var ll=!1;if(ni){var Gi;if(ni){var vc="oninput"in document;if(!vc){var yc=document.createElement("div");yc.setAttribute("oninput","return;"),vc=typeof yc.oninput=="function"}Gi=vc}else Gi=!1;ll=Gi&&(!document.documentMode||9<document.documentMode)}function bd(){Bo&&(Bo.detachEvent("onpropertychange",wf),yd=Bo=null)}function wf(u){if(u.propertyName==="value"&&Uo(yd)){var f=[];Rl(f,yd,u,Ju(u)),Mx(Qm,f)}}function Sf(u,f,g){u==="focusin"?(bd(),Bo=f,yd=g,Bo.attachEvent("onpropertychange",wf)):u==="focusout"&&bd()}function Ja(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return Uo(yd)}function Bx(u,f){if(u==="click")return Uo(f)}function bc(u,f){if(u==="input"||u==="change")return Uo(f)}function jc(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var li=typeof Object.is=="function"?Object.is:jc;function jd(u,f){if(li(u,f))return!0;if(typeof u!="object"||u===null||typeof f!="object"||f===null)return!1;var g=Object.keys(u),N=Object.keys(f);if(g.length!==N.length)return!1;for(N=0;N<g.length;N++){var T=g[N];if(!Ge.call(f,T)||!li(u[T],f[T]))return!1}return!0}function _f(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function kf(u,f){var g=_f(u);u=0;for(var N;g;){if(g.nodeType===3){if(N=u+g.textContent.length,u<=f&&N>=f)return{node:g,offset:f-u};u=N}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=_f(g)}}function Nd(u,f){return u&&f?u===f?!0:u&&u.nodeType===3?!1:f&&f.nodeType===3?Nd(u,f.parentNode):"contains"in u?u.contains(f):u.compareDocumentPosition?!!(u.compareDocumentPosition(f)&16):!1:!1}function wd(u){u=u!=null&&u.ownerDocument!=null&&u.ownerDocument.defaultView!=null?u.ownerDocument.defaultView:window;for(var f=qi(u.document);f instanceof u.HTMLIFrameElement;){try{var g=typeof f.contentWindow.location.href=="string"}catch{g=!1}if(g)u=f.contentWindow;else break;f=qi(u.document)}return f}function Nc(u){var f=u&&u.nodeName&&u.nodeName.toLowerCase();return f&&(f==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||f==="textarea"||u.contentEditable==="true")}var ah=ni&&"documentMode"in document&&11>=document.documentMode,Ml=null,Sd=null,wi=null,to=!1;function Ss(u,f,g){var N=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;to||Ml==null||Ml!==qi(N)||(N=Ml,"selectionStart"in N&&Nc(N)?N={start:N.selectionStart,end:N.selectionEnd}:(N=(N.ownerDocument&&N.ownerDocument.defaultView||window).getSelection(),N={anchorNode:N.anchorNode,anchorOffset:N.anchorOffset,focusNode:N.focusNode,focusOffset:N.focusOffset}),wi&&jd(wi,N)||(wi=N,N=B1(Sd,"onSelect"),0<N.length&&(f=new eo("onSelect","select",null,f,g),u.push({event:f,listeners:N}),f.target=Ml)))}function xs(u,f){var g={};return g[u.toLowerCase()]=f.toLowerCase(),g["Webkit"+u]="webkit"+f,g["Moz"+u]="moz"+f,g}var ia={animationend:xs("Animation","AnimationEnd"),animationiteration:xs("Animation","AnimationIteration"),animationstart:xs("Animation","AnimationStart"),transitionrun:xs("Transition","TransitionRun"),transitionstart:xs("Transition","TransitionStart"),transitioncancel:xs("Transition","TransitionCancel"),transitionend:xs("Transition","TransitionEnd")},Qa={},wc={};ni&&(wc=document.createElement("div").style,"AnimationEvent"in window||(delete ia.animationend.animation,delete ia.animationiteration.animation,delete ia.animationstart.animation),"TransitionEvent"in window||delete ia.transitionend.transition);function zo(u){if(Qa[u])return Qa[u];if(!ia[u])return u;var f=ia[u],g;for(g in f)if(f.hasOwnProperty(g)&&g in wc)return Qa[u]=f[g];return u}var nh=zo("animationend"),e0=zo("animationiteration"),rv=zo("animationstart"),o1=zo("transitionrun"),c1=zo("transitionstart"),d1=zo("transitioncancel"),sv=zo("transitionend"),av=new Map,ih="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ih.push("scrollEnd");function ro(u,f){av.set(u,f),$s(f,[u])}var t0=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)},Fl=[],lh=0,Ux=0;function r0(){for(var u=lh,f=Ux=lh=0;f<u;){var g=Fl[f];Fl[f++]=null;var N=Fl[f];Fl[f++]=null;var T=Fl[f];Fl[f++]=null;var R=Fl[f];if(Fl[f++]=null,N!==null&&T!==null){var Q=N.pending;Q===null?T.next=T:(T.next=Q.next,Q.next=T),N.pending=T}R!==0&&a0(g,T,R)}}function s0(u,f,g,N){Fl[lh++]=u,Fl[lh++]=f,Fl[lh++]=g,Fl[lh++]=N,Ux|=N,u.lanes|=N,u=u.alternate,u!==null&&(u.lanes|=N)}function zx(u,f,g,N){return s0(u,f,g,N),Si(u)}function _d(u,f){return s0(u,null,null,f),Si(u)}function a0(u,f,g){u.lanes|=g;var N=u.alternate;N!==null&&(N.lanes|=g);for(var T=!1,R=u.return;R!==null;)R.childLanes|=g,N=R.alternate,N!==null&&(N.childLanes|=g),R.tag===22&&(u=R.stateNode,u===null||u._visibility&1||(T=!0)),u=R,R=R.return;return u.tag===3?(R=u.stateNode,T&&f!==null&&(T=31-Hr(g),u=R.hiddenUpdates,N=u[T],N===null?u[T]=[f]:N.push(f),f.lane=g|536870912),R):null}function Si(u){if(50<kv)throw kv=0,Y4=null,Error(a(185));for(var f=u.return;f!==null;)u=f,f=u.return;return u.tag===3?u.stateNode:null}var oi={};function $x(u,f,g,N){this.tag=u,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=N,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _i(u,f,g,N){return new $x(u,f,g,N)}function Hx(u){return u=u.prototype,!(!u||!u.isReactComponent)}function so(u,f){var g=u.alternate;return g===null?(g=_i(u.tag,f,u.key,u.mode),g.elementType=u.elementType,g.type=u.type,g.stateNode=u.stateNode,g.alternate=u,u.alternate=g):(g.pendingProps=f,g.type=u.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=u.flags&65011712,g.childLanes=u.childLanes,g.lanes=u.lanes,g.child=u.child,g.memoizedProps=u.memoizedProps,g.memoizedState=u.memoizedState,g.updateQueue=u.updateQueue,f=u.dependencies,g.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},g.sibling=u.sibling,g.index=u.index,g.ref=u.ref,g.refCleanup=u.refCleanup,g}function n0(u,f){u.flags&=65011714;var g=u.alternate;return g===null?(u.childLanes=0,u.lanes=f,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=g.childLanes,u.lanes=g.lanes,u.child=g.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=g.memoizedProps,u.memoizedState=g.memoizedState,u.updateQueue=g.updateQueue,u.type=g.type,f=g.dependencies,u.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),u}function Af(u,f,g,N,T,R){var Q=0;if(N=u,typeof u=="function")Hx(u)&&(Q=1);else if(typeof u=="string")Q=uJ(u,g,q.current)?26:u==="html"||u==="head"||u==="body"?27:5;else e:switch(u){case I:return u=_i(31,g,f,T),u.elementType=I,u.lanes=R,u;case y:return lu(g.children,T,R,f);case b:Q=8,T|=24;break;case j:return u=_i(12,g,f,T|2),u.elementType=j,u.lanes=R,u;case _:return u=_i(13,g,f,T),u.elementType=_,u.lanes=R,u;case O:return u=_i(19,g,f,T),u.elementType=O,u.lanes=R,u;default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case w:Q=10;break e;case S:Q=9;break e;case k:Q=11;break e;case E:Q=14;break e;case F:Q=16,N=null;break e}Q=29,g=Error(a(130,u===null?"null":typeof u,"")),N=null}return f=_i(Q,g,f,T),f.elementType=u,f.type=N,f.lanes=R,f}function lu(u,f,g,N){return u=_i(7,u,N,f),u.lanes=g,u}function i0(u,f,g){return u=_i(6,u,null,f),u.lanes=g,u}function qx(u){var f=_i(18,null,null,0);return f.stateNode=u,f}function Cf(u,f,g){return f=_i(4,u.children!==null?u.children:[],u.key,f),f.lanes=g,f.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},f}var Vx=new WeakMap;function ao(u,f){if(typeof u=="object"&&u!==null){var g=Vx.get(u);return g!==void 0?g:(f={value:u,source:f,stack:Re(f)},Vx.set(u,f),f)}return{value:u,source:f,stack:Re(f)}}var Tf=[],oh=0,Wx=null,l0=0,no=[],io=0,ou=null,lo=1,oo="";function Ll(u,f){Tf[oh++]=l0,Tf[oh++]=Wx,Wx=u,l0=f}function u1(u,f,g){no[io++]=lo,no[io++]=oo,no[io++]=ou,ou=u;var N=lo;u=oo;var T=32-Hr(N)-1;N&=~(1<<T),g+=1;var R=32-Hr(f)+T;if(30<R){var Q=T-T%5;R=(N&(1<<Q)-1).toString(32),N>>=Q,T-=Q,lo=1<<32-Hr(f)+T|g<<T|N,oo=R+u}else lo=1<<R|g<<T|N,oo=u}function nv(u){u.return!==null&&(Ll(u,1),u1(u,1,0))}function Gx(u){for(;u===Wx;)Wx=Tf[--oh],Tf[oh]=null,l0=Tf[--oh],Tf[oh]=null;for(;u===ou;)ou=no[--io],no[io]=null,oo=no[--io],no[io]=null,lo=no[--io],no[io]=null}function h1(u,f){no[io++]=lo,no[io++]=oo,no[io++]=ou,lo=f.id,oo=f.overflow,ou=u}var ci=null,ma=null,ls=!1,Ki=null,Ua=!1,$o=Error(a(519));function cu(u){var f=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ef(ao(f,u)),$o}function iv(u){var f=u.stateNode,g=u.type,N=u.memoizedProps;switch(f[je]=u,f[ke]=N,g){case"dialog":cs("cancel",f),cs("close",f);break;case"iframe":case"object":case"embed":cs("load",f);break;case"video":case"audio":for(g=0;g<Cv.length;g++)cs(Cv[g],f);break;case"source":cs("error",f);break;case"img":case"image":case"link":cs("error",f),cs("load",f);break;case"details":cs("toggle",f);break;case"input":cs("invalid",f),Ex(f,N.value,N.defaultValue,N.checked,N.defaultChecked,N.type,N.name,!0);break;case"select":cs("invalid",f);break;case"textarea":cs("invalid",f),Vm(f,N.value,N.defaultValue,N.children)}g=N.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||f.textContent===""+g||N.suppressHydrationWarning===!0||c8(f.textContent,g)?(N.popover!=null&&(cs("beforetoggle",f),cs("toggle",f)),N.onScroll!=null&&cs("scroll",f),N.onScrollEnd!=null&&cs("scrollend",f),N.onClick!=null&&(f.onclick=Fo),f=!0):f=!1,f||cu(u,!0)}function kd(u){for(ci=u.return;ci;)switch(ci.tag){case 5:case 31:case 13:Ua=!1;return;case 27:case 3:Ua=!0;return;default:ci=ci.return}}function di(u){if(u!==ci)return!1;if(!ls)return kd(u),ls=!0,!1;var f=u.tag,g;if((g=f!==3&&f!==27)&&((g=f===5)&&(g=u.type,g=!(g!=="form"&&g!=="button")||dS(u.type,u.memoizedProps)),g=!g),g&&ma&&cu(u),kd(u),f===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(a(317));ma=v8(u)}else if(f===31){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(a(317));ma=v8(u)}else f===27?(f=ma,qf(u.type)?(u=xS,xS=null,ma=u):ma=f):ma=ci?Ac(u.stateNode.nextSibling):null;return!0}function ch(){ma=ci=null,ls=!1}function lv(){var u=Ki;return u!==null&&(xo===null?xo=u:xo.push.apply(xo,u),Ki=null),u}function Ef(u){Ki===null?Ki=[u]:Ki.push(u)}var Kx=te(null),du=null,Sc=null;function uu(u,f,g){H(Kx,f._currentValue),f._currentValue=g}function co(u){u._currentValue=Kx.current,D(Kx)}function Pf(u,f,g){for(;u!==null;){var N=u.alternate;if((u.childLanes&f)!==f?(u.childLanes|=f,N!==null&&(N.childLanes|=f)):N!==null&&(N.childLanes&f)!==f&&(N.childLanes|=f),u===g)break;u=u.return}}function dh(u,f,g,N){var T=u.child;for(T!==null&&(T.return=u);T!==null;){var R=T.dependencies;if(R!==null){var Q=T.child;R=R.firstContext;e:for(;R!==null;){var pe=R;R=T;for(var Fe=0;Fe<f.length;Fe++)if(pe.context===f[Fe]){R.lanes|=g,pe=R.alternate,pe!==null&&(pe.lanes|=g),Pf(R.return,g,u),N||(Q=null);break e}R=pe.next}}else if(T.tag===18){if(Q=T.return,Q===null)throw Error(a(341));Q.lanes|=g,R=Q.alternate,R!==null&&(R.lanes|=g),Pf(Q,g,u),Q=null}else Q=T.child;if(Q!==null)Q.return=T;else for(Q=T;Q!==null;){if(Q===u){Q=null;break}if(T=Q.sibling,T!==null){T.return=Q.return,Q=T;break}Q=Q.return}T=Q}}function hu(u,f,g,N){u=null;for(var T=f,R=!1;T!==null;){if(!R){if((T.flags&524288)!==0)R=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var Q=T.alternate;if(Q===null)throw Error(a(387));if(Q=Q.memoizedProps,Q!==null){var pe=T.type;li(T.pendingProps.value,Q.value)||(u!==null?u.push(pe):u=[pe])}}else if(T===fe.current){if(Q=T.alternate,Q===null)throw Error(a(387));Q.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(u!==null?u.push(Dv):u=[Dv])}T=T.return}u!==null&&dh(f,u,g,N),f.flags|=262144}function Yx(u){for(u=u.firstContext;u!==null;){if(!li(u.context._currentValue,u.memoizedValue))return!0;u=u.next}return!1}function fu(u){du=u,Sc=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function ui(u){return f1(du,u)}function Xx(u,f){return du===null&&fu(u),f1(u,f)}function f1(u,f){var g=f._currentValue;if(f={context:f,memoizedValue:g,next:null},Sc===null){if(u===null)throw Error(a(308));Sc=f,u.dependencies={lanes:0,firstContext:f},u.flags|=524288}else Sc=Sc.next=f;return g}var m4=typeof AbortController<"u"?AbortController:function(){var u=[],f=this.signal={aborted:!1,addEventListener:function(g,N){u.push(N)}};this.abort=function(){f.aborted=!0,u.forEach(function(g){return g()})}},x4=e.unstable_scheduleCallback,p4=e.unstable_NormalPriority,en={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Of(){return{controller:new m4,data:new Map,refCount:0}}function o0(u){u.refCount--,u.refCount===0&&x4(p4,function(){u.controller.abort()})}var c0=null,Zx=0,C=0,P=null;function z(u,f){if(c0===null){var g=c0=[];Zx=0,C=tS(),P={status:"pending",value:void 0,then:function(N){g.push(N)}}}return Zx++,f.then(Y,Y),f}function Y(){if(--Zx===0&&c0!==null){P!==null&&(P.status="fulfilled");var u=c0;c0=null,C=0,P=null;for(var f=0;f<u.length;f++)(0,u[f])()}}function le(u,f){var g=[],N={status:"pending",value:null,reason:null,then:function(T){g.push(T)}};return u.then(function(){N.status="fulfilled",N.value=f;for(var T=0;T<g.length;T++)(0,g[T])(f)},function(T){for(N.status="rejected",N.reason=T,T=0;T<g.length;T++)(0,g[T])(void 0)}),N}var ue=V.S;V.S=function(u,f){DO=Oe(),typeof f=="object"&&f!==null&&typeof f.then=="function"&&z(u,f),ue!==null&&ue(u,f)};var me=te(null);function ve(){var u=me.current;return u!==null?u:pa.pooledCache}function Ne(u,f){f===null?H(me,me.current):H(me,f.pool)}function Ce(){var u=ve();return u===null?null:{parent:en._currentValue,pool:u}}var Ie=Error(a(460)),Qe=Error(a(474)),Ae=Error(a(542)),$e={then:function(){}};function We(u){return u=u.status,u==="fulfilled"||u==="rejected"}function gt(u,f,g){switch(g=u[g],g===void 0?u.push(f):g!==f&&(f.then(Fo,Fo),f=g),f.status){case"fulfilled":return f.value;case"rejected":throw u=f.reason,Rt(u),u;default:if(typeof f.status=="string")f.then(Fo,Fo);else{if(u=pa,u!==null&&100<u.shellSuspendCounter)throw Error(a(482));u=f,u.status="pending",u.then(function(N){if(f.status==="pending"){var T=f;T.status="fulfilled",T.value=N}},function(N){if(f.status==="pending"){var T=f;T.status="rejected",T.reason=N}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw u=f.reason,Rt(u),u}throw pt=f,Ie}}function Ye(u){try{var f=u._init;return f(u._payload)}catch(g){throw g!==null&&typeof g=="object"&&typeof g.then=="function"?(pt=g,Ie):g}}var pt=null;function Nt(){if(pt===null)throw Error(a(459));var u=pt;return pt=null,u}function Rt(u){if(u===Ie||u===Ae)throw Error(a(483))}var kt=null,sr=0;function Gt(u){var f=sr;return sr+=1,kt===null&&(kt=[]),gt(kt,u,f)}function Pr(u,f){f=f.props.ref,u.ref=f!==void 0?f:null}function Xt(u,f){throw f.$$typeof===p?Error(a(525)):(u=Object.prototype.toString.call(f),Error(a(31,u==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":u)))}function as(u){function f(Ve,Ue){if(u){var st=Ve.deletions;st===null?(Ve.deletions=[Ue],Ve.flags|=16):st.push(Ue)}}function g(Ve,Ue){if(!u)return null;for(;Ue!==null;)f(Ve,Ue),Ue=Ue.sibling;return null}function N(Ve){for(var Ue=new Map;Ve!==null;)Ve.key!==null?Ue.set(Ve.key,Ve):Ue.set(Ve.index,Ve),Ve=Ve.sibling;return Ue}function T(Ve,Ue){return Ve=so(Ve,Ue),Ve.index=0,Ve.sibling=null,Ve}function R(Ve,Ue,st){return Ve.index=st,u?(st=Ve.alternate,st!==null?(st=st.index,st<Ue?(Ve.flags|=67108866,Ue):st):(Ve.flags|=67108866,Ue)):(Ve.flags|=1048576,Ue)}function Q(Ve){return u&&Ve.alternate===null&&(Ve.flags|=67108866),Ve}function pe(Ve,Ue,st,wt){return Ue===null||Ue.tag!==6?(Ue=i0(st,Ve.mode,wt),Ue.return=Ve,Ue):(Ue=T(Ue,st),Ue.return=Ve,Ue)}function Fe(Ve,Ue,st,wt){var vr=st.type;return vr===y?yt(Ve,Ue,st.props.children,wt,st.key):Ue!==null&&(Ue.elementType===vr||typeof vr=="object"&&vr!==null&&vr.$$typeof===F&&Ye(vr)===Ue.type)?(Ue=T(Ue,st.props),Pr(Ue,st),Ue.return=Ve,Ue):(Ue=Af(st.type,st.key,st.props,null,Ve.mode,wt),Pr(Ue,st),Ue.return=Ve,Ue)}function it(Ve,Ue,st,wt){return Ue===null||Ue.tag!==4||Ue.stateNode.containerInfo!==st.containerInfo||Ue.stateNode.implementation!==st.implementation?(Ue=Cf(st,Ve.mode,wt),Ue.return=Ve,Ue):(Ue=T(Ue,st.children||[]),Ue.return=Ve,Ue)}function yt(Ve,Ue,st,wt,vr){return Ue===null||Ue.tag!==7?(Ue=lu(st,Ve.mode,wt,vr),Ue.return=Ve,Ue):(Ue=T(Ue,st),Ue.return=Ve,Ue)}function _t(Ve,Ue,st){if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number"||typeof Ue=="bigint")return Ue=i0(""+Ue,Ve.mode,st),Ue.return=Ve,Ue;if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case x:return st=Af(Ue.type,Ue.key,Ue.props,null,Ve.mode,st),Pr(st,Ue),st.return=Ve,st;case v:return Ue=Cf(Ue,Ve.mode,st),Ue.return=Ve,Ue;case F:return Ue=Ye(Ue),_t(Ve,Ue,st)}if(ae(Ue)||L(Ue))return Ue=lu(Ue,Ve.mode,st,null),Ue.return=Ve,Ue;if(typeof Ue.then=="function")return _t(Ve,Gt(Ue),st);if(Ue.$$typeof===w)return _t(Ve,Xx(Ve,Ue),st);Xt(Ve,Ue)}return null}function lt(Ve,Ue,st,wt){var vr=Ue!==null?Ue.key:null;if(typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint")return vr!==null?null:pe(Ve,Ue,""+st,wt);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case x:return st.key===vr?Fe(Ve,Ue,st,wt):null;case v:return st.key===vr?it(Ve,Ue,st,wt):null;case F:return st=Ye(st),lt(Ve,Ue,st,wt)}if(ae(st)||L(st))return vr!==null?null:yt(Ve,Ue,st,wt,null);if(typeof st.then=="function")return lt(Ve,Ue,Gt(st),wt);if(st.$$typeof===w)return lt(Ve,Ue,Xx(Ve,st),wt);Xt(Ve,st)}return null}function dt(Ve,Ue,st,wt,vr){if(typeof wt=="string"&&wt!==""||typeof wt=="number"||typeof wt=="bigint")return Ve=Ve.get(st)||null,pe(Ue,Ve,""+wt,vr);if(typeof wt=="object"&&wt!==null){switch(wt.$$typeof){case x:return Ve=Ve.get(wt.key===null?st:wt.key)||null,Fe(Ue,Ve,wt,vr);case v:return Ve=Ve.get(wt.key===null?st:wt.key)||null,it(Ue,Ve,wt,vr);case F:return wt=Ye(wt),dt(Ve,Ue,st,wt,vr)}if(ae(wt)||L(wt))return Ve=Ve.get(st)||null,yt(Ue,Ve,wt,vr,null);if(typeof wt.then=="function")return dt(Ve,Ue,st,Gt(wt),vr);if(wt.$$typeof===w)return dt(Ve,Ue,st,Xx(Ue,wt),vr);Xt(Ue,wt)}return null}function er(Ve,Ue,st,wt){for(var vr=null,Ps=null,or=Ue,Wr=Ue=0,hs=null;or!==null&&Wr<st.length;Wr++){or.index>Wr?(hs=or,or=null):hs=or.sibling;var Os=lt(Ve,or,st[Wr],wt);if(Os===null){or===null&&(or=hs);break}u&&or&&Os.alternate===null&&f(Ve,or),Ue=R(Os,Ue,Wr),Ps===null?vr=Os:Ps.sibling=Os,Ps=Os,or=hs}if(Wr===st.length)return g(Ve,or),ls&&Ll(Ve,Wr),vr;if(or===null){for(;Wr<st.length;Wr++)or=_t(Ve,st[Wr],wt),or!==null&&(Ue=R(or,Ue,Wr),Ps===null?vr=or:Ps.sibling=or,Ps=or);return ls&&Ll(Ve,Wr),vr}for(or=N(or);Wr<st.length;Wr++)hs=dt(or,Ve,Wr,st[Wr],wt),hs!==null&&(u&&hs.alternate!==null&&or.delete(hs.key===null?Wr:hs.key),Ue=R(hs,Ue,Wr),Ps===null?vr=hs:Ps.sibling=hs,Ps=hs);return u&&or.forEach(function(Yf){return f(Ve,Yf)}),ls&&Ll(Ve,Wr),vr}function _r(Ve,Ue,st,wt){if(st==null)throw Error(a(151));for(var vr=null,Ps=null,or=Ue,Wr=Ue=0,hs=null,Os=st.next();or!==null&&!Os.done;Wr++,Os=st.next()){or.index>Wr?(hs=or,or=null):hs=or.sibling;var Yf=lt(Ve,or,Os.value,wt);if(Yf===null){or===null&&(or=hs);break}u&&or&&Yf.alternate===null&&f(Ve,or),Ue=R(Yf,Ue,Wr),Ps===null?vr=Yf:Ps.sibling=Yf,Ps=Yf,or=hs}if(Os.done)return g(Ve,or),ls&&Ll(Ve,Wr),vr;if(or===null){for(;!Os.done;Wr++,Os=st.next())Os=_t(Ve,Os.value,wt),Os!==null&&(Ue=R(Os,Ue,Wr),Ps===null?vr=Os:Ps.sibling=Os,Ps=Os);return ls&&Ll(Ve,Wr),vr}for(or=N(or);!Os.done;Wr++,Os=st.next())Os=dt(or,Ve,Wr,Os.value,wt),Os!==null&&(u&&Os.alternate!==null&&or.delete(Os.key===null?Wr:Os.key),Ue=R(Os,Ue,Wr),Ps===null?vr=Os:Ps.sibling=Os,Ps=Os);return u&&or.forEach(function(NJ){return f(Ve,NJ)}),ls&&Ll(Ve,Wr),vr}function da(Ve,Ue,st,wt){if(typeof st=="object"&&st!==null&&st.type===y&&st.key===null&&(st=st.props.children),typeof st=="object"&&st!==null){switch(st.$$typeof){case x:e:{for(var vr=st.key;Ue!==null;){if(Ue.key===vr){if(vr=st.type,vr===y){if(Ue.tag===7){g(Ve,Ue.sibling),wt=T(Ue,st.props.children),wt.return=Ve,Ve=wt;break e}}else if(Ue.elementType===vr||typeof vr=="object"&&vr!==null&&vr.$$typeof===F&&Ye(vr)===Ue.type){g(Ve,Ue.sibling),wt=T(Ue,st.props),Pr(wt,st),wt.return=Ve,Ve=wt;break e}g(Ve,Ue);break}else f(Ve,Ue);Ue=Ue.sibling}st.type===y?(wt=lu(st.props.children,Ve.mode,wt,st.key),wt.return=Ve,Ve=wt):(wt=Af(st.type,st.key,st.props,null,Ve.mode,wt),Pr(wt,st),wt.return=Ve,Ve=wt)}return Q(Ve);case v:e:{for(vr=st.key;Ue!==null;){if(Ue.key===vr)if(Ue.tag===4&&Ue.stateNode.containerInfo===st.containerInfo&&Ue.stateNode.implementation===st.implementation){g(Ve,Ue.sibling),wt=T(Ue,st.children||[]),wt.return=Ve,Ve=wt;break e}else{g(Ve,Ue);break}else f(Ve,Ue);Ue=Ue.sibling}wt=Cf(st,Ve.mode,wt),wt.return=Ve,Ve=wt}return Q(Ve);case F:return st=Ye(st),da(Ve,Ue,st,wt)}if(ae(st))return er(Ve,Ue,st,wt);if(L(st)){if(vr=L(st),typeof vr!="function")throw Error(a(150));return st=vr.call(st),_r(Ve,Ue,st,wt)}if(typeof st.then=="function")return da(Ve,Ue,Gt(st),wt);if(st.$$typeof===w)return da(Ve,Ue,Xx(Ve,st),wt);Xt(Ve,st)}return typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint"?(st=""+st,Ue!==null&&Ue.tag===6?(g(Ve,Ue.sibling),wt=T(Ue,st),wt.return=Ve,Ve=wt):(g(Ve,Ue),wt=i0(st,Ve.mode,wt),wt.return=Ve,Ve=wt),Q(Ve)):g(Ve,Ue)}return function(Ve,Ue,st,wt){try{sr=0;var vr=da(Ve,Ue,st,wt);return kt=null,vr}catch(or){if(or===Ie||or===Ae)throw or;var Ps=_i(29,or,null,Ve.mode);return Ps.lanes=wt,Ps.return=Ve,Ps}}}var xa=as(!0),Ir=as(!1),Kt=!1;function zt(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ta(u,f){u=u.updateQueue,f.updateQueue===u&&(f.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function Nr(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function $r(u,f,g){var N=u.updateQueue;if(N===null)return null;if(N=N.shared,(Us&2)!==0){var T=N.pending;return T===null?f.next=f:(f.next=T.next,T.next=f),N.pending=f,f=Si(u),a0(u,null,g),f}return s0(u,N,f,g),Si(u)}function Is(u,f,g){if(f=f.updateQueue,f!==null&&(f=f.shared,(g&4194048)!==0)){var N=f.lanes;N&=u.pendingLanes,g|=N,f.lanes=g,ai(u,g)}}function Cn(u,f){var g=u.updateQueue,N=u.alternate;if(N!==null&&(N=N.updateQueue,g===N)){var T=null,R=null;if(g=g.firstBaseUpdate,g!==null){do{var Q={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};R===null?T=R=Q:R=R.next=Q,g=g.next}while(g!==null);R===null?T=R=f:R=R.next=f}else T=R=f;g={baseState:N.baseState,firstBaseUpdate:T,lastBaseUpdate:R,shared:N.shared,callbacks:N.callbacks},u.updateQueue=g;return}u=g.lastBaseUpdate,u===null?g.firstBaseUpdate=f:u.next=f,g.lastBaseUpdate=f}var hi=!1;function la(){if(hi){var u=P;if(u!==null)throw u}}function cn(u,f,g,N){hi=!1;var T=u.updateQueue;Kt=!1;var R=T.firstBaseUpdate,Q=T.lastBaseUpdate,pe=T.shared.pending;if(pe!==null){T.shared.pending=null;var Fe=pe,it=Fe.next;Fe.next=null,Q===null?R=it:Q.next=it,Q=Fe;var yt=u.alternate;yt!==null&&(yt=yt.updateQueue,pe=yt.lastBaseUpdate,pe!==Q&&(pe===null?yt.firstBaseUpdate=it:pe.next=it,yt.lastBaseUpdate=Fe))}if(R!==null){var _t=T.baseState;Q=0,yt=it=Fe=null,pe=R;do{var lt=pe.lane&-536870913,dt=lt!==pe.lane;if(dt?(us&lt)===lt:(N&lt)===lt){lt!==0&&lt===C&&(hi=!0),yt!==null&&(yt=yt.next={lane:0,tag:pe.tag,payload:pe.payload,callback:null,next:null});e:{var er=u,_r=pe;lt=f;var da=g;switch(_r.tag){case 1:if(er=_r.payload,typeof er=="function"){_t=er.call(da,_t,lt);break e}_t=er;break e;case 3:er.flags=er.flags&-65537|128;case 0:if(er=_r.payload,lt=typeof er=="function"?er.call(da,_t,lt):er,lt==null)break e;_t=m({},_t,lt);break e;case 2:Kt=!0}}lt=pe.callback,lt!==null&&(u.flags|=64,dt&&(u.flags|=8192),dt=T.callbacks,dt===null?T.callbacks=[lt]:dt.push(lt))}else dt={lane:lt,tag:pe.tag,payload:pe.payload,callback:pe.callback,next:null},yt===null?(it=yt=dt,Fe=_t):yt=yt.next=dt,Q|=lt;if(pe=pe.next,pe===null){if(pe=T.shared.pending,pe===null)break;dt=pe,pe=dt.next,dt.next=null,T.lastBaseUpdate=dt,T.shared.pending=null}}while(!0);yt===null&&(Fe=_t),T.baseState=Fe,T.firstBaseUpdate=it,T.lastBaseUpdate=yt,R===null&&(T.shared.lanes=0),Bf|=Q,u.lanes=Q,u.memoizedState=_t}}function ki(u,f){if(typeof u!="function")throw Error(a(191,u));u.call(f)}function dn(u,f){var g=u.callbacks;if(g!==null)for(u.callbacks=null,u=0;u<g.length;u++)ki(g[u],f)}var Kr=te(null),gs=te(0);function Ea(u,f){u=bh,H(gs,u),H(Kr,f),bh=u|f.baseLanes}function _s(){H(gs,bh),H(Kr,Kr.current)}function Tn(){bh=gs.current,D(Kr),D(gs)}var Pa=te(null),vs=null;function tn(u){var f=u.alternate;H(ps,ps.current&1),H(Pa,u),vs===null&&(f===null||Kr.current!==null||f.memoizedState!==null)&&(vs=u)}function Bs(u){H(ps,ps.current),H(Pa,u),vs===null&&(vs=u)}function un(u){u.tag===22?(H(ps,ps.current),H(Pa,u),vs===null&&(vs=u)):hn()}function hn(){H(ps,ps.current),H(Pa,Pa.current)}function Gs(u){D(Pa),vs===u&&(vs=null),D(ps)}var ps=te(0);function Ai(u){for(var f=u;f!==null;){if(f.tag===13){var g=f.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||fS(g)||mS(g)))return f}else if(f.tag===19&&(f.memoizedProps.revealOrder==="forwards"||f.memoizedProps.revealOrder==="backwards"||f.memoizedProps.revealOrder==="unstable_legacy-backwards"||f.memoizedProps.revealOrder==="together")){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var za=0,mr=null,gr=null,ys=null,ol=!1,uo=!1,Yi=!1,fn=0,mu=0,xu=null,Jx=0;function oa(){throw Error(a(321))}function ov(u,f){if(f===null)return!1;for(var g=0;g<f.length&&g<u.length;g++)if(!li(u[g],f[g]))return!1;return!0}function cv(u,f,g,N,T,R){return za=R,mr=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,V.H=u===null||u.memoizedState===null?qP:S4,Yi=!1,R=g(N,T),Yi=!1,uo&&(R=Ad(f,g,N,T)),Qx(u),R}function Qx(u){V.H=gv;var f=gr!==null&&gr.next!==null;if(za=0,ys=gr=mr=null,ol=!1,mu=0,xu=null,f)throw Error(a(300));u===null||qn||(u=u.dependencies,u!==null&&Yx(u)&&(qn=!0))}function Ad(u,f,g,N){mr=u;var T=0;do{if(uo&&(xu=null),mu=0,uo=!1,25<=T)throw Error(a(301));if(T+=1,ys=gr=null,u.updateQueue!=null){var R=u.updateQueue;R.lastEffect=null,R.events=null,R.stores=null,R.memoCache!=null&&(R.memoCache.index=0)}V.H=VP,R=f(g,N)}while(uo);return R}function g4(){var u=V.H,f=u.useState()[0];return f=typeof f.then=="function"?pu(f):f,u=u.useState()[0],(gr!==null?gr.memoizedState:null)!==u&&(mr.flags|=1024),f}function dv(){var u=fn!==0;return fn=0,u}function uv(u,f,g){f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~g}function ep(u){if(ol){for(u=u.memoizedState;u!==null;){var f=u.queue;f!==null&&(f.pending=null),u=u.next}ol=!1}za=0,ys=gr=mr=null,uo=!1,mu=fn=0,xu=null}function Hn(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ys===null?mr.memoizedState=ys=u:ys=ys.next=u,ys}function $a(){if(gr===null){var u=mr.alternate;u=u!==null?u.memoizedState:null}else u=gr.next;var f=ys===null?mr.memoizedState:ys.next;if(f!==null)ys=f,gr=u;else{if(u===null)throw mr.alternate===null?Error(a(467)):Error(a(310));gr=u,u={memoizedState:gr.memoizedState,baseState:gr.baseState,baseQueue:gr.baseQueue,queue:gr.queue,next:null},ys===null?mr.memoizedState=ys=u:ys=ys.next=u}return ys}function d0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pu(u){var f=mu;return mu+=1,xu===null&&(xu=[]),u=gt(xu,u,f),f=mr,(ys===null?f.memoizedState:ys.next)===null&&(f=f.alternate,V.H=f===null||f.memoizedState===null?qP:S4),u}function Df(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return pu(u);if(u.$$typeof===w)return ui(u)}throw Error(a(438,String(u)))}function uh(u){var f=null,g=mr.updateQueue;if(g!==null&&(f=g.memoCache),f==null){var N=mr.alternate;N!==null&&(N=N.updateQueue,N!==null&&(N=N.memoCache,N!=null&&(f={data:N.data.map(function(T){return T.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),g===null&&(g=d0(),mr.updateQueue=g),g.memoCache=f,g=f.data[f.index],g===void 0)for(g=f.data[f.index]=Array(u),N=0;N<u;N++)g[N]=U;return f.index++,g}function _c(u,f){return typeof f=="function"?f(u):f}function tp(u){var f=$a();return Rf(f,gr,u)}function Rf(u,f,g){var N=u.queue;if(N===null)throw Error(a(311));N.lastRenderedReducer=g;var T=u.baseQueue,R=N.pending;if(R!==null){if(T!==null){var Q=T.next;T.next=R.next,R.next=Q}f.baseQueue=T=R,N.pending=null}if(R=u.baseState,T===null)u.memoizedState=R;else{f=T.next;var pe=Q=null,Fe=null,it=f,yt=!1;do{var _t=it.lane&-536870913;if(_t!==it.lane?(us&_t)===_t:(za&_t)===_t){var lt=it.revertLane;if(lt===0)Fe!==null&&(Fe=Fe.next={lane:0,revertLane:0,gesture:null,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null}),_t===C&&(yt=!0);else if((za&lt)===lt){it=it.next,lt===C&&(yt=!0);continue}else _t={lane:0,revertLane:it.revertLane,gesture:null,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null},Fe===null?(pe=Fe=_t,Q=R):Fe=Fe.next=_t,mr.lanes|=lt,Bf|=lt;_t=it.action,Yi&&g(R,_t),R=it.hasEagerState?it.eagerState:g(R,_t)}else lt={lane:_t,revertLane:it.revertLane,gesture:it.gesture,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null},Fe===null?(pe=Fe=lt,Q=R):Fe=Fe.next=lt,mr.lanes|=_t,Bf|=_t;it=it.next}while(it!==null&&it!==f);if(Fe===null?Q=R:Fe.next=pe,!li(R,u.memoizedState)&&(qn=!0,yt&&(g=P,g!==null)))throw g;u.memoizedState=R,u.baseState=Q,u.baseQueue=Fe,N.lastRenderedState=R}return T===null&&(N.lanes=0),[u.memoizedState,N.dispatch]}function rp(u){var f=$a(),g=f.queue;if(g===null)throw Error(a(311));g.lastRenderedReducer=u;var N=g.dispatch,T=g.pending,R=f.memoizedState;if(T!==null){g.pending=null;var Q=T=T.next;do R=u(R,Q.action),Q=Q.next;while(Q!==T);li(R,f.memoizedState)||(qn=!0),f.memoizedState=R,f.baseQueue===null&&(f.baseState=R),g.lastRenderedState=R}return[R,N]}function sp(u,f,g){var N=mr,T=$a(),R=ls;if(R){if(g===void 0)throw Error(a(407));g=g()}else g=f();var Q=!li((gr||T).memoizedState,g);if(Q&&(T.memoizedState=g,qn=!0),T=T.queue,v4(fv.bind(null,N,T,u),[u]),T.getSnapshot!==f||Q||ys!==null&&ys.memoizedState.tag&1){if(N.flags|=2048,fh(9,{destroy:void 0},hv.bind(null,N,T,g,f),null),pa===null)throw Error(a(349));R||(za&127)!==0||Cd(N,f,g)}return g}function Cd(u,f,g){u.flags|=16384,u={getSnapshot:f,value:g},f=mr.updateQueue,f===null?(f=d0(),mr.updateQueue=f,f.stores=[u]):(g=f.stores,g===null?f.stores=[u]:g.push(u))}function hv(u,f,g,N){f.value=g,f.getSnapshot=N,m1(f)&&mv(u)}function fv(u,f,g){return g(function(){m1(f)&&mv(u)})}function m1(u){var f=u.getSnapshot;u=u.value;try{var g=f();return!li(u,g)}catch{return!0}}function mv(u){var f=_d(u,2);f!==null&&po(f,u,2)}function gu(u){var f=Hn();if(typeof u=="function"){var g=u;if(u=g(),Yi){pr(!0);try{g()}finally{pr(!1)}}}return f.memoizedState=f.baseState=u,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_c,lastRenderedState:u},f}function x1(u,f,g,N){return u.baseState=g,Rf(u,gr,typeof N=="function"?N:_c)}function p1(u,f,g,N,T){if(b1(u))throw Error(a(485));if(u=f.action,u!==null){var R={payload:T,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Q){R.listeners.push(Q)}};V.T!==null?g(!0):R.isTransition=!1,N(R),g=f.pending,g===null?(R.next=f.pending=R,g1(f,R)):(R.next=g.next,f.pending=g.next=R)}}function g1(u,f){var g=f.action,N=f.payload,T=u.state;if(f.isTransition){var R=V.T,Q={};V.T=Q;try{var pe=g(T,N),Fe=V.S;Fe!==null&&Fe(Q,pe),xv(u,f,pe)}catch(it){hh(u,f,it)}finally{R!==null&&Q.types!==null&&(R.types=Q.types),V.T=R}}else try{R=g(T,N),xv(u,f,R)}catch(it){hh(u,f,it)}}function xv(u,f,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(N){v1(u,f,N)},function(N){return hh(u,f,N)}):v1(u,f,g)}function v1(u,f,g){f.status="fulfilled",f.value=g,ap(f),u.state=g,f=u.pending,f!==null&&(g=f.next,g===f?u.pending=null:(g=g.next,f.next=g,g1(u,g)))}function hh(u,f,g){var N=u.pending;if(u.pending=null,N!==null){N=N.next;do f.status="rejected",f.reason=g,ap(f),f=f.next;while(f!==N)}u.action=null}function ap(u){u=u.listeners;for(var f=0;f<u.length;f++)(0,u[f])()}function u0(u,f){return f}function kc(u,f){if(ls){var g=pa.formState;if(g!==null){e:{var N=mr;if(ls){if(ma){t:{for(var T=ma,R=Ua;T.nodeType!==8;){if(!R){T=null;break t}if(T=Ac(T.nextSibling),T===null){T=null;break t}}R=T.data,T=R==="F!"||R==="F"?T:null}if(T){ma=Ac(T.nextSibling),N=T.data==="F!";break e}}cu(N)}N=!1}N&&(f=g[0])}}return g=Hn(),g.memoizedState=g.baseState=f,N={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u0,lastRenderedState:f},g.queue=N,g=zP.bind(null,mr,N),N.dispatch=g,N=gu(!1),R=w4.bind(null,mr,!1,N.queue),N=Hn(),T={state:f,dispatch:null,action:u,pending:null},N.queue=T,g=p1.bind(null,mr,T,R,g),T.dispatch=g,N.memoizedState=u,[f,g,!1]}function Td(u){var f=$a();return Ed(f,gr,u)}function Ed(u,f,g){if(f=Rf(u,f,u0)[0],u=tp(_c)[0],typeof f=="object"&&f!==null&&typeof f.then=="function")try{var N=pu(f)}catch(Q){throw Q===Ie?Ae:Q}else N=f;f=$a();var T=f.queue,R=T.dispatch;return g!==f.memoizedState&&(mr.flags|=2048,fh(9,{destroy:void 0},np.bind(null,T,g),null)),[N,R,u]}function np(u,f){u.action=f}function ip(u){var f=$a(),g=gr;if(g!==null)return Ed(f,g,u);$a(),f=f.memoizedState,g=$a();var N=g.queue.dispatch;return g.memoizedState=u,[f,N,!1]}function fh(u,f,g,N){return u={tag:u,create:g,deps:N,inst:f,next:null},f=mr.updateQueue,f===null&&(f=d0(),mr.updateQueue=f),g=f.lastEffect,g===null?f.lastEffect=u.next=u:(N=g.next,g.next=u,u.next=N,f.lastEffect=u),u}function y1(){return $a().memoizedState}function Mf(u,f,g,N){var T=Hn();mr.flags|=u,T.memoizedState=fh(1|f,{destroy:void 0},g,N===void 0?null:N)}function Ff(u,f,g,N){var T=$a();N=N===void 0?null:N;var R=T.memoizedState.inst;gr!==null&&N!==null&&ov(N,gr.memoizedState.deps)?T.memoizedState=fh(f,R,g,N):(mr.flags|=u,T.memoizedState=fh(1|f,R,g,N))}function AP(u,f){Mf(8390656,8,u,f)}function v4(u,f){Ff(2048,8,u,f)}function pZ(u){mr.flags|=4;var f=mr.updateQueue;if(f===null)f=d0(),mr.updateQueue=f,f.events=[u];else{var g=f.events;g===null?f.events=[u]:g.push(u)}}function CP(u){var f=$a().memoizedState;return pZ({ref:f,nextImpl:u}),function(){if((Us&2)!==0)throw Error(a(440));return f.impl.apply(void 0,arguments)}}function TP(u,f){return Ff(4,2,u,f)}function EP(u,f){return Ff(4,4,u,f)}function PP(u,f){if(typeof f=="function"){u=u();var g=f(u);return function(){typeof g=="function"?g():f(null)}}if(f!=null)return u=u(),f.current=u,function(){f.current=null}}function OP(u,f,g){g=g!=null?g.concat([u]):null,Ff(4,4,PP.bind(null,f,u),g)}function y4(){}function DP(u,f){var g=$a();f=f===void 0?null:f;var N=g.memoizedState;return f!==null&&ov(f,N[1])?N[0]:(g.memoizedState=[u,f],u)}function RP(u,f){var g=$a();f=f===void 0?null:f;var N=g.memoizedState;if(f!==null&&ov(f,N[1]))return N[0];if(N=u(),Yi){pr(!0);try{u()}finally{pr(!1)}}return g.memoizedState=[N,f],N}function b4(u,f,g){return g===void 0||(za&1073741824)!==0&&(us&261930)===0?u.memoizedState=f:(u.memoizedState=g,u=MO(),mr.lanes|=u,Bf|=u,g)}function MP(u,f,g,N){return li(g,f)?g:Kr.current!==null?(u=b4(u,g,N),li(u,f)||(qn=!0),u):(za&42)===0||(za&1073741824)!==0&&(us&261930)===0?(qn=!0,u.memoizedState=g):(u=MO(),mr.lanes|=u,Bf|=u,f)}function FP(u,f,g,N,T){var R=re.p;re.p=R!==0&&8>R?R:8;var Q=V.T,pe={};V.T=pe,w4(u,!1,f,g);try{var Fe=T(),it=V.S;if(it!==null&&it(pe,Fe),Fe!==null&&typeof Fe=="object"&&typeof Fe.then=="function"){var yt=le(Fe,N);pv(u,f,yt,Vo(u))}else pv(u,f,N,Vo(u))}catch(_t){pv(u,f,{then:function(){},status:"rejected",reason:_t},Vo())}finally{re.p=R,Q!==null&&pe.types!==null&&(Q.types=pe.types),V.T=Q}}function gZ(){}function j4(u,f,g,N){if(u.tag!==5)throw Error(a(476));var T=LP(u).queue;FP(u,T,f,X,g===null?gZ:function(){return IP(u),g(N)})}function LP(u){var f=u.memoizedState;if(f!==null)return f;f={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_c,lastRenderedState:X},next:null};var g={};return f.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_c,lastRenderedState:g},next:null},u.memoizedState=f,u=u.alternate,u!==null&&(u.memoizedState=f),f}function IP(u){var f=LP(u);f.next===null&&(f=u.alternate.memoizedState),pv(u,f.next.queue,{},Vo())}function N4(){return ui(Dv)}function BP(){return $a().memoizedState}function UP(){return $a().memoizedState}function vZ(u){for(var f=u.return;f!==null;){switch(f.tag){case 24:case 3:var g=Vo();u=Nr(g);var N=$r(f,u,g);N!==null&&(po(N,f,g),Is(N,f,g)),f={cache:Of()},u.payload=f;return}f=f.return}}function yZ(u,f,g){var N=Vo();g={lane:N,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},b1(u)?$P(f,g):(g=zx(u,f,g,N),g!==null&&(po(g,u,N),HP(g,f,N)))}function zP(u,f,g){var N=Vo();pv(u,f,g,N)}function pv(u,f,g,N){var T={lane:N,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null};if(b1(u))$P(f,T);else{var R=u.alternate;if(u.lanes===0&&(R===null||R.lanes===0)&&(R=f.lastRenderedReducer,R!==null))try{var Q=f.lastRenderedState,pe=R(Q,g);if(T.hasEagerState=!0,T.eagerState=pe,li(pe,Q))return s0(u,f,T,0),pa===null&&r0(),!1}catch{}if(g=zx(u,f,T,N),g!==null)return po(g,u,N),HP(g,f,N),!0}return!1}function w4(u,f,g,N){if(N={lane:2,revertLane:tS(),gesture:null,action:N,hasEagerState:!1,eagerState:null,next:null},b1(u)){if(f)throw Error(a(479))}else f=zx(u,g,N,2),f!==null&&po(f,u,2)}function b1(u){var f=u.alternate;return u===mr||f!==null&&f===mr}function $P(u,f){uo=ol=!0;var g=u.pending;g===null?f.next=f:(f.next=g.next,g.next=f),u.pending=f}function HP(u,f,g){if((g&4194048)!==0){var N=f.lanes;N&=u.pendingLanes,g|=N,f.lanes=g,ai(u,g)}}var gv={readContext:ui,use:Df,useCallback:oa,useContext:oa,useEffect:oa,useImperativeHandle:oa,useLayoutEffect:oa,useInsertionEffect:oa,useMemo:oa,useReducer:oa,useRef:oa,useState:oa,useDebugValue:oa,useDeferredValue:oa,useTransition:oa,useSyncExternalStore:oa,useId:oa,useHostTransitionStatus:oa,useFormState:oa,useActionState:oa,useOptimistic:oa,useMemoCache:oa,useCacheRefresh:oa};gv.useEffectEvent=oa;var qP={readContext:ui,use:Df,useCallback:function(u,f){return Hn().memoizedState=[u,f===void 0?null:f],u},useContext:ui,useEffect:AP,useImperativeHandle:function(u,f,g){g=g!=null?g.concat([u]):null,Mf(4194308,4,PP.bind(null,f,u),g)},useLayoutEffect:function(u,f){return Mf(4194308,4,u,f)},useInsertionEffect:function(u,f){Mf(4,2,u,f)},useMemo:function(u,f){var g=Hn();f=f===void 0?null:f;var N=u();if(Yi){pr(!0);try{u()}finally{pr(!1)}}return g.memoizedState=[N,f],N},useReducer:function(u,f,g){var N=Hn();if(g!==void 0){var T=g(f);if(Yi){pr(!0);try{g(f)}finally{pr(!1)}}}else T=f;return N.memoizedState=N.baseState=T,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:T},N.queue=u,u=u.dispatch=yZ.bind(null,mr,u),[N.memoizedState,u]},useRef:function(u){var f=Hn();return u={current:u},f.memoizedState=u},useState:function(u){u=gu(u);var f=u.queue,g=zP.bind(null,mr,f);return f.dispatch=g,[u.memoizedState,g]},useDebugValue:y4,useDeferredValue:function(u,f){var g=Hn();return b4(g,u,f)},useTransition:function(){var u=gu(!1);return u=FP.bind(null,mr,u.queue,!0,!1),Hn().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,f,g){var N=mr,T=Hn();if(ls){if(g===void 0)throw Error(a(407));g=g()}else{if(g=f(),pa===null)throw Error(a(349));(us&127)!==0||Cd(N,f,g)}T.memoizedState=g;var R={value:g,getSnapshot:f};return T.queue=R,AP(fv.bind(null,N,R,u),[u]),N.flags|=2048,fh(9,{destroy:void 0},hv.bind(null,N,R,g,f),null),g},useId:function(){var u=Hn(),f=pa.identifierPrefix;if(ls){var g=oo,N=lo;g=(N&~(1<<32-Hr(N)-1)).toString(32)+g,f="_"+f+"R_"+g,g=fn++,0<g&&(f+="H"+g.toString(32)),f+="_"}else g=Jx++,f="_"+f+"r_"+g.toString(32)+"_";return u.memoizedState=f},useHostTransitionStatus:N4,useFormState:kc,useActionState:kc,useOptimistic:function(u){var f=Hn();f.memoizedState=f.baseState=u;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=g,f=w4.bind(null,mr,!0,g),g.dispatch=f,[u,f]},useMemoCache:uh,useCacheRefresh:function(){return Hn().memoizedState=vZ.bind(null,mr)},useEffectEvent:function(u){var f=Hn(),g={impl:u};return f.memoizedState=g,function(){if((Us&2)!==0)throw Error(a(440));return g.impl.apply(void 0,arguments)}}},S4={readContext:ui,use:Df,useCallback:DP,useContext:ui,useEffect:v4,useImperativeHandle:OP,useInsertionEffect:TP,useLayoutEffect:EP,useMemo:RP,useReducer:tp,useRef:y1,useState:function(){return tp(_c)},useDebugValue:y4,useDeferredValue:function(u,f){var g=$a();return MP(g,gr.memoizedState,u,f)},useTransition:function(){var u=tp(_c)[0],f=$a().memoizedState;return[typeof u=="boolean"?u:pu(u),f]},useSyncExternalStore:sp,useId:BP,useHostTransitionStatus:N4,useFormState:Td,useActionState:Td,useOptimistic:function(u,f){var g=$a();return x1(g,gr,u,f)},useMemoCache:uh,useCacheRefresh:UP};S4.useEffectEvent=CP;var VP={readContext:ui,use:Df,useCallback:DP,useContext:ui,useEffect:v4,useImperativeHandle:OP,useInsertionEffect:TP,useLayoutEffect:EP,useMemo:RP,useReducer:rp,useRef:y1,useState:function(){return rp(_c)},useDebugValue:y4,useDeferredValue:function(u,f){var g=$a();return gr===null?b4(g,u,f):MP(g,gr.memoizedState,u,f)},useTransition:function(){var u=rp(_c)[0],f=$a().memoizedState;return[typeof u=="boolean"?u:pu(u),f]},useSyncExternalStore:sp,useId:BP,useHostTransitionStatus:N4,useFormState:ip,useActionState:ip,useOptimistic:function(u,f){var g=$a();return gr!==null?x1(g,gr,u,f):(g.baseState=u,[u,g.queue.dispatch])},useMemoCache:uh,useCacheRefresh:UP};VP.useEffectEvent=CP;function _4(u,f,g,N){f=u.memoizedState,g=g(N,f),g=g==null?f:m({},f,g),u.memoizedState=g,u.lanes===0&&(u.updateQueue.baseState=g)}var k4={enqueueSetState:function(u,f,g){u=u._reactInternals;var N=Vo(),T=Nr(N);T.payload=f,g!=null&&(T.callback=g),f=$r(u,T,N),f!==null&&(po(f,u,N),Is(f,u,N))},enqueueReplaceState:function(u,f,g){u=u._reactInternals;var N=Vo(),T=Nr(N);T.tag=1,T.payload=f,g!=null&&(T.callback=g),f=$r(u,T,N),f!==null&&(po(f,u,N),Is(f,u,N))},enqueueForceUpdate:function(u,f){u=u._reactInternals;var g=Vo(),N=Nr(g);N.tag=2,f!=null&&(N.callback=f),f=$r(u,N,g),f!==null&&(po(f,u,g),Is(f,u,g))}};function WP(u,f,g,N,T,R,Q){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(N,R,Q):f.prototype&&f.prototype.isPureReactComponent?!jd(g,N)||!jd(T,R):!0}function GP(u,f,g,N){u=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(g,N),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(g,N),f.state!==u&&k4.enqueueReplaceState(f,f.state,null)}function h0(u,f){var g=f;if("ref"in f){g={};for(var N in f)N!=="ref"&&(g[N]=f[N])}if(u=u.defaultProps){g===f&&(g=m({},g));for(var T in u)g[T]===void 0&&(g[T]=u[T])}return g}function KP(u){t0(u)}function YP(u){console.error(u)}function XP(u){t0(u)}function j1(u,f){try{var g=u.onUncaughtError;g(f.value,{componentStack:f.stack})}catch(N){setTimeout(function(){throw N})}}function ZP(u,f,g){try{var N=u.onCaughtError;N(g.value,{componentStack:g.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function A4(u,f,g){return g=Nr(g),g.tag=3,g.payload={element:null},g.callback=function(){j1(u,f)},g}function JP(u){return u=Nr(u),u.tag=3,u}function QP(u,f,g,N){var T=g.type.getDerivedStateFromError;if(typeof T=="function"){var R=N.value;u.payload=function(){return T(R)},u.callback=function(){ZP(f,g,N)}}var Q=g.stateNode;Q!==null&&typeof Q.componentDidCatch=="function"&&(u.callback=function(){ZP(f,g,N),typeof T!="function"&&(Uf===null?Uf=new Set([this]):Uf.add(this));var pe=N.stack;this.componentDidCatch(N.value,{componentStack:pe!==null?pe:""})})}function bZ(u,f,g,N,T){if(g.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){if(f=g.alternate,f!==null&&hu(f,g,T,!0),g=Pa.current,g!==null){switch(g.tag){case 31:case 13:return vs===null?D1():g.alternate===null&&mn===0&&(mn=3),g.flags&=-257,g.flags|=65536,g.lanes=T,N===$e?g.flags|=16384:(f=g.updateQueue,f===null?g.updateQueue=new Set([N]):f.add(N),J4(u,N,T)),!1;case 22:return g.flags|=65536,N===$e?g.flags|=16384:(f=g.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([N])},g.updateQueue=f):(g=f.retryQueue,g===null?f.retryQueue=new Set([N]):g.add(N)),J4(u,N,T)),!1}throw Error(a(435,g.tag))}return J4(u,N,T),D1(),!1}if(ls)return f=Pa.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=T,N!==$o&&(u=Error(a(422),{cause:N}),Ef(ao(u,g)))):(N!==$o&&(f=Error(a(423),{cause:N}),Ef(ao(f,g))),u=u.current.alternate,u.flags|=65536,T&=-T,u.lanes|=T,N=ao(N,g),T=A4(u.stateNode,N,T),Cn(u,T),mn!==4&&(mn=2)),!1;var R=Error(a(520),{cause:N});if(R=ao(R,g),_v===null?_v=[R]:_v.push(R),mn!==4&&(mn=2),f===null)return!0;N=ao(N,g),g=f;do{switch(g.tag){case 3:return g.flags|=65536,u=T&-T,g.lanes|=u,u=A4(g.stateNode,N,u),Cn(g,u),!1;case 1:if(f=g.type,R=g.stateNode,(g.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(Uf===null||!Uf.has(R))))return g.flags|=65536,T&=-T,g.lanes|=T,T=JP(T),QP(T,u,g,N),Cn(g,T),!1}g=g.return}while(g!==null);return!1}var C4=Error(a(461)),qn=!1;function Xi(u,f,g,N){f.child=u===null?Ir(f,null,g,N):xa(f,u.child,g,N)}function eO(u,f,g,N,T){g=g.render;var R=f.ref;if("ref"in N){var Q={};for(var pe in N)pe!=="ref"&&(Q[pe]=N[pe])}else Q=N;return fu(f),N=cv(u,f,g,Q,R,T),pe=dv(),u!==null&&!qn?(uv(u,f,T),mh(u,f,T)):(ls&&pe&&nv(f),f.flags|=1,Xi(u,f,N,T),f.child)}function tO(u,f,g,N,T){if(u===null){var R=g.type;return typeof R=="function"&&!Hx(R)&&R.defaultProps===void 0&&g.compare===null?(f.tag=15,f.type=R,rO(u,f,R,N,T)):(u=Af(g.type,null,N,f,f.mode,T),u.ref=f.ref,u.return=f,f.child=u)}if(R=u.child,!F4(u,T)){var Q=R.memoizedProps;if(g=g.compare,g=g!==null?g:jd,g(Q,N)&&u.ref===f.ref)return mh(u,f,T)}return f.flags|=1,u=so(R,N),u.ref=f.ref,u.return=f,f.child=u}function rO(u,f,g,N,T){if(u!==null){var R=u.memoizedProps;if(jd(R,N)&&u.ref===f.ref)if(qn=!1,f.pendingProps=N=R,F4(u,T))(u.flags&131072)!==0&&(qn=!0);else return f.lanes=u.lanes,mh(u,f,T)}return T4(u,f,g,N,T)}function sO(u,f,g,N){var T=N.children,R=u!==null?u.memoizedState:null;if(u===null&&f.stateNode===null&&(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),N.mode==="hidden"){if((f.flags&128)!==0){if(R=R!==null?R.baseLanes|g:g,u!==null){for(N=f.child=u.child,T=0;N!==null;)T=T|N.lanes|N.childLanes,N=N.sibling;N=T&~R}else N=0,f.child=null;return aO(u,f,R,g,N)}if((g&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},u!==null&&Ne(f,R!==null?R.cachePool:null),R!==null?Ea(f,R):_s(),un(f);else return N=f.lanes=536870912,aO(u,f,R!==null?R.baseLanes|g:g,g,N)}else R!==null?(Ne(f,R.cachePool),Ea(f,R),hn(),f.memoizedState=null):(u!==null&&Ne(f,null),_s(),hn());return Xi(u,f,T,g),f.child}function vv(u,f){return u!==null&&u.tag===22||f.stateNode!==null||(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.sibling}function aO(u,f,g,N,T){var R=ve();return R=R===null?null:{parent:en._currentValue,pool:R},f.memoizedState={baseLanes:g,cachePool:R},u!==null&&Ne(f,null),_s(),un(f),u!==null&&hu(u,f,N,!0),f.childLanes=T,null}function N1(u,f){return f=S1({mode:f.mode,children:f.children},u.mode),f.ref=u.ref,u.child=f,f.return=u,f}function nO(u,f,g){return xa(f,u.child,null,g),u=N1(f,f.pendingProps),u.flags|=2,Gs(f),f.memoizedState=null,u}function jZ(u,f,g){var N=f.pendingProps,T=(f.flags&128)!==0;if(f.flags&=-129,u===null){if(ls){if(N.mode==="hidden")return u=N1(f,N),f.lanes=536870912,vv(null,u);if(Bs(f),(u=ma)?(u=g8(u,Ua),u=u!==null&&u.data==="&"?u:null,u!==null&&(f.memoizedState={dehydrated:u,treeContext:ou!==null?{id:lo,overflow:oo}:null,retryLane:536870912,hydrationErrors:null},g=qx(u),g.return=f,f.child=g,ci=f,ma=null)):u=null,u===null)throw cu(f);return f.lanes=536870912,null}return N1(f,N)}var R=u.memoizedState;if(R!==null){var Q=R.dehydrated;if(Bs(f),T)if(f.flags&256)f.flags&=-257,f=nO(u,f,g);else if(f.memoizedState!==null)f.child=u.child,f.flags|=128,f=null;else throw Error(a(558));else if(qn||hu(u,f,g,!1),T=(g&u.childLanes)!==0,qn||T){if(N=pa,N!==null&&(Q=$i(N,g),Q!==0&&Q!==R.retryLane))throw R.retryLane=Q,_d(u,Q),po(N,u,Q),C4;D1(),f=nO(u,f,g)}else u=R.treeContext,ma=Ac(Q.nextSibling),ci=f,ls=!0,Ki=null,Ua=!1,u!==null&&h1(f,u),f=N1(f,N),f.flags|=4096;return f}return u=so(u.child,{mode:N.mode,children:N.children}),u.ref=f.ref,f.child=u,u.return=f,u}function w1(u,f){var g=f.ref;if(g===null)u!==null&&u.ref!==null&&(f.flags|=4194816);else{if(typeof g!="function"&&typeof g!="object")throw Error(a(284));(u===null||u.ref!==g)&&(f.flags|=4194816)}}function T4(u,f,g,N,T){return fu(f),g=cv(u,f,g,N,void 0,T),N=dv(),u!==null&&!qn?(uv(u,f,T),mh(u,f,T)):(ls&&N&&nv(f),f.flags|=1,Xi(u,f,g,T),f.child)}function iO(u,f,g,N,T,R){return fu(f),f.updateQueue=null,g=Ad(f,N,g,T),Qx(u),N=dv(),u!==null&&!qn?(uv(u,f,R),mh(u,f,R)):(ls&&N&&nv(f),f.flags|=1,Xi(u,f,g,R),f.child)}function lO(u,f,g,N,T){if(fu(f),f.stateNode===null){var R=oi,Q=g.contextType;typeof Q=="object"&&Q!==null&&(R=ui(Q)),R=new g(N,R),f.memoizedState=R.state!==null&&R.state!==void 0?R.state:null,R.updater=k4,f.stateNode=R,R._reactInternals=f,R=f.stateNode,R.props=N,R.state=f.memoizedState,R.refs={},zt(f),Q=g.contextType,R.context=typeof Q=="object"&&Q!==null?ui(Q):oi,R.state=f.memoizedState,Q=g.getDerivedStateFromProps,typeof Q=="function"&&(_4(f,g,Q,N),R.state=f.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof R.getSnapshotBeforeUpdate=="function"||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(Q=R.state,typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount(),Q!==R.state&&k4.enqueueReplaceState(R,R.state,null),cn(f,N,R,T),la(),R.state=f.memoizedState),typeof R.componentDidMount=="function"&&(f.flags|=4194308),N=!0}else if(u===null){R=f.stateNode;var pe=f.memoizedProps,Fe=h0(g,pe);R.props=Fe;var it=R.context,yt=g.contextType;Q=oi,typeof yt=="object"&&yt!==null&&(Q=ui(yt));var _t=g.getDerivedStateFromProps;yt=typeof _t=="function"||typeof R.getSnapshotBeforeUpdate=="function",pe=f.pendingProps!==pe,yt||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(pe||it!==Q)&&GP(f,R,N,Q),Kt=!1;var lt=f.memoizedState;R.state=lt,cn(f,N,R,T),la(),it=f.memoizedState,pe||lt!==it||Kt?(typeof _t=="function"&&(_4(f,g,_t,N),it=f.memoizedState),(Fe=Kt||WP(f,g,Fe,N,lt,it,Q))?(yt||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(f.flags|=4194308)):(typeof R.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=N,f.memoizedState=it),R.props=N,R.state=it,R.context=Q,N=Fe):(typeof R.componentDidMount=="function"&&(f.flags|=4194308),N=!1)}else{R=f.stateNode,Ta(u,f),Q=f.memoizedProps,yt=h0(g,Q),R.props=yt,_t=f.pendingProps,lt=R.context,it=g.contextType,Fe=oi,typeof it=="object"&&it!==null&&(Fe=ui(it)),pe=g.getDerivedStateFromProps,(it=typeof pe=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(Q!==_t||lt!==Fe)&&GP(f,R,N,Fe),Kt=!1,lt=f.memoizedState,R.state=lt,cn(f,N,R,T),la();var dt=f.memoizedState;Q!==_t||lt!==dt||Kt||u!==null&&u.dependencies!==null&&Yx(u.dependencies)?(typeof pe=="function"&&(_4(f,g,pe,N),dt=f.memoizedState),(yt=Kt||WP(f,g,yt,N,lt,dt,Fe)||u!==null&&u.dependencies!==null&&Yx(u.dependencies))?(it||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(N,dt,Fe),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(N,dt,Fe)),typeof R.componentDidUpdate=="function"&&(f.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof R.componentDidUpdate!="function"||Q===u.memoizedProps&&lt===u.memoizedState||(f.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||Q===u.memoizedProps&&lt===u.memoizedState||(f.flags|=1024),f.memoizedProps=N,f.memoizedState=dt),R.props=N,R.state=dt,R.context=Fe,N=yt):(typeof R.componentDidUpdate!="function"||Q===u.memoizedProps&&lt===u.memoizedState||(f.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||Q===u.memoizedProps&&lt===u.memoizedState||(f.flags|=1024),N=!1)}return R=N,w1(u,f),N=(f.flags&128)!==0,R||N?(R=f.stateNode,g=N&&typeof g.getDerivedStateFromError!="function"?null:R.render(),f.flags|=1,u!==null&&N?(f.child=xa(f,u.child,null,T),f.child=xa(f,null,g,T)):Xi(u,f,g,T),f.memoizedState=R.state,u=f.child):u=mh(u,f,T),u}function oO(u,f,g,N){return ch(),f.flags|=256,Xi(u,f,g,N),f.child}var E4={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function P4(u){return{baseLanes:u,cachePool:Ce()}}function O4(u,f,g){return u=u!==null?u.childLanes&~g:0,f&&(u|=qo),u}function cO(u,f,g){var N=f.pendingProps,T=!1,R=(f.flags&128)!==0,Q;if((Q=R)||(Q=u!==null&&u.memoizedState===null?!1:(ps.current&2)!==0),Q&&(T=!0,f.flags&=-129),Q=(f.flags&32)!==0,f.flags&=-33,u===null){if(ls){if(T?tn(f):hn(),(u=ma)?(u=g8(u,Ua),u=u!==null&&u.data!=="&"?u:null,u!==null&&(f.memoizedState={dehydrated:u,treeContext:ou!==null?{id:lo,overflow:oo}:null,retryLane:536870912,hydrationErrors:null},g=qx(u),g.return=f,f.child=g,ci=f,ma=null)):u=null,u===null)throw cu(f);return mS(u)?f.lanes=32:f.lanes=536870912,null}var pe=N.children;return N=N.fallback,T?(hn(),T=f.mode,pe=S1({mode:"hidden",children:pe},T),N=lu(N,T,g,null),pe.return=f,N.return=f,pe.sibling=N,f.child=pe,N=f.child,N.memoizedState=P4(g),N.childLanes=O4(u,Q,g),f.memoizedState=E4,vv(null,N)):(tn(f),D4(f,pe))}var Fe=u.memoizedState;if(Fe!==null&&(pe=Fe.dehydrated,pe!==null)){if(R)f.flags&256?(tn(f),f.flags&=-257,f=R4(u,f,g)):f.memoizedState!==null?(hn(),f.child=u.child,f.flags|=128,f=null):(hn(),pe=N.fallback,T=f.mode,N=S1({mode:"visible",children:N.children},T),pe=lu(pe,T,g,null),pe.flags|=2,N.return=f,pe.return=f,N.sibling=pe,f.child=N,xa(f,u.child,null,g),N=f.child,N.memoizedState=P4(g),N.childLanes=O4(u,Q,g),f.memoizedState=E4,f=vv(null,N));else if(tn(f),mS(pe)){if(Q=pe.nextSibling&&pe.nextSibling.dataset,Q)var it=Q.dgst;Q=it,N=Error(a(419)),N.stack="",N.digest=Q,Ef({value:N,source:null,stack:null}),f=R4(u,f,g)}else if(qn||hu(u,f,g,!1),Q=(g&u.childLanes)!==0,qn||Q){if(Q=pa,Q!==null&&(N=$i(Q,g),N!==0&&N!==Fe.retryLane))throw Fe.retryLane=N,_d(u,N),po(Q,u,N),C4;fS(pe)||D1(),f=R4(u,f,g)}else fS(pe)?(f.flags|=192,f.child=u.child,f=null):(u=Fe.treeContext,ma=Ac(pe.nextSibling),ci=f,ls=!0,Ki=null,Ua=!1,u!==null&&h1(f,u),f=D4(f,N.children),f.flags|=4096);return f}return T?(hn(),pe=N.fallback,T=f.mode,Fe=u.child,it=Fe.sibling,N=so(Fe,{mode:"hidden",children:N.children}),N.subtreeFlags=Fe.subtreeFlags&65011712,it!==null?pe=so(it,pe):(pe=lu(pe,T,g,null),pe.flags|=2),pe.return=f,N.return=f,N.sibling=pe,f.child=N,vv(null,N),N=f.child,pe=u.child.memoizedState,pe===null?pe=P4(g):(T=pe.cachePool,T!==null?(Fe=en._currentValue,T=T.parent!==Fe?{parent:Fe,pool:Fe}:T):T=Ce(),pe={baseLanes:pe.baseLanes|g,cachePool:T}),N.memoizedState=pe,N.childLanes=O4(u,Q,g),f.memoizedState=E4,vv(u.child,N)):(tn(f),g=u.child,u=g.sibling,g=so(g,{mode:"visible",children:N.children}),g.return=f,g.sibling=null,u!==null&&(Q=f.deletions,Q===null?(f.deletions=[u],f.flags|=16):Q.push(u)),f.child=g,f.memoizedState=null,g)}function D4(u,f){return f=S1({mode:"visible",children:f},u.mode),f.return=u,u.child=f}function S1(u,f){return u=_i(22,u,null,f),u.lanes=0,u}function R4(u,f,g){return xa(f,u.child,null,g),u=D4(f,f.pendingProps.children),u.flags|=2,f.memoizedState=null,u}function dO(u,f,g){u.lanes|=f;var N=u.alternate;N!==null&&(N.lanes|=f),Pf(u.return,f,g)}function M4(u,f,g,N,T,R){var Q=u.memoizedState;Q===null?u.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:N,tail:g,tailMode:T,treeForkCount:R}:(Q.isBackwards=f,Q.rendering=null,Q.renderingStartTime=0,Q.last=N,Q.tail=g,Q.tailMode=T,Q.treeForkCount=R)}function uO(u,f,g){var N=f.pendingProps,T=N.revealOrder,R=N.tail;N=N.children;var Q=ps.current,pe=(Q&2)!==0;if(pe?(Q=Q&1|2,f.flags|=128):Q&=1,H(ps,Q),Xi(u,f,N,g),N=ls?l0:0,!pe&&u!==null&&(u.flags&128)!==0)e:for(u=f.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&dO(u,g,f);else if(u.tag===19)dO(u,g,f);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===f)break e;for(;u.sibling===null;){if(u.return===null||u.return===f)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}switch(T){case"forwards":for(g=f.child,T=null;g!==null;)u=g.alternate,u!==null&&Ai(u)===null&&(T=g),g=g.sibling;g=T,g===null?(T=f.child,f.child=null):(T=g.sibling,g.sibling=null),M4(f,!1,T,g,R,N);break;case"backwards":case"unstable_legacy-backwards":for(g=null,T=f.child,f.child=null;T!==null;){if(u=T.alternate,u!==null&&Ai(u)===null){f.child=T;break}u=T.sibling,T.sibling=g,g=T,T=u}M4(f,!0,g,null,R,N);break;case"together":M4(f,!1,null,null,void 0,N);break;default:f.memoizedState=null}return f.child}function mh(u,f,g){if(u!==null&&(f.dependencies=u.dependencies),Bf|=f.lanes,(g&f.childLanes)===0)if(u!==null){if(hu(u,f,g,!1),(g&f.childLanes)===0)return null}else return null;if(u!==null&&f.child!==u.child)throw Error(a(153));if(f.child!==null){for(u=f.child,g=so(u,u.pendingProps),f.child=g,g.return=f;u.sibling!==null;)u=u.sibling,g=g.sibling=so(u,u.pendingProps),g.return=f;g.sibling=null}return f.child}function F4(u,f){return(u.lanes&f)!==0?!0:(u=u.dependencies,!!(u!==null&&Yx(u)))}function NZ(u,f,g){switch(f.tag){case 3:Se(f,f.stateNode.containerInfo),uu(f,en,u.memoizedState.cache),ch();break;case 27:case 5:ge(f);break;case 4:Se(f,f.stateNode.containerInfo);break;case 10:uu(f,f.type,f.memoizedProps.value);break;case 31:if(f.memoizedState!==null)return f.flags|=128,Bs(f),null;break;case 13:var N=f.memoizedState;if(N!==null)return N.dehydrated!==null?(tn(f),f.flags|=128,null):(g&f.child.childLanes)!==0?cO(u,f,g):(tn(f),u=mh(u,f,g),u!==null?u.sibling:null);tn(f);break;case 19:var T=(u.flags&128)!==0;if(N=(g&f.childLanes)!==0,N||(hu(u,f,g,!1),N=(g&f.childLanes)!==0),T){if(N)return uO(u,f,g);f.flags|=128}if(T=f.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),H(ps,ps.current),N)break;return null;case 22:return f.lanes=0,sO(u,f,g,f.pendingProps);case 24:uu(f,en,u.memoizedState.cache)}return mh(u,f,g)}function hO(u,f,g){if(u!==null)if(u.memoizedProps!==f.pendingProps)qn=!0;else{if(!F4(u,g)&&(f.flags&128)===0)return qn=!1,NZ(u,f,g);qn=(u.flags&131072)!==0}else qn=!1,ls&&(f.flags&1048576)!==0&&u1(f,l0,f.index);switch(f.lanes=0,f.tag){case 16:e:{var N=f.pendingProps;if(u=Ye(f.elementType),f.type=u,typeof u=="function")Hx(u)?(N=h0(u,N),f.tag=1,f=lO(null,f,u,N,g)):(f.tag=0,f=T4(null,f,u,N,g));else{if(u!=null){var T=u.$$typeof;if(T===k){f.tag=11,f=eO(null,f,u,N,g);break e}else if(T===E){f.tag=14,f=tO(null,f,u,N,g);break e}}throw f=K(u)||u,Error(a(306,f,""))}}return f;case 0:return T4(u,f,f.type,f.pendingProps,g);case 1:return N=f.type,T=h0(N,f.pendingProps),lO(u,f,N,T,g);case 3:e:{if(Se(f,f.stateNode.containerInfo),u===null)throw Error(a(387));N=f.pendingProps;var R=f.memoizedState;T=R.element,Ta(u,f),cn(f,N,null,g);var Q=f.memoizedState;if(N=Q.cache,uu(f,en,N),N!==R.cache&&dh(f,[en],g,!0),la(),N=Q.element,R.isDehydrated)if(R={element:N,isDehydrated:!1,cache:Q.cache},f.updateQueue.baseState=R,f.memoizedState=R,f.flags&256){f=oO(u,f,N,g);break e}else if(N!==T){T=ao(Error(a(424)),f),Ef(T),f=oO(u,f,N,g);break e}else for(u=f.stateNode.containerInfo,u.nodeType===9?u=u.body:u=u.nodeName==="HTML"?u.ownerDocument.body:u,ma=Ac(u.firstChild),ci=f,ls=!0,Ki=null,Ua=!0,g=Ir(f,null,N,g),f.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(ch(),N===T){f=mh(u,f,g);break e}Xi(u,f,N,g)}f=f.child}return f;case 26:return w1(u,f),u===null?(g=w8(f.type,null,f.pendingProps,null))?f.memoizedState=g:ls||(g=f.type,u=f.pendingProps,N=U1(G.current).createElement(g),N[je]=f,N[ke]=u,Zi(N,g,u),Yt(N),f.stateNode=N):f.memoizedState=w8(f.type,u.memoizedProps,f.pendingProps,u.memoizedState),null;case 27:return ge(f),u===null&&ls&&(N=f.stateNode=b8(f.type,f.pendingProps,G.current),ci=f,Ua=!0,T=ma,qf(f.type)?(xS=T,ma=Ac(N.firstChild)):ma=T),Xi(u,f,f.pendingProps.children,g),w1(u,f),u===null&&(f.flags|=4194304),f.child;case 5:return u===null&&ls&&((T=N=ma)&&(N=JZ(N,f.type,f.pendingProps,Ua),N!==null?(f.stateNode=N,ci=f,ma=Ac(N.firstChild),Ua=!1,T=!0):T=!1),T||cu(f)),ge(f),T=f.type,R=f.pendingProps,Q=u!==null?u.memoizedProps:null,N=R.children,dS(T,R)?N=null:Q!==null&&dS(T,Q)&&(f.flags|=32),f.memoizedState!==null&&(T=cv(u,f,g4,null,null,g),Dv._currentValue=T),w1(u,f),Xi(u,f,N,g),f.child;case 6:return u===null&&ls&&((u=g=ma)&&(g=QZ(g,f.pendingProps,Ua),g!==null?(f.stateNode=g,ci=f,ma=null,u=!0):u=!1),u||cu(f)),null;case 13:return cO(u,f,g);case 4:return Se(f,f.stateNode.containerInfo),N=f.pendingProps,u===null?f.child=xa(f,null,N,g):Xi(u,f,N,g),f.child;case 11:return eO(u,f,f.type,f.pendingProps,g);case 7:return Xi(u,f,f.pendingProps,g),f.child;case 8:return Xi(u,f,f.pendingProps.children,g),f.child;case 12:return Xi(u,f,f.pendingProps.children,g),f.child;case 10:return N=f.pendingProps,uu(f,f.type,N.value),Xi(u,f,N.children,g),f.child;case 9:return T=f.type._context,N=f.pendingProps.children,fu(f),T=ui(T),N=N(T),f.flags|=1,Xi(u,f,N,g),f.child;case 14:return tO(u,f,f.type,f.pendingProps,g);case 15:return rO(u,f,f.type,f.pendingProps,g);case 19:return uO(u,f,g);case 31:return jZ(u,f,g);case 22:return sO(u,f,g,f.pendingProps);case 24:return fu(f),N=ui(en),u===null?(T=ve(),T===null&&(T=pa,R=Of(),T.pooledCache=R,R.refCount++,R!==null&&(T.pooledCacheLanes|=g),T=R),f.memoizedState={parent:N,cache:T},zt(f),uu(f,en,T)):((u.lanes&g)!==0&&(Ta(u,f),cn(f,null,null,g),la()),T=u.memoizedState,R=f.memoizedState,T.parent!==N?(T={parent:N,cache:N},f.memoizedState=T,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=T),uu(f,en,N)):(N=R.cache,uu(f,en,N),N!==T.cache&&dh(f,[en],g,!0))),Xi(u,f,f.pendingProps.children,g),f.child;case 29:throw f.pendingProps}throw Error(a(156,f.tag))}function xh(u){u.flags|=4}function L4(u,f,g,N,T){if((f=(u.mode&32)!==0)&&(f=!1),f){if(u.flags|=16777216,(T&335544128)===T)if(u.stateNode.complete)u.flags|=8192;else if(BO())u.flags|=8192;else throw pt=$e,Qe}else u.flags&=-16777217}function fO(u,f){if(f.type!=="stylesheet"||(f.state.loading&4)!==0)u.flags&=-16777217;else if(u.flags|=16777216,!C8(f))if(BO())u.flags|=8192;else throw pt=$e,Qe}function _1(u,f){f!==null&&(u.flags|=4),u.flags&16384&&(f=u.tag!==22?Zl():536870912,u.lanes|=f,dp|=f)}function yv(u,f){if(!ls)switch(u.tailMode){case"hidden":f=u.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?u.tail=null:g.sibling=null;break;case"collapsed":g=u.tail;for(var N=null;g!==null;)g.alternate!==null&&(N=g),g=g.sibling;N===null?f||u.tail===null?u.tail=null:u.tail.sibling=null:N.sibling=null}}function Oa(u){var f=u.alternate!==null&&u.alternate.child===u.child,g=0,N=0;if(f)for(var T=u.child;T!==null;)g|=T.lanes|T.childLanes,N|=T.subtreeFlags&65011712,N|=T.flags&65011712,T.return=u,T=T.sibling;else for(T=u.child;T!==null;)g|=T.lanes|T.childLanes,N|=T.subtreeFlags,N|=T.flags,T.return=u,T=T.sibling;return u.subtreeFlags|=N,u.childLanes=g,f}function wZ(u,f,g){var N=f.pendingProps;switch(Gx(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oa(f),null;case 1:return Oa(f),null;case 3:return g=f.stateNode,N=null,u!==null&&(N=u.memoizedState.cache),f.memoizedState.cache!==N&&(f.flags|=2048),co(en),se(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(u===null||u.child===null)&&(di(f)?xh(f):u===null||u.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,lv())),Oa(f),null;case 26:var T=f.type,R=f.memoizedState;return u===null?(xh(f),R!==null?(Oa(f),fO(f,R)):(Oa(f),L4(f,T,null,N,g))):R?R!==u.memoizedState?(xh(f),Oa(f),fO(f,R)):(Oa(f),f.flags&=-16777217):(u=u.memoizedProps,u!==N&&xh(f),Oa(f),L4(f,T,u,N,g)),null;case 27:if(Be(f),g=G.current,T=f.type,u!==null&&f.stateNode!=null)u.memoizedProps!==N&&xh(f);else{if(!N){if(f.stateNode===null)throw Error(a(166));return Oa(f),null}u=q.current,di(f)?iv(f):(u=b8(T,N,g),f.stateNode=u,xh(f))}return Oa(f),null;case 5:if(Be(f),T=f.type,u!==null&&f.stateNode!=null)u.memoizedProps!==N&&xh(f);else{if(!N){if(f.stateNode===null)throw Error(a(166));return Oa(f),null}if(R=q.current,di(f))iv(f);else{var Q=U1(G.current);switch(R){case 1:R=Q.createElementNS("http://www.w3.org/2000/svg",T);break;case 2:R=Q.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;default:switch(T){case"svg":R=Q.createElementNS("http://www.w3.org/2000/svg",T);break;case"math":R=Q.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;case"script":R=Q.createElement("div"),R.innerHTML="<script><\/script>",R=R.removeChild(R.firstChild);break;case"select":R=typeof N.is=="string"?Q.createElement("select",{is:N.is}):Q.createElement("select"),N.multiple?R.multiple=!0:N.size&&(R.size=N.size);break;default:R=typeof N.is=="string"?Q.createElement(T,{is:N.is}):Q.createElement(T)}}R[je]=f,R[ke]=N;e:for(Q=f.child;Q!==null;){if(Q.tag===5||Q.tag===6)R.appendChild(Q.stateNode);else if(Q.tag!==4&&Q.tag!==27&&Q.child!==null){Q.child.return=Q,Q=Q.child;continue}if(Q===f)break e;for(;Q.sibling===null;){if(Q.return===null||Q.return===f)break e;Q=Q.return}Q.sibling.return=Q.return,Q=Q.sibling}f.stateNode=R;e:switch(Zi(R,T,N),T){case"button":case"input":case"select":case"textarea":N=!!N.autoFocus;break e;case"img":N=!0;break e;default:N=!1}N&&xh(f)}}return Oa(f),L4(f,f.type,u===null?null:u.memoizedProps,f.pendingProps,g),null;case 6:if(u&&f.stateNode!=null)u.memoizedProps!==N&&xh(f);else{if(typeof N!="string"&&f.stateNode===null)throw Error(a(166));if(u=G.current,di(f)){if(u=f.stateNode,g=f.memoizedProps,N=null,T=ci,T!==null)switch(T.tag){case 27:case 5:N=T.memoizedProps}u[je]=f,u=!!(u.nodeValue===g||N!==null&&N.suppressHydrationWarning===!0||c8(u.nodeValue,g)),u||cu(f,!0)}else u=U1(u).createTextNode(N),u[je]=f,f.stateNode=u}return Oa(f),null;case 31:if(g=f.memoizedState,u===null||u.memoizedState!==null){if(N=di(f),g!==null){if(u===null){if(!N)throw Error(a(318));if(u=f.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(a(557));u[je]=f}else ch(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Oa(f),u=!1}else g=lv(),u!==null&&u.memoizedState!==null&&(u.memoizedState.hydrationErrors=g),u=!0;if(!u)return f.flags&256?(Gs(f),f):(Gs(f),null);if((f.flags&128)!==0)throw Error(a(558))}return Oa(f),null;case 13:if(N=f.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(T=di(f),N!==null&&N.dehydrated!==null){if(u===null){if(!T)throw Error(a(318));if(T=f.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(a(317));T[je]=f}else ch(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Oa(f),T=!1}else T=lv(),u!==null&&u.memoizedState!==null&&(u.memoizedState.hydrationErrors=T),T=!0;if(!T)return f.flags&256?(Gs(f),f):(Gs(f),null)}return Gs(f),(f.flags&128)!==0?(f.lanes=g,f):(g=N!==null,u=u!==null&&u.memoizedState!==null,g&&(N=f.child,T=null,N.alternate!==null&&N.alternate.memoizedState!==null&&N.alternate.memoizedState.cachePool!==null&&(T=N.alternate.memoizedState.cachePool.pool),R=null,N.memoizedState!==null&&N.memoizedState.cachePool!==null&&(R=N.memoizedState.cachePool.pool),R!==T&&(N.flags|=2048)),g!==u&&g&&(f.child.flags|=8192),_1(f,f.updateQueue),Oa(f),null);case 4:return se(),u===null&&nS(f.stateNode.containerInfo),Oa(f),null;case 10:return co(f.type),Oa(f),null;case 19:if(D(ps),N=f.memoizedState,N===null)return Oa(f),null;if(T=(f.flags&128)!==0,R=N.rendering,R===null)if(T)yv(N,!1);else{if(mn!==0||u!==null&&(u.flags&128)!==0)for(u=f.child;u!==null;){if(R=Ai(u),R!==null){for(f.flags|=128,yv(N,!1),u=R.updateQueue,f.updateQueue=u,_1(f,u),f.subtreeFlags=0,u=g,g=f.child;g!==null;)n0(g,u),g=g.sibling;return H(ps,ps.current&1|2),ls&&Ll(f,N.treeForkCount),f.child}u=u.sibling}N.tail!==null&&Oe()>E1&&(f.flags|=128,T=!0,yv(N,!1),f.lanes=4194304)}else{if(!T)if(u=Ai(R),u!==null){if(f.flags|=128,T=!0,u=u.updateQueue,f.updateQueue=u,_1(f,u),yv(N,!0),N.tail===null&&N.tailMode==="hidden"&&!R.alternate&&!ls)return Oa(f),null}else 2*Oe()-N.renderingStartTime>E1&&g!==536870912&&(f.flags|=128,T=!0,yv(N,!1),f.lanes=4194304);N.isBackwards?(R.sibling=f.child,f.child=R):(u=N.last,u!==null?u.sibling=R:f.child=R,N.last=R)}return N.tail!==null?(u=N.tail,N.rendering=u,N.tail=u.sibling,N.renderingStartTime=Oe(),u.sibling=null,g=ps.current,H(ps,T?g&1|2:g&1),ls&&Ll(f,N.treeForkCount),u):(Oa(f),null);case 22:case 23:return Gs(f),Tn(),N=f.memoizedState!==null,u!==null?u.memoizedState!==null!==N&&(f.flags|=8192):N&&(f.flags|=8192),N?(g&536870912)!==0&&(f.flags&128)===0&&(Oa(f),f.subtreeFlags&6&&(f.flags|=8192)):Oa(f),g=f.updateQueue,g!==null&&_1(f,g.retryQueue),g=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),N=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(N=f.memoizedState.cachePool.pool),N!==g&&(f.flags|=2048),u!==null&&D(me),null;case 24:return g=null,u!==null&&(g=u.memoizedState.cache),f.memoizedState.cache!==g&&(f.flags|=2048),co(en),Oa(f),null;case 25:return null;case 30:return null}throw Error(a(156,f.tag))}function SZ(u,f){switch(Gx(f),f.tag){case 1:return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 3:return co(en),se(),u=f.flags,(u&65536)!==0&&(u&128)===0?(f.flags=u&-65537|128,f):null;case 26:case 27:case 5:return Be(f),null;case 31:if(f.memoizedState!==null){if(Gs(f),f.alternate===null)throw Error(a(340));ch()}return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 13:if(Gs(f),u=f.memoizedState,u!==null&&u.dehydrated!==null){if(f.alternate===null)throw Error(a(340));ch()}return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 19:return D(ps),null;case 4:return se(),null;case 10:return co(f.type),null;case 22:case 23:return Gs(f),Tn(),u!==null&&D(me),u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 24:return co(en),null;case 25:return null;default:return null}}function mO(u,f){switch(Gx(f),f.tag){case 3:co(en),se();break;case 26:case 27:case 5:Be(f);break;case 4:se();break;case 31:f.memoizedState!==null&&Gs(f);break;case 13:Gs(f);break;case 19:D(ps);break;case 10:co(f.type);break;case 22:case 23:Gs(f),Tn(),u!==null&&D(me);break;case 24:co(en)}}function bv(u,f){try{var g=f.updateQueue,N=g!==null?g.lastEffect:null;if(N!==null){var T=N.next;g=T;do{if((g.tag&u)===u){N=void 0;var R=g.create,Q=g.inst;N=R(),Q.destroy=N}g=g.next}while(g!==T)}}catch(pe){Ys(f,f.return,pe)}}function Lf(u,f,g){try{var N=f.updateQueue,T=N!==null?N.lastEffect:null;if(T!==null){var R=T.next;N=R;do{if((N.tag&u)===u){var Q=N.inst,pe=Q.destroy;if(pe!==void 0){Q.destroy=void 0,T=f;var Fe=g,it=pe;try{it()}catch(yt){Ys(T,Fe,yt)}}}N=N.next}while(N!==R)}}catch(yt){Ys(f,f.return,yt)}}function xO(u){var f=u.updateQueue;if(f!==null){var g=u.stateNode;try{dn(f,g)}catch(N){Ys(u,u.return,N)}}}function pO(u,f,g){g.props=h0(u.type,u.memoizedProps),g.state=u.memoizedState;try{g.componentWillUnmount()}catch(N){Ys(u,f,N)}}function jv(u,f){try{var g=u.ref;if(g!==null){switch(u.tag){case 26:case 27:case 5:var N=u.stateNode;break;case 30:N=u.stateNode;break;default:N=u.stateNode}typeof g=="function"?u.refCleanup=g(N):g.current=N}}catch(T){Ys(u,f,T)}}function vu(u,f){var g=u.ref,N=u.refCleanup;if(g!==null)if(typeof N=="function")try{N()}catch(T){Ys(u,f,T)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(T){Ys(u,f,T)}else g.current=null}function gO(u){var f=u.type,g=u.memoizedProps,N=u.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":g.autoFocus&&N.focus();break e;case"img":g.src?N.src=g.src:g.srcSet&&(N.srcset=g.srcSet)}}catch(T){Ys(u,u.return,T)}}function I4(u,f,g){try{var N=u.stateNode;WZ(N,u.type,g,f),N[ke]=f}catch(T){Ys(u,u.return,T)}}function vO(u){return u.tag===5||u.tag===3||u.tag===26||u.tag===27&&qf(u.type)||u.tag===4}function B4(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||vO(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.tag===27&&qf(u.type)||u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function U4(u,f,g){var N=u.tag;if(N===5||N===6)u=u.stateNode,f?(g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g).insertBefore(u,f):(f=g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g,f.appendChild(u),g=g._reactRootContainer,g!=null||f.onclick!==null||(f.onclick=Fo));else if(N!==4&&(N===27&&qf(u.type)&&(g=u.stateNode,f=null),u=u.child,u!==null))for(U4(u,f,g),u=u.sibling;u!==null;)U4(u,f,g),u=u.sibling}function k1(u,f,g){var N=u.tag;if(N===5||N===6)u=u.stateNode,f?g.insertBefore(u,f):g.appendChild(u);else if(N!==4&&(N===27&&qf(u.type)&&(g=u.stateNode),u=u.child,u!==null))for(k1(u,f,g),u=u.sibling;u!==null;)k1(u,f,g),u=u.sibling}function yO(u){var f=u.stateNode,g=u.memoizedProps;try{for(var N=u.type,T=f.attributes;T.length;)f.removeAttributeNode(T[0]);Zi(f,N,g),f[je]=u,f[ke]=g}catch(R){Ys(u,u.return,R)}}var ph=!1,Vn=!1,z4=!1,bO=typeof WeakSet=="function"?WeakSet:Set,Ci=null;function _Z(u,f){if(u=u.containerInfo,oS=G1,u=wd(u),Nc(u)){if("selectionStart"in u)var g={start:u.selectionStart,end:u.selectionEnd};else e:{g=(g=u.ownerDocument)&&g.defaultView||window;var N=g.getSelection&&g.getSelection();if(N&&N.rangeCount!==0){g=N.anchorNode;var T=N.anchorOffset,R=N.focusNode;N=N.focusOffset;try{g.nodeType,R.nodeType}catch{g=null;break e}var Q=0,pe=-1,Fe=-1,it=0,yt=0,_t=u,lt=null;t:for(;;){for(var dt;_t!==g||T!==0&&_t.nodeType!==3||(pe=Q+T),_t!==R||N!==0&&_t.nodeType!==3||(Fe=Q+N),_t.nodeType===3&&(Q+=_t.nodeValue.length),(dt=_t.firstChild)!==null;)lt=_t,_t=dt;for(;;){if(_t===u)break t;if(lt===g&&++it===T&&(pe=Q),lt===R&&++yt===N&&(Fe=Q),(dt=_t.nextSibling)!==null)break;_t=lt,lt=_t.parentNode}_t=dt}g=pe===-1||Fe===-1?null:{start:pe,end:Fe}}else g=null}g=g||{start:0,end:0}}else g=null;for(cS={focusedElem:u,selectionRange:g},G1=!1,Ci=f;Ci!==null;)if(f=Ci,u=f.child,(f.subtreeFlags&1028)!==0&&u!==null)u.return=f,Ci=u;else for(;Ci!==null;){switch(f=Ci,R=f.alternate,u=f.flags,f.tag){case 0:if((u&4)!==0&&(u=f.updateQueue,u=u!==null?u.events:null,u!==null))for(g=0;g<u.length;g++)T=u[g],T.ref.impl=T.nextImpl;break;case 11:case 15:break;case 1:if((u&1024)!==0&&R!==null){u=void 0,g=f,T=R.memoizedProps,R=R.memoizedState,N=g.stateNode;try{var er=h0(g.type,T);u=N.getSnapshotBeforeUpdate(er,R),N.__reactInternalSnapshotBeforeUpdate=u}catch(_r){Ys(g,g.return,_r)}}break;case 3:if((u&1024)!==0){if(u=f.stateNode.containerInfo,g=u.nodeType,g===9)hS(u);else if(g===1)switch(u.nodeName){case"HEAD":case"HTML":case"BODY":hS(u);break;default:u.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((u&1024)!==0)throw Error(a(163))}if(u=f.sibling,u!==null){u.return=f.return,Ci=u;break}Ci=f.return}}function jO(u,f,g){var N=g.flags;switch(g.tag){case 0:case 11:case 15:vh(u,g),N&4&&bv(5,g);break;case 1:if(vh(u,g),N&4)if(u=g.stateNode,f===null)try{u.componentDidMount()}catch(Q){Ys(g,g.return,Q)}else{var T=h0(g.type,f.memoizedProps);f=f.memoizedState;try{u.componentDidUpdate(T,f,u.__reactInternalSnapshotBeforeUpdate)}catch(Q){Ys(g,g.return,Q)}}N&64&&xO(g),N&512&&jv(g,g.return);break;case 3:if(vh(u,g),N&64&&(u=g.updateQueue,u!==null)){if(f=null,g.child!==null)switch(g.child.tag){case 27:case 5:f=g.child.stateNode;break;case 1:f=g.child.stateNode}try{dn(u,f)}catch(Q){Ys(g,g.return,Q)}}break;case 27:f===null&&N&4&&yO(g);case 26:case 5:vh(u,g),f===null&&N&4&&gO(g),N&512&&jv(g,g.return);break;case 12:vh(u,g);break;case 31:vh(u,g),N&4&&SO(u,g);break;case 13:vh(u,g),N&4&&_O(u,g),N&64&&(u=g.memoizedState,u!==null&&(u=u.dehydrated,u!==null&&(g=RZ.bind(null,g),eJ(u,g))));break;case 22:if(N=g.memoizedState!==null||ph,!N){f=f!==null&&f.memoizedState!==null||Vn,T=ph;var R=Vn;ph=N,(Vn=f)&&!R?yh(u,g,(g.subtreeFlags&8772)!==0):vh(u,g),ph=T,Vn=R}break;case 30:break;default:vh(u,g)}}function NO(u){var f=u.alternate;f!==null&&(u.alternate=null,NO(f)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(f=u.stateNode,f!==null&&Dt(f)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}var Ha=null,ho=!1;function gh(u,f,g){for(g=g.child;g!==null;)wO(u,f,g),g=g.sibling}function wO(u,f,g){if(Vt&&typeof Vt.onCommitFiberUnmount=="function")try{Vt.onCommitFiberUnmount(Jt,g)}catch{}switch(g.tag){case 26:Vn||vu(g,f),gh(u,f,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:Vn||vu(g,f);var N=Ha,T=ho;qf(g.type)&&(Ha=g.stateNode,ho=!1),gh(u,f,g),Ev(g.stateNode),Ha=N,ho=T;break;case 5:Vn||vu(g,f);case 6:if(N=Ha,T=ho,Ha=null,gh(u,f,g),Ha=N,ho=T,Ha!==null)if(ho)try{(Ha.nodeType===9?Ha.body:Ha.nodeName==="HTML"?Ha.ownerDocument.body:Ha).removeChild(g.stateNode)}catch(R){Ys(g,f,R)}else try{Ha.removeChild(g.stateNode)}catch(R){Ys(g,f,R)}break;case 18:Ha!==null&&(ho?(u=Ha,x8(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,g.stateNode),vp(u)):x8(Ha,g.stateNode));break;case 4:N=Ha,T=ho,Ha=g.stateNode.containerInfo,ho=!0,gh(u,f,g),Ha=N,ho=T;break;case 0:case 11:case 14:case 15:Lf(2,g,f),Vn||Lf(4,g,f),gh(u,f,g);break;case 1:Vn||(vu(g,f),N=g.stateNode,typeof N.componentWillUnmount=="function"&&pO(g,f,N)),gh(u,f,g);break;case 21:gh(u,f,g);break;case 22:Vn=(N=Vn)||g.memoizedState!==null,gh(u,f,g),Vn=N;break;default:gh(u,f,g)}}function SO(u,f){if(f.memoizedState===null&&(u=f.alternate,u!==null&&(u=u.memoizedState,u!==null))){u=u.dehydrated;try{vp(u)}catch(g){Ys(f,f.return,g)}}}function _O(u,f){if(f.memoizedState===null&&(u=f.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{vp(u)}catch(g){Ys(f,f.return,g)}}function kZ(u){switch(u.tag){case 31:case 13:case 19:var f=u.stateNode;return f===null&&(f=u.stateNode=new bO),f;case 22:return u=u.stateNode,f=u._retryCache,f===null&&(f=u._retryCache=new bO),f;default:throw Error(a(435,u.tag))}}function A1(u,f){var g=kZ(u);f.forEach(function(N){if(!g.has(N)){g.add(N);var T=MZ.bind(null,u,N);N.then(T,T)}})}function fo(u,f){var g=f.deletions;if(g!==null)for(var N=0;N<g.length;N++){var T=g[N],R=u,Q=f,pe=Q;e:for(;pe!==null;){switch(pe.tag){case 27:if(qf(pe.type)){Ha=pe.stateNode,ho=!1;break e}break;case 5:Ha=pe.stateNode,ho=!1;break e;case 3:case 4:Ha=pe.stateNode.containerInfo,ho=!0;break e}pe=pe.return}if(Ha===null)throw Error(a(160));wO(R,Q,T),Ha=null,ho=!1,R=T.alternate,R!==null&&(R.return=null),T.return=null}if(f.subtreeFlags&13886)for(f=f.child;f!==null;)kO(f,u),f=f.sibling}var Pd=null;function kO(u,f){var g=u.alternate,N=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:fo(f,u),mo(u),N&4&&(Lf(3,u,u.return),bv(3,u),Lf(5,u,u.return));break;case 1:fo(f,u),mo(u),N&512&&(Vn||g===null||vu(g,g.return)),N&64&&ph&&(u=u.updateQueue,u!==null&&(N=u.callbacks,N!==null&&(g=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=g===null?N:g.concat(N))));break;case 26:var T=Pd;if(fo(f,u),mo(u),N&512&&(Vn||g===null||vu(g,g.return)),N&4){var R=g!==null?g.memoizedState:null;if(N=u.memoizedState,g===null)if(N===null)if(u.stateNode===null){e:{N=u.type,g=u.memoizedProps,T=T.ownerDocument||T;t:switch(N){case"title":R=T.getElementsByTagName("title")[0],(!R||R[rt]||R[je]||R.namespaceURI==="http://www.w3.org/2000/svg"||R.hasAttribute("itemprop"))&&(R=T.createElement(N),T.head.insertBefore(R,T.querySelector("head > title"))),Zi(R,N,g),R[je]=u,Yt(R),N=R;break e;case"link":var Q=k8("link","href",T).get(N+(g.href||""));if(Q){for(var pe=0;pe<Q.length;pe++)if(R=Q[pe],R.getAttribute("href")===(g.href==null||g.href===""?null:g.href)&&R.getAttribute("rel")===(g.rel==null?null:g.rel)&&R.getAttribute("title")===(g.title==null?null:g.title)&&R.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){Q.splice(pe,1);break t}}R=T.createElement(N),Zi(R,N,g),T.head.appendChild(R);break;case"meta":if(Q=k8("meta","content",T).get(N+(g.content||""))){for(pe=0;pe<Q.length;pe++)if(R=Q[pe],R.getAttribute("content")===(g.content==null?null:""+g.content)&&R.getAttribute("name")===(g.name==null?null:g.name)&&R.getAttribute("property")===(g.property==null?null:g.property)&&R.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&R.getAttribute("charset")===(g.charSet==null?null:g.charSet)){Q.splice(pe,1);break t}}R=T.createElement(N),Zi(R,N,g),T.head.appendChild(R);break;default:throw Error(a(468,N))}R[je]=u,Yt(R),N=R}u.stateNode=N}else A8(T,u.type,u.stateNode);else u.stateNode=_8(T,N,u.memoizedProps);else R!==N?(R===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):R.count--,N===null?A8(T,u.type,u.stateNode):_8(T,N,u.memoizedProps)):N===null&&u.stateNode!==null&&I4(u,u.memoizedProps,g.memoizedProps)}break;case 27:fo(f,u),mo(u),N&512&&(Vn||g===null||vu(g,g.return)),g!==null&&N&4&&I4(u,u.memoizedProps,g.memoizedProps);break;case 5:if(fo(f,u),mo(u),N&512&&(Vn||g===null||vu(g,g.return)),u.flags&32){T=u.stateNode;try{Mo(T,"")}catch(er){Ys(u,u.return,er)}}N&4&&u.stateNode!=null&&(T=u.memoizedProps,I4(u,T,g!==null?g.memoizedProps:T)),N&1024&&(z4=!0);break;case 6:if(fo(f,u),mo(u),N&4){if(u.stateNode===null)throw Error(a(162));N=u.memoizedProps,g=u.stateNode;try{g.nodeValue=N}catch(er){Ys(u,u.return,er)}}break;case 3:if(H1=null,T=Pd,Pd=z1(f.containerInfo),fo(f,u),Pd=T,mo(u),N&4&&g!==null&&g.memoizedState.isDehydrated)try{vp(f.containerInfo)}catch(er){Ys(u,u.return,er)}z4&&(z4=!1,AO(u));break;case 4:N=Pd,Pd=z1(u.stateNode.containerInfo),fo(f,u),mo(u),Pd=N;break;case 12:fo(f,u),mo(u);break;case 31:fo(f,u),mo(u),N&4&&(N=u.updateQueue,N!==null&&(u.updateQueue=null,A1(u,N)));break;case 13:fo(f,u),mo(u),u.child.flags&8192&&u.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(T1=Oe()),N&4&&(N=u.updateQueue,N!==null&&(u.updateQueue=null,A1(u,N)));break;case 22:T=u.memoizedState!==null;var Fe=g!==null&&g.memoizedState!==null,it=ph,yt=Vn;if(ph=it||T,Vn=yt||Fe,fo(f,u),Vn=yt,ph=it,mo(u),N&8192)e:for(f=u.stateNode,f._visibility=T?f._visibility&-2:f._visibility|1,T&&(g===null||Fe||ph||Vn||f0(u)),g=null,f=u;;){if(f.tag===5||f.tag===26){if(g===null){Fe=g=f;try{if(R=Fe.stateNode,T)Q=R.style,typeof Q.setProperty=="function"?Q.setProperty("display","none","important"):Q.display="none";else{pe=Fe.stateNode;var _t=Fe.memoizedProps.style,lt=_t!=null&&_t.hasOwnProperty("display")?_t.display:null;pe.style.display=lt==null||typeof lt=="boolean"?"":(""+lt).trim()}}catch(er){Ys(Fe,Fe.return,er)}}}else if(f.tag===6){if(g===null){Fe=f;try{Fe.stateNode.nodeValue=T?"":Fe.memoizedProps}catch(er){Ys(Fe,Fe.return,er)}}}else if(f.tag===18){if(g===null){Fe=f;try{var dt=Fe.stateNode;T?p8(dt,!0):p8(Fe.stateNode,!1)}catch(er){Ys(Fe,Fe.return,er)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===u)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break e;for(;f.sibling===null;){if(f.return===null||f.return===u)break e;g===f&&(g=null),f=f.return}g===f&&(g=null),f.sibling.return=f.return,f=f.sibling}N&4&&(N=u.updateQueue,N!==null&&(g=N.retryQueue,g!==null&&(N.retryQueue=null,A1(u,g))));break;case 19:fo(f,u),mo(u),N&4&&(N=u.updateQueue,N!==null&&(u.updateQueue=null,A1(u,N)));break;case 30:break;case 21:break;default:fo(f,u),mo(u)}}function mo(u){var f=u.flags;if(f&2){try{for(var g,N=u.return;N!==null;){if(vO(N)){g=N;break}N=N.return}if(g==null)throw Error(a(160));switch(g.tag){case 27:var T=g.stateNode,R=B4(u);k1(u,R,T);break;case 5:var Q=g.stateNode;g.flags&32&&(Mo(Q,""),g.flags&=-33);var pe=B4(u);k1(u,pe,Q);break;case 3:case 4:var Fe=g.stateNode.containerInfo,it=B4(u);U4(u,it,Fe);break;default:throw Error(a(161))}}catch(yt){Ys(u,u.return,yt)}u.flags&=-3}f&4096&&(u.flags&=-4097)}function AO(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var f=u;AO(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),u=u.sibling}}function vh(u,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)jO(u,f.alternate,f),f=f.sibling}function f0(u){for(u=u.child;u!==null;){var f=u;switch(f.tag){case 0:case 11:case 14:case 15:Lf(4,f,f.return),f0(f);break;case 1:vu(f,f.return);var g=f.stateNode;typeof g.componentWillUnmount=="function"&&pO(f,f.return,g),f0(f);break;case 27:Ev(f.stateNode);case 26:case 5:vu(f,f.return),f0(f);break;case 22:f.memoizedState===null&&f0(f);break;case 30:f0(f);break;default:f0(f)}u=u.sibling}}function yh(u,f,g){for(g=g&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var N=f.alternate,T=u,R=f,Q=R.flags;switch(R.tag){case 0:case 11:case 15:yh(T,R,g),bv(4,R);break;case 1:if(yh(T,R,g),N=R,T=N.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(it){Ys(N,N.return,it)}if(N=R,T=N.updateQueue,T!==null){var pe=N.stateNode;try{var Fe=T.shared.hiddenCallbacks;if(Fe!==null)for(T.shared.hiddenCallbacks=null,T=0;T<Fe.length;T++)ki(Fe[T],pe)}catch(it){Ys(N,N.return,it)}}g&&Q&64&&xO(R),jv(R,R.return);break;case 27:yO(R);case 26:case 5:yh(T,R,g),g&&N===null&&Q&4&&gO(R),jv(R,R.return);break;case 12:yh(T,R,g);break;case 31:yh(T,R,g),g&&Q&4&&SO(T,R);break;case 13:yh(T,R,g),g&&Q&4&&_O(T,R);break;case 22:R.memoizedState===null&&yh(T,R,g),jv(R,R.return);break;case 30:break;default:yh(T,R,g)}f=f.sibling}}function $4(u,f){var g=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),u=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(u=f.memoizedState.cachePool.pool),u!==g&&(u!=null&&u.refCount++,g!=null&&o0(g))}function H4(u,f){u=null,f.alternate!==null&&(u=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==u&&(f.refCount++,u!=null&&o0(u))}function Od(u,f,g,N){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)CO(u,f,g,N),f=f.sibling}function CO(u,f,g,N){var T=f.flags;switch(f.tag){case 0:case 11:case 15:Od(u,f,g,N),T&2048&&bv(9,f);break;case 1:Od(u,f,g,N);break;case 3:Od(u,f,g,N),T&2048&&(u=null,f.alternate!==null&&(u=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==u&&(f.refCount++,u!=null&&o0(u)));break;case 12:if(T&2048){Od(u,f,g,N),u=f.stateNode;try{var R=f.memoizedProps,Q=R.id,pe=R.onPostCommit;typeof pe=="function"&&pe(Q,f.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(Fe){Ys(f,f.return,Fe)}}else Od(u,f,g,N);break;case 31:Od(u,f,g,N);break;case 13:Od(u,f,g,N);break;case 23:break;case 22:R=f.stateNode,Q=f.alternate,f.memoizedState!==null?R._visibility&2?Od(u,f,g,N):Nv(u,f):R._visibility&2?Od(u,f,g,N):(R._visibility|=2,lp(u,f,g,N,(f.subtreeFlags&10256)!==0||!1)),T&2048&&$4(Q,f);break;case 24:Od(u,f,g,N),T&2048&&H4(f.alternate,f);break;default:Od(u,f,g,N)}}function lp(u,f,g,N,T){for(T=T&&((f.subtreeFlags&10256)!==0||!1),f=f.child;f!==null;){var R=u,Q=f,pe=g,Fe=N,it=Q.flags;switch(Q.tag){case 0:case 11:case 15:lp(R,Q,pe,Fe,T),bv(8,Q);break;case 23:break;case 22:var yt=Q.stateNode;Q.memoizedState!==null?yt._visibility&2?lp(R,Q,pe,Fe,T):Nv(R,Q):(yt._visibility|=2,lp(R,Q,pe,Fe,T)),T&&it&2048&&$4(Q.alternate,Q);break;case 24:lp(R,Q,pe,Fe,T),T&&it&2048&&H4(Q.alternate,Q);break;default:lp(R,Q,pe,Fe,T)}f=f.sibling}}function Nv(u,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var g=u,N=f,T=N.flags;switch(N.tag){case 22:Nv(g,N),T&2048&&$4(N.alternate,N);break;case 24:Nv(g,N),T&2048&&H4(N.alternate,N);break;default:Nv(g,N)}f=f.sibling}}var wv=8192;function op(u,f,g){if(u.subtreeFlags&wv)for(u=u.child;u!==null;)TO(u,f,g),u=u.sibling}function TO(u,f,g){switch(u.tag){case 26:op(u,f,g),u.flags&wv&&u.memoizedState!==null&&hJ(g,Pd,u.memoizedState,u.memoizedProps);break;case 5:op(u,f,g);break;case 3:case 4:var N=Pd;Pd=z1(u.stateNode.containerInfo),op(u,f,g),Pd=N;break;case 22:u.memoizedState===null&&(N=u.alternate,N!==null&&N.memoizedState!==null?(N=wv,wv=16777216,op(u,f,g),wv=N):op(u,f,g));break;default:op(u,f,g)}}function EO(u){var f=u.alternate;if(f!==null&&(u=f.child,u!==null)){f.child=null;do f=u.sibling,u.sibling=null,u=f;while(u!==null)}}function Sv(u){var f=u.deletions;if((u.flags&16)!==0){if(f!==null)for(var g=0;g<f.length;g++){var N=f[g];Ci=N,OO(N,u)}EO(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)PO(u),u=u.sibling}function PO(u){switch(u.tag){case 0:case 11:case 15:Sv(u),u.flags&2048&&Lf(9,u,u.return);break;case 3:Sv(u);break;case 12:Sv(u);break;case 22:var f=u.stateNode;u.memoizedState!==null&&f._visibility&2&&(u.return===null||u.return.tag!==13)?(f._visibility&=-3,C1(u)):Sv(u);break;default:Sv(u)}}function C1(u){var f=u.deletions;if((u.flags&16)!==0){if(f!==null)for(var g=0;g<f.length;g++){var N=f[g];Ci=N,OO(N,u)}EO(u)}for(u=u.child;u!==null;){switch(f=u,f.tag){case 0:case 11:case 15:Lf(8,f,f.return),C1(f);break;case 22:g=f.stateNode,g._visibility&2&&(g._visibility&=-3,C1(f));break;default:C1(f)}u=u.sibling}}function OO(u,f){for(;Ci!==null;){var g=Ci;switch(g.tag){case 0:case 11:case 15:Lf(8,g,f);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var N=g.memoizedState.cachePool.pool;N!=null&&N.refCount++}break;case 24:o0(g.memoizedState.cache)}if(N=g.child,N!==null)N.return=g,Ci=N;else e:for(g=u;Ci!==null;){N=Ci;var T=N.sibling,R=N.return;if(NO(N),N===g){Ci=null;break e}if(T!==null){T.return=R,Ci=T;break e}Ci=R}}}var AZ={getCacheForType:function(u){var f=ui(en),g=f.data.get(u);return g===void 0&&(g=u(),f.data.set(u,g)),g},cacheSignal:function(){return ui(en).controller.signal}},CZ=typeof WeakMap=="function"?WeakMap:Map,Us=0,pa=null,os=null,us=0,Ks=0,Ho=null,If=!1,cp=!1,q4=!1,bh=0,mn=0,Bf=0,m0=0,V4=0,qo=0,dp=0,_v=null,xo=null,W4=!1,T1=0,DO=0,E1=1/0,P1=null,Uf=null,fi=0,zf=null,up=null,jh=0,G4=0,K4=null,RO=null,kv=0,Y4=null;function Vo(){return(Us&2)!==0&&us!==0?us&-us:V.T!==null?tS():ce()}function MO(){if(qo===0)if((us&536870912)===0||ls){var u=Fs;Fs<<=1,(Fs&3932160)===0&&(Fs=262144),qo=u}else qo=536870912;return u=Pa.current,u!==null&&(u.flags|=32),qo}function po(u,f,g){(u===pa&&(Ks===2||Ks===9)||u.cancelPendingCommit!==null)&&(hp(u,0),$f(u,us,qo,!1)),hr(u,g),((Us&2)===0||u!==pa)&&(u===pa&&((Us&2)===0&&(m0|=g),mn===4&&$f(u,us,qo,!1)),yu(u))}function FO(u,f,g){if((Us&6)!==0)throw Error(a(327));var N=!g&&(f&127)===0&&(f&u.expiredLanes)===0||El(u,f),T=N?PZ(u,f):Z4(u,f,!0),R=N;do{if(T===0){cp&&!N&&$f(u,f,0,!1);break}else{if(g=u.current.alternate,R&&!TZ(g)){T=Z4(u,f,!1),R=!1;continue}if(T===2){if(R=f,u.errorRecoveryDisabledLanes&R)var Q=0;else Q=u.pendingLanes&-536870913,Q=Q!==0?Q:Q&536870912?536870912:0;if(Q!==0){f=Q;e:{var pe=u;T=_v;var Fe=pe.current.memoizedState.isDehydrated;if(Fe&&(hp(pe,Q).flags|=256),Q=Z4(pe,Q,!1),Q!==2){if(q4&&!Fe){pe.errorRecoveryDisabledLanes|=R,m0|=R,T=4;break e}R=xo,xo=T,R!==null&&(xo===null?xo=R:xo.push.apply(xo,R))}T=Q}if(R=!1,T!==2)continue}}if(T===1){hp(u,0),$f(u,f,0,!0);break}e:{switch(N=u,R=T,R){case 0:case 1:throw Error(a(345));case 4:if((f&4194048)!==f)break;case 6:$f(N,f,qo,!If);break e;case 2:xo=null;break;case 3:case 5:break;default:throw Error(a(329))}if((f&62914560)===f&&(T=T1+300-Oe(),10<T)){if($f(N,f,qo,!If),is(N,0,!0)!==0)break e;jh=f,N.timeoutHandle=f8(LO.bind(null,N,g,xo,P1,W4,f,qo,m0,dp,If,R,"Throttled",-0,0),T);break e}LO(N,g,xo,P1,W4,f,qo,m0,dp,If,R,null,-0,0)}}break}while(!0);yu(u)}function LO(u,f,g,N,T,R,Q,pe,Fe,it,yt,_t,lt,dt){if(u.timeoutHandle=-1,_t=f.subtreeFlags,_t&8192||(_t&16785408)===16785408){_t={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fo},TO(f,R,_t);var er=(R&62914560)===R?T1-Oe():(R&4194048)===R?DO-Oe():0;if(er=fJ(_t,er),er!==null){jh=R,u.cancelPendingCommit=er(VO.bind(null,u,f,R,g,N,T,Q,pe,Fe,yt,_t,null,lt,dt)),$f(u,R,Q,!it);return}}VO(u,f,R,g,N,T,Q,pe,Fe)}function TZ(u){for(var f=u;;){var g=f.tag;if((g===0||g===11||g===15)&&f.flags&16384&&(g=f.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var N=0;N<g.length;N++){var T=g[N],R=T.getSnapshot;T=T.value;try{if(!li(R(),T))return!1}catch{return!1}}if(g=f.child,f.subtreeFlags&16384&&g!==null)g.return=f,f=g;else{if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function $f(u,f,g,N){f&=~V4,f&=~m0,u.suspendedLanes|=f,u.pingedLanes&=~f,N&&(u.warmLanes|=f),N=u.expirationTimes;for(var T=f;0<T;){var R=31-Hr(T),Q=1<<R;N[R]=-1,T&=~Q}g!==0&&Jl(u,g,f)}function O1(){return(Us&6)===0?(Av(0),!1):!0}function X4(){if(os!==null){if(Ks===0)var u=os.return;else u=os,Sc=du=null,ep(u),kt=null,sr=0,u=os;for(;u!==null;)mO(u.alternate,u),u=u.return;os=null}}function hp(u,f){var g=u.timeoutHandle;g!==-1&&(u.timeoutHandle=-1,YZ(g)),g=u.cancelPendingCommit,g!==null&&(u.cancelPendingCommit=null,g()),jh=0,X4(),pa=u,os=g=so(u.current,null),us=f,Ks=0,Ho=null,If=!1,cp=El(u,f),q4=!1,dp=qo=V4=m0=Bf=mn=0,xo=_v=null,W4=!1,(f&8)!==0&&(f|=f&32);var N=u.entangledLanes;if(N!==0)for(u=u.entanglements,N&=f;0<N;){var T=31-Hr(N),R=1<<T;f|=u[T],N&=~R}return bh=f,r0(),g}function IO(u,f){mr=null,V.H=gv,f===Ie||f===Ae?(f=Nt(),Ks=3):f===Qe?(f=Nt(),Ks=4):Ks=f===C4?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,Ho=f,os===null&&(mn=1,j1(u,ao(f,u.current)))}function BO(){var u=Pa.current;return u===null?!0:(us&4194048)===us?vs===null:(us&62914560)===us||(us&536870912)!==0?u===vs:!1}function UO(){var u=V.H;return V.H=gv,u===null?gv:u}function zO(){var u=V.A;return V.A=AZ,u}function D1(){mn=4,If||(us&4194048)!==us&&Pa.current!==null||(cp=!0),(Bf&134217727)===0&&(m0&134217727)===0||pa===null||$f(pa,us,qo,!1)}function Z4(u,f,g){var N=Us;Us|=2;var T=UO(),R=zO();(pa!==u||us!==f)&&(P1=null,hp(u,f)),f=!1;var Q=mn;e:do try{if(Ks!==0&&os!==null){var pe=os,Fe=Ho;switch(Ks){case 8:X4(),Q=6;break e;case 3:case 2:case 9:case 6:Pa.current===null&&(f=!0);var it=Ks;if(Ks=0,Ho=null,fp(u,pe,Fe,it),g&&cp){Q=0;break e}break;default:it=Ks,Ks=0,Ho=null,fp(u,pe,Fe,it)}}EZ(),Q=mn;break}catch(yt){IO(u,yt)}while(!0);return f&&u.shellSuspendCounter++,Sc=du=null,Us=N,V.H=T,V.A=R,os===null&&(pa=null,us=0,r0()),Q}function EZ(){for(;os!==null;)$O(os)}function PZ(u,f){var g=Us;Us|=2;var N=UO(),T=zO();pa!==u||us!==f?(P1=null,E1=Oe()+500,hp(u,f)):cp=El(u,f);e:do try{if(Ks!==0&&os!==null){f=os;var R=Ho;t:switch(Ks){case 1:Ks=0,Ho=null,fp(u,f,R,1);break;case 2:case 9:if(We(R)){Ks=0,Ho=null,HO(f);break}f=function(){Ks!==2&&Ks!==9||pa!==u||(Ks=7),yu(u)},R.then(f,f);break e;case 3:Ks=7;break e;case 4:Ks=5;break e;case 7:We(R)?(Ks=0,Ho=null,HO(f)):(Ks=0,Ho=null,fp(u,f,R,7));break;case 5:var Q=null;switch(os.tag){case 26:Q=os.memoizedState;case 5:case 27:var pe=os;if(Q?C8(Q):pe.stateNode.complete){Ks=0,Ho=null;var Fe=pe.sibling;if(Fe!==null)os=Fe;else{var it=pe.return;it!==null?(os=it,R1(it)):os=null}break t}}Ks=0,Ho=null,fp(u,f,R,5);break;case 6:Ks=0,Ho=null,fp(u,f,R,6);break;case 8:X4(),mn=6;break e;default:throw Error(a(462))}}OZ();break}catch(yt){IO(u,yt)}while(!0);return Sc=du=null,V.H=N,V.A=T,Us=g,os!==null?0:(pa=null,us=0,r0(),mn)}function OZ(){for(;os!==null&&!_e();)$O(os)}function $O(u){var f=hO(u.alternate,u,bh);u.memoizedProps=u.pendingProps,f===null?R1(u):os=f}function HO(u){var f=u,g=f.alternate;switch(f.tag){case 15:case 0:f=iO(g,f,f.pendingProps,f.type,void 0,us);break;case 11:f=iO(g,f,f.pendingProps,f.type.render,f.ref,us);break;case 5:ep(f);default:mO(g,f),f=os=n0(f,bh),f=hO(g,f,bh)}u.memoizedProps=u.pendingProps,f===null?R1(u):os=f}function fp(u,f,g,N){Sc=du=null,ep(f),kt=null,sr=0;var T=f.return;try{if(bZ(u,T,f,g,us)){mn=1,j1(u,ao(g,u.current)),os=null;return}}catch(R){if(T!==null)throw os=T,R;mn=1,j1(u,ao(g,u.current)),os=null;return}f.flags&32768?(ls||N===1?u=!0:cp||(us&536870912)!==0?u=!1:(If=u=!0,(N===2||N===9||N===3||N===6)&&(N=Pa.current,N!==null&&N.tag===13&&(N.flags|=16384))),qO(f,u)):R1(f)}function R1(u){var f=u;do{if((f.flags&32768)!==0){qO(f,If);return}u=f.return;var g=wZ(f.alternate,f,bh);if(g!==null){os=g;return}if(f=f.sibling,f!==null){os=f;return}os=f=u}while(f!==null);mn===0&&(mn=5)}function qO(u,f){do{var g=SZ(u.alternate,u);if(g!==null){g.flags&=32767,os=g;return}if(g=u.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!f&&(u=u.sibling,u!==null)){os=u;return}os=u=g}while(u!==null);mn=6,os=null}function VO(u,f,g,N,T,R,Q,pe,Fe){u.cancelPendingCommit=null;do M1();while(fi!==0);if((Us&6)!==0)throw Error(a(327));if(f!==null){if(f===u.current)throw Error(a(177));if(R=f.lanes|f.childLanes,R|=Ux,Po(u,g,R,Q,pe,Fe),u===pa&&(os=pa=null,us=0),up=f,zf=u,jh=g,G4=R,K4=T,RO=N,(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?(u.callbackNode=null,u.callbackPriority=0,FZ(mt,function(){return XO(),null})):(u.callbackNode=null,u.callbackPriority=0),N=(f.flags&13878)!==0,(f.subtreeFlags&13878)!==0||N){N=V.T,V.T=null,T=re.p,re.p=2,Q=Us,Us|=4;try{_Z(u,f,g)}finally{Us=Q,re.p=T,V.T=N}}fi=1,WO(),GO(),KO()}}function WO(){if(fi===1){fi=0;var u=zf,f=up,g=(f.flags&13878)!==0;if((f.subtreeFlags&13878)!==0||g){g=V.T,V.T=null;var N=re.p;re.p=2;var T=Us;Us|=4;try{kO(f,u);var R=cS,Q=wd(u.containerInfo),pe=R.focusedElem,Fe=R.selectionRange;if(Q!==pe&&pe&&pe.ownerDocument&&Nd(pe.ownerDocument.documentElement,pe)){if(Fe!==null&&Nc(pe)){var it=Fe.start,yt=Fe.end;if(yt===void 0&&(yt=it),"selectionStart"in pe)pe.selectionStart=it,pe.selectionEnd=Math.min(yt,pe.value.length);else{var _t=pe.ownerDocument||document,lt=_t&&_t.defaultView||window;if(lt.getSelection){var dt=lt.getSelection(),er=pe.textContent.length,_r=Math.min(Fe.start,er),da=Fe.end===void 0?_r:Math.min(Fe.end,er);!dt.extend&&_r>da&&(Q=da,da=_r,_r=Q);var Ve=kf(pe,_r),Ue=kf(pe,da);if(Ve&&Ue&&(dt.rangeCount!==1||dt.anchorNode!==Ve.node||dt.anchorOffset!==Ve.offset||dt.focusNode!==Ue.node||dt.focusOffset!==Ue.offset)){var st=_t.createRange();st.setStart(Ve.node,Ve.offset),dt.removeAllRanges(),_r>da?(dt.addRange(st),dt.extend(Ue.node,Ue.offset)):(st.setEnd(Ue.node,Ue.offset),dt.addRange(st))}}}}for(_t=[],dt=pe;dt=dt.parentNode;)dt.nodeType===1&&_t.push({element:dt,left:dt.scrollLeft,top:dt.scrollTop});for(typeof pe.focus=="function"&&pe.focus(),pe=0;pe<_t.length;pe++){var wt=_t[pe];wt.element.scrollLeft=wt.left,wt.element.scrollTop=wt.top}}G1=!!oS,cS=oS=null}finally{Us=T,re.p=N,V.T=g}}u.current=f,fi=2}}function GO(){if(fi===2){fi=0;var u=zf,f=up,g=(f.flags&8772)!==0;if((f.subtreeFlags&8772)!==0||g){g=V.T,V.T=null;var N=re.p;re.p=2;var T=Us;Us|=4;try{jO(u,f.alternate,f)}finally{Us=T,re.p=N,V.T=g}}fi=3}}function KO(){if(fi===4||fi===3){fi=0,ne();var u=zf,f=up,g=jh,N=RO;(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?fi=5:(fi=0,up=zf=null,YO(u,u.pendingLanes));var T=u.pendingLanes;if(T===0&&(Uf=null),Ba(g),f=f.stateNode,Vt&&typeof Vt.onCommitFiberRoot=="function")try{Vt.onCommitFiberRoot(Jt,f,void 0,(f.current.flags&128)===128)}catch{}if(N!==null){f=V.T,T=re.p,re.p=2,V.T=null;try{for(var R=u.onRecoverableError,Q=0;Q<N.length;Q++){var pe=N[Q];R(pe.value,{componentStack:pe.stack})}}finally{V.T=f,re.p=T}}(jh&3)!==0&&M1(),yu(u),T=u.pendingLanes,(g&261930)!==0&&(T&42)!==0?u===Y4?kv++:(kv=0,Y4=u):kv=0,Av(0)}}function YO(u,f){(u.pooledCacheLanes&=f)===0&&(f=u.pooledCache,f!=null&&(u.pooledCache=null,o0(f)))}function M1(){return WO(),GO(),KO(),XO()}function XO(){if(fi!==5)return!1;var u=zf,f=G4;G4=0;var g=Ba(jh),N=V.T,T=re.p;try{re.p=32>g?32:g,V.T=null,g=K4,K4=null;var R=zf,Q=jh;if(fi=0,up=zf=null,jh=0,(Us&6)!==0)throw Error(a(331));var pe=Us;if(Us|=4,PO(R.current),CO(R,R.current,Q,g),Us=pe,Av(0,!1),Vt&&typeof Vt.onPostCommitFiberRoot=="function")try{Vt.onPostCommitFiberRoot(Jt,R)}catch{}return!0}finally{re.p=T,V.T=N,YO(u,f)}}function ZO(u,f,g){f=ao(g,f),f=A4(u.stateNode,f,2),u=$r(u,f,2),u!==null&&(hr(u,2),yu(u))}function Ys(u,f,g){if(u.tag===3)ZO(u,u,g);else for(;f!==null;){if(f.tag===3){ZO(f,u,g);break}else if(f.tag===1){var N=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof N.componentDidCatch=="function"&&(Uf===null||!Uf.has(N))){u=ao(g,u),g=JP(2),N=$r(f,g,2),N!==null&&(QP(g,N,f,u),hr(N,2),yu(N));break}}f=f.return}}function J4(u,f,g){var N=u.pingCache;if(N===null){N=u.pingCache=new CZ;var T=new Set;N.set(f,T)}else T=N.get(f),T===void 0&&(T=new Set,N.set(f,T));T.has(g)||(q4=!0,T.add(g),u=DZ.bind(null,u,f,g),f.then(u,u))}function DZ(u,f,g){var N=u.pingCache;N!==null&&N.delete(f),u.pingedLanes|=u.suspendedLanes&g,u.warmLanes&=~g,pa===u&&(us&g)===g&&(mn===4||mn===3&&(us&62914560)===us&&300>Oe()-T1?(Us&2)===0&&hp(u,0):V4|=g,dp===us&&(dp=0)),yu(u)}function JO(u,f){f===0&&(f=Zl()),u=_d(u,f),u!==null&&(hr(u,f),yu(u))}function RZ(u){var f=u.memoizedState,g=0;f!==null&&(g=f.retryLane),JO(u,g)}function MZ(u,f){var g=0;switch(u.tag){case 31:case 13:var N=u.stateNode,T=u.memoizedState;T!==null&&(g=T.retryLane);break;case 19:N=u.stateNode;break;case 22:N=u.stateNode._retryCache;break;default:throw Error(a(314))}N!==null&&N.delete(f),JO(u,g)}function FZ(u,f){return qt(u,f)}var F1=null,mp=null,Q4=!1,L1=!1,eS=!1,Hf=0;function yu(u){u!==mp&&u.next===null&&(mp===null?F1=mp=u:mp=mp.next=u),L1=!0,Q4||(Q4=!0,IZ())}function Av(u,f){if(!eS&&L1){eS=!0;do for(var g=!1,N=F1;N!==null;){if(u!==0){var T=N.pendingLanes;if(T===0)var R=0;else{var Q=N.suspendedLanes,pe=N.pingedLanes;R=(1<<31-Hr(42|u)+1)-1,R&=T&~(Q&~pe),R=R&201326741?R&201326741|1:R?R|2:0}R!==0&&(g=!0,r8(N,R))}else R=us,R=is(N,N===pa?R:0,N.cancelPendingCommit!==null||N.timeoutHandle!==-1),(R&3)===0||El(N,R)||(g=!0,r8(N,R));N=N.next}while(g);eS=!1}}function LZ(){QO()}function QO(){L1=Q4=!1;var u=0;Hf!==0&&KZ()&&(u=Hf);for(var f=Oe(),g=null,N=F1;N!==null;){var T=N.next,R=e8(N,f);R===0?(N.next=null,g===null?F1=T:g.next=T,T===null&&(mp=g)):(g=N,(u!==0||(R&3)!==0)&&(L1=!0)),N=T}fi!==0&&fi!==5||Av(u),Hf!==0&&(Hf=0)}function e8(u,f){for(var g=u.suspendedLanes,N=u.pingedLanes,T=u.expirationTimes,R=u.pendingLanes&-62914561;0<R;){var Q=31-Hr(R),pe=1<<Q,Fe=T[Q];Fe===-1?((pe&g)===0||(pe&N)!==0)&&(T[Q]=Un(pe,f)):Fe<=f&&(u.expiredLanes|=pe),R&=~pe}if(f=pa,g=us,g=is(u,u===f?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),N=u.callbackNode,g===0||u===f&&(Ks===2||Ks===9)||u.cancelPendingCommit!==null)return N!==null&&N!==null&&we(N),u.callbackNode=null,u.callbackPriority=0;if((g&3)===0||El(u,g)){if(f=g&-g,f===u.callbackPriority)return f;switch(N!==null&&we(N),Ba(g)){case 2:case 8:g=He;break;case 32:g=mt;break;case 268435456:g=At;break;default:g=mt}return N=t8.bind(null,u),g=qt(g,N),u.callbackPriority=f,u.callbackNode=g,f}return N!==null&&N!==null&&we(N),u.callbackPriority=2,u.callbackNode=null,2}function t8(u,f){if(fi!==0&&fi!==5)return u.callbackNode=null,u.callbackPriority=0,null;var g=u.callbackNode;if(M1()&&u.callbackNode!==g)return null;var N=us;return N=is(u,u===pa?N:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),N===0?null:(FO(u,N,f),e8(u,Oe()),u.callbackNode!=null&&u.callbackNode===g?t8.bind(null,u):null)}function r8(u,f){if(M1())return null;FO(u,f,!0)}function IZ(){XZ(function(){(Us&6)!==0?qt(De,LZ):QO()})}function tS(){if(Hf===0){var u=C;u===0&&(u=Sr,Sr<<=1,(Sr&261888)===0&&(Sr=256)),Hf=u}return Hf}function s8(u){return u==null||typeof u=="symbol"||typeof u=="boolean"?null:typeof u=="function"?u:il(""+u)}function a8(u,f){var g=f.ownerDocument.createElement("input");return g.name=f.name,g.value=f.value,u.id&&g.setAttribute("form",u.id),f.parentNode.insertBefore(g,f),u=new FormData(u),g.parentNode.removeChild(g),u}function BZ(u,f,g,N,T){if(f==="submit"&&g&&g.stateNode===T){var R=s8((T[ke]||null).action),Q=N.submitter;Q&&(f=(f=Q[ke]||null)?s8(f.formAction):Q.getAttribute("formAction"),f!==null&&(R=f,Q=null));var pe=new eo("action","action",null,N,T);u.push({event:pe,listeners:[{instance:null,listener:function(){if(N.defaultPrevented){if(Hf!==0){var Fe=Q?a8(T,Q):new FormData(T);j4(g,{pending:!0,data:Fe,method:T.method,action:R},null,Fe)}}else typeof R=="function"&&(pe.preventDefault(),Fe=Q?a8(T,Q):new FormData(T),j4(g,{pending:!0,data:Fe,method:T.method,action:R},R,Fe))},currentTarget:T}]})}}for(var rS=0;rS<ih.length;rS++){var sS=ih[rS],UZ=sS.toLowerCase(),zZ=sS[0].toUpperCase()+sS.slice(1);ro(UZ,"on"+zZ)}ro(nh,"onAnimationEnd"),ro(e0,"onAnimationIteration"),ro(rv,"onAnimationStart"),ro("dblclick","onDoubleClick"),ro("focusin","onFocus"),ro("focusout","onBlur"),ro(o1,"onTransitionRun"),ro(c1,"onTransitionStart"),ro(d1,"onTransitionCancel"),ro(sv,"onTransitionEnd"),Hi("onMouseEnter",["mouseout","mouseover"]),Hi("onMouseLeave",["mouseout","mouseover"]),Hi("onPointerEnter",["pointerout","pointerover"]),Hi("onPointerLeave",["pointerout","pointerover"]),$s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$s("onBeforeInput",["compositionend","keypress","textInput","paste"]),$s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$Z=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cv));function n8(u,f){f=(f&4)!==0;for(var g=0;g<u.length;g++){var N=u[g],T=N.event;N=N.listeners;e:{var R=void 0;if(f)for(var Q=N.length-1;0<=Q;Q--){var pe=N[Q],Fe=pe.instance,it=pe.currentTarget;if(pe=pe.listener,Fe!==R&&T.isPropagationStopped())break e;R=pe,T.currentTarget=it;try{R(T)}catch(yt){t0(yt)}T.currentTarget=null,R=Fe}else for(Q=0;Q<N.length;Q++){if(pe=N[Q],Fe=pe.instance,it=pe.currentTarget,pe=pe.listener,Fe!==R&&T.isPropagationStopped())break e;R=pe,T.currentTarget=it;try{R(T)}catch(yt){t0(yt)}T.currentTarget=null,R=Fe}}}}function cs(u,f){var g=f[Ke];g===void 0&&(g=f[Ke]=new Set);var N=u+"__bubble";g.has(N)||(i8(f,u,2,!1),g.add(N))}function aS(u,f,g){var N=0;f&&(N|=4),i8(g,u,N,f)}var I1="_reactListening"+Math.random().toString(36).slice(2);function nS(u){if(!u[I1]){u[I1]=!0,Ls.forEach(function(g){g!=="selectionchange"&&($Z.has(g)||aS(g,!1,u),aS(g,!0,u))});var f=u.nodeType===9?u:u.ownerDocument;f===null||f[I1]||(f[I1]=!0,aS("selectionchange",!1,f))}}function i8(u,f,g,N){switch(M8(f)){case 2:var T=pJ;break;case 8:T=gJ;break;default:T=bS}g=T.bind(null,f,g,u),T=void 0,!Ym||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(T=!0),N?T!==void 0?u.addEventListener(f,g,{capture:!0,passive:T}):u.addEventListener(f,g,!0):T!==void 0?u.addEventListener(f,g,{passive:T}):u.addEventListener(f,g,!1)}function iS(u,f,g,N,T){var R=N;if((f&1)===0&&(f&2)===0&&N!==null)e:for(;;){if(N===null)return;var Q=N.tag;if(Q===3||Q===4){var pe=N.stateNode.containerInfo;if(pe===T)break;if(Q===4)for(Q=N.return;Q!==null;){var Fe=Q.tag;if((Fe===3||Fe===4)&&Q.stateNode.containerInfo===T)return;Q=Q.return}for(;pe!==null;){if(Q=Ft(pe),Q===null)return;if(Fe=Q.tag,Fe===5||Fe===6||Fe===26||Fe===27){N=R=Q;continue e}pe=pe.parentNode}}N=N.return}Mx(function(){var it=R,yt=Ju(g),_t=[];e:{var lt=av.get(u);if(lt!==void 0){var dt=eo,er=u;switch(u){case"keypress":if(Ql(g)===0)break e;case"keydown":case"keyup":dt=ms;break;case"focusin":er="focus",dt=md;break;case"focusout":er="blur",dt=md;break;case"beforeblur":case"afterblur":dt=md;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":dt=Xm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":dt=fd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":dt=An;break;case nh:case e0:case rv:dt=B;break;case sv:dt=ii;break;case"scroll":case"scrollend":dt=yf;break;case"wheel":dt=Lo;break;case"copy":case"cut":case"paste":dt=Ee;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":dt=Za;break;case"toggle":case"beforetoggle":dt=Zm}var _r=(f&4)!==0,da=!_r&&(u==="scroll"||u==="scrollend"),Ve=_r?lt!==null?lt+"Capture":null:lt;_r=[];for(var Ue=it,st;Ue!==null;){var wt=Ue;if(st=wt.stateNode,wt=wt.tag,wt!==5&&wt!==26&&wt!==27||st===null||Ve===null||(wt=Ol(Ue,Ve),wt!=null&&_r.push(Tv(Ue,wt,st))),da)break;Ue=Ue.return}0<_r.length&&(lt=new dt(lt,er,null,g,yt),_t.push({event:lt,listeners:_r}))}}if((f&7)===0){e:{if(lt=u==="mouseover"||u==="pointerover",dt=u==="mouseout"||u==="pointerout",lt&&g!==od&&(er=g.relatedTarget||g.fromElement)&&(Ft(er)||er[Pe]))break e;if((dt||lt)&&(lt=yt.window===yt?yt:(lt=yt.ownerDocument)?lt.defaultView||lt.parentWindow:window,dt?(er=g.relatedTarget||g.toElement,dt=it,er=er?Ft(er):null,er!==null&&(da=i(er),_r=er.tag,er!==da||_r!==5&&_r!==27&&_r!==6)&&(er=null)):(dt=null,er=it),dt!==er)){if(_r=Xm,wt="onMouseLeave",Ve="onMouseEnter",Ue="mouse",(u==="pointerout"||u==="pointerover")&&(_r=Za,wt="onPointerLeave",Ve="onPointerEnter",Ue="pointer"),da=dt==null?lt:Mt(dt),st=er==null?lt:Mt(er),lt=new _r(wt,Ue+"leave",dt,g,yt),lt.target=da,lt.relatedTarget=st,wt=null,Ft(yt)===it&&(_r=new _r(Ve,Ue+"enter",er,g,yt),_r.target=st,_r.relatedTarget=da,wt=_r),da=wt,dt&&er)t:{for(_r=HZ,Ve=dt,Ue=er,st=0,wt=Ve;wt;wt=_r(wt))st++;wt=0;for(var vr=Ue;vr;vr=_r(vr))wt++;for(;0<st-wt;)Ve=_r(Ve),st--;for(;0<wt-st;)Ue=_r(Ue),wt--;for(;st--;){if(Ve===Ue||Ue!==null&&Ve===Ue.alternate){_r=Ve;break t}Ve=_r(Ve),Ue=_r(Ue)}_r=null}else _r=null;dt!==null&&l8(_t,lt,dt,_r,!1),er!==null&&da!==null&&l8(_t,da,er,_r,!0)}}e:{if(lt=it?Mt(it):window,dt=lt.nodeName&&lt.nodeName.toLowerCase(),dt==="select"||dt==="input"&&lt.type==="file")var Ps=iu;else if(Jm(lt))if(ll)Ps=bc;else{Ps=Ja;var or=Sf}else dt=lt.nodeName,!dt||dt.toLowerCase()!=="input"||lt.type!=="checkbox"&&lt.type!=="radio"?it&&Wm(it.elementType)&&(Ps=iu):Ps=Bx;if(Ps&&(Ps=Ps(u,it))){Rl(_t,Ps,g,yt);break e}or&&or(u,lt,it),u==="focusout"&&it&&lt.type==="number"&&it.memoizedProps.value!=null&&Hm(lt,"number",lt.value)}switch(or=it?Mt(it):window,u){case"focusin":(Jm(or)||or.contentEditable==="true")&&(Ml=or,Sd=it,wi=null);break;case"focusout":wi=Sd=Ml=null;break;case"mousedown":to=!0;break;case"contextmenu":case"mouseup":case"dragend":to=!1,Ss(_t,g,yt);break;case"selectionchange":if(ah)break;case"keydown":case"keyup":Ss(_t,g,yt)}var Wr;if(pc)e:{switch(u){case"compositionstart":var hs="onCompositionStart";break e;case"compositionend":hs="onCompositionEnd";break e;case"compositionupdate":hs="onCompositionUpdate";break e}hs=void 0}else gc?nu(u,g)&&(hs="onCompositionEnd"):u==="keydown"&&g.keyCode===229&&(hs="onCompositionStart");hs&&(gd&&g.locale!=="ko"&&(gc||hs!=="onCompositionStart"?hs==="onCompositionEnd"&&gc&&(Wr=Fx()):(Dl=yt,eh="value"in Dl?Dl.value:Dl.textContent,gc=!0)),or=B1(it,hs),0<or.length&&(hs=new qe(hs,u,null,g,yt),_t.push({event:hs,listeners:or}),Wr?hs.data=Wr:(Wr=jf(g),Wr!==null&&(hs.data=Wr)))),(Wr=sh?Wi(u,g):vd(u,g))&&(hs=B1(it,"onBeforeInput"),0<hs.length&&(or=new qe("onBeforeInput","beforeinput",null,g,yt),_t.push({event:or,listeners:hs}),or.data=Wr)),BZ(_t,u,it,g,yt)}n8(_t,f)})}function Tv(u,f,g){return{instance:u,listener:f,currentTarget:g}}function B1(u,f){for(var g=f+"Capture",N=[];u!==null;){var T=u,R=T.stateNode;if(T=T.tag,T!==5&&T!==26&&T!==27||R===null||(T=Ol(u,g),T!=null&&N.unshift(Tv(u,T,R)),T=Ol(u,f),T!=null&&N.push(Tv(u,T,R))),u.tag===3)return N;u=u.return}return[]}function HZ(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5&&u.tag!==27);return u||null}function l8(u,f,g,N,T){for(var R=f._reactName,Q=[];g!==null&&g!==N;){var pe=g,Fe=pe.alternate,it=pe.stateNode;if(pe=pe.tag,Fe!==null&&Fe===N)break;pe!==5&&pe!==26&&pe!==27||it===null||(Fe=it,T?(it=Ol(g,R),it!=null&&Q.unshift(Tv(g,it,Fe))):T||(it=Ol(g,R),it!=null&&Q.push(Tv(g,it,Fe)))),g=g.return}Q.length!==0&&u.push({event:f,listeners:Q})}var qZ=/\r\n?/g,VZ=/\u0000|\uFFFD/g;function o8(u){return(typeof u=="string"?u:""+u).replace(qZ,`
`).replace(VZ,"")}function c8(u,f){return f=o8(f),o8(u)===f}function ca(u,f,g,N,T,R){switch(g){case"children":typeof N=="string"?f==="body"||f==="textarea"&&N===""||Mo(u,N):(typeof N=="number"||typeof N=="bigint")&&f!=="body"&&Mo(u,""+N);break;case"className":ld(u,"class",N);break;case"tabIndex":ld(u,"tabindex",N);break;case"dir":case"role":case"viewBox":case"width":case"height":ld(u,g,N);break;case"style":Ox(u,N,R);break;case"data":if(f!=="object"){ld(u,"data",N);break}case"src":case"href":if(N===""&&(f!=="a"||g!=="href")){u.removeAttribute(g);break}if(N==null||typeof N=="function"||typeof N=="symbol"||typeof N=="boolean"){u.removeAttribute(g);break}N=il(""+N),u.setAttribute(g,N);break;case"action":case"formAction":if(typeof N=="function"){u.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof R=="function"&&(g==="formAction"?(f!=="input"&&ca(u,f,"name",T.name,T,null),ca(u,f,"formEncType",T.formEncType,T,null),ca(u,f,"formMethod",T.formMethod,T,null),ca(u,f,"formTarget",T.formTarget,T,null)):(ca(u,f,"encType",T.encType,T,null),ca(u,f,"method",T.method,T,null),ca(u,f,"target",T.target,T,null)));if(N==null||typeof N=="symbol"||typeof N=="boolean"){u.removeAttribute(g);break}N=il(""+N),u.setAttribute(g,N);break;case"onClick":N!=null&&(u.onclick=Fo);break;case"onScroll":N!=null&&cs("scroll",u);break;case"onScrollEnd":N!=null&&cs("scrollend",u);break;case"dangerouslySetInnerHTML":if(N!=null){if(typeof N!="object"||!("__html"in N))throw Error(a(61));if(g=N.__html,g!=null){if(T.children!=null)throw Error(a(60));u.innerHTML=g}}break;case"multiple":u.multiple=N&&typeof N!="function"&&typeof N!="symbol";break;case"muted":u.muted=N&&typeof N!="function"&&typeof N!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(N==null||typeof N=="function"||typeof N=="boolean"||typeof N=="symbol"){u.removeAttribute("xlink:href");break}g=il(""+N),u.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":N!=null&&typeof N!="function"&&typeof N!="symbol"?u.setAttribute(g,""+N):u.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":N&&typeof N!="function"&&typeof N!="symbol"?u.setAttribute(g,""):u.removeAttribute(g);break;case"capture":case"download":N===!0?u.setAttribute(g,""):N!==!1&&N!=null&&typeof N!="function"&&typeof N!="symbol"?u.setAttribute(g,N):u.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":N!=null&&typeof N!="function"&&typeof N!="symbol"&&!isNaN(N)&&1<=N?u.setAttribute(g,N):u.removeAttribute(g);break;case"rowSpan":case"start":N==null||typeof N=="function"||typeof N=="symbol"||isNaN(N)?u.removeAttribute(g):u.setAttribute(g,N);break;case"popover":cs("beforetoggle",u),cs("toggle",u),Aa(u,"popover",N);break;case"xlinkActuate":Ro(u,"http://www.w3.org/1999/xlink","xlink:actuate",N);break;case"xlinkArcrole":Ro(u,"http://www.w3.org/1999/xlink","xlink:arcrole",N);break;case"xlinkRole":Ro(u,"http://www.w3.org/1999/xlink","xlink:role",N);break;case"xlinkShow":Ro(u,"http://www.w3.org/1999/xlink","xlink:show",N);break;case"xlinkTitle":Ro(u,"http://www.w3.org/1999/xlink","xlink:title",N);break;case"xlinkType":Ro(u,"http://www.w3.org/1999/xlink","xlink:type",N);break;case"xmlBase":Ro(u,"http://www.w3.org/XML/1998/namespace","xml:base",N);break;case"xmlLang":Ro(u,"http://www.w3.org/XML/1998/namespace","xml:lang",N);break;case"xmlSpace":Ro(u,"http://www.w3.org/XML/1998/namespace","xml:space",N);break;case"is":Aa(u,"is",N);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=Gm.get(g)||g,Aa(u,g,N))}}function lS(u,f,g,N,T,R){switch(g){case"style":Ox(u,N,R);break;case"dangerouslySetInnerHTML":if(N!=null){if(typeof N!="object"||!("__html"in N))throw Error(a(61));if(g=N.__html,g!=null){if(T.children!=null)throw Error(a(60));u.innerHTML=g}}break;case"children":typeof N=="string"?Mo(u,N):(typeof N=="number"||typeof N=="bigint")&&Mo(u,""+N);break;case"onScroll":N!=null&&cs("scroll",u);break;case"onScrollEnd":N!=null&&cs("scrollend",u);break;case"onClick":N!=null&&(u.onclick=Fo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ts.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(T=g.endsWith("Capture"),f=g.slice(2,T?g.length-7:void 0),R=u[ke]||null,R=R!=null?R[g]:null,typeof R=="function"&&u.removeEventListener(f,R,T),typeof N=="function")){typeof R!="function"&&R!==null&&(g in u?u[g]=null:u.hasAttribute(g)&&u.removeAttribute(g)),u.addEventListener(f,N,T);break e}g in u?u[g]=N:N===!0?u.setAttribute(g,""):Aa(u,g,N)}}}function Zi(u,f,g){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":cs("error",u),cs("load",u);var N=!1,T=!1,R;for(R in g)if(g.hasOwnProperty(R)){var Q=g[R];if(Q!=null)switch(R){case"src":N=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,f));default:ca(u,f,R,Q,g,null)}}T&&ca(u,f,"srcSet",g.srcSet,g,null),N&&ca(u,f,"src",g.src,g,null);return;case"input":cs("invalid",u);var pe=R=Q=T=null,Fe=null,it=null;for(N in g)if(g.hasOwnProperty(N)){var yt=g[N];if(yt!=null)switch(N){case"name":T=yt;break;case"type":Q=yt;break;case"checked":Fe=yt;break;case"defaultChecked":it=yt;break;case"value":R=yt;break;case"defaultValue":pe=yt;break;case"children":case"dangerouslySetInnerHTML":if(yt!=null)throw Error(a(137,f));break;default:ca(u,f,N,yt,g,null)}}Ex(u,R,pe,Fe,it,Q,T,!1);return;case"select":cs("invalid",u),N=Q=R=null;for(T in g)if(g.hasOwnProperty(T)&&(pe=g[T],pe!=null))switch(T){case"value":R=pe;break;case"defaultValue":Q=pe;break;case"multiple":N=pe;default:ca(u,f,T,pe,g,null)}f=R,g=Q,u.multiple=!!N,f!=null?Vi(u,!!N,f,!1):g!=null&&Vi(u,!!N,g,!0);return;case"textarea":cs("invalid",u),R=T=N=null;for(Q in g)if(g.hasOwnProperty(Q)&&(pe=g[Q],pe!=null))switch(Q){case"value":N=pe;break;case"defaultValue":T=pe;break;case"children":R=pe;break;case"dangerouslySetInnerHTML":if(pe!=null)throw Error(a(91));break;default:ca(u,f,Q,pe,g,null)}Vm(u,N,T,R);return;case"option":for(Fe in g)g.hasOwnProperty(Fe)&&(N=g[Fe],N!=null)&&(Fe==="selected"?u.selected=N&&typeof N!="function"&&typeof N!="symbol":ca(u,f,Fe,N,g,null));return;case"dialog":cs("beforetoggle",u),cs("toggle",u),cs("cancel",u),cs("close",u);break;case"iframe":case"object":cs("load",u);break;case"video":case"audio":for(N=0;N<Cv.length;N++)cs(Cv[N],u);break;case"image":cs("error",u),cs("load",u);break;case"details":cs("toggle",u);break;case"embed":case"source":case"link":cs("error",u),cs("load",u);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(it in g)if(g.hasOwnProperty(it)&&(N=g[it],N!=null))switch(it){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,f));default:ca(u,f,it,N,g,null)}return;default:if(Wm(f)){for(yt in g)g.hasOwnProperty(yt)&&(N=g[yt],N!==void 0&&lS(u,f,yt,N,g,void 0));return}}for(pe in g)g.hasOwnProperty(pe)&&(N=g[pe],N!=null&&ca(u,f,pe,N,g,null))}function WZ(u,f,g,N){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,R=null,Q=null,pe=null,Fe=null,it=null,yt=null;for(dt in g){var _t=g[dt];if(g.hasOwnProperty(dt)&&_t!=null)switch(dt){case"checked":break;case"value":break;case"defaultValue":Fe=_t;default:N.hasOwnProperty(dt)||ca(u,f,dt,null,N,_t)}}for(var lt in N){var dt=N[lt];if(_t=g[lt],N.hasOwnProperty(lt)&&(dt!=null||_t!=null))switch(lt){case"type":R=dt;break;case"name":T=dt;break;case"checked":it=dt;break;case"defaultChecked":yt=dt;break;case"value":Q=dt;break;case"defaultValue":pe=dt;break;case"children":case"dangerouslySetInnerHTML":if(dt!=null)throw Error(a(137,f));break;default:dt!==_t&&ca(u,f,lt,dt,N,_t)}}pf(u,Q,pe,Fe,it,yt,R,T);return;case"select":dt=Q=pe=lt=null;for(R in g)if(Fe=g[R],g.hasOwnProperty(R)&&Fe!=null)switch(R){case"value":break;case"multiple":dt=Fe;default:N.hasOwnProperty(R)||ca(u,f,R,null,N,Fe)}for(T in N)if(R=N[T],Fe=g[T],N.hasOwnProperty(T)&&(R!=null||Fe!=null))switch(T){case"value":lt=R;break;case"defaultValue":pe=R;break;case"multiple":Q=R;default:R!==Fe&&ca(u,f,T,R,N,Fe)}f=pe,g=Q,N=dt,lt!=null?Vi(u,!!g,lt,!1):!!N!=!!g&&(f!=null?Vi(u,!!g,f,!0):Vi(u,!!g,g?[]:"",!1));return;case"textarea":dt=lt=null;for(pe in g)if(T=g[pe],g.hasOwnProperty(pe)&&T!=null&&!N.hasOwnProperty(pe))switch(pe){case"value":break;case"children":break;default:ca(u,f,pe,null,N,T)}for(Q in N)if(T=N[Q],R=g[Q],N.hasOwnProperty(Q)&&(T!=null||R!=null))switch(Q){case"value":lt=T;break;case"defaultValue":dt=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:T!==R&&ca(u,f,Q,T,N,R)}qm(u,lt,dt);return;case"option":for(var er in g)lt=g[er],g.hasOwnProperty(er)&&lt!=null&&!N.hasOwnProperty(er)&&(er==="selected"?u.selected=!1:ca(u,f,er,null,N,lt));for(Fe in N)lt=N[Fe],dt=g[Fe],N.hasOwnProperty(Fe)&&lt!==dt&&(lt!=null||dt!=null)&&(Fe==="selected"?u.selected=lt&&typeof lt!="function"&&typeof lt!="symbol":ca(u,f,Fe,lt,N,dt));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _r in g)lt=g[_r],g.hasOwnProperty(_r)&&lt!=null&&!N.hasOwnProperty(_r)&&ca(u,f,_r,null,N,lt);for(it in N)if(lt=N[it],dt=g[it],N.hasOwnProperty(it)&&lt!==dt&&(lt!=null||dt!=null))switch(it){case"children":case"dangerouslySetInnerHTML":if(lt!=null)throw Error(a(137,f));break;default:ca(u,f,it,lt,N,dt)}return;default:if(Wm(f)){for(var da in g)lt=g[da],g.hasOwnProperty(da)&&lt!==void 0&&!N.hasOwnProperty(da)&&lS(u,f,da,void 0,N,lt);for(yt in N)lt=N[yt],dt=g[yt],!N.hasOwnProperty(yt)||lt===dt||lt===void 0&&dt===void 0||lS(u,f,yt,lt,N,dt);return}}for(var Ve in g)lt=g[Ve],g.hasOwnProperty(Ve)&&lt!=null&&!N.hasOwnProperty(Ve)&&ca(u,f,Ve,null,N,lt);for(_t in N)lt=N[_t],dt=g[_t],!N.hasOwnProperty(_t)||lt===dt||lt==null&&dt==null||ca(u,f,_t,lt,N,dt)}function d8(u){switch(u){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function GZ(){if(typeof performance.getEntriesByType=="function"){for(var u=0,f=0,g=performance.getEntriesByType("resource"),N=0;N<g.length;N++){var T=g[N],R=T.transferSize,Q=T.initiatorType,pe=T.duration;if(R&&pe&&d8(Q)){for(Q=0,pe=T.responseEnd,N+=1;N<g.length;N++){var Fe=g[N],it=Fe.startTime;if(it>pe)break;var yt=Fe.transferSize,_t=Fe.initiatorType;yt&&d8(_t)&&(Fe=Fe.responseEnd,Q+=yt*(Fe<pe?1:(pe-it)/(Fe-it)))}if(--N,f+=8*(R+Q)/(T.duration/1e3),u++,10<u)break}}if(0<u)return f/u/1e6}return navigator.connection&&(u=navigator.connection.downlink,typeof u=="number")?u:5}var oS=null,cS=null;function U1(u){return u.nodeType===9?u:u.ownerDocument}function u8(u){switch(u){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function h8(u,f){if(u===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return u===1&&f==="foreignObject"?0:u}function dS(u,f){return u==="textarea"||u==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var uS=null;function KZ(){var u=window.event;return u&&u.type==="popstate"?u===uS?!1:(uS=u,!0):(uS=null,!1)}var f8=typeof setTimeout=="function"?setTimeout:void 0,YZ=typeof clearTimeout=="function"?clearTimeout:void 0,m8=typeof Promise=="function"?Promise:void 0,XZ=typeof queueMicrotask=="function"?queueMicrotask:typeof m8<"u"?function(u){return m8.resolve(null).then(u).catch(ZZ)}:f8;function ZZ(u){setTimeout(function(){throw u})}function qf(u){return u==="head"}function x8(u,f){var g=f,N=0;do{var T=g.nextSibling;if(u.removeChild(g),T&&T.nodeType===8)if(g=T.data,g==="/$"||g==="/&"){if(N===0){u.removeChild(T),vp(f);return}N--}else if(g==="$"||g==="$?"||g==="$~"||g==="$!"||g==="&")N++;else if(g==="html")Ev(u.ownerDocument.documentElement);else if(g==="head"){g=u.ownerDocument.head,Ev(g);for(var R=g.firstChild;R;){var Q=R.nextSibling,pe=R.nodeName;R[rt]||pe==="SCRIPT"||pe==="STYLE"||pe==="LINK"&&R.rel.toLowerCase()==="stylesheet"||g.removeChild(R),R=Q}}else g==="body"&&Ev(u.ownerDocument.body);g=T}while(g);vp(f)}function p8(u,f){var g=u;u=0;do{var N=g.nextSibling;if(g.nodeType===1?f?(g._stashedDisplay=g.style.display,g.style.display="none"):(g.style.display=g._stashedDisplay||"",g.getAttribute("style")===""&&g.removeAttribute("style")):g.nodeType===3&&(f?(g._stashedText=g.nodeValue,g.nodeValue=""):g.nodeValue=g._stashedText||""),N&&N.nodeType===8)if(g=N.data,g==="/$"){if(u===0)break;u--}else g!=="$"&&g!=="$?"&&g!=="$~"&&g!=="$!"||u++;g=N}while(g)}function hS(u){var f=u.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var g=f;switch(f=f.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":hS(g),Dt(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}u.removeChild(g)}}function JZ(u,f,g,N){for(;u.nodeType===1;){var T=g;if(u.nodeName.toLowerCase()!==f.toLowerCase()){if(!N&&(u.nodeName!=="INPUT"||u.type!=="hidden"))break}else if(N){if(!u[rt])switch(f){case"meta":if(!u.hasAttribute("itemprop"))break;return u;case"link":if(R=u.getAttribute("rel"),R==="stylesheet"&&u.hasAttribute("data-precedence"))break;if(R!==T.rel||u.getAttribute("href")!==(T.href==null||T.href===""?null:T.href)||u.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||u.getAttribute("title")!==(T.title==null?null:T.title))break;return u;case"style":if(u.hasAttribute("data-precedence"))break;return u;case"script":if(R=u.getAttribute("src"),(R!==(T.src==null?null:T.src)||u.getAttribute("type")!==(T.type==null?null:T.type)||u.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&R&&u.hasAttribute("async")&&!u.hasAttribute("itemprop"))break;return u;default:return u}}else if(f==="input"&&u.type==="hidden"){var R=T.name==null?null:""+T.name;if(T.type==="hidden"&&u.getAttribute("name")===R)return u}else return u;if(u=Ac(u.nextSibling),u===null)break}return null}function QZ(u,f,g){if(f==="")return null;for(;u.nodeType!==3;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!g||(u=Ac(u.nextSibling),u===null))return null;return u}function g8(u,f){for(;u.nodeType!==8;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!f||(u=Ac(u.nextSibling),u===null))return null;return u}function fS(u){return u.data==="$?"||u.data==="$~"}function mS(u){return u.data==="$!"||u.data==="$?"&&u.ownerDocument.readyState!=="loading"}function eJ(u,f){var g=u.ownerDocument;if(u.data==="$~")u._reactRetry=f;else if(u.data!=="$?"||g.readyState!=="loading")f();else{var N=function(){f(),g.removeEventListener("DOMContentLoaded",N)};g.addEventListener("DOMContentLoaded",N),u._reactRetry=N}}function Ac(u){for(;u!=null;u=u.nextSibling){var f=u.nodeType;if(f===1||f===3)break;if(f===8){if(f=u.data,f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"||f==="F!"||f==="F")break;if(f==="/$"||f==="/&")return null}}return u}var xS=null;function v8(u){u=u.nextSibling;for(var f=0;u;){if(u.nodeType===8){var g=u.data;if(g==="/$"||g==="/&"){if(f===0)return Ac(u.nextSibling);f--}else g!=="$"&&g!=="$!"&&g!=="$?"&&g!=="$~"&&g!=="&"||f++}u=u.nextSibling}return null}function y8(u){u=u.previousSibling;for(var f=0;u;){if(u.nodeType===8){var g=u.data;if(g==="$"||g==="$!"||g==="$?"||g==="$~"||g==="&"){if(f===0)return u;f--}else g!=="/$"&&g!=="/&"||f++}u=u.previousSibling}return null}function b8(u,f,g){switch(f=U1(g),u){case"html":if(u=f.documentElement,!u)throw Error(a(452));return u;case"head":if(u=f.head,!u)throw Error(a(453));return u;case"body":if(u=f.body,!u)throw Error(a(454));return u;default:throw Error(a(451))}}function Ev(u){for(var f=u.attributes;f.length;)u.removeAttributeNode(f[0]);Dt(u)}var Cc=new Map,j8=new Set;function z1(u){return typeof u.getRootNode=="function"?u.getRootNode():u.nodeType===9?u:u.ownerDocument}var Nh=re.d;re.d={f:tJ,r:rJ,D:sJ,C:aJ,L:nJ,m:iJ,X:oJ,S:lJ,M:cJ};function tJ(){var u=Nh.f(),f=O1();return u||f}function rJ(u){var f=Ht(u);f!==null&&f.tag===5&&f.type==="form"?IP(f):Nh.r(u)}var xp=typeof document>"u"?null:document;function N8(u,f,g){var N=xp;if(N&&typeof f=="string"&&f){var T=ln(f);T='link[rel="'+u+'"][href="'+T+'"]',typeof g=="string"&&(T+='[crossorigin="'+g+'"]'),j8.has(T)||(j8.add(T),u={rel:u,crossOrigin:g,href:f},N.querySelector(T)===null&&(f=N.createElement("link"),Zi(f,"link",u),Yt(f),N.head.appendChild(f)))}}function sJ(u){Nh.D(u),N8("dns-prefetch",u,null)}function aJ(u,f){Nh.C(u,f),N8("preconnect",u,f)}function nJ(u,f,g){Nh.L(u,f,g);var N=xp;if(N&&u&&f){var T='link[rel="preload"][as="'+ln(f)+'"]';f==="image"&&g&&g.imageSrcSet?(T+='[imagesrcset="'+ln(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(T+='[imagesizes="'+ln(g.imageSizes)+'"]')):T+='[href="'+ln(u)+'"]';var R=T;switch(f){case"style":R=pp(u);break;case"script":R=gp(u)}Cc.has(R)||(u=m({rel:"preload",href:f==="image"&&g&&g.imageSrcSet?void 0:u,as:f},g),Cc.set(R,u),N.querySelector(T)!==null||f==="style"&&N.querySelector(Pv(R))||f==="script"&&N.querySelector(Ov(R))||(f=N.createElement("link"),Zi(f,"link",u),Yt(f),N.head.appendChild(f)))}}function iJ(u,f){Nh.m(u,f);var g=xp;if(g&&u){var N=f&&typeof f.as=="string"?f.as:"script",T='link[rel="modulepreload"][as="'+ln(N)+'"][href="'+ln(u)+'"]',R=T;switch(N){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":R=gp(u)}if(!Cc.has(R)&&(u=m({rel:"modulepreload",href:u},f),Cc.set(R,u),g.querySelector(T)===null)){switch(N){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(Ov(R)))return}N=g.createElement("link"),Zi(N,"link",u),Yt(N),g.head.appendChild(N)}}}function lJ(u,f,g){Nh.S(u,f,g);var N=xp;if(N&&u){var T=It(N).hoistableStyles,R=pp(u);f=f||"default";var Q=T.get(R);if(!Q){var pe={loading:0,preload:null};if(Q=N.querySelector(Pv(R)))pe.loading=5;else{u=m({rel:"stylesheet",href:u,"data-precedence":f},g),(g=Cc.get(R))&&pS(u,g);var Fe=Q=N.createElement("link");Yt(Fe),Zi(Fe,"link",u),Fe._p=new Promise(function(it,yt){Fe.onload=it,Fe.onerror=yt}),Fe.addEventListener("load",function(){pe.loading|=1}),Fe.addEventListener("error",function(){pe.loading|=2}),pe.loading|=4,$1(Q,f,N)}Q={type:"stylesheet",instance:Q,count:1,state:pe},T.set(R,Q)}}}function oJ(u,f){Nh.X(u,f);var g=xp;if(g&&u){var N=It(g).hoistableScripts,T=gp(u),R=N.get(T);R||(R=g.querySelector(Ov(T)),R||(u=m({src:u,async:!0},f),(f=Cc.get(T))&&gS(u,f),R=g.createElement("script"),Yt(R),Zi(R,"link",u),g.head.appendChild(R)),R={type:"script",instance:R,count:1,state:null},N.set(T,R))}}function cJ(u,f){Nh.M(u,f);var g=xp;if(g&&u){var N=It(g).hoistableScripts,T=gp(u),R=N.get(T);R||(R=g.querySelector(Ov(T)),R||(u=m({src:u,async:!0,type:"module"},f),(f=Cc.get(T))&&gS(u,f),R=g.createElement("script"),Yt(R),Zi(R,"link",u),g.head.appendChild(R)),R={type:"script",instance:R,count:1,state:null},N.set(T,R))}}function w8(u,f,g,N){var T=(T=G.current)?z1(T):null;if(!T)throw Error(a(446));switch(u){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(f=pp(g.href),g=It(T).hoistableStyles,N=g.get(f),N||(N={type:"style",instance:null,count:0,state:null},g.set(f,N)),N):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){u=pp(g.href);var R=It(T).hoistableStyles,Q=R.get(u);if(Q||(T=T.ownerDocument||T,Q={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},R.set(u,Q),(R=T.querySelector(Pv(u)))&&!R._p&&(Q.instance=R,Q.state.loading=5),Cc.has(u)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},Cc.set(u,g),R||dJ(T,u,g,Q.state))),f&&N===null)throw Error(a(528,""));return Q}if(f&&N!==null)throw Error(a(529,""));return null;case"script":return f=g.async,g=g.src,typeof g=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=gp(g),g=It(T).hoistableScripts,N=g.get(f),N||(N={type:"script",instance:null,count:0,state:null},g.set(f,N)),N):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,u))}}function pp(u){return'href="'+ln(u)+'"'}function Pv(u){return'link[rel="stylesheet"]['+u+"]"}function S8(u){return m({},u,{"data-precedence":u.precedence,precedence:null})}function dJ(u,f,g,N){u.querySelector('link[rel="preload"][as="style"]['+f+"]")?N.loading=1:(f=u.createElement("link"),N.preload=f,f.addEventListener("load",function(){return N.loading|=1}),f.addEventListener("error",function(){return N.loading|=2}),Zi(f,"link",g),Yt(f),u.head.appendChild(f))}function gp(u){return'[src="'+ln(u)+'"]'}function Ov(u){return"script[async]"+u}function _8(u,f,g){if(f.count++,f.instance===null)switch(f.type){case"style":var N=u.querySelector('style[data-href~="'+ln(g.href)+'"]');if(N)return f.instance=N,Yt(N),N;var T=m({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return N=(u.ownerDocument||u).createElement("style"),Yt(N),Zi(N,"style",T),$1(N,g.precedence,u),f.instance=N;case"stylesheet":T=pp(g.href);var R=u.querySelector(Pv(T));if(R)return f.state.loading|=4,f.instance=R,Yt(R),R;N=S8(g),(T=Cc.get(T))&&pS(N,T),R=(u.ownerDocument||u).createElement("link"),Yt(R);var Q=R;return Q._p=new Promise(function(pe,Fe){Q.onload=pe,Q.onerror=Fe}),Zi(R,"link",N),f.state.loading|=4,$1(R,g.precedence,u),f.instance=R;case"script":return R=gp(g.src),(T=u.querySelector(Ov(R)))?(f.instance=T,Yt(T),T):(N=g,(T=Cc.get(R))&&(N=m({},g),gS(N,T)),u=u.ownerDocument||u,T=u.createElement("script"),Yt(T),Zi(T,"link",N),u.head.appendChild(T),f.instance=T);case"void":return null;default:throw Error(a(443,f.type))}else f.type==="stylesheet"&&(f.state.loading&4)===0&&(N=f.instance,f.state.loading|=4,$1(N,g.precedence,u));return f.instance}function $1(u,f,g){for(var N=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=N.length?N[N.length-1]:null,R=T,Q=0;Q<N.length;Q++){var pe=N[Q];if(pe.dataset.precedence===f)R=pe;else if(R!==T)break}R?R.parentNode.insertBefore(u,R.nextSibling):(f=g.nodeType===9?g.head:g,f.insertBefore(u,f.firstChild))}function pS(u,f){u.crossOrigin==null&&(u.crossOrigin=f.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=f.referrerPolicy),u.title==null&&(u.title=f.title)}function gS(u,f){u.crossOrigin==null&&(u.crossOrigin=f.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=f.referrerPolicy),u.integrity==null&&(u.integrity=f.integrity)}var H1=null;function k8(u,f,g){if(H1===null){var N=new Map,T=H1=new Map;T.set(g,N)}else T=H1,N=T.get(g),N||(N=new Map,T.set(g,N));if(N.has(u))return N;for(N.set(u,null),g=g.getElementsByTagName(u),T=0;T<g.length;T++){var R=g[T];if(!(R[rt]||R[je]||u==="link"&&R.getAttribute("rel")==="stylesheet")&&R.namespaceURI!=="http://www.w3.org/2000/svg"){var Q=R.getAttribute(f)||"";Q=u+Q;var pe=N.get(Q);pe?pe.push(R):N.set(Q,[R])}}return N}function A8(u,f,g){u=u.ownerDocument||u,u.head.insertBefore(g,f==="title"?u.querySelector("head > title"):null)}function uJ(u,f,g){if(g===1||f.itemProp!=null)return!1;switch(u){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;return f.rel==="stylesheet"?(u=f.disabled,typeof f.precedence=="string"&&u==null):!0;case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function C8(u){return!(u.type==="stylesheet"&&(u.state.loading&3)===0)}function hJ(u,f,g,N){if(g.type==="stylesheet"&&(typeof N.media!="string"||matchMedia(N.media).matches!==!1)&&(g.state.loading&4)===0){if(g.instance===null){var T=pp(N.href),R=f.querySelector(Pv(T));if(R){f=R._p,f!==null&&typeof f=="object"&&typeof f.then=="function"&&(u.count++,u=q1.bind(u),f.then(u,u)),g.state.loading|=4,g.instance=R,Yt(R);return}R=f.ownerDocument||f,N=S8(N),(T=Cc.get(T))&&pS(N,T),R=R.createElement("link"),Yt(R);var Q=R;Q._p=new Promise(function(pe,Fe){Q.onload=pe,Q.onerror=Fe}),Zi(R,"link",N),g.instance=R}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(g,f),(f=g.state.preload)&&(g.state.loading&3)===0&&(u.count++,g=q1.bind(u),f.addEventListener("load",g),f.addEventListener("error",g))}}var vS=0;function fJ(u,f){return u.stylesheets&&u.count===0&&W1(u,u.stylesheets),0<u.count||0<u.imgCount?function(g){var N=setTimeout(function(){if(u.stylesheets&&W1(u,u.stylesheets),u.unsuspend){var R=u.unsuspend;u.unsuspend=null,R()}},6e4+f);0<u.imgBytes&&vS===0&&(vS=62500*GZ());var T=setTimeout(function(){if(u.waitingForImages=!1,u.count===0&&(u.stylesheets&&W1(u,u.stylesheets),u.unsuspend)){var R=u.unsuspend;u.unsuspend=null,R()}},(u.imgBytes>vS?50:800)+f);return u.unsuspend=g,function(){u.unsuspend=null,clearTimeout(N),clearTimeout(T)}}:null}function q1(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)W1(this,this.stylesheets);else if(this.unsuspend){var u=this.unsuspend;this.unsuspend=null,u()}}}var V1=null;function W1(u,f){u.stylesheets=null,u.unsuspend!==null&&(u.count++,V1=new Map,f.forEach(mJ,u),V1=null,q1.call(u))}function mJ(u,f){if(!(f.state.loading&4)){var g=V1.get(u);if(g)var N=g.get(null);else{g=new Map,V1.set(u,g);for(var T=u.querySelectorAll("link[data-precedence],style[data-precedence]"),R=0;R<T.length;R++){var Q=T[R];(Q.nodeName==="LINK"||Q.getAttribute("media")!=="not all")&&(g.set(Q.dataset.precedence,Q),N=Q)}N&&g.set(null,N)}T=f.instance,Q=T.getAttribute("data-precedence"),R=g.get(Q)||N,R===N&&g.set(null,T),g.set(Q,T),this.count++,N=q1.bind(this),T.addEventListener("load",N),T.addEventListener("error",N),R?R.parentNode.insertBefore(T,R.nextSibling):(u=u.nodeType===9?u.head:u,u.insertBefore(T,u.firstChild)),f.state.loading|=4}}var Dv={$$typeof:w,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function xJ(u,f,g,N,T,R,Q,pe,Fe){this.tag=1,this.containerInfo=u,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=nl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nl(0),this.hiddenUpdates=nl(null),this.identifierPrefix=N,this.onUncaughtError=T,this.onCaughtError=R,this.onRecoverableError=Q,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Fe,this.incompleteTransitions=new Map}function T8(u,f,g,N,T,R,Q,pe,Fe,it,yt,_t){return u=new xJ(u,f,g,Q,Fe,it,yt,_t,pe),f=1,R===!0&&(f|=24),R=_i(3,null,null,f),u.current=R,R.stateNode=u,f=Of(),f.refCount++,u.pooledCache=f,f.refCount++,R.memoizedState={element:N,isDehydrated:g,cache:f},zt(R),u}function E8(u){return u?(u=oi,u):oi}function P8(u,f,g,N,T,R){T=E8(T),N.context===null?N.context=T:N.pendingContext=T,N=Nr(f),N.payload={element:g},R=R===void 0?null:R,R!==null&&(N.callback=R),g=$r(u,N,f),g!==null&&(po(g,u,f),Is(g,u,f))}function O8(u,f){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var g=u.retryLane;u.retryLane=g!==0&&g<f?g:f}}function yS(u,f){O8(u,f),(u=u.alternate)&&O8(u,f)}function D8(u){if(u.tag===13||u.tag===31){var f=_d(u,67108864);f!==null&&po(f,u,67108864),yS(u,67108864)}}function R8(u){if(u.tag===13||u.tag===31){var f=Vo();f=aa(f);var g=_d(u,f);g!==null&&po(g,u,f),yS(u,f)}}var G1=!0;function pJ(u,f,g,N){var T=V.T;V.T=null;var R=re.p;try{re.p=2,bS(u,f,g,N)}finally{re.p=R,V.T=T}}function gJ(u,f,g,N){var T=V.T;V.T=null;var R=re.p;try{re.p=8,bS(u,f,g,N)}finally{re.p=R,V.T=T}}function bS(u,f,g,N){if(G1){var T=jS(N);if(T===null)iS(u,f,N,K1,g),F8(u,N);else if(yJ(T,u,f,g,N))N.stopPropagation();else if(F8(u,N),f&4&&-1<vJ.indexOf(u)){for(;T!==null;){var R=Ht(T);if(R!==null)switch(R.tag){case 3:if(R=R.stateNode,R.current.memoizedState.isDehydrated){var Q=ar(R.pendingLanes);if(Q!==0){var pe=R;for(pe.pendingLanes|=2,pe.entangledLanes|=2;Q;){var Fe=1<<31-Hr(Q);pe.entanglements[1]|=Fe,Q&=~Fe}yu(R),(Us&6)===0&&(E1=Oe()+500,Av(0))}}break;case 31:case 13:pe=_d(R,2),pe!==null&&po(pe,R,2),O1(),yS(R,2)}if(R=jS(N),R===null&&iS(u,f,N,K1,g),R===T)break;T=R}T!==null&&N.stopPropagation()}else iS(u,f,N,null,g)}}function jS(u){return u=Ju(u),NS(u)}var K1=null;function NS(u){if(K1=null,u=Ft(u),u!==null){var f=i(u);if(f===null)u=null;else{var g=f.tag;if(g===13){if(u=l(f),u!==null)return u;u=null}else if(g===31){if(u=o(f),u!==null)return u;u=null}else if(g===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;u=null}else f!==u&&(u=null)}}return K1=u,null}function M8(u){switch(u){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Me()){case De:return 2;case He:return 8;case mt:case xt:return 32;case At:return 268435456;default:return 32}default:return 32}}var wS=!1,Vf=null,Wf=null,Gf=null,Rv=new Map,Mv=new Map,Kf=[],vJ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function F8(u,f){switch(u){case"focusin":case"focusout":Vf=null;break;case"dragenter":case"dragleave":Wf=null;break;case"mouseover":case"mouseout":Gf=null;break;case"pointerover":case"pointerout":Rv.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mv.delete(f.pointerId)}}function Fv(u,f,g,N,T,R){return u===null||u.nativeEvent!==R?(u={blockedOn:f,domEventName:g,eventSystemFlags:N,nativeEvent:R,targetContainers:[T]},f!==null&&(f=Ht(f),f!==null&&D8(f)),u):(u.eventSystemFlags|=N,f=u.targetContainers,T!==null&&f.indexOf(T)===-1&&f.push(T),u)}function yJ(u,f,g,N,T){switch(f){case"focusin":return Vf=Fv(Vf,u,f,g,N,T),!0;case"dragenter":return Wf=Fv(Wf,u,f,g,N,T),!0;case"mouseover":return Gf=Fv(Gf,u,f,g,N,T),!0;case"pointerover":var R=T.pointerId;return Rv.set(R,Fv(Rv.get(R)||null,u,f,g,N,T)),!0;case"gotpointercapture":return R=T.pointerId,Mv.set(R,Fv(Mv.get(R)||null,u,f,g,N,T)),!0}return!1}function L8(u){var f=Ft(u.target);if(f!==null){var g=i(f);if(g!==null){if(f=g.tag,f===13){if(f=l(g),f!==null){u.blockedOn=f,Te(u.priority,function(){R8(g)});return}}else if(f===31){if(f=o(g),f!==null){u.blockedOn=f,Te(u.priority,function(){R8(g)});return}}else if(f===3&&g.stateNode.current.memoizedState.isDehydrated){u.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}u.blockedOn=null}function Y1(u){if(u.blockedOn!==null)return!1;for(var f=u.targetContainers;0<f.length;){var g=jS(u.nativeEvent);if(g===null){g=u.nativeEvent;var N=new g.constructor(g.type,g);od=N,g.target.dispatchEvent(N),od=null}else return f=Ht(g),f!==null&&D8(f),u.blockedOn=g,!1;f.shift()}return!0}function I8(u,f,g){Y1(u)&&g.delete(f)}function bJ(){wS=!1,Vf!==null&&Y1(Vf)&&(Vf=null),Wf!==null&&Y1(Wf)&&(Wf=null),Gf!==null&&Y1(Gf)&&(Gf=null),Rv.forEach(I8),Mv.forEach(I8)}function X1(u,f){u.blockedOn===f&&(u.blockedOn=null,wS||(wS=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,bJ)))}var Z1=null;function B8(u){Z1!==u&&(Z1=u,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Z1===u&&(Z1=null);for(var f=0;f<u.length;f+=3){var g=u[f],N=u[f+1],T=u[f+2];if(typeof N!="function"){if(NS(N||g)===null)continue;break}var R=Ht(g);R!==null&&(u.splice(f,3),f-=3,j4(R,{pending:!0,data:T,method:g.method,action:N},N,T))}}))}function vp(u){function f(Fe){return X1(Fe,u)}Vf!==null&&X1(Vf,u),Wf!==null&&X1(Wf,u),Gf!==null&&X1(Gf,u),Rv.forEach(f),Mv.forEach(f);for(var g=0;g<Kf.length;g++){var N=Kf[g];N.blockedOn===u&&(N.blockedOn=null)}for(;0<Kf.length&&(g=Kf[0],g.blockedOn===null);)L8(g),g.blockedOn===null&&Kf.shift();if(g=(u.ownerDocument||u).$$reactFormReplay,g!=null)for(N=0;N<g.length;N+=3){var T=g[N],R=g[N+1],Q=T[ke]||null;if(typeof R=="function")Q||B8(g);else if(Q){var pe=null;if(R&&R.hasAttribute("formAction")){if(T=R,Q=R[ke]||null)pe=Q.formAction;else if(NS(T)!==null)continue}else pe=Q.action;typeof pe=="function"?g[N+1]=pe:(g.splice(N,3),N-=3),B8(g)}}}function U8(){function u(R){R.canIntercept&&R.info==="react-transition"&&R.intercept({handler:function(){return new Promise(function(Q){return T=Q})},focusReset:"manual",scroll:"manual"})}function f(){T!==null&&(T(),T=null),N||setTimeout(g,20)}function g(){if(!N&&!navigation.transition){var R=navigation.currentEntry;R&&R.url!=null&&navigation.navigate(R.url,{state:R.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var N=!1,T=null;return navigation.addEventListener("navigate",u),navigation.addEventListener("navigatesuccess",f),navigation.addEventListener("navigateerror",f),setTimeout(g,100),function(){N=!0,navigation.removeEventListener("navigate",u),navigation.removeEventListener("navigatesuccess",f),navigation.removeEventListener("navigateerror",f),T!==null&&(T(),T=null)}}}function SS(u){this._internalRoot=u}J1.prototype.render=SS.prototype.render=function(u){var f=this._internalRoot;if(f===null)throw Error(a(409));var g=f.current,N=Vo();P8(g,N,u,f,null,null)},J1.prototype.unmount=SS.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var f=u.containerInfo;P8(u.current,2,null,u,null,null),O1(),f[Pe]=null}};function J1(u){this._internalRoot=u}J1.prototype.unstable_scheduleHydration=function(u){if(u){var f=ce();u={blockedOn:null,target:u,priority:f};for(var g=0;g<Kf.length&&f!==0&&f<Kf[g].priority;g++);Kf.splice(g,0,u),g===0&&L8(u)}};var z8=t.version;if(z8!=="19.2.3")throw Error(a(527,z8,"19.2.3"));re.findDOMNode=function(u){var f=u._reactInternals;if(f===void 0)throw typeof u.render=="function"?Error(a(188)):(u=Object.keys(u).join(","),Error(a(268,u)));return u=d(f),u=u!==null?h(u):null,u=u===null?null:u.stateNode,u};var jJ={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Q1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Q1.isDisabled&&Q1.supportsFiber)try{Jt=Q1.inject(jJ),Vt=Q1}catch{}}return Iv.createRoot=function(u,f){if(!n(u))throw Error(a(299));var g=!1,N="",T=KP,R=YP,Q=XP;return f!=null&&(f.unstable_strictMode===!0&&(g=!0),f.identifierPrefix!==void 0&&(N=f.identifierPrefix),f.onUncaughtError!==void 0&&(T=f.onUncaughtError),f.onCaughtError!==void 0&&(R=f.onCaughtError),f.onRecoverableError!==void 0&&(Q=f.onRecoverableError)),f=T8(u,1,!1,null,null,g,N,null,T,R,Q,U8),u[Pe]=f.current,nS(u),new SS(f)},Iv.hydrateRoot=function(u,f,g){if(!n(u))throw Error(a(299));var N=!1,T="",R=KP,Q=YP,pe=XP,Fe=null;return g!=null&&(g.unstable_strictMode===!0&&(N=!0),g.identifierPrefix!==void 0&&(T=g.identifierPrefix),g.onUncaughtError!==void 0&&(R=g.onUncaughtError),g.onCaughtError!==void 0&&(Q=g.onCaughtError),g.onRecoverableError!==void 0&&(pe=g.onRecoverableError),g.formState!==void 0&&(Fe=g.formState)),f=T8(u,1,!0,f,g??null,N,T,Fe,R,Q,pe,U8),f.context=E8(null),g=f.current,N=Vo(),N=aa(N),T=Nr(N),T.callback=null,$r(g,T,N),g=N,f.current.lanes=g,hr(f,g),yu(f),u[Pe]=f.current,nS(u),new J1(f)},Iv.version="19.2.3",Iv}var Z8;function OJ(){if(Z8)return AS.exports;Z8=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),AS.exports=PJ(),AS.exports}var DJ=OJ();var J8="popstate";function RJ(e={}){function t(a,n){let{pathname:i,search:l,hash:o}=a.location;return Fk("",{pathname:i,search:l,hash:o},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function s(a,n){return typeof n=="string"?n:Oy(n)}return FJ(t,s,null,e)}function Ka(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Kc(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function MJ(){return Math.random().toString(36).substring(2,10)}function Q8(e,t){return{usr:e.state,key:e.key,idx:t}}function Fk(e,t,s=null,a){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?kg(t):t,state:s,key:t&&t.key||a||MJ()}}function Oy({pathname:e="/",search:t="",hash:s=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function kg(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substring(s),e=e.substring(0,s));let a=e.indexOf("?");a>=0&&(t.search=e.substring(a),e=e.substring(0,a)),e&&(t.pathname=e)}return t}function FJ(e,t,s,a={}){let{window:n=document.defaultView,v5Compat:i=!1}=a,l=n.history,o="POP",c=null,d=h();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function h(){return(l.state||{idx:null}).idx}function m(){o="POP";let b=h(),j=b==null?null:b-d;d=b,c&&c({action:o,location:y.location,delta:j})}function p(b,j){o="PUSH";let S=Fk(y.location,b,j);d=h()+1;let w=Q8(S,d),k=y.createHref(S);try{l.pushState(w,"",k)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;n.location.assign(k)}i&&c&&c({action:o,location:y.location,delta:1})}function x(b,j){o="REPLACE";let S=Fk(y.location,b,j);d=h();let w=Q8(S,d),k=y.createHref(S);l.replaceState(w,"",k),i&&c&&c({action:o,location:y.location,delta:0})}function v(b){return LJ(b)}let y={get action(){return o},get location(){return e(n,l)},listen(b){if(c)throw new Error("A history only accepts one active listener");return n.addEventListener(J8,m),c=b,()=>{n.removeEventListener(J8,m),c=null}},createHref(b){return t(n,b)},createURL:v,encodeLocation(b){let j=v(b);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:p,replace:x,go(b){return l.go(b)}};return y}function LJ(e,t=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),Ka(s,"No window.location.(origin|href) available to create URL");let a=typeof e=="string"?e:Oy(e);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=s+a),new URL(a,s)}function CU(e,t,s="/"){return IJ(e,t,s,!1)}function IJ(e,t,s,a){let n=typeof t=="string"?kg(t):t,i=qh(n.pathname||"/",s);if(i==null)return null;let l=TU(e);BJ(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let d=XJ(i);o=KJ(l[c],d,a)}return o}function TU(e,t=[],s=[],a="",n=!1){let i=(l,o,c=n,d)=>{let h={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:o,route:l};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(a)&&c)return;Ka(h.relativePath.startsWith(a),`Absolute route path "${h.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(a.length)}let m=Lh([a,h.relativePath]),p=s.concat(h);l.children&&l.children.length>0&&(Ka(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),TU(l.children,t,p,m,c)),!(l.path==null&&!l.index)&&t.push({path:m,score:WJ(m,l.index),routesMeta:p})};return e.forEach((l,o)=>{if(l.path===""||!l.path?.includes("?"))i(l,o);else for(let c of EU(l.path))i(l,o,!0,c)}),t}function EU(e){let t=e.split("/");if(t.length===0)return[];let[s,...a]=t,n=s.endsWith("?"),i=s.replace(/\?$/,"");if(a.length===0)return n?[i,""]:[i];let l=EU(a.join("/")),o=[];return o.push(...l.map(c=>c===""?i:[i,c].join("/"))),n&&o.push(...l),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function BJ(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:GJ(t.routesMeta.map(a=>a.childrenIndex),s.routesMeta.map(a=>a.childrenIndex)))}var UJ=/^:[\w-]+$/,zJ=3,$J=2,HJ=1,qJ=10,VJ=-2,eD=e=>e==="*";function WJ(e,t){let s=e.split("/"),a=s.length;return s.some(eD)&&(a+=VJ),t&&(a+=$J),s.filter(n=>!eD(n)).reduce((n,i)=>n+(UJ.test(i)?zJ:i===""?HJ:qJ),a)}function GJ(e,t){return e.length===t.length&&e.slice(0,-1).every((a,n)=>a===t[n])?e[e.length-1]-t[t.length-1]:0}function KJ(e,t,s=!1){let{routesMeta:a}=e,n={},i="/",l=[];for(let o=0;o<a.length;++o){let c=a[o],d=o===a.length-1,h=i==="/"?t:t.slice(i.length)||"/",m=Zj({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),p=c.route;if(!m&&d&&s&&!a[a.length-1].route.index&&(m=Zj({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!m)return null;Object.assign(n,m.params),l.push({params:n,pathname:Lh([i,m.pathname]),pathnameBase:eQ(Lh([i,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(i=Lh([i,m.pathnameBase]))}return l}function Zj(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,a]=YJ(e.path,e.caseSensitive,e.end),n=t.match(s);if(!n)return null;let i=n[0],l=i.replace(/(.)\/+$/,"$1"),o=n.slice(1);return{params:a.reduce((d,{paramName:h,isOptional:m},p)=>{if(h==="*"){let v=o[p]||"";l=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const x=o[p];return m&&!x?d[h]=void 0:d[h]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:l,pattern:e}}function YJ(e,t=!1,s=!0){Kc(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(a.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(a.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),a]}function XJ(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Kc(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function qh(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,a=e.charAt(s);return a&&a!=="/"?null:e.slice(s)||"/"}var PU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ZJ=e=>PU.test(e);function JJ(e,t="/"){let{pathname:s,search:a="",hash:n=""}=typeof e=="string"?kg(e):e,i;if(s)if(ZJ(s))i=s;else{if(s.includes("//")){let l=s;s=s.replace(/\/\/+/g,"/"),Kc(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${s}`)}s.startsWith("/")?i=tD(s.substring(1),"/"):i=tD(s,t)}else i=t;return{pathname:i,search:tQ(a),hash:rQ(n)}}function tD(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?s.length>1&&s.pop():n!=="."&&s.push(n)}),s.length>1?s.join("/"):"/"}function PS(e,t,s,a){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function QJ(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function R6(e){let t=QJ(e);return t.map((s,a)=>a===t.length-1?s.pathname:s.pathnameBase)}function M6(e,t,s,a=!1){let n;typeof e=="string"?n=kg(e):(n={...e},Ka(!n.pathname||!n.pathname.includes("?"),PS("?","pathname","search",n)),Ka(!n.pathname||!n.pathname.includes("#"),PS("#","pathname","hash",n)),Ka(!n.search||!n.search.includes("#"),PS("#","search","hash",n)));let i=e===""||n.pathname==="",l=i?"/":n.pathname,o;if(l==null)o=s;else{let m=t.length-1;if(!a&&l.startsWith("..")){let p=l.split("/");for(;p[0]==="..";)p.shift(),m-=1;n.pathname=p.join("/")}o=m>=0?t[m]:"/"}let c=JJ(n,o),d=l&&l!=="/"&&l.endsWith("/"),h=(i||l===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}var Lh=e=>e.join("/").replace(/\/\/+/g,"/"),eQ=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),tQ=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,rQ=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,sQ=class{constructor(e,t,s,a=!1){this.status=e,this.statusText=t||"",this.internal=a,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}};function aQ(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function nQ(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var OU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function DU(e,t){let s=e;if(typeof s!="string"||!PU.test(s))return{absoluteURL:void 0,isExternal:!1,to:s};let a=s,n=!1;if(OU)try{let i=new URL(window.location.href),l=s.startsWith("//")?new URL(i.protocol+s):new URL(s),o=qh(l.pathname,t);l.origin===i.origin&&o!=null?s=o+l.search+l.hash:n=!0}catch{Kc(!1,`<Link to="${s}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:n,to:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var RU=["POST","PUT","PATCH","DELETE"];new Set(RU);var iQ=["GET",...RU];new Set(iQ);var Ag=A.createContext(null);Ag.displayName="DataRouter";var Tw=A.createContext(null);Tw.displayName="DataRouterState";var lQ=A.createContext(!1),MU=A.createContext({isTransitioning:!1});MU.displayName="ViewTransition";var oQ=A.createContext(new Map);oQ.displayName="Fetchers";var cQ=A.createContext(null);cQ.displayName="Await";var hc=A.createContext(null);hc.displayName="Navigation";var gb=A.createContext(null);gb.displayName="Location";var Yd=A.createContext({outlet:null,matches:[],isDataRoute:!1});Yd.displayName="Route";var F6=A.createContext(null);F6.displayName="RouteError";var FU="REACT_ROUTER_ERROR",dQ="REDIRECT",uQ="ROUTE_ERROR_RESPONSE";function hQ(e){if(e.startsWith(`${FU}:${dQ}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function fQ(e){if(e.startsWith(`${FU}:${uQ}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new sQ(t.status,t.statusText,t.data)}catch{}}function mQ(e,{relative:t}={}){Ka(Cg(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:a}=A.useContext(hc),{hash:n,pathname:i,search:l}=yb(e,{relative:t}),o=i;return s!=="/"&&(o=i==="/"?s:Lh([s,i])),a.createHref({pathname:o,search:l,hash:n})}function Cg(){return A.useContext(gb)!=null}function Ao(){return Ka(Cg(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(gb).location}var LU="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function IU(e){A.useContext(hc).static||A.useLayoutEffect(e)}function vb(){let{isDataRoute:e}=A.useContext(Yd);return e?TQ():xQ()}function xQ(){Ka(Cg(),"useNavigate() may be used only in the context of a <Router> component.");let e=A.useContext(Ag),{basename:t,navigator:s}=A.useContext(hc),{matches:a}=A.useContext(Yd),{pathname:n}=Ao(),i=JSON.stringify(R6(a)),l=A.useRef(!1);return IU(()=>{l.current=!0}),A.useCallback((c,d={})=>{if(Kc(l.current,LU),!l.current)return;if(typeof c=="number"){s.go(c);return}let h=M6(c,JSON.parse(i),n,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Lh([t,h.pathname])),(d.replace?s.replace:s.push)(h,d.state,d)},[t,s,i,n,e])}var pQ=A.createContext(null);function gQ(e){let t=A.useContext(Yd).outlet;return A.useMemo(()=>t&&A.createElement(pQ.Provider,{value:e},t),[t,e])}function yb(e,{relative:t}={}){let{matches:s}=A.useContext(Yd),{pathname:a}=Ao(),n=JSON.stringify(R6(s));return A.useMemo(()=>M6(e,JSON.parse(n),a,t==="path"),[e,n,a,t])}function vQ(e,t){return BU(e,t)}function BU(e,t,s,a,n){Ka(Cg(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=A.useContext(hc),{matches:l}=A.useContext(Yd),o=l[l.length-1],c=o?o.params:{},d=o?o.pathname:"/",h=o?o.pathnameBase:"/",m=o&&o.route;{let S=m&&m.path||"";zU(d,!m||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let p=Ao(),x;if(t){let S=typeof t=="string"?kg(t):t;Ka(h==="/"||S.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${S.pathname}" was given in the \`location\` prop.`),x=S}else x=p;let v=x.pathname||"/",y=v;if(h!=="/"){let S=h.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(S.length).join("/")}let b=CU(e,{pathname:y});Kc(m||b!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Kc(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=wQ(b&&b.map(S=>Object.assign({},S,{params:Object.assign({},c,S.params),pathname:Lh([h,i.encodeLocation?i.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?h:Lh([h,i.encodeLocation?i.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),l,s,a,n);return t&&j?A.createElement(gb.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},j):j}function yQ(){let e=CQ(),t=aQ(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",n={padding:"0.5rem",backgroundColor:a},i={padding:"2px 4px",backgroundColor:a},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=A.createElement(A.Fragment,null,A.createElement("p",null," Hey developer "),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:i},"ErrorBoundary")," or"," ",A.createElement("code",{style:i},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},t),s?A.createElement("pre",{style:n},s):null,l)}var bQ=A.createElement(yQ,null),UU=class extends A.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const s=fQ(e.digest);s&&(e=s)}let t=e!==void 0?A.createElement(Yd.Provider,{value:this.props.routeContext},A.createElement(F6.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?A.createElement(jQ,{error:e},t):t}};UU.contextType=lQ;var OS=new WeakMap;function jQ({children:e,error:t}){let{basename:s}=A.useContext(hc);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let a=hQ(t.digest);if(a){let n=OS.get(t);if(n)throw n;let i=DU(a.location,s);if(OU&&!OS.get(t))if(i.isExternal||a.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:a.replace}));throw OS.set(t,l),l}return A.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return e}function NQ({routeContext:e,match:t,children:s}){let a=A.useContext(Ag);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),A.createElement(Yd.Provider,{value:e},s)}function wQ(e,t=[],s=null,a=null,n=null){if(e==null){if(!s)return null;if(s.errors)e=s.matches;else if(t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let i=e,l=s?.errors;if(l!=null){let h=i.findIndex(m=>m.route.id&&l?.[m.route.id]!==void 0);Ka(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let o=!1,c=-1;if(s)for(let h=0;h<i.length;h++){let m=i[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(c=h),m.route.id){let{loaderData:p,errors:x}=s,v=m.route.loader&&!p.hasOwnProperty(m.route.id)&&(!x||x[m.route.id]===void 0);if(m.route.lazy||v){o=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}let d=s&&a?(h,m)=>{a(h,{location:s.location,params:s.matches?.[0]?.params??{},unstable_pattern:nQ(s.matches),errorInfo:m})}:void 0;return i.reduceRight((h,m,p)=>{let x,v=!1,y=null,b=null;s&&(x=l&&m.route.id?l[m.route.id]:void 0,y=m.route.errorElement||bQ,o&&(c<0&&p===0?(zU("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,b=null):c===p&&(v=!0,b=m.route.hydrateFallbackElement||null)));let j=t.concat(i.slice(0,p+1)),S=()=>{let w;return x?w=y:v?w=b:m.route.Component?w=A.createElement(m.route.Component,null):m.route.element?w=m.route.element:w=h,A.createElement(NQ,{match:m,routeContext:{outlet:h,matches:j,isDataRoute:s!=null},children:w})};return s&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?A.createElement(UU,{location:s.location,revalidation:s.revalidation,component:y,error:x,children:S(),routeContext:{outlet:null,matches:j,isDataRoute:!0},onError:d}):S()},null)}function L6(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function SQ(e){let t=A.useContext(Ag);return Ka(t,L6(e)),t}function _Q(e){let t=A.useContext(Tw);return Ka(t,L6(e)),t}function kQ(e){let t=A.useContext(Yd);return Ka(t,L6(e)),t}function I6(e){let t=kQ(e),s=t.matches[t.matches.length-1];return Ka(s.route.id,`${e} can only be used on routes that contain a unique "id"`),s.route.id}function AQ(){return I6("useRouteId")}function CQ(){let e=A.useContext(F6),t=_Q("useRouteError"),s=I6("useRouteError");return e!==void 0?e:t.errors?.[s]}function TQ(){let{router:e}=SQ("useNavigate"),t=I6("useNavigate"),s=A.useRef(!1);return IU(()=>{s.current=!0}),A.useCallback(async(n,i={})=>{Kc(s.current,LU),s.current&&(typeof n=="number"?await e.navigate(n):await e.navigate(n,{fromRouteId:t,...i}))},[e,t])}var rD={};function zU(e,t,s){!t&&!rD[e]&&(rD[e]=!0,Kc(!1,s))}A.memo(EQ);function EQ({routes:e,future:t,state:s,onError:a}){return BU(e,void 0,s,a,t)}function Js({to:e,replace:t,state:s,relative:a}){Ka(Cg(),"<Navigate> may be used only in the context of a <Router> component.");let{static:n}=A.useContext(hc);Kc(!n,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=A.useContext(Yd),{pathname:l}=Ao(),o=vb(),c=M6(e,R6(i),l,a==="path"),d=JSON.stringify(c);return A.useEffect(()=>{o(JSON.parse(d),{replace:t,state:s,relative:a})},[o,d,a,t,s]),null}function PQ(e){return gQ(e.context)}function ze(e){Ka(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function OQ({basename:e="/",children:t=null,location:s,navigationType:a="POP",navigator:n,static:i=!1,unstable_useTransitions:l}){Ka(!Cg(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),c=A.useMemo(()=>({basename:o,navigator:n,static:i,unstable_useTransitions:l,future:{}}),[o,n,i,l]);typeof s=="string"&&(s=kg(s));let{pathname:d="/",search:h="",hash:m="",state:p=null,key:x="default"}=s,v=A.useMemo(()=>{let y=qh(d,o);return y==null?null:{location:{pathname:y,search:h,hash:m,state:p,key:x},navigationType:a}},[o,d,h,m,p,x,a]);return Kc(v!=null,`<Router basename="${o}"> is not able to match the URL "${d}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:A.createElement(hc.Provider,{value:c},A.createElement(gb.Provider,{children:t,value:v}))}function DQ({children:e,location:t}){return vQ(Lk(e),t)}function Lk(e,t=[]){let s=[];return A.Children.forEach(e,(a,n)=>{if(!A.isValidElement(a))return;let i=[...t,n];if(a.type===A.Fragment){s.push.apply(s,Lk(a.props.children,i));return}Ka(a.type===ze,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ka(!a.props.index||!a.props.children,"An index route cannot have child routes.");let l={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(l.children=Lk(a.props.children,i)),s.push(l)}),s}var Ej="get",Pj="application/x-www-form-urlencoded";function Ew(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function RQ(e){return Ew(e)&&e.tagName.toLowerCase()==="button"}function MQ(e){return Ew(e)&&e.tagName.toLowerCase()==="form"}function FQ(e){return Ew(e)&&e.tagName.toLowerCase()==="input"}function LQ(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function IQ(e,t){return e.button===0&&(!t||t==="_self")&&!LQ(e)}var e2=null;function BQ(){if(e2===null)try{new FormData(document.createElement("form"),0),e2=!1}catch{e2=!0}return e2}var UQ=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function DS(e){return e!=null&&!UQ.has(e)?(Kc(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Pj}"`),null):e}function zQ(e,t){let s,a,n,i,l;if(MQ(e)){let o=e.getAttribute("action");a=o?qh(o,t):null,s=e.getAttribute("method")||Ej,n=DS(e.getAttribute("enctype"))||Pj,i=new FormData(e)}else if(RQ(e)||FQ(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||o.getAttribute("action");if(a=c?qh(c,t):null,s=e.getAttribute("formmethod")||o.getAttribute("method")||Ej,n=DS(e.getAttribute("formenctype"))||DS(o.getAttribute("enctype"))||Pj,i=new FormData(o,e),!BQ()){let{name:d,type:h,value:m}=e;if(h==="image"){let p=d?`${d}.`:"";i.append(`${p}x`,"0"),i.append(`${p}y`,"0")}else d&&i.append(d,m)}}else{if(Ew(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Ej,a=null,n=Pj,l=e}return i&&n==="text/plain"&&(l=i,i=void 0),{action:a,method:s.toLowerCase(),encType:n,formData:i,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function B6(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function $Q(e,t,s){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return a.pathname==="/"?a.pathname=`_root.${s}`:t&&qh(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${s}`,a}async function HQ(e,t){if(e.id in t)return t[e.id];try{let s=await import(e.module);return t[e.id]=s,s}catch(s){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qQ(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function VQ(e,t,s){let a=await Promise.all(e.map(async n=>{let i=t.routes[n.route.id];if(i){let l=await HQ(i,s);return l.links?l.links():[]}return[]}));return YQ(a.flat(1).filter(qQ).filter(n=>n.rel==="stylesheet"||n.rel==="preload").map(n=>n.rel==="stylesheet"?{...n,rel:"prefetch",as:"style"}:{...n,rel:"prefetch"}))}function sD(e,t,s,a,n,i){let l=(c,d)=>s[d]?c.route.id!==s[d].route.id:!0,o=(c,d)=>s[d].pathname!==c.pathname||s[d].route.path?.endsWith("*")&&s[d].params["*"]!==c.params["*"];return i==="assets"?t.filter((c,d)=>l(c,d)||o(c,d)):i==="data"?t.filter((c,d)=>{let h=a.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(l(c,d)||o(c,d))return!0;if(c.route.shouldRevalidate){let m=c.route.shouldRevalidate({currentUrl:new URL(n.pathname+n.search+n.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function WQ(e,t,{includeHydrateFallback:s}={}){return GQ(e.map(a=>{let n=t.routes[a.route.id];if(!n)return[];let i=[n.module];return n.clientActionModule&&(i=i.concat(n.clientActionModule)),n.clientLoaderModule&&(i=i.concat(n.clientLoaderModule)),s&&n.hydrateFallbackModule&&(i=i.concat(n.hydrateFallbackModule)),n.imports&&(i=i.concat(n.imports)),i}).flat(1))}function GQ(e){return[...new Set(e)]}function KQ(e){let t={},s=Object.keys(e).sort();for(let a of s)t[a]=e[a];return t}function YQ(e,t){let s=new Set;return new Set(t),e.reduce((a,n)=>{let i=JSON.stringify(KQ(n));return s.has(i)||(s.add(i),a.push({key:i,link:n})),a},[])}function $U(){let e=A.useContext(Ag);return B6(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function XQ(){let e=A.useContext(Tw);return B6(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var U6=A.createContext(void 0);U6.displayName="FrameworkContext";function HU(){let e=A.useContext(U6);return B6(e,"You must render this element inside a <HydratedRouter> element"),e}function ZQ(e,t){let s=A.useContext(U6),[a,n]=A.useState(!1),[i,l]=A.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:d,onMouseLeave:h,onTouchStart:m}=t,p=A.useRef(null);A.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let y=j=>{j.forEach(S=>{l(S.isIntersecting)})},b=new IntersectionObserver(y,{threshold:.5});return p.current&&b.observe(p.current),()=>{b.disconnect()}}},[e]),A.useEffect(()=>{if(a){let y=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(y)}}},[a]);let x=()=>{n(!0)},v=()=>{n(!1),l(!1)};return s?e!=="intent"?[i,p,{}]:[i,p,{onFocus:Bv(o,x),onBlur:Bv(c,v),onMouseEnter:Bv(d,x),onMouseLeave:Bv(h,v),onTouchStart:Bv(m,x)}]:[!1,p,{}]}function Bv(e,t){return s=>{e&&e(s),s.defaultPrevented||t(s)}}function JQ({page:e,...t}){let{router:s}=$U(),a=A.useMemo(()=>CU(s.routes,e,s.basename),[s.routes,e,s.basename]);return a?A.createElement(eee,{page:e,matches:a,...t}):null}function QQ(e){let{manifest:t,routeModules:s}=HU(),[a,n]=A.useState([]);return A.useEffect(()=>{let i=!1;return VQ(e,t,s).then(l=>{i||n(l)}),()=>{i=!0}},[e,t,s]),a}function eee({page:e,matches:t,...s}){let a=Ao(),{manifest:n,routeModules:i}=HU(),{basename:l}=$U(),{loaderData:o,matches:c}=XQ(),d=A.useMemo(()=>sD(e,t,c,n,a,"data"),[e,t,c,n,a]),h=A.useMemo(()=>sD(e,t,c,n,a,"assets"),[e,t,c,n,a]),m=A.useMemo(()=>{if(e===a.pathname+a.search+a.hash)return[];let v=new Set,y=!1;if(t.forEach(j=>{let S=n.routes[j.route.id];!S||!S.hasLoader||(!d.some(w=>w.route.id===j.route.id)&&j.route.id in o&&i[j.route.id]?.shouldRevalidate||S.hasClientLoader?y=!0:v.add(j.route.id))}),v.size===0)return[];let b=$Q(e,l,"data");return y&&v.size>0&&b.searchParams.set("_routes",t.filter(j=>v.has(j.route.id)).map(j=>j.route.id).join(",")),[b.pathname+b.search]},[l,o,a,n,d,t,e,i]),p=A.useMemo(()=>WQ(h,n),[h,n]),x=QQ(h);return A.createElement(A.Fragment,null,m.map(v=>A.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...s})),p.map(v=>A.createElement("link",{key:v,rel:"modulepreload",href:v,...s})),x.map(({key:v,link:y})=>A.createElement("link",{key:v,nonce:s.nonce,...y})))}function tee(...e){return t=>{e.forEach(s=>{typeof s=="function"?s(t):s!=null&&(s.current=t)})}}var ree=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ree&&(window.__reactRouterVersion="7.11.0")}catch{}function see({basename:e,children:t,unstable_useTransitions:s,window:a}){let n=A.useRef();n.current==null&&(n.current=RJ({window:a,v5Compat:!0}));let i=n.current,[l,o]=A.useState({action:i.action,location:i.location}),c=A.useCallback(d=>{s===!1?o(d):A.startTransition(()=>o(d))},[s]);return A.useLayoutEffect(()=>i.listen(c),[i,c]),A.createElement(OQ,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:i,unstable_useTransitions:s})}var qU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,VU=A.forwardRef(function({onClick:t,discover:s="render",prefetch:a="none",relative:n,reloadDocument:i,replace:l,state:o,target:c,to:d,preventScrollReset:h,viewTransition:m,unstable_defaultShouldRevalidate:p,...x},v){let{basename:y,unstable_useTransitions:b}=A.useContext(hc),j=typeof d=="string"&&qU.test(d),S=DU(d,y);d=S.to;let w=mQ(d,{relative:n}),[k,_,O]=ZQ(a,x),E=iee(d,{replace:l,state:o,target:c,preventScrollReset:h,relative:n,viewTransition:m,unstable_defaultShouldRevalidate:p,unstable_useTransitions:b});function F(U){t&&t(U),U.defaultPrevented||E(U)}let I=A.createElement("a",{...x,...O,href:S.absoluteURL||w,onClick:S.isExternal||i?t:F,ref:tee(v,_),target:c,"data-discover":!j&&s==="render"?"true":void 0});return k&&!j?A.createElement(A.Fragment,null,I,A.createElement(JQ,{page:w})):I});VU.displayName="Link";var Ik=A.forwardRef(function({"aria-current":t="page",caseSensitive:s=!1,className:a="",end:n=!1,style:i,to:l,viewTransition:o,children:c,...d},h){let m=yb(l,{relative:d.relative}),p=Ao(),x=A.useContext(Tw),{navigator:v,basename:y}=A.useContext(hc),b=x!=null&&uee(m)&&o===!0,j=v.encodeLocation?v.encodeLocation(m).pathname:m.pathname,S=p.pathname,w=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;s||(S=S.toLowerCase(),w=w?w.toLowerCase():null,j=j.toLowerCase()),w&&y&&(w=qh(w,y)||w);const k=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let _=S===j||!n&&S.startsWith(j)&&S.charAt(k)==="/",O=w!=null&&(w===j||!n&&w.startsWith(j)&&w.charAt(j.length)==="/"),E={isActive:_,isPending:O,isTransitioning:b},F=_?t:void 0,I;typeof a=="function"?I=a(E):I=[a,_?"active":null,O?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let U=typeof i=="function"?i(E):i;return A.createElement(VU,{...d,"aria-current":F,className:I,ref:h,style:U,to:l,viewTransition:o},typeof c=="function"?c(E):c)});Ik.displayName="NavLink";var aee=A.forwardRef(({discover:e="render",fetcherKey:t,navigate:s,reloadDocument:a,replace:n,state:i,method:l=Ej,action:o,onSubmit:c,relative:d,preventScrollReset:h,viewTransition:m,unstable_defaultShouldRevalidate:p,...x},v)=>{let{unstable_useTransitions:y}=A.useContext(hc),b=cee(),j=dee(o,{relative:d}),S=l.toLowerCase()==="get"?"get":"post",w=typeof o=="string"&&qU.test(o),k=_=>{if(c&&c(_),_.defaultPrevented)return;_.preventDefault();let O=_.nativeEvent.submitter,E=O?.getAttribute("formmethod")||l,F=()=>b(O||_.currentTarget,{fetcherKey:t,method:E,navigate:s,replace:n,state:i,relative:d,preventScrollReset:h,viewTransition:m,unstable_defaultShouldRevalidate:p});y&&s!==!1?A.startTransition(()=>F()):F()};return A.createElement("form",{ref:v,method:S,action:j,onSubmit:a?c:k,...x,"data-discover":!w&&e==="render"?"true":void 0})});aee.displayName="Form";function nee(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WU(e){let t=A.useContext(Ag);return Ka(t,nee(e)),t}function iee(e,{target:t,replace:s,state:a,preventScrollReset:n,relative:i,viewTransition:l,unstable_defaultShouldRevalidate:o,unstable_useTransitions:c}={}){let d=vb(),h=Ao(),m=yb(e,{relative:i});return A.useCallback(p=>{if(IQ(p,t)){p.preventDefault();let x=s!==void 0?s:Oy(h)===Oy(m),v=()=>d(e,{replace:x,state:a,preventScrollReset:n,relative:i,viewTransition:l,unstable_defaultShouldRevalidate:o});c?A.startTransition(()=>v()):v()}},[h,d,m,s,a,t,e,n,i,l,o,c])}var lee=0,oee=()=>`__${String(++lee)}__`;function cee(){let{router:e}=WU("useSubmit"),{basename:t}=A.useContext(hc),s=AQ(),a=e.fetch,n=e.navigate;return A.useCallback(async(i,l={})=>{let{action:o,method:c,encType:d,formData:h,body:m}=zQ(i,t);if(l.navigate===!1){let p=l.fetcherKey||oee();await a(p,s,l.action||o,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:h,body:m,formMethod:l.method||c,formEncType:l.encType||d,flushSync:l.flushSync})}else await n(l.action||o,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:h,body:m,formMethod:l.method||c,formEncType:l.encType||d,replace:l.replace,state:l.state,fromRouteId:s,flushSync:l.flushSync,viewTransition:l.viewTransition})},[a,n,t,s])}function dee(e,{relative:t}={}){let{basename:s}=A.useContext(hc),a=A.useContext(Yd);Ka(a,"useFormAction must be used inside a RouteContext");let[n]=a.matches.slice(-1),i={...yb(e||".",{relative:t})},l=Ao();if(e==null){i.search=l.search;let o=new URLSearchParams(i.search),c=o.getAll("index");if(c.some(h=>h==="")){o.delete("index"),c.filter(m=>m).forEach(m=>o.append("index",m));let h=o.toString();i.search=h?`?${h}`:""}}return(!e||e===".")&&n.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(i.pathname=i.pathname==="/"?s:Lh([s,i.pathname])),Oy(i)}function uee(e,{relative:t}={}){let s=A.useContext(MU);Ka(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=WU("useViewTransitionState"),n=yb(e,{relative:t});if(!s.isTransitioning)return!1;let i=qh(s.currentLocation.pathname,a)||s.currentLocation.pathname,l=qh(s.nextLocation.pathname,a)||s.nextLocation.pathname;return Zj(n.pathname,l)!=null||Zj(n.pathname,i)!=null}var z6=AU();const tt={HUB_ORDERS_VIEW:"hub_orders_view",HUB_ORDERS_CREATE:"hub_orders_create",HUB_ORDERS_EDIT:"hub_orders_edit",HUB_PRE_ORDERS:"hub_pre_orders",HUB_TEAM_VIEW:"hub_team_view",HUB_TEAM_MANAGE:"hub_team_manage",HUB_DELIVERY_AGENTS_VIEW:"hub_delivery_agents_view",HUB_DELIVERY_AGENTS_MANAGE:"hub_delivery_agents_manage",HUB_CUSTOM_ROLES:"hub_custom_roles",HUB_PRODUCTS_VIEW:"hub_products_view",HUB_PRODUCTS_MANAGE:"hub_products_manage",HUB_PRODUCTS_UPLOAD:"hub_products_upload",HUB_STOCK_VIEW:"hub_stock_view",HUB_STOCK_MANAGE:"hub_stock_manage",HUB_CATEGORIES_VIEW:"hub_categories_view",HUB_CATEGORIES_MANAGE:"hub_categories_manage",HUB_RECIPES_VIEW:"hub_recipes_view",HUB_RECIPES_MANAGE:"hub_recipes_manage",HUB_LABELING_VIEW:"hub_labeling_view",HUB_LABELING_MANAGE:"hub_labeling_manage",HUB_MARKETING_VIEW:"hub_marketing_view",HUB_MARKETING_MANAGE:"hub_marketing_manage",HUB_SCRATCH_CARD:"hub_scratch_card",HUB_SPIN_WHEEL:"hub_spin_wheel",HUB_FLASH_SALE:"hub_flash_sale",HUB_SUBSCRIPTION:"hub_subscription",HUB_OFFER_NOTIFICATION:"hub_offer_notification",HUB_COUPON:"hub_coupon",HUB_IN_APP_CURRENCY:"hub_in_app_currency",HUB_REFERRAL:"hub_referral",HUB_REPORTS_SALES:"hub_reports_sales",HUB_REPORTS_PACKING:"hub_reports_packing",HUB_REPORTS_DELIVERY:"hub_reports_delivery",HUB_REPORTS_STOCK:"hub_reports_stock",HUB_REPORTS_CUSTOMER:"hub_reports_customer",HUB_REPORTS_PROCUREMENT:"hub_reports_procurement",HUB_AUDIT_LOGS:"hub_audit_logs",STORE_ORDERS_VIEW:"store_orders_view",STORE_ORDERS_CREATE:"store_orders_create",STORE_TEAM_VIEW:"store_team_view",STORE_TEAM_MANAGE:"store_team_manage",STORE_PRODUCTS_VIEW:"store_products_view",STORE_STOCK_MANAGE:"store_stock_manage",STORE_DELIVERY_AGENTS_VIEW:"store_delivery_agents_view",ALL_ACCESS:"all_access",PROCUREMENT_VIEW:"procurement_view",PROCUREMENT_MANAGE:"procurement_manage",CUTTING_CLEANING_VIEW:"cutting_cleaning_view",CUTTING_CLEANING_MANAGE:"cutting_cleaning_manage",PACKING_VIEW:"packing_view",PACKING_MANAGE:"packing_manage",DISPATCH_VIEW:"dispatch_view",DISPATCH_MANAGE:"dispatch_manage",DELIVERY_VIEW:"delivery_view",DELIVERY_MANAGE:"delivery_manage",DELIVERY_ASSIGN:"delivery_assign"},xy={hub_main_admin:{id:"hub_main_admin",name:"hub_main_admin",displayName:"Main Admin",description:"Full access to hub operations",moduleType:"hub",color:"bg-blue-500",icon:"Shield",permissions:[tt.HUB_ORDERS_VIEW,tt.HUB_ORDERS_CREATE,tt.HUB_ORDERS_EDIT,tt.HUB_PRE_ORDERS,tt.HUB_TEAM_VIEW,tt.HUB_TEAM_MANAGE,tt.HUB_DELIVERY_AGENTS_VIEW,tt.HUB_DELIVERY_AGENTS_MANAGE,tt.HUB_CUSTOM_ROLES,tt.HUB_PRODUCTS_VIEW,tt.HUB_PRODUCTS_MANAGE,tt.HUB_PRODUCTS_UPLOAD,tt.HUB_STOCK_VIEW,tt.HUB_STOCK_MANAGE,tt.HUB_CATEGORIES_VIEW,tt.HUB_CATEGORIES_MANAGE,tt.HUB_RECIPES_VIEW,tt.HUB_RECIPES_MANAGE,tt.HUB_LABELING_VIEW,tt.HUB_LABELING_MANAGE,tt.HUB_MARKETING_VIEW,tt.HUB_MARKETING_MANAGE,tt.HUB_SCRATCH_CARD,tt.HUB_SPIN_WHEEL,tt.HUB_FLASH_SALE,tt.HUB_SUBSCRIPTION,tt.HUB_OFFER_NOTIFICATION,tt.HUB_COUPON,tt.HUB_IN_APP_CURRENCY,tt.HUB_REFERRAL,tt.HUB_REPORTS_SALES,tt.HUB_REPORTS_PACKING,tt.HUB_REPORTS_DELIVERY,tt.HUB_REPORTS_STOCK,tt.HUB_REPORTS_CUSTOMER,tt.HUB_REPORTS_PROCUREMENT,tt.HUB_AUDIT_LOGS,tt.PROCUREMENT_VIEW,tt.PROCUREMENT_MANAGE,tt.CUTTING_CLEANING_VIEW,tt.CUTTING_CLEANING_MANAGE,tt.PACKING_VIEW,tt.PACKING_MANAGE,tt.DISPATCH_VIEW,tt.DISPATCH_MANAGE,tt.DELIVERY_VIEW,tt.DELIVERY_MANAGE]},hub_procurement:{id:"hub_procurement",name:"hub_procurement",displayName:"Procurement Employee",description:"Manage procurement and inventory operations",moduleType:"hub",color:"bg-green-500",icon:"Package",permissions:[tt.HUB_PRODUCTS_VIEW,tt.HUB_PRODUCTS_MANAGE,tt.PROCUREMENT_VIEW,tt.PROCUREMENT_MANAGE]},hub_cutting_cleaning:{id:"hub_cutting_cleaning",name:"hub_cutting_cleaning",displayName:"Cutting & Cleaning Employee",description:"Handle cutting and cleaning operations",moduleType:"hub",color:"bg-teal-500",icon:"Scissors",permissions:[tt.CUTTING_CLEANING_VIEW,tt.CUTTING_CLEANING_MANAGE,tt.HUB_PRODUCTS_VIEW]},hub_packing:{id:"hub_packing",name:"hub_packing",displayName:"Packing Employee",description:"Handle order packing operations",moduleType:"hub",color:"bg-orange-500",icon:"Box",permissions:[tt.HUB_ORDERS_VIEW,tt.HUB_ORDERS_EDIT,tt.PACKING_VIEW,tt.PACKING_MANAGE,"HUB_LABELING_VIEW","HUB_LABELING_MANAGE"]},hub_dispatch:{id:"hub_dispatch",name:"hub_dispatch",displayName:"Dispatch Employee",description:"Handle order dispatch and coordination",moduleType:"hub",color:"bg-indigo-500",icon:"Send",permissions:[tt.HUB_ORDERS_VIEW,tt.HUB_ORDERS_EDIT,tt.DISPATCH_VIEW,tt.DISPATCH_MANAGE,tt.DELIVERY_VIEW,tt.DELIVERY_ASSIGN,tt.HUB_DELIVERY_AGENTS_VIEW]},hub_delivery:{id:"hub_delivery",name:"hub_delivery",displayName:"Delivery Employee",description:"View delivery operations and track orders",moduleType:"hub",color:"bg-purple-500",icon:"Truck",permissions:[tt.HUB_ORDERS_VIEW,tt.DELIVERY_VIEW,tt.HUB_TEAM_VIEW,tt.HUB_DELIVERY_AGENTS_VIEW]},store_main_admin:{id:"store_main_admin",name:"store_main_admin",displayName:"Main Admin",description:"Full access to store operations",moduleType:"store",color:"bg-blue-500",icon:"Shield",permissions:[tt.STORE_ORDERS_VIEW,tt.STORE_ORDERS_CREATE,tt.STORE_TEAM_VIEW,tt.STORE_TEAM_MANAGE,tt.STORE_DELIVERY_AGENTS_VIEW,tt.STORE_PRODUCTS_VIEW,tt.STORE_STOCK_MANAGE,tt.HUB_CATEGORIES_VIEW,tt.HUB_CATEGORIES_MANAGE,tt.HUB_RECIPES_VIEW,tt.HUB_RECIPES_MANAGE,tt.HUB_LABELING_VIEW,tt.HUB_LABELING_MANAGE,tt.HUB_MARKETING_VIEW,tt.HUB_MARKETING_MANAGE,tt.HUB_SCRATCH_CARD,tt.HUB_SPIN_WHEEL,tt.HUB_FLASH_SALE,tt.HUB_SUBSCRIPTION,tt.HUB_OFFER_NOTIFICATION,tt.HUB_COUPON,tt.HUB_IN_APP_CURRENCY,tt.HUB_REFERRAL,tt.HUB_REPORTS_SALES,tt.HUB_REPORTS_PACKING,tt.HUB_REPORTS_DELIVERY,tt.HUB_REPORTS_STOCK,tt.HUB_REPORTS_CUSTOMER,tt.HUB_REPORTS_PROCUREMENT,tt.PROCUREMENT_VIEW,tt.PROCUREMENT_MANAGE,tt.CUTTING_CLEANING_VIEW,tt.CUTTING_CLEANING_MANAGE,tt.PACKING_VIEW,tt.PACKING_MANAGE,tt.DISPATCH_VIEW,tt.DISPATCH_MANAGE,tt.DELIVERY_VIEW,tt.DELIVERY_MANAGE]},store_procurement:{id:"store_procurement",name:"store_procurement",displayName:"Procurement Employee",description:"Manage store procurement and inventory",moduleType:"store",color:"bg-green-500",icon:"Package",permissions:[tt.STORE_PRODUCTS_VIEW,tt.PROCUREMENT_VIEW,tt.PROCUREMENT_MANAGE]},store_cutting_cleaning:{id:"store_cutting_cleaning",name:"store_cutting_cleaning",displayName:"Cutting & Cleaning Employee",description:"Handle store cutting and cleaning operations",moduleType:"store",color:"bg-teal-500",icon:"Scissors",permissions:[tt.CUTTING_CLEANING_VIEW,tt.CUTTING_CLEANING_MANAGE,tt.STORE_PRODUCTS_VIEW]},store_packing:{id:"store_packing",name:"store_packing",displayName:"Packing Employee",description:"Handle store order packing",moduleType:"store",color:"bg-orange-500",icon:"Box",permissions:[tt.STORE_ORDERS_VIEW,tt.PACKING_VIEW,tt.PACKING_MANAGE,"HUB_LABELING_VIEW","HUB_LABELING_MANAGE"]},store_dispatch:{id:"store_dispatch",name:"store_dispatch",displayName:"Dispatch Employee",description:"Handle store order dispatch and coordination",moduleType:"store",color:"bg-indigo-500",icon:"Send",permissions:[tt.STORE_ORDERS_VIEW,tt.DISPATCH_VIEW,tt.DISPATCH_MANAGE,tt.DELIVERY_VIEW,tt.DELIVERY_ASSIGN,tt.STORE_DELIVERY_AGENTS_VIEW]},store_delivery:{id:"store_delivery",name:"store_delivery",displayName:"Delivery Employee",description:"View store delivery operations",moduleType:"store",color:"bg-purple-500",icon:"Truck",permissions:[tt.STORE_ORDERS_VIEW,tt.DELIVERY_VIEW,tt.STORE_TEAM_VIEW,tt.STORE_DELIVERY_AGENTS_VIEW]}},hee={super_admin:[tt.ALL_ACCESS],hub_admin:xy.hub_main_admin.permissions,store_admin:xy.store_main_admin.permissions,...Object.fromEntries(Object.entries(xy).map(([e,t])=>[e,t.permissions]))};function Va(e,t){if(!e)return!1;if(e.permissions&&e.permissions.includes(t))return!0;const s=hee[e.role]||[];return s.includes(tt.ALL_ACCESS)?!0:s.includes(t)}function fee(e,t){return e?e.loginType==="super_admin"?!0:e.loginType===t:!1}function og(e,t){return t?t.loginType==="super_admin"?e:e.filter(s=>t.loginType==="hub"?s.moduleType==="hub"||s.hubId===t.hubId:t.loginType==="store"?s.moduleType==="store"||s.storeId===t.storeId:!1):[]}function mee(e){return Object.values(xy).filter(t=>t.moduleType===e)}function $6(e){return xy[e]}const GU=A.createContext(null);function xee({children:e}){const[t,s]=A.useState(()=>{const h=localStorage.getItem("admin_user");return h?JSON.parse(h):null}),[a,n]=A.useState(()=>localStorage.getItem("auth_token")),[i,l]=A.useState(!1),o=async(h,m,p,x,v)=>{l(!0),await new Promise(k=>setTimeout(k,800));let y,b,j;if(p==="super_admin")y="super_admin",b="Super Administrator",j="Administration";else if(v){y=v;const k=$6(v);b=k?`${k.displayName} - ${p.charAt(0).toUpperCase()+p.slice(1)}`:"Admin User",j=k?.displayName}else y=p==="hub"?"hub_admin":"store_admin",b=p==="hub"?"Hub Administrator":"Store Administrator",j="Administration";const S={id:"1",name:b,email:h,phone:"+91 9876543210",role:y,loginType:p,hubId:p==="hub"?x||"hub_1":void 0,storeId:p==="store"?x||"store_1":void 0,department:j,permissions:[]},w="mock_jwt_token_"+Date.now();return localStorage.setItem("auth_token",w),localStorage.setItem("admin_user",JSON.stringify(S)),n(w),s(S),l(!1),!0},c=A.useCallback(()=>{localStorage.removeItem("auth_token"),localStorage.removeItem("admin_user"),n(null),s(null)},[]),d=!!t&&!!a;return r.jsx(GU.Provider,{value:{user:t,token:a,login:o,logout:c,isAuthenticated:d,isLoading:i},children:e})}const es=()=>{const e=A.useContext(GU);if(!e)throw new Error("useAuth must be used within AuthProvider");return e};class Ip{static instance;history=[];maxHistorySize=100;static getInstance(){return Ip.instance||(Ip.instance=new Ip),Ip.instance}saveState(t,s,a,n,i,l,o){const c={id:`rollback_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,timestamp:new Date,action:t,entityType:s,entityId:a,previousState:JSON.parse(JSON.stringify(n)),currentState:JSON.parse(JSON.stringify(i)),userId:l,userName:o};this.history.unshift(c),this.history.length>this.maxHistorySize&&(this.history=this.history.slice(0,this.maxHistorySize)),this.persistToStorage()}getHistory(t,s){let a=this.history;return t&&(a=a.filter(n=>n.entityType===t)),s&&(a=a.filter(n=>n.entityId===s)),a}rollback(t){const s=this.history.find(a=>a.id===t);return s?(this.saveState(`Rollback: ${s.action}`,s.entityType,s.entityId,s.currentState,s.previousState,"system","System Rollback"),s):null}clearHistory(t){t?this.history=this.history.filter(s=>s.entityType!==t):this.history=[],this.persistToStorage()}persistToStorage(){try{localStorage.setItem("rollback_history",JSON.stringify(this.history))}catch(t){console.warn("Failed to persist rollback history:",t)}}loadFromStorage(){try{const t=localStorage.getItem("rollback_history");t&&(this.history=JSON.parse(t).map(s=>({...s,timestamp:new Date(s.timestamp)})))}catch(t){console.warn("Failed to load rollback history:",t),this.history=[]}}}const KU=A.createContext(void 0),YU=({children:e})=>{const{user:t}=es(),s=Ip.getInstance(),a=A.useCallback((o,c,d,h,m)=>{t&&s.saveState(o,c,d,h,m,t.id||"unknown",t.name||"Unknown User")},[t,s]),n=A.useCallback((o,c)=>s.getHistory(o,c),[s]),i=A.useCallback(async(o,c)=>{try{const d=s.rollback(o);return d?(await c(d.previousState),!0):!1}catch(d){return console.error("Rollback failed:",d),!1}},[s]),l=A.useCallback(o=>{s.clearHistory(o)},[s]);return s.loadFromStorage(),r.jsx(KU.Provider,{value:{saveState:a,getHistory:n,rollback:i,clearHistory:l},children:e})},H6=()=>{const e=A.useContext(KU);if(!e)throw new Error("useRollback must be used within a RollbackProvider");return e};const pee=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gee=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,s,a)=>a?a.toUpperCase():s.toLowerCase()),aD=e=>{const t=gee(e);return t.charAt(0).toUpperCase()+t.slice(1)},XU=(...e)=>e.filter((t,s,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===s).join(" ").trim(),vee=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var yee={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const bee=A.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:n="",children:i,iconNode:l,...o},c)=>A.createElement("svg",{ref:c,...yee,width:t,height:t,stroke:e,strokeWidth:a?Number(s)*24/Number(t):s,className:XU("lucide",n),...!i&&!vee(o)&&{"aria-hidden":"true"},...o},[...l.map(([d,h])=>A.createElement(d,h)),...Array.isArray(i)?i:[i]]));const ft=(e,t)=>{const s=A.forwardRef(({className:a,...n},i)=>A.createElement(bee,{ref:i,iconNode:t,className:XU(`lucide-${pee(aD(e))}`,`lucide-${e}`,a),...n}));return s.displayName=aD(e),s};const jee=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],H0=ft("activity",jee);const Nee=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],wee=ft("archive",Nee);const See=[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]],nD=ft("arrow-down-left",See);const _ee=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],kee=ft("arrow-down-right",_ee);const Aee=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],Cee=ft("arrow-down",Aee);const Tee=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Eee=ft("arrow-left",Tee);const Pee=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],Oee=ft("arrow-right-left",Pee);const Dee=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],mx=ft("arrow-right",Dee);const Ree=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],ZU=ft("arrow-up-down",Ree);const Mee=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Yp=ft("arrow-up-right",Mee);const Fee=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Lee=ft("arrow-up",Fee);const Iee=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],JU=ft("award",Iee);const Bee=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],Pw=ft("banknote",Bee);const Uee=[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]],Ow=ft("barcode",Uee);const zee=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Ph=ft("bell",zee);const $ee=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],Hee=ft("bold",$ee);const qee=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],Oj=ft("box",qee);const Vee=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Wee=ft("briefcase",Vee);const Gee=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Wl=ft("building-2",Gee);const Kee=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],Tm=ft("building",Kee);const Yee=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Vh=ft("calculator",Yee);const Xee=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Jr=ft("calendar",Xee);const Zee=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Jee=ft("camera",Zee);const Qee=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Zn=ft("chart-column",Qee);const ete=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]],tte=ft("chart-no-axes-column-increasing",ete);const rte=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ec=ft("check",rte);const ste=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],Dy=ft("chef-hat",ste);const ate=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Dw=ft("chevron-down",ate);const nte=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],QU=ft("chevron-right",nte);const ite=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],ez=ft("chevron-up",ite);const lte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ya=ft("circle-alert",lte);const ote=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Dr=ft("circle-check-big",ote);const cte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Mu=ft("circle-x",cte);const dte=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Tr=ft("clock",dte);const ute=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]],Dj=ft("cloud-rain",ute);const hte=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],tz=ft("cloud",hte);const fte=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],rz=ft("coins",fte);const mte=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Rw=ft("copy",mte);const xte=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],gi=ft("credit-card",xte);const pte=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],qs=ft("crown",pte);const gte=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],iD=ft("database",gte);const vte=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Wh=ft("dollar-sign",vte);const yte=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],ei=ft("download",yte);const bte=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],jte=ft("ellipsis-vertical",bte);const Nte=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Bk=ft("external-link",Nte);const wte=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Hd=ft("eye-off",wte);const Ste=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Fr=ft("eye",Ste);const _te=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],q6=ft("file-down",_te);const kte=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],Mw=ft("file-spreadsheet",kte);const Ate=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Rs=ft("file-text",Ate);const Cte=[["path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z",key:"15baut"}],["path",{d:"M18 12v.5",key:"18hhni"}],["path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86",key:"16dt7o"}],["path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33",key:"l9di03"}],["path",{d:"M10.46 7.26C10.2 5.88 9.17 4.24 8 3h5.8a2 2 0 0 1 1.98 1.67l.23 1.4",key:"1kjonw"}],["path",{d:"m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98",key:"1zlm23"}]],yo=ft("fish",Cte);const Tte=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],nc=ft("funnel",Tte);const Ete=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Gh=ft("gift",Ete);const Pte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],kh=ft("globe",Pte);const Ote=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Dte=ft("grid-3x3",Ote);const Rte=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],Mte=ft("grip-vertical",Rte);const Fte=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Lte=ft("heart",Fte);const Ite=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],cg=ft("history",Ite);const Bte=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],bb=ft("house",Bte);const Ute=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],q0=ft("image",Ute);const zte=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],Tg=ft("indian-rupee",zte);const $te=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],V6=ft("info",$te);const Hte=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],qte=ft("italic",Hte);const Vte=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],W6=ft("link",Vte);const Wte=[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]],Gte=ft("list-ordered",Wte);const Kte=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Yte=ft("list",Kte);const Xte=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Zte=ft("log-out",Xte);const Jte=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],vm=ft("mail",Jte);const Qte=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Vs=ft("map-pin",Qte);const ere=[["path",{d:"M18 8c0 3.613-3.869 7.429-5.393 8.795a1 1 0 0 1-1.214 0C9.87 15.429 6 11.613 6 8a6 6 0 0 1 12 0",key:"11u0oz"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.714 14h-3.71a1 1 0 0 0-.948.683l-2.004 6A1 1 0 0 0 3 22h18a1 1 0 0 0 .948-1.316l-2-6a1 1 0 0 0-.949-.684h-3.712",key:"q8zwxj"}]],tre=ft("map-pinned",ere);const rre=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Rj=ft("map",rre);const sre=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],G6=ft("megaphone",sre);const are=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],nre=ft("menu",are);const ire=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],K6=ft("message-circle",ire);const lre=[["path",{d:"M5 12h14",key:"1ays0h"}]],Xd=ft("minus",lre);const ore=[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]],lD=ft("mouse-pointer",ore);const cre=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],RS=ft("navigation",cre);const dre=[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],sz=ft("package-check",dre);const ure=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Tt=ft("package",ure);const hre=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],fre=ft("pause",hre);const mre=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Ry=ft("pen",mre);const xre=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],dg=ft("percent",xre);const pre=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Yc=ft("phone",pre);const gre=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Ih=ft("play",gre);const vre=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],dr=ft("plus",vre);const yre=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],nm=ft("printer",yre);const bre=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],az=ft("qr-code",bre);const jre=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],Nre=ft("quote",jre);const wre=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],V0=ft("receipt",wre);const Sre=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ld=ft("refresh-cw",Sre);const _re=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],oD=ft("repeat",_re);const kre=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],rn=ft("rotate-ccw",kre);const Are=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Ii=ft("save",Are);const Cre=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],Jj=ft("scale",Cre);const Tre=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],$c=ft("scissors",Tre);const Ere=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Bi=ft("search",Ere);const Pre=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],jb=ft("send",Pre);const Ore=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ic=ft("settings",Ore);const Dre=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],nz=ft("share-2",Dre);const Rre=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],sl=ft("shield",Rre);const Mre=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],My=ft("shopping-bag",Mre);const Fre=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],bo=ft("shopping-cart",Fre);const Lre=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],T0=ft("smartphone",Lre);const Ire=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],iz=ft("sparkles",Ire);const Bre=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],lc=ft("square-check-big",Bre);const Ure=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ss=ft("square-pen",Ure);const zre=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],oc=ft("square",zre);const $re=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],mm=ft("star",$re);const Hre=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],Fn=ft("store",Hre);const qre=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Vre=ft("sun",qre);const Wre=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],jl=ft("tag",Wre);const Gre=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Fw=ft("target",Gre);const Kre=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],Xp=ft("thermometer",Kre);const Yre=[["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}],["path",{d:"M17 14V2",key:"8ymqnk"}]],lz=ft("thumbs-down",Yre);const Xre=[["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}],["path",{d:"M7 10v12",key:"1qc93n"}]],oz=ft("thumbs-up",Xre);const Zre=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],Jre=ft("ticket",Zre);const Qre=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],Qj=ft("toggle-left",Qre);const ese=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],eN=ft("toggle-right",ese);const tse=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ar=ft("trash-2",tse);const rse=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Mj=ft("trending-down",rse);const sse=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],ta=ft("trending-up",sse);const ase=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ts=ft("triangle-alert",ase);const nse=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Mr=ft("truck",nse);const ise=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],lse=ft("type",ise);const ose=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],cse=ft("underline",ose);const dse=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],jo=ft("upload",dse);const use=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],cD=ft("user-plus",use);const hse=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],si=ft("user",hse);const fse=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Qr=ft("users",fse);const mse=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],MS=ft("video",mse);const xse=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],pse=ft("volume-2",xse);const gse=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],xx=ft("wallet",gse);const vse=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],dD=ft("wind",vse);const yse=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Cs=ft("x",yse);const bse=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],W0=ft("zap",bse);const jse=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],Nse=ft("zoom-in",jse);const wse=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],Sse=ft("zoom-out",wse),_se=[{id:"hub-dashboard",label:"Dashboard",icon:bb,path:"/dashboard",module:"hub",requiredRoles:["hub_main_admin"]},{id:"hub-orders",label:"Orders",icon:bo,path:"/hub/orders",module:"hub",requiredRoles:["hub_main_admin"],children:[{id:"hub-all-orders",label:"All Orders",icon:null,path:"/hub/orders",module:"hub",requiredRoles:["hub_main_admin"]},{id:"hub-manual-order",label:"Manual Order Creation",icon:null,path:"/hub/orders/manual",module:"hub",requiredRoles:["hub_main_admin"]},{id:"hub-pre-orders",label:"Pre Orders",icon:null,path:"/hub/orders/pre-orders",module:"hub",requiredRoles:["hub_main_admin"]}]},{id:"hub-team-management",label:"Team & User",icon:Qr,path:"/hub/team",module:"hub",requiredRoles:["hub_main_admin"],children:[{id:"hub-team",label:"Team Members",icon:null,path:"/hub/team",module:"hub",requiredRoles:["hub_main_admin"]}]},{id:"hub-products",label:"Products & Stock",icon:Tt,path:"/hub/products",module:"hub",requiredRoles:["hub_main_admin"],children:[{id:"hub-all-products",label:"All Products",icon:null,path:"/hub/products",module:"hub",requiredRoles:["hub_main_admin"]},{id:"hub-stock",label:"Stock Management",icon:null,path:"/hub/products/stock",module:"hub",requiredRoles:["hub_main_admin"]},{id:"hub-categories",label:"Categories",icon:null,path:"/hub/products/categories",module:"hub",requiredRoles:["hub_main_admin"]},{id:"hub-cutting-types",label:"Cutting Types",icon:null,path:"/hub/products/cutting-types",module:"hub",requiredRoles:["hub_main_admin"]},{id:"hub-recipes",label:"Recipes",icon:null,path:"/hub/products/recipes",module:"hub",requiredRoles:["hub_main_admin"]}]},{id:"hub-activity",label:"Activity",icon:H0,path:"/hub/activity",module:"hub",requiredRoles:["hub_main_admin","hub_procurement","hub_cutting_cleaning","hub_packing","hub_dispatch","hub_delivery"],children:[{id:"hub-procurement",label:"Procurement",icon:My,path:"/hub/procurement/purchases",module:"hub",requiredRoles:["hub_main_admin","hub_procurement"]},{id:"hub-cutting",label:"Cutting & Cleaning",icon:$c,path:"/hub/cutting/management",module:"hub",requiredRoles:["hub_main_admin","hub_cutting_cleaning"]},{id:"hub-packing",label:"Packing",icon:sz,path:"/hub/packing/management",module:"hub",requiredRoles:["hub_main_admin","hub_packing"]},{id:"hub-dispatch",label:"Dispatch",icon:jb,path:"/hub/dispatch/management",module:"hub",requiredRoles:["hub_main_admin","hub_dispatch"]},{id:"hub-delivery",label:"Delivery",icon:Mr,path:"/hub/delivery/management",module:"hub",requiredRoles:["hub_main_admin","hub_delivery"]}]},{id:"hub-labeling",label:"Labeling",icon:jl,path:"/hub/labeling",module:"hub",requiredRoles:["hub_main_admin"]},{id:"hub-marketing",label:"Marketing",icon:G6,path:"/hub/marketing",module:"hub",requiredRoles:["hub_main_admin"],children:[{id:"hub-scratch-card",label:"Scratch Card",icon:null,path:"/hub/scratch-card",module:"hub",requiredRoles:["hub_main_admin"]},{id:"hub-spin-wheel",label:"Spin Wheel",icon:null,path:"/hub/spin-wheel",module:"hub",requiredRoles:["hub_main_admin"]},{id:"hub-flash-sale",label:"Flash Sale",icon:null,path:"/hub/flash-sale",module:"hub",requiredRoles:["hub_main_admin"]},{id:"hub-subscription",label:"Subscription",icon:null,path:"/hub/subscription",module:"hub",requiredRoles:["hub_main_admin"]},{id:"hub-offer-notification",label:"Offer Notification",icon:null,path:"/hub/offer-notification",module:"hub",requiredRoles:["hub_main_admin"]},{id:"hub-coupon",label:"Coupon",icon:null,path:"/hub/coupon",module:"hub",requiredRoles:["hub_main_admin"]},{id:"hub-in-app-currency",label:"In-App Currency",icon:null,path:"/hub/in-app-currency",module:"hub",requiredRoles:["hub_main_admin"]},{id:"hub-referral",label:"Referral",icon:null,path:"/hub/referral",module:"hub",requiredRoles:["hub_main_admin"]}]},{id:"hub-reports",label:"Reports",icon:Zn,path:"/hub/reports",module:"hub",requiredRoles:["hub_main_admin"],children:[{id:"hub-sales-reports",label:"Sales Reports",icon:null,path:"/hub/reports/sales",module:"hub",requiredRoles:["hub_main_admin"]},{id:"hub-packing-reports",label:"Packing Reports",icon:null,path:"/hub/reports/packing",module:"hub",requiredRoles:["hub_main_admin"]},{id:"hub-delivery-reports",label:"Delivery Reports",icon:null,path:"/hub/reports/delivery",module:"hub",requiredRoles:["hub_main_admin"]},{id:"hub-stock-reports",label:"Stock Reports",icon:null,path:"/hub/reports/stock",module:"hub",requiredRoles:["hub_main_admin"]},{id:"hub-procurement-reports",label:"Procurement Reports",icon:null,path:"/hub/reports/procurement",module:"hub",requiredRoles:["hub_main_admin"]},{id:"hub-customer-reports",label:"Customer Reports",icon:null,path:"/hub/reports/customer",module:"hub",requiredRoles:["hub_main_admin"]}]},{id:"hub-audit",label:"Audit Logs",icon:Rs,path:"/hub/audit",module:"hub",requiredRoles:["hub_main_admin"]}],kse=[{id:"store-dashboard",label:"Dashboard",icon:bb,path:"/dashboard",module:"store",requiredRoles:["store_main_admin"]},{id:"store-orders",label:"Orders",icon:bo,path:"/store/orders",module:"store",requiredRoles:["store_main_admin"],children:[{id:"store-all-orders",label:"All Orders",icon:null,path:"/store/orders",module:"store",requiredRoles:["store_main_admin"]},{id:"store-manual-order",label:"Manual Order Creation",icon:null,path:"/store/orders/manual",module:"store",requiredRoles:["store_main_admin"]},{id:"store-pre-orders",label:"Pre Orders",icon:null,path:"/store/orders/pre-orders",module:"store",requiredRoles:["store_main_admin"]}]},{id:"store-team-management",label:"Team & User",icon:Qr,path:"/store/team",module:"store",requiredRoles:["store_main_admin"],children:[{id:"store-team",label:"Team Members",icon:null,path:"/store/team",module:"store",requiredRoles:["store_main_admin"]}]},{id:"store-products",label:"Products & Stock",icon:Tt,path:"/store/products",module:"store",requiredRoles:["store_main_admin"],children:[{id:"store-all-products",label:"All Products",icon:null,path:"/store/products",module:"store",requiredRoles:["store_main_admin"]},{id:"store-stock",label:"Stock Management",icon:null,path:"/store/products/stock",module:"store",requiredRoles:["store_main_admin"]},{id:"store-categories",label:"Categories",icon:null,path:"/store/products/categories",module:"store",requiredRoles:["store_main_admin"]},{id:"store-cutting-types",label:"Cutting Types",icon:null,path:"/store/products/cutting-types",module:"store",requiredRoles:["store_main_admin"]},{id:"store-recipes",label:"Recipes",icon:null,path:"/store/products/recipes",module:"store",requiredRoles:["store_main_admin"]}]},{id:"store-activity",label:"Activity",icon:H0,path:"/store/activity",module:"store",requiredRoles:["store_main_admin","store_procurement","store_cutting_cleaning","store_packing","store_dispatch","store_delivery"],children:[{id:"store-procurement",label:"Procurement",icon:My,path:"/store/procurement/purchases",module:"store",requiredRoles:["store_main_admin","store_procurement"]},{id:"store-cutting",label:"Cutting & Cleaning",icon:$c,path:"/store/cutting/management",module:"store",requiredRoles:["store_main_admin","store_cutting_cleaning"]},{id:"store-packing",label:"Packing",icon:sz,path:"/store/packing/management",module:"store",requiredRoles:["store_main_admin","store_packing"]},{id:"store-dispatch",label:"Dispatch",icon:jb,path:"/store/dispatch/management",module:"store",requiredRoles:["store_main_admin","store_dispatch"]},{id:"store-delivery",label:"Delivery",icon:Mr,path:"/store/delivery/management",module:"store",requiredRoles:["store_main_admin","store_delivery"]}]},{id:"store-labeling",label:"Labeling",icon:jl,path:"/store/labeling",module:"store",requiredRoles:["store_main_admin"]},{id:"store-marketing",label:"Marketing",icon:G6,path:"/store/marketing",module:"store",requiredRoles:["store_main_admin"],children:[{id:"store-scratch-card",label:"Scratch Card",icon:null,path:"/store/scratch-card",module:"store",requiredRoles:["store_main_admin"]},{id:"store-spin-wheel",label:"Spin Wheel",icon:null,path:"/store/spin-wheel",module:"store",requiredRoles:["store_main_admin"]},{id:"store-flash-sale",label:"Flash Sale",icon:null,path:"/store/flash-sale",module:"store",requiredRoles:["store_main_admin"]},{id:"store-subscription",label:"Subscription",icon:null,path:"/store/subscription",module:"store",requiredRoles:["store_main_admin"]},{id:"store-offer-notification",label:"Offer Notification",icon:null,path:"/store/offer-notification",module:"store",requiredRoles:["store_main_admin"]},{id:"store-coupon",label:"Coupon",icon:null,path:"/store/coupon",module:"store",requiredRoles:["store_main_admin"]},{id:"store-in-app-currency",label:"In-App Currency",icon:null,path:"/store/in-app-currency",module:"store",requiredRoles:["store_main_admin"]},{id:"store-referral",label:"Referral",icon:null,path:"/store/referral",module:"store",requiredRoles:["store_main_admin"]}]},{id:"store-reports",label:"Reports",icon:Zn,path:"/store/reports",module:"store",requiredRoles:["store_main_admin"],children:[{id:"store-sales-reports",label:"Sales Reports",icon:null,path:"/store/reports/sales",module:"store",requiredRoles:["store_main_admin"]},{id:"store-packing-reports",label:"Packing Reports",icon:null,path:"/store/reports/packing",module:"store",requiredRoles:["store_main_admin"]},{id:"store-delivery-reports",label:"Delivery Reports",icon:null,path:"/store/reports/delivery",module:"store",requiredRoles:["store_main_admin"]},{id:"store-stock-reports",label:"Stock Reports",icon:null,path:"/store/reports/stock",module:"store",requiredRoles:["store_main_admin"]},{id:"store-procurement-reports",label:"Procurement Reports",icon:null,path:"/store/reports/procurement",module:"store",requiredRoles:["store_main_admin"]},{id:"store-customer-reports",label:"Customer Reports",icon:null,path:"/store/reports/customer",module:"store",requiredRoles:["store_main_admin"]}]},{id:"store-audit",label:"Audit Logs",icon:Rs,path:"/store/audit",module:"store",requiredRoles:["store_main_admin"]}],Ase=[{id:"dashboard",label:"Dashboard",icon:bb,path:"/dashboard",module:"both"},{id:"orders",label:"Orders",icon:bo,path:"/orders",module:"both",children:[{id:"all-orders",label:"All Orders",icon:null,path:"/orders",module:"both"},{id:"manual-order",label:"Manual Order Creation",icon:null,path:"/orders/manual",module:"both"},{id:"pre-orders",label:"Pre Orders",icon:null,path:"/orders/pre-orders",module:"both"}]},{id:"team-user-management",label:"Team & User",icon:Qr,path:"/team",module:"both",children:[{id:"team",label:"Team Members",icon:null,path:"/team",module:"both"},{id:"custom-roles",label:"Custom Roles",icon:null,path:"/team/custom-roles",module:"both"}]},{id:"products",label:"Products & Stock",icon:Tt,path:"/products",module:"both",children:[{id:"all-products",label:"All Products",icon:null,path:"/products",module:"both"},{id:"stock",label:"Stock Management",icon:null,path:"/products/stock",module:"both"},{id:"categories",label:"Categories",icon:null,path:"/products/categories",module:"both"},{id:"cutting-types",label:"Cutting Types",icon:null,path:"/products/cutting-types",module:"both"},{id:"product-approval",label:"Product Approval",icon:null,path:"/products/approval",module:"both"},{id:"recipes",label:"Recipes",icon:null,path:"/recipes",module:"both"}]},{id:"labeling",label:"Labeling",icon:jl,path:"/labeling",module:"both"},{id:"marketing",label:"Marketing",icon:G6,path:"/marketing",module:"both",children:[{id:"scratch-card",label:"Scratch Card",icon:null,path:"/scratch-card",module:"both"},{id:"spin-wheel",label:"Spin Wheel",icon:null,path:"/spin-wheel",module:"both"},{id:"flash-sale",label:"Flash Sale",icon:null,path:"/flash-sale",module:"both"},{id:"subscription",label:"Subscription",icon:null,path:"/subscription",module:"both"},{id:"offer-notification",label:"Offer Notification",icon:null,path:"/offer-notification",module:"both"},{id:"coupon",label:"Coupon",icon:null,path:"/coupon",module:"both"},{id:"in-app-currency",label:"In-App Currency",icon:null,path:"/in-app-currency",module:"both"},{id:"referral",label:"Referral",icon:null,path:"/referral",module:"both"}]},{id:"hub-store",label:"Hub & Store",icon:Tt,path:"/hub-store",module:"both",children:[{id:"hubs",label:"Hubs",icon:null,path:"/hubs",module:"both"},{id:"stores",label:"Stores",icon:null,path:"/stores",module:"both"}]},{id:"reports",label:"Reports",icon:Zn,path:"/reports",module:"both",children:[{id:"sales-reports",label:"Sales Reports",icon:null,path:"/reports/sales",module:"both"},{id:"packing-reports",label:"Packing Reports",icon:null,path:"/reports/packing",module:"both"},{id:"delivery-reports",label:"Delivery Reports",icon:null,path:"/reports/delivery",module:"both"},{id:"stock-reports",label:"Stock Reports",icon:null,path:"/reports/stock",module:"both"},{id:"customer-reports",label:"Customer Reports",icon:null,path:"/reports/customer",module:"both"}]},{id:"audit",label:"Audit Logs",icon:Rs,path:"/audit",module:"both"},{id:"settings",label:"Settings",icon:ic,path:"/settings",module:"both",children:[{id:"general",label:"General",icon:null,path:"/settings",module:"both"},{id:"delivery-slots",label:"Delivery Slots",icon:null,path:"/settings/delivery-slots",module:"both"},{id:"shipping-charges",label:"Shipping Charges",icon:null,path:"/settings/shipping-charges",module:"both"},{id:"integrations",label:"Integrations",icon:null,path:"/settings/integrations",module:"both"},{id:"weather",label:"Weather Customization",icon:null,path:"/settings/weather",module:"both"},{id:"notification",label:"Notification Customization",icon:null,path:"/settings/notification",module:"both"},{id:"legal",label:"Legal Documents",icon:null,path:"/settings/legal",module:"both"},{id:"advertisement",label:"Advertisement Management",icon:Ih,path:"/settings/advertisement",module:"both"},{id:"offer-templates",label:"Offer Templates",icon:jl,path:"/settings/offer-templates",module:"both"}]}];function Cse(e){return e==="super_admin"?Ase:e==="hub"?_se:e==="store"?kse:[]}function cz(e,t){return e.map(s=>{if(s.children){const a=cz(s.children,t);return{...s,children:a}}return s}).filter(s=>!s.requiredRoles||s.requiredRoles.length===0||s.requiredRoles.includes(t)?s.children?s.children.length>0:!0:!1)}function Tse(e,t){const s=Cse(e);return cz(s,t)}function Ese({isMobile:e,isSidebarOpen:t,toggleSidebar:s}){const{user:a,logout:n}=es(),[i,l]=A.useState([]),o=A.useRef(null),c=a?Tse(a.loginType,a.role):[];A.useEffect(()=>{const m=p=>{e&&t&&o.current&&!o.current.contains(p.target)&&s()};return document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}},[e,t,s]);const d=m=>{l(p=>p.includes(m)?p.filter(x=>x!==m):[...p,m])},h=m=>{const p=m.children&&m.children.length>0,x=i.includes(m.id);return p&&m.children?r.jsxs("div",{children:[r.jsxs("button",{onClick:()=>d(m.id),className:"w-full flex items-center justify-between rounded-lg px-3 py-2.5 text-slate-400 hover:bg-slate-800 hover:text-white transition-all duration-200",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(m.icon,{size:20}),r.jsx("span",{className:"font-medium",children:m.label})]}),x?r.jsx(Dw,{size:16}):r.jsx(QU,{size:16})]}),x&&r.jsx("div",{className:"ml-4 mt-1 space-y-1",children:m.children.map(v=>r.jsxs(Ik,{to:v.path,onClick:e?s:void 0,className:({isActive:y})=>`
                    flex items-center gap-3 rounded-lg px-3 py-2 text-sm transition-all duration-200
                    ${y?"bg-blue-600 text-white":"text-slate-400 hover:bg-slate-800 hover:text-white"}
                  `,children:[v.icon?r.jsx(v.icon,{size:18}):r.jsx("span",{className:"w-2 h-2 rounded-full bg-current opacity-50"}),r.jsx("span",{children:v.label})]},v.id))})]},m.id):r.jsxs(Ik,{to:m.path,onClick:e?s:void 0,className:({isActive:v})=>`
          flex items-center gap-3 rounded-lg px-3 py-2.5 transition-all duration-200
          ${v?"bg-blue-600 text-white shadow-lg shadow-blue-600/30":"text-slate-400 hover:bg-slate-800 hover:text-white"}
        `,children:[r.jsx(m.icon,{size:20}),r.jsx("span",{className:"font-medium",children:m.label})]},m.id)};return r.jsxs(r.Fragment,{children:[r.jsxs("aside",{ref:o,className:`fixed left-0 z-50 w-64 bg-slate-900 text-white flex flex-col transition-transform duration-300 ease-in-out
          top-16 h-[calc(100vh-4rem)]
          lg:top-0 lg:h-screen
          ${t?"translate-x-0":"-translate-x-full"}
          lg:translate-x-0 lg:w-64
        `,children:[r.jsx("div",{className:"hidden lg:flex h-16 items-center justify-between border-b border-slate-700 px-4",children:r.jsx("div",{className:"flex items-center gap-3",children:r.jsx("img",{src:"https://bayhawk.clientstagingdemo.com/_next/static/media/BayHawk.207595da.svg",alt:"BayHawk",className:"h-8 w-auto"})})}),a&&r.jsx("div",{className:"px-4 py-3 border-b border-slate-700 lg:border-b",children:r.jsx("div",{className:"px-3 py-1.5 rounded-lg bg-blue-600/20 text-blue-400 text-xs font-semibold uppercase text-center",children:a.loginType==="super_admin"?"Super Admin":a.loginType==="hub"?"Hub Module":"Store Module"})}),r.jsx("nav",{className:"flex-1 mt-4 px-3 space-y-1 overflow-y-auto pb-20 lg:pb-0",children:c.map(h)}),r.jsx("div",{className:"border-t border-slate-700 p-3",children:r.jsxs("button",{onClick:n,title:"Logout",className:"w-full flex items-center gap-3 rounded-lg px-3 py-2.5 text-slate-400 hover:bg-red-500/10 hover:text-red-500 transition-all duration-200",children:[r.jsx(Zte,{size:20}),r.jsx("span",{className:"font-medium",children:"Logout"})]})})]}),e&&t&&r.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 lg:hidden top-16",onClick:s})]})}function Pse({onToggleSidebar:e}){const{user:t}=es(),[s,a]=A.useState(!1),n=A.useRef(null);A.useEffect(()=>{function o(c){n.current&&!n.current.contains(c.target)&&a(!1)}return document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)},[]);const i=[{id:1,title:"New Order Received",message:"Order #ORD-2024-001 has been placed by customer John Doe",time:"2 minutes ago",type:"order",unread:!0},{id:2,title:"Low Stock Alert",message:"Fresh Salmon is running low in inventory (5 units left)",time:"15 minutes ago",type:"inventory",unread:!0},{id:3,title:"Payment Received",message:"Payment of 2,450 received for Order #ORD-2024-002",time:"1 hour ago",type:"payment",unread:!1},{id:4,title:"Delivery Completed",message:"Order #ORD-2024-003 has been successfully delivered",time:"2 hours ago",type:"delivery",unread:!1},{id:5,title:"New Customer Registration",message:"Sarah Wilson has registered as a new customer",time:"3 hours ago",type:"customer",unread:!1}],l=i.filter(o=>o.unread).length;return r.jsxs("header",{className:"sticky top-0 z-30 flex h-16 items-center justify-between border-b border-gray-200 bg-white px-4 sm:px-6 shadow-sm",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:e,className:"lg:hidden p-2 rounded-lg hover:bg-gray-100 transition-colors",children:r.jsx(nre,{size:20,className:"text-gray-600"})}),r.jsxs("div",{children:[r.jsxs("h1",{className:"text-base sm:text-lg font-semibold text-gray-900",children:[t?.loginType==="hub"?"Hub Admin":t?.loginType==="store"?"Store Admin":"Super Admin"," Panel"]}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-500 hidden sm:block",children:new Date().toLocaleDateString("en-IN",{weekday:"long",day:"numeric",month:"short",year:"numeric"})})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"relative",ref:n,children:[r.jsxs("button",{onClick:()=>a(!s),className:"relative p-2 rounded-lg hover:bg-gray-100 transition-colors",children:[r.jsx(Ph,{size:20,className:"text-gray-600"}),l>0&&r.jsx("span",{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full bg-red-500 text-white text-xs flex items-center justify-center",children:l})]}),s&&r.jsxs("div",{className:"absolute right-0 top-12 w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[r.jsx("div",{className:"p-4 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Notifications"}),r.jsxs("span",{className:"text-sm text-gray-500",children:[l," unread"]})]})}),r.jsx("div",{className:"max-h-96 overflow-y-auto",children:i.map(o=>r.jsx("div",{className:`p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer ${o.unread?"bg-blue-50":""}`,children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${o.unread?"bg-blue-500":"bg-gray-300"}`}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-medium text-gray-900 text-sm",children:o.title}),r.jsx("p",{className:"text-gray-600 text-sm mt-1",children:o.message}),r.jsx("p",{className:"text-gray-400 text-xs mt-2",children:o.time})]})]})},o.id))}),r.jsx("div",{className:"p-3 border-t border-gray-200",children:r.jsx("button",{className:"w-full text-center text-blue-600 text-sm font-medium hover:text-blue-700",children:"View All Notifications"})})]})]}),r.jsxs("div",{className:"flex items-center gap-3 pl-4 border-l border-gray-200",children:[r.jsx("div",{className:"h-9 w-9 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-sm font-bold",children:t?.name?.charAt(0)||"A"}),r.jsxs("div",{className:"hidden sm:block",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:t?.name||"Admin"}),r.jsx("p",{className:"text-xs text-gray-500 capitalize",children:t?.role?.replace("_"," ")})]})]})]})]})}function Ose(){const[e,t]=A.useState(window.innerWidth>=1024),[s,a]=A.useState(window.innerWidth<1024),n=Ao(),i=()=>{const o=window.innerWidth<1024;a(o),t(!o)};A.useEffect(()=>(window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)),[]),A.useEffect(()=>{s&&e&&t(!1)},[n.pathname]);const l=()=>{t(!e)};return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(Ese,{isMobile:s,isSidebarOpen:e,toggleSidebar:l}),r.jsxs("div",{className:`transition-all duration-300 ease-in-out
        ${s?"ml-0":"lg:ml-64"}
      `,children:[r.jsx(Pse,{onToggleSidebar:l}),r.jsx("main",{className:"p-4 sm:p-6",children:r.jsx(PQ,{})})]})]})}function Ur({children:e,permission:t,module:s}){const{user:a,isAuthenticated:n}=es();return n?t&&!Va(a,t)?r.jsx(Js,{to:"/dashboard",replace:!0}):s&&!fee(a,s)?r.jsx(Js,{to:"/dashboard",replace:!0}):r.jsx(r.Fragment,{children:e}):r.jsx(Js,{to:"/login",replace:!0})}function bs({children:e,requiredPermission:t}){const{user:s,isAuthenticated:a}=es();return a?s?.role==="hub_procurement"||s?.role==="store_procurement"||s?.role==="hub_main_admin"||s?.role==="store_main_admin"?t&&!Va(s,t)?r.jsx(Js,{to:"/dashboard",replace:!0}):r.jsx(r.Fragment,{children:e}):r.jsx(Js,{to:"/dashboard",replace:!0}):r.jsx(Js,{to:"/login",replace:!0})}function Dse(e){return e?.role==="hub_procurement"||e?.role==="store_procurement"||e?.role==="hub_main_admin"||e?.role==="store_main_admin"}function Rse(e,t){return Dse(e)?["stock","procurement"].includes(t):!1}function Uv({children:e,requiredPermission:t}){const{user:s,isAuthenticated:a}=es();return a?s?.role==="hub_packing"||s?.role==="store_packing"||s?.role==="hub_main_admin"||s?.role==="store_main_admin"?t&&!Va(s,t)?r.jsx(Js,{to:"/dashboard",replace:!0}):r.jsx(r.Fragment,{children:e}):r.jsx(Js,{to:"/dashboard",replace:!0}):r.jsx(Js,{to:"/login",replace:!0})}function uD({children:e}){const{user:t}=es();return t?Va(t,tt.DISPATCH_VIEW)||Va(t,tt.DISPATCH_MANAGE)?r.jsx(r.Fragment,{children:e}):r.jsx(Js,{to:"/unauthorized",replace:!0}):r.jsx(Js,{to:"/login",replace:!0})}function Ti({children:e,allowedRoles:t,requiredPermission:s}){const{user:a,isAuthenticated:n}=es();return n?a?.role&&t.includes(a.role)?s&&!Va(a,s)?r.jsx(Js,{to:"/dashboard",replace:!0}):r.jsx(r.Fragment,{children:e}):r.jsx(Js,{to:"/dashboard",replace:!0}):r.jsx(Js,{to:"/login",replace:!0})}function hD({children:e}){const{user:t,isAuthenticated:s}=es();return s?t?.role==="hub_procurement"||t?.role==="store_procurement"||t?.role==="hub_cutting_cleaning"||t?.role==="store_cutting_cleaning"||t?.role==="hub_main_admin"||t?.role==="store_main_admin"?r.jsx(r.Fragment,{children:e}):r.jsx(Js,{to:"/dashboard",replace:!0}):r.jsx(Js,{to:"/login",replace:!0})}const Mse={Shield:sl,Package:Tt,Box:Oj,Truck:Mr,Users:Qr};function Fse(){const{user:e}=es();if(!e)return null;const t=$6(e.role),s=t&&Mse[t.icon]||Qr;return r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"h-16 w-16 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-xl font-bold text-white",children:e.name.split(" ").map(a=>a[0]).join("").slice(0,2)})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:e.name}),t&&r.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[r.jsx("div",{className:`h-8 w-8 rounded-lg ${t.color} flex items-center justify-center`,children:r.jsx(s,{className:"h-4 w-4 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:t.displayName}),r.jsx("p",{className:"text-sm text-gray-600",children:t.description})]})]}),r.jsxs("div",{className:"mt-4 space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(vm,{className:"h-4 w-4"}),r.jsx("span",{children:e.email})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(Yc,{className:"h-4 w-4"}),r.jsx("span",{children:e.phone})]}),(e.hubId||e.storeId)&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(Vs,{className:"h-4 w-4"}),r.jsx("span",{children:e.loginType==="hub"?`Hub: ${e.hubId}`:`Store: ${e.storeId}`})]})]}),r.jsx("div",{className:"mt-4",children:r.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${e.loginType==="super_admin"?"bg-purple-100 text-purple-800":e.loginType==="hub"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:e.loginType==="super_admin"?"Super Admin":e.loginType==="hub"?"Hub Access":"Store Access"})})]})]}),t&&t.permissions.length>0&&r.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Key Permissions"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.permissions.slice(0,4).map(a=>r.jsx("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded-md",children:a.replace(/_/g," ").toLowerCase()},a)),t.permissions.length>4&&r.jsxs("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded-md",children:["+",t.permissions.length-4," more"]})]})]})]})}function Y6({size:e="md",variant:t="spinner",text:s="Loading...",className:a=""}){const i={sm:{container:"h-16",spinner:"h-4 w-4",text:"text-xs",dot:"h-1.5 w-1.5"},md:{container:"h-24",spinner:"h-6 w-6",text:"text-sm",dot:"h-2 w-2"},lg:{container:"h-32",spinner:"h-8 w-8",text:"text-base",dot:"h-2.5 w-2.5"},xl:{container:"h-40",spinner:"h-12 w-12",text:"text-lg",dot:"h-3 w-3"}}[e],l=()=>{switch(t){case"dots":return r.jsx("div",{className:"flex space-x-1",children:[0,1,2].map(o=>r.jsx("div",{className:`${i.dot} bg-blue-600 rounded-full animate-bounce`,style:{animationDelay:`${o*.1}s`}},o))});case"pulse":return r.jsx("div",{className:`${i.spinner} bg-blue-600 rounded-full animate-pulse`});case"branded":return r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:`${i.spinner} rounded-full border-4 border-blue-100 border-t-blue-600 animate-spin`}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsx(yo,{className:"h-3 w-3 text-blue-600"})})]});default:return r.jsx("div",{className:`${i.spinner} rounded-full border-4 border-gray-200 border-t-blue-600 animate-spin`})}};return r.jsxs("div",{className:`flex flex-col items-center justify-center ${i.container} ${a}`,children:[l(),s&&r.jsx("p",{className:`mt-3 font-medium text-gray-600 ${i.text}`,children:s})]})}function Lse({isLoading:e,text:t="Loading...",variant:s="branded",size:a="lg",backdrop:n="light",children:i}){const l={light:"bg-white/80",dark:"bg-gray-900/50",blur:"bg-white/70 backdrop-blur-sm"};return e?r.jsxs("div",{className:"relative",children:[i&&r.jsx("div",{className:"opacity-50 pointer-events-none",children:i}),r.jsx("div",{className:`absolute inset-0 flex items-center justify-center z-50 ${l[n]}`,children:r.jsx("div",{className:"bg-white rounded-2xl shadow-2xl p-8 border border-gray-200",children:r.jsx(Y6,{variant:s,size:a,text:t})})})]}):r.jsx(r.Fragment,{children:i})}function Ise({text:e="Loading...",variant:t="branded",showLogo:s=!0}){return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-gray-100",children:r.jsxs("div",{className:"text-center",children:[s&&r.jsx("div",{className:"mb-8",children:r.jsx("div",{className:"inline-flex items-center gap-3 mb-4",children:r.jsx("img",{src:"https://bayhawk.clientstagingdemo.com/_next/static/media/BayHawk.207595da.svg",alt:"BayHawk",className:"h-12 w-auto"})})}),r.jsx(Y6,{variant:t,size:"xl",text:e})]})})}function Oh({className:e="",variant:t="rectangular",width:s,height:a,lines:n=1}){const i="animate-pulse bg-gray-200 rounded",l={text:"h-4 rounded",circular:"rounded-full",rectangular:"rounded-lg"},o={width:typeof s=="number"?`${s}px`:s,height:typeof a=="number"?`${a}px`:a};return t==="text"&&n>1?r.jsx("div",{className:`space-y-2 ${e}`,children:Array.from({length:n}).map((c,d)=>r.jsx("div",{className:`${i} ${l.text}`,style:{width:d===n-1?"75%":"100%",height:typeof a=="number"?`${a}px`:a}},d))}):r.jsx("div",{className:`${i} ${l[t]} ${e}`,style:o})}function fD(){return r.jsx("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx(Oh,{variant:"circular",width:48,height:48}),r.jsxs("div",{className:"flex-1",children:[r.jsx(Oh,{variant:"text",width:"60%",height:20,className:"mb-2"}),r.jsx(Oh,{variant:"text",lines:2})]})]})})}function Bse({rows:e=5,columns:t=4}){return r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-200",children:r.jsx("div",{className:"grid gap-4",style:{gridTemplateColumns:`repeat(${t}, 1fr)`},children:Array.from({length:t}).map((s,a)=>r.jsx(Oh,{variant:"text",width:"80%",height:16},a))})}),Array.from({length:e}).map((s,a)=>r.jsx("div",{className:"px-4 py-4 border-b border-gray-100 last:border-b-0",children:r.jsx("div",{className:"grid gap-4",style:{gridTemplateColumns:`repeat(${t}, 1fr)`},children:Array.from({length:t}).map((n,i)=>r.jsx(Oh,{variant:"text",height:16},i))})},a))]})}function Use(){return r.jsx("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx(Oh,{variant:"text",width:"50%",height:16,className:"mb-2"}),r.jsx(Oh,{variant:"text",width:"80%",height:32,className:"mb-2"}),r.jsx(Oh,{variant:"text",width:"60%",height:14})]}),r.jsx(Oh,{variant:"circular",width:48,height:48})]})})}function Lw({isLoading:e,children:t,type:s="overlay",skeletonType:a="card",skeletonCount:n=3,text:i="Loading...",variant:l="branded",size:o="md",className:c=""}){if(!e)return r.jsx(r.Fragment,{children:t});switch(s){case"page":return r.jsx(Ise,{text:i,variant:l});case"inline":return r.jsx("div",{className:`flex items-center justify-center py-8 ${c}`,children:r.jsx(Y6,{variant:l,size:o,text:i})});case"skeleton":const d=()=>{switch(a){case"card":return Array.from({length:n}).map((h,m)=>r.jsx(fD,{},m));case"table":return r.jsx(Bse,{rows:n});case"stats":return Array.from({length:n}).map((h,m)=>r.jsx(Use,{},m));default:return r.jsx(fD,{})}};return r.jsx("div",{className:`space-y-4 ${c}`,children:d()});default:return r.jsx(Lse,{isLoading:e,text:i,variant:l,size:o,children:t})}}function zse({value:e,onChange:t,placeholder:s="Enter text...",className:a="",minHeight:n="120px"}){const i=A.useRef(null),[l,o]=A.useState(!1),c=A.useCallback((p,x="")=>{if(!i.current)return;const v=i.current,y=v.selectionStart,b=v.selectionEnd,j=v.value.substring(y,b),S=v.value.substring(0,y)+p+j+x+v.value.substring(b);t(S),setTimeout(()=>{v.focus();const w=y+p.length+j.length+x.length;v.setSelectionRange(w,w)},0)},[t]),d=A.useCallback(p=>{switch(p){case"bold":c("**","**");break;case"italic":c("*","*");break;case"underline":c("<u>","</u>");break;case"h1":c("# ");break;case"h2":c("## ");break;case"h3":c("### ");break;case"ul":c("- ");break;case"ol":c("1. ");break;case"quote":c("> ");break;case"link":const x=prompt("Enter URL:");x&&c("[",`](${x})`);break}},[c]),h=A.useCallback(p=>p.replace(/^### (.*$)/gm,"<h3>$1</h3>").replace(/^## (.*$)/gm,"<h2>$1</h2>").replace(/^# (.*$)/gm,"<h1>$1</h1>").replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2">$1</a>').replace(/^- (.*$)/gm,"<li>$1</li>").replace(/^1\. (.*$)/gm,"<li>$1</li>").replace(/^> (.*$)/gm,"<blockquote>$1</blockquote>").replace(/\n/g,"<br>"),[]),m=[{icon:Hee,action:()=>d("bold"),title:"Bold (**text**)"},{icon:qte,action:()=>d("italic"),title:"Italic (*text*)"},{icon:cse,action:()=>d("underline"),title:"Underline"},{icon:Yte,action:()=>d("ul"),title:"Bullet List (- item)"},{icon:Gte,action:()=>d("ol"),title:"Numbered List (1. item)"},{icon:Nre,action:()=>d("quote"),title:"Quote (> text)"},{icon:W6,action:()=>d("link"),title:"Link ([text](url))"}];return r.jsxs("div",{className:`border border-gray-300 rounded-md ${a}`,children:[r.jsxs("div",{className:"border-b border-gray-300 p-2 bg-gray-50 flex flex-wrap gap-1 items-center",children:[r.jsxs("div",{className:"flex gap-1",children:[r.jsx("button",{type:"button",onClick:()=>d("h1"),className:"px-2 py-1 text-sm border border-gray-300 rounded hover:bg-gray-200 transition-colors",title:"Heading 1 (# text)",children:"H1"}),r.jsx("button",{type:"button",onClick:()=>d("h2"),className:"px-2 py-1 text-sm border border-gray-300 rounded hover:bg-gray-200 transition-colors",title:"Heading 2 (## text)",children:"H2"}),r.jsx("button",{type:"button",onClick:()=>d("h3"),className:"px-2 py-1 text-sm border border-gray-300 rounded hover:bg-gray-200 transition-colors",title:"Heading 3 (### text)",children:"H3"})]}),r.jsx("div",{className:"w-px bg-gray-300 h-6 mx-1"}),m.map((p,x)=>{const v=p.icon;return r.jsx("button",{type:"button",onClick:p.action,className:"p-1 hover:bg-gray-200 rounded transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500",title:p.title,children:r.jsx(v,{className:"h-4 w-4"})},x)}),r.jsx("div",{className:"w-px bg-gray-300 h-6 mx-1"}),r.jsx("button",{type:"button",onClick:()=>o(!l),className:`px-3 py-1 text-sm rounded transition-colors ${l?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:l?"Edit":"Preview"})]}),l?r.jsx("div",{className:"w-full p-3 rich-text-preview",style:{minHeight:n},dangerouslySetInnerHTML:{__html:h(e)}}):r.jsx("textarea",{ref:i,value:e,onChange:p=>t(p.target.value),className:"w-full p-3 border-0 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-inset resize-none",style:{minHeight:n},placeholder:s,rows:6}),!l&&r.jsxs("div",{className:"px-3 py-2 bg-gray-50 border-t border-gray-200 text-xs text-gray-600",children:[r.jsx("strong",{children:"Formatting:"})," **bold**, *italic*, # Heading 1, ## Heading 2, - List item, [link](url), > Quote"]})]})}function $se({images:e,onImagesChange:t,primaryImageIndex:s,onSetPrimaryImage:a,maxImages:n=4,className:i=""}){const l=A.useRef(null),o=h=>{const m=Array.from(h.target.files||[]);if(m.length>0){const p=[...e,...m].slice(0,n);t(p)}h.target&&(h.target.value="")},c=h=>{const m=e.filter((p,x)=>x!==h);t(m),s>=m.length&&m.length>0?a(m.length-1):s===h&&m.length>0&&a(0)},d=()=>{l.current?.click()};return r.jsxs("div",{className:`space-y-4 ${i}`,children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(oe,{type:"button",onClick:d,className:"flex items-center gap-2",disabled:e.length>=n,children:[r.jsx(jo,{className:"h-4 w-4"}),"Upload Image ",e.length>0&&`(${e.length}/${n})`]}),e.length>0&&r.jsxs("p",{className:"text-sm text-gray-600",children:["Click ",r.jsx(mm,{className:"inline h-4 w-4 text-yellow-500"})," to set primary image"]})]}),r.jsx("input",{ref:l,type:"file",accept:"image/*",multiple:!0,onChange:o,className:"hidden"}),r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[e.map((h,m)=>r.jsxs("div",{className:"relative group",children:[r.jsxs("div",{className:`relative rounded-lg border-2 overflow-hidden ${s===m?"border-yellow-400 ring-2 ring-yellow-200":"border-gray-200"}`,children:[r.jsx("img",{src:URL.createObjectURL(h),alt:`Product ${m+1}`,className:"w-full h-24 object-cover"}),s===m&&r.jsxs("div",{className:"absolute top-1 left-1 bg-yellow-500 text-white text-xs px-1.5 py-0.5 rounded flex items-center gap-1",children:[r.jsx(mm,{className:"h-3 w-3 fill-current"}),"Primary"]}),r.jsx("div",{className:"absolute bottom-1 left-1 bg-black bg-opacity-50 text-white text-xs px-1.5 py-0.5 rounded",children:m+1})]}),r.jsxs("div",{className:"absolute -top-2 -right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[s!==m&&r.jsx("button",{type:"button",onClick:()=>a(m),className:"bg-yellow-500 text-white rounded-full p-1 shadow-sm hover:bg-yellow-600 transition-colors",title:"Set as primary image",children:r.jsx(mm,{className:"h-3 w-3"})}),r.jsx("button",{type:"button",onClick:()=>c(m),className:"bg-red-500 text-white rounded-full p-1 shadow-sm hover:bg-red-600 transition-colors",title:"Remove image",children:r.jsx(Cs,{className:"h-3 w-3"})})]})]},m)),Array.from({length:n-e.length}).map((h,m)=>r.jsxs("div",{onClick:d,className:"w-full h-24 border-2 border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:border-blue-400 hover:bg-blue-50 transition-colors",children:[r.jsx(dr,{className:"h-6 w-6 text-gray-400"}),r.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"Add Image"})]},`empty-${m}`))]}),e.length>0&&r.jsxs("div",{className:"text-sm text-gray-500 space-y-1",children:[r.jsxs("p",{children:[e.length," of ",n," images uploaded"]}),s<e.length&&r.jsxs("p",{children:["Primary image: Image ",s+1]})]})]})}function Hse({data:e,columns:t,onView:s,onEdit:a,onDelete:n,loading:i=!1,emptyMessage:l="No data available",className:o=""}){const c=s||a||n;return i?r.jsx("div",{className:"animate-pulse",children:r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[r.jsx("div",{className:"h-12 bg-gray-100 rounded-t-xl"}),[...Array(5)].map((d,h)=>r.jsx("div",{className:"h-16 border-t border-gray-200 bg-gray-50"},h))]})}):e.length===0?r.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-8 sm:p-12 text-center",children:r.jsx("p",{className:"text-gray-500 text-sm sm:text-base",children:l})}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"hidden lg:block",children:r.jsxs(Rg,{className:o,children:[r.jsx("thead",{children:r.jsxs("tr",{children:[t.map(d=>r.jsx(Xr,{className:d.width?`w-[${d.width}]`:"",children:d.label},String(d.key))),c&&r.jsx(Xr,{children:"Actions"})]})}),r.jsx("tbody",{children:e.map(d=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[t.map(h=>{const m=typeof h.key=="string"&&h.key.includes(".")?h.key.split(".").reduce((p,x)=>p?.[x],d):d[h.key];return r.jsx(Zr,{className:h.className,children:h.render?h.render(m,d):m},String(h.key))}),c&&r.jsx(Zr,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[s&&r.jsx(oe,{size:"sm",variant:"ghost",onClick:()=>s(d),className:"h-10 w-10 p-0",children:r.jsx(Fr,{className:"h-6 w-6"})}),a&&r.jsx(oe,{size:"sm",variant:"ghost",onClick:()=>a(d),className:"h-10 w-10 p-0",children:r.jsx(ss,{className:"h-6 w-6"})}),n&&r.jsx(oe,{size:"sm",variant:"ghost",onClick:()=>n(d),className:"h-10 w-10 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",children:r.jsx(Ar,{className:"h-6 w-6"})})]})})]},d.id))})]})}),r.jsx("div",{className:"lg:hidden space-y-4",children:e.map(d=>r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 space-y-3",children:[r.jsx("div",{className:"space-y-2",children:t.filter(h=>h.key!=="select").map(h=>{const m=typeof h.key=="string"&&h.key.includes(".")?h.key.split(".").reduce((p,x)=>p?.[x],d):d[h.key];return!m&&m!==0?null:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-600 min-w-0 flex-shrink-0 mr-3",children:[h.label,":"]}),r.jsx("div",{className:"text-sm text-gray-900 text-right min-w-0 flex-1",children:h.render?h.render(m,d):m})]},String(h.key))})}),c&&r.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2 border-t border-gray-100",children:[s&&r.jsxs(oe,{size:"sm",variant:"ghost",onClick:()=>s(d),className:"h-9 px-3 text-xs",children:[r.jsx(Fr,{className:"h-5 w-5 mr-1"}),"View"]}),a&&r.jsxs(oe,{size:"sm",variant:"ghost",onClick:()=>a(d),className:"h-9 px-3 text-xs",children:[r.jsx(ss,{className:"h-5 w-5 mr-1"}),"Edit"]}),n&&r.jsxs(oe,{size:"sm",variant:"ghost",onClick:()=>n(d),className:"h-9 px-3 text-xs text-red-600 hover:text-red-700 hover:bg-red-50",children:[r.jsx(Ar,{className:"h-5 w-5 mr-1"}),"Delete"]})]})]},d.id))})]})}function Eg({searchValue:e,onSearchChange:t,filters:s=[],placeholder:a="Search...",className:n=""}){const[i,l]=A.useState(!1),o=s.some(c=>c.value!=="");return r.jsxs("div",{className:`space-y-4 ${n}`,children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(Bi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),r.jsx(de,{type:"text",placeholder:a,value:e,onChange:c=>t(c.target.value),className:"pl-10 text-sm"})]}),r.jsx("div",{className:"flex gap-2",children:s.length>0&&r.jsxs(oe,{variant:"secondary",onClick:()=>l(!i),className:`flex-1 sm:flex-none text-sm ${o?"bg-blue-50 text-blue-700 border-blue-200":""}`,children:[r.jsx(nc,{className:"h-5 w-5 mr-2"}),r.jsx("span",{className:"hidden sm:inline",children:"Filters"}),r.jsx("span",{className:"sm:hidden",children:"Filter"}),o&&r.jsx("span",{className:"ml-2 bg-blue-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:s.filter(c=>c.value!=="").length})]})})]}),i&&s.length>0&&r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 sm:gap-4 p-3 sm:p-4 bg-gray-50 rounded-lg border",children:s.map(c=>r.jsx(Ut,{label:c.label,value:c.value,onChange:d=>c.onChange(d.target.value),options:[{value:"",label:`All ${c.label}`},...c.options],className:"text-sm"},c.key))})]})}const qse={received:{variant:"bg-blue-100 text-blue-700",label:"Received"},processing:{variant:"bg-yellow-100 text-yellow-700",label:"Processing"},packed:{variant:"bg-purple-100 text-purple-700",label:"Packed"},out_for_delivery:{variant:"bg-orange-100 text-orange-700",label:"Out for Delivery"},delivered:{variant:"bg-green-100 text-green-700",label:"Delivered"},cancelled:{variant:"bg-red-100 text-red-700",label:"Cancelled"},pending:{variant:"bg-yellow-100 text-yellow-700",label:"Pending"},paid:{variant:"bg-green-100 text-green-700",label:"Paid"},failed:{variant:"bg-red-100 text-red-700",label:"Failed"},active:{variant:"bg-green-100 text-green-700",label:"Active"},inactive:{variant:"bg-gray-100 text-gray-700",label:"Inactive"},approved:{variant:"bg-green-100 text-green-700",label:"Approved"},rejected:{variant:"bg-red-100 text-red-700",label:"Rejected"},draft:{variant:"bg-gray-100 text-gray-700",label:"Draft"},published:{variant:"bg-green-100 text-green-700",label:"Published"},in_stock:{variant:"bg-green-100 text-green-700",label:"In Stock"},low_stock:{variant:"bg-yellow-100 text-yellow-700",label:"Low Stock"},out_of_stock:{variant:"bg-red-100 text-red-700",label:"Out of Stock"}};function tN({status:e,config:t=qse,className:s=""}){const a=t[e]||{variant:"bg-gray-100 text-gray-700",label:e},n=a.label||e.replace(/_/g," ").replace(/\b\w/g,i=>i.toUpperCase());return r.jsx(Xe,{variant:a.variant,className:s,children:n})}function dz({onView:e,onEdit:t,onDelete:s,onDownload:a,onAdd:n,onRefresh:i,viewLabel:l="View",editLabel:o="Edit",deleteLabel:c="Delete",downloadLabel:d="Export",addLabel:h="Add New",refreshLabel:m="Refresh",size:p="sm",variant:x="default",className:v=""}){const y=x==="compact";return r.jsxs("div",{className:`flex items-center gap-1 sm:gap-2 ${v}`,children:[n&&r.jsxs(oe,{onClick:n,size:p,className:"bg-blue-600 hover:bg-blue-700 text-xs sm:text-sm px-2 sm:px-3",children:[r.jsx(dr,{className:"h-4 w-4 sm:h-5 sm:w-5 sm:mr-2"}),r.jsx("span",{className:"hidden sm:inline",children:y?"":h})]}),i&&r.jsxs(oe,{onClick:i,variant:"secondary",size:p,className:"text-xs sm:text-sm px-2 sm:px-3",title:m,children:[r.jsx(Ld,{className:"h-4 w-4 sm:h-5 sm:w-5 sm:mr-2"}),r.jsx("span",{className:"hidden sm:inline",children:y?"":m})]}),a&&r.jsxs(oe,{onClick:a,variant:"secondary",size:p,className:"text-xs sm:text-sm px-2 sm:px-3",title:d,children:[r.jsx(ei,{className:"h-4 w-4 sm:h-5 sm:w-5 sm:mr-2"}),r.jsx("span",{className:"hidden sm:inline",children:y?"":d})]}),e&&r.jsxs(oe,{onClick:e,variant:"ghost",size:p,className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50 text-xs sm:text-sm px-2 sm:px-3",title:l,children:[r.jsx(Fr,{className:"h-4 w-4 sm:h-5 sm:w-5 sm:mr-2"}),r.jsx("span",{className:"hidden sm:inline",children:y?"":l})]}),t&&r.jsxs(oe,{onClick:t,variant:"ghost",size:p,className:"text-green-600 hover:text-green-700 hover:bg-green-50 text-xs sm:text-sm px-2 sm:px-3",title:o,children:[r.jsx(ss,{className:"h-4 w-4 sm:h-5 sm:w-5 sm:mr-2"}),r.jsx("span",{className:"hidden sm:inline",children:y?"":o})]}),s&&r.jsxs(oe,{onClick:s,variant:"ghost",size:p,className:"text-red-600 hover:text-red-700 hover:bg-red-50 text-xs sm:text-sm px-2 sm:px-3",title:c,children:[r.jsx(Ar,{className:"h-4 w-4 sm:h-5 sm:w-5 sm:mr-2"}),r.jsx("span",{className:"hidden sm:inline",children:y?"":c})]})]})}function mD({isOpen:e,onClose:t,title:s,children:a,onSubmit:n,onCancel:i,submitLabel:l="Save",cancelLabel:o="Cancel",isSubmitting:c=!1,size:d="md",hideActions:h=!1}){const m=()=>{i?i():t()};return r.jsx(ir,{isOpen:e,onClose:t,title:s,size:d,children:r.jsxs("div",{className:"space-y-6",children:[a,!h&&r.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[r.jsx(oe,{variant:"secondary",onClick:m,disabled:c,children:o}),n&&r.jsx(oe,{onClick:n,disabled:c,children:c?"Saving...":l})]})]})})}function Vse({isOpen:e,onClose:t,onConfirm:s,title:a,message:n,confirmLabel:i="Confirm",cancelLabel:l="Cancel",type:o="danger",isLoading:c=!1}){const d={danger:{icon:Ar,iconColor:"text-red-600",iconBg:"bg-red-100",buttonClass:"bg-red-600 hover:bg-red-700 focus:ring-red-500"},warning:{icon:Ts,iconColor:"text-yellow-600",iconBg:"bg-yellow-100",buttonClass:"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500"},info:{icon:V6,iconColor:"text-blue-600",iconBg:"bg-blue-100",buttonClass:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500"},success:{icon:Dr,iconColor:"text-green-600",iconBg:"bg-green-100",buttonClass:"bg-green-600 hover:bg-green-700 focus:ring-green-500"}},{icon:h,iconColor:m,iconBg:p,buttonClass:x}=d[o];return r.jsx(ir,{isOpen:e,onClose:t,title:"",size:"sm",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:`mx-auto flex h-12 w-12 items-center justify-center rounded-full ${p} mb-4`,children:r.jsx(h,{className:`h-6 w-6 ${m}`})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:a}),r.jsx("p",{className:"text-gray-600 mb-6",children:n}),r.jsxs("div",{className:"flex gap-3 justify-center",children:[r.jsx(oe,{variant:"secondary",onClick:t,disabled:c,children:l}),r.jsx(oe,{onClick:s,disabled:c,className:x,children:c?"Processing...":i})]})]})})}function Vc({title:e,description:t,breadcrumbs:s,actions:a,onBack:n,className:i=""}){return r.jsxs("div",{className:`mb-6 ${i}`,children:[s&&s.length>0&&r.jsx("nav",{className:"mb-4",children:r.jsx("ol",{className:"flex items-center space-x-2 text-sm text-gray-500",children:s.map((l,o)=>r.jsxs("li",{className:"flex items-center",children:[o>0&&r.jsx("span",{className:"mx-2",children:"/"}),l.href?r.jsx("a",{href:l.href,className:"hover:text-gray-700 transition-colors",children:l.label}):r.jsx("span",{className:o===s.length-1?"text-gray-900 font-medium":"",children:l.label})]},o))})}),r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4",children:[r.jsxs("div",{className:"flex items-start gap-4",children:[n&&r.jsx(oe,{variant:"ghost",size:"sm",onClick:n,className:"mt-1",children:r.jsx(Eee,{className:"h-4 w-4"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 truncate",children:e}),t&&r.jsx("p",{className:"mt-1 text-sm sm:text-base text-gray-600",children:t})]})]}),a&&r.jsx("div",{className:"flex items-center gap-2 sm:gap-3 flex-shrink-0",children:a})]})]})}const Wse={blue:{bg:"bg-blue-50",icon:"text-blue-600",accent:"bg-blue-600"},green:{bg:"bg-green-50",icon:"text-green-600",accent:"bg-green-600"},purple:{bg:"bg-purple-50",icon:"text-purple-600",accent:"bg-purple-600"},orange:{bg:"bg-orange-50",icon:"text-orange-600",accent:"bg-orange-600"},red:{bg:"bg-red-50",icon:"text-red-600",accent:"bg-red-600"},gray:{bg:"bg-gray-50",icon:"text-gray-600",accent:"bg-gray-600"}};function xD({stats:e,columns:t=4,className:s=""}){const a={2:"grid-cols-1 md:grid-cols-2",3:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 md:grid-cols-2 lg:grid-cols-4",5:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5"},n=(i,l)=>{const o=Wse[i.color||"blue"],c=i.href||i.onClick,d=r.jsxs(he,{className:`relative overflow-hidden transition-all duration-200 ${c?"hover:shadow-md hover:border-gray-300 cursor-pointer":""}`,onClick:i.onClick,children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-2",children:i.label}),r.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-2",children:typeof i.value=="number"?i.value.toLocaleString():i.value}),i.change&&r.jsxs("div",{className:"flex items-center gap-1",children:[i.change.type==="increase"?r.jsx(ta,{className:"h-4 w-4 text-green-600"}):i.change.type==="decrease"?r.jsx(Mj,{className:"h-4 w-4 text-red-600"}):null,r.jsx("span",{className:`text-sm font-medium ${i.change.type==="increase"?"text-green-600":i.change.type==="decrease"?"text-red-600":"text-gray-600"}`,children:i.change.value})]})]}),i.icon&&r.jsx("div",{className:`p-3 rounded-xl ${o.bg}`,children:r.jsx(i.icon,{className:`h-6 w-6 ${o.icon}`})})]}),r.jsx("div",{className:`absolute bottom-0 left-0 right-0 h-1 ${o.accent}`})]});return i.href?r.jsx("a",{href:i.href,children:d},l):r.jsx("div",{children:d},l)};return r.jsx("div",{className:`grid gap-6 ${a[t]} ${s}`,children:e.map(n)})}function Pg({selectedItems:e,totalItems:t,onSelectAll:s,onDeselectAll:a,actions:n,onAction:i,className:l="",itemName:o="items"}){const[c,d]=A.useState(null),[h,m]=A.useState(!1),p=e.length===t&&t>0,x=e.length>0&&e.length<t,v=e.length>0,y=()=>{p?a():s()},b=_=>{_.requiresConfirmation?d(_.id):i(_.id,e)},j=_=>{i(_,e),d(null)},w=p?lc:x?Xd:oc,k=_=>{switch(_){case"danger":return"text-red-600 hover:text-red-700 hover:bg-red-50";case"warning":return"text-orange-600 hover:text-orange-700 hover:bg-orange-50";case"success":return"text-green-600 hover:text-green-700 hover:bg-green-50";default:return"text-gray-600 hover:text-gray-700 hover:bg-gray-50"}};return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:`flex flex-col sm:flex-row sm:items-center sm:justify-between p-3 sm:p-4 bg-white border-b border-gray-200 gap-3 sm:gap-4 ${l}`,children:[r.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[r.jsx("button",{onClick:y,className:`p-2 rounded-lg transition-colors ${v?"bg-blue-50 text-blue-600":"hover:bg-gray-50 text-gray-400"}`,title:p?"Deselect all":"Select all",children:r.jsx(w,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),v?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-xs sm:text-sm font-medium text-gray-900",children:[e.length," ",o," selected"]}),r.jsx("button",{onClick:a,className:"text-xs sm:text-sm text-gray-500 hover:text-gray-700",children:"Clear selection"})]}):r.jsxs("span",{className:"text-xs sm:text-sm text-gray-500",children:["Select ",o," to perform bulk actions"]})]}),v&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"relative",children:[r.jsxs(oe,{variant:"secondary",size:"sm",onClick:()=>m(!h),className:"text-gray-700 border-gray-300 hover:bg-gray-50 text-xs sm:text-sm whitespace-nowrap",children:["Bulk actions",r.jsx("svg",{className:"ml-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),h&&r.jsx("div",{className:"absolute left-0 top-full mt-1 w-64 bg-white border border-gray-200 rounded-lg shadow-lg z-20",children:r.jsx("div",{className:"py-1 max-h-80 overflow-y-auto",children:n.map(_=>{const O=_.icon;return r.jsxs("button",{onClick:()=>{b(_),m(!1)},disabled:_.disabled,className:`w-full flex items-center gap-3 px-4 py-3 text-sm transition-colors hover:bg-gray-50 ${_.disabled?"text-gray-400 cursor-not-allowed":k(_.variant)}`,children:[r.jsx(O,{className:"h-4 w-4 flex-shrink-0"}),r.jsx("span",{className:"text-left",children:_.label})]},_.id)})})})]}),r.jsx(oe,{variant:"primary",size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-xs sm:text-sm whitespace-nowrap",children:"Apply"}),r.jsx(oe,{variant:"ghost",size:"sm",onClick:a,className:"text-gray-400 hover:text-gray-600",title:"Clear selection",children:r.jsx(Cs,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]})]}),c&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg p-4 sm:p-6 max-w-md w-full",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 rounded-full bg-red-100 flex items-center justify-center",children:r.jsx(Ts,{className:"h-4 w-4 sm:h-5 sm:w-5 text-red-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Confirm Action"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"This action cannot be undone"})]})]}),r.jsx("div",{className:"mb-4 sm:mb-6",children:r.jsx("p",{className:"text-sm sm:text-base text-gray-700",children:n.find(_=>_.id===c)?.confirmationMessage||`Are you sure you want to perform this action on ${e.length} selected ${o}?`})}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(oe,{variant:"secondary",onClick:()=>d(null),className:"flex-1 text-sm",children:"Cancel"}),r.jsx(oe,{variant:"primary",onClick:()=>j(c),className:"flex-1 bg-red-600 hover:bg-red-700 text-sm",children:"Confirm"})]})]})}),h&&r.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>m(!1)})]})}function Gse({id:e,checked:t,onChange:s,className:a=""}){return r.jsx("button",{onClick:()=>s(e),className:`p-1 rounded transition-colors ${t?"text-blue-600":"text-gray-400 hover:text-gray-600"} ${a}`,children:t?r.jsx(lc,{className:"h-4 w-4"}):r.jsx(oc,{className:"h-4 w-4"})})}function Og(e){const[t,s]=A.useState([]);return{selectedItems:t,selectAll:()=>{s(e.map(o=>o.id))},deselectAll:()=>{s([])},toggleItem:o=>{s(c=>c.includes(o)?c.filter(d=>d!==o):[...c,o])},isSelected:o=>t.includes(o),hasSelection:t.length>0,selectedCount:t.length}}function Dg({isOpen:e,onClose:t,title:s,actionType:a,selectedCount:n,itemName:i,onConfirm:l,fields:o=[]}){const[c,d]=A.useState({}),[h,m]=A.useState(!1),[p,x]=A.useState({}),v=(_,O)=>{d(E=>({...E,[_]:O})),p[_]&&x(E=>({...E,[_]:""}))},y=()=>{const _={};return o.forEach(O=>{O.required&&!c[O.id]&&(_[O.id]=`${O.label} is required`)}),x(_),Object.keys(_).length===0},b=async()=>{if(y()){m(!0);try{await l(c),t(),d({})}catch(_){console.error("Bulk action failed:",_)}finally{m(!1)}}},j=_=>{const O={value:c[_.id]||_.defaultValue||"",onChange:E=>v(_.id,E.target.value),error:p[_.id],placeholder:_.placeholder};switch(_.type){case"select":return r.jsx(Ut,{label:_.label,...O,options:_.options||[]},_.id);case"textarea":return r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[_.label,_.required&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),r.jsx("textarea",{rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",...O}),p[_.id]&&r.jsx("p",{className:"text-sm text-red-600 mt-1",children:p[_.id]})]},_.id);case"number":return r.jsx(de,{label:_.label,type:"number",...O},_.id);case"date":return r.jsx(de,{label:_.label,type:"date",...O},_.id);default:return r.jsx(de,{label:_.label,...O},_.id)}},S=()=>{switch(a){case"delete":return r.jsx(Ts,{className:"h-5 w-5 text-red-600"});case"archive":return r.jsx(Ts,{className:"h-5 w-5 text-orange-600"});default:return r.jsx(Dr,{className:"h-5 w-5 text-blue-600"})}},k=(()=>{switch(a){case"delete":return"red";case"archive":return"orange";default:return"blue"}})();return r.jsx(ir,{isOpen:e,onClose:t,title:s,size:"md",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:`flex items-center gap-3 p-4 bg-${k}-50 border border-${k}-200 rounded-lg`,children:[S(),r.jsxs("div",{children:[r.jsx("h4",{className:`font-medium text-${k}-900`,children:s}),r.jsxs("p",{className:`text-sm text-${k}-700`,children:["This action will affect ",n," selected ",i]})]})]}),o.length>0&&r.jsx("div",{className:"space-y-4",children:o.map(j)}),(a==="delete"||a==="archive")&&r.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Ts,{className:"h-5 w-5 text-orange-500 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h5",{className:"font-medium text-gray-900",children:a==="delete"?"Permanent Action":"Important Notice"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:a==="delete"?"This action cannot be undone. The selected items will be permanently removed from the system.":"Archived items can be restored later, but they will not be visible in the main list."})]})]})}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[r.jsx(oe,{variant:"secondary",onClick:t,disabled:h,className:"flex-1",children:"Cancel"}),r.jsx(oe,{onClick:b,disabled:h,className:`flex-1 ${a==="delete"?"bg-red-600 hover:bg-red-700":a==="archive"?"bg-orange-600 hover:bg-orange-700":"bg-blue-600 hover:bg-blue-700"}`,children:h?"Processing...":`Confirm ${s}`})]})]})})}const Kse={"update-status":{title:"Update Status",fields:[{id:"status",label:"New Status",type:"select",required:!0,options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"pending",label:"Pending"},{value:"completed",label:"Completed"}]},{id:"reason",label:"Reason (Optional)",type:"textarea",placeholder:"Enter reason for status change..."}]},"bulk-edit":{title:"Bulk Edit",fields:[{id:"category",label:"Category",type:"select",options:[{value:"",label:"Keep current"},{value:"electronics",label:"Electronics"},{value:"clothing",label:"Clothing"},{value:"books",label:"Books"}]},{id:"discount",label:"Discount (%)",type:"number",placeholder:"0"},{id:"notes",label:"Notes",type:"textarea",placeholder:"Add notes for this bulk edit..."}]},"send-notification":{title:"Send Notification",fields:[{id:"subject",label:"Subject",type:"text",required:!0,placeholder:"Enter notification subject..."},{id:"message",label:"Message",type:"textarea",required:!0,placeholder:"Enter your message..."},{id:"type",label:"Notification Type",type:"select",required:!0,options:[{value:"email",label:"Email"},{value:"sms",label:"SMS"},{value:"push",label:"Push Notification"},{value:"all",label:"All Methods"}]}]},archive:{title:"Archive Items",fields:[{id:"reason",label:"Archive Reason",type:"select",required:!0,options:[{value:"outdated",label:"Outdated"},{value:"discontinued",label:"Discontinued"},{value:"seasonal",label:"Seasonal"},{value:"other",label:"Other"}]},{id:"notes",label:"Additional Notes",type:"textarea",placeholder:"Add any additional notes..."}]},delete:{title:"Delete Items",fields:[{id:"confirmation",label:'Type "DELETE" to confirm',type:"text",required:!0,placeholder:"DELETE"}]}},FS=(...e)=>e.filter(Boolean).join(" ");A.forwardRef(({isOpen:e,onClose:t,title:s,children:a,size:n="md",position:i="right"},l)=>{const o={sm:"max-w-sm",md:"max-w-lg",lg:"max-w-2xl"},c={left:"left-0",right:"right-0"},d={left:{open:"translate-x-0",closed:"-translate-x-full"},right:{open:"translate-x-0",closed:"translate-x-full"}};return r.jsxs("div",{ref:l,className:FS("fixed inset-0 z-40 overflow-hidden",e?"pointer-events-auto":"pointer-events-none"),children:[r.jsx("div",{className:FS("absolute inset-0 bg-black/50 transition-opacity duration-300",e?"opacity-100":"opacity-0"),onClick:t}),r.jsx("div",{className:FS("absolute top-0 bottom-0 w-full bg-white shadow-xl transition-transform duration-300 ease-in-out",o[n],c[i],e?d[i].open:d[i].closed),children:r.jsxs("div",{className:"flex h-full flex-col overflow-y-scroll",children:[r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:s}),r.jsxs("button",{onClick:t,className:"rounded-lg p-2 text-gray-400 hover:bg-gray-100 hover:text-gray-600 transition-colors",children:[r.jsx(Cs,{className:"h-5 w-5"}),r.jsx("span",{className:"sr-only",children:"Close panel"})]})]})}),r.jsx("div",{className:"flex-1 px-6 pb-6",children:a})]})})]})});const pD=({config:e,onChange:t,className:s})=>{const a=[{value:"email",label:"Email"},{value:"sms",label:"SMS"},{value:"push",label:"Push Notification"},{value:"whatsapp",label:"WhatsApp"}],n=[{value:"1",label:"1 day"},{value:"3",label:"3 days"},{value:"7",label:"7 days"},{value:"14",label:"14 days"},{value:"30",label:"30 days"}],i=[{value:"1",label:"Daily"},{value:"3",label:"Every 3 days"},{value:"7",label:"Weekly"}],l=d=>{t({...e,...d})},o=d=>{const h=e.alertMethods.includes(d)?e.alertMethods.filter(m=>m!==d):[...e.alertMethods,d];l({alertMethods:h})},c=()=>`Your ${e.type==="loyalty_points"?"loyalty points":"wallet cash"} worth {amount} will expire on {expiry_date}. Use them before they expire!`;return r.jsxs(he,{className:`${s} transition-all duration-200`,children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[e.type==="loyalty_points"?r.jsx(Gh,{className:"h-5 w-5 text-orange-600"}):r.jsx(xx,{className:"h-5 w-5 text-green-600"}),r.jsxs("div",{children:[r.jsxs("h3",{className:"font-medium text-gray-900",children:[e.type==="loyalty_points"?"Loyalty Points":"Wallet Cash"," Expiry Alerts"]}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Notify customers before their ",e.type==="loyalty_points"?"points":"cash"," expires"]})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Xe,{variant:e.enabled?"success":"default",children:e.enabled?"Active":"Inactive"}),r.jsx(Bp,{checked:e.enabled,onChange:d=>l({enabled:d.target.checked})})]})]}),e.enabled&&r.jsxs("div",{className:"mt-4 space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(Ut,{label:"Alert Timing",value:e.daysBefore.toString(),onChange:d=>l({daysBefore:parseInt(d.target.value)}),options:n}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Alert Methods"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:a.map(d=>r.jsx("button",{onClick:()=>o(d.value),className:`px-3 py-1.5 text-xs rounded-full border transition-colors ${e.alertMethods.includes(d.value)?"bg-blue-100 border-blue-300 text-blue-700":"bg-gray-100 border-gray-300 text-gray-600 hover:bg-gray-200"}`,children:d.label},d.value))})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"flex items-center gap-2",children:r.jsx(Bp,{checked:e.autoReminder,onChange:d=>l({autoReminder:d.target.checked}),label:"Enable automatic reminders"})}),e.autoReminder&&r.jsx(Ut,{label:"Reminder Frequency",value:e.reminderFrequency.toString(),onChange:d=>l({reminderFrequency:parseInt(d.target.value)}),options:i}),r.jsxs("div",{className:"border-t pt-3 mt-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Zn,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Analytics Tracking"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"flex items-center gap-2",children:r.jsx(Bp,{checked:e.trackingEnabled,onChange:d=>l({trackingEnabled:d.target.checked}),label:"Enable delivery and open tracking"})}),e.trackingEnabled&&r.jsx("div",{className:"flex items-center gap-2 ml-6",children:r.jsx(Bp,{checked:e.includeClickTracking,onChange:d=>l({includeClickTracking:d.target.checked}),label:"Include click-through tracking"})})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom Message"}),r.jsx("textarea",{value:e.customMessage||c(),onChange:d=>l({customMessage:d.target.value}),placeholder:c(),rows:3,className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),r.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Available variables: ","{amount}",", ","{expiry_date}",", ","{customer_name}"]})]}),r.jsxs("div",{className:"flex items-center gap-2 p-3 bg-amber-50 rounded-lg border border-amber-200",children:[r.jsx(Ts,{className:"h-4 w-4 text-amber-600"}),r.jsxs("p",{className:"text-sm text-amber-700",children:["Alerts will be sent ",e.daysBefore," day(s) before expiry",e.autoReminder&&` and repeated every ${e.reminderFrequency} day(s)`]})]})]})]})},qu=(...e)=>e.filter(Boolean).join(" "),oe=A.forwardRef(({className:e,variant:t="primary",size:s="md",children:a,...n},i)=>{const l="inline-flex items-center justify-center rounded-lg font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",o={primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500 shadow-sm",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200 focus:ring-gray-500 border border-gray-300",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500 shadow-sm",ghost:"text-gray-700 hover:bg-gray-100 focus:ring-gray-500"},c={sm:"px-3 py-1.5 text-sm gap-1.5",md:"px-4 py-2 text-sm gap-2",lg:"px-6 py-3 text-base gap-2"};return r.jsx("button",{ref:i,className:qu(l,o[t],c[s],e),...n,children:a})}),de=A.forwardRef(({className:e,label:t,error:s,...a},n)=>r.jsxs("div",{className:"w-full",children:[t&&r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:t}),r.jsx("input",{ref:n,className:qu("w-full rounded-lg border bg-white px-3 py-2.5 text-sm text-gray-900 placeholder-gray-400","focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent","transition-all duration-200",s?"border-red-500 focus:ring-red-500":"border-gray-300",e),...a}),s&&r.jsx("p",{className:"mt-1.5 text-sm text-red-600",children:s})]})),Ut=A.forwardRef(({className:e,label:t,options:s,error:a,...n},i)=>r.jsxs("div",{className:"w-full",children:[t&&r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:t}),r.jsx("select",{ref:i,className:qu("w-full rounded-lg border bg-white px-3 py-2.5 text-sm text-gray-900","focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent","transition-all duration-200 cursor-pointer",a?"border-red-500":"border-gray-300",e),...n,children:s.map(l=>r.jsx("option",{value:l.value,children:l.label},l.value))}),a&&r.jsx("p",{className:"mt-1.5 text-sm text-red-600",children:a})]})),Xe=({children:e,variant:t="default",className:s=""})=>{const n={default:"bg-gray-100 text-gray-800",success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",danger:"bg-red-100 text-red-800",info:"bg-blue-100 text-blue-800"}[t]||t;return r.jsx("span",{className:qu("inline-flex items-center rounded-full px-2.5 py-1 text-xs font-medium",n,s),children:e})},he=({children:e,className:t,onClick:s,hover:a=!1})=>r.jsx("div",{className:qu("rounded-xl bg-white p-6 shadow-sm border border-gray-200",a&&"hover:shadow-md hover:border-gray-300 cursor-pointer transition-all duration-200",s&&"cursor-pointer",t),onClick:s,children:e}),ir=({isOpen:e,onClose:t,title:s,children:a,size:n="md"})=>{if(!e)return null;const i={sm:"max-w-sm",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl","2xl":"max-w-5xl","3xl":"max-w-6xl","4xl":"max-w-7xl","5xl":"max-w-full"};return r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[r.jsx("div",{className:"fixed inset-0 bg-black/50 transition-opacity",onClick:t}),r.jsxs("div",{className:qu("relative w-full rounded-2xl bg-white p-6 shadow-2xl","transform transition-all duration-200",i[n]),children:[r.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s}),r.jsx("button",{onClick:t,className:"rounded-lg p-2 text-gray-400 hover:bg-gray-100 hover:text-gray-600 transition-colors",children:r.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a]})]})})},Rg=({children:e,className:t})=>r.jsx("div",{className:"overflow-x-auto rounded-xl border border-gray-200 bg-white",children:r.jsx("table",{className:qu("min-w-full divide-y divide-gray-200",t),children:e})}),Xr=({children:e,className:t})=>r.jsx("th",{className:qu("bg-gray-50 px-4 py-3.5 text-left text-xs font-semibold uppercase tracking-wider text-gray-600",t),children:e}),Zr=({children:e,className:t})=>r.jsx("td",{className:qu("px-4 py-4 text-sm text-gray-700",t),children:e}),Bp=A.forwardRef(({className:e,label:t,error:s,...a},n)=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{ref:n,type:"checkbox",className:qu("h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500",e),...a}),t&&r.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:t}),s&&r.jsx("p",{className:"mt-1.5 text-sm text-red-600",children:s})]})),Yse=({icon:e,title:t,description:s,actionLabel:a,onAction:n})=>r.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[e&&r.jsx(e,{className:"h-12 w-12 text-gray-400 mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:t}),s&&r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:s}),a&&n&&r.jsx("button",{onClick:n,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:a})]});function uz(e){var t,s,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(s=uz(e[t]))&&(a&&(a+=" "),a+=s)}else for(s in e)e[s]&&(a&&(a+=" "),a+=s);return a}function Es(){for(var e,t,s=0,a="",n=arguments.length;s<n;s++)(e=arguments[s])&&(t=uz(e))&&(a&&(a+=" "),a+=t);return a}var Xse=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function X6(e){if(typeof e!="string")return!1;var t=Xse;return t.includes(e)}var Zse=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Jse=new Set(Zse);function hz(e){return typeof e!="string"?!1:Jse.has(e)}function fz(e){return typeof e=="string"&&e.startsWith("data-")}function Gl(e){if(typeof e!="object"||e===null)return{};var t={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(hz(s)||fz(s))&&(t[s]=e[s]);return t}function G0(e){if(e==null)return null;if(A.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Gl(t)}return typeof e=="object"&&!Array.isArray(e)?Gl(e):null}function Al(e){var t={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(hz(s)||fz(s)||X6(s))&&(t[s]=e[s]);return t}function Qse(e){return e==null?null:A.isValidElement(e)?Al(e.props):typeof e=="object"&&!Array.isArray(e)?Al(e):null}var eae=["children","width","height","viewBox","className","style","title","desc"];function Uk(){return Uk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Uk.apply(null,arguments)}function tae(e,t){if(e==null)return{};var s,a,n=rae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function rae(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var Z6=A.forwardRef((e,t)=>{var{children:s,width:a,height:n,viewBox:i,className:l,style:o,title:c,desc:d}=e,h=tae(e,eae),m=i||{width:a,height:n,x:0,y:0},p=Es("recharts-surface",l);return A.createElement("svg",Uk({},Al(h),{className:p,width:a,height:n,style:o,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),A.createElement("title",null,c),A.createElement("desc",null,d),s)}),sae=["children","className"];function zk(){return zk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},zk.apply(null,arguments)}function aae(e,t){if(e==null)return{};var s,a,n=nae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function nae(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var jn=A.forwardRef((e,t)=>{var{children:s,className:a}=e,n=aae(e,sae),i=Es("recharts-layer",a);return A.createElement("g",zk({className:i},Al(n),{ref:t}),s)}),mz=A.createContext(null),iae=()=>A.useContext(mz);function wa(e){return function(){return e}}const xz=Math.cos,rN=Math.sin,Zd=Math.sqrt,sN=Math.PI,Iw=2*sN,$k=Math.PI,Hk=2*$k,p0=1e-6,lae=Hk-p0;function pz(e){this._+=e[0];for(let t=1,s=e.length;t<s;++t)this._+=arguments[t]+e[t]}function oae(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return pz;const s=10**t;return function(a){this._+=a[0];for(let n=1,i=a.length;n<i;++n)this._+=Math.round(arguments[n]*s)/s+a[n]}}class cae{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?pz:oae(t)}moveTo(t,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+s}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,s){this._append`L${this._x1=+t},${this._y1=+s}`}quadraticCurveTo(t,s,a,n){this._append`Q${+t},${+s},${this._x1=+a},${this._y1=+n}`}bezierCurveTo(t,s,a,n,i,l){this._append`C${+t},${+s},${+a},${+n},${this._x1=+i},${this._y1=+l}`}arcTo(t,s,a,n,i){if(t=+t,s=+s,a=+a,n=+n,i=+i,i<0)throw new Error(`negative radius: ${i}`);let l=this._x1,o=this._y1,c=a-t,d=n-s,h=l-t,m=o-s,p=h*h+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=s}`;else if(p>p0)if(!(Math.abs(m*c-d*h)>p0)||!i)this._append`L${this._x1=t},${this._y1=s}`;else{let x=a-l,v=n-o,y=c*c+d*d,b=x*x+v*v,j=Math.sqrt(y),S=Math.sqrt(p),w=i*Math.tan(($k-Math.acos((y+p-b)/(2*j*S)))/2),k=w/S,_=w/j;Math.abs(k-1)>p0&&this._append`L${t+k*h},${s+k*m}`,this._append`A${i},${i},0,0,${+(m*x>h*v)},${this._x1=t+_*c},${this._y1=s+_*d}`}}arc(t,s,a,n,i,l){if(t=+t,s=+s,a=+a,l=!!l,a<0)throw new Error(`negative radius: ${a}`);let o=a*Math.cos(n),c=a*Math.sin(n),d=t+o,h=s+c,m=1^l,p=l?n-i:i-n;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>p0||Math.abs(this._y1-h)>p0)&&this._append`L${d},${h}`,a&&(p<0&&(p=p%Hk+Hk),p>lae?this._append`A${a},${a},0,1,${m},${t-o},${s-c}A${a},${a},0,1,${m},${this._x1=d},${this._y1=h}`:p>p0&&this._append`A${a},${a},0,${+(p>=$k)},${m},${this._x1=t+a*Math.cos(i)},${this._y1=s+a*Math.sin(i)}`)}rect(t,s,a,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+s}h${a=+a}v${+n}h${-a}Z`}toString(){return this._}}function J6(e){let t=3;return e.digits=function(s){if(!arguments.length)return t;if(s==null)t=null;else{const a=Math.floor(s);if(!(a>=0))throw new RangeError(`invalid digits: ${s}`);t=a}return e},()=>new cae(t)}function Q6(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function gz(e){this._context=e}gz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Bw(e){return new gz(e)}function vz(e){return e[0]}function yz(e){return e[1]}function bz(e,t){var s=wa(!0),a=null,n=Bw,i=null,l=J6(o);e=typeof e=="function"?e:e===void 0?vz:wa(e),t=typeof t=="function"?t:t===void 0?yz:wa(t);function o(c){var d,h=(c=Q6(c)).length,m,p=!1,x;for(a==null&&(i=n(x=l())),d=0;d<=h;++d)!(d<h&&s(m=c[d],d,c))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+e(m,d,c),+t(m,d,c));if(x)return i=null,x+""||null}return o.x=function(c){return arguments.length?(e=typeof c=="function"?c:wa(+c),o):e},o.y=function(c){return arguments.length?(t=typeof c=="function"?c:wa(+c),o):t},o.defined=function(c){return arguments.length?(s=typeof c=="function"?c:wa(!!c),o):s},o.curve=function(c){return arguments.length?(n=c,a!=null&&(i=n(a)),o):n},o.context=function(c){return arguments.length?(c==null?a=i=null:i=n(a=c),o):a},o}function t2(e,t,s){var a=null,n=wa(!0),i=null,l=Bw,o=null,c=J6(d);e=typeof e=="function"?e:e===void 0?vz:wa(+e),t=typeof t=="function"?t:wa(t===void 0?0:+t),s=typeof s=="function"?s:s===void 0?yz:wa(+s);function d(m){var p,x,v,y=(m=Q6(m)).length,b,j=!1,S,w=new Array(y),k=new Array(y);for(i==null&&(o=l(S=c())),p=0;p<=y;++p){if(!(p<y&&n(b=m[p],p,m))===j)if(j=!j)x=p,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),v=p-1;v>=x;--v)o.point(w[v],k[v]);o.lineEnd(),o.areaEnd()}j&&(w[p]=+e(b,p,m),k[p]=+t(b,p,m),o.point(a?+a(b,p,m):w[p],s?+s(b,p,m):k[p]))}if(S)return o=null,S+""||null}function h(){return bz().defined(n).curve(l).context(i)}return d.x=function(m){return arguments.length?(e=typeof m=="function"?m:wa(+m),a=null,d):e},d.x0=function(m){return arguments.length?(e=typeof m=="function"?m:wa(+m),d):e},d.x1=function(m){return arguments.length?(a=m==null?null:typeof m=="function"?m:wa(+m),d):a},d.y=function(m){return arguments.length?(t=typeof m=="function"?m:wa(+m),s=null,d):t},d.y0=function(m){return arguments.length?(t=typeof m=="function"?m:wa(+m),d):t},d.y1=function(m){return arguments.length?(s=m==null?null:typeof m=="function"?m:wa(+m),d):s},d.lineX0=d.lineY0=function(){return h().x(e).y(t)},d.lineY1=function(){return h().x(e).y(s)},d.lineX1=function(){return h().x(a).y(t)},d.defined=function(m){return arguments.length?(n=typeof m=="function"?m:wa(!!m),d):n},d.curve=function(m){return arguments.length?(l=m,i!=null&&(o=l(i)),d):l},d.context=function(m){return arguments.length?(m==null?i=o=null:o=l(i=m),d):i},d}class jz{constructor(t,s){this._context=t,this._x=s}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,s){switch(t=+t,s=+s,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,s):this._context.moveTo(t,s);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,s,t,s):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+s)/2,t,this._y0,t,s);break}}this._x0=t,this._y0=s}}function dae(e){return new jz(e,!0)}function uae(e){return new jz(e,!1)}const eC={draw(e,t){const s=Zd(t/sN);e.moveTo(s,0),e.arc(0,0,s,0,Iw)}},hae={draw(e,t){const s=Zd(t/5)/2;e.moveTo(-3*s,-s),e.lineTo(-s,-s),e.lineTo(-s,-3*s),e.lineTo(s,-3*s),e.lineTo(s,-s),e.lineTo(3*s,-s),e.lineTo(3*s,s),e.lineTo(s,s),e.lineTo(s,3*s),e.lineTo(-s,3*s),e.lineTo(-s,s),e.lineTo(-3*s,s),e.closePath()}},Nz=Zd(1/3),fae=Nz*2,mae={draw(e,t){const s=Zd(t/fae),a=s*Nz;e.moveTo(0,-s),e.lineTo(a,0),e.lineTo(0,s),e.lineTo(-a,0),e.closePath()}},xae={draw(e,t){const s=Zd(t),a=-s/2;e.rect(a,a,s,s)}},pae=.8908130915292852,wz=rN(sN/10)/rN(7*sN/10),gae=rN(Iw/10)*wz,vae=-xz(Iw/10)*wz,yae={draw(e,t){const s=Zd(t*pae),a=gae*s,n=vae*s;e.moveTo(0,-s),e.lineTo(a,n);for(let i=1;i<5;++i){const l=Iw*i/5,o=xz(l),c=rN(l);e.lineTo(c*s,-o*s),e.lineTo(o*a-c*n,c*a+o*n)}e.closePath()}},LS=Zd(3),bae={draw(e,t){const s=-Zd(t/(LS*3));e.moveTo(0,s*2),e.lineTo(-LS*s,-s),e.lineTo(LS*s,-s),e.closePath()}},Tc=-.5,Ec=Zd(3)/2,qk=1/Zd(12),jae=(qk/2+1)*3,Nae={draw(e,t){const s=Zd(t/jae),a=s/2,n=s*qk,i=a,l=s*qk+s,o=-i,c=l;e.moveTo(a,n),e.lineTo(i,l),e.lineTo(o,c),e.lineTo(Tc*a-Ec*n,Ec*a+Tc*n),e.lineTo(Tc*i-Ec*l,Ec*i+Tc*l),e.lineTo(Tc*o-Ec*c,Ec*o+Tc*c),e.lineTo(Tc*a+Ec*n,Tc*n-Ec*a),e.lineTo(Tc*i+Ec*l,Tc*l-Ec*i),e.lineTo(Tc*o+Ec*c,Tc*c-Ec*o),e.closePath()}};function wae(e,t){let s=null,a=J6(n);e=typeof e=="function"?e:wa(e||eC),t=typeof t=="function"?t:wa(t===void 0?64:+t);function n(){let i;if(s||(s=i=a()),e.apply(this,arguments).draw(s,+t.apply(this,arguments)),i)return s=null,i+""||null}return n.type=function(i){return arguments.length?(e=typeof i=="function"?i:wa(i),n):e},n.size=function(i){return arguments.length?(t=typeof i=="function"?i:wa(+i),n):t},n.context=function(i){return arguments.length?(s=i??null,n):s},n}function aN(){}function nN(e,t,s){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+s)/6)}function Sz(e){this._context=e}Sz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:nN(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:nN(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Sae(e){return new Sz(e)}function _z(e){this._context=e}_z.prototype={areaStart:aN,areaEnd:aN,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:nN(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _ae(e){return new _z(e)}function kz(e){this._context=e}kz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var s=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(s,a):this._context.moveTo(s,a);break;case 3:this._point=4;default:nN(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function kae(e){return new kz(e)}function Az(e){this._context=e}Az.prototype={areaStart:aN,areaEnd:aN,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Aae(e){return new Az(e)}function gD(e){return e<0?-1:1}function vD(e,t,s){var a=e._x1-e._x0,n=t-e._x1,i=(e._y1-e._y0)/(a||n<0&&-0),l=(s-e._y1)/(n||a<0&&-0),o=(i*n+l*a)/(a+n);return(gD(i)+gD(l))*Math.min(Math.abs(i),Math.abs(l),.5*Math.abs(o))||0}function yD(e,t){var s=e._x1-e._x0;return s?(3*(e._y1-e._y0)/s-t)/2:t}function IS(e,t,s){var a=e._x0,n=e._y0,i=e._x1,l=e._y1,o=(i-a)/3;e._context.bezierCurveTo(a+o,n+o*t,i-o,l-o*s,i,l)}function iN(e){this._context=e}iN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:IS(this,this._t0,yD(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var s=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,IS(this,yD(this,s=vD(this,e,t)),s);break;default:IS(this,this._t0,s=vD(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=s}}};function Cz(e){this._context=new Tz(e)}(Cz.prototype=Object.create(iN.prototype)).point=function(e,t){iN.prototype.point.call(this,t,e)};function Tz(e){this._context=e}Tz.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,s,a,n,i){this._context.bezierCurveTo(t,e,a,s,i,n)}};function Cae(e){return new iN(e)}function Tae(e){return new Cz(e)}function Ez(e){this._context=e}Ez.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,s=e.length;if(s)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),s===2)this._context.lineTo(e[1],t[1]);else for(var a=bD(e),n=bD(t),i=0,l=1;l<s;++i,++l)this._context.bezierCurveTo(a[0][i],n[0][i],a[1][i],n[1][i],e[l],t[l]);(this._line||this._line!==0&&s===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function bD(e){var t,s=e.length-1,a,n=new Array(s),i=new Array(s),l=new Array(s);for(n[0]=0,i[0]=2,l[0]=e[0]+2*e[1],t=1;t<s-1;++t)n[t]=1,i[t]=4,l[t]=4*e[t]+2*e[t+1];for(n[s-1]=2,i[s-1]=7,l[s-1]=8*e[s-1]+e[s],t=1;t<s;++t)a=n[t]/i[t-1],i[t]-=a,l[t]-=a*l[t-1];for(n[s-1]=l[s-1]/i[s-1],t=s-2;t>=0;--t)n[t]=(l[t]-n[t+1])/i[t];for(i[s-1]=(e[s]+n[s-1])/2,t=0;t<s-1;++t)i[t]=2*e[t+1]-n[t+1];return[n,i]}function Eae(e){return new Ez(e)}function Uw(e,t){this._context=e,this._t=t}Uw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var s=this._x*(1-this._t)+e*this._t;this._context.lineTo(s,this._y),this._context.lineTo(s,t)}break}}this._x=e,this._y=t}};function Pae(e){return new Uw(e,.5)}function Oae(e){return new Uw(e,0)}function Dae(e){return new Uw(e,1)}function K0(e,t){if((l=e.length)>1)for(var s=1,a,n,i=e[t[0]],l,o=i.length;s<l;++s)for(n=i,i=e[t[s]],a=0;a<o;++a)i[a][1]+=i[a][0]=isNaN(n[a][1])?n[a][0]:n[a][1]}function Vk(e){for(var t=e.length,s=new Array(t);--t>=0;)s[t]=t;return s}function Rae(e,t){return e[t]}function Mae(e){const t=[];return t.key=e,t}function Fae(){var e=wa([]),t=Vk,s=K0,a=Rae;function n(i){var l=Array.from(e.apply(this,arguments),Mae),o,c=l.length,d=-1,h;for(const m of i)for(o=0,++d;o<c;++o)(l[o][d]=[0,+a(m,l[o].key,d,i)]).data=m;for(o=0,h=Q6(t(l));o<c;++o)l[h[o]].index=o;return s(l,h),l}return n.keys=function(i){return arguments.length?(e=typeof i=="function"?i:wa(Array.from(i)),n):e},n.value=function(i){return arguments.length?(a=typeof i=="function"?i:wa(+i),n):a},n.order=function(i){return arguments.length?(t=i==null?Vk:typeof i=="function"?i:wa(Array.from(i)),n):t},n.offset=function(i){return arguments.length?(s=i??K0,n):s},n}function Lae(e,t){if((a=e.length)>0){for(var s,a,n=0,i=e[0].length,l;n<i;++n){for(l=s=0;s<a;++s)l+=e[s][n][1]||0;if(l)for(s=0;s<a;++s)e[s][n][1]/=l}K0(e,t)}}function Iae(e,t){if((n=e.length)>0){for(var s=0,a=e[t[0]],n,i=a.length;s<i;++s){for(var l=0,o=0;l<n;++l)o+=e[l][s][1]||0;a[s][1]+=a[s][0]=-o/2}K0(e,t)}}function Bae(e,t){if(!(!((l=e.length)>0)||!((i=(n=e[t[0]]).length)>0))){for(var s=0,a=1,n,i,l;a<i;++a){for(var o=0,c=0,d=0;o<l;++o){for(var h=e[t[o]],m=h[a][1]||0,p=h[a-1][1]||0,x=(m-p)/2,v=0;v<o;++v){var y=e[t[v]],b=y[a][1]||0,j=y[a-1][1]||0;x+=b-j}c+=m,d+=x*m}n[a-1][1]+=n[a-1][0]=s,c&&(s-=d/c)}n[a-1][1]+=n[a-1][0]=s,K0(e,t)}}var BS={},US={},jD;function Uae(){return jD||(jD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){return s==="__proto__"}e.isUnsafeProperty=t})(US)),US}var zS={},ND;function Pz(){return ND||(ND=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){switch(typeof s){case"number":case"symbol":return!1;case"string":return s.includes(".")||s.includes("[")||s.includes("]")}}e.isDeepKey=t})(zS)),zS}var $S={},wD;function tC(){return wD||(wD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){return typeof s=="string"||typeof s=="symbol"?s:Object.is(s?.valueOf?.(),-0)?"-0":String(s)}e.toKey=t})($S)),$S}var HS={},qS={},SD;function zae(){return SD||(SD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){if(s==null)return"";if(typeof s=="string")return s;if(Array.isArray(s))return s.map(t).join(",");const a=String(s);return a==="0"&&Object.is(Number(s),-0)?"-0":a}e.toString=t})(qS)),qS}var _D;function rC(){return _D||(_D=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zae(),s=tC();function a(n){if(Array.isArray(n))return n.map(s.toKey);if(typeof n=="symbol")return[n];n=t.toString(n);const i=[],l=n.length;if(l===0)return i;let o=0,c="",d="",h=!1;for(n.charCodeAt(0)===46&&(i.push(""),o++);o<l;){const m=n[o];d?m==="\\"&&o+1<l?(o++,c+=n[o]):m===d?d="":c+=m:h?m==='"'||m==="'"?d=m:m==="]"?(h=!1,i.push(c),c=""):c+=m:m==="["?(h=!0,c&&(i.push(c),c="")):m==="."?c&&(i.push(c),c=""):c+=m,o++}return c&&i.push(c),i}e.toPath=a})(HS)),HS}var kD;function sC(){return kD||(kD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Uae(),s=Pz(),a=tC(),n=rC();function i(o,c,d){if(o==null)return d;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return d;const h=o[c];return h===void 0?s.isDeepKey(c)?i(o,n.toPath(c),d):d:h}case"number":case"symbol":{typeof c=="number"&&(c=a.toKey(c));const h=o[c];return h===void 0?d:h}default:{if(Array.isArray(c))return l(o,c,d);if(Object.is(c?.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return d;const h=o[c];return h===void 0?d:h}}}function l(o,c,d){if(c.length===0)return d;let h=o;for(let m=0;m<c.length;m++){if(h==null||t.isUnsafeProperty(c[m]))return d;h=h[c[m]]}return h===void 0?d:h}e.get=i})(BS)),BS}var VS,AD;function $ae(){return AD||(AD=1,VS=sC().get),VS}var Hae=$ae();const Y0=sf(Hae);var qae=4;function om(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:qae,s=10**t,a=Math.round(e*s)/s;return Object.is(a,-0)?0:a}function pn(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),a=1;a<t;a++)s[a-1]=arguments[a];return e.reduce((n,i,l)=>{var o=s[l-1];return typeof o=="string"?n+o+i:o!==void 0?n+om(o)+i:n+i},"")}var Fi=e=>e===0?0:e>0?1:-1,Xc=e=>typeof e=="number"&&e!=+e,Kh=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Wt=e=>(typeof e=="number"||e instanceof Number)&&!Xc(e),Fu=e=>Wt(e)||typeof e=="string",Vae=0,Fy=e=>{var t=++Vae;return"".concat(e||"").concat(t)},Sl=function(t,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Wt(t)&&typeof t!="string")return a;var i;if(Kh(t)){if(s==null)return a;var l=t.indexOf("%");i=s*parseFloat(t.slice(0,l))/100}else i=+t;return Xc(i)&&(i=a),n&&s!=null&&i>s&&(i=s),i},Oz=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,s={},a=0;a<t;a++)if(!s[String(e[a])])s[String(e[a])]=!0;else return!0;return!1};function Hs(e,t,s){return Wt(e)&&Wt(t)?om(e+s*(t-e)):t}function Dz(e,t,s){if(!(!e||!e.length))return e.find(a=>a&&(typeof t=="function"?t(a):Y0(a,t))===s)}var La=e=>e===null||typeof e>"u",Nb=e=>La(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Wae(e){return e!=null}function wb(){}var Gae=["type","size","sizeType"];function Wk(){return Wk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Wk.apply(null,arguments)}function CD(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function TD(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?CD(Object(s),!0).forEach(function(a){Kae(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):CD(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Kae(e,t,s){return(t=Yae(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Yae(e){var t=Xae(e,"string");return typeof t=="symbol"?t:t+""}function Xae(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zae(e,t){if(e==null)return{};var s,a,n=Jae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Jae(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var Rz={symbolCircle:eC,symbolCross:hae,symbolDiamond:mae,symbolSquare:xae,symbolStar:yae,symbolTriangle:bae,symbolWye:Nae},Qae=Math.PI/180,ene=e=>{var t="symbol".concat(Nb(e));return Rz[t]||eC},tne=(e,t,s)=>{if(t==="area")return e;switch(s){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*Qae;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.tan(a)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},rne=(e,t)=>{Rz["symbol".concat(Nb(e))]=t},aC=e=>{var{type:t="circle",size:s=64,sizeType:a="area"}=e,n=Zae(e,Gae),i=TD(TD({},n),{},{type:t,size:s,sizeType:a}),l="circle";typeof t=="string"&&(l=t);var o=()=>{var p=ene(l),x=wae().type(p).size(tne(s,a,l)),v=x();if(v!==null)return v},{className:c,cx:d,cy:h}=i,m=Al(i);return Wt(d)&&Wt(h)&&Wt(s)?A.createElement("path",Wk({},m,{className:Es("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(h,")"),d:o()})):null};aC.registerSymbol=rne;var Mz=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,nC=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var s=e;if(A.isValidElement(e)&&(s=e.props),typeof s!="object"&&typeof s!="function")return null;var a={};return Object.keys(s).forEach(n=>{X6(n)&&(a[n]=(i=>s[n](s,i)))}),a},sne=(e,t,s)=>a=>(e(t,s,a),null),Sb=(e,t,s)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var a=null;return Object.keys(e).forEach(n=>{var i=e[n];X6(n)&&typeof i=="function"&&(a||(a={}),a[n]=sne(i,t,s))}),a};function ED(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function ane(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?ED(Object(s),!0).forEach(function(a){nne(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ED(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function nne(e,t,s){return(t=ine(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function ine(e){var t=lne(e,"string");return typeof t=="symbol"?t:t+""}function lne(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wn(e,t){var s=ane({},e),a=t,n=Object.keys(t),i=n.reduce((l,o)=>(l[o]===void 0&&a[o]!==void 0&&(l[o]=a[o]),l),s);return i}function lN(){return lN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},lN.apply(null,arguments)}function PD(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function one(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?PD(Object(s),!0).forEach(function(a){cne(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):PD(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function cne(e,t,s){return(t=dne(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function dne(e){var t=une(e,"string");return typeof t=="symbol"?t:t+""}function une(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lc=32,hne={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function fne(e){var{data:t,iconType:s,inactiveColor:a}=e,n=Lc/2,i=Lc/6,l=Lc/3,o=t.inactive?a:t.color,c=s??t.type;if(c==="none")return null;if(c==="plainline"){var d;return A.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(d=t.payload)===null||d===void 0?void 0:d.strokeDasharray,x1:0,y1:n,x2:Lc,y2:n,className:"recharts-legend-icon"})}if(c==="line")return A.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(n,"h").concat(l,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*l,",").concat(n,`
            H`).concat(Lc,"M").concat(2*l,",").concat(n,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(l,",").concat(n),className:"recharts-legend-icon"});if(c==="rect")return A.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(Lc/8,"h").concat(Lc,"v").concat(Lc*3/4,"h").concat(-Lc,"z"),className:"recharts-legend-icon"});if(A.isValidElement(t.legendIcon)){var h=one({},t);return delete h.legendIcon,A.cloneElement(t.legendIcon,h)}return A.createElement(aC,{fill:o,cx:n,cy:n,size:Lc,sizeType:"diameter",type:c})}function mne(e){var{payload:t,iconSize:s,layout:a,formatter:n,inactiveColor:i,iconType:l}=e,o={x:0,y:0,width:Lc,height:Lc},c={display:a==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((h,m)=>{var p=h.formatter||n,x=Es({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:h.inactive});if(h.type==="none")return null;var v=h.inactive?i:h.color,y=p?p(h.value,h,m):h.value;return A.createElement("li",lN({className:x,style:c,key:"legend-item-".concat(m)},Sb(e,h,m)),A.createElement(Z6,{width:s,height:s,viewBox:o,style:d,"aria-label":"".concat(y," legend icon")},A.createElement(fne,{data:h,iconType:l,inactiveColor:i})),A.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},y))})}var xne=e=>{var t=wn(e,hne),{payload:s,layout:a,align:n}=t;if(!s||!s.length)return null;var i={padding:0,margin:0,textAlign:a==="horizontal"?n:"left"};return A.createElement("ul",{className:"recharts-default-legend",style:i},A.createElement(mne,lN({},t,{payload:s})))},WS={},GS={},OD;function pne(){return OD||(OD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s,a){const n=new Map;for(let i=0;i<s.length;i++){const l=s[i],o=a(l);n.has(o)||n.set(o,l)}return Array.from(n.values())}e.uniqBy=t})(GS)),GS}var KS={},DD;function Fz(){return DD||(DD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){return s}e.identity=t})(KS)),KS}var YS={},XS={},ZS={},RD;function gne(){return RD||(RD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){return Number.isSafeInteger(s)&&s>=0}e.isLength=t})(ZS)),ZS}var MD;function iC(){return MD||(MD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gne();function s(a){return a!=null&&typeof a!="function"&&t.isLength(a.length)}e.isArrayLike=s})(XS)),XS}var JS={},FD;function vne(){return FD||(FD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){return typeof s=="object"&&s!==null}e.isObjectLike=t})(JS)),JS}var LD;function yne(){return LD||(LD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iC(),s=vne();function a(n){return s.isObjectLike(n)&&t.isArrayLike(n)}e.isArrayLikeObject=a})(YS)),YS}var QS={},e3={},ID;function bne(){return ID||(ID=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sC();function s(a){return function(n){return t.get(n,a)}}e.property=s})(e3)),e3}var t3={},r3={},s3={},a3={},BD;function Lz(){return BD||(BD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){return s!==null&&(typeof s=="object"||typeof s=="function")}e.isObject=t})(a3)),a3}var n3={},UD;function Iz(){return UD||(UD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){return s==null||typeof s!="object"&&typeof s!="function"}e.isPrimitive=t})(n3)),n3}var i3={},zD;function Bz(){return zD||(zD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s,a){return s===a||Number.isNaN(s)&&Number.isNaN(a)}e.eq=t})(i3)),i3}var $D;function jne(){return $D||($D=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Lz(),s=Iz(),a=Bz();function n(h,m,p){return typeof p!="function"?n(h,m,()=>{}):i(h,m,function x(v,y,b,j,S,w){const k=p(v,y,b,j,S,w);return k!==void 0?!!k:i(v,y,x,w)},new Map)}function i(h,m,p,x){if(m===h)return!0;switch(typeof m){case"object":return l(h,m,p,x);case"function":return Object.keys(m).length>0?i(h,{...m},p,x):a.eq(h,m);default:return t.isObject(h)?typeof m=="string"?m==="":!0:a.eq(h,m)}}function l(h,m,p,x){if(m==null)return!0;if(Array.isArray(m))return c(h,m,p,x);if(m instanceof Map)return o(h,m,p,x);if(m instanceof Set)return d(h,m,p,x);const v=Object.keys(m);if(h==null||s.isPrimitive(h))return v.length===0;if(v.length===0)return!0;if(x?.has(m))return x.get(m)===h;x?.set(m,h);try{for(let y=0;y<v.length;y++){const b=v[y];if(!s.isPrimitive(h)&&!(b in h)||m[b]===void 0&&h[b]!==void 0||m[b]===null&&h[b]!==null||!p(h[b],m[b],b,h,m,x))return!1}return!0}finally{x?.delete(m)}}function o(h,m,p,x){if(m.size===0)return!0;if(!(h instanceof Map))return!1;for(const[v,y]of m.entries()){const b=h.get(v);if(p(b,y,v,h,m,x)===!1)return!1}return!0}function c(h,m,p,x){if(m.length===0)return!0;if(!Array.isArray(h))return!1;const v=new Set;for(let y=0;y<m.length;y++){const b=m[y];let j=!1;for(let S=0;S<h.length;S++){if(v.has(S))continue;const w=h[S];let k=!1;if(p(w,b,y,h,m,x)&&(k=!0),k){v.add(S),j=!0;break}}if(!j)return!1}return!0}function d(h,m,p,x){return m.size===0?!0:h instanceof Set?c([...h],[...m],p,x):!1}e.isMatchWith=n,e.isSetMatch=d})(s3)),s3}var HD;function Uz(){return HD||(HD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jne();function s(a,n){return t.isMatchWith(a,n,()=>{})}e.isMatch=s})(r3)),r3}var l3={},o3={},c3={},qD;function Nne(){return qD||(qD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){return Object.getOwnPropertySymbols(s).filter(a=>Object.prototype.propertyIsEnumerable.call(s,a))}e.getSymbols=t})(c3)),c3}var d3={},VD;function zz(){return VD||(VD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){return s==null?s===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(s)}e.getTag=t})(d3)),d3}var u3={},WD;function $z(){return WD||(WD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",s="[object String]",a="[object Number]",n="[object Boolean]",i="[object Arguments]",l="[object Symbol]",o="[object Date]",c="[object Map]",d="[object Set]",h="[object Array]",m="[object Function]",p="[object ArrayBuffer]",x="[object Object]",v="[object Error]",y="[object DataView]",b="[object Uint8Array]",j="[object Uint8ClampedArray]",S="[object Uint16Array]",w="[object Uint32Array]",k="[object BigUint64Array]",_="[object Int8Array]",O="[object Int16Array]",E="[object Int32Array]",F="[object BigInt64Array]",I="[object Float32Array]",U="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=p,e.arrayTag=h,e.bigInt64ArrayTag=F,e.bigUint64ArrayTag=k,e.booleanTag=n,e.dataViewTag=y,e.dateTag=o,e.errorTag=v,e.float32ArrayTag=I,e.float64ArrayTag=U,e.functionTag=m,e.int16ArrayTag=O,e.int32ArrayTag=E,e.int8ArrayTag=_,e.mapTag=c,e.numberTag=a,e.objectTag=x,e.regexpTag=t,e.setTag=d,e.stringTag=s,e.symbolTag=l,e.uint16ArrayTag=S,e.uint32ArrayTag=w,e.uint8ArrayTag=b,e.uint8ClampedArrayTag=j})(u3)),u3}var h3={},GD;function wne(){return GD||(GD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){return ArrayBuffer.isView(s)&&!(s instanceof DataView)}e.isTypedArray=t})(h3)),h3}var KD;function Hz(){return KD||(KD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nne(),s=zz(),a=$z(),n=Iz(),i=wne();function l(h,m){return o(h,void 0,h,new Map,m)}function o(h,m,p,x=new Map,v=void 0){const y=v?.(h,m,p,x);if(y!==void 0)return y;if(n.isPrimitive(h))return h;if(x.has(h))return x.get(h);if(Array.isArray(h)){const b=new Array(h.length);x.set(h,b);for(let j=0;j<h.length;j++)b[j]=o(h[j],j,p,x,v);return Object.hasOwn(h,"index")&&(b.index=h.index),Object.hasOwn(h,"input")&&(b.input=h.input),b}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const b=new RegExp(h.source,h.flags);return b.lastIndex=h.lastIndex,b}if(h instanceof Map){const b=new Map;x.set(h,b);for(const[j,S]of h)b.set(j,o(S,j,p,x,v));return b}if(h instanceof Set){const b=new Set;x.set(h,b);for(const j of h)b.add(o(j,void 0,p,x,v));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(i.isTypedArray(h)){const b=new(Object.getPrototypeOf(h)).constructor(h.length);x.set(h,b);for(let j=0;j<h.length;j++)b[j]=o(h[j],j,p,x,v);return b}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const b=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return x.set(h,b),c(b,h,p,x,v),b}if(typeof File<"u"&&h instanceof File){const b=new File([h],h.name,{type:h.type});return x.set(h,b),c(b,h,p,x,v),b}if(typeof Blob<"u"&&h instanceof Blob){const b=new Blob([h],{type:h.type});return x.set(h,b),c(b,h,p,x,v),b}if(h instanceof Error){const b=new h.constructor;return x.set(h,b),b.message=h.message,b.name=h.name,b.stack=h.stack,b.cause=h.cause,c(b,h,p,x,v),b}if(h instanceof Boolean){const b=new Boolean(h.valueOf());return x.set(h,b),c(b,h,p,x,v),b}if(h instanceof Number){const b=new Number(h.valueOf());return x.set(h,b),c(b,h,p,x,v),b}if(h instanceof String){const b=new String(h.valueOf());return x.set(h,b),c(b,h,p,x,v),b}if(typeof h=="object"&&d(h)){const b=Object.create(Object.getPrototypeOf(h));return x.set(h,b),c(b,h,p,x,v),b}return h}function c(h,m,p=h,x,v){const y=[...Object.keys(m),...t.getSymbols(m)];for(let b=0;b<y.length;b++){const j=y[b],S=Object.getOwnPropertyDescriptor(h,j);(S==null||S.writable)&&(h[j]=o(m[j],j,p,x,v))}}function d(h){switch(s.getTag(h)){case a.argumentsTag:case a.arrayTag:case a.arrayBufferTag:case a.dataViewTag:case a.booleanTag:case a.dateTag:case a.float32ArrayTag:case a.float64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.mapTag:case a.numberTag:case a.objectTag:case a.regexpTag:case a.setTag:case a.stringTag:case a.symbolTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=o,e.copyProperties=c})(o3)),o3}var YD;function Sne(){return YD||(YD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hz();function s(a){return t.cloneDeepWithImpl(a,void 0,a,new Map,void 0)}e.cloneDeep=s})(l3)),l3}var XD;function _ne(){return XD||(XD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Uz(),s=Sne();function a(n){return n=s.cloneDeep(n),i=>t.isMatch(i,n)}e.matches=a})(t3)),t3}var f3={},m3={},x3={},ZD;function kne(){return ZD||(ZD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hz(),s=$z();function a(n,i){return t.cloneDeepWith(n,(l,o,c,d)=>{const h=i?.(l,o,c,d);if(h!==void 0)return h;if(typeof n=="object")switch(Object.prototype.toString.call(n)){case s.numberTag:case s.stringTag:case s.booleanTag:{const m=new n.constructor(n?.valueOf());return t.copyProperties(m,n),m}case s.argumentsTag:{const m={};return t.copyProperties(m,n),m.length=n.length,m[Symbol.iterator]=n[Symbol.iterator],m}default:return}})}e.cloneDeepWith=a})(x3)),x3}var JD;function Ane(){return JD||(JD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kne();function s(a){return t.cloneDeepWith(a)}e.cloneDeep=s})(m3)),m3}var p3={},g3={},QD;function qz(){return QD||(QD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function s(a,n=Number.MAX_SAFE_INTEGER){switch(typeof a){case"number":return Number.isInteger(a)&&a>=0&&a<n;case"symbol":return!1;case"string":return t.test(a)}}e.isIndex=s})(g3)),g3}var v3={},eR;function Cne(){return eR||(eR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zz();function s(a){return a!==null&&typeof a=="object"&&t.getTag(a)==="[object Arguments]"}e.isArguments=s})(v3)),v3}var tR;function Tne(){return tR||(tR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Pz(),s=qz(),a=Cne(),n=rC();function i(l,o){let c;if(Array.isArray(o)?c=o:typeof o=="string"&&t.isDeepKey(o)&&l?.[o]==null?c=n.toPath(o):c=[o],c.length===0)return!1;let d=l;for(let h=0;h<c.length;h++){const m=c[h];if((d==null||!Object.hasOwn(d,m))&&!((Array.isArray(d)||a.isArguments(d))&&s.isIndex(m)&&m<d.length))return!1;d=d[m]}return!0}e.has=i})(p3)),p3}var rR;function Ene(){return rR||(rR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Uz(),s=tC(),a=Ane(),n=sC(),i=Tne();function l(o,c){switch(typeof o){case"object":{Object.is(o?.valueOf(),-0)&&(o="-0");break}case"number":{o=s.toKey(o);break}}return c=a.cloneDeep(c),function(d){const h=n.get(d,o);return h===void 0?i.has(d,o):c===void 0?h===void 0:t.isMatch(h,c)}}e.matchesProperty=l})(f3)),f3}var sR;function Pne(){return sR||(sR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fz(),s=bne(),a=_ne(),n=Ene();function i(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?n.matchesProperty(l[0],l[1]):a.matches(l);case"string":case"symbol":case"number":return s.property(l)}}e.iteratee=i})(QS)),QS}var aR;function One(){return aR||(aR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pne(),s=Fz(),a=yne(),n=Pne();function i(l,o=s.identity){return a.isArrayLikeObject(l)?t.uniqBy(Array.from(l),n.iteratee(o)):[]}e.uniqBy=i})(WS)),WS}var y3,nR;function Dne(){return nR||(nR=1,y3=One().uniqBy),y3}var Rne=Dne();const iR=sf(Rne);function Vz(e,t,s){return t===!0?iR(e,s):typeof t=="function"?iR(e,t):e}var b3={exports:{}},j3={},N3={exports:{}},w3={};var lR;function Mne(){if(lR)return w3;lR=1;var e=_g();function t(m,p){return m===p&&(m!==0||1/m===1/p)||m!==m&&p!==p}var s=typeof Object.is=="function"?Object.is:t,a=e.useState,n=e.useEffect,i=e.useLayoutEffect,l=e.useDebugValue;function o(m,p){var x=p(),v=a({inst:{value:x,getSnapshot:p}}),y=v[0].inst,b=v[1];return i(function(){y.value=x,y.getSnapshot=p,c(y)&&b({inst:y})},[m,x,p]),n(function(){return c(y)&&b({inst:y}),m(function(){c(y)&&b({inst:y})})},[m]),l(x),x}function c(m){var p=m.getSnapshot;m=m.value;try{var x=p();return!s(m,x)}catch{return!0}}function d(m,p){return p()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:o;return w3.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,w3}var oR;function Fne(){return oR||(oR=1,N3.exports=Mne()),N3.exports}var cR;function Lne(){if(cR)return j3;cR=1;var e=_g(),t=Fne();function s(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var a=typeof Object.is=="function"?Object.is:s,n=t.useSyncExternalStore,i=e.useRef,l=e.useEffect,o=e.useMemo,c=e.useDebugValue;return j3.useSyncExternalStoreWithSelector=function(d,h,m,p,x){var v=i(null);if(v.current===null){var y={hasValue:!1,value:null};v.current=y}else y=v.current;v=o(function(){function j(O){if(!S){if(S=!0,w=O,O=p(O),x!==void 0&&y.hasValue){var E=y.value;if(x(E,O))return k=E}return k=O}if(E=k,a(w,O))return E;var F=p(O);return x!==void 0&&x(E,F)?(w=O,E):(w=O,k=F)}var S=!1,w,k,_=m===void 0?null:m;return[function(){return j(h())},_===null?void 0:function(){return j(_())}]},[h,m,p,x]);var b=n(d,v[0],v[1]);return l(function(){y.hasValue=!0,y.value=b},[b]),c(b),b},j3}var dR;function Ine(){return dR||(dR=1,b3.exports=Lne()),b3.exports}var Bne=Ine(),lC=A.createContext(null),Une=e=>e,ka=()=>{var e=A.useContext(lC);return e?e.store.dispatch:Une},Fj=()=>{},zne=()=>Fj,$ne=(e,t)=>e===t;function rr(e){var t=A.useContext(lC);return Bne.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:zne,t?t.store.getState:Fj,t?t.store.getState:Fj,t?e:Fj,$ne)}function Hne(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function qne(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Vne(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(s=>typeof s=="function")){const s=e.map(a=>typeof a=="function"?`function ${a.name||"unnamed"}()`:typeof a).join(", ");throw new TypeError(`${t}[${s}]`)}}var uR=e=>Array.isArray(e)?e:[e];function Wne(e){const t=Array.isArray(e[0])?e[0]:e;return Vne(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Gne(e,t){const s=[],{length:a}=e;for(let n=0;n<a;n++)s.push(e[n].apply(null,t));return s}var Kne=class{constructor(e){this.value=e}deref(){return this.value}},Yne=typeof WeakRef<"u"?WeakRef:Kne,Xne=0,hR=1;function r2(){return{s:Xne,v:void 0,o:null,p:null}}function Wz(e,t={}){let s=r2();const{resultEqualityCheck:a}=t;let n,i=0;function l(){let o=s;const{length:c}=arguments;for(let m=0,p=c;m<p;m++){const x=arguments[m];if(typeof x=="function"||typeof x=="object"&&x!==null){let v=o.o;v===null&&(o.o=v=new WeakMap);const y=v.get(x);y===void 0?(o=r2(),v.set(x,o)):o=y}else{let v=o.p;v===null&&(o.p=v=new Map);const y=v.get(x);y===void 0?(o=r2(),v.set(x,o)):o=y}}const d=o;let h;if(o.s===hR)h=o.v;else if(h=e.apply(null,arguments),i++,a){const m=n?.deref?.()??n;m!=null&&a(m,h)&&(h=m,i!==0&&i--),n=typeof h=="object"&&h!==null||typeof h=="function"?new Yne(h):h}return d.s=hR,d.v=h,h}return l.clearCache=()=>{s=r2(),l.resetResultsCount()},l.resultsCount=()=>i,l.resetResultsCount=()=>{i=0},l}function Zne(e,...t){const s=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,a=(...n)=>{let i=0,l=0,o,c={},d=n.pop();typeof d=="object"&&(c=d,d=n.pop()),Hne(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const h={...s,...c},{memoize:m,memoizeOptions:p=[],argsMemoize:x=Wz,argsMemoizeOptions:v=[]}=h,y=uR(p),b=uR(v),j=Wne(n),S=m(function(){return i++,d.apply(null,arguments)},...y),w=x(function(){l++;const _=Gne(j,arguments);return o=S.apply(null,_),o},...b);return Object.assign(w,{resultFunc:d,memoizedResultFunc:S,dependencies:j,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>o,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:m,argsMemoize:x})};return Object.assign(a,{withTypes:()=>a}),a}var et=Zne(Wz),Jne=Object.assign((e,t=et)=>{qne(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const s=Object.keys(e),a=s.map(i=>e[i]);return t(a,(...i)=>i.reduce((l,o,c)=>(l[s[c]]=o,l),{}))},{withTypes:()=>Jne}),S3={},_3={},k3={},fR;function Qne(){return fR||(fR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="symbol"?1:a===null?2:a===void 0?3:a!==a?4:0}const s=(a,n,i)=>{if(a!==n){const l=t(a),o=t(n);if(l===o&&l===0){if(a<n)return i==="desc"?1:-1;if(a>n)return i==="desc"?-1:1}return i==="desc"?o-l:l-o}return 0};e.compareValues=s})(k3)),k3}var A3={},C3={},mR;function Gz(){return mR||(mR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){return typeof s=="symbol"||s instanceof Symbol}e.isSymbol=t})(C3)),C3}var xR;function eie(){return xR||(xR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gz(),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function n(i,l){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(a.test(i)||!s.test(i))||l!=null&&Object.hasOwn(l,i)}e.isKey=n})(A3)),A3}var pR;function tie(){return pR||(pR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qne(),s=eie(),a=rC();function n(i,l,o,c){if(i==null)return[];o=c?void 0:o,Array.isArray(i)||(i=Object.values(i)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(x=>String(x));const d=(x,v)=>{let y=x;for(let b=0;b<v.length&&y!=null;++b)y=y[v[b]];return y},h=(x,v)=>v==null||x==null?v:typeof x=="object"&&"key"in x?Object.hasOwn(v,x.key)?v[x.key]:d(v,x.path):typeof x=="function"?x(v):Array.isArray(x)?d(v,x):typeof v=="object"?v[x]:v,m=l.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||s.isKey(x)?x:{key:x,path:a.toPath(x)}));return i.map(x=>({original:x,criteria:m.map(v=>h(v,x))})).slice().sort((x,v)=>{for(let y=0;y<m.length;y++){const b=t.compareValues(x.criteria[y],v.criteria[y],o[y]);if(b!==0)return b}return 0}).map(x=>x.original)}e.orderBy=n})(_3)),_3}var T3={},gR;function rie(){return gR||(gR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s,a=1){const n=[],i=Math.floor(a),l=(o,c)=>{for(let d=0;d<o.length;d++){const h=o[d];Array.isArray(h)&&c<i?l(h,c+1):n.push(h)}};return l(s,0),n}e.flatten=t})(T3)),T3}var E3={},vR;function Kz(){return vR||(vR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qz(),s=iC(),a=Lz(),n=Bz();function i(l,o,c){return a.isObject(c)&&(typeof o=="number"&&s.isArrayLike(c)&&t.isIndex(o)&&o<c.length||typeof o=="string"&&o in c)?n.eq(c[o],l):!1}e.isIterateeCall=i})(E3)),E3}var yR;function sie(){return yR||(yR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tie(),s=rie(),a=Kz();function n(i,...l){const o=l.length;return o>1&&a.isIterateeCall(i,l[0],l[1])?l=[]:o>2&&a.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(i,s.flatten(l),["asc"])}e.sortBy=n})(S3)),S3}var P3,bR;function aie(){return bR||(bR=1,P3=sie().sortBy),P3}var nie=aie();const zw=sf(nie);var Yz=e=>e.legend.settings,iie=e=>e.legend.size,lie=e=>e.legend.payload,oie=et([lie,Yz],(e,t)=>{var{itemSorter:s}=t,a=e.flat(1);return s?zw(a,s):a});function cie(){return rr(oie)}var s2=1;function Xz(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,s]=A.useState({height:0,left:0,top:0,width:0}),a=A.useCallback(n=>{if(n!=null){var i=n.getBoundingClientRect(),l={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(l.height-t.height)>s2||Math.abs(l.left-t.left)>s2||Math.abs(l.top-t.top)>s2||Math.abs(l.width-t.width)>s2)&&s({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,a]}function Qi(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var die=typeof Symbol=="function"&&Symbol.observable||"@@observable",jR=die,O3=()=>Math.random().toString(36).substring(7).split("").join("."),uie={INIT:`@@redux/INIT${O3()}`,REPLACE:`@@redux/REPLACE${O3()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${O3()}`},oN=uie;function oC(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Zz(e,t,s){if(typeof e!="function")throw new Error(Qi(2));if(typeof t=="function"&&typeof s=="function"||typeof s=="function"&&typeof arguments[3]=="function")throw new Error(Qi(0));if(typeof t=="function"&&typeof s>"u"&&(s=t,t=void 0),typeof s<"u"){if(typeof s!="function")throw new Error(Qi(1));return s(Zz)(e,t)}let a=e,n=t,i=new Map,l=i,o=0,c=!1;function d(){l===i&&(l=new Map,i.forEach((b,j)=>{l.set(j,b)}))}function h(){if(c)throw new Error(Qi(3));return n}function m(b){if(typeof b!="function")throw new Error(Qi(4));if(c)throw new Error(Qi(5));let j=!0;d();const S=o++;return l.set(S,b),function(){if(j){if(c)throw new Error(Qi(6));j=!1,d(),l.delete(S),i=null}}}function p(b){if(!oC(b))throw new Error(Qi(7));if(typeof b.type>"u")throw new Error(Qi(8));if(typeof b.type!="string")throw new Error(Qi(17));if(c)throw new Error(Qi(9));try{c=!0,n=a(n,b)}finally{c=!1}return(i=l).forEach(S=>{S()}),b}function x(b){if(typeof b!="function")throw new Error(Qi(10));a=b,p({type:oN.REPLACE})}function v(){const b=m;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(Qi(11));function S(){const k=j;k.next&&k.next(h())}return S(),{unsubscribe:b(S)}},[jR](){return this}}}return p({type:oN.INIT}),{dispatch:p,subscribe:m,getState:h,replaceReducer:x,[jR]:v}}function hie(e){Object.keys(e).forEach(t=>{const s=e[t];if(typeof s(void 0,{type:oN.INIT})>"u")throw new Error(Qi(12));if(typeof s(void 0,{type:oN.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Qi(13))})}function Jz(e){const t=Object.keys(e),s={};for(let i=0;i<t.length;i++){const l=t[i];typeof e[l]=="function"&&(s[l]=e[l])}const a=Object.keys(s);let n;try{hie(s)}catch(i){n=i}return function(l={},o){if(n)throw n;let c=!1;const d={};for(let h=0;h<a.length;h++){const m=a[h],p=s[m],x=l[m],v=p(x,o);if(typeof v>"u")throw o&&o.type,new Error(Qi(14));d[m]=v,c=c||v!==x}return c=c||a.length!==Object.keys(l).length,c?d:l}}function cN(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,s)=>(...a)=>t(s(...a)))}function fie(...e){return t=>(s,a)=>{const n=t(s,a);let i=()=>{throw new Error(Qi(15))};const l={getState:n.getState,dispatch:(c,...d)=>i(c,...d)},o=e.map(c=>c(l));return i=cN(...o)(n.dispatch),{...n,dispatch:i}}}function Qz(e){return oC(e)&&"type"in e&&typeof e.type=="string"}var e$=Symbol.for("immer-nothing"),NR=Symbol.for("immer-draftable"),Kl=Symbol.for("immer-state");function Id(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var tc=Object,ug=tc.getPrototypeOf,dN="constructor",$w="prototype",Gk="configurable",uN="enumerable",Lj="writable",Ly="value",Yh=e=>!!e&&!!e[Kl];function Gd(e){return e?t$(e)||qw(e)||!!e[NR]||!!e[dN]?.[NR]||Vw(e)||Ww(e):!1}var mie=tc[$w][dN].toString(),wR=new WeakMap;function t$(e){if(!e||!cC(e))return!1;const t=ug(e);if(t===null||t===tc[$w])return!0;const s=tc.hasOwnProperty.call(t,dN)&&t[dN];if(s===Object)return!0;if(!Dp(s))return!1;let a=wR.get(s);return a===void 0&&(a=Function.toString.call(s),wR.set(s,a)),a===mie}function Hw(e,t,s=!0){_b(e)===0?(s?Reflect.ownKeys(e):tc.keys(e)).forEach(n=>{t(n,e[n],e)}):e.forEach((a,n)=>t(n,a,e))}function _b(e){const t=e[Kl];return t?t.type_:qw(e)?1:Vw(e)?2:Ww(e)?3:0}var SR=(e,t,s=_b(e))=>s===2?e.has(t):tc[$w].hasOwnProperty.call(e,t),Kk=(e,t,s=_b(e))=>s===2?e.get(t):e[t],hN=(e,t,s,a=_b(e))=>{a===2?e.set(t,s):a===3?e.add(s):e[t]=s};function xie(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var qw=Array.isArray,Vw=e=>e instanceof Map,Ww=e=>e instanceof Set,cC=e=>typeof e=="object",Dp=e=>typeof e=="function",D3=e=>typeof e=="boolean";function pie(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Ah=e=>e.copy_||e.base_,dC=e=>e.modified_?e.copy_:e.base_;function Yk(e,t){if(Vw(e))return new Map(e);if(Ww(e))return new Set(e);if(qw(e))return Array[$w].slice.call(e);const s=t$(e);if(t===!0||t==="class_only"&&!s){const a=tc.getOwnPropertyDescriptors(e);delete a[Kl];let n=Reflect.ownKeys(a);for(let i=0;i<n.length;i++){const l=n[i],o=a[l];o[Lj]===!1&&(o[Lj]=!0,o[Gk]=!0),(o.get||o.set)&&(a[l]={[Gk]:!0,[Lj]:!0,[uN]:o[uN],[Ly]:e[l]})}return tc.create(ug(e),a)}else{const a=ug(e);if(a!==null&&s)return{...e};const n=tc.create(a);return tc.assign(n,e)}}function uC(e,t=!1){return Gw(e)||Yh(e)||!Gd(e)||(_b(e)>1&&tc.defineProperties(e,{set:a2,add:a2,clear:a2,delete:a2}),tc.freeze(e),t&&Hw(e,(s,a)=>{uC(a,!0)},!1)),e}function gie(){Id(2)}var a2={[Ly]:gie};function Gw(e){return e===null||!cC(e)?!0:tc.isFrozen(e)}var fN="MapSet",Xk="Patches",_R="ArrayMethods",r$={};function X0(e){const t=r$[e];return t||Id(0,e),t}var kR=e=>!!r$[e],Iy,s$=()=>Iy,vie=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:kR(fN)?X0(fN):void 0,arrayMethodsPlugin_:kR(_R)?X0(_R):void 0});function AR(e,t){t&&(e.patchPlugin_=X0(Xk),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Zk(e){Jk(e),e.drafts_.forEach(yie),e.drafts_=null}function Jk(e){e===Iy&&(Iy=e.parent_)}var CR=e=>Iy=vie(Iy,e);function yie(e){const t=e[Kl];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function TR(e,t){t.unfinalizedDrafts_=t.drafts_.length;const s=t.drafts_[0];if(e!==void 0&&e!==s){s[Kl].modified_&&(Zk(t),Id(4)),Gd(e)&&(e=ER(t,e));const{patchPlugin_:n}=t;n&&n.generateReplacementPatches_(s[Kl].base_,e,t)}else e=ER(t,s);return bie(t,e,!0),Zk(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==e$?e:void 0}function ER(e,t){if(Gw(t))return t;const s=t[Kl];if(!s)return mN(t,e.handledSet_,e);if(!Kw(s,e))return t;if(!s.modified_)return s.base_;if(!s.finalized_){const{callbacks_:a}=s;if(a)for(;a.length>0;)a.pop()(e);i$(s,e)}return s.copy_}function bie(e,t,s=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&uC(t,s)}function a$(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Kw=(e,t)=>e.scope_===t,jie=[];function n$(e,t,s,a){const n=Ah(e),i=e.type_;if(a!==void 0&&Kk(n,a,i)===t){hN(n,a,s,i);return}if(!e.draftLocations_){const o=e.draftLocations_=new Map;Hw(n,(c,d)=>{if(Yh(d)){const h=o.get(d)||[];h.push(c),o.set(d,h)}})}const l=e.draftLocations_.get(t)??jie;for(const o of l)hN(n,o,s,i)}function Nie(e,t,s){e.callbacks_.push(function(n){const i=t;if(!i||!Kw(i,n))return;n.mapSetPlugin_?.fixSetContents(i);const l=dC(i);n$(e,i.draft_??i,l,s),i$(i,n)})}function i$(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0)){const{patchPlugin_:a}=t;if(a){const n=a.getPath(e);n&&a.generatePatches_(e,n,t)}a$(e)}}function wie(e,t,s){const{scope_:a}=e;if(Yh(s)){const n=s[Kl];Kw(n,a)&&n.callbacks_.push(function(){Ij(e);const l=dC(n);n$(e,s,l,t)})}else Gd(s)&&e.callbacks_.push(function(){const i=Ah(e);e.type_===3?i.has(s)&&mN(s,a.handledSet_,a):Kk(i,t,e.type_)===s&&a.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&mN(Kk(e.copy_,t,e.type_),a.handledSet_,a)})}function mN(e,t,s){return!s.immer_.autoFreeze_&&s.unfinalizedDrafts_<1||Yh(e)||t.has(e)||!Gd(e)||Gw(e)||(t.add(e),Hw(e,(a,n)=>{if(Yh(n)){const i=n[Kl];if(Kw(i,s)){const l=dC(i);hN(e,a,l,e.type_),a$(i)}}else Gd(n)&&mN(n,t,s)})),e}function Sie(e,t){const s=qw(e),a={type_:s?1:0,scope_:t?t.scope_:s$(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let n=a,i=xN;s&&(n=[a],i=By);const{revoke:l,proxy:o}=Proxy.revocable(n,i);return a.draft_=o,a.revoke_=l,[o,a]}var xN={get(e,t){if(t===Kl)return e;let s=e.scope_.arrayMethodsPlugin_;const a=e.type_===1&&typeof t=="string";if(a&&s?.isArrayOperationMethod(t))return s.createMethodInterceptor(e,t);const n=Ah(e);if(!SR(n,t,e.type_))return _ie(e,n,t);const i=n[t];if(e.finalized_||!Gd(i)||a&&e.operationMethod&&s?.isMutatingArrayMethod(e.operationMethod)&&pie(t))return i;if(i===R3(e.base_,t)){Ij(e);const l=e.type_===1?+t:t,o=eA(e.scope_,i,e,l);return e.copy_[l]=o}return i},has(e,t){return t in Ah(e)},ownKeys(e){return Reflect.ownKeys(Ah(e))},set(e,t,s){const a=l$(Ah(e),t);if(a?.set)return a.set.call(e.draft_,s),!0;if(!e.modified_){const n=R3(Ah(e),t),i=n?.[Kl];if(i&&i.base_===s)return e.copy_[t]=s,e.assigned_.set(t,!1),!0;if(xie(s,n)&&(s!==void 0||SR(e.base_,t,e.type_)))return!0;Ij(e),Qk(e)}return e.copy_[t]===s&&(s!==void 0||t in e.copy_)||Number.isNaN(s)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=s,e.assigned_.set(t,!0),wie(e,t,s)),!0},deleteProperty(e,t){return Ij(e),R3(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Qk(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const s=Ah(e),a=Reflect.getOwnPropertyDescriptor(s,t);return a&&{[Lj]:!0,[Gk]:e.type_!==1||t!=="length",[uN]:a[uN],[Ly]:s[t]}},defineProperty(){Id(11)},getPrototypeOf(e){return ug(e.base_)},setPrototypeOf(){Id(12)}},By={};for(let e in xN){let t=xN[e];By[e]=function(){const s=arguments;return s[0]=s[0][0],t.apply(this,s)}}By.deleteProperty=function(e,t){return By.set.call(this,e,t,void 0)};By.set=function(e,t,s){return xN.set.call(this,e[0],t,s,e[0])};function R3(e,t){const s=e[Kl];return(s?Ah(s):e)[t]}function _ie(e,t,s){const a=l$(t,s);return a?Ly in a?a[Ly]:a.get?.call(e.draft_):void 0}function l$(e,t){if(!(t in e))return;let s=ug(e);for(;s;){const a=Object.getOwnPropertyDescriptor(s,t);if(a)return a;s=ug(s)}}function Qk(e){e.modified_||(e.modified_=!0,e.parent_&&Qk(e.parent_))}function Ij(e){e.copy_||(e.assigned_=new Map,e.copy_=Yk(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var kie=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(s,a,n)=>{if(Dp(s)&&!Dp(a)){const l=a;a=s;const o=this;return function(d=l,...h){return o.produce(d,m=>a.call(this,m,...h))}}Dp(a)||Id(6),n!==void 0&&!Dp(n)&&Id(7);let i;if(Gd(s)){const l=CR(this),o=eA(l,s,void 0);let c=!0;try{i=a(o),c=!1}finally{c?Zk(l):Jk(l)}return AR(l,n),TR(i,l)}else if(!s||!cC(s)){if(i=a(s),i===void 0&&(i=s),i===e$&&(i=void 0),this.autoFreeze_&&uC(i,!0),n){const l=[],o=[];X0(Xk).generateReplacementPatches_(s,i,{patches_:l,inversePatches_:o}),n(l,o)}return i}else Id(1,s)},this.produceWithPatches=(s,a)=>{if(Dp(s))return(o,...c)=>this.produceWithPatches(o,d=>s(d,...c));let n,i;return[this.produce(s,a,(o,c)=>{n=o,i=c}),n,i]},D3(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),D3(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),D3(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Gd(t)||Id(8),Yh(t)&&(t=qd(t));const s=CR(this),a=eA(s,t,void 0);return a[Kl].isManual_=!0,Jk(s),a}finishDraft(t,s){const a=t&&t[Kl];(!a||!a.isManual_)&&Id(9);const{scope_:n}=a;return AR(n,s),TR(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,s){let a;for(a=s.length-1;a>=0;a--){const i=s[a];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}a>-1&&(s=s.slice(a+1));const n=X0(Xk).applyPatches_;return Yh(t)?n(t,s):this.produce(t,i=>n(i,s))}};function eA(e,t,s,a){const[n,i]=Vw(t)?X0(fN).proxyMap_(t,s):Ww(t)?X0(fN).proxySet_(t,s):Sie(t,s);return(s?.scope_??s$()).drafts_.push(n),i.callbacks_=s?.callbacks_??[],i.key_=a,s&&a!==void 0?Nie(s,i,a):i.callbacks_.push(function(c){c.mapSetPlugin_?.fixSetContents(i);const{patchPlugin_:d}=c;i.modified_&&d&&d.generatePatches_(i,[],c)}),n}function qd(e){return Yh(e)||Id(10,e),o$(e)}function o$(e){if(!Gd(e)||Gw(e))return e;const t=e[Kl];let s,a=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,s=Yk(e,t.scope_.immer_.useStrictShallowCopy_),a=t.scope_.immer_.shouldUseStrictIteration()}else s=Yk(e,!0);return Hw(s,(n,i)=>{hN(s,n,o$(i))},a),t&&(t.finalized_=!1),s}var Aie=new kie,c$=Aie.produce;function d$(e){return({dispatch:s,getState:a})=>n=>i=>typeof i=="function"?i(s,a,e):n(i)}var Cie=d$(),Tie=d$,Eie=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?cN:cN.apply(null,arguments)};function Zc(e,t){function s(...a){if(t){let n=t(...a);if(!n)throw new Error(sc(0));return{type:e,payload:n.payload,..."meta"in n&&{meta:n.meta},..."error"in n&&{error:n.error}}}return{type:e,payload:a[0]}}return s.toString=()=>`${e}`,s.type=e,s.match=a=>Qz(a)&&a.type===e,s}var u$=class oy extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,oy.prototype)}static get[Symbol.species](){return oy}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new oy(...t[0].concat(this)):new oy(...t.concat(this))}};function PR(e){return Gd(e)?c$(e,()=>{}):e}function n2(e,t,s){return e.has(t)?e.get(t):e.set(t,s(t)).get(t)}function Pie(e){return typeof e=="boolean"}var Oie=()=>function(t){const{thunk:s=!0,immutableCheck:a=!0,serializableCheck:n=!0,actionCreatorCheck:i=!0}=t??{};let l=new u$;return s&&(Pie(s)?l.push(Cie):l.push(Tie(s.extraArgument))),l},h$="RTK_autoBatch",Wa=()=>e=>({payload:e,meta:{[h$]:!0}}),OR=e=>t=>{setTimeout(t,e)},f$=(e={type:"raf"})=>t=>(...s)=>{const a=t(...s);let n=!0,i=!1,l=!1;const o=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:OR(10):e.type==="callback"?e.queueNotification:OR(e.timeout),d=()=>{l=!1,i&&(i=!1,o.forEach(h=>h()))};return Object.assign({},a,{subscribe(h){const m=()=>n&&h(),p=a.subscribe(m);return o.add(h),()=>{p(),o.delete(h)}},dispatch(h){try{return n=!h?.meta?.[h$],i=!n,i&&(l||(l=!0,c(d))),a.dispatch(h)}finally{n=!0}}})},Die=e=>function(s){const{autoBatch:a=!0}=s??{};let n=new u$(e);return a&&n.push(f$(typeof a=="object"?a:void 0)),n};function Rie(e){const t=Oie(),{reducer:s=void 0,middleware:a,devTools:n=!0,preloadedState:i=void 0,enhancers:l=void 0}=e||{};let o;if(typeof s=="function")o=s;else if(oC(s))o=Jz(s);else throw new Error(sc(1));let c;typeof a=="function"?c=a(t):c=t();let d=cN;n&&(d=Eie({trace:!1,...typeof n=="object"&&n}));const h=fie(...c),m=Die(h);let p=typeof l=="function"?l(m):m();const x=d(...p);return Zz(o,i,x)}function m$(e){const t={},s=[];let a;const n={addCase(i,l){const o=typeof i=="string"?i:i.type;if(!o)throw new Error(sc(28));if(o in t)throw new Error(sc(29));return t[o]=l,n},addAsyncThunk(i,l){return l.pending&&(t[i.pending.type]=l.pending),l.rejected&&(t[i.rejected.type]=l.rejected),l.fulfilled&&(t[i.fulfilled.type]=l.fulfilled),l.settled&&s.push({matcher:i.settled,reducer:l.settled}),n},addMatcher(i,l){return s.push({matcher:i,reducer:l}),n},addDefaultCase(i){return a=i,n}};return e(n),[t,s,a]}function Mie(e){return typeof e=="function"}function Fie(e,t){let[s,a,n]=m$(t),i;if(Mie(e))i=()=>PR(e());else{const o=PR(e);i=()=>o}function l(o=i(),c){let d=[s[c.type],...a.filter(({matcher:h})=>h(c)).map(({reducer:h})=>h)];return d.filter(h=>!!h).length===0&&(d=[n]),d.reduce((h,m)=>{if(m)if(Yh(h)){const x=m(h,c);return x===void 0?h:x}else{if(Gd(h))return c$(h,p=>m(p,c));{const p=m(h,c);if(p===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return h},o)}return l.getInitialState=i,l}var Lie="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Iie=(e=21)=>{let t="",s=e;for(;s--;)t+=Lie[Math.random()*64|0];return t},Bie=Symbol.for("rtk-slice-createasyncthunk");function Uie(e,t){return`${e}/${t}`}function zie({creators:e}={}){const t=e?.asyncThunk?.[Bie];return function(a){const{name:n,reducerPath:i=n}=a;if(!n)throw new Error(sc(11));const l=(typeof a.reducers=="function"?a.reducers(Hie()):a.reducers)||{},o=Object.keys(l),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(w,k){const _=typeof w=="string"?w:w.type;if(!_)throw new Error(sc(12));if(_ in c.sliceCaseReducersByType)throw new Error(sc(13));return c.sliceCaseReducersByType[_]=k,d},addMatcher(w,k){return c.sliceMatchers.push({matcher:w,reducer:k}),d},exposeAction(w,k){return c.actionCreators[w]=k,d},exposeCaseReducer(w,k){return c.sliceCaseReducersByName[w]=k,d}};o.forEach(w=>{const k=l[w],_={reducerName:w,type:Uie(n,w),createNotation:typeof a.reducers=="function"};Vie(k)?Gie(_,k,d,t):qie(_,k,d)});function h(){const[w={},k=[],_=void 0]=typeof a.extraReducers=="function"?m$(a.extraReducers):[a.extraReducers],O={...w,...c.sliceCaseReducersByType};return Fie(a.initialState,E=>{for(let F in O)E.addCase(F,O[F]);for(let F of c.sliceMatchers)E.addMatcher(F.matcher,F.reducer);for(let F of k)E.addMatcher(F.matcher,F.reducer);_&&E.addDefaultCase(_)})}const m=w=>w,p=new Map,x=new WeakMap;let v;function y(w,k){return v||(v=h()),v(w,k)}function b(){return v||(v=h()),v.getInitialState()}function j(w,k=!1){function _(E){let F=E[w];return typeof F>"u"&&k&&(F=n2(x,_,b)),F}function O(E=m){const F=n2(p,k,()=>new WeakMap);return n2(F,E,()=>{const I={};for(const[U,M]of Object.entries(a.selectors??{}))I[U]=$ie(M,E,()=>n2(x,E,b),k);return I})}return{reducerPath:w,getSelectors:O,get selectors(){return O(_)},selectSlice:_}}const S={name:n,reducer:y,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:b,...j(i),injectInto(w,{reducerPath:k,..._}={}){const O=k??i;return w.inject({reducerPath:O,reducer:y},_),{...S,...j(O,!0)}}};return S}}function $ie(e,t,s,a){function n(i,...l){let o=t(i);return typeof o>"u"&&a&&(o=s()),e(o,...l)}return n.unwrapped=e,n}var Co=zie();function Hie(){function e(t,s){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...s}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...s){return t(...s)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,s){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:s}},asyncThunk:e}}function qie({type:e,reducerName:t,createNotation:s},a,n){let i,l;if("reducer"in a){if(s&&!Wie(a))throw new Error(sc(17));i=a.reducer,l=a.prepare}else i=a;n.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,l?Zc(e,l):Zc(e))}function Vie(e){return e._reducerDefinitionType==="asyncThunk"}function Wie(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Gie({type:e,reducerName:t},s,a,n){if(!n)throw new Error(sc(18));const{payloadCreator:i,fulfilled:l,pending:o,rejected:c,settled:d,options:h}=s,m=n(e,i,h);a.exposeAction(t,m),l&&a.addCase(m.fulfilled,l),o&&a.addCase(m.pending,o),c&&a.addCase(m.rejected,c),d&&a.addMatcher(m.settled,d),a.exposeCaseReducer(t,{fulfilled:l||i2,pending:o||i2,rejected:c||i2,settled:d||i2})}function i2(){}var Kie="task",x$="listener",p$="completed",hC="cancelled",Yie=`task-${hC}`,Xie=`task-${p$}`,tA=`${x$}-${hC}`,Zie=`${x$}-${p$}`,Yw=class{constructor(e){this.code=e,this.message=`${Kie} ${hC} (reason: ${e})`}name="TaskAbortError";message},fC=(e,t)=>{if(typeof e!="function")throw new TypeError(sc(32))},pN=()=>{},g$=(e,t=pN)=>(e.catch(t),e),v$=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),E0=e=>{if(e.aborted)throw new Yw(e.reason)};function y$(e,t){let s=pN;return new Promise((a,n)=>{const i=()=>n(new Yw(e.reason));if(e.aborted){i();return}s=v$(e,i),t.finally(()=>s()).then(a,n)}).finally(()=>{s=pN})}var Jie=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(s){return{status:s instanceof Yw?"cancelled":"rejected",error:s}}finally{t?.()}},gN=e=>t=>g$(y$(e,t).then(s=>(E0(e),s))),b$=e=>{const t=gN(e);return s=>t(new Promise(a=>setTimeout(a,s)))},{assign:Zp}=Object,DR={},Xw="listenerMiddleware",Qie=(e,t)=>{const s=a=>v$(e,()=>a.abort(e.reason));return(a,n)=>{fC(a);const i=new AbortController;s(i);const l=Jie(async()=>{E0(e),E0(i.signal);const o=await a({pause:gN(i.signal),delay:b$(i.signal),signal:i.signal});return E0(i.signal),o},()=>i.abort(Xie));return n?.autoJoin&&t.push(l.catch(pN)),{result:gN(e)(l),cancel(){i.abort(Yie)}}}},ele=(e,t)=>{const s=async(a,n)=>{E0(t);let i=()=>{};const o=[new Promise((c,d)=>{let h=e({predicate:a,effect:(m,p)=>{p.unsubscribe(),c([m,p.getState(),p.getOriginalState()])}});i=()=>{h(),d()}})];n!=null&&o.push(new Promise(c=>setTimeout(c,n,null)));try{const c=await y$(t,Promise.race(o));return E0(t),c}finally{i()}};return(a,n)=>g$(s(a,n))},j$=e=>{let{type:t,actionCreator:s,matcher:a,predicate:n,effect:i}=e;if(t)n=Zc(t).match;else if(s)t=s.type,n=s.match;else if(a)n=a;else if(!n)throw new Error(sc(21));return fC(i),{predicate:n,type:t,effect:i}},N$=Zp(e=>{const{type:t,predicate:s,effect:a}=j$(e);return{id:Iie(),effect:a,type:t,predicate:s,pending:new Set,unsubscribe:()=>{throw new Error(sc(22))}}},{withTypes:()=>N$}),RR=(e,t)=>{const{type:s,effect:a,predicate:n}=j$(t);return Array.from(e.values()).find(i=>(typeof s=="string"?i.type===s:i.predicate===n)&&i.effect===a)},rA=e=>{e.pending.forEach(t=>{t.abort(tA)})},tle=(e,t)=>()=>{for(const s of t.keys())rA(s);e.clear()},MR=(e,t,s)=>{try{e(t,s)}catch(a){setTimeout(()=>{throw a},0)}},w$=Zp(Zc(`${Xw}/add`),{withTypes:()=>w$}),rle=Zc(`${Xw}/removeAll`),S$=Zp(Zc(`${Xw}/remove`),{withTypes:()=>S$}),sle=(...e)=>{console.error(`${Xw}/error`,...e)},kb=(e={})=>{const t=new Map,s=new Map,a=x=>{const v=s.get(x)??0;s.set(x,v+1)},n=x=>{const v=s.get(x)??1;v===1?s.delete(x):s.set(x,v-1)},{extra:i,onError:l=sle}=e;fC(l);const o=x=>(x.unsubscribe=()=>t.delete(x.id),t.set(x.id,x),v=>{x.unsubscribe(),v?.cancelActive&&rA(x)}),c=x=>{const v=RR(t,x)??N$(x);return o(v)};Zp(c,{withTypes:()=>c});const d=x=>{const v=RR(t,x);return v&&(v.unsubscribe(),x.cancelActive&&rA(v)),!!v};Zp(d,{withTypes:()=>d});const h=async(x,v,y,b)=>{const j=new AbortController,S=ele(c,j.signal),w=[];try{x.pending.add(j),a(x),await Promise.resolve(x.effect(v,Zp({},y,{getOriginalState:b,condition:(k,_)=>S(k,_).then(Boolean),take:S,delay:b$(j.signal),pause:gN(j.signal),extra:i,signal:j.signal,fork:Qie(j.signal,w),unsubscribe:x.unsubscribe,subscribe:()=>{t.set(x.id,x)},cancelActiveListeners:()=>{x.pending.forEach((k,_,O)=>{k!==j&&(k.abort(tA),O.delete(k))})},cancel:()=>{j.abort(tA),x.pending.delete(j)},throwIfCancelled:()=>{E0(j.signal)}})))}catch(k){k instanceof Yw||MR(l,k,{raisedBy:"effect"})}finally{await Promise.all(w),j.abort(Zie),n(x),x.pending.delete(j)}},m=tle(t,s);return{middleware:x=>v=>y=>{if(!Qz(y))return v(y);if(w$.match(y))return c(y.payload);if(rle.match(y)){m();return}if(S$.match(y))return d(y.payload);let b=x.getState();const j=()=>{if(b===DR)throw new Error(sc(23));return b};let S;try{if(S=v(y),t.size>0){const w=x.getState(),k=Array.from(t.values());for(const _ of k){let O=!1;try{O=_.predicate(y,w,b)}catch(E){O=!1,MR(l,E,{raisedBy:"predicate"})}O&&h(_,y,x,j)}}}finally{b=DR}return S},startListening:c,stopListening:d,clearListeners:m}};function sc(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var ale={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},_$=Co({name:"chartLayout",initialState:ale,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var s,a,n,i;e.margin.top=(s=t.payload.top)!==null&&s!==void 0?s:0,e.margin.right=(a=t.payload.right)!==null&&a!==void 0?a:0,e.margin.bottom=(n=t.payload.bottom)!==null&&n!==void 0?n:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:nle,setLayout:ile,setChartSize:lle,setScale:ole}=_$.actions,cle=_$.reducer;function k$(e,t,s){return Array.isArray(e)&&e&&t+s!==0?e.slice(t,s+1):e}function ja(e){return Number.isFinite(e)}function Lu(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function FR(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Up(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?FR(Object(s),!0).forEach(function(a){dle(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):FR(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function dle(e,t,s){return(t=ule(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function ule(e){var t=hle(e,"string");return typeof t=="symbol"?t:t+""}function hle(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ws(e,t,s){return La(e)||La(t)?s:Fu(t)?Y0(e,t,s):typeof t=="function"?t(e):s}var fle=(e,t,s)=>{if(t&&s){var{width:a,height:n}=s,{align:i,verticalAlign:l,layout:o}=t;if((o==="vertical"||o==="horizontal"&&l==="middle")&&i!=="center"&&Wt(e[i]))return Up(Up({},e),{},{[i]:e[i]+(a||0)});if((o==="horizontal"||o==="vertical"&&i==="center")&&l!=="middle"&&Wt(e[l]))return Up(Up({},e),{},{[l]:e[l]+(n||0)})}return e},Vu=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",A$=(e,t,s,a)=>{if(a)return e.map(o=>o.coordinate);var n,i,l=e.map(o=>(o.coordinate===t&&(n=!0),o.coordinate===s&&(i=!0),o.coordinate));return n||l.push(t),i||l.push(s),l},C$=(e,t,s)=>{if(!e)return null;var{duplicateDomain:a,type:n,range:i,scale:l,realScaleType:o,isCategorical:c,categoricalDomain:d,tickCount:h,ticks:m,niceTicks:p,axisType:x}=e;if(!l)return null;var v=o==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,y=n==="category"&&l.bandwidth?l.bandwidth()/v:0;if(y=x==="angleAxis"&&i&&i.length>=2?Fi(i[0]-i[1])*2*y:y,m||p){var b=(m||p||[]).map((j,S)=>{var w=a?a.indexOf(j):j;return{coordinate:l(w)+y,value:j,offset:y,index:S}});return b.filter(j=>!Xc(j.coordinate))}return c&&d?d.map((j,S)=>({coordinate:l(j)+y,value:j,index:S,offset:y})):l.ticks&&h!=null?l.ticks(h).map((j,S)=>({coordinate:l(j)+y,value:j,offset:y,index:S})):l.domain().map((j,S)=>({coordinate:l(j)+y,value:a?a[j]:j,index:S,offset:y}))},LR=1e-4,mle=e=>{var t=e.domain();if(!(!t||t.length<=2)){var s=t.length,a=e.range(),n=Math.min(a[0],a[1])-LR,i=Math.max(a[0],a[1])+LR,l=e(t[0]),o=e(t[s-1]);(l<n||l>i||o<n||o>i)&&e.domain([t[0],t[s-1]])}},xle=(e,t)=>{if(!t||t.length!==2||!Wt(t[0])||!Wt(t[1]))return e;var s=Math.min(t[0],t[1]),a=Math.max(t[0],t[1]),n=[e[0],e[1]];return(!Wt(e[0])||e[0]<s)&&(n[0]=s),(!Wt(e[1])||e[1]>a)&&(n[1]=a),n[0]>a&&(n[0]=a),n[1]<s&&(n[1]=s),n},ple=e=>{var t,s=e.length;if(!(s<=0)){var a=(t=e[0])===null||t===void 0?void 0:t.length;if(!(a==null||a<=0))for(var n=0;n<a;++n)for(var i=0,l=0,o=0;o<s;++o){var c=e[o],d=c?.[n];if(d!=null){var h=d[1],m=d[0],p=Xc(h)?m:h;p>=0?(d[0]=i,d[1]=i+p,i=h):(d[0]=l,d[1]=l+p,l=h)}}}},gle=e=>{var t,s=e.length;if(!(s<=0)){var a=(t=e[0])===null||t===void 0?void 0:t.length;if(!(a==null||a<=0))for(var n=0;n<a;++n)for(var i=0,l=0;l<s;++l){var o=e[l],c=o?.[n];if(c!=null){var d=Xc(c[1])?c[0]:c[1];d>=0?(c[0]=i,c[1]=i+d,i=c[1]):(c[0]=0,c[1]=0)}}}},vle={sign:ple,expand:Lae,none:K0,silhouette:Iae,wiggle:Bae,positive:gle},yle=(e,t,s)=>{var a,n=(a=vle[s])!==null&&a!==void 0?a:K0,i=Fae().keys(t).value((o,c)=>Number(Ws(o,c,0))).order(Vk).offset(n),l=i(e);return l.forEach((o,c)=>{o.forEach((d,h)=>{var m=Ws(e[h],t[c],0);Array.isArray(m)&&m.length===2&&Wt(m[0])&&Wt(m[1])&&(d[0]=m[0],d[1]=m[1])})}),l};function T$(e){return e==null?void 0:String(e)}function vN(e){var{axis:t,ticks:s,bandSize:a,entry:n,index:i,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!La(n[t.dataKey])){var o=Dz(s,"value",n[t.dataKey]);if(o)return o.coordinate+a/2}return s[i]?s[i].coordinate+a/2:null}var c=Ws(n,La(l)?t.dataKey:l);return La(c)?null:t.scale(c)}var IR=e=>{var{axis:t,ticks:s,offset:a,bandSize:n,entry:i,index:l}=e;if(t.type==="category")return s[l]?s[l].coordinate+a:null;var o=Ws(i,t.dataKey,t.scale.domain()[l]);return La(o)?null:t.scale(o)-n/2+a},ble=e=>{var{numericAxis:t}=e,s=t.scale.domain();if(t.type==="number"){var a=Math.min(s[0],s[1]),n=Math.max(s[0],s[1]);return a<=0&&n>=0?0:n<0?n:a}return s[0]},jle=e=>{var t=e.flat(2).filter(Wt);return[Math.min(...t),Math.max(...t)]},Nle=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],wle=(e,t,s)=>{if(e!=null)return Nle(Object.keys(e).reduce((a,n)=>{var i=e[n];if(!i)return a;var{stackedData:l}=i,o=l.reduce((c,d)=>{var h=k$(d,t,s),m=jle(h);return!ja(m[0])||!ja(m[1])?c:[Math.min(c[0],m[0]),Math.max(c[1],m[1])]},[1/0,-1/0]);return[Math.min(o[0],a[0]),Math.max(o[1],a[1])]},[1/0,-1/0]))},BR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,UR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ym=(e,t,s)=>{if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!s||a>0)return a}if(e&&t&&t.length>=2){for(var n=zw(t,h=>h.coordinate),i=1/0,l=1,o=n.length;l<o;l++){var c=n[l],d=n[l-1];i=Math.min((c?.coordinate||0)-(d?.coordinate||0),i)}return i===1/0?0:i}return s?void 0:0};function zR(e){var{tooltipEntrySettings:t,dataKey:s,payload:a,value:n,name:i}=e;return Up(Up({},t),{},{dataKey:s,payload:a,value:n,name:i})}function Em(e,t){if(e)return String(e);if(typeof t=="string")return t}var Sle=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},_le=(e,t)=>t==="centric"?e.angle:e.radius,af=e=>e.layout.width,nf=e=>e.layout.height,kle=e=>e.layout.scale,E$=e=>e.layout.margin,Zw=et(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Jw=et(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),P$="data-recharts-item-index",O$="data-recharts-item-id",Ab=60;function $R(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function l2(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?$R(Object(s),!0).forEach(function(a){Ale(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):$R(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Ale(e,t,s){return(t=Cle(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Cle(e){var t=Tle(e,"string");return typeof t=="symbol"?t:t+""}function Tle(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ele=e=>e.brush.height;function Ple(e){var t=Jw(e);return t.reduce((s,a)=>{if(a.orientation==="left"&&!a.mirror&&!a.hide){var n=typeof a.width=="number"?a.width:Ab;return s+n}return s},0)}function Ole(e){var t=Jw(e);return t.reduce((s,a)=>{if(a.orientation==="right"&&!a.mirror&&!a.hide){var n=typeof a.width=="number"?a.width:Ab;return s+n}return s},0)}function Dle(e){var t=Zw(e);return t.reduce((s,a)=>a.orientation==="top"&&!a.mirror&&!a.hide?s+a.height:s,0)}function Rle(e){var t=Zw(e);return t.reduce((s,a)=>a.orientation==="bottom"&&!a.mirror&&!a.hide?s+a.height:s,0)}var yi=et([af,nf,E$,Ele,Ple,Ole,Dle,Rle,Yz,iie],(e,t,s,a,n,i,l,o,c,d)=>{var h={left:(s.left||0)+n,right:(s.right||0)+i},m={top:(s.top||0)+l,bottom:(s.bottom||0)+o},p=l2(l2({},m),h),x=p.bottom;p.bottom+=a,p=fle(p,c,d);var v=e-p.left-p.right,y=t-p.top-p.bottom;return l2(l2({brushBottom:x},p),{},{width:Math.max(v,0),height:Math.max(y,0)})}),Mle=et(yi,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),mC=et(af,nf,(e,t)=>({x:0,y:0,width:e,height:t})),Fle=A.createContext(null),Ui=()=>A.useContext(Fle)!=null,Qw=e=>e.brush,e5=et([Qw,yi,E$],(e,t,s)=>({height:e.height,x:Wt(e.x)?e.x:t.left,y:Wt(e.y)?e.y:t.top+t.height+t.brushBottom-(s?.bottom||0),width:Wt(e.width)?e.width:t.width})),M3={},F3={},L3={},HR;function Lle(){return HR||(HR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s,a,{signal:n,edges:i}={}){let l,o=null;const c=i!=null&&i.includes("leading"),d=i==null||i.includes("trailing"),h=()=>{o!==null&&(s.apply(l,o),l=void 0,o=null)},m=()=>{d&&h(),y()};let p=null;const x=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,m()},a)},v=()=>{p!==null&&(clearTimeout(p),p=null)},y=()=>{v(),l=void 0,o=null},b=()=>{h()},j=function(...S){if(n?.aborted)return;l=this,o=S;const w=p==null;x(),c&&w&&h()};return j.schedule=x,j.cancel=y,j.flush=b,n?.addEventListener("abort",y,{once:!0}),j}e.debounce=t})(L3)),L3}var qR;function Ile(){return qR||(qR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Lle();function s(a,n=0,i={}){typeof i!="object"&&(i={});const{leading:l=!1,trailing:o=!0,maxWait:c}=i,d=Array(2);l&&(d[0]="leading"),o&&(d[1]="trailing");let h,m=null;const p=t.debounce(function(...y){h=a.apply(this,y),m=null},n,{edges:d}),x=function(...y){return c!=null&&(m===null&&(m=Date.now()),Date.now()-m>=c)?(h=a.apply(this,y),m=Date.now(),p.cancel(),p.schedule(),h):(p.apply(this,y),h)},v=()=>(p.flush(),h);return x.cancel=p.cancel,x.flush=v,x}e.debounce=s})(F3)),F3}var VR;function Ble(){return VR||(VR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ile();function s(a,n=0,i={}){const{leading:l=!0,trailing:o=!0}=i;return t.debounce(a,n,{leading:l,maxWait:n,trailing:o})}e.throttle=s})(M3)),M3}var I3,WR;function Ule(){return WR||(WR=1,I3=Ble().throttle),I3}var zle=Ule();const $le=sf(zle);var yN=function(t,s){for(var a=arguments.length,n=new Array(a>2?a-2:0),i=2;i<a;i++)n[i-2]=arguments[i];if(typeof console<"u"&&console.warn&&(s===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(s===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(s.replace(/%s/g,()=>n[l++]))}},D$=(e,t,s)=>{var{width:a="100%",height:n="100%",aspect:i,maxHeight:l}=s,o=Kh(a)?e:Number(a),c=Kh(n)?t:Number(n);return i&&i>0&&(o?c=o/i:c&&(o=c*i),l&&c!=null&&c>l&&(c=l)),{calculatedWidth:o,calculatedHeight:c}},Hle={width:0,height:0,overflow:"visible"},qle={width:0,overflowX:"visible"},Vle={height:0,overflowY:"visible"},Wle={},Gle=e=>{var{width:t,height:s}=e,a=Kh(t),n=Kh(s);return a&&n?Hle:a?qle:n?Vle:Wle};function Kle(e){var{width:t,height:s,aspect:a}=e,n=t,i=s;return n===void 0&&i===void 0?(n="100%",i="100%"):n===void 0?n=a&&a>0?void 0:"100%":i===void 0&&(i=a&&a>0?void 0:"100%"),{width:n,height:i}}function sA(){return sA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},sA.apply(null,arguments)}function GR(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function KR(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?GR(Object(s),!0).forEach(function(a){Yle(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):GR(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Yle(e,t,s){return(t=Xle(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Xle(e){var t=Zle(e,"string");return typeof t=="symbol"?t:t+""}function Zle(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var R$=A.createContext({width:-1,height:-1});function Jle(e){return Lu(e.width)&&Lu(e.height)}function M$(e){var{children:t,width:s,height:a}=e,n=A.useMemo(()=>({width:s,height:a}),[s,a]);return Jle(n)?A.createElement(R$.Provider,{value:n},t):null}var xC=()=>A.useContext(R$),Qle=A.forwardRef((e,t)=>{var{aspect:s,initialDimension:a={width:-1,height:-1},width:n,height:i,minWidth:l=0,minHeight:o,maxHeight:c,children:d,debounce:h=0,id:m,className:p,onResize:x,style:v={}}=e,y=A.useRef(null),b=A.useRef();b.current=x,A.useImperativeHandle(t,()=>y.current);var[j,S]=A.useState({containerWidth:a.width,containerHeight:a.height}),w=A.useCallback((F,I)=>{S(U=>{var M=Math.round(F),L=Math.round(I);return U.containerWidth===M&&U.containerHeight===L?U:{containerWidth:M,containerHeight:L}})},[]);A.useEffect(()=>{if(y.current==null||typeof ResizeObserver>"u")return wb;var F=L=>{var J,{width:K,height:ae}=L[0].contentRect;w(K,ae),(J=b.current)===null||J===void 0||J.call(b,K,ae)};h>0&&(F=$le(F,h,{trailing:!0,leading:!1}));var I=new ResizeObserver(F),{width:U,height:M}=y.current.getBoundingClientRect();return w(U,M),I.observe(y.current),()=>{I.disconnect()}},[w,h]);var{containerWidth:k,containerHeight:_}=j;yN(!s||s>0,"The aspect(%s) must be greater than zero.",s);var{calculatedWidth:O,calculatedHeight:E}=D$(k,_,{width:n,height:i,aspect:s,maxHeight:c});return yN(O!=null&&O>0||E!=null&&E>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,E,n,i,l,o,s),A.createElement("div",{id:m?"".concat(m):void 0,className:Es("recharts-responsive-container",p),style:KR(KR({},v),{},{width:n,height:i,minWidth:l,minHeight:o,maxHeight:c}),ref:y},A.createElement("div",{style:Gle({width:n,height:i})},A.createElement(M$,{width:O,height:E},d)))}),ql=A.forwardRef((e,t)=>{var s=xC();if(Lu(s.width)&&Lu(s.height))return e.children;var{width:a,height:n}=Kle({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:l}=D$(void 0,void 0,{width:a,height:n,aspect:e.aspect,maxHeight:e.maxHeight});return Wt(i)&&Wt(l)?A.createElement(M$,{width:i,height:l},e.children):A.createElement(Qle,sA({},e,{width:a,height:n,ref:t}))});function F$(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var t5=()=>{var e,t=Ui(),s=rr(Mle),a=rr(e5),n=(e=rr(Qw))===null||e===void 0?void 0:e.padding;return!t||!a||!n?s:{width:a.width-n.left-n.right,height:a.height-n.top-n.bottom,x:n.left,y:n.top}},eoe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},L$=()=>{var e;return(e=rr(yi))!==null&&e!==void 0?e:eoe},pC=()=>rr(af),gC=()=>rr(nf),toe=()=>rr(e=>e.layout.margin),ds=e=>e.layout.layoutType,Pm=()=>rr(ds),roe=()=>{var e=Pm();if(e==="horizontal"||e==="vertical")return e},soe=()=>{var e=Pm();return e!==void 0},r5=e=>{var t=ka(),s=Ui(),{width:a,height:n}=e,i=xC(),l=a,o=n;return i&&(l=i.width>0?i.width:a,o=i.height>0?i.height:n),A.useEffect(()=>{!s&&Lu(l)&&Lu(o)&&t(lle({width:l,height:o}))},[t,s,l,o]),null},I$=Symbol.for("immer-nothing"),YR=Symbol.for("immer-draftable"),cc=Symbol.for("immer-state");function Bd(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Uy=Object.getPrototypeOf;function hg(e){return!!e&&!!e[cc]}function Z0(e){return e?B$(e)||Array.isArray(e)||!!e[YR]||!!e.constructor?.[YR]||Cb(e)||a5(e):!1}var aoe=Object.prototype.constructor.toString(),XR=new WeakMap;function B$(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const s=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(s===Object)return!0;if(typeof s!="function")return!1;let a=XR.get(s);return a===void 0&&(a=Function.toString.call(s),XR.set(s,a)),a===aoe}function bN(e,t,s=!0){s5(e)===0?(s?Reflect.ownKeys(e):Object.keys(e)).forEach(n=>{t(n,e[n],e)}):e.forEach((a,n)=>t(n,a,e))}function s5(e){const t=e[cc];return t?t.type_:Array.isArray(e)?1:Cb(e)?2:a5(e)?3:0}function aA(e,t){return s5(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function U$(e,t,s){const a=s5(e);a===2?e.set(t,s):a===3?e.add(s):e[t]=s}function noe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Cb(e){return e instanceof Map}function a5(e){return e instanceof Set}function g0(e){return e.copy_||e.base_}function nA(e,t){if(Cb(e))return new Map(e);if(a5(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const s=B$(e);if(t===!0||t==="class_only"&&!s){const a=Object.getOwnPropertyDescriptors(e);delete a[cc];let n=Reflect.ownKeys(a);for(let i=0;i<n.length;i++){const l=n[i],o=a[l];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(a[l]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[l]})}return Object.create(Uy(e),a)}else{const a=Uy(e);if(a!==null&&s)return{...e};const n=Object.create(a);return Object.assign(n,e)}}function vC(e,t=!1){return n5(e)||hg(e)||!Z0(e)||(s5(e)>1&&Object.defineProperties(e,{set:o2,add:o2,clear:o2,delete:o2}),Object.freeze(e),t&&Object.values(e).forEach(s=>vC(s,!0))),e}function ioe(){Bd(2)}var o2={value:ioe};function n5(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var loe={};function J0(e){const t=loe[e];return t||Bd(0,e),t}var zy;function z$(){return zy}function ooe(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ZR(e,t){t&&(J0("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function iA(e){lA(e),e.drafts_.forEach(coe),e.drafts_=null}function lA(e){e===zy&&(zy=e.parent_)}function JR(e){return zy=ooe(zy,e)}function coe(e){const t=e[cc];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function QR(e,t){t.unfinalizedDrafts_=t.drafts_.length;const s=t.drafts_[0];return e!==void 0&&e!==s?(s[cc].modified_&&(iA(t),Bd(4)),Z0(e)&&(e=jN(t,e),t.parent_||NN(t,e)),t.patches_&&J0("Patches").generateReplacementPatches_(s[cc].base_,e,t.patches_,t.inversePatches_)):e=jN(t,s,[]),iA(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==I$?e:void 0}function jN(e,t,s){if(n5(t))return t;const a=e.immer_.shouldUseStrictIteration(),n=t[cc];if(!n)return bN(t,(i,l)=>eM(e,n,t,i,l,s),a),t;if(n.scope_!==e)return t;if(!n.modified_)return NN(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let l=i,o=!1;n.type_===3&&(l=new Set(i),i.clear(),o=!0),bN(l,(c,d)=>eM(e,n,i,c,d,s,o),a),NN(e,i,!1),s&&e.patches_&&J0("Patches").generatePatches_(n,s,e.patches_,e.inversePatches_)}return n.copy_}function eM(e,t,s,a,n,i,l){if(n==null||typeof n!="object"&&!l)return;const o=n5(n);if(!(o&&!l)){if(hg(n)){const c=i&&t&&t.type_!==3&&!aA(t.assigned_,a)?i.concat(a):void 0,d=jN(e,n,c);if(U$(s,a,d),hg(d))e.canAutoFreeze_=!1;else return}else l&&s.add(n);if(Z0(n)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[a]===n&&o)return;jN(e,n),(!t||!t.scope_.parent_)&&typeof a!="symbol"&&(Cb(s)?s.has(a):Object.prototype.propertyIsEnumerable.call(s,a))&&NN(e,n)}}}function NN(e,t,s=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&vC(t,s)}function doe(e,t){const s=Array.isArray(e),a={type_:s?1:0,scope_:t?t.scope_:z$(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let n=a,i=yC;s&&(n=[a],i=$y);const{revoke:l,proxy:o}=Proxy.revocable(n,i);return a.draft_=o,a.revoke_=l,o}var yC={get(e,t){if(t===cc)return e;const s=g0(e);if(!aA(s,t))return uoe(e,s,t);const a=s[t];return e.finalized_||!Z0(a)?a:a===B3(e.base_,t)?(U3(e),e.copy_[t]=cA(a,e)):a},has(e,t){return t in g0(e)},ownKeys(e){return Reflect.ownKeys(g0(e))},set(e,t,s){const a=$$(g0(e),t);if(a?.set)return a.set.call(e.draft_,s),!0;if(!e.modified_){const n=B3(g0(e),t),i=n?.[cc];if(i&&i.base_===s)return e.copy_[t]=s,e.assigned_[t]=!1,!0;if(noe(s,n)&&(s!==void 0||aA(e.base_,t)))return!0;U3(e),oA(e)}return e.copy_[t]===s&&(s!==void 0||t in e.copy_)||Number.isNaN(s)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=s,e.assigned_[t]=!0),!0},deleteProperty(e,t){return B3(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,U3(e),oA(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const s=g0(e),a=Reflect.getOwnPropertyDescriptor(s,t);return a&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:a.enumerable,value:s[t]}},defineProperty(){Bd(11)},getPrototypeOf(e){return Uy(e.base_)},setPrototypeOf(){Bd(12)}},$y={};bN(yC,(e,t)=>{$y[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});$y.deleteProperty=function(e,t){return $y.set.call(this,e,t,void 0)};$y.set=function(e,t,s){return yC.set.call(this,e[0],t,s,e[0])};function B3(e,t){const s=e[cc];return(s?g0(s):e)[t]}function uoe(e,t,s){const a=$$(t,s);return a?"value"in a?a.value:a.get?.call(e.draft_):void 0}function $$(e,t){if(!(t in e))return;let s=Uy(e);for(;s;){const a=Object.getOwnPropertyDescriptor(s,t);if(a)return a;s=Uy(s)}}function oA(e){e.modified_||(e.modified_=!0,e.parent_&&oA(e.parent_))}function U3(e){e.copy_||(e.copy_=nA(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var hoe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,s,a)=>{if(typeof t=="function"&&typeof s!="function"){const i=s;s=t;const l=this;return function(c=i,...d){return l.produce(c,h=>s.call(this,h,...d))}}typeof s!="function"&&Bd(6),a!==void 0&&typeof a!="function"&&Bd(7);let n;if(Z0(t)){const i=JR(this),l=cA(t,void 0);let o=!0;try{n=s(l),o=!1}finally{o?iA(i):lA(i)}return ZR(i,a),QR(n,i)}else if(!t||typeof t!="object"){if(n=s(t),n===void 0&&(n=t),n===I$&&(n=void 0),this.autoFreeze_&&vC(n,!0),a){const i=[],l=[];J0("Patches").generateReplacementPatches_(t,n,i,l),a(i,l)}return n}else Bd(1,t)},this.produceWithPatches=(t,s)=>{if(typeof t=="function")return(l,...o)=>this.produceWithPatches(l,c=>t(c,...o));let a,n;return[this.produce(t,s,(l,o)=>{a=l,n=o}),a,n]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Z0(e)||Bd(8),hg(e)&&(e=foe(e));const t=JR(this),s=cA(e,void 0);return s[cc].isManual_=!0,lA(t),s}finishDraft(e,t){const s=e&&e[cc];(!s||!s.isManual_)&&Bd(9);const{scope_:a}=s;return ZR(a,t),QR(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let s;for(s=t.length-1;s>=0;s--){const n=t[s];if(n.path.length===0&&n.op==="replace"){e=n.value;break}}s>-1&&(t=t.slice(s+1));const a=J0("Patches").applyPatches_;return hg(e)?a(e,t):this.produce(e,n=>a(n,t))}};function cA(e,t){const s=Cb(e)?J0("MapSet").proxyMap_(e,t):a5(e)?J0("MapSet").proxySet_(e,t):doe(e,t);return(t?t.scope_:z$()).drafts_.push(s),s}function foe(e){return hg(e)||Bd(10,e),H$(e)}function H$(e){if(!Z0(e)||n5(e))return e;const t=e[cc];let s,a=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,s=nA(e,t.scope_.immer_.useStrictShallowCopy_),a=t.scope_.immer_.shouldUseStrictIteration()}else s=nA(e,!0);return bN(s,(n,i)=>{U$(s,n,H$(i))},a),t&&(t.finalized_=!1),s}var moe=new hoe;moe.produce;var xoe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},q$=Co({name:"legend",initialState:xoe,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Wa()},replaceLegendPayload:{reducer(e,t){var{prev:s,next:a}=t.payload,n=qd(e).payload.indexOf(s);n>-1&&(e.payload[n]=a)},prepare:Wa()},removeLegendPayload:{reducer(e,t){var s=qd(e).payload.indexOf(t.payload);s>-1&&e.payload.splice(s,1)},prepare:Wa()}}}),{setLegendSize:tM,setLegendSettings:poe,addLegendPayload:V$,replaceLegendPayload:W$,removeLegendPayload:G$}=q$.actions,goe=q$.reducer,voe=["contextPayload"];function dA(){return dA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},dA.apply(null,arguments)}function rM(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function fg(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?rM(Object(s),!0).forEach(function(a){yoe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):rM(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function yoe(e,t,s){return(t=boe(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function boe(e){var t=joe(e,"string");return typeof t=="symbol"?t:t+""}function joe(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Noe(e,t){if(e==null)return{};var s,a,n=woe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function woe(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function Soe(e){return e.value}function _oe(e){var{contextPayload:t}=e,s=Noe(e,voe),a=Vz(t,e.payloadUniqBy,Soe),n=fg(fg({},s),{},{payload:a});return A.isValidElement(e.content)?A.cloneElement(e.content,n):typeof e.content=="function"?A.createElement(e.content,n):A.createElement(xne,n)}function koe(e,t,s,a,n,i){var{layout:l,align:o,verticalAlign:c}=t,d,h;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&l==="vertical"?d={left:((a||0)-i.width)/2}:d=o==="right"?{right:s&&s.right||0}:{left:s&&s.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?h={top:((n||0)-i.height)/2}:h=c==="bottom"?{bottom:s&&s.bottom||0}:{top:s&&s.top||0}),fg(fg({},d),h)}function Aoe(e){var t=ka();return A.useEffect(()=>{t(poe(e))},[t,e]),null}function Coe(e){var t=ka();return A.useEffect(()=>(t(tM(e)),()=>{t(tM({width:0,height:0}))}),[t,e]),null}function Toe(e,t,s,a){return e==="vertical"&&Wt(t)?{height:t}:e==="horizontal"?{width:s||a}:null}var Eoe={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function uA(e){var t=wn(e,Eoe),s=cie(),a=iae(),n=toe(),{width:i,height:l,wrapperStyle:o,portal:c}=t,[d,h]=Xz([s]),m=pC(),p=gC();if(m==null||p==null)return null;var x=m-(n?.left||0)-(n?.right||0),v=Toe(t.layout,l,i,x),y=c?o:fg(fg({position:"absolute",width:v?.width||i||"auto",height:v?.height||l||"auto"},koe(o,t,n,m,p,d)),o),b=c??a;if(b==null||s==null)return null;var j=A.createElement("div",{className:"recharts-legend-wrapper",style:y,ref:h},A.createElement(Aoe,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!c&&A.createElement(Coe,{width:d.width,height:d.height}),A.createElement(_oe,dA({},t,v,{margin:n,chartWidth:m,chartHeight:p,contextPayload:s})));return z6.createPortal(j,b)}uA.displayName="Legend";function hA(){return hA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},hA.apply(null,arguments)}function sM(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function z3(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?sM(Object(s),!0).forEach(function(a){Poe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):sM(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Poe(e,t,s){return(t=Ooe(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Ooe(e){var t=Doe(e,"string");return typeof t=="symbol"?t:t+""}function Doe(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Roe(e){return Array.isArray(e)&&Fu(e[0])&&Fu(e[1])?e.join(" ~ "):e}var Moe=e=>{var{separator:t=" : ",contentStyle:s={},itemStyle:a={},labelStyle:n={},payload:i,formatter:l,itemSorter:o,wrapperClassName:c,labelClassName:d,label:h,labelFormatter:m,accessibilityLayer:p=!1}=e,x=()=>{if(i&&i.length){var _={padding:0,margin:0},O=(o?zw(i,o):i).map((E,F)=>{if(E.type==="none")return null;var I=E.formatter||l||Roe,{value:U,name:M}=E,L=U,J=M;if(I){var K=I(U,M,E,F,i);if(Array.isArray(K))[L,J]=K;else if(K!=null)L=K;else return null}var ae=z3({display:"block",paddingTop:4,paddingBottom:4,color:E.color||"#000"},a);return A.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:ae},Fu(J)?A.createElement("span",{className:"recharts-tooltip-item-name"},J):null,Fu(J)?A.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,A.createElement("span",{className:"recharts-tooltip-item-value"},L),A.createElement("span",{className:"recharts-tooltip-item-unit"},E.unit||""))});return A.createElement("ul",{className:"recharts-tooltip-item-list",style:_},O)}return null},v=z3({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),y=z3({margin:0},n),b=!La(h),j=b?h:"",S=Es("recharts-default-tooltip",c),w=Es("recharts-tooltip-label",d);b&&m&&i!==void 0&&i!==null&&(j=m(h,i));var k=p?{role:"status","aria-live":"assertive"}:{};return A.createElement("div",hA({className:S,style:v},k),A.createElement("p",{className:w,style:y},A.isValidElement(j)?j:"".concat(j)),x())},zv="recharts-tooltip-wrapper",Foe={visibility:"hidden"};function Loe(e){var{coordinate:t,translateX:s,translateY:a}=e;return Es(zv,{["".concat(zv,"-right")]:Wt(s)&&t&&Wt(t.x)&&s>=t.x,["".concat(zv,"-left")]:Wt(s)&&t&&Wt(t.x)&&s<t.x,["".concat(zv,"-bottom")]:Wt(a)&&t&&Wt(t.y)&&a>=t.y,["".concat(zv,"-top")]:Wt(a)&&t&&Wt(t.y)&&a<t.y})}function aM(e){var{allowEscapeViewBox:t,coordinate:s,key:a,offsetTopLeft:n,position:i,reverseDirection:l,tooltipDimension:o,viewBox:c,viewBoxDimension:d}=e;if(i&&Wt(i[a]))return i[a];var h=s[a]-o-(n>0?n:0),m=s[a]+n;if(t[a])return l[a]?h:m;var p=c[a];if(p==null)return 0;if(l[a]){var x=h,v=p;return x<v?Math.max(m,p):Math.max(h,p)}if(d==null)return 0;var y=m+o,b=p+d;return y>b?Math.max(h,p):Math.max(m,p)}function Ioe(e){var{translateX:t,translateY:s,useTranslate3d:a}=e;return{transform:a?"translate3d(".concat(t,"px, ").concat(s,"px, 0)"):"translate(".concat(t,"px, ").concat(s,"px)")}}function Boe(e){var{allowEscapeViewBox:t,coordinate:s,offsetTopLeft:a,position:n,reverseDirection:i,tooltipBox:l,useTranslate3d:o,viewBox:c}=e,d,h,m;return l.height>0&&l.width>0&&s?(h=aM({allowEscapeViewBox:t,coordinate:s,key:"x",offsetTopLeft:a,position:n,reverseDirection:i,tooltipDimension:l.width,viewBox:c,viewBoxDimension:c.width}),m=aM({allowEscapeViewBox:t,coordinate:s,key:"y",offsetTopLeft:a,position:n,reverseDirection:i,tooltipDimension:l.height,viewBox:c,viewBoxDimension:c.height}),d=Ioe({translateX:h,translateY:m,useTranslate3d:o})):d=Foe,{cssProperties:d,cssClasses:Loe({translateX:h,translateY:m,coordinate:s})}}function nM(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function c2(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?nM(Object(s),!0).forEach(function(a){fA(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):nM(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function fA(e,t,s){return(t=Uoe(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Uoe(e){var t=zoe(e,"string");return typeof t=="symbol"?t:t+""}function zoe(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class $oe extends A.PureComponent{constructor(){super(...arguments),fA(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),fA(this,"handleKeyDown",t=>{if(t.key==="Escape"){var s,a,n,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==null&&s!==void 0?s:0,y:(n=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&n!==void 0?n:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,s;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:s,animationDuration:a,animationEasing:n,children:i,coordinate:l,hasPayload:o,isAnimationActive:c,offset:d,position:h,reverseDirection:m,useTranslate3d:p,viewBox:x,wrapperStyle:v,lastBoundingBox:y,innerRef:b,hasPortalFromProps:j}=this.props,{cssClasses:S,cssProperties:w}=Boe({allowEscapeViewBox:s,coordinate:l,offsetTopLeft:d,position:h,reverseDirection:m,tooltipBox:{height:y.height,width:y.width},useTranslate3d:p,viewBox:x}),k=j?{}:c2(c2({transition:c&&t?"transform ".concat(a,"ms ").concat(n):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),_=c2(c2({},k),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},v);return A.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:S,style:_,ref:b},i)}}var K$=()=>{var e;return(e=rr(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function mA(){return mA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},mA.apply(null,arguments)}function iM(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function lM(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?iM(Object(s),!0).forEach(function(a){Hoe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):iM(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Hoe(e,t,s){return(t=qoe(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function qoe(e){var t=Voe(e,"string");return typeof t=="symbol"?t:t+""}function Voe(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oM={curveBasisClosed:_ae,curveBasisOpen:kae,curveBasis:Sae,curveBumpX:dae,curveBumpY:uae,curveLinearClosed:Aae,curveLinear:Bw,curveMonotoneX:Cae,curveMonotoneY:Tae,curveNatural:Eae,curveStep:Pae,curveStepAfter:Dae,curveStepBefore:Oae},wN=e=>ja(e.x)&&ja(e.y),cM=e=>e.base!=null&&wN(e.base)&&wN(e),$v=e=>e.x,Hv=e=>e.y,Woe=(e,t)=>{if(typeof e=="function")return e;var s="curve".concat(Nb(e));return(s==="curveMonotone"||s==="curveBump")&&t?oM["".concat(s).concat(t==="vertical"?"Y":"X")]:oM[s]||Bw},Goe=e=>{var{type:t="linear",points:s=[],baseLine:a,layout:n,connectNulls:i=!1}=e,l=Woe(t,n),o=i?s.filter(wN):s,c;if(Array.isArray(a)){var d=s.map((x,v)=>lM(lM({},x),{},{base:a[v]}));n==="vertical"?c=t2().y(Hv).x1($v).x0(x=>x.base.x):c=t2().x($v).y1(Hv).y0(x=>x.base.y);var h=c.defined(cM).curve(l),m=i?d.filter(cM):d;return h(m)}n==="vertical"&&Wt(a)?c=t2().y(Hv).x1($v).x0(a):Wt(a)?c=t2().x($v).y1(Hv).y0(a):c=bz().x($v).y(Hv);var p=c.defined(wN).curve(l);return p(o)},Jp=e=>{var{className:t,points:s,path:a,pathRef:n}=e,i=Pm();if((!s||!s.length)&&!a)return null;var l={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||i,connectNulls:e.connectNulls},o=s&&s.length?Goe(l):a;return A.createElement("path",mA({},Gl(e),nC(e),{className:Es("recharts-curve",t),d:o===null?void 0:o,ref:n}))},Koe=["x","y","top","left","width","height","className"];function xA(){return xA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},xA.apply(null,arguments)}function dM(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Yoe(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?dM(Object(s),!0).forEach(function(a){Xoe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):dM(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Xoe(e,t,s){return(t=Zoe(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Zoe(e){var t=Joe(e,"string");return typeof t=="symbol"?t:t+""}function Joe(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qoe(e,t){if(e==null)return{};var s,a,n=ece(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function ece(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var tce=(e,t,s,a,n,i)=>"M".concat(e,",").concat(n,"v").concat(a,"M").concat(i,",").concat(t,"h").concat(s),rce=e=>{var{x:t=0,y:s=0,top:a=0,left:n=0,width:i=0,height:l=0,className:o}=e,c=Qoe(e,Koe),d=Yoe({x:t,y:s,top:a,left:n,width:i,height:l},c);return!Wt(t)||!Wt(s)||!Wt(i)||!Wt(l)||!Wt(a)||!Wt(n)?null:A.createElement("path",xA({},Al(d),{className:Es("recharts-cross",o),d:tce(t,s,i,l,a,n)}))};function sce(e,t,s,a){var n=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-n:s.left+.5,y:e==="horizontal"?s.top+.5:t.y-n,width:e==="horizontal"?a:s.width-1,height:e==="horizontal"?s.height-1:a}}function uM(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function hM(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?uM(Object(s),!0).forEach(function(a){ace(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):uM(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function ace(e,t,s){return(t=nce(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function nce(e){var t=ice(e,"string");return typeof t=="symbol"?t:t+""}function ice(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lce=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Y$=(e,t,s)=>e.map(a=>"".concat(lce(a)," ").concat(t,"ms ").concat(s)).join(","),oce=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((s,a)=>s.filter(n=>a.includes(n))),Hy=(e,t)=>Object.keys(t).reduce((s,a)=>hM(hM({},s),{},{[a]:e(a,t[a])}),{});function fM(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function mi(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?fM(Object(s),!0).forEach(function(a){cce(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):fM(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function cce(e,t,s){return(t=dce(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function dce(e){var t=uce(e,"string");return typeof t=="symbol"?t:t+""}function uce(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SN=(e,t,s)=>e+(t-e)*s,pA=e=>{var{from:t,to:s}=e;return t!==s},X$=(e,t,s)=>{var a=Hy((n,i)=>{if(pA(i)){var[l,o]=e(i.from,i.to,i.velocity);return mi(mi({},i),{},{from:l,velocity:o})}return i},t);return s<1?Hy((n,i)=>pA(i)&&a[n]!=null?mi(mi({},i),{},{velocity:SN(i.velocity,a[n].velocity,s),from:SN(i.from,a[n].from,s)}):i,t):X$(e,a,s-1)};function hce(e,t,s,a,n,i){var l,o=a.reduce((p,x)=>mi(mi({},p),{},{[x]:{from:e[x],velocity:0,to:t[x]}}),{}),c=()=>Hy((p,x)=>x.from,o),d=()=>!Object.values(o).filter(pA).length,h=null,m=p=>{l||(l=p);var x=p-l,v=x/s.dt;o=X$(s,o,v),n(mi(mi(mi({},e),t),c())),l=p,d()||(h=i.setTimeout(m))};return()=>(h=i.setTimeout(m),()=>{var p;(p=h)===null||p===void 0||p()})}function fce(e,t,s,a,n,i,l){var o=null,c=n.reduce((m,p)=>{var x=e[p],v=t[p];return x==null||v==null?m:mi(mi({},m),{},{[p]:[x,v]})},{}),d,h=m=>{d||(d=m);var p=(m-d)/a,x=Hy((y,b)=>SN(...b,s(p)),c);if(i(mi(mi(mi({},e),t),x)),p<1)o=l.setTimeout(h);else{var v=Hy((y,b)=>SN(...b,s(1)),c);i(mi(mi(mi({},e),t),v))}};return()=>(o=l.setTimeout(h),()=>{var m;(m=o)===null||m===void 0||m()})}const mce=(e,t,s,a,n,i)=>{var l=oce(e,t);return s==null?()=>(n(mi(mi({},e),t)),()=>{}):s.isStepper===!0?hce(e,t,s,l,n,i):fce(e,t,s,a,l,n,i)};var _N=1e-4,Z$=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],J$=(e,t)=>e.map((s,a)=>s*t**a).reduce((s,a)=>s+a),mM=(e,t)=>s=>{var a=Z$(e,t);return J$(a,s)},xce=(e,t)=>s=>{var a=Z$(e,t),n=[...a.map((i,l)=>i*l).slice(1),0];return J$(n,s)},pce=e=>{var t,s=e.split("(");if(s.length!==2||s[0]!=="cubic-bezier")return null;var a=(t=s[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(a==null||a.length!==4)return null;var n=a.map(i=>parseFloat(i));return[n[0],n[1],n[2],n[3]]},gce=function(){for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];if(s.length===1)switch(s[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var n=pce(s[0]);if(n)return n}}return s.length===4?s:[0,0,1,1]},vce=(e,t,s,a)=>{var n=mM(e,s),i=mM(t,a),l=xce(e,s),o=d=>d>1?1:d<0?0:d,c=d=>{for(var h=d>1?1:d,m=h,p=0;p<8;++p){var x=n(m)-h,v=l(m);if(Math.abs(x-h)<_N||v<_N)return i(m);m=o(m-x/v)}return i(m)};return c.isStepper=!1,c},xM=function(){return vce(...gce(...arguments))},yce=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:s=100,damping:a=8,dt:n=17}=t,i=(l,o,c)=>{var d=-(l-o)*s,h=c*a,m=c+(d-h)*n/1e3,p=c*n/1e3+l;return Math.abs(p-o)<_N&&Math.abs(m)<_N?[o,0]:[p,m]};return i.isStepper=!0,i.dt=n,i},bce=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return xM(e);case"spring":return yce();default:if(e.split("(")[0]==="cubic-bezier")return xM(e)}return typeof e=="function"?e:null};function jce(e){var t,s=()=>null,a=!1,n=null,i=l=>{if(!a){if(Array.isArray(l)){if(!l.length)return;var o=l,[c,...d]=o;if(typeof c=="number"){n=e.setTimeout(i.bind(null,d),c);return}i(c),n=e.setTimeout(i.bind(null,d));return}typeof l=="string"&&(t=l,s(t)),typeof l=="object"&&(t=l,s(t)),typeof l=="function"&&l()}};return{stop:()=>{a=!0},start:l=>{a=!1,n&&(n(),n=null),i(l)},subscribe:l=>(s=l,()=>{s=()=>null}),getTimeoutController:()=>e}}class Nce{setTimeout(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=performance.now(),n=null,i=l=>{l-a>=s?t(l):typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(i))};return n=requestAnimationFrame(i),()=>{n!=null&&cancelAnimationFrame(n)}}}function wce(){return jce(new Nce)}var Sce=A.createContext(wce);function _ce(e,t){var s=A.useContext(Sce);return A.useMemo(()=>t??s(e),[e,t,s])}var kce=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Tb={isSsr:kce()},Ace={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},pM={t:0},$3={t:1};function Mg(e){var t=wn(e,Ace),{isActive:s,canBegin:a,duration:n,easing:i,begin:l,onAnimationEnd:o,onAnimationStart:c,children:d}=t,h=s==="auto"?!Tb.isSsr:s,m=_ce(t.animationId,t.animationManager),[p,x]=A.useState(h?pM:$3),v=A.useRef(null);return A.useEffect(()=>{h||x($3)},[h]),A.useEffect(()=>{if(!h||!a)return wb;var y=mce(pM,$3,bce(i),n,x,m.getTimeoutController()),b=()=>{v.current=y()};return m.start([c,l,b,n,o]),()=>{m.stop(),v.current&&v.current(),o()}},[h,a,n,i,l,c,o,m]),d(p.t)}function Fg(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",s=A.useRef(Fy(t)),a=A.useRef(e);return a.current!==e&&(s.current=Fy(t),a.current=e),s.current}var Cce=["radius"],Tce=["radius"],gM,vM,yM,bM,jM,NM,wM,SM,_M,kM;function AM(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function CM(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?AM(Object(s),!0).forEach(function(a){Ece(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):AM(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Ece(e,t,s){return(t=Pce(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Pce(e){var t=Oce(e,"string");return typeof t=="symbol"?t:t+""}function Oce(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kN(){return kN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},kN.apply(null,arguments)}function TM(e,t){if(e==null)return{};var s,a,n=Dce(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Dce(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function bu(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var EM=(e,t,s,a,n)=>{var i=om(s),l=om(a),o=Math.min(Math.abs(i)/2,Math.abs(l)/2),c=l>=0?1:-1,d=i>=0?1:-1,h=l>=0&&i>=0||l<0&&i<0?1:0,m;if(o>0&&n instanceof Array){for(var p=[0,0,0,0],x=0,v=4;x<v;x++)p[x]=n[x]>o?o:n[x];m=pn(gM||(gM=bu(["M",",",""])),e,t+c*p[0]),p[0]>0&&(m+=pn(vM||(vM=bu(["A ",",",",0,0,",",",",",""])),p[0],p[0],h,e+d*p[0],t)),m+=pn(yM||(yM=bu(["L ",",",""])),e+s-d*p[1],t),p[1]>0&&(m+=pn(bM||(bM=bu(["A ",",",",0,0,",`,
        `,",",""])),p[1],p[1],h,e+s,t+c*p[1])),m+=pn(jM||(jM=bu(["L ",",",""])),e+s,t+a-c*p[2]),p[2]>0&&(m+=pn(NM||(NM=bu(["A ",",",",0,0,",`,
        `,",",""])),p[2],p[2],h,e+s-d*p[2],t+a)),m+=pn(wM||(wM=bu(["L ",",",""])),e+d*p[3],t+a),p[3]>0&&(m+=pn(SM||(SM=bu(["A ",",",",0,0,",`,
        `,",",""])),p[3],p[3],h,e,t+a-c*p[3])),m+="Z"}else if(o>0&&n===+n&&n>0){var y=Math.min(o,n);m=pn(_M||(_M=bu(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+c*y,y,y,h,e+d*y,t,e+s-d*y,t,y,y,h,e+s,t+c*y,e+s,t+a-c*y,y,y,h,e+s-d*y,t+a,e+d*y,t+a,y,y,h,e,t+a-c*y)}else m=pn(kM||(kM=bu(["M ",","," h "," v "," h "," Z"])),e,t,s,a,-s);return m},PM={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Q$=e=>{var t=wn(e,PM),s=A.useRef(null),[a,n]=A.useState(-1);A.useEffect(()=>{if(s.current&&s.current.getTotalLength)try{var re=s.current.getTotalLength();re&&n(re)}catch{}},[]);var{x:i,y:l,width:o,height:c,radius:d,className:h}=t,{animationEasing:m,animationDuration:p,animationBegin:x,isAnimationActive:v,isUpdateAnimationActive:y}=t,b=A.useRef(o),j=A.useRef(c),S=A.useRef(i),w=A.useRef(l),k=A.useMemo(()=>({x:i,y:l,width:o,height:c,radius:d}),[i,l,o,c,d]),_=Fg(k,"rectangle-");if(i!==+i||l!==+l||o!==+o||c!==+c||o===0||c===0)return null;var O=Es("recharts-rectangle",h);if(!y){var E=Al(t),{radius:F}=E,I=TM(E,Cce);return A.createElement("path",kN({},I,{x:om(i),y:om(l),width:om(o),height:om(c),radius:typeof d=="number"?d:void 0,className:O,d:EM(i,l,o,c,d)}))}var U=b.current,M=j.current,L=S.current,J=w.current,K="0px ".concat(a===-1?1:a,"px"),ae="".concat(a,"px 0px"),V=Y$(["strokeDasharray"],p,typeof m=="string"?m:PM.animationEasing);return A.createElement(Mg,{animationId:_,key:_,canBegin:a>0,duration:p,easing:m,isActive:y,begin:x},re=>{var X=Hs(U,o,re),Z=Hs(M,c,re),ye=Hs(L,i,re),te=Hs(J,l,re);s.current&&(b.current=X,j.current=Z,S.current=ye,w.current=te);var D;v?re>0?D={transition:V,strokeDasharray:ae}:D={strokeDasharray:K}:D={strokeDasharray:ae};var H=Al(t),{radius:q}=H,W=TM(H,Tce);return A.createElement("path",kN({},W,{radius:typeof d=="number"?d:void 0,className:O,d:EM(ye,te,X,Z,d),ref:s,style:CM(CM({},D),t.style)}))})};function OM(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function DM(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?OM(Object(s),!0).forEach(function(a){Rce(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):OM(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Rce(e,t,s){return(t=Mce(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Mce(e){var t=Fce(e,"string");return typeof t=="symbol"?t:t+""}function Fce(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AN=Math.PI/180,Lce=e=>e*180/Math.PI,Jn=(e,t,s,a)=>({x:e+Math.cos(-AN*a)*s,y:t+Math.sin(-AN*a)*s}),eH=function(t,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(a.left||0)-(a.right||0)),Math.abs(s-(a.top||0)-(a.bottom||0)))/2},Ice=(e,t)=>{var{x:s,y:a}=e,{x:n,y:i}=t;return Math.sqrt((s-n)**2+(a-i)**2)},Bce=(e,t)=>{var{x:s,y:a}=e,{cx:n,cy:i}=t,l=Ice({x:s,y:a},{x:n,y:i});if(l<=0)return{radius:l,angle:0};var o=(s-n)/l,c=Math.acos(o);return a>i&&(c=2*Math.PI-c),{radius:l,angle:Lce(c),angleInRadian:c}},Uce=e=>{var{startAngle:t,endAngle:s}=e,a=Math.floor(t/360),n=Math.floor(s/360),i=Math.min(a,n);return{startAngle:t-i*360,endAngle:s-i*360}},zce=(e,t)=>{var{startAngle:s,endAngle:a}=t,n=Math.floor(s/360),i=Math.floor(a/360),l=Math.min(n,i);return e+l*360},$ce=(e,t)=>{var{chartX:s,chartY:a}=e,{radius:n,angle:i}=Bce({x:s,y:a},t),{innerRadius:l,outerRadius:o}=t;if(n<l||n>o||n===0)return null;var{startAngle:c,endAngle:d}=Uce(t),h=i,m;if(c<=d){for(;h>d;)h-=360;for(;h<c;)h+=360;m=h>=c&&h<=d}else{for(;h>c;)h-=360;for(;h<d;)h+=360;m=h>=d&&h<=c}return m?DM(DM({},t),{},{radius:n,angle:zce(h,t)}):null};function tH(e){var{cx:t,cy:s,radius:a,startAngle:n,endAngle:i}=e,l=Jn(t,s,a,n),o=Jn(t,s,a,i);return{points:[l,o],cx:t,cy:s,radius:a,startAngle:n,endAngle:i}}var RM,MM,FM,LM,IM,BM,UM;function gA(){return gA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},gA.apply(null,arguments)}function N0(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Hce=(e,t)=>{var s=Fi(t-e),a=Math.min(Math.abs(t-e),359.999);return s*a},d2=e=>{var{cx:t,cy:s,radius:a,angle:n,sign:i,isExternal:l,cornerRadius:o,cornerIsExternal:c}=e,d=o*(l?1:-1)+a,h=Math.asin(o/d)/AN,m=c?n:n+i*h,p=Jn(t,s,d,m),x=Jn(t,s,a,m),v=c?n-i*h:n,y=Jn(t,s,d*Math.cos(h*AN),v);return{center:p,circleTangency:x,lineTangency:y,theta:h}},rH=e=>{var{cx:t,cy:s,innerRadius:a,outerRadius:n,startAngle:i,endAngle:l}=e,o=Hce(i,l),c=i+o,d=Jn(t,s,n,i),h=Jn(t,s,n,c),m=pn(RM||(RM=N0(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),d.x,d.y,n,n,+(Math.abs(o)>180),+(i>c),h.x,h.y);if(a>0){var p=Jn(t,s,a,i),x=Jn(t,s,a,c);m+=pn(MM||(MM=N0(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),x.x,x.y,a,a,+(Math.abs(o)>180),+(i<=c),p.x,p.y)}else m+=pn(FM||(FM=N0(["L ",","," Z"])),t,s);return m},qce=e=>{var{cx:t,cy:s,innerRadius:a,outerRadius:n,cornerRadius:i,forceCornerRadius:l,cornerIsExternal:o,startAngle:c,endAngle:d}=e,h=Fi(d-c),{circleTangency:m,lineTangency:p,theta:x}=d2({cx:t,cy:s,radius:n,angle:c,sign:h,cornerRadius:i,cornerIsExternal:o}),{circleTangency:v,lineTangency:y,theta:b}=d2({cx:t,cy:s,radius:n,angle:d,sign:-h,cornerRadius:i,cornerIsExternal:o}),j=o?Math.abs(c-d):Math.abs(c-d)-x-b;if(j<0)return l?pn(LM||(LM=N0(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),p.x,p.y,i,i,i*2,i,i,-i*2):rH({cx:t,cy:s,innerRadius:a,outerRadius:n,startAngle:c,endAngle:d});var S=pn(IM||(IM=N0(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),p.x,p.y,i,i,+(h<0),m.x,m.y,n,n,+(j>180),+(h<0),v.x,v.y,i,i,+(h<0),y.x,y.y);if(a>0){var{circleTangency:w,lineTangency:k,theta:_}=d2({cx:t,cy:s,radius:a,angle:c,sign:h,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),{circleTangency:O,lineTangency:E,theta:F}=d2({cx:t,cy:s,radius:a,angle:d,sign:-h,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),I=o?Math.abs(c-d):Math.abs(c-d)-_-F;if(I<0&&i===0)return"".concat(S,"L").concat(t,",").concat(s,"Z");S+=pn(BM||(BM=N0(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),E.x,E.y,i,i,+(h<0),O.x,O.y,a,a,+(I>180),+(h>0),w.x,w.y,i,i,+(h<0),k.x,k.y)}else S+=pn(UM||(UM=N0(["L",",","Z"])),t,s);return S},Vce={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},sH=e=>{var t=wn(e,Vce),{cx:s,cy:a,innerRadius:n,outerRadius:i,cornerRadius:l,forceCornerRadius:o,cornerIsExternal:c,startAngle:d,endAngle:h,className:m}=t;if(i<n||d===h)return null;var p=Es("recharts-sector",m),x=i-n,v=Sl(l,x,0,!0),y;return v>0&&Math.abs(d-h)<360?y=qce({cx:s,cy:a,innerRadius:n,outerRadius:i,cornerRadius:Math.min(v,x/2),forceCornerRadius:o,cornerIsExternal:c,startAngle:d,endAngle:h}):y=rH({cx:s,cy:a,innerRadius:n,outerRadius:i,startAngle:d,endAngle:h}),A.createElement("path",gA({},Al(t),{className:p,d:y}))};function Wce(e,t,s){if(e==="horizontal")return[{x:t.x,y:s.top},{x:t.x,y:s.top+s.height}];if(e==="vertical")return[{x:s.left,y:t.y},{x:s.left+s.width,y:t.y}];if(Mz(t)){if(e==="centric"){var{cx:a,cy:n,innerRadius:i,outerRadius:l,angle:o}=t,c=Jn(a,n,i,o),d=Jn(a,n,l,o);return[{x:c.x,y:c.y},{x:d.x,y:d.y}]}return tH(t)}}var H3={},q3={},V3={},zM;function Gce(){return zM||(zM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gz();function s(a){return t.isSymbol(a)?NaN:Number(a)}e.toNumber=s})(V3)),V3}var $M;function Kce(){return $M||($M=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gce();function s(a){return a?(a=t.toNumber(a),a===1/0||a===-1/0?(a<0?-1:1)*Number.MAX_VALUE:a===a?a:0):a===0?a:0}e.toFinite=s})(q3)),q3}var HM;function Yce(){return HM||(HM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kz(),s=Kce();function a(n,i,l){l&&typeof l!="number"&&t.isIterateeCall(n,i,l)&&(i=l=void 0),n=s.toFinite(n),i===void 0?(i=n,n=0):i=s.toFinite(i),l=l===void 0?n<i?1:-1:s.toFinite(l);const o=Math.max(Math.ceil((i-n)/(l||1)),0),c=new Array(o);for(let d=0;d<o;d++)c[d]=n,n+=l;return c}e.range=a})(H3)),H3}var W3,qM;function Xce(){return qM||(qM=1,W3=Yce().range),W3}var Zce=Xce();const aH=sf(Zce);function xm(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Jce(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function bC(e){let t,s,a;e.length!==2?(t=xm,s=(o,c)=>xm(e(o),c),a=(o,c)=>e(o)-c):(t=e===xm||e===Jce?e:Qce,s=e,a=e);function n(o,c,d=0,h=o.length){if(d<h){if(t(c,c)!==0)return h;do{const m=d+h>>>1;s(o[m],c)<0?d=m+1:h=m}while(d<h)}return d}function i(o,c,d=0,h=o.length){if(d<h){if(t(c,c)!==0)return h;do{const m=d+h>>>1;s(o[m],c)<=0?d=m+1:h=m}while(d<h)}return d}function l(o,c,d=0,h=o.length){const m=n(o,c,d,h-1);return m>d&&a(o[m-1],c)>-a(o[m],c)?m-1:m}return{left:n,center:l,right:i}}function Qce(){return 0}function nH(e){return e===null?NaN:+e}function*ede(e,t){for(let s of e)s!=null&&(s=+s)>=s&&(yield s)}const tde=bC(xm),Eb=tde.right;bC(nH).center;class VM extends Map{constructor(t,s=ade){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:s}}),t!=null)for(const[a,n]of t)this.set(a,n)}get(t){return super.get(WM(this,t))}has(t){return super.has(WM(this,t))}set(t,s){return super.set(rde(this,t),s)}delete(t){return super.delete(sde(this,t))}}function WM({_intern:e,_key:t},s){const a=t(s);return e.has(a)?e.get(a):s}function rde({_intern:e,_key:t},s){const a=t(s);return e.has(a)?e.get(a):(e.set(a,s),s)}function sde({_intern:e,_key:t},s){const a=t(s);return e.has(a)&&(s=e.get(a),e.delete(a)),s}function ade(e){return e!==null&&typeof e=="object"?e.valueOf():e}function nde(e=xm){if(e===xm)return iH;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,s)=>{const a=e(t,s);return a||a===0?a:(e(s,s)===0)-(e(t,t)===0)}}function iH(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const ide=Math.sqrt(50),lde=Math.sqrt(10),ode=Math.sqrt(2);function CN(e,t,s){const a=(t-e)/Math.max(0,s),n=Math.floor(Math.log10(a)),i=a/Math.pow(10,n),l=i>=ide?10:i>=lde?5:i>=ode?2:1;let o,c,d;return n<0?(d=Math.pow(10,-n)/l,o=Math.round(e*d),c=Math.round(t*d),o/d<e&&++o,c/d>t&&--c,d=-d):(d=Math.pow(10,n)*l,o=Math.round(e/d),c=Math.round(t/d),o*d<e&&++o,c*d>t&&--c),c<o&&.5<=s&&s<2?CN(e,t,s*2):[o,c,d]}function vA(e,t,s){if(t=+t,e=+e,s=+s,!(s>0))return[];if(e===t)return[e];const a=t<e,[n,i,l]=a?CN(t,e,s):CN(e,t,s);if(!(i>=n))return[];const o=i-n+1,c=new Array(o);if(a)if(l<0)for(let d=0;d<o;++d)c[d]=(i-d)/-l;else for(let d=0;d<o;++d)c[d]=(i-d)*l;else if(l<0)for(let d=0;d<o;++d)c[d]=(n+d)/-l;else for(let d=0;d<o;++d)c[d]=(n+d)*l;return c}function yA(e,t,s){return t=+t,e=+e,s=+s,CN(e,t,s)[2]}function bA(e,t,s){t=+t,e=+e,s=+s;const a=t<e,n=a?yA(t,e,s):yA(e,t,s);return(a?-1:1)*(n<0?1/-n:n)}function GM(e,t){let s;for(const a of e)a!=null&&(s<a||s===void 0&&a>=a)&&(s=a);return s}function KM(e,t){let s;for(const a of e)a!=null&&(s>a||s===void 0&&a>=a)&&(s=a);return s}function lH(e,t,s=0,a=1/0,n){if(t=Math.floor(t),s=Math.floor(Math.max(0,s)),a=Math.floor(Math.min(e.length-1,a)),!(s<=t&&t<=a))return e;for(n=n===void 0?iH:nde(n);a>s;){if(a-s>600){const c=a-s+1,d=t-s+1,h=Math.log(c),m=.5*Math.exp(2*h/3),p=.5*Math.sqrt(h*m*(c-m)/c)*(d-c/2<0?-1:1),x=Math.max(s,Math.floor(t-d*m/c+p)),v=Math.min(a,Math.floor(t+(c-d)*m/c+p));lH(e,t,x,v,n)}const i=e[t];let l=s,o=a;for(qv(e,s,t),n(e[a],i)>0&&qv(e,s,a);l<o;){for(qv(e,l,o),++l,--o;n(e[l],i)<0;)++l;for(;n(e[o],i)>0;)--o}n(e[s],i)===0?qv(e,s,o):(++o,qv(e,o,a)),o<=t&&(s=o+1),t<=o&&(a=o-1)}return e}function qv(e,t,s){const a=e[t];e[t]=e[s],e[s]=a}function cde(e,t,s){if(e=Float64Array.from(ede(e)),!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return KM(e);if(t>=1)return GM(e);var a,n=(a-1)*t,i=Math.floor(n),l=GM(lH(e,i).subarray(0,i+1)),o=KM(e.subarray(i+1));return l+(o-l)*(n-i)}}function dde(e,t,s=nH){if(!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return+s(e[0],0,e);if(t>=1)return+s(e[a-1],a-1,e);var a,n=(a-1)*t,i=Math.floor(n),l=+s(e[i],i,e),o=+s(e[i+1],i+1,e);return l+(o-l)*(n-i)}}function ude(e,t,s){e=+e,t=+t,s=(n=arguments.length)<2?(t=e,e=0,1):n<3?1:+s;for(var a=-1,n=Math.max(0,Math.ceil((t-e)/s))|0,i=new Array(n);++a<n;)i[a]=e+a*s;return i}function sd(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function lf(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const jA=Symbol("implicit");function jC(){var e=new VM,t=[],s=[],a=jA;function n(i){let l=e.get(i);if(l===void 0){if(a!==jA)return a;e.set(i,l=t.push(i)-1)}return s[l%s.length]}return n.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new VM;for(const l of i)e.has(l)||e.set(l,t.push(l)-1);return n},n.range=function(i){return arguments.length?(s=Array.from(i),n):s.slice()},n.unknown=function(i){return arguments.length?(a=i,n):a},n.copy=function(){return jC(t,s).unknown(a)},sd.apply(n,arguments),n}function NC(){var e=jC().unknown(void 0),t=e.domain,s=e.range,a=0,n=1,i,l,o=!1,c=0,d=0,h=.5;delete e.unknown;function m(){var p=t().length,x=n<a,v=x?n:a,y=x?a:n;i=(y-v)/Math.max(1,p-c+d*2),o&&(i=Math.floor(i)),v+=(y-v-i*(p-c))*h,l=i*(1-c),o&&(v=Math.round(v),l=Math.round(l));var b=ude(p).map(function(j){return v+i*j});return s(x?b.reverse():b)}return e.domain=function(p){return arguments.length?(t(p),m()):t()},e.range=function(p){return arguments.length?([a,n]=p,a=+a,n=+n,m()):[a,n]},e.rangeRound=function(p){return[a,n]=p,a=+a,n=+n,o=!0,m()},e.bandwidth=function(){return l},e.step=function(){return i},e.round=function(p){return arguments.length?(o=!!p,m()):o},e.padding=function(p){return arguments.length?(c=Math.min(1,d=+p),m()):c},e.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),m()):c},e.paddingOuter=function(p){return arguments.length?(d=+p,m()):d},e.align=function(p){return arguments.length?(h=Math.max(0,Math.min(1,p)),m()):h},e.copy=function(){return NC(t(),[a,n]).round(o).paddingInner(c).paddingOuter(d).align(h)},sd.apply(m(),arguments)}function oH(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return oH(t())},e}function hde(){return oH(NC.apply(null,arguments).paddingInner(1))}function wC(e,t,s){e.prototype=t.prototype=s,s.constructor=e}function cH(e,t){var s=Object.create(e.prototype);for(var a in t)s[a]=t[a];return s}function Pb(){}var qy=.7,TN=1/qy,Qp="\\s*([+-]?\\d+)\\s*",Vy="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fde=/^#([0-9a-f]{3,8})$/,mde=new RegExp(`^rgb\\(${Qp},${Qp},${Qp}\\)$`),xde=new RegExp(`^rgb\\(${Pu},${Pu},${Pu}\\)$`),pde=new RegExp(`^rgba\\(${Qp},${Qp},${Qp},${Vy}\\)$`),gde=new RegExp(`^rgba\\(${Pu},${Pu},${Pu},${Vy}\\)$`),vde=new RegExp(`^hsl\\(${Vy},${Pu},${Pu}\\)$`),yde=new RegExp(`^hsla\\(${Vy},${Pu},${Pu},${Vy}\\)$`),YM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};wC(Pb,Wy,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:XM,formatHex:XM,formatHex8:bde,formatHsl:jde,formatRgb:ZM,toString:ZM});function XM(){return this.rgb().formatHex()}function bde(){return this.rgb().formatHex8()}function jde(){return dH(this).formatHsl()}function ZM(){return this.rgb().formatRgb()}function Wy(e){var t,s;return e=(e+"").trim().toLowerCase(),(t=fde.exec(e))?(s=t[1].length,t=parseInt(t[1],16),s===6?JM(t):s===3?new No(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):s===8?u2(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):s===4?u2(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=mde.exec(e))?new No(t[1],t[2],t[3],1):(t=xde.exec(e))?new No(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=pde.exec(e))?u2(t[1],t[2],t[3],t[4]):(t=gde.exec(e))?u2(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=vde.exec(e))?t7(t[1],t[2]/100,t[3]/100,1):(t=yde.exec(e))?t7(t[1],t[2]/100,t[3]/100,t[4]):YM.hasOwnProperty(e)?JM(YM[e]):e==="transparent"?new No(NaN,NaN,NaN,0):null}function JM(e){return new No(e>>16&255,e>>8&255,e&255,1)}function u2(e,t,s,a){return a<=0&&(e=t=s=NaN),new No(e,t,s,a)}function Nde(e){return e instanceof Pb||(e=Wy(e)),e?(e=e.rgb(),new No(e.r,e.g,e.b,e.opacity)):new No}function NA(e,t,s,a){return arguments.length===1?Nde(e):new No(e,t,s,a??1)}function No(e,t,s,a){this.r=+e,this.g=+t,this.b=+s,this.opacity=+a}wC(No,NA,cH(Pb,{brighter(e){return e=e==null?TN:Math.pow(TN,e),new No(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?qy:Math.pow(qy,e),new No(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new No(P0(this.r),P0(this.g),P0(this.b),EN(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:QM,formatHex:QM,formatHex8:wde,formatRgb:e7,toString:e7}));function QM(){return`#${w0(this.r)}${w0(this.g)}${w0(this.b)}`}function wde(){return`#${w0(this.r)}${w0(this.g)}${w0(this.b)}${w0((isNaN(this.opacity)?1:this.opacity)*255)}`}function e7(){const e=EN(this.opacity);return`${e===1?"rgb(":"rgba("}${P0(this.r)}, ${P0(this.g)}, ${P0(this.b)}${e===1?")":`, ${e})`}`}function EN(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function P0(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function w0(e){return e=P0(e),(e<16?"0":"")+e.toString(16)}function t7(e,t,s,a){return a<=0?e=t=s=NaN:s<=0||s>=1?e=t=NaN:t<=0&&(e=NaN),new Ud(e,t,s,a)}function dH(e){if(e instanceof Ud)return new Ud(e.h,e.s,e.l,e.opacity);if(e instanceof Pb||(e=Wy(e)),!e)return new Ud;if(e instanceof Ud)return e;e=e.rgb();var t=e.r/255,s=e.g/255,a=e.b/255,n=Math.min(t,s,a),i=Math.max(t,s,a),l=NaN,o=i-n,c=(i+n)/2;return o?(t===i?l=(s-a)/o+(s<a)*6:s===i?l=(a-t)/o+2:l=(t-s)/o+4,o/=c<.5?i+n:2-i-n,l*=60):o=c>0&&c<1?0:l,new Ud(l,o,c,e.opacity)}function Sde(e,t,s,a){return arguments.length===1?dH(e):new Ud(e,t,s,a??1)}function Ud(e,t,s,a){this.h=+e,this.s=+t,this.l=+s,this.opacity=+a}wC(Ud,Sde,cH(Pb,{brighter(e){return e=e==null?TN:Math.pow(TN,e),new Ud(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?qy:Math.pow(qy,e),new Ud(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,s=this.l,a=s+(s<.5?s:1-s)*t,n=2*s-a;return new No(G3(e>=240?e-240:e+120,n,a),G3(e,n,a),G3(e<120?e+240:e-120,n,a),this.opacity)},clamp(){return new Ud(r7(this.h),h2(this.s),h2(this.l),EN(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=EN(this.opacity);return`${e===1?"hsl(":"hsla("}${r7(this.h)}, ${h2(this.s)*100}%, ${h2(this.l)*100}%${e===1?")":`, ${e})`}`}}));function r7(e){return e=(e||0)%360,e<0?e+360:e}function h2(e){return Math.max(0,Math.min(1,e||0))}function G3(e,t,s){return(e<60?t+(s-t)*e/60:e<180?s:e<240?t+(s-t)*(240-e)/60:t)*255}const SC=e=>()=>e;function _de(e,t){return function(s){return e+s*t}}function kde(e,t,s){return e=Math.pow(e,s),t=Math.pow(t,s)-e,s=1/s,function(a){return Math.pow(e+a*t,s)}}function Ade(e){return(e=+e)==1?uH:function(t,s){return s-t?kde(t,s,e):SC(isNaN(t)?s:t)}}function uH(e,t){var s=t-e;return s?_de(e,s):SC(isNaN(e)?t:e)}const s7=(function e(t){var s=Ade(t);function a(n,i){var l=s((n=NA(n)).r,(i=NA(i)).r),o=s(n.g,i.g),c=s(n.b,i.b),d=uH(n.opacity,i.opacity);return function(h){return n.r=l(h),n.g=o(h),n.b=c(h),n.opacity=d(h),n+""}}return a.gamma=e,a})(1);function Cde(e,t){t||(t=[]);var s=e?Math.min(t.length,e.length):0,a=t.slice(),n;return function(i){for(n=0;n<s;++n)a[n]=e[n]*(1-i)+t[n]*i;return a}}function Tde(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Ede(e,t){var s=t?t.length:0,a=e?Math.min(s,e.length):0,n=new Array(a),i=new Array(s),l;for(l=0;l<a;++l)n[l]=Lg(e[l],t[l]);for(;l<s;++l)i[l]=t[l];return function(o){for(l=0;l<a;++l)i[l]=n[l](o);return i}}function Pde(e,t){var s=new Date;return e=+e,t=+t,function(a){return s.setTime(e*(1-a)+t*a),s}}function PN(e,t){return e=+e,t=+t,function(s){return e*(1-s)+t*s}}function Ode(e,t){var s={},a={},n;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(n in t)n in e?s[n]=Lg(e[n],t[n]):a[n]=t[n];return function(i){for(n in s)a[n]=s[n](i);return a}}var wA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,K3=new RegExp(wA.source,"g");function Dde(e){return function(){return e}}function Rde(e){return function(t){return e(t)+""}}function Mde(e,t){var s=wA.lastIndex=K3.lastIndex=0,a,n,i,l=-1,o=[],c=[];for(e=e+"",t=t+"";(a=wA.exec(e))&&(n=K3.exec(t));)(i=n.index)>s&&(i=t.slice(s,i),o[l]?o[l]+=i:o[++l]=i),(a=a[0])===(n=n[0])?o[l]?o[l]+=n:o[++l]=n:(o[++l]=null,c.push({i:l,x:PN(a,n)})),s=K3.lastIndex;return s<t.length&&(i=t.slice(s),o[l]?o[l]+=i:o[++l]=i),o.length<2?c[0]?Rde(c[0].x):Dde(t):(t=c.length,function(d){for(var h=0,m;h<t;++h)o[(m=c[h]).i]=m.x(d);return o.join("")})}function Lg(e,t){var s=typeof t,a;return t==null||s==="boolean"?SC(t):(s==="number"?PN:s==="string"?(a=Wy(t))?(t=a,s7):Mde:t instanceof Wy?s7:t instanceof Date?Pde:Tde(t)?Cde:Array.isArray(t)?Ede:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Ode:PN)(e,t)}function _C(e,t){return e=+e,t=+t,function(s){return Math.round(e*(1-s)+t*s)}}function Fde(e,t){t===void 0&&(t=e,e=Lg);for(var s=0,a=t.length-1,n=t[0],i=new Array(a<0?0:a);s<a;)i[s]=e(n,n=t[++s]);return function(l){var o=Math.max(0,Math.min(a-1,Math.floor(l*=a)));return i[o](l-o)}}function Lde(e){return function(){return e}}function ON(e){return+e}var a7=[0,1];function Hl(e){return e}function SA(e,t){return(t-=e=+e)?function(s){return(s-e)/t}:Lde(isNaN(t)?NaN:.5)}function Ide(e,t){var s;return e>t&&(s=e,e=t,t=s),function(a){return Math.max(e,Math.min(t,a))}}function Bde(e,t,s){var a=e[0],n=e[1],i=t[0],l=t[1];return n<a?(a=SA(n,a),i=s(l,i)):(a=SA(a,n),i=s(i,l)),function(o){return i(a(o))}}function Ude(e,t,s){var a=Math.min(e.length,t.length)-1,n=new Array(a),i=new Array(a),l=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<a;)n[l]=SA(e[l],e[l+1]),i[l]=s(t[l],t[l+1]);return function(o){var c=Eb(e,o,1,a)-1;return i[c](n[c](o))}}function Ob(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function i5(){var e=a7,t=a7,s=Lg,a,n,i,l=Hl,o,c,d;function h(){var p=Math.min(e.length,t.length);return l!==Hl&&(l=Ide(e[0],e[p-1])),o=p>2?Ude:Bde,c=d=null,m}function m(p){return p==null||isNaN(p=+p)?i:(c||(c=o(e.map(a),t,s)))(a(l(p)))}return m.invert=function(p){return l(n((d||(d=o(t,e.map(a),PN)))(p)))},m.domain=function(p){return arguments.length?(e=Array.from(p,ON),h()):e.slice()},m.range=function(p){return arguments.length?(t=Array.from(p),h()):t.slice()},m.rangeRound=function(p){return t=Array.from(p),s=_C,h()},m.clamp=function(p){return arguments.length?(l=p?!0:Hl,h()):l!==Hl},m.interpolate=function(p){return arguments.length?(s=p,h()):s},m.unknown=function(p){return arguments.length?(i=p,m):i},function(p,x){return a=p,n=x,h()}}function kC(){return i5()(Hl,Hl)}function zde(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function DN(e,t){if((s=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var s,a=e.slice(0,s);return[a.length>1?a[0]+a.slice(2):a,+e.slice(s+1)]}function mg(e){return e=DN(Math.abs(e)),e?e[1]:NaN}function $de(e,t){return function(s,a){for(var n=s.length,i=[],l=0,o=e[0],c=0;n>0&&o>0&&(c+o+1>a&&(o=Math.max(1,a-c)),i.push(s.substring(n-=o,n+o)),!((c+=o+1)>a));)o=e[l=(l+1)%e.length];return i.reverse().join(t)}}function Hde(e){return function(t){return t.replace(/[0-9]/g,function(s){return e[+s]})}}var qde=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Gy(e){if(!(t=qde.exec(e)))throw new Error("invalid format: "+e);var t;return new AC({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Gy.prototype=AC.prototype;function AC(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}AC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Vde(e){e:for(var t=e.length,s=1,a=-1,n;s<t;++s)switch(e[s]){case".":a=n=s;break;case"0":a===0&&(a=s),n=s;break;default:if(!+e[s])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(n+1):e}var hH;function Wde(e,t){var s=DN(e,t);if(!s)return e+"";var a=s[0],n=s[1],i=n-(hH=Math.max(-8,Math.min(8,Math.floor(n/3)))*3)+1,l=a.length;return i===l?a:i>l?a+new Array(i-l+1).join("0"):i>0?a.slice(0,i)+"."+a.slice(i):"0."+new Array(1-i).join("0")+DN(e,Math.max(0,t+i-1))[0]}function n7(e,t){var s=DN(e,t);if(!s)return e+"";var a=s[0],n=s[1];return n<0?"0."+new Array(-n).join("0")+a:a.length>n+1?a.slice(0,n+1)+"."+a.slice(n+1):a+new Array(n-a.length+2).join("0")}const i7={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:zde,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>n7(e*100,t),r:n7,s:Wde,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function l7(e){return e}var o7=Array.prototype.map,c7=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Gde(e){var t=e.grouping===void 0||e.thousands===void 0?l7:$de(o7.call(e.grouping,Number),e.thousands+""),s=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",n=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?l7:Hde(o7.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(m){m=Gy(m);var p=m.fill,x=m.align,v=m.sign,y=m.symbol,b=m.zero,j=m.width,S=m.comma,w=m.precision,k=m.trim,_=m.type;_==="n"?(S=!0,_="g"):i7[_]||(w===void 0&&(w=12),k=!0,_="g"),(b||p==="0"&&x==="=")&&(b=!0,p="0",x="=");var O=y==="$"?s:y==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",E=y==="$"?a:/[%p]/.test(_)?l:"",F=i7[_],I=/[defgprs%]/.test(_);w=w===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function U(M){var L=O,J=E,K,ae,V;if(_==="c")J=F(M)+J,M="";else{M=+M;var re=M<0||1/M<0;if(M=isNaN(M)?c:F(Math.abs(M),w),k&&(M=Vde(M)),re&&+M==0&&v!=="+"&&(re=!1),L=(re?v==="("?v:o:v==="-"||v==="("?"":v)+L,J=(_==="s"?c7[8+hH/3]:"")+J+(re&&v==="("?")":""),I){for(K=-1,ae=M.length;++K<ae;)if(V=M.charCodeAt(K),48>V||V>57){J=(V===46?n+M.slice(K+1):M.slice(K))+J,M=M.slice(0,K);break}}}S&&!b&&(M=t(M,1/0));var X=L.length+M.length+J.length,Z=X<j?new Array(j-X+1).join(p):"";switch(S&&b&&(M=t(Z+M,Z.length?j-J.length:1/0),Z=""),x){case"<":M=L+M+J+Z;break;case"=":M=L+Z+M+J;break;case"^":M=Z.slice(0,X=Z.length>>1)+L+M+J+Z.slice(X);break;default:M=Z+L+M+J;break}return i(M)}return U.toString=function(){return m+""},U}function h(m,p){var x=d((m=Gy(m),m.type="f",m)),v=Math.max(-8,Math.min(8,Math.floor(mg(p)/3)))*3,y=Math.pow(10,-v),b=c7[8+v/3];return function(j){return x(y*j)+b}}return{format:d,formatPrefix:h}}var f2,CC,fH;Kde({thousands:",",grouping:[3],currency:["$",""]});function Kde(e){return f2=Gde(e),CC=f2.format,fH=f2.formatPrefix,f2}function Yde(e){return Math.max(0,-mg(Math.abs(e)))}function Xde(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(mg(t)/3)))*3-mg(Math.abs(e)))}function Zde(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,mg(t)-mg(e))+1}function mH(e,t,s,a){var n=bA(e,t,s),i;switch(a=Gy(a??",f"),a.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return a.precision==null&&!isNaN(i=Xde(n,l))&&(a.precision=i),fH(a,l)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(i=Zde(n,Math.max(Math.abs(e),Math.abs(t))))&&(a.precision=i-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(i=Yde(n))&&(a.precision=i-(a.type==="%")*2);break}}return CC(a)}function Om(e){var t=e.domain;return e.ticks=function(s){var a=t();return vA(a[0],a[a.length-1],s??10)},e.tickFormat=function(s,a){var n=t();return mH(n[0],n[n.length-1],s??10,a)},e.nice=function(s){s==null&&(s=10);var a=t(),n=0,i=a.length-1,l=a[n],o=a[i],c,d,h=10;for(o<l&&(d=l,l=o,o=d,d=n,n=i,i=d);h-- >0;){if(d=yA(l,o,s),d===c)return a[n]=l,a[i]=o,t(a);if(d>0)l=Math.floor(l/d)*d,o=Math.ceil(o/d)*d;else if(d<0)l=Math.ceil(l*d)/d,o=Math.floor(o*d)/d;else break;c=d}return e},e}function xH(){var e=kC();return e.copy=function(){return Ob(e,xH())},sd.apply(e,arguments),Om(e)}function pH(e){var t;function s(a){return a==null||isNaN(a=+a)?t:a}return s.invert=s,s.domain=s.range=function(a){return arguments.length?(e=Array.from(a,ON),s):e.slice()},s.unknown=function(a){return arguments.length?(t=a,s):t},s.copy=function(){return pH(e).unknown(t)},e=arguments.length?Array.from(e,ON):[0,1],Om(s)}function gH(e,t){e=e.slice();var s=0,a=e.length-1,n=e[s],i=e[a],l;return i<n&&(l=s,s=a,a=l,l=n,n=i,i=l),e[s]=t.floor(n),e[a]=t.ceil(i),e}function d7(e){return Math.log(e)}function u7(e){return Math.exp(e)}function Jde(e){return-Math.log(-e)}function Qde(e){return-Math.exp(-e)}function eue(e){return isFinite(e)?+("1e"+e):e<0?0:e}function tue(e){return e===10?eue:e===Math.E?Math.exp:t=>Math.pow(e,t)}function rue(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function h7(e){return(t,s)=>-e(-t,s)}function TC(e){const t=e(d7,u7),s=t.domain;let a=10,n,i;function l(){return n=rue(a),i=tue(a),s()[0]<0?(n=h7(n),i=h7(i),e(Jde,Qde)):e(d7,u7),t}return t.base=function(o){return arguments.length?(a=+o,l()):a},t.domain=function(o){return arguments.length?(s(o),l()):s()},t.ticks=o=>{const c=s();let d=c[0],h=c[c.length-1];const m=h<d;m&&([d,h]=[h,d]);let p=n(d),x=n(h),v,y;const b=o==null?10:+o;let j=[];if(!(a%1)&&x-p<b){if(p=Math.floor(p),x=Math.ceil(x),d>0){for(;p<=x;++p)for(v=1;v<a;++v)if(y=p<0?v/i(-p):v*i(p),!(y<d)){if(y>h)break;j.push(y)}}else for(;p<=x;++p)for(v=a-1;v>=1;--v)if(y=p>0?v/i(-p):v*i(p),!(y<d)){if(y>h)break;j.push(y)}j.length*2<b&&(j=vA(d,h,b))}else j=vA(p,x,Math.min(x-p,b)).map(i);return m?j.reverse():j},t.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=a===10?"s":","),typeof c!="function"&&(!(a%1)&&(c=Gy(c)).precision==null&&(c.trim=!0),c=CC(c)),o===1/0)return c;const d=Math.max(1,a*o/t.ticks().length);return h=>{let m=h/i(Math.round(n(h)));return m*a<a-.5&&(m*=a),m<=d?c(h):""}},t.nice=()=>s(gH(s(),{floor:o=>i(Math.floor(n(o))),ceil:o=>i(Math.ceil(n(o)))})),t}function vH(){const e=TC(i5()).domain([1,10]);return e.copy=()=>Ob(e,vH()).base(e.base()),sd.apply(e,arguments),e}function f7(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function m7(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function EC(e){var t=1,s=e(f7(t),m7(t));return s.constant=function(a){return arguments.length?e(f7(t=+a),m7(t)):t},Om(s)}function yH(){var e=EC(i5());return e.copy=function(){return Ob(e,yH()).constant(e.constant())},sd.apply(e,arguments)}function x7(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function sue(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function aue(e){return e<0?-e*e:e*e}function PC(e){var t=e(Hl,Hl),s=1;function a(){return s===1?e(Hl,Hl):s===.5?e(sue,aue):e(x7(s),x7(1/s))}return t.exponent=function(n){return arguments.length?(s=+n,a()):s},Om(t)}function OC(){var e=PC(i5());return e.copy=function(){return Ob(e,OC()).exponent(e.exponent())},sd.apply(e,arguments),e}function nue(){return OC.apply(null,arguments).exponent(.5)}function p7(e){return Math.sign(e)*e*e}function iue(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function bH(){var e=kC(),t=[0,1],s=!1,a;function n(i){var l=iue(e(i));return isNaN(l)?a:s?Math.round(l):l}return n.invert=function(i){return e.invert(p7(i))},n.domain=function(i){return arguments.length?(e.domain(i),n):e.domain()},n.range=function(i){return arguments.length?(e.range((t=Array.from(i,ON)).map(p7)),n):t.slice()},n.rangeRound=function(i){return n.range(i).round(!0)},n.round=function(i){return arguments.length?(s=!!i,n):s},n.clamp=function(i){return arguments.length?(e.clamp(i),n):e.clamp()},n.unknown=function(i){return arguments.length?(a=i,n):a},n.copy=function(){return bH(e.domain(),t).round(s).clamp(e.clamp()).unknown(a)},sd.apply(n,arguments),Om(n)}function jH(){var e=[],t=[],s=[],a;function n(){var l=0,o=Math.max(1,t.length);for(s=new Array(o-1);++l<o;)s[l-1]=dde(e,l/o);return i}function i(l){return l==null||isNaN(l=+l)?a:t[Eb(s,l)]}return i.invertExtent=function(l){var o=t.indexOf(l);return o<0?[NaN,NaN]:[o>0?s[o-1]:e[0],o<s.length?s[o]:e[e.length-1]]},i.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let o of l)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(xm),n()},i.range=function(l){return arguments.length?(t=Array.from(l),n()):t.slice()},i.unknown=function(l){return arguments.length?(a=l,i):a},i.quantiles=function(){return s.slice()},i.copy=function(){return jH().domain(e).range(t).unknown(a)},sd.apply(i,arguments)}function NH(){var e=0,t=1,s=1,a=[.5],n=[0,1],i;function l(c){return c!=null&&c<=c?n[Eb(a,c,0,s)]:i}function o(){var c=-1;for(a=new Array(s);++c<s;)a[c]=((c+1)*t-(c-s)*e)/(s+1);return l}return l.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,o()):[e,t]},l.range=function(c){return arguments.length?(s=(n=Array.from(c)).length-1,o()):n.slice()},l.invertExtent=function(c){var d=n.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,a[0]]:d>=s?[a[s-1],t]:[a[d-1],a[d]]},l.unknown=function(c){return arguments.length&&(i=c),l},l.thresholds=function(){return a.slice()},l.copy=function(){return NH().domain([e,t]).range(n).unknown(i)},sd.apply(Om(l),arguments)}function wH(){var e=[.5],t=[0,1],s,a=1;function n(i){return i!=null&&i<=i?t[Eb(e,i,0,a)]:s}return n.domain=function(i){return arguments.length?(e=Array.from(i),a=Math.min(e.length,t.length-1),n):e.slice()},n.range=function(i){return arguments.length?(t=Array.from(i),a=Math.min(e.length,t.length-1),n):t.slice()},n.invertExtent=function(i){var l=t.indexOf(i);return[e[l-1],e[l]]},n.unknown=function(i){return arguments.length?(s=i,n):s},n.copy=function(){return wH().domain(e).range(t).unknown(s)},sd.apply(n,arguments)}const Y3=new Date,X3=new Date;function bi(e,t,s,a){function n(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return n.floor=i=>(e(i=new Date(+i)),i),n.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),n.round=i=>{const l=n(i),o=n.ceil(i);return i-l<o-i?l:o},n.offset=(i,l)=>(t(i=new Date(+i),l==null?1:Math.floor(l)),i),n.range=(i,l,o)=>{const c=[];if(i=n.ceil(i),o=o==null?1:Math.floor(o),!(i<l)||!(o>0))return c;let d;do c.push(d=new Date(+i)),t(i,o),e(i);while(d<i&&i<l);return c},n.filter=i=>bi(l=>{if(l>=l)for(;e(l),!i(l);)l.setTime(l-1)},(l,o)=>{if(l>=l)if(o<0)for(;++o<=0;)for(;t(l,-1),!i(l););else for(;--o>=0;)for(;t(l,1),!i(l););}),s&&(n.count=(i,l)=>(Y3.setTime(+i),X3.setTime(+l),e(Y3),e(X3),Math.floor(s(Y3,X3))),n.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?n.filter(a?l=>a(l)%i===0:l=>n.count(0,l)%i===0):n)),n}const RN=bi(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);RN.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?bi(t=>{t.setTime(Math.floor(t/e)*e)},(t,s)=>{t.setTime(+t+s*e)},(t,s)=>(s-t)/e):RN);RN.range;const Dh=1e3,Hc=Dh*60,Rh=Hc*60,Xh=Rh*24,DC=Xh*7,g7=Xh*30,Z3=Xh*365,S0=bi(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Dh)},(e,t)=>(t-e)/Dh,e=>e.getUTCSeconds());S0.range;const RC=bi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Dh)},(e,t)=>{e.setTime(+e+t*Hc)},(e,t)=>(t-e)/Hc,e=>e.getMinutes());RC.range;const MC=bi(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Hc)},(e,t)=>(t-e)/Hc,e=>e.getUTCMinutes());MC.range;const FC=bi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Dh-e.getMinutes()*Hc)},(e,t)=>{e.setTime(+e+t*Rh)},(e,t)=>(t-e)/Rh,e=>e.getHours());FC.range;const LC=bi(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Rh)},(e,t)=>(t-e)/Rh,e=>e.getUTCHours());LC.range;const Db=bi(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Hc)/Xh,e=>e.getDate()-1);Db.range;const l5=bi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Xh,e=>e.getUTCDate()-1);l5.range;const SH=bi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Xh,e=>Math.floor(e/Xh));SH.range;function px(e){return bi(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,s)=>{t.setDate(t.getDate()+s*7)},(t,s)=>(s-t-(s.getTimezoneOffset()-t.getTimezoneOffset())*Hc)/DC)}const o5=px(0),MN=px(1),lue=px(2),oue=px(3),xg=px(4),cue=px(5),due=px(6);o5.range;MN.range;lue.range;oue.range;xg.range;cue.range;due.range;function gx(e){return bi(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,s)=>{t.setUTCDate(t.getUTCDate()+s*7)},(t,s)=>(s-t)/DC)}const c5=gx(0),FN=gx(1),uue=gx(2),hue=gx(3),pg=gx(4),fue=gx(5),mue=gx(6);c5.range;FN.range;uue.range;hue.range;pg.range;fue.range;mue.range;const IC=bi(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());IC.range;const BC=bi(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());BC.range;const Zh=bi(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Zh.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:bi(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,s)=>{t.setFullYear(t.getFullYear()+s*e)});Zh.range;const Jh=bi(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Jh.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:bi(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,s)=>{t.setUTCFullYear(t.getUTCFullYear()+s*e)});Jh.range;function _H(e,t,s,a,n,i){const l=[[S0,1,Dh],[S0,5,5*Dh],[S0,15,15*Dh],[S0,30,30*Dh],[i,1,Hc],[i,5,5*Hc],[i,15,15*Hc],[i,30,30*Hc],[n,1,Rh],[n,3,3*Rh],[n,6,6*Rh],[n,12,12*Rh],[a,1,Xh],[a,2,2*Xh],[s,1,DC],[t,1,g7],[t,3,3*g7],[e,1,Z3]];function o(d,h,m){const p=h<d;p&&([d,h]=[h,d]);const x=m&&typeof m.range=="function"?m:c(d,h,m),v=x?x.range(d,+h+1):[];return p?v.reverse():v}function c(d,h,m){const p=Math.abs(h-d)/m,x=bC(([,,b])=>b).right(l,p);if(x===l.length)return e.every(bA(d/Z3,h/Z3,m));if(x===0)return RN.every(Math.max(bA(d,h,m),1));const[v,y]=l[p/l[x-1][2]<l[x][2]/p?x-1:x];return v.every(y)}return[o,c]}const[xue,pue]=_H(Jh,BC,c5,SH,LC,MC),[gue,vue]=_H(Zh,IC,o5,Db,FC,RC);function J3(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Q3(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Vv(e,t,s){return{y:e,m:t,d:s,H:0,M:0,S:0,L:0}}function yue(e){var t=e.dateTime,s=e.date,a=e.time,n=e.periods,i=e.days,l=e.shortDays,o=e.months,c=e.shortMonths,d=Wv(n),h=Gv(n),m=Wv(i),p=Gv(i),x=Wv(l),v=Gv(l),y=Wv(o),b=Gv(o),j=Wv(c),S=Gv(c),w={a:re,A:X,b:Z,B:ye,c:null,d:w7,e:w7,f:$ue,g:Jue,G:ehe,H:Bue,I:Uue,j:zue,L:kH,m:Hue,M:que,p:te,q:D,Q:k7,s:A7,S:Vue,u:Wue,U:Gue,V:Kue,w:Yue,W:Xue,x:null,X:null,y:Zue,Y:Que,Z:the,"%":_7},k={a:H,A:q,b:W,B:G,c:null,d:S7,e:S7,f:nhe,g:xhe,G:ghe,H:rhe,I:she,j:ahe,L:CH,m:ihe,M:lhe,p:fe,q:Se,Q:k7,s:A7,S:ohe,u:che,U:dhe,V:uhe,w:hhe,W:fhe,x:null,X:null,y:mhe,Y:phe,Z:vhe,"%":_7},_={a:U,A:M,b:L,B:J,c:K,d:j7,e:j7,f:Mue,g:b7,G:y7,H:N7,I:N7,j:Pue,L:Rue,m:Eue,M:Oue,p:I,q:Tue,Q:Lue,s:Iue,S:Due,u:Sue,U:_ue,V:kue,w:wue,W:Aue,x:ae,X:V,y:b7,Y:y7,Z:Cue,"%":Fue};w.x=O(s,w),w.X=O(a,w),w.c=O(t,w),k.x=O(s,k),k.X=O(a,k),k.c=O(t,k);function O(se,ge){return function(Be){var ee=[],at=-1,nt=0,xe=se.length,ot,ut,Re;for(Be instanceof Date||(Be=new Date(+Be));++at<xe;)se.charCodeAt(at)===37&&(ee.push(se.slice(nt,at)),(ut=v7[ot=se.charAt(++at)])!=null?ot=se.charAt(++at):ut=ot==="e"?" ":"0",(Re=ge[ot])&&(ot=Re(Be,ut)),ee.push(ot),nt=at+1);return ee.push(se.slice(nt,at)),ee.join("")}}function E(se,ge){return function(Be){var ee=Vv(1900,void 0,1),at=F(ee,se,Be+="",0),nt,xe;if(at!=Be.length)return null;if("Q"in ee)return new Date(ee.Q);if("s"in ee)return new Date(ee.s*1e3+("L"in ee?ee.L:0));if(ge&&!("Z"in ee)&&(ee.Z=0),"p"in ee&&(ee.H=ee.H%12+ee.p*12),ee.m===void 0&&(ee.m="q"in ee?ee.q:0),"V"in ee){if(ee.V<1||ee.V>53)return null;"w"in ee||(ee.w=1),"Z"in ee?(nt=Q3(Vv(ee.y,0,1)),xe=nt.getUTCDay(),nt=xe>4||xe===0?FN.ceil(nt):FN(nt),nt=l5.offset(nt,(ee.V-1)*7),ee.y=nt.getUTCFullYear(),ee.m=nt.getUTCMonth(),ee.d=nt.getUTCDate()+(ee.w+6)%7):(nt=J3(Vv(ee.y,0,1)),xe=nt.getDay(),nt=xe>4||xe===0?MN.ceil(nt):MN(nt),nt=Db.offset(nt,(ee.V-1)*7),ee.y=nt.getFullYear(),ee.m=nt.getMonth(),ee.d=nt.getDate()+(ee.w+6)%7)}else("W"in ee||"U"in ee)&&("w"in ee||(ee.w="u"in ee?ee.u%7:"W"in ee?1:0),xe="Z"in ee?Q3(Vv(ee.y,0,1)).getUTCDay():J3(Vv(ee.y,0,1)).getDay(),ee.m=0,ee.d="W"in ee?(ee.w+6)%7+ee.W*7-(xe+5)%7:ee.w+ee.U*7-(xe+6)%7);return"Z"in ee?(ee.H+=ee.Z/100|0,ee.M+=ee.Z%100,Q3(ee)):J3(ee)}}function F(se,ge,Be,ee){for(var at=0,nt=ge.length,xe=Be.length,ot,ut;at<nt;){if(ee>=xe)return-1;if(ot=ge.charCodeAt(at++),ot===37){if(ot=ge.charAt(at++),ut=_[ot in v7?ge.charAt(at++):ot],!ut||(ee=ut(se,Be,ee))<0)return-1}else if(ot!=Be.charCodeAt(ee++))return-1}return ee}function I(se,ge,Be){var ee=d.exec(ge.slice(Be));return ee?(se.p=h.get(ee[0].toLowerCase()),Be+ee[0].length):-1}function U(se,ge,Be){var ee=x.exec(ge.slice(Be));return ee?(se.w=v.get(ee[0].toLowerCase()),Be+ee[0].length):-1}function M(se,ge,Be){var ee=m.exec(ge.slice(Be));return ee?(se.w=p.get(ee[0].toLowerCase()),Be+ee[0].length):-1}function L(se,ge,Be){var ee=j.exec(ge.slice(Be));return ee?(se.m=S.get(ee[0].toLowerCase()),Be+ee[0].length):-1}function J(se,ge,Be){var ee=y.exec(ge.slice(Be));return ee?(se.m=b.get(ee[0].toLowerCase()),Be+ee[0].length):-1}function K(se,ge,Be){return F(se,t,ge,Be)}function ae(se,ge,Be){return F(se,s,ge,Be)}function V(se,ge,Be){return F(se,a,ge,Be)}function re(se){return l[se.getDay()]}function X(se){return i[se.getDay()]}function Z(se){return c[se.getMonth()]}function ye(se){return o[se.getMonth()]}function te(se){return n[+(se.getHours()>=12)]}function D(se){return 1+~~(se.getMonth()/3)}function H(se){return l[se.getUTCDay()]}function q(se){return i[se.getUTCDay()]}function W(se){return c[se.getUTCMonth()]}function G(se){return o[se.getUTCMonth()]}function fe(se){return n[+(se.getUTCHours()>=12)]}function Se(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var ge=O(se+="",w);return ge.toString=function(){return se},ge},parse:function(se){var ge=E(se+="",!1);return ge.toString=function(){return se},ge},utcFormat:function(se){var ge=O(se+="",k);return ge.toString=function(){return se},ge},utcParse:function(se){var ge=E(se+="",!0);return ge.toString=function(){return se},ge}}}var v7={"-":"",_:" ",0:"0"},zi=/^\s*\d+/,bue=/^%/,jue=/[\\^$*+?|[\]().{}]/g;function Ms(e,t,s){var a=e<0?"-":"",n=(a?-e:e)+"",i=n.length;return a+(i<s?new Array(s-i+1).join(t)+n:n)}function Nue(e){return e.replace(jue,"\\$&")}function Wv(e){return new RegExp("^(?:"+e.map(Nue).join("|")+")","i")}function Gv(e){return new Map(e.map((t,s)=>[t.toLowerCase(),s]))}function wue(e,t,s){var a=zi.exec(t.slice(s,s+1));return a?(e.w=+a[0],s+a[0].length):-1}function Sue(e,t,s){var a=zi.exec(t.slice(s,s+1));return a?(e.u=+a[0],s+a[0].length):-1}function _ue(e,t,s){var a=zi.exec(t.slice(s,s+2));return a?(e.U=+a[0],s+a[0].length):-1}function kue(e,t,s){var a=zi.exec(t.slice(s,s+2));return a?(e.V=+a[0],s+a[0].length):-1}function Aue(e,t,s){var a=zi.exec(t.slice(s,s+2));return a?(e.W=+a[0],s+a[0].length):-1}function y7(e,t,s){var a=zi.exec(t.slice(s,s+4));return a?(e.y=+a[0],s+a[0].length):-1}function b7(e,t,s){var a=zi.exec(t.slice(s,s+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),s+a[0].length):-1}function Cue(e,t,s){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(s,s+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),s+a[0].length):-1}function Tue(e,t,s){var a=zi.exec(t.slice(s,s+1));return a?(e.q=a[0]*3-3,s+a[0].length):-1}function Eue(e,t,s){var a=zi.exec(t.slice(s,s+2));return a?(e.m=a[0]-1,s+a[0].length):-1}function j7(e,t,s){var a=zi.exec(t.slice(s,s+2));return a?(e.d=+a[0],s+a[0].length):-1}function Pue(e,t,s){var a=zi.exec(t.slice(s,s+3));return a?(e.m=0,e.d=+a[0],s+a[0].length):-1}function N7(e,t,s){var a=zi.exec(t.slice(s,s+2));return a?(e.H=+a[0],s+a[0].length):-1}function Oue(e,t,s){var a=zi.exec(t.slice(s,s+2));return a?(e.M=+a[0],s+a[0].length):-1}function Due(e,t,s){var a=zi.exec(t.slice(s,s+2));return a?(e.S=+a[0],s+a[0].length):-1}function Rue(e,t,s){var a=zi.exec(t.slice(s,s+3));return a?(e.L=+a[0],s+a[0].length):-1}function Mue(e,t,s){var a=zi.exec(t.slice(s,s+6));return a?(e.L=Math.floor(a[0]/1e3),s+a[0].length):-1}function Fue(e,t,s){var a=bue.exec(t.slice(s,s+1));return a?s+a[0].length:-1}function Lue(e,t,s){var a=zi.exec(t.slice(s));return a?(e.Q=+a[0],s+a[0].length):-1}function Iue(e,t,s){var a=zi.exec(t.slice(s));return a?(e.s=+a[0],s+a[0].length):-1}function w7(e,t){return Ms(e.getDate(),t,2)}function Bue(e,t){return Ms(e.getHours(),t,2)}function Uue(e,t){return Ms(e.getHours()%12||12,t,2)}function zue(e,t){return Ms(1+Db.count(Zh(e),e),t,3)}function kH(e,t){return Ms(e.getMilliseconds(),t,3)}function $ue(e,t){return kH(e,t)+"000"}function Hue(e,t){return Ms(e.getMonth()+1,t,2)}function que(e,t){return Ms(e.getMinutes(),t,2)}function Vue(e,t){return Ms(e.getSeconds(),t,2)}function Wue(e){var t=e.getDay();return t===0?7:t}function Gue(e,t){return Ms(o5.count(Zh(e)-1,e),t,2)}function AH(e){var t=e.getDay();return t>=4||t===0?xg(e):xg.ceil(e)}function Kue(e,t){return e=AH(e),Ms(xg.count(Zh(e),e)+(Zh(e).getDay()===4),t,2)}function Yue(e){return e.getDay()}function Xue(e,t){return Ms(MN.count(Zh(e)-1,e),t,2)}function Zue(e,t){return Ms(e.getFullYear()%100,t,2)}function Jue(e,t){return e=AH(e),Ms(e.getFullYear()%100,t,2)}function Que(e,t){return Ms(e.getFullYear()%1e4,t,4)}function ehe(e,t){var s=e.getDay();return e=s>=4||s===0?xg(e):xg.ceil(e),Ms(e.getFullYear()%1e4,t,4)}function the(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ms(t/60|0,"0",2)+Ms(t%60,"0",2)}function S7(e,t){return Ms(e.getUTCDate(),t,2)}function rhe(e,t){return Ms(e.getUTCHours(),t,2)}function she(e,t){return Ms(e.getUTCHours()%12||12,t,2)}function ahe(e,t){return Ms(1+l5.count(Jh(e),e),t,3)}function CH(e,t){return Ms(e.getUTCMilliseconds(),t,3)}function nhe(e,t){return CH(e,t)+"000"}function ihe(e,t){return Ms(e.getUTCMonth()+1,t,2)}function lhe(e,t){return Ms(e.getUTCMinutes(),t,2)}function ohe(e,t){return Ms(e.getUTCSeconds(),t,2)}function che(e){var t=e.getUTCDay();return t===0?7:t}function dhe(e,t){return Ms(c5.count(Jh(e)-1,e),t,2)}function TH(e){var t=e.getUTCDay();return t>=4||t===0?pg(e):pg.ceil(e)}function uhe(e,t){return e=TH(e),Ms(pg.count(Jh(e),e)+(Jh(e).getUTCDay()===4),t,2)}function hhe(e){return e.getUTCDay()}function fhe(e,t){return Ms(FN.count(Jh(e)-1,e),t,2)}function mhe(e,t){return Ms(e.getUTCFullYear()%100,t,2)}function xhe(e,t){return e=TH(e),Ms(e.getUTCFullYear()%100,t,2)}function phe(e,t){return Ms(e.getUTCFullYear()%1e4,t,4)}function ghe(e,t){var s=e.getUTCDay();return e=s>=4||s===0?pg(e):pg.ceil(e),Ms(e.getUTCFullYear()%1e4,t,4)}function vhe(){return"+0000"}function _7(){return"%"}function k7(e){return+e}function A7(e){return Math.floor(+e/1e3)}var yp,EH,PH;yhe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function yhe(e){return yp=yue(e),EH=yp.format,yp.parse,PH=yp.utcFormat,yp.utcParse,yp}function bhe(e){return new Date(e)}function jhe(e){return e instanceof Date?+e:+new Date(+e)}function UC(e,t,s,a,n,i,l,o,c,d){var h=kC(),m=h.invert,p=h.domain,x=d(".%L"),v=d(":%S"),y=d("%I:%M"),b=d("%I %p"),j=d("%a %d"),S=d("%b %d"),w=d("%B"),k=d("%Y");function _(O){return(c(O)<O?x:o(O)<O?v:l(O)<O?y:i(O)<O?b:a(O)<O?n(O)<O?j:S:s(O)<O?w:k)(O)}return h.invert=function(O){return new Date(m(O))},h.domain=function(O){return arguments.length?p(Array.from(O,jhe)):p().map(bhe)},h.ticks=function(O){var E=p();return e(E[0],E[E.length-1],O??10)},h.tickFormat=function(O,E){return E==null?_:d(E)},h.nice=function(O){var E=p();return(!O||typeof O.range!="function")&&(O=t(E[0],E[E.length-1],O??10)),O?p(gH(E,O)):h},h.copy=function(){return Ob(h,UC(e,t,s,a,n,i,l,o,c,d))},h}function Nhe(){return sd.apply(UC(gue,vue,Zh,IC,o5,Db,FC,RC,S0,EH).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function whe(){return sd.apply(UC(xue,pue,Jh,BC,c5,l5,LC,MC,S0,PH).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function d5(){var e=0,t=1,s,a,n,i,l=Hl,o=!1,c;function d(m){return m==null||isNaN(m=+m)?c:l(n===0?.5:(m=(i(m)-s)*n,o?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([e,t]=m,s=i(e=+e),a=i(t=+t),n=s===a?0:1/(a-s),d):[e,t]},d.clamp=function(m){return arguments.length?(o=!!m,d):o},d.interpolator=function(m){return arguments.length?(l=m,d):l};function h(m){return function(p){var x,v;return arguments.length?([x,v]=p,l=m(x,v),d):[l(0),l(1)]}}return d.range=h(Lg),d.rangeRound=h(_C),d.unknown=function(m){return arguments.length?(c=m,d):c},function(m){return i=m,s=m(e),a=m(t),n=s===a?0:1/(a-s),d}}function Dm(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function OH(){var e=Om(d5()(Hl));return e.copy=function(){return Dm(e,OH())},lf.apply(e,arguments)}function DH(){var e=TC(d5()).domain([1,10]);return e.copy=function(){return Dm(e,DH()).base(e.base())},lf.apply(e,arguments)}function RH(){var e=EC(d5());return e.copy=function(){return Dm(e,RH()).constant(e.constant())},lf.apply(e,arguments)}function zC(){var e=PC(d5());return e.copy=function(){return Dm(e,zC()).exponent(e.exponent())},lf.apply(e,arguments)}function She(){return zC.apply(null,arguments).exponent(.5)}function MH(){var e=[],t=Hl;function s(a){if(a!=null&&!isNaN(a=+a))return t((Eb(e,a,1)-1)/(e.length-1))}return s.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let n of a)n!=null&&!isNaN(n=+n)&&e.push(n);return e.sort(xm),s},s.interpolator=function(a){return arguments.length?(t=a,s):t},s.range=function(){return e.map((a,n)=>t(n/(e.length-1)))},s.quantiles=function(a){return Array.from({length:a+1},(n,i)=>cde(e,i/a))},s.copy=function(){return MH(t).domain(e)},lf.apply(s,arguments)}function u5(){var e=0,t=.5,s=1,a=1,n,i,l,o,c,d=Hl,h,m=!1,p;function x(y){return isNaN(y=+y)?p:(y=.5+((y=+h(y))-i)*(a*y<a*i?o:c),d(m?Math.max(0,Math.min(1,y)):y))}x.domain=function(y){return arguments.length?([e,t,s]=y,n=h(e=+e),i=h(t=+t),l=h(s=+s),o=n===i?0:.5/(i-n),c=i===l?0:.5/(l-i),a=i<n?-1:1,x):[e,t,s]},x.clamp=function(y){return arguments.length?(m=!!y,x):m},x.interpolator=function(y){return arguments.length?(d=y,x):d};function v(y){return function(b){var j,S,w;return arguments.length?([j,S,w]=b,d=Fde(y,[j,S,w]),x):[d(0),d(.5),d(1)]}}return x.range=v(Lg),x.rangeRound=v(_C),x.unknown=function(y){return arguments.length?(p=y,x):p},function(y){return h=y,n=y(e),i=y(t),l=y(s),o=n===i?0:.5/(i-n),c=i===l?0:.5/(l-i),a=i<n?-1:1,x}}function FH(){var e=Om(u5()(Hl));return e.copy=function(){return Dm(e,FH())},lf.apply(e,arguments)}function LH(){var e=TC(u5()).domain([.1,1,10]);return e.copy=function(){return Dm(e,LH()).base(e.base())},lf.apply(e,arguments)}function IH(){var e=EC(u5());return e.copy=function(){return Dm(e,IH()).constant(e.constant())},lf.apply(e,arguments)}function $C(){var e=PC(u5());return e.copy=function(){return Dm(e,$C()).exponent(e.exponent())},lf.apply(e,arguments)}function _he(){return $C.apply(null,arguments).exponent(.5)}const cy=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:NC,scaleDiverging:FH,scaleDivergingLog:LH,scaleDivergingPow:$C,scaleDivergingSqrt:_he,scaleDivergingSymlog:IH,scaleIdentity:pH,scaleImplicit:jA,scaleLinear:xH,scaleLog:vH,scaleOrdinal:jC,scalePoint:hde,scalePow:OC,scaleQuantile:jH,scaleQuantize:NH,scaleRadial:bH,scaleSequential:OH,scaleSequentialLog:DH,scaleSequentialPow:zC,scaleSequentialQuantile:MH,scaleSequentialSqrt:She,scaleSequentialSymlog:RH,scaleSqrt:nue,scaleSymlog:yH,scaleThreshold:wH,scaleTime:Nhe,scaleUtc:whe,tickFormat:mH},Symbol.toStringTag,{value:"Module"}));var of=e=>e.chartData,h5=et([of],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),HC=(e,t,s,a)=>a?h5(e):of(e),BH=(e,t,s)=>s?h5(e):of(e);function bm(e){if(Array.isArray(e)&&e.length===2){var[t,s]=e;if(ja(t)&&ja(s))return!0}return!1}function C7(e,t,s){return s?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function UH(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[s,a]=e,n,i;if(ja(s))n=s;else if(typeof s=="function")return;if(ja(a))i=a;else if(typeof a=="function")return;var l=[n,i];if(bm(l))return l}}function khe(e,t,s){if(!(!s&&t==null)){if(typeof e=="function"&&t!=null)try{var a=e(t,s);if(bm(a))return C7(a,t,s)}catch{}if(Array.isArray(e)&&e.length===2){var[n,i]=e,l,o;if(n==="auto")t!=null&&(l=Math.min(...t));else if(Wt(n))l=n;else if(typeof n=="function")try{t!=null&&(l=n(t?.[0]))}catch{}else if(typeof n=="string"&&BR.test(n)){var c=BR.exec(n);if(c==null||c[1]==null||t==null)l=void 0;else{var d=+c[1];l=t[0]-d}}else l=t?.[0];if(i==="auto")t!=null&&(o=Math.max(...t));else if(Wt(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t?.[1]))}catch{}else if(typeof i=="string"&&UR.test(i)){var h=UR.exec(i);if(h==null||h[1]==null||t==null)o=void 0;else{var m=+h[1];o=t[1]+m}}else o=t?.[1];var p=[l,o];if(bm(p))return t==null?p:C7(p,t,s)}}}var Ig=1e9,Ahe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},VC,Ga=!0,Jc="[DecimalError] ",O0=Jc+"Invalid argument: ",qC=Jc+"Exponent out of range: ",Bg=Math.floor,v0=Math.pow,Che=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Xo,Oi=1e7,Da=7,zH=9007199254740991,LN=Bg(zH/Da),Zt={};Zt.absoluteValue=Zt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Zt.comparedTo=Zt.cmp=function(e){var t,s,a,n,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(a=i.d.length,n=e.d.length,t=0,s=a<n?a:n;t<s;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return a===n?0:a>n^i.s<0?1:-1};Zt.decimalPlaces=Zt.dp=function(){var e=this,t=e.d.length-1,s=(t-e.e)*Da;if(t=e.d[t],t)for(;t%10==0;t/=10)s--;return s<0?0:s};Zt.dividedBy=Zt.div=function(e){return Bh(this,new this.constructor(e))};Zt.dividedToIntegerBy=Zt.idiv=function(e){var t=this,s=t.constructor;return va(Bh(t,new s(e),0,1),s.precision)};Zt.equals=Zt.eq=function(e){return!this.cmp(e)};Zt.exponent=function(){return ti(this)};Zt.greaterThan=Zt.gt=function(e){return this.cmp(e)>0};Zt.greaterThanOrEqualTo=Zt.gte=function(e){return this.cmp(e)>=0};Zt.isInteger=Zt.isint=function(){return this.e>this.d.length-2};Zt.isNegative=Zt.isneg=function(){return this.s<0};Zt.isPositive=Zt.ispos=function(){return this.s>0};Zt.isZero=function(){return this.s===0};Zt.lessThan=Zt.lt=function(e){return this.cmp(e)<0};Zt.lessThanOrEqualTo=Zt.lte=function(e){return this.cmp(e)<1};Zt.logarithm=Zt.log=function(e){var t,s=this,a=s.constructor,n=a.precision,i=n+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(Xo))throw Error(Jc+"NaN");if(s.s<1)throw Error(Jc+(s.s?"NaN":"-Infinity"));return s.eq(Xo)?new a(0):(Ga=!1,t=Bh(Ky(s,i),Ky(e,i),i),Ga=!0,va(t,n))};Zt.minus=Zt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?qH(t,e):$H(t,(e.s=-e.s,e))};Zt.modulo=Zt.mod=function(e){var t,s=this,a=s.constructor,n=a.precision;if(e=new a(e),!e.s)throw Error(Jc+"NaN");return s.s?(Ga=!1,t=Bh(s,e,0,1).times(e),Ga=!0,s.minus(t)):va(new a(s),n)};Zt.naturalExponential=Zt.exp=function(){return HH(this)};Zt.naturalLogarithm=Zt.ln=function(){return Ky(this)};Zt.negated=Zt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Zt.plus=Zt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?$H(t,e):qH(t,(e.s=-e.s,e))};Zt.precision=Zt.sd=function(e){var t,s,a,n=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(O0+e);if(t=ti(n)+1,a=n.d.length-1,s=a*Da+1,a=n.d[a],a){for(;a%10==0;a/=10)s--;for(a=n.d[0];a>=10;a/=10)s++}return e&&t>s?t:s};Zt.squareRoot=Zt.sqrt=function(){var e,t,s,a,n,i,l,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(Jc+"NaN")}for(e=ti(o),Ga=!1,n=Math.sqrt(+o),n==0||n==1/0?(t=Cu(o.d),(t.length+e)%2==0&&(t+="0"),n=Math.sqrt(t),e=Bg((e+1)/2)-(e<0||e%2),n==1/0?t="5e"+e:(t=n.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),a=new c(t)):a=new c(n.toString()),s=c.precision,n=l=s+3;;)if(i=a,a=i.plus(Bh(o,i,l+2)).times(.5),Cu(i.d).slice(0,l)===(t=Cu(a.d)).slice(0,l)){if(t=t.slice(l-3,l+1),n==l&&t=="4999"){if(va(i,s+1,0),i.times(i).eq(o)){a=i;break}}else if(t!="9999")break;l+=4}return Ga=!0,va(a,s)};Zt.times=Zt.mul=function(e){var t,s,a,n,i,l,o,c,d,h=this,m=h.constructor,p=h.d,x=(e=new m(e)).d;if(!h.s||!e.s)return new m(0);for(e.s*=h.s,s=h.e+e.e,c=p.length,d=x.length,c<d&&(i=p,p=x,x=i,l=c,c=d,d=l),i=[],l=c+d,a=l;a--;)i.push(0);for(a=d;--a>=0;){for(t=0,n=c+a;n>a;)o=i[n]+x[a]*p[n-a-1]+t,i[n--]=o%Oi|0,t=o/Oi|0;i[n]=(i[n]+t)%Oi|0}for(;!i[--l];)i.pop();return t?++s:i.shift(),e.d=i,e.e=s,Ga?va(e,m.precision):e};Zt.toDecimalPlaces=Zt.todp=function(e,t){var s=this,a=s.constructor;return s=new a(s),e===void 0?s:(Iu(e,0,Ig),t===void 0?t=a.rounding:Iu(t,0,8),va(s,e+ti(s)+1,t))};Zt.toExponential=function(e,t){var s,a=this,n=a.constructor;return e===void 0?s=Q0(a,!0):(Iu(e,0,Ig),t===void 0?t=n.rounding:Iu(t,0,8),a=va(new n(a),e+1,t),s=Q0(a,!0,e+1)),s};Zt.toFixed=function(e,t){var s,a,n=this,i=n.constructor;return e===void 0?Q0(n):(Iu(e,0,Ig),t===void 0?t=i.rounding:Iu(t,0,8),a=va(new i(n),e+ti(n)+1,t),s=Q0(a.abs(),!1,e+ti(a)+1),n.isneg()&&!n.isZero()?"-"+s:s)};Zt.toInteger=Zt.toint=function(){var e=this,t=e.constructor;return va(new t(e),ti(e)+1,t.rounding)};Zt.toNumber=function(){return+this};Zt.toPower=Zt.pow=function(e){var t,s,a,n,i,l,o=this,c=o.constructor,d=12,h=+(e=new c(e));if(!e.s)return new c(Xo);if(o=new c(o),!o.s){if(e.s<1)throw Error(Jc+"Infinity");return o}if(o.eq(Xo))return o;if(a=c.precision,e.eq(Xo))return va(o,a);if(t=e.e,s=e.d.length-1,l=t>=s,i=o.s,l){if((s=h<0?-h:h)<=zH){for(n=new c(Xo),t=Math.ceil(a/Da+4),Ga=!1;s%2&&(n=n.times(o),E7(n.d,t)),s=Bg(s/2),s!==0;)o=o.times(o),E7(o.d,t);return Ga=!0,e.s<0?new c(Xo).div(n):va(n,a)}}else if(i<0)throw Error(Jc+"NaN");return i=i<0&&e.d[Math.max(t,s)]&1?-1:1,o.s=1,Ga=!1,n=e.times(Ky(o,a+d)),Ga=!0,n=HH(n),n.s=i,n};Zt.toPrecision=function(e,t){var s,a,n=this,i=n.constructor;return e===void 0?(s=ti(n),a=Q0(n,s<=i.toExpNeg||s>=i.toExpPos)):(Iu(e,1,Ig),t===void 0?t=i.rounding:Iu(t,0,8),n=va(new i(n),e,t),s=ti(n),a=Q0(n,e<=s||s<=i.toExpNeg,e)),a};Zt.toSignificantDigits=Zt.tosd=function(e,t){var s=this,a=s.constructor;return e===void 0?(e=a.precision,t=a.rounding):(Iu(e,1,Ig),t===void 0?t=a.rounding:Iu(t,0,8)),va(new a(s),e,t)};Zt.toString=Zt.valueOf=Zt.val=Zt.toJSON=Zt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ti(e),s=e.constructor;return Q0(e,t<=s.toExpNeg||t>=s.toExpPos)};function $H(e,t){var s,a,n,i,l,o,c,d,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),Ga?va(t,m):t;if(c=e.d,d=t.d,l=e.e,n=t.e,c=c.slice(),i=l-n,i){for(i<0?(a=c,i=-i,o=d.length):(a=d,n=l,o=c.length),l=Math.ceil(m/Da),o=l>o?l+1:o+1,i>o&&(i=o,a.length=1),a.reverse();i--;)a.push(0);a.reverse()}for(o=c.length,i=d.length,o-i<0&&(i=o,a=d,d=c,c=a),s=0;i;)s=(c[--i]=c[i]+d[i]+s)/Oi|0,c[i]%=Oi;for(s&&(c.unshift(s),++n),o=c.length;c[--o]==0;)c.pop();return t.d=c,t.e=n,Ga?va(t,m):t}function Iu(e,t,s){if(e!==~~e||e<t||e>s)throw Error(O0+e)}function Cu(e){var t,s,a,n=e.length-1,i="",l=e[0];if(n>0){for(i+=l,t=1;t<n;t++)a=e[t]+"",s=Da-a.length,s&&(i+=sm(s)),i+=a;l=e[t],a=l+"",s=Da-a.length,s&&(i+=sm(s))}else if(l===0)return"0";for(;l%10===0;)l/=10;return i+l}var Bh=(function(){function e(a,n){var i,l=0,o=a.length;for(a=a.slice();o--;)i=a[o]*n+l,a[o]=i%Oi|0,l=i/Oi|0;return l&&a.unshift(l),a}function t(a,n,i,l){var o,c;if(i!=l)c=i>l?1:-1;else for(o=c=0;o<i;o++)if(a[o]!=n[o]){c=a[o]>n[o]?1:-1;break}return c}function s(a,n,i){for(var l=0;i--;)a[i]-=l,l=a[i]<n[i]?1:0,a[i]=l*Oi+a[i]-n[i];for(;!a[0]&&a.length>1;)a.shift()}return function(a,n,i,l){var o,c,d,h,m,p,x,v,y,b,j,S,w,k,_,O,E,F,I=a.constructor,U=a.s==n.s?1:-1,M=a.d,L=n.d;if(!a.s)return new I(a);if(!n.s)throw Error(Jc+"Division by zero");for(c=a.e-n.e,E=L.length,_=M.length,x=new I(U),v=x.d=[],d=0;L[d]==(M[d]||0);)++d;if(L[d]>(M[d]||0)&&--c,i==null?S=i=I.precision:l?S=i+(ti(a)-ti(n))+1:S=i,S<0)return new I(0);if(S=S/Da+2|0,d=0,E==1)for(h=0,L=L[0],S++;(d<_||h)&&S--;d++)w=h*Oi+(M[d]||0),v[d]=w/L|0,h=w%L|0;else{for(h=Oi/(L[0]+1)|0,h>1&&(L=e(L,h),M=e(M,h),E=L.length,_=M.length),k=E,y=M.slice(0,E),b=y.length;b<E;)y[b++]=0;F=L.slice(),F.unshift(0),O=L[0],L[1]>=Oi/2&&++O;do h=0,o=t(L,y,E,b),o<0?(j=y[0],E!=b&&(j=j*Oi+(y[1]||0)),h=j/O|0,h>1?(h>=Oi&&(h=Oi-1),m=e(L,h),p=m.length,b=y.length,o=t(m,y,p,b),o==1&&(h--,s(m,E<p?F:L,p))):(h==0&&(o=h=1),m=L.slice()),p=m.length,p<b&&m.unshift(0),s(y,m,b),o==-1&&(b=y.length,o=t(L,y,E,b),o<1&&(h++,s(y,E<b?F:L,b))),b=y.length):o===0&&(h++,y=[0]),v[d++]=h,o&&y[0]?y[b++]=M[k]||0:(y=[M[k]],b=1);while((k++<_||y[0]!==void 0)&&S--)}return v[0]||v.shift(),x.e=c,va(x,l?i+ti(x)+1:i)}})();function HH(e,t){var s,a,n,i,l,o,c=0,d=0,h=e.constructor,m=h.precision;if(ti(e)>16)throw Error(qC+ti(e));if(!e.s)return new h(Xo);for(Ga=!1,o=m,l=new h(.03125);e.abs().gte(.1);)e=e.times(l),d+=5;for(a=Math.log(v0(2,d))/Math.LN10*2+5|0,o+=a,s=n=i=new h(Xo),h.precision=o;;){if(n=va(n.times(e),o),s=s.times(++c),l=i.plus(Bh(n,s,o)),Cu(l.d).slice(0,o)===Cu(i.d).slice(0,o)){for(;d--;)i=va(i.times(i),o);return h.precision=m,t==null?(Ga=!0,va(i,m)):i}i=l}}function ti(e){for(var t=e.e*Da,s=e.d[0];s>=10;s/=10)t++;return t}function e_(e,t,s){if(t>e.LN10.sd())throw Ga=!0,s&&(e.precision=s),Error(Jc+"LN10 precision limit exceeded");return va(new e(e.LN10),t)}function sm(e){for(var t="";e--;)t+="0";return t}function Ky(e,t){var s,a,n,i,l,o,c,d,h,m=1,p=10,x=e,v=x.d,y=x.constructor,b=y.precision;if(x.s<1)throw Error(Jc+(x.s?"NaN":"-Infinity"));if(x.eq(Xo))return new y(0);if(t==null?(Ga=!1,d=b):d=t,x.eq(10))return t==null&&(Ga=!0),e_(y,d);if(d+=p,y.precision=d,s=Cu(v),a=s.charAt(0),i=ti(x),Math.abs(i)<15e14){for(;a<7&&a!=1||a==1&&s.charAt(1)>3;)x=x.times(e),s=Cu(x.d),a=s.charAt(0),m++;i=ti(x),a>1?(x=new y("0."+s),i++):x=new y(a+"."+s.slice(1))}else return c=e_(y,d+2,b).times(i+""),x=Ky(new y(a+"."+s.slice(1)),d-p).plus(c),y.precision=b,t==null?(Ga=!0,va(x,b)):x;for(o=l=x=Bh(x.minus(Xo),x.plus(Xo),d),h=va(x.times(x),d),n=3;;){if(l=va(l.times(h),d),c=o.plus(Bh(l,new y(n),d)),Cu(c.d).slice(0,d)===Cu(o.d).slice(0,d))return o=o.times(2),i!==0&&(o=o.plus(e_(y,d+2,b).times(i+""))),o=Bh(o,new y(m),d),y.precision=b,t==null?(Ga=!0,va(o,b)):o;o=c,n+=2}}function T7(e,t){var s,a,n;for((s=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(s<0&&(s=a),s+=+t.slice(a+1),t=t.substring(0,a)):s<0&&(s=t.length),a=0;t.charCodeAt(a)===48;)++a;for(n=t.length;t.charCodeAt(n-1)===48;)--n;if(t=t.slice(a,n),t){if(n-=a,s=s-a-1,e.e=Bg(s/Da),e.d=[],a=(s+1)%Da,s<0&&(a+=Da),a<n){for(a&&e.d.push(+t.slice(0,a)),n-=Da;a<n;)e.d.push(+t.slice(a,a+=Da));t=t.slice(a),a=Da-t.length}else a-=n;for(;a--;)t+="0";if(e.d.push(+t),Ga&&(e.e>LN||e.e<-LN))throw Error(qC+s)}else e.s=0,e.e=0,e.d=[0];return e}function va(e,t,s){var a,n,i,l,o,c,d,h,m=e.d;for(l=1,i=m[0];i>=10;i/=10)l++;if(a=t-l,a<0)a+=Da,n=t,d=m[h=0];else{if(h=Math.ceil((a+1)/Da),i=m.length,h>=i)return e;for(d=i=m[h],l=1;i>=10;i/=10)l++;a%=Da,n=a-Da+l}if(s!==void 0&&(i=v0(10,l-n-1),o=d/i%10|0,c=t<0||m[h+1]!==void 0||d%i,c=s<4?(o||c)&&(s==0||s==(e.s<0?3:2)):o>5||o==5&&(s==4||c||s==6&&(a>0?n>0?d/v0(10,l-n):0:m[h-1])%10&1||s==(e.s<0?8:7))),t<1||!m[0])return c?(i=ti(e),m.length=1,t=t-i-1,m[0]=v0(10,(Da-t%Da)%Da),e.e=Bg(-t/Da)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(a==0?(m.length=h,i=1,h--):(m.length=h+1,i=v0(10,Da-a),m[h]=n>0?(d/v0(10,l-n)%v0(10,n)|0)*i:0),c)for(;;)if(h==0){(m[0]+=i)==Oi&&(m[0]=1,++e.e);break}else{if(m[h]+=i,m[h]!=Oi)break;m[h--]=0,i=1}for(a=m.length;m[--a]===0;)m.pop();if(Ga&&(e.e>LN||e.e<-LN))throw Error(qC+ti(e));return e}function qH(e,t){var s,a,n,i,l,o,c,d,h,m,p=e.constructor,x=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),Ga?va(t,x):t;if(c=e.d,m=t.d,a=t.e,d=e.e,c=c.slice(),l=d-a,l){for(h=l<0,h?(s=c,l=-l,o=m.length):(s=m,a=d,o=c.length),n=Math.max(Math.ceil(x/Da),o)+2,l>n&&(l=n,s.length=1),s.reverse(),n=l;n--;)s.push(0);s.reverse()}else{for(n=c.length,o=m.length,h=n<o,h&&(o=n),n=0;n<o;n++)if(c[n]!=m[n]){h=c[n]<m[n];break}l=0}for(h&&(s=c,c=m,m=s,t.s=-t.s),o=c.length,n=m.length-o;n>0;--n)c[o++]=0;for(n=m.length;n>l;){if(c[--n]<m[n]){for(i=n;i&&c[--i]===0;)c[i]=Oi-1;--c[i],c[n]+=Oi}c[n]-=m[n]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--a;return c[0]?(t.d=c,t.e=a,Ga?va(t,x):t):new p(0)}function Q0(e,t,s){var a,n=ti(e),i=Cu(e.d),l=i.length;return t?(s&&(a=s-l)>0?i=i.charAt(0)+"."+i.slice(1)+sm(a):l>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(n<0?"e":"e+")+n):n<0?(i="0."+sm(-n-1)+i,s&&(a=s-l)>0&&(i+=sm(a))):n>=l?(i+=sm(n+1-l),s&&(a=s-n-1)>0&&(i=i+"."+sm(a))):((a=n+1)<l&&(i=i.slice(0,a)+"."+i.slice(a)),s&&(a=s-l)>0&&(n+1===l&&(i+="."),i+=sm(a))),e.s<0?"-"+i:i}function E7(e,t){if(e.length>t)return e.length=t,!0}function VH(e){var t,s,a;function n(i){var l=this;if(!(l instanceof n))return new n(i);if(l.constructor=n,i instanceof n){l.s=i.s,l.e=i.e,l.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(O0+i);if(i>0)l.s=1;else if(i<0)i=-i,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(i===~~i&&i<1e7){l.e=0,l.d=[i];return}return T7(l,i.toString())}else if(typeof i!="string")throw Error(O0+i);if(i.charCodeAt(0)===45?(i=i.slice(1),l.s=-1):l.s=1,Che.test(i))T7(l,i);else throw Error(O0+i)}if(n.prototype=Zt,n.ROUND_UP=0,n.ROUND_DOWN=1,n.ROUND_CEIL=2,n.ROUND_FLOOR=3,n.ROUND_HALF_UP=4,n.ROUND_HALF_DOWN=5,n.ROUND_HALF_EVEN=6,n.ROUND_HALF_CEIL=7,n.ROUND_HALF_FLOOR=8,n.clone=VH,n.config=n.set=The,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<a.length;)e.hasOwnProperty(s=a[t++])||(e[s]=this[s]);return n.config(e),n}function The(e){if(!e||typeof e!="object")throw Error(Jc+"Object expected");var t,s,a,n=["precision",1,Ig,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<n.length;t+=3)if((a=e[s=n[t]])!==void 0)if(Bg(a)===a&&a>=n[t+1]&&a<=n[t+2])this[s]=a;else throw Error(O0+s+": "+a);if((a=e[s="LN10"])!==void 0)if(a==Math.LN10)this[s]=new this(a);else throw Error(O0+s+": "+a);return this}var VC=VH(Ahe);Xo=new VC(1);const Qs=VC;var Ehe=e=>e,WH={},GH=e=>e===WH,P7=e=>function t(){return arguments.length===0||arguments.length===1&&GH(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},KH=(e,t)=>e===1?t:P7(function(){for(var s=arguments.length,a=new Array(s),n=0;n<s;n++)a[n]=arguments[n];var i=a.filter(l=>l!==WH).length;return i>=e?t(...a):KH(e-i,P7(function(){for(var l=arguments.length,o=new Array(l),c=0;c<l;c++)o[c]=arguments[c];var d=a.map(h=>GH(h)?o.shift():h);return t(...d,...o)}))}),Phe=e=>KH(e.length,e),_A=(e,t)=>{for(var s=[],a=e;a<t;++a)s[a-e]=a;return s},Ohe=Phe((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(s=>t[s]).map(e)),Dhe=function(){for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];if(!s.length)return Ehe;var n=s.reverse(),i=n[0],l=n.slice(1);return function(){return l.reduce((o,c)=>c(o),i(...arguments))}};function YH(e){var t;return e===0?t=1:t=Math.floor(new Qs(e).abs().log(10).toNumber())+1,t}function XH(e,t,s){for(var a=new Qs(e),n=0,i=[];a.lt(t)&&n<1e5;)i.push(a.toNumber()),a=a.add(s),n++;return i}var ZH=e=>{var[t,s]=e,[a,n]=[t,s];return t>s&&([a,n]=[s,t]),[a,n]},JH=(e,t,s)=>{if(e.lte(0))return new Qs(0);var a=YH(e.toNumber()),n=new Qs(10).pow(a),i=e.div(n),l=a!==1?.05:.1,o=new Qs(Math.ceil(i.div(l).toNumber())).add(s).mul(l),c=o.mul(n);return t?new Qs(c.toNumber()):new Qs(Math.ceil(c.toNumber()))},Rhe=(e,t,s)=>{var a=new Qs(1),n=new Qs(e);if(!n.isint()&&s){var i=Math.abs(e);i<1?(a=new Qs(10).pow(YH(e)-1),n=new Qs(Math.floor(n.div(a).toNumber())).mul(a)):i>1&&(n=new Qs(Math.floor(e)))}else e===0?n=new Qs(Math.floor((t-1)/2)):s||(n=new Qs(Math.floor(e)));var l=Math.floor((t-1)/2),o=Dhe(Ohe(c=>n.add(new Qs(c-l).mul(a)).toNumber()),_A);return o(0,t)},QH=function(t,s,a,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((s-t)/(a-1)))return{step:new Qs(0),tickMin:new Qs(0),tickMax:new Qs(0)};var l=JH(new Qs(s).sub(t).div(a-1),n,i),o;t<=0&&s>=0?o=new Qs(0):(o=new Qs(t).add(s).div(2),o=o.sub(new Qs(o).mod(l)));var c=Math.ceil(o.sub(t).div(l).toNumber()),d=Math.ceil(new Qs(s).sub(o).div(l).toNumber()),h=c+d+1;return h>a?QH(t,s,a,n,i+1):(h<a&&(d=s>0?d+(a-h):d,c=s>0?c:c+(a-h)),{step:l,tickMin:o.sub(new Qs(c).mul(l)),tickMax:o.add(new Qs(d).mul(l))})},Mhe=function(t){var[s,a]=t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(n,2),[o,c]=ZH([s,a]);if(o===-1/0||c===1/0){var d=c===1/0?[o,..._A(0,n-1).map(()=>1/0)]:[..._A(0,n-1).map(()=>-1/0),c];return s>a?d.reverse():d}if(o===c)return Rhe(o,n,i);var{step:h,tickMin:m,tickMax:p}=QH(o,c,l,i,0),x=XH(m,p.add(new Qs(.1).mul(h)),h);return s>a?x.reverse():x},Fhe=function(t,s){var[a,n]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,o]=ZH([a,n]);if(l===-1/0||o===1/0)return[a,n];if(l===o)return[l];var c=Math.max(s,2),d=JH(new Qs(o).sub(l).div(c-1),i,0),h=[...XH(new Qs(l),new Qs(o),d),o];return i===!1&&(h=h.map(m=>Math.round(m))),a>n?h.reverse():h},eq=e=>e.rootProps.maxBarSize,Lhe=e=>e.rootProps.barGap,tq=e=>e.rootProps.barCategoryGap,Ihe=e=>e.rootProps.barSize,Rb=e=>e.rootProps.stackOffset,rq=e=>e.rootProps.reverseStackOrder,WC=e=>e.options.chartName,GC=e=>e.rootProps.syncId,sq=e=>e.rootProps.syncMethod,KC=e=>e.options.eventEmitter,Bhe=e=>e.rootProps.baseValue,Ln={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Th={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Go={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},f5=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Uhe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Th.angleAxisId,includeHidden:!1,name:void 0,reversed:Th.reversed,scale:Th.scale,tick:Th.tick,tickCount:void 0,ticks:void 0,type:Th.type,unit:void 0},zhe={allowDataOverflow:Go.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Go.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Go.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Go.scale,tick:Go.tick,tickCount:Go.tickCount,ticks:void 0,type:Go.type,unit:void 0},$he={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Th.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Th.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Th.scale,tick:Th.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Hhe={allowDataOverflow:Go.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Go.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Go.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Go.scale,tick:Go.tick,tickCount:Go.tickCount,ticks:void 0,type:"category",unit:void 0},YC=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?$he:Uhe,XC=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Hhe:zhe,m5=e=>e.polarOptions,ZC=et([af,nf,yi],eH),aq=et([m5,ZC],(e,t)=>{if(e!=null)return Sl(e.innerRadius,t,0)}),nq=et([m5,ZC],(e,t)=>{if(e!=null)return Sl(e.outerRadius,t,t*.8)}),qhe=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:s}=e;return[t,s]},iq=et([m5],qhe);et([YC,iq],f5);var lq=et([ZC,aq,nq],(e,t,s)=>{if(!(e==null||t==null||s==null))return[t,s]});et([XC,lq],f5);var oq=et([ds,m5,aq,nq,af,nf],(e,t,s,a,n,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||s==null||a==null)){var{cx:l,cy:o,startAngle:c,endAngle:d}=t;return{cx:Sl(l,n,n/2),cy:Sl(o,i,i/2),innerRadius:s,outerRadius:a,startAngle:c,endAngle:d,clockWise:!1}}}),Ya=(e,t)=>t,Mb=(e,t,s)=>s;function x5(e){return e?.id}function cq(e,t,s){var{chartData:a=[]}=t,{allowDuplicatedCategory:n,dataKey:i}=s,l=new Map;return e.forEach(o=>{var c,d=(c=o.data)!==null&&c!==void 0?c:a;if(!(d==null||d.length===0)){var h=x5(o);d.forEach((m,p)=>{var x=i==null||n?p:String(Ws(m,i,null)),v=Ws(m,o.dataKey,0),y;l.has(x)?y=l.get(x):y={},Object.assign(y,{[h]:v}),l.set(x,y)})}}),Array.from(l.values())}function p5(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var g5=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function v5(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function Vhe(e,t){if(e.length===t.length){for(var s=0;s<e.length;s++)if(e[s]!==t[s])return!1;return!0}return!1}var ji=e=>{var t=ds(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Ug=e=>e.tooltip.settings.axisId;function O7(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function IN(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?O7(Object(s),!0).forEach(function(a){Whe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):O7(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Whe(e,t,s){return(t=Ghe(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Ghe(e){var t=Khe(e,"string");return typeof t=="symbol"?t:t+""}function Khe(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kA=[0,"auto"],Ei={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},dq=(e,t)=>e.cartesianAxis.xAxis[t],cf=(e,t)=>{var s=dq(e,t);return s??Ei},Pi={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:kA,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Ab},uq=(e,t)=>e.cartesianAxis.yAxis[t],df=(e,t)=>{var s=uq(e,t);return s??Pi},Yhe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},JC=(e,t)=>{var s=e.cartesianAxis.zAxis[t];return s??Yhe},an=(e,t,s)=>{switch(t){case"xAxis":return cf(e,s);case"yAxis":return df(e,s);case"zAxis":return JC(e,s);case"angleAxis":return YC(e,s);case"radiusAxis":return XC(e,s);default:throw new Error("Unexpected axis type: ".concat(t))}},Xhe=(e,t,s)=>{switch(t){case"xAxis":return cf(e,s);case"yAxis":return df(e,s);default:throw new Error("Unexpected axis type: ".concat(t))}},Fb=(e,t,s)=>{switch(t){case"xAxis":return cf(e,s);case"yAxis":return df(e,s);case"angleAxis":return YC(e,s);case"radiusAxis":return XC(e,s);default:throw new Error("Unexpected axis type: ".concat(t))}},hq=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function QC(e,t){return s=>{switch(e){case"xAxis":return"xAxisId"in s&&s.xAxisId===t;case"yAxis":return"yAxisId"in s&&s.yAxisId===t;case"zAxis":return"zAxisId"in s&&s.zAxisId===t;case"angleAxis":return"angleAxisId"in s&&s.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in s&&s.radiusAxisId===t;default:return!1}}}var Lb=e=>e.graphicalItems.cartesianItems,Zhe=et([Ya,Mb],QC),eT=(e,t,s)=>e.filter(s).filter(a=>t?.includeHidden===!0?!0:!a.hide),Ib=et([Lb,an,Zhe],eT,{memoizeOptions:{resultEqualityCheck:v5}}),fq=et([Ib],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(p5)),mq=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Jhe=et([Ib],mq),tT=e=>e.map(t=>t.data).filter(Boolean).flat(1),Qhe=et([Ib],tT,{memoizeOptions:{resultEqualityCheck:v5}}),rT=(e,t)=>{var{chartData:s=[],dataStartIndex:a,dataEndIndex:n}=t;return e.length>0?e:s.slice(a,n+1)},sT=et([Qhe,HC],rT),aT=(e,t,s)=>t?.dataKey!=null?e.map(a=>({value:Ws(a,t.dataKey)})):s.length>0?s.map(a=>a.dataKey).flatMap(a=>e.map(n=>({value:Ws(n,a)}))):e.map(a=>({value:a})),y5=et([sT,an,Ib],aT);function xq(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Bj(e){if(Fu(e)||e instanceof Date){var t=Number(e);if(ja(t))return t}}function D7(e){if(Array.isArray(e)){var t=[Bj(e[0]),Bj(e[1])];return bm(t)?t:void 0}var s=Bj(e);if(s!=null)return[s,s]}function Qh(e){return e.map(Bj).filter(Wae)}function efe(e,t,s){return!s||typeof t!="number"||Xc(t)?[]:s.length?Qh(s.flatMap(a=>{var n=Ws(e,a.dataKey),i,l;if(Array.isArray(n)?[i,l]=n:i=l=n,!(!ja(i)||!ja(l)))return[t-i,t+l]})):[]}var Ni=e=>{var t=ji(e),s=Ug(e);return Fb(e,t,s)},Bb=et([Ni],e=>e?.dataKey),tfe=et([fq,HC,Ni],cq),pq=(e,t,s,a)=>{var n={},i=t.reduce((l,o)=>{if(o.stackId==null)return l;var c=l[o.stackId];return c==null&&(c=[]),c.push(o),l[o.stackId]=c,l},n);return Object.fromEntries(Object.entries(i).map(l=>{var[o,c]=l,d=a?[...c].reverse():c,h=d.map(x5);return[o,{stackedData:yle(e,h,s),graphicalItems:d}]}))},BN=et([tfe,fq,Rb,rq],pq),gq=(e,t,s,a)=>{var{dataStartIndex:n,dataEndIndex:i}=t;if(a==null&&s!=="zAxis"){var l=wle(e,n,i);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},rfe=et([an],e=>e.allowDataOverflow),nT=e=>{var t;if(e==null||!("domain"in e))return kA;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var s=Qh(e.ticks);return[Math.min(...s),Math.max(...s)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:kA},iT=et([an],nT),lT=et([iT,rfe],UH),sfe=et([BN,of,Ya,lT],gq,{memoizeOptions:{resultEqualityCheck:g5}}),b5=e=>e.errorBars,afe=(e,t,s)=>e.flatMap(a=>t[a.id]).filter(Boolean).filter(a=>xq(s,a)),UN=function(){for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];var n=s.filter(Boolean);if(n.length!==0){var i=n.flat(),l=Math.min(...i),o=Math.max(...i);return[l,o]}},oT=(e,t,s,a,n)=>{var i,l;if(s.length>0&&e.forEach(o=>{s.forEach(c=>{var d,h,m=(d=a[c.id])===null||d===void 0?void 0:d.filter(j=>xq(n,j)),p=Ws(o,(h=t.dataKey)!==null&&h!==void 0?h:c.dataKey),x=efe(o,p,m);if(x.length>=2){var v=Math.min(...x),y=Math.max(...x);(i==null||v<i)&&(i=v),(l==null||y>l)&&(l=y)}var b=D7(p);b!=null&&(i=i==null?b[0]:Math.min(i,b[0]),l=l==null?b[1]:Math.max(l,b[1]))})}),t?.dataKey!=null&&e.forEach(o=>{var c=D7(Ws(o,t.dataKey));c!=null&&(i=i==null?c[0]:Math.min(i,c[0]),l=l==null?c[1]:Math.max(l,c[1]))}),ja(i)&&ja(l))return[i,l]},nfe=et([sT,an,Jhe,b5,Ya],oT,{memoizeOptions:{resultEqualityCheck:g5}});function ife(e){var{value:t}=e;if(Fu(t)||t instanceof Date)return t}var lfe=(e,t,s)=>{var a=e.map(ife).filter(n=>n!=null);return s&&(t.dataKey==null||t.allowDuplicatedCategory&&Oz(a))?aH(0,e.length):t.allowDuplicatedCategory?a:Array.from(new Set(a))},vq=e=>e.referenceElements.dots,zg=(e,t,s)=>e.filter(a=>a.ifOverflow==="extendDomain").filter(a=>t==="xAxis"?a.xAxisId===s:a.yAxisId===s),ofe=et([vq,Ya,Mb],zg),yq=e=>e.referenceElements.areas,cfe=et([yq,Ya,Mb],zg),bq=e=>e.referenceElements.lines,dfe=et([bq,Ya,Mb],zg),jq=(e,t)=>{if(e!=null){var s=Qh(e.map(a=>t==="xAxis"?a.x:a.y));if(s.length!==0)return[Math.min(...s),Math.max(...s)]}},ufe=et(ofe,Ya,jq),Nq=(e,t)=>{if(e!=null){var s=Qh(e.flatMap(a=>[t==="xAxis"?a.x1:a.y1,t==="xAxis"?a.x2:a.y2]));if(s.length!==0)return[Math.min(...s),Math.max(...s)]}},hfe=et([cfe,Ya],Nq);function ffe(e){var t;if(e.x!=null)return Qh([e.x]);var s=(t=e.segment)===null||t===void 0?void 0:t.map(a=>a.x);return s==null||s.length===0?[]:Qh(s)}function mfe(e){var t;if(e.y!=null)return Qh([e.y]);var s=(t=e.segment)===null||t===void 0?void 0:t.map(a=>a.y);return s==null||s.length===0?[]:Qh(s)}var wq=(e,t)=>{if(e!=null){var s=e.flatMap(a=>t==="xAxis"?ffe(a):mfe(a));if(s.length!==0)return[Math.min(...s),Math.max(...s)]}},xfe=et([dfe,Ya],wq),pfe=et(ufe,xfe,hfe,(e,t,s)=>UN(e,s,t)),cT=(e,t,s,a,n,i,l,o)=>{if(s!=null)return s;var c=l==="vertical"&&o==="xAxis"||l==="horizontal"&&o==="yAxis",d=c?UN(a,i,n):UN(i,n);return khe(t,d,e.allowDataOverflow)},gfe=et([an,iT,lT,sfe,nfe,pfe,ds,Ya],cT,{memoizeOptions:{resultEqualityCheck:g5}}),vfe=[0,1],dT=(e,t,s,a,n,i,l)=>{if(!((e==null||s==null||s.length===0)&&l===void 0)){var{dataKey:o,type:c}=e,d=Vu(t,i);if(d&&o==null){var h;return aH(0,(h=s?.length)!==null&&h!==void 0?h:0)}return c==="category"?lfe(a,e,d):n==="expand"?vfe:l}},uT=et([an,ds,sT,y5,Rb,Ya,gfe],dT),Sq=(e,t,s,a,n)=>{if(e!=null){var{scale:i,type:l}=e;if(i==="auto")return t==="radial"&&n==="radiusAxis"?"band":t==="radial"&&n==="angleAxis"?"linear":l==="category"&&a&&(a.indexOf("LineChart")>=0||a.indexOf("AreaChart")>=0||a.indexOf("ComposedChart")>=0&&!s)?"point":l==="category"?"band":"linear";if(typeof i=="string"){var o="scale".concat(Nb(i));return o in cy?o:"point"}}},$g=et([an,ds,hq,WC,Ya],Sq);function yfe(e){if(e!=null){if(e in cy)return cy[e]();var t="scale".concat(Nb(e));if(t in cy)return cy[t]()}}function hT(e,t,s,a){if(!(s==null||a==null)){if(typeof e.scale=="function")return e.scale.copy().domain(s).range(a);var n=yfe(t);if(n!=null){var i=n.domain(s).range(a);return mle(i),i}}}var fT=(e,t,s)=>{var a=nT(t);if(!(s!=="auto"&&s!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(a)&&(a[0]==="auto"||a[1]==="auto")&&bm(e))return Mhe(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&bm(e))return Fhe(e,t.tickCount,t.allowDecimals)}},mT=et([uT,Fb,$g],fT),xT=(e,t,s,a)=>{if(a!=="angleAxis"&&e?.type==="number"&&bm(t)&&Array.isArray(s)&&s.length>0){var n=t[0],i=s[0],l=t[1],o=s[s.length-1];return[Math.min(n,i),Math.max(l,o)]}return t},bfe=et([an,uT,mT,Ya],xT),jfe=et(y5,an,(e,t)=>{if(!(!t||t.type!=="number")){var s=1/0,a=Array.from(Qh(e.map(m=>m.value))).sort((m,p)=>m-p),n=a[0],i=a[a.length-1];if(n==null||i==null)return 1/0;var l=i-n;if(l===0)return 1/0;for(var o=0;o<a.length-1;o++){var c=a[o],d=a[o+1];if(!(c==null||d==null)){var h=d-c;s=Math.min(s,h)}}return s/l}}),_q=et(jfe,ds,tq,yi,(e,t,s,a,n)=>n,(e,t,s,a,n)=>{if(!ja(e))return 0;var i=t==="vertical"?a.height:a.width;if(n==="gap")return e*i/2;if(n==="no-gap"){var l=Sl(s,e*i),o=e*i/2;return o-l-(o-l)/i*l}return 0}),Nfe=(e,t,s)=>{var a=cf(e,t);return a==null||typeof a.padding!="string"?0:_q(e,"xAxis",t,s,a.padding)},wfe=(e,t,s)=>{var a=df(e,t);return a==null||typeof a.padding!="string"?0:_q(e,"yAxis",t,s,a.padding)},Sfe=et(cf,Nfe,(e,t)=>{var s,a;if(e==null)return{left:0,right:0};var{padding:n}=e;return typeof n=="string"?{left:t,right:t}:{left:((s=n.left)!==null&&s!==void 0?s:0)+t,right:((a=n.right)!==null&&a!==void 0?a:0)+t}}),_fe=et(df,wfe,(e,t)=>{var s,a;if(e==null)return{top:0,bottom:0};var{padding:n}=e;return typeof n=="string"?{top:t,bottom:t}:{top:((s=n.top)!==null&&s!==void 0?s:0)+t,bottom:((a=n.bottom)!==null&&a!==void 0?a:0)+t}}),kfe=et([yi,Sfe,e5,Qw,(e,t,s)=>s],(e,t,s,a,n)=>{var{padding:i}=a;return n?[i.left,s.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),Afe=et([yi,ds,_fe,e5,Qw,(e,t,s)=>s],(e,t,s,a,n,i)=>{var{padding:l}=n;return i?[a.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-s.bottom,e.top+s.top]:[e.top+s.top,e.top+e.height-s.bottom]}),Ub=(e,t,s,a)=>{var n;switch(t){case"xAxis":return kfe(e,s,a);case"yAxis":return Afe(e,s,a);case"zAxis":return(n=JC(e,s))===null||n===void 0?void 0:n.range;case"angleAxis":return iq(e);case"radiusAxis":return lq(e,s);default:return}},kq=et([an,Ub],f5),j5=et([an,$g,bfe,kq],hT);et([Ib,b5,Ya],afe);function Aq(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var N5=(e,t)=>t,w5=(e,t,s)=>s,Cfe=et(Zw,N5,w5,(e,t,s)=>e.filter(a=>a.orientation===t).filter(a=>a.mirror===s).sort(Aq)),Tfe=et(Jw,N5,w5,(e,t,s)=>e.filter(a=>a.orientation===t).filter(a=>a.mirror===s).sort(Aq)),Cq=(e,t)=>({width:e.width,height:t.height}),Efe=(e,t)=>{var s=typeof t.width=="number"?t.width:Ab;return{width:s,height:e.height}},Tq=et(yi,cf,Cq),Pfe=(e,t,s)=>{switch(t){case"top":return e.top;case"bottom":return s-e.bottom;default:return 0}},Ofe=(e,t,s)=>{switch(t){case"left":return e.left;case"right":return s-e.right;default:return 0}},Dfe=et(nf,yi,Cfe,N5,w5,(e,t,s,a,n)=>{var i={},l;return s.forEach(o=>{var c=Cq(t,o);l==null&&(l=Pfe(t,a,e));var d=a==="top"&&!n||a==="bottom"&&n;i[o.id]=l-Number(d)*c.height,l+=(d?-1:1)*c.height}),i}),Rfe=et(af,yi,Tfe,N5,w5,(e,t,s,a,n)=>{var i={},l;return s.forEach(o=>{var c=Efe(t,o);l==null&&(l=Ofe(t,a,e));var d=a==="left"&&!n||a==="right"&&n;i[o.id]=l-Number(d)*c.width,l+=(d?-1:1)*c.width}),i}),Mfe=(e,t)=>{var s=cf(e,t);if(s!=null)return Dfe(e,s.orientation,s.mirror)},Ffe=et([yi,cf,Mfe,(e,t)=>t],(e,t,s,a)=>{if(t!=null){var n=s?.[a];return n==null?{x:e.left,y:0}:{x:e.left,y:n}}}),Lfe=(e,t)=>{var s=df(e,t);if(s!=null)return Rfe(e,s.orientation,s.mirror)},Ife=et([yi,df,Lfe,(e,t)=>t],(e,t,s,a)=>{if(t!=null){var n=s?.[a];return n==null?{x:0,y:e.top}:{x:n,y:e.top}}}),Eq=et(yi,df,(e,t)=>{var s=typeof t.width=="number"?t.width:Ab;return{width:s,height:e.height}}),R7=(e,t,s)=>{switch(t){case"xAxis":return Tq(e,s).width;case"yAxis":return Eq(e,s).height;default:return}},Pq=(e,t,s,a)=>{if(s!=null){var{allowDuplicatedCategory:n,type:i,dataKey:l}=s,o=Vu(e,a),c=t.map(d=>d.value);if(l&&o&&i==="category"&&n&&Oz(c))return c}},pT=et([ds,y5,an,Ya],Pq),Oq=(e,t,s,a)=>{if(!(s==null||s.dataKey==null)){var{type:n,scale:i}=s,l=Vu(e,a);if(l&&(n==="number"||i!=="auto"))return t.map(o=>o.value)}},gT=et([ds,y5,Fb,Ya],Oq),M7=et([ds,Xhe,$g,j5,pT,gT,Ub,mT,Ya],(e,t,s,a,n,i,l,o,c)=>{if(t!=null){var d=Vu(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:n,isCategorical:d,niceTicks:o,range:l,realScaleType:s,scale:a}}}),Bfe=(e,t,s,a,n,i,l,o,c)=>{if(!(t==null||a==null)){var d=Vu(e,c),{type:h,ticks:m,tickCount:p}=t,x=s==="scaleBand"&&typeof a.bandwidth=="function"?a.bandwidth()/2:2,v=h==="category"&&a.bandwidth?a.bandwidth()/x:0;v=c==="angleAxis"&&i!=null&&i.length>=2?Fi(i[0]-i[1])*2*v:v;var y=m||n;if(y){var b=y.map((j,S)=>{var w=l?l.indexOf(j):j;return{index:S,coordinate:a(w)+v,value:j,offset:v}});return b.filter(j=>ja(j.coordinate))}return d&&o?o.map((j,S)=>({coordinate:a(j)+v,value:j,index:S,offset:v})).filter(j=>ja(j.coordinate)):a.ticks?a.ticks(p).map(j=>({coordinate:a(j)+v,value:j,offset:v})):a.domain().map((j,S)=>({coordinate:a(j)+v,value:l?l[j]:j,index:S,offset:v}))}},Dq=et([ds,Fb,$g,j5,mT,Ub,pT,gT,Ya],Bfe),Ufe=(e,t,s,a,n,i,l)=>{if(!(t==null||s==null||a==null||a[0]===a[1])){var o=Vu(e,l),{tickCount:c}=t,d=0;return d=l==="angleAxis"&&a?.length>=2?Fi(a[0]-a[1])*2*d:d,o&&i?i.map((h,m)=>({coordinate:s(h)+d,value:h,index:m,offset:d})):s.ticks?s.ticks(c).map(h=>({coordinate:s(h)+d,value:h,offset:d})):s.domain().map((h,m)=>({coordinate:s(h)+d,value:n?n[h]:h,index:m,offset:d}))}},Bu=et([ds,Fb,j5,Ub,pT,gT,Ya],Ufe),Uu=et(an,j5,(e,t)=>{if(!(e==null||t==null))return IN(IN({},e),{},{scale:t})}),zfe=et([an,$g,uT,kq],hT);et((e,t,s)=>JC(e,s),zfe,(e,t)=>{if(!(e==null||t==null))return IN(IN({},e),{},{scale:t})});var $fe=et([ds,Zw,Jw],(e,t,s)=>{switch(e){case"horizontal":return t.some(a=>a.reversed)?"right-to-left":"left-to-right";case"vertical":return s.some(a=>a.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Rq=e=>e.options.defaultTooltipEventType,Mq=e=>e.options.validateTooltipEventTypes;function Fq(e,t,s){if(e==null)return t;var a=e?"axis":"item";return s==null?t:s.includes(a)?a:t}function vT(e,t){var s=Rq(e),a=Mq(e);return Fq(t,s,a)}function Hfe(e){return rr(t=>vT(t,e))}var Lq=(e,t)=>{var s,a=Number(t);if(!(Xc(a)||t==null))return a>=0?e==null||(s=e[a])===null||s===void 0?void 0:s.value:void 0},qfe=e=>e.tooltip.settings,im={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Vfe={itemInteraction:{click:im,hover:im},axisInteraction:{click:im,hover:im},keyboardInteraction:im,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Iq=Co({name:"tooltip",initialState:Vfe,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Wa()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:s,next:a}=t.payload,n=qd(e).tooltipItemPayloads.indexOf(s);n>-1&&(e.tooltipItemPayloads[n]=a)},prepare:Wa()},removeTooltipEntrySettings:{reducer(e,t){var s=qd(e).tooltipItemPayloads.indexOf(t.payload);s>-1&&e.tooltipItemPayloads.splice(s,1)},prepare:Wa()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:Wfe,replaceTooltipEntrySettings:Gfe,removeTooltipEntrySettings:Kfe,setTooltipSettingsState:Yfe,setActiveMouseOverItemIndex:Bq,mouseLeaveItem:Xfe,mouseLeaveChart:Uq,setActiveClickItemIndex:Zfe,setMouseOverAxisIndex:zq,setMouseClickAxisIndex:Jfe,setSyncInteraction:AA,setKeyboardInteraction:CA}=Iq.actions,Qfe=Iq.reducer;function F7(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function m2(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?F7(Object(s),!0).forEach(function(a){eme(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):F7(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function eme(e,t,s){return(t=tme(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function tme(e){var t=rme(e,"string");return typeof t=="symbol"?t:t+""}function rme(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sme(e,t,s){return t==="axis"?s==="click"?e.axisInteraction.click:e.axisInteraction.hover:s==="click"?e.itemInteraction.click:e.itemInteraction.hover}function ame(e){return e.index!=null}var $q=(e,t,s,a)=>{if(t==null)return im;var n=sme(e,t,s);if(n==null)return im;if(n.active)return n;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(ame(n)){if(i)return m2(m2({},n),{},{active:!0})}else if(a!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:a,graphicalItemId:void 0};return m2(m2({},im),{},{coordinate:n.coordinate})};function nme(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var s=Number(e);return Number.isFinite(s)?s:void 0}function ime(e,t){var s=nme(e),a=t[0],n=t[1];if(s===void 0)return!1;var i=Math.min(a,n),l=Math.max(a,n);return s>=i&&s<=l}function lme(e,t,s){if(s==null||t==null)return!0;var a=Ws(e,t);return a==null||!bm(s)?!0:ime(a,s)}var yT=(e,t,s,a)=>{var n=e?.index;if(n==null)return null;var i=Number(n);if(!ja(i))return n;var l=0,o=1/0;t.length>0&&(o=t.length-1);var c=Math.max(l,Math.min(i,o)),d=t[c];return d==null||lme(d,s,a)?String(c):null},Hq=(e,t,s,a,n,i,l,o)=>{if(!(i==null||o==null)){var c=l[0],d=c==null?void 0:o(c.positions,i);if(d!=null)return d;var h=n?.[Number(i)];if(h)return s==="horizontal"?{x:h.coordinate,y:(a.top+t)/2}:{x:(a.left+e)/2,y:h.coordinate}}},qq=(e,t,s,a)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var n;if(s==="hover"?n=e.itemInteraction.hover.graphicalItemId:n=e.itemInteraction.click.graphicalItemId,n==null&&a!=null){var i=e.tooltipItemPayloads[0];return i!=null?[i]:[]}return e.tooltipItemPayloads.filter(l=>{var o;return((o=l.settings)===null||o===void 0?void 0:o.graphicalItemId)===n})},zb=e=>e.options.tooltipPayloadSearcher,Hg=e=>e.tooltip;function L7(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function I7(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?L7(Object(s),!0).forEach(function(a){ome(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):L7(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function ome(e,t,s){return(t=cme(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function cme(e){var t=dme(e,"string");return typeof t=="symbol"?t:t+""}function dme(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ume(e,t){return e??t}var Vq=(e,t,s,a,n,i,l)=>{if(!(t==null||i==null)){var{chartData:o,computedData:c,dataStartIndex:d,dataEndIndex:h}=s,m=[];return e.reduce((p,x)=>{var v,{dataDefinedOnItem:y,settings:b}=x,j=ume(y,o),S=Array.isArray(j)?k$(j,d,h):j,w=(v=b?.dataKey)!==null&&v!==void 0?v:a,k=b?.nameKey,_;if(a&&Array.isArray(S)&&!Array.isArray(S[0])&&l==="axis"?_=Dz(S,a,n):_=i(S,t,c,k),Array.isArray(_))_.forEach(E=>{var F=I7(I7({},b),{},{name:E.name,unit:E.unit,color:void 0,fill:void 0});p.push(zR({tooltipEntrySettings:F,dataKey:E.dataKey,payload:E.payload,value:Ws(E.payload,E.dataKey),name:E.name}))});else{var O;p.push(zR({tooltipEntrySettings:b,dataKey:w,payload:_,value:Ws(_,w),name:(O=Ws(_,k))!==null&&O!==void 0?O:b?.name}))}return p},m)}},bT=et([Ni,ds,hq,WC,ji],Sq),hme=et([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),fme=et([ji,Ug],QC),qg=et([hme,Ni,fme],eT,{memoizeOptions:{resultEqualityCheck:v5}}),mme=et([qg],e=>e.filter(p5)),xme=et([qg],tT,{memoizeOptions:{resultEqualityCheck:v5}}),Vg=et([xme,of],rT),pme=et([mme,of,Ni],cq),jT=et([Vg,Ni,qg],aT),Wq=et([Ni],nT),gme=et([Ni],e=>e.allowDataOverflow),Gq=et([Wq,gme],UH),vme=et([qg],e=>e.filter(p5)),yme=et([pme,vme,Rb,rq],pq),bme=et([yme,of,ji,Gq],gq),jme=et([qg],mq),Nme=et([Vg,Ni,jme,b5,ji],oT,{memoizeOptions:{resultEqualityCheck:g5}}),wme=et([vq,ji,Ug],zg),Sme=et([wme,ji],jq),_me=et([yq,ji,Ug],zg),kme=et([_me,ji],Nq),Ame=et([bq,ji,Ug],zg),Cme=et([Ame,ji],wq),Tme=et([Sme,Cme,kme],UN),Eme=et([Ni,Wq,Gq,bme,Nme,Tme,ds,ji],cT),$b=et([Ni,ds,Vg,jT,Rb,ji,Eme],dT),Pme=et([$b,Ni,bT],fT),Ome=et([Ni,$b,Pme,ji],xT),Kq=e=>{var t=ji(e),s=Ug(e),a=!1;return Ub(e,t,s,a)},Yq=et([Ni,Kq],f5),Xq=et([Ni,bT,Ome,Yq],hT),Dme=et([ds,jT,Ni,ji],Pq),Rme=et([ds,jT,Ni,ji],Oq),Mme=(e,t,s,a,n,i,l,o)=>{if(t){var{type:c}=t,d=Vu(e,o);if(a){var h=s==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,m=c==="category"&&a.bandwidth?a.bandwidth()/h:0;return m=o==="angleAxis"&&n!=null&&n?.length>=2?Fi(n[0]-n[1])*2*m:m,d&&l?l.map((p,x)=>({coordinate:a(p)+m,value:p,index:x,offset:m})):a.domain().map((p,x)=>({coordinate:a(p)+m,value:i?i[p]:p,index:x,offset:m}))}}},uf=et([ds,Ni,bT,Xq,Kq,Dme,Rme,ji],Mme),NT=et([Rq,Mq,qfe],(e,t,s)=>Fq(s.shared,e,t)),Zq=e=>e.tooltip.settings.trigger,wT=e=>e.tooltip.settings.defaultIndex,Hb=et([Hg,NT,Zq,wT],$q),jm=et([Hb,Vg,Bb,$b],yT),Jq=et([uf,jm],Lq),ST=et([Hb],e=>{if(e)return e.dataKey}),Fme=et([Hb],e=>{if(e)return e.graphicalItemId}),Qq=et([Hg,NT,Zq,wT],qq),Lme=et([af,nf,ds,yi,uf,wT,Qq,zb],Hq),Ime=et([Hb,Lme],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Bme=et([Hb],e=>{var t;return(t=e?.active)!==null&&t!==void 0?t:!1}),Ume=et([Qq,jm,of,Bb,Jq,zb,NT],Vq),zme=et([Ume],e=>{if(e!=null){var t=e.map(s=>s.payload).filter(s=>s!=null);return Array.from(new Set(t))}});function B7(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function U7(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?B7(Object(s),!0).forEach(function(a){$me(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):B7(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function $me(e,t,s){return(t=Hme(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Hme(e){var t=qme(e,"string");return typeof t=="symbol"?t:t+""}function qme(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vme=()=>rr(Ni),Wme=()=>{var e=Vme(),t=rr(uf),s=rr(Xq);return ym(!e||!s?void 0:U7(U7({},e),{},{scale:s}),t)};function z7(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function bp(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?z7(Object(s),!0).forEach(function(a){Gme(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):z7(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Gme(e,t,s){return(t=Kme(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Kme(e){var t=Yme(e,"string");return typeof t=="symbol"?t:t+""}function Yme(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xme=(e,t,s,a)=>{var n=t.find(i=>i&&i.index===s);if(n){if(e==="horizontal")return{x:n.coordinate,y:a.chartY};if(e==="vertical")return{x:a.chartX,y:n.coordinate}}return{x:0,y:0}},Zme=(e,t,s,a)=>{var n=t.find(d=>d&&d.index===s);if(n){if(e==="centric"){var i=n.coordinate,{radius:l}=a;return bp(bp(bp({},a),Jn(a.cx,a.cy,l,i)),{},{angle:i,radius:l})}var o=n.coordinate,{angle:c}=a;return bp(bp(bp({},a),Jn(a.cx,a.cy,o,c)),{},{angle:c,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Jme(e,t){var{chartX:s,chartY:a}=e;return s>=t.left&&s<=t.left+t.width&&a>=t.top&&a<=t.top+t.height}var eV=(e,t,s,a,n)=>{var i,l=(i=t?.length)!==null&&i!==void 0?i:0;if(l<=1||e==null)return 0;if(a==="angleAxis"&&n!=null&&Math.abs(Math.abs(n[1]-n[0])-360)<=1e-6)for(var o=0;o<l;o++){var c,d,h,m,p,x=o>0?(c=s[o-1])===null||c===void 0?void 0:c.coordinate:(d=s[l-1])===null||d===void 0?void 0:d.coordinate,v=(h=s[o])===null||h===void 0?void 0:h.coordinate,y=o>=l-1?(m=s[0])===null||m===void 0?void 0:m.coordinate:(p=s[o+1])===null||p===void 0?void 0:p.coordinate,b=void 0;if(!(x==null||v==null||y==null))if(Fi(v-x)!==Fi(y-v)){var j=[];if(Fi(y-v)===Fi(n[1]-n[0])){b=y;var S=v+n[1]-n[0];j[0]=Math.min(S,(S+x)/2),j[1]=Math.max(S,(S+x)/2)}else{b=x;var w=y+n[1]-n[0];j[0]=Math.min(v,(w+v)/2),j[1]=Math.max(v,(w+v)/2)}var k=[Math.min(v,(b+v)/2),Math.max(v,(b+v)/2)];if(e>k[0]&&e<=k[1]||e>=j[0]&&e<=j[1]){var _;return(_=s[o])===null||_===void 0?void 0:_.index}}else{var O=Math.min(x,y),E=Math.max(x,y);if(e>(O+v)/2&&e<=(E+v)/2){var F;return(F=s[o])===null||F===void 0?void 0:F.index}}}else if(t)for(var I=0;I<l;I++){var U=t[I];if(U!=null){var M=t[I+1],L=t[I-1];if(I===0&&M!=null&&e<=(U.coordinate+M.coordinate)/2||I===l-1&&L!=null&&e>(U.coordinate+L.coordinate)/2||I>0&&I<l-1&&L!=null&&M!=null&&e>(U.coordinate+L.coordinate)/2&&e<=(U.coordinate+M.coordinate)/2)return U.index}}return-1},tV=()=>rr(WC),_T=(e,t)=>t,rV=(e,t,s)=>s,kT=(e,t,s,a)=>a,Qme=et(uf,e=>zw(e,t=>t.coordinate)),AT=et([Hg,_T,rV,kT],$q),CT=et([AT,Vg,Bb,$b],yT),e0e=(e,t,s)=>{if(t!=null){var a=Hg(e);return t==="axis"?s==="hover"?a.axisInteraction.hover.dataKey:a.axisInteraction.click.dataKey:s==="hover"?a.itemInteraction.hover.dataKey:a.itemInteraction.click.dataKey}},sV=et([Hg,_T,rV,kT],qq),zN=et([af,nf,ds,yi,uf,kT,sV,zb],Hq),t0e=et([AT,zN],(e,t)=>{var s;return(s=e.coordinate)!==null&&s!==void 0?s:t}),aV=et([uf,CT],Lq),r0e=et([sV,CT,of,Bb,aV,zb,_T],Vq),s0e=et([AT,CT],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),a0e=(e,t,s,a,n,i,l)=>{if(!(!e||!s||!a||!n)&&Jme(e,l)){var o=Sle(e,t),c=eV(o,i,n,s,a),d=Xme(t,n,c,e);return{activeIndex:String(c),activeCoordinate:d}}},n0e=(e,t,s,a,n,i,l)=>{if(!(!e||!a||!n||!i||!s)){var o=$ce(e,s);if(o){var c=_le(o,t),d=eV(c,l,i,a,n),h=Zme(t,i,d,o);return{activeIndex:String(d),activeCoordinate:h}}}},i0e=(e,t,s,a,n,i,l,o)=>{if(!(!e||!t||!a||!n||!i))return t==="horizontal"||t==="vertical"?a0e(e,t,a,n,i,l,o):n0e(e,t,s,a,n,i,l)},l0e=et(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,s)=>s,(e,t,s)=>{if(t!=null){var a=e[t];if(a!=null)return s?a.panoramaElement:a.element}}),o0e=et(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(a=>parseInt(a,10)).concat(Object.values(Ln)),s=Array.from(new Set(t));return s.sort((a,n)=>a-n)},{memoizeOptions:{resultEqualityCheck:Vhe}});function $7(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function H7(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?$7(Object(s),!0).forEach(function(a){c0e(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):$7(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function c0e(e,t,s){return(t=d0e(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function d0e(e){var t=u0e(e,"string");return typeof t=="symbol"?t:t+""}function u0e(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var h0e={},f0e={zIndexMap:Object.values(Ln).reduce((e,t)=>H7(H7({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),h0e)},m0e=new Set(Object.values(Ln));function x0e(e){return m0e.has(e)}var nV=Co({name:"zIndex",initialState:f0e,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:s}=t.payload;e.zIndexMap[s]?e.zIndexMap[s].consumers+=1:e.zIndexMap[s]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Wa()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:s}=t.payload;e.zIndexMap[s]&&(e.zIndexMap[s].consumers-=1,e.zIndexMap[s].consumers<=0&&!x0e(s)&&delete e.zIndexMap[s])},prepare:Wa()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:s,element:a,isPanorama:n}=t.payload;e.zIndexMap[s]?n?e.zIndexMap[s].panoramaElement=a:e.zIndexMap[s].element=a:e.zIndexMap[s]={consumers:0,element:n?void 0:a,panoramaElement:n?a:void 0}},prepare:Wa()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:s}=t.payload;e.zIndexMap[s]&&(t.payload.isPanorama?e.zIndexMap[s].panoramaElement=void 0:e.zIndexMap[s].element=void 0)},prepare:Wa()}}}),{registerZIndexPortal:p0e,unregisterZIndexPortal:g0e,registerZIndexPortalElement:v0e,unregisterZIndexPortalElement:y0e}=nV.actions,b0e=nV.reducer;function Xl(e){var{zIndex:t,children:s}=e,a=soe(),n=a&&t!==void 0&&t!==0,i=Ui(),l=ka();A.useLayoutEffect(()=>n?(l(p0e({zIndex:t})),()=>{l(g0e({zIndex:t}))}):wb,[l,t,n]);var o=rr(c=>l0e(c,t,i));return n?o?z6.createPortal(s,o):null:s}function TA(){return TA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},TA.apply(null,arguments)}function q7(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function x2(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?q7(Object(s),!0).forEach(function(a){j0e(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):q7(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function j0e(e,t,s){return(t=N0e(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function N0e(e){var t=w0e(e,"string");return typeof t=="symbol"?t:t+""}function w0e(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function S0e(e){var{cursor:t,cursorComp:s,cursorProps:a}=e;return A.isValidElement(t)?A.cloneElement(t,a):A.createElement(s,a)}function _0e(e){var t,{coordinate:s,payload:a,index:n,offset:i,tooltipAxisBandSize:l,layout:o,cursor:c,tooltipEventType:d,chartName:h}=e,m=s,p=a,x=n;if(!c||!m||h!=="ScatterChart"&&d!=="axis")return null;var v,y,b;if(h==="ScatterChart")v=m,y=rce,b=Ln.cursorLine;else if(h==="BarChart")v=sce(o,m,i,l),y=Q$,b=Ln.cursorRectangle;else if(o==="radial"&&Mz(m)){var{cx:j,cy:S,radius:w,startAngle:k,endAngle:_}=tH(m);v={cx:j,cy:S,startAngle:k,endAngle:_,innerRadius:w,outerRadius:w},y=sH,b=Ln.cursorLine}else v={points:Wce(o,m,i)},y=Jp,b=Ln.cursorLine;var O=typeof c=="object"&&"className"in c?c.className:void 0,E=x2(x2(x2(x2({stroke:"#ccc",pointerEvents:"none"},i),v),G0(c)),{},{payload:p,payloadIndex:x,className:Es("recharts-tooltip-cursor",O)});return A.createElement(Xl,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:b},A.createElement(S0e,{cursor:c,cursorComp:y,cursorProps:E}))}function k0e(e){var t=Wme(),s=L$(),a=Pm(),n=tV();return t==null||s==null||a==null||n==null?null:A.createElement(_0e,TA({},e,{offset:s,layout:a,tooltipAxisBandSize:t,chartName:n}))}var iV=A.createContext(null),A0e=()=>A.useContext(iV),t_={exports:{}},V7;function C0e(){return V7||(V7=1,(function(e){var t=Object.prototype.hasOwnProperty,s="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(s=!1));function n(c,d,h){this.fn=c,this.context=d,this.once=h||!1}function i(c,d,h,m,p){if(typeof h!="function")throw new TypeError("The listener must be a function");var x=new n(h,m||c,p),v=s?s+d:d;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],x]:c._events[v].push(x):(c._events[v]=x,c._eventsCount++),c}function l(c,d){--c._eventsCount===0?c._events=new a:delete c._events[d]}function o(){this._events=new a,this._eventsCount=0}o.prototype.eventNames=function(){var d=[],h,m;if(this._eventsCount===0)return d;for(m in h=this._events)t.call(h,m)&&d.push(s?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},o.prototype.listeners=function(d){var h=s?s+d:d,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var p=0,x=m.length,v=new Array(x);p<x;p++)v[p]=m[p].fn;return v},o.prototype.listenerCount=function(d){var h=s?s+d:d,m=this._events[h];return m?m.fn?1:m.length:0},o.prototype.emit=function(d,h,m,p,x,v){var y=s?s+d:d;if(!this._events[y])return!1;var b=this._events[y],j=arguments.length,S,w;if(b.fn){switch(b.once&&this.removeListener(d,b.fn,void 0,!0),j){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,h),!0;case 3:return b.fn.call(b.context,h,m),!0;case 4:return b.fn.call(b.context,h,m,p),!0;case 5:return b.fn.call(b.context,h,m,p,x),!0;case 6:return b.fn.call(b.context,h,m,p,x,v),!0}for(w=1,S=new Array(j-1);w<j;w++)S[w-1]=arguments[w];b.fn.apply(b.context,S)}else{var k=b.length,_;for(w=0;w<k;w++)switch(b[w].once&&this.removeListener(d,b[w].fn,void 0,!0),j){case 1:b[w].fn.call(b[w].context);break;case 2:b[w].fn.call(b[w].context,h);break;case 3:b[w].fn.call(b[w].context,h,m);break;case 4:b[w].fn.call(b[w].context,h,m,p);break;default:if(!S)for(_=1,S=new Array(j-1);_<j;_++)S[_-1]=arguments[_];b[w].fn.apply(b[w].context,S)}}return!0},o.prototype.on=function(d,h,m){return i(this,d,h,m,!1)},o.prototype.once=function(d,h,m){return i(this,d,h,m,!0)},o.prototype.removeListener=function(d,h,m,p){var x=s?s+d:d;if(!this._events[x])return this;if(!h)return l(this,x),this;var v=this._events[x];if(v.fn)v.fn===h&&(!p||v.once)&&(!m||v.context===m)&&l(this,x);else{for(var y=0,b=[],j=v.length;y<j;y++)(v[y].fn!==h||p&&!v[y].once||m&&v[y].context!==m)&&b.push(v[y]);b.length?this._events[x]=b.length===1?b[0]:b:l(this,x)}return this},o.prototype.removeAllListeners=function(d){var h;return d?(h=s?s+d:d,this._events[h]&&l(this,h)):(this._events=new a,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=s,o.EventEmitter=o,e.exports=o})(t_)),t_.exports}var T0e=C0e();const E0e=sf(T0e);var Yy=new E0e,EA="recharts.syncEvent.tooltip",W7="recharts.syncEvent.brush";function S5(e,t){if(t){var s=Number.parseInt(t,10);if(!Xc(s))return e?.[s]}}var P0e={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},lV=Co({name:"options",initialState:P0e,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),O0e=lV.reducer,{createEventEmitter:D0e}=lV.actions;function R0e(e){return e.tooltip.syncInteraction}var M0e={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},oV=Co({name:"chartData",initialState:M0e,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:s,endIndex:a}=t.payload;s!=null&&(e.dataStartIndex=s),a!=null&&(e.dataEndIndex=a)}}}),{setChartData:G7,setDataStartEndIndexes:F0e,setComputedData:DUe}=oV.actions,L0e=oV.reducer,I0e=["x","y"];function K7(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function jp(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?K7(Object(s),!0).forEach(function(a){B0e(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):K7(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function B0e(e,t,s){return(t=U0e(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function U0e(e){var t=z0e(e,"string");return typeof t=="symbol"?t:t+""}function z0e(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $0e(e,t){if(e==null)return{};var s,a,n=H0e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function H0e(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function q0e(){var e=rr(GC),t=rr(KC),s=ka(),a=rr(sq),n=rr(uf),i=Pm(),l=t5(),o=rr(c=>c.rootProps.className);A.useEffect(()=>{if(e==null)return wb;var c=(d,h,m)=>{if(t!==m&&e===d){if(a==="index"){var p;if(l&&h!==null&&h!==void 0&&(p=h.payload)!==null&&p!==void 0&&p.coordinate&&h.payload.sourceViewBox){var x=h.payload.coordinate,{x:v,y}=x,b=$0e(x,I0e),{x:j,y:S,width:w,height:k}=h.payload.sourceViewBox,_=jp(jp({},b),{},{x:l.x+(w?(v-j)/w:0)*l.width,y:l.y+(k?(y-S)/k:0)*l.height});s(jp(jp({},h),{},{payload:jp(jp({},h.payload),{},{coordinate:_})}))}else s(h);return}if(n!=null){var O;if(typeof a=="function"){var E={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},F=a(n,E);O=n[F]}else a==="value"&&(O=n.find(V=>String(V.value)===h.payload.label));var{coordinate:I}=h.payload;if(O==null||h.payload.active===!1||I==null||l==null){s(AA({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:U,y:M}=I,L=Math.min(U,l.x+l.width),J=Math.min(M,l.y+l.height),K={x:i==="horizontal"?O.coordinate:L,y:i==="horizontal"?J:O.coordinate},ae=AA({active:h.payload.active,coordinate:K,dataKey:h.payload.dataKey,index:String(O.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});s(ae)}}};return Yy.on(EA,c),()=>{Yy.off(EA,c)}},[o,s,t,e,a,n,i,l])}function V0e(){var e=rr(GC),t=rr(KC),s=ka();A.useEffect(()=>{if(e==null)return wb;var a=(n,i,l)=>{t!==l&&e===n&&s(F0e(i))};return Yy.on(W7,a),()=>{Yy.off(W7,a)}},[s,t,e])}function W0e(){var e=ka();A.useEffect(()=>{e(D0e())},[e]),q0e(),V0e()}function G0e(e,t,s,a,n,i){var l=rr(x=>e0e(x,e,t)),o=rr(KC),c=rr(GC),d=rr(sq),h=rr(R0e),m=h?.active,p=t5();A.useEffect(()=>{if(!m&&c!=null&&o!=null){var x=AA({active:i,coordinate:s,dataKey:l,index:n,label:typeof a=="number"?String(a):a,sourceViewBox:p,graphicalItemId:void 0});Yy.emit(EA,c,x,o)}},[m,s,l,n,a,o,c,d,i,p])}function Y7(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function X7(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?Y7(Object(s),!0).forEach(function(a){K0e(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Y7(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function K0e(e,t,s){return(t=Y0e(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Y0e(e){var t=X0e(e,"string");return typeof t=="symbol"?t:t+""}function X0e(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z0e(e){return e.dataKey}function J0e(e,t){return A.isValidElement(e)?A.cloneElement(e,t):typeof e=="function"?A.createElement(e,t):A.createElement(Moe,t)}var Z7=[],Q0e={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Vl(e){var t,s,a=wn(e,Q0e),{active:n,allowEscapeViewBox:i,animationDuration:l,animationEasing:o,content:c,filterNull:d,isAnimationActive:h,offset:m,payloadUniqBy:p,position:x,reverseDirection:v,useTranslate3d:y,wrapperStyle:b,cursor:j,shared:S,trigger:w,defaultIndex:k,portal:_,axisId:O}=a,E=ka(),F=typeof k=="number"?String(k):k;A.useEffect(()=>{E(Yfe({shared:S,trigger:w,axisId:O,active:n,defaultIndex:F}))},[E,S,w,O,n,F]);var I=t5(),U=K$(),M=Hfe(S),{activeIndex:L,isActive:J}=(t=rr(fe=>s0e(fe,M,w,F)))!==null&&t!==void 0?t:{},K=rr(fe=>r0e(fe,M,w,F)),ae=rr(fe=>aV(fe,M,w,F)),V=rr(fe=>t0e(fe,M,w,F)),re=K,X=A0e(),Z=(s=n??J)!==null&&s!==void 0?s:!1,[ye,te]=Xz([re,Z]),D=M==="axis"?ae:void 0;G0e(M,w,V,D,L,Z);var H=_??X;if(H==null||I==null||M==null)return null;var q=re??Z7;Z||(q=Z7),d&&q.length&&(q=Vz(q.filter(fe=>fe.value!=null&&(fe.hide!==!0||a.includeHidden)),p,Z0e));var W=q.length>0,G=A.createElement($oe,{allowEscapeViewBox:i,animationDuration:l,animationEasing:o,isAnimationActive:h,active:Z,coordinate:V,hasPayload:W,offset:m,position:x,reverseDirection:v,useTranslate3d:y,viewBox:I,wrapperStyle:b,lastBoundingBox:ye,innerRef:te,hasPortalFromProps:!!_},J0e(c,X7(X7({},a),{},{payload:q,label:D,active:Z,activeIndex:L,coordinate:V,accessibilityLayer:U})));return A.createElement(A.Fragment,null,z6.createPortal(G,H),Z&&A.createElement(k0e,{cursor:j,tooltipEventType:M,coordinate:V,payload:q,index:L}))}var Rm=e=>null;Rm.displayName="Cell";function exe(e,t,s){return(t=txe(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function txe(e){var t=rxe(e,"string");return typeof t=="symbol"?t:t+""}function rxe(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class sxe{constructor(t){exe(this,"cache",new Map),this.maxSize=t}get(t){var s=this.cache.get(t);return s!==void 0&&(this.cache.delete(t),this.cache.set(t,s)),s}set(t,s){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var a=this.cache.keys().next().value;a!=null&&this.cache.delete(a)}this.cache.set(t,s)}clear(){this.cache.clear()}size(){return this.cache.size}}function J7(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function axe(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?J7(Object(s),!0).forEach(function(a){nxe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):J7(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function nxe(e,t,s){return(t=ixe(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function ixe(e){var t=lxe(e,"string");return typeof t=="symbol"?t:t+""}function lxe(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oxe={cacheSize:2e3,enableCache:!0},cV=axe({},oxe),Q7=new sxe(cV.cacheSize),cxe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},eF="recharts_measurement_span";function dxe(e,t){var s=t.fontSize||"",a=t.fontFamily||"",n=t.fontWeight||"",i=t.fontStyle||"",l=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(s,"|").concat(a,"|").concat(n,"|").concat(i,"|").concat(l,"|").concat(o)}var tF=(e,t)=>{try{var s=document.getElementById(eF);s||(s=document.createElement("span"),s.setAttribute("id",eF),s.setAttribute("aria-hidden","true"),document.body.appendChild(s)),Object.assign(s.style,cxe,t),s.textContent="".concat(e);var a=s.getBoundingClientRect();return{width:a.width,height:a.height}}catch{return{width:0,height:0}}},py=function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Tb.isSsr)return{width:0,height:0};if(!cV.enableCache)return tF(t,s);var a=dxe(t,s),n=Q7.get(a);if(n)return n;var i=tF(t,s);return Q7.set(a,i),i},dV;function uxe(e,t,s){return(t=hxe(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function hxe(e){var t=fxe(e,"string");return typeof t=="symbol"?t:t+""}function fxe(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,sF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,mxe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,xxe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,pxe={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},gxe=["cm","mm","pt","pc","in","Q","px"];function vxe(e){return gxe.includes(e)}var zp="NaN";function yxe(e,t){return e*pxe[t]}class el{static parse(t){var s,[,a,n]=(s=xxe.exec(t))!==null&&s!==void 0?s:[];return a==null?el.NaN:new el(parseFloat(a),n??"")}constructor(t,s){this.num=t,this.unit=s,this.num=t,this.unit=s,Xc(t)&&(this.unit=""),s!==""&&!mxe.test(s)&&(this.num=NaN,this.unit=""),vxe(s)&&(this.num=yxe(t,s),this.unit="px")}add(t){return this.unit!==t.unit?new el(NaN,""):new el(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new el(NaN,""):new el(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new el(NaN,""):new el(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new el(NaN,""):new el(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Xc(this.num)}}dV=el;uxe(el,"NaN",new dV(NaN,""));function uV(e){if(e==null||e.includes(zp))return zp;for(var t=e;t.includes("*")||t.includes("/");){var s,[,a,n,i]=(s=rF.exec(t))!==null&&s!==void 0?s:[],l=el.parse(a??""),o=el.parse(i??""),c=n==="*"?l.multiply(o):l.divide(o);if(c.isNaN())return zp;t=t.replace(rF,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,h,m,p]=(d=sF.exec(t))!==null&&d!==void 0?d:[],x=el.parse(h??""),v=el.parse(p??""),y=m==="+"?x.add(v):x.subtract(v);if(y.isNaN())return zp;t=t.replace(sF,y.toString())}return t}var aF=/\(([^()]*)\)/;function bxe(e){for(var t=e,s;(s=aF.exec(t))!=null;){var[,a]=s;t=t.replace(aF,uV(a))}return t}function jxe(e){var t=e.replace(/\s+/g,"");return t=bxe(t),t=uV(t),t}function Nxe(e){try{return jxe(e)}catch{return zp}}function r_(e){var t=Nxe(e.slice(5,-1));return t===zp?"":t}var wxe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Sxe=["dx","dy","angle","className","breakAll"];function PA(){return PA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},PA.apply(null,arguments)}function nF(e,t){if(e==null)return{};var s,a,n=_xe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function _xe(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var hV=/[ \f\n\r\t\v\u2028\u2029]+/,fV=e=>{var{children:t,breakAll:s,style:a}=e;try{var n=[];La(t)||(s?n=t.toString().split(""):n=t.toString().split(hV));var i=n.map(o=>({word:o,width:py(o,a).width})),l=s?0:py("",a).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}};function kxe(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var mV=(e,t,s,a)=>e.reduce((n,i)=>{var{word:l,width:o}=i,c=n[n.length-1];if(c&&o!=null&&(t==null||a||c.width+o+s<Number(t)))c.words.push(l),c.width+=o+s;else{var d={words:[l],width:o};n.push(d)}return n},[]),xV=e=>e.reduce((t,s)=>t.width>s.width?t:s),Axe="",iF=(e,t,s,a,n,i,l,o)=>{var c=e.slice(0,t),d=fV({breakAll:s,style:a,children:c+Axe});if(!d)return[!1,[]];var h=mV(d.wordsWithComputedWidth,i,l,o),m=h.length>n||xV(h).width>Number(i);return[m,h]},Cxe=(e,t,s,a,n)=>{var{maxLines:i,children:l,style:o,breakAll:c}=e,d=Wt(i),h=String(l),m=mV(t,a,s,n);if(!d||n)return m;var p=m.length>i||xV(m).width>Number(a);if(!p)return m;for(var x=0,v=h.length-1,y=0,b;x<=v&&y<=h.length-1;){var j=Math.floor((x+v)/2),S=j-1,[w,k]=iF(h,S,c,o,i,a,s,n),[_]=iF(h,j,c,o,i,a,s,n);if(!w&&!_&&(x=j+1),w&&_&&(v=j-1),!w&&_){b=k;break}y++}return b||m},lF=e=>{var t=La(e)?[]:e.toString().split(hV);return[{words:t,width:void 0}]},Txe=e=>{var{width:t,scaleToFit:s,children:a,style:n,breakAll:i,maxLines:l}=e;if((t||s)&&!Tb.isSsr){var o,c,d=fV({breakAll:i,children:a,style:n});if(d){var{wordsWithComputedWidth:h,spaceWidth:m}=d;o=h,c=m}else return lF(a);return Cxe({breakAll:i,children:a,maxLines:l,style:n},o,c,t,!!s)}return lF(a)},pV="#808080",Exe={angle:0,breakAll:!1,capHeight:"0.71em",fill:pV,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},_5=A.forwardRef((e,t)=>{var s=wn(e,Exe),{x:a,y:n,lineHeight:i,capHeight:l,fill:o,scaleToFit:c,textAnchor:d,verticalAnchor:h}=s,m=nF(s,wxe),p=A.useMemo(()=>Txe({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:c,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,c,m.style,m.width]),{dx:x,dy:v,angle:y,className:b,breakAll:j}=m,S=nF(m,Sxe);if(!Fu(a)||!Fu(n)||p.length===0)return null;var w=Number(a)+(Wt(x)?x:0),k=Number(n)+(Wt(v)?v:0);if(!ja(w)||!ja(k))return null;var _;switch(h){case"start":_=r_("calc(".concat(l,")"));break;case"middle":_=r_("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(l," / 2))"));break;default:_=r_("calc(".concat(p.length-1," * -").concat(i,")"));break}var O=[];if(c){var E=p[0].width,{width:F}=m;O.push("scale(".concat(Wt(F)&&Wt(E)?F/E:1,")"))}return y&&O.push("rotate(".concat(y,", ").concat(w,", ").concat(k,")")),O.length&&(S.transform=O.join(" ")),A.createElement("text",PA({},Al(S),{ref:t,x:w,y:k,className:Es("recharts-text",b),textAnchor:d,fill:o.includes("url")?pV:o}),p.map((I,U)=>{var M=I.words.join(j?"":" ");return A.createElement("tspan",{x:w,dy:U===0?_:i,key:"".concat(M,"-").concat(U)},M)}))});_5.displayName="Text";var Pxe=["labelRef"],Oxe=["content"];function oF(e,t){if(e==null)return{};var s,a,n=Dxe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Dxe(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function cF(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Pn(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?cF(Object(s),!0).forEach(function(a){Rxe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):cF(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Rxe(e,t,s){return(t=Mxe(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Mxe(e){var t=Fxe(e,"string");return typeof t=="symbol"?t:t+""}function Fxe(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eh(){return Eh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Eh.apply(null,arguments)}var gV=A.createContext(null),Lxe=e=>{var{x:t,y:s,upperWidth:a,lowerWidth:n,width:i,height:l,children:o}=e,c=A.useMemo(()=>({x:t,y:s,upperWidth:a,lowerWidth:n,width:i,height:l}),[t,s,a,n,i,l]);return A.createElement(gV.Provider,{value:c},o)},vV=()=>{var e=A.useContext(gV),t=t5();return e||F$(t)},Ixe=A.createContext(null),Bxe=()=>{var e=A.useContext(Ixe),t=rr(oq);return e||t},Uxe=e=>{var{value:t,formatter:s}=e,a=La(e.children)?t:e.children;return typeof s=="function"?s(a):a},TT=e=>e!=null&&typeof e=="function",zxe=(e,t)=>{var s=Fi(t-e),a=Math.min(Math.abs(t-e),360);return s*a},$xe=(e,t,s,a,n)=>{var{offset:i,className:l}=e,{cx:o,cy:c,innerRadius:d,outerRadius:h,startAngle:m,endAngle:p,clockWise:x}=n,v=(d+h)/2,y=zxe(m,p),b=y>=0?1:-1,j,S;switch(t){case"insideStart":j=m+b*i,S=x;break;case"insideEnd":j=p-b*i,S=!x;break;case"end":j=p+b*i,S=x;break;default:throw new Error("Unsupported position ".concat(t))}S=y<=0?S:!S;var w=Jn(o,c,v,j),k=Jn(o,c,v,j+(S?1:-1)*359),_="M".concat(w.x,",").concat(w.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(S?0:1,`,
    `).concat(k.x,",").concat(k.y),O=La(e.id)?Fy("recharts-radial-line-"):e.id;return A.createElement("text",Eh({},a,{dominantBaseline:"central",className:Es("recharts-radial-bar-label",l)}),A.createElement("defs",null,A.createElement("path",{id:O,d:_})),A.createElement("textPath",{xlinkHref:"#".concat(O)},s))},Hxe=(e,t,s)=>{var{cx:a,cy:n,innerRadius:i,outerRadius:l,startAngle:o,endAngle:c}=e,d=(o+c)/2;if(s==="outside"){var{x:h,y:m}=Jn(a,n,l+t,d);return{x:h,y:m,textAnchor:h>=a?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:a,y:n,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:a,y:n,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:a,y:n,textAnchor:"middle",verticalAnchor:"end"};var p=(i+l)/2,{x,y:v}=Jn(a,n,p,d);return{x,y:v,textAnchor:"middle",verticalAnchor:"middle"}},OA=e=>"cx"in e&&Wt(e.cx),qxe=(e,t)=>{var{parentViewBox:s,offset:a,position:n}=e,i;s!=null&&!OA(s)&&(i=s);var{x:l,y:o,upperWidth:c,lowerWidth:d,height:h}=t,m=l,p=l+(c-d)/2,x=(m+p)/2,v=(c+d)/2,y=m+c/2,b=h>=0?1:-1,j=b*a,S=b>0?"end":"start",w=b>0?"start":"end",k=c>=0?1:-1,_=k*a,O=k>0?"end":"start",E=k>0?"start":"end";if(n==="top"){var F={x:m+c/2,y:o-j,textAnchor:"middle",verticalAnchor:S};return Pn(Pn({},F),i?{height:Math.max(o-i.y,0),width:c}:{})}if(n==="bottom"){var I={x:p+d/2,y:o+h+j,textAnchor:"middle",verticalAnchor:w};return Pn(Pn({},I),i?{height:Math.max(i.y+i.height-(o+h),0),width:d}:{})}if(n==="left"){var U={x:x-_,y:o+h/2,textAnchor:O,verticalAnchor:"middle"};return Pn(Pn({},U),i?{width:Math.max(U.x-i.x,0),height:h}:{})}if(n==="right"){var M={x:x+v+_,y:o+h/2,textAnchor:E,verticalAnchor:"middle"};return Pn(Pn({},M),i?{width:Math.max(i.x+i.width-M.x,0),height:h}:{})}var L=i?{width:v,height:h}:{};return n==="insideLeft"?Pn({x:x+_,y:o+h/2,textAnchor:E,verticalAnchor:"middle"},L):n==="insideRight"?Pn({x:x+v-_,y:o+h/2,textAnchor:O,verticalAnchor:"middle"},L):n==="insideTop"?Pn({x:m+c/2,y:o+j,textAnchor:"middle",verticalAnchor:w},L):n==="insideBottom"?Pn({x:p+d/2,y:o+h-j,textAnchor:"middle",verticalAnchor:S},L):n==="insideTopLeft"?Pn({x:m+_,y:o+j,textAnchor:E,verticalAnchor:w},L):n==="insideTopRight"?Pn({x:m+c-_,y:o+j,textAnchor:O,verticalAnchor:w},L):n==="insideBottomLeft"?Pn({x:p+_,y:o+h-j,textAnchor:E,verticalAnchor:S},L):n==="insideBottomRight"?Pn({x:p+d-_,y:o+h-j,textAnchor:O,verticalAnchor:S},L):n&&typeof n=="object"&&(Wt(n.x)||Kh(n.x))&&(Wt(n.y)||Kh(n.y))?Pn({x:l+Sl(n.x,v),y:o+Sl(n.y,h),textAnchor:"end",verticalAnchor:"end"},L):Pn({x:y,y:o+h/2,textAnchor:"middle",verticalAnchor:"middle"},L)},Vxe={angle:0,offset:5,zIndex:Ln.label,position:"middle",textBreakAll:!1};function am(e){var t=wn(e,Vxe),{viewBox:s,position:a,value:n,children:i,content:l,className:o="",textBreakAll:c,labelRef:d}=t,h=Bxe(),m=vV(),p=a==="center"?m:h??m,x,v,y;if(s==null?x=p:OA(s)?x=s:x=F$(s),!x||La(n)&&La(i)&&!A.isValidElement(l)&&typeof l!="function")return null;var b=Pn(Pn({},t),{},{viewBox:x});if(A.isValidElement(l)){var{labelRef:j}=b,S=oF(b,Pxe);return A.cloneElement(l,S)}if(typeof l=="function"){var{content:w}=b,k=oF(b,Oxe);if(v=A.createElement(l,k),A.isValidElement(v))return v}else v=Uxe(t);var _=Al(t);if(OA(x)){if(a==="insideStart"||a==="insideEnd"||a==="end")return $xe(t,a,v,_,x);y=Hxe(x,t.offset,t.position)}else y=qxe(t,x);return A.createElement(Xl,{zIndex:t.zIndex},A.createElement(_5,Eh({ref:d,className:Es("recharts-label",o)},_,y,{textAnchor:kxe(_.textAnchor)?_.textAnchor:y.textAnchor,breakAll:c}),v))}am.displayName="Label";var Wxe=(e,t,s)=>{if(!e)return null;var a={viewBox:t,labelRef:s};return e===!0?A.createElement(am,Eh({key:"label-implicit"},a)):Fu(e)?A.createElement(am,Eh({key:"label-implicit",value:e},a)):A.isValidElement(e)?e.type===am?A.cloneElement(e,Pn({key:"label-implicit"},a)):A.createElement(am,Eh({key:"label-implicit",content:e},a)):TT(e)?A.createElement(am,Eh({key:"label-implicit",content:e},a)):e&&typeof e=="object"?A.createElement(am,Eh({},e,{key:"label-implicit"},a)):null};function Gxe(e){var{label:t,labelRef:s}=e,a=vV();return Wxe(t,a,s)||null}var s_={},a_={},dF;function Kxe(){return dF||(dF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){return s[s.length-1]}e.last=t})(a_)),a_}var n_={},uF;function Yxe(){return uF||(uF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){return Array.isArray(s)?s:Array.from(s)}e.toArray=t})(n_)),n_}var hF;function Xxe(){return hF||(hF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kxe(),s=Yxe(),a=iC();function n(i){if(a.isArrayLike(i))return t.last(s.toArray(i))}e.last=n})(s_)),s_}var i_,fF;function Zxe(){return fF||(fF=1,i_=Xxe().last),i_}var Jxe=Zxe();const Qxe=sf(Jxe);var epe=["valueAccessor"],tpe=["dataKey","clockWise","id","textBreakAll","zIndex"];function $N(){return $N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},$N.apply(null,arguments)}function mF(e,t){if(e==null)return{};var s,a,n=rpe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function rpe(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var spe=e=>Array.isArray(e.value)?Qxe(e.value):e.value,yV=A.createContext(void 0),ET=yV.Provider,bV=A.createContext(void 0),ape=bV.Provider;function npe(){return A.useContext(yV)}function ipe(){return A.useContext(bV)}function Uj(e){var{valueAccessor:t=spe}=e,s=mF(e,epe),{dataKey:a,clockWise:n,id:i,textBreakAll:l,zIndex:o}=s,c=mF(s,tpe),d=npe(),h=ipe(),m=d||h;return!m||!m.length?null:A.createElement(Xl,{zIndex:o??Ln.label},A.createElement(jn,{className:"recharts-label-list"},m.map((p,x)=>{var v,y=La(a)?t(p,x):Ws(p&&p.payload,a),b=La(i)?{}:{id:"".concat(i,"-").concat(x)};return A.createElement(am,$N({key:"label-".concat(x)},Al(p),c,b,{fill:(v=s.fill)!==null&&v!==void 0?v:p.fill,parentViewBox:p.parentViewBox,value:y,textBreakAll:l,viewBox:p.viewBox,index:x,zIndex:0}))})))}Uj.displayName="LabelList";function k5(e){var{label:t}=e;return t?t===!0?A.createElement(Uj,{key:"labelList-implicit"}):A.isValidElement(t)||TT(t)?A.createElement(Uj,{key:"labelList-implicit",content:t}):typeof t=="object"?A.createElement(Uj,$N({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function DA(){return DA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},DA.apply(null,arguments)}var jV=e=>{var{cx:t,cy:s,r:a,className:n}=e,i=Es("recharts-dot",n);return Wt(t)&&Wt(s)&&Wt(a)?A.createElement("circle",DA({},Gl(e),nC(e),{className:i,cx:t,cy:s,r:a})):null},NV=e=>e.graphicalItems.polarItems,lpe=et([Ya,Mb],QC),A5=et([NV,an,lpe],eT),ope=et([A5],tT),C5=et([ope,h5],rT),cpe=et([C5,an,A5],aT);et([C5,an,A5],(e,t,s)=>s.length>0?e.flatMap(a=>s.flatMap(n=>{var i,l=Ws(a,(i=t.dataKey)!==null&&i!==void 0?i:n.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(a=>({value:Ws(a,t.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]})));var xF=()=>{},dpe=et([C5,an,A5,b5,Ya],oT),upe=et([an,iT,lT,xF,dpe,xF,ds,Ya],cT),wV=et([an,ds,C5,cpe,Rb,Ya,upe],dT),hpe=et([wV,an,$g],fT);et([an,wV,hpe,Ya],xT);var fpe={radiusAxis:{},angleAxis:{}},SV=Co({name:"polarAxis",initialState:fpe,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:RUe,removeRadiusAxis:MUe,addAngleAxis:FUe,removeAngleAxis:LUe}=SV.actions,mpe=SV.reducer;function pF(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function gF(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?pF(Object(s),!0).forEach(function(a){xpe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):pF(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function xpe(e,t,s){return(t=ppe(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function ppe(e){var t=gpe(e,"string");return typeof t=="symbol"?t:t+""}function gpe(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vpe=(e,t)=>t,PT=et([NV,vpe],(e,t)=>e.filter(s=>s.type==="pie").find(s=>s.id===t)),ype=[],OT=(e,t,s)=>s?.length===0?ype:s,_V=et([h5,PT,OT],(e,t,s)=>{var{chartData:a}=e;if(t!=null){var n;if(t?.data!=null&&t.data.length>0?n=t.data:n=a,(!n||!n.length)&&s!=null&&(n=s.map(i=>gF(gF({},t.presentationProps),i.props))),n!=null)return n}}),bpe=et([_V,PT,OT],(e,t,s)=>{if(!(e==null||t==null))return e.map((a,n)=>{var i,l=Ws(a,t.nameKey,t.name),o;return s!=null&&(i=s[n])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?o=s[n].props.fill:typeof a=="object"&&a!=null&&"fill"in a?o=a.fill:o=t.fill,{value:Em(l,t.dataKey),color:o,payload:a,type:t.legendType}})}),jpe=et([_V,PT,OT,yi],(e,t,s,a)=>{if(!(t==null||e==null))return wge({offset:a,pieSettings:t,displayedData:e,cells:s})}),l_={exports:{}},ua={};var vF;function Npe(){if(vF)return ua;vF=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),l=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.view_transition"),x=Symbol.for("react.client.reference");function v(y){if(typeof y=="object"&&y!==null){var b=y.$$typeof;switch(b){case e:switch(y=y.type,y){case s:case n:case a:case c:case d:case p:return y;default:switch(y=y&&y.$$typeof,y){case l:case o:case m:case h:return y;case i:return y;default:return b}}case t:return b}}}return ua.ContextConsumer=i,ua.ContextProvider=l,ua.Element=e,ua.ForwardRef=o,ua.Fragment=s,ua.Lazy=m,ua.Memo=h,ua.Portal=t,ua.Profiler=n,ua.StrictMode=a,ua.Suspense=c,ua.SuspenseList=d,ua.isContextConsumer=function(y){return v(y)===i},ua.isContextProvider=function(y){return v(y)===l},ua.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===e},ua.isForwardRef=function(y){return v(y)===o},ua.isFragment=function(y){return v(y)===s},ua.isLazy=function(y){return v(y)===m},ua.isMemo=function(y){return v(y)===h},ua.isPortal=function(y){return v(y)===t},ua.isProfiler=function(y){return v(y)===n},ua.isStrictMode=function(y){return v(y)===a},ua.isSuspense=function(y){return v(y)===c},ua.isSuspenseList=function(y){return v(y)===d},ua.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===s||y===n||y===a||y===c||y===d||typeof y=="object"&&y!==null&&(y.$$typeof===m||y.$$typeof===h||y.$$typeof===l||y.$$typeof===i||y.$$typeof===o||y.$$typeof===x||y.getModuleId!==void 0)},ua.typeOf=v,ua}var yF;function wpe(){return yF||(yF=1,l_.exports=Npe()),l_.exports}var Spe=wpe(),bF=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",jF=null,o_=null,kV=e=>{if(e===jF&&Array.isArray(o_))return o_;var t=[];return A.Children.forEach(e,s=>{La(s)||(Spe.isFragment(s)?t=t.concat(kV(s.props.children)):t.push(s))}),o_=t,jF=e,t};function DT(e,t){var s=[],a=[];return Array.isArray(t)?a=t.map(n=>bF(n)):a=[bF(t)],kV(e).forEach(n=>{var i=Y0(n,"type.displayName")||Y0(n,"type.name");i&&a.indexOf(i)!==-1&&s.push(n)}),s}var RT=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,c_={},NF;function _pe(){return NF||(NF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){if(typeof s!="object"||s==null)return!1;if(Object.getPrototypeOf(s)===null)return!0;if(Object.prototype.toString.call(s)!=="[object Object]"){const n=s[Symbol.toStringTag];return n==null||!Object.getOwnPropertyDescriptor(s,Symbol.toStringTag)?.writable?!1:s.toString()===`[object ${n}]`}let a=s;for(;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(s)===a}e.isPlainObject=t})(c_)),c_}var d_,wF;function kpe(){return wF||(wF=1,d_=_pe().isPlainObject),d_}var Ape=kpe();const Cpe=sf(Ape);var SF,_F,kF,AF,CF;function TF(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function EF(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?TF(Object(s),!0).forEach(function(a){Tpe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):TF(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Tpe(e,t,s){return(t=Epe(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Epe(e){var t=Ppe(e,"string");return typeof t=="symbol"?t:t+""}function Ppe(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HN(){return HN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},HN.apply(null,arguments)}function Kv(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var PF=(e,t,s,a,n)=>{var i=s-a,l;return l=pn(SF||(SF=Kv(["M ",",",""])),e,t),l+=pn(_F||(_F=Kv(["L ",",",""])),e+s,t),l+=pn(kF||(kF=Kv(["L ",",",""])),e+s-i/2,t+n),l+=pn(AF||(AF=Kv(["L ",",",""])),e+s-i/2-a,t+n),l+=pn(CF||(CF=Kv(["L ",","," Z"])),e,t),l},Ope={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Dpe=e=>{var t=wn(e,Ope),{x:s,y:a,upperWidth:n,lowerWidth:i,height:l,className:o}=t,{animationEasing:c,animationDuration:d,animationBegin:h,isUpdateAnimationActive:m}=t,p=A.useRef(null),[x,v]=A.useState(-1),y=A.useRef(n),b=A.useRef(i),j=A.useRef(l),S=A.useRef(s),w=A.useRef(a),k=Fg(e,"trapezoid-");if(A.useEffect(()=>{if(p.current&&p.current.getTotalLength)try{var K=p.current.getTotalLength();K&&v(K)}catch{}},[]),s!==+s||a!==+a||n!==+n||i!==+i||l!==+l||n===0&&i===0||l===0)return null;var _=Es("recharts-trapezoid",o);if(!m)return A.createElement("g",null,A.createElement("path",HN({},Al(t),{className:_,d:PF(s,a,n,i,l)})));var O=y.current,E=b.current,F=j.current,I=S.current,U=w.current,M="0px ".concat(x===-1?1:x,"px"),L="".concat(x,"px 0px"),J=Y$(["strokeDasharray"],d,c);return A.createElement(Mg,{animationId:k,key:k,canBegin:x>0,duration:d,easing:c,isActive:m,begin:h},K=>{var ae=Hs(O,n,K),V=Hs(E,i,K),re=Hs(F,l,K),X=Hs(I,s,K),Z=Hs(U,a,K);p.current&&(y.current=ae,b.current=V,j.current=re,S.current=X,w.current=Z);var ye=K>0?{transition:J,strokeDasharray:L}:{strokeDasharray:M};return A.createElement("path",HN({},Al(t),{className:_,d:PF(X,Z,ae,V,re),ref:p,style:EF(EF({},ye),t.style)}))})},Rpe=["option","shapeType","activeClassName"];function Mpe(e,t){if(e==null)return{};var s,a,n=Fpe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Fpe(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function OF(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function qN(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?OF(Object(s),!0).forEach(function(a){Lpe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):OF(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Lpe(e,t,s){return(t=Ipe(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Ipe(e){var t=Bpe(e,"string");return typeof t=="symbol"?t:t+""}function Bpe(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Upe(e,t){return qN(qN({},t),e)}function zpe(e,t){return e==="symbols"}function DF(e){var{shapeType:t,elementProps:s}=e;switch(t){case"rectangle":return A.createElement(Q$,s);case"trapezoid":return A.createElement(Dpe,s);case"sector":return A.createElement(sH,s);case"symbols":if(zpe(t))return A.createElement(aC,s);break;case"curve":return A.createElement(Jp,s);default:return null}}function $pe(e){return A.isValidElement(e)?e.props:e}function MT(e){var{option:t,shapeType:s,activeClassName:a="recharts-active-shape"}=e,n=Mpe(e,Rpe),i;if(A.isValidElement(t))i=A.cloneElement(t,qN(qN({},n),$pe(t)));else if(typeof t=="function")i=t(n,n.index);else if(Cpe(t)&&typeof t!="boolean"){var l=Upe(t,n);i=A.createElement(DF,{shapeType:s,elementProps:l})}else{var o=n;i=A.createElement(DF,{shapeType:s,elementProps:o})}return n.isActive?A.createElement(jn,{className:a},i):i}var FT=(e,t,s)=>{var a=ka();return(n,i)=>l=>{e?.(n,i,l),a(Bq({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition,activeGraphicalItemId:s}))}},LT=e=>{var t=ka();return(s,a)=>n=>{e?.(s,a,n),t(Xfe())}},IT=(e,t,s)=>{var a=ka();return(n,i)=>l=>{e?.(n,i,l),a(Zfe({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition,activeGraphicalItemId:s}))}};function T5(e){var{tooltipEntrySettings:t}=e,s=ka(),a=Ui(),n=A.useRef(null);return A.useLayoutEffect(()=>{a||(n.current===null?s(Wfe(t)):n.current!==t&&s(Gfe({prev:n.current,next:t})),n.current=t)},[t,s,a]),A.useLayoutEffect(()=>()=>{n.current&&(s(Kfe(n.current)),n.current=null)},[s]),null}function BT(e){var{legendPayload:t}=e,s=ka(),a=Ui(),n=A.useRef(null);return A.useLayoutEffect(()=>{a||(n.current===null?s(V$(t)):n.current!==t&&s(W$({prev:n.current,next:t})),n.current=t)},[s,a,t]),A.useLayoutEffect(()=>()=>{n.current&&(s(G$(n.current)),n.current=null)},[s]),null}function Hpe(e){var{legendPayload:t}=e,s=ka(),a=rr(ds),n=A.useRef(null);return A.useLayoutEffect(()=>{a!=="centric"&&a!=="radial"||(n.current===null?s(V$(t)):n.current!==t&&s(W$({prev:n.current,next:t})),n.current=t)},[s,a,t]),A.useLayoutEffect(()=>()=>{n.current&&(s(G$(n.current)),n.current=null)},[s]),null}var u_,qpe=()=>{var[e]=A.useState(()=>Fy("uid-"));return e},Vpe=(u_=AJ.useId)!==null&&u_!==void 0?u_:qpe;function Wpe(e,t){var s=Vpe();return t||(e?"".concat(e,"-").concat(s):s)}var Gpe=A.createContext(void 0),E5=e=>{var{id:t,type:s,children:a}=e,n=Wpe("recharts-".concat(s),t);return A.createElement(Gpe.Provider,{value:n},a(n))},Kpe={cartesianItems:[],polarItems:[]},AV=Co({name:"graphicalItems",initialState:Kpe,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Wa()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:s,next:a}=t.payload,n=qd(e).cartesianItems.indexOf(s);n>-1&&(e.cartesianItems[n]=a)},prepare:Wa()},removeCartesianGraphicalItem:{reducer(e,t){var s=qd(e).cartesianItems.indexOf(t.payload);s>-1&&e.cartesianItems.splice(s,1)},prepare:Wa()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Wa()},removePolarGraphicalItem:{reducer(e,t){var s=qd(e).polarItems.indexOf(t.payload);s>-1&&e.polarItems.splice(s,1)},prepare:Wa()}}}),{addCartesianGraphicalItem:Ype,replaceCartesianGraphicalItem:Xpe,removeCartesianGraphicalItem:Zpe,addPolarGraphicalItem:Jpe,removePolarGraphicalItem:Qpe}=AV.actions,ege=AV.reducer,tge=e=>{var t=ka(),s=A.useRef(null);return A.useLayoutEffect(()=>{s.current===null?t(Ype(e)):s.current!==e&&t(Xpe({prev:s.current,next:e})),s.current=e},[t,e]),A.useLayoutEffect(()=>()=>{s.current&&(t(Zpe(s.current)),s.current=null)},[t]),null},UT=A.memo(tge);function rge(e){var t=ka();return A.useLayoutEffect(()=>(t(Jpe(e)),()=>{t(Qpe(e))}),[t,e]),null}var sge=["key"],age=["onMouseEnter","onClick","onMouseLeave"],nge=["id"],ige=["id"];function RF(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function gn(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?RF(Object(s),!0).forEach(function(a){lge(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):RF(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function lge(e,t,s){return(t=oge(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function oge(e){var t=cge(e,"string");return typeof t=="symbol"?t:t+""}function cge(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nm(){return Nm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Nm.apply(null,arguments)}function P5(e,t){if(e==null)return{};var s,a,n=dge(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function dge(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function uge(e){var t=A.useMemo(()=>DT(e.children,Rm),[e.children]),s=rr(a=>bpe(a,e.id,t));return s==null?null:A.createElement(Hpe,{legendPayload:s})}var hge=A.memo(e=>{var{dataKey:t,nameKey:s,sectors:a,stroke:n,strokeWidth:i,fill:l,name:o,hide:c,tooltipType:d,id:h}=e,m={dataDefinedOnItem:a.map(p=>p.tooltipPayload),positions:a.map(p=>p.tooltipPosition),settings:{stroke:n,strokeWidth:i,fill:l,dataKey:t,nameKey:s,name:Em(o,t),hide:c,type:d,color:l,unit:"",graphicalItemId:h}};return A.createElement(T5,{tooltipEntrySettings:m})}),fge=(e,t)=>e>t?"start":e<t?"end":"middle",mge=(e,t,s)=>Sl(typeof t=="function"?t(e):t,s,s*.8),xge=(e,t,s)=>{var{top:a,left:n,width:i,height:l}=t,o=eH(i,l),c=n+Sl(e.cx,i,i/2),d=a+Sl(e.cy,l,l/2),h=Sl(e.innerRadius,o,0),m=mge(s,e.outerRadius,o),p=e.maxRadius||Math.sqrt(i*i+l*l)/2;return{cx:c,cy:d,innerRadius:h,outerRadius:m,maxRadius:p}},pge=(e,t)=>{var s=Fi(t-e),a=Math.min(Math.abs(t-e),360);return s*a};function gge(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var vge=(e,t)=>{if(A.isValidElement(e))return A.cloneElement(e,t);if(typeof e=="function")return e(t);var s=Es("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:a}=t,n=P5(t,sge);return A.createElement(Jp,Nm({},n,{type:"linear",className:s}))},yge=(e,t,s)=>{if(A.isValidElement(e))return A.cloneElement(e,t);var a=s;if(typeof e=="function"&&(a=e(t),A.isValidElement(a)))return a;var n=Es("recharts-pie-label-text",gge(e));return A.createElement(_5,Nm({},t,{alignmentBaseline:"middle",className:n}),a)};function bge(e){var{sectors:t,props:s,showLabels:a}=e,{label:n,labelLine:i,dataKey:l}=s;if(!a||!n||!t)return null;var o=Gl(s),c=G0(n),d=G0(i),h=typeof n=="object"&&"offsetRadius"in n&&typeof n.offsetRadius=="number"&&n.offsetRadius||20,m=t.map((p,x)=>{var v=(p.startAngle+p.endAngle)/2,y=Jn(p.cx,p.cy,p.outerRadius+h,v),b=gn(gn(gn(gn({},o),p),{},{stroke:"none"},c),{},{index:x,textAnchor:fge(y.x,p.cx)},y),j=gn(gn(gn(gn({},o),p),{},{fill:"none",stroke:p.fill},d),{},{index:x,points:[Jn(p.cx,p.cy,p.outerRadius,v),y],key:"line"});return A.createElement(Xl,{zIndex:Ln.label,key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(x)},A.createElement(jn,null,i&&vge(i,j),yge(n,b,Ws(p,l))))});return A.createElement(jn,{className:"recharts-pie-labels"},m)}function jge(e){var{sectors:t,props:s,showLabels:a}=e,{label:n}=s;return typeof n=="object"&&n!=null&&"position"in n?A.createElement(k5,{label:n}):A.createElement(bge,{sectors:t,props:s,showLabels:a})}function Nge(e){var{sectors:t,activeShape:s,inactiveShape:a,allOtherPieProps:n,shape:i,id:l}=e,o=rr(jm),c=rr(ST),d=rr(Fme),{onMouseEnter:h,onClick:m,onMouseLeave:p}=n,x=P5(n,age),v=FT(h,n.dataKey,l),y=LT(p),b=IT(m,n.dataKey,l);return t==null||t.length===0?null:A.createElement(A.Fragment,null,t.map((j,S)=>{if(j?.startAngle===0&&j?.endAngle===0&&t.length!==1)return null;var w=d==null||d===l,k=String(S)===o&&(c==null||n.dataKey===c)&&w,_=o?a:null,O=s&&k?s:_,E=gn(gn({},j),{},{stroke:j.stroke,tabIndex:-1,[P$]:S,[O$]:l});return A.createElement(jn,Nm({key:"sector-".concat(j?.startAngle,"-").concat(j?.endAngle,"-").concat(j.midAngle,"-").concat(S),tabIndex:-1,className:"recharts-pie-sector"},Sb(x,j,S),{onMouseEnter:v(j,S),onMouseLeave:y(j,S),onClick:b(j,S)}),A.createElement(MT,Nm({option:i??O,index:S,shapeType:"sector",isActive:k},E)))}))}function wge(e){var t,{pieSettings:s,displayedData:a,cells:n,offset:i}=e,{cornerRadius:l,startAngle:o,endAngle:c,dataKey:d,nameKey:h,tooltipType:m}=s,p=Math.abs(s.minAngle),x=pge(o,c),v=Math.abs(x),y=a.length<=1?0:(t=s.paddingAngle)!==null&&t!==void 0?t:0,b=a.filter(O=>Ws(O,d,0)!==0).length,j=(v>=360?b:b-1)*y,S=v-b*p-j,w=a.reduce((O,E)=>{var F=Ws(E,d,0);return O+(Wt(F)?F:0)},0),k;if(w>0){var _;k=a.map((O,E)=>{var F=Ws(O,d,0),I=Ws(O,h,E),U=xge(s,i,O),M=(Wt(F)?F:0)/w,L,J=gn(gn({},O),n&&n[E]&&n[E].props);E?L=_.endAngle+Fi(x)*y*(F!==0?1:0):L=o;var K=L+Fi(x)*((F!==0?p:0)+M*S),ae=(L+K)/2,V=(U.innerRadius+U.outerRadius)/2,re=[{name:I,value:F,payload:J,dataKey:d,type:m,graphicalItemId:s.id}],X=Jn(U.cx,U.cy,V,ae);return _=gn(gn(gn(gn({},s.presentationProps),{},{percent:M,cornerRadius:typeof l=="string"?parseFloat(l):l,name:I,tooltipPayload:re,midAngle:ae,middleRadius:V,tooltipPosition:X},J),U),{},{value:F,dataKey:d,startAngle:L,endAngle:K,payload:J,paddingAngle:Fi(x)*y}),_})}return k}function Sge(e){var{showLabels:t,sectors:s,children:a}=e,n=A.useMemo(()=>!t||!s?[]:s.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[s,t]);return A.createElement(ape,{value:t?n:void 0},a)}function _ge(e){var{props:t,previousSectorsRef:s,id:a}=e,{sectors:n,isAnimationActive:i,animationBegin:l,animationDuration:o,animationEasing:c,activeShape:d,inactiveShape:h,onAnimationStart:m,onAnimationEnd:p}=t,x=Fg(t,"recharts-pie-"),v=s.current,[y,b]=A.useState(!1),j=A.useCallback(()=>{typeof p=="function"&&p(),b(!1)},[p]),S=A.useCallback(()=>{typeof m=="function"&&m(),b(!0)},[m]);return A.createElement(Sge,{showLabels:!y,sectors:n},A.createElement(Mg,{animationId:x,begin:l,duration:o,isActive:i,easing:c,onAnimationStart:S,onAnimationEnd:j,key:x},w=>{var k=[],_=n&&n[0],O=_?.startAngle;return n?.forEach((E,F)=>{var I=v&&v[F],U=F>0?Y0(E,"paddingAngle",0):0;if(I){var M=Hs(I.endAngle-I.startAngle,E.endAngle-E.startAngle,w),L=gn(gn({},E),{},{startAngle:O+U,endAngle:O+M+U});k.push(L),O=L.endAngle}else{var{endAngle:J,startAngle:K}=E,ae=Hs(0,J-K,w),V=gn(gn({},E),{},{startAngle:O+U,endAngle:O+ae+U});k.push(V),O=V.endAngle}}),s.current=k,A.createElement(jn,null,A.createElement(Nge,{sectors:k,activeShape:d,inactiveShape:h,allOtherPieProps:t,shape:t.shape,id:a}))}),A.createElement(jge,{showLabels:!y,sectors:n,props:t}),t.children)}var kge={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Ln.area};function Age(e){var{id:t}=e,s=P5(e,nge),{hide:a,className:n,rootTabIndex:i}=e,l=A.useMemo(()=>DT(e.children,Rm),[e.children]),o=rr(h=>jpe(h,t,l)),c=A.useRef(null),d=Es("recharts-pie",n);return a||o==null?(c.current=null,A.createElement(jn,{tabIndex:i,className:d})):A.createElement(Xl,{zIndex:e.zIndex},A.createElement(hge,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:o,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),A.createElement(jn,{tabIndex:i,className:d},A.createElement(_ge,{props:gn(gn({},s),{},{sectors:o}),previousSectorsRef:c,id:t})))}function qb(e){var t=wn(e,kge),{id:s}=t,a=P5(t,ige),n=Gl(a);return A.createElement(E5,{id:s,type:"pie"},i=>A.createElement(A.Fragment,null,A.createElement(rge,{type:"pie",id:i,data:a.data,dataKey:a.dataKey,hide:a.hide,angleAxisId:0,radiusAxisId:0,name:a.name,nameKey:a.nameKey,tooltipType:a.tooltipType,legendType:a.legendType,fill:a.fill,cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,paddingAngle:a.paddingAngle,minAngle:a.minAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius,cornerRadius:a.cornerRadius,presentationProps:n,maxRadius:t.maxRadius}),A.createElement(uge,Nm({},a,{id:i})),A.createElement(Age,Nm({},a,{id:i}))))}qb.displayName="Pie";var Cge=["points"];function MF(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function h_(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?MF(Object(s),!0).forEach(function(a){Tge(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):MF(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Tge(e,t,s){return(t=Ege(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Ege(e){var t=Pge(e,"string");return typeof t=="symbol"?t:t+""}function Pge(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VN(){return VN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},VN.apply(null,arguments)}function Oge(e,t){if(e==null)return{};var s,a,n=Dge(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Dge(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function Rge(e){var{option:t,dotProps:s,className:a}=e;if(A.isValidElement(t))return A.cloneElement(t,s);if(typeof t=="function")return t(s);var n=Es(a,typeof t!="boolean"?t.className:""),i=s??{},{points:l}=i,o=Oge(i,Cge);return A.createElement(jV,VN({},o,{className:n}))}function Mge(e,t){return e==null?!1:t?!0:e.length===1}function CV(e){var{points:t,dot:s,className:a,dotClassName:n,dataKey:i,baseProps:l,needClip:o,clipPathId:c,zIndex:d=Ln.scatter}=e;if(!Mge(t,s))return null;var h=RT(s),m=Qse(s),p=t.map((v,y)=>{var b,j,S=h_(h_(h_({r:3},l),m),{},{index:y,cx:(b=v.x)!==null&&b!==void 0?b:void 0,cy:(j=v.y)!==null&&j!==void 0?j:void 0,dataKey:i,value:v.value,payload:v.payload,points:t});return A.createElement(Rge,{key:"dot-".concat(y),option:s,dotProps:S,className:n})}),x={};return o&&c!=null&&(x.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(c,")")),A.createElement(Xl,{zIndex:d},A.createElement(jn,VN({className:a},x),p))}function FF(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function LF(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?FF(Object(s),!0).forEach(function(a){Fge(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):FF(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Fge(e,t,s){return(t=Lge(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Lge(e){var t=Ige(e,"string");return typeof t=="symbol"?t:t+""}function Ige(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TV=0,Bge={xAxis:{},yAxis:{},zAxis:{}},EV=Co({name:"cartesianAxis",initialState:Bge,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Wa()},replaceXAxis:{reducer(e,t){var{prev:s,next:a}=t.payload;e.xAxis[s.id]!==void 0&&(s.id!==a.id&&delete e.xAxis[s.id],e.xAxis[a.id]=a)},prepare:Wa()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Wa()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Wa()},replaceYAxis:{reducer(e,t){var{prev:s,next:a}=t.payload;e.yAxis[s.id]!==void 0&&(s.id!==a.id&&delete e.yAxis[s.id],e.yAxis[a.id]=a)},prepare:Wa()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Wa()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Wa()},replaceZAxis:{reducer(e,t){var{prev:s,next:a}=t.payload;e.zAxis[s.id]!==void 0&&(s.id!==a.id&&delete e.zAxis[s.id],e.zAxis[a.id]=a)},prepare:Wa()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Wa()},updateYAxisWidth(e,t){var{id:s,width:a}=t.payload,n=e.yAxis[s];if(n){var i=n.widthHistory||[];if(i.length===3&&i[0]===i[2]&&a===i[1]&&a!==n.width&&Math.abs(a-i[0])<=1)return;var l=[...i,a].slice(-3);e.yAxis[s]=LF(LF({},e.yAxis[s]),{},{width:a,widthHistory:l})}}}}),{addXAxis:Uge,replaceXAxis:zge,removeXAxis:$ge,addYAxis:Hge,replaceYAxis:qge,removeYAxis:Vge,addZAxis:IUe,replaceZAxis:BUe,removeZAxis:UUe,updateYAxisWidth:Wge}=EV.actions,Gge=EV.reducer,Kge=et([yi],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Yge=et([Kge,af,nf],(e,t,s)=>{if(!(!e||t==null||s==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,s-e.top-e.bottom)}}),O5=()=>rr(Yge),Xge=()=>rr(zme);function IF(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function f_(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?IF(Object(s),!0).forEach(function(a){Zge(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):IF(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Zge(e,t,s){return(t=Jge(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Jge(e){var t=Qge(e,"string");return typeof t=="symbol"?t:t+""}function Qge(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eve=e=>{var{point:t,childIndex:s,mainColor:a,activeDot:n,dataKey:i,clipPath:l}=e;if(n===!1||t.x==null||t.y==null)return null;var o={index:s,dataKey:i,cx:t.x,cy:t.y,r:4,fill:a??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},c=f_(f_(f_({},o),G0(n)),nC(n)),d;return A.isValidElement(n)?d=A.cloneElement(n,c):typeof n=="function"?d=n(c):d=A.createElement(jV,c),A.createElement(jn,{className:"recharts-active-dot",clipPath:l},d)};function RA(e){var{points:t,mainColor:s,activeDot:a,itemDataKey:n,clipPath:i,zIndex:l=Ln.activeDot}=e,o=rr(jm),c=Xge();if(t==null||c==null)return null;var d=t.find(h=>c.includes(h.payload));return La(d)?null:A.createElement(Xl,{zIndex:l},A.createElement(eve,{point:d,childIndex:Number(o),mainColor:s,dataKey:n,activeDot:a,clipPath:i}))}var BF=(e,t,s)=>{var a=s??e;if(!La(a))return Sl(a,t,0)},tve=(e,t,s)=>{var a={},n=e.filter(p5),i=e.filter(d=>d.stackId==null),l=n.reduce((d,h)=>(d[h.stackId]||(d[h.stackId]=[]),d[h.stackId].push(h),d),a),o=Object.entries(l).map(d=>{var[h,m]=d,p=m.map(v=>v.dataKey),x=BF(t,s,m[0].barSize);return{stackId:h,dataKeys:p,barSize:x}}),c=i.map(d=>{var h=[d.dataKey].filter(p=>p!=null),m=BF(t,s,d.barSize);return{stackId:void 0,dataKeys:h,barSize:m}});return[...o,...c]};function UF(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function p2(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?UF(Object(s),!0).forEach(function(a){rve(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):UF(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function rve(e,t,s){return(t=sve(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function sve(e){var t=ave(e,"string");return typeof t=="symbol"?t:t+""}function ave(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nve(e,t,s,a,n){var i=a.length;if(!(i<1)){var l=Sl(e,s,0,!0),o,c=[];if(ja(a[0].barSize)){var d=!1,h=s/i,m=a.reduce((j,S)=>j+(S.barSize||0),0);m+=(i-1)*l,m>=s&&(m-=(i-1)*l,l=0),m>=s&&h>0&&(d=!0,h*=.9,m=i*h);var p=(s-m)/2>>0,x={offset:p-l,size:0};o=a.reduce((j,S)=>{var w,k={stackId:S.stackId,dataKeys:S.dataKeys,position:{offset:x.offset+x.size+l,size:d?h:(w=S.barSize)!==null&&w!==void 0?w:0}},_=[...j,k];return x=_[_.length-1].position,_},c)}else{var v=Sl(t,s,0,!0);s-2*v-(i-1)*l<=0&&(l=0);var y=(s-2*v-(i-1)*l)/i;y>1&&(y>>=0);var b=ja(n)?Math.min(y,n):y;o=a.reduce((j,S,w)=>[...j,{stackId:S.stackId,dataKeys:S.dataKeys,position:{offset:v+(y+l)*w+(y-b)/2,size:b}}],c)}return o}}var ive=(e,t,s,a,n,i,l)=>{var o=La(l)?t:l,c=nve(s,a,n!==i?n:i,e,o);return n!==i&&c!=null&&(c=c.map(d=>p2(p2({},d),{},{position:p2(p2({},d.position),{},{offset:d.position.offset-n/2})}))),c},lve=(e,t)=>{var s=x5(t);if(!(!e||s==null||t==null)){var{stackId:a}=t;if(a!=null){var n=e[a];if(n){var{stackedData:i}=n;if(i)return i.find(l=>l.key===s)}}}};function ove(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&ja(e.zIndex)?e.zIndex:t}var PV=e=>{var{chartData:t}=e,s=ka(),a=Ui();return A.useEffect(()=>a?()=>{}:(s(G7(t)),()=>{s(G7(void 0))}),[t,s,a]),null},zF={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},OV=Co({name:"brush",initialState:zF,reducers:{setBrushSettings(e,t){return t.payload==null?zF:t.payload}}}),{setBrushSettings:zUe}=OV.actions,cve=OV.reducer;function dve(e,t,s){return(t=uve(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function uve(e){var t=hve(e,"string");return typeof t=="symbol"?t:t+""}function hve(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class zT{static create(t){return new zT(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:s,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(a)switch(a){case"start":return this.scale(t);case"middle":{var n=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+n}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(s){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var s=this.range(),a=s[0],n=s[s.length-1];return a<=n?t>=a&&t<=n:t>=n&&t<=a}}dve(zT,"EPS",1e-4);function fve(e){return(e%180+180)%180}var mve=function(t){var{width:s,height:a}=t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=fve(n),l=i*Math.PI/180,o=Math.atan(a/s),c=l>o&&l<Math.PI-o?a/Math.sin(l):s/Math.cos(l);return Math.abs(c)},xve={dots:[],areas:[],lines:[]},DV=Co({name:"referenceElements",initialState:xve,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var s=qd(e).dots.findIndex(a=>a===t.payload);s!==-1&&e.dots.splice(s,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var s=qd(e).areas.findIndex(a=>a===t.payload);s!==-1&&e.areas.splice(s,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var s=qd(e).lines.findIndex(a=>a===t.payload);s!==-1&&e.lines.splice(s,1)}}}),{addDot:$Ue,removeDot:HUe,addArea:qUe,removeArea:VUe,addLine:WUe,removeLine:GUe}=DV.actions,pve=DV.reducer,gve=A.createContext(void 0),vve=e=>{var{children:t}=e,[s]=A.useState("".concat(Fy("recharts"),"-clip")),a=O5();if(a==null)return null;var{x:n,y:i,width:l,height:o}=a;return A.createElement(gve.Provider,{value:s},A.createElement("defs",null,A.createElement("clipPath",{id:s},A.createElement("rect",{x:n,y:i,height:o,width:l}))),t)};function RV(e,t){if(t<1)return[];if(t===1)return e;for(var s=[],a=0;a<e.length;a+=t){var n=e[a];n!==void 0&&s.push(n)}return s}function yve(e,t,s){var a={width:e.width+t.width,height:e.height+t.height};return mve(a,s)}function bve(e,t,s){var a=s==="width",{x:n,y:i,width:l,height:o}=e;return t===1?{start:a?n:i,end:a?n+l:i+o}:{start:a?n+l:i+o,end:a?n:i}}function Xy(e,t,s,a,n){if(e*t<e*a||e*t>e*n)return!1;var i=s();return e*(t-e*i/2-a)>=0&&e*(t+e*i/2-n)<=0}function jve(e,t){return RV(e,t+1)}function Nve(e,t,s,a,n){for(var i=(a||[]).slice(),{start:l,end:o}=t,c=0,d=1,h=l,m=function(){var v=a?.[c];if(v===void 0)return{v:RV(a,d)};var y=c,b,j=()=>(b===void 0&&(b=s(v,y)),b),S=v.coordinate,w=c===0||Xy(e,S,j,h,o);w||(c=0,h=l,d+=1),w&&(h=S+e*(j()/2+n),c+=d)},p;d<=i.length;)if(p=m(),p)return p.v;return[]}function wve(e,t,s,a,n){var i=(a||[]).slice(),l=i.length;if(l===0)return[];for(var{start:o,end:c}=t,d=1;d<=l;d++){for(var h=(l-1)%d,m=o,p=!0,x=function(){var S=a[v],w=v,k,_=()=>(k===void 0&&(k=s(S,w)),k),O=S.coordinate,E=v===h||Xy(e,O,_,m,c);if(!E)return p=!1,1;E&&(m=O+e*(_()/2+n))},v=h;v<l&&!x();v+=d);if(p){for(var y=[],b=h;b<l;b+=d)y.push(a[b]);return y}}return[]}function $F(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function pl(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?$F(Object(s),!0).forEach(function(a){Sve(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):$F(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Sve(e,t,s){return(t=_ve(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function _ve(e){var t=kve(e,"string");return typeof t=="symbol"?t:t+""}function kve(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ave(e,t,s,a,n){for(var i=(a||[]).slice(),l=i.length,{start:o}=t,{end:c}=t,d=function(p){var x=i[p],v,y=()=>(v===void 0&&(v=s(x,p)),v);if(p===l-1){var b=e*(x.coordinate+e*y()/2-c);i[p]=x=pl(pl({},x),{},{tickCoord:b>0?x.coordinate-b*e:x.coordinate})}else i[p]=x=pl(pl({},x),{},{tickCoord:x.coordinate});if(x.tickCoord!=null){var j=Xy(e,x.tickCoord,y,o,c);j&&(c=x.tickCoord-e*(y()/2+n),i[p]=pl(pl({},x),{},{isShow:!0}))}},h=l-1;h>=0;h--)d(h);return i}function Cve(e,t,s,a,n,i){var l=(a||[]).slice(),o=l.length,{start:c,end:d}=t;if(i){var h=a[o-1],m=s(h,o-1),p=e*(h.coordinate+e*m/2-d);if(l[o-1]=h=pl(pl({},h),{},{tickCoord:p>0?h.coordinate-p*e:h.coordinate}),h.tickCoord!=null){var x=Xy(e,h.tickCoord,()=>m,c,d);x&&(d=h.tickCoord-e*(m/2+n),l[o-1]=pl(pl({},h),{},{isShow:!0}))}}for(var v=i?o-1:o,y=function(S){var w=l[S],k,_=()=>(k===void 0&&(k=s(w,S)),k);if(S===0){var O=e*(w.coordinate-e*_()/2-c);l[S]=w=pl(pl({},w),{},{tickCoord:O<0?w.coordinate-O*e:w.coordinate})}else l[S]=w=pl(pl({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var E=Xy(e,w.tickCoord,_,c,d);E&&(c=w.tickCoord+e*(_()/2+n),l[S]=pl(pl({},w),{},{isShow:!0}))}},b=0;b<v;b++)y(b);return l}function $T(e,t,s){var{tick:a,ticks:n,viewBox:i,minTickGap:l,orientation:o,interval:c,tickFormatter:d,unit:h,angle:m}=e;if(!n||!n.length||!a)return[];if(Wt(c)||Tb.isSsr){var p;return(p=jve(n,Wt(c)?c:0))!==null&&p!==void 0?p:[]}var x=[],v=o==="top"||o==="bottom"?"width":"height",y=h&&v==="width"?py(h,{fontSize:t,letterSpacing:s}):{width:0,height:0},b=(w,k)=>{var _=typeof d=="function"?d(w.value,k):w.value;return v==="width"?yve(py(_,{fontSize:t,letterSpacing:s}),y,m):py(_,{fontSize:t,letterSpacing:s})[v]},j=n.length>=2?Fi(n[1].coordinate-n[0].coordinate):1,S=bve(i,j,v);return c==="equidistantPreserveStart"?Nve(j,S,b,n,l):c==="equidistantPreserveEnd"?wve(j,S,b,n,l):(c==="preserveStart"||c==="preserveStartEnd"?x=Cve(j,S,b,n,l,c==="preserveStartEnd"):x=Ave(j,S,b,n,l),x.filter(w=>w.isShow))}var Tve=e=>{var{ticks:t,label:s,labelGapWithTick:a=5,tickSize:n=0,tickMargin:i=0}=e,l=0;if(t){Array.from(t).forEach(h=>{if(h){var m=h.getBoundingClientRect();m.width>l&&(l=m.width)}});var o=s?s.getBoundingClientRect().width:0,c=n+i,d=l+c+o+(s?a:0);return Math.round(d)}return 0},Eve=["axisLine","width","height","className","hide","ticks","axisType"];function Pve(e,t){if(e==null)return{};var s,a,n=Ove(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Ove(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function ex(){return ex=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},ex.apply(null,arguments)}function HF(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Yn(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?HF(Object(s),!0).forEach(function(a){Dve(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):HF(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Dve(e,t,s){return(t=Rve(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Rve(e){var t=Mve(e,"string");return typeof t=="symbol"?t:t+""}function Mve(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uh={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Ln.axis};function Fve(e){var{x:t,y:s,width:a,height:n,orientation:i,mirror:l,axisLine:o,otherSvgProps:c}=e;if(!o)return null;var d=Yn(Yn(Yn({},c),Gl(o)),{},{fill:"none"});if(i==="top"||i==="bottom"){var h=+(i==="top"&&!l||i==="bottom"&&l);d=Yn(Yn({},d),{},{x1:t,y1:s+h*n,x2:t+a,y2:s+h*n})}else{var m=+(i==="left"&&!l||i==="right"&&l);d=Yn(Yn({},d),{},{x1:t+m*a,y1:s,x2:t+m*a,y2:s+n})}return A.createElement("line",ex({},d,{className:Es("recharts-cartesian-axis-line",Y0(o,"className"))}))}function Lve(e,t,s,a,n,i,l,o,c){var d,h,m,p,x,v,y=o?-1:1,b=e.tickSize||l,j=Wt(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":d=h=e.coordinate,p=s+ +!o*n,m=p-y*b,v=m-y*c,x=j;break;case"left":m=p=e.coordinate,h=t+ +!o*a,d=h-y*b,x=d-y*c,v=j;break;case"right":m=p=e.coordinate,h=t+ +o*a,d=h+y*b,x=d+y*c,v=j;break;default:d=h=e.coordinate,p=s+ +o*n,m=p+y*b,v=m+y*c,x=j;break}return{line:{x1:d,y1:m,x2:h,y2:p},tick:{x,y:v}}}function Ive(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Bve(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Uve(e){var{option:t,tickProps:s,value:a}=e,n,i=Es(s.className,"recharts-cartesian-axis-tick-value");if(A.isValidElement(t))n=A.cloneElement(t,Yn(Yn({},s),{},{className:i}));else if(typeof t=="function")n=t(Yn(Yn({},s),{},{className:i}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=Es(l,t?.className)),n=A.createElement(_5,ex({},s,{className:l}),a)}return n}var zve=A.forwardRef((e,t)=>{var{ticks:s=[],tick:a,tickLine:n,stroke:i,tickFormatter:l,unit:o,padding:c,tickTextProps:d,orientation:h,mirror:m,x:p,y:x,width:v,height:y,tickSize:b,tickMargin:j,fontSize:S,letterSpacing:w,getTicksConfig:k,events:_,axisType:O}=e,E=$T(Yn(Yn({},k),{},{ticks:s}),S,w),F=Ive(h,m),I=Bve(h,m),U=Gl(k),M=G0(a),L={};typeof n=="object"&&(L=n);var J=Yn(Yn({},U),{},{fill:"none"},L),K=E.map(re=>Yn({entry:re},Lve(re,p,x,v,y,h,b,m,j))),ae=K.map(re=>{var{entry:X,line:Z}=re;return A.createElement(jn,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(X.value,"-").concat(X.coordinate,"-").concat(X.tickCoord)},n&&A.createElement("line",ex({},J,Z,{className:Es("recharts-cartesian-axis-tick-line",Y0(n,"className"))})))}),V=K.map((re,X)=>{var{entry:Z,tick:ye}=re,te=Yn(Yn(Yn(Yn({textAnchor:F,verticalAnchor:I},U),{},{stroke:"none",fill:i},M),ye),{},{index:X,payload:Z,visibleTicksCount:E.length,tickFormatter:l,padding:c},d);return A.createElement(jn,ex({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(Z.value,"-").concat(Z.coordinate,"-").concat(Z.tickCoord)},Sb(_,Z,X)),a&&A.createElement(Uve,{option:a,tickProps:te,value:"".concat(typeof l=="function"?l(Z.value,X):Z.value).concat(o||"")}))});return A.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(O,"-ticks")},V.length>0&&A.createElement(Xl,{zIndex:Ln.label},A.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(O,"-tick-labels"),ref:t},V)),ae.length>0&&A.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(O,"-tick-lines")},ae))}),$ve=A.forwardRef((e,t)=>{var{axisLine:s,width:a,height:n,className:i,hide:l,ticks:o,axisType:c}=e,d=Pve(e,Eve),[h,m]=A.useState(""),[p,x]=A.useState(""),v=A.useRef(null);A.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var b;return Tve({ticks:v.current,label:(b=e.labelRef)===null||b===void 0?void 0:b.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var y=A.useCallback(b=>{if(b){var j=b.getElementsByClassName("recharts-cartesian-axis-tick-value");v.current=j;var S=j[0];if(S){var w=window.getComputedStyle(S),k=w.fontSize,_=w.letterSpacing;(k!==h||_!==p)&&(m(k),x(_))}}},[h,p]);return l||a!=null&&a<=0||n!=null&&n<=0?null:A.createElement(Xl,{zIndex:e.zIndex},A.createElement(jn,{className:Es("recharts-cartesian-axis",i)},A.createElement(Fve,{x:e.x,y:e.y,width:a,height:n,orientation:e.orientation,mirror:e.mirror,axisLine:s,otherSvgProps:Gl(e)}),A.createElement(zve,{ref:y,axisType:c,events:d,fontSize:h,getTicksConfig:e,height:e.height,letterSpacing:p,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),A.createElement(Lxe,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},A.createElement(Gxe,{label:e.label,labelRef:e.labelRef}),e.children)))}),HT=A.forwardRef((e,t)=>{var s=wn(e,Uh);return A.createElement($ve,ex({},s,{ref:t}))});HT.displayName="CartesianAxis";var Hve=["x1","y1","x2","y2","key"],qve=["offset"],Vve=["xAxisId","yAxisId"],Wve=["xAxisId","yAxisId"];function qF(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function yl(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?qF(Object(s),!0).forEach(function(a){Gve(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):qF(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Gve(e,t,s){return(t=Kve(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Kve(e){var t=Yve(e,"string");return typeof t=="symbol"?t:t+""}function Yve(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _0(){return _0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},_0.apply(null,arguments)}function WN(e,t){if(e==null)return{};var s,a,n=Xve(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Xve(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var Zve=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:s,x:a,y:n,width:i,height:l,ry:o}=e;return A.createElement("rect",{x:a,y:n,ry:o,width:i,height:l,stroke:"none",fill:t,fillOpacity:s,className:"recharts-cartesian-grid-bg"})};function MV(e){var{option:t,lineItemProps:s}=e,a;if(A.isValidElement(t))a=A.cloneElement(t,s);else if(typeof t=="function")a=t(s);else{var n,{x1:i,y1:l,x2:o,y2:c,key:d}=s,h=WN(s,Hve),m=(n=Gl(h))!==null&&n!==void 0?n:{},{offset:p}=m,x=WN(m,qve);a=A.createElement("line",_0({},x,{x1:i,y1:l,x2:o,y2:c,fill:"none",key:d}))}return a}function Jve(e){var{x:t,width:s,horizontal:a=!0,horizontalPoints:n}=e;if(!a||!n||!n.length)return null;var{xAxisId:i,yAxisId:l}=e,o=WN(e,Vve),c=n.map((d,h)=>{var m=yl(yl({},o),{},{x1:t,y1:d,x2:t+s,y2:d,key:"line-".concat(h),index:h});return A.createElement(MV,{key:"line-".concat(h),option:a,lineItemProps:m})});return A.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function Qve(e){var{y:t,height:s,vertical:a=!0,verticalPoints:n}=e;if(!a||!n||!n.length)return null;var{xAxisId:i,yAxisId:l}=e,o=WN(e,Wve),c=n.map((d,h)=>{var m=yl(yl({},o),{},{x1:d,y1:t,x2:d,y2:t+s,key:"line-".concat(h),index:h});return A.createElement(MV,{option:a,lineItemProps:m,key:"line-".concat(h)})});return A.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function eye(e){var{horizontalFill:t,fillOpacity:s,x:a,y:n,width:i,height:l,horizontalPoints:o,horizontal:c=!0}=e;if(!c||!t||!t.length||o==null)return null;var d=o.map(m=>Math.round(m+n-n)).sort((m,p)=>m-p);n!==d[0]&&d.unshift(0);var h=d.map((m,p)=>{var x=!d[p+1],v=x?n+l-m:d[p+1]-m;if(v<=0)return null;var y=p%t.length;return A.createElement("rect",{key:"react-".concat(p),y:m,x:a,height:v,width:i,stroke:"none",fill:t[y],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function tye(e){var{vertical:t=!0,verticalFill:s,fillOpacity:a,x:n,y:i,width:l,height:o,verticalPoints:c}=e;if(!t||!s||!s.length)return null;var d=c.map(m=>Math.round(m+n-n)).sort((m,p)=>m-p);n!==d[0]&&d.unshift(0);var h=d.map((m,p)=>{var x=!d[p+1],v=x?n+l-m:d[p+1]-m;if(v<=0)return null;var y=p%s.length;return A.createElement("rect",{key:"react-".concat(p),x:m,y:i,width:v,height:o,stroke:"none",fill:s[y],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var rye=(e,t)=>{var{xAxis:s,width:a,height:n,offset:i}=e;return A$($T(yl(yl(yl({},Uh),s),{},{ticks:C$(s),viewBox:{x:0,y:0,width:a,height:n}})),i.left,i.left+i.width,t)},sye=(e,t)=>{var{yAxis:s,width:a,height:n,offset:i}=e;return A$($T(yl(yl(yl({},Uh),s),{},{ticks:C$(s),viewBox:{x:0,y:0,width:a,height:n}})),i.top,i.top+i.height,t)},aye={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Ln.grid};function Qc(e){var t=pC(),s=gC(),a=L$(),n=yl(yl({},wn(e,aye)),{},{x:Wt(e.x)?e.x:a.left,y:Wt(e.y)?e.y:a.top,width:Wt(e.width)?e.width:a.width,height:Wt(e.height)?e.height:a.height}),{xAxisId:i,yAxisId:l,x:o,y:c,width:d,height:h,syncWithTicks:m,horizontalValues:p,verticalValues:x}=n,v=Ui(),y=rr(I=>M7(I,"xAxis",i,v)),b=rr(I=>M7(I,"yAxis",l,v));if(!Lu(d)||!Lu(h)||!Wt(o)||!Wt(c))return null;var j=n.verticalCoordinatesGenerator||rye,S=n.horizontalCoordinatesGenerator||sye,{horizontalPoints:w,verticalPoints:k}=n;if((!w||!w.length)&&typeof S=="function"){var _=p&&p.length,O=S({yAxis:b?yl(yl({},b),{},{ticks:_?p:b.ticks}):void 0,width:t??d,height:s??h,offset:a},_?!0:m);yN(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(w=O)}if((!k||!k.length)&&typeof j=="function"){var E=x&&x.length,F=j({xAxis:y?yl(yl({},y),{},{ticks:E?x:y.ticks}):void 0,width:t??d,height:s??h,offset:a},E?!0:m);yN(Array.isArray(F),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof F,"]")),Array.isArray(F)&&(k=F)}return A.createElement(Xl,{zIndex:n.zIndex},A.createElement("g",{className:"recharts-cartesian-grid"},A.createElement(Zve,{fill:n.fill,fillOpacity:n.fillOpacity,x:n.x,y:n.y,width:n.width,height:n.height,ry:n.ry}),A.createElement(eye,_0({},n,{horizontalPoints:w})),A.createElement(tye,_0({},n,{verticalPoints:k})),A.createElement(Jve,_0({},n,{offset:a,horizontalPoints:w,xAxis:y,yAxis:b})),A.createElement(Qve,_0({},n,{offset:a,verticalPoints:k,xAxis:y,yAxis:b}))))}Qc.displayName="CartesianGrid";var nye={},FV=Co({name:"errorBars",initialState:nye,reducers:{addErrorBar:(e,t)=>{var{itemId:s,errorBar:a}=t.payload;e[s]||(e[s]=[]),e[s].push(a)},replaceErrorBar:(e,t)=>{var{itemId:s,prev:a,next:n}=t.payload;e[s]&&(e[s]=e[s].map(i=>i.dataKey===a.dataKey&&i.direction===a.direction?n:i))},removeErrorBar:(e,t)=>{var{itemId:s,errorBar:a}=t.payload;e[s]&&(e[s]=e[s].filter(n=>n.dataKey!==a.dataKey||n.direction!==a.direction))}}}),{addErrorBar:KUe,replaceErrorBar:YUe,removeErrorBar:XUe}=FV.actions,iye=FV.reducer,lye=["children"];function oye(e,t){if(e==null)return{};var s,a,n=cye(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function cye(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var dye={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},uye=A.createContext(dye);function LV(e){var{children:t}=e,s=oye(e,lye);return A.createElement(uye.Provider,{value:s},t)}function D5(e,t){var s,a,n=rr(d=>cf(d,e)),i=rr(d=>df(d,t)),l=(s=n?.allowDataOverflow)!==null&&s!==void 0?s:Ei.allowDataOverflow,o=(a=i?.allowDataOverflow)!==null&&a!==void 0?a:Pi.allowDataOverflow,c=l||o;return{needClip:c,needClipX:l,needClipY:o}}function qT(e){var{xAxisId:t,yAxisId:s,clipPathId:a}=e,n=O5(),{needClipX:i,needClipY:l,needClip:o}=D5(t,s);if(!o||!n)return null;var{x:c,y:d,width:h,height:m}=n;return A.createElement("clipPath",{id:"clipPath-".concat(a)},A.createElement("rect",{x:i?c:c-h/2,y:l?d:d-m/2,width:i?h:h*2,height:l?m:m*2}))}var IV=(e,t,s,a)=>Uu(e,"xAxis",t,a),BV=(e,t,s,a)=>Bu(e,"xAxis",t,a),UV=(e,t,s,a)=>Uu(e,"yAxis",s,a),zV=(e,t,s,a)=>Bu(e,"yAxis",s,a),hye=et([ds,IV,UV,BV,zV],(e,t,s,a,n)=>Vu(e,"xAxis")?ym(t,a,!1):ym(s,n,!1)),fye=(e,t,s,a,n)=>n;function mye(e){return e.type==="line"}var xye=et([Lb,fye],(e,t)=>e.filter(mye).find(s=>s.id===t)),pye=et([ds,IV,UV,BV,zV,xye,hye,HC],(e,t,s,a,n,i,l,o)=>{var{chartData:c,dataStartIndex:d,dataEndIndex:h}=o;if(!(i==null||t==null||s==null||a==null||n==null||a.length===0||n.length===0||l==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:m,data:p}=i,x;if(p!=null&&p.length>0?x=p:x=c?.slice(d,h+1),x!=null)return rbe({layout:e,xAxis:t,yAxis:s,xAxisTicks:a,yAxisTicks:n,dataKey:m,bandSize:l,displayedData:x})}});function $V(e){var t=G0(e),s=3,a=2;if(t!=null){var{r:n,strokeWidth:i}=t,l=Number(n),o=Number(i);return(Number.isNaN(l)||l<0)&&(l=s),(Number.isNaN(o)||o<0)&&(o=a),{r:l,strokeWidth:o}}return{r:s,strokeWidth:a}}var m_={exports:{}},x_={};var VF;function gye(){if(VF)return x_;VF=1;var e=_g();function t(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var s=typeof Object.is=="function"?Object.is:t,a=e.useSyncExternalStore,n=e.useRef,i=e.useEffect,l=e.useMemo,o=e.useDebugValue;return x_.useSyncExternalStoreWithSelector=function(c,d,h,m,p){var x=n(null);if(x.current===null){var v={hasValue:!1,value:null};x.current=v}else v=x.current;x=l(function(){function b(_){if(!j){if(j=!0,S=_,_=m(_),p!==void 0&&v.hasValue){var O=v.value;if(p(O,_))return w=O}return w=_}if(O=w,s(S,_))return O;var E=m(_);return p!==void 0&&p(O,E)?(S=_,O):(S=_,w=E)}var j=!1,S,w,k=h===void 0?null:h;return[function(){return b(d())},k===null?void 0:function(){return b(k())}]},[d,h,m,p]);var y=a(c,x[0],x[1]);return i(function(){v.hasValue=!0,v.value=y},[y]),o(y),y},x_}var WF;function vye(){return WF||(WF=1,m_.exports=gye()),m_.exports}vye();function yye(e){e()}function bye(){let e=null,t=null;return{clear(){e=null,t=null},notify(){yye(()=>{let s=e;for(;s;)s.callback(),s=s.next})},get(){const s=[];let a=e;for(;a;)s.push(a),a=a.next;return s},subscribe(s){let a=!0;const n=t={callback:s,next:null,prev:t};return n.prev?n.prev.next=n:e=n,function(){!a||e===null||(a=!1,n.next?n.next.prev=n.prev:t=n.prev,n.prev?n.prev.next=n.next:e=n.next)}}}}var GF={notify(){},get:()=>[]};function jye(e,t){let s,a=GF,n=0,i=!1;function l(y){h();const b=a.subscribe(y);let j=!1;return()=>{j||(j=!0,b(),m())}}function o(){a.notify()}function c(){v.onStateChange&&v.onStateChange()}function d(){return i}function h(){n++,s||(s=e.subscribe(c),a=bye())}function m(){n--,s&&n===0&&(s(),s=void 0,a.clear(),a=GF)}function p(){i||(i=!0,h())}function x(){i&&(i=!1,m())}const v={addNestedSub:l,notifyNestedSubs:o,handleChangeWrapper:c,isSubscribed:d,trySubscribe:p,tryUnsubscribe:x,getListeners:()=>a};return v}var Nye=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wye=Nye(),Sye=()=>typeof navigator<"u"&&navigator.product==="ReactNative",_ye=Sye(),kye=()=>wye||_ye?A.useLayoutEffect:A.useEffect,Aye=kye();function KF(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Cye(e,t){if(KF(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;for(let n=0;n<s.length;n++)if(!Object.prototype.hasOwnProperty.call(t,s[n])||!KF(e[s[n]],t[s[n]]))return!1;return!0}var Tye=Symbol.for("react-redux-context"),Eye=typeof globalThis<"u"?globalThis:{};function Pye(){if(!A.createContext)return{};const e=Eye[Tye]??=new Map;let t=e.get(A.createContext);return t||(t=A.createContext(null),e.set(A.createContext,t)),t}var Oye=Pye();function Dye(e){const{children:t,context:s,serverState:a,store:n}=e,i=A.useMemo(()=>{const c=jye(n);return{store:n,subscription:c,getServerState:a?()=>a:void 0}},[n,a]),l=A.useMemo(()=>n.getState(),[n]);Aye(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),l!==n.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,l]);const o=s||Oye;return A.createElement(o.Provider,{value:i},t)}var Rye=Dye,Mye=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Fye(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Vb(e,t){var s=new Set([...Object.keys(e),...Object.keys(t)]);for(var a of s)if(Mye.has(a)){if(e[a]==null&&t[a]==null)continue;if(!Cye(e[a],t[a]))return!1}else if(!Fye(e[a],t[a]))return!1;return!0}var Lye=["id"],Iye=["type","layout","connectNulls","needClip","shape"],Bye=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Zy(){return Zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Zy.apply(null,arguments)}function YF(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Au(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?YF(Object(s),!0).forEach(function(a){Uye(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):YF(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Uye(e,t,s){return(t=zye(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function zye(e){var t=$ye(e,"string");return typeof t=="symbol"?t:t+""}function $ye(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VT(e,t){if(e==null)return{};var s,a,n=Hye(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Hye(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var qye=e=>{var{dataKey:t,name:s,stroke:a,legendType:n,hide:i}=e;return[{inactive:i,dataKey:t,type:n,color:a,value:Em(s,t),payload:e}]},Vye=A.memo(e=>{var{dataKey:t,data:s,stroke:a,strokeWidth:n,fill:i,name:l,hide:o,unit:c,tooltipType:d,id:h}=e,m={dataDefinedOnItem:s,positions:void 0,settings:{stroke:a,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:Em(l,t),hide:o,type:d,color:a,unit:c,graphicalItemId:h}};return A.createElement(T5,{tooltipEntrySettings:m})}),HV=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Wye(e,t){for(var s=e.length%2!==0?[...e,0]:e,a=[],n=0;n<t;++n)a=[...a,...s];return a}var Gye=(e,t,s)=>{var a=s.reduce((m,p)=>m+p);if(!a)return HV(t,e);for(var n=Math.floor(e/a),i=e%a,l=t-e,o=[],c=0,d=0;c<s.length;d+=s[c],++c)if(d+s[c]>i){o=[...s.slice(0,c),i-d];break}var h=o.length%2===0?[0,l]:[l];return[...Wye(s,n),...o,...h].map(m=>"".concat(m,"px")).join(", ")};function Kye(e){var{clipPathId:t,points:s,props:a}=e,{dot:n,dataKey:i,needClip:l}=a,{id:o}=a,c=VT(a,Lye),d=Gl(c);return A.createElement(CV,{points:s,dot:n,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:i,baseProps:d,needClip:l,clipPathId:t})}function Yye(e){var{showLabels:t,children:s,points:a}=e,n=A.useMemo(()=>a?.map(i=>{var l,o,c={x:(l=i.x)!==null&&l!==void 0?l:0,y:(o=i.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Au(Au({},c),{},{value:i.value,payload:i.payload,viewBox:c,parentViewBox:void 0,fill:void 0})}),[a]);return A.createElement(ET,{value:t?n:void 0},s)}function XF(e){var{clipPathId:t,pathRef:s,points:a,strokeDasharray:n,props:i}=e,{type:l,layout:o,connectNulls:c,needClip:d,shape:h}=i,m=VT(i,Iye),p=Au(Au({},Al(m)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(t,")"):void 0,points:a,type:l,layout:o,connectNulls:c,strokeDasharray:n??i.strokeDasharray});return A.createElement(A.Fragment,null,a?.length>1&&A.createElement(MT,Zy({shapeType:"curve",option:h},p,{pathRef:s})),A.createElement(Kye,{points:a,clipPathId:t,props:i}))}function Xye(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Zye(e){var{clipPathId:t,props:s,pathRef:a,previousPointsRef:n,longestAnimatedLengthRef:i}=e,{points:l,strokeDasharray:o,isAnimationActive:c,animationBegin:d,animationDuration:h,animationEasing:m,animateNewValues:p,width:x,height:v,onAnimationEnd:y,onAnimationStart:b}=s,j=n.current,S=Fg(l,"recharts-line-"),w=A.useRef(S),[k,_]=A.useState(!1),O=!k,E=A.useCallback(()=>{typeof y=="function"&&y(),_(!1)},[y]),F=A.useCallback(()=>{typeof b=="function"&&b(),_(!0)},[b]),I=Xye(a.current),U=A.useRef(0);w.current!==S&&(U.current=i.current,w.current=S);var M=U.current;return A.createElement(Yye,{points:l,showLabels:O},s.children,A.createElement(Mg,{animationId:S,begin:d,duration:h,isActive:c,easing:m,onAnimationEnd:E,onAnimationStart:F,key:S},L=>{var J=Hs(M,I+M,L),K=Math.min(J,I),ae;if(c)if(o){var V="".concat(o).split(/[,\s]+/gim).map(Z=>parseFloat(Z));ae=Gye(K,I,V)}else ae=HV(I,K);else ae=o==null?void 0:String(o);if(L>0&&I>0&&(n.current=l,i.current=Math.max(i.current,K)),j){var re=j.length/l.length,X=L===1?l:l.map((Z,ye)=>{var te=Math.floor(ye*re);if(j[te]){var D=j[te];return Au(Au({},Z),{},{x:Hs(D.x,Z.x,L),y:Hs(D.y,Z.y,L)})}return p?Au(Au({},Z),{},{x:Hs(x*2,Z.x,L),y:Hs(v/2,Z.y,L)}):Au(Au({},Z),{},{x:Z.x,y:Z.y})});return n.current=X,A.createElement(XF,{props:s,points:X,clipPathId:t,pathRef:a,strokeDasharray:ae})}return A.createElement(XF,{props:s,points:l,clipPathId:t,pathRef:a,strokeDasharray:ae})}),A.createElement(k5,{label:s.label}))}function Jye(e){var{clipPathId:t,props:s}=e,a=A.useRef(null),n=A.useRef(0),i=A.useRef(null);return A.createElement(Zye,{props:s,clipPathId:t,previousPointsRef:a,longestAnimatedLengthRef:n,pathRef:i})}var Qye=(e,t)=>{var s,a;return{x:(s=e.x)!==null&&s!==void 0?s:void 0,y:(a=e.y)!==null&&a!==void 0?a:void 0,value:e.value,errorVal:Ws(e.payload,t)}};class ebe extends A.Component{render(){var{hide:t,dot:s,points:a,className:n,xAxisId:i,yAxisId:l,top:o,left:c,width:d,height:h,id:m,needClip:p,zIndex:x}=this.props;if(t)return null;var v=Es("recharts-line",n),y=m,{r:b,strokeWidth:j}=$V(s),S=RT(s),w=b*2+j,k=p?"url(#clipPath-".concat(S?"":"dots-").concat(y,")"):void 0;return A.createElement(Xl,{zIndex:x},A.createElement(jn,{className:v},p&&A.createElement("defs",null,A.createElement(qT,{clipPathId:y,xAxisId:i,yAxisId:l}),!S&&A.createElement("clipPath",{id:"clipPath-dots-".concat(y)},A.createElement("rect",{x:c-w/2,y:o-w/2,width:d+w,height:h+w}))),A.createElement(LV,{xAxisId:i,yAxisId:l,data:a,dataPointFormatter:Qye,errorBarOffset:0},A.createElement(Jye,{props:this.props,clipPathId:y}))),A.createElement(RA,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:k}))}}var qV={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Ln.line,type:"linear"};function tbe(e){var t=wn(e,qV),{activeDot:s,animateNewValues:a,animationBegin:n,animationDuration:i,animationEasing:l,connectNulls:o,dot:c,hide:d,isAnimationActive:h,label:m,legendType:p,xAxisId:x,yAxisId:v,id:y}=t,b=VT(t,Bye),{needClip:j}=D5(x,v),S=O5(),w=Pm(),k=Ui(),_=rr(U=>pye(U,x,v,k,y));if(w!=="horizontal"&&w!=="vertical"||_==null||S==null)return null;var{height:O,width:E,x:F,y:I}=S;return A.createElement(ebe,Zy({},b,{id:y,connectNulls:o,dot:c,activeDot:s,animateNewValues:a,animationBegin:n,animationDuration:i,animationEasing:l,isAnimationActive:h,hide:d,label:m,legendType:p,xAxisId:x,yAxisId:v,points:_,layout:w,height:O,width:E,left:F,top:I,needClip:j}))}function rbe(e){var{layout:t,xAxis:s,yAxis:a,xAxisTicks:n,yAxisTicks:i,dataKey:l,bandSize:o,displayedData:c}=e;return c.map((d,h)=>{var m=Ws(d,l);if(t==="horizontal"){var p=vN({axis:s,ticks:n,bandSize:o,entry:d,index:h}),x=La(m)?null:a.scale(m);return{x:p,y:x,value:m,payload:d}}var v=La(m)?null:s.scale(m),y=vN({axis:a,ticks:i,bandSize:o,entry:d,index:h});return v==null||y==null?null:{x:v,y,value:m,payload:d}}).filter(Boolean)}function sbe(e){var t=wn(e,qV),s=Ui();return A.createElement(E5,{id:t.id,type:"line"},a=>A.createElement(A.Fragment,null,A.createElement(BT,{legendPayload:qye(t)}),A.createElement(Vye,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:a}),A.createElement(UT,{type:"line",id:a,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:s}),A.createElement(tbe,Zy({},t,{id:a}))))}var wm=A.memo(sbe,Vb);wm.displayName="Line";function Wu(e,t){var s,a;return(s=(a=e.graphicalItems.cartesianItems.find(n=>n.id===t))===null||a===void 0?void 0:a.xAxisId)!==null&&s!==void 0?s:TV}function Gu(e,t){var s,a;return(s=(a=e.graphicalItems.cartesianItems.find(n=>n.id===t))===null||a===void 0?void 0:a.yAxisId)!==null&&s!==void 0?s:TV}var VV=(e,t,s)=>Uu(e,"xAxis",Wu(e,t),s),WV=(e,t,s)=>Bu(e,"xAxis",Wu(e,t),s),GV=(e,t,s)=>Uu(e,"yAxis",Gu(e,t),s),KV=(e,t,s)=>Bu(e,"yAxis",Gu(e,t),s),abe=et([ds,VV,GV,WV,KV],(e,t,s,a,n)=>Vu(e,"xAxis")?ym(t,a,!1):ym(s,n,!1)),nbe=(e,t)=>t,YV=et([Lb,nbe],(e,t)=>e.filter(s=>s.type==="area").find(s=>s.id===t)),XV=e=>{var t=ds(e),s=Vu(t,"xAxis");return s?"yAxis":"xAxis"},ibe=(e,t)=>{var s=XV(e);return s==="yAxis"?Gu(e,t):Wu(e,t)},lbe=(e,t,s)=>BN(e,XV(e),ibe(e,t),s),obe=et([YV,lbe],(e,t)=>{var s;if(!(e==null||t==null)){var{stackId:a}=e,n=x5(e);if(!(a==null||n==null)){var i=(s=t[a])===null||s===void 0?void 0:s.stackedData,l=i?.find(o=>o.key===n);if(l!=null)return l.map(o=>[o[0],o[1]])}}}),cbe=et([ds,VV,GV,WV,KV,obe,BH,abe,YV,Bhe],(e,t,s,a,n,i,l,o,c,d)=>{var{chartData:h,dataStartIndex:m,dataEndIndex:p}=l;if(!(c==null||e!=="horizontal"&&e!=="vertical"||t==null||s==null||a==null||n==null||a.length===0||n.length===0||o==null)){var{data:x}=c,v;if(x&&x.length>0?v=x:v=h?.slice(m,p+1),v!=null)return Cbe({layout:e,xAxis:t,yAxis:s,xAxisTicks:a,yAxisTicks:n,dataStartIndex:m,areaSettings:c,stackedData:i,displayedData:v,chartBaseValue:d,bandSize:o})}}),dbe=["id"],ube=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function D0(){return D0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},D0.apply(null,arguments)}function ZV(e,t){if(e==null)return{};var s,a,n=hbe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function hbe(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function ZF(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function $p(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?ZF(Object(s),!0).forEach(function(a){fbe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ZF(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function fbe(e,t,s){return(t=mbe(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function mbe(e){var t=xbe(e,"string");return typeof t=="symbol"?t:t+""}function xbe(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GN(e,t){return e&&e!=="none"?e:t}var pbe=e=>{var{dataKey:t,name:s,stroke:a,fill:n,legendType:i,hide:l}=e;return[{inactive:l,dataKey:t,type:i,color:GN(a,n),value:Em(s,t),payload:e}]},gbe=A.memo(e=>{var{dataKey:t,data:s,stroke:a,strokeWidth:n,fill:i,name:l,hide:o,unit:c,tooltipType:d,id:h}=e,m={dataDefinedOnItem:s,positions:void 0,settings:{stroke:a,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:Em(l,t),hide:o,type:d,color:GN(a,i),unit:c,graphicalItemId:h}};return A.createElement(T5,{tooltipEntrySettings:m})});function vbe(e){var{clipPathId:t,points:s,props:a}=e,{needClip:n,dot:i,dataKey:l}=a,o=Gl(a);return A.createElement(CV,{points:s,dot:i,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:l,baseProps:o,needClip:n,clipPathId:t})}function ybe(e){var{showLabels:t,children:s,points:a}=e,n=a.map(i=>{var l,o,c={x:(l=i.x)!==null&&l!==void 0?l:0,y:(o=i.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return $p($p({},c),{},{value:i.value,payload:i.payload,parentViewBox:void 0,viewBox:c,fill:void 0})});return A.createElement(ET,{value:t?n:void 0},s)}function JF(e){var{points:t,baseLine:s,needClip:a,clipPathId:n,props:i}=e,{layout:l,type:o,stroke:c,connectNulls:d,isRange:h}=i,{id:m}=i,p=ZV(i,dbe),x=Gl(p),v=Al(p);return A.createElement(A.Fragment,null,t?.length>1&&A.createElement(jn,{clipPath:a?"url(#clipPath-".concat(n,")"):void 0},A.createElement(Jp,D0({},v,{id:m,points:t,connectNulls:d,type:o,baseLine:s,layout:l,stroke:"none",className:"recharts-area-area"})),c!=="none"&&A.createElement(Jp,D0({},x,{className:"recharts-area-curve",layout:l,type:o,connectNulls:d,fill:"none",points:t})),c!=="none"&&h&&A.createElement(Jp,D0({},x,{className:"recharts-area-curve",layout:l,type:o,connectNulls:d,fill:"none",points:s}))),A.createElement(vbe,{points:t,props:p,clipPathId:n}))}function bbe(e){var t,s,{alpha:a,baseLine:n,points:i,strokeWidth:l}=e,o=(t=i[0])===null||t===void 0?void 0:t.y,c=(s=i[i.length-1])===null||s===void 0?void 0:s.y;if(!ja(o)||!ja(c))return null;var d=a*Math.abs(o-c),h=Math.max(...i.map(m=>m.x||0));return Wt(n)?h=Math.max(n,h):n&&Array.isArray(n)&&n.length&&(h=Math.max(...n.map(m=>m.x||0),h)),Wt(h)?A.createElement("rect",{x:0,y:o<c?o:o-d,width:h+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}function jbe(e){var t,s,{alpha:a,baseLine:n,points:i,strokeWidth:l}=e,o=(t=i[0])===null||t===void 0?void 0:t.x,c=(s=i[i.length-1])===null||s===void 0?void 0:s.x;if(!ja(o)||!ja(c))return null;var d=a*Math.abs(o-c),h=Math.max(...i.map(m=>m.y||0));return Wt(n)?h=Math.max(n,h):n&&Array.isArray(n)&&n.length&&(h=Math.max(...n.map(m=>m.y||0),h)),Wt(h)?A.createElement("rect",{x:o<c?o:o-d,y:0,width:d,height:Math.floor(h+(l?parseInt("".concat(l),10):1))}):null}function Nbe(e){var{alpha:t,layout:s,points:a,baseLine:n,strokeWidth:i}=e;return s==="vertical"?A.createElement(bbe,{alpha:t,points:a,baseLine:n,strokeWidth:i}):A.createElement(jbe,{alpha:t,points:a,baseLine:n,strokeWidth:i})}function wbe(e){var{needClip:t,clipPathId:s,props:a,previousPointsRef:n,previousBaselineRef:i}=e,{points:l,baseLine:o,isAnimationActive:c,animationBegin:d,animationDuration:h,animationEasing:m,onAnimationStart:p,onAnimationEnd:x}=a,v=A.useMemo(()=>({points:l,baseLine:o}),[l,o]),y=Fg(v,"recharts-area-"),b=roe(),[j,S]=A.useState(!1),w=!j,k=A.useCallback(()=>{typeof x=="function"&&x(),S(!1)},[x]),_=A.useCallback(()=>{typeof p=="function"&&p(),S(!0)},[p]);if(b==null)return null;var O=n.current,E=i.current;return A.createElement(ybe,{showLabels:w,points:l},a.children,A.createElement(Mg,{animationId:y,begin:d,duration:h,isActive:c,easing:m,onAnimationEnd:k,onAnimationStart:_,key:y},F=>{if(O){var I=O.length/l.length,U=F===1?l:l.map((L,J)=>{var K=Math.floor(J*I);if(O[K]){var ae=O[K];return $p($p({},L),{},{x:Hs(ae.x,L.x,F),y:Hs(ae.y,L.y,F)})}return L}),M;return Wt(o)?M=Hs(E,o,F):La(o)||Xc(o)?M=Hs(E,0,F):M=o.map((L,J)=>{var K=Math.floor(J*I);if(Array.isArray(E)&&E[K]){var ae=E[K];return $p($p({},L),{},{x:Hs(ae.x,L.x,F),y:Hs(ae.y,L.y,F)})}return L}),F>0&&(n.current=U,i.current=M),A.createElement(JF,{points:U,baseLine:M,needClip:t,clipPathId:s,props:a})}return F>0&&(n.current=l,i.current=o),A.createElement(jn,null,c&&A.createElement("defs",null,A.createElement("clipPath",{id:"animationClipPath-".concat(s)},A.createElement(Nbe,{alpha:F,points:l,baseLine:o,layout:b,strokeWidth:a.strokeWidth}))),A.createElement(jn,{clipPath:"url(#animationClipPath-".concat(s,")")},A.createElement(JF,{points:l,baseLine:o,needClip:t,clipPathId:s,props:a})))}),A.createElement(k5,{label:a.label}))}function Sbe(e){var{needClip:t,clipPathId:s,props:a}=e,n=A.useRef(null),i=A.useRef();return A.createElement(wbe,{needClip:t,clipPathId:s,props:a,previousPointsRef:n,previousBaselineRef:i})}class _be extends A.PureComponent{render(){var{hide:t,dot:s,points:a,className:n,top:i,left:l,needClip:o,xAxisId:c,yAxisId:d,width:h,height:m,id:p,baseLine:x,zIndex:v}=this.props;if(t)return null;var y=Es("recharts-area",n),b=p,{r:j,strokeWidth:S}=$V(s),w=RT(s),k=j*2+S,_=o?"url(#clipPath-".concat(w?"":"dots-").concat(b,")"):void 0;return A.createElement(Xl,{zIndex:v},A.createElement(jn,{className:y},o&&A.createElement("defs",null,A.createElement(qT,{clipPathId:b,xAxisId:c,yAxisId:d}),!w&&A.createElement("clipPath",{id:"clipPath-dots-".concat(b)},A.createElement("rect",{x:l-k/2,y:i-k/2,width:h+k,height:m+k}))),A.createElement(Sbe,{needClip:o,clipPathId:b,props:this.props})),A.createElement(RA,{points:a,mainColor:GN(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:_}),this.props.isRange&&Array.isArray(x)&&A.createElement(RA,{points:x,mainColor:GN(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:_}))}}var JV={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Ln.area};function kbe(e){var t,s=wn(e,JV),{activeDot:a,animationBegin:n,animationDuration:i,animationEasing:l,connectNulls:o,dot:c,fill:d,fillOpacity:h,hide:m,isAnimationActive:p,legendType:x,stroke:v,xAxisId:y,yAxisId:b}=s,j=ZV(s,ube),S=Pm(),w=tV(),{needClip:k}=D5(y,b),_=Ui(),{points:O,isRange:E,baseLine:F}=(t=rr(K=>cbe(K,e.id,_)))!==null&&t!==void 0?t:{},I=O5();if(S!=="horizontal"&&S!=="vertical"||I==null||w!=="AreaChart"&&w!=="ComposedChart")return null;var{height:U,width:M,x:L,y:J}=I;return!O||!O.length?null:A.createElement(_be,D0({},j,{activeDot:a,animationBegin:n,animationDuration:i,animationEasing:l,baseLine:F,connectNulls:o,dot:c,fill:d,fillOpacity:h,height:U,hide:m,layout:S,isAnimationActive:p==="auto"?!Tb.isSsr:p,isRange:E,legendType:x,needClip:k,points:O,stroke:v,width:M,left:L,top:J,xAxisId:y,yAxisId:b}))}var Abe=(e,t,s,a,n)=>{var i=s??t;if(Wt(i))return i;var l=e==="horizontal"?n:a,o=l.scale.domain();if(l.type==="number"){var c=Math.max(o[0],o[1]),d=Math.min(o[0],o[1]);return i==="dataMin"?d:i==="dataMax"||c<0?c:Math.max(Math.min(o[0],o[1]),0)}return i==="dataMin"?o[0]:i==="dataMax"?o[1]:o[0]};function Cbe(e){var{areaSettings:{connectNulls:t,baseValue:s,dataKey:a},stackedData:n,layout:i,chartBaseValue:l,xAxis:o,yAxis:c,displayedData:d,dataStartIndex:h,xAxisTicks:m,yAxisTicks:p,bandSize:x}=e,v=n&&n.length,y=Abe(i,l,s,o,c),b=i==="horizontal",j=!1,S=d.map((k,_)=>{var O,E,F;if(v)F=n[h+_];else{var I=Ws(k,a);Array.isArray(I)?(F=I,j=!0):F=[y,I]}var U=(O=(E=F)===null||E===void 0?void 0:E[1])!==null&&O!==void 0?O:null,M=U==null||v&&!t&&Ws(k,a)==null;return b?{x:vN({axis:o,ticks:m,bandSize:x,entry:k,index:_}),y:M?null:c.scale(U),value:F,payload:k}:{x:M?null:o.scale(U),y:vN({axis:c,ticks:p,bandSize:x,entry:k,index:_}),value:F,payload:k}}),w;return v||j?w=S.map(k=>{var _=Array.isArray(k.value)?k.value[0]:null;return b?{x:k.x,y:_!=null&&k.y!=null?c.scale(_):null,payload:k.payload}:{x:_!=null?o.scale(_):null,y:k.y,payload:k.payload}}):w=b?c.scale(y):o.scale(y),{points:S,baseLine:w,isRange:j}}function Tbe(e){var t=wn(e,JV),s=Ui();return A.createElement(E5,{id:t.id,type:"area"},a=>A.createElement(A.Fragment,null,A.createElement(BT,{legendPayload:pbe(t)}),A.createElement(gbe,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:a}),A.createElement(UT,{type:"area",id:a,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:T$(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:s,connectNulls:t.connectNulls}),A.createElement(kbe,D0({},t,{id:a}))))}var QV=A.memo(Tbe,Vb);QV.displayName="Area";var Ebe="Invariant failed";function Pbe(e,t){throw new Error(Ebe)}function MA(){return MA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},MA.apply(null,arguments)}function KN(e){return A.createElement(MT,MA({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var Obe=function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(a,n)=>{if(Wt(t))return t;var i=Wt(a)||La(a);return i?t(a,n):(i||Pbe(),s)}},Dbe=(e,t,s)=>s,Rbe=(e,t)=>t,Wb=et([Lb,Rbe],(e,t)=>e.filter(s=>s.type==="bar").find(s=>s.id===t)),Mbe=et([Wb],e=>e?.maxBarSize),Fbe=(e,t,s,a)=>a,Lbe=et([ds,Lb,Wu,Gu,Dbe],(e,t,s,a,n)=>t.filter(i=>e==="horizontal"?i.xAxisId===s:i.yAxisId===a).filter(i=>i.isPanorama===n).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),Ibe=(e,t,s)=>{var a=ds(e),n=Wu(e,t),i=Gu(e,t);if(!(n==null||i==null))return a==="horizontal"?BN(e,"yAxis",i,s):BN(e,"xAxis",n,s)},Bbe=(e,t)=>{var s=ds(e),a=Wu(e,t),n=Gu(e,t);if(!(a==null||n==null))return s==="horizontal"?R7(e,"xAxis",a):R7(e,"yAxis",n)},Ube=et([Lbe,Ihe,Bbe],tve),zbe=(e,t,s)=>{var a,n,i=Wb(e,t);if(i!=null){var l=Wu(e,t),o=Gu(e,t);if(!(l==null||o==null)){var c=ds(e),d=eq(e),{maxBarSize:h}=i,m=La(h)?d:h,p,x;return c==="horizontal"?(p=Uu(e,"xAxis",l,s),x=Bu(e,"xAxis",l,s)):(p=Uu(e,"yAxis",o,s),x=Bu(e,"yAxis",o,s)),(a=(n=ym(p,x,!0))!==null&&n!==void 0?n:m)!==null&&a!==void 0?a:0}}},eW=(e,t,s)=>{var a=ds(e),n=Wu(e,t),i=Gu(e,t);if(!(n==null||i==null)){var l,o;return a==="horizontal"?(l=Uu(e,"xAxis",n,s),o=Bu(e,"xAxis",n,s)):(l=Uu(e,"yAxis",i,s),o=Bu(e,"yAxis",i,s)),ym(l,o)}},$be=et([Ube,eq,Lhe,tq,zbe,eW,Mbe],ive),Hbe=(e,t,s)=>{var a=Wu(e,t);if(a!=null)return Uu(e,"xAxis",a,s)},qbe=(e,t,s)=>{var a=Gu(e,t);if(a!=null)return Uu(e,"yAxis",a,s)},Vbe=(e,t,s)=>{var a=Wu(e,t);if(a!=null)return Bu(e,"xAxis",a,s)},Wbe=(e,t,s)=>{var a=Gu(e,t);if(a!=null)return Bu(e,"yAxis",a,s)},Gbe=et([$be,Wb],(e,t)=>{if(!(e==null||t==null)){var s=e.find(a=>a.stackId===t.stackId&&t.dataKey!=null&&a.dataKeys.includes(t.dataKey));if(s!=null)return s.position}}),Kbe=et([Ibe,Wb],lve),Ybe=et([yi,mC,Hbe,qbe,Vbe,Wbe,Gbe,ds,BH,eW,Kbe,Wb,Fbe],(e,t,s,a,n,i,l,o,c,d,h,m,p)=>{var{chartData:x,dataStartIndex:v,dataEndIndex:y}=c;if(!(m==null||l==null||t==null||o!=="horizontal"&&o!=="vertical"||s==null||a==null||n==null||i==null||d==null)){var{data:b}=m,j;if(b!=null&&b.length>0?j=b:j=x?.slice(v,y+1),j!=null)return S1e({layout:o,barSettings:m,pos:l,parentViewBox:t,bandSize:d,xAxis:s,yAxis:a,xAxisTicks:n,yAxisTicks:i,stackedData:h,displayedData:j,offset:e,cells:p,dataStartIndex:v})}}),Xbe=["index"];function FA(){return FA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},FA.apply(null,arguments)}function Zbe(e,t){if(e==null)return{};var s,a,n=Jbe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Jbe(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var tW=A.createContext(void 0),Qbe=e=>{var t=A.useContext(tW);if(t!=null)return t.stackId;if(e!=null)return T$(e)},e1e=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),t1e=e=>{var t=A.useContext(tW);if(t!=null){var{stackId:s}=t;return"url(#".concat(e1e(s,e),")")}},r1e=e=>{var{index:t}=e,s=Zbe(e,Xbe),a=t1e(t);return A.createElement(jn,FA({className:"recharts-bar-stack-layer",clipPath:a},s))},s1e=["onMouseEnter","onMouseLeave","onClick"],a1e=["value","background","tooltipPosition"],n1e=["id"],i1e=["onMouseEnter","onClick","onMouseLeave"];function ef(){return ef=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},ef.apply(null,arguments)}function QF(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function zl(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?QF(Object(s),!0).forEach(function(a){l1e(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):QF(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function l1e(e,t,s){return(t=o1e(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function o1e(e){var t=c1e(e,"string");return typeof t=="symbol"?t:t+""}function c1e(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YN(e,t){if(e==null)return{};var s,a,n=d1e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function d1e(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var u1e=e=>{var{dataKey:t,name:s,fill:a,legendType:n,hide:i}=e;return[{inactive:i,dataKey:t,type:n,color:a,value:Em(s,t),payload:e}]},h1e=A.memo(e=>{var{dataKey:t,stroke:s,strokeWidth:a,fill:n,name:i,hide:l,unit:o,tooltipType:c,id:d}=e,h={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:s,strokeWidth:a,fill:n,dataKey:t,nameKey:void 0,name:Em(i,t),hide:l,type:c,color:n,unit:o,graphicalItemId:d}};return A.createElement(T5,{tooltipEntrySettings:h})});function f1e(e){var t=rr(jm),{data:s,dataKey:a,background:n,allOtherBarProps:i}=e,{onMouseEnter:l,onMouseLeave:o,onClick:c}=i,d=YN(i,s1e),h=FT(l,a,i.id),m=LT(o),p=IT(c,a,i.id);if(!n||s==null)return null;var x=G0(n);return A.createElement(Xl,{zIndex:ove(n,Ln.barBackground)},s.map((v,y)=>{var{value:b,background:j,tooltipPosition:S}=v,w=YN(v,a1e);if(!j)return null;var k=h(v,y),_=m(v,y),O=p(v,y),E=zl(zl(zl(zl(zl({option:n,isActive:String(y)===t},w),{},{fill:"#eee"},j),x),Sb(d,v,y)),{},{onMouseEnter:k,onMouseLeave:_,onClick:O,dataKey:a,index:y,className:"recharts-bar-background-rectangle"});return A.createElement(KN,ef({key:"background-bar-".concat(y)},E))}))}function m1e(e){var{showLabels:t,children:s,rects:a}=e,n=a?.map(i=>{var l={x:i.x,y:i.y,width:i.width,lowerWidth:i.width,upperWidth:i.width,height:i.height};return zl(zl({},l),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:l,fill:i.fill})});return A.createElement(ET,{value:t?n:void 0},s)}function x1e(e){var{shape:t,activeBar:s,baseProps:a,entry:n,index:i,dataKey:l}=e,o=rr(jm),c=rr(ST),d=s&&String(i)===o&&(c==null||l===c),h=d?s:t;return d?A.createElement(Xl,{zIndex:Ln.activeBar},A.createElement(KN,ef({},a,{name:String(a.name)},n,{isActive:d,option:h,index:i,dataKey:l}))):A.createElement(KN,ef({},a,{name:String(a.name)},n,{isActive:d,option:h,index:i,dataKey:l}))}function p1e(e){var{shape:t,baseProps:s,entry:a,index:n,dataKey:i}=e;return A.createElement(KN,ef({},s,{name:String(s.name)},a,{isActive:!1,option:t,index:n,dataKey:i}))}function g1e(e){var t,{data:s,props:a}=e,n=(t=Gl(a))!==null&&t!==void 0?t:{},{id:i}=n,l=YN(n,n1e),{shape:o,dataKey:c,activeBar:d}=a,{onMouseEnter:h,onClick:m,onMouseLeave:p}=a,x=YN(a,i1e),v=FT(h,c,i),y=LT(p),b=IT(m,c,i);return s?A.createElement(A.Fragment,null,s.map((j,S)=>A.createElement(r1e,ef({index:S,key:"rectangle-".concat(j?.x,"-").concat(j?.y,"-").concat(j?.value,"-").concat(S),className:"recharts-bar-rectangle"},Sb(x,j,S),{onMouseEnter:v(j,S),onMouseLeave:y(j,S),onClick:b(j,S)}),d?A.createElement(x1e,{shape:o,activeBar:d,baseProps:l,entry:j,index:S,dataKey:c}):A.createElement(p1e,{shape:o,baseProps:l,entry:j,index:S,dataKey:c})))):null}function v1e(e){var{props:t,previousRectanglesRef:s}=e,{data:a,layout:n,isAnimationActive:i,animationBegin:l,animationDuration:o,animationEasing:c,onAnimationEnd:d,onAnimationStart:h}=t,m=s.current,p=Fg(t,"recharts-bar-"),[x,v]=A.useState(!1),y=!x,b=A.useCallback(()=>{typeof d=="function"&&d(),v(!1)},[d]),j=A.useCallback(()=>{typeof h=="function"&&h(),v(!0)},[h]);return A.createElement(m1e,{showLabels:y,rects:a},A.createElement(Mg,{animationId:p,begin:l,duration:o,isActive:i,easing:c,onAnimationEnd:b,onAnimationStart:j,key:p},S=>{var w=S===1?a:a?.map((k,_)=>{var O=m&&m[_];if(O)return zl(zl({},k),{},{x:Hs(O.x,k.x,S),y:Hs(O.y,k.y,S),width:Hs(O.width,k.width,S),height:Hs(O.height,k.height,S)});if(n==="horizontal"){var E=Hs(0,k.height,S),F=Hs(k.stackedBarStart,k.y,S);return zl(zl({},k),{},{y:F,height:E})}var I=Hs(0,k.width,S),U=Hs(k.stackedBarStart,k.x,S);return zl(zl({},k),{},{width:I,x:U})});return S>0&&(s.current=w??null),w==null?null:A.createElement(jn,null,A.createElement(g1e,{props:t,data:w}))}),A.createElement(k5,{label:t.label}),t.children)}function y1e(e){var t=A.useRef(null);return A.createElement(v1e,{previousRectanglesRef:t,props:e})}var rW=0,b1e=(e,t)=>{var s=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:s,errorVal:Ws(e,t)}};class j1e extends A.PureComponent{render(){var{hide:t,data:s,dataKey:a,className:n,xAxisId:i,yAxisId:l,needClip:o,background:c,id:d}=this.props;if(t||s==null)return null;var h=Es("recharts-bar",n),m=d;return A.createElement(jn,{className:h,id:d},o&&A.createElement("defs",null,A.createElement(qT,{clipPathId:m,xAxisId:i,yAxisId:l})),A.createElement(jn,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(m,")"):void 0},A.createElement(f1e,{data:s,dataKey:a,background:c,allOtherBarProps:this.props}),A.createElement(y1e,this.props)))}}var N1e={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:rW,xAxisId:0,yAxisId:0,zIndex:Ln.bar};function w1e(e){var{xAxisId:t,yAxisId:s,hide:a,legendType:n,minPointSize:i,activeBar:l,animationBegin:o,animationDuration:c,animationEasing:d,isAnimationActive:h}=e,{needClip:m}=D5(t,s),p=Pm(),x=Ui(),v=DT(e.children,Rm),y=rr(S=>Ybe(S,e.id,x,v));if(p!=="vertical"&&p!=="horizontal")return null;var b,j=y?.[0];return j==null||j.height==null||j.width==null?b=0:b=p==="vertical"?j.height/2:j.width/2,A.createElement(LV,{xAxisId:t,yAxisId:s,data:y,dataPointFormatter:b1e,errorBarOffset:b},A.createElement(j1e,ef({},e,{layout:p,needClip:m,data:y,xAxisId:t,yAxisId:s,hide:a,legendType:n,minPointSize:i,activeBar:l,animationBegin:o,animationDuration:c,animationEasing:d,isAnimationActive:h})))}function S1e(e){var{layout:t,barSettings:{dataKey:s,minPointSize:a},pos:n,bandSize:i,xAxis:l,yAxis:o,xAxisTicks:c,yAxisTicks:d,stackedData:h,displayedData:m,offset:p,cells:x,parentViewBox:v,dataStartIndex:y}=e,b=t==="horizontal"?o:l,j=h?b.scale.domain():null,S=ble({numericAxis:b}),w=b.scale(S);return m.map((k,_)=>{var O,E,F,I,U,M;if(h){var L=h[_+y];if(L==null)return null;O=xle(L,j)}else O=Ws(k,s),Array.isArray(O)||(O=[S,O]);var J=Obe(a,rW)(O[1],_);if(t==="horizontal"){var K,[ae,V]=[o.scale(O[0]),o.scale(O[1])];E=IR({axis:l,ticks:c,bandSize:i,offset:n.offset,entry:k,index:_}),F=(K=V??ae)!==null&&K!==void 0?K:void 0,I=n.size;var re=ae-V;if(U=Xc(re)?0:re,M={x:E,y:p.top,width:I,height:p.height},Math.abs(J)>0&&Math.abs(U)<Math.abs(J)){var X=Fi(U||J)*(Math.abs(J)-Math.abs(U));F-=X,U+=X}}else{var[Z,ye]=[l.scale(O[0]),l.scale(O[1])];if(E=Z,F=IR({axis:o,ticks:d,bandSize:i,offset:n.offset,entry:k,index:_}),I=ye-Z,U=n.size,M={x:p.left,y:F,width:p.width,height:U},Math.abs(J)>0&&Math.abs(I)<Math.abs(J)){var te=Fi(I||J)*(Math.abs(J)-Math.abs(I));I+=te}}if(E==null||F==null||I==null||U==null)return null;var D=zl(zl({},k),{},{stackedBarStart:w,x:E,y:F,width:I,height:U,value:h?O:O[1],payload:k,background:M,tooltipPosition:{x:E+I/2,y:F+U/2},parentViewBox:v},x&&x[_]&&x[_].props);return D}).filter(Boolean)}function _1e(e){var t=wn(e,N1e),s=Qbe(t.stackId),a=Ui();return A.createElement(E5,{id:t.id,type:"bar"},n=>A.createElement(A.Fragment,null,A.createElement(BT,{legendPayload:u1e(t)}),A.createElement(h1e,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),A.createElement(UT,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:s,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:a}),A.createElement(Xl,{zIndex:t.zIndex},A.createElement(w1e,ef({},t,{id:n})))))}var Ou=A.memo(_1e,Vb);Ou.displayName="Bar";var k1e=["domain","range"],A1e=["domain","range"];function eL(e,t){if(e==null)return{};var s,a,n=C1e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function C1e(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function tL(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function sW(e,t){if(e===t)return!0;var{domain:s,range:a}=e,n=eL(e,k1e),{domain:i,range:l}=t,o=eL(t,A1e);return!tL(s,i)||!tL(a,l)?!1:Vb(n,o)}var T1e=["dangerouslySetInnerHTML","ticks","scale"],E1e=["id","scale"];function LA(){return LA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},LA.apply(null,arguments)}function rL(e,t){if(e==null)return{};var s,a,n=P1e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function P1e(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function O1e(e){var t=ka(),s=A.useRef(null);return A.useLayoutEffect(()=>{s.current===null?t(Uge(e)):s.current!==e&&t(zge({prev:s.current,next:e})),s.current=e},[e,t]),A.useLayoutEffect(()=>()=>{s.current&&(t($ge(s.current)),s.current=null)},[t]),null}var D1e=e=>{var{xAxisId:t,className:s}=e,a=rr(mC),n=Ui(),i="xAxis",l=rr(j=>Dq(j,i,t,n)),o=rr(j=>Tq(j,t)),c=rr(j=>Ffe(j,t)),d=rr(j=>dq(j,t));if(o==null||c==null||d==null)return null;var{dangerouslySetInnerHTML:h,ticks:m,scale:p}=e,x=rL(e,T1e),{id:v,scale:y}=d,b=rL(d,E1e);return A.createElement(HT,LA({},x,b,{x:c.x,y:c.y,width:o.width,height:o.height,className:Es("recharts-".concat(i," ").concat(i),s),viewBox:a,ticks:l,axisType:i}))},R1e={allowDataOverflow:Ei.allowDataOverflow,allowDecimals:Ei.allowDecimals,allowDuplicatedCategory:Ei.allowDuplicatedCategory,angle:Ei.angle,axisLine:Uh.axisLine,height:Ei.height,hide:!1,includeHidden:Ei.includeHidden,interval:Ei.interval,minTickGap:Ei.minTickGap,mirror:Ei.mirror,orientation:Ei.orientation,padding:Ei.padding,reversed:Ei.reversed,scale:Ei.scale,tick:Ei.tick,tickCount:Ei.tickCount,tickLine:Uh.tickLine,tickSize:Uh.tickSize,type:Ei.type,xAxisId:0},M1e=e=>{var t=wn(e,R1e);return A.createElement(A.Fragment,null,A.createElement(O1e,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),A.createElement(D1e,t))},ed=A.memo(M1e,sW);ed.displayName="XAxis";var F1e=["dangerouslySetInnerHTML","ticks","scale"],L1e=["id","scale"];function IA(){return IA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},IA.apply(null,arguments)}function sL(e,t){if(e==null)return{};var s,a,n=I1e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function I1e(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function B1e(e){var t=ka(),s=A.useRef(null);return A.useLayoutEffect(()=>{s.current===null?t(Hge(e)):s.current!==e&&t(qge({prev:s.current,next:e})),s.current=e},[e,t]),A.useLayoutEffect(()=>()=>{s.current&&(t(Vge(s.current)),s.current=null)},[t]),null}var U1e=e=>{var{yAxisId:t,className:s,width:a,label:n}=e,i=A.useRef(null),l=A.useRef(null),o=rr(mC),c=Ui(),d=ka(),h="yAxis",m=rr(O=>Eq(O,t)),p=rr(O=>Ife(O,t)),x=rr(O=>Dq(O,h,t,c)),v=rr(O=>uq(O,t));if(A.useLayoutEffect(()=>{if(!(a!=="auto"||!m||TT(n)||A.isValidElement(n)||v==null)){var O=i.current;if(O){var E=O.getCalculatedWidth();Math.round(m.width)!==Math.round(E)&&d(Wge({id:t,width:E}))}}},[x,m,d,n,t,a,v]),m==null||p==null||v==null)return null;var{dangerouslySetInnerHTML:y,ticks:b,scale:j}=e,S=sL(e,F1e),{id:w,scale:k}=v,_=sL(v,L1e);return A.createElement(HT,IA({},S,_,{ref:i,labelRef:l,x:p.x,y:p.y,tickTextProps:a==="auto"?{width:void 0}:{width:a},width:m.width,height:m.height,className:Es("recharts-".concat(h," ").concat(h),s),viewBox:o,ticks:x,axisType:h}))},z1e={allowDataOverflow:Pi.allowDataOverflow,allowDecimals:Pi.allowDecimals,allowDuplicatedCategory:Pi.allowDuplicatedCategory,angle:Pi.angle,axisLine:Uh.axisLine,hide:!1,includeHidden:Pi.includeHidden,interval:Pi.interval,minTickGap:Pi.minTickGap,mirror:Pi.mirror,orientation:Pi.orientation,padding:Pi.padding,reversed:Pi.reversed,scale:Pi.scale,tick:Pi.tick,tickCount:Pi.tickCount,tickLine:Uh.tickLine,tickSize:Uh.tickSize,type:Pi.type,width:Pi.width,yAxisId:0},$1e=e=>{var t=wn(e,z1e);return A.createElement(A.Fragment,null,A.createElement(B1e,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),A.createElement(U1e,t))},td=A.memo($1e,sW);td.displayName="YAxis";var H1e=(e,t)=>t,WT=et([H1e,ds,oq,ji,Yq,uf,Qme,yi],i0e),GT=e=>{var t=e.currentTarget.getBoundingClientRect(),s=t.width/e.currentTarget.offsetWidth,a=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/s),chartY:Math.round((e.clientY-t.top)/a)}},aW=Zc("mouseClick"),nW=kb();nW.startListening({actionCreator:aW,effect:(e,t)=>{var s=e.payload,a=WT(t.getState(),GT(s));a?.activeIndex!=null&&t.dispatch(Jfe({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}});var BA=Zc("mouseMove"),iW=kb(),g2=null;iW.startListening({actionCreator:BA,effect:(e,t)=>{var s=e.payload;g2!==null&&cancelAnimationFrame(g2);var a=GT(s);g2=requestAnimationFrame(()=>{var n=t.getState(),i=vT(n,n.tooltip.settings.shared);if(i==="axis"){var l=WT(n,a);l?.activeIndex!=null?t.dispatch(zq({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):t.dispatch(Uq())}g2=null})}});function q1e(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var aL={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},lW=Co({name:"rootProps",initialState:aL,reducers:{updateOptions:(e,t)=>{var s;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(s=t.payload.barGap)!==null&&s!==void 0?s:aL.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),V1e=lW.reducer,{updateOptions:W1e}=lW.actions,oW=Co({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:G1e}=oW.actions,K1e=oW.reducer,cW=Zc("keyDown"),dW=Zc("focus"),KT=kb();KT.startListening({actionCreator:cW,effect:(e,t)=>{var s=t.getState(),a=s.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:n}=s.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var l=yT(n,Vg(s),Bb(s),$b(s)),o=l==null?-1:Number(l);if(!(!Number.isFinite(o)||o<0)){var c=uf(s);if(i==="Enter"){var d=zN(s,"axis","hover",String(n.index));t.dispatch(CA({active:!n.active,activeIndex:n.index,activeCoordinate:d}));return}var h=$fe(s),m=h==="left-to-right"?1:-1,p=i==="ArrowRight"?1:-1,x=o+p*m;if(!(c==null||x>=c.length||x<0)){var v=zN(s,"axis","hover",String(x));t.dispatch(CA({active:!0,activeIndex:x.toString(),activeCoordinate:v}))}}}}}});KT.startListening({actionCreator:dW,effect:(e,t)=>{var s=t.getState(),a=s.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:n}=s.tooltip;if(!n.active&&n.index==null){var i="0",l=zN(s,"axis","hover",String(i));t.dispatch(CA({active:!0,activeIndex:i,activeCoordinate:l}))}}}});var Dc=Zc("externalEvent"),uW=kb(),p_=new Map;uW.startListening({actionCreator:Dc,effect:(e,t)=>{var{handler:s,reactEvent:a}=e.payload;if(s!=null){a.persist();var n=a.type,i=p_.get(n);i!==void 0&&cancelAnimationFrame(i);var l=requestAnimationFrame(()=>{try{var o=t.getState(),c={activeCoordinate:Ime(o),activeDataKey:ST(o),activeIndex:jm(o),activeLabel:Jq(o),activeTooltipIndex:jm(o),isTooltipActive:Bme(o)};s(c,a)}finally{p_.delete(n)}});p_.set(n,l)}}});var Y1e=et([Hg],e=>e.tooltipItemPayloads),X1e=et([Y1e,zb,(e,t)=>t,(e,t,s)=>s],(e,t,s,a)=>{var n=e.find(o=>o.settings.graphicalItemId===a);if(n!=null){var{positions:i}=n;if(i!=null){var l=t(i,s);return l}}}),hW=Zc("touchMove"),fW=kb();fW.startListening({actionCreator:hW,effect:(e,t)=>{var s=e.payload;if(!(s.touches==null||s.touches.length===0)){var a=t.getState(),n=vT(a,a.tooltip.settings.shared);if(n==="axis"){var i=s.touches[0];if(i==null)return;var l=WT(a,GT({clientX:i.clientX,clientY:i.clientY,currentTarget:s.currentTarget}));l?.activeIndex!=null&&t.dispatch(zq({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(n==="item"){var o,c=s.touches[0];if(document.elementFromPoint==null||c==null)return;var d=document.elementFromPoint(c.clientX,c.clientY);if(!d||!d.getAttribute)return;var h=d.getAttribute(P$),m=(o=d.getAttribute(O$))!==null&&o!==void 0?o:void 0,p=qg(a).find(y=>y.id===m);if(h==null||p==null||m==null)return;var{dataKey:x}=p,v=X1e(a,h,m);t.dispatch(Bq({activeDataKey:x,activeIndex:h,activeCoordinate:v,activeGraphicalItemId:m}))}}}});var Z1e=Jz({brush:cve,cartesianAxis:Gge,chartData:L0e,errorBars:iye,graphicalItems:ege,layout:cle,legend:goe,options:O0e,polarAxis:mpe,polarOptions:K1e,referenceElements:pve,rootProps:V1e,tooltip:Qfe,zIndex:b0e}),J1e=function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return Rie({reducer:Z1e,preloadedState:t,middleware:a=>{var n;return a({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((n="es6")!==null&&n!==void 0?n:"")}).concat([nW.middleware,iW.middleware,KT.middleware,uW.middleware,fW.middleware])},enhancers:a=>{var n=a;return typeof a=="function"&&(n=a()),n.concat(f$({type:"raf"}))},devTools:{serialize:{replacer:q1e},name:"recharts-".concat(s)}})};function mW(e){var{preloadedState:t,children:s,reduxStoreName:a}=e,n=Ui(),i=A.useRef(null);if(n)return s;i.current==null&&(i.current=J1e(t,a));var l=lC;return A.createElement(Rye,{context:l,store:i.current},s)}function Q1e(e){var{layout:t,margin:s}=e,a=ka(),n=Ui();return A.useEffect(()=>{n||(a(ile(t)),a(nle(s)))},[a,n,t,s]),null}var xW=A.memo(Q1e,Vb);function pW(e){var t=ka();return A.useEffect(()=>{t(W1e(e))},[t,e]),null}function nL(e){var{zIndex:t,isPanorama:s}=e,a=A.useRef(null),n=ka();return A.useLayoutEffect(()=>(a.current&&n(v0e({zIndex:t,element:a.current,isPanorama:s})),()=>{n(y0e({zIndex:t,isPanorama:s}))}),[n,t,s]),A.createElement("g",{tabIndex:-1,ref:a})}function iL(e){var{children:t,isPanorama:s}=e,a=rr(o0e);if(!a||a.length===0)return t;var n=a.filter(l=>l<0),i=a.filter(l=>l>0);return A.createElement(A.Fragment,null,n.map(l=>A.createElement(nL,{key:l,zIndex:l,isPanorama:s})),t,i.map(l=>A.createElement(nL,{key:l,zIndex:l,isPanorama:s})))}var e2e=["children"];function t2e(e,t){if(e==null)return{};var s,a,n=r2e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function r2e(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function XN(){return XN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},XN.apply(null,arguments)}var s2e={width:"100%",height:"100%",display:"block"},a2e=A.forwardRef((e,t)=>{var s=pC(),a=gC(),n=K$();if(!Lu(s)||!Lu(a))return null;var{children:i,otherAttributes:l,title:o,desc:c}=e,d,h;return l!=null&&(typeof l.tabIndex=="number"?d=l.tabIndex:d=n?0:void 0,typeof l.role=="string"?h=l.role:h=n?"application":void 0),A.createElement(Z6,XN({},l,{title:o,desc:c,role:h,tabIndex:d,width:s,height:a,style:s2e,ref:t}),i)}),n2e=e=>{var{children:t}=e,s=rr(e5);if(!s)return null;var{width:a,height:n,y:i,x:l}=s;return A.createElement(Z6,{width:a,height:n,x:l,y:i},t)},lL=A.forwardRef((e,t)=>{var{children:s}=e,a=t2e(e,e2e),n=Ui();return n?A.createElement(n2e,null,A.createElement(iL,{isPanorama:!0},s)):A.createElement(a2e,XN({ref:t},a),A.createElement(iL,{isPanorama:!1},s))});function i2e(){var e=ka(),[t,s]=A.useState(null),a=rr(kle);return A.useEffect(()=>{if(t!=null){var n=t.getBoundingClientRect(),i=n.width/t.offsetWidth;ja(i)&&i!==a&&e(ole(i))}},[t,e,a]),s}function oL(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function l2e(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?oL(Object(s),!0).forEach(function(a){o2e(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):oL(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function o2e(e,t,s){return(t=c2e(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function c2e(e){var t=d2e(e,"string");return typeof t=="symbol"?t:t+""}function d2e(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tx(){return tx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},tx.apply(null,arguments)}var u2e=()=>(W0e(),null);function ZN(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var h2e=A.forwardRef((e,t)=>{var s,a,n=A.useRef(null),[i,l]=A.useState({containerWidth:ZN((s=e.style)===null||s===void 0?void 0:s.width),containerHeight:ZN((a=e.style)===null||a===void 0?void 0:a.height)}),o=A.useCallback((d,h)=>{l(m=>{var p=Math.round(d),x=Math.round(h);return m.containerWidth===p&&m.containerHeight===x?m:{containerWidth:p,containerHeight:x}})},[]),c=A.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null&&typeof ResizeObserver<"u"){var{width:h,height:m}=d.getBoundingClientRect();o(h,m);var p=v=>{var{width:y,height:b}=v[0].contentRect;o(y,b)},x=new ResizeObserver(p);x.observe(d),n.current=x}},[t,o]);return A.useEffect(()=>()=>{var d=n.current;d?.disconnect()},[o]),A.createElement(A.Fragment,null,A.createElement(r5,{width:i.containerWidth,height:i.containerHeight}),A.createElement("div",tx({ref:c},e)))}),f2e=A.forwardRef((e,t)=>{var{width:s,height:a}=e,[n,i]=A.useState({containerWidth:ZN(s),containerHeight:ZN(a)}),l=A.useCallback((c,d)=>{i(h=>{var m=Math.round(c),p=Math.round(d);return h.containerWidth===m&&h.containerHeight===p?h:{containerWidth:m,containerHeight:p}})},[]),o=A.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:d,height:h}=c.getBoundingClientRect();l(d,h)}},[t,l]);return A.createElement(A.Fragment,null,A.createElement(r5,{width:n.containerWidth,height:n.containerHeight}),A.createElement("div",tx({ref:o},e)))}),m2e=A.forwardRef((e,t)=>{var{width:s,height:a}=e;return A.createElement(A.Fragment,null,A.createElement(r5,{width:s,height:a}),A.createElement("div",tx({ref:t},e)))}),x2e=A.forwardRef((e,t)=>{var{width:s,height:a}=e;return Kh(s)||Kh(a)?A.createElement(f2e,tx({},e,{ref:t})):A.createElement(m2e,tx({},e,{ref:t}))});function p2e(e){return e===!0?h2e:x2e}var g2e=A.forwardRef((e,t)=>{var{children:s,className:a,height:n,onClick:i,onContextMenu:l,onDoubleClick:o,onMouseDown:c,onMouseEnter:d,onMouseLeave:h,onMouseMove:m,onMouseUp:p,onTouchEnd:x,onTouchMove:v,onTouchStart:y,style:b,width:j,responsive:S,dispatchTouchEvents:w=!0}=e,k=A.useRef(null),_=ka(),[O,E]=A.useState(null),[F,I]=A.useState(null),U=i2e(),M=xC(),L=M?.width>0?M.width:j,J=M?.height>0?M.height:n,K=A.useCallback(se=>{U(se),typeof t=="function"&&t(se),E(se),I(se),se!=null&&(k.current=se)},[U,t,E,I]),ae=A.useCallback(se=>{_(aW(se)),_(Dc({handler:i,reactEvent:se}))},[_,i]),V=A.useCallback(se=>{_(BA(se)),_(Dc({handler:d,reactEvent:se}))},[_,d]),re=A.useCallback(se=>{_(Uq()),_(Dc({handler:h,reactEvent:se}))},[_,h]),X=A.useCallback(se=>{_(BA(se)),_(Dc({handler:m,reactEvent:se}))},[_,m]),Z=A.useCallback(()=>{_(dW())},[_]),ye=A.useCallback(se=>{_(cW(se.key))},[_]),te=A.useCallback(se=>{_(Dc({handler:l,reactEvent:se}))},[_,l]),D=A.useCallback(se=>{_(Dc({handler:o,reactEvent:se}))},[_,o]),H=A.useCallback(se=>{_(Dc({handler:c,reactEvent:se}))},[_,c]),q=A.useCallback(se=>{_(Dc({handler:p,reactEvent:se}))},[_,p]),W=A.useCallback(se=>{_(Dc({handler:y,reactEvent:se}))},[_,y]),G=A.useCallback(se=>{w&&_(hW(se)),_(Dc({handler:v,reactEvent:se}))},[_,w,v]),fe=A.useCallback(se=>{_(Dc({handler:x,reactEvent:se}))},[_,x]),Se=p2e(S);return A.createElement(iV.Provider,{value:O},A.createElement(mz.Provider,{value:F},A.createElement(Se,{width:L??b?.width,height:J??b?.height,className:Es("recharts-wrapper",a),style:l2e({position:"relative",cursor:"default",width:L,height:J},b),onClick:ae,onContextMenu:te,onDoubleClick:D,onFocus:Z,onKeyDown:ye,onMouseDown:H,onMouseEnter:V,onMouseLeave:re,onMouseMove:X,onMouseUp:q,onTouchEnd:fe,onTouchMove:G,onTouchStart:W,ref:K},A.createElement(u2e,null),s)))}),v2e=["width","height","responsive","children","className","style","compact","title","desc"];function y2e(e,t){if(e==null)return{};var s,a,n=b2e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function b2e(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var gW=A.forwardRef((e,t)=>{var{width:s,height:a,responsive:n,children:i,className:l,style:o,compact:c,title:d,desc:h}=e,m=y2e(e,v2e),p=Gl(m);return c?A.createElement(A.Fragment,null,A.createElement(r5,{width:s,height:a}),A.createElement(lL,{otherAttributes:p,title:d,desc:h},i)):A.createElement(g2e,{className:l,style:o,width:s,height:a,responsive:n??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},A.createElement(lL,{otherAttributes:p,title:d,desc:h,ref:t},A.createElement(vve,null,i)))});function UA(){return UA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},UA.apply(null,arguments)}var j2e={top:5,right:5,bottom:5,left:5},N2e={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:j2e,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},YT=A.forwardRef(function(t,s){var a,n=wn(t.categoricalChartProps,N2e),{chartName:i,defaultTooltipEventType:l,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,categoricalChartProps:d}=t,h={chartName:i,defaultTooltipEventType:l,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,eventEmitter:void 0};return A.createElement(mW,{preloadedState:{options:h},reduxStoreName:(a=d.id)!==null&&a!==void 0?a:i},A.createElement(PV,{chartData:d.data}),A.createElement(xW,{layout:n.layout,margin:n.margin}),A.createElement(pW,{baseValue:n.baseValue,accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className,reverseStackOrder:n.reverseStackOrder}),A.createElement(gW,UA({},n,{ref:s})))}),w2e=["axis"],R5=A.forwardRef((e,t)=>A.createElement(YT,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:w2e,tooltipPayloadSearcher:S5,categoricalChartProps:e,ref:t})),S2e=["axis","item"],gg=A.forwardRef((e,t)=>A.createElement(YT,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:S2e,tooltipPayloadSearcher:S5,categoricalChartProps:e,ref:t}));function _2e(e){var t=ka();return A.useEffect(()=>{t(G1e(e))},[t,e]),null}var k2e=["layout"];function zA(){return zA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},zA.apply(null,arguments)}function A2e(e,t){if(e==null)return{};var s,a,n=C2e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function C2e(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var T2e={top:5,right:5,bottom:5,left:5},vW={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:T2e,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},E2e=A.forwardRef(function(t,s){var a,n=wn(t.categoricalChartProps,vW),{layout:i}=n,l=A2e(n,k2e),{chartName:o,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:h}=t,m={chartName:o,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:h,eventEmitter:void 0};return A.createElement(mW,{preloadedState:{options:m},reduxStoreName:(a=n.id)!==null&&a!==void 0?a:o},A.createElement(PV,{chartData:n.data}),A.createElement(xW,{layout:i,margin:n.margin}),A.createElement(pW,{baseValue:void 0,accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className,reverseStackOrder:n.reverseStackOrder}),A.createElement(_2e,{cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius}),A.createElement(gW,zA({},l,{ref:s})))});function cL(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function dL(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?cL(Object(s),!0).forEach(function(a){P2e(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):cL(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function P2e(e,t,s){return(t=O2e(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function O2e(e){var t=D2e(e,"string");return typeof t=="symbol"?t:t+""}function D2e(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var R2e=["item"],M2e=dL(dL({},vW),{},{layout:"centric",startAngle:0,endAngle:360}),M5=A.forwardRef((e,t)=>{var s=wn(e,M2e);return A.createElement(E2e,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:R2e,tooltipPayloadSearcher:S5,categoricalChartProps:s,ref:t})}),F2e=["axis"],L2e=A.forwardRef((e,t)=>A.createElement(YT,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:F2e,tooltipPayloadSearcher:S5,categoricalChartProps:e,ref:t}));const I2e=[{month:"Jan",predicted:1200,actual:1150,confidence:85},{month:"Feb",predicted:1350,actual:1320,confidence:88},{month:"Mar",predicted:1500,actual:1480,confidence:90},{month:"Apr",predicted:1650,confidence:87},{month:"May",predicted:1800,confidence:85},{month:"Jun",predicted:1950,confidence:82}],B2e=[{product:"Fresh Chicken",currentStock:500,predictedDemand:750,riskLevel:"high",trend:"up"},{product:"Mutton Premium",currentStock:200,predictedDemand:180,riskLevel:"low",trend:"stable"},{product:"Fish Fillet",currentStock:150,predictedDemand:220,riskLevel:"medium",trend:"up"},{product:"Prawns Large",currentStock:80,predictedDemand:120,riskLevel:"high",trend:"up"},{product:"Eggs Organic",currentStock:300,predictedDemand:280,riskLevel:"low",trend:"down"}],U2e=[{category:"Chicken",demand:750,stock:500,gap:250},{category:"Mutton",demand:180,stock:200,gap:-20},{category:"Fish",demand:220,stock:150,gap:70},{category:"Prawns",demand:120,stock:80,gap:40},{category:"Eggs",demand:280,stock:300,gap:-20}],z2e={low:"#10B981",medium:"#F59E0B",high:"#EF4444"},hf=()=>{const[e,t]=A.useState("6months"),[s,a]=A.useState("overview"),n=l=>z2e[l],i=l=>l==="up"?"":l==="down"?"":"";return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 rounded-xl p-6 text-white shadow-lg",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"h-12 w-12 bg-white/20 rounded-lg flex items-center justify-center",children:r.jsx(ta,{className:"h-7 w-7"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Product Demand Forecast Analysis"}),r.jsx("p",{className:"text-blue-100 mt-1",children:"AI-powered demand prediction and inventory planning"})]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("div",{className:"flex bg-white/10 rounded-lg p-1",children:[r.jsx("button",{onClick:()=>a("overview"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${s==="overview"?"bg-white text-blue-600":"text-white hover:bg-white/10"}`,children:"Overview"}),r.jsx("button",{onClick:()=>a("detailed"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${s==="detailed"?"bg-white text-blue-600":"text-white hover:bg-white/10"}`,children:"Detailed"})]}),r.jsxs("select",{value:e,onChange:l=>t(l.target.value),className:"px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-sm text-white backdrop-blur-sm",children:[r.jsx("option",{value:"3months",className:"text-gray-900",children:"3 Months"}),r.jsx("option",{value:"6months",className:"text-gray-900",children:"6 Months"}),r.jsx("option",{value:"12months",className:"text-gray-900",children:"12 Months"})]}),r.jsxs(oe,{size:"sm",className:"bg-white text-blue-600 hover:bg-blue-50",children:[r.jsx(ei,{className:"h-4 w-4 mr-2"}),"Export Report"]})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx(he,{className:"p-5 border-l-4 border-green-500 hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Forecast Accuracy"}),r.jsx("p",{className:"text-3xl font-bold text-green-600 mt-2",children:"87.5%"}),r.jsx("p",{className:"text-xs text-green-600 mt-1",children:" 2.3% from last month"})]}),r.jsx("div",{className:"h-12 w-12 bg-green-100 rounded-xl flex items-center justify-center",children:r.jsx(Fw,{className:"h-6 w-6 text-green-600"})})]})}),r.jsx(he,{className:"p-5 border-l-4 border-red-500 hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"High Risk Items"}),r.jsx("p",{className:"text-3xl font-bold text-red-600 mt-2",children:"2"}),r.jsx("p",{className:"text-xs text-red-600 mt-1",children:"Requires immediate action"})]}),r.jsx("div",{className:"h-12 w-12 bg-red-100 rounded-xl flex items-center justify-center",children:r.jsx(Ts,{className:"h-6 w-6 text-red-600"})})]})}),r.jsx(he,{className:"p-5 border-l-4 border-blue-500 hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Predicted Growth"}),r.jsx("p",{className:"text-3xl font-bold text-blue-600 mt-2",children:"+15.2%"}),r.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Next 6 months trend"})]}),r.jsx("div",{className:"h-12 w-12 bg-blue-100 rounded-xl flex items-center justify-center",children:r.jsx(H0,{className:"h-6 w-6 text-blue-600"})})]})}),r.jsx(he,{className:"p-5 border-l-4 border-purple-500 hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Stock Coverage"}),r.jsx("p",{className:"text-3xl font-bold text-purple-600 mt-2",children:"18 Days"}),r.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"Average across products"})]}),r.jsx("div",{className:"h-12 w-12 bg-purple-100 rounded-xl flex items-center justify-center",children:r.jsx(Jr,{className:"h-6 w-6 text-purple-600"})})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(he,{className:"p-6 shadow-md",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ta,{className:"h-5 w-5 text-blue-600"}),r.jsx("h3",{className:"text-lg font-semibold",children:"Demand Forecast Trend"})]}),r.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full font-medium",children:"6 Months Projection"})]}),r.jsx(ql,{width:"100%",height:280,children:r.jsxs(R5,{data:I2e,children:[r.jsx(Qc,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),r.jsx(ed,{dataKey:"month",tick:{fontSize:12}}),r.jsx(td,{tick:{fontSize:12}}),r.jsx(Vl,{contentStyle:{borderRadius:"8px",border:"1px solid #e5e7eb"}}),r.jsx(uA,{}),r.jsx(wm,{type:"monotone",dataKey:"actual",stroke:"#10B981",strokeWidth:3,name:"Actual Demand",dot:{fill:"#10B981",r:4}}),r.jsx(wm,{type:"monotone",dataKey:"predicted",stroke:"#3B82F6",strokeWidth:3,strokeDasharray:"5 5",name:"Predicted Demand",dot:{fill:"#3B82F6",r:4}})]})})]}),r.jsxs(he,{className:"p-6 shadow-md",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Zn,{className:"h-5 w-5 text-purple-600"}),r.jsx("h3",{className:"text-lg font-semibold",children:"Category Demand vs Stock"})]}),r.jsx("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded-full font-medium",children:"Current Status"})]}),r.jsx(ql,{width:"100%",height:280,children:r.jsxs(gg,{data:U2e,children:[r.jsx(Qc,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),r.jsx(ed,{dataKey:"category",tick:{fontSize:12}}),r.jsx(td,{tick:{fontSize:12}}),r.jsx(Vl,{contentStyle:{borderRadius:"8px",border:"1px solid #e5e7eb"}}),r.jsx(uA,{}),r.jsx(Ou,{dataKey:"demand",fill:"#8B5CF6",name:"Predicted Demand",radius:[8,8,0,0]}),r.jsx(Ou,{dataKey:"stock",fill:"#10B981",name:"Current Stock",radius:[8,8,0,0]})]})})]})]}),r.jsxs(he,{className:"p-6 shadow-md",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Tt,{className:"h-5 w-5 text-orange-600"}),r.jsx("h3",{className:"text-lg font-semibold",children:"Product Risk Analysis"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("span",{className:"text-xs bg-red-100 text-red-700 px-3 py-1 rounded-full font-medium",children:"2 High Risk"}),r.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-700 px-3 py-1 rounded-full font-medium",children:"1 Medium Risk"}),r.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-3 py-1 rounded-full font-medium",children:"2 Low Risk"})]})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50 border-b-2 border-gray-200",children:[r.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-700 text-sm",children:"Product Name"}),r.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-700 text-sm",children:"Current Stock"}),r.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-700 text-sm",children:"Predicted Demand"}),r.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-700 text-sm",children:"Gap"}),r.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-700 text-sm",children:"Risk Level"}),r.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-700 text-sm",children:"Trend"}),r.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-700 text-sm",children:"Action"})]})}),r.jsx("tbody",{children:B2e.map((l,o)=>{const c=l.predictedDemand-l.currentStock;return r.jsxs("tr",{className:"border-b hover:bg-gray-50 transition-colors",children:[r.jsx("td",{className:"py-4 px-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"h-8 w-8 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(Tt,{className:"h-4 w-4 text-blue-600"})}),r.jsx("span",{className:"font-medium text-gray-900",children:l.product})]})}),r.jsx("td",{className:"py-4 px-4",children:r.jsxs("span",{className:"font-medium text-gray-700",children:[l.currentStock," kg"]})}),r.jsx("td",{className:"py-4 px-4",children:r.jsxs("span",{className:"font-medium text-gray-700",children:[l.predictedDemand," kg"]})}),r.jsx("td",{className:"py-4 px-4",children:r.jsxs("span",{className:`font-semibold ${c>0?"text-red-600":"text-green-600"}`,children:[c>0?"+":"",c," kg"]})}),r.jsx("td",{className:"py-4 px-4",children:r.jsx("span",{className:"px-3 py-1.5 rounded-full text-xs font-semibold text-white inline-block",style:{backgroundColor:n(l.riskLevel)},children:l.riskLevel.toUpperCase()})}),r.jsx("td",{className:"py-4 px-4",children:r.jsxs("span",{className:"flex items-center gap-1.5 font-medium",children:[r.jsx("span",{className:"text-lg",children:i(l.trend)}),r.jsx("span",{className:"capitalize text-gray-700",children:l.trend})]})}),r.jsxs("td",{className:"py-4 px-4",children:[l.riskLevel==="high"&&r.jsx(oe,{size:"sm",className:"bg-red-600 hover:bg-red-700 text-white",children:"Reorder Now"}),l.riskLevel==="medium"&&r.jsx(oe,{size:"sm",className:"bg-yellow-600 hover:bg-yellow-700 text-white",children:"Monitor"}),l.riskLevel==="low"&&r.jsxs("span",{className:"text-green-600 text-sm font-semibold flex items-center gap-1",children:[r.jsx("span",{className:"text-lg",children:""})," Optimal"]})]})]},o)})})]})})]}),r.jsxs(he,{className:"p-6 shadow-md bg-gradient-to-br from-gray-50 to-white",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[r.jsx("div",{className:"h-10 w-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:r.jsx(ta,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold",children:"AI-Powered Recommendations"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Smart insights to optimize your inventory"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx("div",{className:"bg-white border-2 border-red-200 rounded-xl p-4 hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"h-10 w-10 bg-red-100 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx(Ts,{className:"h-5 w-5 text-red-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("span",{className:"text-xs bg-red-100 text-red-700 px-2 py-0.5 rounded-full font-semibold",children:"URGENT"}),r.jsx("span",{className:"text-xs text-gray-500",children:"Stock Alert"})]}),r.jsx("p",{className:"font-semibold text-red-800 mb-1",children:"Fresh Chicken Critical"}),r.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Stock depletes in 3 days. Order 400kg immediately to avoid stockout."}),r.jsx(oe,{size:"sm",className:"w-full bg-red-600 hover:bg-red-700 text-white",children:"Create Order"})]})]})}),r.jsx("div",{className:"bg-white border-2 border-yellow-200 rounded-xl p-4 hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"h-10 w-10 bg-yellow-100 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx(ta,{className:"h-5 w-5 text-yellow-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-700 px-2 py-0.5 rounded-full font-semibold",children:"OPPORTUNITY"}),r.jsx("span",{className:"text-xs text-gray-500",children:"Demand Surge"})]}),r.jsx("p",{className:"font-semibold text-yellow-800 mb-1",children:"Prawns Demand Rising"}),r.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"50% increase predicted. Boost stock by 30% to capture demand."}),r.jsx(oe,{size:"sm",className:"w-full bg-yellow-600 hover:bg-yellow-700 text-white",children:"Adjust Stock"})]})]})}),r.jsx("div",{className:"bg-white border-2 border-blue-200 rounded-xl p-4 hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx(Tt,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded-full font-semibold",children:"OPTIMIZE"}),r.jsx("span",{className:"text-xs text-gray-500",children:"Overstock"})]}),r.jsx("p",{className:"font-semibold text-blue-800 mb-1",children:"Eggs Organic Surplus"}),r.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Stock exceeds demand. Run promotion to clear inventory faster."}),r.jsx(oe,{size:"sm",className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:"Create Offer"})]})]})})]})]})]})};var Jy={};Jy.version="0.18.5";var ac=1200,rx=1252,$2e=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],XT={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},F5=function(e){$2e.indexOf(e)!=-1&&(rx=XT[0]=e)};function H2e(){F5(1252)}var qc=function(e){ac=e,F5(e)};function L5(){qc(1200),H2e()}function JN(e){for(var t=[],s=0,a=e.length;s<a;++s)t[s]=e.charCodeAt(s);return t}function q2e(e){for(var t=[],s=0;s<e.length>>1;++s)t[s]=String.fromCharCode(e.charCodeAt(2*s)+(e.charCodeAt(2*s+1)<<8));return t.join("")}function yW(e){for(var t=[],s=0;s<e.length>>1;++s)t[s]=String.fromCharCode(e.charCodeAt(2*s+1)+(e.charCodeAt(2*s)<<8));return t.join("")}var Hp=function(e){var t=e.charCodeAt(0),s=e.charCodeAt(1);return t==255&&s==254?q2e(e.slice(2)):t==254&&s==255?yW(e.slice(2)):t==65279?e.slice(1):e},dy=function(t){return String.fromCharCode(t)},$A=function(t){return String.fromCharCode(t)},js;function V2e(e){js=e,qc=function(t){ac=t,F5(t)},Hp=function(t){return t.charCodeAt(0)===255&&t.charCodeAt(1)===254?js.utils.decode(1200,JN(t.slice(2))):t},dy=function(s){return ac===1200?String.fromCharCode(s):js.utils.decode(ac,[s&255,s>>8])[0]},$A=function(s){return js.utils.decode(rx,[s])[0]},KW()}var cm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Qy(e){for(var t="",s=0,a=0,n=0,i=0,l=0,o=0,c=0,d=0;d<e.length;)s=e.charCodeAt(d++),i=s>>2,a=e.charCodeAt(d++),l=(s&3)<<4|a>>4,n=e.charCodeAt(d++),o=(a&15)<<2|n>>6,c=n&63,isNaN(a)?o=c=64:isNaN(n)&&(c=64),t+=cm.charAt(i)+cm.charAt(l)+cm.charAt(o)+cm.charAt(c);return t}function dc(e){var t="",s=0,a=0,n=0,i=0,l=0,o=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<e.length;)i=cm.indexOf(e.charAt(d++)),l=cm.indexOf(e.charAt(d++)),s=i<<2|l>>4,t+=String.fromCharCode(s),o=cm.indexOf(e.charAt(d++)),a=(l&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(a)),c=cm.indexOf(e.charAt(d++)),n=(o&3)<<6|c,c!==64&&(t+=String.fromCharCode(n));return t}var rs=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),ff=(function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,s){return s?new Buffer(t,s):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}})();function Sm(e){return rs?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function uL(e){return rs?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Zo=function(t){return rs?ff(t,"binary"):t.split("").map(function(s){return s.charCodeAt(0)&255})};function Gb(e){if(typeof ArrayBuffer>"u")return Zo(e);for(var t=new ArrayBuffer(e.length),s=new Uint8Array(t),a=0;a!=e.length;++a)s[a]=e.charCodeAt(a)&255;return t}function Mm(e){if(Array.isArray(e))return e.map(function(a){return String.fromCharCode(a)}).join("");for(var t=[],s=0;s<e.length;++s)t[s]=String.fromCharCode(e[s]);return t.join("")}function W2e(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function ZT(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return ZT(new Uint8Array(e));for(var t=new Array(e.length),s=0;s<e.length;++s)t[s]=e[s];return t}var Mi=rs?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:ff(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,s=0;for(t=0;t<e.length;++t)s+=e[t].length;var a=new Uint8Array(s),n=0;for(t=0,s=0;t<e.length;s+=n,++t)if(n=e[t].length,e[t]instanceof Uint8Array)a.set(e[t],s);else{if(typeof e[t]=="string")throw"wtf";a.set(new Uint8Array(e[t]),s)}return a}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function G2e(e){for(var t=[],s=0,a=e.length+250,n=Sm(e.length+255),i=0;i<e.length;++i){var l=e.charCodeAt(i);if(l<128)n[s++]=l;else if(l<2048)n[s++]=192|l>>6&31,n[s++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var o=e.charCodeAt(++i)&1023;n[s++]=240|l>>8&7,n[s++]=128|l>>2&63,n[s++]=128|o>>6&15|(l&3)<<4,n[s++]=128|o&63}else n[s++]=224|l>>12&15,n[s++]=128|l>>6&63,n[s++]=128|l&63;s>a&&(t.push(n.slice(0,s)),s=0,n=Sm(65535),a=65530)}return t.push(n.slice(0,s)),Mi(t)}var _l=/\u0000/g,uy=/[\u0001-\u0006]/g;function eg(e){for(var t="",s=e.length-1;s>=0;)t+=e.charAt(s--);return t}function $d(e,t){var s=""+e;return s.length>=t?s:vn("0",t-s.length)+s}function JT(e,t){var s=""+e;return s.length>=t?s:vn(" ",t-s.length)+s}function QN(e,t){var s=""+e;return s.length>=t?s:s+vn(" ",t-s.length)}function K2e(e,t){var s=""+Math.round(e);return s.length>=t?s:vn("0",t-s.length)+s}function Y2e(e,t){var s=""+e;return s.length>=t?s:vn("0",t-s.length)+s}var hL=Math.pow(2,32);function Np(e,t){if(e>hL||e<-hL)return K2e(e,t);var s=Math.round(e);return Y2e(s,t)}function ew(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var fL=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],g_=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function X2e(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var wr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},mL={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Z2e={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function tw(e,t,s){for(var a=e<0?-1:1,n=e*a,i=0,l=1,o=0,c=1,d=0,h=0,m=Math.floor(n);d<t&&(m=Math.floor(n),o=m*l+i,h=m*d+c,!(n-m<5e-8));)n=1/(n-m),i=l,l=o,c=d,d=h;if(h>t&&(d>t?(h=c,o=i):(h=d,o=l)),!s)return[0,a*o,h];var p=Math.floor(a*o/h);return[p,a*o-p*h,h]}function dm(e,t,s){if(e>2958465||e<0)return null;var a=e|0,n=Math.floor(86400*(e-a)),i=0,l=[],o={D:a,T:n,u:86400*(e-a)-n,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(a+=1462),o.u>.9999&&(o.u=0,++n==86400&&(o.T=n=0,++a,++o.D)),a===60)l=s?[1317,10,29]:[1900,2,29],i=3;else if(a===0)l=s?[1317,8,29]:[1900,1,0],i=6;else{a>60&&--a;var c=new Date(1900,0,1);c.setDate(c.getDate()+a-1),l=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),a<60&&(i=(i+6)%7),s&&(i=sje(c,l))}return o.y=l[0],o.m=l[1],o.d=l[2],o.S=n%60,n=Math.floor(n/60),o.M=n%60,n=Math.floor(n/60),o.H=n,o.q=i,o}var bW=new Date(1899,11,31,0,0,0),J2e=bW.getTime(),Q2e=new Date(1900,2,1,0,0,0);function jW(e,t){var s=e.getTime();return t?s-=1461*24*60*60*1e3:e>=Q2e&&(s+=1440*60*1e3),(s-(J2e+(e.getTimezoneOffset()-bW.getTimezoneOffset())*6e4))/(1440*60*1e3)}function QT(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function eje(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function tje(e){var t=e<0?12:11,s=QT(e.toFixed(12));return s.length<=t||(s=e.toPrecision(10),s.length<=t)?s:e.toExponential(5)}function rje(e){var t=QT(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function eb(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),s;return t>=-4&&t<=-1?s=e.toPrecision(10+t):Math.abs(t)<=9?s=tje(e):t===10?s=e.toFixed(10).substr(0,12):s=rje(e),QT(eje(s.toUpperCase()))}function sx(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):eb(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return uc(14,jW(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function sje(e,t){t[0]-=581;var s=e.getDay();return e<60&&(s=(s+6)%7),s}function aje(e,t,s,a){var n="",i=0,l=0,o=s.y,c,d=0;switch(e){case 98:o=s.y+543;case 121:switch(t.length){case 1:case 2:c=o%100,d=2;break;default:c=o%1e4,d=4;break}break;case 109:switch(t.length){case 1:case 2:c=s.m,d=t.length;break;case 3:return g_[s.m-1][1];case 5:return g_[s.m-1][0];default:return g_[s.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=s.d,d=t.length;break;case 3:return fL[s.q][0];default:return fL[s.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(s.H+11)%12,d=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=s.H,d=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=s.M,d=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return s.u===0&&(t=="s"||t=="ss")?$d(s.S,t.length):(a>=2?l=a===3?1e3:100:l=a===1?10:1,i=Math.round(l*(s.S+s.u)),i>=60*l&&(i=0),t==="s"?i===0?"0":""+i/l:(n=$d(i,2+a),t==="ss"?n.substr(0,2):"."+n.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=s.D*24+s.H;break;case"[m]":case"[mm]":c=(s.D*24+s.H)*60+s.M;break;case"[s]":case"[ss]":c=((s.D*24+s.H)*60+s.M)*60+Math.round(s.S+s.u);break;default:throw"bad abstime format: "+t}d=t.length===3?1:2;break;case 101:c=o,d=1;break}var h=d>0?$d(c,d):"";return h}function um(e){var t=3;if(e.length<=t)return e;for(var s=e.length%t,a=e.substr(0,s);s!=e.length;s+=t)a+=(a.length>0?",":"")+e.substr(s,t);return a}var NW=/%/g;function nje(e,t,s){var a=t.replace(NW,""),n=t.length-a.length;return zh(e,a,s*Math.pow(10,2*n))+vn("%",n)}function ije(e,t,s){for(var a=t.length-1;t.charCodeAt(a-1)===44;)--a;return zh(e,t.substr(0,a),s/Math.pow(10,3*(t.length-a)))}function wW(e,t){var s,a=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+wW(e,-t);var n=e.indexOf(".");n===-1&&(n=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%n;if(i<0&&(i+=n),s=(t/Math.pow(10,i)).toPrecision(a+1+(n+i)%n),s.indexOf("e")===-1){var l=Math.floor(Math.log(t)*Math.LOG10E);for(s.indexOf(".")===-1?s=s.charAt(0)+"."+s.substr(1)+"E+"+(l-s.length+i):s+="E+"+(l-i);s.substr(0,2)==="0.";)s=s.charAt(0)+s.substr(2,n)+"."+s.substr(2+n),s=s.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");s=s.replace(/\+-/,"-")}s=s.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,d,h){return c+d+h.substr(0,(n+i)%n)+"."+h.substr(i)+"E"})}else s=t.toExponential(a);return e.match(/E\+00$/)&&s.match(/e[+-]\d$/)&&(s=s.substr(0,s.length-1)+"0"+s.charAt(s.length-1)),e.match(/E\-/)&&s.match(/e\+/)&&(s=s.replace(/e\+/,"e")),s.replace("e","E")}var SW=/# (\?+)( ?)\/( ?)(\d+)/;function lje(e,t,s){var a=parseInt(e[4],10),n=Math.round(t*a),i=Math.floor(n/a),l=n-i*a,o=a;return s+(i===0?"":""+i)+" "+(l===0?vn(" ",e[1].length+1+e[4].length):JT(l,e[1].length)+e[2]+"/"+e[3]+$d(o,e[4].length))}function oje(e,t,s){return s+(t===0?"":""+t)+vn(" ",e[1].length+2+e[4].length)}var _W=/^#*0*\.([0#]+)/,kW=/\).*[0#]/,AW=/\(###\) ###\\?-####/;function Bl(e){for(var t="",s,a=0;a!=e.length;++a)switch(s=e.charCodeAt(a)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(s)}return t}function xL(e,t){var s=Math.pow(10,t);return""+Math.round(e*s)/s}function pL(e,t){var s=e-Math.floor(e),a=Math.pow(10,t);return t<(""+Math.round(s*a)).length?0:Math.round(s*a)}function cje(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function dje(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Rc(e,t,s){if(e.charCodeAt(0)===40&&!t.match(kW)){var a=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return s>=0?Rc("n",a,s):"("+Rc("n",a,-s)+")"}if(t.charCodeAt(t.length-1)===44)return ije(e,t,s);if(t.indexOf("%")!==-1)return nje(e,t,s);if(t.indexOf("E")!==-1)return wW(t,s);if(t.charCodeAt(0)===36)return"$"+Rc(e,t.substr(t.charAt(1)==" "?2:1),s);var n,i,l,o,c=Math.abs(s),d=s<0?"-":"";if(t.match(/^00+$/))return d+Np(c,t.length);if(t.match(/^[#?]+$/))return n=Np(s,0),n==="0"&&(n=""),n.length>t.length?n:Bl(t.substr(0,t.length-n.length))+n;if(i=t.match(SW))return lje(i,c,d);if(t.match(/^#+0+$/))return d+Np(c,t.length-t.indexOf("0"));if(i=t.match(_W))return n=xL(s,i[1].length).replace(/^([^\.]+)$/,"$1."+Bl(i[1])).replace(/\.$/,"."+Bl(i[1])).replace(/\.(\d*)$/,function(v,y){return"."+y+vn("0",Bl(i[1]).length-y.length)}),t.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return d+xL(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return d+um(Np(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return s<0?"-"+Rc(e,t,-s):um(""+(Math.floor(s)+cje(s,i[1].length)))+"."+$d(pL(s,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return Rc(e,t.replace(/^#,#*,/,""),s);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return n=eg(Rc(e,t.replace(/[\\-]/g,""),s)),l=0,eg(eg(t.replace(/\\/g,"")).replace(/[0#]/g,function(v){return l<n.length?n.charAt(l++):v==="0"?"0":""}));if(t.match(AW))return n=Rc(e,"##########",s),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var h="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(i[4].length,7),o=tw(c,Math.pow(10,l)-1,!1),n=""+d,h=zh("n",i[1],o[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),n+=h+i[2]+"/"+i[3],h=QN(o[2],l),h.length<i[4].length&&(h=Bl(i[4].substr(i[4].length-h.length))+h),n+=h,n;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(i[1].length,i[4].length),7),o=tw(c,Math.pow(10,l)-1,!0),d+(o[0]||(o[1]?"":"0"))+" "+(o[1]?JT(o[1],l)+i[2]+"/"+i[3]+QN(o[2],l):vn(" ",2*l+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return n=Np(s,0),t.length<=n.length?n:Bl(t.substr(0,t.length-n.length))+n;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){n=""+s.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),l=n.indexOf(".");var m=t.indexOf(".")-l,p=t.length-n.length-m;return Bl(t.substr(0,m)+n+t.substr(t.length-p))}if(i=t.match(/^00,000\.([#0]*0)$/))return l=pL(s,i[1].length),s<0?"-"+Rc(e,t,-s):um(dje(s)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?$d(0,3-v.length):"")+v})+"."+$d(l,i[1].length);switch(t){case"###,##0.00":return Rc(e,"#,##0.00",s);case"###,###":case"##,###":case"#,###":var x=um(Np(c,0));return x!=="0"?d+x:"";case"###,###.00":return Rc(e,"###,##0.00",s).replace(/^0\./,".");case"#,###.00":return Rc(e,"#,##0.00",s).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function uje(e,t,s){for(var a=t.length-1;t.charCodeAt(a-1)===44;)--a;return zh(e,t.substr(0,a),s/Math.pow(10,3*(t.length-a)))}function hje(e,t,s){var a=t.replace(NW,""),n=t.length-a.length;return zh(e,a,s*Math.pow(10,2*n))+vn("%",n)}function CW(e,t){var s,a=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+CW(e,-t);var n=e.indexOf(".");n===-1&&(n=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%n;if(i<0&&(i+=n),s=(t/Math.pow(10,i)).toPrecision(a+1+(n+i)%n),!s.match(/[Ee]/)){var l=Math.floor(Math.log(t)*Math.LOG10E);s.indexOf(".")===-1?s=s.charAt(0)+"."+s.substr(1)+"E+"+(l-s.length+i):s+="E+"+(l-i),s=s.replace(/\+-/,"-")}s=s.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,d,h){return c+d+h.substr(0,(n+i)%n)+"."+h.substr(i)+"E"})}else s=t.toExponential(a);return e.match(/E\+00$/)&&s.match(/e[+-]\d$/)&&(s=s.substr(0,s.length-1)+"0"+s.charAt(s.length-1)),e.match(/E\-/)&&s.match(/e\+/)&&(s=s.replace(/e\+/,"e")),s.replace("e","E")}function Su(e,t,s){if(e.charCodeAt(0)===40&&!t.match(kW)){var a=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return s>=0?Su("n",a,s):"("+Su("n",a,-s)+")"}if(t.charCodeAt(t.length-1)===44)return uje(e,t,s);if(t.indexOf("%")!==-1)return hje(e,t,s);if(t.indexOf("E")!==-1)return CW(t,s);if(t.charCodeAt(0)===36)return"$"+Su(e,t.substr(t.charAt(1)==" "?2:1),s);var n,i,l,o,c=Math.abs(s),d=s<0?"-":"";if(t.match(/^00+$/))return d+$d(c,t.length);if(t.match(/^[#?]+$/))return n=""+s,s===0&&(n=""),n.length>t.length?n:Bl(t.substr(0,t.length-n.length))+n;if(i=t.match(SW))return oje(i,c,d);if(t.match(/^#+0+$/))return d+$d(c,t.length-t.indexOf("0"));if(i=t.match(_W))return n=(""+s).replace(/^([^\.]+)$/,"$1."+Bl(i[1])).replace(/\.$/,"."+Bl(i[1])),n=n.replace(/\.(\d*)$/,function(v,y){return"."+y+vn("0",Bl(i[1]).length-y.length)}),t.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return d+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return d+um(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return s<0?"-"+Su(e,t,-s):um(""+s)+"."+vn("0",i[1].length);if(i=t.match(/^#,#*,#0/))return Su(e,t.replace(/^#,#*,/,""),s);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return n=eg(Su(e,t.replace(/[\\-]/g,""),s)),l=0,eg(eg(t.replace(/\\/g,"")).replace(/[0#]/g,function(v){return l<n.length?n.charAt(l++):v==="0"?"0":""}));if(t.match(AW))return n=Su(e,"##########",s),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var h="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(i[4].length,7),o=tw(c,Math.pow(10,l)-1,!1),n=""+d,h=zh("n",i[1],o[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),n+=h+i[2]+"/"+i[3],h=QN(o[2],l),h.length<i[4].length&&(h=Bl(i[4].substr(i[4].length-h.length))+h),n+=h,n;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(i[1].length,i[4].length),7),o=tw(c,Math.pow(10,l)-1,!0),d+(o[0]||(o[1]?"":"0"))+" "+(o[1]?JT(o[1],l)+i[2]+"/"+i[3]+QN(o[2],l):vn(" ",2*l+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return n=""+s,t.length<=n.length?n:Bl(t.substr(0,t.length-n.length))+n;if(i=t.match(/^([#0]+)\.([#0]+)$/)){n=""+s.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),l=n.indexOf(".");var m=t.indexOf(".")-l,p=t.length-n.length-m;return Bl(t.substr(0,m)+n+t.substr(t.length-p))}if(i=t.match(/^00,000\.([#0]*0)$/))return s<0?"-"+Su(e,t,-s):um(""+s).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?$d(0,3-v.length):"")+v})+"."+$d(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var x=um(""+c);return x!=="0"?d+x:"";default:if(t.match(/\.[0#?]*$/))return Su(e,t.slice(0,t.lastIndexOf(".")),s)+Bl(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function zh(e,t,s){return(s|0)===s?Su(e,t,s):Rc(e,t,s)}function fje(e){for(var t=[],s=!1,a=0,n=0;a<e.length;++a)switch(e.charCodeAt(a)){case 34:s=!s;break;case 95:case 42:case 92:++a;break;case 59:t[t.length]=e.substr(n,a-n),n=a+1}if(t[t.length]=e.substr(n),s===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var TW=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function vx(e){for(var t=0,s="",a="";t<e.length;)switch(s=e.charAt(t)){case"G":ew(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(a=s;e.charAt(t++)!=="]"&&t<e.length;)a+=e.charAt(t);if(a.match(TW))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(s=e.charAt(++t))>-1||s=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===s;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function mje(e,t,s,a){for(var n=[],i="",l=0,o="",c="t",d,h,m,p="H";l<e.length;)switch(o=e.charAt(l)){case"G":if(!ew(e,l))throw new Error("unrecognized character "+o+" in "+e);n[n.length]={t:"G",v:"General"},l+=7;break;case'"':for(i="";(m=e.charCodeAt(++l))!==34&&l<e.length;)i+=String.fromCharCode(m);n[n.length]={t:"t",v:i},++l;break;case"\\":var x=e.charAt(++l),v=x==="("||x===")"?x:"t";n[n.length]={t:v,v:x},++l;break;case"_":n[n.length]={t:"t",v:" "},l+=2;break;case"@":n[n.length]={t:"T",v:t},++l;break;case"B":case"b":if(e.charAt(l+1)==="1"||e.charAt(l+1)==="2"){if(d==null&&(d=dm(t,s,e.charAt(l+1)==="2"),d==null))return"";n[n.length]={t:"X",v:e.substr(l,2)},c=o,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||d==null&&(d=dm(t,s),d==null))return"";for(i=o;++l<e.length&&e.charAt(l).toLowerCase()===o;)i+=o;o==="m"&&c.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=p),n[n.length]={t:o,v:i},c=o;break;case"A":case"a":case"":var y={t:o,v:o};if(d==null&&(d=dm(t,s)),e.substr(l,3).toUpperCase()==="A/P"?(d!=null&&(y.v=d.H>=12?"P":"A"),y.t="T",p="h",l+=3):e.substr(l,5).toUpperCase()==="AM/PM"?(d!=null&&(y.v=d.H>=12?"PM":"AM"),y.t="T",l+=5,p="h"):e.substr(l,5).toUpperCase()==="/"?(d!=null&&(y.v=d.H>=12?"":""),y.t="T",l+=5,p="h"):(y.t="t",++l),d==null&&y.t==="T")return"";n[n.length]=y,c=o;break;case"[":for(i=o;e.charAt(l++)!=="]"&&l<e.length;)i+=e.charAt(l);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(TW)){if(d==null&&(d=dm(t,s),d==null))return"";n[n.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",vx(e)||(n[n.length]={t:"t",v:i}));break;case".":if(d!=null){for(i=o;++l<e.length&&(o=e.charAt(l))==="0";)i+=o;n[n.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++l<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(l))>-1;)i+=o;n[n.length]={t:"n",v:i};break;case"?":for(i=o;e.charAt(++l)===o;)i+=o;n[n.length]={t:o,v:i},c=o;break;case"*":++l,(e.charAt(l)==" "||e.charAt(l)=="*")&&++l;break;case"(":case")":n[n.length]={t:a===1?"t":o,v:o},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;l<e.length&&"0123456789".indexOf(e.charAt(++l))>-1;)i+=e.charAt(l);n[n.length]={t:"D",v:i};break;case" ":n[n.length]={t:o,v:o},++l;break;case"$":n[n.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);n[n.length]={t:"t",v:o},++l;break}var b=0,j=0,S;for(l=n.length-1,c="t";l>=0;--l)switch(n[l].t){case"h":case"H":n[l].t=p,c="h",b<1&&(b=1);break;case"s":(S=n[l].v.match(/\.0+$/))&&(j=Math.max(j,S[0].length-1)),b<3&&(b=3);case"d":case"y":case"M":case"e":c=n[l].t;break;case"m":c==="s"&&(n[l].t="M",b<2&&(b=2));break;case"X":break;case"Z":b<1&&n[l].v.match(/[Hh]/)&&(b=1),b<2&&n[l].v.match(/[Mm]/)&&(b=2),b<3&&n[l].v.match(/[Ss]/)&&(b=3)}switch(b){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var w="",k;for(l=0;l<n.length;++l)switch(n[l].t){case"t":case"T":case" ":case"D":break;case"X":n[l].v="",n[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":n[l].v=aje(n[l].t.charCodeAt(0),n[l].v,d,j),n[l].t="t";break;case"n":case"?":for(k=l+1;n[k]!=null&&((o=n[k].t)==="?"||o==="D"||(o===" "||o==="t")&&n[k+1]!=null&&(n[k+1].t==="?"||n[k+1].t==="t"&&n[k+1].v==="/")||n[l].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(n[k].v==="/"||n[k].v===" "&&n[k+1]!=null&&n[k+1].t=="?"));)n[l].v+=n[k].v,n[k]={v:"",t:";"},++k;w+=n[l].v,l=k-1;break;case"G":n[l].t="t",n[l].v=sx(t,s);break}var _="",O,E;if(w.length>0){w.charCodeAt(0)==40?(O=t<0&&w.charCodeAt(0)===45?-t:t,E=zh("n",w,O)):(O=t<0&&a>1?-t:t,E=zh("n",w,O),O<0&&n[0]&&n[0].t=="t"&&(E=E.substr(1),n[0].v="-"+n[0].v)),k=E.length-1;var F=n.length;for(l=0;l<n.length;++l)if(n[l]!=null&&n[l].t!="t"&&n[l].v.indexOf(".")>-1){F=l;break}var I=n.length;if(F===n.length&&E.indexOf("E")===-1){for(l=n.length-1;l>=0;--l)n[l]==null||"n?".indexOf(n[l].t)===-1||(k>=n[l].v.length-1?(k-=n[l].v.length,n[l].v=E.substr(k+1,n[l].v.length)):k<0?n[l].v="":(n[l].v=E.substr(0,k+1),k=-1),n[l].t="t",I=l);k>=0&&I<n.length&&(n[I].v=E.substr(0,k+1)+n[I].v)}else if(F!==n.length&&E.indexOf("E")===-1){for(k=E.indexOf(".")-1,l=F;l>=0;--l)if(!(n[l]==null||"n?".indexOf(n[l].t)===-1)){for(h=n[l].v.indexOf(".")>-1&&l===F?n[l].v.indexOf(".")-1:n[l].v.length-1,_=n[l].v.substr(h+1);h>=0;--h)k>=0&&(n[l].v.charAt(h)==="0"||n[l].v.charAt(h)==="#")&&(_=E.charAt(k--)+_);n[l].v=_,n[l].t="t",I=l}for(k>=0&&I<n.length&&(n[I].v=E.substr(0,k+1)+n[I].v),k=E.indexOf(".")+1,l=F;l<n.length;++l)if(!(n[l]==null||"n?(".indexOf(n[l].t)===-1&&l!==F)){for(h=n[l].v.indexOf(".")>-1&&l===F?n[l].v.indexOf(".")+1:0,_=n[l].v.substr(0,h);h<n[l].v.length;++h)k<E.length&&(_+=E.charAt(k++));n[l].v=_,n[l].t="t",I=l}}}for(l=0;l<n.length;++l)n[l]!=null&&"n?".indexOf(n[l].t)>-1&&(O=a>1&&t<0&&l>0&&n[l-1].v==="-"?-t:t,n[l].v=zh(n[l].t,n[l].v,O),n[l].t="t");var U="";for(l=0;l!==n.length;++l)n[l]!=null&&(U+=n[l].v);return U}var gL=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function vL(e,t){if(t==null)return!1;var s=parseFloat(t[2]);switch(t[1]){case"=":if(e==s)return!0;break;case">":if(e>s)return!0;break;case"<":if(e<s)return!0;break;case"<>":if(e!=s)return!0;break;case">=":if(e>=s)return!0;break;case"<=":if(e<=s)return!0;break}return!1}function xje(e,t){var s=fje(e),a=s.length,n=s[a-1].indexOf("@");if(a<4&&n>-1&&--a,s.length>4)throw new Error("cannot find right format for |"+s.join("|")+"|");if(typeof t!="number")return[4,s.length===4||n>-1?s[s.length-1]:"@"];switch(s.length){case 1:s=n>-1?["General","General","General",s[0]]:[s[0],s[0],s[0],"@"];break;case 2:s=n>-1?[s[0],s[0],s[0],s[1]]:[s[0],s[1],s[0],"@"];break;case 3:s=n>-1?[s[0],s[1],s[0],s[2]]:[s[0],s[1],s[2],"@"];break}var i=t>0?s[0]:t<0?s[1]:s[2];if(s[0].indexOf("[")===-1&&s[1].indexOf("[")===-1)return[a,i];if(s[0].match(/\[[=<>]/)!=null||s[1].match(/\[[=<>]/)!=null){var l=s[0].match(gL),o=s[1].match(gL);return vL(t,l)?[a,s[0]]:vL(t,o)?[a,s[1]]:[a,s[l!=null&&o!=null?2:1]]}return[a,i]}function uc(e,t,s){s==null&&(s={});var a="";switch(typeof e){case"string":e=="m/d/yy"&&s.dateNF?a=s.dateNF:a=e;break;case"number":e==14&&s.dateNF?a=s.dateNF:a=(s.table!=null?s.table:wr)[e],a==null&&(a=s.table&&s.table[mL[e]]||wr[mL[e]]),a==null&&(a=Z2e[e]||"General");break}if(ew(a,0))return sx(t,s);t instanceof Date&&(t=jW(t,s.date1904));var n=xje(a,t);if(ew(n[1]))return sx(t,s);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return mje(n[1],t,s,n[0])}function Du(e,t){if(typeof t!="number"){t=+t||-1;for(var s=0;s<392;++s){if(wr[s]==null){t<0&&(t=s);continue}if(wr[s]==e){t=s;break}}t<0&&(t=391)}return wr[t]=e,t}function Kb(e){for(var t=0;t!=392;++t)e[t]!==void 0&&Du(e[t],t)}function Wg(){wr=X2e()}var EW={format:uc,load:Du,_table:wr,load_table:Kb,parse_date_code:dm,is_date:vx,get_table:function(){return EW._table=wr}},pje={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},PW=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function gje(e){var t=typeof e=="number"?wr[e]:e;return t=t.replace(PW,"(\\d+)"),new RegExp("^"+t+"$")}function vje(e,t,s){var a=-1,n=-1,i=-1,l=-1,o=-1,c=-1;(t.match(PW)||[]).forEach(function(m,p){var x=parseInt(s[p+1],10);switch(m.toLowerCase().charAt(0)){case"y":a=x;break;case"d":i=x;break;case"h":l=x;break;case"s":c=x;break;case"m":l>=0?o=x:n=x;break}}),c>=0&&o==-1&&n>=0&&(o=n,n=-1);var d=(""+(a>=0?a:new Date().getFullYear())).slice(-4)+"-"+("00"+(n>=1?n:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var h=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return l==-1&&o==-1&&c==-1?d:a==-1&&n==-1&&i==-1?h:d+"T"+h}var yje=(function(){var e={};e.version="1.2.0";function t(){for(var E=0,F=new Array(256),I=0;I!=256;++I)E=I,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,F[I]=E;return typeof Int32Array<"u"?new Int32Array(F):F}var s=t();function a(E){var F=0,I=0,U=0,M=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(U=0;U!=256;++U)M[U]=E[U];for(U=0;U!=256;++U)for(I=E[U],F=256+U;F<4096;F+=256)I=M[F]=I>>>8^E[I&255];var L=[];for(U=1;U!=16;++U)L[U-1]=typeof Int32Array<"u"?M.subarray(U*256,U*256+256):M.slice(U*256,U*256+256);return L}var n=a(s),i=n[0],l=n[1],o=n[2],c=n[3],d=n[4],h=n[5],m=n[6],p=n[7],x=n[8],v=n[9],y=n[10],b=n[11],j=n[12],S=n[13],w=n[14];function k(E,F){for(var I=F^-1,U=0,M=E.length;U<M;)I=I>>>8^s[(I^E.charCodeAt(U++))&255];return~I}function _(E,F){for(var I=F^-1,U=E.length-15,M=0;M<U;)I=w[E[M++]^I&255]^S[E[M++]^I>>8&255]^j[E[M++]^I>>16&255]^b[E[M++]^I>>>24]^y[E[M++]]^v[E[M++]]^x[E[M++]]^p[E[M++]]^m[E[M++]]^h[E[M++]]^d[E[M++]]^c[E[M++]]^o[E[M++]]^l[E[M++]]^i[E[M++]]^s[E[M++]];for(U+=15;M<U;)I=I>>>8^s[(I^E[M++])&255];return~I}function O(E,F){for(var I=F^-1,U=0,M=E.length,L=0,J=0;U<M;)L=E.charCodeAt(U++),L<128?I=I>>>8^s[(I^L)&255]:L<2048?(I=I>>>8^s[(I^(192|L>>6&31))&255],I=I>>>8^s[(I^(128|L&63))&255]):L>=55296&&L<57344?(L=(L&1023)+64,J=E.charCodeAt(U++)&1023,I=I>>>8^s[(I^(240|L>>8&7))&255],I=I>>>8^s[(I^(128|L>>2&63))&255],I=I>>>8^s[(I^(128|J>>6&15|(L&3)<<4))&255],I=I>>>8^s[(I^(128|J&63))&255]):(I=I>>>8^s[(I^(224|L>>12&15))&255],I=I>>>8^s[(I^(128|L>>6&63))&255],I=I>>>8^s[(I^(128|L&63))&255]);return~I}return e.table=s,e.bstr=k,e.buf=_,e.str=O,e})(),xr=(function(){var t={};t.version="1.2.1";function s(ce,Te){for(var be=ce.split("/"),je=Te.split("/"),ke=0,Pe=0,Ke=Math.min(be.length,je.length);ke<Ke;++ke){if(Pe=be[ke].length-je[ke].length)return Pe;if(be[ke]!=je[ke])return be[ke]<je[ke]?-1:1}return be.length-je.length}function a(ce){if(ce.charAt(ce.length-1)=="/")return ce.slice(0,-1).indexOf("/")===-1?ce:a(ce.slice(0,-1));var Te=ce.lastIndexOf("/");return Te===-1?ce:ce.slice(0,Te+1)}function n(ce){if(ce.charAt(ce.length-1)=="/")return n(ce.slice(0,-1));var Te=ce.lastIndexOf("/");return Te===-1?ce:ce.slice(Te+1)}function i(ce,Te){typeof Te=="string"&&(Te=new Date(Te));var be=Te.getHours();be=be<<6|Te.getMinutes(),be=be<<5|Te.getSeconds()>>>1,ce.write_shift(2,be);var je=Te.getFullYear()-1980;je=je<<4|Te.getMonth()+1,je=je<<5|Te.getDate(),ce.write_shift(2,je)}function l(ce){var Te=ce.read_shift(2)&65535,be=ce.read_shift(2)&65535,je=new Date,ke=be&31;be>>>=5;var Pe=be&15;be>>>=4,je.setMilliseconds(0),je.setFullYear(be+1980),je.setMonth(Pe-1),je.setDate(ke);var Ke=Te&31;Te>>>=5;var ht=Te&63;return Te>>>=6,je.setHours(Te),je.setMinutes(ht),je.setSeconds(Ke<<1),je}function o(ce){tl(ce,0);for(var Te={},be=0;ce.l<=ce.length-4;){var je=ce.read_shift(2),ke=ce.read_shift(2),Pe=ce.l+ke,Ke={};je===21589&&(be=ce.read_shift(1),be&1&&(Ke.mtime=ce.read_shift(4)),ke>5&&(be&2&&(Ke.atime=ce.read_shift(4)),be&4&&(Ke.ctime=ce.read_shift(4))),Ke.mtime&&(Ke.mt=new Date(Ke.mtime*1e3))),ce.l=Pe,Te[je]=Ke}return Te}var c;function d(){return c||(c={})}function h(ce,Te){if(ce[0]==80&&ce[1]==75)return Sr(ce,Te);if((ce[0]|32)==109&&(ce[1]|32)==105)return hr(ce,Te);if(ce.length<512)throw new Error("CFB file size "+ce.length+" < 512");var be=3,je=512,ke=0,Pe=0,Ke=0,ht=0,Ze=0,Je=[],rt=ce.slice(0,512);tl(rt,0);var Dt=m(rt);switch(be=Dt[0],be){case 3:je=512;break;case 4:je=4096;break;case 0:if(Dt[1]==0)return Sr(ce,Te);default:throw new Error("Major Version: Expected 3 or 4 saw "+be)}je!==512&&(rt=ce.slice(0,je),tl(rt,28));var Ft=ce.slice(0,je);p(rt,be);var Ht=rt.read_shift(4,"i");if(be===3&&Ht!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ht);rt.l+=4,Ke=rt.read_shift(4,"i"),rt.l+=4,rt.chk("00100000","Mini Stream Cutoff Size: "),ht=rt.read_shift(4,"i"),ke=rt.read_shift(4,"i"),Ze=rt.read_shift(4,"i"),Pe=rt.read_shift(4,"i");for(var Mt=-1,It=0;It<109&&(Mt=rt.read_shift(4,"i"),!(Mt<0));++It)Je[It]=Mt;var Yt=x(ce,je);b(Ze,Pe,Yt,je,Je);var Ls=S(Yt,Ke,Je,je);Ls[Ke].name="!Directory",ke>0&&ht!==J&&(Ls[ht].name="!MiniFAT"),Ls[Je[0]].name="!FAT",Ls.fat_addrs=Je,Ls.ssz=je;var ts={},$s=[],Hi=[],Oo=[];w(Ke,Ls,Yt,$s,ke,ts,Hi,ht),v(Hi,Oo,$s),$s.shift();var Do={FileIndex:Hi,FullPaths:Oo};return Te&&Te.raw&&(Do.raw={header:Ft,sectors:Yt}),Do}function m(ce){if(ce[ce.l]==80&&ce[ce.l+1]==75)return[0,0];ce.chk(K,"Header Signature: "),ce.l+=16;var Te=ce.read_shift(2,"u");return[ce.read_shift(2,"u"),Te]}function p(ce,Te){var be=9;switch(ce.l+=2,be=ce.read_shift(2)){case 9:if(Te!=3)throw new Error("Sector Shift: Expected 9 saw "+be);break;case 12:if(Te!=4)throw new Error("Sector Shift: Expected 12 saw "+be);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+be)}ce.chk("0600","Mini Sector Shift: "),ce.chk("000000000000","Reserved: ")}function x(ce,Te){for(var be=Math.ceil(ce.length/Te)-1,je=[],ke=1;ke<be;++ke)je[ke-1]=ce.slice(ke*Te,(ke+1)*Te);return je[be-1]=ce.slice(be*Te),je}function v(ce,Te,be){for(var je=0,ke=0,Pe=0,Ke=0,ht=0,Ze=be.length,Je=[],rt=[];je<Ze;++je)Je[je]=rt[je]=je,Te[je]=be[je];for(;ht<rt.length;++ht)je=rt[ht],ke=ce[je].L,Pe=ce[je].R,Ke=ce[je].C,Je[je]===je&&(ke!==-1&&Je[ke]!==ke&&(Je[je]=Je[ke]),Pe!==-1&&Je[Pe]!==Pe&&(Je[je]=Je[Pe])),Ke!==-1&&(Je[Ke]=je),ke!==-1&&je!=Je[je]&&(Je[ke]=Je[je],rt.lastIndexOf(ke)<ht&&rt.push(ke)),Pe!==-1&&je!=Je[je]&&(Je[Pe]=Je[je],rt.lastIndexOf(Pe)<ht&&rt.push(Pe));for(je=1;je<Ze;++je)Je[je]===je&&(Pe!==-1&&Je[Pe]!==Pe?Je[je]=Je[Pe]:ke!==-1&&Je[ke]!==ke&&(Je[je]=Je[ke]));for(je=1;je<Ze;++je)if(ce[je].type!==0){if(ht=je,ht!=Je[ht])do ht=Je[ht],Te[je]=Te[ht]+"/"+Te[je];while(ht!==0&&Je[ht]!==-1&&ht!=Je[ht]);Je[je]=-1}for(Te[0]+="/",je=1;je<Ze;++je)ce[je].type!==2&&(Te[je]+="/")}function y(ce,Te,be){for(var je=ce.start,ke=ce.size,Pe=[],Ke=je;be&&ke>0&&Ke>=0;)Pe.push(Te.slice(Ke*L,Ke*L+L)),ke-=L,Ke=j0(be,Ke*4);return Pe.length===0?vt(0):Mi(Pe).slice(0,ce.size)}function b(ce,Te,be,je,ke){var Pe=J;if(ce===J){if(Te!==0)throw new Error("DIFAT chain shorter than expected")}else if(ce!==-1){var Ke=be[ce],ht=(je>>>2)-1;if(!Ke)return;for(var Ze=0;Ze<ht&&(Pe=j0(Ke,Ze*4))!==J;++Ze)ke.push(Pe);b(j0(Ke,je-4),Te-1,be,je,ke)}}function j(ce,Te,be,je,ke){var Pe=[],Ke=[];ke||(ke=[]);var ht=je-1,Ze=0,Je=0;for(Ze=Te;Ze>=0;){ke[Ze]=!0,Pe[Pe.length]=Ze,Ke.push(ce[Ze]);var rt=be[Math.floor(Ze*4/je)];if(Je=Ze*4&ht,je<4+Je)throw new Error("FAT boundary crossed: "+Ze+" 4 "+je);if(!ce[rt])break;Ze=j0(ce[rt],Je)}return{nodes:Pe,data:EL([Ke])}}function S(ce,Te,be,je){var ke=ce.length,Pe=[],Ke=[],ht=[],Ze=[],Je=je-1,rt=0,Dt=0,Ft=0,Ht=0;for(rt=0;rt<ke;++rt)if(ht=[],Ft=rt+Te,Ft>=ke&&(Ft-=ke),!Ke[Ft]){Ze=[];var Mt=[];for(Dt=Ft;Dt>=0;){Mt[Dt]=!0,Ke[Dt]=!0,ht[ht.length]=Dt,Ze.push(ce[Dt]);var It=be[Math.floor(Dt*4/je)];if(Ht=Dt*4&Je,je<4+Ht)throw new Error("FAT boundary crossed: "+Dt+" 4 "+je);if(!ce[It]||(Dt=j0(ce[It],Ht),Mt[Dt]))break}Pe[Ft]={nodes:ht,data:EL([Ze])}}return Pe}function w(ce,Te,be,je,ke,Pe,Ke,ht){for(var Ze=0,Je=je.length?2:0,rt=Te[ce].data,Dt=0,Ft=0,Ht;Dt<rt.length;Dt+=128){var Mt=rt.slice(Dt,Dt+128);tl(Mt,64),Ft=Mt.read_shift(2),Ht=z5(Mt,0,Ft-Je),je.push(Ht);var It={name:Ht,type:Mt.read_shift(1),color:Mt.read_shift(1),L:Mt.read_shift(4,"i"),R:Mt.read_shift(4,"i"),C:Mt.read_shift(4,"i"),clsid:Mt.read_shift(16),state:Mt.read_shift(4,"i"),start:0,size:0},Yt=Mt.read_shift(2)+Mt.read_shift(2)+Mt.read_shift(2)+Mt.read_shift(2);Yt!==0&&(It.ct=k(Mt,Mt.l-8));var Ls=Mt.read_shift(2)+Mt.read_shift(2)+Mt.read_shift(2)+Mt.read_shift(2);Ls!==0&&(It.mt=k(Mt,Mt.l-8)),It.start=Mt.read_shift(4,"i"),It.size=Mt.read_shift(4,"i"),It.size<0&&It.start<0&&(It.size=It.type=0,It.start=J,It.name=""),It.type===5?(Ze=It.start,ke>0&&Ze!==J&&(Te[Ze].name="!StreamData")):It.size>=4096?(It.storage="fat",Te[It.start]===void 0&&(Te[It.start]=j(be,It.start,Te.fat_addrs,Te.ssz)),Te[It.start].name=It.name,It.content=Te[It.start].data.slice(0,It.size)):(It.storage="minifat",It.size<0?It.size=0:Ze!==J&&It.start!==J&&Te[Ze]&&(It.content=y(It,Te[Ze].data,(Te[ht]||{}).data))),It.content&&tl(It.content,0),Pe[Ht]=It,Ke.push(It)}}function k(ce,Te){return new Date((Ri(ce,Te+4)/1e7*Math.pow(2,32)+Ri(ce,Te)/1e7-11644473600)*1e3)}function _(ce,Te){return d(),h(c.readFileSync(ce),Te)}function O(ce,Te){var be=Te&&Te.type;switch(be||rs&&Buffer.isBuffer(ce)&&(be="buffer"),be||"base64"){case"file":return _(ce,Te);case"base64":return h(Zo(dc(ce)),Te);case"binary":return h(Zo(ce),Te)}return h(ce,Te)}function E(ce,Te){var be=Te||{},je=be.root||"Root Entry";if(ce.FullPaths||(ce.FullPaths=[]),ce.FileIndex||(ce.FileIndex=[]),ce.FullPaths.length!==ce.FileIndex.length)throw new Error("inconsistent CFB structure");ce.FullPaths.length===0&&(ce.FullPaths[0]=je+"/",ce.FileIndex[0]={name:je,type:5}),be.CLSID&&(ce.FileIndex[0].clsid=be.CLSID),F(ce)}function F(ce){var Te="Sh33tJ5";if(!xr.find(ce,"/"+Te)){var be=vt(4);be[0]=55,be[1]=be[3]=50,be[2]=54,ce.FileIndex.push({name:Te,type:2,content:be,size:4,L:69,R:69,C:69}),ce.FullPaths.push(ce.FullPaths[0]+Te),I(ce)}}function I(ce,Te){E(ce);for(var be=!1,je=!1,ke=ce.FullPaths.length-1;ke>=0;--ke){var Pe=ce.FileIndex[ke];switch(Pe.type){case 0:je?be=!0:(ce.FileIndex.pop(),ce.FullPaths.pop());break;case 1:case 2:case 5:je=!0,isNaN(Pe.R*Pe.L*Pe.C)&&(be=!0),Pe.R>-1&&Pe.L>-1&&Pe.R==Pe.L&&(be=!0);break;default:be=!0;break}}if(!(!be&&!Te)){var Ke=new Date(1987,1,19),ht=0,Ze=Object.create?Object.create(null):{},Je=[];for(ke=0;ke<ce.FullPaths.length;++ke)Ze[ce.FullPaths[ke]]=!0,ce.FileIndex[ke].type!==0&&Je.push([ce.FullPaths[ke],ce.FileIndex[ke]]);for(ke=0;ke<Je.length;++ke){var rt=a(Je[ke][0]);je=Ze[rt],je||(Je.push([rt,{name:n(rt).replace("/",""),type:1,clsid:V,ct:Ke,mt:Ke,content:null}]),Ze[rt]=!0)}for(Je.sort(function(Ht,Mt){return s(Ht[0],Mt[0])}),ce.FullPaths=[],ce.FileIndex=[],ke=0;ke<Je.length;++ke)ce.FullPaths[ke]=Je[ke][0],ce.FileIndex[ke]=Je[ke][1];for(ke=0;ke<Je.length;++ke){var Dt=ce.FileIndex[ke],Ft=ce.FullPaths[ke];if(Dt.name=n(Ft).replace("/",""),Dt.L=Dt.R=Dt.C=-(Dt.color=1),Dt.size=Dt.content?Dt.content.length:0,Dt.start=0,Dt.clsid=Dt.clsid||V,ke===0)Dt.C=Je.length>1?1:-1,Dt.size=0,Dt.type=5;else if(Ft.slice(-1)=="/"){for(ht=ke+1;ht<Je.length&&a(ce.FullPaths[ht])!=Ft;++ht);for(Dt.C=ht>=Je.length?-1:ht,ht=ke+1;ht<Je.length&&a(ce.FullPaths[ht])!=a(Ft);++ht);Dt.R=ht>=Je.length?-1:ht,Dt.type=1}else a(ce.FullPaths[ke+1]||"")==a(Ft)&&(Dt.R=ke+1),Dt.type=2}}}function U(ce,Te){var be=Te||{};if(be.fileType=="mad")return Po(ce,be);if(I(ce),be.fileType==="zip")return Rr(ce,be);var je=(function(Ht){for(var Mt=0,It=0,Yt=0;Yt<Ht.FileIndex.length;++Yt){var Ls=Ht.FileIndex[Yt];if(Ls.content){var ts=Ls.content.length;ts>0&&(ts<4096?Mt+=ts+63>>6:It+=ts+511>>9)}}for(var $s=Ht.FullPaths.length+3>>2,Hi=Mt+7>>3,Oo=Mt+127>>7,Do=Hi+It+$s+Oo,Pl=Do+127>>7,tu=Pl<=109?0:Math.ceil((Pl-109)/127);Do+Pl+tu+127>>7>Pl;)tu=++Pl<=109?0:Math.ceil((Pl-109)/127);var Aa=[1,tu,Pl,Oo,$s,It,Mt,0];return Ht.FileIndex[0].size=Mt<<6,Aa[7]=(Ht.FileIndex[0].start=Aa[0]+Aa[1]+Aa[2]+Aa[3]+Aa[4]+Aa[5])+(Aa[6]+7>>3),Aa})(ce),ke=vt(je[7]<<9),Pe=0,Ke=0;{for(Pe=0;Pe<8;++Pe)ke.write_shift(1,ae[Pe]);for(Pe=0;Pe<8;++Pe)ke.write_shift(2,0);for(ke.write_shift(2,62),ke.write_shift(2,3),ke.write_shift(2,65534),ke.write_shift(2,9),ke.write_shift(2,6),Pe=0;Pe<3;++Pe)ke.write_shift(2,0);for(ke.write_shift(4,0),ke.write_shift(4,je[2]),ke.write_shift(4,je[0]+je[1]+je[2]+je[3]-1),ke.write_shift(4,0),ke.write_shift(4,4096),ke.write_shift(4,je[3]?je[0]+je[1]+je[2]-1:J),ke.write_shift(4,je[3]),ke.write_shift(-4,je[1]?je[0]-1:J),ke.write_shift(4,je[1]),Pe=0;Pe<109;++Pe)ke.write_shift(-4,Pe<je[2]?je[1]+Pe:-1)}if(je[1])for(Ke=0;Ke<je[1];++Ke){for(;Pe<236+Ke*127;++Pe)ke.write_shift(-4,Pe<je[2]?je[1]+Pe:-1);ke.write_shift(-4,Ke===je[1]-1?J:Ke+1)}var ht=function(Ht){for(Ke+=Ht;Pe<Ke-1;++Pe)ke.write_shift(-4,Pe+1);Ht&&(++Pe,ke.write_shift(-4,J))};for(Ke=Pe=0,Ke+=je[1];Pe<Ke;++Pe)ke.write_shift(-4,re.DIFSECT);for(Ke+=je[2];Pe<Ke;++Pe)ke.write_shift(-4,re.FATSECT);ht(je[3]),ht(je[4]);for(var Ze=0,Je=0,rt=ce.FileIndex[0];Ze<ce.FileIndex.length;++Ze)rt=ce.FileIndex[Ze],rt.content&&(Je=rt.content.length,!(Je<4096)&&(rt.start=Ke,ht(Je+511>>9)));for(ht(je[6]+7>>3);ke.l&511;)ke.write_shift(-4,re.ENDOFCHAIN);for(Ke=Pe=0,Ze=0;Ze<ce.FileIndex.length;++Ze)rt=ce.FileIndex[Ze],rt.content&&(Je=rt.content.length,!(!Je||Je>=4096)&&(rt.start=Ke,ht(Je+63>>6)));for(;ke.l&511;)ke.write_shift(-4,re.ENDOFCHAIN);for(Pe=0;Pe<je[4]<<2;++Pe){var Dt=ce.FullPaths[Pe];if(!Dt||Dt.length===0){for(Ze=0;Ze<17;++Ze)ke.write_shift(4,0);for(Ze=0;Ze<3;++Ze)ke.write_shift(4,-1);for(Ze=0;Ze<12;++Ze)ke.write_shift(4,0);continue}rt=ce.FileIndex[Pe],Pe===0&&(rt.start=rt.size?rt.start-1:J);var Ft=Pe===0&&be.root||rt.name;if(Je=2*(Ft.length+1),ke.write_shift(64,Ft,"utf16le"),ke.write_shift(2,Je),ke.write_shift(1,rt.type),ke.write_shift(1,rt.color),ke.write_shift(-4,rt.L),ke.write_shift(-4,rt.R),ke.write_shift(-4,rt.C),rt.clsid)ke.write_shift(16,rt.clsid,"hex");else for(Ze=0;Ze<4;++Ze)ke.write_shift(4,0);ke.write_shift(4,rt.state||0),ke.write_shift(4,0),ke.write_shift(4,0),ke.write_shift(4,0),ke.write_shift(4,0),ke.write_shift(4,rt.start),ke.write_shift(4,rt.size),ke.write_shift(4,0)}for(Pe=1;Pe<ce.FileIndex.length;++Pe)if(rt=ce.FileIndex[Pe],rt.size>=4096)if(ke.l=rt.start+1<<9,rs&&Buffer.isBuffer(rt.content))rt.content.copy(ke,ke.l,0,rt.size),ke.l+=rt.size+511&-512;else{for(Ze=0;Ze<rt.size;++Ze)ke.write_shift(1,rt.content[Ze]);for(;Ze&511;++Ze)ke.write_shift(1,0)}for(Pe=1;Pe<ce.FileIndex.length;++Pe)if(rt=ce.FileIndex[Pe],rt.size>0&&rt.size<4096)if(rs&&Buffer.isBuffer(rt.content))rt.content.copy(ke,ke.l,0,rt.size),ke.l+=rt.size+63&-64;else{for(Ze=0;Ze<rt.size;++Ze)ke.write_shift(1,rt.content[Ze]);for(;Ze&63;++Ze)ke.write_shift(1,0)}if(rs)ke.l=ke.length;else for(;ke.l<ke.length;)ke.write_shift(1,0);return ke}function M(ce,Te){var be=ce.FullPaths.map(function(Ze){return Ze.toUpperCase()}),je=be.map(function(Ze){var Je=Ze.split("/");return Je[Je.length-(Ze.slice(-1)=="/"?2:1)]}),ke=!1;Te.charCodeAt(0)===47?(ke=!0,Te=be[0].slice(0,-1)+Te):ke=Te.indexOf("/")!==-1;var Pe=Te.toUpperCase(),Ke=ke===!0?be.indexOf(Pe):je.indexOf(Pe);if(Ke!==-1)return ce.FileIndex[Ke];var ht=!Pe.match(uy);for(Pe=Pe.replace(_l,""),ht&&(Pe=Pe.replace(uy,"!")),Ke=0;Ke<be.length;++Ke)if((ht?be[Ke].replace(uy,"!"):be[Ke]).replace(_l,"")==Pe||(ht?je[Ke].replace(uy,"!"):je[Ke]).replace(_l,"")==Pe)return ce.FileIndex[Ke];return null}var L=64,J=-2,K="d0cf11e0a1b11ae1",ae=[208,207,17,224,161,177,26,225],V="00000000000000000000000000000000",re={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:J,FREESECT:-1,HEADER_SIGNATURE:K,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:V,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function X(ce,Te,be){d();var je=U(ce,be);c.writeFileSync(Te,je)}function Z(ce){for(var Te=new Array(ce.length),be=0;be<ce.length;++be)Te[be]=String.fromCharCode(ce[be]);return Te.join("")}function ye(ce,Te){var be=U(ce,Te);switch(Te&&Te.type||"buffer"){case"file":return d(),c.writeFileSync(Te.filename,be),be;case"binary":return typeof be=="string"?be:Z(be);case"base64":return Qy(typeof be=="string"?be:Z(be));case"buffer":if(rs)return Buffer.isBuffer(be)?be:ff(be);case"array":return typeof be=="string"?Zo(be):be}return be}var te;function D(ce){try{var Te=ce.InflateRaw,be=new Te;if(be._processChunk(new Uint8Array([3,0]),be._finishFlushFlag),be.bytesRead)te=ce;else throw new Error("zlib does not expose bytesRead")}catch(je){console.error("cannot use native zlib: "+(je.message||je))}}function H(ce,Te){if(!te)return Ns(ce,Te);var be=te.InflateRaw,je=new be,ke=je._processChunk(ce.slice(ce.l),je._finishFlushFlag);return ce.l+=je.bytesRead,ke}function q(ce){return te?te.deflateRawSync(ce):At(ce)}var W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],G=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],fe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Se(ce){var Te=(ce<<1|ce<<11)&139536|(ce<<5|ce<<15)&558144;return(Te>>16|Te>>8|Te)&255}for(var se=typeof Uint8Array<"u",ge=se?new Uint8Array(256):[],Be=0;Be<256;++Be)ge[Be]=Se(Be);function ee(ce,Te){var be=ge[ce&255];return Te<=8?be>>>8-Te:(be=be<<8|ge[ce>>8&255],Te<=16?be>>>16-Te:(be=be<<8|ge[ce>>16&255],be>>>24-Te))}function at(ce,Te){var be=Te&7,je=Te>>>3;return(ce[je]|(be<=6?0:ce[je+1]<<8))>>>be&3}function nt(ce,Te){var be=Te&7,je=Te>>>3;return(ce[je]|(be<=5?0:ce[je+1]<<8))>>>be&7}function xe(ce,Te){var be=Te&7,je=Te>>>3;return(ce[je]|(be<=4?0:ce[je+1]<<8))>>>be&15}function ot(ce,Te){var be=Te&7,je=Te>>>3;return(ce[je]|(be<=3?0:ce[je+1]<<8))>>>be&31}function ut(ce,Te){var be=Te&7,je=Te>>>3;return(ce[je]|(be<=1?0:ce[je+1]<<8))>>>be&127}function Re(ce,Te,be){var je=Te&7,ke=Te>>>3,Pe=(1<<be)-1,Ke=ce[ke]>>>je;return be<8-je||(Ke|=ce[ke+1]<<8-je,be<16-je)||(Ke|=ce[ke+2]<<16-je,be<24-je)||(Ke|=ce[ke+3]<<24-je),Ke&Pe}function Ge(ce,Te,be){var je=Te&7,ke=Te>>>3;return je<=5?ce[ke]|=(be&7)<<je:(ce[ke]|=be<<je&255,ce[ke+1]=(be&7)>>8-je),Te+3}function qt(ce,Te,be){var je=Te&7,ke=Te>>>3;return be=(be&1)<<je,ce[ke]|=be,Te+1}function we(ce,Te,be){var je=Te&7,ke=Te>>>3;return be<<=je,ce[ke]|=be&255,be>>>=8,ce[ke+1]=be,Te+8}function _e(ce,Te,be){var je=Te&7,ke=Te>>>3;return be<<=je,ce[ke]|=be&255,be>>>=8,ce[ke+1]=be&255,ce[ke+2]=be>>>8,Te+16}function ne(ce,Te){var be=ce.length,je=2*be>Te?2*be:Te+5,ke=0;if(be>=Te)return ce;if(rs){var Pe=uL(je);if(ce.copy)ce.copy(Pe);else for(;ke<ce.length;++ke)Pe[ke]=ce[ke];return Pe}else if(se){var Ke=new Uint8Array(je);if(Ke.set)Ke.set(ce);else for(;ke<be;++ke)Ke[ke]=ce[ke];return Ke}return ce.length=je,ce}function Oe(ce){for(var Te=new Array(ce),be=0;be<ce;++be)Te[be]=0;return Te}function Me(ce,Te,be){var je=1,ke=0,Pe=0,Ke=0,ht=0,Ze=ce.length,Je=se?new Uint16Array(32):Oe(32);for(Pe=0;Pe<32;++Pe)Je[Pe]=0;for(Pe=Ze;Pe<be;++Pe)ce[Pe]=0;Ze=ce.length;var rt=se?new Uint16Array(Ze):Oe(Ze);for(Pe=0;Pe<Ze;++Pe)Je[ke=ce[Pe]]++,je<ke&&(je=ke),rt[Pe]=0;for(Je[0]=0,Pe=1;Pe<=je;++Pe)Je[Pe+16]=ht=ht+Je[Pe-1]<<1;for(Pe=0;Pe<Ze;++Pe)ht=ce[Pe],ht!=0&&(rt[Pe]=Je[ht+16]++);var Dt=0;for(Pe=0;Pe<Ze;++Pe)if(Dt=ce[Pe],Dt!=0)for(ht=ee(rt[Pe],je)>>je-Dt,Ke=(1<<je+4-Dt)-1;Ke>=0;--Ke)Te[ht|Ke<<Dt]=Dt&15|Pe<<4;return je}var De=se?new Uint16Array(512):Oe(512),He=se?new Uint16Array(32):Oe(32);if(!se){for(var mt=0;mt<512;++mt)De[mt]=0;for(mt=0;mt<32;++mt)He[mt]=0}(function(){for(var ce=[],Te=0;Te<32;Te++)ce.push(5);Me(ce,He,32);var be=[];for(Te=0;Te<=143;Te++)be.push(8);for(;Te<=255;Te++)be.push(9);for(;Te<=279;Te++)be.push(7);for(;Te<=287;Te++)be.push(8);Me(be,De,288)})();var xt=(function(){for(var Te=se?new Uint8Array(32768):[],be=0,je=0;be<fe.length-1;++be)for(;je<fe[be+1];++je)Te[je]=be;for(;je<32768;++je)Te[je]=29;var ke=se?new Uint8Array(259):[];for(be=0,je=0;be<G.length-1;++be)for(;je<G[be+1];++je)ke[je]=be;function Pe(ht,Ze){for(var Je=0;Je<ht.length;){var rt=Math.min(65535,ht.length-Je),Dt=Je+rt==ht.length;for(Ze.write_shift(1,+Dt),Ze.write_shift(2,rt),Ze.write_shift(2,~rt&65535);rt-- >0;)Ze[Ze.l++]=ht[Je++]}return Ze.l}function Ke(ht,Ze){for(var Je=0,rt=0,Dt=se?new Uint16Array(32768):[];rt<ht.length;){var Ft=Math.min(65535,ht.length-rt);if(Ft<10){for(Je=Ge(Ze,Je,+(rt+Ft==ht.length)),Je&7&&(Je+=8-(Je&7)),Ze.l=Je/8|0,Ze.write_shift(2,Ft),Ze.write_shift(2,~Ft&65535);Ft-- >0;)Ze[Ze.l++]=ht[rt++];Je=Ze.l*8;continue}Je=Ge(Ze,Je,+(rt+Ft==ht.length)+2);for(var Ht=0;Ft-- >0;){var Mt=ht[rt];Ht=(Ht<<5^Mt)&32767;var It=-1,Yt=0;if((It=Dt[Ht])&&(It|=rt&-32768,It>rt&&(It-=32768),It<rt))for(;ht[It+Yt]==ht[rt+Yt]&&Yt<250;)++Yt;if(Yt>2){Mt=ke[Yt],Mt<=22?Je=we(Ze,Je,ge[Mt+1]>>1)-1:(we(Ze,Je,3),Je+=5,we(Ze,Je,ge[Mt-23]>>5),Je+=3);var Ls=Mt<8?0:Mt-4>>2;Ls>0&&(_e(Ze,Je,Yt-G[Mt]),Je+=Ls),Mt=Te[rt-It],Je=we(Ze,Je,ge[Mt]>>3),Je-=3;var ts=Mt<4?0:Mt-2>>1;ts>0&&(_e(Ze,Je,rt-It-fe[Mt]),Je+=ts);for(var $s=0;$s<Yt;++$s)Dt[Ht]=rt&32767,Ht=(Ht<<5^ht[rt])&32767,++rt;Ft-=Yt-1}else Mt<=143?Mt=Mt+48:Je=qt(Ze,Je,1),Je=we(Ze,Je,ge[Mt]),Dt[Ht]=rt&32767,++rt}Je=we(Ze,Je,0)-1}return Ze.l=(Je+7)/8|0,Ze.l}return function(Ze,Je){return Ze.length<8?Pe(Ze,Je):Ke(Ze,Je)}})();function At(ce){var Te=vt(50+Math.floor(ce.length*1.1)),be=xt(ce,Te);return Te.slice(0,be)}var Ot=se?new Uint16Array(32768):Oe(32768),br=se?new Uint16Array(32768):Oe(32768),Jt=se?new Uint16Array(128):Oe(128),Vt=1,pr=1;function Hr(ce,Te){var be=ot(ce,Te)+257;Te+=5;var je=ot(ce,Te)+1;Te+=5;var ke=xe(ce,Te)+4;Te+=4;for(var Pe=0,Ke=se?new Uint8Array(19):Oe(19),ht=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ze=1,Je=se?new Uint8Array(8):Oe(8),rt=se?new Uint8Array(8):Oe(8),Dt=Ke.length,Ft=0;Ft<ke;++Ft)Ke[W[Ft]]=Pe=nt(ce,Te),Ze<Pe&&(Ze=Pe),Je[Pe]++,Te+=3;var Ht=0;for(Je[0]=0,Ft=1;Ft<=Ze;++Ft)rt[Ft]=Ht=Ht+Je[Ft-1]<<1;for(Ft=0;Ft<Dt;++Ft)(Ht=Ke[Ft])!=0&&(ht[Ft]=rt[Ht]++);var Mt=0;for(Ft=0;Ft<Dt;++Ft)if(Mt=Ke[Ft],Mt!=0){Ht=ge[ht[Ft]]>>8-Mt;for(var It=(1<<7-Mt)-1;It>=0;--It)Jt[Ht|It<<Mt]=Mt&7|Ft<<3}var Yt=[];for(Ze=1;Yt.length<be+je;)switch(Ht=Jt[ut(ce,Te)],Te+=Ht&7,Ht>>>=3){case 16:for(Pe=3+at(ce,Te),Te+=2,Ht=Yt[Yt.length-1];Pe-- >0;)Yt.push(Ht);break;case 17:for(Pe=3+nt(ce,Te),Te+=3;Pe-- >0;)Yt.push(0);break;case 18:for(Pe=11+ut(ce,Te),Te+=7;Pe-- >0;)Yt.push(0);break;default:Yt.push(Ht),Ze<Ht&&(Ze=Ht);break}var Ls=Yt.slice(0,be),ts=Yt.slice(be);for(Ft=be;Ft<286;++Ft)Ls[Ft]=0;for(Ft=je;Ft<30;++Ft)ts[Ft]=0;return Vt=Me(Ls,Ot,286),pr=Me(ts,br,30),Te}function cr(ce,Te){if(ce[0]==3&&!(ce[1]&3))return[Sm(Te),2];for(var be=0,je=0,ke=uL(Te||1<<18),Pe=0,Ke=ke.length>>>0,ht=0,Ze=0;(je&1)==0;){if(je=nt(ce,be),be+=3,je>>>1)je>>1==1?(ht=9,Ze=5):(be=Hr(ce,be),ht=Vt,Ze=pr);else{be&7&&(be+=8-(be&7));var Je=ce[be>>>3]|ce[(be>>>3)+1]<<8;if(be+=32,Je>0)for(!Te&&Ke<Pe+Je&&(ke=ne(ke,Pe+Je),Ke=ke.length);Je-- >0;)ke[Pe++]=ce[be>>>3],be+=8;continue}for(;;){!Te&&Ke<Pe+32767&&(ke=ne(ke,Pe+32767),Ke=ke.length);var rt=Re(ce,be,ht),Dt=je>>>1==1?De[rt]:Ot[rt];if(be+=Dt&15,Dt>>>=4,(Dt>>>8&255)===0)ke[Pe++]=Dt;else{if(Dt==256)break;Dt-=257;var Ft=Dt<8?0:Dt-4>>2;Ft>5&&(Ft=0);var Ht=Pe+G[Dt];Ft>0&&(Ht+=Re(ce,be,Ft),be+=Ft),rt=Re(ce,be,Ze),Dt=je>>>1==1?He[rt]:br[rt],be+=Dt&15,Dt>>>=4;var Mt=Dt<4?0:Dt-2>>1,It=fe[Dt];for(Mt>0&&(It+=Re(ce,be,Mt),be+=Mt),!Te&&Ke<Ht&&(ke=ne(ke,Ht+100),Ke=ke.length);Pe<Ht;)ke[Pe]=ke[Pe-It],++Pe}}}return Te?[ke,be+7>>>3]:[ke.slice(0,Pe),be+7>>>3]}function Ns(ce,Te){var be=ce.slice(ce.l||0),je=cr(be,Te);return ce.l+=je[1],je[0]}function fr(ce,Te){if(ce)typeof console<"u"&&console.error(Te);else throw new Error(Te)}function Sr(ce,Te){var be=ce;tl(be,0);var je=[],ke=[],Pe={FileIndex:je,FullPaths:ke};E(Pe,{root:Te.root});for(var Ke=be.length-4;(be[Ke]!=80||be[Ke+1]!=75||be[Ke+2]!=5||be[Ke+3]!=6)&&Ke>=0;)--Ke;be.l=Ke+4,be.l+=4;var ht=be.read_shift(2);be.l+=6;var Ze=be.read_shift(4);for(be.l=Ze,Ke=0;Ke<ht;++Ke){be.l+=20;var Je=be.read_shift(4),rt=be.read_shift(4),Dt=be.read_shift(2),Ft=be.read_shift(2),Ht=be.read_shift(2);be.l+=8;var Mt=be.read_shift(4),It=o(be.slice(be.l+Dt,be.l+Dt+Ft));be.l+=Dt+Ft+Ht;var Yt=be.l;be.l=Mt+4,Fs(be,Je,rt,Pe,It),be.l=Yt}return Pe}function Fs(ce,Te,be,je,ke){ce.l+=2;var Pe=ce.read_shift(2),Ke=ce.read_shift(2),ht=l(ce);if(Pe&8257)throw new Error("Unsupported ZIP encryption");for(var Ze=ce.read_shift(4),Je=ce.read_shift(4),rt=ce.read_shift(4),Dt=ce.read_shift(2),Ft=ce.read_shift(2),Ht="",Mt=0;Mt<Dt;++Mt)Ht+=String.fromCharCode(ce[ce.l++]);if(Ft){var It=o(ce.slice(ce.l,ce.l+Ft));(It[21589]||{}).mt&&(ht=It[21589].mt),((ke||{})[21589]||{}).mt&&(ht=ke[21589].mt)}ce.l+=Ft;var Yt=ce.slice(ce.l,ce.l+Je);switch(Ke){case 8:Yt=H(ce,rt);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ke)}var Ls=!1;Pe&8&&(Ze=ce.read_shift(4),Ze==134695760&&(Ze=ce.read_shift(4),Ls=!0),Je=ce.read_shift(4),rt=ce.read_shift(4)),Je!=Te&&fr(Ls,"Bad compressed size: "+Te+" != "+Je),rt!=be&&fr(Ls,"Bad uncompressed size: "+be+" != "+rt),ai(je,Ht,Yt,{unsafe:!0,mt:ht})}function Rr(ce,Te){var be=Te||{},je=[],ke=[],Pe=vt(1),Ke=be.compression?8:0,ht=0,Ze=0,Je=0,rt=0,Dt=0,Ft=ce.FullPaths[0],Ht=Ft,Mt=ce.FileIndex[0],It=[],Yt=0;for(Ze=1;Ze<ce.FullPaths.length;++Ze)if(Ht=ce.FullPaths[Ze].slice(Ft.length),Mt=ce.FileIndex[Ze],!(!Mt.size||!Mt.content||Ht=="Sh33tJ5")){var Ls=rt,ts=vt(Ht.length);for(Je=0;Je<Ht.length;++Je)ts.write_shift(1,Ht.charCodeAt(Je)&127);ts=ts.slice(0,ts.l),It[Dt]=yje.buf(Mt.content,0);var $s=Mt.content;Ke==8&&($s=q($s)),Pe=vt(30),Pe.write_shift(4,67324752),Pe.write_shift(2,20),Pe.write_shift(2,ht),Pe.write_shift(2,Ke),Mt.mt?i(Pe,Mt.mt):Pe.write_shift(4,0),Pe.write_shift(-4,It[Dt]),Pe.write_shift(4,$s.length),Pe.write_shift(4,Mt.content.length),Pe.write_shift(2,ts.length),Pe.write_shift(2,0),rt+=Pe.length,je.push(Pe),rt+=ts.length,je.push(ts),rt+=$s.length,je.push($s),Pe=vt(46),Pe.write_shift(4,33639248),Pe.write_shift(2,0),Pe.write_shift(2,20),Pe.write_shift(2,ht),Pe.write_shift(2,Ke),Pe.write_shift(4,0),Pe.write_shift(-4,It[Dt]),Pe.write_shift(4,$s.length),Pe.write_shift(4,Mt.content.length),Pe.write_shift(2,ts.length),Pe.write_shift(2,0),Pe.write_shift(2,0),Pe.write_shift(2,0),Pe.write_shift(2,0),Pe.write_shift(4,0),Pe.write_shift(4,Ls),Yt+=Pe.l,ke.push(Pe),Yt+=ts.length,ke.push(ts),++Dt}return Pe=vt(22),Pe.write_shift(4,101010256),Pe.write_shift(2,0),Pe.write_shift(2,0),Pe.write_shift(2,Dt),Pe.write_shift(2,Dt),Pe.write_shift(4,Yt),Pe.write_shift(4,rt),Pe.write_shift(2,0),Mi([Mi(je),Mi(ke),Pe])}var ar={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function is(ce,Te){if(ce.ctype)return ce.ctype;var be=ce.name||"",je=be.match(/\.([^\.]+)$/);return je&&ar[je[1]]||Te&&(je=(be=Te).match(/[\.\\]([^\.\\])+$/),je&&ar[je[1]])?ar[je[1]]:"application/octet-stream"}function El(ce){for(var Te=Qy(ce),be=[],je=0;je<Te.length;je+=76)be.push(Te.slice(je,je+76));return be.join(`\r
`)+`\r
`}function Un(ce){var Te=ce.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Je){var rt=Je.charCodeAt(0).toString(16).toUpperCase();return"="+(rt.length==1?"0"+rt:rt)});Te=Te.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Te.charAt(0)==`
`&&(Te="=0D"+Te.slice(1)),Te=Te.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var be=[],je=Te.split(`\r
`),ke=0;ke<je.length;++ke){var Pe=je[ke];if(Pe.length==0){be.push("");continue}for(var Ke=0;Ke<Pe.length;){var ht=76,Ze=Pe.slice(Ke,Ke+ht);Ze.charAt(ht-1)=="="?ht--:Ze.charAt(ht-2)=="="?ht-=2:Ze.charAt(ht-3)=="="&&(ht-=3),Ze=Pe.slice(Ke,Ke+ht),Ke+=ht,Ke<Pe.length&&(Ze+="="),be.push(Ze)}}return be.join(`\r
`)}function Zl(ce){for(var Te=[],be=0;be<ce.length;++be){for(var je=ce[be];be<=ce.length&&je.charAt(je.length-1)=="=";)je=je.slice(0,je.length-1)+ce[++be];Te.push(je)}for(var ke=0;ke<Te.length;++ke)Te[ke]=Te[ke].replace(/[=][0-9A-Fa-f]{2}/g,function(Pe){return String.fromCharCode(parseInt(Pe.slice(1),16))});return Zo(Te.join(`\r
`))}function nl(ce,Te,be){for(var je="",ke="",Pe="",Ke,ht=0;ht<10;++ht){var Ze=Te[ht];if(!Ze||Ze.match(/^\s*$/))break;var Je=Ze.match(/^(.*?):\s*([^\s].*)$/);if(Je)switch(Je[1].toLowerCase()){case"content-location":je=Je[2].trim();break;case"content-type":Pe=Je[2].trim();break;case"content-transfer-encoding":ke=Je[2].trim();break}}switch(++ht,ke.toLowerCase()){case"base64":Ke=Zo(dc(Te.slice(ht).join("")));break;case"quoted-printable":Ke=Zl(Te.slice(ht));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ke)}var rt=ai(ce,je.slice(be.length),Ke,{unsafe:!0});Pe&&(rt.ctype=Pe)}function hr(ce,Te){if(Z(ce.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var be=Te&&Te.root||"",je=(rs&&Buffer.isBuffer(ce)?ce.toString("binary"):Z(ce)).split(`\r
`),ke=0,Pe="";for(ke=0;ke<je.length;++ke)if(Pe=je[ke],!!/^Content-Location:/i.test(Pe)&&(Pe=Pe.slice(Pe.indexOf("file")),be||(be=Pe.slice(0,Pe.lastIndexOf("/")+1)),Pe.slice(0,be.length)!=be))for(;be.length>0&&(be=be.slice(0,be.length-1),be=be.slice(0,be.lastIndexOf("/")+1),Pe.slice(0,be.length)!=be););var Ke=(je[1]||"").match(/boundary="(.*?)"/);if(!Ke)throw new Error("MAD cannot find boundary");var ht="--"+(Ke[1]||""),Ze=[],Je=[],rt={FileIndex:Ze,FullPaths:Je};E(rt);var Dt,Ft=0;for(ke=0;ke<je.length;++ke){var Ht=je[ke];Ht!==ht&&Ht!==ht+"--"||(Ft++&&nl(rt,je.slice(Dt,ke),be),Dt=ke)}return rt}function Po(ce,Te){var be=Te||{},je=be.boundary||"SheetJS";je="------="+je;for(var ke=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+je.slice(2)+'"',"","",""],Pe=ce.FullPaths[0],Ke=Pe,ht=ce.FileIndex[0],Ze=1;Ze<ce.FullPaths.length;++Ze)if(Ke=ce.FullPaths[Ze].slice(Pe.length),ht=ce.FileIndex[Ze],!(!ht.size||!ht.content||Ke=="Sh33tJ5")){Ke=Ke.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Yt){return"_x"+Yt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Yt){return"_u"+Yt.charCodeAt(0).toString(16)+"_"});for(var Je=ht.content,rt=rs&&Buffer.isBuffer(Je)?Je.toString("binary"):Z(Je),Dt=0,Ft=Math.min(1024,rt.length),Ht=0,Mt=0;Mt<=Ft;++Mt)(Ht=rt.charCodeAt(Mt))>=32&&Ht<128&&++Dt;var It=Dt>=Ft*4/5;ke.push(je),ke.push("Content-Location: "+(be.root||"file:///C:/SheetJS/")+Ke),ke.push("Content-Transfer-Encoding: "+(It?"quoted-printable":"base64")),ke.push("Content-Type: "+is(ht,Ke)),ke.push(""),ke.push(It?Un(rt):El(rt))}return ke.push(je+`--\r
`),ke.join(`\r
`)}function Jl(ce){var Te={};return E(Te,ce),Te}function ai(ce,Te,be,je){var ke=je&&je.unsafe;ke||E(ce);var Pe=!ke&&xr.find(ce,Te);if(!Pe){var Ke=ce.FullPaths[0];Te.slice(0,Ke.length)==Ke?Ke=Te:(Ke.slice(-1)!="/"&&(Ke+="/"),Ke=(Ke+Te).replace("//","/")),Pe={name:n(Te),type:2},ce.FileIndex.push(Pe),ce.FullPaths.push(Ke),ke||xr.utils.cfb_gc(ce)}return Pe.content=be,Pe.size=be?be.length:0,je&&(je.CLSID&&(Pe.clsid=je.CLSID),je.mt&&(Pe.mt=je.mt),je.ct&&(Pe.ct=je.ct)),Pe}function $i(ce,Te){E(ce);var be=xr.find(ce,Te);if(be){for(var je=0;je<ce.FileIndex.length;++je)if(ce.FileIndex[je]==be)return ce.FileIndex.splice(je,1),ce.FullPaths.splice(je,1),!0}return!1}function aa(ce,Te,be){E(ce);var je=xr.find(ce,Te);if(je){for(var ke=0;ke<ce.FileIndex.length;++ke)if(ce.FileIndex[ke]==je)return ce.FileIndex[ke].name=n(be),ce.FullPaths[ke]=be,!0}return!1}function Ba(ce){I(ce,!0)}return t.find=M,t.read=O,t.parse=h,t.write=ye,t.writeFile=X,t.utils={cfb_new:Jl,cfb_add:ai,cfb_del:$i,cfb_mov:aa,cfb_gc:Ba,ReadShift:gy,CheckField:YW,prep_blob:tl,bconcat:Mi,use_zlib:D,_deflateRaw:At,_inflateRaw:Ns,consts:re},t})();let hm;function bje(e){hm=e}function jje(e){return typeof e=="string"?Gb(e):Array.isArray(e)?W2e(e):e}function Yb(e,t,s){if(typeof hm<"u"&&hm.writeFileSync)return s?hm.writeFileSync(e,t,s):hm.writeFileSync(e,t);if(typeof Deno<"u"){if(s&&typeof t=="string")switch(s){case"utf8":t=new TextEncoder(s).encode(t);break;case"binary":t=Gb(t);break;default:throw new Error("Unsupported encoding "+s)}return Deno.writeFileSync(e,t)}var a=s=="utf8"?Tu(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(a,e);if(typeof Blob<"u"){var n=new Blob([jje(a)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(n,e);if(typeof saveAs<"u")return saveAs(n,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(n);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var l=document.createElement("a");if(l.download!=null)return l.download=e,l.href=i,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(e);return o.open("w"),o.encoding="binary",Array.isArray(t)&&(t=Mm(t)),o.write(t),o.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function Nje(e){if(typeof hm<"u")return hm.readFileSync(e);if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var s=t.read();return t.close(),s}catch(a){if(!a.message||!a.message.match(/onstruct/))throw a}throw new Error("Cannot access file "+e)}function Nn(e){for(var t=Object.keys(e),s=[],a=0;a<t.length;++a)Object.prototype.hasOwnProperty.call(e,t[a])&&s.push(t[a]);return s}function yL(e,t){for(var s=[],a=Nn(e),n=0;n!==a.length;++n)s[e[a[n]][t]]==null&&(s[e[a[n]][t]]=a[n]);return s}function I5(e){for(var t=[],s=Nn(e),a=0;a!==s.length;++a)t[e[s[a]]]=s[a];return t}function B5(e){for(var t=[],s=Nn(e),a=0;a!==s.length;++a)t[e[s[a]]]=parseInt(s[a],10);return t}function wje(e){for(var t=[],s=Nn(e),a=0;a!==s.length;++a)t[e[s[a]]]==null&&(t[e[s[a]]]=[]),t[e[s[a]]].push(s[a]);return t}var rw=new Date(1899,11,30,0,0,0);function vi(e,t){var s=e.getTime(),a=rw.getTime()+(e.getTimezoneOffset()-rw.getTimezoneOffset())*6e4;return(s-a)/(1440*60*1e3)}var OW=new Date,Sje=rw.getTime()+(OW.getTimezoneOffset()-rw.getTimezoneOffset())*6e4,bL=OW.getTimezoneOffset();function U5(e){var t=new Date;return t.setTime(e*24*60*60*1e3+Sje),t.getTimezoneOffset()!==bL&&t.setTime(t.getTime()+(t.getTimezoneOffset()-bL)*6e4),t}function _je(e){var t=0,s=0,a=!1,n=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!n)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=n.length;++i)if(n[i]){switch(s=1,i>3&&(a=!0),n[i].slice(n[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+n[i].slice(n[i].length-1));case"D":s*=24;case"H":s*=60;case"M":if(a)s*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=s*parseInt(n[i],10)}return t}var jL=new Date("2017-02-19T19:06:09.000Z"),DW=isNaN(jL.getFullYear())?new Date("2/19/17"):jL,kje=DW.getFullYear()==2017;function Ia(e,t){var s=new Date(e);if(kje)return t>0?s.setTime(s.getTime()+s.getTimezoneOffset()*60*1e3):t<0&&s.setTime(s.getTime()-s.getTimezoneOffset()*60*1e3),s;if(e instanceof Date)return e;if(DW.getFullYear()==1917&&!isNaN(s.getFullYear())){var a=s.getFullYear();return e.indexOf(""+a)>-1||s.setFullYear(s.getFullYear()+100),s}var n=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+n[0],+n[1]-1,+n[2],+n[3]||0,+n[4]||0,+n[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function ax(e,t){if(rs&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return Tu(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Tu(yW(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Tu(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Tu(new TextDecoder("utf-16be").decode(e.slice(2)))}var s={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return s[i]||i})}catch{}for(var a=[],n=0;n!=e.length;++n)a.push(String.fromCharCode(e[n]));return a.join("")}function ba(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=ba(e[s]));return t}function vn(e,t){for(var s="";s.length<t;)s+=e;return s}function Vd(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var s=1,a=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return s*=100,""});return!isNaN(t=Number(a))||(a=a.replace(/[(](.*)[)]/,function(n,i){return s=-s,i}),!isNaN(t=Number(a)))?t/s:t}var Aje=["january","february","march","april","may","june","july","august","september","october","november","december"];function vg(e){var t=new Date(e),s=new Date(NaN),a=t.getYear(),n=t.getMonth(),i=t.getDate();if(isNaN(i))return s;var l=e.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&Aje.indexOf(l)==-1)return s}else if(l.match(/[a-z]/))return s;return a<0||a>8099?s:(n>0||i>1)&&a!=101?t:e.match(/[^-0-9:,\/\\]/)?s:t}var Cje=(function(){var e="abacaba".split(/(:?b)/i).length==5;return function(s,a,n){if(e||typeof a=="string")return s.split(a);for(var i=s.split(a),l=[i[0]],o=1;o<i.length;++o)l.push(n),l.push(i[o]);return l}})();function RW(e){return e?e.content&&e.type?ax(e.content,!0):e.data?Hp(e.data):e.asNodeBuffer&&rs?Hp(e.asNodeBuffer().toString("binary")):e.asBinary?Hp(e.asBinary()):e._data&&e._data.getContent?Hp(ax(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function MW(e){if(!e)return null;if(e.data)return JN(e.data);if(e.asNodeBuffer&&rs)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?JN(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function Tje(e){return e&&e.name.slice(-4)===".bin"?MW(e):RW(e)}function Ic(e,t){for(var s=e.FullPaths||Nn(e.files),a=t.toLowerCase().replace(/[\/]/g,"\\"),n=a.replace(/\\/g,"/"),i=0;i<s.length;++i){var l=s[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(a==l||n==l)return e.files?e.files[s[i]]:e.FileIndex[i]}return null}function eE(e,t){var s=Ic(e,t);if(s==null)throw new Error("Cannot find file "+t+" in zip");return s}function Gn(e,t,s){if(!s)return Tje(eE(e,t));if(!t)return null;try{return Gn(e,t)}catch{return null}}function Jo(e,t,s){if(!s)return RW(eE(e,t));if(!t)return null;try{return Jo(e,t)}catch{return null}}function Eje(e,t,s){return MW(eE(e,t))}function NL(e){for(var t=e.FullPaths||Nn(e.files),s=[],a=0;a<t.length;++a)t[a].slice(-1)!="/"&&s.push(t[a].replace(/^Root Entry[\/]/,""));return s.sort()}function Gr(e,t,s){if(e.FullPaths){if(typeof s=="string"){var a;return rs?a=ff(s):a=G2e(s),xr.utils.cfb_add(e,t,a)}xr.utils.cfb_add(e,t,s)}else e.file(t,s)}function tE(){return xr.utils.cfb_new()}function FW(e,t){switch(t.type){case"base64":return xr.read(e,{type:"base64"});case"binary":return xr.read(e,{type:"binary"});case"buffer":case"array":return xr.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function hy(e,t){if(e.charAt(0)=="/")return e.slice(1);var s=t.split("/");t.slice(-1)!="/"&&s.pop();for(var a=e.split("/");a.length!==0;){var n=a.shift();n===".."?s.pop():n!=="."&&s.push(n)}return s.join("/")}var Bn=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Pje=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,wL=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,Oje=/<[^>]*>/g,Tl=Bn.match(wL)?wL:Oje,Dje=/<\w*:/,Rje=/<(\/?)\w+:/;function Er(e,t,s){for(var a={},n=0,i=0;n!==e.length&&!((i=e.charCodeAt(n))===32||i===10||i===13);++n);if(t||(a[0]=e.slice(0,n)),n===e.length)return a;var l=e.match(Pje),o=0,c="",d=0,h="",m="",p=1;if(l)for(d=0;d!=l.length;++d){for(m=l[d],i=0;i!=m.length&&m.charCodeAt(i)!==61;++i);for(h=m.slice(0,i).trim();m.charCodeAt(i+1)==32;)++i;for(p=(n=m.charCodeAt(i+1))==34||n==39?1:0,c=m.slice(i+1+p,m.length-p),o=0;o!=h.length&&h.charCodeAt(o)!==58;++o);if(o===h.length)h.indexOf("_")>0&&(h=h.slice(0,h.indexOf("_"))),a[h]=c,a[h.toLowerCase()]=c;else{var x=(o===5&&h.slice(0,5)==="xmlns"?"xmlns":"")+h.slice(o+1);if(a[x]&&h.slice(o-3,o)=="ext")continue;a[x]=c,a[x.toLowerCase()]=c}}return a}function Ku(e){return e.replace(Rje,"<$1")}var LW={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},rE=I5(LW),As=(function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function s(a){var n=a+"",i=n.indexOf("<![CDATA[");if(i==-1)return n.replace(e,function(o,c){return LW[o]||String.fromCharCode(parseInt(c,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,c){return String.fromCharCode(parseInt(c,16))});var l=n.indexOf("]]>");return s(n.slice(0,i))+n.slice(i+9,l)+s(n.slice(l+3))}})(),sE=/[&<>'"]/g,Mje=/[\u0000-\u0008\u000b-\u001f]/g;function ra(e){var t=e+"";return t.replace(sE,function(s){return rE[s]}).replace(Mje,function(s){return"_x"+("000"+s.charCodeAt(0).toString(16)).slice(-4)+"_"})}function SL(e){return ra(e).replace(/ /g,"_x0020_")}var IW=/[\u0000-\u001f]/g;function aE(e){var t=e+"";return t.replace(sE,function(s){return rE[s]}).replace(/\n/g,"<br/>").replace(IW,function(s){return"&#x"+("000"+s.charCodeAt(0).toString(16)).slice(-4)+";"})}function Fje(e){var t=e+"";return t.replace(sE,function(s){return rE[s]}).replace(IW,function(s){return"&#x"+s.charCodeAt(0).toString(16).toUpperCase()+";"})}var _L=(function(){var e=/&#(\d+);/g;function t(s,a){return String.fromCharCode(parseInt(a,10))}return function(a){return a.replace(e,t)}})();function Lje(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function Ra(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function v_(e){for(var t="",s=0,a=0,n=0,i=0,l=0,o=0;s<e.length;){if(a=e.charCodeAt(s++),a<128){t+=String.fromCharCode(a);continue}if(n=e.charCodeAt(s++),a>191&&a<224){l=(a&31)<<6,l|=n&63,t+=String.fromCharCode(l);continue}if(i=e.charCodeAt(s++),a<240){t+=String.fromCharCode((a&15)<<12|(n&63)<<6|i&63);continue}l=e.charCodeAt(s++),o=((a&7)<<18|(n&63)<<12|(i&63)<<6|l&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function kL(e){var t=Sm(2*e.length),s,a,n=1,i=0,l=0,o;for(a=0;a<e.length;a+=n)n=1,(o=e.charCodeAt(a))<128?s=o:o<224?(s=(o&31)*64+(e.charCodeAt(a+1)&63),n=2):o<240?(s=(o&15)*4096+(e.charCodeAt(a+1)&63)*64+(e.charCodeAt(a+2)&63),n=3):(n=4,s=(o&7)*262144+(e.charCodeAt(a+1)&63)*4096+(e.charCodeAt(a+2)&63)*64+(e.charCodeAt(a+3)&63),s-=65536,l=55296+(s>>>10&1023),s=56320+(s&1023)),l!==0&&(t[i++]=l&255,t[i++]=l>>>8,l=0),t[i++]=s%256,t[i++]=s>>>8;return t.slice(0,i).toString("ucs2")}function AL(e){return ff(e,"binary").toString("utf8")}var v2="foo bar baz",fa=rs&&(AL(v2)==v_(v2)&&AL||kL(v2)==v_(v2)&&kL)||v_,Tu=rs?function(e){return ff(e,"utf8").toString("binary")}:function(e){for(var t=[],s=0,a=0,n=0;s<e.length;)switch(a=e.charCodeAt(s++),!0){case a<128:t.push(String.fromCharCode(a));break;case a<2048:t.push(String.fromCharCode(192+(a>>6))),t.push(String.fromCharCode(128+(a&63)));break;case(a>=55296&&a<57344):a-=55296,n=e.charCodeAt(s++)-56320+(a<<10),t.push(String.fromCharCode(240+(n>>18&7))),t.push(String.fromCharCode(144+(n>>12&63))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)));break;default:t.push(String.fromCharCode(224+(a>>12))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)))}return t.join("")},tb=(function(){var e={};return function(s,a){var n=s+"|"+(a||"");return e[n]?e[n]:e[n]=new RegExp("<(?:\\w+:)?"+s+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+s+">",a||"")}})(),BW=(function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(s){for(var a=s.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),n=0;n<e.length;++n)a=a.replace(e[n][0],e[n][1]);return a}})(),Ije=(function(){var e={};return function(s){return e[s]!==void 0?e[s]:e[s]=new RegExp("<(?:vt:)?"+s+">([\\s\\S]*?)</(?:vt:)?"+s+">","g")}})(),Bje=/<\/?(?:vt:)?variant>/g,Uje=/<(?:vt:)([^>]*)>([\s\S]*)</;function CL(e,t){var s=Er(e),a=e.match(Ije(s.baseType))||[],n=[];if(a.length!=s.size){if(t.WTF)throw new Error("unexpected vector length "+a.length+" != "+s.size);return n}return a.forEach(function(i){var l=i.replace(Bje,"").match(Uje);l&&n.push({v:fa(l[2]),t:l[1]})}),n}var UW=/(^\s|\s$|\n)/;function rl(e,t){return"<"+e+(t.match(UW)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function rb(e){return Nn(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Lt(e,t,s){return"<"+e+(s!=null?rb(s):"")+(t!=null?(t.match(UW)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function HA(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(s){if(t)throw s}return""}function zje(e,t){switch(typeof e){case"string":var s=Lt("vt:lpwstr",ra(e));return s=s.replace(/&quot;/g,"_x0022_"),s;case"number":return Lt((e|0)==e?"vt:i4":"vt:r8",ra(String(e)));case"boolean":return Lt("vt:bool",e?"true":"false")}if(e instanceof Date)return Lt("vt:filetime",HA(e));throw new Error("Unable to serialize "+e)}function nE(e){if(rs&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return fa(Mm(ZT(e)));throw new Error("Bad input format: expected Buffer or string")}var sb=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,pi={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},yx=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Yo={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function $je(e,t){for(var s=1-2*(e[t+7]>>>7),a=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),n=e[t+6]&15,i=5;i>=0;--i)n=n*256+e[t+i];return a==2047?n==0?s*(1/0):NaN:(a==0?a=-1022:(a-=1023,n+=Math.pow(2,52)),s*Math.pow(2,a-52)*n)}function Hje(e,t,s){var a=(t<0||1/t==-1/0?1:0)<<7,n=0,i=0,l=a?-t:t;isFinite(l)?l==0?n=i=0:(n=Math.floor(Math.log(l)/Math.LN2),i=l*Math.pow(2,52-n),n<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?n=-1022:(i-=Math.pow(2,52),n+=1023)):(n=2047,i=isNaN(t)?26985:0);for(var o=0;o<=5;++o,i/=256)e[s+o]=i&255;e[s+6]=(n&15)<<4|i&15,e[s+7]=n>>4|a}var TL=function(e){for(var t=[],s=10240,a=0;a<e[0].length;++a)if(e[0][a])for(var n=0,i=e[0][a].length;n<i;n+=s)t.push.apply(t,e[0][a].slice(n,n+s));return t},EL=rs?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:ff(t)})):TL(e)}:TL,PL=function(e,t,s){for(var a=[],n=t;n<s;n+=2)a.push(String.fromCharCode(Mh(e,n)));return a.join("").replace(_l,"")},z5=rs?function(e,t,s){return Buffer.isBuffer(e)?e.toString("utf16le",t,s).replace(_l,""):PL(e,t,s)}:PL,OL=function(e,t,s){for(var a=[],n=t;n<t+s;++n)a.push(("0"+e[n].toString(16)).slice(-2));return a.join("")},zW=rs?function(e,t,s){return Buffer.isBuffer(e)?e.toString("hex",t,t+s):OL(e,t,s)}:OL,DL=function(e,t,s){for(var a=[],n=t;n<s;n++)a.push(String.fromCharCode(Rp(e,n)));return a.join("")},Gg=rs?function(t,s,a){return Buffer.isBuffer(t)?t.toString("utf8",s,a):DL(t,s,a)}:DL,$W=function(e,t){var s=Ri(e,t);return s>0?Gg(e,t+4,t+4+s-1):""},iE=$W,HW=function(e,t){var s=Ri(e,t);return s>0?Gg(e,t+4,t+4+s-1):""},lE=HW,qW=function(e,t){var s=2*Ri(e,t);return s>0?Gg(e,t+4,t+4+s-1):""},oE=qW,VW=function(t,s){var a=Ri(t,s);return a>0?z5(t,s+4,s+4+a):""},cE=VW,WW=function(e,t){var s=Ri(e,t);return s>0?Gg(e,t+4,t+4+s):""},dE=WW,GW=function(e,t){return $je(e,t)},sw=GW,uE=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};rs&&(iE=function(t,s){if(!Buffer.isBuffer(t))return $W(t,s);var a=t.readUInt32LE(s);return a>0?t.toString("utf8",s+4,s+4+a-1):""},lE=function(t,s){if(!Buffer.isBuffer(t))return HW(t,s);var a=t.readUInt32LE(s);return a>0?t.toString("utf8",s+4,s+4+a-1):""},oE=function(t,s){if(!Buffer.isBuffer(t))return qW(t,s);var a=2*t.readUInt32LE(s);return t.toString("utf16le",s+4,s+4+a-1)},cE=function(t,s){if(!Buffer.isBuffer(t))return VW(t,s);var a=t.readUInt32LE(s);return t.toString("utf16le",s+4,s+4+a)},dE=function(t,s){if(!Buffer.isBuffer(t))return WW(t,s);var a=t.readUInt32LE(s);return t.toString("utf8",s+4,s+4+a)},sw=function(t,s){return Buffer.isBuffer(t)?t.readDoubleLE(s):GW(t,s)},uE=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});function KW(){z5=function(e,t,s){return js.utils.decode(1200,e.slice(t,s)).replace(_l,"")},Gg=function(e,t,s){return js.utils.decode(65001,e.slice(t,s))},iE=function(e,t){var s=Ri(e,t);return s>0?js.utils.decode(rx,e.slice(t+4,t+4+s-1)):""},lE=function(e,t){var s=Ri(e,t);return s>0?js.utils.decode(ac,e.slice(t+4,t+4+s-1)):""},oE=function(e,t){var s=2*Ri(e,t);return s>0?js.utils.decode(1200,e.slice(t+4,t+4+s-1)):""},cE=function(e,t){var s=Ri(e,t);return s>0?js.utils.decode(1200,e.slice(t+4,t+4+s)):""},dE=function(e,t){var s=Ri(e,t);return s>0?js.utils.decode(65001,e.slice(t+4,t+4+s)):""}}typeof js<"u"&&KW();var Rp=function(e,t){return e[t]},Mh=function(e,t){return e[t+1]*256+e[t]},qje=function(e,t){var s=e[t+1]*256+e[t];return s<32768?s:(65535-s+1)*-1},Ri=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},j0=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Vje=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function gy(e,t){var s="",a,n,i=[],l,o,c,d;switch(t){case"dbcs":if(d=this.l,rs&&Buffer.isBuffer(this))s=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)s+=String.fromCharCode(Mh(this,d)),d+=2;e*=2;break;case"utf8":s=Gg(this,this.l,this.l+e);break;case"utf16le":e*=2,s=z5(this,this.l,this.l+e);break;case"wstr":if(typeof js<"u")s=js.utils.decode(ac,this.slice(this.l,this.l+2*e));else return gy.call(this,e,"dbcs");e=2*e;break;case"lpstr-ansi":s=iE(this,this.l),e=4+Ri(this,this.l);break;case"lpstr-cp":s=lE(this,this.l),e=4+Ri(this,this.l);break;case"lpwstr":s=oE(this,this.l),e=4+2*Ri(this,this.l);break;case"lpp4":e=4+Ri(this,this.l),s=cE(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Ri(this,this.l),s=dE(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,s="";(l=Rp(this,this.l+e++))!==0;)i.push(dy(l));s=i.join("");break;case"_wstr":for(e=0,s="";(l=Mh(this,this.l+e))!==0;)i.push(dy(l)),e+=2;e+=2,s=i.join("");break;case"dbcs-cont":for(s="",d=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return l=Rp(this,d),this.l=d+1,o=gy.call(this,e-c,l?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(dy(Mh(this,d))),d+=2}s=i.join(""),e*=2;break;case"cpstr":if(typeof js<"u"){s=js.utils.decode(ac,this.slice(this.l,this.l+e));break}case"sbcs-cont":for(s="",d=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return l=Rp(this,d),this.l=d+1,o=gy.call(this,e-c,l?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(dy(Rp(this,d))),d+=1}s=i.join("");break;default:switch(e){case 1:return a=Rp(this,this.l),this.l++,a;case 2:return a=(t==="i"?qje:Mh)(this,this.l),this.l+=2,a;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(a=(e>0?j0:Vje)(this,this.l),this.l+=4,a):(n=Ri(this,this.l),this.l+=4,n);case 8:case-8:if(t==="f")return e==8?n=sw(this,this.l):n=sw([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,n;e=8;case 16:s=zW(this,this.l,e);break}}return this.l+=e,s}var Wje=function(e,t,s){e[s]=t&255,e[s+1]=t>>>8&255,e[s+2]=t>>>16&255,e[s+3]=t>>>24&255},Gje=function(e,t,s){e[s]=t&255,e[s+1]=t>>8&255,e[s+2]=t>>16&255,e[s+3]=t>>24&255},Kje=function(e,t,s){e[s]=t&255,e[s+1]=t>>>8&255};function Yje(e,t,s){var a=0,n=0;if(s==="dbcs"){for(n=0;n!=t.length;++n)Kje(this,t.charCodeAt(n),this.l+2*n);a=2*t.length}else if(s==="sbcs"){if(typeof js<"u"&&rx==874)for(n=0;n!=t.length;++n){var i=js.utils.encode(rx,t.charAt(n));this[this.l+n]=i[0]}else for(t=t.replace(/[^\x00-\x7F]/g,"_"),n=0;n!=t.length;++n)this[this.l+n]=t.charCodeAt(n)&255;a=t.length}else if(s==="hex"){for(;n<e;++n)this[this.l++]=parseInt(t.slice(2*n,2*n+2),16)||0;return this}else if(s==="utf16le"){var l=Math.min(this.l+e,this.length);for(n=0;n<Math.min(t.length,e);++n){var o=t.charCodeAt(n);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<l;)this[this.l++]=0;return this}else switch(e){case 1:a=1,this[this.l]=t&255;break;case 2:a=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:a=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:a=4,Wje(this,t,this.l);break;case 8:if(a=8,s==="f"){Hje(this,t,this.l);break}case 16:break;case-4:a=4,Gje(this,t,this.l);break}return this.l+=a,this}function YW(e,t){var s=zW(this,this.l,e.length>>1);if(s!==e)throw new Error(t+"Expected "+e+" saw "+s);this.l+=e.length>>1}function tl(e,t){e.l=t,e.read_shift=gy,e.chk=YW,e.write_shift=Yje}function Cl(e,t){e.l+=t}function vt(e){var t=Sm(e);return tl(t,0),t}function mf(e,t,s){if(e){var a,n,i;tl(e,e.l||0);for(var l=e.length,o=0,c=0;e.l<l;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var d=cb[o]||cb[65535];for(a=e.read_shift(1),i=a&127,n=1;n<4&&a&128;++n)i+=((a=e.read_shift(1))&127)<<7*n;c=e.l+i;var h=d.f&&d.f(e,i,s);if(e.l=c,t(h,d,o))return}}}function So(){var e=[],t=rs?256:2048,s=function(d){var h=vt(d);return tl(h,0),h},a=s(t),n=function(){a&&(a.length>a.l&&(a=a.slice(0,a.l),a.l=a.length),a.length>0&&e.push(a),a=null)},i=function(d){return a&&d<a.length-a.l?a:(n(),a=s(Math.max(d+1,t)))},l=function(){return n(),Mi(e)},o=function(d){n(),a=d,a.l==null&&(a.l=a.length),i(t)};return{next:i,push:o,end:l,_bufs:e}}function Pt(e,t,s,a){var n=+t,i;if(!isNaN(n)){a||(a=cb[n].p||(s||[]).length||0),i=1+(n>=128?1:0)+1,a>=128&&++i,a>=16384&&++i,a>=2097152&&++i;var l=e.next(i);n<=127?l.write_shift(1,n):(l.write_shift(1,(n&127)+128),l.write_shift(1,n>>7));for(var o=0;o!=4;++o)if(a>=128)l.write_shift(1,(a&127)+128),a>>=7;else{l.write_shift(1,a);break}a>0&&uE(s)&&e.push(s)}}function vy(e,t,s){var a=ba(e);if(t.s?(a.cRel&&(a.c+=t.s.c),a.rRel&&(a.r+=t.s.r)):(a.cRel&&(a.c+=t.c),a.rRel&&(a.r+=t.r)),!s||s.biff<12){for(;a.c>=256;)a.c-=256;for(;a.r>=65536;)a.r-=65536}return a}function RL(e,t,s){var a=ba(e);return a.s=vy(a.s,t.s,s),a.e=vy(a.e,t.s,s),a}function yy(e,t){if(e.cRel&&e.c<0)for(e=ba(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=ba(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var s=Cr(e);return!e.cRel&&e.cRel!=null&&(s=Jje(s)),!e.rRel&&e.rRel!=null&&(s=Xje(s)),s}function y_(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Fa(e.s.c)+":"+(e.e.cRel?"":"$")+Fa(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+yn(e.s.r)+":"+(e.e.rRel?"":"$")+yn(e.e.r):yy(e.s,t.biff)+":"+yy(e.e,t.biff)}function hE(e){return parseInt(Zje(e),10)-1}function yn(e){return""+(e+1)}function Xje(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Zje(e){return e.replace(/\$(\d+)$/,"$1")}function fE(e){for(var t=Qje(e),s=0,a=0;a!==t.length;++a)s=26*s+t.charCodeAt(a)-64;return s-1}function Fa(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function Jje(e){return e.replace(/^([A-Z])/,"$$$1")}function Qje(e){return e.replace(/^\$([A-Z])/,"$1")}function eNe(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function sn(e){for(var t=0,s=0,a=0;a<e.length;++a){var n=e.charCodeAt(a);n>=48&&n<=57?t=10*t+(n-48):n>=65&&n<=90&&(s=26*s+(n-64))}return{c:s-1,r:t-1}}function Cr(e){for(var t=e.c+1,s="";t;t=(t-1)/26|0)s=String.fromCharCode((t-1)%26+65)+s;return s+(e.r+1)}function Yl(e){var t=e.indexOf(":");return t==-1?{s:sn(e),e:sn(e)}:{s:sn(e.slice(0,t)),e:sn(e.slice(t+1))}}function Vr(e,t){return typeof t>"u"||typeof t=="number"?Vr(e.s,e.e):(typeof e!="string"&&(e=Cr(e)),typeof t!="string"&&(t=Cr(t)),e==t?e:e+":"+t)}function fs(e){var t={s:{c:0,r:0},e:{c:0,r:0}},s=0,a=0,n=0,i=e.length;for(s=0;a<i&&!((n=e.charCodeAt(a)-64)<1||n>26);++a)s=26*s+n;for(t.s.c=--s,s=0;a<i&&!((n=e.charCodeAt(a)-48)<0||n>9);++a)s=10*s+n;if(t.s.r=--s,a===i||n!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++a,s=0;a!=i&&!((n=e.charCodeAt(a)-64)<1||n>26);++a)s=26*s+n;for(t.e.c=--s,s=0;a!=i&&!((n=e.charCodeAt(a)-48)<0||n>9);++a)s=10*s+n;return t.e.r=--s,t}function ML(e,t){var s=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=uc(e.z,s?vi(t):t)}catch{}try{return e.w=uc((e.XF||{}).numFmtId||(s?14:0),s?vi(t):t)}catch{return""+t}}function zu(e,t,s){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&s&&s.dateNF&&(e.z=s.dateNF),e.t=="e"?xf[e.v]||e.v:t==null?ML(e,e.v):ML(e,t))}function Fm(e,t){var s=t&&t.sheet?t.sheet:"Sheet1",a={};return a[s]=e,{SheetNames:[s],Sheets:a}}function XW(e,t,s){var a=s||{},n=e?Array.isArray(e):a.dense,i=e||(n?[]:{}),l=0,o=0;if(i&&a.origin!=null){if(typeof a.origin=="number")l=a.origin;else{var c=typeof a.origin=="string"?sn(a.origin):a.origin;l=c.r,o=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var h=fs(i["!ref"]);d.s.c=h.s.c,d.s.r=h.s.r,d.e.c=Math.max(d.e.c,h.e.c),d.e.r=Math.max(d.e.r,h.e.r),l==-1&&(d.e.r=l=h.e.r+1)}for(var m=0;m!=t.length;++m)if(t[m]){if(!Array.isArray(t[m]))throw new Error("aoa_to_sheet expects an array of arrays");for(var p=0;p!=t[m].length;++p)if(!(typeof t[m][p]>"u")){var x={v:t[m][p]},v=l+m,y=o+p;if(d.s.r>v&&(d.s.r=v),d.s.c>y&&(d.s.c=y),d.e.r<v&&(d.e.r=v),d.e.c<y&&(d.e.c=y),t[m][p]&&typeof t[m][p]=="object"&&!Array.isArray(t[m][p])&&!(t[m][p]instanceof Date))x=t[m][p];else if(Array.isArray(x.v)&&(x.f=t[m][p][1],x.v=x.v[0]),x.v===null)if(x.f)x.t="n";else if(a.nullError)x.t="e",x.v=0;else if(a.sheetStubs)x.t="z";else continue;else typeof x.v=="number"?x.t="n":typeof x.v=="boolean"?x.t="b":x.v instanceof Date?(x.z=a.dateNF||wr[14],a.cellDates?(x.t="d",x.w=uc(x.z,vi(x.v))):(x.t="n",x.v=vi(x.v),x.w=uc(x.z,x.v))):x.t="s";if(n)i[v]||(i[v]=[]),i[v][y]&&i[v][y].z&&(x.z=i[v][y].z),i[v][y]=x;else{var b=Cr({c:y,r:v});i[b]&&i[b].z&&(x.z=i[b].z),i[b]=x}}}return d.s.c<1e7&&(i["!ref"]=Vr(d)),i}function Kg(e,t){return XW(null,e,t)}function tNe(e){return e.read_shift(4,"i")}function Wd(e,t){return t||(t=vt(4)),t.write_shift(4,e),t}function kl(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Li(e,t){var s=!1;return t==null&&(s=!0,t=vt(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),s?t.slice(0,t.l):t}function rNe(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function sNe(e,t){return t||(t=vt(4)),t.write_shift(2,0),t.write_shift(2,0),t}function mE(e,t){var s=e.l,a=e.read_shift(1),n=kl(e),i=[],l={t:n,h:n};if((a&1)!==0){for(var o=e.read_shift(4),c=0;c!=o;++c)i.push(rNe(e));l.r=i}else l.r=[{ich:0,ifnt:0}];return e.l=s+t,l}function aNe(e,t){var s=!1;return t==null&&(s=!0,t=vt(15+4*e.t.length)),t.write_shift(1,0),Li(e.t,t),s?t.slice(0,t.l):t}var nNe=mE;function iNe(e,t){var s=!1;return t==null&&(s=!0,t=vt(23+4*e.t.length)),t.write_shift(1,1),Li(e.t,t),t.write_shift(4,1),sNe({},t),s?t.slice(0,t.l):t}function ad(e){var t=e.read_shift(4),s=e.read_shift(2);return s+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:s}}function bx(e,t){return t==null&&(t=vt(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function jx(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Nx(e,t){return t==null&&(t=vt(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var lNe=kl,ZW=Li;function xE(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function aw(e,t){var s=!1;return t==null&&(s=!0,t=vt(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),s?t.slice(0,t.l):t}var oNe=kl,qA=xE,pE=aw;function gE(e){var t=e.slice(e.l,e.l+4),s=t[0]&1,a=t[0]&2;e.l+=4;var n=a===0?sw([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):j0(t,0)>>2;return s?n/100:n}function JW(e,t){t==null&&(t=vt(4));var s=0,a=0,n=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?a=1:n==(n|0)&&n>=-536870912&&n<1<<29&&(a=1,s=1),a)t.write_shift(-4,((s?n:e)<<2)+(s+2));else throw new Error("unsupported RkNumber "+e)}function QW(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function cNe(e,t){return t||(t=vt(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var wx=QW,Yg=cNe;function Nl(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function nx(e,t){return(t||vt(8)).write_shift(8,e,"f")}function dNe(e){var t={},s=e.read_shift(1),a=s>>>1,n=e.read_shift(1),i=e.read_shift(2,"i"),l=e.read_shift(1),o=e.read_shift(1),c=e.read_shift(1);switch(e.l++,a){case 0:t.auto=1;break;case 1:t.index=n;var d=R0[n];d&&(t.rgb=nb(d));break;case 2:t.rgb=nb([l,o,c]);break;case 3:t.theme=n;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function nw(e,t){if(t||(t=vt(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var s=e.tint||0;if(s>0?s*=32767:s<0&&(s*=32768),t.write_shift(2,s),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var a=e.rgb||"FFFFFF";typeof a=="number"&&(a=("000000"+a.toString(16)).slice(-6)),t.write_shift(1,parseInt(a.slice(0,2),16)),t.write_shift(1,parseInt(a.slice(2,4),16)),t.write_shift(1,parseInt(a.slice(4,6),16)),t.write_shift(1,255)}return t}function uNe(e){var t=e.read_shift(1);e.l++;var s={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return s}function hNe(e,t){t||(t=vt(2));var s=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,s),t.write_shift(1,0),t}function eG(e,t){var s={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},a=e.read_shift(4);switch(a){case 0:return"";case 4294967295:case 4294967294:return s[e.read_shift(4)]||""}if(a>400)throw new Error("Unsupported Clipboard: "+a.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function fNe(e){return eG(e,1)}function mNe(e){return eG(e,2)}var vE=2,go=3,y2=11,FL=12,iw=19,b2=64,xNe=65,pNe=71,gNe=4108,vNe=4126,Di=80,tG=81,yNe=[Di,tG],VA={1:{n:"CodePage",t:vE},2:{n:"Category",t:Di},3:{n:"PresentationFormat",t:Di},4:{n:"ByteCount",t:go},5:{n:"LineCount",t:go},6:{n:"ParagraphCount",t:go},7:{n:"SlideCount",t:go},8:{n:"NoteCount",t:go},9:{n:"HiddenCount",t:go},10:{n:"MultimediaClipCount",t:go},11:{n:"ScaleCrop",t:y2},12:{n:"HeadingPairs",t:gNe},13:{n:"TitlesOfParts",t:vNe},14:{n:"Manager",t:Di},15:{n:"Company",t:Di},16:{n:"LinksUpToDate",t:y2},17:{n:"CharacterCount",t:go},19:{n:"SharedDoc",t:y2},22:{n:"HyperlinksChanged",t:y2},23:{n:"AppVersion",t:go,p:"version"},24:{n:"DigSig",t:xNe},26:{n:"ContentType",t:Di},27:{n:"ContentStatus",t:Di},28:{n:"Language",t:Di},29:{n:"Version",t:Di},255:{},2147483648:{n:"Locale",t:iw},2147483651:{n:"Behavior",t:iw},1919054434:{}},WA={1:{n:"CodePage",t:vE},2:{n:"Title",t:Di},3:{n:"Subject",t:Di},4:{n:"Author",t:Di},5:{n:"Keywords",t:Di},6:{n:"Comments",t:Di},7:{n:"Template",t:Di},8:{n:"LastAuthor",t:Di},9:{n:"RevNumber",t:Di},10:{n:"EditTime",t:b2},11:{n:"LastPrinted",t:b2},12:{n:"CreatedDate",t:b2},13:{n:"ModifiedDate",t:b2},14:{n:"PageCount",t:go},15:{n:"WordCount",t:go},16:{n:"CharCount",t:go},17:{n:"Thumbnail",t:pNe},18:{n:"Application",t:Di},19:{n:"DocSecurity",t:go},255:{},2147483648:{n:"Locale",t:iw},2147483651:{n:"Behavior",t:iw},1919054434:{}},LL={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},bNe=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function jNe(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var NNe=jNe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),R0=ba(NNe),xf={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},rG={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},GA={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},j2={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function yE(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function wNe(e){var t=yE();if(!e||!e.match)return t;var s={};if((e.match(Tl)||[]).forEach(function(a){var n=Er(a);switch(n[0].replace(Dje,"<")){case"<?xml":break;case"<Types":t.xmlns=n["xmlns"+(n[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":s[n.Extension]=n.ContentType;break;case"<Override":t[GA[n.ContentType]]!==void 0&&t[GA[n.ContentType]].push(n.PartName);break}}),t.xmlns!==pi.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=s,delete t.calcchains,t}function sG(e,t){var s=wje(GA),a=[],n;a[a.length]=Bn,a[a.length]=Lt("Types",null,{xmlns:pi.CT,"xmlns:xsd":pi.xsd,"xmlns:xsi":pi.xsi}),a=a.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return Lt("Default",null,{Extension:c[0],ContentType:c[1]})}));var i=function(c){e[c]&&e[c].length>0&&(n=e[c][0],a[a.length]=Lt("Override",null,{PartName:(n[0]=="/"?"":"/")+n,ContentType:j2[c][t.bookType]||j2[c].xlsx}))},l=function(c){(e[c]||[]).forEach(function(d){a[a.length]=Lt("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:j2[c][t.bookType]||j2[c].xlsx})})},o=function(c){(e[c]||[]).forEach(function(d){a[a.length]=Lt("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:s[c][0]})})};return i("workbooks"),l("sheets"),l("charts"),o("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),l("metadata"),o("people"),a.length>2&&(a[a.length]="</Types>",a[1]=a[1].replace("/>",">")),a.join("")}var ns={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function ab(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function by(e,t){var s={"!id":{}};if(!e)return s;t.charAt(0)!=="/"&&(t="/"+t);var a={};return(e.match(Tl)||[]).forEach(function(n){var i=Er(n);if(i[0]==="<Relationship"){var l={};l.Type=i.Type,l.Target=i.Target,l.Id=i.Id,i.TargetMode&&(l.TargetMode=i.TargetMode);var o=i.TargetMode==="External"?i.Target:hy(i.Target,t);s[o]=l,a[i.Id]=l}}),s["!id"]=a,s}function tg(e){var t=[Bn,Lt("Relationships",null,{xmlns:pi.RELS})];return Nn(e["!id"]).forEach(function(s){t[t.length]=Lt("Relationship",null,e["!id"][s])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Zs(e,t,s,a,n,i){if(n||(n={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,n.Id="rId"+t,n.Type=a,n.Target=s,[ns.HLINK,ns.XPATH,ns.XMISS].indexOf(n.Type)>-1&&(n.TargetMode="External"),e["!id"][n.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][n.Id]=n,e[("/"+n.Target).replace("//","/")]=n,t}var SNe="application/vnd.oasis.opendocument.spreadsheet";function _Ne(e,t){for(var s=nE(e),a,n;a=sb.exec(s);)switch(a[3]){case"manifest":break;case"file-entry":if(n=Er(a[0],!1),n.path=="/"&&n.type!==SNe)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw a}}function kNe(e){var t=[Bn];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var s=0;s<e.length;++s)t.push('  <manifest:file-entry manifest:full-path="'+e[s][0]+'" manifest:media-type="'+e[s][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function IL(e,t,s){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(s||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function ANe(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function CNe(e){var t=[Bn];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var s=0;s!=e.length;++s)t.push(IL(e[s][0],e[s][1])),t.push(ANe("",e[s][0]));return t.push(IL("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function aG(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Jy.version+"</meta:generator></office:meta></office:document-meta>"}var Wc=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],TNe=(function(){for(var e=new Array(Wc.length),t=0;t<Wc.length;++t){var s=Wc[t],a="(?:"+s[0].slice(0,s[0].indexOf(":"))+":)"+s[0].slice(s[0].indexOf(":")+1);e[t]=new RegExp("<"+a+"[^>]*>([\\s\\S]*?)</"+a+">")}return e})();function nG(e){var t={};e=fa(e);for(var s=0;s<Wc.length;++s){var a=Wc[s],n=e.match(TNe[s]);n!=null&&n.length>0&&(t[a[1]]=As(n[1])),a[2]==="date"&&t[a[1]]&&(t[a[1]]=Ia(t[a[1]]))}return t}function b_(e,t,s,a,n){n[e]!=null||t==null||t===""||(n[e]=t,t=ra(t),a[a.length]=s?Lt(e,t,s):rl(e,t))}function iG(e,t){var s=t||{},a=[Bn,Lt("cp:coreProperties",null,{"xmlns:cp":pi.CORE_PROPS,"xmlns:dc":pi.dc,"xmlns:dcterms":pi.dcterms,"xmlns:dcmitype":pi.dcmitype,"xmlns:xsi":pi.xsi})],n={};if(!e&&!s.Props)return a.join("");e&&(e.CreatedDate!=null&&b_("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:HA(e.CreatedDate,s.WTF),{"xsi:type":"dcterms:W3CDTF"},a,n),e.ModifiedDate!=null&&b_("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:HA(e.ModifiedDate,s.WTF),{"xsi:type":"dcterms:W3CDTF"},a,n));for(var i=0;i!=Wc.length;++i){var l=Wc[i],o=s.Props&&s.Props[l[1]]!=null?s.Props[l[1]]:e?e[l[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&b_(l[0],o,null,a,n)}return a.length>2&&(a[a.length]="</cp:coreProperties>",a[1]=a[1].replace("/>",">")),a.join("")}var M0=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],lG=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function oG(e,t,s,a){var n=[];if(typeof e=="string")n=CL(e,a);else for(var i=0;i<e.length;++i)n=n.concat(e[i].map(function(h){return{v:h}}));var l=typeof t=="string"?CL(t,a).map(function(h){return h.v}):t,o=0,c=0;if(l.length>0)for(var d=0;d!==n.length;d+=2){switch(c=+n[d+1].v,n[d].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":s.Worksheets=c,s.SheetNames=l.slice(o,o+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":s.NamedRanges=c,s.DefinedNames=l.slice(o,o+c);break;case"Charts":case"Diagramme":s.Chartsheets=c,s.ChartNames=l.slice(o,o+c);break}o+=c}}function ENe(e,t,s){var a={};return t||(t={}),e=fa(e),M0.forEach(function(n){var i=(e.match(tb(n[0]))||[])[1];switch(n[2]){case"string":i&&(t[n[1]]=As(i));break;case"bool":t[n[1]]=i==="true";break;case"raw":var l=e.match(new RegExp("<"+n[0]+"[^>]*>([\\s\\S]*?)</"+n[0]+">"));l&&l.length>0&&(a[n[1]]=l[1]);break}}),a.HeadingPairs&&a.TitlesOfParts&&oG(a.HeadingPairs,a.TitlesOfParts,t,s),t}function cG(e){var t=[],s=Lt;return e||(e={}),e.Application="SheetJS",t[t.length]=Bn,t[t.length]=Lt("Properties",null,{xmlns:pi.EXT_PROPS,"xmlns:vt":pi.vt}),M0.forEach(function(a){if(e[a[1]]!==void 0){var n;switch(a[2]){case"string":n=ra(String(e[a[1]]));break;case"bool":n=e[a[1]]?"true":"false";break}n!==void 0&&(t[t.length]=s(a[0],n))}}),t[t.length]=s("HeadingPairs",s("vt:vector",s("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+s("vt:variant",s("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=s("TitlesOfParts",s("vt:vector",e.SheetNames.map(function(a){return"<vt:lpstr>"+ra(a)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var PNe=/<[^>]+>[^<]*/g;function ONe(e,t){var s={},a="",n=e.match(PNe);if(n)for(var i=0;i!=n.length;++i){var l=n[i],o=Er(l);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":a=As(o.name);break;case"</property>":a=null;break;default:if(l.indexOf("<vt:")===0){var c=l.split(">"),d=c[0].slice(4),h=c[1];switch(d){case"lpstr":case"bstr":case"lpwstr":s[a]=As(h);break;case"bool":s[a]=Ra(h);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":s[a]=parseInt(h,10);break;case"r4":case"r8":case"decimal":s[a]=parseFloat(h);break;case"filetime":case"date":s[a]=Ia(h);break;case"cy":case"error":s[a]=As(h);break;default:if(d.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",l,d,c)}}else if(l.slice(0,2)!=="</"){if(t.WTF)throw new Error(l)}}}return s}function dG(e){var t=[Bn,Lt("Properties",null,{xmlns:pi.CUST_PROPS,"xmlns:vt":pi.vt})];if(!e)return t.join("");var s=1;return Nn(e).forEach(function(n){++s,t[t.length]=Lt("property",zje(e[n]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:s,name:ra(n)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var KA={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},j_;function DNe(e,t,s){j_||(j_=I5(KA)),t=j_[t]||t,e[t]=s}function RNe(e,t){var s=[];return Nn(KA).map(function(a){for(var n=0;n<Wc.length;++n)if(Wc[n][1]==a)return Wc[n];for(n=0;n<M0.length;++n)if(M0[n][1]==a)return M0[n];throw a}).forEach(function(a){if(e[a[1]]!=null){var n=t&&t.Props&&t.Props[a[1]]!=null?t.Props[a[1]]:e[a[1]];a[2]==="date"&&(n=new Date(n).toISOString().replace(/\.\d*Z/,"Z")),typeof n=="number"?n=String(n):n===!0||n===!1?n=n?"1":"0":n instanceof Date&&(n=new Date(n).toISOString().replace(/\.\d*Z/,"")),s.push(rl(KA[a[1]]||a[1],n))}}),Lt("DocumentProperties",s.join(""),{xmlns:Yo.o})}function MNe(e,t){var s=["Worksheets","SheetNames"],a="CustomDocumentProperties",n=[];return e&&Nn(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var l=0;l<Wc.length;++l)if(i==Wc[l][1])return;for(l=0;l<M0.length;++l)if(i==M0[l][1])return;for(l=0;l<s.length;++l)if(i==s[l])return;var o=e[i],c="string";typeof o=="number"?(c="float",o=String(o)):o===!0||o===!1?(c="boolean",o=o?"1":"0"):o=String(o),n.push(Lt(SL(i),o,{"dt:dt":c}))}}),t&&Nn(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var l=t[i],o="string";typeof l=="number"?(o="float",l=String(l)):l===!0||l===!1?(o="boolean",l=l?"1":"0"):l instanceof Date?(o="dateTime.tz",l=l.toISOString()):l=String(l),n.push(Lt(SL(i),l,{"dt:dt":o}))}}),"<"+a+' xmlns="'+Yo.o+'">'+n.join("")+"</"+a+">"}function bE(e){var t=e.read_shift(4),s=e.read_shift(4);return new Date((s/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function FNe(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,s=t.getTime()/1e3+11644473600,a=s%Math.pow(2,32),n=(s-a)/Math.pow(2,32);a*=1e7,n*=1e7;var i=a/Math.pow(2,32)|0;i>0&&(a=a%Math.pow(2,32),n+=i);var l=vt(8);return l.write_shift(4,a),l.write_shift(4,n),l}function uG(e,t,s){var a=e.l,n=e.read_shift(0,"lpstr-cp");if(s)for(;e.l-a&3;)++e.l;return n}function hG(e,t,s){var a=e.read_shift(0,"lpwstr");return a}function fG(e,t,s){return t===31?hG(e):uG(e,t,s)}function YA(e,t,s){return fG(e,t,s===!1?0:4)}function LNe(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return fG(e,t,0)}function INe(e){for(var t=e.read_shift(4),s=[],a=0;a!=t;++a){var n=e.l;s[a]=e.read_shift(0,"lpwstr").replace(_l,""),e.l-n&2&&(e.l+=2)}return s}function BNe(e){for(var t=e.read_shift(4),s=[],a=0;a!=t;++a)s[a]=e.read_shift(0,"lpstr-cp").replace(_l,"");return s}function UNe(e){var t=e.l,s=lw(e,tG);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var a=lw(e,go);return[s,a]}function zNe(e){for(var t=e.read_shift(4),s=[],a=0;a<t/2;++a)s.push(UNe(e));return s}function BL(e,t){for(var s=e.read_shift(4),a={},n=0;n!=s;++n){var i=e.read_shift(4),l=e.read_shift(4);a[i]=e.read_shift(l,t===1200?"utf16le":"utf8").replace(_l,"").replace(uy,"!"),t===1200&&l%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),a}function mG(e){var t=e.read_shift(4),s=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),s}function $Ne(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function lw(e,t,s){var a=e.read_shift(2),n,i=s||{};if(e.l+=2,t!==FL&&a!==t&&yNe.indexOf(t)===-1&&!((t&65534)==4126&&(a&65534)==4126))throw new Error("Expected type "+t+" saw "+a);switch(t===FL?a:t){case 2:return n=e.read_shift(2,"i"),i.raw||(e.l+=2),n;case 3:return n=e.read_shift(4,"i"),n;case 11:return e.read_shift(4)!==0;case 19:return n=e.read_shift(4),n;case 30:return uG(e,a,4).replace(_l,"");case 31:return hG(e);case 64:return bE(e);case 65:return mG(e);case 71:return $Ne(e);case 80:return YA(e,a,!i.raw).replace(_l,"");case 81:return LNe(e,a).replace(_l,"");case 4108:return zNe(e);case 4126:case 4127:return a==4127?INe(e):BNe(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+a)}}function UL(e,t){var s=vt(4),a=vt(4);switch(s.write_shift(4,e==80?31:e),e){case 3:a.write_shift(-4,t);break;case 5:a=vt(8),a.write_shift(8,t,"f");break;case 11:a.write_shift(4,t?1:0);break;case 64:a=FNe(t);break;case 31:case 80:for(a=vt(4+2*(t.length+1)+(t.length%2?0:2)),a.write_shift(4,t.length+1),a.write_shift(0,t,"dbcs");a.l!=a.length;)a.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Mi([s,a])}function zL(e,t){var s=e.l,a=e.read_shift(4),n=e.read_shift(4),i=[],l=0,o=0,c=-1,d={};for(l=0;l!=n;++l){var h=e.read_shift(4),m=e.read_shift(4);i[l]=[h,m+s]}i.sort(function(S,w){return S[1]-w[1]});var p={};for(l=0;l!=n;++l){if(e.l!==i[l][1]){var x=!0;if(l>0&&t)switch(t[i[l-1][0]].t){case 2:e.l+2===i[l][1]&&(e.l+=2,x=!1);break;case 80:e.l<=i[l][1]&&(e.l=i[l][1],x=!1);break;case 4108:e.l<=i[l][1]&&(e.l=i[l][1],x=!1);break}if((!t||l==0)&&e.l<=i[l][1]&&(x=!1,e.l=i[l][1]),x)throw new Error("Read Error: Expected address "+i[l][1]+" at "+e.l+" :"+l)}if(t){var v=t[i[l][0]];if(p[v.n]=lw(e,v.t,{raw:!0}),v.p==="version"&&(p[v.n]=String(p[v.n]>>16)+"."+("0000"+String(p[v.n]&65535)).slice(-4)),v.n=="CodePage")switch(p[v.n]){case 0:p[v.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:qc(o=p[v.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+p[v.n])}}else if(i[l][0]===1){if(o=p.CodePage=lw(e,vE),qc(o),c!==-1){var y=e.l;e.l=i[c][1],d=BL(e,o),e.l=y}}else if(i[l][0]===0){if(o===0){c=l,e.l=i[l+1][1];continue}d=BL(e,o)}else{var b=d[i[l][0]],j;switch(e[e.l]){case 65:e.l+=4,j=mG(e);break;case 30:e.l+=4,j=YA(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,j=YA(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,j=e.read_shift(4,"i");break;case 19:e.l+=4,j=e.read_shift(4);break;case 5:e.l+=4,j=e.read_shift(8,"f");break;case 11:e.l+=4,j=En(e,4);break;case 64:e.l+=4,j=Ia(bE(e));break;default:throw new Error("unparsed value: "+e[e.l])}p[b]=j}}return e.l=s+a,p}var xG=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function HNe(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function $L(e,t,s){var a=vt(8),n=[],i=[],l=8,o=0,c=vt(8),d=vt(8);if(c.write_shift(4,2),c.write_shift(4,1200),d.write_shift(4,1),i.push(c),n.push(d),l+=8+c.length,!t){d=vt(8),d.write_shift(4,0),n.unshift(d);var h=[vt(4)];for(h[0].write_shift(4,e.length),o=0;o<e.length;++o){var m=e[o][0];for(c=vt(8+2*(m.length+1)+(m.length%2?0:2)),c.write_shift(4,o+2),c.write_shift(4,m.length+1),c.write_shift(0,m,"dbcs");c.l!=c.length;)c.write_shift(1,0);h.push(c)}c=Mi(h),i.unshift(c),l+=8+c.length}for(o=0;o<e.length;++o)if(!(t&&!t[e[o][0]])&&!(xG.indexOf(e[o][0])>-1||lG.indexOf(e[o][0])>-1)&&e[o][1]!=null){var p=e[o][1],x=0;if(t){x=+t[e[o][0]];var v=s[x];if(v.p=="version"&&typeof p=="string"){var y=p.split(".");p=(+y[0]<<16)+(+y[1]||0)}c=UL(v.t,p)}else{var b=HNe(p);b==-1&&(b=31,p=String(p)),c=UL(b,p)}i.push(c),d=vt(8),d.write_shift(4,t?x:2+o),n.push(d),l+=8+c.length}var j=8*(i.length+1);for(o=0;o<i.length;++o)n[o].write_shift(4,j),j+=i[o].length;return a.write_shift(4,l),a.write_shift(4,i.length),Mi([a].concat(n).concat(i))}function HL(e,t,s){var a=e.content;if(!a)return{};tl(a,0);var n,i,l,o,c=0;a.chk("feff","Byte Order: "),a.read_shift(2);var d=a.read_shift(4),h=a.read_shift(16);if(h!==xr.utils.consts.HEADER_CLSID&&h!==s)throw new Error("Bad PropertySet CLSID "+h);if(n=a.read_shift(4),n!==1&&n!==2)throw new Error("Unrecognized #Sets: "+n);if(i=a.read_shift(16),o=a.read_shift(4),n===1&&o!==a.l)throw new Error("Length mismatch: "+o+" !== "+a.l);n===2&&(l=a.read_shift(16),c=a.read_shift(4));var m=zL(a,t),p={SystemIdentifier:d};for(var x in m)p[x]=m[x];if(p.FMTID=i,n===1)return p;if(c-a.l==2&&(a.l+=2),a.l!==c)throw new Error("Length mismatch 2: "+a.l+" !== "+c);var v;try{v=zL(a,null)}catch{}for(x in v)p[x]=v[x];return p.FMTID=[i,l],p}function qL(e,t,s,a,n,i){var l=vt(n?68:48),o=[l];l.write_shift(2,65534),l.write_shift(2,0),l.write_shift(4,842412599),l.write_shift(16,xr.utils.consts.HEADER_CLSID,"hex"),l.write_shift(4,n?2:1),l.write_shift(16,t,"hex"),l.write_shift(4,n?68:48);var c=$L(e,s,a);if(o.push(c),n){var d=$L(n,null,null);l.write_shift(16,i,"hex"),l.write_shift(4,68+c.length),o.push(d)}return Mi(o)}function Xf(e,t){return e.read_shift(t),null}function qNe(e,t){t||(t=vt(e));for(var s=0;s<e;++s)t.write_shift(1,0);return t}function VNe(e,t,s){for(var a=[],n=e.l+t;e.l<n;)a.push(s(e,n-e.l));if(n!==e.l)throw new Error("Slurp error");return a}function En(e,t){return e.read_shift(t)===1}function Ul(e,t){return t||(t=vt(2)),t.write_shift(2,+!!e),t}function Kn(e){return e.read_shift(2,"u")}function Bc(e,t){return t||(t=vt(2)),t.write_shift(2,e),t}function pG(e,t){return VNe(e,t,Kn)}function WNe(e){var t=e.read_shift(1),s=e.read_shift(1);return s===1?t:t===1}function gG(e,t,s){return s||(s=vt(2)),s.write_shift(1,t=="e"?+e:+!!e),s.write_shift(1,t=="e"?1:0),s}function Xb(e,t,s){var a=e.read_shift(s&&s.biff>=12?2:1),n="sbcs-cont",i=ac;if(s&&s.biff>=8&&(ac=1200),!s||s.biff==8){var l=e.read_shift(1);l&&(n="dbcs-cont")}else s.biff==12&&(n="wstr");s.biff>=2&&s.biff<=5&&(n="cpstr");var o=a?e.read_shift(a,n):"";return ac=i,o}function GNe(e){var t=ac;ac=1200;var s=e.read_shift(2),a=e.read_shift(1),n=a&4,i=a&8,l=1+(a&1),o=0,c,d={};i&&(o=e.read_shift(2)),n&&(c=e.read_shift(4));var h=l==2?"dbcs-cont":"sbcs-cont",m=s===0?"":e.read_shift(s,h);return i&&(e.l+=4*o),n&&(e.l+=c),d.t=m,i||(d.raw="<t>"+d.t+"</t>",d.r=d.t),ac=t,d}function KNe(e){var t=e.t||"",s=vt(3);s.write_shift(2,t.length),s.write_shift(1,1);var a=vt(2*t.length);a.write_shift(2*t.length,t,"utf16le");var n=[s,a];return Mi(n)}function ix(e,t,s){var a;if(s){if(s.biff>=2&&s.biff<=5)return e.read_shift(t,"cpstr");if(s.biff>=12)return e.read_shift(t,"dbcs-cont")}var n=e.read_shift(1);return n===0?a=e.read_shift(t,"sbcs-cont"):a=e.read_shift(t,"dbcs-cont"),a}function Zb(e,t,s){var a=e.read_shift(s&&s.biff==2?1:2);return a===0?(e.l++,""):ix(e,a,s)}function Sx(e,t,s){if(s.biff>5)return Zb(e,t,s);var a=e.read_shift(1);return a===0?(e.l++,""):e.read_shift(a,s.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function vG(e,t,s){return s||(s=vt(3+2*e.length)),s.write_shift(2,e.length),s.write_shift(1,1),s.write_shift(31,e,"utf16le"),s}function YNe(e){var t=e.read_shift(1);e.l++;var s=e.read_shift(2);return e.l+=2,[t,s]}function XNe(e){var t=e.read_shift(4),s=e.l,a=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(a=!0),e.l=s);var n=e.read_shift((a?t-24:t)>>1,"utf16le").replace(_l,"");return a&&(e.l+=24),n}function ZNe(e){for(var t=e.read_shift(2),s="";t-- >0;)s+="../";var a=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var n=e.read_shift(4);if(n===0)return s+a.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var l=e.read_shift(i>>1,"utf16le").replace(_l,"");return s+l}function JNe(e,t){var s=e.read_shift(16);switch(s){case"e0c9ea79f9bace118c8200aa004ba90b":return XNe(e);case"0303000000000000c000000000000046":return ZNe(e);default:throw new Error("Unsupported Moniker "+s)}}function N2(e){var t=e.read_shift(4),s=t>0?e.read_shift(t,"utf16le").replace(_l,""):"";return s}function VL(e,t){t||(t=vt(6+e.length*2)),t.write_shift(4,1+e.length);for(var s=0;s<e.length;++s)t.write_shift(2,e.charCodeAt(s));return t.write_shift(2,0),t}function QNe(e,t){var s=e.l+t,a=e.read_shift(4);if(a!==2)throw new Error("Unrecognized streamVersion: "+a);var n=e.read_shift(2);e.l+=2;var i,l,o,c,d="",h,m;n&16&&(i=N2(e,s-e.l)),n&128&&(l=N2(e,s-e.l)),(n&257)===257&&(o=N2(e,s-e.l)),(n&257)===1&&(c=JNe(e,s-e.l)),n&8&&(d=N2(e,s-e.l)),n&32&&(h=e.read_shift(16)),n&64&&(m=bE(e)),e.l=s;var p=l||o||c||"";p&&d&&(p+="#"+d),p||(p="#"+d),n&2&&p.charAt(0)=="/"&&p.charAt(1)!="/"&&(p="file://"+p);var x={Target:p};return h&&(x.guid=h),m&&(x.time=m),i&&(x.Tooltip=i),x}function ewe(e){var t=vt(512),s=0,a=e.Target;a.slice(0,7)=="file://"&&(a=a.slice(7));var n=a.indexOf("#"),i=n>-1?31:23;switch(a.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var l=[8,6815827,6619237,4849780,83];for(s=0;s<l.length;++s)t.write_shift(4,l[s]);if(i==28)a=a.slice(1),VL(a,t);else if(i&2){for(l="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),s=0;s<l.length;++s)t.write_shift(1,parseInt(l[s],16));var o=n>-1?a.slice(0,n):a;for(t.write_shift(4,2*(o.length+1)),s=0;s<o.length;++s)t.write_shift(2,o.charCodeAt(s));t.write_shift(2,0),i&8&&VL(n>-1?a.slice(n+1):"",t)}else{for(l="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),s=0;s<l.length;++s)t.write_shift(1,parseInt(l[s],16));for(var c=0;a.slice(c*3,c*3+3)=="../"||a.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,a.length-3*c+1),s=0;s<a.length-3*c;++s)t.write_shift(1,a.charCodeAt(s+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),s=0;s<6;++s)t.write_shift(4,0)}return t.slice(0,t.l)}function yG(e){var t=e.read_shift(1),s=e.read_shift(1),a=e.read_shift(1),n=e.read_shift(1);return[t,s,a,n]}function bG(e,t){var s=yG(e);return s[3]=0,s}function Yu(e){var t=e.read_shift(2),s=e.read_shift(2),a=e.read_shift(2);return{r:t,c:s,ixfe:a}}function lx(e,t,s,a){return a||(a=vt(6)),a.write_shift(2,e),a.write_shift(2,t),a.write_shift(2,s||0),a}function twe(e){var t=e.read_shift(2),s=e.read_shift(2);return e.l+=8,{type:t,flags:s}}function rwe(e,t,s){return t===0?"":Sx(e,t,s)}function swe(e,t,s){var a=s.biff>8?4:2,n=e.read_shift(a),i=e.read_shift(a,"i"),l=e.read_shift(a,"i");return[n,i,l]}function jG(e){var t=e.read_shift(2),s=gE(e);return[t,s]}function awe(e,t,s){e.l+=4,t-=4;var a=e.l+t,n=Xb(e,t,s),i=e.read_shift(2);if(a-=e.l,i!==a)throw new Error("Malformed AddinUdf: padding = "+a+" != "+i);return e.l+=i,n}function $5(e){var t=e.read_shift(2),s=e.read_shift(2),a=e.read_shift(2),n=e.read_shift(2);return{s:{c:a,r:t},e:{c:n,r:s}}}function NG(e,t){return t||(t=vt(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function wG(e){var t=e.read_shift(2),s=e.read_shift(2),a=e.read_shift(1),n=e.read_shift(1);return{s:{c:a,r:t},e:{c:n,r:s}}}var nwe=wG;function SG(e){e.l+=4;var t=e.read_shift(2),s=e.read_shift(2),a=e.read_shift(2);return e.l+=12,[s,t,a]}function iwe(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function lwe(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function dl(e){e.l+=2,e.l+=e.read_shift(2)}var owe={0:dl,4:dl,5:dl,6:dl,7:lwe,8:dl,9:dl,10:dl,11:dl,12:dl,13:iwe,14:dl,15:dl,16:dl,17:dl,18:dl,19:dl,20:dl,21:SG};function cwe(e,t){for(var s=e.l+t,a=[];e.l<s;){var n=e.read_shift(2);e.l-=2;try{a.push(owe[n](e,s-e.l))}catch{return e.l=s,a}}return e.l!=s&&(e.l=s),a}function w2(e,t){var s={BIFFVer:0,dt:0};switch(s.BIFFVer=e.read_shift(2),t-=2,t>=2&&(s.dt=e.read_shift(2),e.l-=2),s.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+s.BIFFVer)}return e.read_shift(t),s}function jE(e,t,s){var a=1536,n=16;switch(s.bookType){case"biff8":break;case"biff5":a=1280,n=8;break;case"biff4":a=4,n=6;break;case"biff3":a=3,n=6;break;case"biff2":a=2,n=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=vt(n);return i.write_shift(2,a),i.write_shift(2,t),n>4&&i.write_shift(2,29282),n>6&&i.write_shift(2,1997),n>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function dwe(e,t){return t===0||e.read_shift(2),1200}function uwe(e,t,s){if(s.enc)return e.l+=t,"";var a=e.l,n=Sx(e,0,s);return e.read_shift(t+a-e.l),n}function hwe(e,t){var s=!t||t.biff==8,a=vt(s?112:54);for(a.write_shift(t.biff==8?2:1,7),s&&a.write_shift(1,0),a.write_shift(4,859007059),a.write_shift(4,5458548|(s?0:536870912));a.l<a.length;)a.write_shift(1,s?0:32);return a}function fwe(e,t,s){var a=s&&s.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:a&16,fBelow:a&64,fRight:a&128}}function mwe(e,t,s){var a=e.read_shift(4),n=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var l=Xb(e,0,s);return l.length===0&&(l="Sheet1"),{pos:a,hs:n,dt:i,name:l}}function xwe(e,t){var s=!t||t.biff>=8?2:1,a=vt(8+s*e.name.length);a.write_shift(4,e.pos),a.write_shift(1,e.hs||0),a.write_shift(1,e.dt),a.write_shift(1,e.name.length),t.biff>=8&&a.write_shift(1,1),a.write_shift(s*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var n=a.slice(0,a.l);return n.l=a.l,n}function pwe(e,t){for(var s=e.l+t,a=e.read_shift(4),n=e.read_shift(4),i=[],l=0;l!=n&&e.l<s;++l)i.push(GNe(e));return i.Count=a,i.Unique=n,i}function gwe(e,t){var s=vt(8);s.write_shift(4,e.Count),s.write_shift(4,e.Unique);for(var a=[],n=0;n<e.length;++n)a[n]=KNe(e[n]);var i=Mi([s].concat(a));return i.parts=[s.length].concat(a.map(function(l){return l.length})),i}function vwe(e,t){var s={};return s.dsst=e.read_shift(2),e.l+=t-2,s}function ywe(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var s=e.read_shift(2);e.l+=4;var a=e.read_shift(1);return e.l+=3,a&7&&(t.level=a&7),a&32&&(t.hidden=!0),a&64&&(t.hpt=s/20),t}function bwe(e){var t=twe(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var s=e.read_shift(4);return s!==0}function jwe(e){return e.read_shift(2),e.read_shift(4)}function WL(e,t,s){var a=0;s&&s.biff==2||(a=e.read_shift(2));var n=e.read_shift(2);s&&s.biff==2&&(a=1-(n>>15),n&=32767);var i={Unsynced:a&1,DyZero:(a&2)>>1,ExAsc:(a&4)>>2,ExDsc:(a&8)>>3};return[i,n]}function Nwe(e){var t=e.read_shift(2),s=e.read_shift(2),a=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2),l=e.read_shift(2),o=e.read_shift(2),c=e.read_shift(2),d=e.read_shift(2);return{Pos:[t,s],Dim:[a,n],Flags:i,CurTab:l,FirstTab:o,Selected:c,TabRatio:d}}function wwe(){var e=vt(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function Swe(e,t,s){if(s&&s.biff>=2&&s.biff<5)return{};var a=e.read_shift(2);return{RTL:a&64}}function _we(e){var t=vt(18),s=1718;return e&&e.RTL&&(s|=64),t.write_shift(2,s),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function kwe(){}function Awe(e,t,s){var a={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(s&&s.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return a.name=Xb(e,0,s),a}function Cwe(e,t){var s=e.name||"Arial",a=t&&t.biff==5,n=a?15+s.length:16+2*s.length,i=vt(n);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,s.length),a||i.write_shift(1,1),i.write_shift((a?1:2)*s.length,s,a?"sbcs":"utf16le"),i}function Twe(e){var t=Yu(e);return t.isst=e.read_shift(4),t}function Ewe(e,t,s,a){var n=vt(10);return lx(e,t,a,n),n.write_shift(4,s),n}function Pwe(e,t,s){s.biffguess&&s.biff==2&&(s.biff=5);var a=e.l+t,n=Yu(e);s.biff==2&&e.l++;var i=Zb(e,a-e.l,s);return n.val=i,n}function Owe(e,t,s,a,n){var i=!n||n.biff==8,l=vt(8+ +i+(1+i)*s.length);return lx(e,t,a,l),l.write_shift(2,s.length),i&&l.write_shift(1,1),l.write_shift((1+i)*s.length,s,i?"utf16le":"sbcs"),l}function Dwe(e,t,s){var a=e.read_shift(2),n=Sx(e,0,s);return[a,n]}function Rwe(e,t,s,a){var n=s&&s.biff==5;a||(a=vt(n?3+t.length:5+2*t.length)),a.write_shift(2,e),a.write_shift(n?1:2,t.length),n||a.write_shift(1,1),a.write_shift((n?1:2)*t.length,t,n?"sbcs":"utf16le");var i=a.length>a.l?a.slice(0,a.l):a;return i.l==null&&(i.l=i.length),i}var Mwe=Sx;function GL(e,t,s){var a=e.l+t,n=s.biff==8||!s.biff?4:2,i=e.read_shift(n),l=e.read_shift(n),o=e.read_shift(2),c=e.read_shift(2);return e.l=a,{s:{r:i,c:o},e:{r:l,c}}}function Fwe(e,t){var s=t.biff==8||!t.biff?4:2,a=vt(2*s+6);return a.write_shift(s,e.s.r),a.write_shift(s,e.e.r+1),a.write_shift(2,e.s.c),a.write_shift(2,e.e.c+1),a.write_shift(2,0),a}function Lwe(e){var t=e.read_shift(2),s=e.read_shift(2),a=jG(e);return{r:t,c:s,ixfe:a[0],rknum:a[1]}}function Iwe(e,t){for(var s=e.l+t-2,a=e.read_shift(2),n=e.read_shift(2),i=[];e.l<s;)i.push(jG(e));if(e.l!==s)throw new Error("MulRK read error");var l=e.read_shift(2);if(i.length!=l-n+1)throw new Error("MulRK length mismatch");return{r:a,c:n,C:l,rkrec:i}}function Bwe(e,t){for(var s=e.l+t-2,a=e.read_shift(2),n=e.read_shift(2),i=[];e.l<s;)i.push(e.read_shift(2));if(e.l!==s)throw new Error("MulBlank read error");var l=e.read_shift(2);if(i.length!=l-n+1)throw new Error("MulBlank length mismatch");return{r:a,c:n,C:l,ixfe:i}}function Uwe(e,t,s,a){var n={},i=e.read_shift(4),l=e.read_shift(4),o=e.read_shift(4),c=e.read_shift(2);return n.patternType=bNe[o>>26],a.cellStyles&&(n.alc=i&7,n.fWrap=i>>3&1,n.alcV=i>>4&7,n.fJustLast=i>>7&1,n.trot=i>>8&255,n.cIndent=i>>16&15,n.fShrinkToFit=i>>20&1,n.iReadOrder=i>>22&2,n.fAtrNum=i>>26&1,n.fAtrFnt=i>>27&1,n.fAtrAlc=i>>28&1,n.fAtrBdr=i>>29&1,n.fAtrPat=i>>30&1,n.fAtrProt=i>>31&1,n.dgLeft=l&15,n.dgRight=l>>4&15,n.dgTop=l>>8&15,n.dgBottom=l>>12&15,n.icvLeft=l>>16&127,n.icvRight=l>>23&127,n.grbitDiag=l>>30&3,n.icvTop=o&127,n.icvBottom=o>>7&127,n.icvDiag=o>>14&127,n.dgDiag=o>>21&15,n.icvFore=c&127,n.icvBack=c>>7&127,n.fsxButton=c>>14&1),n}function zwe(e,t,s){var a={};return a.ifnt=e.read_shift(2),a.numFmtId=e.read_shift(2),a.flags=e.read_shift(2),a.fStyle=a.flags>>2&1,t-=6,a.data=Uwe(e,t,a.fStyle,s),a}function KL(e,t,s,a){var n=s&&s.biff==5;a||(a=vt(n?16:20)),a.write_shift(2,0),e.style?(a.write_shift(2,e.numFmtId||0),a.write_shift(2,65524)):(a.write_shift(2,e.numFmtId||0),a.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&n&&(i|=1024),a.write_shift(4,i),a.write_shift(4,0),n||a.write_shift(4,0),a.write_shift(2,0),a}function $we(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function Hwe(e){var t=vt(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function YL(e,t,s){var a=Yu(e);(s.biff==2||t==9)&&++e.l;var n=WNe(e);return a.val=n,a.t=n===!0||n===!1?"b":"e",a}function qwe(e,t,s,a,n,i){var l=vt(8);return lx(e,t,a,l),gG(s,i,l),l}function Vwe(e,t,s){s.biffguess&&s.biff==2&&(s.biff=5);var a=Yu(e),n=Nl(e);return a.val=n,a}function Wwe(e,t,s,a){var n=vt(14);return lx(e,t,a,n),nx(s,n),n}var XL=rwe;function Gwe(e,t,s){var a=e.l+t,n=e.read_shift(2),i=e.read_shift(2);if(s.sbcch=i,i==1025||i==14849)return[i,n];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var l=ix(e,i),o=[];a>e.l;)o.push(Zb(e));return[i,n,l,o]}function ZL(e,t,s){var a=e.read_shift(2),n,i={fBuiltIn:a&1,fWantAdvise:a>>>1&1,fWantPict:a>>>2&1,fOle:a>>>3&1,fOleLink:a>>>4&1,cf:a>>>5&1023,fIcon:a>>>15&1};return s.sbcch===14849&&(n=awe(e,t-2,s)),i.body=n||e.read_shift(t-2),typeof n=="string"&&(i.Name=n),i}var Kwe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function JL(e,t,s){var a=e.l+t,n=e.read_shift(2),i=e.read_shift(1),l=e.read_shift(1),o=e.read_shift(s&&s.biff==2?1:2),c=0;(!s||s.biff>=5)&&(s.biff!=5&&(e.l+=2),c=e.read_shift(2),s.biff==5&&(e.l+=2),e.l+=4);var d=ix(e,l,s);n&32&&(d=Kwe[d.charCodeAt(0)]);var h=a-e.l;s&&s.biff==2&&--h;var m=a==e.l||o===0||!(h>0)?[]:c_e(e,h,s,o);return{chKey:i,Name:d,itab:c,rgce:m}}function _G(e,t,s){if(s.biff<8)return Ywe(e,t,s);for(var a=[],n=e.l+t,i=e.read_shift(s.biff>8?4:2);i--!==0;)a.push(swe(e,s.biff>8?12:6,s));if(e.l!=n)throw new Error("Bad ExternSheet: "+e.l+" != "+n);return a}function Ywe(e,t,s){e[e.l+1]==3&&e[e.l]++;var a=Xb(e,t,s);return a.charCodeAt(0)==3?a.slice(1):a}function Xwe(e,t,s){if(s.biff<8){e.l+=t;return}var a=e.read_shift(2),n=e.read_shift(2),i=ix(e,a,s),l=ix(e,n,s);return[i,l]}function Zwe(e,t,s){var a=wG(e);e.l++;var n=e.read_shift(1);return t-=8,[d_e(e,t,s),n,a]}function QL(e,t,s){var a=nwe(e);switch(s.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[a,l_e(e,t,s)]}function Jwe(e){var t=e.read_shift(4)!==0,s=e.read_shift(4)!==0,a=e.read_shift(4);return[t,s,a]}function Qwe(e,t,s){if(!(s.biff<8)){var a=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2),l=e.read_shift(2),o=Sx(e,0,s);return s.biff<8&&e.read_shift(1),[{r:a,c:n},o,l,i]}}function e5e(e,t,s){return Qwe(e,t,s)}function t5e(e,t){for(var s=[],a=e.read_shift(2);a--;)s.push($5(e));return s}function r5e(e){var t=vt(2+e.length*8);t.write_shift(2,e.length);for(var s=0;s<e.length;++s)NG(e[s],t);return t}function s5e(e,t,s){if(s&&s.biff<8)return n5e(e,t,s);var a=SG(e),n=cwe(e,t-22,a[1]);return{cmo:a,ft:n}}var a5e={8:function(e,t){var s=e.l+t;e.l+=10;var a=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var n=e.read_shift(1);return e.l+=n,e.l=s,{fmt:a}}};function n5e(e,t,s){e.l+=4;var a=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var l=[];return l.push((a5e[a]||Cl)(e,t,s)),{cmo:[n,a,i],ft:l}}function i5e(e,t,s){var a=e.l,n="";try{e.l+=4;var i=(s.lastobj||{cmo:[0,0]}).cmo[1],l;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:l=YNe(e,6,s);var o=e.read_shift(2);e.read_shift(2),Kn(e,2);var c=e.read_shift(2);e.l+=c;for(var d=1;d<e.lens.length-1;++d){if(e.l-a!=e.lens[d])throw new Error("TxO: bad continue record");var h=e[e.l],m=ix(e,e.lens[d+1]-e.lens[d]-1);if(n+=m,n.length>=(h?o:2*o))break}if(n.length!==o&&n.length!==o*2)throw new Error("cchText: "+o+" != "+n.length);return e.l=a+t,{t:n}}catch{return e.l=a+t,{t:n}}}function l5e(e,t){var s=$5(e);e.l+=16;var a=QNe(e,t-24);return[s,a]}function o5e(e){var t=vt(24),s=sn(e[0]);t.write_shift(2,s.r),t.write_shift(2,s.r),t.write_shift(2,s.c),t.write_shift(2,s.c);for(var a="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<16;++n)t.write_shift(1,parseInt(a[n],16));return Mi([t,ewe(e[1])])}function c5e(e,t){e.read_shift(2);var s=$5(e),a=e.read_shift((t-10)/2,"dbcs-cont");return a=a.replace(_l,""),[s,a]}function d5e(e){var t=e[1].Tooltip,s=vt(10+2*(t.length+1));s.write_shift(2,2048);var a=sn(e[0]);s.write_shift(2,a.r),s.write_shift(2,a.r),s.write_shift(2,a.c),s.write_shift(2,a.c);for(var n=0;n<t.length;++n)s.write_shift(2,t.charCodeAt(n));return s.write_shift(2,0),s}function u5e(e){var t=[0,0],s;return s=e.read_shift(2),t[0]=LL[s]||s,s=e.read_shift(2),t[1]=LL[s]||s,t}function h5e(e){return e||(e=vt(4)),e.write_shift(2,1),e.write_shift(2,1),e}function f5e(e){for(var t=e.read_shift(2),s=[];t-- >0;)s.push(bG(e));return s}function m5e(e){for(var t=e.read_shift(2),s=[];t-- >0;)s.push(bG(e));return s}function x5e(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function kG(e,t,s){if(!s.cellStyles)return Cl(e,t);var a=s&&s.biff>=12?4:2,n=e.read_shift(a),i=e.read_shift(a),l=e.read_shift(a),o=e.read_shift(a),c=e.read_shift(2);a==2&&(e.l+=2);var d={s:n,e:i,w:l,ixfe:o,flags:c};return(s.biff>=5||!s.biff)&&(d.level=c>>8&7),d}function p5e(e,t){var s=vt(12);s.write_shift(2,t),s.write_shift(2,t),s.write_shift(2,e.width*256),s.write_shift(2,0);var a=0;return e.hidden&&(a|=1),s.write_shift(1,a),a=e.level||0,s.write_shift(1,a),s.write_shift(2,0),s}function g5e(e,t){var s={};return t<32||(e.l+=16,s.header=Nl(e),s.footer=Nl(e),e.l+=2),s}function v5e(e,t,s){var a={area:!1};if(s.biff!=5)return e.l+=t,a;var n=e.read_shift(1);return e.l+=3,n&16&&(a.area=!0),a}function y5e(e){for(var t=vt(2*e),s=0;s<e;++s)t.write_shift(2,s+1);return t}var b5e=Yu,j5e=pG,N5e=Zb;function w5e(e){var t=e.read_shift(2),s=e.read_shift(2),a=e.read_shift(4),n={fmt:t,env:s,len:a,data:e.slice(e.l,e.l+a)};return e.l+=a,n}function S5e(e,t,s){s.biffguess&&s.biff==5&&(s.biff=2);var a=Yu(e);++e.l;var n=Sx(e,t-7,s);return a.t="str",a.val=n,a}function _5e(e){var t=Yu(e);++e.l;var s=Nl(e);return t.t="n",t.val=s,t}function k5e(e,t,s){var a=vt(15);return t1(a,e,t),a.write_shift(8,s,"f"),a}function A5e(e){var t=Yu(e);++e.l;var s=e.read_shift(2);return t.t="n",t.val=s,t}function C5e(e,t,s){var a=vt(9);return t1(a,e,t),a.write_shift(2,s),a}function T5e(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function E5e(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function P5e(e,t,s){var a=e.l+t,n=Yu(e),i=e.read_shift(2),l=ix(e,i,s);return e.l=a,n.t="str",n.val=l,n}var O5e=[2,3,48,49,131,139,140,245],XA=(function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=I5({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function s(o,c){var d=[],h=Sm(1);switch(c.type){case"base64":h=Zo(dc(o));break;case"binary":h=Zo(o);break;case"buffer":case"array":h=o;break}tl(h,0);var m=h.read_shift(1),p=!!(m&136),x=!1,v=!1;switch(m){case 2:break;case 3:break;case 48:x=!0,p=!0;break;case 49:x=!0,p=!0;break;case 131:break;case 139:break;case 140:v=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+m.toString(16))}var y=0,b=521;m==2&&(y=h.read_shift(2)),h.l+=3,m!=2&&(y=h.read_shift(4)),y>1048576&&(y=1e6),m!=2&&(b=h.read_shift(2));var j=h.read_shift(2),S=c.codepage||1252;m!=2&&(h.l+=16,h.read_shift(1),h[h.l]!==0&&(S=e[h[h.l]]),h.l+=1,h.l+=2),v&&(h.l+=36);for(var w=[],k={},_=Math.min(h.length,m==2?521:b-10-(x?264:0)),O=v?32:11;h.l<_&&h[h.l]!=13;)switch(k={},k.name=js.utils.decode(S,h.slice(h.l,h.l+O)).replace(/[\u0000\r\n].*$/g,""),h.l+=O,k.type=String.fromCharCode(h.read_shift(1)),m!=2&&!v&&(k.offset=h.read_shift(4)),k.len=h.read_shift(1),m==2&&(k.offset=h.read_shift(2)),k.dec=h.read_shift(1),k.name.length&&w.push(k),m!=2&&(h.l+=v?13:14),k.type){case"B":(!x||k.len!=8)&&c.WTF&&console.log("Skipping "+k.name+":"+k.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+k.name+":"+k.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+k.type)}if(h[h.l]!==13&&(h.l=b-1),h.read_shift(1)!==13)throw new Error("DBF Terminator not found "+h.l+" "+h[h.l]);h.l=b;var E=0,F=0;for(d[0]=[],F=0;F!=w.length;++F)d[0][F]=w[F].name;for(;y-- >0;){if(h[h.l]===42){h.l+=j;continue}for(++h.l,d[++E]=[],F=0,F=0;F!=w.length;++F){var I=h.slice(h.l,h.l+w[F].len);h.l+=w[F].len,tl(I,0);var U=js.utils.decode(S,I);switch(w[F].type){case"C":U.trim().length&&(d[E][F]=U.replace(/\s+$/,""));break;case"D":U.length===8?d[E][F]=new Date(+U.slice(0,4),+U.slice(4,6)-1,+U.slice(6,8)):d[E][F]=U;break;case"F":d[E][F]=parseFloat(U.trim());break;case"+":case"I":d[E][F]=v?I.read_shift(-4,"i")^2147483648:I.read_shift(4,"i");break;case"L":switch(U.trim().toUpperCase()){case"Y":case"T":d[E][F]=!0;break;case"N":case"F":d[E][F]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+U+"|")}break;case"M":if(!p)throw new Error("DBF Unexpected MEMO for type "+m.toString(16));d[E][F]="##MEMO##"+(v?parseInt(U.trim(),10):I.read_shift(4));break;case"N":U=U.replace(/\u0000/g,"").trim(),U&&U!="."&&(d[E][F]=+U||0);break;case"@":d[E][F]=new Date(I.read_shift(-8,"f")-621356832e5);break;case"T":d[E][F]=new Date((I.read_shift(4)-2440588)*864e5+I.read_shift(4));break;case"Y":d[E][F]=I.read_shift(4,"i")/1e4+I.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[E][F]=-I.read_shift(-8,"f");break;case"B":if(x&&w[F].len==8){d[E][F]=I.read_shift(8,"f");break}case"G":case"P":I.l+=w[F].len;break;case"0":if(w[F].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+w[F].type)}}}if(m!=2&&h.l<h.length&&h[h.l++]!=26)throw new Error("DBF EOF Marker missing "+(h.l-1)+" of "+h.length+" "+h[h.l-1].toString(16));return c&&c.sheetRows&&(d=d.slice(0,c.sheetRows)),c.DBF=w,d}function a(o,c){var d=c||{};d.dateNF||(d.dateNF="yyyymmdd");var h=Kg(s(o,d),d);return h["!cols"]=d.DBF.map(function(m){return{wch:m.len,DBF:m}}),delete d.DBF,h}function n(o,c){try{return Fm(a(o,c),c)}catch(d){if(c&&c.WTF)throw d}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function l(o,c){var d=c||{};if(+d.codepage>=0&&qc(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var h=So(),m=uw(o,{header:1,raw:!0,cellDates:!0}),p=m[0],x=m.slice(1),v=o["!cols"]||[],y=0,b=0,j=0,S=1;for(y=0;y<p.length;++y){if(((v[y]||{}).DBF||{}).name){p[y]=v[y].DBF.name,++j;continue}if(p[y]!=null){if(++j,typeof p[y]=="number"&&(p[y]=p[y].toString(10)),typeof p[y]!="string")throw new Error("DBF Invalid column name "+p[y]+" |"+typeof p[y]+"|");if(p.indexOf(p[y])!==y){for(b=0;b<1024;++b)if(p.indexOf(p[y]+"_"+b)==-1){p[y]+="_"+b;break}}}}var w=fs(o["!ref"]),k=[],_=[],O=[];for(y=0;y<=w.e.c-w.s.c;++y){var E="",F="",I=0,U=[];for(b=0;b<x.length;++b)x[b][y]!=null&&U.push(x[b][y]);if(U.length==0||p[y]==null){k[y]="?";continue}for(b=0;b<U.length;++b){switch(typeof U[b]){case"number":F="B";break;case"string":F="C";break;case"boolean":F="L";break;case"object":F=U[b]instanceof Date?"D":"C";break;default:F="C"}I=Math.max(I,String(U[b]).length),E=E&&E!=F?"C":F}I>250&&(I=250),F=((v[y]||{}).DBF||{}).type,F=="C"&&v[y].DBF.len>I&&(I=v[y].DBF.len),E=="B"&&F=="N"&&(E="N",O[y]=v[y].DBF.dec,I=v[y].DBF.len),_[y]=E=="C"||F=="N"?I:i[E]||0,S+=_[y],k[y]=E}var M=h.next(32);for(M.write_shift(4,318902576),M.write_shift(4,x.length),M.write_shift(2,296+32*j),M.write_shift(2,S),y=0;y<4;++y)M.write_shift(4,0);for(M.write_shift(4,0|(+t[rx]||3)<<8),y=0,b=0;y<p.length;++y)if(p[y]!=null){var L=h.next(32),J=(p[y].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);L.write_shift(1,J,"sbcs"),L.write_shift(1,k[y]=="?"?"C":k[y],"sbcs"),L.write_shift(4,b),L.write_shift(1,_[y]||i[k[y]]||0),L.write_shift(1,O[y]||0),L.write_shift(1,2),L.write_shift(4,0),L.write_shift(1,0),L.write_shift(4,0),L.write_shift(4,0),b+=_[y]||i[k[y]]||0}var K=h.next(264);for(K.write_shift(4,13),y=0;y<65;++y)K.write_shift(4,0);for(y=0;y<x.length;++y){var ae=h.next(S);for(ae.write_shift(1,0),b=0;b<p.length;++b)if(p[b]!=null)switch(k[b]){case"L":ae.write_shift(1,x[y][b]==null?63:x[y][b]?84:70);break;case"B":ae.write_shift(8,x[y][b]||0,"f");break;case"N":var V="0";for(typeof x[y][b]=="number"&&(V=x[y][b].toFixed(O[b]||0)),j=0;j<_[b]-V.length;++j)ae.write_shift(1,32);ae.write_shift(1,V,"sbcs");break;case"D":x[y][b]?(ae.write_shift(4,("0000"+x[y][b].getFullYear()).slice(-4),"sbcs"),ae.write_shift(2,("00"+(x[y][b].getMonth()+1)).slice(-2),"sbcs"),ae.write_shift(2,("00"+x[y][b].getDate()).slice(-2),"sbcs")):ae.write_shift(8,"00000000","sbcs");break;case"C":var re=String(x[y][b]!=null?x[y][b]:"").slice(0,_[b]);for(ae.write_shift(1,re,"sbcs"),j=0;j<_[b]-re.length;++j)ae.write_shift(1,32);break}}return h.next(1).write_shift(1,26),h.end()}return{to_workbook:n,to_sheet:a,from_sheet:l}})(),AG=(function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Nn(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),s=function(p,x){var v=e[x];return typeof v=="number"?$A(v):v},a=function(p,x,v){var y=x.charCodeAt(0)-32<<4|v.charCodeAt(0)-48;return y==59?p:$A(y)};e["|"]=254;function n(p,x){switch(x.type){case"base64":return i(dc(p),x);case"binary":return i(p,x);case"buffer":return i(rs&&Buffer.isBuffer(p)?p.toString("binary"):Mm(p),x);case"array":return i(ax(p),x)}throw new Error("Unrecognized type "+x.type)}function i(p,x){var v=p.split(/[\n\r]+/),y=-1,b=-1,j=0,S=0,w=[],k=[],_=null,O={},E=[],F=[],I=[],U=0,M;for(+x.codepage>=0&&qc(+x.codepage);j!==v.length;++j){U=0;var L=v[j].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,a).replace(t,s),J=L.replace(/;;/g,"\0").split(";").map(function(W){return W.replace(/\u0000/g,";")}),K=J[0],ae;if(L.length>0)switch(K){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":J[1].charAt(0)=="P"&&k.push(L.slice(3).replace(/;;/g,";"));break;case"C":var V=!1,re=!1,X=!1,Z=!1,ye=-1,te=-1;for(S=1;S<J.length;++S)switch(J[S].charAt(0)){case"A":break;case"X":b=parseInt(J[S].slice(1))-1,re=!0;break;case"Y":for(y=parseInt(J[S].slice(1))-1,re||(b=0),M=w.length;M<=y;++M)w[M]=[];break;case"K":ae=J[S].slice(1),ae.charAt(0)==='"'?ae=ae.slice(1,ae.length-1):ae==="TRUE"?ae=!0:ae==="FALSE"?ae=!1:isNaN(Vd(ae))?isNaN(vg(ae).getDate())||(ae=Ia(ae)):(ae=Vd(ae),_!==null&&vx(_)&&(ae=U5(ae))),typeof js<"u"&&typeof ae=="string"&&(x||{}).type!="string"&&(x||{}).codepage&&(ae=js.utils.decode(x.codepage,ae)),V=!0;break;case"E":Z=!0;var D=rg(J[S].slice(1),{r:y,c:b});w[y][b]=[w[y][b],D];break;case"S":X=!0,w[y][b]=[w[y][b],"S5S"];break;case"G":break;case"R":ye=parseInt(J[S].slice(1))-1;break;case"C":te=parseInt(J[S].slice(1))-1;break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+L)}if(V&&(w[y][b]&&w[y][b].length==2?w[y][b][0]=ae:w[y][b]=ae,_=null),X){if(Z)throw new Error("SYLK shared formula cannot have own formula");var H=ye>-1&&w[ye][te];if(!H||!H[1])throw new Error("SYLK shared formula cannot find base");w[y][b][1]=VG(H[1],{r:y-ye,c:b-te})}break;case"F":var q=0;for(S=1;S<J.length;++S)switch(J[S].charAt(0)){case"X":b=parseInt(J[S].slice(1))-1,++q;break;case"Y":for(y=parseInt(J[S].slice(1))-1,M=w.length;M<=y;++M)w[M]=[];break;case"M":U=parseInt(J[S].slice(1))/20;break;case"F":break;case"G":break;case"P":_=k[parseInt(J[S].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(I=J[S].slice(1).split(" "),M=parseInt(I[0],10);M<=parseInt(I[1],10);++M)U=parseInt(I[2],10),F[M-1]=U===0?{hidden:!0}:{wch:U},_m(F[M-1]);break;case"C":b=parseInt(J[S].slice(1))-1,F[b]||(F[b]={});break;case"R":y=parseInt(J[S].slice(1))-1,E[y]||(E[y]={}),U>0?(E[y].hpt=U,E[y].hpx=bg(U)):U===0&&(E[y].hidden=!0);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+L)}q<1&&(_=null);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+L)}}return E.length>0&&(O["!rows"]=E),F.length>0&&(O["!cols"]=F),x&&x.sheetRows&&(w=w.slice(0,x.sheetRows)),[w,O]}function l(p,x){var v=n(p,x),y=v[0],b=v[1],j=Kg(y,x);return Nn(b).forEach(function(S){j[S]=b[S]}),j}function o(p,x){return Fm(l(p,x),x)}function c(p,x,v,y){var b="C;Y"+(v+1)+";X"+(y+1)+";K";switch(p.t){case"n":b+=p.v||0,p.f&&!p.F&&(b+=";E"+AE(p.f,{r:v,c:y}));break;case"b":b+=p.v?"TRUE":"FALSE";break;case"e":b+=p.w||p.v;break;case"d":b+='"'+(p.w||p.v)+'"';break;case"s":b+='"'+p.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return b}function d(p,x){x.forEach(function(v,y){var b="F;W"+(y+1)+" "+(y+1)+" ";v.hidden?b+="0":(typeof v.width=="number"&&!v.wpx&&(v.wpx=ib(v.width)),typeof v.wpx=="number"&&!v.wch&&(v.wch=lb(v.wpx)),typeof v.wch=="number"&&(b+=Math.round(v.wch))),b.charAt(b.length-1)!=" "&&p.push(b)})}function h(p,x){x.forEach(function(v,y){var b="F;";v.hidden?b+="M0;":v.hpt?b+="M"+20*v.hpt+";":v.hpx&&(b+="M"+20*ob(v.hpx)+";"),b.length>2&&p.push(b+"R"+(y+1))})}function m(p,x){var v=["ID;PWXL;N;E"],y=[],b=fs(p["!ref"]),j,S=Array.isArray(p),w=`\r
`;v.push("P;PGeneral"),v.push("F;P0;DG0G8;M255"),p["!cols"]&&d(v,p["!cols"]),p["!rows"]&&h(v,p["!rows"]),v.push("B;Y"+(b.e.r-b.s.r+1)+";X"+(b.e.c-b.s.c+1)+";D"+[b.s.c,b.s.r,b.e.c,b.e.r].join(" "));for(var k=b.s.r;k<=b.e.r;++k)for(var _=b.s.c;_<=b.e.c;++_){var O=Cr({r:k,c:_});j=S?(p[k]||[])[_]:p[O],!(!j||j.v==null&&(!j.f||j.F))&&y.push(c(j,p,k,_))}return v.join(w)+w+y.join(w)+w+"E"+w}return{to_workbook:o,to_sheet:l,from_sheet:m}})(),CG=(function(){function e(i,l){switch(l.type){case"base64":return t(dc(i),l);case"binary":return t(i,l);case"buffer":return t(rs&&Buffer.isBuffer(i)?i.toString("binary"):Mm(i),l);case"array":return t(ax(i),l)}throw new Error("Unrecognized type "+l.type)}function t(i,l){for(var o=i.split(`
`),c=-1,d=-1,h=0,m=[];h!==o.length;++h){if(o[h].trim()==="BOT"){m[++c]=[],d=0;continue}if(!(c<0)){var p=o[h].trim().split(","),x=p[0],v=p[1];++h;for(var y=o[h]||"";(y.match(/["]/g)||[]).length&1&&h<o.length-1;)y+=`
`+o[++h];switch(y=y.trim(),+x){case-1:if(y==="BOT"){m[++c]=[],d=0;continue}else if(y!=="EOD")throw new Error("Unrecognized DIF special command "+y);break;case 0:y==="TRUE"?m[c][d]=!0:y==="FALSE"?m[c][d]=!1:isNaN(Vd(v))?isNaN(vg(v).getDate())?m[c][d]=v:m[c][d]=Ia(v):m[c][d]=Vd(v),++d;break;case 1:y=y.slice(1,y.length-1),y=y.replace(/""/g,'"'),y&&y.match(/^=".*"$/)&&(y=y.slice(2,-1)),m[c][d++]=y!==""?y:null;break}if(y==="EOD")break}}return l&&l.sheetRows&&(m=m.slice(0,l.sheetRows)),m}function s(i,l){return Kg(e(i,l),l)}function a(i,l){return Fm(s(i,l),l)}var n=(function(){var i=function(c,d,h,m,p){c.push(d),c.push(h+","+m),c.push('"'+p.replace(/"/g,'""')+'"')},l=function(c,d,h,m){c.push(d+","+h),c.push(d==1?'"'+m.replace(/"/g,'""')+'"':m)};return function(c){var d=[],h=fs(c["!ref"]),m,p=Array.isArray(c);i(d,"TABLE",0,1,"sheetjs"),i(d,"VECTORS",0,h.e.r-h.s.r+1,""),i(d,"TUPLES",0,h.e.c-h.s.c+1,""),i(d,"DATA",0,0,"");for(var x=h.s.r;x<=h.e.r;++x){l(d,-1,0,"BOT");for(var v=h.s.c;v<=h.e.c;++v){var y=Cr({r:x,c:v});if(m=p?(c[x]||[])[v]:c[y],!m){l(d,1,0,"");continue}switch(m.t){case"n":var b=m.w;!b&&m.v!=null&&(b=m.v),b==null?m.f&&!m.F?l(d,1,0,"="+m.f):l(d,1,0,""):l(d,0,b,"V");break;case"b":l(d,0,m.v?1:0,m.v?"TRUE":"FALSE");break;case"s":l(d,1,0,isNaN(m.v)?m.v:'="'+m.v+'"');break;case"d":m.w||(m.w=uc(m.z||wr[14],vi(Ia(m.v)))),l(d,0,m.w,"V");break;default:l(d,1,0,"")}}}l(d,-1,0,"EOD");var j=`\r
`,S=d.join(j);return S}})();return{to_workbook:a,to_sheet:s,from_sheet:n}})(),TG=(function(){function e(m){return m.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(m){return m.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function s(m,p){for(var x=m.split(`
`),v=-1,y=-1,b=0,j=[];b!==x.length;++b){var S=x[b].trim().split(":");if(S[0]==="cell"){var w=sn(S[1]);if(j.length<=w.r)for(v=j.length;v<=w.r;++v)j[v]||(j[v]=[]);switch(v=w.r,y=w.c,S[2]){case"t":j[v][y]=e(S[3]);break;case"v":j[v][y]=+S[3];break;case"vtf":var k=S[S.length-1];case"vtc":S[3]==="nl"?j[v][y]=!!+S[4]:j[v][y]=+S[4],S[2]=="vtf"&&(j[v][y]=[j[v][y],k])}}}return p&&p.sheetRows&&(j=j.slice(0,p.sheetRows)),j}function a(m,p){return Kg(s(m,p),p)}function n(m,p){return Fm(a(m,p),p)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function d(m){if(!m||!m["!ref"])return"";for(var p=[],x=[],v,y="",b=Yl(m["!ref"]),j=Array.isArray(m),S=b.s.r;S<=b.e.r;++S)for(var w=b.s.c;w<=b.e.c;++w)if(y=Cr({r:S,c:w}),v=j?(m[S]||[])[w]:m[y],!(!v||v.v==null||v.t==="z")){switch(x=["cell",y,"t"],v.t){case"s":case"str":x.push(t(v.v));break;case"n":v.f?(x[2]="vtf",x[3]="n",x[4]=v.v,x[5]=t(v.f)):(x[2]="v",x[3]=v.v);break;case"b":x[2]="vt"+(v.f?"f":"c"),x[3]="nl",x[4]=v.v?"1":"0",x[5]=t(v.f||(v.v?"TRUE":"FALSE"));break;case"d":var k=vi(Ia(v.v));x[2]="vtc",x[3]="nd",x[4]=""+k,x[5]=v.w||uc(v.z||wr[14],k);break;case"e":continue}p.push(x.join(":"))}return p.push("sheet:c:"+(b.e.c-b.s.c+1)+":r:"+(b.e.r-b.s.r+1)+":tvf:1"),p.push("valueformat:1:text-wiki"),p.join(`
`)}function h(m){return[i,l,o,l,d(m),c].join(`
`)}return{to_workbook:n,to_sheet:a,from_sheet:h}})(),yg=(function(){function e(h,m,p,x,v){v.raw?m[p][x]=h:h===""||(h==="TRUE"?m[p][x]=!0:h==="FALSE"?m[p][x]=!1:isNaN(Vd(h))?isNaN(vg(h).getDate())?m[p][x]=h:m[p][x]=Ia(h):m[p][x]=Vd(h))}function t(h,m){var p=m||{},x=[];if(!h||h.length===0)return x;for(var v=h.split(/[\r\n]/),y=v.length-1;y>=0&&v[y].length===0;)--y;for(var b=10,j=0,S=0;S<=y;++S)j=v[S].indexOf(" "),j==-1?j=v[S].length:j++,b=Math.max(b,j);for(S=0;S<=y;++S){x[S]=[];var w=0;for(e(v[S].slice(0,b).trim(),x,S,w,p),w=1;w<=(v[S].length-b)/10+1;++w)e(v[S].slice(b+(w-1)*10,b+w*10).trim(),x,S,w,p)}return p.sheetRows&&(x=x.slice(0,p.sheetRows)),x}var s={44:",",9:"	",59:";",124:"|"},a={44:3,9:2,59:1,124:0};function n(h){for(var m={},p=!1,x=0,v=0;x<h.length;++x)(v=h.charCodeAt(x))==34?p=!p:!p&&v in s&&(m[v]=(m[v]||0)+1);v=[];for(x in m)Object.prototype.hasOwnProperty.call(m,x)&&v.push([m[x],x]);if(!v.length){m=a;for(x in m)Object.prototype.hasOwnProperty.call(m,x)&&v.push([m[x],x])}return v.sort(function(y,b){return y[0]-b[0]||a[y[1]]-a[b[1]]}),s[v.pop()[1]]||44}function i(h,m){var p=m||{},x="",v=p.dense?[]:{},y={s:{c:0,r:0},e:{c:0,r:0}};h.slice(0,4)=="sep="?h.charCodeAt(5)==13&&h.charCodeAt(6)==10?(x=h.charAt(4),h=h.slice(7)):h.charCodeAt(5)==13||h.charCodeAt(5)==10?(x=h.charAt(4),h=h.slice(6)):x=n(h.slice(0,1024)):p&&p.FS?x=p.FS:x=n(h.slice(0,1024));var b=0,j=0,S=0,w=0,k=0,_=x.charCodeAt(0),O=!1,E=0,F=h.charCodeAt(0);h=h.replace(/\r\n/mg,`
`);var I=p.dateNF!=null?gje(p.dateNF):null;function U(){var M=h.slice(w,k),L={};if(M.charAt(0)=='"'&&M.charAt(M.length-1)=='"'&&(M=M.slice(1,-1).replace(/""/g,'"')),M.length===0)L.t="z";else if(p.raw)L.t="s",L.v=M;else if(M.trim().length===0)L.t="s",L.v=M;else if(M.charCodeAt(0)==61)M.charCodeAt(1)==34&&M.charCodeAt(M.length-1)==34?(L.t="s",L.v=M.slice(2,-1).replace(/""/g,'"')):GSe(M)?(L.t="n",L.f=M.slice(1)):(L.t="s",L.v=M);else if(M=="TRUE")L.t="b",L.v=!0;else if(M=="FALSE")L.t="b",L.v=!1;else if(!isNaN(S=Vd(M)))L.t="n",p.cellText!==!1&&(L.w=M),L.v=S;else if(!isNaN(vg(M).getDate())||I&&M.match(I)){L.z=p.dateNF||wr[14];var J=0;I&&M.match(I)&&(M=vje(M,p.dateNF,M.match(I)||[]),J=1),p.cellDates?(L.t="d",L.v=Ia(M,J)):(L.t="n",L.v=vi(Ia(M,J))),p.cellText!==!1&&(L.w=uc(L.z,L.v instanceof Date?vi(L.v):L.v)),p.cellNF||delete L.z}else L.t="s",L.v=M;if(L.t=="z"||(p.dense?(v[b]||(v[b]=[]),v[b][j]=L):v[Cr({c:j,r:b})]=L),w=k+1,F=h.charCodeAt(w),y.e.c<j&&(y.e.c=j),y.e.r<b&&(y.e.r=b),E==_)++j;else if(j=0,++b,p.sheetRows&&p.sheetRows<=b)return!0}e:for(;k<h.length;++k)switch(E=h.charCodeAt(k)){case 34:F===34&&(O=!O);break;case _:case 10:case 13:if(!O&&U())break e;break}return k-w>0&&U(),v["!ref"]=Vr(y),v}function l(h,m){return!(m&&m.PRN)||m.FS||h.slice(0,4)=="sep="||h.indexOf("	")>=0||h.indexOf(",")>=0||h.indexOf(";")>=0?i(h,m):Kg(t(h,m),m)}function o(h,m){var p="",x=m.type=="string"?[0,0,0,0]:FE(h,m);switch(m.type){case"base64":p=dc(h);break;case"binary":p=h;break;case"buffer":m.codepage==65001?p=h.toString("utf8"):m.codepage&&typeof js<"u"?p=js.utils.decode(m.codepage,h):p=rs&&Buffer.isBuffer(h)?h.toString("binary"):Mm(h);break;case"array":p=ax(h);break;case"string":p=h;break;default:throw new Error("Unrecognized type "+m.type)}return x[0]==239&&x[1]==187&&x[2]==191?p=fa(p.slice(3)):m.type!="string"&&m.type!="buffer"&&m.codepage==65001?p=fa(p):m.type=="binary"&&typeof js<"u"&&m.codepage&&(p=js.utils.decode(m.codepage,js.utils.encode(28591,p))),p.slice(0,19)=="socialcalc:version:"?TG.to_sheet(m.type=="string"?p:fa(p),m):l(p,m)}function c(h,m){return Fm(o(h,m),m)}function d(h){for(var m=[],p=fs(h["!ref"]),x,v=Array.isArray(h),y=p.s.r;y<=p.e.r;++y){for(var b=[],j=p.s.c;j<=p.e.c;++j){var S=Cr({r:y,c:j});if(x=v?(h[y]||[])[j]:h[S],!x||x.v==null){b.push("          ");continue}for(var w=(x.w||(zu(x),x.w)||"").slice(0,10);w.length<10;)w+=" ";b.push(w+(j===0?" ":""))}m.push(b.join(""))}return m.join(`
`)}return{to_workbook:c,to_sheet:o,from_sheet:d}})();function D5e(e,t){var s=t||{},a=!!s.WTF;s.WTF=!0;try{var n=AG.to_workbook(e,s);return s.WTF=a,n}catch(i){if(s.WTF=a,!i.message.match(/SYLK bad record ID/)&&a)throw i;return yg.to_workbook(e,t)}}var F0=(function(){function e(D,H,q){if(D){tl(D,D.l||0);for(var W=q.Enum||ye;D.l<D.length;){var G=D.read_shift(2),fe=W[G]||W[65535],Se=D.read_shift(2),se=D.l+Se,ge=fe.f&&fe.f(D,Se,q);if(D.l=se,H(ge,fe,G))return}}}function t(D,H){switch(H.type){case"base64":return s(Zo(dc(D)),H);case"binary":return s(Zo(D),H);case"buffer":case"array":return s(D,H)}throw"Unsupported type "+H.type}function s(D,H){if(!D)return D;var q=H||{},W=q.dense?[]:{},G="Sheet1",fe="",Se=0,se={},ge=[],Be=[],ee={s:{r:0,c:0},e:{r:0,c:0}},at=q.sheetRows||0;if(D[2]==0&&(D[3]==8||D[3]==9)&&D.length>=16&&D[14]==5&&D[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(D[2]==2)q.Enum=ye,e(D,function(ut,Re,Ge){switch(Ge){case 0:q.vers=ut,ut>=4096&&(q.qpro=!0);break;case 6:ee=ut;break;case 204:ut&&(fe=ut);break;case 222:fe=ut;break;case 15:case 51:q.qpro||(ut[1].v=ut[1].v.slice(1));case 13:case 14:case 16:Ge==14&&(ut[2]&112)==112&&(ut[2]&15)>1&&(ut[2]&15)<15&&(ut[1].z=q.dateNF||wr[14],q.cellDates&&(ut[1].t="d",ut[1].v=U5(ut[1].v))),q.qpro&&ut[3]>Se&&(W["!ref"]=Vr(ee),se[G]=W,ge.push(G),W=q.dense?[]:{},ee={s:{r:0,c:0},e:{r:0,c:0}},Se=ut[3],G=fe||"Sheet"+(Se+1),fe="");var qt=q.dense?(W[ut[0].r]||[])[ut[0].c]:W[Cr(ut[0])];if(qt){qt.t=ut[1].t,qt.v=ut[1].v,ut[1].z!=null&&(qt.z=ut[1].z),ut[1].f!=null&&(qt.f=ut[1].f);break}q.dense?(W[ut[0].r]||(W[ut[0].r]=[]),W[ut[0].r][ut[0].c]=ut[1]):W[Cr(ut[0])]=ut[1];break}},q);else if(D[2]==26||D[2]==14)q.Enum=te,D[2]==14&&(q.qpro=!0,D.l=0),e(D,function(ut,Re,Ge){switch(Ge){case 204:G=ut;break;case 22:ut[1].v=ut[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ut[3]>Se&&(W["!ref"]=Vr(ee),se[G]=W,ge.push(G),W=q.dense?[]:{},ee={s:{r:0,c:0},e:{r:0,c:0}},Se=ut[3],G="Sheet"+(Se+1)),at>0&&ut[0].r>=at)break;q.dense?(W[ut[0].r]||(W[ut[0].r]=[]),W[ut[0].r][ut[0].c]=ut[1]):W[Cr(ut[0])]=ut[1],ee.e.c<ut[0].c&&(ee.e.c=ut[0].c),ee.e.r<ut[0].r&&(ee.e.r=ut[0].r);break;case 27:ut[14e3]&&(Be[ut[14e3][0]]=ut[14e3][1]);break;case 1537:Be[ut[0]]=ut[1],ut[0]==Se&&(G=ut[1]);break}},q);else throw new Error("Unrecognized LOTUS BOF "+D[2]);if(W["!ref"]=Vr(ee),se[fe||G]=W,ge.push(fe||G),!Be.length)return{SheetNames:ge,Sheets:se};for(var nt={},xe=[],ot=0;ot<Be.length;++ot)se[ge[ot]]?(xe.push(Be[ot]||ge[ot]),nt[Be[ot]]=se[Be[ot]]||se[ge[ot]]):(xe.push(Be[ot]),nt[Be[ot]]={"!ref":"A1"});return{SheetNames:xe,Sheets:nt}}function a(D,H){var q=H||{};if(+q.codepage>=0&&qc(+q.codepage),q.type=="string")throw new Error("Cannot write WK1 to JS string");var W=So(),G=fs(D["!ref"]),fe=Array.isArray(D),Se=[];Bt(W,0,i(1030)),Bt(W,6,c(G));for(var se=Math.min(G.e.r,8191),ge=G.s.r;ge<=se;++ge)for(var Be=yn(ge),ee=G.s.c;ee<=G.e.c;++ee){ge===G.s.r&&(Se[ee]=Fa(ee));var at=Se[ee]+Be,nt=fe?(D[ge]||[])[ee]:D[at];if(!(!nt||nt.t=="z"))if(nt.t=="n")(nt.v|0)==nt.v&&nt.v>=-32768&&nt.v<=32767?Bt(W,13,x(ge,ee,nt.v)):Bt(W,14,y(ge,ee,nt.v));else{var xe=zu(nt);Bt(W,15,m(ge,ee,xe.slice(0,239)))}}return Bt(W,1),W.end()}function n(D,H){var q=H||{};if(+q.codepage>=0&&qc(+q.codepage),q.type=="string")throw new Error("Cannot write WK3 to JS string");var W=So();Bt(W,0,l(D));for(var G=0,fe=0;G<D.SheetNames.length;++G)(D.Sheets[D.SheetNames[G]]||{})["!ref"]&&Bt(W,27,Z(D.SheetNames[G],fe++));var Se=0;for(G=0;G<D.SheetNames.length;++G){var se=D.Sheets[D.SheetNames[G]];if(!(!se||!se["!ref"])){for(var ge=fs(se["!ref"]),Be=Array.isArray(se),ee=[],at=Math.min(ge.e.r,8191),nt=ge.s.r;nt<=at;++nt)for(var xe=yn(nt),ot=ge.s.c;ot<=ge.e.c;++ot){nt===ge.s.r&&(ee[ot]=Fa(ot));var ut=ee[ot]+xe,Re=Be?(se[nt]||[])[ot]:se[ut];if(!(!Re||Re.t=="z"))if(Re.t=="n")Bt(W,23,U(nt,ot,Se,Re.v));else{var Ge=zu(Re);Bt(W,22,E(nt,ot,Se,Ge.slice(0,239)))}}++Se}}return Bt(W,1),W.end()}function i(D){var H=vt(2);return H.write_shift(2,D),H}function l(D){var H=vt(26);H.write_shift(2,4096),H.write_shift(2,4),H.write_shift(4,0);for(var q=0,W=0,G=0,fe=0;fe<D.SheetNames.length;++fe){var Se=D.SheetNames[fe],se=D.Sheets[Se];if(!(!se||!se["!ref"])){++G;var ge=Yl(se["!ref"]);q<ge.e.r&&(q=ge.e.r),W<ge.e.c&&(W=ge.e.c)}}return q>8191&&(q=8191),H.write_shift(2,q),H.write_shift(1,G),H.write_shift(1,W),H.write_shift(2,0),H.write_shift(2,0),H.write_shift(1,1),H.write_shift(1,2),H.write_shift(4,0),H.write_shift(4,0),H}function o(D,H,q){var W={s:{c:0,r:0},e:{c:0,r:0}};return H==8&&q.qpro?(W.s.c=D.read_shift(1),D.l++,W.s.r=D.read_shift(2),W.e.c=D.read_shift(1),D.l++,W.e.r=D.read_shift(2),W):(W.s.c=D.read_shift(2),W.s.r=D.read_shift(2),H==12&&q.qpro&&(D.l+=2),W.e.c=D.read_shift(2),W.e.r=D.read_shift(2),H==12&&q.qpro&&(D.l+=2),W.s.c==65535&&(W.s.c=W.e.c=W.s.r=W.e.r=0),W)}function c(D){var H=vt(8);return H.write_shift(2,D.s.c),H.write_shift(2,D.s.r),H.write_shift(2,D.e.c),H.write_shift(2,D.e.r),H}function d(D,H,q){var W=[{c:0,r:0},{t:"n",v:0},0,0];return q.qpro&&q.vers!=20768?(W[0].c=D.read_shift(1),W[3]=D.read_shift(1),W[0].r=D.read_shift(2),D.l+=2):(W[2]=D.read_shift(1),W[0].c=D.read_shift(2),W[0].r=D.read_shift(2)),W}function h(D,H,q){var W=D.l+H,G=d(D,H,q);if(G[1].t="s",q.vers==20768){D.l++;var fe=D.read_shift(1);return G[1].v=D.read_shift(fe,"utf8"),G}return q.qpro&&D.l++,G[1].v=D.read_shift(W-D.l,"cstr"),G}function m(D,H,q){var W=vt(7+q.length);W.write_shift(1,255),W.write_shift(2,H),W.write_shift(2,D),W.write_shift(1,39);for(var G=0;G<W.length;++G){var fe=q.charCodeAt(G);W.write_shift(1,fe>=128?95:fe)}return W.write_shift(1,0),W}function p(D,H,q){var W=d(D,H,q);return W[1].v=D.read_shift(2,"i"),W}function x(D,H,q){var W=vt(7);return W.write_shift(1,255),W.write_shift(2,H),W.write_shift(2,D),W.write_shift(2,q,"i"),W}function v(D,H,q){var W=d(D,H,q);return W[1].v=D.read_shift(8,"f"),W}function y(D,H,q){var W=vt(13);return W.write_shift(1,255),W.write_shift(2,H),W.write_shift(2,D),W.write_shift(8,q,"f"),W}function b(D,H,q){var W=D.l+H,G=d(D,H,q);if(G[1].v=D.read_shift(8,"f"),q.qpro)D.l=W;else{var fe=D.read_shift(2);k(D.slice(D.l,D.l+fe),G),D.l+=fe}return G}function j(D,H,q){var W=H&32768;return H&=-32769,H=(W?D:0)+(H>=8192?H-16384:H),(W?"":"$")+(q?Fa(H):yn(H))}var S={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},w=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function k(D,H){tl(D,0);for(var q=[],W=0,G="",fe="",Se="",se="";D.l<D.length;){var ge=D[D.l++];switch(ge){case 0:q.push(D.read_shift(8,"f"));break;case 1:fe=j(H[0].c,D.read_shift(2),!0),G=j(H[0].r,D.read_shift(2),!1),q.push(fe+G);break;case 2:{var Be=j(H[0].c,D.read_shift(2),!0),ee=j(H[0].r,D.read_shift(2),!1);fe=j(H[0].c,D.read_shift(2),!0),G=j(H[0].r,D.read_shift(2),!1),q.push(Be+ee+":"+fe+G)}break;case 3:if(D.l<D.length){console.error("WK1 premature formula end");return}break;case 4:q.push("("+q.pop()+")");break;case 5:q.push(D.read_shift(2));break;case 6:{for(var at="";ge=D[D.l++];)at+=String.fromCharCode(ge);q.push('"'+at.replace(/"/g,'""')+'"')}break;case 8:q.push("-"+q.pop());break;case 23:q.push("+"+q.pop());break;case 22:q.push("NOT("+q.pop()+")");break;case 20:case 21:se=q.pop(),Se=q.pop(),q.push(["AND","OR"][ge-20]+"("+Se+","+se+")");break;default:if(ge<32&&w[ge])se=q.pop(),Se=q.pop(),q.push(Se+w[ge]+se);else if(S[ge]){if(W=S[ge][1],W==69&&(W=D[D.l++]),W>q.length){console.error("WK1 bad formula parse 0x"+ge.toString(16)+":|"+q.join("|")+"|");return}var nt=q.slice(-W);q.length-=W,q.push(S[ge][0]+"("+nt.join(",")+")")}else return ge<=7?console.error("WK1 invalid opcode "+ge.toString(16)):ge<=24?console.error("WK1 unsupported op "+ge.toString(16)):ge<=30?console.error("WK1 invalid opcode "+ge.toString(16)):ge<=115?console.error("WK1 unsupported function opcode "+ge.toString(16)):console.error("WK1 unrecognized opcode "+ge.toString(16))}}q.length==1?H[1].f=""+q[0]:console.error("WK1 bad formula parse |"+q.join("|")+"|")}function _(D){var H=[{c:0,r:0},{t:"n",v:0},0];return H[0].r=D.read_shift(2),H[3]=D[D.l++],H[0].c=D[D.l++],H}function O(D,H){var q=_(D);return q[1].t="s",q[1].v=D.read_shift(H-4,"cstr"),q}function E(D,H,q,W){var G=vt(6+W.length);G.write_shift(2,D),G.write_shift(1,q),G.write_shift(1,H),G.write_shift(1,39);for(var fe=0;fe<W.length;++fe){var Se=W.charCodeAt(fe);G.write_shift(1,Se>=128?95:Se)}return G.write_shift(1,0),G}function F(D,H){var q=_(D);q[1].v=D.read_shift(2);var W=q[1].v>>1;if(q[1].v&1)switch(W&7){case 0:W=(W>>3)*5e3;break;case 1:W=(W>>3)*500;break;case 2:W=(W>>3)/20;break;case 3:W=(W>>3)/200;break;case 4:W=(W>>3)/2e3;break;case 5:W=(W>>3)/2e4;break;case 6:W=(W>>3)/16;break;case 7:W=(W>>3)/64;break}return q[1].v=W,q}function I(D,H){var q=_(D),W=D.read_shift(4),G=D.read_shift(4),fe=D.read_shift(2);if(fe==65535)return W===0&&G===3221225472?(q[1].t="e",q[1].v=15):W===0&&G===3489660928?(q[1].t="e",q[1].v=42):q[1].v=0,q;var Se=fe&32768;return fe=(fe&32767)-16446,q[1].v=(1-Se*2)*(G*Math.pow(2,fe+32)+W*Math.pow(2,fe)),q}function U(D,H,q,W){var G=vt(14);if(G.write_shift(2,D),G.write_shift(1,q),G.write_shift(1,H),W==0)return G.write_shift(4,0),G.write_shift(4,0),G.write_shift(2,65535),G;var fe=0,Se=0,se=0,ge=0;return W<0&&(fe=1,W=-W),Se=Math.log2(W)|0,W/=Math.pow(2,Se-31),ge=W>>>0,(ge&2147483648)==0&&(W/=2,++Se,ge=W>>>0),W-=ge,ge|=2147483648,ge>>>=0,W*=Math.pow(2,32),se=W>>>0,G.write_shift(4,se),G.write_shift(4,ge),Se+=16383+(fe?32768:0),G.write_shift(2,Se),G}function M(D,H){var q=I(D);return D.l+=H-14,q}function L(D,H){var q=_(D),W=D.read_shift(4);return q[1].v=W>>6,q}function J(D,H){var q=_(D),W=D.read_shift(8,"f");return q[1].v=W,q}function K(D,H){var q=J(D);return D.l+=H-10,q}function ae(D,H){return D[D.l+H-1]==0?D.read_shift(H,"cstr"):""}function V(D,H){var q=D[D.l++];q>H-1&&(q=H-1);for(var W="";W.length<q;)W+=String.fromCharCode(D[D.l++]);return W}function re(D,H,q){if(!(!q.qpro||H<21)){var W=D.read_shift(1);D.l+=17,D.l+=1,D.l+=2;var G=D.read_shift(H-21,"cstr");return[W,G]}}function X(D,H){for(var q={},W=D.l+H;D.l<W;){var G=D.read_shift(2);if(G==14e3){for(q[G]=[0,""],q[G][0]=D.read_shift(2);D[D.l];)q[G][1]+=String.fromCharCode(D[D.l]),D.l++;D.l++}}return q}function Z(D,H){var q=vt(5+D.length);q.write_shift(2,14e3),q.write_shift(2,H);for(var W=0;W<D.length;++W){var G=D.charCodeAt(W);q[q.l++]=G>127?95:G}return q[q.l++]=0,q}var ye={0:{n:"BOF",f:Kn},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:p},14:{n:"NUMBER",f:v},15:{n:"LABEL",f:h},16:{n:"FORMULA",f:b},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:h},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ae},222:{n:"SHEETNAMELP",f:V},65535:{n:""}},te={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:O},23:{n:"NUMBER17",f:I},24:{n:"NUMBER18",f:F},25:{n:"FORMULA19",f:M},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:X},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:L},38:{n:"??"},39:{n:"NUMBER27",f:J},40:{n:"FORMULA28",f:K},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ae},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:re},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:a,book_to_wk3:n,to_workbook:t}})();function R5e(e){var t={},s=e.match(Tl),a=0,n=!1;if(s)for(;a!=s.length;++a){var i=Er(s[a]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=XT[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(i[0].charCodeAt(1)!==47&&!n)throw new Error("Unrecognized rich format "+i[0])}}return t}var M5e=(function(){var e=tb("t"),t=tb("rPr");function s(i){var l=i.match(e);if(!l)return{t:"s",v:""};var o={t:"s",v:As(l[1])},c=i.match(t);return c&&(o.s=R5e(c[1])),o}var a=/<(?:\w+:)?r>/g,n=/<\/(?:\w+:)?r>/;return function(l){return l.replace(a,"").split(n).map(s).filter(function(o){return o.v})}})(),F5e=(function(){var t=/(\r\n|\n)/g;function s(n,i,l){var o=[];n.u&&o.push("text-decoration: underline;"),n.uval&&o.push("text-underline-style:"+n.uval+";"),n.sz&&o.push("font-size:"+n.sz+"pt;"),n.outline&&o.push("text-effect: outline;"),n.shadow&&o.push("text-shadow: auto;"),i.push('<span style="'+o.join("")+'">'),n.b&&(i.push("<b>"),l.push("</b>")),n.i&&(i.push("<i>"),l.push("</i>")),n.strike&&(i.push("<s>"),l.push("</s>"));var c=n.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(i.push("<"+c+">"),l.push("</"+c+">")),l.push("</span>"),n}function a(n){var i=[[],n.v,[]];return n.v?(n.s&&s(n.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(a).join("")}})(),L5e=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,I5e=/<(?:\w+:)?r>/,B5e=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function NE(e,t){var s=t?t.cellHTML:!0,a={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(a.t=As(fa(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),a.r=fa(e),s&&(a.h=aE(a.t))):e.match(I5e)&&(a.r=fa(e),a.t=As(fa((e.replace(B5e,"").match(L5e)||[]).join("").replace(Tl,""))),s&&(a.h=F5e(M5e(a.r)))),a):{t:""}}var U5e=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,z5e=/<(?:\w+:)?(?:si|sstItem)>/g,$5e=/<\/(?:\w+:)?(?:si|sstItem)>/;function H5e(e,t){var s=[],a="";if(!e)return s;var n=e.match(U5e);if(n){a=n[2].replace(z5e,"").split($5e);for(var i=0;i!=a.length;++i){var l=NE(a[i].trim(),t);l!=null&&(s[s.length]=l)}n=Er(n[1]),s.Count=n.count,s.Unique=n.uniqueCount}return s}var q5e=/^\s|\s$|[\t\n\r]/;function EG(e,t){if(!t.bookSST)return"";var s=[Bn];s[s.length]=Lt("sst",null,{xmlns:yx[0],count:e.Count,uniqueCount:e.Unique});for(var a=0;a!=e.length;++a)if(e[a]!=null){var n=e[a],i="<si>";n.r?i+=n.r:(i+="<t",n.t||(n.t=""),n.t.match(q5e)&&(i+=' xml:space="preserve"'),i+=">"+ra(n.t)+"</t>"),i+="</si>",s[s.length]=i}return s.length>2&&(s[s.length]="</sst>",s[1]=s[1].replace("/>",">")),s.join("")}function V5e(e){return[e.read_shift(4),e.read_shift(4)]}function W5e(e,t){var s=[],a=!1;return mf(e,function(i,l,o){switch(o){case 159:s.Count=i[0],s.Unique=i[1];break;case 19:s.push(i);break;case 160:return!0;case 35:a=!0;break;case 36:a=!1;break;default:if(l.T,!a||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),s}function G5e(e,t){return t||(t=vt(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var K5e=aNe;function Y5e(e){var t=So();Pt(t,159,G5e(e));for(var s=0;s<e.length;++s)Pt(t,19,K5e(e[s]));return Pt(t,160),t.end()}function PG(e){if(typeof js<"u")return js.utils.encode(rx,e);for(var t=[],s=e.split(""),a=0;a<s.length;++a)t[a]=s[a].charCodeAt(0);return t}function $h(e,t){var s={};return s.Major=e.read_shift(2),s.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),s}function X5e(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=$h(e,4),t.U=$h(e,4),t.W=$h(e,4),t}function Z5e(e){for(var t=e.read_shift(4),s=e.l+t-4,a={},n=e.read_shift(4),i=[];n-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(a.name=e.read_shift(0,"lpp4"),a.comps=i,e.l!=s)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+s);return a}function J5e(e){var t=[];e.l+=4;for(var s=e.read_shift(4);s-- >0;)t.push(Z5e(e));return t}function Q5e(e){var t=[];e.l+=4;for(var s=e.read_shift(4);s-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function e4e(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=$h(e,4),t.U=$h(e,4),t.W=$h(e,4),t}function t4e(e){var t=e4e(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function OG(e,t){var s=e.l+t,a={};a.Flags=e.read_shift(4)&63,e.l+=4,a.AlgID=e.read_shift(4);var n=!1;switch(a.AlgID){case 26126:case 26127:case 26128:n=a.Flags==36;break;case 26625:n=a.Flags==4;break;case 0:n=a.Flags==16||a.Flags==4||a.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+a.AlgID}if(!n)throw new Error("Encryption Flags/AlgID mismatch");return a.AlgIDHash=e.read_shift(4),a.KeySize=e.read_shift(4),a.ProviderType=e.read_shift(4),e.l+=8,a.CSPName=e.read_shift(s-e.l>>1,"utf16le"),e.l=s,a}function DG(e,t){var s={},a=e.l+t;return e.l+=4,s.Salt=e.slice(e.l,e.l+16),e.l+=16,s.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),s.VerifierHash=e.slice(e.l,a),e.l=a,s}function r4e(e){var t=$h(e);switch(t.Minor){case 2:return[t.Minor,s4e(e)];case 3:return[t.Minor,a4e()];case 4:return[t.Minor,n4e(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function s4e(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var s=e.read_shift(4),a=OG(e,s),n=DG(e,e.length-e.l);return{t:"Std",h:a,v:n}}function a4e(){throw new Error("File is password-protected: ECMA-376 Extensible")}function n4e(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var s=e.read_shift(e.length-e.l,"utf8"),a={};return s.replace(Tl,function(i){var l=Er(i);switch(Ku(l[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){a[o]=l[o]});break;case"<dataIntegrity":a.encryptedHmacKey=l.encryptedHmacKey,a.encryptedHmacValue=l.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":a.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":a.uri=l.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":a.encs.push(l);break;default:throw l[0]}}),a}function i4e(e,t){var s={},a=s.EncryptionVersionInfo=$h(e,4);if(t-=4,a.Minor!=2)throw new Error("unrecognized minor version code: "+a.Minor);if(a.Major>4||a.Major<2)throw new Error("unrecognized major version code: "+a.Major);s.Flags=e.read_shift(4),t-=4;var n=e.read_shift(4);return t-=4,s.EncryptionHeader=OG(e,n),t-=n,s.EncryptionVerifier=DG(e,t),s}function l4e(e){var t={},s=t.EncryptionVersionInfo=$h(e,4);if(s.Major!=1||s.Minor!=1)throw"unrecognized version code "+s.Major+" : "+s.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function wE(e){var t=0,s,a=PG(e),n=a.length+1,i,l,o,c,d;for(s=Sm(n),s[0]=a.length,i=1;i!=n;++i)s[i]=a[i-1];for(i=n-1;i>=0;--i)l=s[i],o=(t&16384)===0?0:1,c=t<<1&32767,d=o|c,t=d^l;return t^52811}var RG=(function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],s=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],a=function(l){return(l/2|l*128)&255},n=function(l,o){return a(l^o)},i=function(l){for(var o=t[l.length-1],c=104,d=l.length-1;d>=0;--d)for(var h=l[d],m=0;m!=7;++m)h&64&&(o^=s[c]),h*=2,--c;return o};return function(l){for(var o=PG(l),c=i(o),d=o.length,h=Sm(16),m=0;m!=16;++m)h[m]=0;var p,x,v;for((d&1)===1&&(p=c>>8,h[d]=n(e[0],p),--d,p=c&255,x=o[o.length-1],h[d]=n(x,p));d>0;)--d,p=c>>8,h[d]=n(o[d],p),--d,p=c&255,h[d]=n(o[d],p);for(d=15,v=15-o.length;v>0;)p=c>>8,h[d]=n(e[v],p),--d,--v,p=c&255,h[d]=n(o[d],p),--d,--v;return h}})(),o4e=function(e,t,s,a,n){n||(n=t),a||(a=RG(e));var i,l;for(i=0;i!=t.length;++i)l=t[i],l^=a[s],l=(l>>5|l<<3)&255,n[i]=l,++s;return[n,s,a]},c4e=function(e){var t=0,s=RG(e);return function(a){var n=o4e("",a,t,s);return t=n[1],n[0]}};function d4e(e,t,s,a){var n={key:Kn(e),verificationBytes:Kn(e)};return s.password&&(n.verifier=wE(s.password)),a.valid=n.verificationBytes===n.verifier,a.valid&&(a.insitu=c4e(s.password)),n}function u4e(e,t,s){var a=s||{};return a.Info=e.read_shift(2),e.l-=2,a.Info===1?a.Data=l4e(e):a.Data=i4e(e,t),a}function h4e(e,t,s){var a={Type:s.biff>=8?e.read_shift(2):0};return a.Type?u4e(e,t-2,a):d4e(e,s.biff>=8?t:t-2,s,a),a}var MG=(function(){function e(n,i){switch(i.type){case"base64":return t(dc(n),i);case"binary":return t(n,i);case"buffer":return t(rs&&Buffer.isBuffer(n)?n.toString("binary"):Mm(n),i);case"array":return t(ax(n),i)}throw new Error("Unrecognized type "+i.type)}function t(n,i){var l=i||{},o=l.dense?[]:{},c=n.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(h,m){Array.isArray(o)&&(o[m]=[]);for(var p=/\\\w+\b/g,x=0,v,y=-1;v=p.exec(h);){switch(v[0]){case"\\cell":var b=h.slice(x,p.lastIndex-v[0].length);if(b[0]==" "&&(b=b.slice(1)),++y,b.length){var j={v:b,t:"s"};Array.isArray(o)?o[m][y]=j:o[Cr({r:m,c:y})]=j}break}x=p.lastIndex}y>d.e.c&&(d.e.c=y)}),o["!ref"]=Vr(d),o}function s(n,i){return Fm(e(n,i),i)}function a(n){for(var i=["{\\rtf1\\ansi"],l=fs(n["!ref"]),o,c=Array.isArray(n),d=l.s.r;d<=l.e.r;++d){i.push("\\trowd\\trautofit1");for(var h=l.s.c;h<=l.e.c;++h)i.push("\\cellx"+(h+1));for(i.push("\\pard\\intbl"),h=l.s.c;h<=l.e.c;++h){var m=Cr({r:d,c:h});o=c?(n[d]||[])[h]:n[m],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(zu(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:s,to_sheet:e,from_sheet:a}})();function f4e(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function nb(e){for(var t=0,s=1;t!=3;++t)s=s*256+(e[t]>255?255:e[t]<0?0:e[t]);return s.toString(16).toUpperCase().slice(1)}function m4e(e){var t=e[0]/255,s=e[1]/255,a=e[2]/255,n=Math.max(t,s,a),i=Math.min(t,s,a),l=n-i;if(l===0)return[0,0,t];var o=0,c=0,d=n+i;switch(c=l/(d>1?2-d:d),n){case t:o=((s-a)/l+6)%6;break;case s:o=(a-t)/l+2;break;case a:o=(t-s)/l+4;break}return[o/6,c,d/2]}function x4e(e){var t=e[0],s=e[1],a=e[2],n=s*2*(a<.5?a:1-a),i=a-n/2,l=[i,i,i],o=6*t,c;if(s!==0)switch(o|0){case 0:case 6:c=n*o,l[0]+=n,l[1]+=c;break;case 1:c=n*(2-o),l[0]+=c,l[1]+=n;break;case 2:c=n*(o-2),l[1]+=n,l[2]+=c;break;case 3:c=n*(4-o),l[1]+=c,l[2]+=n;break;case 4:c=n*(o-4),l[2]+=n,l[0]+=c;break;case 5:c=n*(6-o),l[2]+=c,l[0]+=n;break}for(var d=0;d!=3;++d)l[d]=Math.round(l[d]*255);return l}function ow(e,t){if(t===0)return e;var s=m4e(f4e(e));return t<0?s[2]=s[2]*(1+t):s[2]=1-(1-s[2])*(1-t),nb(x4e(s))}var FG=6,p4e=15,g4e=1,bl=FG;function ib(e){return Math.floor((e+Math.round(128/bl)/256)*bl)}function lb(e){return Math.floor((e-5)/bl*100+.5)/100}function cw(e){return Math.round((e*bl+5)/bl*256)/256}function N_(e){return cw(lb(ib(e)))}function SE(e){var t=Math.abs(e-N_(e)),s=bl;if(t>.005)for(bl=g4e;bl<p4e;++bl)Math.abs(e-N_(e))<=t&&(t=Math.abs(e-N_(e)),s=bl);bl=s}function _m(e){e.width?(e.wpx=ib(e.width),e.wch=lb(e.wpx),e.MDW=bl):e.wpx?(e.wch=lb(e.wpx),e.width=cw(e.wch),e.MDW=bl):typeof e.wch=="number"&&(e.width=cw(e.wch),e.wpx=ib(e.width),e.MDW=bl),e.customWidth&&delete e.customWidth}var v4e=96,LG=v4e;function ob(e){return e*96/LG}function bg(e){return e*LG/96}var y4e={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function b4e(e,t,s,a){t.Borders=[];var n={},i=!1;(e[0].match(Tl)||[]).forEach(function(l){var o=Er(l);switch(Ku(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":n={},o.diagonalUp&&(n.diagonalUp=Ra(o.diagonalUp)),o.diagonalDown&&(n.diagonalDown=Ra(o.diagonalDown)),t.Borders.push(n);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a&&a.WTF&&!i)throw new Error("unrecognized "+o[0]+" in borders")}})}function j4e(e,t,s,a){t.Fills=[];var n={},i=!1;(e[0].match(Tl)||[]).forEach(function(l){var o=Er(l);switch(Ku(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":n={},t.Fills.push(n);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(n),n={};break;case"<patternFill":case"<patternFill>":o.patternType&&(n.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":n.bgColor||(n.bgColor={}),o.indexed&&(n.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(n.bgColor.theme=parseInt(o.theme,10)),o.tint&&(n.bgColor.tint=parseFloat(o.tint)),o.rgb&&(n.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":n.fgColor||(n.fgColor={}),o.theme&&(n.fgColor.theme=parseInt(o.theme,10)),o.tint&&(n.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(n.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a&&a.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fills")}})}function N4e(e,t,s,a){t.Fonts=[];var n={},i=!1;(e[0].match(Tl)||[]).forEach(function(l){var o=Er(l);switch(Ku(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(n),n={};break;case"<name":o.val&&(n.name=fa(o.val));break;case"<name/>":case"</name>":break;case"<b":n.bold=o.val?Ra(o.val):1;break;case"<b/>":n.bold=1;break;case"<i":n.italic=o.val?Ra(o.val):1;break;case"<i/>":n.italic=1;break;case"<u":switch(o.val){case"none":n.underline=0;break;case"single":n.underline=1;break;case"double":n.underline=2;break;case"singleAccounting":n.underline=33;break;case"doubleAccounting":n.underline=34;break}break;case"<u/>":n.underline=1;break;case"<strike":n.strike=o.val?Ra(o.val):1;break;case"<strike/>":n.strike=1;break;case"<outline":n.outline=o.val?Ra(o.val):1;break;case"<outline/>":n.outline=1;break;case"<shadow":n.shadow=o.val?Ra(o.val):1;break;case"<shadow/>":n.shadow=1;break;case"<condense":n.condense=o.val?Ra(o.val):1;break;case"<condense/>":n.condense=1;break;case"<extend":n.extend=o.val?Ra(o.val):1;break;case"<extend/>":n.extend=1;break;case"<sz":o.val&&(n.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(n.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(n.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(n.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=XT[parseInt(o.val,10)];break;case"<color":if(n.color||(n.color={}),o.auto&&(n.color.auto=Ra(o.auto)),o.rgb)n.color.rgb=o.rgb.slice(-6);else if(o.indexed){n.color.index=parseInt(o.indexed,10);var c=R0[n.color.index];n.color.index==81&&(c=R0[1]),c||(c=R0[1]),n.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else o.theme&&(n.color.theme=parseInt(o.theme,10),o.tint&&(n.color.tint=parseFloat(o.tint)),o.theme&&s.themeElements&&s.themeElements.clrScheme&&(n.color.rgb=ow(s.themeElements.clrScheme[n.color.theme].rgb,n.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a&&a.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fonts")}})}function w4e(e,t,s){t.NumberFmt=[];for(var a=Nn(wr),n=0;n<a.length;++n)t.NumberFmt[a[n]]=wr[a[n]];var i=e[0].match(Tl);if(i)for(n=0;n<i.length;++n){var l=Er(i[n]);switch(Ku(l[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=As(fa(l.formatCode)),c=parseInt(l.numFmtId,10);if(t.NumberFmt[c]=o,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=o}Du(o,c)}}break;case"</numFmt>":break;default:if(s.WTF)throw new Error("unrecognized "+l[0]+" in numFmts")}}}function S4e(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var a=s[0];a<=s[1];++a)e[a]!=null&&(t[t.length]=Lt("numFmt",null,{numFmtId:a,formatCode:ra(e[a])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=Lt("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var S2=["numFmtId","fillId","fontId","borderId","xfId"],_2=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function _4e(e,t,s){t.CellXf=[];var a,n=!1;(e[0].match(Tl)||[]).forEach(function(i){var l=Er(i),o=0;switch(Ku(l[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(a=l,delete a[0],o=0;o<S2.length;++o)a[S2[o]]&&(a[S2[o]]=parseInt(a[S2[o]],10));for(o=0;o<_2.length;++o)a[_2[o]]&&(a[_2[o]]=Ra(a[_2[o]]));if(t.NumberFmt&&a.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[a.numFmtId]==t.NumberFmt[o]){a.numFmtId=o;break}}t.CellXf.push(a);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};l.vertical&&(c.vertical=l.vertical),l.horizontal&&(c.horizontal=l.horizontal),l.textRotation!=null&&(c.textRotation=l.textRotation),l.indent&&(c.indent=l.indent),l.wrapText&&(c.wrapText=Ra(l.wrapText)),a.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":n=!0;break;case"</AlternateContent>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(s&&s.WTF&&!n)throw new Error("unrecognized "+l[0]+" in cellXfs")}})}function k4e(e){var t=[];return t[t.length]=Lt("cellXfs",null),e.forEach(function(s){t[t.length]=Lt("xf",null,s)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=Lt("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var A4e=(function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,s=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,a=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,n=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,c,d){var h={};if(!o)return h;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var m;return(m=o.match(t))&&w4e(m,h,d),(m=o.match(n))&&N4e(m,h,c,d),(m=o.match(a))&&j4e(m,h,c,d),(m=o.match(i))&&b4e(m,h,c,d),(m=o.match(s))&&_4e(m,h,d),h}})();function IG(e,t){var s=[Bn,Lt("styleSheet",null,{xmlns:yx[0],"xmlns:vt":pi.vt})],a;return e.SSF&&(a=S4e(e.SSF))!=null&&(s[s.length]=a),s[s.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',s[s.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',s[s.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',s[s.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(a=k4e(t.cellXfs))&&(s[s.length]=a),s[s.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',s[s.length]='<dxfs count="0"/>',s[s.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',s.length>2&&(s[s.length]="</styleSheet>",s[1]=s[1].replace("/>",">")),s.join("")}function C4e(e,t){var s=e.read_shift(2),a=kl(e);return[s,a]}function T4e(e,t,s){s||(s=vt(6+4*t.length)),s.write_shift(2,e),Li(t,s);var a=s.length>s.l?s.slice(0,s.l):s;return s.l==null&&(s.l=s.length),a}function E4e(e,t,s){var a={};a.sz=e.read_shift(2)/20;var n=uNe(e);n.fItalic&&(a.italic=1),n.fCondense&&(a.condense=1),n.fExtend&&(a.extend=1),n.fShadow&&(a.shadow=1),n.fOutline&&(a.outline=1),n.fStrikeout&&(a.strike=1);var i=e.read_shift(2);switch(i===700&&(a.bold=1),e.read_shift(2)){case 1:a.vertAlign="superscript";break;case 2:a.vertAlign="subscript";break}var l=e.read_shift(1);l!=0&&(a.underline=l);var o=e.read_shift(1);o>0&&(a.family=o);var c=e.read_shift(1);switch(c>0&&(a.charset=c),e.l++,a.color=dNe(e),e.read_shift(1)){case 1:a.scheme="major";break;case 2:a.scheme="minor";break}return a.name=kl(e),a}function P4e(e,t){t||(t=vt(153)),t.write_shift(2,e.sz*20),hNe(e,t),t.write_shift(2,e.bold?700:400);var s=0;e.vertAlign=="superscript"?s=1:e.vertAlign=="subscript"&&(s=2),t.write_shift(2,s),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),nw(e.color,t);var a=0;return a=2,t.write_shift(1,a),Li(e.name,t),t.length>t.l?t.slice(0,t.l):t}var O4e=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],w_,D4e=Cl;function eI(e,t){t||(t=vt(84)),w_||(w_=I5(O4e));var s=w_[e.patternType];s==null&&(s=40),t.write_shift(4,s);var a=0;if(s!=40)for(nw({auto:1},t),nw({auto:1},t);a<12;++a)t.write_shift(4,0);else{for(;a<4;++a)t.write_shift(4,0);for(;a<12;++a)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function R4e(e,t){var s=e.l+t,a=e.read_shift(2),n=e.read_shift(2);return e.l=s,{ixfe:a,numFmtId:n}}function BG(e,t,s){s||(s=vt(16)),s.write_shift(2,t||0),s.write_shift(2,e.numFmtId||0),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(1,0),s.write_shift(1,0);var a=0;return s.write_shift(1,a),s.write_shift(1,0),s.write_shift(1,0),s.write_shift(1,0),s}function Yv(e,t){return t||(t=vt(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var M4e=Cl;function F4e(e,t){return t||(t=vt(51)),t.write_shift(1,0),Yv(null,t),Yv(null,t),Yv(null,t),Yv(null,t),Yv(null,t),t.length>t.l?t.slice(0,t.l):t}function L4e(e,t){return t||(t=vt(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),aw(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function I4e(e,t,s){var a=vt(2052);return a.write_shift(4,e),aw(t,a),aw(s,a),a.length>a.l?a.slice(0,a.l):a}function B4e(e,t,s){var a={};a.NumberFmt=[];for(var n in wr)a.NumberFmt[n]=wr[n];a.CellXf=[],a.Fonts=[];var i=[],l=!1;return mf(e,function(c,d,h){switch(h){case 44:a.NumberFmt[c[0]]=c[1],Du(c[1],c[0]);break;case 43:a.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=ow(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&a.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:l=!0;break;case 36:l=!1;break;case 37:i.push(h),l=!0;break;case 38:i.pop(),l=!1;break;default:if(d.T>0)i.push(h);else if(d.T<0)i.pop();else if(!l||s.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+h.toString(16))}}),a}function U4e(e,t){if(t){var s=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var n=a[0];n<=a[1];++n)t[n]!=null&&++s}),s!=0&&(Pt(e,615,Wd(s)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var n=a[0];n<=a[1];++n)t[n]!=null&&Pt(e,44,T4e(n,t[n]))}),Pt(e,616))}}function z4e(e){var t=1;Pt(e,611,Wd(t)),Pt(e,43,P4e({sz:12,color:{theme:1},name:"Calibri",family:2})),Pt(e,612)}function $4e(e){var t=2;Pt(e,603,Wd(t)),Pt(e,45,eI({patternType:"none"})),Pt(e,45,eI({patternType:"gray125"})),Pt(e,604)}function H4e(e){var t=1;Pt(e,613,Wd(t)),Pt(e,46,F4e()),Pt(e,614)}function q4e(e){var t=1;Pt(e,626,Wd(t)),Pt(e,47,BG({numFmtId:0},65535)),Pt(e,627)}function V4e(e,t){Pt(e,617,Wd(t.length)),t.forEach(function(s){Pt(e,47,BG(s,0))}),Pt(e,618)}function W4e(e){var t=1;Pt(e,619,Wd(t)),Pt(e,48,L4e({xfId:0,name:"Normal"})),Pt(e,620)}function G4e(e){var t=0;Pt(e,505,Wd(t)),Pt(e,506)}function K4e(e){var t=0;Pt(e,508,I4e(t,"TableStyleMedium9","PivotStyleMedium4")),Pt(e,509)}function Y4e(e,t){var s=So();return Pt(s,278),U4e(s,e.SSF),z4e(s),$4e(s),H4e(s),q4e(s),V4e(s,t.cellXfs),W4e(s),G4e(s),K4e(s),Pt(s,279),s.end()}var X4e=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function Z4e(e,t,s){t.themeElements.clrScheme=[];var a={};(e[0].match(Tl)||[]).forEach(function(n){var i=Er(n);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":a.rgb=i.val;break;case"<a:sysClr":a.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[X4e.indexOf(i[0])]=a,a={}):a.name=i[0].slice(3,i[0].length-1);break;default:if(s&&s.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function J4e(){}function Q4e(){}var eSe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,tSe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,rSe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function sSe(e,t,s){t.themeElements={};var a;[["clrScheme",eSe,Z4e],["fontScheme",tSe,J4e],["fmtScheme",rSe,Q4e]].forEach(function(n){if(!(a=e.match(n[1])))throw new Error(n[0]+" not found in themeElements");n[2](a,t,s)})}var aSe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function UG(e,t){(!e||e.length===0)&&(e=_E());var s,a={};if(!(s=e.match(aSe)))throw new Error("themeElements not found in theme");return sSe(s[0],a,t),a.raw=e,a}function _E(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var s=[Bn];return s[s.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',s[s.length]="<a:themeElements>",s[s.length]='<a:clrScheme name="Office">',s[s.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',s[s.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',s[s.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',s[s.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',s[s.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',s[s.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',s[s.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',s[s.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',s[s.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',s[s.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',s[s.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',s[s.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',s[s.length]="</a:clrScheme>",s[s.length]='<a:fontScheme name="Office">',s[s.length]="<a:majorFont>",s[s.length]='<a:latin typeface="Cambria"/>',s[s.length]='<a:ea typeface=""/>',s[s.length]='<a:cs typeface=""/>',s[s.length]='<a:font script="Jpan" typeface=" "/>',s[s.length]='<a:font script="Hang" typeface=" "/>',s[s.length]='<a:font script="Hans" typeface=""/>',s[s.length]='<a:font script="Hant" typeface=""/>',s[s.length]='<a:font script="Arab" typeface="Times New Roman"/>',s[s.length]='<a:font script="Hebr" typeface="Times New Roman"/>',s[s.length]='<a:font script="Thai" typeface="Tahoma"/>',s[s.length]='<a:font script="Ethi" typeface="Nyala"/>',s[s.length]='<a:font script="Beng" typeface="Vrinda"/>',s[s.length]='<a:font script="Gujr" typeface="Shruti"/>',s[s.length]='<a:font script="Khmr" typeface="MoolBoran"/>',s[s.length]='<a:font script="Knda" typeface="Tunga"/>',s[s.length]='<a:font script="Guru" typeface="Raavi"/>',s[s.length]='<a:font script="Cans" typeface="Euphemia"/>',s[s.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',s[s.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',s[s.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',s[s.length]='<a:font script="Thaa" typeface="MV Boli"/>',s[s.length]='<a:font script="Deva" typeface="Mangal"/>',s[s.length]='<a:font script="Telu" typeface="Gautami"/>',s[s.length]='<a:font script="Taml" typeface="Latha"/>',s[s.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',s[s.length]='<a:font script="Orya" typeface="Kalinga"/>',s[s.length]='<a:font script="Mlym" typeface="Kartika"/>',s[s.length]='<a:font script="Laoo" typeface="DokChampa"/>',s[s.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',s[s.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',s[s.length]='<a:font script="Viet" typeface="Times New Roman"/>',s[s.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',s[s.length]='<a:font script="Geor" typeface="Sylfaen"/>',s[s.length]="</a:majorFont>",s[s.length]="<a:minorFont>",s[s.length]='<a:latin typeface="Calibri"/>',s[s.length]='<a:ea typeface=""/>',s[s.length]='<a:cs typeface=""/>',s[s.length]='<a:font script="Jpan" typeface=" "/>',s[s.length]='<a:font script="Hang" typeface=" "/>',s[s.length]='<a:font script="Hans" typeface=""/>',s[s.length]='<a:font script="Hant" typeface=""/>',s[s.length]='<a:font script="Arab" typeface="Arial"/>',s[s.length]='<a:font script="Hebr" typeface="Arial"/>',s[s.length]='<a:font script="Thai" typeface="Tahoma"/>',s[s.length]='<a:font script="Ethi" typeface="Nyala"/>',s[s.length]='<a:font script="Beng" typeface="Vrinda"/>',s[s.length]='<a:font script="Gujr" typeface="Shruti"/>',s[s.length]='<a:font script="Khmr" typeface="DaunPenh"/>',s[s.length]='<a:font script="Knda" typeface="Tunga"/>',s[s.length]='<a:font script="Guru" typeface="Raavi"/>',s[s.length]='<a:font script="Cans" typeface="Euphemia"/>',s[s.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',s[s.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',s[s.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',s[s.length]='<a:font script="Thaa" typeface="MV Boli"/>',s[s.length]='<a:font script="Deva" typeface="Mangal"/>',s[s.length]='<a:font script="Telu" typeface="Gautami"/>',s[s.length]='<a:font script="Taml" typeface="Latha"/>',s[s.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',s[s.length]='<a:font script="Orya" typeface="Kalinga"/>',s[s.length]='<a:font script="Mlym" typeface="Kartika"/>',s[s.length]='<a:font script="Laoo" typeface="DokChampa"/>',s[s.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',s[s.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',s[s.length]='<a:font script="Viet" typeface="Arial"/>',s[s.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',s[s.length]='<a:font script="Geor" typeface="Sylfaen"/>',s[s.length]="</a:minorFont>",s[s.length]="</a:fontScheme>",s[s.length]='<a:fmtScheme name="Office">',s[s.length]="<a:fillStyleLst>",s[s.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',s[s.length]='<a:gradFill rotWithShape="1">',s[s.length]="<a:gsLst>",s[s.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',s[s.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',s[s.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',s[s.length]="</a:gsLst>",s[s.length]='<a:lin ang="16200000" scaled="1"/>',s[s.length]="</a:gradFill>",s[s.length]='<a:gradFill rotWithShape="1">',s[s.length]="<a:gsLst>",s[s.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',s[s.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',s[s.length]="</a:gsLst>",s[s.length]='<a:lin ang="16200000" scaled="0"/>',s[s.length]="</a:gradFill>",s[s.length]="</a:fillStyleLst>",s[s.length]="<a:lnStyleLst>",s[s.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',s[s.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',s[s.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',s[s.length]="</a:lnStyleLst>",s[s.length]="<a:effectStyleLst>",s[s.length]="<a:effectStyle>",s[s.length]="<a:effectLst>",s[s.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',s[s.length]="</a:effectLst>",s[s.length]="</a:effectStyle>",s[s.length]="<a:effectStyle>",s[s.length]="<a:effectLst>",s[s.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',s[s.length]="</a:effectLst>",s[s.length]="</a:effectStyle>",s[s.length]="<a:effectStyle>",s[s.length]="<a:effectLst>",s[s.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',s[s.length]="</a:effectLst>",s[s.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',s[s.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',s[s.length]="</a:effectStyle>",s[s.length]="</a:effectStyleLst>",s[s.length]="<a:bgFillStyleLst>",s[s.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',s[s.length]='<a:gradFill rotWithShape="1">',s[s.length]="<a:gsLst>",s[s.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',s[s.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',s[s.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',s[s.length]="</a:gsLst>",s[s.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',s[s.length]="</a:gradFill>",s[s.length]='<a:gradFill rotWithShape="1">',s[s.length]="<a:gsLst>",s[s.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',s[s.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',s[s.length]="</a:gsLst>",s[s.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',s[s.length]="</a:gradFill>",s[s.length]="</a:bgFillStyleLst>",s[s.length]="</a:fmtScheme>",s[s.length]="</a:themeElements>",s[s.length]="<a:objectDefaults>",s[s.length]="<a:spDef>",s[s.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',s[s.length]="</a:spDef>",s[s.length]="<a:lnDef>",s[s.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',s[s.length]="</a:lnDef>",s[s.length]="</a:objectDefaults>",s[s.length]="<a:extraClrSchemeLst/>",s[s.length]="</a:theme>",s.join("")}function nSe(e,t,s){var a=e.l+t,n=e.read_shift(4);if(n!==124226){if(!s.cellStyles){e.l=a;return}var i=e.slice(e.l);e.l=a;var l;try{l=FW(i,{type:"array"})}catch{return}var o=Jo(l,"theme/theme/theme1.xml",!0);if(o)return UG(o,s)}}function iSe(e){return e.read_shift(4)}function lSe(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=oSe(e,4);break;case 2:t.xclrValue=yG(e);break;case 3:t.xclrValue=iSe(e);break;case 4:e.l+=4;break}return e.l+=8,t}function oSe(e,t){return Cl(e,t)}function cSe(e,t){return Cl(e,t)}function dSe(e){var t=e.read_shift(2),s=e.read_shift(2)-4,a=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:a[1]=lSe(e);break;case 6:a[1]=cSe(e,s);break;case 14:case 15:a[1]=e.read_shift(s===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+s)}return a}function uSe(e,t){var s=e.l+t;e.l+=2;var a=e.read_shift(2);e.l+=2;for(var n=e.read_shift(2),i=[];n-- >0;)i.push(dSe(e,s-e.l));return{ixfe:a,ext:i}}function hSe(e,t){t.forEach(function(s){s[0]})}function fSe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:kl(e)}}function mSe(e){var t=vt(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),Li(e.name,t),t.slice(0,t.l)}function xSe(e){for(var t=[],s=e.read_shift(4);s-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function pSe(e){var t=vt(4+8*e.length);t.write_shift(4,e.length);for(var s=0;s<e.length;++s)t.write_shift(4,e[s][0]),t.write_shift(4,e[s][1]);return t}function gSe(e,t){var s=vt(8+2*t.length);return s.write_shift(4,e),Li(t,s),s.slice(0,s.l)}function vSe(e){return e.l+=4,e.read_shift(4)!=0}function ySe(e,t){var s=vt(8);return s.write_shift(4,e),s.write_shift(4,1),s}function bSe(e,t,s){var a={Types:[],Cell:[],Value:[]},n=s||{},i=[],l=!1,o=2;return mf(e,function(c,d,h){switch(h){case 335:a.Types.push({name:c.name});break;case 51:c.forEach(function(m){o==1?a.Cell.push({type:a.Types[m[0]-1].name,index:m[1]}):o==0&&a.Value.push({type:a.Types[m[0]-1].name,index:m[1]})});break;case 337:o=c?1:0;break;case 338:o=2;break;case 35:i.push(h),l=!0;break;case 36:i.pop(),l=!1;break;default:if(!d.T){if(!l||n.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+h.toString(16))}}}),a}function jSe(){var e=So();return Pt(e,332),Pt(e,334,Wd(1)),Pt(e,335,mSe({name:"XLDAPR",version:12e4,flags:3496657072})),Pt(e,336),Pt(e,339,gSe(1,"XLDAPR")),Pt(e,52),Pt(e,35,Wd(514)),Pt(e,4096,Wd(0)),Pt(e,4097,Bc(1)),Pt(e,36),Pt(e,53),Pt(e,340),Pt(e,337,ySe(1)),Pt(e,51,pSe([[1,0]])),Pt(e,338),Pt(e,333),e.end()}function NSe(e,t,s){var a={Types:[],Cell:[],Value:[]};if(!e)return a;var n=!1,i=2,l;return e.replace(Tl,function(o){var c=Er(o);switch(Ku(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":a.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var d=0;d<a.Types.length;++d)a.Types[d].name==c.name&&(l=a.Types[d]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?a.Cell.push({type:a.Types[c.t-1].name,index:+c.v}):i==0&&a.Value.push({type:a.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<rvb":if(!l)break;l.offsets||(l.offsets=[]),l.offsets.push(+c.i);break;default:if(!n&&s.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return o}),a}function zG(){var e=[Bn];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function wSe(e){var t=[];if(!e)return t;var s=1;return(e.match(Tl)||[]).forEach(function(a){var n=Er(a);switch(n[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete n[0],n.i?s=n.i:n.i=s,t.push(n);break}}),t}function SSe(e){var t={};t.i=e.read_shift(4);var s={};s.r=e.read_shift(4),s.c=e.read_shift(4),t.r=Cr(s);var a=e.read_shift(1);return a&2&&(t.l="1"),a&8&&(t.a="1"),t}function _Se(e,t,s){var a=[];return mf(e,function(i,l,o){switch(o){case 63:a.push(i);break;default:if(!l.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),a}function kSe(e,t,s,a){if(!e)return e;var n=a||{},i=!1;mf(e,function(o,c,d){switch(d){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!c.T){if(!i||n.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}},n)}function ASe(e,t){if(!e)return"??";var s=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][s].Target}var qp=1024;function $G(e,t){for(var s=[21600,21600],a=["m0,0l0",s[1],s[0],s[1],s[0],"0xe"].join(","),n=[Lt("xml",null,{"xmlns:v":Yo.v,"xmlns:o":Yo.o,"xmlns:x":Yo.x,"xmlns:mv":Yo.mv}).replace(/\/>/,">"),Lt("o:shapelayout",Lt("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Lt("v:shapetype",[Lt("v:stroke",null,{joinstyle:"miter"}),Lt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:s.join(","),path:a})];qp<e*1e3;)qp+=1e3;return t.forEach(function(i){var l=sn(i[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var c=o.type=="gradient"?Lt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,d=Lt("v:fill",c,o),h={on:"t",obscured:"t"};++qp,n=n.concat(["<v:shape"+rb({id:"_x0000_s"+qp,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",d,Lt("v:shadow",null,h),Lt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",rl("x:Anchor",[l.c+1,0,l.r+1,0,l.c+3,20,l.r+5,20].join(",")),rl("x:AutoFill","False"),rl("x:Row",String(l.r)),rl("x:Column",String(l.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),n.push("</xml>"),n.join("")}function tI(e,t,s,a){var n=Array.isArray(e),i;t.forEach(function(l){var o=sn(l.ref);if(n?(e[o.r]||(e[o.r]=[]),i=e[o.r][o.c]):i=e[l.ref],!i){i={t:"z"},n?e[o.r][o.c]=i:e[l.ref]=i;var c=fs(e["!ref"]||"BDWGO1000001:A1");c.s.r>o.r&&(c.s.r=o.r),c.e.r<o.r&&(c.e.r=o.r),c.s.c>o.c&&(c.s.c=o.c),c.e.c<o.c&&(c.e.c=o.c);var d=Vr(c);d!==e["!ref"]&&(e["!ref"]=d)}i.c||(i.c=[]);var h={a:l.author,t:l.t,r:l.r,T:s};l.h&&(h.h=l.h);for(var m=i.c.length-1;m>=0;--m){if(!s&&i.c[m].T)return;s&&!i.c[m].T&&i.c.splice(m,1)}if(s&&a){for(m=0;m<a.length;++m)if(h.a==a[m].id){h.a=a[m].name||h.a;break}}i.c.push(h)})}function CSe(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var s=[],a=[],n=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);n&&n[1]&&n[1].split(/<\/\w*:?author>/).forEach(function(l){if(!(l===""||l.trim()==="")){var o=l.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&s.push(o[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(l){if(!(l===""||l.trim()==="")){var o=l.match(/<(?:\w+:)?comment[^>]*>/);if(o){var c=Er(o[0]),d={author:c.authorId&&s[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},h=sn(c.ref);if(!(t.sheetRows&&t.sheetRows<=h.r)){var m=l.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),p=!!m&&!!m[1]&&NE(m[1])||{r:"",t:"",h:""};d.r=p.r,p.r=="<t></t>"&&(p.t=p.h=""),d.t=(p.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(d.h=p.h),a.push(d)}}}}),a}function HG(e){var t=[Bn,Lt("comments",null,{xmlns:yx[0]})],s=[];return t.push("<authors>"),e.forEach(function(a){a[1].forEach(function(n){var i=ra(n.a);s.indexOf(i)==-1&&(s.push(i),t.push("<author>"+i+"</author>")),n.T&&n.ID&&s.indexOf("tc="+n.ID)==-1&&(s.push("tc="+n.ID),t.push("<author>tc="+n.ID+"</author>"))})}),s.length==0&&(s.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(a){var n=0,i=[];if(a[1][0]&&a[1][0].T&&a[1][0].ID?n=s.indexOf("tc="+a[1][0].ID):a[1].forEach(function(c){c.a&&(n=s.indexOf(ra(c.a))),i.push(c.t||"")}),t.push('<comment ref="'+a[0]+'" authorId="'+n+'"><text>'),i.length<=1)t.push(rl("t",ra(i[0]||"")));else{for(var l=`Comment:
    `+i[0]+`
`,o=1;o<i.length;++o)l+=`Reply:
    `+i[o]+`
`;t.push(rl("t",ra(l)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function TSe(e,t){var s=[],a=!1,n={},i=0;return e.replace(Tl,function(o,c){var d=Er(o);switch(Ku(d[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":n={author:d.personId,guid:d.id,ref:d.ref,T:1};break;case"</threadedComment>":n.t!=null&&s.push(n);break;case"<text>":case"<text":i=c+o.length;break;case"</text>":n.t=e.slice(i,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":a=!0;break;case"</mentions>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(!a&&t.WTF)throw new Error("unrecognized "+d[0]+" in threaded comments")}return o}),s}function ESe(e,t,s){var a=[Bn,Lt("ThreadedComments",null,{xmlns:pi.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(n){var i="";(n[1]||[]).forEach(function(l,o){if(!l.T){delete l.ID;return}l.a&&t.indexOf(l.a)==-1&&t.push(l.a);var c={ref:n[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+s.tcid++).slice(-12)+"}"};o==0?i=c.id:c.parentId=i,l.ID=c.id,l.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(l.a)).slice(-12)+"}"),a.push(Lt("threadedComment",rl("text",l.t||""),c))})}),a.push("</ThreadedComments>"),a.join("")}function PSe(e,t){var s=[],a=!1;return e.replace(Tl,function(i){var l=Er(i);switch(Ku(l[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":s.push({name:l.displayname,id:l.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(!a&&t.WTF)throw new Error("unrecognized "+l[0]+" in threaded comments")}return i}),s}function OSe(e){var t=[Bn,Lt("personList",null,{xmlns:pi.TCMNT,"xmlns:x":yx[0]}).replace(/[\/]>/,">")];return e.forEach(function(s,a){t.push(Lt("person",null,{displayName:s,id:"{54EE7950-7262-4200-6969-"+("000000000000"+a).slice(-12)+"}",userId:s,providerId:"None"}))}),t.push("</personList>"),t.join("")}function DSe(e){var t={};t.iauthor=e.read_shift(4);var s=wx(e);return t.rfx=s.s,t.ref=Cr(s.s),e.l+=16,t}function RSe(e,t){return t==null&&(t=vt(36)),t.write_shift(4,e[1].iauthor),Yg(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var MSe=kl;function FSe(e){return Li(e.slice(0,54))}function LSe(e,t){var s=[],a=[],n={},i=!1;return mf(e,function(o,c,d){switch(d){case 632:a.push(o);break;case 635:n=o;break;case 637:n.t=o.t,n.h=o.h,n.r=o.r;break;case 636:if(n.author=a[n.iauthor],delete n.iauthor,t.sheetRows&&n.rfx&&t.sheetRows<=n.rfx.r)break;n.t||(n.t=""),delete n.rfx,s.push(n);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}),s}function ISe(e){var t=So(),s=[];return Pt(t,628),Pt(t,630),e.forEach(function(a){a[1].forEach(function(n){s.indexOf(n.a)>-1||(s.push(n.a.slice(0,54)),Pt(t,632,FSe(n.a)))})}),Pt(t,631),Pt(t,633),e.forEach(function(a){a[1].forEach(function(n){n.iauthor=s.indexOf(n.a);var i={s:sn(a[0]),e:sn(a[0])};Pt(t,635,RSe([i,n])),n.t&&n.t.length>0&&Pt(t,637,iNe(n)),Pt(t,636),delete n.iauthor})}),Pt(t,634),Pt(t,629),t.end()}var BSe="application/vnd.ms-office.vbaProject";function USe(e){var t=xr.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(s,a){if(!(s.slice(-1)==="/"||!s.match(/_VBA_PROJECT_CUR/))){var n=s.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");xr.utils.cfb_add(t,n,e.FileIndex[a].content)}}),xr.write(t)}function zSe(e,t){t.FullPaths.forEach(function(s,a){if(a!=0){var n=s.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");n.slice(-1)!=="/"&&xr.utils.cfb_add(e,n,t.FileIndex[a].content)}})}var qG=["xlsb","xlsm","xlam","biff8","xla"];function $Se(){return{"!type":"dialog"}}function HSe(){return{"!type":"dialog"}}function qSe(){return{"!type":"macro"}}function VSe(){return{"!type":"macro"}}var rg=(function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function s(a,n,i,l){var o=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),l.length==0?o=!0:l.charAt(0)=="["&&(o=!0,l=l.slice(1,-1));var d=i.length>0?parseInt(i,10)|0:0,h=l.length>0?parseInt(l,10)|0:0;return o?h+=t.c:--h,c?d+=t.r:--d,n+(o?"":"$")+Fa(h)+(c?"":"$")+yn(d)}return function(n,i){return t=i,n.replace(e,s)}})(),kE=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,AE=(function(){return function(t,s){return t.replace(kE,function(a,n,i,l,o,c){var d=fE(l)-(i?0:s.c),h=hE(c)-(o?0:s.r),m=h==0?"":o?h+1:"["+h+"]",p=d==0?"":i?d+1:"["+d+"]";return n+"R"+m+"C"+p})}})();function VG(e,t){return e.replace(kE,function(s,a,n,i,l,o){return a+(n=="$"?n+i:Fa(fE(i)+t.c))+(l=="$"?l+o:yn(hE(o)+t.r))})}function WSe(e,t,s){var a=Yl(t),n=a.s,i=sn(s),l={r:i.r-n.r,c:i.c-n.c};return VG(e,l)}function GSe(e){return e.length!=1}function rI(e){return e.replace(/_xlfn\./g,"")}function Wn(e){e.l+=1}function km(e,t){var s=e.read_shift(2);return[s&16383,s>>14&1,s>>15&1]}function WG(e,t,s){var a=2;if(s){if(s.biff>=2&&s.biff<=5)return GG(e);s.biff==12&&(a=4)}var n=e.read_shift(a),i=e.read_shift(a),l=km(e),o=km(e);return{s:{r:n,c:l[0],cRel:l[1],rRel:l[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function GG(e){var t=km(e),s=km(e),a=e.read_shift(1),n=e.read_shift(1);return{s:{r:t[0],c:a,cRel:t[1],rRel:t[2]},e:{r:s[0],c:n,cRel:s[1],rRel:s[2]}}}function KSe(e,t,s){if(s.biff<8)return GG(e);var a=e.read_shift(s.biff==12?4:2),n=e.read_shift(s.biff==12?4:2),i=km(e),l=km(e);return{s:{r:a,c:i[0],cRel:i[1],rRel:i[2]},e:{r:n,c:l[0],cRel:l[1],rRel:l[2]}}}function KG(e,t,s){if(s&&s.biff>=2&&s.biff<=5)return YSe(e);var a=e.read_shift(s&&s.biff==12?4:2),n=km(e);return{r:a,c:n[0],cRel:n[1],rRel:n[2]}}function YSe(e){var t=km(e),s=e.read_shift(1);return{r:t[0],c:s,cRel:t[1],rRel:t[2]}}function XSe(e){var t=e.read_shift(2),s=e.read_shift(2);return{r:t,c:s&255,fQuoted:!!(s&16384),cRel:s>>15,rRel:s>>15}}function ZSe(e,t,s){var a=s&&s.biff?s.biff:8;if(a>=2&&a<=5)return JSe(e);var n=e.read_shift(a>=12?4:2),i=e.read_shift(2),l=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;n>524287;)n-=1048576;if(l==1)for(;i>8191;)i=i-16384;return{r:n,c:i,cRel:l,rRel:o}}function JSe(e){var t=e.read_shift(2),s=e.read_shift(1),a=(t&32768)>>15,n=(t&16384)>>14;return t&=16383,a==1&&t>=8192&&(t=t-16384),n==1&&s>=128&&(s=s-256),{r:t,c:s,cRel:n,rRel:a}}function QSe(e,t,s){var a=(e[e.l++]&96)>>5,n=WG(e,s.biff>=2&&s.biff<=5?6:8,s);return[a,n]}function e3e(e,t,s){var a=(e[e.l++]&96)>>5,n=e.read_shift(2,"i"),i=8;if(s)switch(s.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var l=WG(e,i,s);return[a,n,l]}function t3e(e,t,s){var a=(e[e.l++]&96)>>5;return e.l+=s&&s.biff>8?12:s.biff<8?6:8,[a]}function r3e(e,t,s){var a=(e[e.l++]&96)>>5,n=e.read_shift(2),i=8;if(s)switch(s.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[a,n]}function s3e(e,t,s){var a=(e[e.l++]&96)>>5,n=KSe(e,t-1,s);return[a,n]}function a3e(e,t,s){var a=(e[e.l++]&96)>>5;return e.l+=s.biff==2?6:s.biff==12?14:7,[a]}function sI(e){var t=e[e.l+1]&1,s=1;return e.l+=4,[t,s]}function n3e(e,t,s){e.l+=2;for(var a=e.read_shift(s&&s.biff==2?1:2),n=[],i=0;i<=a;++i)n.push(e.read_shift(s&&s.biff==2?1:2));return n}function i3e(e,t,s){var a=e[e.l+1]&255?1:0;return e.l+=2,[a,e.read_shift(s&&s.biff==2?1:2)]}function l3e(e,t,s){var a=e[e.l+1]&255?1:0;return e.l+=2,[a,e.read_shift(s&&s.biff==2?1:2)]}function o3e(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function c3e(e,t,s){var a=e[e.l+1]&255?1:0;return e.l+=s&&s.biff==2?3:4,[a]}function YG(e){var t=e.read_shift(1),s=e.read_shift(1);return[t,s]}function d3e(e){return e.read_shift(2),YG(e)}function u3e(e){return e.read_shift(2),YG(e)}function h3e(e,t,s){var a=(e[e.l]&96)>>5;e.l+=1;var n=KG(e,0,s);return[a,n]}function f3e(e,t,s){var a=(e[e.l]&96)>>5;e.l+=1;var n=ZSe(e,0,s);return[a,n]}function m3e(e,t,s){var a=(e[e.l]&96)>>5;e.l+=1;var n=e.read_shift(2);s&&s.biff==5&&(e.l+=12);var i=KG(e,0,s);return[a,n,i]}function x3e(e,t,s){var a=(e[e.l]&96)>>5;e.l+=1;var n=e.read_shift(s&&s.biff<=3?1:2);return[v_e[n],JG[n],a]}function p3e(e,t,s){var a=e[e.l++],n=e.read_shift(1),i=s&&s.biff<=3?[a==88?-1:0,e.read_shift(1)]:g3e(e);return[n,(i[0]===0?JG:g_e)[i[1]]]}function g3e(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function v3e(e,t,s){e.l+=s&&s.biff==2?3:4}function y3e(e,t,s){if(e.l++,s&&s.biff==12)return[e.read_shift(4,"i"),0];var a=e.read_shift(2),n=e.read_shift(s&&s.biff==2?1:2);return[a,n]}function b3e(e){return e.l++,xf[e.read_shift(1)]}function j3e(e){return e.l++,e.read_shift(2)}function N3e(e){return e.l++,e.read_shift(1)!==0}function w3e(e){return e.l++,Nl(e)}function S3e(e,t,s){return e.l++,Xb(e,t-1,s)}function _3e(e,t){var s=[e.read_shift(1)];if(t==12)switch(s[0]){case 2:s[0]=4;break;case 4:s[0]=16;break;case 0:s[0]=1;break;case 1:s[0]=2;break}switch(s[0]){case 4:s[1]=En(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:s[1]=xf[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:s[1]=Nl(e);break;case 2:s[1]=Sx(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+s[0])}return s}function k3e(e,t,s){for(var a=e.read_shift(s.biff==12?4:2),n=[],i=0;i!=a;++i)n.push((s.biff==12?wx:$5)(e));return n}function A3e(e,t,s){var a=0,n=0;s.biff==12?(a=e.read_shift(4),n=e.read_shift(4)):(n=1+e.read_shift(1),a=1+e.read_shift(2)),s.biff>=2&&s.biff<8&&(--a,--n==0&&(n=256));for(var i=0,l=[];i!=a&&(l[i]=[]);++i)for(var o=0;o!=n;++o)l[i][o]=_3e(e,s.biff);return l}function C3e(e,t,s){var a=e.read_shift(1)>>>5&3,n=!s||s.biff>=8?4:2,i=e.read_shift(n);switch(s.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[a,0,i]}function T3e(e,t,s){if(s.biff==5)return E3e(e);var a=e.read_shift(1)>>>5&3,n=e.read_shift(2),i=e.read_shift(4);return[a,n,i]}function E3e(e){var t=e.read_shift(1)>>>5&3,s=e.read_shift(2,"i");e.l+=8;var a=e.read_shift(2);return e.l+=12,[t,s,a]}function P3e(e,t,s){var a=e.read_shift(1)>>>5&3;e.l+=s&&s.biff==2?3:4;var n=e.read_shift(s&&s.biff==2?1:2);return[a,n]}function O3e(e,t,s){var a=e.read_shift(1)>>>5&3,n=e.read_shift(s&&s.biff==2?1:2);return[a,n]}function D3e(e,t,s){var a=e.read_shift(1)>>>5&3;return e.l+=4,s.biff<8&&e.l--,s.biff==12&&(e.l+=2),[a]}function R3e(e,t,s){var a=(e[e.l++]&96)>>5,n=e.read_shift(2),i=4;if(s)switch(s.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[a,n]}var M3e=Cl,F3e=Cl,L3e=Cl;function Jb(e,t,s){return e.l+=2,[XSe(e)]}function CE(e){return e.l+=6,[]}var I3e=Jb,B3e=CE,U3e=CE,z3e=Jb;function XG(e){return e.l+=2,[Kn(e),e.read_shift(2)&1]}var $3e=Jb,H3e=XG,q3e=CE,V3e=Jb,W3e=Jb,G3e=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function K3e(e){e.l+=2;var t=e.read_shift(2),s=e.read_shift(2),a=e.read_shift(4),n=e.read_shift(2),i=e.read_shift(2),l=G3e[s>>2&31];return{ixti:t,coltype:s&3,rt:l,idx:a,c:n,C:i}}function Y3e(e){return e.l+=2,[e.read_shift(4)]}function X3e(e,t,s){return e.l+=5,e.l+=2,e.l+=s.biff==2?1:4,["PTGSHEET"]}function Z3e(e,t,s){return e.l+=s.biff==2?4:5,["PTGENDSHEET"]}function J3e(e){var t=e.read_shift(1)>>>5&3,s=e.read_shift(2);return[t,s]}function Q3e(e){var t=e.read_shift(1)>>>5&3,s=e.read_shift(2);return[t,s]}function e_e(e){return e.l+=4,[0,0]}var aI={1:{n:"PtgExp",f:y3e},2:{n:"PtgTbl",f:L3e},3:{n:"PtgAdd",f:Wn},4:{n:"PtgSub",f:Wn},5:{n:"PtgMul",f:Wn},6:{n:"PtgDiv",f:Wn},7:{n:"PtgPower",f:Wn},8:{n:"PtgConcat",f:Wn},9:{n:"PtgLt",f:Wn},10:{n:"PtgLe",f:Wn},11:{n:"PtgEq",f:Wn},12:{n:"PtgGe",f:Wn},13:{n:"PtgGt",f:Wn},14:{n:"PtgNe",f:Wn},15:{n:"PtgIsect",f:Wn},16:{n:"PtgUnion",f:Wn},17:{n:"PtgRange",f:Wn},18:{n:"PtgUplus",f:Wn},19:{n:"PtgUminus",f:Wn},20:{n:"PtgPercent",f:Wn},21:{n:"PtgParen",f:Wn},22:{n:"PtgMissArg",f:Wn},23:{n:"PtgStr",f:S3e},26:{n:"PtgSheet",f:X3e},27:{n:"PtgEndSheet",f:Z3e},28:{n:"PtgErr",f:b3e},29:{n:"PtgBool",f:N3e},30:{n:"PtgInt",f:j3e},31:{n:"PtgNum",f:w3e},32:{n:"PtgArray",f:a3e},33:{n:"PtgFunc",f:x3e},34:{n:"PtgFuncVar",f:p3e},35:{n:"PtgName",f:C3e},36:{n:"PtgRef",f:h3e},37:{n:"PtgArea",f:QSe},38:{n:"PtgMemArea",f:P3e},39:{n:"PtgMemErr",f:M3e},40:{n:"PtgMemNoMem",f:F3e},41:{n:"PtgMemFunc",f:O3e},42:{n:"PtgRefErr",f:D3e},43:{n:"PtgAreaErr",f:t3e},44:{n:"PtgRefN",f:f3e},45:{n:"PtgAreaN",f:s3e},46:{n:"PtgMemAreaN",f:J3e},47:{n:"PtgMemNoMemN",f:Q3e},57:{n:"PtgNameX",f:T3e},58:{n:"PtgRef3d",f:m3e},59:{n:"PtgArea3d",f:e3e},60:{n:"PtgRefErr3d",f:R3e},61:{n:"PtgAreaErr3d",f:r3e},255:{}},t_e={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},r_e={1:{n:"PtgElfLel",f:XG},2:{n:"PtgElfRw",f:V3e},3:{n:"PtgElfCol",f:I3e},6:{n:"PtgElfRwV",f:W3e},7:{n:"PtgElfColV",f:z3e},10:{n:"PtgElfRadical",f:$3e},11:{n:"PtgElfRadicalS",f:q3e},13:{n:"PtgElfColS",f:B3e},15:{n:"PtgElfColSV",f:U3e},16:{n:"PtgElfRadicalLel",f:H3e},25:{n:"PtgList",f:K3e},29:{n:"PtgSxName",f:Y3e},255:{}},s_e={0:{n:"PtgAttrNoop",f:e_e},1:{n:"PtgAttrSemi",f:c3e},2:{n:"PtgAttrIf",f:l3e},4:{n:"PtgAttrChoose",f:n3e},8:{n:"PtgAttrGoto",f:i3e},16:{n:"PtgAttrSum",f:v3e},32:{n:"PtgAttrBaxcel",f:sI},33:{n:"PtgAttrBaxcel",f:sI},64:{n:"PtgAttrSpace",f:d3e},65:{n:"PtgAttrSpaceSemi",f:u3e},128:{n:"PtgAttrIfError",f:o3e},255:{}};function Qb(e,t,s,a){if(a.biff<8)return Cl(e,t);for(var n=e.l+t,i=[],l=0;l!==s.length;++l)switch(s[l][0]){case"PtgArray":s[l][1]=A3e(e,0,a),i.push(s[l][1]);break;case"PtgMemArea":s[l][2]=k3e(e,s[l][1],a),i.push(s[l][2]);break;case"PtgExp":a&&a.biff==12&&(s[l][1][1]=e.read_shift(4),i.push(s[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+s[l][0]}return t=n-e.l,t!==0&&i.push(Cl(e,t)),i}function e1(e,t,s){for(var a=e.l+t,n,i,l=[];a!=e.l;)t=a-e.l,i=e[e.l],n=aI[i]||aI[t_e[i]],(i===24||i===25)&&(n=(i===24?r_e:s_e)[e[e.l+1]]),!n||!n.f?Cl(e,t):l.push([n.n,n.f(e,t,s)]);return l}function a_e(e){for(var t=[],s=0;s<e.length;++s){for(var a=e[s],n=[],i=0;i<a.length;++i){var l=a[i];l?l[0]===2?n.push('"'+l[1].replace(/"/g,'""')+'"'):n.push(l[1]):n.push("")}t.push(n.join(","))}return t.join(";")}var n_e={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function i_e(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function ZG(e,t,s){if(!e)return"SH33TJSERR0";if(s.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var a=e.XTI[t];if(s.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!a)return"SH33TJSERR1";var n="";if(s.biff>8)switch(e[a[0]][0]){case 357:return n=a[1]==-1?"#REF":e.SheetNames[a[1]],a[1]==a[2]?n:n+":"+e.SheetNames[a[2]];case 358:return s.SID!=null?e.SheetNames[s.SID]:"SH33TJSSAME"+e[a[0]][0];default:return"SH33TJSSRC"+e[a[0]][0]}switch(e[a[0]][0][0]){case 1025:return n=a[1]==-1?"#REF":e.SheetNames[a[1]]||"SH33TJSERR3",a[1]==a[2]?n:n+":"+e.SheetNames[a[2]];case 14849:return e[a[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[a[0]][0][3]?(n=a[1]==-1?"#REF":e[a[0]][0][3][a[1]]||"SH33TJSERR4",a[1]==a[2]?n:n+":"+e[a[0]][0][3][a[2]]):"SH33TJSERR2"}}function nI(e,t,s){var a=ZG(e,t,s);return a=="#REF"?a:i_e(a,s)}function vl(e,t,s,a,n){var i=n&&n.biff||8,l={s:{c:0,r:0}},o=[],c,d,h,m=0,p=0,x,v="";if(!e[0]||!e[0][0])return"";for(var y=-1,b="",j=0,S=e[0].length;j<S;++j){var w=e[0][j];switch(w[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=o.pop(),d=o.pop(),y>=0){switch(e[0][y][1][0]){case 0:b=vn(" ",e[0][y][1][1]);break;case 1:b=vn("\r",e[0][y][1][1]);break;default:if(b="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][y][1][0])}d=d+b,y=-1}o.push(d+n_e[w[0]]+c);break;case"PtgIsect":c=o.pop(),d=o.pop(),o.push(d+" "+c);break;case"PtgUnion":c=o.pop(),d=o.pop(),o.push(d+","+c);break;case"PtgRange":c=o.pop(),d=o.pop(),o.push(d+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":h=vy(w[1][1],l,n),o.push(yy(h,i));break;case"PtgRefN":h=s?vy(w[1][1],s,n):w[1][1],o.push(yy(h,i));break;case"PtgRef3d":m=w[1][1],h=vy(w[1][2],l,n),v=nI(a,m,n),o.push(v+"!"+yy(h,i));break;case"PtgFunc":case"PtgFuncVar":var k=w[1][0],_=w[1][1];k||(k=0),k&=127;var O=k==0?[]:o.slice(-k);o.length-=k,_==="User"&&(_=O.shift()),o.push(_+"("+O.join(",")+")");break;case"PtgBool":o.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(w[1]);break;case"PtgNum":o.push(String(w[1]));break;case"PtgStr":o.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(w[1]);break;case"PtgAreaN":x=RL(w[1][1],s?{s}:l,n),o.push(y_(x,n));break;case"PtgArea":x=RL(w[1][1],l,n),o.push(y_(x,n));break;case"PtgArea3d":m=w[1][1],x=w[1][2],v=nI(a,m,n),o.push(v+"!"+y_(x,n));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":p=w[1][2];var E=(a.names||[])[p-1]||(a[0]||[])[p],F=E?E.Name:"SH33TJSNAME"+String(p);F&&F.slice(0,6)=="_xlfn."&&!n.xlfn&&(F=F.slice(6)),o.push(F);break;case"PtgNameX":var I=w[1][1];p=w[1][2];var U;if(n.biff<=5)I<0&&(I=-I),a[I]&&(U=a[I][p]);else{var M="";if(((a[I]||[])[0]||[])[0]==14849||(((a[I]||[])[0]||[])[0]==1025?a[I][p]&&a[I][p].itab>0&&(M=a.SheetNames[a[I][p].itab-1]+"!"):M=a.SheetNames[p-1]+"!"),a[I]&&a[I][p])M+=a[I][p].Name;else if(a[0]&&a[0][p])M+=a[0][p].Name;else{var L=(ZG(a,I,n)||"").split(";;");L[p-1]?M=L[p-1]:M+="SH33TJSERRX"}o.push(M);break}U||(U={Name:"SH33TJSERRY"}),o.push(U.Name);break;case"PtgParen":var J="(",K=")";if(y>=0){switch(b="",e[0][y][1][0]){case 2:J=vn(" ",e[0][y][1][1])+J;break;case 3:J=vn("\r",e[0][y][1][1])+J;break;case 4:K=vn(" ",e[0][y][1][1])+K;break;case 5:K=vn("\r",e[0][y][1][1])+K;break;default:if(n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][y][1][0])}y=-1}o.push(J+o.pop()+K);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":h={c:w[1][1],r:w[1][0]};var ae={c:s.c,r:s.r};if(a.sharedf[Cr(h)]){var V=a.sharedf[Cr(h)];o.push(vl(V,l,ae,a,n))}else{var re=!1;for(c=0;c!=a.arrayf.length;++c)if(d=a.arrayf[c],!(h.c<d[0].s.c||h.c>d[0].e.c)&&!(h.r<d[0].s.r||h.r>d[0].e.r)){o.push(vl(d[1],l,ae,a,n)),re=!0;break}re||o.push(w[1])}break;case"PtgArray":o.push("{"+a_e(w[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":y=j;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(w));default:throw new Error("Unrecognized Formula Token: "+String(w))}var X=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(n.biff!=3&&y>=0&&X.indexOf(e[0][j][0])==-1){w=e[0][y];var Z=!0;switch(w[1][0]){case 4:Z=!1;case 0:b=vn(" ",w[1][1]);break;case 5:Z=!1;case 1:b=vn("\r",w[1][1]);break;default:if(b="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}o.push((Z?b:"")+o.pop()+(Z?"":b)),y=-1}}if(o.length>1&&n.WTF)throw new Error("bad formula stack");return o[0]}function l_e(e,t,s){var a=e.l+t,n=s.biff==2?1:2,i,l=e.read_shift(n);if(l==65535)return[[],Cl(e,t-2)];var o=e1(e,l,s);return t!==l+n&&(i=Qb(e,t-l-n,o,s)),e.l=a,[o,i]}function o_e(e,t,s){var a=e.l+t,n=s.biff==2?1:2,i,l=e.read_shift(n);if(l==65535)return[[],Cl(e,t-2)];var o=e1(e,l,s);return t!==l+n&&(i=Qb(e,t-l-n,o,s)),e.l=a,[o,i]}function c_e(e,t,s,a){var n=e.l+t,i=e1(e,a,s),l;return n!==e.l&&(l=Qb(e,n-e.l,i,s)),[i,l]}function d_e(e,t,s){var a=e.l+t,n,i=e.read_shift(2),l=e1(e,i,s);return i==65535?[[],Cl(e,t-2)]:(t!==i+2&&(n=Qb(e,a-i-2,l,s)),[l,n])}function u_e(e){var t;if(Mh(e,e.l+6)!==65535)return[Nl(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function h_e(e){if(e==null){var t=vt(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return nx(e);return nx(0)}function S_(e,t,s){var a=e.l+t,n=Yu(e);s.biff==2&&++e.l;var i=u_e(e),l=e.read_shift(1);s.biff!=2&&(e.read_shift(1),s.biff>=5&&e.read_shift(4));var o=o_e(e,a-e.l,s);return{cell:n,val:i[0],formula:o,shared:l>>3&1,tt:i[1]}}function f_e(e,t,s,a,n){var i=lx(t,s,n),l=h_e(e.v),o=vt(6),c=33;o.write_shift(2,c),o.write_shift(4,0);for(var d=vt(e.bf.length),h=0;h<e.bf.length;++h)d[h]=e.bf[h];var m=Mi([i,l,o,d]);return m}function H5(e,t,s){var a=e.read_shift(4),n=e1(e,a,s),i=e.read_shift(4),l=i>0?Qb(e,i,n,s):null;return[n,l]}var m_e=H5,q5=H5,x_e=H5,p_e=H5,g_e={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},JG={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},v_e={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function iI(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,s){return s.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function y_e(e){var t="of:="+e.replace(kE,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function __(e){var t=e.split(":"),s=t[0].split(".")[0];return[s,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function b_e(e){return e.replace(/\./,"!")}var jy={},sg={},Ny=typeof Map<"u";function TE(e,t,s){var a=0,n=e.length;if(s){if(Ny?s.has(t):Object.prototype.hasOwnProperty.call(s,t)){for(var i=Ny?s.get(t):s[t];a<i.length;++a)if(e[i[a]].t===t)return e.Count++,i[a]}}else for(;a<n;++a)if(e[a].t===t)return e.Count++,a;return e[n]={t},e.Count++,e.Unique++,s&&(Ny?(s.has(t)||s.set(t,[]),s.get(t).push(n)):(Object.prototype.hasOwnProperty.call(s,t)||(s[t]=[]),s[t].push(n))),n}function V5(e,t){var s={min:e+1,max:e+1},a=-1;return t.MDW&&(bl=t.MDW),t.width!=null?s.customWidth=1:t.wpx!=null?a=lb(t.wpx):t.wch!=null&&(a=t.wch),a>-1?(s.width=cw(a),s.customWidth=1):t.width!=null&&(s.width=t.width),t.hidden&&(s.hidden=!0),t.level!=null&&(s.outlineLevel=s.level=t.level),s}function L0(e,t){if(e){var s=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(s=[1,1,1,1,.5,.5]),e.left==null&&(e.left=s[0]),e.right==null&&(e.right=s[1]),e.top==null&&(e.top=s[2]),e.bottom==null&&(e.bottom=s[3]),e.header==null&&(e.header=s[4]),e.footer==null&&(e.footer=s[5])}}function Lm(e,t,s){var a=s.revssf[t.z!=null?t.z:"General"],n=60,i=e.length;if(a==null&&s.ssf){for(;n<392;++n)if(s.ssf[n]==null){Du(t.z,n),s.ssf[n]=t.z,s.revssf[t.z]=a=n;break}}for(n=0;n!=i;++n)if(e[n].numFmtId===a)return n;return e[i]={numFmtId:a,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function QG(e,t,s,a,n,i){try{a.cellNF&&(e.z=wr[t])}catch(o){if(a.WTF)throw o}if(!(e.t==="z"&&!a.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Ia(e.v)),(!a||a.cellText!==!1)&&e.t!=="z")try{if(wr[t]==null&&Du(pje[t]||"General",t),e.t==="e")e.w=e.w||xf[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=eb(e.v);else if(e.t==="d"){var l=vi(e.v);(l|0)===l?e.w=l.toString(10):e.w=eb(l)}else{if(e.v===void 0)return"";e.w=sx(e.v,sg)}else e.t==="d"?e.w=uc(t,vi(e.v),sg):e.w=uc(t,e.v,sg)}catch(o){if(a.WTF)throw o}if(a.cellStyles&&s!=null)try{e.s=i.Fills[s],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=ow(n.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),a.WTF&&(e.s.fgColor.raw_rgb=n.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=ow(n.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),a.WTF&&(e.s.bgColor.raw_rgb=n.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(a.WTF&&i.Fills)throw o}}}function j_e(e,t,s){if(e&&e["!ref"]){var a=fs(e["!ref"]);if(a.e.c<a.s.c||a.e.r<a.s.r)throw new Error("Bad range ("+s+"): "+e["!ref"])}}function N_e(e,t){var s=fs(t);s.s.r<=s.e.r&&s.s.c<=s.e.c&&s.s.r>=0&&s.s.c>=0&&(e["!ref"]=Vr(s))}var w_e=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,S_e=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,__e=/<(?:\w:)?hyperlink [^>]*>/mg,k_e=/"(\w*:\w*)"/,A_e=/<(?:\w:)?col\b[^>]*[\/]?>/g,C_e=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,T_e=/<(?:\w:)?pageMargins[^>]*\/>/g,eK=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,E_e=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,P_e=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function O_e(e,t,s,a,n,i,l){if(!e)return e;a||(a={"!id":{}});var o=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},d="",h="",m=e.match(S_e);m?(d=e.slice(0,m.index),h=e.slice(m.index+m[0].length)):d=h=e;var p=d.match(eK);p?EE(p[0],o,n,s):(p=d.match(E_e))&&R_e(p[0],p[1]||"",o,n,s);var x=(d.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(x>0){var v=d.slice(x,x+50).match(k_e);v&&N_e(o,v[1])}var y=d.match(P_e);y&&y[1]&&G_e(y[1],n);var b=[];if(t.cellStyles){var j=d.match(A_e);j&&$_e(b,j)}m&&X_e(m[1],o,t,c,i,l);var S=h.match(C_e);S&&(o["!autofilter"]=q_e(S[0]));var w=[],k=h.match(w_e);if(k)for(x=0;x!=k.length;++x)w[x]=fs(k[x].slice(k[x].indexOf('"')+1));var _=h.match(__e);_&&B_e(o,_,a);var O=h.match(T_e);if(O&&(o["!margins"]=U_e(Er(O[0]))),!o["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(o["!ref"]=Vr(c)),t.sheetRows>0&&o["!ref"]){var E=fs(o["!ref"]);t.sheetRows<=+E.e.r&&(E.e.r=t.sheetRows-1,E.e.r>c.e.r&&(E.e.r=c.e.r),E.e.r<E.s.r&&(E.s.r=E.e.r),E.e.c>c.e.c&&(E.e.c=c.e.c),E.e.c<E.s.c&&(E.s.c=E.e.c),o["!fullref"]=o["!ref"],o["!ref"]=Vr(E))}return b.length>0&&(o["!cols"]=b),w.length>0&&(o["!merges"]=w),o}function D_e(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',s=0;s!=e.length;++s)t+='<mergeCell ref="'+Vr(e[s])+'"/>';return t+"</mergeCells>"}function EE(e,t,s,a){var n=Er(e);s.Sheets[a]||(s.Sheets[a]={}),n.codeName&&(s.Sheets[a].CodeName=As(fa(n.codeName)))}function R_e(e,t,s,a,n){EE(e.slice(0,e.indexOf(">")),s,a,n)}function M_e(e,t,s,a,n){var i=!1,l={},o=null;if(a.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[s];try{t.Workbook&&(c=t.Workbook.Sheets[s].CodeName||c)}catch{}i=!0,l.codeName=Tu(ra(c))}if(e&&e["!outline"]){var d={summaryBelow:1,summaryRight:1};e["!outline"].above&&(d.summaryBelow=0),e["!outline"].left&&(d.summaryRight=0),o=(o||"")+Lt("outlinePr",null,d)}!i&&!o||(n[n.length]=Lt("sheetPr",o,l))}var F_e=["objects","scenarios","selectLockedCells","selectUnlockedCells"],L_e=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function I_e(e){var t={sheet:1};return F_e.forEach(function(s){e[s]!=null&&e[s]&&(t[s]="1")}),L_e.forEach(function(s){e[s]!=null&&!e[s]&&(t[s]="0")}),e.password&&(t.password=wE(e.password).toString(16).toUpperCase()),Lt("sheetProtection",null,t)}function B_e(e,t,s){for(var a=Array.isArray(e),n=0;n!=t.length;++n){var i=Er(fa(t[n]),!0);if(!i.ref)return;var l=((s||{})["!id"]||[])[i.id];l?(i.Target=l.Target,i.location&&(i.Target+="#"+As(i.location))):(i.Target="#"+As(i.location),l={Target:i.Target,TargetMode:"Internal"}),i.Rel=l,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var o=fs(i.ref),c=o.s.r;c<=o.e.r;++c)for(var d=o.s.c;d<=o.e.c;++d){var h=Cr({c:d,r:c});a?(e[c]||(e[c]=[]),e[c][d]||(e[c][d]={t:"z",v:void 0}),e[c][d].l=i):(e[h]||(e[h]={t:"z",v:void 0}),e[h].l=i)}}}function U_e(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(s){e[s]&&(t[s]=parseFloat(e[s]))}),t}function z_e(e){return L0(e),Lt("pageMargins",null,e)}function $_e(e,t){for(var s=!1,a=0;a!=t.length;++a){var n=Er(t[a],!0);n.hidden&&(n.hidden=Ra(n.hidden));var i=parseInt(n.min,10)-1,l=parseInt(n.max,10)-1;for(n.outlineLevel&&(n.level=+n.outlineLevel||0),delete n.min,delete n.max,n.width=+n.width,!s&&n.width&&(s=!0,SE(n.width)),_m(n);i<=l;)e[i++]=ba(n)}}function H_e(e,t){for(var s=["<cols>"],a,n=0;n!=t.length;++n)(a=t[n])&&(s[s.length]=Lt("col",null,V5(n,a)));return s[s.length]="</cols>",s.join("")}function q_e(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function V_e(e,t,s,a){var n=typeof e.ref=="string"?e.ref:Vr(e.ref);s.Workbook||(s.Workbook={Sheets:[]}),s.Workbook.Names||(s.Workbook.Names=[]);var i=s.Workbook.Names,l=Yl(n);l.s.r==l.e.r&&(l.e.r=Yl(t["!ref"]).e.r,n=Vr(l));for(var o=0;o<i.length;++o){var c=i[o];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==a){c.Ref="'"+s.SheetNames[a]+"'!"+n;break}}return o==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+s.SheetNames[a]+"'!"+n}),Lt("autoFilter",null,{ref:n})}var W_e=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function G_e(e,t){t.Views||(t.Views=[{}]),(e.match(W_e)||[]).forEach(function(s,a){var n=Er(s);t.Views[a]||(t.Views[a]={}),+n.zoomScale&&(t.Views[a].zoom=+n.zoomScale),Ra(n.rightToLeft)&&(t.Views[a].RTL=!0)})}function K_e(e,t,s,a){var n={workbookViewId:"0"};return(((a||{}).Workbook||{}).Views||[])[0]&&(n.rightToLeft=a.Workbook.Views[0].RTL?"1":"0"),Lt("sheetViews",Lt("sheetView",null,n),{})}function Y_e(e,t,s,a){if(e.c&&s["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var n="",i=e.t,l=e.v;if(e.t!=="z")switch(e.t){case"b":n=e.v?"1":"0";break;case"n":n=""+e.v;break;case"e":n=xf[e.v];break;case"d":a&&a.cellDates?n=Ia(e.v,-1).toISOString():(e=ba(e),e.t="n",n=""+(e.v=vi(Ia(e.v)))),typeof e.z>"u"&&(e.z=wr[14]);break;default:n=e.v;break}var o=rl("v",ra(n)),c={r:t},d=Lm(a.cellXfs,e,a);switch(d!==0&&(c.s=d),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(a&&a.bookSST){o=rl("v",""+TE(a.Strings,e.v,a.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=i&&(e.t=i,e.v=l),typeof e.f=="string"&&e.f){var h=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;o=Lt("f",ra(e.f),h)+(e.v!=null?o:"")}return e.l&&s["!links"].push([t,e.l]),e.D&&(c.cm=1),Lt("c",o,c)}var X_e=(function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,s=/r=["']([^"']*)["']/,a=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,n=/ref=["']([^"']*)["']/,i=tb("v"),l=tb("f");return function(c,d,h,m,p,x){for(var v=0,y="",b=[],j=[],S=0,w=0,k=0,_="",O,E,F=0,I=0,U,M,L=0,J=0,K=Array.isArray(x.CellXf),ae,V=[],re=[],X=Array.isArray(d),Z=[],ye={},te=!1,D=!!h.sheetStubs,H=c.split(t),q=0,W=H.length;q!=W;++q){y=H[q].trim();var G=y.length;if(G!==0){var fe=0;e:for(v=0;v<G;++v)switch(y[v]){case">":if(y[v-1]!="/"){++v;break e}if(h&&h.cellStyles){if(E=Er(y.slice(fe,v),!0),F=E.r!=null?parseInt(E.r,10):F+1,I=-1,h.sheetRows&&h.sheetRows<F)continue;ye={},te=!1,E.ht&&(te=!0,ye.hpt=parseFloat(E.ht),ye.hpx=bg(ye.hpt)),E.hidden=="1"&&(te=!0,ye.hidden=!0),E.outlineLevel!=null&&(te=!0,ye.level=+E.outlineLevel),te&&(Z[F-1]=ye)}break;case"<":fe=v;break}if(fe>=v)break;if(E=Er(y.slice(fe,v),!0),F=E.r!=null?parseInt(E.r,10):F+1,I=-1,!(h.sheetRows&&h.sheetRows<F)){m.s.r>F-1&&(m.s.r=F-1),m.e.r<F-1&&(m.e.r=F-1),h&&h.cellStyles&&(ye={},te=!1,E.ht&&(te=!0,ye.hpt=parseFloat(E.ht),ye.hpx=bg(ye.hpt)),E.hidden=="1"&&(te=!0,ye.hidden=!0),E.outlineLevel!=null&&(te=!0,ye.level=+E.outlineLevel),te&&(Z[F-1]=ye)),b=y.slice(v).split(e);for(var Se=0;Se!=b.length&&b[Se].trim().charAt(0)=="<";++Se);for(b=b.slice(Se),v=0;v!=b.length;++v)if(y=b[v].trim(),y.length!==0){if(j=y.match(s),S=v,w=0,k=0,y="<c "+(y.slice(0,1)=="<"?">":"")+y,j!=null&&j.length===2){for(S=0,_=j[1],w=0;w!=_.length&&!((k=_.charCodeAt(w)-64)<1||k>26);++w)S=26*S+k;--S,I=S}else++I;for(w=0;w!=y.length&&y.charCodeAt(w)!==62;++w);if(++w,E=Er(y.slice(0,w),!0),E.r||(E.r=Cr({r:F-1,c:I})),_=y.slice(w),O={t:""},(j=_.match(i))!=null&&j[1]!==""&&(O.v=As(j[1])),h.cellFormula){if((j=_.match(l))!=null&&j[1]!==""){if(O.f=As(fa(j[1])).replace(/\r\n/g,`
`),h.xlfn||(O.f=rI(O.f)),j[0].indexOf('t="array"')>-1)O.F=(_.match(n)||[])[1],O.F.indexOf(":")>-1&&V.push([fs(O.F),O.F]);else if(j[0].indexOf('t="shared"')>-1){M=Er(j[0]);var se=As(fa(j[1]));h.xlfn||(se=rI(se)),re[parseInt(M.si,10)]=[M,se,E.r]}}else(j=_.match(/<f[^>]*\/>/))&&(M=Er(j[0]),re[M.si]&&(O.f=WSe(re[M.si][1],re[M.si][2],E.r)));var ge=sn(E.r);for(w=0;w<V.length;++w)ge.r>=V[w][0].s.r&&ge.r<=V[w][0].e.r&&ge.c>=V[w][0].s.c&&ge.c<=V[w][0].e.c&&(O.F=V[w][1])}if(E.t==null&&O.v===void 0)if(O.f||O.F)O.v=0,O.t="n";else if(D)O.t="z";else continue;else O.t=E.t||"n";switch(m.s.c>I&&(m.s.c=I),m.e.c<I&&(m.e.c=I),O.t){case"n":if(O.v==""||O.v==null){if(!D)continue;O.t="z"}else O.v=parseFloat(O.v);break;case"s":if(typeof O.v>"u"){if(!D)continue;O.t="z"}else U=jy[parseInt(O.v,10)],O.v=U.t,O.r=U.r,h.cellHTML&&(O.h=U.h);break;case"str":O.t="s",O.v=O.v!=null?fa(O.v):"",h.cellHTML&&(O.h=aE(O.v));break;case"inlineStr":j=_.match(a),O.t="s",j!=null&&(U=NE(j[1]))?(O.v=U.t,h.cellHTML&&(O.h=U.h)):O.v="";break;case"b":O.v=Ra(O.v);break;case"d":h.cellDates?O.v=Ia(O.v,1):(O.v=vi(Ia(O.v,1)),O.t="n");break;case"e":(!h||h.cellText!==!1)&&(O.w=O.v),O.v=rG[O.v];break}if(L=J=0,ae=null,K&&E.s!==void 0&&(ae=x.CellXf[E.s],ae!=null&&(ae.numFmtId!=null&&(L=ae.numFmtId),h.cellStyles&&ae.fillId!=null&&(J=ae.fillId))),QG(O,L,J,h,p,x),h.cellDates&&K&&O.t=="n"&&vx(wr[L])&&(O.t="d",O.v=U5(O.v)),E.cm&&h.xlmeta){var Be=(h.xlmeta.Cell||[])[+E.cm-1];Be&&Be.type=="XLDAPR"&&(O.D=!0)}if(X){var ee=sn(E.r);d[ee.r]||(d[ee.r]=[]),d[ee.r][ee.c]=O}else d[E.r]=O}}}}Z.length>0&&(d["!rows"]=Z)}})();function Z_e(e,t,s,a){var n=[],i=[],l=fs(e["!ref"]),o="",c,d="",h=[],m=0,p=0,x=e["!rows"],v=Array.isArray(e),y={r:d},b,j=-1;for(p=l.s.c;p<=l.e.c;++p)h[p]=Fa(p);for(m=l.s.r;m<=l.e.r;++m){for(i=[],d=yn(m),p=l.s.c;p<=l.e.c;++p){c=h[p]+d;var S=v?(e[m]||[])[p]:e[c];S!==void 0&&(o=Y_e(S,c,e,t))!=null&&i.push(o)}(i.length>0||x&&x[m])&&(y={r:d},x&&x[m]&&(b=x[m],b.hidden&&(y.hidden=1),j=-1,b.hpx?j=ob(b.hpx):b.hpt&&(j=b.hpt),j>-1&&(y.ht=j,y.customHeight=1),b.level&&(y.outlineLevel=b.level)),n[n.length]=Lt("row",i.join(""),y))}if(x)for(;m<x.length;++m)x&&x[m]&&(y={r:m+1},b=x[m],b.hidden&&(y.hidden=1),j=-1,b.hpx?j=ob(b.hpx):b.hpt&&(j=b.hpt),j>-1&&(y.ht=j,y.customHeight=1),b.level&&(y.outlineLevel=b.level),n[n.length]=Lt("row","",y));return n.join("")}function tK(e,t,s,a){var n=[Bn,Lt("worksheet",null,{xmlns:yx[0],"xmlns:r":pi.r})],i=s.SheetNames[e],l=0,o="",c=s.Sheets[i];c==null&&(c={});var d=c["!ref"]||"A1",h=fs(d);if(h.e.c>16383||h.e.r>1048575){if(t.WTF)throw new Error("Range "+d+" exceeds format limit A1:XFD1048576");h.e.c=Math.min(h.e.c,16383),h.e.r=Math.min(h.e.c,1048575),d=Vr(h)}a||(a={}),c["!comments"]=[];var m=[];M_e(c,s,e,t,n),n[n.length]=Lt("dimension",null,{ref:d}),n[n.length]=K_e(c,t,e,s),t.sheetFormat&&(n[n.length]=Lt("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(n[n.length]=H_e(c,c["!cols"])),n[l=n.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(o=Z_e(c,t),o.length>0&&(n[n.length]=o)),n.length>l+1&&(n[n.length]="</sheetData>",n[l]=n[l].replace("/>",">")),c["!protect"]&&(n[n.length]=I_e(c["!protect"])),c["!autofilter"]!=null&&(n[n.length]=V_e(c["!autofilter"],c,s,e)),c["!merges"]!=null&&c["!merges"].length>0&&(n[n.length]=D_e(c["!merges"]));var p=-1,x,v=-1;return c["!links"].length>0&&(n[n.length]="<hyperlinks>",c["!links"].forEach(function(y){y[1].Target&&(x={ref:y[0]},y[1].Target.charAt(0)!="#"&&(v=Zs(a,-1,ra(y[1].Target).replace(/#.*$/,""),ns.HLINK),x["r:id"]="rId"+v),(p=y[1].Target.indexOf("#"))>-1&&(x.location=ra(y[1].Target.slice(p+1))),y[1].Tooltip&&(x.tooltip=ra(y[1].Tooltip)),n[n.length]=Lt("hyperlink",null,x))}),n[n.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(n[n.length]=z_e(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(n[n.length]=rl("ignoredErrors",Lt("ignoredError",null,{numberStoredAsText:1,sqref:d}))),m.length>0&&(v=Zs(a,-1,"../drawings/drawing"+(e+1)+".xml",ns.DRAW),n[n.length]=Lt("drawing",null,{"r:id":"rId"+v}),c["!drawing"]=m),c["!comments"].length>0&&(v=Zs(a,-1,"../drawings/vmlDrawing"+(e+1)+".vml",ns.VML),n[n.length]=Lt("legacyDrawing",null,{"r:id":"rId"+v}),c["!legacy"]=v),n.length>1&&(n[n.length]="</worksheet>",n[1]=n[1].replace("/>",">")),n.join("")}function J_e(e,t){var s={},a=e.l+t;s.r=e.read_shift(4),e.l+=4;var n=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=a,i&7&&(s.level=i&7),i&16&&(s.hidden=!0),i&32&&(s.hpt=n/20),s}function Q_e(e,t,s){var a=vt(145),n=(s["!rows"]||[])[e]||{};a.write_shift(4,e),a.write_shift(4,0);var i=320;n.hpx?i=ob(n.hpx)*20:n.hpt&&(i=n.hpt*20),a.write_shift(2,i),a.write_shift(1,0);var l=0;n.level&&(l|=n.level),n.hidden&&(l|=16),(n.hpx||n.hpt)&&(l|=32),a.write_shift(1,l),a.write_shift(1,0);var o=0,c=a.l;a.l+=4;for(var d={r:e,c:0},h=0;h<16;++h)if(!(t.s.c>h+1<<10||t.e.c<h<<10)){for(var m=-1,p=-1,x=h<<10;x<h+1<<10;++x){d.c=x;var v=Array.isArray(s)?(s[d.r]||[])[d.c]:s[Cr(d)];v&&(m<0&&(m=x),p=x)}m<0||(++o,a.write_shift(4,m),a.write_shift(4,p))}var y=a.l;return a.l=c,a.write_shift(4,o),a.l=y,a.length>a.l?a.slice(0,a.l):a}function eke(e,t,s,a){var n=Q_e(a,s,t);(n.length>17||(t["!rows"]||[])[a])&&Pt(e,0,n)}var tke=wx,rke=Yg;function ske(){}function ake(e,t){var s={},a=e[e.l];return++e.l,s.above=!(a&64),s.left=!(a&128),e.l+=18,s.name=lNe(e),s}function nke(e,t,s){s==null&&(s=vt(84+4*e.length));var a=192;t&&(t.above&&(a&=-65),t.left&&(a&=-129)),s.write_shift(1,a);for(var n=1;n<3;++n)s.write_shift(1,0);return nw({auto:1},s),s.write_shift(-4,-1),s.write_shift(-4,-1),ZW(e,s),s.slice(0,s.l)}function ike(e){var t=ad(e);return[t]}function lke(e,t,s){return s==null&&(s=vt(8)),bx(t,s)}function oke(e){var t=jx(e);return[t]}function cke(e,t,s){return s==null&&(s=vt(4)),Nx(t,s)}function dke(e){var t=ad(e),s=e.read_shift(1);return[t,s,"b"]}function uke(e,t,s){return s==null&&(s=vt(9)),bx(t,s),s.write_shift(1,e.v?1:0),s}function hke(e){var t=jx(e),s=e.read_shift(1);return[t,s,"b"]}function fke(e,t,s){return s==null&&(s=vt(5)),Nx(t,s),s.write_shift(1,e.v?1:0),s}function mke(e){var t=ad(e),s=e.read_shift(1);return[t,s,"e"]}function xke(e,t,s){return s==null&&(s=vt(9)),bx(t,s),s.write_shift(1,e.v),s}function pke(e){var t=jx(e),s=e.read_shift(1);return[t,s,"e"]}function gke(e,t,s){return s==null&&(s=vt(8)),Nx(t,s),s.write_shift(1,e.v),s.write_shift(2,0),s.write_shift(1,0),s}function vke(e){var t=ad(e),s=e.read_shift(4);return[t,s,"s"]}function yke(e,t,s){return s==null&&(s=vt(12)),bx(t,s),s.write_shift(4,t.v),s}function bke(e){var t=jx(e),s=e.read_shift(4);return[t,s,"s"]}function jke(e,t,s){return s==null&&(s=vt(8)),Nx(t,s),s.write_shift(4,t.v),s}function Nke(e){var t=ad(e),s=Nl(e);return[t,s,"n"]}function wke(e,t,s){return s==null&&(s=vt(16)),bx(t,s),nx(e.v,s),s}function rK(e){var t=jx(e),s=Nl(e);return[t,s,"n"]}function Ske(e,t,s){return s==null&&(s=vt(12)),Nx(t,s),nx(e.v,s),s}function _ke(e){var t=ad(e),s=gE(e);return[t,s,"n"]}function kke(e,t,s){return s==null&&(s=vt(12)),bx(t,s),JW(e.v,s),s}function Ake(e){var t=jx(e),s=gE(e);return[t,s,"n"]}function Cke(e,t,s){return s==null&&(s=vt(8)),Nx(t,s),JW(e.v,s),s}function Tke(e){var t=ad(e),s=mE(e);return[t,s,"is"]}function Eke(e){var t=ad(e),s=kl(e);return[t,s,"str"]}function Pke(e,t,s){return s==null&&(s=vt(12+4*e.v.length)),bx(t,s),Li(e.v,s),s.length>s.l?s.slice(0,s.l):s}function Oke(e){var t=jx(e),s=kl(e);return[t,s,"str"]}function Dke(e,t,s){return s==null&&(s=vt(8+4*e.v.length)),Nx(t,s),Li(e.v,s),s.length>s.l?s.slice(0,s.l):s}function Rke(e,t,s){var a=e.l+t,n=ad(e);n.r=s["!row"];var i=e.read_shift(1),l=[n,i,"b"];if(s.cellFormula){e.l+=2;var o=q5(e,a-e.l,s);l[3]=vl(o,null,n,s.supbooks,s)}else e.l=a;return l}function Mke(e,t,s){var a=e.l+t,n=ad(e);n.r=s["!row"];var i=e.read_shift(1),l=[n,i,"e"];if(s.cellFormula){e.l+=2;var o=q5(e,a-e.l,s);l[3]=vl(o,null,n,s.supbooks,s)}else e.l=a;return l}function Fke(e,t,s){var a=e.l+t,n=ad(e);n.r=s["!row"];var i=Nl(e),l=[n,i,"n"];if(s.cellFormula){e.l+=2;var o=q5(e,a-e.l,s);l[3]=vl(o,null,n,s.supbooks,s)}else e.l=a;return l}function Lke(e,t,s){var a=e.l+t,n=ad(e);n.r=s["!row"];var i=kl(e),l=[n,i,"str"];if(s.cellFormula){e.l+=2;var o=q5(e,a-e.l,s);l[3]=vl(o,null,n,s.supbooks,s)}else e.l=a;return l}var Ike=wx,Bke=Yg;function Uke(e,t){return t==null&&(t=vt(4)),t.write_shift(4,e),t}function zke(e,t){var s=e.l+t,a=wx(e),n=xE(e),i=kl(e),l=kl(e),o=kl(e);e.l=s;var c={rfx:a,relId:n,loc:i,display:o};return l&&(c.Tooltip=l),c}function $ke(e,t){var s=vt(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Yg({s:sn(e[0]),e:sn(e[0])},s),pE("rId"+t,s);var a=e[1].Target.indexOf("#"),n=a==-1?"":e[1].Target.slice(a+1);return Li(n||"",s),Li(e[1].Tooltip||"",s),Li("",s),s.slice(0,s.l)}function Hke(){}function qke(e,t,s){var a=e.l+t,n=QW(e),i=e.read_shift(1),l=[n];if(l[2]=i,s.cellFormula){var o=m_e(e,a-e.l,s);l[1]=o}else e.l=a;return l}function Vke(e,t,s){var a=e.l+t,n=wx(e),i=[n];if(s.cellFormula){var l=p_e(e,a-e.l,s);i[1]=l,e.l=a}else e.l=a;return i}function Wke(e,t,s){s==null&&(s=vt(18));var a=V5(e,t);s.write_shift(-4,e),s.write_shift(-4,e),s.write_shift(4,(a.width||10)*256),s.write_shift(4,0);var n=0;return t.hidden&&(n|=1),typeof a.width=="number"&&(n|=2),t.level&&(n|=t.level<<8),s.write_shift(2,n),s}var sK=["left","right","top","bottom","header","footer"];function Gke(e){var t={};return sK.forEach(function(s){t[s]=Nl(e)}),t}function Kke(e,t){return t==null&&(t=vt(48)),L0(e),sK.forEach(function(s){nx(e[s],t)}),t}function Yke(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function Xke(e,t,s){s==null&&(s=vt(30));var a=924;return(((t||{}).Views||[])[0]||{}).RTL&&(a|=32),s.write_shift(2,a),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(1,0),s.write_shift(1,0),s.write_shift(2,0),s.write_shift(2,100),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(4,0),s}function Zke(e){var t=vt(24);return t.write_shift(4,4),t.write_shift(4,1),Yg(e,t),t}function Jke(e,t){return t==null&&(t=vt(66)),t.write_shift(2,e.password?wE(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(s){s[1]?t.write_shift(4,e[s[0]]!=null&&!e[s[0]]?1:0):t.write_shift(4,e[s[0]]!=null&&e[s[0]]?0:1)}),t}function Qke(){}function eAe(){}function tAe(e,t,s,a,n,i,l){if(!e)return e;var o=t||{};a||(a={"!id":{}});var c=o.dense?[]:{},d,h={s:{r:2e6,c:2e6},e:{r:0,c:0}},m=!1,p=!1,x,v,y,b,j,S,w,k,_,O=[];o.biff=12,o["!row"]=0;var E=0,F=!1,I=[],U={},M=o.supbooks||n.supbooks||[[]];if(M.sharedf=U,M.arrayf=I,M.SheetNames=n.SheetNames||n.Sheets.map(function(X){return X.name}),!o.supbooks&&(o.supbooks=M,n.Names))for(var L=0;L<n.Names.length;++L)M[0][L+1]=n.Names[L];var J=[],K=[],ae=!1;cb[16]={n:"BrtShortReal",f:rK};var V;if(mf(e,function(Z,ye,te){if(!p)switch(te){case 148:d=Z;break;case 0:x=Z,o.sheetRows&&o.sheetRows<=x.r&&(p=!0),k=yn(b=x.r),o["!row"]=x.r,(Z.hidden||Z.hpt||Z.level!=null)&&(Z.hpt&&(Z.hpx=bg(Z.hpt)),K[Z.r]=Z);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(v={t:Z[2]},Z[2]){case"n":v.v=Z[1];break;case"s":w=jy[Z[1]],v.v=w.t,v.r=w.r;break;case"b":v.v=!!Z[1];break;case"e":v.v=Z[1],o.cellText!==!1&&(v.w=xf[v.v]);break;case"str":v.t="s",v.v=Z[1];break;case"is":v.t="s",v.v=Z[1].t;break}if((y=l.CellXf[Z[0].iStyleRef])&&QG(v,y.numFmtId,null,o,i,l),j=Z[0].c==-1?j+1:Z[0].c,o.dense?(c[b]||(c[b]=[]),c[b][j]=v):c[Fa(j)+k]=v,o.cellFormula){for(F=!1,E=0;E<I.length;++E){var D=I[E];x.r>=D[0].s.r&&x.r<=D[0].e.r&&j>=D[0].s.c&&j<=D[0].e.c&&(v.F=Vr(D[0]),F=!0)}!F&&Z.length>3&&(v.f=Z[3])}if(h.s.r>x.r&&(h.s.r=x.r),h.s.c>j&&(h.s.c=j),h.e.r<x.r&&(h.e.r=x.r),h.e.c<j&&(h.e.c=j),o.cellDates&&y&&v.t=="n"&&vx(wr[y.numFmtId])){var H=dm(v.v);H&&(v.t="d",v.v=new Date(H.y,H.m-1,H.d,H.H,H.M,H.S,H.u))}V&&(V.type=="XLDAPR"&&(v.D=!0),V=void 0);break;case 1:case 12:if(!o.sheetStubs||m)break;v={t:"z",v:void 0},j=Z[0].c==-1?j+1:Z[0].c,o.dense?(c[b]||(c[b]=[]),c[b][j]=v):c[Fa(j)+k]=v,h.s.r>x.r&&(h.s.r=x.r),h.s.c>j&&(h.s.c=j),h.e.r<x.r&&(h.e.r=x.r),h.e.c<j&&(h.e.c=j),V&&(V.type=="XLDAPR"&&(v.D=!0),V=void 0);break;case 176:O.push(Z);break;case 49:V=((o.xlmeta||{}).Cell||[])[Z-1];break;case 494:var q=a["!id"][Z.relId];for(q?(Z.Target=q.Target,Z.loc&&(Z.Target+="#"+Z.loc),Z.Rel=q):Z.relId==""&&(Z.Target="#"+Z.loc),b=Z.rfx.s.r;b<=Z.rfx.e.r;++b)for(j=Z.rfx.s.c;j<=Z.rfx.e.c;++j)o.dense?(c[b]||(c[b]=[]),c[b][j]||(c[b][j]={t:"z",v:void 0}),c[b][j].l=Z):(S=Cr({c:j,r:b}),c[S]||(c[S]={t:"z",v:void 0}),c[S].l=Z);break;case 426:if(!o.cellFormula)break;I.push(Z),_=o.dense?c[b][j]:c[Fa(j)+k],_.f=vl(Z[1],h,{r:x.r,c:j},M,o),_.F=Vr(Z[0]);break;case 427:if(!o.cellFormula)break;U[Cr(Z[0].s)]=Z[1],_=o.dense?c[b][j]:c[Fa(j)+k],_.f=vl(Z[1],h,{r:x.r,c:j},M,o);break;case 60:if(!o.cellStyles)break;for(;Z.e>=Z.s;)J[Z.e--]={width:Z.w/256,hidden:!!(Z.flags&1),level:Z.level},ae||(ae=!0,SE(Z.w/256)),_m(J[Z.e+1]);break;case 161:c["!autofilter"]={ref:Vr(Z)};break;case 476:c["!margins"]=Z;break;case 147:n.Sheets[s]||(n.Sheets[s]={}),Z.name&&(n.Sheets[s].CodeName=Z.name),(Z.above||Z.left)&&(c["!outline"]={above:Z.above,left:Z.left});break;case 137:n.Views||(n.Views=[{}]),n.Views[0]||(n.Views[0]={}),Z.RTL&&(n.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:m=!0;break;case 36:m=!1;break;case 37:m=!0;break;case 38:m=!1;break;default:if(!ye.T){if(!m||o.WTF)throw new Error("Unexpected record 0x"+te.toString(16))}}},o),delete o.supbooks,delete o["!row"],!c["!ref"]&&(h.s.r<2e6||d&&(d.e.r>0||d.e.c>0||d.s.r>0||d.s.c>0))&&(c["!ref"]=Vr(d||h)),o.sheetRows&&c["!ref"]){var re=fs(c["!ref"]);o.sheetRows<=+re.e.r&&(re.e.r=o.sheetRows-1,re.e.r>h.e.r&&(re.e.r=h.e.r),re.e.r<re.s.r&&(re.s.r=re.e.r),re.e.c>h.e.c&&(re.e.c=h.e.c),re.e.c<re.s.c&&(re.s.c=re.e.c),c["!fullref"]=c["!ref"],c["!ref"]=Vr(re))}return O.length>0&&(c["!merges"]=O),J.length>0&&(c["!cols"]=J),K.length>0&&(c["!rows"]=K),c}function rAe(e,t,s,a,n,i,l){if(t.v===void 0)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":t=ba(t),t.z=t.z||wr[14],t.v=vi(Ia(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v;break}var c={r:s,c:a};switch(c.s=Lm(n.cellXfs,t,n),t.l&&i["!links"].push([Cr(c),t.l]),t.c&&i["!comments"].push([Cr(c),t.c]),t.t){case"s":case"str":return n.bookSST?(o=TE(n.Strings,t.v,n.revStrings),c.t="s",c.v=o,l?Pt(e,18,jke(t,c)):Pt(e,7,yke(t,c))):(c.t="str",l?Pt(e,17,Dke(t,c)):Pt(e,6,Pke(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?l?Pt(e,13,Cke(t,c)):Pt(e,2,kke(t,c)):l?Pt(e,16,Ske(t,c)):Pt(e,5,wke(t,c)),!0;case"b":return c.t="b",l?Pt(e,15,fke(t,c)):Pt(e,4,uke(t,c)),!0;case"e":return c.t="e",l?Pt(e,14,gke(t,c)):Pt(e,3,xke(t,c)),!0}return l?Pt(e,12,cke(t,c)):Pt(e,1,lke(t,c)),!0}function sAe(e,t,s,a){var n=fs(t["!ref"]||"A1"),i,l="",o=[];Pt(e,145);var c=Array.isArray(t),d=n.e.r;t["!rows"]&&(d=Math.max(n.e.r,t["!rows"].length-1));for(var h=n.s.r;h<=d;++h){l=yn(h),eke(e,t,n,h);var m=!1;if(h<=n.e.r)for(var p=n.s.c;p<=n.e.c;++p){h===n.s.r&&(o[p]=Fa(p)),i=o[p]+l;var x=c?(t[h]||[])[p]:t[i];if(!x){m=!1;continue}m=rAe(e,x,h,p,a,t,m)}}Pt(e,146)}function aAe(e,t){!t||!t["!merges"]||(Pt(e,177,Uke(t["!merges"].length)),t["!merges"].forEach(function(s){Pt(e,176,Bke(s))}),Pt(e,178))}function nAe(e,t){!t||!t["!cols"]||(Pt(e,390),t["!cols"].forEach(function(s,a){s&&Pt(e,60,Wke(a,s))}),Pt(e,391))}function iAe(e,t){!t||!t["!ref"]||(Pt(e,648),Pt(e,649,Zke(fs(t["!ref"]))),Pt(e,650))}function lAe(e,t,s){t["!links"].forEach(function(a){if(a[1].Target){var n=Zs(s,-1,a[1].Target.replace(/#.*$/,""),ns.HLINK);Pt(e,494,$ke(a,n))}}),delete t["!links"]}function oAe(e,t,s,a){if(t["!comments"].length>0){var n=Zs(a,-1,"../drawings/vmlDrawing"+(s+1)+".vml",ns.VML);Pt(e,551,pE("rId"+n)),t["!legacy"]=n}}function cAe(e,t,s,a){if(t["!autofilter"]){var n=t["!autofilter"],i=typeof n.ref=="string"?n.ref:Vr(n.ref);s.Workbook||(s.Workbook={Sheets:[]}),s.Workbook.Names||(s.Workbook.Names=[]);var l=s.Workbook.Names,o=Yl(i);o.s.r==o.e.r&&(o.e.r=Yl(t["!ref"]).e.r,i=Vr(o));for(var c=0;c<l.length;++c){var d=l[c];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==a){d.Ref="'"+s.SheetNames[a]+"'!"+i;break}}c==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+s.SheetNames[a]+"'!"+i}),Pt(e,161,Yg(fs(i))),Pt(e,162)}}function dAe(e,t,s){Pt(e,133),Pt(e,137,Xke(t,s)),Pt(e,138),Pt(e,134)}function uAe(e,t){t["!protect"]&&Pt(e,535,Jke(t["!protect"]))}function hAe(e,t,s,a){var n=So(),i=s.SheetNames[e],l=s.Sheets[i]||{},o=i;try{s&&s.Workbook&&(o=s.Workbook.Sheets[e].CodeName||o)}catch{}var c=fs(l["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return l["!links"]=[],l["!comments"]=[],Pt(n,129),(s.vbaraw||l["!outline"])&&Pt(n,147,nke(o,l["!outline"])),Pt(n,148,rke(c)),dAe(n,l,s.Workbook),nAe(n,l),sAe(n,l,e,t),uAe(n,l),cAe(n,l,s,e),aAe(n,l),lAe(n,l,a),l["!margins"]&&Pt(n,476,Kke(l["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&iAe(n,l),oAe(n,l,e,a),Pt(n,130),n.end()}function fAe(e){var t=[],s=e.match(/^<c:numCache>/),a;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var l=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);l&&(t[+l[1]]=s?+l[2]:l[2])});var n=As((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){a=i.replace(/<.*?>/g,"")}),[t,n,a]}function mAe(e,t,s,a,n,i){var l=i||{"!type":"chart"};if(!e)return i;var o=0,c=0,d="A",h={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(m){var p=fAe(m);h.s.r=h.s.c=0,h.e.c=o,d=Fa(o),p[0].forEach(function(x,v){l[d+yn(v)]={t:"n",v:x,z:p[1]},c=v}),h.e.r<c&&(h.e.r=c),++o}),o>0&&(l["!ref"]=Vr(h)),l}function xAe(e,t,s,a,n){if(!e)return e;a||(a={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},l,o=e.match(eK);return o&&EE(o[0],i,n,s),(l=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=l[1]),a["!id"][i["!rel"]]&&(i["!drawel"]=a["!id"][i["!rel"]]),i}function pAe(e,t){e.l+=10;var s=kl(e);return{name:s}}function gAe(e,t,s,a,n){if(!e)return e;a||(a={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},l=!1;return mf(e,function(c,d,h){switch(h){case 550:i["!rel"]=c;break;case 651:n.Sheets[s]||(n.Sheets[s]={}),c.name&&(n.Sheets[s].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:l=!0;break;case 36:l=!1;break;case 37:break;case 38:break;default:if(!(d.T>0)){if(!(d.T<0)){if(!l||t.WTF)throw new Error("Unexpected record 0x"+h.toString(16))}}}},t),a["!id"][i["!rel"]]&&(i["!drawel"]=a["!id"][i["!rel"]]),i}var PE=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],vAe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],yAe=[],bAe=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function lI(e,t){for(var s=0;s!=e.length;++s)for(var a=e[s],n=0;n!=t.length;++n){var i=t[n];if(a[i[0]]==null)a[i[0]]=i[1];else switch(i[2]){case"bool":typeof a[i[0]]=="string"&&(a[i[0]]=Ra(a[i[0]]));break;case"int":typeof a[i[0]]=="string"&&(a[i[0]]=parseInt(a[i[0]],10));break}}}function oI(e,t){for(var s=0;s!=t.length;++s){var a=t[s];if(e[a[0]]==null)e[a[0]]=a[1];else switch(a[2]){case"bool":typeof e[a[0]]=="string"&&(e[a[0]]=Ra(e[a[0]]));break;case"int":typeof e[a[0]]=="string"&&(e[a[0]]=parseInt(e[a[0]],10));break}}}function aK(e){oI(e.WBProps,PE),oI(e.CalcPr,bAe),lI(e.WBView,vAe),lI(e.Sheets,yAe),sg.date1904=Ra(e.WBProps.date1904)}function jAe(e){return!e.Workbook||!e.Workbook.WBProps?"false":Ra(e.Workbook.WBProps.date1904)?"true":"false"}var NAe="][*?/\\".split("");function nK(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var s=!0;return NAe.forEach(function(a){if(e.indexOf(a)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),s}function wAe(e,t,s){e.forEach(function(a,n){nK(a);for(var i=0;i<n;++i)if(a==e[i])throw new Error("Duplicate Sheet Name: "+a);if(s){var l=t&&t[n]&&t[n].CodeName||a;if(l.charCodeAt(0)==95&&l.length>22)throw new Error("Bad Code Name: Worksheet"+l)}})}function iK(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];wAe(e.SheetNames,t,!!e.vbaraw);for(var s=0;s<e.SheetNames.length;++s)j_e(e.Sheets[e.SheetNames[s]],e.SheetNames[s],s)}var SAe=/<\w+:workbook/;function _Ae(e,t){if(!e)throw new Error("Could not find file");var s={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},a=!1,n="xmlns",i={},l=0;if(e.replace(Tl,function(c,d){var h=Er(c);switch(Ku(h[0])){case"<?xml":break;case"<workbook":c.match(SAe)&&(n="xmlns"+c.match(/<(\w+):/)[1]),s.xmlns=h[n];break;case"</workbook>":break;case"<fileVersion":delete h[0],s.AppVersion=h;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":PE.forEach(function(m){if(h[m[0]]!=null)switch(m[2]){case"bool":s.WBProps[m[0]]=Ra(h[m[0]]);break;case"int":s.WBProps[m[0]]=parseInt(h[m[0]],10);break;default:s.WBProps[m[0]]=h[m[0]]}}),h.codeName&&(s.WBProps.CodeName=fa(h.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete h[0],s.WBView.push(h);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(h.state){case"hidden":h.Hidden=1;break;case"veryHidden":h.Hidden=2;break;default:h.Hidden=0}delete h.state,h.name=As(fa(h.name)),delete h[0],s.Sheets.push(h);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":a=!0;break;case"</definedNames>":a=!1;break;case"<definedName":i={},i.Name=fa(h.name),h.comment&&(i.Comment=h.comment),h.localSheetId&&(i.Sheet=+h.localSheetId),Ra(h.hidden||"0")&&(i.Hidden=!0),l=d+c.length;break;case"</definedName>":i.Ref=As(fa(e.slice(l,d))),s.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete h[0],s.CalcPr=h;break;case"<calcPr/>":delete h[0],s.CalcPr=h;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":a=!0;break;case"</AlternateContent>":a=!1;break;case"<revisionPtr":break;default:if(!a&&t.WTF)throw new Error("unrecognized "+h[0]+" in workbook")}return c}),yx.indexOf(s.xmlns)===-1)throw new Error("Unknown Namespace: "+s.xmlns);return aK(s),s}function lK(e){var t=[Bn];t[t.length]=Lt("workbook",null,{xmlns:yx[0],"xmlns:r":pi.r});var s=e.Workbook&&(e.Workbook.Names||[]).length>0,a={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(PE.forEach(function(o){e.Workbook.WBProps[o[0]]!=null&&e.Workbook.WBProps[o[0]]!=o[1]&&(a[o[0]]=e.Workbook.WBProps[o[0]])}),e.Workbook.WBProps.CodeName&&(a.codeName=e.Workbook.WBProps.CodeName,delete a.CodeName)),t[t.length]=Lt("workbookPr",null,a);var n=e.Workbook&&e.Workbook.Sheets||[],i=0;if(n&&n[0]&&n[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!n[i]||!n[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var l={name:ra(e.SheetNames[i].slice(0,31))};if(l.sheetId=""+(i+1),l["r:id"]="rId"+(i+1),n[i])switch(n[i].Hidden){case 1:l.state="hidden";break;case 2:l.state="veryHidden";break}t[t.length]=Lt("sheet",null,l)}return t[t.length]="</sheets>",s&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(o){var c={name:o.Name};o.Comment&&(c.comment=o.Comment),o.Sheet!=null&&(c.localSheetId=""+o.Sheet),o.Hidden&&(c.hidden="1"),o.Ref&&(t[t.length]=Lt("definedName",ra(o.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function kAe(e,t){var s={};return s.Hidden=e.read_shift(4),s.iTabID=e.read_shift(4),s.strRelID=qA(e),s.name=kl(e),s}function AAe(e,t){return t||(t=vt(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),pE(e.strRelID,t),Li(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function CAe(e,t){var s={},a=e.read_shift(4);s.defaultThemeVersion=e.read_shift(4);var n=t>8?kl(e):"";return n.length>0&&(s.CodeName=n),s.autoCompressPictures=!!(a&65536),s.backupFile=!!(a&64),s.checkCompatibility=!!(a&4096),s.date1904=!!(a&1),s.filterPrivacy=!!(a&8),s.hidePivotFieldList=!!(a&1024),s.promptedSolutions=!!(a&16),s.publishItems=!!(a&2048),s.refreshAllConnections=!!(a&262144),s.saveExternalLinkValues=!!(a&128),s.showBorderUnselectedTables=!!(a&4),s.showInkAnnotation=!!(a&32),s.showObjects=["all","placeholders","none"][a>>13&3],s.showPivotChartFilter=!!(a&32768),s.updateLinks=["userSet","never","always"][a>>8&3],s}function TAe(e,t){t||(t=vt(72));var s=0;return e&&e.filterPrivacy&&(s|=8),t.write_shift(4,s),t.write_shift(4,0),ZW(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function EAe(e,t){var s={};return e.read_shift(4),s.ArchID=e.read_shift(4),e.l+=t-8,s}function PAe(e,t,s){var a=e.l+t;e.l+=4,e.l+=1;var n=e.read_shift(4),i=oNe(e),l=x_e(e,0,s),o=xE(e);e.l=a;var c={Name:i,Ptg:l};return n<268435455&&(c.Sheet=n),o&&(c.Comment=o),c}function OAe(e,t){var s={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},a=[],n=!1;t||(t={}),t.biff=12;var i=[],l=[[]];return l.SheetNames=[],l.XTI=[],cb[16]={n:"BrtFRTArchID$",f:EAe},mf(e,function(c,d,h){switch(h){case 156:l.SheetNames.push(c.name),s.Sheets.push(c);break;case 153:s.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=vl(c.Ptg,null,null,l,t),delete t.SID,delete c.Ptg,i.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:l[0].length?l.push([h,c]):l[0]=[h,c],l[l.length-1].XTI=[];break;case 362:l.length===0&&(l[0]=[],l[0].XTI=[]),l[l.length-1].XTI=l[l.length-1].XTI.concat(c),l.XTI=l.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:a.push(h),n=!0;break;case 36:a.pop(),n=!1;break;case 37:a.push(h),n=!0;break;case 38:a.pop(),n=!1;break;case 16:break;default:if(!d.T){if(!n||t.WTF&&a[a.length-1]!=37&&a[a.length-1]!=35)throw new Error("Unexpected record 0x"+h.toString(16))}}},t),aK(s),s.Names=i,s.supbooks=l,s}function DAe(e,t){Pt(e,143);for(var s=0;s!=t.SheetNames.length;++s){var a=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[s]&&t.Workbook.Sheets[s].Hidden||0,n={Hidden:a,iTabID:s+1,strRelID:"rId"+(s+1),name:t.SheetNames[s]};Pt(e,156,AAe(n))}Pt(e,144)}function RAe(e,t){t||(t=vt(127));for(var s=0;s!=4;++s)t.write_shift(4,0);return Li("SheetJS",t),Li(Jy.version,t),Li(Jy.version,t),Li("7262",t),t.length>t.l?t.slice(0,t.l):t}function MAe(e,t){t||(t=vt(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var s=120;return t.write_shift(1,s),t.length>t.l?t.slice(0,t.l):t}function FAe(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var s=t.Workbook.Sheets,a=0,n=-1,i=-1;a<s.length;++a)!s[a]||!s[a].Hidden&&n==-1?n=a:s[a].Hidden==1&&i==-1&&(i=a);i>n||(Pt(e,135),Pt(e,158,MAe(n)),Pt(e,136))}}function LAe(e,t){var s=So();return Pt(s,131),Pt(s,128,RAe()),Pt(s,153,TAe(e.Workbook&&e.Workbook.WBProps||null)),FAe(s,e),DAe(s,e),Pt(s,132),s.end()}function IAe(e,t,s){return t.slice(-4)===".bin"?OAe(e,s):_Ae(e,s)}function BAe(e,t,s,a,n,i,l,o){return t.slice(-4)===".bin"?tAe(e,a,s,n,i,l,o):O_e(e,a,s,n,i,l,o)}function UAe(e,t,s,a,n,i,l,o){return t.slice(-4)===".bin"?gAe(e,a,s,n,i):xAe(e,a,s,n,i)}function zAe(e,t,s,a,n,i,l,o){return t.slice(-4)===".bin"?qSe():VSe()}function $Ae(e,t,s,a,n,i,l,o){return t.slice(-4)===".bin"?$Se():HSe()}function HAe(e,t,s,a){return t.slice(-4)===".bin"?B4e(e,s,a):A4e(e,s,a)}function qAe(e,t,s){return UG(e,s)}function VAe(e,t,s){return t.slice(-4)===".bin"?W5e(e,s):H5e(e,s)}function WAe(e,t,s){return t.slice(-4)===".bin"?LSe(e,s):CSe(e,s)}function GAe(e,t,s){return t.slice(-4)===".bin"?_Se(e):wSe(e)}function KAe(e,t,s,a){return s.slice(-4)===".bin"?kSe(e,t,s,a):void 0}function YAe(e,t,s){return t.slice(-4)===".bin"?bSe(e,t,s):NSe(e,t,s)}function XAe(e,t,s){return(t.slice(-4)===".bin"?LAe:lK)(e)}function ZAe(e,t,s,a,n){return(t.slice(-4)===".bin"?hAe:tK)(e,s,a,n)}function JAe(e,t,s){return(t.slice(-4)===".bin"?Y4e:IG)(e,s)}function QAe(e,t,s){return(t.slice(-4)===".bin"?Y5e:EG)(e,s)}function e6e(e,t,s){return(t.slice(-4)===".bin"?ISe:HG)(e)}function t6e(e){return(e.slice(-4)===".bin"?jSe:zG)()}var oK=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,cK=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Dd(e,t){var s=e.split(/\s+/),a=[];if(a[0]=s[0],s.length===1)return a;var n=e.match(oK),i,l,o,c;if(n)for(c=0;c!=n.length;++c)i=n[c].match(cK),(l=i[1].indexOf(":"))===-1?a[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(l+1),a[o]=i[2].slice(1,i[2].length-1));return a}function r6e(e){var t=e.split(/\s+/),s={};if(t.length===1)return s;var a=e.match(oK),n,i,l,o;if(a)for(o=0;o!=a.length;++o)n=a[o].match(cK),(i=n[1].indexOf(":"))===-1?s[n[1]]=n[2].slice(1,n[2].length-1):(n[1].slice(0,6)==="xmlns:"?l="xmlns"+n[1].slice(6):l=n[1].slice(i+1),s[l]=n[2].slice(1,n[2].length-1));return s}var wy;function s6e(e,t){var s=wy[e]||As(e);return s==="General"?sx(t):uc(s,t)}function a6e(e,t,s,a){var n=a;switch((s[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":n=Ra(a);break;case"i2":case"int":n=parseInt(a,10);break;case"r4":case"float":n=parseFloat(a);break;case"date":case"dateTime.tz":n=Ia(a);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+s[0])}e[As(t)]=n}function n6e(e,t,s){if(e.t!=="z"){if(!s||s.cellText!==!1)try{e.t==="e"?e.w=e.w||xf[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=eb(e.v):e.w=sx(e.v):e.w=s6e(t||"General",e.v)}catch(i){if(s.WTF)throw i}try{var a=wy[t]||t||"General";if(s.cellNF&&(e.z=a),s.cellDates&&e.t=="n"&&vx(a)){var n=dm(e.v);n&&(e.t="d",e.v=new Date(n.y,n.m-1,n.d,n.H,n.M,n.S,n.u))}}catch(i){if(s.WTF)throw i}}}function i6e(e,t,s){if(s.cellStyles&&t.Interior){var a=t.Interior;a.Pattern&&(a.patternType=y4e[a.Pattern]||a.Pattern)}e[t.ID]=t}function l6e(e,t,s,a,n,i,l,o,c,d){var h="General",m=a.StyleID,p={};d=d||{};var x=[],v=0;for(m===void 0&&o&&(m=o.StyleID),m===void 0&&l&&(m=l.StyleID);i[m]!==void 0&&(i[m].nf&&(h=i[m].nf),i[m].Interior&&x.push(i[m].Interior),!!i[m].Parent);)m=i[m].Parent;switch(s.Type){case"Boolean":a.t="b",a.v=Ra(e);break;case"String":a.t="s",a.r=_L(As(e)),a.v=e.indexOf("<")>-1?As(t||e).replace(/<.*?>/g,""):a.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),a.v=(Ia(e)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),a.v!==a.v?a.v=As(e):a.v<60&&(a.v=a.v-1),(!h||h=="General")&&(h="yyyy-mm-dd");case"Number":a.v===void 0&&(a.v=+e),a.t||(a.t="n");break;case"Error":a.t="e",a.v=rG[e],d.cellText!==!1&&(a.w=e);break;default:e==""&&t==""?a.t="z":(a.t="s",a.v=_L(t||e));break}if(n6e(a,h,d),d.cellFormula!==!1)if(a.Formula){var y=As(a.Formula);y.charCodeAt(0)==61&&(y=y.slice(1)),a.f=rg(y,n),delete a.Formula,a.ArrayRange=="RC"?a.F=rg("RC:RC",n):a.ArrayRange&&(a.F=rg(a.ArrayRange,n),c.push([fs(a.F),a.F]))}else for(v=0;v<c.length;++v)n.r>=c[v][0].s.r&&n.r<=c[v][0].e.r&&n.c>=c[v][0].s.c&&n.c<=c[v][0].e.c&&(a.F=c[v][1]);d.cellStyles&&(x.forEach(function(b){!p.patternType&&b.patternType&&(p.patternType=b.patternType)}),a.s=p),a.StyleID!==void 0&&(a.ixfe=a.StyleID)}function o6e(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function k_(e,t){var s=t||{};Wg();var a=Hp(nE(e));(s.type=="binary"||s.type=="array"||s.type=="base64")&&(typeof js<"u"?a=js.utils.decode(65001,JN(a)):a=fa(a));var n=a.slice(0,1024).toLowerCase(),i=!1;if(n=n.replace(/".*?"/g,""),(n.indexOf(">")&1023)>Math.min(n.indexOf(",")&1023,n.indexOf(";")&1023)){var l=ba(s);return l.type="string",yg.to_workbook(a,l)}if(n.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Re){n.indexOf("<"+Re)>=0&&(i=!0)}),i)return q6e(a,s);wy={"General Number":"General","General Date":wr[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":wr[15],"Short Date":wr[14],"Long Time":wr[19],"Medium Time":wr[18],"Short Time":wr[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:wr[2],Standard:wr[4],Percent:wr[10],Scientific:wr[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,c=[],d,h={},m=[],p=s.dense?[]:{},x="",v={},y={},b=Dd('<Data ss:Type="String">'),j=0,S=0,w=0,k={s:{r:2e6,c:2e6},e:{r:0,c:0}},_={},O={},E="",F=0,I=[],U={},M={},L=0,J=[],K=[],ae={},V=[],re,X=!1,Z=[],ye=[],te={},D=0,H=0,q={Sheets:[],WBProps:{date1904:!1}},W={};sb.lastIndex=0,a=a.replace(/<!--([\s\S]*?)-->/mg,"");for(var G="";o=sb.exec(a);)switch(o[3]=(G=o[3]).toLowerCase()){case"data":if(G=="data"){if(o[1]==="/"){if((d=c.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break}if(c[c.length-1][1])break;o[1]==="/"?l6e(a.slice(j,o.index),E,b,c[c.length-1][0]=="comment"?ae:v,{c:S,r:w},_,V[S],y,Z,s):(E="",b=Dd(o[0]),j=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(K.length>0&&(v.c=K),(!s.sheetRows||s.sheetRows>w)&&v.v!==void 0&&(s.dense?(p[w]||(p[w]=[]),p[w][S]=v):p[Fa(S)+yn(w)]=v),v.HRef&&(v.l={Target:As(v.HRef)},v.HRefScreenTip&&(v.l.Tooltip=v.HRefScreenTip),delete v.HRef,delete v.HRefScreenTip),(v.MergeAcross||v.MergeDown)&&(D=S+(parseInt(v.MergeAcross,10)|0),H=w+(parseInt(v.MergeDown,10)|0),I.push({s:{c:S,r:w},e:{c:D,r:H}})),!s.sheetStubs)v.MergeAcross?S=D+1:++S;else if(v.MergeAcross||v.MergeDown){for(var fe=S;fe<=D;++fe)for(var Se=w;Se<=H;++Se)(fe>S||Se>w)&&(s.dense?(p[Se]||(p[Se]=[]),p[Se][fe]={t:"z"}):p[Fa(fe)+yn(Se)]={t:"z"});S=D+1}else++S;else v=r6e(o[0]),v.Index&&(S=+v.Index-1),S<k.s.c&&(k.s.c=S),S>k.e.c&&(k.e.c=S),o[0].slice(-2)==="/>"&&++S,K=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(w<k.s.r&&(k.s.r=w),w>k.e.r&&(k.e.r=w),o[0].slice(-2)==="/>"&&(y=Dd(o[0]),y.Index&&(w=+y.Index-1)),S=0,++w):(y=Dd(o[0]),y.Index&&(w=+y.Index-1),te={},(y.AutoFitHeight=="0"||y.Height)&&(te.hpx=parseInt(y.Height,10),te.hpt=ob(te.hpx),ye[w]=te),y.Hidden=="1"&&(te.hidden=!0,ye[w]=te));break;case"worksheet":if(o[1]==="/"){if((d=c.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"));m.push(x),k.s.r<=k.e.r&&k.s.c<=k.e.c&&(p["!ref"]=Vr(k),s.sheetRows&&s.sheetRows<=k.e.r&&(p["!fullref"]=p["!ref"],k.e.r=s.sheetRows-1,p["!ref"]=Vr(k))),I.length&&(p["!merges"]=I),V.length>0&&(p["!cols"]=V),ye.length>0&&(p["!rows"]=ye),h[x]=p}else k={s:{r:2e6,c:2e6},e:{r:0,c:0}},w=S=0,c.push([o[3],!1]),d=Dd(o[0]),x=As(d.Name),p=s.dense?[]:{},I=[],Z=[],ye=[],W={name:x,Hidden:0},q.Sheets.push(W);break;case"table":if(o[1]==="/"){if((d=c.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"))}else{if(o[0].slice(-2)=="/>")break;c.push([o[3],!1]),V=[],X=!1}break;case"style":o[1]==="/"?i6e(_,O,s):O=Dd(o[0]);break;case"numberformat":O.nf=As(Dd(o[0]).Format||"General"),wy[O.nf]&&(O.nf=wy[O.nf]);for(var se=0;se!=392&&wr[se]!=O.nf;++se);if(se==392){for(se=57;se!=392;++se)if(wr[se]==null){Du(O.nf,se);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(re=Dd(o[0]),re.Hidden&&(re.hidden=!0,delete re.Hidden),re.Width&&(re.wpx=parseInt(re.Width,10)),!X&&re.wpx>10){X=!0,bl=FG;for(var ge=0;ge<V.length;++ge)V[ge]&&_m(V[ge])}X&&_m(re),V[re.Index-1||V.length]=re;for(var Be=0;Be<+re.Span;++Be)V[V.length]=ba(re);break;case"namedrange":if(o[1]==="/")break;q.Names||(q.Names=[]);var ee=Er(o[0]),at={Name:ee.Name,Ref:rg(ee.RefersTo.slice(1),{r:0,c:0})};q.Sheets.length>0&&(at.Sheet=q.Sheets.length-1),q.Names.push(at);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?E+=a.slice(F,o.index):F=o.index+o[0].length;break;case"interior":if(!s.cellStyles)break;O.Interior=Dd(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?DNe(U,G,a.slice(L,o.index)):L=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((d=c.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"))}else c.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((d=c.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"));o6e(ae),K.push(ae)}else c.push([o[3],!1]),d=Dd(o[0]),ae={a:d.Author};break;case"autofilter":if(o[1]==="/"){if((d=c.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var nt=Dd(o[0]);p["!autofilter"]={ref:rg(nt.Range).replace(/\$/g,"")},c.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((d=c.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((d=c.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"null":break;default:if(c.length==0&&o[3]=="document"||c.length==0&&o[3]=="uof")return fI(a,s);var xe=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:xe=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:xe=!1}break;case"excelworkbook":switch(o[3]){case"date1904":q.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:xe=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:xe=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(a.slice(L,o.index)){case"SheetHidden":W.Hidden=1;break;case"SheetVeryHidden":W.Hidden=2;break}else L=o.index+o[0].length;break;case"header":p["!margins"]||L0(p["!margins"]={},"xlml"),isNaN(+Er(o[0]).Margin)||(p["!margins"].header=+Er(o[0]).Margin);break;case"footer":p["!margins"]||L0(p["!margins"]={},"xlml"),isNaN(+Er(o[0]).Margin)||(p["!margins"].footer=+Er(o[0]).Margin);break;case"pagemargins":var ot=Er(o[0]);p["!margins"]||L0(p["!margins"]={},"xlml"),isNaN(+ot.Top)||(p["!margins"].top=+ot.Top),isNaN(+ot.Left)||(p["!margins"].left=+ot.Left),isNaN(+ot.Right)||(p["!margins"].right=+ot.Right),isNaN(+ot.Bottom)||(p["!margins"].bottom=+ot.Bottom);break;case"displayrighttoleft":q.Views||(q.Views=[]),q.Views[0]||(q.Views[0]={}),q.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":p["!outline"]||(p["!outline"]={}),p["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":p["!outline"]||(p["!outline"]={}),p["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:xe=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:xe=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:xe=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:xe=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:xe=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:xe=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:xe=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:xe=!1}break;case"smarttags":break;default:xe=!1;break}if(xe||o[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?a6e(M,G,J,a.slice(L,o.index)):(J=o,L=o.index+o[0].length);break}if(s.WTF)throw"Unrecognized tag: "+o[3]+"|"+c.join("|")}var ut={};return!s.bookSheets&&!s.bookProps&&(ut.Sheets=h),ut.SheetNames=m,ut.Workbook=q,ut.SSF=ba(wr),ut.Props=U,ut.Custprops=M,ut}function ZA(e,t){switch(RE(t=t||{}),t.type||"base64"){case"base64":return k_(dc(e),t);case"binary":case"buffer":case"file":return k_(e,t);case"array":return k_(Mm(e),t)}}function c6e(e,t){var s=[];return e.Props&&s.push(RNe(e.Props,t)),e.Custprops&&s.push(MNe(e.Props,e.Custprops)),s.join("")}function d6e(){return""}function u6e(e,t){var s=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(a,n){var i=[];i.push(Lt("NumberFormat",null,{"ss:Format":ra(wr[a.numFmtId])}));var l={"ss:ID":"s"+(21+n)};s.push(Lt("Style",i.join(""),l))}),Lt("Styles",s.join(""))}function dK(e){return Lt("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+AE(e.Ref,{r:0,c:0})})}function h6e(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,s=[],a=0;a<t.length;++a){var n=t[a];n.Sheet==null&&(n.Name.match(/^_xlfn\./)||s.push(dK(n)))}return Lt("Names",s.join(""))}function f6e(e,t,s,a){if(!e||!((a||{}).Workbook||{}).Names)return"";for(var n=a.Workbook.Names,i=[],l=0;l<n.length;++l){var o=n[l];o.Sheet==s&&(o.Name.match(/^_xlfn\./)||i.push(dK(o)))}return i.join("")}function m6e(e,t,s,a){if(!e)return"";var n=[];if(e["!margins"]&&(n.push("<PageSetup>"),e["!margins"].header&&n.push(Lt("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&n.push(Lt("Footer",null,{"x:Margin":e["!margins"].footer})),n.push(Lt("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),n.push("</PageSetup>")),a&&a.Workbook&&a.Workbook.Sheets&&a.Workbook.Sheets[s])if(a.Workbook.Sheets[s].Hidden)n.push(Lt("Visible",a.Workbook.Sheets[s].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<s&&!(a.Workbook.Sheets[i]&&!a.Workbook.Sheets[i].Hidden);++i);i==s&&n.push("<Selected/>")}return((((a||{}).Workbook||{}).Views||[])[0]||{}).RTL&&n.push("<DisplayRightToLeft/>"),e["!protect"]&&(n.push(rl("ProtectContents","True")),e["!protect"].objects&&n.push(rl("ProtectObjects","True")),e["!protect"].scenarios&&n.push(rl("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?n.push(rl("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&n.push(rl("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(l){e["!protect"][l[0]]&&n.push("<"+l[1]+"/>")})),n.length==0?"":Lt("WorksheetOptions",n.join(""),{xmlns:Yo.x})}function x6e(e){return e.map(function(t){var s=Lje(t.t||""),a=Lt("ss:Data",s,{xmlns:"http://www.w3.org/TR/REC-html40"});return Lt("Comment",a,{"ss:Author":t.a})}).join("")}function p6e(e,t,s,a,n,i,l){if(!e||e.v==null&&e.f==null)return"";var o={};if(e.f&&(o["ss:Formula"]="="+ra(AE(e.f,l))),e.F&&e.F.slice(0,t.length)==t){var c=sn(e.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(c.r==l.r?"":"["+(c.r-l.r)+"]")+"C"+(c.c==l.c?"":"["+(c.c-l.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=ra(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=ra(e.l.Tooltip))),s["!merges"])for(var d=s["!merges"],h=0;h!=d.length;++h)d[h].s.c!=l.c||d[h].s.r!=l.r||(d[h].e.c>d[h].s.c&&(o["ss:MergeAcross"]=d[h].e.c-d[h].s.c),d[h].e.r>d[h].s.r&&(o["ss:MergeDown"]=d[h].e.r-d[h].s.r));var m="",p="";switch(e.t){case"z":if(!a.sheetStubs)return"";break;case"n":m="Number",p=String(e.v);break;case"b":m="Boolean",p=e.v?"1":"0";break;case"e":m="Error",p=xf[e.v];break;case"d":m="DateTime",p=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||wr[14]);break;case"s":m="String",p=Fje(e.v||"");break}var x=Lm(a.cellXfs,e,a);o["ss:StyleID"]="s"+(21+x),o["ss:Index"]=l.c+1;var v=e.v!=null?p:"",y=e.t=="z"?"":'<Data ss:Type="'+m+'">'+v+"</Data>";return(e.c||[]).length>0&&(y+=x6e(e.c)),Lt("Cell",y,o)}function g6e(e,t){var s='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=bg(t.hpt)),t.hpx&&(s+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(s+=' ss:Hidden="1"')),s+">"}function v6e(e,t,s,a){if(!e["!ref"])return"";var n=fs(e["!ref"]),i=e["!merges"]||[],l=0,o=[];e["!cols"]&&e["!cols"].forEach(function(b,j){_m(b);var S=!!b.width,w=V5(j,b),k={"ss:Index":j+1};S&&(k["ss:Width"]=ib(w.width)),b.hidden&&(k["ss:Hidden"]="1"),o.push(Lt("Column",null,k))});for(var c=Array.isArray(e),d=n.s.r;d<=n.e.r;++d){for(var h=[g6e(d,(e["!rows"]||[])[d])],m=n.s.c;m<=n.e.c;++m){var p=!1;for(l=0;l!=i.length;++l)if(!(i[l].s.c>m)&&!(i[l].s.r>d)&&!(i[l].e.c<m)&&!(i[l].e.r<d)){(i[l].s.c!=m||i[l].s.r!=d)&&(p=!0);break}if(!p){var x={r:d,c:m},v=Cr(x),y=c?(e[d]||[])[m]:e[v];h.push(p6e(y,v,e,t,s,a,x))}}h.push("</Row>"),h.length>2&&o.push(h.join(""))}return o.join("")}function y6e(e,t,s){var a=[],n=s.SheetNames[e],i=s.Sheets[n],l=i?f6e(i,t,e,s):"";return l.length>0&&a.push("<Names>"+l+"</Names>"),l=i?v6e(i,t,e,s):"",l.length>0&&a.push("<Table>"+l+"</Table>"),a.push(m6e(i,t,e,s)),a.join("")}function b6e(e,t){t||(t={}),e.SSF||(e.SSF=ba(wr)),e.SSF&&(Wg(),Kb(e.SSF),t.revssf=B5(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Lm(t.cellXfs,{},{revssf:{General:0}}));var s=[];s.push(c6e(e,t)),s.push(d6e()),s.push(""),s.push("");for(var a=0;a<e.SheetNames.length;++a)s.push(Lt("Worksheet",y6e(a,t,e),{"ss:Name":ra(e.SheetNames[a])}));return s[2]=u6e(e,t),s[3]=h6e(e),Bn+Lt("Workbook",s.join(""),{xmlns:Yo.ss,"xmlns:o":Yo.o,"xmlns:x":Yo.x,"xmlns:ss":Yo.ss,"xmlns:dt":Yo.dt,"xmlns:html":Yo.html})}function j6e(e){var t={},s=e.content;if(s.l=28,t.AnsiUserType=s.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=fNe(s),s.length-s.l<=4)return t;var a=s.read_shift(4);if(a==0||a>40||(s.l-=4,t.Reserved1=s.read_shift(0,"lpstr-ansi"),s.length-s.l<=4)||(a=s.read_shift(4),a!==1907505652)||(t.UnicodeClipboardFormat=mNe(s),a=s.read_shift(4),a==0||a>40))return t;s.l-=4,t.Reserved2=s.read_shift(0,"lpwstr")}var N6e=[60,1084,2066,2165,2175];function w6e(e,t,s,a,n){var i=a,l=[],o=s.slice(s.l,s.l+i);if(n&&n.enc&&n.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:n.enc.insitu(o)}l.push(o),s.l+=i;for(var c=Mh(s,s.l),d=JA[c],h=0;d!=null&&N6e.indexOf(c)>-1;)i=Mh(s,s.l+2),h=s.l+4,c==2066?h+=4:(c==2165||c==2175)&&(h+=12),o=s.slice(h,s.l+4+i),l.push(o),s.l+=4+i,d=JA[c=Mh(s,s.l)];var m=Mi(l);tl(m,0);var p=0;m.lens=[];for(var x=0;x<l.length;++x)m.lens.push(p),p+=l[x].length;if(m.length<a)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+m.length+" < "+a;return t.f(m,m.length,n)}function ju(e,t,s){if(e.t!=="z"&&e.XF){var a=0;try{a=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=wr[a])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||xf[e.v]:a===0||a=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=eb(e.v):e.w=sx(e.v):e.w=uc(a,e.v,{date1904:!!s,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&a&&e.t=="n"&&vx(wr[a]||String(a))){var n=dm(e.v);n&&(e.t="d",e.v=new Date(n.y,n.m-1,n.d,n.H,n.M,n.S,n.u))}}}function k2(e,t,s){return{v:e,ixfe:t,t:s}}function S6e(e,t){var s={opts:{}},a={},n=t.dense?[]:{},i={},l={},o=null,c=[],d="",h={},m,p="",x,v,y,b,j={},S=[],w,k,_=[],O=[],E={Sheets:[],WBProps:{date1904:!1},Views:[{}]},F={},I=function(At){return At<8?R0[At]:At<64&&O[At-8]||R0[At]},U=function(At,Ot,br){var Jt=Ot.XF.data;if(!(!Jt||!Jt.patternType||!br||!br.cellStyles)){Ot.s={},Ot.s.patternType=Jt.patternType;var Vt;(Vt=nb(I(Jt.icvFore)))&&(Ot.s.fgColor={rgb:Vt}),(Vt=nb(I(Jt.icvBack)))&&(Ot.s.bgColor={rgb:Vt})}},M=function(At,Ot,br){if(!(te>1)&&!(br.sheetRows&&At.r>=br.sheetRows)){if(br.cellStyles&&Ot.XF&&Ot.XF.data&&U(At,Ot,br),delete Ot.ixfe,delete Ot.XF,m=At,p=Cr(At),(!l||!l.s||!l.e)&&(l={s:{r:0,c:0},e:{r:0,c:0}}),At.r<l.s.r&&(l.s.r=At.r),At.c<l.s.c&&(l.s.c=At.c),At.r+1>l.e.r&&(l.e.r=At.r+1),At.c+1>l.e.c&&(l.e.c=At.c+1),br.cellFormula&&Ot.f){for(var Jt=0;Jt<S.length;++Jt)if(!(S[Jt][0].s.c>At.c||S[Jt][0].s.r>At.r)&&!(S[Jt][0].e.c<At.c||S[Jt][0].e.r<At.r)){Ot.F=Vr(S[Jt][0]),(S[Jt][0].s.c!=At.c||S[Jt][0].s.r!=At.r)&&delete Ot.f,Ot.f&&(Ot.f=""+vl(S[Jt][1],l,At,Z,L));break}}br.dense?(n[At.r]||(n[At.r]=[]),n[At.r][At.c]=Ot):n[p]=Ot}},L={enc:!1,sbcch:0,snames:[],sharedf:j,arrayf:S,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(L.password=t.password);var J,K=[],ae=[],V=[],re=[],X=!1,Z=[];Z.SheetNames=L.snames,Z.sharedf=L.sharedf,Z.arrayf=L.arrayf,Z.names=[],Z.XTI=[];var ye=0,te=0,D=0,H=[],q=[],W;L.codepage=1200,qc(1200);for(var G=!1;e.l<e.length-1;){var fe=e.l,Se=e.read_shift(2);if(Se===0&&ye===10)break;var se=e.l===e.length?0:e.read_shift(2),ge=JA[Se];if(ge&&ge.f){if(t.bookSheets&&ye===133&&Se!==133)break;if(ye=Se,ge.r===2||ge.r==12){var Be=e.read_shift(2);if(se-=2,!L.enc&&Be!==Se&&((Be&255)<<8|Be>>8)!==Se)throw new Error("rt mismatch: "+Be+"!="+Se);ge.r==12&&(e.l+=10,se-=10)}var ee={};if(Se===10?ee=ge.f(e,se,L):ee=w6e(Se,ge,e,se,L),te==0&&[9,521,1033,2057].indexOf(ye)===-1)continue;switch(Se){case 34:s.opts.Date1904=E.WBProps.date1904=ee;break;case 134:s.opts.WriteProtect=!0;break;case 47:if(L.enc||(e.l=0),L.enc=ee,!t.password)throw new Error("File is password-protected");if(ee.valid==null)throw new Error("Encryption scheme unsupported");if(!ee.valid)throw new Error("Password is incorrect");break;case 92:L.lastuser=ee;break;case 66:var at=Number(ee);switch(at){case 21010:at=1200;break;case 32768:at=1e4;break;case 32769:at=1252;break}qc(L.codepage=at),G=!0;break;case 317:L.rrtabid=ee;break;case 25:L.winlocked=ee;break;case 439:s.opts.RefreshAll=ee;break;case 12:s.opts.CalcCount=ee;break;case 16:s.opts.CalcDelta=ee;break;case 17:s.opts.CalcIter=ee;break;case 13:s.opts.CalcMode=ee;break;case 14:s.opts.CalcPrecision=ee;break;case 95:s.opts.CalcSaveRecalc=ee;break;case 15:L.CalcRefMode=ee;break;case 2211:s.opts.FullCalc=ee;break;case 129:ee.fDialog&&(n["!type"]="dialog"),ee.fBelow||((n["!outline"]||(n["!outline"]={})).above=!0),ee.fRight||((n["!outline"]||(n["!outline"]={})).left=!0);break;case 224:_.push(ee);break;case 430:Z.push([ee]),Z[Z.length-1].XTI=[];break;case 35:case 547:Z[Z.length-1].push(ee);break;case 24:case 536:W={Name:ee.Name,Ref:vl(ee.rgce,l,null,Z,L)},ee.itab>0&&(W.Sheet=ee.itab-1),Z.names.push(W),Z[0]||(Z[0]=[],Z[0].XTI=[]),Z[Z.length-1].push(ee),ee.Name=="_xlnm._FilterDatabase"&&ee.itab>0&&ee.rgce&&ee.rgce[0]&&ee.rgce[0][0]&&ee.rgce[0][0][0]=="PtgArea3d"&&(q[ee.itab-1]={ref:Vr(ee.rgce[0][0][1][2])});break;case 22:L.ExternCount=ee;break;case 23:Z.length==0&&(Z[0]=[],Z[0].XTI=[]),Z[Z.length-1].XTI=Z[Z.length-1].XTI.concat(ee),Z.XTI=Z.XTI.concat(ee);break;case 2196:if(L.biff<8)break;W!=null&&(W.Comment=ee[1]);break;case 18:n["!protect"]=ee;break;case 19:ee!==0&&L.WTF&&console.error("Password verifier: "+ee);break;case 133:i[ee.pos]=ee,L.snames.push(ee.name);break;case 10:{if(--te)break;if(l.e){if(l.e.r>0&&l.e.c>0){if(l.e.r--,l.e.c--,n["!ref"]=Vr(l),t.sheetRows&&t.sheetRows<=l.e.r){var nt=l.e.r;l.e.r=t.sheetRows-1,n["!fullref"]=n["!ref"],n["!ref"]=Vr(l),l.e.r=nt}l.e.r++,l.e.c++}K.length>0&&(n["!merges"]=K),ae.length>0&&(n["!objects"]=ae),V.length>0&&(n["!cols"]=V),re.length>0&&(n["!rows"]=re),E.Sheets.push(F)}d===""?h=n:a[d]=n,n=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(L.biff===8&&(L.biff={9:2,521:3,1033:4}[Se]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[ee.BIFFVer]||8),L.biffguess=ee.BIFFVer==0,ee.BIFFVer==0&&ee.dt==4096&&(L.biff=5,G=!0,qc(L.codepage=28591)),L.biff==8&&ee.BIFFVer==0&&ee.dt==16&&(L.biff=2),te++)break;if(n=t.dense?[]:{},L.biff<8&&!G&&(G=!0,qc(L.codepage=t.codepage||1252)),L.biff<5||ee.BIFFVer==0&&ee.dt==4096){d===""&&(d="Sheet1"),l={s:{r:0,c:0},e:{r:0,c:0}};var xe={pos:e.l-se,name:d};i[xe.pos]=xe,L.snames.push(d)}else d=(i[fe]||{name:""}).name;ee.dt==32&&(n["!type"]="chart"),ee.dt==64&&(n["!type"]="macro"),K=[],ae=[],L.arrayf=S=[],V=[],re=[],X=!1,F={Hidden:(i[fe]||{hs:0}).hs,name:d}}break;case 515:case 3:case 2:n["!type"]=="chart"&&(t.dense?(n[ee.r]||[])[ee.c]:n[Cr({c:ee.c,r:ee.r})])&&++ee.c,w={ixfe:ee.ixfe,XF:_[ee.ixfe]||{},v:ee.val,t:"n"},D>0&&(w.z=H[w.ixfe>>8&63]),ju(w,t,s.opts.Date1904),M({c:ee.c,r:ee.r},w,t);break;case 5:case 517:w={ixfe:ee.ixfe,XF:_[ee.ixfe],v:ee.val,t:ee.t},D>0&&(w.z=H[w.ixfe>>8&63]),ju(w,t,s.opts.Date1904),M({c:ee.c,r:ee.r},w,t);break;case 638:w={ixfe:ee.ixfe,XF:_[ee.ixfe],v:ee.rknum,t:"n"},D>0&&(w.z=H[w.ixfe>>8&63]),ju(w,t,s.opts.Date1904),M({c:ee.c,r:ee.r},w,t);break;case 189:for(var ot=ee.c;ot<=ee.C;++ot){var ut=ee.rkrec[ot-ee.c][0];w={ixfe:ut,XF:_[ut],v:ee.rkrec[ot-ee.c][1],t:"n"},D>0&&(w.z=H[w.ixfe>>8&63]),ju(w,t,s.opts.Date1904),M({c:ot,r:ee.r},w,t)}break;case 6:case 518:case 1030:{if(ee.val=="String"){o=ee;break}if(w=k2(ee.val,ee.cell.ixfe,ee.tt),w.XF=_[w.ixfe],t.cellFormula){var Re=ee.formula;if(Re&&Re[0]&&Re[0][0]&&Re[0][0][0]=="PtgExp"){var Ge=Re[0][0][1][0],qt=Re[0][0][1][1],we=Cr({r:Ge,c:qt});j[we]?w.f=""+vl(ee.formula,l,ee.cell,Z,L):w.F=((t.dense?(n[Ge]||[])[qt]:n[we])||{}).F}else w.f=""+vl(ee.formula,l,ee.cell,Z,L)}D>0&&(w.z=H[w.ixfe>>8&63]),ju(w,t,s.opts.Date1904),M(ee.cell,w,t),o=ee}break;case 7:case 519:if(o)o.val=ee,w=k2(ee,o.cell.ixfe,"s"),w.XF=_[w.ixfe],t.cellFormula&&(w.f=""+vl(o.formula,l,o.cell,Z,L)),D>0&&(w.z=H[w.ixfe>>8&63]),ju(w,t,s.opts.Date1904),M(o.cell,w,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{S.push(ee);var _e=Cr(ee[0].s);if(x=t.dense?(n[ee[0].s.r]||[])[ee[0].s.c]:n[_e],t.cellFormula&&x){if(!o||!_e||!x)break;x.f=""+vl(ee[1],l,ee[0],Z,L),x.F=Vr(ee[0])}}break;case 1212:{if(!t.cellFormula)break;if(p){if(!o)break;j[Cr(o.cell)]=ee[0],x=t.dense?(n[o.cell.r]||[])[o.cell.c]:n[Cr(o.cell)],(x||{}).f=""+vl(ee[0],l,m,Z,L)}}break;case 253:w=k2(c[ee.isst].t,ee.ixfe,"s"),c[ee.isst].h&&(w.h=c[ee.isst].h),w.XF=_[w.ixfe],D>0&&(w.z=H[w.ixfe>>8&63]),ju(w,t,s.opts.Date1904),M({c:ee.c,r:ee.r},w,t);break;case 513:t.sheetStubs&&(w={ixfe:ee.ixfe,XF:_[ee.ixfe],t:"z"},D>0&&(w.z=H[w.ixfe>>8&63]),ju(w,t,s.opts.Date1904),M({c:ee.c,r:ee.r},w,t));break;case 190:if(t.sheetStubs)for(var ne=ee.c;ne<=ee.C;++ne){var Oe=ee.ixfe[ne-ee.c];w={ixfe:Oe,XF:_[Oe],t:"z"},D>0&&(w.z=H[w.ixfe>>8&63]),ju(w,t,s.opts.Date1904),M({c:ne,r:ee.r},w,t)}break;case 214:case 516:case 4:w=k2(ee.val,ee.ixfe,"s"),w.XF=_[w.ixfe],D>0&&(w.z=H[w.ixfe>>8&63]),ju(w,t,s.opts.Date1904),M({c:ee.c,r:ee.r},w,t);break;case 0:case 512:te===1&&(l=ee);break;case 252:c=ee;break;case 1054:if(L.biff==4){H[D++]=ee[1];for(var Me=0;Me<D+163&&wr[Me]!=ee[1];++Me);Me>=163&&Du(ee[1],D+163)}else Du(ee[1],ee[0]);break;case 30:{H[D++]=ee;for(var De=0;De<D+163&&wr[De]!=ee;++De);De>=163&&Du(ee,D+163)}break;case 229:K=K.concat(ee);break;case 93:ae[ee.cmo[0]]=L.lastobj=ee;break;case 438:L.lastobj.TxO=ee;break;case 127:L.lastobj.ImData=ee;break;case 440:for(b=ee[0].s.r;b<=ee[0].e.r;++b)for(y=ee[0].s.c;y<=ee[0].e.c;++y)x=t.dense?(n[b]||[])[y]:n[Cr({c:y,r:b})],x&&(x.l=ee[1]);break;case 2048:for(b=ee[0].s.r;b<=ee[0].e.r;++b)for(y=ee[0].s.c;y<=ee[0].e.c;++y)x=t.dense?(n[b]||[])[y]:n[Cr({c:y,r:b})],x&&x.l&&(x.l.Tooltip=ee[1]);break;case 28:{if(L.biff<=5&&L.biff>=2)break;x=t.dense?(n[ee[0].r]||[])[ee[0].c]:n[Cr(ee[0])];var He=ae[ee[2]];x||(t.dense?(n[ee[0].r]||(n[ee[0].r]=[]),x=n[ee[0].r][ee[0].c]={t:"z"}):x=n[Cr(ee[0])]={t:"z"},l.e.r=Math.max(l.e.r,ee[0].r),l.s.r=Math.min(l.s.r,ee[0].r),l.e.c=Math.max(l.e.c,ee[0].c),l.s.c=Math.min(l.s.c,ee[0].c)),x.c||(x.c=[]),v={a:ee[1],t:He.TxO.t},x.c.push(v)}break;case 2173:hSe(_[ee.ixfe],ee.ext);break;case 125:{if(!L.cellStyles)break;for(;ee.e>=ee.s;)V[ee.e--]={width:ee.w/256,level:ee.level||0,hidden:!!(ee.flags&1)},X||(X=!0,SE(ee.w/256)),_m(V[ee.e+1])}break;case 520:{var mt={};ee.level!=null&&(re[ee.r]=mt,mt.level=ee.level),ee.hidden&&(re[ee.r]=mt,mt.hidden=!0),ee.hpt&&(re[ee.r]=mt,mt.hpt=ee.hpt,mt.hpx=bg(ee.hpt))}break;case 38:case 39:case 40:case 41:n["!margins"]||L0(n["!margins"]={}),n["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[Se]]=ee;break;case 161:n["!margins"]||L0(n["!margins"]={}),n["!margins"].header=ee.header,n["!margins"].footer=ee.footer;break;case 574:ee.RTL&&(E.Views[0].RTL=!0);break;case 146:O=ee;break;case 2198:J=ee;break;case 140:k=ee;break;case 442:d?F.CodeName=ee||F.name:E.WBProps.CodeName=ee||"ThisWorkbook";break}}else ge||console.error("Missing Info for XLS Record 0x"+Se.toString(16)),e.l+=se}return s.SheetNames=Nn(i).sort(function(xt,At){return Number(xt)-Number(At)}).map(function(xt){return i[xt].name}),t.bookSheets||(s.Sheets=a),!s.SheetNames.length&&h["!ref"]?(s.SheetNames.push("Sheet1"),s.Sheets&&(s.Sheets.Sheet1=h)):s.Preamble=h,s.Sheets&&q.forEach(function(xt,At){s.Sheets[s.SheetNames[At]]["!autofilter"]=xt}),s.Strings=c,s.SSF=ba(wr),L.enc&&(s.Encryption=L.enc),J&&(s.Themes=J),s.Metadata={},k!==void 0&&(s.Metadata.Country=k),Z.names.length>0&&(E.Names=Z.names),s.Workbook=E,s}var Sy={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function _6e(e,t,s){var a=xr.find(e,"/!DocumentSummaryInformation");if(a&&a.size>0)try{var n=HL(a,VA,Sy.DSI);for(var i in n)t[i]=n[i]}catch(d){if(s.WTF)throw d}var l=xr.find(e,"/!SummaryInformation");if(l&&l.size>0)try{var o=HL(l,WA,Sy.SI);for(var c in o)t[c]==null&&(t[c]=o[c])}catch(d){if(s.WTF)throw d}t.HeadingPairs&&t.TitlesOfParts&&(oG(t.HeadingPairs,t.TitlesOfParts,t,s),delete t.HeadingPairs,delete t.TitlesOfParts)}function k6e(e,t){var s=[],a=[],n=[],i=0,l,o=yL(VA,"n"),c=yL(WA,"n");if(e.Props)for(l=Nn(e.Props),i=0;i<l.length;++i)(Object.prototype.hasOwnProperty.call(o,l[i])?s:Object.prototype.hasOwnProperty.call(c,l[i])?a:n).push([l[i],e.Props[l[i]]]);if(e.Custprops)for(l=Nn(e.Custprops),i=0;i<l.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},l[i])||(Object.prototype.hasOwnProperty.call(o,l[i])?s:Object.prototype.hasOwnProperty.call(c,l[i])?a:n).push([l[i],e.Custprops[l[i]]]);var d=[];for(i=0;i<n.length;++i)xG.indexOf(n[i][0])>-1||lG.indexOf(n[i][0])>-1||n[i][1]!=null&&d.push(n[i]);a.length&&xr.utils.cfb_add(t,"/SummaryInformation",qL(a,Sy.SI,c,WA)),(s.length||d.length)&&xr.utils.cfb_add(t,"/DocumentSummaryInformation",qL(s,Sy.DSI,o,VA,d.length?d:null,Sy.UDI))}function OE(e,t){t||(t={}),RE(t),L5(),t.codepage&&F5(t.codepage);var s,a;if(e.FullPaths){if(xr.find(e,"/encryption"))throw new Error("File is password-protected");s=xr.find(e,"!CompObj"),a=xr.find(e,"/Workbook")||xr.find(e,"/Book")}else{switch(t.type){case"base64":e=Zo(dc(e));break;case"binary":e=Zo(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}tl(e,0),a={content:e}}var n,i;if(s&&j6e(s),t.bookProps&&!t.bookSheets)n={};else{var l=rs?"buffer":"array";if(a&&a.content)n=S6e(a.content,t);else if((i=xr.find(e,"PerfectOffice_MAIN"))&&i.content)n=F0.to_workbook(i.content,(t.type=l,t));else if((i=xr.find(e,"NativeContent_MAIN"))&&i.content)n=F0.to_workbook(i.content,(t.type=l,t));else throw(i=xr.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&xr.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(n.vbaraw=USe(e))}var o={};return e.FullPaths&&_6e(e,o,t),n.Props=n.Custprops=o,t.bookFiles&&(n.cfb=e),n}function A6e(e,t){var s=t||{},a=xr.utils.cfb_new({root:"R"}),n="/Workbook";switch(s.bookType||"xls"){case"xls":s.bookType="biff8";case"xla":s.bookType||(s.bookType="xla");case"biff8":n="/Workbook",s.biff=8;break;case"biff5":n="/Book",s.biff=5;break;default:throw new Error("invalid type "+s.bookType+" for XLS CFB")}return xr.utils.cfb_add(a,n,uK(e,s)),s.biff==8&&(e.Props||e.Custprops)&&k6e(e,a),s.biff==8&&e.vbaraw&&zSe(a,xr.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),a}var cb={0:{f:J_e},1:{f:ike},2:{f:_ke},3:{f:mke},4:{f:dke},5:{f:Nke},6:{f:Eke},7:{f:vke},8:{f:Lke},9:{f:Fke},10:{f:Rke},11:{f:Mke},12:{f:oke},13:{f:Ake},14:{f:pke},15:{f:hke},16:{f:rK},17:{f:Oke},18:{f:bke},19:{f:mE},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:PAe},40:{},42:{},43:{f:E4e},44:{f:C4e},45:{f:D4e},46:{f:M4e},47:{f:R4e},48:{},49:{f:tNe},50:{},51:{f:xSe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:kG},62:{f:Tke},63:{f:SSe},64:{f:Qke},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Cl,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Yke},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:ake},148:{f:tke,p:16},151:{f:Hke},152:{},153:{f:CAe},154:{},155:{},156:{f:kAe},157:{},158:{},159:{T:1,f:V5e},160:{T:-1},161:{T:1,f:wx},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Ike},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:fSe},336:{T:-1},337:{f:vSe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:qA},357:{},358:{},359:{},360:{T:1},361:{},362:{f:_G},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:qke},427:{f:Vke},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Gke},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:ske},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:zke},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:qA},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:MSe},633:{T:1},634:{T:-1},635:{T:1,f:DSe},636:{T:-1},637:{f:nNe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:pAe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:eAe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},JA={6:{f:S_},10:{f:Xf},12:{f:Kn},13:{f:Kn},14:{f:En},15:{f:En},16:{f:Nl},17:{f:En},18:{f:En},19:{f:Kn},20:{f:XL},21:{f:XL},23:{f:_G},24:{f:JL},25:{f:En},26:{},27:{},28:{f:e5e},29:{},34:{f:En},35:{f:ZL},38:{f:Nl},39:{f:Nl},40:{f:Nl},41:{f:Nl},42:{f:En},43:{f:En},47:{f:h4e},49:{f:Awe},51:{f:Kn},60:{},61:{f:Nwe},64:{f:En},65:{f:kwe},66:{f:Kn},77:{},80:{},81:{},82:{},85:{f:Kn},89:{},90:{},91:{},92:{f:uwe},93:{f:s5e},94:{},95:{f:En},96:{},97:{},99:{f:En},125:{f:kG},128:{f:$we},129:{f:fwe},130:{f:Kn},131:{f:En},132:{f:En},133:{f:mwe},134:{},140:{f:u5e},141:{f:Kn},144:{},146:{f:m5e},151:{},152:{},153:{},154:{},155:{},156:{f:Kn},157:{},158:{},160:{f:j5e},161:{f:g5e},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:Iwe},190:{f:Bwe},193:{f:Xf},197:{},198:{},199:{},200:{},201:{},202:{f:En},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Kn},220:{},221:{f:En},222:{},224:{f:zwe},225:{f:dwe},226:{f:Xf},227:{},229:{f:t5e},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:pwe},253:{f:Twe},255:{f:vwe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:pG},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:En},353:{f:Xf},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:Gwe},431:{f:En},432:{},433:{},434:{},437:{},438:{f:i5e},439:{f:En},440:{f:l5e},441:{},442:{f:Zb},443:{},444:{f:Kn},445:{},446:{},448:{f:Xf},449:{f:jwe,r:2},450:{f:Xf},512:{f:GL},513:{f:b5e},515:{f:Vwe},516:{f:Pwe},517:{f:YL},519:{f:N5e},520:{f:ywe},523:{},545:{f:QL},549:{f:WL},566:{},574:{f:Swe},638:{f:Lwe},659:{},1048:{},1054:{f:Dwe},1084:{},1212:{f:Zwe},2048:{f:c5e},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:w2},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Xf},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:x5e,r:12},2173:{f:uSe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:En,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:Xwe,r:12},2197:{},2198:{f:nSe,r:12},2199:{},2200:{},2201:{},2202:{f:Jwe,r:12},2203:{f:Xf},2204:{},2205:{},2206:{},2207:{},2211:{f:bwe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Kn},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:v5e},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:f5e},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:GL},1:{},2:{f:A5e},3:{f:_5e},4:{f:S5e},5:{f:YL},7:{f:T5e},8:{},9:{f:w2},11:{},22:{f:Kn},30:{f:Mwe},31:{},32:{},33:{f:QL},36:{},37:{f:WL},50:{f:E5e},62:{},52:{},67:{},68:{f:Kn},69:{},86:{},126:{},127:{f:w5e},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:P5e},223:{},234:{},354:{},421:{},518:{f:S_},521:{f:w2},536:{f:JL},547:{f:ZL},561:{},579:{},1030:{f:S_},1033:{f:w2},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Bt(e,t,s,a){var n=t;if(!isNaN(n)){var i=a||(s||[]).length||0,l=e.next(4);l.write_shift(2,n),l.write_shift(2,i),i>0&&uE(s)&&e.push(s)}}function C6e(e,t,s,a){var n=(s||[]).length||0;if(n<=8224)return Bt(e,t,s,n);var i=t;if(!isNaN(i)){for(var l=s.parts||[],o=0,c=0,d=0;d+(l[o]||8224)<=8224;)d+=l[o]||8224,o++;var h=e.next(4);for(h.write_shift(2,i),h.write_shift(2,d),e.push(s.slice(c,c+d)),c+=d;c<n;){for(h=e.next(4),h.write_shift(2,60),d=0;d+(l[o]||8224)<=8224;)d+=l[o]||8224,o++;h.write_shift(2,d),e.push(s.slice(c,c+d)),c+=d}}}function t1(e,t,s){return e||(e=vt(7)),e.write_shift(2,t),e.write_shift(2,s),e.write_shift(2,0),e.write_shift(1,0),e}function T6e(e,t,s,a){var n=vt(9);return t1(n,e,t),gG(s,a||"b",n),n}function E6e(e,t,s){var a=vt(8+2*s.length);return t1(a,e,t),a.write_shift(1,s.length),a.write_shift(s.length,s,"sbcs"),a.l<a.length?a.slice(0,a.l):a}function P6e(e,t,s,a){if(t.v!=null)switch(t.t){case"d":case"n":var n=t.t=="d"?vi(Ia(t.v)):t.v;n==(n|0)&&n>=0&&n<65536?Bt(e,2,C5e(s,a,n)):Bt(e,3,k5e(s,a,n));return;case"b":case"e":Bt(e,5,T6e(s,a,t.v,t.t));return;case"s":case"str":Bt(e,4,E6e(s,a,(t.v||"").slice(0,255)));return}Bt(e,1,t1(null,s,a))}function O6e(e,t,s,a){var n=Array.isArray(t),i=fs(t["!ref"]||"A1"),l,o="",c=[];if(i.e.c>255||i.e.r>16383){if(a.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),l=Vr(i)}for(var d=i.s.r;d<=i.e.r;++d){o=yn(d);for(var h=i.s.c;h<=i.e.c;++h){d===i.s.r&&(c[h]=Fa(h)),l=c[h]+o;var m=n?(t[d]||[])[h]:t[l];m&&P6e(e,m,d,h)}}}function D6e(e,t){for(var s=t||{},a=So(),n=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==s.sheet&&(n=i);if(n==0&&s.sheet&&e.SheetNames[0]!=s.sheet)throw new Error("Sheet not found: "+s.sheet);return Bt(a,s.biff==4?1033:s.biff==3?521:9,jE(e,16,s)),O6e(a,e.Sheets[e.SheetNames[n]],n,s),Bt(a,10),a.end()}function R6e(e,t,s){Bt(e,49,Cwe({sz:12,name:"Arial"},s))}function M6e(e,t,s){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var n=a[0];n<=a[1];++n)t[n]!=null&&Bt(e,1054,Rwe(n,t[n],s))})}function F6e(e,t){var s=vt(19);s.write_shift(4,2151),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(2,3),s.write_shift(1,1),s.write_shift(4,0),Bt(e,2151,s),s=vt(39),s.write_shift(4,2152),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(2,3),s.write_shift(1,0),s.write_shift(4,0),s.write_shift(2,1),s.write_shift(4,4),s.write_shift(2,0),NG(fs(t["!ref"]||"A1"),s),s.write_shift(4,4),Bt(e,2152,s)}function L6e(e,t){for(var s=0;s<16;++s)Bt(e,224,KL({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(a){Bt(e,224,KL(a,0,t))})}function I6e(e,t){for(var s=0;s<t["!links"].length;++s){var a=t["!links"][s];Bt(e,440,o5e(a)),a[1].Tooltip&&Bt(e,2048,d5e(a))}delete t["!links"]}function B6e(e,t){if(t){var s=0;t.forEach(function(a,n){++s<=256&&a&&Bt(e,125,p5e(V5(n,a),n))})}}function U6e(e,t,s,a,n){var i=16+Lm(n.cellXfs,t,n);if(t.v==null&&!t.bf){Bt(e,513,lx(s,a,i));return}if(t.bf)Bt(e,6,f_e(t,s,a,n,i));else switch(t.t){case"d":case"n":var l=t.t=="d"?vi(Ia(t.v)):t.v;Bt(e,515,Wwe(s,a,l,i));break;case"b":case"e":Bt(e,517,qwe(s,a,t.v,i,n,t.t));break;case"s":case"str":if(n.bookSST){var o=TE(n.Strings,t.v,n.revStrings);Bt(e,253,Ewe(s,a,o,i))}else Bt(e,516,Owe(s,a,(t.v||"").slice(0,255),i,n));break;default:Bt(e,513,lx(s,a,i))}}function z6e(e,t,s){var a=So(),n=s.SheetNames[e],i=s.Sheets[n]||{},l=(s||{}).Workbook||{},o=(l.Sheets||[])[e]||{},c=Array.isArray(i),d=t.biff==8,h,m="",p=[],x=fs(i["!ref"]||"A1"),v=d?65536:16384;if(x.e.c>255||x.e.r>=v){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");x.e.c=Math.min(x.e.c,255),x.e.r=Math.min(x.e.c,v-1)}Bt(a,2057,jE(s,16,t)),Bt(a,13,Bc(1)),Bt(a,12,Bc(100)),Bt(a,15,Ul(!0)),Bt(a,17,Ul(!1)),Bt(a,16,nx(.001)),Bt(a,95,Ul(!0)),Bt(a,42,Ul(!1)),Bt(a,43,Ul(!1)),Bt(a,130,Bc(1)),Bt(a,128,Hwe()),Bt(a,131,Ul(!1)),Bt(a,132,Ul(!1)),d&&B6e(a,i["!cols"]),Bt(a,512,Fwe(x,t)),d&&(i["!links"]=[]);for(var y=x.s.r;y<=x.e.r;++y){m=yn(y);for(var b=x.s.c;b<=x.e.c;++b){y===x.s.r&&(p[b]=Fa(b)),h=p[b]+m;var j=c?(i[y]||[])[b]:i[h];j&&(U6e(a,j,y,b,t),d&&j.l&&i["!links"].push([h,j.l]))}}var S=o.CodeName||o.name||n;return d&&Bt(a,574,_we((l.Views||[])[0])),d&&(i["!merges"]||[]).length&&Bt(a,229,r5e(i["!merges"])),d&&I6e(a,i),Bt(a,442,vG(S)),d&&F6e(a,i),Bt(a,10),a.end()}function $6e(e,t,s){var a=So(),n=(e||{}).Workbook||{},i=n.Sheets||[],l=n.WBProps||{},o=s.biff==8,c=s.biff==5;if(Bt(a,2057,jE(e,5,s)),s.bookType=="xla"&&Bt(a,135),Bt(a,225,o?Bc(1200):null),Bt(a,193,qNe(2)),c&&Bt(a,191),c&&Bt(a,192),Bt(a,226),Bt(a,92,hwe("SheetJS",s)),Bt(a,66,Bc(o?1200:1252)),o&&Bt(a,353,Bc(0)),o&&Bt(a,448),Bt(a,317,y5e(e.SheetNames.length)),o&&e.vbaraw&&Bt(a,211),o&&e.vbaraw){var d=l.CodeName||"ThisWorkbook";Bt(a,442,vG(d))}Bt(a,156,Bc(17)),Bt(a,25,Ul(!1)),Bt(a,18,Ul(!1)),Bt(a,19,Bc(0)),o&&Bt(a,431,Ul(!1)),o&&Bt(a,444,Bc(0)),Bt(a,61,wwe()),Bt(a,64,Ul(!1)),Bt(a,141,Bc(0)),Bt(a,34,Ul(jAe(e)=="true")),Bt(a,14,Ul(!0)),o&&Bt(a,439,Ul(!1)),Bt(a,218,Bc(0)),R6e(a,e,s),M6e(a,e.SSF,s),L6e(a,s),o&&Bt(a,352,Ul(!1));var h=a.end(),m=So();o&&Bt(m,140,h5e()),o&&s.Strings&&C6e(m,252,gwe(s.Strings)),Bt(m,10);var p=m.end(),x=So(),v=0,y=0;for(y=0;y<e.SheetNames.length;++y)v+=(o?12:11)+(o?2:1)*e.SheetNames[y].length;var b=h.length+v+p.length;for(y=0;y<e.SheetNames.length;++y){var j=i[y]||{};Bt(x,133,xwe({pos:b,hs:j.Hidden||0,dt:0,name:e.SheetNames[y]},s)),b+=t[y].length}var S=x.end();if(v!=S.length)throw new Error("BS8 "+v+" != "+S.length);var w=[];return h.length&&w.push(h),S.length&&w.push(S),p.length&&w.push(p),Mi(w)}function H6e(e,t){var s=t||{},a=[];e&&!e.SSF&&(e.SSF=ba(wr)),e&&e.SSF&&(Wg(),Kb(e.SSF),s.revssf=B5(e.SSF),s.revssf[e.SSF[65535]]=0,s.ssf=e.SSF),s.Strings=[],s.Strings.Count=0,s.Strings.Unique=0,ME(s),s.cellXfs=[],Lm(s.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var n=0;n<e.SheetNames.length;++n)a[a.length]=z6e(n,s,e);return a.unshift($6e(e,a,s)),Mi(a)}function uK(e,t){for(var s=0;s<=e.SheetNames.length;++s){var a=e.Sheets[e.SheetNames[s]];if(!(!a||!a["!ref"])){var n=Yl(a["!ref"]);n.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[s]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return H6e(e,t);case 4:case 3:case 2:return D6e(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function cI(e,t){var s=t||{},a=s.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var n=e.match(/<table/i);if(!n)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),l=n.index,o=i&&i.index||e.length,c=Cje(e.slice(l,o),/(:?<tr[^>]*>)/i,"<tr>"),d=-1,h=0,m=0,p=0,x={s:{r:1e7,c:1e7},e:{r:0,c:0}},v=[];for(l=0;l<c.length;++l){var y=c[l].trim(),b=y.slice(0,3).toLowerCase();if(b=="<tr"){if(++d,s.sheetRows&&s.sheetRows<=d){--d;break}h=0;continue}if(!(b!="<td"&&b!="<th")){var j=y.split(/<\/t[dh]>/i);for(o=0;o<j.length;++o){var S=j[o].trim();if(S.match(/<t[dh]/i)){for(var w=S,k=0;w.charAt(0)=="<"&&(k=w.indexOf(">"))>-1;)w=w.slice(k+1);for(var _=0;_<v.length;++_){var O=v[_];O.s.c==h&&O.s.r<d&&d<=O.e.r&&(h=O.e.c+1,_=-1)}var E=Er(S.slice(0,S.indexOf(">")));p=E.colspan?+E.colspan:1,((m=+E.rowspan)>1||p>1)&&v.push({s:{r:d,c:h},e:{r:d+(m||1)-1,c:h+p-1}});var F=E.t||E["data-t"]||"";if(!w.length){h+=p;continue}if(w=BW(w),x.s.r>d&&(x.s.r=d),x.e.r<d&&(x.e.r=d),x.s.c>h&&(x.s.c=h),x.e.c<h&&(x.e.c=h),!w.length){h+=p;continue}var I={t:"s",v:w};s.raw||!w.trim().length||F=="s"||(w==="TRUE"?I={t:"b",v:!0}:w==="FALSE"?I={t:"b",v:!1}:isNaN(Vd(w))?isNaN(vg(w).getDate())||(I={t:"d",v:Ia(w)},s.cellDates||(I={t:"n",v:vi(I.v)}),I.z=s.dateNF||wr[14]):I={t:"n",v:Vd(w)}),s.dense?(a[d]||(a[d]=[]),a[d][h]=I):a[Cr({r:d,c:h})]=I,h+=p}}}}return a["!ref"]=Vr(x),v.length&&(a["!merges"]=v),a}function hK(e,t,s,a){for(var n=e["!merges"]||[],i=[],l=t.s.c;l<=t.e.c;++l){for(var o=0,c=0,d=0;d<n.length;++d)if(!(n[d].s.r>s||n[d].s.c>l)&&!(n[d].e.r<s||n[d].e.c<l)){if(n[d].s.r<s||n[d].s.c<l){o=-1;break}o=n[d].e.r-n[d].s.r+1,c=n[d].e.c-n[d].s.c+1;break}if(!(o<0)){var h=Cr({r:s,c:l}),m=a.dense?(e[s]||[])[l]:e[h],p=m&&m.v!=null&&(m.h||aE(m.w||(zu(m),m.w)||""))||"",x={};o>1&&(x.rowspan=o),c>1&&(x.colspan=c),a.editable?p='<span contenteditable="true">'+p+"</span>":m&&(x["data-t"]=m&&m.t||"z",m.v!=null&&(x["data-v"]=m.v),m.z!=null&&(x["data-z"]=m.z),m.l&&(m.l.Target||"#").charAt(0)!="#"&&(p='<a href="'+m.l.Target+'">'+p+"</a>")),x.id=(a.id||"sjs")+"-"+h,i.push(Lt("td",p,x))}}var v="<tr>";return v+i.join("")+"</tr>"}var fK='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',mK="</body></html>";function q6e(e,t){var s=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!s||s.length==0)throw new Error("Invalid HTML: could not find <table>");if(s.length==1)return Fm(cI(s[0],t),t);var a=UE();return s.forEach(function(n,i){zE(a,cI(n,t),"Sheet"+(i+1))}),a}function xK(e,t,s){var a=[];return a.join("")+"<table"+(s&&s.id?' id="'+s.id+'"':"")+">"}function pK(e,t){var s=t||{},a=s.header!=null?s.header:fK,n=s.footer!=null?s.footer:mK,i=[a],l=Yl(e["!ref"]);s.dense=Array.isArray(e),i.push(xK(e,l,s));for(var o=l.s.r;o<=l.e.r;++o)i.push(hK(e,l,o,s));return i.push("</table>"+n),i.join("")}function gK(e,t,s){var a=s||{},n=0,i=0;if(a.origin!=null)if(typeof a.origin=="number")n=a.origin;else{var l=typeof a.origin=="string"?sn(a.origin):a.origin;n=l.r,i=l.c}var o=t.getElementsByTagName("tr"),c=Math.min(a.sheetRows||1e7,o.length),d={s:{r:0,c:0},e:{r:n,c:i}};if(e["!ref"]){var h=Yl(e["!ref"]);d.s.r=Math.min(d.s.r,h.s.r),d.s.c=Math.min(d.s.c,h.s.c),d.e.r=Math.max(d.e.r,h.e.r),d.e.c=Math.max(d.e.c,h.e.c),n==-1&&(d.e.r=n=h.e.r+1)}var m=[],p=0,x=e["!rows"]||(e["!rows"]=[]),v=0,y=0,b=0,j=0,S=0,w=0;for(e["!cols"]||(e["!cols"]=[]);v<o.length&&y<c;++v){var k=o[v];if(dI(k)){if(a.display)continue;x[y]={hidden:!0}}var _=k.children;for(b=j=0;b<_.length;++b){var O=_[b];if(!(a.display&&dI(O))){var E=O.hasAttribute("data-v")?O.getAttribute("data-v"):O.hasAttribute("v")?O.getAttribute("v"):BW(O.innerHTML),F=O.getAttribute("data-z")||O.getAttribute("z");for(p=0;p<m.length;++p){var I=m[p];I.s.c==j+i&&I.s.r<y+n&&y+n<=I.e.r&&(j=I.e.c+1-i,p=-1)}w=+O.getAttribute("colspan")||1,((S=+O.getAttribute("rowspan")||1)>1||w>1)&&m.push({s:{r:y+n,c:j+i},e:{r:y+n+(S||1)-1,c:j+i+(w||1)-1}});var U={t:"s",v:E},M=O.getAttribute("data-t")||O.getAttribute("t")||"";E!=null&&(E.length==0?U.t=M||"z":a.raw||E.trim().length==0||M=="s"||(E==="TRUE"?U={t:"b",v:!0}:E==="FALSE"?U={t:"b",v:!1}:isNaN(Vd(E))?isNaN(vg(E).getDate())||(U={t:"d",v:Ia(E)},a.cellDates||(U={t:"n",v:vi(U.v)}),U.z=a.dateNF||wr[14]):U={t:"n",v:Vd(E)})),U.z===void 0&&F!=null&&(U.z=F);var L="",J=O.getElementsByTagName("A");if(J&&J.length)for(var K=0;K<J.length&&!(J[K].hasAttribute("href")&&(L=J[K].getAttribute("href"),L.charAt(0)!="#"));++K);L&&L.charAt(0)!="#"&&(U.l={Target:L}),a.dense?(e[y+n]||(e[y+n]=[]),e[y+n][j+i]=U):e[Cr({c:j+i,r:y+n})]=U,d.e.c<j+i&&(d.e.c=j+i),j+=w}}++y}return m.length&&(e["!merges"]=(e["!merges"]||[]).concat(m)),d.e.r=Math.max(d.e.r,y-1+n),e["!ref"]=Vr(d),y>=c&&(e["!fullref"]=Vr((d.e.r=o.length-v+y-1+n,d))),e}function vK(e,t){var s=t||{},a=s.dense?[]:{};return gK(a,e,t)}function V6e(e,t){return Fm(vK(e,t),t)}function dI(e){var t="",s=W6e(e);return s&&(t=s(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function W6e(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function G6e(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(a,n){return Array(parseInt(n,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),s=As(t.replace(/<[^>]*>/g,""));return[s]}var uI={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function yK(e,t){var s=t||{},a=nE(e),n=[],i,l,o={name:""},c="",d=0,h,m,p={},x=[],v=s.dense?[]:{},y,b,j={value:""},S="",w=0,k=[],_=-1,O=-1,E={s:{r:1e6,c:1e7},e:{r:0,c:0}},F=0,I={},U=[],M={},L=0,J=0,K=[],ae=1,V=1,re=[],X={Names:[]},Z={},ye=["",""],te=[],D={},H="",q=0,W=!1,G=!1,fe=0;for(sb.lastIndex=0,a=a.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");y=sb.exec(a);)switch(y[3]=y[3].replace(/_.*$/,"")){case"table":case"":y[1]==="/"?(E.e.c>=E.s.c&&E.e.r>=E.s.r?v["!ref"]=Vr(E):v["!ref"]="A1:A1",s.sheetRows>0&&s.sheetRows<=E.e.r&&(v["!fullref"]=v["!ref"],E.e.r=s.sheetRows-1,v["!ref"]=Vr(E)),U.length&&(v["!merges"]=U),K.length&&(v["!rows"]=K),h.name=h.||h.name,typeof JSON<"u"&&JSON.stringify(h),x.push(h.name),p[h.name]=v,G=!1):y[0].charAt(y[0].length-2)!=="/"&&(h=Er(y[0],!1),_=O=-1,E.s.r=E.s.c=1e7,E.e.r=E.e.c=0,v=s.dense?[]:{},U=[],K=[],G=!0);break;case"table-row-group":y[1]==="/"?--F:++F;break;case"table-row":case"":if(y[1]==="/"){_+=ae,ae=1;break}if(m=Er(y[0],!1),m.?_=m.-1:_==-1&&(_=0),ae=+m["number-rows-repeated"]||1,ae<10)for(fe=0;fe<ae;++fe)F>0&&(K[_+fe]={level:F});O=-1;break;case"covered-table-cell":y[1]!=="/"&&++O,s.sheetStubs&&(s.dense?(v[_]||(v[_]=[]),v[_][O]={t:"z"}):v[Cr({r:_,c:O})]={t:"z"}),S="",k=[];break;case"table-cell":case"":if(y[0].charAt(y[0].length-2)==="/")++O,j=Er(y[0],!1),V=parseInt(j["number-columns-repeated"]||"1",10),b={t:"z",v:null},j.formula&&s.cellFormula!=!1&&(b.f=iI(As(j.formula))),(j.||j["value-type"])=="string"&&(b.t="s",b.v=As(j["string-value"]||""),s.dense?(v[_]||(v[_]=[]),v[_][O]=b):v[Cr({r:_,c:O})]=b),O+=V-1;else if(y[1]!=="/"){++O,S="",w=0,k=[],V=1;var Se=ae?_+ae-1:_;if(O>E.e.c&&(E.e.c=O),O<E.s.c&&(E.s.c=O),_<E.s.r&&(E.s.r=_),Se>E.e.r&&(E.e.r=Se),j=Er(y[0],!1),te=[],D={},b={t:j.||j["value-type"],v:null},s.cellFormula)if(j.formula&&(j.formula=As(j.formula)),j["number-matrix-columns-spanned"]&&j["number-matrix-rows-spanned"]&&(L=parseInt(j["number-matrix-rows-spanned"],10)||0,J=parseInt(j["number-matrix-columns-spanned"],10)||0,M={s:{r:_,c:O},e:{r:_+L-1,c:O+J-1}},b.F=Vr(M),re.push([M,b.F])),j.formula)b.f=iI(j.formula);else for(fe=0;fe<re.length;++fe)_>=re[fe][0].s.r&&_<=re[fe][0].e.r&&O>=re[fe][0].s.c&&O<=re[fe][0].e.c&&(b.F=re[fe][1]);switch((j["number-columns-spanned"]||j["number-rows-spanned"])&&(L=parseInt(j["number-rows-spanned"],10)||0,J=parseInt(j["number-columns-spanned"],10)||0,M={s:{r:_,c:O},e:{r:_+L-1,c:O+J-1}},U.push(M)),j["number-columns-repeated"]&&(V=parseInt(j["number-columns-repeated"],10)),b.t){case"boolean":b.t="b",b.v=Ra(j["boolean-value"]);break;case"float":b.t="n",b.v=parseFloat(j.value);break;case"percentage":b.t="n",b.v=parseFloat(j.value);break;case"currency":b.t="n",b.v=parseFloat(j.value);break;case"date":b.t="d",b.v=Ia(j["date-value"]),s.cellDates||(b.t="n",b.v=vi(b.v)),b.z="m/d/yy";break;case"time":b.t="n",b.v=_je(j["time-value"])/86400,s.cellDates&&(b.t="d",b.v=U5(b.v)),b.z="HH:MM:SS";break;case"number":b.t="n",b.v=parseFloat(j.);break;default:if(b.t==="string"||b.t==="text"||!b.t)b.t="s",j["string-value"]!=null&&(S=As(j["string-value"]),k=[]);else throw new Error("Unsupported value type "+b.t)}}else{if(W=!1,b.t==="s"&&(b.v=S||"",k.length&&(b.R=k),W=w==0),Z.Target&&(b.l=Z),te.length>0&&(b.c=te,te=[]),S&&s.cellText!==!1&&(b.w=S),W&&(b.t="z",delete b.v),(!W||s.sheetStubs)&&!(s.sheetRows&&s.sheetRows<=_))for(var se=0;se<ae;++se){if(V=parseInt(j["number-columns-repeated"]||"1",10),s.dense)for(v[_+se]||(v[_+se]=[]),v[_+se][O]=se==0?b:ba(b);--V>0;)v[_+se][O+V]=ba(b);else for(v[Cr({r:_+se,c:O})]=b;--V>0;)v[Cr({r:_+se,c:O+V})]=ba(b);E.e.c<=O&&(E.e.c=O)}V=parseInt(j["number-columns-repeated"]||"1",10),O+=V-1,V=0,b={},S="",k=[]}Z={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(y[1]==="/"){if((i=n.pop())[0]!==y[3])throw"Bad state: "+i}else y[0].charAt(y[0].length-2)!=="/"&&n.push([y[3],!0]);break;case"annotation":if(y[1]==="/"){if((i=n.pop())[0]!==y[3])throw"Bad state: "+i;D.t=S,k.length&&(D.R=k),D.a=H,te.push(D)}else y[0].charAt(y[0].length-2)!=="/"&&n.push([y[3],!1]);H="",q=0,S="",w=0,k=[];break;case"creator":y[1]==="/"?H=a.slice(q,y.index):q=y.index+y[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(y[1]==="/"){if((i=n.pop())[0]!==y[3])throw"Bad state: "+i}else y[0].charAt(y[0].length-2)!=="/"&&n.push([y[3],!1]);S="",w=0,k=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(y[1]==="/"){if(I[o.name]=c,(i=n.pop())[0]!==y[3])throw"Bad state: "+i}else y[0].charAt(y[0].length-2)!=="/"&&(c="",o=Er(y[0],!1),n.push([y[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(n[n.length-1][0]){case"time-style":case"date-style":l=Er(y[0],!1),c+=uI[y[3]][l.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(n[n.length-1][0]){case"time-style":case"date-style":l=Er(y[0],!1),c+=uI[y[3]][l.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(y[0].slice(-2)==="/>")break;if(y[1]==="/")switch(n[n.length-1][0]){case"number-style":case"date-style":case"time-style":c+=a.slice(d,y.index);break}else d=y.index+y[0].length;break;case"named-range":l=Er(y[0],!1),ye=__(l["cell-range-address"]);var ge={Name:l.name,Ref:ye[0]+"!"+ye[1]};G&&(ge.Sheet=x.length),X.Names.push(ge);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(n[n.length-1][0])>-1)break;if(y[1]==="/"&&(!j||!j["string-value"])){var Be=G6e(a.slice(w,y.index));S=(S.length>0?S+`
`:"")+Be[0]}else Er(y[0],!1),w=y.index+y[0].length;break;case"s":break;case"database-range":if(y[1]==="/")break;try{ye=__(Er(y[0])["target-range-address"]),p[ye[0]]["!autofilter"]={ref:ye[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(y[1]!=="/"){if(Z=Er(y[0],!1),!Z.href)break;Z.Target=As(Z.href),delete Z.href,Z.Target.charAt(0)=="#"&&Z.Target.indexOf(".")>-1?(ye=__(Z.Target.slice(1)),Z.Target="#"+ye[0]+"!"+ye[1]):Z.Target.match(/^\.\.[\\\/]/)&&(Z.Target=Z.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(y[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(s.WTF)throw new Error(y)}}var ee={Sheets:p,SheetNames:x,Workbook:X};return s.bookSheets&&delete ee.Sheets,ee}function hI(e,t){t=t||{},Ic(e,"META-INF/manifest.xml")&&_Ne(Gn(e,"META-INF/manifest.xml"),t);var s=Jo(e,"content.xml");if(!s)throw new Error("Missing content.xml in ODS / UOF file");var a=yK(fa(s),t);return Ic(e,"meta.xml")&&(a.Props=nG(Gn(e,"meta.xml"))),a}function fI(e,t){return yK(e,t)}var K6e=(function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+rb({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Bn+t}})(),mI=(function(){var e=function(i){return ra(i).replace(/  +/g,function(l){return'<text:s text:c="'+l.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,s=`          <table:covered-table-cell/>
`,a=function(i,l,o){var c=[];c.push('      <table:table table:name="'+ra(l.SheetNames[o])+`" table:style-name="ta1">
`);var d=0,h=0,m=Yl(i["!ref"]||"A1"),p=i["!merges"]||[],x=0,v=Array.isArray(i);if(i["!cols"])for(h=0;h<=m.e.c;++h)c.push("        <table:table-column"+(i["!cols"][h]?' table:style-name="co'+i["!cols"][h].ods+'"':"")+`></table:table-column>
`);var y="",b=i["!rows"]||[];for(d=0;d<m.s.r;++d)y=b[d]?' table:style-name="ro'+b[d].ods+'"':"",c.push("        <table:table-row"+y+`></table:table-row>
`);for(;d<=m.e.r;++d){for(y=b[d]?' table:style-name="ro'+b[d].ods+'"':"",c.push("        <table:table-row"+y+`>
`),h=0;h<m.s.c;++h)c.push(t);for(;h<=m.e.c;++h){var j=!1,S={},w="";for(x=0;x!=p.length;++x)if(!(p[x].s.c>h)&&!(p[x].s.r>d)&&!(p[x].e.c<h)&&!(p[x].e.r<d)){(p[x].s.c!=h||p[x].s.r!=d)&&(j=!0),S["table:number-columns-spanned"]=p[x].e.c-p[x].s.c+1,S["table:number-rows-spanned"]=p[x].e.r-p[x].s.r+1;break}if(j){c.push(s);continue}var k=Cr({r:d,c:h}),_=v?(i[d]||[])[h]:i[k];if(_&&_.f&&(S["table:formula"]=ra(y_e(_.f)),_.F&&_.F.slice(0,k.length)==k)){var O=Yl(_.F);S["table:number-matrix-columns-spanned"]=O.e.c-O.s.c+1,S["table:number-matrix-rows-spanned"]=O.e.r-O.s.r+1}if(!_){c.push(t);continue}switch(_.t){case"b":w=_.v?"TRUE":"FALSE",S["office:value-type"]="boolean",S["office:boolean-value"]=_.v?"true":"false";break;case"n":w=_.w||String(_.v||0),S["office:value-type"]="float",S["office:value"]=_.v||0;break;case"s":case"str":w=_.v==null?"":_.v,S["office:value-type"]="string";break;case"d":w=_.w||Ia(_.v).toISOString(),S["office:value-type"]="date",S["office:date-value"]=Ia(_.v).toISOString(),S["table:style-name"]="ce1";break;default:c.push(t);continue}var E=e(w);if(_.l&&_.l.Target){var F=_.l.Target;F=F.charAt(0)=="#"?"#"+b_e(F.slice(1)):F,F.charAt(0)!="#"&&!F.match(/^\w+:/)&&(F="../"+F),E=Lt("text:a",E,{"xlink:href":F.replace(/&/g,"&amp;")})}c.push("          "+Lt("table:table-cell",Lt("text:p",E,{}),S)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},n=function(i,l){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var o=0;l.SheetNames.map(function(d){return l.Sheets[d]}).forEach(function(d){if(d&&d["!cols"]){for(var h=0;h<d["!cols"].length;++h)if(d["!cols"][h]){var m=d["!cols"][h];if(m.width==null&&m.wpx==null&&m.wch==null)continue;_m(m),m.ods=o;var p=d["!cols"][h].wpx+"px";i.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+p+`"/>
`),i.push(`  </style:style>
`),++o}}});var c=0;l.SheetNames.map(function(d){return l.Sheets[d]}).forEach(function(d){if(d&&d["!rows"]){for(var h=0;h<d["!rows"].length;++h)if(d["!rows"][h]){d["!rows"][h].ods=c;var m=d["!rows"][h].hpx+"px";i.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+m+`"/>
`),i.push(`  </style:style>
`),++c}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(l,o){var c=[Bn],d=rb({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),h=rb({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(c.push("<office:document"+d+h+`>
`),c.push(aG().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+d+`>
`),n(c,l),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var m=0;m!=l.SheetNames.length;++m)c.push(a(l.Sheets[l.SheetNames[m]],l,m));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),o.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}})();function bK(e,t){if(t.bookType=="fods")return mI(e,t);var s=tE(),a="",n=[],i=[];return a="mimetype",Gr(s,a,"application/vnd.oasis.opendocument.spreadsheet"),a="content.xml",Gr(s,a,mI(e,t)),n.push([a,"text/xml"]),i.push([a,"ContentFile"]),a="styles.xml",Gr(s,a,K6e(e,t)),n.push([a,"text/xml"]),i.push([a,"StylesFile"]),a="meta.xml",Gr(s,a,Bn+aG()),n.push([a,"text/xml"]),i.push([a,"MetadataFile"]),a="manifest.rdf",Gr(s,a,CNe(i)),n.push([a,"application/rdf+xml"]),a="META-INF/manifest.xml",Gr(s,a,kNe(n)),s}function ox(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function QA(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):fa(Mm(e))}function Y6e(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Zo(Tu(e))}function X6e(e,t){e:for(var s=0;s<=e.length-t.length;++s){for(var a=0;a<t.length;++a)if(e[s+a]!=t[a])continue e;return!0}return!1}function Am(e){var t=e.reduce(function(n,i){return n+i.length},0),s=new Uint8Array(t),a=0;return e.forEach(function(n){s.set(n,a),a+=n.length}),s}function xI(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function Z6e(e,t){for(var s=(e[t+15]&127)<<7|e[t+14]>>1,a=e[t+14]&1,n=t+13;n>=t;--n)a=a*256+e[n];return(e[t+15]&128?-a:a)*Math.pow(10,s-6176)}function J6e(e,t,s){var a=Math.floor(s==0?0:Math.LOG10E*Math.log(Math.abs(s)))+6176-20,n=s/Math.pow(10,a-6176);e[t+15]|=a>>7,e[t+14]|=(a&127)<<1;for(var i=0;n>=1;++i,n/=256)e[t+i]=n&255;e[t+15]|=s>=0?0:128}function db(e,t){var s=t?t[0]:0,a=e[s]&127;e:if(e[s++]>=128&&(a|=(e[s]&127)<<7,e[s++]<128||(a|=(e[s]&127)<<14,e[s++]<128)||(a|=(e[s]&127)<<21,e[s++]<128)||(a+=(e[s]&127)*Math.pow(2,28),++s,e[s++]<128)||(a+=(e[s]&127)*Math.pow(2,35),++s,e[s++]<128)||(a+=(e[s]&127)*Math.pow(2,42),++s,e[s++]<128)))break e;return t&&(t[0]=s),a}function Xs(e){var t=new Uint8Array(7);t[0]=e&127;var s=1;e:if(e>127){if(t[s-1]|=128,t[s]=e>>7&127,++s,e<=16383||(t[s-1]|=128,t[s]=e>>14&127,++s,e<=2097151)||(t[s-1]|=128,t[s]=e>>21&127,++s,e<=268435455)||(t[s-1]|=128,t[s]=e/256>>>21&127,++s,e<=34359738367)||(t[s-1]|=128,t[s]=e/65536>>>21&127,++s,e<=4398046511103))break e;t[s-1]|=128,t[s]=e/16777216>>>21&127,++s}return t.slice(0,s)}function bn(e){var t=0,s=e[t]&127;e:if(e[t++]>=128){if(s|=(e[t]&127)<<7,e[t++]<128||(s|=(e[t]&127)<<14,e[t++]<128)||(s|=(e[t]&127)<<21,e[t++]<128))break e;s|=(e[t]&127)<<28}return s}function Ds(e){for(var t=[],s=[0];s[0]<e.length;){var a=s[0],n=db(e,s),i=n&7;n=Math.floor(n/8);var l=0,o;if(n==0)break;switch(i){case 0:{for(var c=s[0];e[s[0]++]>=128;);o=e.slice(c,s[0])}break;case 5:l=4,o=e.slice(s[0],s[0]+l),s[0]+=l;break;case 1:l=8,o=e.slice(s[0],s[0]+l),s[0]+=l;break;case 2:l=db(e,s),o=e.slice(s[0],s[0]+l),s[0]+=l;break;default:throw new Error("PB Type ".concat(i," for Field ").concat(n," at offset ").concat(a))}var d={data:o,type:i};t[n]==null?t[n]=[d]:t[n].push(d)}return t}function Ji(e){var t=[];return e.forEach(function(s,a){s.forEach(function(n){n.data&&(t.push(Xs(a*8+n.type)),n.type==2&&t.push(Xs(n.data.length)),t.push(n.data))})}),Am(t)}function DE(e,t){return e?.map(function(s){return t(s.data)})||[]}function Mc(e){for(var t,s=[],a=[0];a[0]<e.length;){var n=db(e,a),i=Ds(e.slice(a[0],a[0]+n));a[0]+=n;var l={id:bn(i[1][0].data),messages:[]};i[2].forEach(function(o){var c=Ds(o.data),d=bn(c[3][0].data);l.messages.push({meta:c,data:e.slice(a[0],a[0]+d)}),a[0]+=d}),(t=i[3])!=null&&t[0]&&(l.merge=bn(i[3][0].data)>>>0>0),s.push(l)}return s}function wp(e){var t=[];return e.forEach(function(s){var a=[];a[1]=[{data:Xs(s.id),type:0}],a[2]=[],s.merge!=null&&(a[3]=[{data:Xs(+!!s.merge),type:0}]);var n=[];s.messages.forEach(function(l){n.push(l.data),l.meta[3]=[{type:0,data:Xs(l.data.length)}],a[2].push({data:Ji(l.meta),type:2})});var i=Ji(a);t.push(Xs(i.length)),t.push(i),n.forEach(function(l){return t.push(l)})}),Am(t)}function Q6e(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var s=[0],a=db(t,s),n=[];s[0]<t.length;){var i=t[s[0]]&3;if(i==0){var l=t[s[0]++]>>2;if(l<60)++l;else{var o=l-59;l=t[s[0]],o>1&&(l|=t[s[0]+1]<<8),o>2&&(l|=t[s[0]+2]<<16),o>3&&(l|=t[s[0]+3]<<24),l>>>=0,l++,s[0]+=o}n.push(t.slice(s[0],s[0]+l)),s[0]+=l;continue}else{var c=0,d=0;if(i==1?(d=(t[s[0]]>>2&7)+4,c=(t[s[0]++]&224)<<3,c|=t[s[0]++]):(d=(t[s[0]++]>>2)+1,i==2?(c=t[s[0]]|t[s[0]+1]<<8,s[0]+=2):(c=(t[s[0]]|t[s[0]+1]<<8|t[s[0]+2]<<16|t[s[0]+3]<<24)>>>0,s[0]+=4)),n=[Am(n)],c==0)throw new Error("Invalid offset 0");if(c>n[0].length)throw new Error("Invalid offset beyond length");if(d>=c)for(n.push(n[0].slice(-c)),d-=c;d>=n[n.length-1].length;)n.push(n[n.length-1]),d-=n[n.length-1].length;n.push(n[0].slice(-c,-c+d))}}var h=Am(n);if(h.length!=a)throw new Error("Unexpected length: ".concat(h.length," != ").concat(a));return h}function Fc(e){for(var t=[],s=0;s<e.length;){var a=e[s++],n=e[s]|e[s+1]<<8|e[s+2]<<16;s+=3,t.push(Q6e(a,e.slice(s,s+n))),s+=n}if(s!==e.length)throw new Error("data is not a valid framed stream!");return Am(t)}function Sp(e){for(var t=[],s=0;s<e.length;){var a=Math.min(e.length-s,268435455),n=new Uint8Array(4);t.push(n);var i=Xs(a),l=i.length;t.push(i),a<=60?(l++,t.push(new Uint8Array([a-1<<2]))):a<=256?(l+=2,t.push(new Uint8Array([240,a-1&255]))):a<=65536?(l+=3,t.push(new Uint8Array([244,a-1&255,a-1>>8&255]))):a<=16777216?(l+=4,t.push(new Uint8Array([248,a-1&255,a-1>>8&255,a-1>>16&255]))):a<=4294967296&&(l+=5,t.push(new Uint8Array([252,a-1&255,a-1>>8&255,a-1>>16&255,a-1>>>24&255]))),t.push(e.slice(s,s+a)),l+=a,n[0]=0,n[1]=l&255,n[2]=l>>8&255,n[3]=l>>16&255,s+=a}return Am(t)}function eCe(e,t,s,a){var n=ox(e),i=n.getUint32(4,!0),l=(a>1?12:8)+xI(i&(a>1?3470:398))*4,o=-1,c=-1,d=NaN,h=new Date(2001,0,1);i&512&&(o=n.getUint32(l,!0),l+=4),l+=xI(i&(a>1?12288:4096))*4,i&16&&(c=n.getUint32(l,!0),l+=4),i&32&&(d=n.getFloat64(l,!0),l+=8),i&64&&(h.setTime(h.getTime()+n.getFloat64(l,!0)*1e3),l+=8);var m;switch(e[2]){case 0:break;case 2:m={t:"n",v:d};break;case 3:m={t:"s",v:t[c]};break;case 5:m={t:"d",v:h};break;case 6:m={t:"b",v:d>0};break;case 7:m={t:"n",v:d/86400};break;case 8:m={t:"e",v:0};break;case 9:if(o>-1)m={t:"s",v:s[o]};else if(c>-1)m={t:"s",v:t[c]};else if(!isNaN(d))m={t:"n",v:d};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return m}function tCe(e,t,s){var a=ox(e),n=a.getUint32(8,!0),i=12,l=-1,o=-1,c=NaN,d=NaN,h=new Date(2001,0,1);n&1&&(c=Z6e(e,i),i+=16),n&2&&(d=a.getFloat64(i,!0),i+=8),n&4&&(h.setTime(h.getTime()+a.getFloat64(i,!0)*1e3),i+=8),n&8&&(o=a.getUint32(i,!0),i+=4),n&16&&(l=a.getUint32(i,!0),i+=4);var m;switch(e[1]){case 0:break;case 2:m={t:"n",v:c};break;case 3:m={t:"s",v:t[o]};break;case 5:m={t:"d",v:h};break;case 6:m={t:"b",v:d>0};break;case 7:m={t:"n",v:d/86400};break;case 8:m={t:"e",v:0};break;case 9:if(l>-1)m={t:"s",v:s[l]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(n&31," : ").concat(e.slice(0,4)));break;case 10:m={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(n&31," : ").concat(e.slice(0,4)))}return m}function A_(e,t){var s=new Uint8Array(32),a=ox(s),n=12,i=0;switch(s[0]=5,e.t){case"n":s[1]=2,J6e(s,n,e.v),i|=1,n+=16;break;case"b":s[1]=6,a.setFloat64(n,e.v?1:0,!0),i|=2,n+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));s[1]=3,a.setUint32(n,t.indexOf(e.v),!0),i|=8,n+=4;break;default:throw"unsupported cell type "+e.t}return a.setUint32(8,i,!0),s.slice(0,n)}function C_(e,t){var s=new Uint8Array(32),a=ox(s),n=12,i=0;switch(s[0]=3,e.t){case"n":s[2]=2,a.setFloat64(n,e.v,!0),i|=32,n+=8;break;case"b":s[2]=6,a.setFloat64(n,e.v?1:0,!0),i|=32,n+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));s[2]=3,a.setUint32(n,t.indexOf(e.v),!0),i|=16,n+=4;break;default:throw"unsupported cell type "+e.t}return a.setUint32(4,i,!0),s.slice(0,n)}function rCe(e,t,s){switch(e[0]){case 0:case 1:case 2:case 3:return eCe(e,t,s,e[0]);case 5:return tCe(e,t,s);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function gl(e){var t=Ds(e);return db(t[1][0].data)}function pI(e,t){var s=Ds(t.data),a=bn(s[1][0].data),n=s[3],i=[];return(n||[]).forEach(function(l){var o=Ds(l.data),c=bn(o[1][0].data)>>>0;switch(a){case 1:i[c]=QA(o[3][0].data);break;case 8:{var d=e[gl(o[9][0].data)][0],h=Ds(d.data),m=e[gl(h[1][0].data)][0],p=bn(m.meta[1][0].data);if(p!=2001)throw new Error("2000 unexpected reference to ".concat(p));var x=Ds(m.data);i[c]=x[3].map(function(v){return QA(v.data)}).join("")}break}}),i}function sCe(e,t){var s,a,n,i,l,o,c,d,h,m,p,x,v,y,b=Ds(e),j=bn(b[1][0].data)>>>0,S=bn(b[2][0].data)>>>0,w=((a=(s=b[8])==null?void 0:s[0])==null?void 0:a.data)&&bn(b[8][0].data)>0||!1,k,_;if((i=(n=b[7])==null?void 0:n[0])!=null&&i.data&&t!=0)k=(o=(l=b[7])==null?void 0:l[0])==null?void 0:o.data,_=(d=(c=b[6])==null?void 0:c[0])==null?void 0:d.data;else if((m=(h=b[4])==null?void 0:h[0])!=null&&m.data&&t!=1)k=(x=(p=b[4])==null?void 0:p[0])==null?void 0:x.data,_=(y=(v=b[3])==null?void 0:v[0])==null?void 0:y.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var O=w?4:1,E=ox(k),F=[],I=0;I<k.length/2;++I){var U=E.getUint16(I*2,!0);U<65535&&F.push([I,U])}if(F.length!=S)throw"Expected ".concat(S," cells, found ").concat(F.length);var M=[];for(I=0;I<F.length-1;++I)M[F[I][0]]=_.subarray(F[I][1]*O,F[I+1][1]*O);return F.length>=1&&(M[F[F.length-1][0]]=_.subarray(F[F.length-1][1]*O)),{R:j,cells:M}}function aCe(e,t){var s,a=Ds(t.data),n=(s=a?.[7])!=null&&s[0]?bn(a[7][0].data)>>>0>0?1:0:-1,i=DE(a[5],function(l){return sCe(l,n)});return{nrows:bn(a[4][0].data)>>>0,data:i.reduce(function(l,o){return l[o.R]||(l[o.R]=[]),o.cells.forEach(function(c,d){if(l[o.R][d])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(d));l[o.R][d]=c}),l},[])}}function nCe(e,t,s){var a,n=Ds(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(bn(n[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(n[6][0].data));if(i.e.c=(bn(n[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(n[7][0].data));s["!ref"]=Vr(i);var l=Ds(n[4][0].data),o=pI(e,e[gl(l[4][0].data)][0]),c=(a=l[17])!=null&&a[0]?pI(e,e[gl(l[17][0].data)][0]):[],d=Ds(l[3][0].data),h=0;d[1].forEach(function(m){var p=Ds(m.data),x=e[gl(p[2][0].data)][0],v=bn(x.meta[1][0].data);if(v!=6002)throw new Error("6001 unexpected reference to ".concat(v));var y=aCe(e,x);y.data.forEach(function(b,j){b.forEach(function(S,w){var k=Cr({r:h+j,c:w}),_=rCe(S,o,c);_&&(s[k]=_)})}),h+=y.nrows})}function iCe(e,t){var s=Ds(t.data),a={"!ref":"A1"},n=e[gl(s[2][0].data)],i=bn(n[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return nCe(e,n[0],a),a}function lCe(e,t){var s,a=Ds(t.data),n={name:(s=a[1])!=null&&s[0]?QA(a[1][0].data):"",sheets:[]},i=DE(a[2],gl);return i.forEach(function(l){e[l].forEach(function(o){var c=bn(o.meta[1][0].data);c==6e3&&n.sheets.push(iCe(e,o))})}),n}function oCe(e,t){var s=UE(),a=Ds(t.data),n=DE(a[1],gl);if(n.forEach(function(i){e[i].forEach(function(l){var o=bn(l.meta[1][0].data);if(o==2){var c=lCe(e,l);c.sheets.forEach(function(d,h){zE(s,d,h==0?c.name:c.name+"_"+h,!0)})}})}),s.SheetNames.length==0)throw new Error("Empty NUMBERS file");return s}function T_(e){var t,s,a,n,i={},l=[];if(e.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var d;try{d=Fc(c.content)}catch(m){return console.log("?? "+c.content.length+" "+(m.message||m))}var h;try{h=Mc(d)}catch(m){return console.log("## "+(m.message||m))}h.forEach(function(m){i[m.id]=m.messages,l.push(m.id)})}}),!l.length)throw new Error("File has no messages");var o=((n=(a=(s=(t=i?.[1])==null?void 0:t[0])==null?void 0:s.meta)==null?void 0:a[1])==null?void 0:n[0].data)&&bn(i[1][0].meta[1][0].data)==1&&i[1][0];if(o||l.forEach(function(c){i[c].forEach(function(d){var h=bn(d.meta[1][0].data)>>>0;if(h==1)if(!o)o=d;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return oCe(i,o)}function cCe(e,t,s){var a,n,i,l;if(!((a=e[6])!=null&&a[0])||!((n=e[7])!=null&&n[0]))throw"Mutation only works on post-BNC storages!";var o=((l=(i=e[8])==null?void 0:i[0])==null?void 0:l.data)&&bn(e[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var c=0,d=ox(e[7][0].data),h=0,m=[],p=ox(e[4][0].data),x=0,v=[],y=0;y<t.length;++y){if(t[y]==null){d.setUint16(y*2,65535,!0),p.setUint16(y*2,65535);continue}d.setUint16(y*2,h,!0),p.setUint16(y*2,x,!0);var b,j;switch(typeof t[y]){case"string":b=A_({t:"s",v:t[y]},s),j=C_({t:"s",v:t[y]},s);break;case"number":b=A_({t:"n",v:t[y]},s),j=C_({t:"n",v:t[y]},s);break;case"boolean":b=A_({t:"b",v:t[y]},s),j=C_({t:"b",v:t[y]},s);break;default:throw new Error("Unsupported value "+t[y])}m.push(b),h+=b.length,v.push(j),x+=j.length,++c}for(e[2][0].data=Xs(c);y<e[7][0].data.length/2;++y)d.setUint16(y*2,65535,!0),p.setUint16(y*2,65535,!0);return e[6][0].data=Am(m),e[3][0].data=Am(v),c}function dCe(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var s=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var a=Yl(s["!ref"]);a.s.r=a.s.c=0;var n=!1;a.e.c>9&&(n=!0,a.e.c=9),a.e.r>49&&(n=!0,a.e.r=49),n&&console.error("The Numbers writer is currently limited to ".concat(Vr(a)));var i=uw(s,{range:a,header:1}),l=["~Sh33tJ5~"];i.forEach(function(H){return H.forEach(function(q){typeof q=="string"&&l.push(q)})});var o={},c=[],d=xr.read(t.numbers,{type:"base64"});d.FileIndex.map(function(H,q){return[H,d.FullPaths[q]]}).forEach(function(H){var q=H[0],W=H[1];if(q.type==2&&q.name.match(/\.iwa/)){var G=q.content,fe=Fc(G),Se=Mc(fe);Se.forEach(function(se){c.push(se.id),o[se.id]={deps:[],location:W,type:bn(se.messages[0].meta[1][0].data)}})}}),c.sort(function(H,q){return H-q});var h=c.filter(function(H){return H>1}).map(function(H){return[H,Xs(H)]});d.FileIndex.map(function(H,q){return[H,d.FullPaths[q]]}).forEach(function(H){var q=H[0];if(H[1],!!q.name.match(/\.iwa/)){var W=Mc(Fc(q.content));W.forEach(function(G){G.messages.forEach(function(fe){h.forEach(function(Se){G.messages.some(function(se){return bn(se.meta[1][0].data)!=11006&&X6e(se.data,Se[1])})&&o[Se[0]].deps.push(G.id)})})})}});for(var m=xr.find(d,o[1].location),p=Mc(Fc(m.content)),x,v=0;v<p.length;++v){var y=p[v];y.id==1&&(x=y)}var b=gl(Ds(x.messages[0].data)[1][0].data);for(m=xr.find(d,o[b].location),p=Mc(Fc(m.content)),v=0;v<p.length;++v)y=p[v],y.id==b&&(x=y);for(b=gl(Ds(x.messages[0].data)[2][0].data),m=xr.find(d,o[b].location),p=Mc(Fc(m.content)),v=0;v<p.length;++v)y=p[v],y.id==b&&(x=y);for(b=gl(Ds(x.messages[0].data)[2][0].data),m=xr.find(d,o[b].location),p=Mc(Fc(m.content)),v=0;v<p.length;++v)y=p[v],y.id==b&&(x=y);var j=Ds(x.messages[0].data);{j[6][0].data=Xs(a.e.r+1),j[7][0].data=Xs(a.e.c+1);var S=gl(j[46][0].data),w=xr.find(d,o[S].location),k=Mc(Fc(w.content));{for(var _=0;_<k.length&&k[_].id!=S;++_);if(k[_].id!=S)throw"Bad ColumnRowUIDMapArchive";var O=Ds(k[_].messages[0].data);O[1]=[],O[2]=[],O[3]=[];for(var E=0;E<=a.e.c;++E){var F=[];F[1]=F[2]=[{type:0,data:Xs(E+420690)}],O[1].push({type:2,data:Ji(F)}),O[2].push({type:0,data:Xs(E)}),O[3].push({type:0,data:Xs(E)})}O[4]=[],O[5]=[],O[6]=[];for(var I=0;I<=a.e.r;++I)F=[],F[1]=F[2]=[{type:0,data:Xs(I+726270)}],O[4].push({type:2,data:Ji(F)}),O[5].push({type:0,data:Xs(I)}),O[6].push({type:0,data:Xs(I)});k[_].messages[0].data=Ji(O)}w.content=Sp(wp(k)),w.size=w.content.length,delete j[46];var U=Ds(j[4][0].data);{U[7][0].data=Xs(a.e.r+1);var M=Ds(U[1][0].data),L=gl(M[2][0].data);w=xr.find(d,o[L].location),k=Mc(Fc(w.content));{if(k[0].id!=L)throw"Bad HeaderStorageBucket";var J=Ds(k[0].messages[0].data);for(I=0;I<i.length;++I){var K=Ds(J[2][0].data);K[1][0].data=Xs(I),K[4][0].data=Xs(i[I].length),J[2][I]={type:J[2][0].type,data:Ji(K)}}k[0].messages[0].data=Ji(J)}w.content=Sp(wp(k)),w.size=w.content.length;var ae=gl(U[2][0].data);w=xr.find(d,o[ae].location),k=Mc(Fc(w.content));{if(k[0].id!=ae)throw"Bad HeaderStorageBucket";for(J=Ds(k[0].messages[0].data),E=0;E<=a.e.c;++E)K=Ds(J[2][0].data),K[1][0].data=Xs(E),K[4][0].data=Xs(a.e.r+1),J[2][E]={type:J[2][0].type,data:Ji(K)};k[0].messages[0].data=Ji(J)}w.content=Sp(wp(k)),w.size=w.content.length;var V=gl(U[4][0].data);(function(){for(var H=xr.find(d,o[V].location),q=Mc(Fc(H.content)),W,G=0;G<q.length;++G){var fe=q[G];fe.id==V&&(W=fe)}var Se=Ds(W.messages[0].data);{Se[3]=[];var se=[];l.forEach(function(ee,at){se[1]=[{type:0,data:Xs(at)}],se[2]=[{type:0,data:Xs(1)}],se[3]=[{type:2,data:Y6e(ee)}],Se[3].push({type:2,data:Ji(se)})})}W.messages[0].data=Ji(Se);var ge=wp(q),Be=Sp(ge);H.content=Be,H.size=H.content.length})();var re=Ds(U[3][0].data);{var X=re[1][0];delete re[2];var Z=Ds(X.data);{var ye=gl(Z[2][0].data);(function(){for(var H=xr.find(d,o[ye].location),q=Mc(Fc(H.content)),W,G=0;G<q.length;++G){var fe=q[G];fe.id==ye&&(W=fe)}var Se=Ds(W.messages[0].data);{delete Se[6],delete re[7];var se=new Uint8Array(Se[5][0].data);Se[5]=[];for(var ge=0,Be=0;Be<=a.e.r;++Be){var ee=Ds(se);ge+=cCe(ee,i[Be],l),ee[1][0].data=Xs(Be),Se[5].push({data:Ji(ee),type:2})}Se[1]=[{type:0,data:Xs(a.e.c+1)}],Se[2]=[{type:0,data:Xs(a.e.r+1)}],Se[3]=[{type:0,data:Xs(ge)}],Se[4]=[{type:0,data:Xs(a.e.r+1)}]}W.messages[0].data=Ji(Se);var at=wp(q),nt=Sp(at);H.content=nt,H.size=H.content.length})()}X.data=Ji(Z)}U[3][0].data=Ji(re)}j[4][0].data=Ji(U)}x.messages[0].data=Ji(j);var te=wp(p),D=Sp(te);return m.content=D,m.size=m.content.length,d}function jK(e){return function(s){for(var a=0;a!=e.length;++a){var n=e[a];s[n[0]]===void 0&&(s[n[0]]=n[1]),n[2]==="n"&&(s[n[0]]=Number(s[n[0]]))}}}function RE(e){jK([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function ME(e){jK([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function uCe(e){return ns.WS.indexOf(e)>-1?"sheet":e==ns.CS?"chart":e==ns.DS?"dialog":e==ns.MS?"macro":e&&e.length?e:"sheet"}function hCe(e,t){if(!e)return 0;try{e=t.map(function(a){return a.id||(a.id=a.strRelID),[a.name,e["!id"][a.id].Target,uCe(e["!id"][a.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function fCe(e,t,s,a,n,i,l,o,c,d,h,m){try{i[a]=by(Jo(e,s,!0),t);var p=Gn(e,t),x;switch(o){case"sheet":x=BAe(p,t,n,c,i[a],d,h,m);break;case"chart":if(x=UAe(p,t,n,c,i[a],d,h,m),!x||!x["!drawel"])break;var v=hy(x["!drawel"].Target,t),y=ab(v),b=ASe(Jo(e,v,!0),by(Jo(e,y,!0),v)),j=hy(b,v),S=ab(j);x=mAe(Jo(e,j,!0),j,c,by(Jo(e,S,!0),j),d,x);break;case"macro":x=zAe(p,t,n,c,i[a],d,h,m);break;case"dialog":x=$Ae(p,t,n,c,i[a],d,h,m);break;default:throw new Error("Unrecognized sheet type "+o)}l[a]=x;var w=[];i&&i[a]&&Nn(i[a]).forEach(function(k){var _="";if(i[a][k].Type==ns.CMNT){_=hy(i[a][k].Target,t);var O=WAe(Gn(e,_,!0),_,c);if(!O||!O.length)return;tI(x,O,!1)}i[a][k].Type==ns.TCMNT&&(_=hy(i[a][k].Target,t),w=w.concat(TSe(Gn(e,_,!0),c)))}),w&&w.length&&tI(x,w,!0,c.people||[])}catch(k){if(c.WTF)throw k}}function Pc(e){return e.charAt(0)=="/"?e.slice(1):e}function NK(e,t){if(Wg(),t=t||{},RE(t),Ic(e,"META-INF/manifest.xml")||Ic(e,"objectdata.xml"))return hI(e,t);if(Ic(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof T_<"u"){if(e.FileIndex)return T_(e);var s=xr.utils.cfb_new();return NL(e).forEach(function(K){Gr(s,K,Eje(e,K))}),T_(s)}throw new Error("Unsupported NUMBERS file")}if(!Ic(e,"[Content_Types].xml"))throw Ic(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Ic(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var a=NL(e),n=wNe(Jo(e,"[Content_Types].xml")),i=!1,l,o;if(n.workbooks.length===0&&(o="xl/workbook.xml",Gn(e,o,!0)&&n.workbooks.push(o)),n.workbooks.length===0){if(o="xl/workbook.bin",!Gn(e,o,!0))throw new Error("Could not find workbook");n.workbooks.push(o),i=!0}n.workbooks[0].slice(-3)=="bin"&&(i=!0);var c={},d={};if(!t.bookSheets&&!t.bookProps){if(jy=[],n.sst)try{jy=VAe(Gn(e,Pc(n.sst)),n.sst,t)}catch(K){if(t.WTF)throw K}t.cellStyles&&n.themes.length&&(c=qAe(Jo(e,n.themes[0].replace(/^\//,""),!0)||"",n.themes[0],t)),n.style&&(d=HAe(Gn(e,Pc(n.style)),n.style,c,t))}n.links.map(function(K){try{var ae=by(Jo(e,ab(Pc(K))),K);return KAe(Gn(e,Pc(K)),ae,K,t)}catch{}});var h=IAe(Gn(e,Pc(n.workbooks[0])),n.workbooks[0],t),m={},p="";n.coreprops.length&&(p=Gn(e,Pc(n.coreprops[0]),!0),p&&(m=nG(p)),n.extprops.length!==0&&(p=Gn(e,Pc(n.extprops[0]),!0),p&&ENe(p,m,t)));var x={};(!t.bookSheets||t.bookProps)&&n.custprops.length!==0&&(p=Jo(e,Pc(n.custprops[0]),!0),p&&(x=ONe(p,t)));var v={};if((t.bookSheets||t.bookProps)&&(h.Sheets?l=h.Sheets.map(function(ae){return ae.name}):m.Worksheets&&m.SheetNames.length>0&&(l=m.SheetNames),t.bookProps&&(v.Props=m,v.Custprops=x),t.bookSheets&&typeof l<"u"&&(v.SheetNames=l),t.bookSheets?v.SheetNames:t.bookProps))return v;l={};var y={};t.bookDeps&&n.calcchain&&(y=GAe(Gn(e,Pc(n.calcchain)),n.calcchain));var b=0,j={},S,w;{var k=h.Sheets;m.Worksheets=k.length,m.SheetNames=[];for(var _=0;_!=k.length;++_)m.SheetNames[_]=k[_].name}var O=i?"bin":"xml",E=n.workbooks[0].lastIndexOf("/"),F=(n.workbooks[0].slice(0,E+1)+"_rels/"+n.workbooks[0].slice(E+1)+".rels").replace(/^\//,"");Ic(e,F)||(F="xl/_rels/workbook."+O+".rels");var I=by(Jo(e,F,!0),F.replace(/_rels.*/,"s5s"));(n.metadata||[]).length>=1&&(t.xlmeta=YAe(Gn(e,Pc(n.metadata[0])),n.metadata[0],t)),(n.people||[]).length>=1&&(t.people=PSe(Gn(e,Pc(n.people[0])),t)),I&&(I=hCe(I,h.Sheets));var U=Gn(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(b=0;b!=m.Worksheets;++b){var M="sheet";if(I&&I[b]?(S="xl/"+I[b][1].replace(/[\/]?xl\//,""),Ic(e,S)||(S=I[b][1]),Ic(e,S)||(S=F.replace(/_rels\/.*$/,"")+I[b][1]),M=I[b][2]):(S="xl/worksheets/sheet"+(b+1-U)+"."+O,S=S.replace(/sheet0\./,"sheet.")),w=S.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(b!=t.sheets)continue e;break;case"string":if(m.SheetNames[b].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var L=!1,J=0;J!=t.sheets.length;++J)typeof t.sheets[J]=="number"&&t.sheets[J]==b&&(L=1),typeof t.sheets[J]=="string"&&t.sheets[J].toLowerCase()==m.SheetNames[b].toLowerCase()&&(L=1);if(!L)continue e}}fCe(e,S,w,m.SheetNames[b],b,j,l,M,t,h,c,d)}return v={Directory:n,Workbook:h,Props:m,Custprops:x,Deps:y,Sheets:l,SheetNames:m.SheetNames,Strings:jy,Styles:d,Themes:c,SSF:ba(wr)},t&&t.bookFiles&&(e.files?(v.keys=a,v.files=e.files):(v.keys=[],v.files={},e.FullPaths.forEach(function(K,ae){K=K.replace(/^Root Entry[\/]/,""),v.keys.push(K),v.files[K]=e.FileIndex[ae]}))),t&&t.bookVBA&&(n.vba.length>0?v.vbaraw=Gn(e,Pc(n.vba[0]),!0):n.defaults&&n.defaults.bin===BSe&&(v.vbaraw=Gn(e,"xl/vbaProject.bin",!0))),v}function mCe(e,t){var s=t||{},a="Workbook",n=xr.find(e,a);try{if(a="/!DataSpaces/Version",n=xr.find(e,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);if(X5e(n.content),a="/!DataSpaces/DataSpaceMap",n=xr.find(e,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);var i=J5e(n.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+a);if(a="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",n=xr.find(e,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);var l=Q5e(n.content);if(l.length!=1||l[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+a);if(a="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",n=xr.find(e,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);t4e(n.content)}catch{}if(a="/EncryptionInfo",n=xr.find(e,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);var o=r4e(n.content);if(a="/EncryptedPackage",n=xr.find(e,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],n.content,s.password||"",s);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],n.content,s.password||"",s);throw new Error("File is password-protected")}function xCe(e,t){return t.bookType=="ods"?bK(e,t):t.bookType=="numbers"?dCe(e,t):t.bookType=="xlsb"?pCe(e,t):wK(e,t)}function pCe(e,t){qp=1024,e&&!e.SSF&&(e.SSF=ba(wr)),e&&e.SSF&&(Wg(),Kb(e.SSF),t.revssf=B5(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Ny?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var s=t.bookType=="xlsb"?"bin":"xml",a=qG.indexOf(t.bookType)>-1,n=yE();ME(t=t||{});var i=tE(),l="",o=0;if(t.cellXfs=[],Lm(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),l="docProps/core.xml",Gr(i,l,iG(e.Props,t)),n.coreprops.push(l),Zs(t.rels,2,l,ns.CORE_PROPS),l="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(e.SheetNames[d]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,Gr(i,l,cG(e.Props)),n.extprops.push(l),Zs(t.rels,3,l,ns.EXT_PROPS),e.Custprops!==e.Props&&Nn(e.Custprops||{}).length>0&&(l="docProps/custom.xml",Gr(i,l,dG(e.Custprops)),n.custprops.push(l),Zs(t.rels,4,l,ns.CUST_PROPS)),o=1;o<=e.SheetNames.length;++o){var h={"!id":{}},m=e.Sheets[e.SheetNames[o-1]],p=(m||{})["!type"]||"sheet";if(l="xl/worksheets/sheet"+o+"."+s,Gr(i,l,ZAe(o-1,l,t,e,h)),n.sheets.push(l),Zs(t.wbrels,-1,"worksheets/sheet"+o+"."+s,ns.WS[0]),m){var x=m["!comments"],v=!1,y="";x&&x.length>0&&(y="xl/comments"+o+"."+s,Gr(i,y,e6e(x,y)),n.comments.push(y),Zs(h,-1,"../comments"+o+"."+s,ns.CMNT),v=!0),m["!legacy"]&&v&&Gr(i,"xl/drawings/vmlDrawing"+o+".vml",$G(o,m["!comments"])),delete m["!comments"],delete m["!legacy"]}h["!id"].rId1&&Gr(i,ab(l),tg(h))}return t.Strings!=null&&t.Strings.length>0&&(l="xl/sharedStrings."+s,Gr(i,l,QAe(t.Strings,l,t)),n.strs.push(l),Zs(t.wbrels,-1,"sharedStrings."+s,ns.SST)),l="xl/workbook."+s,Gr(i,l,XAe(e,l)),n.workbooks.push(l),Zs(t.rels,1,l,ns.WB),l="xl/theme/theme1.xml",Gr(i,l,_E(e.Themes,t)),n.themes.push(l),Zs(t.wbrels,-1,"theme/theme1.xml",ns.THEME),l="xl/styles."+s,Gr(i,l,JAe(e,l,t)),n.styles.push(l),Zs(t.wbrels,-1,"styles."+s,ns.STY),e.vbaraw&&a&&(l="xl/vbaProject.bin",Gr(i,l,e.vbaraw),n.vba.push(l),Zs(t.wbrels,-1,"vbaProject.bin",ns.VBA)),l="xl/metadata."+s,Gr(i,l,t6e(l)),n.metadata.push(l),Zs(t.wbrels,-1,"metadata."+s,ns.XLMETA),Gr(i,"[Content_Types].xml",sG(n,t)),Gr(i,"_rels/.rels",tg(t.rels)),Gr(i,"xl/_rels/workbook."+s+".rels",tg(t.wbrels)),delete t.revssf,delete t.ssf,i}function wK(e,t){qp=1024,e&&!e.SSF&&(e.SSF=ba(wr)),e&&e.SSF&&(Wg(),Kb(e.SSF),t.revssf=B5(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Ny?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var s="xml",a=qG.indexOf(t.bookType)>-1,n=yE();ME(t=t||{});var i=tE(),l="",o=0;if(t.cellXfs=[],Lm(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),l="docProps/core.xml",Gr(i,l,iG(e.Props,t)),n.coreprops.push(l),Zs(t.rels,2,l,ns.CORE_PROPS),l="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(e.SheetNames[d]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,Gr(i,l,cG(e.Props)),n.extprops.push(l),Zs(t.rels,3,l,ns.EXT_PROPS),e.Custprops!==e.Props&&Nn(e.Custprops||{}).length>0&&(l="docProps/custom.xml",Gr(i,l,dG(e.Custprops)),n.custprops.push(l),Zs(t.rels,4,l,ns.CUST_PROPS));var h=["SheetJ5"];for(t.tcid=0,o=1;o<=e.SheetNames.length;++o){var m={"!id":{}},p=e.Sheets[e.SheetNames[o-1]],x=(p||{})["!type"]||"sheet";if(l="xl/worksheets/sheet"+o+"."+s,Gr(i,l,tK(o-1,t,e,m)),n.sheets.push(l),Zs(t.wbrels,-1,"worksheets/sheet"+o+"."+s,ns.WS[0]),p){var v=p["!comments"],y=!1,b="";if(v&&v.length>0){var j=!1;v.forEach(function(S){S[1].forEach(function(w){w.T==!0&&(j=!0)})}),j&&(b="xl/threadedComments/threadedComment"+o+"."+s,Gr(i,b,ESe(v,h,t)),n.threadedcomments.push(b),Zs(m,-1,"../threadedComments/threadedComment"+o+"."+s,ns.TCMNT)),b="xl/comments"+o+"."+s,Gr(i,b,HG(v)),n.comments.push(b),Zs(m,-1,"../comments"+o+"."+s,ns.CMNT),y=!0}p["!legacy"]&&y&&Gr(i,"xl/drawings/vmlDrawing"+o+".vml",$G(o,p["!comments"])),delete p["!comments"],delete p["!legacy"]}m["!id"].rId1&&Gr(i,ab(l),tg(m))}return t.Strings!=null&&t.Strings.length>0&&(l="xl/sharedStrings."+s,Gr(i,l,EG(t.Strings,t)),n.strs.push(l),Zs(t.wbrels,-1,"sharedStrings."+s,ns.SST)),l="xl/workbook."+s,Gr(i,l,lK(e)),n.workbooks.push(l),Zs(t.rels,1,l,ns.WB),l="xl/theme/theme1.xml",Gr(i,l,_E(e.Themes,t)),n.themes.push(l),Zs(t.wbrels,-1,"theme/theme1.xml",ns.THEME),l="xl/styles."+s,Gr(i,l,IG(e,t)),n.styles.push(l),Zs(t.wbrels,-1,"styles."+s,ns.STY),e.vbaraw&&a&&(l="xl/vbaProject.bin",Gr(i,l,e.vbaraw),n.vba.push(l),Zs(t.wbrels,-1,"vbaProject.bin",ns.VBA)),l="xl/metadata."+s,Gr(i,l,zG()),n.metadata.push(l),Zs(t.wbrels,-1,"metadata."+s,ns.XLMETA),h.length>1&&(l="xl/persons/person.xml",Gr(i,l,OSe(h)),n.people.push(l),Zs(t.wbrels,-1,"persons/person.xml",ns.PEOPLE)),Gr(i,"[Content_Types].xml",sG(n,t)),Gr(i,"_rels/.rels",tg(t.rels)),Gr(i,"xl/_rels/workbook."+s+".rels",tg(t.wbrels)),delete t.revssf,delete t.ssf,i}function FE(e,t){var s="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":s=dc(e.slice(0,12));break;case"binary":s=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[s.charCodeAt(0),s.charCodeAt(1),s.charCodeAt(2),s.charCodeAt(3),s.charCodeAt(4),s.charCodeAt(5),s.charCodeAt(6),s.charCodeAt(7)]}function gCe(e,t){return xr.find(e,"EncryptedPackage")?mCe(e,t):OE(e,t)}function vCe(e,t){var s,a=e,n=t||{};return n.type||(n.type=rs&&Buffer.isBuffer(e)?"buffer":"base64"),s=FW(a,n),NK(s,n)}function SK(e,t){var s=0;e:for(;s<e.length;)switch(e.charCodeAt(s)){case 10:case 13:case 32:++s;break;case 60:return ZA(e.slice(s),t);default:break e}return yg.to_workbook(e,t)}function yCe(e,t){var s="",a=FE(e,t);switch(t.type){case"base64":s=dc(e);break;case"binary":s=e;break;case"buffer":s=e.toString("binary");break;case"array":s=ax(e);break;default:throw new Error("Unrecognized type "+t.type)}return a[0]==239&&a[1]==187&&a[2]==191&&(s=fa(s)),t.type="binary",SK(s,t)}function bCe(e,t){var s=e;return t.type=="base64"&&(s=dc(s)),s=js.utils.decode(1200,s.slice(2),"str"),t.type="binary",SK(s,t)}function jCe(e){return e.match(/[^\x00-\x7F]/)?Tu(e):e}function E_(e,t,s,a){return a?(s.type="string",yg.to_workbook(e,s)):yg.to_workbook(t,s)}function dw(e,t){L5();var s=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return dw(new Uint8Array(e),(s=ba(s),s.type="array",s));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!s.type&&(s.type=typeof Deno<"u"?"buffer":"array");var a=e,n=[0,0,0,0],i=!1;if(s.cellStyles&&(s.cellNF=!0,s.sheetStubs=!0),sg={},s.dateNF&&(sg.dateNF=s.dateNF),s.type||(s.type=rs&&Buffer.isBuffer(e)?"buffer":"base64"),s.type=="file"&&(s.type=rs?"buffer":"binary",a=Nje(e),typeof Uint8Array<"u"&&!rs&&(s.type="array")),s.type=="string"&&(i=!0,s.type="binary",s.codepage=65001,a=jCe(e)),s.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var l=new ArrayBuffer(3),o=new Uint8Array(l);if(o.foo="bar",!o.foo)return s=ba(s),s.type="array",dw(ZT(a),s)}switch((n=FE(a,s))[0]){case 208:if(n[1]===207&&n[2]===17&&n[3]===224&&n[4]===161&&n[5]===177&&n[6]===26&&n[7]===225)return gCe(xr.read(a,s),s);break;case 9:if(n[1]<=8)return OE(a,s);break;case 60:return ZA(a,s);case 73:if(n[1]===73&&n[2]===42&&n[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(n[1]===68)return D5e(a,s);break;case 84:if(n[1]===65&&n[2]===66&&n[3]===76)return CG.to_workbook(a,s);break;case 80:return n[1]===75&&n[2]<9&&n[3]<9?vCe(a,s):E_(e,a,s,i);case 239:return n[3]===60?ZA(a,s):E_(e,a,s,i);case 255:if(n[1]===254)return bCe(a,s);if(n[1]===0&&n[2]===2&&n[3]===0)return F0.to_workbook(a,s);break;case 0:if(n[1]===0&&(n[2]>=2&&n[3]===0||n[2]===0&&(n[3]===8||n[3]===9)))return F0.to_workbook(a,s);break;case 3:case 131:case 139:case 140:return XA.to_workbook(a,s);case 123:if(n[1]===92&&n[2]===114&&n[3]===116)return MG.to_workbook(a,s);break;case 10:case 13:case 32:return yCe(a,s);case 137:if(n[1]===80&&n[2]===78&&n[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return O5e.indexOf(n[0])>-1&&n[2]<=12&&n[3]<=31?XA.to_workbook(a,s):E_(e,a,s,i)}function gI(e,t){var s=t||{};return s.type="file",dw(e,s)}function _K(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Yb(t.file,xr.write(e,{type:rs?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return xr.write(e,t)}function NCe(e,t){var s=ba(t||{}),a=xCe(e,s);return kK(a,s)}function wCe(e,t){var s=ba(t||{}),a=wK(e,s);return kK(a,s)}function kK(e,t){var s={},a=rs?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(s.compression="DEFLATE"),t.password)s.type=a;else switch(t.type){case"base64":s.type="base64";break;case"binary":s.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":s.type=a;break;default:throw new Error("Unrecognized type "+t.type)}var n=e.FullPaths?xr.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[s.type]||s.type,compression:!!t.compression}):e.generate(s);if(typeof Deno<"u"&&typeof n=="string"){if(t.type=="binary"||t.type=="base64")return n;n=new Uint8Array(Gb(n))}return t.password&&typeof encrypt_agile<"u"?_K(encrypt_agile(n,t.password),t):t.type==="file"?Yb(t.file,n):t.type=="string"?fa(n):n}function SCe(e,t){var s=t||{},a=A6e(e,s);return _K(a,s)}function _u(e,t,s){s||(s="");var a=s+e;switch(t.type){case"base64":return Qy(Tu(a));case"binary":return Tu(a);case"string":return e;case"file":return Yb(t.file,a,"utf8");case"buffer":return rs?ff(a,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(a):_u(a,{type:"binary"}).split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function _Ce(e,t){switch(t.type){case"base64":return Qy(e);case"binary":return e;case"string":return e;case"file":return Yb(t.file,e,"binary");case"buffer":return rs?ff(e,"binary"):e.split("").map(function(s){return s.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function A2(e,t){switch(t.type){case"string":case"base64":case"binary":for(var s="",a=0;a<e.length;++a)s+=String.fromCharCode(e[a]);return t.type=="base64"?Qy(s):t.type=="string"?fa(s):s;case"file":return Yb(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function LE(e,t){L5(),iK(e);var s=ba(t||{});if(s.cellStyles&&(s.cellNF=!0,s.sheetStubs=!0),s.type=="array"){s.type="binary";var a=LE(e,s);return s.type="array",Gb(a)}return wCe(e,s)}function W5(e,t){L5(),iK(e);var s=ba(t||{});if(s.cellStyles&&(s.cellNF=!0,s.sheetStubs=!0),s.type=="array"){s.type="binary";var a=W5(e,s);return s.type="array",Gb(a)}var n=0;if(s.sheet&&(typeof s.sheet=="number"?n=s.sheet:n=e.SheetNames.indexOf(s.sheet),!e.SheetNames[n]))throw new Error("Sheet not found: "+s.sheet+" : "+typeof s.sheet);switch(s.bookType||"xlsb"){case"xml":case"xlml":return _u(b6e(e,s),s);case"slk":case"sylk":return _u(AG.from_sheet(e.Sheets[e.SheetNames[n]],s),s);case"htm":case"html":return _u(pK(e.Sheets[e.SheetNames[n]],s),s);case"txt":return _Ce(TK(e.Sheets[e.SheetNames[n]],s),s);case"csv":return _u(BE(e.Sheets[e.SheetNames[n]],s),s,"\uFEFF");case"dif":return _u(CG.from_sheet(e.Sheets[e.SheetNames[n]],s),s);case"dbf":return A2(XA.from_sheet(e.Sheets[e.SheetNames[n]],s),s);case"prn":return _u(yg.from_sheet(e.Sheets[e.SheetNames[n]],s),s);case"rtf":return _u(MG.from_sheet(e.Sheets[e.SheetNames[n]],s),s);case"eth":return _u(TG.from_sheet(e.Sheets[e.SheetNames[n]],s),s);case"fods":return _u(bK(e,s),s);case"wk1":return A2(F0.sheet_to_wk1(e.Sheets[e.SheetNames[n]],s),s);case"wk3":return A2(F0.book_to_wk3(e,s),s);case"biff2":s.biff||(s.biff=2);case"biff3":s.biff||(s.biff=3);case"biff4":return s.biff||(s.biff=4),A2(uK(e,s),s);case"biff5":s.biff||(s.biff=5);case"biff8":case"xla":case"xls":return s.biff||(s.biff=8),SCe(e,s);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return NCe(e,s);default:throw new Error("Unrecognized bookType |"+s.bookType+"|")}}function IE(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},s=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();s.match(/^\.[a-z]+$/)&&(e.bookType=s.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function e6(e,t,s){var a=s||{};return a.type="file",a.file=t,IE(a),W5(e,a)}function kCe(e,t,s){var a=s||{};return a.type="file",a.file=t,IE(a),LE(e,a)}function ACe(e,t,s,a){var n=s||{};n.type="file",n.file=e,IE(n),n.type="buffer";var i=a;return i instanceof Function||(i=s),hm.writeFile(e,W5(t,n),i)}function AK(e,t,s,a,n,i,l,o){var c=yn(s),d=o.defval,h=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),m=!0,p=n===1?[]:{};if(n!==1)if(Object.defineProperty)try{Object.defineProperty(p,"__rowNum__",{value:s,enumerable:!1})}catch{p.__rowNum__=s}else p.__rowNum__=s;if(!l||e[s])for(var x=t.s.c;x<=t.e.c;++x){var v=l?e[s][x]:e[a[x]+c];if(v===void 0||v.t===void 0){if(d===void 0)continue;i[x]!=null&&(p[i[x]]=d);continue}var y=v.v;switch(v.t){case"z":if(y==null)break;continue;case"e":y=y==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+v.t)}if(i[x]!=null){if(y==null)if(v.t=="e"&&y===null)p[i[x]]=null;else if(d!==void 0)p[i[x]]=d;else if(h&&y===null)p[i[x]]=null;else continue;else p[i[x]]=h&&(v.t!=="n"||v.t==="n"&&o.rawNumbers!==!1)?y:zu(v,y,o);y!=null&&(m=!1)}}return{row:p,isempty:m}}function uw(e,t){if(e==null||e["!ref"]==null)return[];var s={t:"n",v:0},a=0,n=1,i=[],l=0,o="",c={s:{r:0,c:0},e:{r:0,c:0}},d=t||{},h=d.range!=null?d.range:e["!ref"];switch(d.header===1?a=1:d.header==="A"?a=2:Array.isArray(d.header)?a=3:d.header==null&&(a=0),typeof h){case"string":c=fs(h);break;case"number":c=fs(e["!ref"]),c.s.r=h;break;default:c=h}a>0&&(n=0);var m=yn(c.s.r),p=[],x=[],v=0,y=0,b=Array.isArray(e),j=c.s.r,S=0,w={};b&&!e[j]&&(e[j]=[]);var k=d.skipHidden&&e["!cols"]||[],_=d.skipHidden&&e["!rows"]||[];for(S=c.s.c;S<=c.e.c;++S)if(!(k[S]||{}).hidden)switch(p[S]=Fa(S),s=b?e[j][S]:e[p[S]+m],a){case 1:i[S]=S-c.s.c;break;case 2:i[S]=p[S];break;case 3:i[S]=d.header[S-c.s.c];break;default:if(s==null&&(s={w:"__EMPTY",t:"s"}),o=l=zu(s,null,d),y=w[l]||0,!y)w[l]=1;else{do o=l+"_"+y++;while(w[o]);w[l]=y,w[o]=1}i[S]=o}for(j=c.s.r+n;j<=c.e.r;++j)if(!(_[j]||{}).hidden){var O=AK(e,c,j,p,a,i,b,d);(O.isempty===!1||(a===1?d.blankrows!==!1:d.blankrows))&&(x[v++]=O.row)}return x.length=v,x}var vI=/"/g;function CK(e,t,s,a,n,i,l,o){for(var c=!0,d=[],h="",m=yn(s),p=t.s.c;p<=t.e.c;++p)if(a[p]){var x=o.dense?(e[s]||[])[p]:e[a[p]+m];if(x==null)h="";else if(x.v!=null){c=!1,h=""+(o.rawNumbers&&x.t=="n"?x.v:zu(x,null,o));for(var v=0,y=0;v!==h.length;++v)if((y=h.charCodeAt(v))===n||y===i||y===34||o.forceQuotes){h='"'+h.replace(vI,'""')+'"';break}h=="ID"&&(h='"ID"')}else x.f!=null&&!x.F?(c=!1,h="="+x.f,h.indexOf(",")>=0&&(h='"'+h.replace(vI,'""')+'"')):h="";d.push(h)}return o.blankrows===!1&&c?null:d.join(l)}function BE(e,t){var s=[],a=t??{};if(e==null||e["!ref"]==null)return"";var n=fs(e["!ref"]),i=a.FS!==void 0?a.FS:",",l=i.charCodeAt(0),o=a.RS!==void 0?a.RS:`
`,c=o.charCodeAt(0),d=new RegExp((i=="|"?"\\|":i)+"+$"),h="",m=[];a.dense=Array.isArray(e);for(var p=a.skipHidden&&e["!cols"]||[],x=a.skipHidden&&e["!rows"]||[],v=n.s.c;v<=n.e.c;++v)(p[v]||{}).hidden||(m[v]=Fa(v));for(var y=0,b=n.s.r;b<=n.e.r;++b)(x[b]||{}).hidden||(h=CK(e,n,b,m,l,c,i,a),h!=null&&(a.strip&&(h=h.replace(d,"")),(h||a.blankrows!==!1)&&s.push((y++?o:"")+h)));return delete a.dense,s.join("")}function TK(e,t){t||(t={}),t.FS="	",t.RS=`
`;var s=BE(e,t);if(typeof js>"u"||t.type=="string")return s;var a=js.utils.encode(1200,s,"str");return""+a}function CCe(e){var t="",s,a="";if(e==null||e["!ref"]==null)return[];var n=fs(e["!ref"]),i="",l=[],o,c=[],d=Array.isArray(e);for(o=n.s.c;o<=n.e.c;++o)l[o]=Fa(o);for(var h=n.s.r;h<=n.e.r;++h)for(i=yn(h),o=n.s.c;o<=n.e.c;++o)if(t=l[o]+i,s=d?(e[h]||[])[o]:e[t],a="",s!==void 0){if(s.F!=null){if(t=s.F,!s.f)continue;a=s.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(s.f!=null)a=s.f;else{if(s.t=="z")continue;if(s.t=="n"&&s.v!=null)a=""+s.v;else if(s.t=="b")a=s.v?"TRUE":"FALSE";else if(s.w!==void 0)a="'"+s.w;else{if(s.v===void 0)continue;s.t=="s"?a="'"+s.v:a=""+s.v}}c[c.length]=t+"="+a}return c}function EK(e,t,s){var a=s||{},n=+!a.skipHeader,i=e||{},l=0,o=0;if(i&&a.origin!=null)if(typeof a.origin=="number")l=a.origin;else{var c=typeof a.origin=="string"?sn(a.origin):a.origin;l=c.r,o=c.c}var d,h={s:{c:0,r:0},e:{c:o,r:l+t.length-1+n}};if(i["!ref"]){var m=fs(i["!ref"]);h.e.c=Math.max(h.e.c,m.e.c),h.e.r=Math.max(h.e.r,m.e.r),l==-1&&(l=m.e.r+1,h.e.r=l+t.length-1+n)}else l==-1&&(l=0,h.e.r=t.length-1+n);var p=a.header||[],x=0;t.forEach(function(y,b){Nn(y).forEach(function(j){(x=p.indexOf(j))==-1&&(p[x=p.length]=j);var S=y[j],w="z",k="",_=Cr({c:o+x,r:l+b+n});d=ub(i,_),S&&typeof S=="object"&&!(S instanceof Date)?i[_]=S:(typeof S=="number"?w="n":typeof S=="boolean"?w="b":typeof S=="string"?w="s":S instanceof Date?(w="d",a.cellDates||(w="n",S=vi(S)),k=a.dateNF||wr[14]):S===null&&a.nullError&&(w="e",S=0),d?(d.t=w,d.v=S,delete d.w,delete d.R,k&&(d.z=k)):i[_]=d={t:w,v:S},k&&(d.z=k))})}),h.e.c=Math.max(h.e.c,o+p.length-1);var v=yn(l);if(n)for(x=0;x<p.length;++x)i[Fa(x+o)+v]={t:"s",v:p[x]};return i["!ref"]=Vr(h),i}function TCe(e,t){return EK(null,e,t)}function ub(e,t,s){if(typeof t=="string"){if(Array.isArray(e)){var a=sn(t);return e[a.r]||(e[a.r]=[]),e[a.r][a.c]||(e[a.r][a.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?ub(e,Cr(t)):ub(e,Cr({r:t,c:s||0}))}function ECe(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var s=e.SheetNames.indexOf(t);if(s>-1)return s;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function UE(){return{SheetNames:[],Sheets:{}}}function zE(e,t,s,a){var n=1;if(!s)for(;n<=65535&&e.SheetNames.indexOf(s="Sheet"+n)!=-1;++n,s=void 0);if(!s||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(a&&e.SheetNames.indexOf(s)>=0){var i=s.match(/(^.*?)(\d+)$/);n=i&&+i[2]||0;var l=i&&i[1]||s;for(++n;n<=65535&&e.SheetNames.indexOf(s=l+n)!=-1;++n);}if(nK(s),e.SheetNames.indexOf(s)>=0)throw new Error("Worksheet with name |"+s+"| already exists!");return e.SheetNames.push(s),e.Sheets[s]=t,s}function PCe(e,t,s){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var a=ECe(e,t);switch(e.Workbook.Sheets[a]||(e.Workbook.Sheets[a]={}),s){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+s)}e.Workbook.Sheets[a].Hidden=s}function OCe(e,t){return e.z=t,e}function PK(e,t,s){return t?(e.l={Target:t},s&&(e.l.Tooltip=s)):delete e.l,e}function DCe(e,t,s){return PK(e,"#"+t,s)}function RCe(e,t,s){e.c||(e.c=[]),e.c.push({t,a:s||"SheetJS"})}function MCe(e,t,s,a){for(var n=typeof t!="string"?t:fs(t),i=typeof t=="string"?t:Vr(t),l=n.s.r;l<=n.e.r;++l)for(var o=n.s.c;o<=n.e.c;++o){var c=ub(e,l,o);c.t="n",c.F=i,delete c.v,l==n.s.r&&o==n.s.c&&(c.f=s,a&&(c.D=!0))}return e}var zj={encode_col:Fa,encode_row:yn,encode_cell:Cr,encode_range:Vr,decode_col:fE,decode_row:hE,split_cell:eNe,decode_cell:sn,decode_range:Yl,format_cell:zu,sheet_add_aoa:XW,sheet_add_json:EK,sheet_add_dom:gK,aoa_to_sheet:Kg,json_to_sheet:TCe,table_to_sheet:vK,table_to_book:V6e,sheet_to_csv:BE,sheet_to_txt:TK,sheet_to_json:uw,sheet_to_html:pK,sheet_to_formulae:CCe,sheet_to_row_object_array:uw,sheet_get_cell:ub,book_new:UE,book_append_sheet:zE,book_set_sheet_visibility:PCe,cell_set_number_format:OCe,cell_set_hyperlink:PK,cell_set_internal_link:DCe,cell_add_comment:RCe,sheet_set_array_formula:MCe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},G5;function FCe(e){G5=e}function LCe(e,t){var s=G5(),a=t??{};if(e==null||e["!ref"]==null)return s.push(null),s;var n=fs(e["!ref"]),i=a.FS!==void 0?a.FS:",",l=i.charCodeAt(0),o=a.RS!==void 0?a.RS:`
`,c=o.charCodeAt(0),d=new RegExp((i=="|"?"\\|":i)+"+$"),h="",m=[];a.dense=Array.isArray(e);for(var p=a.skipHidden&&e["!cols"]||[],x=a.skipHidden&&e["!rows"]||[],v=n.s.c;v<=n.e.c;++v)(p[v]||{}).hidden||(m[v]=Fa(v));var y=n.s.r,b=!1,j=0;return s._read=function(){if(!b)return b=!0,s.push("\uFEFF");for(;y<=n.e.r;)if(++y,!(x[y-1]||{}).hidden&&(h=CK(e,n,y-1,m,l,c,i,a),h!=null&&(a.strip&&(h=h.replace(d,"")),h||a.blankrows!==!1)))return s.push((j++?o:"")+h);return s.push(null)},s}function ICe(e,t){var s=G5(),a=t||{},n=a.header!=null?a.header:fK,i=a.footer!=null?a.footer:mK;s.push(n);var l=Yl(e["!ref"]);a.dense=Array.isArray(e),s.push(xK(e,l,a));var o=l.s.r,c=!1;return s._read=function(){if(o>l.e.r)return c||(c=!0,s.push("</table>"+i)),s.push(null);for(;o<=l.e.r;){s.push(hK(e,l,o,a)),++o;break}},s}function BCe(e,t){var s=G5({objectMode:!0});if(e==null||e["!ref"]==null)return s.push(null),s;var a={t:"n",v:0},n=0,i=1,l=[],o=0,c="",d={s:{r:0,c:0},e:{r:0,c:0}},h=t||{},m=h.range!=null?h.range:e["!ref"];switch(h.header===1?n=1:h.header==="A"?n=2:Array.isArray(h.header)&&(n=3),typeof m){case"string":d=fs(m);break;case"number":d=fs(e["!ref"]),d.s.r=m;break;default:d=m}n>0&&(i=0);var p=yn(d.s.r),x=[],v=0,y=Array.isArray(e),b=d.s.r,j=0,S={};y&&!e[b]&&(e[b]=[]);var w=h.skipHidden&&e["!cols"]||[],k=h.skipHidden&&e["!rows"]||[];for(j=d.s.c;j<=d.e.c;++j)if(!(w[j]||{}).hidden)switch(x[j]=Fa(j),a=y?e[b][j]:e[x[j]+p],n){case 1:l[j]=j-d.s.c;break;case 2:l[j]=x[j];break;case 3:l[j]=h.header[j-d.s.c];break;default:if(a==null&&(a={w:"__EMPTY",t:"s"}),c=o=zu(a,null,h),v=S[o]||0,!v)S[o]=1;else{do c=o+"_"+v++;while(S[c]);S[o]=v,S[c]=1}l[j]=c}return b=d.s.r+i,s._read=function(){for(;b<=d.e.r;)if(!(k[b-1]||{}).hidden){var _=AK(e,d,b,x,n,l,y,h);if(++b,_.isempty===!1||(n===1?h.blankrows!==!1:h.blankrows)){s.push(_.row);return}}return s.push(null)},s}var UCe={to_json:BCe,to_html:ICe,to_csv:LCe,set_readable:FCe};const zCe=Jy.version,$E=Object.freeze(Object.defineProperty({__proto__:null,CFB:xr,SSF:EW,parse_xlscfb:OE,parse_zip:NK,read:dw,readFile:gI,readFileSync:gI,set_cptable:V2e,set_fs:bje,stream:UCe,utils:zj,version:zCe,write:W5,writeFile:e6,writeFileAsync:ACe,writeFileSync:e6,writeFileXLSX:kCe,writeXLSX:LE},Symbol.toStringTag,{value:"Module"})),$Ce="modulepreload",HCe=function(e){return"/"+e},yI={},Gc=function(t,s,a){let n=Promise.resolve();if(s&&s.length>0){let c=function(d){return Promise.all(d.map(h=>Promise.resolve(h).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),o=l?.nonce||l?.getAttribute("nonce");n=c(s.map(d=>{if(d=HCe(d),d in yI)return;yI[d]=!0;const h=d.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const p=document.createElement("link");if(p.rel=h?"stylesheet":$Ce,h||(p.as="script"),p.crossOrigin="",p.href=d,o&&p.setAttribute("nonce",o),document.head.appendChild(p),h)return new Promise((x,v)=>{p.addEventListener("load",x),p.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return n.then(l=>{for(const o of l||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})};function ea(e){"@babel/helpers - typeof";return ea=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ea(e)}var Kd=Uint8Array,rc=Uint16Array,HE=Int32Array,qE=new Kd([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),VE=new Kd([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),bI=new Kd([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),OK=function(e,t){for(var s=new rc(31),a=0;a<31;++a)s[a]=t+=1<<e[a-1];for(var n=new HE(s[30]),a=1;a<30;++a)for(var i=s[a];i<s[a+1];++i)n[i]=i-s[a]<<5|a;return{b:s,r:n}},DK=OK(qE,2),qCe=DK.b,t6=DK.r;qCe[28]=258,t6[258]=28;var VCe=OK(VE,0),jI=VCe.r,r6=new rc(32768);for(var Ma=0;Ma<32768;++Ma){var Zf=(Ma&43690)>>1|(Ma&21845)<<1;Zf=(Zf&52428)>>2|(Zf&13107)<<2,Zf=(Zf&61680)>>4|(Zf&3855)<<4,r6[Ma]=((Zf&65280)>>8|(Zf&255)<<8)>>1}var _y=(function(e,t,s){for(var a=e.length,n=0,i=new rc(t);n<a;++n)e[n]&&++i[e[n]-1];var l=new rc(t);for(n=1;n<t;++n)l[n]=l[n-1]+i[n-1]<<1;var o;if(s){o=new rc(1<<t);var c=15-t;for(n=0;n<a;++n)if(e[n])for(var d=n<<4|e[n],h=t-e[n],m=l[e[n]-1]++<<h,p=m|(1<<h)-1;m<=p;++m)o[r6[m]>>c]=d}else for(o=new rc(a),n=0;n<a;++n)e[n]&&(o[n]=r6[l[e[n]-1]++]>>15-e[n]);return o}),cx=new Kd(288);for(var Ma=0;Ma<144;++Ma)cx[Ma]=8;for(var Ma=144;Ma<256;++Ma)cx[Ma]=9;for(var Ma=256;Ma<280;++Ma)cx[Ma]=7;for(var Ma=280;Ma<288;++Ma)cx[Ma]=8;var hw=new Kd(32);for(var Ma=0;Ma<32;++Ma)hw[Ma]=5;var WCe=_y(cx,9,0),GCe=_y(hw,5,0),RK=function(e){return(e+7)/8|0},KCe=function(e,t,s){return(s==null||s>e.length)&&(s=e.length),new Kd(e.subarray(t,s))},wh=function(e,t,s){s<<=t&7;var a=t/8|0;e[a]|=s,e[a+1]|=s>>8},Xv=function(e,t,s){s<<=t&7;var a=t/8|0;e[a]|=s,e[a+1]|=s>>8,e[a+2]|=s>>16},P_=function(e,t){for(var s=[],a=0;a<e.length;++a)e[a]&&s.push({s:a,f:e[a]});var n=s.length,i=s.slice();if(!n)return{t:FK,l:0};if(n==1){var l=new Kd(s[0].s+1);return l[s[0].s]=1,{t:l,l:1}}s.sort(function(_,O){return _.f-O.f}),s.push({s:-1,f:25001});var o=s[0],c=s[1],d=0,h=1,m=2;for(s[0]={s:-1,f:o.f+c.f,l:o,r:c};h!=n-1;)o=s[s[d].f<s[m].f?d++:m++],c=s[d!=h&&s[d].f<s[m].f?d++:m++],s[h++]={s:-1,f:o.f+c.f,l:o,r:c};for(var p=i[0].s,a=1;a<n;++a)i[a].s>p&&(p=i[a].s);var x=new rc(p+1),v=s6(s[h-1],x,0);if(v>t){var a=0,y=0,b=v-t,j=1<<b;for(i.sort(function(O,E){return x[E.s]-x[O.s]||O.f-E.f});a<n;++a){var S=i[a].s;if(x[S]>t)y+=j-(1<<v-x[S]),x[S]=t;else break}for(y>>=b;y>0;){var w=i[a].s;x[w]<t?y-=1<<t-x[w]++-1:++a}for(;a>=0&&y;--a){var k=i[a].s;x[k]==t&&(--x[k],++y)}v=t}return{t:new Kd(x),l:v}},s6=function(e,t,s){return e.s==-1?Math.max(s6(e.l,t,s+1),s6(e.r,t,s+1)):t[e.s]=s},NI=function(e){for(var t=e.length;t&&!e[--t];);for(var s=new rc(++t),a=0,n=e[0],i=1,l=function(c){s[a++]=c},o=1;o<=t;++o)if(e[o]==n&&o!=t)++i;else{if(!n&&i>2){for(;i>138;i-=138)l(32754);i>2&&(l(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(l(n),--i;i>6;i-=6)l(8304);i>2&&(l(i-3<<5|8208),i=0)}for(;i--;)l(n);i=1,n=e[o]}return{c:s.subarray(0,a),n:t}},Zv=function(e,t){for(var s=0,a=0;a<t.length;++a)s+=e[a]*t[a];return s},MK=function(e,t,s){var a=s.length,n=RK(t+2);e[n]=a&255,e[n+1]=a>>8,e[n+2]=e[n]^255,e[n+3]=e[n+1]^255;for(var i=0;i<a;++i)e[n+i+4]=s[i];return(n+4+a)*8},wI=function(e,t,s,a,n,i,l,o,c,d,h){wh(t,h++,s),++n[256];for(var m=P_(n,15),p=m.t,x=m.l,v=P_(i,15),y=v.t,b=v.l,j=NI(p),S=j.c,w=j.n,k=NI(y),_=k.c,O=k.n,E=new rc(19),F=0;F<S.length;++F)++E[S[F]&31];for(var F=0;F<_.length;++F)++E[_[F]&31];for(var I=P_(E,7),U=I.t,M=I.l,L=19;L>4&&!U[bI[L-1]];--L);var J=d+5<<3,K=Zv(n,cx)+Zv(i,hw)+l,ae=Zv(n,p)+Zv(i,y)+l+14+3*L+Zv(E,U)+2*E[16]+3*E[17]+7*E[18];if(c>=0&&J<=K&&J<=ae)return MK(t,h,e.subarray(c,c+d));var V,re,X,Z;if(wh(t,h,1+(ae<K)),h+=2,ae<K){V=_y(p,x,0),re=p,X=_y(y,b,0),Z=y;var ye=_y(U,M,0);wh(t,h,w-257),wh(t,h+5,O-1),wh(t,h+10,L-4),h+=14;for(var F=0;F<L;++F)wh(t,h+3*F,U[bI[F]]);h+=3*L;for(var te=[S,_],D=0;D<2;++D)for(var H=te[D],F=0;F<H.length;++F){var q=H[F]&31;wh(t,h,ye[q]),h+=U[q],q>15&&(wh(t,h,H[F]>>5&127),h+=H[F]>>12)}}else V=WCe,re=cx,X=GCe,Z=hw;for(var F=0;F<o;++F){var W=a[F];if(W>255){var q=W>>18&31;Xv(t,h,V[q+257]),h+=re[q+257],q>7&&(wh(t,h,W>>23&31),h+=qE[q]);var G=W&31;Xv(t,h,X[G]),h+=Z[G],G>3&&(Xv(t,h,W>>5&8191),h+=VE[G])}else Xv(t,h,V[W]),h+=re[W]}return Xv(t,h,V[256]),h+re[256]},YCe=new HE([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),FK=new Kd(0),XCe=function(e,t,s,a,n,i){var l=i.z||e.length,o=new Kd(a+l+5*(1+Math.ceil(l/7e3))+n),c=o.subarray(a,o.length-n),d=i.l,h=(i.r||0)&7;if(t){h&&(c[0]=i.r>>3);for(var m=YCe[t-1],p=m>>13,x=m&8191,v=(1<<s)-1,y=i.p||new rc(32768),b=i.h||new rc(v+1),j=Math.ceil(s/3),S=2*j,w=function(nt){return(e[nt]^e[nt+1]<<j^e[nt+2]<<S)&v},k=new HE(25e3),_=new rc(288),O=new rc(32),E=0,F=0,I=i.i||0,U=0,M=i.w||0,L=0;I+2<l;++I){var J=w(I),K=I&32767,ae=b[J];if(y[K]=ae,b[J]=K,M<=I){var V=l-I;if((E>7e3||U>24576)&&(V>423||!d)){h=wI(e,c,0,k,_,O,F,U,L,I-L,h),U=E=F=0,L=I;for(var re=0;re<286;++re)_[re]=0;for(var re=0;re<30;++re)O[re]=0}var X=2,Z=0,ye=x,te=K-ae&32767;if(V>2&&J==w(I-te))for(var D=Math.min(p,V)-1,H=Math.min(32767,I),q=Math.min(258,V);te<=H&&--ye&&K!=ae;){if(e[I+X]==e[I+X-te]){for(var W=0;W<q&&e[I+W]==e[I+W-te];++W);if(W>X){if(X=W,Z=te,W>D)break;for(var G=Math.min(te,W-2),fe=0,re=0;re<G;++re){var Se=I-te+re&32767,se=y[Se],ge=Se-se&32767;ge>fe&&(fe=ge,ae=Se)}}}K=ae,ae=y[K],te+=K-ae&32767}if(Z){k[U++]=268435456|t6[X]<<18|jI[Z];var Be=t6[X]&31,ee=jI[Z]&31;F+=qE[Be]+VE[ee],++_[257+Be],++O[ee],M=I+X,++E}else k[U++]=e[I],++_[e[I]]}}for(I=Math.max(I,M);I<l;++I)k[U++]=e[I],++_[e[I]];h=wI(e,c,d,k,_,O,F,U,L,I-L,h),d||(i.r=h&7|c[h/8|0]<<3,h-=7,i.h=b,i.p=y,i.i=I,i.w=M)}else{for(var I=i.w||0;I<l+d;I+=65535){var at=I+65535;at>=l&&(c[h/8|0]=d,at=l),h=MK(c,h+1,e.subarray(I,at))}i.i=l}return KCe(o,0,a+RK(h)+n)},LK=function(){var e=1,t=0;return{p:function(s){for(var a=e,n=t,i=s.length|0,l=0;l!=i;){for(var o=Math.min(l+2655,i);l<o;++l)n+=a+=s[l];a=(a&65535)+15*(a>>16),n=(n&65535)+15*(n>>16)}e=a,t=n},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},ZCe=function(e,t,s,a,n){if(!n&&(n={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),l=new Kd(i.length+e.length);l.set(i),l.set(e,i.length),e=l,n.w=i.length}return XCe(e,t.level==null?6:t.level,t.mem==null?n.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,s,a,n)},IK=function(e,t,s){for(;s;++t)e[t]=s,s>>>=8},JCe=function(e,t){var s=t.level,a=s==0?0:s<6?1:s==9?3:2;if(e[0]=120,e[1]=a<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var n=LK();n.p(t.dictionary),IK(e,2,n.d())}};function a6(e,t){t||(t={});var s=LK();s.p(e);var a=ZCe(e,t,t.dictionary?6:2,4);return JCe(a,t),IK(a,a.length-4,s.d()),a}var QCe=typeof TextDecoder<"u"&&new TextDecoder,eTe=0;try{QCe.decode(FK,{stream:!0}),eTe=1}catch{}function tTe(e){if(Array.isArray(e))return e}function rTe(e,t){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var a,n,i,l,o=[],c=!0,d=!1;try{if(i=(s=s.call(e)).next,t!==0)for(;!(c=(a=i.call(s)).done)&&(o.push(a.value),o.length!==t);c=!0);}catch(h){d=!0,n=h}finally{try{if(!c&&s.return!=null&&(l=s.return(),Object(l)!==l))return}finally{if(d)throw n}}return o}}function SI(e,t){(t==null||t>e.length)&&(t=e.length);for(var s=0,a=Array(t);s<t;s++)a[s]=e[s];return a}function sTe(e,t){if(e){if(typeof e=="string")return SI(e,t);var s={}.toString.call(e).slice(8,-1);return s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set"?Array.from(e):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?SI(e,t):void 0}}function aTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _I(e,t){return tTe(e)||rTe(e,t)||sTe(e,t)||aTe()}function kI(e,t="utf8"){return new TextDecoder(t).decode(e)}const nTe=new TextEncoder;function iTe(e){return nTe.encode(e)}const lTe=1024*8,oTe=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),O_={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class WE{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=lTe,s={}){let a=!1;typeof t=="number"?t=new ArrayBuffer(t):(a=!0,this.lastWrittenByte=t.byteLength);const n=s.offset?s.offset>>>0:0,i=t.byteLength-n;let l=n;(ArrayBuffer.isView(t)||t instanceof WE)&&(t.byteLength!==t.buffer.byteLength&&(l=t.byteOffset+n),t=t.buffer),a?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=l,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,l,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const a=(this.offset+t)*2,n=new Uint8Array(a);n.set(new Uint8Array(this.buffer)),this.buffer=n.buffer,this.length=a,this.byteLength=a,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,s){const a=O_[s].BYTES_PER_ELEMENT*t,n=this.byteOffset+this.offset,i=this.buffer.slice(n,n+a);if(this.littleEndian===oTe&&s!=="uint8"&&s!=="int8"){const o=new Uint8Array(this.buffer.slice(n,n+a));o.reverse();const c=new O_[s](o.buffer);return this.offset+=a,c.reverse(),c}const l=new O_[s](i);return this.offset+=a,l}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let s="";for(let a=0;a<t;a++)s+=this.readChar();return s}readUtf8(t=1){return kI(this.readBytes(t))}decodeText(t=1,s="utf8"){return kI(this.readBytes(t),s)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let s=0;s<t.length;s++)this._data.setUint8(this.offset++,t[s]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let s=0;s<t.length;s++)this.writeUint8(t.charCodeAt(s));return this}writeUtf8(t){return this.writeBytes(iTe(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Xg(e){let t=e.length;for(;--t>=0;)e[t]=0}const cTe=3,dTe=258,BK=29,uTe=256,hTe=uTe+1+BK,UK=30,fTe=512,mTe=new Array((hTe+2)*2);Xg(mTe);const xTe=new Array(UK*2);Xg(xTe);const pTe=new Array(fTe);Xg(pTe);const gTe=new Array(dTe-cTe+1);Xg(gTe);const vTe=new Array(BK);Xg(vTe);const yTe=new Array(UK);Xg(yTe);const bTe=(e,t,s,a)=>{let n=e&65535|0,i=e>>>16&65535|0,l=0;for(;s!==0;){l=s>2e3?2e3:s,s-=l;do n=n+t[a++]|0,i=i+n|0;while(--l);n%=65521,i%=65521}return n|i<<16|0};var n6=bTe;const jTe=()=>{let e,t=[];for(var s=0;s<256;s++){e=s;for(var a=0;a<8;a++)e=e&1?3988292384^e>>>1:e>>>1;t[s]=e}return t},NTe=new Uint32Array(jTe()),wTe=(e,t,s,a)=>{const n=NTe,i=a+s;e^=-1;for(let l=a;l<i;l++)e=e>>>8^n[(e^t[l])&255];return e^-1};var Nu=wTe,i6={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},zK={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const STe=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var _Te=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const s=t.shift();if(s){if(typeof s!="object")throw new TypeError(s+"must be non-object");for(const a in s)STe(s,a)&&(e[a]=s[a])}}return e},kTe=e=>{let t=0;for(let a=0,n=e.length;a<n;a++)t+=e[a].length;const s=new Uint8Array(t);for(let a=0,n=0,i=e.length;a<i;a++){let l=e[a];s.set(l,n),n+=l.length}return s},$K={assign:_Te,flattenChunks:kTe};let HK=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{HK=!1}const hb=new Uint8Array(256);for(let e=0;e<256;e++)hb[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;hb[254]=hb[254]=1;var ATe=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,s,a,n,i,l=e.length,o=0;for(n=0;n<l;n++)s=e.charCodeAt(n),(s&64512)===55296&&n+1<l&&(a=e.charCodeAt(n+1),(a&64512)===56320&&(s=65536+(s-55296<<10)+(a-56320),n++)),o+=s<128?1:s<2048?2:s<65536?3:4;for(t=new Uint8Array(o),i=0,n=0;i<o;n++)s=e.charCodeAt(n),(s&64512)===55296&&n+1<l&&(a=e.charCodeAt(n+1),(a&64512)===56320&&(s=65536+(s-55296<<10)+(a-56320),n++)),s<128?t[i++]=s:s<2048?(t[i++]=192|s>>>6,t[i++]=128|s&63):s<65536?(t[i++]=224|s>>>12,t[i++]=128|s>>>6&63,t[i++]=128|s&63):(t[i++]=240|s>>>18,t[i++]=128|s>>>12&63,t[i++]=128|s>>>6&63,t[i++]=128|s&63);return t};const CTe=(e,t)=>{if(t<65534&&e.subarray&&HK)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let s="";for(let a=0;a<t;a++)s+=String.fromCharCode(e[a]);return s};var TTe=(e,t)=>{const s=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let a,n;const i=new Array(s*2);for(n=0,a=0;a<s;){let l=e[a++];if(l<128){i[n++]=l;continue}let o=hb[l];if(o>4){i[n++]=65533,a+=o-1;continue}for(l&=o===2?31:o===3?15:7;o>1&&a<s;)l=l<<6|e[a++]&63,o--;if(o>1){i[n++]=65533;continue}l<65536?i[n++]=l:(l-=65536,i[n++]=55296|l>>10&1023,i[n++]=56320|l&1023)}return CTe(i,n)},ETe=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let s=t-1;for(;s>=0&&(e[s]&192)===128;)s--;return s<0||s===0?t:s+hb[e[s]]>t?s:t},l6={string2buf:ATe,buf2string:TTe,utf8border:ETe};function PTe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var OTe=PTe;const C2=16209,DTe=16191;var RTe=function(t,s){let a,n,i,l,o,c,d,h,m,p,x,v,y,b,j,S,w,k,_,O,E,F,I,U;const M=t.state;a=t.next_in,I=t.input,n=a+(t.avail_in-5),i=t.next_out,U=t.output,l=i-(s-t.avail_out),o=i+(t.avail_out-257),c=M.dmax,d=M.wsize,h=M.whave,m=M.wnext,p=M.window,x=M.hold,v=M.bits,y=M.lencode,b=M.distcode,j=(1<<M.lenbits)-1,S=(1<<M.distbits)-1;e:do{v<15&&(x+=I[a++]<<v,v+=8,x+=I[a++]<<v,v+=8),w=y[x&j];t:for(;;){if(k=w>>>24,x>>>=k,v-=k,k=w>>>16&255,k===0)U[i++]=w&65535;else if(k&16){_=w&65535,k&=15,k&&(v<k&&(x+=I[a++]<<v,v+=8),_+=x&(1<<k)-1,x>>>=k,v-=k),v<15&&(x+=I[a++]<<v,v+=8,x+=I[a++]<<v,v+=8),w=b[x&S];r:for(;;){if(k=w>>>24,x>>>=k,v-=k,k=w>>>16&255,k&16){if(O=w&65535,k&=15,v<k&&(x+=I[a++]<<v,v+=8,v<k&&(x+=I[a++]<<v,v+=8)),O+=x&(1<<k)-1,O>c){t.msg="invalid distance too far back",M.mode=C2;break e}if(x>>>=k,v-=k,k=i-l,O>k){if(k=O-k,k>h&&M.sane){t.msg="invalid distance too far back",M.mode=C2;break e}if(E=0,F=p,m===0){if(E+=d-k,k<_){_-=k;do U[i++]=p[E++];while(--k);E=i-O,F=U}}else if(m<k){if(E+=d+m-k,k-=m,k<_){_-=k;do U[i++]=p[E++];while(--k);if(E=0,m<_){k=m,_-=k;do U[i++]=p[E++];while(--k);E=i-O,F=U}}}else if(E+=m-k,k<_){_-=k;do U[i++]=p[E++];while(--k);E=i-O,F=U}for(;_>2;)U[i++]=F[E++],U[i++]=F[E++],U[i++]=F[E++],_-=3;_&&(U[i++]=F[E++],_>1&&(U[i++]=F[E++]))}else{E=i-O;do U[i++]=U[E++],U[i++]=U[E++],U[i++]=U[E++],_-=3;while(_>2);_&&(U[i++]=U[E++],_>1&&(U[i++]=U[E++]))}}else if((k&64)===0){w=b[(w&65535)+(x&(1<<k)-1)];continue r}else{t.msg="invalid distance code",M.mode=C2;break e}break}}else if((k&64)===0){w=y[(w&65535)+(x&(1<<k)-1)];continue t}else if(k&32){M.mode=DTe;break e}else{t.msg="invalid literal/length code",M.mode=C2;break e}break}}while(a<n&&i<o);_=v>>3,a-=_,v-=_<<3,x&=(1<<v)-1,t.next_in=a,t.next_out=i,t.avail_in=a<n?5+(n-a):5-(a-n),t.avail_out=i<o?257+(o-i):257-(i-o),M.hold=x,M.bits=v};const _p=15,AI=852,CI=592,TI=0,D_=1,EI=2,MTe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),FTe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),LTe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ITe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),BTe=(e,t,s,a,n,i,l,o)=>{const c=o.bits;let d=0,h=0,m=0,p=0,x=0,v=0,y=0,b=0,j=0,S=0,w,k,_,O,E,F=null,I;const U=new Uint16Array(_p+1),M=new Uint16Array(_p+1);let L=null,J,K,ae;for(d=0;d<=_p;d++)U[d]=0;for(h=0;h<a;h++)U[t[s+h]]++;for(x=c,p=_p;p>=1&&U[p]===0;p--);if(x>p&&(x=p),p===0)return n[i++]=1<<24|64<<16|0,n[i++]=1<<24|64<<16|0,o.bits=1,0;for(m=1;m<p&&U[m]===0;m++);for(x<m&&(x=m),b=1,d=1;d<=_p;d++)if(b<<=1,b-=U[d],b<0)return-1;if(b>0&&(e===TI||p!==1))return-1;for(M[1]=0,d=1;d<_p;d++)M[d+1]=M[d]+U[d];for(h=0;h<a;h++)t[s+h]!==0&&(l[M[t[s+h]]++]=h);if(e===TI?(F=L=l,I=20):e===D_?(F=MTe,L=FTe,I=257):(F=LTe,L=ITe,I=0),S=0,h=0,d=m,E=i,v=x,y=0,_=-1,j=1<<x,O=j-1,e===D_&&j>AI||e===EI&&j>CI)return 1;for(;;){J=d-y,l[h]+1<I?(K=0,ae=l[h]):l[h]>=I?(K=L[l[h]-I],ae=F[l[h]-I]):(K=96,ae=0),w=1<<d-y,k=1<<v,m=k;do k-=w,n[E+(S>>y)+k]=J<<24|K<<16|ae|0;while(k!==0);for(w=1<<d-1;S&w;)w>>=1;if(w!==0?(S&=w-1,S+=w):S=0,h++,--U[d]===0){if(d===p)break;d=t[s+l[h]]}if(d>x&&(S&O)!==_){for(y===0&&(y=x),E+=m,v=d-y,b=1<<v;v+y<p&&(b-=U[v+y],!(b<=0));)v++,b<<=1;if(j+=1<<v,e===D_&&j>AI||e===EI&&j>CI)return 1;_=S&O,n[_]=x<<24|v<<16|E-i|0}}return S!==0&&(n[E+S]=d-y<<24|64<<16|0),o.bits=x,0};var ky=BTe;const UTe=0,qK=1,VK=2,{Z_FINISH:PI,Z_BLOCK:zTe,Z_TREES:T2,Z_OK:dx,Z_STREAM_END:$Te,Z_NEED_DICT:HTe,Z_STREAM_ERROR:rd,Z_DATA_ERROR:WK,Z_MEM_ERROR:GK,Z_BUF_ERROR:qTe,Z_DEFLATED:OI}=zK,K5=16180,DI=16181,RI=16182,MI=16183,FI=16184,LI=16185,II=16186,BI=16187,UI=16188,zI=16189,fw=16190,Sh=16191,R_=16192,$I=16193,M_=16194,HI=16195,qI=16196,VI=16197,WI=16198,E2=16199,P2=16200,GI=16201,KI=16202,YI=16203,XI=16204,ZI=16205,F_=16206,JI=16207,QI=16208,qa=16209,KK=16210,YK=16211,VTe=852,WTe=592,GTe=15,KTe=GTe,e9=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function YTe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const _x=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<K5||t.mode>YK?1:0},XK=e=>{if(_x(e))return rd;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=K5,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(VTe),t.distcode=t.distdyn=new Int32Array(WTe),t.sane=1,t.back=-1,dx},ZK=e=>{if(_x(e))return rd;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,XK(e)},JK=(e,t)=>{let s;if(_x(e))return rd;const a=e.state;return t<0?(s=0,t=-t):(s=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?rd:(a.window!==null&&a.wbits!==t&&(a.window=null),a.wrap=s,a.wbits=t,ZK(e))},QK=(e,t)=>{if(!e)return rd;const s=new YTe;e.state=s,s.strm=e,s.window=null,s.mode=K5;const a=JK(e,t);return a!==dx&&(e.state=null),a},XTe=e=>QK(e,KTe);let t9=!0,L_,I_;const ZTe=e=>{if(t9){L_=new Int32Array(512),I_=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(ky(qK,e.lens,0,288,L_,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;ky(VK,e.lens,0,32,I_,0,e.work,{bits:5}),t9=!1}e.lencode=L_,e.lenbits=9,e.distcode=I_,e.distbits=5},eY=(e,t,s,a)=>{let n;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),a>=i.wsize?(i.window.set(t.subarray(s-i.wsize,s),0),i.wnext=0,i.whave=i.wsize):(n=i.wsize-i.wnext,n>a&&(n=a),i.window.set(t.subarray(s-a,s-a+n),i.wnext),a-=n,a?(i.window.set(t.subarray(s-a,s),0),i.wnext=a,i.whave=i.wsize):(i.wnext+=n,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=n))),0},JTe=(e,t)=>{let s,a,n,i,l,o,c,d,h,m,p,x,v,y,b=0,j,S,w,k,_,O,E,F;const I=new Uint8Array(4);let U,M;const L=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(_x(e)||!e.output||!e.input&&e.avail_in!==0)return rd;s=e.state,s.mode===Sh&&(s.mode=R_),l=e.next_out,n=e.output,c=e.avail_out,i=e.next_in,a=e.input,o=e.avail_in,d=s.hold,h=s.bits,m=o,p=c,F=dx;e:for(;;)switch(s.mode){case K5:if(s.wrap===0){s.mode=R_;break}for(;h<16;){if(o===0)break e;o--,d+=a[i++]<<h,h+=8}if(s.wrap&2&&d===35615){s.wbits===0&&(s.wbits=15),s.check=0,I[0]=d&255,I[1]=d>>>8&255,s.check=Nu(s.check,I,2,0),d=0,h=0,s.mode=DI;break}if(s.head&&(s.head.done=!1),!(s.wrap&1)||(((d&255)<<8)+(d>>8))%31){e.msg="incorrect header check",s.mode=qa;break}if((d&15)!==OI){e.msg="unknown compression method",s.mode=qa;break}if(d>>>=4,h-=4,E=(d&15)+8,s.wbits===0&&(s.wbits=E),E>15||E>s.wbits){e.msg="invalid window size",s.mode=qa;break}s.dmax=1<<s.wbits,s.flags=0,e.adler=s.check=1,s.mode=d&512?zI:Sh,d=0,h=0;break;case DI:for(;h<16;){if(o===0)break e;o--,d+=a[i++]<<h,h+=8}if(s.flags=d,(s.flags&255)!==OI){e.msg="unknown compression method",s.mode=qa;break}if(s.flags&57344){e.msg="unknown header flags set",s.mode=qa;break}s.head&&(s.head.text=d>>8&1),s.flags&512&&s.wrap&4&&(I[0]=d&255,I[1]=d>>>8&255,s.check=Nu(s.check,I,2,0)),d=0,h=0,s.mode=RI;case RI:for(;h<32;){if(o===0)break e;o--,d+=a[i++]<<h,h+=8}s.head&&(s.head.time=d),s.flags&512&&s.wrap&4&&(I[0]=d&255,I[1]=d>>>8&255,I[2]=d>>>16&255,I[3]=d>>>24&255,s.check=Nu(s.check,I,4,0)),d=0,h=0,s.mode=MI;case MI:for(;h<16;){if(o===0)break e;o--,d+=a[i++]<<h,h+=8}s.head&&(s.head.xflags=d&255,s.head.os=d>>8),s.flags&512&&s.wrap&4&&(I[0]=d&255,I[1]=d>>>8&255,s.check=Nu(s.check,I,2,0)),d=0,h=0,s.mode=FI;case FI:if(s.flags&1024){for(;h<16;){if(o===0)break e;o--,d+=a[i++]<<h,h+=8}s.length=d,s.head&&(s.head.extra_len=d),s.flags&512&&s.wrap&4&&(I[0]=d&255,I[1]=d>>>8&255,s.check=Nu(s.check,I,2,0)),d=0,h=0}else s.head&&(s.head.extra=null);s.mode=LI;case LI:if(s.flags&1024&&(x=s.length,x>o&&(x=o),x&&(s.head&&(E=s.head.extra_len-s.length,s.head.extra||(s.head.extra=new Uint8Array(s.head.extra_len)),s.head.extra.set(a.subarray(i,i+x),E)),s.flags&512&&s.wrap&4&&(s.check=Nu(s.check,a,x,i)),o-=x,i+=x,s.length-=x),s.length))break e;s.length=0,s.mode=II;case II:if(s.flags&2048){if(o===0)break e;x=0;do E=a[i+x++],s.head&&E&&s.length<65536&&(s.head.name+=String.fromCharCode(E));while(E&&x<o);if(s.flags&512&&s.wrap&4&&(s.check=Nu(s.check,a,x,i)),o-=x,i+=x,E)break e}else s.head&&(s.head.name=null);s.length=0,s.mode=BI;case BI:if(s.flags&4096){if(o===0)break e;x=0;do E=a[i+x++],s.head&&E&&s.length<65536&&(s.head.comment+=String.fromCharCode(E));while(E&&x<o);if(s.flags&512&&s.wrap&4&&(s.check=Nu(s.check,a,x,i)),o-=x,i+=x,E)break e}else s.head&&(s.head.comment=null);s.mode=UI;case UI:if(s.flags&512){for(;h<16;){if(o===0)break e;o--,d+=a[i++]<<h,h+=8}if(s.wrap&4&&d!==(s.check&65535)){e.msg="header crc mismatch",s.mode=qa;break}d=0,h=0}s.head&&(s.head.hcrc=s.flags>>9&1,s.head.done=!0),e.adler=s.check=0,s.mode=Sh;break;case zI:for(;h<32;){if(o===0)break e;o--,d+=a[i++]<<h,h+=8}e.adler=s.check=e9(d),d=0,h=0,s.mode=fw;case fw:if(s.havedict===0)return e.next_out=l,e.avail_out=c,e.next_in=i,e.avail_in=o,s.hold=d,s.bits=h,HTe;e.adler=s.check=1,s.mode=Sh;case Sh:if(t===zTe||t===T2)break e;case R_:if(s.last){d>>>=h&7,h-=h&7,s.mode=F_;break}for(;h<3;){if(o===0)break e;o--,d+=a[i++]<<h,h+=8}switch(s.last=d&1,d>>>=1,h-=1,d&3){case 0:s.mode=$I;break;case 1:if(ZTe(s),s.mode=E2,t===T2){d>>>=2,h-=2;break e}break;case 2:s.mode=qI;break;case 3:e.msg="invalid block type",s.mode=qa}d>>>=2,h-=2;break;case $I:for(d>>>=h&7,h-=h&7;h<32;){if(o===0)break e;o--,d+=a[i++]<<h,h+=8}if((d&65535)!==(d>>>16^65535)){e.msg="invalid stored block lengths",s.mode=qa;break}if(s.length=d&65535,d=0,h=0,s.mode=M_,t===T2)break e;case M_:s.mode=HI;case HI:if(x=s.length,x){if(x>o&&(x=o),x>c&&(x=c),x===0)break e;n.set(a.subarray(i,i+x),l),o-=x,i+=x,c-=x,l+=x,s.length-=x;break}s.mode=Sh;break;case qI:for(;h<14;){if(o===0)break e;o--,d+=a[i++]<<h,h+=8}if(s.nlen=(d&31)+257,d>>>=5,h-=5,s.ndist=(d&31)+1,d>>>=5,h-=5,s.ncode=(d&15)+4,d>>>=4,h-=4,s.nlen>286||s.ndist>30){e.msg="too many length or distance symbols",s.mode=qa;break}s.have=0,s.mode=VI;case VI:for(;s.have<s.ncode;){for(;h<3;){if(o===0)break e;o--,d+=a[i++]<<h,h+=8}s.lens[L[s.have++]]=d&7,d>>>=3,h-=3}for(;s.have<19;)s.lens[L[s.have++]]=0;if(s.lencode=s.lendyn,s.lenbits=7,U={bits:s.lenbits},F=ky(UTe,s.lens,0,19,s.lencode,0,s.work,U),s.lenbits=U.bits,F){e.msg="invalid code lengths set",s.mode=qa;break}s.have=0,s.mode=WI;case WI:for(;s.have<s.nlen+s.ndist;){for(;b=s.lencode[d&(1<<s.lenbits)-1],j=b>>>24,S=b>>>16&255,w=b&65535,!(j<=h);){if(o===0)break e;o--,d+=a[i++]<<h,h+=8}if(w<16)d>>>=j,h-=j,s.lens[s.have++]=w;else{if(w===16){for(M=j+2;h<M;){if(o===0)break e;o--,d+=a[i++]<<h,h+=8}if(d>>>=j,h-=j,s.have===0){e.msg="invalid bit length repeat",s.mode=qa;break}E=s.lens[s.have-1],x=3+(d&3),d>>>=2,h-=2}else if(w===17){for(M=j+3;h<M;){if(o===0)break e;o--,d+=a[i++]<<h,h+=8}d>>>=j,h-=j,E=0,x=3+(d&7),d>>>=3,h-=3}else{for(M=j+7;h<M;){if(o===0)break e;o--,d+=a[i++]<<h,h+=8}d>>>=j,h-=j,E=0,x=11+(d&127),d>>>=7,h-=7}if(s.have+x>s.nlen+s.ndist){e.msg="invalid bit length repeat",s.mode=qa;break}for(;x--;)s.lens[s.have++]=E}}if(s.mode===qa)break;if(s.lens[256]===0){e.msg="invalid code -- missing end-of-block",s.mode=qa;break}if(s.lenbits=9,U={bits:s.lenbits},F=ky(qK,s.lens,0,s.nlen,s.lencode,0,s.work,U),s.lenbits=U.bits,F){e.msg="invalid literal/lengths set",s.mode=qa;break}if(s.distbits=6,s.distcode=s.distdyn,U={bits:s.distbits},F=ky(VK,s.lens,s.nlen,s.ndist,s.distcode,0,s.work,U),s.distbits=U.bits,F){e.msg="invalid distances set",s.mode=qa;break}if(s.mode=E2,t===T2)break e;case E2:s.mode=P2;case P2:if(o>=6&&c>=258){e.next_out=l,e.avail_out=c,e.next_in=i,e.avail_in=o,s.hold=d,s.bits=h,RTe(e,p),l=e.next_out,n=e.output,c=e.avail_out,i=e.next_in,a=e.input,o=e.avail_in,d=s.hold,h=s.bits,s.mode===Sh&&(s.back=-1);break}for(s.back=0;b=s.lencode[d&(1<<s.lenbits)-1],j=b>>>24,S=b>>>16&255,w=b&65535,!(j<=h);){if(o===0)break e;o--,d+=a[i++]<<h,h+=8}if(S&&(S&240)===0){for(k=j,_=S,O=w;b=s.lencode[O+((d&(1<<k+_)-1)>>k)],j=b>>>24,S=b>>>16&255,w=b&65535,!(k+j<=h);){if(o===0)break e;o--,d+=a[i++]<<h,h+=8}d>>>=k,h-=k,s.back+=k}if(d>>>=j,h-=j,s.back+=j,s.length=w,S===0){s.mode=ZI;break}if(S&32){s.back=-1,s.mode=Sh;break}if(S&64){e.msg="invalid literal/length code",s.mode=qa;break}s.extra=S&15,s.mode=GI;case GI:if(s.extra){for(M=s.extra;h<M;){if(o===0)break e;o--,d+=a[i++]<<h,h+=8}s.length+=d&(1<<s.extra)-1,d>>>=s.extra,h-=s.extra,s.back+=s.extra}s.was=s.length,s.mode=KI;case KI:for(;b=s.distcode[d&(1<<s.distbits)-1],j=b>>>24,S=b>>>16&255,w=b&65535,!(j<=h);){if(o===0)break e;o--,d+=a[i++]<<h,h+=8}if((S&240)===0){for(k=j,_=S,O=w;b=s.distcode[O+((d&(1<<k+_)-1)>>k)],j=b>>>24,S=b>>>16&255,w=b&65535,!(k+j<=h);){if(o===0)break e;o--,d+=a[i++]<<h,h+=8}d>>>=k,h-=k,s.back+=k}if(d>>>=j,h-=j,s.back+=j,S&64){e.msg="invalid distance code",s.mode=qa;break}s.offset=w,s.extra=S&15,s.mode=YI;case YI:if(s.extra){for(M=s.extra;h<M;){if(o===0)break e;o--,d+=a[i++]<<h,h+=8}s.offset+=d&(1<<s.extra)-1,d>>>=s.extra,h-=s.extra,s.back+=s.extra}if(s.offset>s.dmax){e.msg="invalid distance too far back",s.mode=qa;break}s.mode=XI;case XI:if(c===0)break e;if(x=p-c,s.offset>x){if(x=s.offset-x,x>s.whave&&s.sane){e.msg="invalid distance too far back",s.mode=qa;break}x>s.wnext?(x-=s.wnext,v=s.wsize-x):v=s.wnext-x,x>s.length&&(x=s.length),y=s.window}else y=n,v=l-s.offset,x=s.length;x>c&&(x=c),c-=x,s.length-=x;do n[l++]=y[v++];while(--x);s.length===0&&(s.mode=P2);break;case ZI:if(c===0)break e;n[l++]=s.length,c--,s.mode=P2;break;case F_:if(s.wrap){for(;h<32;){if(o===0)break e;o--,d|=a[i++]<<h,h+=8}if(p-=c,e.total_out+=p,s.total+=p,s.wrap&4&&p&&(e.adler=s.check=s.flags?Nu(s.check,n,p,l-p):n6(s.check,n,p,l-p)),p=c,s.wrap&4&&(s.flags?d:e9(d))!==s.check){e.msg="incorrect data check",s.mode=qa;break}d=0,h=0}s.mode=JI;case JI:if(s.wrap&&s.flags){for(;h<32;){if(o===0)break e;o--,d+=a[i++]<<h,h+=8}if(s.wrap&4&&d!==(s.total&4294967295)){e.msg="incorrect length check",s.mode=qa;break}d=0,h=0}s.mode=QI;case QI:F=$Te;break e;case qa:F=WK;break e;case KK:return GK;case YK:default:return rd}return e.next_out=l,e.avail_out=c,e.next_in=i,e.avail_in=o,s.hold=d,s.bits=h,(s.wsize||p!==e.avail_out&&s.mode<qa&&(s.mode<F_||t!==PI))&&eY(e,e.output,e.next_out,p-e.avail_out),m-=e.avail_in,p-=e.avail_out,e.total_in+=m,e.total_out+=p,s.total+=p,s.wrap&4&&p&&(e.adler=s.check=s.flags?Nu(s.check,n,p,e.next_out-p):n6(s.check,n,p,e.next_out-p)),e.data_type=s.bits+(s.last?64:0)+(s.mode===Sh?128:0)+(s.mode===E2||s.mode===M_?256:0),(m===0&&p===0||t===PI)&&F===dx&&(F=qTe),F},QTe=e=>{if(_x(e))return rd;let t=e.state;return t.window&&(t.window=null),e.state=null,dx},eEe=(e,t)=>{if(_x(e))return rd;const s=e.state;return(s.wrap&2)===0?rd:(s.head=t,t.done=!1,dx)},tEe=(e,t)=>{const s=t.length;let a,n,i;return _x(e)||(a=e.state,a.wrap!==0&&a.mode!==fw)?rd:a.mode===fw&&(n=1,n=n6(n,t,s,0),n!==a.check)?WK:(i=eY(e,t,s,s),i?(a.mode=KK,GK):(a.havedict=1,dx))};var rEe=ZK,sEe=JK,aEe=XK,nEe=XTe,iEe=QK,lEe=JTe,oEe=QTe,cEe=eEe,dEe=tEe,uEe="pako inflate (from Nodeca project)",Ch={inflateReset:rEe,inflateReset2:sEe,inflateResetKeep:aEe,inflateInit:nEe,inflateInit2:iEe,inflate:lEe,inflateEnd:oEe,inflateGetHeader:cEe,inflateSetDictionary:dEe,inflateInfo:uEe};function hEe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var fEe=hEe;const tY=Object.prototype.toString,{Z_NO_FLUSH:mEe,Z_FINISH:xEe,Z_OK:fb,Z_STREAM_END:B_,Z_NEED_DICT:U_,Z_STREAM_ERROR:pEe,Z_DATA_ERROR:r9,Z_MEM_ERROR:gEe}=zK;function r1(e){this.options=$K.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new OTe,this.strm.avail_out=0;let s=Ch.inflateInit2(this.strm,t.windowBits);if(s!==fb)throw new Error(i6[s]);if(this.header=new fEe,Ch.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=l6.string2buf(t.dictionary):tY.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(s=Ch.inflateSetDictionary(this.strm,t.dictionary),s!==fb)))throw new Error(i6[s])}r1.prototype.push=function(e,t){const s=this.strm,a=this.options.chunkSize,n=this.options.dictionary;let i,l,o;if(this.ended)return!1;for(t===~~t?l=t:l=t===!0?xEe:mEe,tY.call(e)==="[object ArrayBuffer]"?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;;){for(s.avail_out===0&&(s.output=new Uint8Array(a),s.next_out=0,s.avail_out=a),i=Ch.inflate(s,l),i===U_&&n&&(i=Ch.inflateSetDictionary(s,n),i===fb?i=Ch.inflate(s,l):i===r9&&(i=U_));s.avail_in>0&&i===B_&&s.state.wrap>0&&e[s.next_in]!==0;)Ch.inflateReset(s),i=Ch.inflate(s,l);switch(i){case pEe:case r9:case U_:case gEe:return this.onEnd(i),this.ended=!0,!1}if(o=s.avail_out,s.next_out&&(s.avail_out===0||i===B_))if(this.options.to==="string"){let c=l6.utf8border(s.output,s.next_out),d=s.next_out-c,h=l6.buf2string(s.output,c);s.next_out=d,s.avail_out=a-d,d&&s.output.set(s.output.subarray(c,c+d),0),this.onData(h)}else this.onData(s.output.length===s.next_out?s.output:s.output.subarray(0,s.next_out));if(!(i===fb&&o===0)){if(i===B_)return i=Ch.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(s.avail_in===0)break}}return!0};r1.prototype.onData=function(e){this.chunks.push(e)};r1.prototype.onEnd=function(e){e===fb&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=$K.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function vEe(e,t){const s=new r1(t);if(s.push(e),s.err)throw s.msg||i6[s.err];return s.result}var yEe=r1,bEe=vEe,jEe={Inflate:yEe,inflate:bEe};const{Inflate:NEe,inflate:wEe}=jEe;var s9=NEe,SEe=wEe;const rY=[];for(let e=0;e<256;e++){let t=e;for(let s=0;s<8;s++)t&1?t=3988292384^t>>>1:t=t>>>1;rY[e]=t}const a9=4294967295;function _Ee(e,t,s){let a=e;for(let n=0;n<s;n++)a=rY[(a^t[n])&255]^a>>>8;return a}function kEe(e,t){return(_Ee(a9,e,t)^a9)>>>0}function n9(e,t,s){const a=e.readUint32(),n=kEe(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(n!==a)throw new Error(`CRC mismatch for chunk ${s}. Expected ${a}, found ${n}`)}function sY(e,t,s){for(let a=0;a<s;a++)t[a]=e[a]}function aY(e,t,s,a){let n=0;for(;n<a;n++)t[n]=e[n];for(;n<s;n++)t[n]=e[n]+t[n-a]&255}function nY(e,t,s,a){let n=0;if(s.length===0)for(;n<a;n++)t[n]=e[n];else for(;n<a;n++)t[n]=e[n]+s[n]&255}function iY(e,t,s,a,n){let i=0;if(s.length===0){for(;i<n;i++)t[i]=e[i];for(;i<a;i++)t[i]=e[i]+(t[i-n]>>1)&255}else{for(;i<n;i++)t[i]=e[i]+(s[i]>>1)&255;for(;i<a;i++)t[i]=e[i]+(t[i-n]+s[i]>>1)&255}}function lY(e,t,s,a,n){let i=0;if(s.length===0){for(;i<n;i++)t[i]=e[i];for(;i<a;i++)t[i]=e[i]+t[i-n]&255}else{for(;i<n;i++)t[i]=e[i]+s[i]&255;for(;i<a;i++)t[i]=e[i]+AEe(t[i-n],s[i],s[i-n])&255}}function AEe(e,t,s){const a=e+t-s,n=Math.abs(a-e),i=Math.abs(a-t),l=Math.abs(a-s);return n<=i&&n<=l?e:i<=l?t:s}function CEe(e,t,s,a,n,i){switch(e){case 0:sY(t,s,n);break;case 1:aY(t,s,n,i);break;case 2:nY(t,s,a,n);break;case 3:iY(t,s,a,n,i);break;case 4:lY(t,s,a,n,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const TEe=new Uint16Array([255]),EEe=new Uint8Array(TEe.buffer),PEe=EEe[0]===255;function OEe(e){const{data:t,width:s,height:a,channels:n,depth:i}=e,l=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(i/8)*n,c=new Uint8Array(a*s*o);let d=0;for(let h=0;h<7;h++){const m=l[h],p=Math.ceil((s-m.x)/m.xStep),x=Math.ceil((a-m.y)/m.yStep);if(p<=0||x<=0)continue;const v=p*o,y=new Uint8Array(v);for(let b=0;b<x;b++){const j=t[d++],S=t.subarray(d,d+v);d+=v;const w=new Uint8Array(v);CEe(j,S,w,y,v,o),y.set(w);for(let k=0;k<p;k++){const _=m.x+k*m.xStep,O=m.y+b*m.yStep;if(!(_>=s||O>=a))for(let E=0;E<o;E++)c[(O*s+_)*o+E]=w[k*o+E]}}}if(i===16){const h=new Uint16Array(c.buffer);if(PEe)for(let m=0;m<h.length;m++)h[m]=DEe(h[m]);return h}else return c}function DEe(e){return(e&255)<<8|e>>8&255}const REe=new Uint16Array([255]),MEe=new Uint8Array(REe.buffer),FEe=MEe[0]===255,LEe=new Uint8Array(0);function i9(e){const{data:t,width:s,height:a,channels:n,depth:i}=e,l=Math.ceil(i/8)*n,o=Math.ceil(i/8*n*s),c=new Uint8Array(a*o);let d=LEe,h=0,m,p;for(let x=0;x<a;x++){switch(m=t.subarray(h+1,h+1+o),p=c.subarray(x*o,(x+1)*o),t[h]){case 0:sY(m,p,o);break;case 1:aY(m,p,o,l);break;case 2:nY(m,p,d,o);break;case 3:iY(m,p,d,o,l);break;case 4:lY(m,p,d,o,l);break;default:throw new Error(`Unsupported filter: ${t[h]}`)}d=p,h+=o+1}if(i===16){const x=new Uint16Array(c.buffer);if(FEe)for(let v=0;v<x.length;v++)x[v]=IEe(x[v]);return x}else return c}function IEe(e){return(e&255)<<8|e>>8&255}const $j=Uint8Array.of(137,80,78,71,13,10,26,10);function l9(e){if(!BEe(e.readBytes($j.length)))throw new Error("wrong PNG signature")}function BEe(e){if(e.length<$j.length)return!1;for(let t=0;t<$j.length;t++)if(e[t]!==$j[t])return!1;return!0}const UEe="tEXt",zEe=0,oY=new TextDecoder("latin1");function $Ee(e){if(qEe(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const HEe=/^[\u0000-\u00FF]*$/;function qEe(e){if(!HEe.test(e))throw new Error("invalid latin1 text")}function VEe(e,t,s){const a=cY(t);e[a]=WEe(t,s-a.length-1)}function cY(e){for(e.mark();e.readByte()!==zEe;);const t=e.offset;e.reset();const s=oY.decode(e.readBytes(t-e.offset-1));return e.skip(1),$Ee(s),s}function WEe(e,t){return oY.decode(e.readBytes(t))}const Wo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},z_={UNKNOWN:-1,DEFLATE:0},o9={UNKNOWN:-1,ADAPTIVE:0},$_={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},O2={NONE:0,BACKGROUND:1,PREVIOUS:2},H_={SOURCE:0,OVER:1};class GEe extends WE{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,s={}){super(t);const{checkCrc:a=!1}=s;this._checkCrc=a,this._inflator=new s9,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=z_.UNKNOWN,this._filterMethod=o9.UNKNOWN,this._interlaceMethod=$_.UNKNOWN,this._colorType=Wo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(l9(this);!this._end;){const t=this.readUint32(),s=this.readChars(4);this.decodeChunk(t,s)}return this.decodeImage(),this._png}decodeApng(){for(l9(this);!this._end;){const t=this.readUint32(),s=this.readChars(4);this.decodeApngChunk(t,s)}return this.decodeApngImage(),this._apng}decodeChunk(t,s){const a=this.offset;switch(s){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case UEe:VEe(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-a!==t)throw new Error(`Length mismatch while decoding chunk ${s}`);this._checkCrc?n9(this,t+4,s):this.skip(4)}decodeApngChunk(t,s){const a=this.offset;switch(s!=="fdAT"&&s!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),s){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,s),this.offset=a+t;break}if(this.offset-a!==t)throw new Error(`Length mismatch while decoding chunk ${s}`);this._checkCrc?n9(this,t+4,s):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=KEe(this.readUint8());const s=this.readUint8();this._colorType=s;let a;switch(s){case Wo.GREYSCALE:a=1;break;case Wo.TRUECOLOUR:a=3;break;case Wo.INDEXED_COLOUR:a=1;break;case Wo.GREYSCALE_ALPHA:a=2;break;case Wo.TRUECOLOUR_ALPHA:a=4;break;case Wo.UNKNOWN:default:throw new Error(`Unknown color type: ${s}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==z_.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const s=t/3;this._hasPalette=!0;const a=[];this._palette=a;for(let n=0;n<s;n++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const s=t,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,s)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let s=t,a=this.offset+this.byteOffset;if(a+=4,s-=4,this._inflator.push(new Uint8Array(this.buffer,a,s)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case Wo.GREYSCALE:case Wo.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let s=0;s<t/2;s++)this._transparency[s]=this.readUint16();break}case Wo.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let s=0;for(;s<t;s++){const a=this.readByte();this._palette[s].push(a)}for(;s<this._palette.length;s++)this._palette[s].push(255);break}case Wo.UNKNOWN:case Wo.GREYSCALE_ALPHA:case Wo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const s=cY(this),a=this.readUint8();if(a!==z_.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const n=this.readBytes(t-s.length-2);this._png.iccEmbeddedProfile={name:s,profile:SEe(n)}}decodepHYs(){const t=this.readUint32(),s=this.readUint32(),a=this.readByte();this._png.resolution={x:t,y:s,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const s={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(t);if(a){if(a.data=i9({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)s.data=a.data;else{const n=this._apng.frames.at(t-1);this.disposeFrame(a,n,s),this.addFrameDataToCanvas(s,a)}this._apng.frames.push(s)}}return this._apng}disposeFrame(t,s,a){switch(t.disposeOp){case O2.NONE:break;case O2.BACKGROUND:for(let n=0;n<this._png.height;n++)for(let i=0;i<this._png.width;i++){const l=(n*t.width+i)*this._png.channels;for(let o=0;o<this._png.channels;o++)a.data[l+o]=0}break;case O2.PREVIOUS:a.data.set(s.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,s){const a=1<<this._png.depth,n=(i,l)=>{const o=((i+s.yOffset)*this._png.width+s.xOffset+l)*this._png.channels,c=(i*s.width+l)*this._png.channels;return{index:o,frameIndex:c}};switch(s.blendOp){case H_.SOURCE:for(let i=0;i<s.height;i++)for(let l=0;l<s.width;l++){const{index:o,frameIndex:c}=n(i,l);for(let d=0;d<this._png.channels;d++)t.data[o+d]=s.data[c+d]}break;case H_.OVER:for(let i=0;i<s.height;i++)for(let l=0;l<s.width;l++){const{index:o,frameIndex:c}=n(i,l);for(let d=0;d<this._png.channels;d++){const h=s.data[c+this._png.channels-1]/a,m=d%(this._png.channels-1)===0?1:s.data[c+d],p=Math.floor(h*m+(1-h)*t.data[o+d]);t.data[o+d]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==o9.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===$_.NO_INTERLACE)this._png.data=i9({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===$_.ADAM7)this._png.data=OEe({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,s=this._frames.at(-1);s?s.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:O2.NONE,blendOp:H_.SOURCE,data:t}),this._inflator=new s9,this._writingDataChunks=!1}}function KEe(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var c9;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(c9||(c9={}));function YEe(e,t){return new GEe(e,t).decode()}var Or=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function q_(){Or.console&&typeof Or.console.log=="function"&&Or.console.log.apply(Or.console,arguments)}var ga={log:q_,warn:function(e){Or.console&&(typeof Or.console.warn=="function"?Or.console.warn.apply(Or.console,arguments):q_.call(null,arguments))},error:function(e){Or.console&&(typeof Or.console.error=="function"?Or.console.error.apply(Or.console,arguments):q_(e))}};function V_(e,t,s){var a=new XMLHttpRequest;a.open("GET",e),a.responseType="blob",a.onload=function(){y0(a.response,t,s)},a.onerror=function(){ga.error("could not download file")},a.send()}function d9(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function D2(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var y0=Or.saveAs||((typeof window>"u"?"undefined":ea(window))!=="object"||window!==Or?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,s){var a=Or.URL||Or.webkitURL,n=document.createElement("a");t=t||e.name||"download",n.download=t,n.rel="noopener",typeof e=="string"?(n.href=e,n.origin!==location.origin?d9(n.href)?V_(e,t,s):D2(n,n.target="_blank"):D2(n)):(n.href=a.createObjectURL(e),setTimeout(function(){a.revokeObjectURL(n.href)},4e4),setTimeout(function(){D2(n)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,s){if(t=t||e.name||"download",typeof e=="string")if(d9(e))V_(e,t,s);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout(function(){D2(a)})}else navigator.msSaveOrOpenBlob((function(n,i){return i===void 0?i={autoBom:!1}:ea(i)!=="object"&&(ga.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(n.type)?new Blob(["\uFEFF",n],{type:n.type}):n})(e,s),t)}:function(e,t,s,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),typeof e=="string")return V_(e,t,s);var n=e.type==="application/octet-stream",i=/constructor/i.test(Or.HTMLElement)||Or.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||n&&i)&&(typeof FileReader>"u"?"undefined":ea(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var h=o.result;h=l?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=h:location=h,a=null},o.readAsDataURL(e)}else{var c=Or.URL||Or.webkitURL,d=c.createObjectURL(e);a?a.location=d:location.href=d,a=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});function dY(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var s=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],a=0;a<s.length;a++){var n=s[a].re,i=s[a].process,l=n.exec(e);l&&(t=i(l),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return o.length==1&&(o="0"+o),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+o+c+d}}var Hj=Or.atob.bind(Or),u9=Or.btoa.bind(Or);function W_(e,t){var s=e[0],a=e[1],n=e[2],i=e[3];s=ul(s,a,n,i,t[0],7,-680876936),i=ul(i,s,a,n,t[1],12,-389564586),n=ul(n,i,s,a,t[2],17,606105819),a=ul(a,n,i,s,t[3],22,-1044525330),s=ul(s,a,n,i,t[4],7,-176418897),i=ul(i,s,a,n,t[5],12,1200080426),n=ul(n,i,s,a,t[6],17,-1473231341),a=ul(a,n,i,s,t[7],22,-45705983),s=ul(s,a,n,i,t[8],7,1770035416),i=ul(i,s,a,n,t[9],12,-1958414417),n=ul(n,i,s,a,t[10],17,-42063),a=ul(a,n,i,s,t[11],22,-1990404162),s=ul(s,a,n,i,t[12],7,1804603682),i=ul(i,s,a,n,t[13],12,-40341101),n=ul(n,i,s,a,t[14],17,-1502002290),s=hl(s,a=ul(a,n,i,s,t[15],22,1236535329),n,i,t[1],5,-165796510),i=hl(i,s,a,n,t[6],9,-1069501632),n=hl(n,i,s,a,t[11],14,643717713),a=hl(a,n,i,s,t[0],20,-373897302),s=hl(s,a,n,i,t[5],5,-701558691),i=hl(i,s,a,n,t[10],9,38016083),n=hl(n,i,s,a,t[15],14,-660478335),a=hl(a,n,i,s,t[4],20,-405537848),s=hl(s,a,n,i,t[9],5,568446438),i=hl(i,s,a,n,t[14],9,-1019803690),n=hl(n,i,s,a,t[3],14,-187363961),a=hl(a,n,i,s,t[8],20,1163531501),s=hl(s,a,n,i,t[13],5,-1444681467),i=hl(i,s,a,n,t[2],9,-51403784),n=hl(n,i,s,a,t[7],14,1735328473),s=fl(s,a=hl(a,n,i,s,t[12],20,-1926607734),n,i,t[5],4,-378558),i=fl(i,s,a,n,t[8],11,-2022574463),n=fl(n,i,s,a,t[11],16,1839030562),a=fl(a,n,i,s,t[14],23,-35309556),s=fl(s,a,n,i,t[1],4,-1530992060),i=fl(i,s,a,n,t[4],11,1272893353),n=fl(n,i,s,a,t[7],16,-155497632),a=fl(a,n,i,s,t[10],23,-1094730640),s=fl(s,a,n,i,t[13],4,681279174),i=fl(i,s,a,n,t[0],11,-358537222),n=fl(n,i,s,a,t[3],16,-722521979),a=fl(a,n,i,s,t[6],23,76029189),s=fl(s,a,n,i,t[9],4,-640364487),i=fl(i,s,a,n,t[12],11,-421815835),n=fl(n,i,s,a,t[15],16,530742520),s=ml(s,a=fl(a,n,i,s,t[2],23,-995338651),n,i,t[0],6,-198630844),i=ml(i,s,a,n,t[7],10,1126891415),n=ml(n,i,s,a,t[14],15,-1416354905),a=ml(a,n,i,s,t[5],21,-57434055),s=ml(s,a,n,i,t[12],6,1700485571),i=ml(i,s,a,n,t[3],10,-1894986606),n=ml(n,i,s,a,t[10],15,-1051523),a=ml(a,n,i,s,t[1],21,-2054922799),s=ml(s,a,n,i,t[8],6,1873313359),i=ml(i,s,a,n,t[15],10,-30611744),n=ml(n,i,s,a,t[6],15,-1560198380),a=ml(a,n,i,s,t[13],21,1309151649),s=ml(s,a,n,i,t[4],6,-145523070),i=ml(i,s,a,n,t[11],10,-1120210379),n=ml(n,i,s,a,t[2],15,718787259),a=ml(a,n,i,s,t[9],21,-343485551),e[0]=fm(s,e[0]),e[1]=fm(a,e[1]),e[2]=fm(n,e[2]),e[3]=fm(i,e[3])}function Y5(e,t,s,a,n,i){return t=fm(fm(t,e),fm(a,i)),fm(t<<n|t>>>32-n,s)}function ul(e,t,s,a,n,i,l){return Y5(t&s|~t&a,e,t,n,i,l)}function hl(e,t,s,a,n,i,l){return Y5(t&a|s&~a,e,t,n,i,l)}function fl(e,t,s,a,n,i,l){return Y5(t^s^a,e,t,n,i,l)}function ml(e,t,s,a,n,i,l){return Y5(s^(t|~a),e,t,n,i,l)}function uY(e){var t,s=e.length,a=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)W_(a,XEe(e.substring(t-64,t)));e=e.substring(t-64);var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)n[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(n[t>>2]|=128<<(t%4<<3),t>55)for(W_(a,n),t=0;t<16;t++)n[t]=0;return n[14]=8*s,W_(a,n),a}function XEe(e){var t,s=[];for(t=0;t<64;t+=4)s[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return s}var h9="0123456789abcdef".split("");function ZEe(e){for(var t="",s=0;s<4;s++)t+=h9[e>>8*s+4&15]+h9[e>>8*s&15];return t}function JEe(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function o6(e){return uY(e).map(JEe).join("")}var QEe=(function(e){for(var t=0;t<e.length;t++)e[t]=ZEe(e[t]);return e.join("")})(uY("hello"))!="5d41402abc4b2a76b9719d911017c592";function fm(e,t){if(QEe){var s=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(s>>16)<<16|65535&s}return e+t&4294967295}function c6(e,t){var s,a,n,i;if(e!==s){for(var l=(n=e,i=1+(256/e.length|0),new Array(i+1).join(n)),o=[],c=0;c<256;c++)o[c]=c;var d=0;for(c=0;c<256;c++){var h=o[c];d=(d+h+l.charCodeAt(c))%256,o[c]=o[d],o[d]=h}s=e,a=o}else o=a;var m=t.length,p=0,x=0,v="";for(c=0;c<m;c++)x=(x+(h=o[p=(p+1)%256]))%256,o[p]=o[x],o[x]=h,l=o[(o[p]+o[x])%256],v+=String.fromCharCode(t.charCodeAt(c)^l);return v}var f9={print:4,modify:8,copy:16,"annot-forms":32};function Mp(e,t,s,a){this.v=1,this.r=2;var n=192;e.forEach(function(o){if(f9.perm!==void 0)throw new Error("Invalid permission: "+o);n+=f9[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),l=(s+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,l),this.P=-(1+(255^n)),this.encryptionKey=o6(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(a)).substr(0,5),this.U=c6(this.encryptionKey,this.padding)}function Fp(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",s=e.length,a=0;a<s;a++){var n=e.charCodeAt(a);t+=n<33||n===35||n===37||n===40||n===41||n===47||n===60||n===62||n===91||n===93||n===123||n===125||n>126?"#"+("0"+n.toString(16)).slice(-2):e[a]}return t}function m9(e){if(ea(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(s,a,n){if(n=n||!1,typeof s!="string"||typeof a!="function"||typeof n!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(s)||(t[s]={});var i=Math.random().toString(35);return t[s][i]=[a,!!n],i},this.unsubscribe=function(s){for(var a in t)if(t[a][s])return delete t[a][s],Object.keys(t[a]).length===0&&delete t[a],!0;return!1},this.publish=function(s){if(t.hasOwnProperty(s)){var a=Array.prototype.slice.call(arguments,1),n=[];for(var i in t[s]){var l=t[s][i];try{l[0].apply(e,a)}catch(o){Or.console&&ga.error("jsPDF PubSub Error",o.message,o)}l[1]&&n.push(i)}n.length&&n.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function mb(e){if(!(this instanceof mb))return new mb(e);var t="opacity,stroke-opacity".split(",");for(var s in e)e.hasOwnProperty(s)&&t.indexOf(s)>=0&&(this[s]=e[s]);this.id="",this.objectNumber=-1}function hY(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function lm(e,t,s,a,n){if(!(this instanceof lm))return new lm(e,t,s,a,n);this.type=e==="axial"?2:3,this.coords=t,this.colors=s,hY.call(this,a,n)}function k0(e,t,s,a,n){if(!(this instanceof k0))return new k0(e,t,s,a,n);this.boundingBox=e,this.xStep=t,this.yStep=s,this.stream="",this.cloneIndex=0,hY.call(this,a,n)}function nr(e){var t,s=typeof arguments[0]=="string"?arguments[0]:"p",a=arguments[1],n=arguments[2],i=arguments[3],l=[],o=1,c=16,d="S",h=null;ea(e=e||{})==="object"&&(s=e.orientation,a=e.unit||a,n=e.format||n,i=e.compress||e.compressPdf||i,(h=e.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),d=e.defaultPathOperation||"S"),l=e.filters||(i===!0?["FlateEncode"]:l),a=a||"mm",s=(""+(s||"P")).toLowerCase();var m=e.putOnlyUsedFonts||!1,p={},x={internal:{},__private__:{}};x.__private__.PubSub=m9;var v="1.3",y=x.__private__.getPdfVersion=function(){return v};x.__private__.setPdfVersion=function(B){v=B};var b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};x.__private__.getPageFormats=function(){return b};var j=x.__private__.getPageFormat=function(B){return b[B]};n=n||"a4";var S="compat",w="advanced",k=S;function _(){this.saveGraphicsState(),xe(new hr(At,0,0,-At,0,md()*At).toString()+" cm"),this.setFontSize(this.getFontSize()/At),d="n",k=w}function O(){this.restoreGraphicsState(),d="S",k=S}var E=x.__private__.combineFontStyleAndFontWeight=function(B,ie){if(B=="bold"&&ie=="normal"||B=="bold"&&ie==400||B=="normal"&&ie=="italic"||B=="bold"&&ie=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ie&&(B=ie==400||ie==="normal"?B==="italic"?"italic":"normal":ie!=700&&ie!=="bold"||B!=="normal"?(ie==700?"bold":ie)+""+B:"bold"),B};x.advancedAPI=function(B){var ie=k===S;return ie&&_.call(this),typeof B!="function"||(B(this),ie&&O.call(this)),this},x.compatAPI=function(B){var ie=k===w;return ie&&O.call(this),typeof B!="function"||(B(this),ie&&_.call(this)),this},x.isAdvancedAPI=function(){return k===w};var F,I=function(B){if(k!==w)throw new Error(B+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},U=x.roundToPrecision=x.__private__.roundToPrecision=function(B,ie){var Ee=t||ie;if(isNaN(B)||isNaN(Ee))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return B.toFixed(Ee).replace(/0+$/,"")};F=x.hpf=x.__private__.hpf=typeof c=="number"?function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.hpf");return U(B,c)}:c==="smart"?function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.hpf");return U(B,B>-1&&B<1?16:5)}:function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.hpf");return U(B,16)};var M=x.f2=x.__private__.f2=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.f2");return U(B,2)},L=x.__private__.f3=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.f3");return U(B,3)},J=x.scale=x.__private__.scale=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.scale");return k===S?B*At:k===w?B:void 0},K=function(B){return J((function(ie){return k===S?md()-ie:k===w?ie:void 0})(B))};x.__private__.setPrecision=x.setPrecision=function(B){typeof parseInt(B,10)=="number"&&(t=parseInt(B,10))};var ae,V="00000000000000000000000000000000",re=x.__private__.getFileId=function(){return V},X=x.__private__.setFileId=function(B){return V=B!==void 0&&/^[a-fA-F0-9]{32}$/.test(B)?B.toUpperCase():V.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(kn=new Mp(h.userPermissions,h.userPassword,h.ownerPassword,V)),V};x.setFileId=function(B){return X(B),this},x.getFileId=function(){return re()};var Z=x.__private__.convertDateToPDFDate=function(B){var ie=B.getTimezoneOffset(),Ee=ie<0?"+":"-",Le=Math.floor(Math.abs(ie/60)),qe=Math.abs(ie%60),jt=[Ee,q(Le),"'",q(qe),"'"].join("");return["D:",B.getFullYear(),q(B.getMonth()+1),q(B.getDate()),q(B.getHours()),q(B.getMinutes()),q(B.getSeconds()),jt].join("")},ye=x.__private__.convertPDFDateToDate=function(B){var ie=parseInt(B.substr(2,4),10),Ee=parseInt(B.substr(6,2),10)-1,Le=parseInt(B.substr(8,2),10),qe=parseInt(B.substr(10,2),10),jt=parseInt(B.substr(12,2),10),Et=parseInt(B.substr(14,2),10);return new Date(ie,Ee,Le,qe,jt,Et,0)},te=x.__private__.setCreationDate=function(B){var ie;if(B===void 0&&(B=new Date),B instanceof Date)ie=Z(B);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(B))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ie=B}return ae=ie},D=x.__private__.getCreationDate=function(B){var ie=ae;return B==="jsDate"&&(ie=ye(ae)),ie};x.setCreationDate=function(B){return te(B),this},x.getCreationDate=function(B){return D(B)};var H,q=x.__private__.padd2=function(B){return("0"+parseInt(B)).slice(-2)},W=x.__private__.padd2Hex=function(B){return("00"+(B=B.toString())).substr(B.length)},G=0,fe=[],Se=[],se=0,ge=[],Be=[],ee=!1,at=Se;x.__private__.setCustomOutputDestination=function(B){ee=!0,at=B};var nt=function(B){ee||(at=B)};x.__private__.resetCustomOutputDestination=function(){ee=!1,at=Se};var xe=x.__private__.out=function(B){return B=B.toString(),se+=B.length+1,at.push(B),at},ot=x.__private__.write=function(B){return xe(arguments.length===1?B.toString():Array.prototype.join.call(arguments," "))},ut=x.__private__.getArrayBuffer=function(B){for(var ie=B.length,Ee=new ArrayBuffer(ie),Le=new Uint8Array(Ee);ie--;)Le[ie]=B.charCodeAt(ie);return Ee},Re=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];x.__private__.getStandardFonts=function(){return Re};var Ge=e.fontSize||16;x.__private__.setFontSize=x.setFontSize=function(B){return Ge=k===w?B/At:B,this};var qt,we=x.__private__.getFontSize=x.getFontSize=function(){return k===S?Ge:Ge*At},_e=e.R2L||!1;x.__private__.setR2L=x.setR2L=function(B){return _e=B,this},x.__private__.getR2L=x.getR2L=function(){return _e};var ne,Oe=x.__private__.setZoomMode=function(B){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(B))qt=B;else if(isNaN(B)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(B)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+B+'" is not recognized.');qt=B}else qt=parseInt(B,10)};x.__private__.getZoomMode=function(){return qt};var Me,De=x.__private__.setPageMode=function(B){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(B)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+B+'" is not recognized.');ne=B};x.__private__.getPageMode=function(){return ne};var He=x.__private__.setLayoutMode=function(B){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(B)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+B+'" is not recognized.');Me=B};x.__private__.getLayoutMode=function(){return Me},x.__private__.setDisplayMode=x.setDisplayMode=function(B,ie,Ee){return Oe(B),He(ie),De(Ee),this};var mt={title:"",subject:"",author:"",keywords:"",creator:""};x.__private__.getDocumentProperty=function(B){if(Object.keys(mt).indexOf(B)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return mt[B]},x.__private__.getDocumentProperties=function(){return mt},x.__private__.setDocumentProperties=x.setProperties=x.setDocumentProperties=function(B){for(var ie in mt)mt.hasOwnProperty(ie)&&B[ie]&&(mt[ie]=B[ie]);return this},x.__private__.setDocumentProperty=function(B,ie){if(Object.keys(mt).indexOf(B)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return mt[B]=ie};var xt,At,Ot,br,Jt,Vt={},pr={},Hr=[],cr={},Ns={},fr={},Sr={},Fs=null,Rr=0,ar=[],is=new m9(x),El=e.hotfixes||[],Un={},Zl={},nl=[],hr=function B(ie,Ee,Le,qe,jt,Et){if(!(this instanceof B))return new B(ie,Ee,Le,qe,jt,Et);isNaN(ie)&&(ie=1),isNaN(Ee)&&(Ee=0),isNaN(Le)&&(Le=0),isNaN(qe)&&(qe=1),isNaN(jt)&&(jt=0),isNaN(Et)&&(Et=0),this._matrix=[ie,Ee,Le,qe,jt,Et]};Object.defineProperty(hr.prototype,"sx",{get:function(){return this._matrix[0]},set:function(B){this._matrix[0]=B}}),Object.defineProperty(hr.prototype,"shy",{get:function(){return this._matrix[1]},set:function(B){this._matrix[1]=B}}),Object.defineProperty(hr.prototype,"shx",{get:function(){return this._matrix[2]},set:function(B){this._matrix[2]=B}}),Object.defineProperty(hr.prototype,"sy",{get:function(){return this._matrix[3]},set:function(B){this._matrix[3]=B}}),Object.defineProperty(hr.prototype,"tx",{get:function(){return this._matrix[4]},set:function(B){this._matrix[4]=B}}),Object.defineProperty(hr.prototype,"ty",{get:function(){return this._matrix[5]},set:function(B){this._matrix[5]=B}}),Object.defineProperty(hr.prototype,"a",{get:function(){return this._matrix[0]},set:function(B){this._matrix[0]=B}}),Object.defineProperty(hr.prototype,"b",{get:function(){return this._matrix[1]},set:function(B){this._matrix[1]=B}}),Object.defineProperty(hr.prototype,"c",{get:function(){return this._matrix[2]},set:function(B){this._matrix[2]=B}}),Object.defineProperty(hr.prototype,"d",{get:function(){return this._matrix[3]},set:function(B){this._matrix[3]=B}}),Object.defineProperty(hr.prototype,"e",{get:function(){return this._matrix[4]},set:function(B){this._matrix[4]=B}}),Object.defineProperty(hr.prototype,"f",{get:function(){return this._matrix[5]},set:function(B){this._matrix[5]=B}}),Object.defineProperty(hr.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(hr.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(hr.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(hr.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),hr.prototype.join=function(B){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(F).join(B)},hr.prototype.multiply=function(B){var ie=B.sx*this.sx+B.shy*this.shx,Ee=B.sx*this.shy+B.shy*this.sy,Le=B.shx*this.sx+B.sy*this.shx,qe=B.shx*this.shy+B.sy*this.sy,jt=B.tx*this.sx+B.ty*this.shx+this.tx,Et=B.tx*this.shy+B.ty*this.sy+this.ty;return new hr(ie,Ee,Le,qe,jt,Et)},hr.prototype.decompose=function(){var B=this.sx,ie=this.shy,Ee=this.shx,Le=this.sy,qe=this.tx,jt=this.ty,Et=Math.sqrt(B*B+ie*ie),Qt=(B/=Et)*Ee+(ie/=Et)*Le;Ee-=B*Qt,Le-=ie*Qt;var lr=Math.sqrt(Ee*Ee+Le*Le);return Qt/=lr,B*(Le/=lr)<ie*(Ee/=lr)&&(B=-B,ie=-ie,Qt=-Qt,Et=-Et),{scale:new hr(Et,0,0,lr,0,0),translate:new hr(1,0,0,1,qe,jt),rotate:new hr(B,ie,-ie,B,0,0),skew:new hr(1,0,Qt,1,0,0)}},hr.prototype.toString=function(B){return this.join(" ")},hr.prototype.inversed=function(){var B=this.sx,ie=this.shy,Ee=this.shx,Le=this.sy,qe=this.tx,jt=this.ty,Et=1/(B*Le-ie*Ee),Qt=Le*Et,lr=-ie*Et,kr=-Ee*Et,Lr=B*Et;return new hr(Qt,lr,kr,Lr,-Qt*qe-kr*jt,-lr*qe-Lr*jt)},hr.prototype.applyToPoint=function(B){var ie=B.x*this.sx+B.y*this.shx+this.tx,Ee=B.x*this.shy+B.y*this.sy+this.ty;return new eo(ie,Ee)},hr.prototype.applyToRectangle=function(B){var ie=this.applyToPoint(B),Ee=this.applyToPoint(new eo(B.x+B.w,B.y+B.h));return new cd(ie.x,ie.y,Ee.x-ie.x,Ee.y-ie.y)},hr.prototype.clone=function(){var B=this.sx,ie=this.shy,Ee=this.shx,Le=this.sy,qe=this.tx,jt=this.ty;return new hr(B,ie,Ee,Le,qe,jt)},x.Matrix=hr;var Po=x.matrixMult=function(B,ie){return ie.multiply(B)},Jl=new hr(1,0,0,1,0,0);x.unitMatrix=x.identityMatrix=Jl;var ai=function(B,ie){if(!Ns[B]){var Ee=(ie instanceof lm?"Sh":"P")+(Object.keys(cr).length+1).toString(10);ie.id=Ee,Ns[B]=Ee,cr[Ee]=ie,is.publish("addPattern",ie)}};x.ShadingPattern=lm,x.TilingPattern=k0,x.addShadingPattern=function(B,ie){return I("addShadingPattern()"),ai(B,ie),this},x.beginTilingPattern=function(B){I("beginTilingPattern()"),th(B.boundingBox[0],B.boundingBox[1],B.boundingBox[2]-B.boundingBox[0],B.boundingBox[3]-B.boundingBox[1],B.matrix)},x.endTilingPattern=function(B,ie){I("endTilingPattern()"),ie.stream=Be[H].join(`
`),ai(B,ie),is.publish("endTilingPattern",ie),nl.pop().restore()};var $i,aa=x.__private__.newObject=function(){var B=Ba();return ce(B,!0),B},Ba=x.__private__.newObjectDeferred=function(){return G++,fe[G]=function(){return se},G},ce=function(B,ie){return ie=typeof ie=="boolean"&&ie,fe[B]=se,ie&&xe(B+" 0 obj"),B},Te=x.__private__.newAdditionalObject=function(){var B={objId:Ba(),content:""};return ge.push(B),B},be=Ba(),je=Ba(),ke=x.__private__.decodeColorString=function(B){var ie=B.split(" ");if(ie.length!==2||ie[1]!=="g"&&ie[1]!=="G")ie.length!==5||ie[4]!=="k"&&ie[4]!=="K"||(ie=[(1-ie[0])*(1-ie[3]),(1-ie[1])*(1-ie[3]),(1-ie[2])*(1-ie[3]),"r"]);else{var Ee=parseFloat(ie[0]);ie=[Ee,Ee,Ee,"r"]}for(var Le="#",qe=0;qe<3;qe++)Le+=("0"+Math.floor(255*parseFloat(ie[qe])).toString(16)).slice(-2);return Le},Pe=x.__private__.encodeColorString=function(B){var ie;typeof B=="string"&&(B={ch1:B});var Ee=B.ch1,Le=B.ch2,qe=B.ch3,jt=B.ch4,Et=B.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ee=="string"&&Ee.charAt(0)!=="#"){var Qt=new dY(Ee);if(Qt.ok)Ee=Qt.toHex();else if(!/^\d*\.?\d*$/.test(Ee))throw new Error('Invalid color "'+Ee+'" passed to jsPDF.encodeColorString.')}if(typeof Ee=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ee)&&(Ee="#"+Ee[1]+Ee[1]+Ee[2]+Ee[2]+Ee[3]+Ee[3]),typeof Ee=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ee)){var lr=parseInt(Ee.substr(1),16);Ee=lr>>16&255,Le=lr>>8&255,qe=255&lr}if(Le===void 0||jt===void 0&&Ee===Le&&Le===qe)ie=typeof Ee=="string"?Ee+" "+Et[0]:B.precision===2?M(Ee/255)+" "+Et[0]:L(Ee/255)+" "+Et[0];else if(jt===void 0||ea(jt)==="object"){if(jt&&!isNaN(jt.a)&&jt.a===0)return["1.","1.","1.",Et[1]].join(" ");ie=typeof Ee=="string"?[Ee,Le,qe,Et[1]].join(" "):B.precision===2?[M(Ee/255),M(Le/255),M(qe/255),Et[1]].join(" "):[L(Ee/255),L(Le/255),L(qe/255),Et[1]].join(" ")}else ie=typeof Ee=="string"?[Ee,Le,qe,jt,Et[2]].join(" "):B.precision===2?[M(Ee),M(Le),M(qe),M(jt),Et[2]].join(" "):[L(Ee),L(Le),L(qe),L(jt),Et[2]].join(" ");return ie},Ke=x.__private__.getFilters=function(){return l},ht=x.__private__.putStream=function(B){var ie=(B=B||{}).data||"",Ee=B.filters||Ke(),Le=B.alreadyAppliedFilters||[],qe=B.addLength1||!1,jt=ie.length,Et=B.objectId,Qt=function(An){return An};if(h!==null&&Et===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(Qt=kn.encryptor(Et,0));var lr={};Ee===!0&&(Ee=["FlateEncode"]);var kr=B.additionalKeyValues||[],Lr=(lr=nr.API.processDataByFilters!==void 0?nr.API.processDataByFilters(ie,Ee):{data:ie,reverseChain:[]}).reverseChain+(Array.isArray(Le)?Le.join(" "):Le.toString());if(lr.data.length!==0&&(kr.push({key:"Length",value:lr.data.length}),qe===!0&&kr.push({key:"Length1",value:jt})),Lr.length!=0)if(Lr.split("/").length-1==1)kr.push({key:"Filter",value:Lr});else{kr.push({key:"Filter",value:"["+Lr+"]"});for(var ms=0;ms<kr.length;ms+=1)if(kr[ms].key==="DecodeParms"){for(var Ca=[],Za=0;Za<lr.reverseChain.split("/").length-1;Za+=1)Ca.push("null");Ca.push(kr[ms].value),kr[ms].value="["+Ca.join(" ")+"]"}}xe("<<");for(var na=0;na<kr.length;na++)xe("/"+kr[na].key+" "+kr[na].value);xe(">>"),lr.data.length!==0&&(xe("stream"),xe(Qt(lr.data)),xe("endstream"))},Ze=x.__private__.putPage=function(B){var ie=B.number,Ee=B.data,Le=B.objId,qe=B.contentsObjId;ce(Le,!0),xe("<</Type /Page"),xe("/Parent "+B.rootDictionaryObjId+" 0 R"),xe("/Resources "+B.resourceDictionaryObjId+" 0 R"),xe("/MediaBox ["+parseFloat(F(B.mediaBox.bottomLeftX))+" "+parseFloat(F(B.mediaBox.bottomLeftY))+" "+F(B.mediaBox.topRightX)+" "+F(B.mediaBox.topRightY)+"]"),B.cropBox!==null&&xe("/CropBox ["+F(B.cropBox.bottomLeftX)+" "+F(B.cropBox.bottomLeftY)+" "+F(B.cropBox.topRightX)+" "+F(B.cropBox.topRightY)+"]"),B.bleedBox!==null&&xe("/BleedBox ["+F(B.bleedBox.bottomLeftX)+" "+F(B.bleedBox.bottomLeftY)+" "+F(B.bleedBox.topRightX)+" "+F(B.bleedBox.topRightY)+"]"),B.trimBox!==null&&xe("/TrimBox ["+F(B.trimBox.bottomLeftX)+" "+F(B.trimBox.bottomLeftY)+" "+F(B.trimBox.topRightX)+" "+F(B.trimBox.topRightY)+"]"),B.artBox!==null&&xe("/ArtBox ["+F(B.artBox.bottomLeftX)+" "+F(B.artBox.bottomLeftY)+" "+F(B.artBox.topRightX)+" "+F(B.artBox.topRightY)+"]"),typeof B.userUnit=="number"&&B.userUnit!==1&&xe("/UserUnit "+B.userUnit),is.publish("putPage",{objId:Le,pageContext:ar[ie],pageNumber:ie,page:Ee}),xe("/Contents "+qe+" 0 R"),xe(">>"),xe("endobj");var jt=Ee.join(`
`);return k===w&&(jt+=`
Q`),ce(qe,!0),ht({data:jt,filters:Ke(),objectId:qe}),xe("endobj"),Le},Je=x.__private__.putPages=function(){var B,ie,Ee=[];for(B=1;B<=Rr;B++)ar[B].objId=Ba(),ar[B].contentsObjId=Ba();for(B=1;B<=Rr;B++)Ee.push(Ze({number:B,data:Be[B],objId:ar[B].objId,contentsObjId:ar[B].contentsObjId,mediaBox:ar[B].mediaBox,cropBox:ar[B].cropBox,bleedBox:ar[B].bleedBox,trimBox:ar[B].trimBox,artBox:ar[B].artBox,userUnit:ar[B].userUnit,rootDictionaryObjId:be,resourceDictionaryObjId:je}));ce(be,!0),xe("<</Type /Pages");var Le="/Kids [";for(ie=0;ie<Rr;ie++)Le+=Ee[ie]+" 0 R ";xe(Le+"]"),xe("/Count "+Rr),xe(">>"),xe("endobj"),is.publish("postPutPages")},rt=function(B){is.publish("putFont",{font:B,out:xe,newObject:aa,putStream:ht}),B.isAlreadyPutted!==!0&&(B.objectNumber=aa(),xe("<<"),xe("/Type /Font"),xe("/BaseFont /"+Fp(B.postScriptName)),xe("/Subtype /Type1"),typeof B.encoding=="string"&&xe("/Encoding /"+B.encoding),xe("/FirstChar 32"),xe("/LastChar 255"),xe(">>"),xe("endobj"))},Dt=function(B){B.objectNumber=aa();var ie=[];ie.push({key:"Type",value:"/XObject"}),ie.push({key:"Subtype",value:"/Form"}),ie.push({key:"BBox",value:"["+[F(B.x),F(B.y),F(B.x+B.width),F(B.y+B.height)].join(" ")+"]"}),ie.push({key:"Matrix",value:"["+B.matrix.toString()+"]"});var Ee=B.pages[1].join(`
`);ht({data:Ee,additionalKeyValues:ie,objectId:B.objectNumber}),xe("endobj")},Ft=function(B,ie){ie||(ie=21);var Ee=aa(),Le=(function(Et,Qt){var lr,kr=[],Lr=1/(Qt-1);for(lr=0;lr<1;lr+=Lr)kr.push(lr);if(kr.push(1),Et[0].offset!=0){var ms={offset:0,color:Et[0].color};Et.unshift(ms)}if(Et[Et.length-1].offset!=1){var Ca={offset:1,color:Et[Et.length-1].color};Et.push(Ca)}for(var Za="",na=0,An=0;An<kr.length;An++){for(lr=kr[An];lr>Et[na+1].offset;)na++;var on=Et[na].offset,ii=(lr-on)/(Et[na+1].offset-on),xd=Et[na].color,Lo=Et[na+1].color;Za+=W(Math.round((1-ii)*xd[0]+ii*Lo[0]).toString(16))+W(Math.round((1-ii)*xd[1]+ii*Lo[1]).toString(16))+W(Math.round((1-ii)*xd[2]+ii*Lo[2]).toString(16))}return Za.trim()})(B.colors,ie),qe=[];qe.push({key:"FunctionType",value:"0"}),qe.push({key:"Domain",value:"[0.0 1.0]"}),qe.push({key:"Size",value:"["+ie+"]"}),qe.push({key:"BitsPerSample",value:"8"}),qe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),qe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ht({data:Le,additionalKeyValues:qe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ee}),xe("endobj"),B.objectNumber=aa(),xe("<< /ShadingType "+B.type),xe("/ColorSpace /DeviceRGB");var jt="/Coords ["+F(parseFloat(B.coords[0]))+" "+F(parseFloat(B.coords[1]))+" ";B.type===2?jt+=F(parseFloat(B.coords[2]))+" "+F(parseFloat(B.coords[3])):jt+=F(parseFloat(B.coords[2]))+" "+F(parseFloat(B.coords[3]))+" "+F(parseFloat(B.coords[4]))+" "+F(parseFloat(B.coords[5])),xe(jt+="]"),B.matrix&&xe("/Matrix ["+B.matrix.toString()+"]"),xe("/Function "+Ee+" 0 R"),xe("/Extend [true true]"),xe(">>"),xe("endobj")},Ht=function(B,ie){var Ee=Ba(),Le=aa();ie.push({resourcesOid:Ee,objectOid:Le}),B.objectNumber=Le;var qe=[];qe.push({key:"Type",value:"/Pattern"}),qe.push({key:"PatternType",value:"1"}),qe.push({key:"PaintType",value:"1"}),qe.push({key:"TilingType",value:"1"}),qe.push({key:"BBox",value:"["+B.boundingBox.map(F).join(" ")+"]"}),qe.push({key:"XStep",value:F(B.xStep)}),qe.push({key:"YStep",value:F(B.yStep)}),qe.push({key:"Resources",value:Ee+" 0 R"}),B.matrix&&qe.push({key:"Matrix",value:"["+B.matrix.toString()+"]"}),ht({data:B.stream,additionalKeyValues:qe,objectId:B.objectNumber}),xe("endobj")},Mt=function(B){for(var ie in B.objectNumber=aa(),xe("<<"),B)switch(ie){case"opacity":xe("/ca "+M(B[ie]));break;case"stroke-opacity":xe("/CA "+M(B[ie]))}xe(">>"),xe("endobj")},It=function(B){ce(B.resourcesOid,!0),xe("<<"),xe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var ie in xe("/Font <<"),Vt)Vt.hasOwnProperty(ie)&&(m===!1||m===!0&&p.hasOwnProperty(ie))&&xe("/"+ie+" "+Vt[ie].objectNumber+" 0 R");xe(">>")})(),(function(){if(Object.keys(cr).length>0){for(var ie in xe("/Shading <<"),cr)cr.hasOwnProperty(ie)&&cr[ie]instanceof lm&&cr[ie].objectNumber>=0&&xe("/"+ie+" "+cr[ie].objectNumber+" 0 R");is.publish("putShadingPatternDict"),xe(">>")}})(),(function(ie){if(Object.keys(cr).length>0){for(var Ee in xe("/Pattern <<"),cr)cr.hasOwnProperty(Ee)&&cr[Ee]instanceof x.TilingPattern&&cr[Ee].objectNumber>=0&&cr[Ee].objectNumber<ie&&xe("/"+Ee+" "+cr[Ee].objectNumber+" 0 R");is.publish("putTilingPatternDict"),xe(">>")}})(B.objectOid),(function(){if(Object.keys(fr).length>0){var ie;for(ie in xe("/ExtGState <<"),fr)fr.hasOwnProperty(ie)&&fr[ie].objectNumber>=0&&xe("/"+ie+" "+fr[ie].objectNumber+" 0 R");is.publish("putGStateDict"),xe(">>")}})(),(function(){for(var ie in xe("/XObject <<"),Un)Un.hasOwnProperty(ie)&&Un[ie].objectNumber>=0&&xe("/"+ie+" "+Un[ie].objectNumber+" 0 R");is.publish("putXobjectDict"),xe(">>")})(),xe(">>"),xe("endobj")},Yt=function(B){pr[B.fontName]=pr[B.fontName]||{},pr[B.fontName][B.fontStyle]=B.id},Ls=function(B,ie,Ee,Le,qe){var jt={id:"F"+(Object.keys(Vt).length+1).toString(10),postScriptName:B,fontName:ie,fontStyle:Ee,encoding:Le,isStandardFont:qe||!1,metadata:{}};return is.publish("addFont",{font:jt,instance:this}),Vt[jt.id]=jt,Yt(jt),jt.id},ts=x.__private__.pdfEscape=x.pdfEscape=function(B,ie){return(function(Ee,Le){var qe,jt,Et,Qt,lr,kr,Lr,ms,Ca;if(Et=(Le=Le||{}).sourceEncoding||"Unicode",lr=Le.outputEncoding,(Le.autoencode||lr)&&Vt[xt].metadata&&Vt[xt].metadata[Et]&&Vt[xt].metadata[Et].encoding&&(Qt=Vt[xt].metadata[Et].encoding,!lr&&Vt[xt].encoding&&(lr=Vt[xt].encoding),!lr&&Qt.codePages&&(lr=Qt.codePages[0]),typeof lr=="string"&&(lr=Qt[lr]),lr)){for(Lr=!1,kr=[],qe=0,jt=Ee.length;qe<jt;qe++)(ms=lr[Ee.charCodeAt(qe)])?kr.push(String.fromCharCode(ms)):kr.push(Ee[qe]),kr[qe].charCodeAt(0)>>8&&(Lr=!0);Ee=kr.join("")}for(qe=Ee.length;Lr===void 0&&qe!==0;)Ee.charCodeAt(qe-1)>>8&&(Lr=!0),qe--;if(!Lr)return Ee;for(kr=Le.noBOM?[]:[254,255],qe=0,jt=Ee.length;qe<jt;qe++){if((Ca=(ms=Ee.charCodeAt(qe))>>8)>>8)throw new Error("Character at position "+qe+" of string '"+Ee+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");kr.push(Ca),kr.push(ms-(Ca<<8))}return String.fromCharCode.apply(void 0,kr)})(B,ie).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},$s=x.__private__.beginPage=function(B){Be[++Rr]=[],ar[Rr]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(B[0]),topRightY:Number(B[1])}},Do(Rr),nt(Be[H])},Hi=function(B,ie){var Ee,Le,qe;switch(s=ie||s,typeof B=="string"&&(Ee=j(B.toLowerCase()),Array.isArray(Ee)&&(Le=Ee[0],qe=Ee[1])),Array.isArray(B)&&(Le=B[0]*At,qe=B[1]*At),isNaN(Le)&&(Le=n[0],qe=n[1]),(Le>14400||qe>14400)&&(ga.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Le=Math.min(14400,Le),qe=Math.min(14400,qe)),n=[Le,qe],s.substr(0,1)){case"l":qe>Le&&(n=[qe,Le]);break;case"p":Le>qe&&(n=[qe,Le])}$s(n),jr(Ju),xe(Dl),vf!==0&&xe(vf+" J"),zn!==0&&xe(zn+" j"),is.publish("addPage",{pageNumber:Rr})},Oo=function(B){B>0&&B<=Rr&&(Be.splice(B,1),ar.splice(B,1),Rr--,H>Rr&&(H=Rr),this.setPage(H))},Do=function(B){B>0&&B<=Rr&&(H=B)},Pl=x.__private__.getNumberOfPages=x.getNumberOfPages=function(){return Be.length-1},tu=function(B,ie,Ee){var Le,qe=void 0;return Ee=Ee||{},B=B!==void 0?B:Vt[xt].fontName,ie=ie!==void 0?ie:Vt[xt].fontStyle,Le=B.toLowerCase(),pr[Le]!==void 0&&pr[Le][ie]!==void 0?qe=pr[Le][ie]:pr[B]!==void 0&&pr[B][ie]!==void 0?qe=pr[B][ie]:Ee.disableWarning===!1&&ga.warn("Unable to look up font label for font '"+B+"', '"+ie+"'. Refer to getFontList() for available fonts."),qe||Ee.noFallback||(qe=pr.times[ie])==null&&(qe=pr.times.normal),qe},Aa=x.__private__.putInfo=function(){var B=aa(),ie=function(Le){return Le};for(var Ee in h!==null&&(ie=kn.encryptor(B,0)),xe("<<"),xe("/Producer ("+ts(ie("jsPDF "+nr.version))+")"),mt)mt.hasOwnProperty(Ee)&&mt[Ee]&&xe("/"+Ee.substr(0,1).toUpperCase()+Ee.substr(1)+" ("+ts(ie(mt[Ee]))+")");xe("/CreationDate ("+ts(ie(ae))+")"),xe(">>"),xe("endobj")},ld=x.__private__.putCatalog=function(B){var ie=(B=B||{}).rootDictionaryObjId||be;switch(aa(),xe("<<"),xe("/Type /Catalog"),xe("/Pages "+ie+" 0 R"),qt||(qt="fullwidth"),qt){case"fullwidth":xe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":xe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":xe("/OpenAction [3 0 R /Fit]");break;case"original":xe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ee=""+qt;Ee.substr(Ee.length-1)==="%"&&(qt=parseInt(qt)/100),typeof qt=="number"&&xe("/OpenAction [3 0 R /XYZ null null "+M(qt)+"]")}switch(Me||(Me="continuous"),Me){case"continuous":xe("/PageLayout /OneColumn");break;case"single":xe("/PageLayout /SinglePage");break;case"two":case"twoleft":xe("/PageLayout /TwoColumnLeft");break;case"tworight":xe("/PageLayout /TwoColumnRight")}ne&&xe("/PageMode /"+ne),is.publish("putCatalog"),xe(">>"),xe("endobj")},Ro=x.__private__.putTrailer=function(){xe("trailer"),xe("<<"),xe("/Size "+(G+1)),xe("/Root "+G+" 0 R"),xe("/Info "+(G-1)+" 0 R"),h!==null&&xe("/Encrypt "+kn.oid+" 0 R"),xe("/ID [ <"+V+"> <"+V+"> ]"),xe(">>")},ws=x.__private__.putHeader=function(){xe("%PDF-"+v),xe("%")},zm=x.__private__.putXRef=function(){var B="0000000000";xe("xref"),xe("0 "+(G+1)),xe("0000000000 65535 f ");for(var ie=1;ie<=G;ie++)typeof fe[ie]=="function"?xe((B+fe[ie]()).slice(-10)+" 00000 n "):fe[ie]!==void 0?xe((B+fe[ie]).slice(-10)+" 00000 n "):xe("0000000000 00000 n ")},fc=x.__private__.buildDocument=function(){var B;G=0,se=0,Se=[],fe=[],ge=[],be=Ba(),je=Ba(),nt(Se),is.publish("buildDocument"),ws(),Je(),(function(){is.publish("putAdditionalObjects");for(var Ee=0;Ee<ge.length;Ee++){var Le=ge[Ee];ce(Le.objId,!0),xe(Le.content),xe("endobj")}is.publish("postPutAdditionalObjects")})(),B=[],(function(){for(var Ee in Vt)Vt.hasOwnProperty(Ee)&&(m===!1||m===!0&&p.hasOwnProperty(Ee))&&rt(Vt[Ee])})(),(function(){var Ee;for(Ee in fr)fr.hasOwnProperty(Ee)&&Mt(fr[Ee])})(),(function(){for(var Ee in Un)Un.hasOwnProperty(Ee)&&Dt(Un[Ee])})(),(function(Ee){var Le;for(Le in cr)cr.hasOwnProperty(Le)&&(cr[Le]instanceof lm?Ft(cr[Le]):cr[Le]instanceof k0&&Ht(cr[Le],Ee))})(B),is.publish("putResources"),B.forEach(It),It({resourcesOid:je,objectOid:Number.MAX_SAFE_INTEGER}),is.publish("postPutResources"),h!==null&&(kn.oid=aa(),xe("<<"),xe("/Filter /Standard"),xe("/V "+kn.v),xe("/R "+kn.r),xe("/U <"+kn.toHexString(kn.U)+">"),xe("/O <"+kn.toHexString(kn.O)+">"),xe("/P "+kn.P),xe(">>"),xe("endobj")),Aa(),ld();var ie=se;return zm(),Ro(),xe("startxref"),xe(""+ie),xe("%%EOF"),nt(Be[H]),Se.join(`
`)},ru=x.__private__.getBlob=function(B){return new Blob([ut(B)],{type:"application/pdf"})},$m=x.output=x.__private__.output=($i=function(B,ie){switch(typeof(ie=ie||{})=="string"?ie={filename:ie}:ie.filename=ie.filename||"generated.pdf",B){case void 0:return fc();case"save":x.save(ie.filename);break;case"arraybuffer":return ut(fc());case"blob":return ru(fc());case"bloburi":case"bloburl":if(Or.URL!==void 0&&typeof Or.URL.createObjectURL=="function")return Or.URL&&Or.URL.createObjectURL(ru(fc()))||void 0;ga.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ee="",Le=fc();try{Ee=u9(Le)}catch{Ee=u9(unescape(encodeURIComponent(Le)))}return"data:application/pdf;filename="+ie.filename+";base64,"+Ee;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Or)==="[object Window]"){var qe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",jt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ie.pdfObjectUrl&&(qe=ie.pdfObjectUrl,jt="");var Et='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+qe+'"'+jt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ie)+");<\/script></body></html>",Qt=Or.open();return Qt!==null&&Qt.document.write(Et),Qt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Or)==="[object Window]"){var lr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ie.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ie.filename+'" width="500px" height="400px" /></body></html>',kr=Or.open();if(kr!==null){kr.document.write(lr);var Lr=this;kr.document.documentElement.querySelector("#pdfViewer").onload=function(){kr.document.title=ie.filename,kr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Lr.output("bloburl"))}}return kr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Or)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ms='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ie)+'"></iframe></body></html>',Ca=Or.open();if(Ca!==null&&(Ca.document.write(ms),Ca.document.title=ie.filename),Ca||typeof safari>"u")return Ca;break;case"datauri":case"dataurl":return Or.document.location.href=this.output("datauristring",ie);default:return null}},$i.foo=function(){try{return $i.apply(this,arguments)}catch(Ee){var B=Ee.stack||"";~B.indexOf(" at ")&&(B=B.split(" at ")[1]);var ie="Error in function "+B.split(`
`)[0].split("<")[0]+": "+Ee.message;if(!Or.console)throw new Error(ie);Or.console.error(ie,Ee),Or.alert&&alert(ie)}},$i.foo.bar=$i,$i.foo),qi=function(B){return Array.isArray(El)===!0&&El.indexOf(B)>-1};switch(a){case"pt":At=1;break;case"mm":At=72/25.4;break;case"cm":At=72/2.54;break;case"in":At=72;break;case"px":At=qi("px_scaling")==1?.75:96/72;break;case"pc":case"em":At=12;break;case"ex":At=6;break;default:if(typeof a!="number")throw new Error("Invalid unit: "+a);At=a}var kn=null;te(),X();var ln=x.__private__.getPageInfo=x.getPageInfo=function(B){if(isNaN(B)||B%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ar[B].objId,pageNumber:B,pageContext:ar[B]}},pf=x.__private__.getPageInfoByObjId=function(B){if(isNaN(B)||B%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ie in ar)if(ar[ie].objId===B)break;return ln(ie)},Ex=x.__private__.getCurrentPageInfo=x.getCurrentPageInfo=function(){return{objId:ar[H].objId,pageNumber:H,pageContext:ar[H]}};x.addPage=function(){return Hi.apply(this,arguments),this},x.setPage=function(){return Do.apply(this,arguments),nt.call(this,Be[H]),this},x.insertPage=function(B){return this.addPage(),this.movePage(H,B),this},x.movePage=function(B,ie){var Ee,Le;if(B>ie){Ee=Be[B],Le=ar[B];for(var qe=B;qe>ie;qe--)Be[qe]=Be[qe-1],ar[qe]=ar[qe-1];Be[ie]=Ee,ar[ie]=Le,this.setPage(ie)}else if(B<ie){Ee=Be[B],Le=ar[B];for(var jt=B;jt<ie;jt++)Be[jt]=Be[jt+1],ar[jt]=ar[jt+1];Be[ie]=Ee,ar[ie]=Le,this.setPage(ie)}return this},x.deletePage=function(){return Oo.apply(this,arguments),this},x.__private__.text=x.text=function(B,ie,Ee,Le,qe){var jt,Et,Qt,lr,kr,Lr,ms,Ca,Za,na=(Le=Le||{}).scope||this;if(typeof B=="number"&&typeof ie=="number"&&(typeof Ee=="string"||Array.isArray(Ee))){var An=Ee;Ee=ie,ie=B,B=An}if(arguments[3]instanceof hr==0?(Qt=arguments[4],lr=arguments[5],ea(ms=arguments[3])==="object"&&ms!==null||(typeof Qt=="string"&&(lr=Qt,Qt=null),typeof ms=="string"&&(lr=ms,ms=null),typeof ms=="number"&&(Qt=ms,ms=null),Le={flags:ms,angle:Qt,align:lr})):(I("The transform parameter of text() with a Matrix value"),Za=qe),isNaN(ie)||isNaN(Ee)||B==null)throw new Error("Invalid arguments passed to jsPDF.text");if(B.length===0)return na;var on,ii="",xd=typeof Le.lineHeightFactor=="number"?Le.lineHeightFactor:od,Lo=na.internal.scaleFactor;function pd(Ss){return Ss=Ss.split("	").join(Array(Le.TabLen||9).join(" ")),ts(Ss,ms)}function Zm(Ss){for(var xs,ia=Ss.concat(),Qa=[],wc=ia.length;wc--;)typeof(xs=ia.shift())=="string"?Qa.push(xs):Array.isArray(Ss)&&(xs.length===1||xs[1]===void 0&&xs[2]===void 0)?Qa.push(xs[0]):Qa.push([xs[0],xs[1],xs[2]]);return Qa}function bf(Ss,xs){var ia;if(typeof Ss=="string")ia=xs(Ss)[0];else if(Array.isArray(Ss)){for(var Qa,wc,zo=Ss.concat(),nh=[],e0=zo.length;e0--;)typeof(Qa=zo.shift())=="string"?nh.push(xs(Qa)[0]):Array.isArray(Qa)&&typeof Qa[0]=="string"&&(wc=xs(Qa[0],Qa[1],Qa[2]),nh.push([wc[0],wc[1],wc[2]]));ia=nh}return ia}var pc=!1,Io=!0;if(typeof B=="string")pc=!0;else if(Array.isArray(B)){var sh=B.concat();Et=[];for(var gd,$n=sh.length;$n--;)(typeof(gd=sh.shift())!="string"||Array.isArray(gd)&&typeof gd[0]!="string")&&(Io=!1);pc=Io}if(pc===!1)throw new Error('Type of text must be string or Array. "'+B+'" is not recognized.');typeof B=="string"&&(B=B.match(/[\r?\n]/)?B.split(/\r\n|\r|\n/g):[B]);var au=Ge/na.internal.scaleFactor,nu=au*(xd-1);switch(Le.baseline){case"bottom":Ee-=nu;break;case"top":Ee+=au-nu;break;case"hanging":Ee+=au-2*nu;break;case"middle":Ee+=au/2-nu}if((Lr=Le.maxWidth||0)>0&&(typeof B=="string"?B=na.splitTextToSize(B,Lr):Object.prototype.toString.call(B)==="[object Array]"&&(B=B.reduce(function(Ss,xs){return Ss.concat(na.splitTextToSize(xs,Lr))},[]))),jt={text:B,x:ie,y:Ee,options:Le,mutex:{pdfEscape:ts,activeFontKey:xt,fonts:Vt,activeFontSize:Ge}},is.publish("preProcessText",jt),B=jt.text,Qt=(Le=jt.options).angle,Za instanceof hr==0&&Qt&&typeof Qt=="number"){Qt*=Math.PI/180,Le.rotationDirection===0&&(Qt=-Qt),k===w&&(Qt=-Qt);var jf=Math.cos(Qt),gc=Math.sin(Qt);Za=new hr(jf,gc,-gc,jf,0,0)}else Qt&&Qt instanceof hr&&(Za=Qt);k!==w||Za||(Za=Jl),(kr=Le.charSpace||Ql)!==void 0&&(ii+=F(J(kr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ca=Le.horizontalScale)!==void 0&&(ii+=F(100*Ca)+` Tz
`),Le.lang;var Wi=-1,vd=Le.renderingMode!==void 0?Le.renderingMode:Le.stroke,Nf=na.internal.getCurrentPageInfo().pageContext;switch(vd){case 0:case!1:case"fill":Wi=0;break;case 1:case!0:case"stroke":Wi=1;break;case 2:case"fillThenStroke":Wi=2;break;case 3:case"invisible":Wi=3;break;case 4:case"fillAndAddForClipping":Wi=4;break;case 5:case"strokeAndAddPathForClipping":Wi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Wi=6;break;case 7:case"addToPathForClipping":Wi=7}var Jm=Nf.usedRenderingMode!==void 0?Nf.usedRenderingMode:-1;Wi!==-1?ii+=Wi+` Tr
`:Jm!==-1&&(ii+=`0 Tr
`),Wi!==-1&&(Nf.usedRenderingMode=Wi),lr=Le.align||"left";var Rl,Bo=Ge*xd,yd=na.internal.pageSize.getWidth(),Qm=Vt[xt];kr=Le.charSpace||Ql,Lr=Le.maxWidth||0,ms=Object.assign({autoencode:!0,noBOM:!0},Le.flags);var Uo=[],iu=function(Ss){return na.getStringUnitWidth(Ss,{font:Qm,charSpace:kr,fontSize:Ge,doKerning:!1})*Ge/Lo};if(Object.prototype.toString.call(B)==="[object Array]"){var ll;Et=Zm(B),lr!=="left"&&(Rl=Et.map(iu));var Gi,vc=0;if(lr==="right"){ie-=Rl[0],B=[],$n=Et.length;for(var yc=0;yc<$n;yc++)yc===0?(Gi=Ol(ie),ll=ni(Ee)):(Gi=J(vc-Rl[yc]),ll=-Bo),B.push([Et[yc],Gi,ll]),vc=Rl[yc]}else if(lr==="center"){ie-=Rl[0]/2,B=[],$n=Et.length;for(var bd=0;bd<$n;bd++)bd===0?(Gi=Ol(ie),ll=ni(Ee)):(Gi=J((vc-Rl[bd])/2),ll=-Bo),B.push([Et[bd],Gi,ll]),vc=Rl[bd]}else if(lr==="left"){B=[],$n=Et.length;for(var wf=0;wf<$n;wf++)B.push(Et[wf])}else if(lr==="justify"&&Qm.encoding==="Identity-H"){B=[],$n=Et.length,Lr=Lr!==0?Lr:yd;for(var Sf=0,Ja=0;Ja<$n;Ja++)if(ll=Ja===0?ni(Ee):-Bo,Gi=Ja===0?Ol(ie):Sf,Ja<$n-1){var Bx=J((Lr-Rl[Ja])/(Et[Ja].split(" ").length-1)),bc=Et[Ja].split(" ");B.push([bc[0]+" ",Gi,ll]),Sf=0;for(var jc=1;jc<bc.length;jc++){var li=(iu(bc[jc-1]+" "+bc[jc])-iu(bc[jc]))*Lo+Bx;jc==bc.length-1?B.push([bc[jc],li,0]):B.push([bc[jc]+" ",li,0]),Sf-=li}}else B.push([Et[Ja],Gi,ll]);B.push(["",Sf,0])}else{if(lr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(B=[],$n=Et.length,Lr=Lr!==0?Lr:yd,Ja=0;Ja<$n;Ja++){ll=Ja===0?ni(Ee):-Bo,Gi=Ja===0?Ol(ie):0;var jd=Et[Ja].split(" ").length-1,_f=jd>0?(Lr-Rl[Ja])/jd:0;Ja<$n-1?Uo.push(F(J(_f))):Uo.push(0),B.push([Et[Ja],Gi,ll])}}}(typeof Le.R2L=="boolean"?Le.R2L:_e)===!0&&(B=bf(B,function(Ss,xs,ia){return[Ss.split("").reverse().join(""),xs,ia]})),jt={text:B,x:ie,y:Ee,options:Le,mutex:{pdfEscape:ts,activeFontKey:xt,fonts:Vt,activeFontSize:Ge}},is.publish("postProcessText",jt),B=jt.text,on=jt.mutex.isHex||!1;var kf=Vt[xt].encoding;kf!=="WinAnsiEncoding"&&kf!=="StandardEncoding"||(B=bf(B,function(Ss,xs,ia){return[pd(Ss),xs,ia]})),Et=Zm(B),B=[];for(var Nd,wd,Nc,ah=Array.isArray(Et[0])?1:0,Ml="",Sd=function(Ss,xs,ia){var Qa="";return ia instanceof hr?(ia=typeof Le.angle=="number"?Po(ia,new hr(1,0,0,1,Ss,xs)):Po(new hr(1,0,0,1,Ss,xs),ia),k===w&&(ia=Po(new hr(1,0,0,-1,0,0),ia)),Qa=ia.join(" ")+` Tm
`):Qa=F(Ss)+" "+F(xs)+` Td
`,Qa},wi=0;wi<Et.length;wi++){switch(Ml="",ah){case 1:Nc=(on?"<":"(")+Et[wi][0]+(on?">":")"),Nd=parseFloat(Et[wi][1]),wd=parseFloat(Et[wi][2]);break;case 0:Nc=(on?"<":"(")+Et[wi]+(on?">":")"),Nd=Ol(ie),wd=ni(Ee)}Uo!==void 0&&Uo[wi]!==void 0&&(Ml=Uo[wi]+` Tw
`),wi===0?B.push(Ml+Sd(Nd,wd,Za)+Nc):ah===0?B.push(Ml+Nc):ah===1&&B.push(Ml+Sd(Nd,wd,Za)+Nc)}B=ah===0?B.join(` Tj
T* `):B.join(` Tj
`),B+=` Tj
`;var to=`BT
/`;return to+=xt+" "+Ge+` Tf
`,to+=F(Ge*xd)+` TL
`,to+=mc+`
`,to+=ii,to+=B,xe(to+="ET"),p[xt]=!0,na};var Hm=x.__private__.clip=x.clip=function(B){return xe(B==="evenodd"?"W*":"W"),this};x.clipEvenOdd=function(){return Hm("evenodd")},x.__private__.discardPath=x.discardPath=function(){return xe("n"),this};var Vi=x.__private__.isValidStyle=function(B){var ie=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(B)!==-1&&(ie=!0),ie};x.__private__.setDefaultPathOperation=x.setDefaultPathOperation=function(B){return Vi(B)&&(d=B),this};var qm=x.__private__.getStyle=x.getStyle=function(B){var ie=d;switch(B){case"D":case"S":ie="S";break;case"F":ie="f";break;case"FD":case"DF":ie="B";break;case"f":case"f*":case"B":case"B*":ie=B}return ie},Vm=x.close=function(){return xe("h"),this};x.stroke=function(){return xe("S"),this},x.fill=function(B){return Mo("f",B),this},x.fillEvenOdd=function(B){return Mo("f*",B),this},x.fillStroke=function(B){return Mo("B",B),this},x.fillStrokeEvenOdd=function(B){return Mo("B*",B),this};var Mo=function(B,ie){ea(ie)==="object"?Ox(ie,B):xe(B)},Zu=function(B){B===null||k===w&&B===void 0||(B=qm(B),xe(B))};function Px(B,ie,Ee,Le,qe){var jt=new k0(ie||this.boundingBox,Ee||this.xStep,Le||this.yStep,this.gState,qe||this.matrix);jt.stream=this.stream;var Et=B+"$$"+this.cloneIndex+++"$$";return ai(Et,jt),jt}var Ox=function(B,ie){var Ee=Ns[B.key],Le=cr[Ee];if(Le instanceof lm)xe("q"),xe(Wm(ie)),Le.gState&&x.setGState(Le.gState),xe(B.matrix.toString()+" cm"),xe("/"+Ee+" sh"),xe("Q");else if(Le instanceof k0){var qe=new hr(1,0,0,-1,0,md());B.matrix&&(qe=qe.multiply(B.matrix||Jl),Ee=Px.call(Le,B.key,B.boundingBox,B.xStep,B.yStep,qe).id),xe("q"),xe("/Pattern cs"),xe("/"+Ee+" scn"),Le.gState&&x.setGState(Le.gState),xe(ie),xe("Q")}},Wm=function(B){switch(B){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Gm=x.moveTo=function(B,ie){return xe(F(J(B))+" "+F(K(ie))+" m"),this},Dx=x.lineTo=function(B,ie){return xe(F(J(B))+" "+F(K(ie))+" l"),this},il=x.curveTo=function(B,ie,Ee,Le,qe,jt){return xe([F(J(B)),F(K(ie)),F(J(Ee)),F(K(Le)),F(J(qe)),F(K(jt)),"c"].join(" ")),this};x.__private__.line=x.line=function(B,ie,Ee,Le,qe){if(isNaN(B)||isNaN(ie)||isNaN(Ee)||isNaN(Le)||!Vi(qe))throw new Error("Invalid arguments passed to jsPDF.line");return k===S?this.lines([[Ee-B,Le-ie]],B,ie,[1,1],qe||"S"):this.lines([[Ee-B,Le-ie]],B,ie,[1,1]).stroke()},x.__private__.lines=x.lines=function(B,ie,Ee,Le,qe,jt){var Et,Qt,lr,kr,Lr,ms,Ca,Za,na,An,on,ii;if(typeof B=="number"&&(ii=Ee,Ee=ie,ie=B,B=ii),Le=Le||[1,1],jt=jt||!1,isNaN(ie)||isNaN(Ee)||!Array.isArray(B)||!Array.isArray(Le)||!Vi(qe)||typeof jt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Gm(ie,Ee),Et=Le[0],Qt=Le[1],kr=B.length,An=ie,on=Ee,lr=0;lr<kr;lr++)(Lr=B[lr]).length===2?(An=Lr[0]*Et+An,on=Lr[1]*Qt+on,Dx(An,on)):(ms=Lr[0]*Et+An,Ca=Lr[1]*Qt+on,Za=Lr[2]*Et+An,na=Lr[3]*Qt+on,An=Lr[4]*Et+An,on=Lr[5]*Qt+on,il(ms,Ca,Za,na,An,on));return jt&&Vm(),Zu(qe),this},x.path=function(B){for(var ie=0;ie<B.length;ie++){var Ee=B[ie],Le=Ee.c;switch(Ee.op){case"m":Gm(Le[0],Le[1]);break;case"l":Dx(Le[0],Le[1]);break;case"c":il.apply(this,Le);break;case"h":Vm()}}return this},x.__private__.rect=x.rect=function(B,ie,Ee,Le,qe){if(isNaN(B)||isNaN(ie)||isNaN(Ee)||isNaN(Le)||!Vi(qe))throw new Error("Invalid arguments passed to jsPDF.rect");return k===S&&(Le=-Le),xe([F(J(B)),F(K(ie)),F(J(Ee)),F(J(Le)),"re"].join(" ")),Zu(qe),this},x.__private__.triangle=x.triangle=function(B,ie,Ee,Le,qe,jt,Et){if(isNaN(B)||isNaN(ie)||isNaN(Ee)||isNaN(Le)||isNaN(qe)||isNaN(jt)||!Vi(Et))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ee-B,Le-ie],[qe-Ee,jt-Le],[B-qe,ie-jt]],B,ie,[1,1],Et,!0),this},x.__private__.roundedRect=x.roundedRect=function(B,ie,Ee,Le,qe,jt,Et){if(isNaN(B)||isNaN(ie)||isNaN(Ee)||isNaN(Le)||isNaN(qe)||isNaN(jt)||!Vi(Et))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Qt=4/3*(Math.SQRT2-1);return qe=Math.min(qe,.5*Ee),jt=Math.min(jt,.5*Le),this.lines([[Ee-2*qe,0],[qe*Qt,0,qe,jt-jt*Qt,qe,jt],[0,Le-2*jt],[0,jt*Qt,-qe*Qt,jt,-qe,jt],[2*qe-Ee,0],[-qe*Qt,0,-qe,-jt*Qt,-qe,-jt],[0,2*jt-Le],[0,-jt*Qt,qe*Qt,-jt,qe,-jt]],B+qe,ie,[1,1],Et,!0),this},x.__private__.ellipse=x.ellipse=function(B,ie,Ee,Le,qe){if(isNaN(B)||isNaN(ie)||isNaN(Ee)||isNaN(Le)||!Vi(qe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var jt=4/3*(Math.SQRT2-1)*Ee,Et=4/3*(Math.SQRT2-1)*Le;return Gm(B+Ee,ie),il(B+Ee,ie-Et,B+jt,ie-Le,B,ie-Le),il(B-jt,ie-Le,B-Ee,ie-Et,B-Ee,ie),il(B-Ee,ie+Et,B-jt,ie+Le,B,ie+Le),il(B+jt,ie+Le,B+Ee,ie+Et,B+Ee,ie),Zu(qe),this},x.__private__.circle=x.circle=function(B,ie,Ee,Le){if(isNaN(B)||isNaN(ie)||isNaN(Ee)||!Vi(Le))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(B,ie,Ee,Ee,Le)},x.setFont=function(B,ie,Ee){return Ee&&(ie=E(ie,Ee)),xt=tu(B,ie,{disableWarning:!1}),this};var Fo=x.__private__.getFont=x.getFont=function(){return Vt[tu.apply(x,arguments)]};x.__private__.getFontList=x.getFontList=function(){var B,ie,Ee={};for(B in pr)if(pr.hasOwnProperty(B))for(ie in Ee[B]=[],pr[B])pr[B].hasOwnProperty(ie)&&Ee[B].push(ie);return Ee},x.addFont=function(B,ie,Ee,Le,qe){var jt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&jt.indexOf(arguments[3])!==-1?qe=arguments[3]:arguments[3]&&jt.indexOf(arguments[3])==-1&&(Ee=E(Ee,Le)),Ls.call(this,B,ie,Ee,qe=qe||"Identity-H")};var od,Ju=e.lineWidth||.200025,su=x.__private__.getLineWidth=x.getLineWidth=function(){return Ju},jr=x.__private__.setLineWidth=x.setLineWidth=function(B){return Ju=B,xe(F(J(B))+" w"),this};x.__private__.setLineDash=nr.API.setLineDash=nr.API.setLineDashPattern=function(B,ie){if(B=B||[],ie=ie||0,isNaN(ie)||!Array.isArray(B))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return B=B.map(function(Ee){return F(J(Ee))}).join(" "),ie=F(J(ie)),xe("["+B+"] "+ie+" d"),this};var Rx=x.__private__.getLineHeight=x.getLineHeight=function(){return Ge*od};x.__private__.getLineHeight=x.getLineHeight=function(){return Ge*od};var Km=x.__private__.setLineHeightFactor=x.setLineHeightFactor=function(B){return typeof(B=B||1.15)=="number"&&(od=B),this},Mx=x.__private__.getLineHeightFactor=x.getLineHeightFactor=function(){return od};Km(e.lineHeight);var Ol=x.__private__.getHorizontalCoordinate=function(B){return J(B)},ni=x.__private__.getVerticalCoordinate=function(B){return k===w?B:ar[H].mediaBox.topRightY-ar[H].mediaBox.bottomLeftY-J(B)},Ym=x.__private__.getHorizontalCoordinateString=x.getHorizontalCoordinateString=function(B){return F(Ol(B))},Qu=x.__private__.getVerticalCoordinateString=x.getVerticalCoordinateString=function(B){return F(ni(B))},Dl=e.strokeColor||"0 G";x.__private__.getStrokeColor=x.getDrawColor=function(){return ke(Dl)},x.__private__.setStrokeColor=x.setDrawColor=function(B,ie,Ee,Le){return Dl=Pe({ch1:B,ch2:ie,ch3:Ee,ch4:Le,pdfColorType:"draw",precision:2}),xe(Dl),this};var eh=e.fillColor||"0 g";x.__private__.getFillColor=x.getFillColor=function(){return ke(eh)},x.__private__.setFillColor=x.setFillColor=function(B,ie,Ee,Le){return eh=Pe({ch1:B,ch2:ie,ch3:Ee,ch4:Le,pdfColorType:"fill",precision:2}),xe(eh),this};var mc=e.textColor||"0 g",Fx=x.__private__.getTextColor=x.getTextColor=function(){return ke(mc)};x.__private__.setTextColor=x.setTextColor=function(B,ie,Ee,Le){return mc=Pe({ch1:B,ch2:ie,ch3:Ee,ch4:Le,pdfColorType:"text",precision:3}),this};var Ql=e.charSpace,gf=x.__private__.getCharSpace=x.getCharSpace=function(){return parseFloat(Ql||0)};x.__private__.setCharSpace=x.setCharSpace=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ql=B,this};var vf=0;x.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},x.__private__.setLineCap=x.setLineCap=function(B){var ie=x.CapJoinStyles[B];if(ie===void 0)throw new Error("Line cap style of '"+B+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return vf=ie,xe(ie+" J"),this};var zn=0;x.__private__.setLineJoin=x.setLineJoin=function(B){var ie=x.CapJoinStyles[B];if(ie===void 0)throw new Error("Line join style of '"+B+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return zn=ie,xe(ie+" j"),this},x.__private__.setLineMiterLimit=x.__private__.setMiterLimit=x.setLineMiterLimit=x.setMiterLimit=function(B){if(B=B||0,isNaN(B))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return xe(F(J(B))+" M"),this},x.GState=mb,x.setGState=function(B){(B=typeof B=="string"?fr[Sr[B]]:xc(null,B)).equals(Fs)||(xe("/"+B.id+" gs"),Fs=B)};var xc=function(B,ie){if(!B||!Sr[B]){var Ee=!1;for(var Le in fr)if(fr.hasOwnProperty(Le)&&fr[Le].equals(ie)){Ee=!0;break}if(Ee)ie=fr[Le];else{var qe="GS"+(Object.keys(fr).length+1).toString(10);fr[qe]=ie,ie.id=qe}return B&&(Sr[B]=ie.id),is.publish("addGState",ie),ie}};x.addGState=function(B,ie){return xc(B,ie),this},x.saveGraphicsState=function(){return xe("q"),Hr.push({key:xt,size:Ge,color:mc}),this},x.restoreGraphicsState=function(){xe("Q");var B=Hr.pop();return xt=B.key,Ge=B.size,mc=B.color,Fs=null,this},x.setCurrentTransformationMatrix=function(B){return xe(B.toString()+" cm"),this},x.comment=function(B){return xe("#"+B),this};var eo=function(B,ie){var Ee=B||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ee},set:function(jt){isNaN(jt)||(Ee=parseFloat(jt))}});var Le=ie||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Le},set:function(jt){isNaN(jt)||(Le=parseFloat(jt))}});var qe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return qe},set:function(jt){qe=jt.toString()}}),this},cd=function(B,ie,Ee,Le){eo.call(this,B,ie),this.type="rect";var qe=Ee||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return qe},set:function(Et){isNaN(Et)||(qe=parseFloat(Et))}});var jt=Le||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return jt},set:function(Et){isNaN(Et)||(jt=parseFloat(Et))}}),this},yf=function(){this.page=Rr,this.currentPage=H,this.pages=Be.slice(0),this.pagesContext=ar.slice(0),this.x=Ot,this.y=br,this.matrix=Jt,this.width=ud(H),this.height=Xm(H),this.outputDestination=at,this.id="",this.objectNumber=-1};yf.prototype.restore=function(){Rr=this.page,H=this.currentPage,ar=this.pagesContext,Be=this.pages,Ot=this.x,br=this.y,Jt=this.matrix,rh(H,this.width),hd(H,this.height),at=this.outputDestination};var th=function(B,ie,Ee,Le,qe){nl.push(new yf),Rr=H=0,Be=[],Ot=B,br=ie,Jt=qe,$s([Ee,Le])};for(var dd in x.beginFormObject=function(B,ie,Ee,Le,qe){return th(B,ie,Ee,Le,qe),this},x.endFormObject=function(B){return(function(ie){if(Zl[ie])nl.pop().restore();else{var Ee=new yf,Le="Xo"+(Object.keys(Un).length+1).toString(10);Ee.id=Le,Zl[ie]=Le,Un[Le]=Ee,is.publish("addFormObject",Ee),nl.pop().restore()}})(B),this},x.doFormObject=function(B,ie){var Ee=Un[Zl[B]];return xe("q"),xe(ie.toString()+" cm"),xe("/"+Ee.id+" Do"),xe("Q"),this},x.getFormObject=function(B){var ie=Un[Zl[B]];return{x:ie.x,y:ie.y,width:ie.width,height:ie.height,matrix:ie.matrix}},x.save=function(B,ie){return B=B||"generated.pdf",(ie=ie||{}).returnPromise=ie.returnPromise||!1,ie.returnPromise===!1?(y0(ru(fc()),B),typeof y0.unload=="function"&&Or.setTimeout&&setTimeout(y0.unload,911),this):new Promise(function(Ee,Le){try{var qe=y0(ru(fc()),B);typeof y0.unload=="function"&&Or.setTimeout&&setTimeout(y0.unload,911),Ee(qe)}catch(jt){Le(jt.message)}})},nr.API)nr.API.hasOwnProperty(dd)&&(dd==="events"&&nr.API.events.length?(function(B,ie){var Ee,Le,qe;for(qe=ie.length-1;qe!==-1;qe--)Ee=ie[qe][0],Le=ie[qe][1],B.subscribe.apply(B,[Ee].concat(typeof Le=="function"?[Le]:Le))})(is,nr.API.events):x[dd]=nr.API[dd]);function ud(B){return ar[B].mediaBox.topRightX-ar[B].mediaBox.bottomLeftX}function rh(B,ie){ar[B].mediaBox.topRightX=ie+ar[B].mediaBox.bottomLeftX}function Xm(B){return ar[B].mediaBox.topRightY-ar[B].mediaBox.bottomLeftY}function hd(B,ie){ar[B].mediaBox.topRightY=ie+ar[B].mediaBox.bottomLeftY}var fd=x.getPageWidth=function(B){return ud(B=B||H)/At},Lx=x.setPageWidth=function(B,ie){rh(B,ie*At)},md=x.getPageHeight=function(B){return Xm(B=B||H)/At},Ix=x.setPageHeight=function(B,ie){hd(B,ie*At)};return x.internal={pdfEscape:ts,getStyle:qm,getFont:Fo,getFontSize:we,getCharSpace:gf,getTextColor:Fx,getLineHeight:Rx,getLineHeightFactor:Mx,getLineWidth:su,write:ot,getHorizontalCoordinate:Ol,getVerticalCoordinate:ni,getCoordinateString:Ym,getVerticalCoordinateString:Qu,collections:{},newObject:aa,newAdditionalObject:Te,newObjectDeferred:Ba,newObjectDeferredBegin:ce,getFilters:Ke,putStream:ht,events:is,scaleFactor:At,pageSize:{getWidth:function(){return fd(H)},setWidth:function(B){Lx(H,B)},getHeight:function(){return md(H)},setHeight:function(B){Ix(H,B)}},encryptionOptions:h,encryption:kn,getEncryptor:function(B){return h!==null?kn.encryptor(B,0):function(ie){return ie}},output:$m,getNumberOfPages:Pl,get pages(){return Be},out:xe,f2:M,f3:L,getPageInfo:ln,getPageInfoByObjId:pf,getCurrentPageInfo:Ex,getPDFVersion:y,Point:eo,Rectangle:cd,Matrix:hr,hasHotfix:qi},Object.defineProperty(x.internal.pageSize,"width",{get:function(){return fd(H)},set:function(B){Lx(H,B)},enumerable:!0,configurable:!0}),Object.defineProperty(x.internal.pageSize,"height",{get:function(){return md(H)},set:function(B){Ix(H,B)},enumerable:!0,configurable:!0}),(function(B){for(var ie=0,Ee=Re.length;ie<Ee;ie++){var Le=Ls.call(this,B[ie][0],B[ie][1],B[ie][2],Re[ie][3],!0);m===!1&&(p[Le]=!0);var qe=B[ie][0].split("-");Yt({id:Le,fontName:qe[0],fontStyle:qe[1]||""})}is.publish("addFonts",{fonts:Vt,dictionary:pr})}).call(x,Re),xt="F1",Hi(n,s),is.publish("initialized"),x}Mp.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Mp.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Mp.prototype.hexToBytes=function(e){for(var t=[],s=0;s<e.length;s+=2)t.push(String.fromCharCode(parseInt(e.substr(s,2),16)));return t.join("")},Mp.prototype.processOwnerPassword=function(e,t){return c6(o6(t).substr(0,5),e)},Mp.prototype.encryptor=function(e,t){var s=o6(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(a){return c6(s,a)}},mb.prototype.equals=function(e){var t,s="id,objectNumber,equals";if(!e||ea(e)!==ea(this))return!1;var a=0;for(t in this)if(!(s.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;a++}for(t in e)e.hasOwnProperty(t)&&s.indexOf(t)<0&&a--;return a===0},nr.API={events:[]},nr.version="4.1.0";var xn=nr.API,GE=1,kx=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},kp=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},mw=function(e){return e.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(t){var s=t.charCodeAt(0).toString(16).toUpperCase();return"#"+(s.length===1?"0"+s:s)})},zr=function(e){return e.toFixed(2)},Jf=function(e){return e.toFixed(5)};xn.__acroform__={};var To=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},x9=function(e){return e*GE},ku=function(e){var t=new mY,s=tr.internal.getHeight(e)||0,a=tr.internal.getWidth(e)||0;return t.BBox=[0,0,Number(zr(a)),Number(zr(s))],t},ePe=xn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},tPe=xn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},rPe=xn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Dn=xn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return rPe(e,t-1)},Rn=xn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return ePe(e,t-1)},Mn=xn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return tPe(e,t-1)},sPe=xn.__acroform__.calculateCoordinates=function(e,t){var s=t.internal.getHorizontalCoordinate,a=t.internal.getVerticalCoordinate,n=e[0],i=e[1],l=e[2],o=e[3],c={};return c.lowerLeft_X=s(n)||0,c.lowerLeft_Y=a(i+o)||0,c.upperRight_X=s(n+l)||0,c.upperRight_Y=a(i)||0,[Number(zr(c.lowerLeft_X)),Number(zr(c.lowerLeft_Y)),Number(zr(c.upperRight_X)),Number(zr(c.upperRight_Y))]},aPe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],s=e._V||e.DV,a=d6(e,s),n=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+n+" "+zr(a.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(a.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=ku(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},d6=function(e,t){var s=e.fontSize===0?e.maxFontSize:e.fontSize,a={text:"",fontSize:""},n=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");n=e.multiline?n.map(function(M){return M.split(`
`)}):n.map(function(M){return[M]});var i=s,l=tr.internal.getHeight(e)||0;l=l<0?-l:l;var o=tr.internal.getWidth(e)||0;o=o<0?-o:o;var c=function(M,L,J){if(M+1<n.length){var K=L+" "+n[M+1][0];return R2(K,e,J).width<=o-4}return!1};i++;e:for(;i>0;){t="",i--;var d,h,m=R2("3",e,i).height,p=e.multiline?l-i:(l-m)/2,x=p+=2,v=0,y=0,b=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+R2(t,e,i=12).width+", FieldWidth:"+o+`
`;break}for(var j="",S=0,w=0;w<n.length;w++)if(n.hasOwnProperty(w)){var k=!1;if(n[w].length!==1&&b!==n[w].length-1){if((m+2)*(S+2)+2>l)continue e;j+=n[w][b],k=!0,y=w,w--}else{j=(j+=n[w][b]+" ").substr(j.length-1)==" "?j.substr(0,j.length-1):j;var _=parseInt(w),O=c(_,j,i),E=w>=n.length-1;if(O&&!E){j+=" ",b=0;continue}if(O||E){if(E)y=_;else if(e.multiline&&(m+2)*(S+2)+2>l)continue e}else{if(!e.multiline||(m+2)*(S+2)+2>l)continue e;y=_}}for(var F="",I=v;I<=y;I++){var U=n[I];if(e.multiline){if(I===y){F+=U[b]+" ",b=(b+1)%U.length;continue}if(I===v){F+=U[U.length-1]+" ";continue}}F+=U[0]+" "}switch(F=F.substr(F.length-1)==" "?F.substr(0,F.length-1):F,h=R2(F,e,i).width,e.textAlign){case"right":d=o-h-2;break;case"center":d=(o-h)/2;break;default:d=2}t+=zr(d)+" "+zr(x)+` Td
`,t+="("+kx(F)+`) Tj
`,t+=-zr(d)+` 0 Td
`,x=-(i+2),h=0,v=k?y:y+1,S++,j=""}break}return a.text=t,a.fontSize=i,a},R2=function(e,t,s){var a=t.scope.internal.getFont(t.fontName,t.fontStyle),n=t.scope.getStringUnitWidth(e,{font:a,fontSize:parseFloat(s),charSpace:0})*parseFloat(s);return{height:t.scope.getStringUnitWidth("3",{font:a,fontSize:parseFloat(s),charSpace:0})*parseFloat(s)*1.5,width:n}},nPe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},iPe=function(e,t){var s={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(a){return a.type===s.type&&a.object===s.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(s)},lPe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Jd.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(nPe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");GE=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new xY,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(s){s.internal.events.unsubscribe(s.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete s.internal.acroformPlugin.acroFormDictionaryRoot._eventID,s.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(s){s.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var a=s.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in a)if(a.hasOwnProperty(n)){var i=a[n];i.objId=void 0,i.hasAnnotation&&iPe(i,s)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(s){if(s.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");s.internal.write("/AcroForm "+s.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(s){(function(a,n){var i=!a;for(var l in a||(n.internal.newObjectDeferredBegin(n.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),n.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),a=a||n.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(a.hasOwnProperty(l)){var o=a[l],c=[],d=o.Rect;if(o.Rect&&(o.Rect=sPe(o.Rect,n)),n.internal.newObjectDeferredBegin(o.objId,!0),o.DA=tr.createDefaultAppearanceStream(o),ea(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(c=o.getKeyValueListForStream()),o.Rect=d,o.hasAppearanceStream&&!o.appearanceStreamContent){var h=aPe(o);c.push({key:"AP",value:"<</N "+h+">>"}),n.internal.acroformPlugin.xForms.push(h)}if(o.appearanceStreamContent){var m="";for(var p in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(p)){var x=o.appearanceStreamContent[p];if(m+="/"+p+" ",m+="<<",Object.keys(x).length>=1||Array.isArray(x)){for(var l in x)if(x.hasOwnProperty(l)){var v=x[l];typeof v=="function"&&(v=v.call(n,o)),m+="/"+l+" "+v+" ",n.internal.acroformPlugin.xForms.indexOf(v)>=0||n.internal.acroformPlugin.xForms.push(v)}}else typeof(v=x)=="function"&&(v=v.call(n,o)),m+="/"+l+" "+v,n.internal.acroformPlugin.xForms.indexOf(v)>=0||n.internal.acroformPlugin.xForms.push(v);m+=">>"}c.push({key:"AP",value:`<<
`+m+">>"})}n.internal.putStream({additionalKeyValues:c,objectId:o.objId}),n.internal.out("endobj")}i&&(function(y,b){for(var j in y)if(y.hasOwnProperty(j)){var S=j,w=y[j];b.internal.newObjectDeferredBegin(w.objId,!0),ea(w)==="object"&&typeof w.putStream=="function"&&w.putStream(),delete y[S]}})(n.internal.acroformPlugin.xForms,n)})(s,e)}),e.internal.acroformPlugin.isInitialized=!0}},fY=xn.__acroform__.arrayToPdfArray=function(e,t,s){var a=function(l){return l};if(Array.isArray(e)){for(var n="[",i=0;i<e.length;i++)switch(i!==0&&(n+=" "),ea(e[i])){case"boolean":case"number":case"object":n+=e[i].toString();break;case"string":e[i].substr(0,1)==="/"?n+="/"+mw(e[i].substr(1)):(t!==void 0&&s&&(a=s.internal.getEncryptor(t)),n+="("+kx(a(e[i].toString()))+")")}return n+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},G_=function(e,t,s){var a=function(n){return n};return t!==void 0&&s&&(a=s.internal.getEncryptor(t)),(e=e||"").toString(),"("+kx(a(e))+")"},Eu=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Eu.prototype.toString=function(){return this.objId+" 0 R"},Eu.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Eu.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var s in t)if(Object.getOwnPropertyDescriptor(this,t[s]).configurable===!1){var a=t[s],n=this[a];n&&(Array.isArray(n)?e.push({key:a,value:fY(n,this.objId,this.scope)}):n instanceof Eu?(n.scope=this.scope,e.push({key:a,value:n.objId+" 0 R"})):typeof n!="function"&&e.push({key:a,value:n}))}return e};var mY=function(){Eu.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(s){e=s.trim()},get:function(){return e||null}})};To(mY,Eu);var xY=function(){Eu.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var s=function(a){return a};return this.scope&&(s=this.scope.internal.getEncryptor(this.objId)),"("+kx(s(e))+")"}},set:function(s){e=s}})};To(xY,Eu);var Jd=function e(){Eu.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute F supplied.');t=j}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Dn(t,3)},set:function(j){j?this.F=Rn(t,3):this.F=Mn(t,3)}});var s=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return s},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute Ff supplied.');s=j}});var a=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(a.length!==0)return a},set:function(j){a=j!==void 0?j:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[0])?0:a[0]},set:function(j){a[0]=j}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[1])?0:a[1]},set:function(j){a[1]=j}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[2])?0:a[2]},set:function(j){a[2]=j}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[3])?0:a[3]},set:function(j){a[3]=j}});var n="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return n},set:function(j){switch(j){case"/Btn":case"/Tx":case"/Ch":case"/Sig":n=j;break;default:throw new Error('Invalid value "'+j+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof xw)return;i="FieldObject"+e.FieldNum++}var j=function(S){return S};return this.scope&&(j=this.scope.internal.getEncryptor(this.objId)),"("+kx(j(i))+")"},set:function(j){i=j.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(j){i=j}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(j){l=j}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(j){o=j}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(j){c=j}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/GE:d},set:function(j){d=j}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(j){h=j}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof xw||this instanceof pm))return G_(m,this.objId,this.scope)},set:function(j){j=j.toString(),m=j}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof xi==0?G_(p,this.objId,this.scope):p},set:function(j){j=j.toString(),p=this instanceof xi==0?j.substr(0,1)==="("?kp(j.substr(1,j.length-2)):kp(j):j}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof xi==1?kp(p.substr(1,p.length-1)):p},set:function(j){j=j.toString(),p=this instanceof xi==1?"/"+mw(j):j}});var x=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(x)return x},set:function(j){this.V=j}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof xi==0?G_(x,this.objId,this.scope):x},set:function(j){j=j.toString(),x=this instanceof xi==0?j.substr(0,1)==="("?kp(j.substr(1,j.length-2)):kp(j):j}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof xi==1?kp(x.substr(1,x.length-1)):x},set:function(j){j=j.toString(),x=this instanceof xi==1?"/"+mw(j):j}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(j){j=!!j,y=j}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(j){v=j}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,1)},set:function(j){j?this.Ff=Rn(this.Ff,1):this.Ff=Mn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,2)},set:function(j){j?this.Ff=Rn(this.Ff,2):this.Ff=Mn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,3)},set:function(j){j?this.Ff=Rn(this.Ff,3):this.Ff=Mn(this.Ff,3)}});var b=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(b!==null)return b},set:function(j){if([0,1,2].indexOf(j)===-1)throw new Error('Invalid value "'+j+'" for attribute Q supplied.');b=j}}),Object.defineProperty(this,"textAlign",{get:function(){var j;switch(b){case 0:default:j="left";break;case 1:j="center";break;case 2:j="right"}return j},configurable:!0,enumerable:!0,set:function(j){switch(j){case"right":case 2:b=2;break;case"center":case 1:b=1;break;default:b=0}}})};To(Jd,Eu);var I0=function(){Jd.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(s){e=s}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return fY(t,this.objId,this.scope)},set:function(s){var a,n;n=[],typeof(a=s)=="string"&&(n=(function(i,l,o){o||(o=1);for(var c,d=[];c=l.exec(i);)d.push(c[o]);return d})(a,/\((.*?)\)/g)),t=n}}),this.getOptions=function(){return t},this.setOptions=function(s){t=s,this.sort&&t.sort()},this.addOption=function(s){s=(s=s||"").toString(),t.push(s),this.sort&&t.sort()},this.removeOption=function(s,a){for(a=a||!1,s=(s=s||"").toString();t.indexOf(s)!==-1&&(t.splice(t.indexOf(s),1),a!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,18)},set:function(s){s?this.Ff=Rn(this.Ff,18):this.Ff=Mn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,19)},set:function(s){this.combo===!0&&(s?this.Ff=Rn(this.Ff,19):this.Ff=Mn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,20)},set:function(s){s?(this.Ff=Rn(this.Ff,20),t.sort()):this.Ff=Mn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,22)},set:function(s){s?this.Ff=Rn(this.Ff,22):this.Ff=Mn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,23)},set:function(s){s?this.Ff=Rn(this.Ff,23):this.Ff=Mn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,27)},set:function(s){s?this.Ff=Rn(this.Ff,27):this.Ff=Mn(this.Ff,27)}}),this.hasAppearanceStream=!1};To(I0,Jd);var B0=function(){I0.call(this),this.fontName="helvetica",this.combo=!1};To(B0,I0);var U0=function(){B0.call(this),this.combo=!0};To(U0,B0);var Ay=function(){U0.call(this),this.edit=!0};To(Ay,U0);var xi=function(){Jd.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,15)},set:function(s){s?this.Ff=Rn(this.Ff,15):this.Ff=Mn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,16)},set:function(s){s?this.Ff=Rn(this.Ff,16):this.Ff=Mn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,17)},set:function(s){s?this.Ff=Rn(this.Ff,17):this.Ff=Mn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,26)},set:function(s){s?this.Ff=Rn(this.Ff,26):this.Ff=Mn(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(i){return i};if(this.scope&&(s=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var a,n=[];for(a in n.push("<<"),t)n.push("/"+a+" ("+kx(s(t[a]))+")");return n.push(">>"),n.join(`
`)}},set:function(s){ea(s)==="object"&&(t=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(s){typeof s=="string"&&(t.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(s){e="/"+mw(s)}})};To(xi,Jd);var Cy=function(){xi.call(this),this.pushButton=!0};To(Cy,xi);var z0=function(){xi.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};To(z0,xi);var xw=function(){var e,t;Jd.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(n){t=n}});var s,a={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(o){return o};this.scope&&(n=this.scope.internal.getEncryptor(this.objId));var i,l=[];for(i in l.push("<<"),a)l.push("/"+i+" ("+kx(n(a[i]))+")");return l.push(">>"),l.join(`
`)},set:function(n){ea(n)==="object"&&(a=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return a.CA||""},set:function(n){typeof n=="string"&&(a.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return s},set:function(n){s=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return s.substr(1,s.length-1)},set:function(n){s="/"+n}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=tr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};To(xw,Jd),z0.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var s=this.Kids[t];s.appearanceStreamContent=e.createAppearanceStream(s.optionName),s.caption=e.getCA()}},z0.prototype.createOption=function(e){var t=new xw;return t.Parent=this,t.optionName=e,this.Kids.push(t),oPe.call(this.scope,t),t};var Ty=function(){xi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=tr.CheckBox.createAppearanceStream()};To(Ty,xi);var pm=function(){Jd.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,13)},set:function(t){t?this.Ff=Rn(this.Ff,13):this.Ff=Mn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,21)},set:function(t){t?this.Ff=Rn(this.Ff,21):this.Ff=Mn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,23)},set:function(t){t?this.Ff=Rn(this.Ff,23):this.Ff=Mn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,24)},set:function(t){t?this.Ff=Rn(this.Ff,24):this.Ff=Mn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,25)},set:function(t){t?this.Ff=Rn(this.Ff,25):this.Ff=Mn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,26)},set:function(t){t?this.Ff=Rn(this.Ff,26):this.Ff=Mn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};To(pm,Jd);var Ey=function(){pm.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,14)},set:function(e){e?this.Ff=Rn(this.Ff,14):this.Ff=Mn(this.Ff,14)}}),this.password=!0};To(Ey,pm);var tr={CheckBox:{createAppearanceStream:function(){return{N:{On:tr.CheckBox.YesNormal},D:{On:tr.CheckBox.YesPushDown,Off:tr.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=ku(e);t.scope=e.scope;var s=[],a=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),i=d6(e,e.caption);return s.push("0.749023 g"),s.push("0 0 "+zr(tr.internal.getWidth(e))+" "+zr(tr.internal.getHeight(e))+" re"),s.push("f"),s.push("BMC"),s.push("q"),s.push("0 0 1 rg"),s.push("/"+a+" "+zr(i.fontSize)+" Tf "+n),s.push("BT"),s.push(i.text),s.push("ET"),s.push("Q"),s.push("EMC"),t.stream=s.join(`
`),t},YesNormal:function(e){var t=ku(e);t.scope=e.scope;var s=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),n=[],i=tr.internal.getHeight(e),l=tr.internal.getWidth(e),o=d6(e,e.caption);return n.push("1 g"),n.push("0 0 "+zr(l)+" "+zr(i)+" re"),n.push("f"),n.push("q"),n.push("0 0 1 rg"),n.push("0 0 "+zr(l-1)+" "+zr(i-1)+" re"),n.push("W"),n.push("n"),n.push("0 g"),n.push("BT"),n.push("/"+s+" "+zr(o.fontSize)+" Tf "+a),n.push(o.text),n.push("ET"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=ku(e);t.scope=e.scope;var s=[];return s.push("0.749023 g"),s.push("0 0 "+zr(tr.internal.getWidth(e))+" "+zr(tr.internal.getHeight(e))+" re"),s.push("f"),t.stream=s.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:tr.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=tr.RadioButton.Circle.YesNormal,t.D[e]=tr.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=ku(e);t.scope=e.scope;var s=[],a=tr.internal.getWidth(e)<=tr.internal.getHeight(e)?tr.internal.getWidth(e)/4:tr.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var n=tr.internal.Bezier_C,i=Number((a*n).toFixed(5));return s.push("q"),s.push("1 0 0 1 "+Jf(tr.internal.getWidth(e)/2)+" "+Jf(tr.internal.getHeight(e)/2)+" cm"),s.push(a+" 0 m"),s.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),s.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),s.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),s.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),s.push("f"),s.push("Q"),t.stream=s.join(`
`),t},YesPushDown:function(e){var t=ku(e);t.scope=e.scope;var s=[],a=tr.internal.getWidth(e)<=tr.internal.getHeight(e)?tr.internal.getWidth(e)/4:tr.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var n=Number((2*a).toFixed(5)),i=Number((n*tr.internal.Bezier_C).toFixed(5)),l=Number((a*tr.internal.Bezier_C).toFixed(5));return s.push("0.749023 g"),s.push("q"),s.push("1 0 0 1 "+Jf(tr.internal.getWidth(e)/2)+" "+Jf(tr.internal.getHeight(e)/2)+" cm"),s.push(n+" 0 m"),s.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),s.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),s.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),s.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),s.push("f"),s.push("Q"),s.push("0 g"),s.push("q"),s.push("1 0 0 1 "+Jf(tr.internal.getWidth(e)/2)+" "+Jf(tr.internal.getHeight(e)/2)+" cm"),s.push(a+" 0 m"),s.push(a+" "+l+" "+l+" "+a+" 0 "+a+" c"),s.push("-"+l+" "+a+" -"+a+" "+l+" -"+a+" 0 c"),s.push("-"+a+" -"+l+" -"+l+" -"+a+" 0 -"+a+" c"),s.push(l+" -"+a+" "+a+" -"+l+" "+a+" 0 c"),s.push("f"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=ku(e);t.scope=e.scope;var s=[],a=tr.internal.getWidth(e)<=tr.internal.getHeight(e)?tr.internal.getWidth(e)/4:tr.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var n=Number((2*a).toFixed(5)),i=Number((n*tr.internal.Bezier_C).toFixed(5));return s.push("0.749023 g"),s.push("q"),s.push("1 0 0 1 "+Jf(tr.internal.getWidth(e)/2)+" "+Jf(tr.internal.getHeight(e)/2)+" cm"),s.push(n+" 0 m"),s.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),s.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),s.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),s.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),s.push("f"),s.push("Q"),t.stream=s.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:tr.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=tr.RadioButton.Cross.YesNormal,t.D[e]=tr.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=ku(e);t.scope=e.scope;var s=[],a=tr.internal.calculateCross(e);return s.push("q"),s.push("1 1 "+zr(tr.internal.getWidth(e)-2)+" "+zr(tr.internal.getHeight(e)-2)+" re"),s.push("W"),s.push("n"),s.push(zr(a.x1.x)+" "+zr(a.x1.y)+" m"),s.push(zr(a.x2.x)+" "+zr(a.x2.y)+" l"),s.push(zr(a.x4.x)+" "+zr(a.x4.y)+" m"),s.push(zr(a.x3.x)+" "+zr(a.x3.y)+" l"),s.push("s"),s.push("Q"),t.stream=s.join(`
`),t},YesPushDown:function(e){var t=ku(e);t.scope=e.scope;var s=tr.internal.calculateCross(e),a=[];return a.push("0.749023 g"),a.push("0 0 "+zr(tr.internal.getWidth(e))+" "+zr(tr.internal.getHeight(e))+" re"),a.push("f"),a.push("q"),a.push("1 1 "+zr(tr.internal.getWidth(e)-2)+" "+zr(tr.internal.getHeight(e)-2)+" re"),a.push("W"),a.push("n"),a.push(zr(s.x1.x)+" "+zr(s.x1.y)+" m"),a.push(zr(s.x2.x)+" "+zr(s.x2.y)+" l"),a.push(zr(s.x4.x)+" "+zr(s.x4.y)+" m"),a.push(zr(s.x3.x)+" "+zr(s.x3.y)+" l"),a.push("s"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=ku(e);t.scope=e.scope;var s=[];return s.push("0.749023 g"),s.push("0 0 "+zr(tr.internal.getWidth(e))+" "+zr(tr.internal.getHeight(e))+" re"),s.push("f"),t.stream=s.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+s}};tr.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=tr.internal.getWidth(e),s=tr.internal.getHeight(e),a=Math.min(t,s);return{x1:{x:(t-a)/2,y:(s-a)/2+a},x2:{x:(t-a)/2+a,y:(s-a)/2},x3:{x:(t-a)/2,y:(s-a)/2},x4:{x:(t-a)/2+a,y:(s-a)/2+a}}}},tr.internal.getWidth=function(e){var t=0;return ea(e)==="object"&&(t=x9(e.Rect[2])),t},tr.internal.getHeight=function(e){var t=0;return ea(e)==="object"&&(t=x9(e.Rect[3])),t};var oPe=xn.addField=function(e){if(lPe(this,e),!(e instanceof Jd))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};xn.AcroFormChoiceField=I0,xn.AcroFormListBox=B0,xn.AcroFormComboBox=U0,xn.AcroFormEditBox=Ay,xn.AcroFormButton=xi,xn.AcroFormPushButton=Cy,xn.AcroFormRadioButton=z0,xn.AcroFormCheckBox=Ty,xn.AcroFormTextField=pm,xn.AcroFormPasswordField=Ey,xn.AcroFormAppearance=tr,xn.AcroForm={ChoiceField:I0,ListBox:B0,ComboBox:U0,EditBox:Ay,Button:xi,PushButton:Cy,RadioButton:z0,CheckBox:Ty,TextField:pm,PasswordField:Ey,Appearance:tr},nr.AcroForm={ChoiceField:I0,ListBox:B0,ComboBox:U0,EditBox:Ay,Button:xi,PushButton:Cy,RadioButton:z0,CheckBox:Ty,TextField:pm,PasswordField:Ey,Appearance:tr};nr.AcroForm;function pY(e){return e.reduce(function(t,s,a){return t[s]=a,t},{})}(function(e){var t="addImage_";e.__addimage__={};var s="UNKNOWN",a={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(M,L){var J,K,ae,V,re,X=s;if((L=L||s)==="RGBA"||M.data!==void 0&&M.data instanceof Uint8ClampedArray&&"height"in M&&"width"in M)return"RGBA";if(O(M))for(re in a)for(ae=a[re],J=0;J<ae.length;J+=1){for(V=!0,K=0;K<ae[J].length;K+=1)if(ae[J][K]!==void 0&&ae[J][K]!==M[K]){V=!1;break}if(V===!0){X=re;break}}else for(re in a)for(ae=a[re],J=0;J<ae.length;J+=1){for(V=!0,K=0;K<ae[J].length;K+=1)if(ae[J][K]!==void 0&&ae[J][K]!==M.charCodeAt(K)){V=!1;break}if(V===!0){X=re;break}}return X===s&&L!==s&&(X=L),X},i=function M(L){for(var J=this.internal.write,K=this.internal.putStream,ae=(0,this.internal.getFilters)();ae.indexOf("FlateEncode")!==-1;)ae.splice(ae.indexOf("FlateEncode"),1);L.objectId=this.internal.newObject();var V=[];if(V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Image"}),V.push({key:"Width",value:L.width}),V.push({key:"Height",value:L.height}),L.colorSpace===j.INDEXED?V.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(L.palette.length/3-1)+" "+("sMask"in L&&L.sMask!==void 0?L.objectId+2:L.objectId+1)+" 0 R]"}):(V.push({key:"ColorSpace",value:"/"+L.colorSpace}),L.colorSpace===j.DEVICE_CMYK&&V.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),V.push({key:"BitsPerComponent",value:L.bitsPerComponent}),"decodeParameters"in L&&L.decodeParameters!==void 0&&V.push({key:"DecodeParms",value:"<<"+L.decodeParameters+">>"}),"transparency"in L&&Array.isArray(L.transparency)&&L.transparency.length>0){for(var re="",X=0,Z=L.transparency.length;X<Z;X++)re+=L.transparency[X]+" "+L.transparency[X]+" ";V.push({key:"Mask",value:"["+re+"]"})}L.sMask!==void 0&&V.push({key:"SMask",value:L.objectId+1+" 0 R"});var ye=L.filter!==void 0?["/"+L.filter]:void 0;if(K({data:L.data,additionalKeyValues:V,alreadyAppliedFilters:ye,objectId:L.objectId}),J("endobj"),"sMask"in L&&L.sMask!==void 0){var te,D=(te=L.sMaskBitsPerComponent)!==null&&te!==void 0?te:L.bitsPerComponent,H={width:L.width,height:L.height,colorSpace:"DeviceGray",bitsPerComponent:D,data:L.sMask};"filter"in L&&(H.decodeParameters="/Predictor ".concat(L.predictor," /Colors 1 /BitsPerComponent ").concat(D," /Columns ").concat(L.width),H.filter=L.filter),M.call(this,H)}if(L.colorSpace===j.INDEXED){var q=this.internal.newObject();K({data:F(new Uint8Array(L.palette)),objectId:q}),J("endobj")}},l=function(){var M=this.internal.collections[t+"images"];for(var L in M)i.call(this,M[L])},o=function(){var M,L=this.internal.collections[t+"images"],J=this.internal.write;for(var K in L)J("/I"+(M=L[K]).index,M.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",l),this.internal.events.subscribe("putXobjectDict",o))},d=function(){var M=this.internal.collections[t+"images"];return c.call(this),M},h=function(){return Object.keys(this.internal.collections[t+"images"]).length},m=function(M){return typeof e["process"+M.toUpperCase()]=="function"},p=function(M){return ea(M)==="object"&&M.nodeType===1},x=function(M,L){if(M.nodeName==="IMG"&&M.hasAttribute("src")){var J=""+M.getAttribute("src");if(J.indexOf("data:image/")===0)return Hj(unescape(J).split("base64,").pop());var K=e.loadFile(J,!0);if(K!==void 0)return K}if(M.nodeName==="CANVAS"){if(M.width===0||M.height===0)throw new Error("Given canvas must have data. Canvas width: "+M.width+", height: "+M.height);var ae;switch(L){case"PNG":ae="image/png";break;case"WEBP":ae="image/webp";break;default:ae="image/jpeg"}return Hj(M.toDataURL(ae,1).split("base64,").pop())}},v=function(M){var L=this.internal.collections[t+"images"];if(L){for(var J in L)if(M===L[J].alias)return L[J]}},y=function(M,L,J){return M||L||(M=-96,L=-96),M<0&&(M=-1*J.width*72/M/this.internal.scaleFactor),L<0&&(L=-1*J.height*72/L/this.internal.scaleFactor),M===0&&(M=L*J.width/J.height),L===0&&(L=M*J.height/J.width),[M,L]},b=function(M,L,J,K,ae,V){var re=y.call(this,J,K,ae),X=this.internal.getCoordinateString,Z=this.internal.getVerticalCoordinateString,ye=d.call(this);if(J=re[0],K=re[1],ye[ae.index]=ae,V){V*=Math.PI/180;var te=Math.cos(V),D=Math.sin(V),H=function(W){return W.toFixed(4)},q=[H(te),H(D),H(-1*D),H(te),0,0,"cm"]}this.internal.write("q"),V?(this.internal.write([1,"0","0",1,X(M),Z(L+K),"cm"].join(" ")),this.internal.write(q.join(" ")),this.internal.write([X(J),"0","0",X(K),"0","0","cm"].join(" "))):this.internal.write([X(J),"0","0",X(K),X(M),Z(L+K),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ae.index+" Do"),this.internal.write("Q")},j=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var S=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=e.__addimage__.sHashCode=function(M){var L,J,K=0;if(typeof M=="string")for(J=M.length,L=0;L<J;L++)K=(K<<5)-K+M.charCodeAt(L),K|=0;else if(O(M))for(J=M.byteLength/2,L=0;L<J;L++)K=(K<<5)-K+M[L],K|=0;return K},k=e.__addimage__.validateStringAsBase64=function(M){(M=M||"").toString().trim();var L=!0;return M.length===0&&(L=!1),M.length%4!=0&&(L=!1),/^[A-Za-z0-9+/]+$/.test(M.substr(0,M.length-2))===!1&&(L=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(M.substr(-2))===!1&&(L=!1),L},_=e.__addimage__.extractImageFromDataUrl=function(M){if(M==null||!(M=M.trim()).startsWith("data:"))return null;var L=M.indexOf(",");return L<0?null:M.substring(0,L).trim().endsWith("base64")?M.substring(L+1):null};e.__addimage__.isArrayBuffer=function(M){return M instanceof ArrayBuffer};var O=e.__addimage__.isArrayBufferView=function(M){return M instanceof Int8Array||M instanceof Uint8Array||M instanceof Uint8ClampedArray||M instanceof Int16Array||M instanceof Uint16Array||M instanceof Int32Array||M instanceof Uint32Array||M instanceof Float32Array||M instanceof Float64Array},E=e.__addimage__.binaryStringToUint8Array=function(M){for(var L=M.length,J=new Uint8Array(L),K=0;K<L;K++)J[K]=M.charCodeAt(K);return J},F=e.__addimage__.arrayBufferToBinaryString=function(M){for(var L="",J=O(M)?M:new Uint8Array(M),K=0;K<J.length;K+=8192)L+=String.fromCharCode.apply(null,J.subarray(K,K+8192));return L};e.addImage=function(){var M,L,J,K,ae,V,re,X,Z;if(typeof arguments[1]=="number"?(L=s,J=arguments[1],K=arguments[2],ae=arguments[3],V=arguments[4],re=arguments[5],X=arguments[6],Z=arguments[7]):(L=arguments[1],J=arguments[2],K=arguments[3],ae=arguments[4],V=arguments[5],re=arguments[6],X=arguments[7],Z=arguments[8]),ea(M=arguments[0])==="object"&&!p(M)&&"imageData"in M){var ye=M;M=ye.imageData,L=ye.format||L||s,J=ye.x||J||0,K=ye.y||K||0,ae=ye.w||ye.width||ae,V=ye.h||ye.height||V,re=ye.alias||re,X=ye.compression||X,Z=ye.rotation||ye.angle||Z}var te=this.internal.getFilters();if(X===void 0&&te.indexOf("FlateEncode")!==-1&&(X="SLOW"),isNaN(J)||isNaN(K))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var D=I.call(this,M,L,re,X);return b.call(this,J,K,ae,V,D,Z),this};var I=function(M,L,J,K){var ae,V,re;if(typeof M=="string"&&n(M)===s){M=unescape(M);var X=U(M,!1);(X!==""||(X=e.loadFile(M,!0))!==void 0)&&(M=X)}if(p(M)&&(M=x(M,L)),L=n(M,L),!m(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(((re=J)==null||re.length===0)&&(J=(function(Z){return typeof Z=="string"||O(Z)?w(Z):O(Z.data)?w(Z.data):null})(M)),(ae=v.call(this,J))||(M instanceof Uint8Array||L==="RGBA"||(V=M,M=E(M)),ae=this["process"+L.toUpperCase()](M,h.call(this),J,(function(Z){return Z&&typeof Z=="string"&&(Z=Z.toUpperCase()),Z in e.image_compression?Z:S.NONE})(K),V)),!ae)throw new Error("An unknown error occurred whilst processing the image.");return ae},U=e.__addimage__.convertBase64ToBinaryString=function(M,L){L=typeof L!="boolean"||L;var J,K="";if(typeof M=="string"){var ae;J=(ae=_(M))!==null&&ae!==void 0?ae:M;try{K=Hj(J)}catch(V){if(L)throw k(J)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+V.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return K};e.getImageProperties=function(M){var L,J,K="";if(p(M)&&(M=x(M)),typeof M=="string"&&n(M)===s&&((K=U(M,!1))===""&&(K=e.loadFile(M)||""),M=K),J=n(M),!m(J))throw new Error("addImage does not support files of type '"+J+"', please ensure that a plugin for '"+J+"' support is added.");if(M instanceof Uint8Array||(M=E(M)),!(L=this["process"+J.toUpperCase()](M)))throw new Error("An unknown error occurred whilst processing the image");return L.fileType=J,L}})(nr.API),(function(e){var t=function(s){if(s!==void 0&&s!="")return!0};nr.API.events.push(["addPage",function(s){this.internal.getPageInfo(s.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(s){for(var a,n,i,l=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(s.objId),d=s.pageContext.annotations,h=!1,m=0;m<d.length&&!h;m++)switch((a=d[m]).type){case"link":(t(a.options.url)||t(a.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var p=0;p<d.length;p++){a=d[p];var x=this.internal.pdfEscape,v=this.internal.getEncryptor(s.objId);switch(a.type){case"reference":this.internal.write(" "+a.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),b=this.internal.newAdditionalObject(),j=this.internal.getEncryptor(y.objId),S=a.title||"Note";i="<</Type /Annot /Subtype /Text "+(n="/Rect ["+l(a.bounds.x)+" "+o(a.bounds.y+a.bounds.h)+" "+l(a.bounds.x+a.bounds.w)+" "+o(a.bounds.y)+"] ")+"/Contents ("+x(j(a.contents))+")",i+=" /Popup "+b.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+x(j(S))+") >>",y.content=i;var w=y.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(n="/Rect ["+l(a.bounds.x+30)+" "+o(a.bounds.y+a.bounds.h)+" "+l(a.bounds.x+a.bounds.w+30)+" "+o(a.bounds.y)+"] ")+" /Parent "+w,a.open&&(i+=" /Open true"),i+=" >>",b.content=i,this.internal.write(y.objId,"0 R",b.objId,"0 R");break;case"freetext":n="/Rect ["+l(a.bounds.x)+" "+o(a.bounds.y)+" "+l(a.bounds.x+a.bounds.w)+" "+o(a.bounds.y+a.bounds.h)+"] ";var k=a.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+n+"/Contents ("+x(v(a.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+k+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(a.options.name){var _=this.annotations._nameMap[a.options.name];a.options.pageNumber=_.page,a.options.top=_.y}else a.options.top||(a.options.top=0);if(n="/Rect ["+a.finalBounds.x+" "+a.finalBounds.y+" "+a.finalBounds.w+" "+a.finalBounds.h+"] ",i="",a.options.url)i="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /A <</S /URI /URI ("+x(v(a.options.url))+") >>";else if(a.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(a.options.pageNumber).objId+" 0 R",a.options.magFactor=a.options.magFactor||"XYZ",a.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+a.options.top+"]";break;case"FitV":a.options.left=a.options.left||0,i+=" /FitV "+a.options.left+"]";break;default:var O=o(a.options.top);a.options.left=a.options.left||0,a.options.zoom===void 0&&(a.options.zoom=0),i+=" /XYZ "+a.options.left+" "+O+" "+a.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(s){var a=this.internal.getCurrentPageInfo();switch(s.type){case"link":this.link(s.bounds.x,s.bounds.y,s.bounds.w,s.bounds.h,s);break;case"text":case"freetext":a.pageContext.annotations.push(s)}},e.link=function(s,a,n,i,l){var o=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:c(s),y:d(a),w:c(s+n),h:d(a+i)},options:l,type:"link"})},e.textWithLink=function(s,a,n,i){var l,o,c=this.getTextWidth(s),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var h=this.splitTextToSize(s,o).length;l=Math.ceil(d*h)}else o=c,l=d;return this.text(s,a,n,i),n+=.2*d,i.align==="center"&&(a-=c/2),i.align==="right"&&(a-=c),this.link(a,n-d,o,l,i),c},e.getTextWidth=function(s){var a=this.internal.getFontSize();return this.getStringUnitWidth(s)*a/this.internal.scaleFactor}})(nr.API),(function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},s={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},a={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},n=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(y){return t[y.charCodeAt(0)]!==void 0},l=e.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},o=e.__arabicParser__.isArabicEndLetter=function(y){return l(y)&&i(y)&&t[y.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(y){return l(y)&&n.indexOf(y.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return l(y)&&i(y)&&t[y.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(y){return l(y)&&i(y)&&t[y.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(y){return l(y)&&i(y)&&t[y.charCodeAt(0)].length>=3};var h=e.__arabicParser__.arabicLetterHasMedialForm=function(y){return l(y)&&i(y)&&t[y.charCodeAt(0)].length==4},m=e.__arabicParser__.resolveLigatures=function(y){var b=0,j=s,S="",w=0;for(b=0;b<y.length;b+=1)j[y.charCodeAt(b)]!==void 0?(w++,typeof(j=j[y.charCodeAt(b)])=="number"&&(S+=String.fromCharCode(j),j=s,w=0),b===y.length-1&&(j=s,S+=y.charAt(b-(w-1)),b-=w-1,w=0)):(j=s,S+=y.charAt(b-w),b-=w,w=0);return S};e.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&a[y.charCodeAt(0)]!==void 0};var p=e.__arabicParser__.getCorrectForm=function(y,b,j){return l(y)?i(y)===!1?-1:!d(y)||!l(b)&&!l(j)||!l(j)&&o(b)||o(y)&&!l(b)||o(y)&&c(b)||o(y)&&o(b)?0:h(y)&&l(b)&&!o(b)&&l(j)&&d(j)?3:o(y)||!l(j)?1:2:-1},x=function(y){var b=0,j=0,S=0,w="",k="",_="",O=(y=y||"").split("\\s+"),E=[];for(b=0;b<O.length;b+=1){for(E.push(""),j=0;j<O[b].length;j+=1)w=O[b][j],k=O[b][j-1],_=O[b][j+1],l(w)?(S=p(w,k,_),E[b]+=S!==-1?String.fromCharCode(t[w.charCodeAt(0)][S]):w):E[b]+=w;E[b]=m(E[b])}return E.join(" ")},v=e.__arabicParser__.processArabic=e.processArabic=function(){var y,b=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,j=[];if(Array.isArray(b)){var S=0;for(j=[],S=0;S<b.length;S+=1)Array.isArray(b[S])?j.push([x(b[S][0]),b[S][1],b[S][2]]):j.push([x(b[S])]);y=j}else y=x(b);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};e.events.push(["preProcessText",v])})(nr.API),nr.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(e){var t=function(){var s=void 0;Object.defineProperty(this,"pdf",{get:function(){return s},set:function(o){s=o}});var a=150;Object.defineProperty(this,"width",{get:function(){return a},set:function(o){a=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=a+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(o){l=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(s,a){var n;if((s=s||"2d")!=="2d")return null;for(n in a)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=a[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(nr.API),(function(e){var t={left:0,top:0,bottom:0,right:0},s=!1,a=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),n.call(this))},n=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(y){c=y}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(y){d=y}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(y){h=y}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(y){m=y}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(y){p=y}});var x=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return x},set:function(y){x=y}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(y){v=y}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return a.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,d){a.call(this);var h=(d=d||{}).fontSize||this.getFontSize(),m=d.font||this.getFont(),p=d.scaleFactor||this.internal.scaleFactor,x=0,v=0,y=0,b=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var j=d.maxWidth;j>0?typeof c=="string"?c=this.splitTextToSize(c,j):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(w,k){return w.concat(b.splitTextToSize(k,j))},[])):c=Array.isArray(c)?c:[c];for(var S=0;S<c.length;S++)x<(y=this.getStringUnitWidth(c[S],{font:m})*h)&&(x=y);return x!==0&&(v=c.length),{w:x/=p,h:Math.max((v*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/p,0)}},e.cellAddPage=function(){a.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),a.call(this);var d=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,m=this.internal.__cell__.margins||t,p=this.internal.__cell__.tableHeaderRow,x=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=m.top,x&&p&&(this.printHeaderRow(c.lineNumber,!0),c.y+=p[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,s===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-h,c.y+h,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+h,{align:"center",baseline:"top",maxWidth:c.width-h-h}):this.text(c.text,c.x+h,c.y+h,{align:"left",baseline:"top",maxWidth:c.width-h-h})),this.internal.__cell__.lastCell=c,this};e.table=function(c,d,h,m,p){if(a.call(this),!h)throw new Error("No data for PDF table.");var x,v,y,b,j=[],S=[],w=[],k={},_={},O=[],E=[],F=(p=p||{}).autoSize||!1,I=p.printHeaders!==!1,U=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,M=p.margins||Object.assign({width:this.getPageWidth()},t),L=typeof p.padding=="number"?p.padding:3,J=p.headerBackgroundColor||"#c8c8c8",K=p.headerTextColor||"#000";if(n.call(this),this.internal.__cell__.printHeaders=I,this.internal.__cell__.margins=M,this.internal.__cell__.table_font_size=U,this.internal.__cell__.padding=L,this.internal.__cell__.headerBackgroundColor=J,this.internal.__cell__.headerTextColor=K,this.setFontSize(U),m==null)S=j=Object.keys(h[0]),w=j.map(function(){return"left"});else if(Array.isArray(m)&&ea(m[0])==="object")for(j=m.map(function(ye){return ye.name}),S=m.map(function(ye){return ye.prompt||ye.name||""}),w=m.map(function(ye){return ye.align||"left"}),x=0;x<m.length;x+=1)_[m[x].name]=.7499990551181103*m[x].width;else Array.isArray(m)&&typeof m[0]=="string"&&(S=j=m,w=j.map(function(){return"left"}));if(F||Array.isArray(m)&&typeof m[0]=="string")for(x=0;x<j.length;x+=1){for(k[b=j[x]]=h.map(function(ye){return ye[b]}),this.setFont(void 0,"bold"),O.push(this.getTextDimensions(S[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=k[b],this.setFont(void 0,"normal"),y=0;y<v.length;y+=1)O.push(this.getTextDimensions(v[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);_[b]=Math.max.apply(null,O)+L+L,O=[]}if(I){var ae={};for(x=0;x<j.length;x+=1)ae[j[x]]={},ae[j[x]].text=S[x],ae[j[x]].align=w[x];var V=o.call(this,ae,_);E=j.map(function(ye){return new i(c,d,_[ye],V,ae[ye].text,void 0,ae[ye].align)}),this.setTableHeaderRow(E),this.printHeaderRow(1,!1)}var re=m.reduce(function(ye,te){return ye[te.name]=te.align,ye},{});for(x=0;x<h.length;x+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:x,data:h[x]},this);var X=o.call(this,h[x],_);for(y=0;y<j.length;y+=1){var Z=h[x][j[y]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:x,col:y,data:Z},this),l.call(this,new i(c,d,_[j[y]],X,Z,x+2,re[j[y]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var o=function(c,d){var h=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(c).map(function(x){var v=c[x];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,d[x]-h-h)},this).map(function(x){return this.getLineHeightFactor()*x.length*m/p+h+h},this).reduce(function(x,v){return Math.max(x,v)},0)};e.setTableHeaderRow=function(c){a.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,d){if(a.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(s=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],x=0;x<this.internal.__cell__.tableHeaderRow.length;x+=1){h=this.internal.__cell__.tableHeaderRow[x].clone(),d&&(h.y=this.internal.__cell__.margins.top||0,p.push(h)),h.lineNumber=c;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,h),this.setTextColor(v)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),s=!1}})(nr.API);var gY={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},vY=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],u6=pY(vY),yY=[100,200,300,400,500,600,700,800,900],cPe=pY(yY);function K_(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),s=(function(i){return gY[i=i||"normal"]?i:"normal"})(e.style),a=(function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400})(e.weight),n=(function(i){return typeof u6[i=i||"normal"]=="number"?i:"normal"})(e.stretch);return{family:t,style:s,weight:a,stretch:n,src:e.src||[],ref:e.ref||{name:t,style:[n,s,a].join(" ")}}}function p9(e,t,s,a){var n;for(n=s;n>=0&&n<t.length;n+=a)if(e[t[n]])return e[t[n]];for(n=s;n>=0&&n<t.length;n-=a)if(e[t[n]])return e[t[n]]}var dPe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},g9={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function v9(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function y9(e){return e.trimLeft()}function uPe(e,t){for(var s=0;s<e.length;){if(e.charAt(s)===t)return[e.substring(0,s),e.substring(s+1)];s+=1}return null}function hPe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Ap,M2,b9,j9,N9,Y_=["times"];function w9(e,t,s,a,n){var i=4,l=_9;switch(n){case nr.API.image_compression.FAST:i=1,l=S9;break;case nr.API.image_compression.MEDIUM:i=6,l=k9;break;case nr.API.image_compression.SLOW:i=9,l=A9}e=(function(c,d,h,m){for(var p,x=c.length/d,v=new Uint8Array(c.length+x),y=[fPe,S9,_9,k9,A9],b=0;b<x;b+=1){var j=b*d,S=c.subarray(j,j+d);if(m)v.set(m(S,h,p),j+b);else{for(var w=y.length,k=[],_=0;_<w;_+=1)k[_]=y[_](S,h,p);var O=xPe(k.concat());v.set(k[O],j+b)}p=S}return v})(e,t,Math.ceil(s*a/8),l);var o=a6(e,{level:i});return nr.API.__addimage__.arrayBufferToBinaryString(o)}function fPe(e){var t=Array.apply([],e);return t.unshift(0),t}function S9(e,t){var s=e.length,a=[];a[0]=1;for(var n=0;n<s;n+=1){var i=e[n-t]||0;a[n+1]=e[n]-i+256&255}return a}function _9(e,t,s){var a=e.length,n=[];n[0]=2;for(var i=0;i<a;i+=1){var l=s&&s[i]||0;n[i+1]=e[i]-l+256&255}return n}function k9(e,t,s){var a=e.length,n=[];n[0]=3;for(var i=0;i<a;i+=1){var l=e[i-t]||0,o=s&&s[i]||0;n[i+1]=e[i]+256-(l+o>>>1)&255}return n}function A9(e,t,s){var a=e.length,n=[];n[0]=4;for(var i=0;i<a;i+=1){var l=mPe(e[i-t]||0,s&&s[i]||0,s&&s[i-t]||0);n[i+1]=e[i]-l+256&255}return n}function mPe(e,t,s){if(e===t&&t===s)return e;var a=Math.abs(t-s),n=Math.abs(e-s),i=Math.abs(e+t-s-s);return a<=n&&a<=i?e:n<=i?t:s}function xPe(e){var t=e.map(function(s){return s.reduce(function(a,n){return a+Math.abs(n)},0)});return t.indexOf(Math.min.apply(null,t))}function X_(e,t,s){var a=t*s,n=Math.floor(a/8),i=16-(a-8*n+s),l=(1<<s)-1;return bY(e,n)>>i&l}function C9(e,t,s,a){var n=s*a,i=Math.floor(n/8),l=16-(n-8*i+a),o=(1<<a)-1,c=(t&o)<<l;(function(d,h,m){if(h+1<d.byteLength)d.setUint16(h,m,!1);else{var p=m>>8&255;d.setUint8(h,p)}})(e,i,bY(e,i)&~(o<<l)&65535|c)}function bY(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function pPe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var s=e[t++]|e[t++]<<8,a=e[t++]|e[t++]<<8,n=e[t++],i=n>>7,l=1<<1+(7&n);e[t++],e[t++];var o=null,c=null;i&&(o=t,c=l,t+=3*l);var d=!0,h=[],m=0,p=null,x=0,v=null;for(this.width=s,this.height=a;d&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,v=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((M=e[t++])>=0))throw Error("Invalid block size");if(M===0)break;t+=M}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var y=e[t++];m=e[t++]|e[t++]<<8,p=e[t++],1&y||(p=null),x=y>>2&7,t++;break;case 254:for(;;){if(!((M=e[t++])>=0))throw Error("Invalid block size");if(M===0)break;t+=M}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var b=e[t++]|e[t++]<<8,j=e[t++]|e[t++]<<8,S=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,k=e[t++],_=k>>6&1,O=1<<1+(7&k),E=o,F=c,I=!1;k>>7&&(I=!0,E=t,F=O,t+=3*O);var U=t;for(t++;;){var M;if(!((M=e[t++])>=0))throw Error("Invalid block size");if(M===0)break;t+=M}h.push({x:b,y:j,width:S,height:w,has_local_palette:I,palette_offset:E,palette_size:F,data_offset:U,data_length:t-U,transparent_index:p,interlaced:!!_,delay:m,disposal:x});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return v},this.frameInfo=function(L){if(L<0||L>=h.length)throw new Error("Frame index out of range.");return h[L]},this.decodeAndBlitFrameBGRA=function(L,J){var K=this.frameInfo(L),ae=K.width*K.height,V=new Uint8Array(ae);T9(e,K.data_offset,V,ae);var re=K.palette_offset,X=K.transparent_index;X===null&&(X=256);var Z=K.width,ye=s-Z,te=Z,D=4*(K.y*s+K.x),H=4*((K.y+K.height)*s+K.x),q=D,W=4*ye;K.interlaced===!0&&(W+=4*s*7);for(var G=8,fe=0,Se=V.length;fe<Se;++fe){var se=V[fe];if(te===0&&(te=Z,(q+=W)>=H&&(W=4*ye+4*s*(G-1),q=D+(Z+ye)*(G<<1),G>>=1)),se===X)q+=4;else{var ge=e[re+3*se],Be=e[re+3*se+1],ee=e[re+3*se+2];J[q++]=ee,J[q++]=Be,J[q++]=ge,J[q++]=255}--te}},this.decodeAndBlitFrameRGBA=function(L,J){var K=this.frameInfo(L),ae=K.width*K.height,V=new Uint8Array(ae);T9(e,K.data_offset,V,ae);var re=K.palette_offset,X=K.transparent_index;X===null&&(X=256);var Z=K.width,ye=s-Z,te=Z,D=4*(K.y*s+K.x),H=4*((K.y+K.height)*s+K.x),q=D,W=4*ye;K.interlaced===!0&&(W+=4*s*7);for(var G=8,fe=0,Se=V.length;fe<Se;++fe){var se=V[fe];if(te===0&&(te=Z,(q+=W)>=H&&(W=4*ye+4*s*(G-1),q=D+(Z+ye)*(G<<1),G>>=1)),se===X)q+=4;else{var ge=e[re+3*se],Be=e[re+3*se+1],ee=e[re+3*se+2];J[q++]=ge,J[q++]=Be,J[q++]=ee,J[q++]=255}--te}}}function T9(e,t,s,a){for(var n=e[t++],i=1<<n,l=i+1,o=l+1,c=n+1,d=(1<<c)-1,h=0,m=0,p=0,x=e[t++],v=new Int32Array(4096),y=null;;){for(;h<16&&x!==0;)m|=e[t++]<<h,h+=8,x===1?x=e[t++]:--x;if(h<c)break;var b=m&d;if(m>>=c,h-=c,b!==i){if(b===l)break;for(var j=b<o?b:y,S=0,w=j;w>i;)w=v[w]>>8,++S;var k=w;if(p+S+(j!==b?1:0)>a)return void ga.log("Warning, gif stream longer than expected.");s[p++]=k;var _=p+=S;for(j!==b&&(s[p++]=k),w=j;S--;)w=v[w],s[--_]=255&w,w>>=8;y!==null&&o<4096&&(v[o++]=y<<8|k,o>=d+1&&c<12&&(++c,d=d<<1|1)),y=b}else o=l+1,d=(1<<(c=n+1))-1,y=null}return p!==a&&ga.log("Warning, gif stream shorter than expected."),s}function Z_(e){var t,s,a,n,i,l=Math.floor,o=new Array(64),c=new Array(64),d=new Array(64),h=new Array(64),m=new Array(65535),p=new Array(65535),x=new Array(64),v=new Array(64),y=[],b=0,j=7,S=new Array(64),w=new Array(64),k=new Array(64),_=new Array(256),O=new Array(2048),E=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],F=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],M=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],L=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],J=[0,1,2,3,4,5,6,7,8,9,10,11],K=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ae=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function V(D,H){for(var q=0,W=0,G=new Array,fe=1;fe<=16;fe++){for(var Se=1;Se<=D[fe];Se++)G[H[W]]=[],G[H[W]][0]=q,G[H[W]][1]=fe,W++,q++;q*=2}return G}function re(D){for(var H=D[0],q=D[1]-1;q>=0;)H&1<<q&&(b|=1<<j),q--,--j<0&&(b==255?(X(255),X(0)):X(b),j=7,b=0)}function X(D){y.push(D)}function Z(D){X(D>>8&255),X(255&D)}function ye(D,H,q,W,G){for(var fe,Se=G[0],se=G[240],ge=(function(Ge,qt){var we,_e,ne,Oe,Me,De,He,mt,xt,At,Ot=0;for(xt=0;xt<8;++xt){we=Ge[Ot],_e=Ge[Ot+1],ne=Ge[Ot+2],Oe=Ge[Ot+3],Me=Ge[Ot+4],De=Ge[Ot+5],He=Ge[Ot+6];var br=we+(mt=Ge[Ot+7]),Jt=we-mt,Vt=_e+He,pr=_e-He,Hr=ne+De,cr=ne-De,Ns=Oe+Me,fr=Oe-Me,Sr=br+Ns,Fs=br-Ns,Rr=Vt+Hr,ar=Vt-Hr;Ge[Ot]=Sr+Rr,Ge[Ot+4]=Sr-Rr;var is=.707106781*(ar+Fs);Ge[Ot+2]=Fs+is,Ge[Ot+6]=Fs-is;var El=.382683433*((Sr=fr+cr)-(ar=pr+Jt)),Un=.5411961*Sr+El,Zl=1.306562965*ar+El,nl=.707106781*(Rr=cr+pr),hr=Jt+nl,Po=Jt-nl;Ge[Ot+5]=Po+Un,Ge[Ot+3]=Po-Un,Ge[Ot+1]=hr+Zl,Ge[Ot+7]=hr-Zl,Ot+=8}for(Ot=0,xt=0;xt<8;++xt){we=Ge[Ot],_e=Ge[Ot+8],ne=Ge[Ot+16],Oe=Ge[Ot+24],Me=Ge[Ot+32],De=Ge[Ot+40],He=Ge[Ot+48];var Jl=we+(mt=Ge[Ot+56]),ai=we-mt,$i=_e+He,aa=_e-He,Ba=ne+De,ce=ne-De,Te=Oe+Me,be=Oe-Me,je=Jl+Te,ke=Jl-Te,Pe=$i+Ba,Ke=$i-Ba;Ge[Ot]=je+Pe,Ge[Ot+32]=je-Pe;var ht=.707106781*(Ke+ke);Ge[Ot+16]=ke+ht,Ge[Ot+48]=ke-ht;var Ze=.382683433*((je=be+ce)-(Ke=aa+ai)),Je=.5411961*je+Ze,rt=1.306562965*Ke+Ze,Dt=.707106781*(Pe=ce+aa),Ft=ai+Dt,Ht=ai-Dt;Ge[Ot+40]=Ht+Je,Ge[Ot+24]=Ht-Je,Ge[Ot+8]=Ft+rt,Ge[Ot+56]=Ft-rt,Ot++}for(xt=0;xt<64;++xt)At=Ge[xt]*qt[xt],x[xt]=At>0?At+.5|0:At-.5|0;return x})(D,H),Be=0;Be<64;++Be)v[E[Be]]=ge[Be];var ee=v[0]-q;q=v[0],ee==0?re(W[0]):(re(W[p[fe=32767+ee]]),re(m[fe]));for(var at=63;at>0&&v[at]==0;)at--;if(at==0)return re(Se),q;for(var nt,xe=1;xe<=at;){for(var ot=xe;v[xe]==0&&xe<=at;)++xe;var ut=xe-ot;if(ut>=16){nt=ut>>4;for(var Re=1;Re<=nt;++Re)re(se);ut&=15}fe=32767+v[xe],re(G[(ut<<4)+p[fe]]),re(m[fe]),xe++}return at!=63&&re(Se),q}function te(D){D=Math.min(Math.max(D,1),100),i!=D&&((function(H){for(var q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],W=0;W<64;W++){var G=l((q[W]*H+50)/100);G=Math.min(Math.max(G,1),255),o[E[W]]=G}for(var fe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Se=0;Se<64;Se++){var se=l((fe[Se]*H+50)/100);se=Math.min(Math.max(se,1),255),c[E[Se]]=se}for(var ge=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Be=0,ee=0;ee<8;ee++)for(var at=0;at<8;at++)d[Be]=1/(o[E[Be]]*ge[ee]*ge[at]*8),h[Be]=1/(c[E[Be]]*ge[ee]*ge[at]*8),Be++})(D<50?Math.floor(5e3/D):Math.floor(200-2*D)),i=D)}this.encode=function(D,H){H&&te(H),y=new Array,b=0,j=7,Z(65496),Z(65504),Z(16),X(74),X(70),X(73),X(70),X(0),X(1),X(1),X(0),Z(1),Z(1),X(0),X(0),(function(){Z(65499),Z(132),X(0);for(var _e=0;_e<64;_e++)X(o[_e]);X(1);for(var ne=0;ne<64;ne++)X(c[ne])})(),(function(_e,ne){Z(65472),Z(17),X(8),Z(ne),Z(_e),X(3),X(1),X(17),X(0),X(2),X(17),X(1),X(3),X(17),X(1)})(D.width,D.height),(function(){Z(65476),Z(418),X(0);for(var _e=0;_e<16;_e++)X(F[_e+1]);for(var ne=0;ne<=11;ne++)X(I[ne]);X(16);for(var Oe=0;Oe<16;Oe++)X(U[Oe+1]);for(var Me=0;Me<=161;Me++)X(M[Me]);X(1);for(var De=0;De<16;De++)X(L[De+1]);for(var He=0;He<=11;He++)X(J[He]);X(17);for(var mt=0;mt<16;mt++)X(K[mt+1]);for(var xt=0;xt<=161;xt++)X(ae[xt])})(),Z(65498),Z(12),X(3),X(1),X(0),X(2),X(17),X(3),X(17),X(0),X(63),X(0);var q=0,W=0,G=0;b=0,j=7,this.encode.displayName="_encode_";for(var fe,Se,se,ge,Be,ee,at,nt,xe,ot=D.data,ut=D.width,Re=D.height,Ge=4*ut,qt=0;qt<Re;){for(fe=0;fe<Ge;){for(Be=Ge*qt+fe,at=-1,nt=0,xe=0;xe<64;xe++)ee=Be+(nt=xe>>3)*Ge+(at=4*(7&xe)),qt+nt>=Re&&(ee-=Ge*(qt+1+nt-Re)),fe+at>=Ge&&(ee-=fe+at-Ge+4),Se=ot[ee++],se=ot[ee++],ge=ot[ee++],S[xe]=(O[Se]+O[se+256|0]+O[ge+512|0]>>16)-128,w[xe]=(O[Se+768|0]+O[se+1024|0]+O[ge+1280|0]>>16)-128,k[xe]=(O[Se+1280|0]+O[se+1536|0]+O[ge+1792|0]>>16)-128;q=ye(S,d,q,t,a),W=ye(w,h,W,s,n),G=ye(k,h,G,s,n),fe+=32}qt+=8}if(j>=0){var we=[];we[1]=j+1,we[0]=(1<<j+1)-1,re(we)}return Z(65497),new Uint8Array(y)},e=e||50,(function(){for(var D=String.fromCharCode,H=0;H<256;H++)_[H]=D(H)})(),t=V(F,I),s=V(L,J),a=V(U,M),n=V(K,ae),(function(){for(var D=1,H=2,q=1;q<=15;q++){for(var W=D;W<H;W++)p[32767+W]=q,m[32767+W]=[],m[32767+W][1]=q,m[32767+W][0]=W;for(var G=-(H-1);G<=-D;G++)p[32767+G]=q,m[32767+G]=[],m[32767+G][1]=q,m[32767+G][0]=H-1+G;D<<=1,H<<=1}})(),(function(){for(var D=0;D<256;D++)O[D]=19595*D,O[D+256|0]=38470*D,O[D+512|0]=7471*D+32768,O[D+768|0]=-11059*D,O[D+1024|0]=-21709*D,O[D+1280|0]=32768*D+8421375,O[D+1536|0]=-27439*D,O[D+1792|0]=-5329*D})(),te(e)}function Rd(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function E9(e){function t(I){if(!I)throw Error("assert :P")}function s(I,U,M){for(var L=0;4>L;L++)if(I[U+L]!=M.charCodeAt(L))return!0;return!1}function a(I,U,M,L,J){for(var K=0;K<J;K++)I[U+K]=M[L+K]}function n(I,U,M,L){for(var J=0;J<L;J++)I[U+J]=M}function i(I){return new Int32Array(I)}function l(I,U){for(var M=[],L=0;L<I;L++)M.push(new U);return M}function o(I,U){var M=[];return(function L(J,K,ae){for(var V=ae[K],re=0;re<V&&(J.push(ae.length>K+1?[]:new U),!(ae.length<K+1));re++)L(J[re],K+1,ae)})(M,0,I),M}var c=function(){var I=this;function U(C,P){for(var z=1<<P-1>>>0;C&z;)z>>>=1;return z?(C&z-1)+z:C}function M(C,P,z,Y,le){t(!(Y%z));do C[P+(Y-=z)]=le;while(0<Y)}function L(C,P,z,Y,le){if(t(2328>=le),512>=le)var ue=i(512);else if((ue=i(le))==null)return 0;return(function(me,ve,Ne,Ce,Ie,Qe){var Ae,$e,We=ve,gt=1<<Ne,Ye=i(16),pt=i(16);for(t(Ie!=0),t(Ce!=null),t(me!=null),t(0<Ne),$e=0;$e<Ie;++$e){if(15<Ce[$e])return 0;++Ye[Ce[$e]]}if(Ye[0]==Ie)return 0;for(pt[1]=0,Ae=1;15>Ae;++Ae){if(Ye[Ae]>1<<Ae)return 0;pt[Ae+1]=pt[Ae]+Ye[Ae]}for($e=0;$e<Ie;++$e)Ae=Ce[$e],0<Ce[$e]&&(Qe[pt[Ae]++]=$e);if(pt[15]==1)return(Ce=new J).g=0,Ce.value=Qe[0],M(me,We,1,gt,Ce),gt;var Nt,Rt=-1,kt=gt-1,sr=0,Gt=1,Pr=1,Xt=1<<Ne;for($e=0,Ae=1,Ie=2;Ae<=Ne;++Ae,Ie<<=1){if(Gt+=Pr<<=1,0>(Pr-=Ye[Ae]))return 0;for(;0<Ye[Ae];--Ye[Ae])(Ce=new J).g=Ae,Ce.value=Qe[$e++],M(me,We+sr,Ie,Xt,Ce),sr=U(sr,Ae)}for(Ae=Ne+1,Ie=2;15>=Ae;++Ae,Ie<<=1){if(Gt+=Pr<<=1,0>(Pr-=Ye[Ae]))return 0;for(;0<Ye[Ae];--Ye[Ae]){if(Ce=new J,(sr&kt)!=Rt){for(We+=Xt,Nt=1<<(Rt=Ae)-Ne;15>Rt&&!(0>=(Nt-=Ye[Rt]));)++Rt,Nt<<=1;gt+=Xt=1<<(Nt=Rt-Ne),me[ve+(Rt=sr&kt)].g=Nt+Ne,me[ve+Rt].value=We-ve-Rt}Ce.g=Ae-Ne,Ce.value=Qe[$e++],M(me,We+(sr>>Ne),Ie,Xt,Ce),sr=U(sr,Ae)}}return Gt!=2*pt[15]-1?0:gt})(C,P,z,Y,le,ue)}function J(){this.value=this.g=0}function K(){this.value=this.g=0}function ae(){this.G=l(5,J),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(iu,K)}function V(C,P,z,Y){t(C!=null),t(P!=null),t(2147483648>Y),C.Ca=254,C.I=0,C.b=-8,C.Ka=0,C.oa=P,C.pa=z,C.Jd=P,C.Yc=z+Y,C.Zc=4<=Y?z+Y-4+1:z,Se(C)}function re(C,P){for(var z=0;0<P--;)z|=ge(C,128)<<P;return z}function X(C,P){var z=re(C,P);return se(C)?-z:z}function Z(C,P,z,Y){var le,ue=0;for(t(C!=null),t(P!=null),t(4294967288>Y),C.Sb=Y,C.Ra=0,C.u=0,C.h=0,4<Y&&(Y=4),le=0;le<Y;++le)ue+=P[z+le]<<8*le;C.Ra=ue,C.bb=Y,C.oa=P,C.pa=z}function ye(C){for(;8<=C.u&&C.bb<C.Sb;)C.Ra>>>=8,C.Ra+=C.oa[C.pa+C.bb]<<vc-8>>>0,++C.bb,C.u-=8;W(C)&&(C.h=1,C.u=0)}function te(C,P){if(t(0<=P),!C.h&&P<=Gi){var z=q(C)&ll[P];return C.u+=P,ye(C),z}return C.h=1,C.u=0}function D(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function H(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function q(C){return C.Ra>>>(C.u&vc-1)>>>0}function W(C){return t(C.bb<=C.Sb),C.h||C.bb==C.Sb&&C.u>vc}function G(C,P){C.u=P,C.h=W(C)}function fe(C){C.u>=yc&&(t(C.u>=yc),ye(C))}function Se(C){t(C!=null&&C.oa!=null),C.pa<C.Zc?(C.I=(C.oa[C.pa++]|C.I<<8)>>>0,C.b+=8):(t(C!=null&&C.oa!=null),C.pa<C.Yc?(C.b+=8,C.I=C.oa[C.pa++]|C.I<<8):C.Ka?C.b=0:(C.I<<=8,C.b+=8,C.Ka=1))}function se(C){return re(C,1)}function ge(C,P){var z=C.Ca;0>C.b&&Se(C);var Y=C.b,le=z*P>>>8,ue=(C.I>>>Y>le)+0;for(ue?(z-=le,C.I-=le+1<<Y>>>0):z=le+1,Y=z,le=0;256<=Y;)le+=8,Y>>=8;return Y=7^le+bd[Y],C.b-=Y,C.Ca=(z<<Y)-1,ue}function Be(C,P,z){C[P+0]=z>>24&255,C[P+1]=z>>16&255,C[P+2]=z>>8&255,C[P+3]=255&z}function ee(C,P){return C[P+0]|C[P+1]<<8}function at(C,P){return ee(C,P)|C[P+2]<<16}function nt(C,P){return ee(C,P)|ee(C,P+2)<<16}function xe(C,P){var z=1<<P;return t(C!=null),t(0<P),C.X=i(z),C.X==null?0:(C.Mb=32-P,C.Xa=P,1)}function ot(C,P){t(C!=null),t(P!=null),t(C.Xa==P.Xa),a(P.X,0,C.X,0,1<<P.Xa)}function ut(){this.X=[],this.Xa=this.Mb=0}function Re(C,P,z,Y){t(z!=null),t(Y!=null);var le=z[0],ue=Y[0];return le==0&&(le=(C*ue+P/2)/P),ue==0&&(ue=(P*le+C/2)/C),0>=le||0>=ue?0:(z[0]=le,Y[0]=ue,1)}function Ge(C,P){return C+(1<<P)-1>>>P}function qt(C,P){return((4278255360&C)+(4278255360&P)>>>0&4278255360)+((16711935&C)+(16711935&P)>>>0&16711935)>>>0}function we(C,P){I[P]=function(z,Y,le,ue,me,ve,Ne){var Ce;for(Ce=0;Ce<me;++Ce){var Ie=I[C](ve[Ne+Ce-1],le,ue+Ce);ve[Ne+Ce]=qt(z[Y+Ce],Ie)}}}function _e(){this.ud=this.hd=this.jd=0}function ne(C,P){return((4278124286&(C^P))>>>1)+(C&P)>>>0}function Oe(C){return 0<=C&&256>C?C:0>C?0:255<C?255:void 0}function Me(C,P){return Oe(C+(C-P+.5>>1))}function De(C,P,z){return Math.abs(P-z)-Math.abs(C-z)}function He(C,P,z,Y,le,ue,me){for(Y=ue[me-1],z=0;z<le;++z)ue[me+z]=Y=qt(C[P+z],Y)}function mt(C,P,z,Y,le){var ue;for(ue=0;ue<z;++ue){var me=C[P+ue],ve=me>>8&255,Ne=16711935&(Ne=(Ne=16711935&me)+((ve<<16)+ve));Y[le+ue]=(4278255360&me)+Ne>>>0}}function xt(C,P){P.jd=255&C,P.hd=C>>8&255,P.ud=C>>16&255}function At(C,P,z,Y,le,ue){var me;for(me=0;me<Y;++me){var ve=P[z+me],Ne=ve>>>8,Ce=ve,Ie=255&(Ie=(Ie=ve>>>16)+((C.jd<<24>>24)*(Ne<<24>>24)>>>5));Ce=255&(Ce=(Ce+=(C.hd<<24>>24)*(Ne<<24>>24)>>>5)+((C.ud<<24>>24)*(Ie<<24>>24)>>>5)),le[ue+me]=(4278255360&ve)+(Ie<<16)+Ce}}function Ot(C,P,z,Y,le){I[P]=function(ue,me,ve,Ne,Ce,Ie,Qe,Ae,$e){for(Ne=Qe;Ne<Ae;++Ne)for(Qe=0;Qe<$e;++Qe)Ce[Ie++]=le(ve[Y(ue[me++])])},I[C]=function(ue,me,ve,Ne,Ce,Ie,Qe){var Ae=8>>ue.b,$e=ue.Ea,We=ue.K[0],gt=ue.w;if(8>Ae)for(ue=(1<<ue.b)-1,gt=(1<<Ae)-1;me<ve;++me){var Ye,pt=0;for(Ye=0;Ye<$e;++Ye)Ye&ue||(pt=Y(Ne[Ce++])),Ie[Qe++]=le(We[pt&gt]),pt>>=Ae}else I["VP8LMapColor"+z](Ne,Ce,We,gt,Ie,Qe,me,ve,$e)}}function br(C,P,z,Y,le){for(z=P+z;P<z;){var ue=C[P++];Y[le++]=ue>>16&255,Y[le++]=ue>>8&255,Y[le++]=255&ue}}function Jt(C,P,z,Y,le){for(z=P+z;P<z;){var ue=C[P++];Y[le++]=ue>>16&255,Y[le++]=ue>>8&255,Y[le++]=255&ue,Y[le++]=ue>>24&255}}function Vt(C,P,z,Y,le){for(z=P+z;P<z;){var ue=(me=C[P++])>>16&240|me>>12&15,me=240&me|me>>28&15;Y[le++]=ue,Y[le++]=me}}function pr(C,P,z,Y,le){for(z=P+z;P<z;){var ue=(me=C[P++])>>16&248|me>>13&7,me=me>>5&224|me>>3&31;Y[le++]=ue,Y[le++]=me}}function Hr(C,P,z,Y,le){for(z=P+z;P<z;){var ue=C[P++];Y[le++]=255&ue,Y[le++]=ue>>8&255,Y[le++]=ue>>16&255}}function cr(C,P,z,Y,le,ue){if(ue==0)for(z=P+z;P<z;)Be(Y,((ue=C[P++])[0]>>24|ue[1]>>8&65280|ue[2]<<8&16711680|ue[3]<<24)>>>0),le+=32;else a(Y,le,C,P,z)}function Ns(C,P){I[P][0]=I[C+"0"],I[P][1]=I[C+"1"],I[P][2]=I[C+"2"],I[P][3]=I[C+"3"],I[P][4]=I[C+"4"],I[P][5]=I[C+"5"],I[P][6]=I[C+"6"],I[P][7]=I[C+"7"],I[P][8]=I[C+"8"],I[P][9]=I[C+"9"],I[P][10]=I[C+"10"],I[P][11]=I[C+"11"],I[P][12]=I[C+"12"],I[P][13]=I[C+"13"],I[P][14]=I[C+"0"],I[P][15]=I[C+"0"]}function fr(C){return C==i0||C==qx||C==Cf||C==Vx}function Sr(){this.eb=[],this.size=this.A=this.fb=0}function Fs(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Rr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Sr,this.f.kb=new Fs,this.sd=null}function ar(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function is(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function El(C){return alert("todo:WebPSamplerProcessPlane"),C.T}function Un(C,P){var z=C.T,Y=P.ba.f.RGBA,le=Y.eb,ue=Y.fb+C.ka*Y.A,me=di[P.ba.S],ve=C.y,Ne=C.O,Ce=C.f,Ie=C.N,Qe=C.ea,Ae=C.W,$e=P.cc,We=P.dc,gt=P.Mc,Ye=P.Nc,pt=C.ka,Nt=C.ka+C.T,Rt=C.U,kt=Rt+1>>1;for(pt==0?me(ve,Ne,null,null,Ce,Ie,Qe,Ae,Ce,Ie,Qe,Ae,le,ue,null,null,Rt):(me(P.ec,P.fc,ve,Ne,$e,We,gt,Ye,Ce,Ie,Qe,Ae,le,ue-Y.A,le,ue,Rt),++z);pt+2<Nt;pt+=2)$e=Ce,We=Ie,gt=Qe,Ye=Ae,Ie+=C.Rc,Ae+=C.Rc,ue+=2*Y.A,me(ve,(Ne+=2*C.fa)-C.fa,ve,Ne,$e,We,gt,Ye,Ce,Ie,Qe,Ae,le,ue-Y.A,le,ue,Rt);return Ne+=C.fa,C.j+Nt<C.o?(a(P.ec,P.fc,ve,Ne,Rt),a(P.cc,P.dc,Ce,Ie,kt),a(P.Mc,P.Nc,Qe,Ae,kt),z--):1&Nt||me(ve,Ne,null,null,Ce,Ie,Qe,Ae,Ce,Ie,Qe,Ae,le,ue+Y.A,null,null,Rt),z}function Zl(C,P,z){var Y=C.F,le=[C.J];if(Y!=null){var ue=C.U,me=P.ba.S,ve=me==n0||me==Cf;P=P.ba.f.RGBA;var Ne=[0],Ce=C.ka;Ne[0]=C.T,C.Kb&&(Ce==0?--Ne[0]:(--Ce,le[0]-=C.width),C.j+C.ka+C.T==C.o&&(Ne[0]=C.o-C.j-Ce));var Ie=P.eb;Ce=P.fb+Ce*P.A,C=t0(Y,le[0],C.width,ue,Ne,Ie,Ce+(ve?0:3),P.A),t(z==Ne),C&&fr(me)&&ih(Ie,Ce,ve,ue,Ne,P.A)}return 0}function nl(C){var P=C.ma,z=P.ba.S,Y=11>z,le=z==_i||z==so||z==n0||z==Af||z==12||fr(z);if(P.memory=null,P.Ib=null,P.Jb=null,P.Nd=null,!yd(P.Oa,C,le?11:12))return 0;if(le&&fr(z)&&Zm(),C.da)alert("todo:use_scaling");else{if(Y){if(P.Ib=El,C.Kb){if(z=C.U+1>>1,P.memory=i(C.U+2*z),P.memory==null)return 0;P.ec=P.memory,P.fc=0,P.cc=P.ec,P.dc=P.fc+C.U,P.Mc=P.cc,P.Nc=P.dc+z,P.Ib=Un,Zm()}}else alert("todo:EmitYUV");le&&(P.Jb=Zl,Y&&Lo())}if(Y&&!fu){for(C=0;256>C;++C)ui[C]=89858*(C-128)+Pf>>co,m4[C]=-22014*(C-128)+Pf,f1[C]=-45773*(C-128),Xx[C]=113618*(C-128)+Pf>>co;for(C=dh;C<hu;++C)P=76283*(C-16)+Pf>>co,x4[C-dh]=Aa(P,255),p4[C-dh]=Aa(P+8>>4,15);fu=1}return 1}function hr(C){var P=C.ma,z=C.U,Y=C.T;return t(!(1&C.ka)),0>=z||0>=Y?0:(z=P.Ib(C,P),P.Jb!=null&&P.Jb(C,P,z),P.Dc+=z,1)}function Po(C){C.ma.memory=null}function Jl(C,P,z,Y){return te(C,8)!=47?0:(P[0]=te(C,14)+1,z[0]=te(C,14)+1,Y[0]=te(C,1),te(C,3)!=0?0:!C.h)}function ai(C,P){if(4>C)return C+1;var z=C-2>>1;return(2+(1&C)<<z)+te(P,z)+1}function $i(C,P){return 120<P?P-120:1<=(z=((z=no[P-1])>>4)*C+(8-(15&z)))?z:1;var z}function aa(C,P,z){var Y=q(z),le=C[P+=255&Y].g-8;return 0<le&&(G(z,z.u+8),Y=q(z),P+=C[P].value,P+=Y&(1<<le)-1),G(z,z.u+C[P].g),C[P].value}function Ba(C,P,z){return z.g+=C.g,z.value+=C.value<<P>>>0,t(8>=z.g),C.g}function ce(C,P,z){var Y=C.xc;return t((P=Y==0?0:C.vc[C.md*(z>>Y)+(P>>Y)])<C.Wb),C.Ya[P]}function Te(C,P,z,Y){var le=C.ab,ue=C.c*P,me=C.C;P=me+P;var ve=z,Ne=Y;for(Y=C.Ta,z=C.Ua;0<le--;){var Ce=C.gc[le],Ie=me,Qe=P,Ae=ve,$e=Ne,We=(Ne=Y,ve=z,Ce.Ea);switch(t(Ie<Qe),t(Qe<=Ce.nc),Ce.hc){case 2:Ja(Ae,$e,(Qe-Ie)*We,Ne,ve);break;case 0:var gt=Ie,Ye=Qe,pt=Ne,Nt=ve,Rt=(Xt=Ce).Ea;gt==0&&(wf(Ae,$e,null,null,1,pt,Nt),He(Ae,$e+1,0,0,Rt-1,pt,Nt+1),$e+=Rt,Nt+=Rt,++gt);for(var kt=1<<Xt.b,sr=kt-1,Gt=Ge(Rt,Xt.b),Pr=Xt.K,Xt=Xt.w+(gt>>Xt.b)*Gt;gt<Ye;){var as=Pr,xa=Xt,Ir=1;for(Sf(Ae,$e,pt,Nt-Rt,1,pt,Nt);Ir<Rt;){var Kt=(Ir&~sr)+kt;Kt>Rt&&(Kt=Rt),(0,jd[as[xa++]>>8&15])(Ae,$e+ +Ir,pt,Nt+Ir-Rt,Kt-Ir,pt,Nt+Ir),Ir=Kt}$e+=Rt,Nt+=Rt,++gt&sr||(Xt+=Gt)}Qe!=Ce.nc&&a(Ne,ve-We,Ne,ve+(Qe-Ie-1)*We,We);break;case 1:for(We=Ae,Ye=$e,Rt=(Ae=Ce.Ea)-(Nt=Ae&~(pt=($e=1<<Ce.b)-1)),gt=Ge(Ae,Ce.b),kt=Ce.K,Ce=Ce.w+(Ie>>Ce.b)*gt;Ie<Qe;){for(sr=kt,Gt=Ce,Pr=new _e,Xt=Ye+Nt,as=Ye+Ae;Ye<Xt;)xt(sr[Gt++],Pr),_f(Pr,We,Ye,$e,Ne,ve),Ye+=$e,ve+=$e;Ye<as&&(xt(sr[Gt++],Pr),_f(Pr,We,Ye,Rt,Ne,ve),Ye+=Rt,ve+=Rt),++Ie&pt||(Ce+=gt)}break;case 3:if(Ae==Ne&&$e==ve&&0<Ce.b){for(Ye=Ne,Ae=We=ve+(Qe-Ie)*We-(Nt=(Qe-Ie)*Ge(Ce.Ea,Ce.b)),$e=Ne,pt=ve,gt=[],Nt=(Rt=Nt)-1;0<=Nt;--Nt)gt[Nt]=$e[pt+Nt];for(Nt=Rt-1;0<=Nt;--Nt)Ye[Ae+Nt]=gt[Nt];Bx(Ce,Ie,Qe,Ne,We,Ne,ve)}else Bx(Ce,Ie,Qe,Ae,$e,Ne,ve)}ve=Y,Ne=z}Ne!=z&&a(Y,z,ve,Ne,ue)}function be(C,P){var z=C.V,Y=C.Ba+C.c*C.C,le=P-C.C;if(t(P<=C.l.o),t(16>=le),0<le){var ue=C.l,me=C.Ta,ve=C.Ua,Ne=ue.width;if(Te(C,le,z,Y),le=ve=[ve],t((z=C.C)<(Y=P)),t(ue.v<ue.va),Y>ue.o&&(Y=ue.o),z<ue.j){var Ce=ue.j-z;z=ue.j,le[0]+=Ce*Ne}if(z>=Y?z=0:(le[0]+=4*ue.v,ue.ka=z-ue.j,ue.U=ue.va-ue.v,ue.T=Y-z,z=1),z){if(ve=ve[0],11>(z=C.ca).S){var Ie=z.f.RGBA,Qe=(Y=z.S,le=ue.U,ue=ue.T,Ce=Ie.eb,Ie.A),Ae=ue;for(Ie=Ie.fb+C.Ma*Ie.A;0<Ae--;){var $e=me,We=ve,gt=le,Ye=Ce,pt=Ie;switch(Y){case $x:kf($e,We,gt,Ye,pt);break;case _i:Nd($e,We,gt,Ye,pt);break;case i0:Nd($e,We,gt,Ye,pt),ih(Ye,pt,0,gt,1,0);break;case Hx:ah($e,We,gt,Ye,pt);break;case so:cr($e,We,gt,Ye,pt,1);break;case qx:cr($e,We,gt,Ye,pt,1),ih(Ye,pt,0,gt,1,0);break;case n0:cr($e,We,gt,Ye,pt,0);break;case Cf:cr($e,We,gt,Ye,pt,0),ih(Ye,pt,1,gt,1,0);break;case Af:wd($e,We,gt,Ye,pt);break;case Vx:wd($e,We,gt,Ye,pt),ro(Ye,pt,gt,1,0);break;case lu:Nc($e,We,gt,Ye,pt);break;default:t(0)}ve+=Ne,Ie+=Qe}C.Ma+=ue}else alert("todo:EmitRescaledRowsYUVA");t(C.Ma<=z.height)}}C.C=P,t(C.C<=C.i)}function je(C){var P;if(0<C.ua)return 0;for(P=0;P<C.Wb;++P){var z=C.Ya[P].G,Y=C.Ya[P].H;if(0<z[1][Y[1]+0].g||0<z[2][Y[2]+0].g||0<z[3][Y[3]+0].g)return 0}return 1}function ke(C,P,z,Y,le,ue){if(C.Z!=0){var me=C.qd,ve=C.rd;for(t(kd[C.Z]!=null);P<z;++P)kd[C.Z](me,ve,Y,le,Y,le,ue),me=Y,ve=le,le+=ue;C.qd=me,C.rd=ve}}function Pe(C,P){var z=C.l.ma,Y=z.Z==0||z.Z==1?C.l.j:C.C;if(Y=C.C<Y?Y:C.C,t(P<=C.l.o),P>Y){var le=C.l.width,ue=z.ca,me=z.tb+le*Y,ve=C.V,Ne=C.Ba+C.c*Y,Ce=C.gc;t(C.ab==1),t(Ce[0].hc==3),jc(Ce[0],Y,P,ve,Ne,ue,me),ke(z,Y,P,ue,me,le)}C.C=C.Ma=P}function Ke(C,P,z,Y,le,ue,me){var ve=C.$/Y,Ne=C.$%Y,Ce=C.m,Ie=C.s,Qe=z+C.$,Ae=Qe;le=z+Y*le;var $e=z+Y*ue,We=280+Ie.ua,gt=C.Pb?ve:16777216,Ye=0<Ie.ua?Ie.Wa:null,pt=Ie.wc,Nt=Qe<$e?ce(Ie,Ne,ve):null;t(C.C<ue),t($e<=le);var Rt=!1;e:for(;;){for(;Rt||Qe<$e;){var kt=0;if(ve>=gt){var sr=Qe-z;t((gt=C).Pb),gt.wd=gt.m,gt.xd=sr,0<gt.s.ua&&ot(gt.s.Wa,gt.s.vb),gt=ve+ou}if(Ne&pt||(Nt=ce(Ie,Ne,ve)),t(Nt!=null),Nt.Qb&&(P[Qe]=Nt.qb,Rt=!0),!Rt)if(fe(Ce),Nt.jc){kt=Ce,sr=P;var Gt=Qe,Pr=Nt.pd[q(kt)&iu-1];t(Nt.jc),256>Pr.g?(G(kt,kt.u+Pr.g),sr[Gt]=Pr.value,kt=0):(G(kt,kt.u+Pr.g-256),t(256<=Pr.value),kt=Pr.value),kt==0&&(Rt=!0)}else kt=aa(Nt.G[0],Nt.H[0],Ce);if(Ce.h)break;if(Rt||256>kt){if(!Rt)if(Nt.nd)P[Qe]=(Nt.qb|kt<<8)>>>0;else{if(fe(Ce),Rt=aa(Nt.G[1],Nt.H[1],Ce),fe(Ce),sr=aa(Nt.G[2],Nt.H[2],Ce),Gt=aa(Nt.G[3],Nt.H[3],Ce),Ce.h)break;P[Qe]=(Gt<<24|Rt<<16|kt<<8|sr)>>>0}if(Rt=!1,++Qe,++Ne>=Y&&(Ne=0,++ve,me!=null&&ve<=ue&&!(ve%16)&&me(C,ve),Ye!=null))for(;Ae<Qe;)kt=P[Ae++],Ye.X[(506832829*kt&4294967295)>>>Ye.Mb]=kt}else if(280>kt){if(kt=ai(kt-256,Ce),sr=aa(Nt.G[4],Nt.H[4],Ce),fe(Ce),sr=$i(Y,sr=ai(sr,Ce)),Ce.h)break;if(Qe-z<sr||le-Qe<kt)break e;for(Gt=0;Gt<kt;++Gt)P[Qe+Gt]=P[Qe+Gt-sr];for(Qe+=kt,Ne+=kt;Ne>=Y;)Ne-=Y,++ve,me!=null&&ve<=ue&&!(ve%16)&&me(C,ve);if(t(Qe<=le),Ne&pt&&(Nt=ce(Ie,Ne,ve)),Ye!=null)for(;Ae<Qe;)kt=P[Ae++],Ye.X[(506832829*kt&4294967295)>>>Ye.Mb]=kt}else{if(!(kt<We))break e;for(Rt=kt-280,t(Ye!=null);Ae<Qe;)kt=P[Ae++],Ye.X[(506832829*kt&4294967295)>>>Ye.Mb]=kt;kt=Qe,t(!(Rt>>>(sr=Ye).Xa)),P[kt]=sr.X[Rt],Rt=!0}Rt||t(Ce.h==W(Ce))}if(C.Pb&&Ce.h&&Qe<le)t(C.m.h),C.a=5,C.m=C.wd,C.$=C.xd,0<C.s.ua&&ot(C.s.vb,C.s.Wa);else{if(Ce.h)break e;me?.(C,ve>ue?ue:ve),C.a=0,C.$=Qe-z}return 1}return C.a=3,0}function ht(C){t(C!=null),C.vc=null,C.yc=null,C.Ya=null;var P=C.Wa;P!=null&&(P.X=null),C.vb=null,t(C!=null)}function Ze(){var C=new kr;return C==null?null:(C.a=0,C.xb=iv,Ns("Predictor","VP8LPredictors"),Ns("Predictor","VP8LPredictors_C"),Ns("PredictorAdd","VP8LPredictorsAdd"),Ns("PredictorAdd","VP8LPredictorsAdd_C"),Ja=mt,_f=At,kf=br,Nd=Jt,wd=Vt,Nc=pr,ah=Hr,I.VP8LMapColor32b=bc,I.VP8LMapColor8b=li,C)}function Je(C,P,z,Y,le){var ue=1,me=[C],ve=[P],Ne=Y.m,Ce=Y.s,Ie=null,Qe=0;e:for(;;){if(z)for(;ue&&te(Ne,1);){var Ae=me,$e=ve,We=Y,gt=1,Ye=We.m,pt=We.gc[We.ab],Nt=te(Ye,2);if(We.Oc&1<<Nt)ue=0;else{switch(We.Oc|=1<<Nt,pt.hc=Nt,pt.Ea=Ae[0],pt.nc=$e[0],pt.K=[null],++We.ab,t(4>=We.ab),Nt){case 0:case 1:pt.b=te(Ye,3)+2,gt=Je(Ge(pt.Ea,pt.b),Ge(pt.nc,pt.b),0,We,pt.K),pt.K=pt.K[0];break;case 3:var Rt,kt=te(Ye,8)+1,sr=16<kt?0:4<kt?1:2<kt?2:3;if(Ae[0]=Ge(pt.Ea,sr),pt.b=sr,Rt=gt=Je(kt,1,0,We,pt.K)){var Gt,Pr=kt,Xt=pt,as=1<<(8>>Xt.b),xa=i(as);if(xa==null)Rt=0;else{var Ir=Xt.K[0],Kt=Xt.w;for(xa[0]=Xt.K[0][0],Gt=1;Gt<1*Pr;++Gt)xa[Gt]=qt(Ir[Kt+Gt],xa[Gt-1]);for(;Gt<4*as;++Gt)xa[Gt]=0;Xt.K[0]=null,Xt.K[0]=xa,Rt=1}}gt=Rt;break;case 2:break;default:t(0)}ue=gt}}if(me=me[0],ve=ve[0],ue&&te(Ne,1)&&!(ue=1<=(Qe=te(Ne,4))&&11>=Qe)){Y.a=3;break e}var zt;if(zt=ue)t:{var Ta,Nr,$r,Is=Y,Cn=me,hi=ve,la=Qe,cn=z,ki=Is.m,dn=Is.s,Kr=[null],gs=1,Ea=0,_s=io[la];r:for(;;){if(cn&&te(ki,1)){var Tn=te(ki,3)+2,Pa=Ge(Cn,Tn),vs=Ge(hi,Tn),tn=Pa*vs;if(!Je(Pa,vs,0,Is,Kr))break r;for(Kr=Kr[0],dn.xc=Tn,Ta=0;Ta<tn;++Ta){var Bs=Kr[Ta]>>8&65535;Kr[Ta]=Bs,Bs>=gs&&(gs=Bs+1)}}if(ki.h)break r;for(Nr=0;5>Nr;++Nr){var un=oh[Nr];!Nr&&0<la&&(un+=1<<la),Ea<un&&(Ea=un)}var hn=l(gs*_s,J),Gs=gs,ps=l(Gs,ae);if(ps==null)var Ai=null;else t(65536>=Gs),Ai=ps;var za=i(Ea);if(Ai==null||za==null||hn==null){Is.a=1;break r}var mr=hn;for(Ta=$r=0;Ta<gs;++Ta){var gr=Ai[Ta],ys=gr.G,ol=gr.H,uo=0,Yi=1,fn=0;for(Nr=0;5>Nr;++Nr){un=oh[Nr],ys[Nr]=mr,ol[Nr]=$r,!Nr&&0<la&&(un+=1<<la);a:{var mu,xu=un,Jx=Is,oa=za,ov=mr,cv=$r,Qx=0,Ad=Jx.m,g4=te(Ad,1);if(n(oa,0,0,xu),g4){var dv=te(Ad,1)+1,uv=te(Ad,1),ep=te(Ad,uv==0?1:8);oa[ep]=1,dv==2&&(oa[ep=te(Ad,8)]=1);var Hn=1}else{var $a=i(19),d0=te(Ad,4)+4;if(19<d0){Jx.a=3;var pu=0;break a}for(mu=0;mu<d0;++mu)$a[l0[mu]]=te(Ad,3);var Df=void 0,uh=void 0,_c=Jx,tp=$a,Rf=xu,rp=oa,sp=0,Cd=_c.m,hv=8,fv=l(128,J);s:for(;L(fv,0,7,tp,19);){if(te(Cd,1)){var m1=2+2*te(Cd,3);if((Df=2+te(Cd,m1))>Rf)break s}else Df=Rf;for(uh=0;uh<Rf&&Df--;){fe(Cd);var mv=fv[0+(127&q(Cd))];G(Cd,Cd.u+mv.g);var gu=mv.value;if(16>gu)rp[uh++]=gu,gu!=0&&(hv=gu);else{var x1=gu==16,p1=gu-16,g1=Tf[p1],xv=te(Cd,ao[p1])+g1;if(uh+xv>Rf)break s;for(var v1=x1?hv:0;0<xv--;)rp[uh++]=v1}}sp=1;break s}sp||(_c.a=3),Hn=sp}(Hn=Hn&&!Ad.h)&&(Qx=L(ov,cv,8,oa,xu)),Hn&&Qx!=0?pu=Qx:(Jx.a=3,pu=0)}if(pu==0)break r;if(Yi&&Wx[Nr]==1&&(Yi=mr[$r].g==0),uo+=mr[$r].g,$r+=pu,3>=Nr){var hh,ap=za[0];for(hh=1;hh<un;++hh)za[hh]>ap&&(ap=za[hh]);fn+=ap}}if(gr.nd=Yi,gr.Qb=0,Yi&&(gr.qb=(ys[3][ol[3]+0].value<<24|ys[1][ol[1]+0].value<<16|ys[2][ol[2]+0].value)>>>0,uo==0&&256>ys[0][ol[0]+0].value&&(gr.Qb=1,gr.qb+=ys[0][ol[0]+0].value<<8)),gr.jc=!gr.Qb&&6>fn,gr.jc){var u0,kc=gr;for(u0=0;u0<iu;++u0){var Td=u0,Ed=kc.pd[Td],np=kc.G[0][kc.H[0]+Td];256<=np.value?(Ed.g=np.g+256,Ed.value=np.value):(Ed.g=0,Ed.value=0,Td>>=Ba(np,8,Ed),Td>>=Ba(kc.G[1][kc.H[1]+Td],16,Ed),Td>>=Ba(kc.G[2][kc.H[2]+Td],0,Ed),Ba(kc.G[3][kc.H[3]+Td],24,Ed))}}}dn.vc=Kr,dn.Wb=gs,dn.Ya=Ai,dn.yc=hn,zt=1;break t}zt=0}if(!(ue=zt)){Y.a=3;break e}if(0<Qe){if(Ce.ua=1<<Qe,!xe(Ce.Wa,Qe)){Y.a=1,ue=0;break e}}else Ce.ua=0;var ip=Y,fh=me,y1=ve,Mf=ip.s,Ff=Mf.xc;if(ip.c=fh,ip.i=y1,Mf.md=Ge(fh,Ff),Mf.wc=Ff==0?-1:(1<<Ff)-1,z){Y.xb=cu;break e}if((Ie=i(me*ve))==null){Y.a=1,ue=0;break e}ue=(ue=Ke(Y,Ie,0,me,ve,ve,null))&&!Ne.h;break e}return ue?(le!=null?le[0]=Ie:(t(Ie==null),t(z)),Y.$=0,z||ht(Ce)):ht(Ce),ue}function rt(C,P){var z=C.c*C.i,Y=z+P+16*P;return t(C.c<=P),C.V=i(Y),C.V==null?(C.Ta=null,C.Ua=0,C.a=1,0):(C.Ta=C.V,C.Ua=C.Ba+z+P,1)}function Dt(C,P){var z=C.C,Y=P-z,le=C.V,ue=C.Ba+C.c*z;for(t(P<=C.l.o);0<Y;){var me=16<Y?16:Y,ve=C.l.ma,Ne=C.l.width,Ce=Ne*me,Ie=ve.ca,Qe=ve.tb+Ne*z,Ae=C.Ta,$e=C.Ua;Te(C,me,le,ue),Fl(Ae,$e,Ie,Qe,Ce),ke(ve,z,z+me,Ie,Qe,Ne),Y-=me,le+=me*C.c,z+=me}t(z==P),C.C=C.Ma=P}function Ft(){this.ub=this.yd=this.td=this.Rb=0}function Ht(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Mt(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function It(){this.Yb=(function(){var C=[];return(function P(z,Y,le){for(var ue=le[Y],me=0;me<ue&&(z.push(le.length>Y+1?[]:0),!(le.length<Y+1));me++)P(z[me],Y+1,le)})(C,0,[3,11]),C})()}function Yt(){this.jb=i(3),this.Wc=o([4,8],It),this.Xc=o([4,17],It)}function Ls(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function ts(){this.ld=this.La=this.dd=this.tc=0}function $s(){this.Na=this.la=0}function Hi(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Oo(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Do(){this.uc=this.M=this.Nb=0,this.wa=Array(new ts),this.Y=0,this.ya=Array(new Oo),this.aa=0,this.l=new ld}function Pl(){this.y=i(16),this.f=i(8),this.ea=i(8)}function tu(){this.cb=this.a=0,this.sc="",this.m=new D,this.Od=new Ft,this.Kc=new Ht,this.ed=new Ls,this.Qa=new Mt,this.Ic=this.$c=this.Aa=0,this.D=new Do,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,D),this.ia=0,this.pb=l(4,Hi),this.Pa=new Yt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Pl),this.Hd=0,this.rb=Array(new $s),this.sb=0,this.wa=Array(new ts),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Oo),this.L=this.aa=0,this.gd=o([4,2],ts),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Aa(C,P){return 0>C?0:C>P?P:C}function ld(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ro(){var C=new tu;return C!=null&&(C.a=0,C.sc="OK",C.cb=0,C.Xb=0,Ll||(Ll=ru)),C}function ws(C,P,z){return C.a==0&&(C.a=P,C.sc=z,C.cb=0),0}function zm(C,P,z){return 3<=z&&C[P+0]==157&&C[P+1]==1&&C[P+2]==42}function fc(C,P){if(C==null)return 0;if(C.a=0,C.sc="OK",P==null)return ws(C,2,"null VP8Io passed to VP8GetHeaders()");var z=P.data,Y=P.w,le=P.ha;if(4>le)return ws(C,7,"Truncated header.");var ue=z[Y+0]|z[Y+1]<<8|z[Y+2]<<16,me=C.Od;if(me.Rb=!(1&ue),me.td=ue>>1&7,me.yd=ue>>4&1,me.ub=ue>>5,3<me.td)return ws(C,3,"Incorrect keyframe parameters.");if(!me.yd)return ws(C,4,"Frame not displayable.");Y+=3,le-=3;var ve=C.Kc;if(me.Rb){if(7>le)return ws(C,7,"cannot parse picture header");if(!zm(z,Y,le))return ws(C,3,"Bad code word");ve.c=16383&(z[Y+4]<<8|z[Y+3]),ve.Td=z[Y+4]>>6,ve.i=16383&(z[Y+6]<<8|z[Y+5]),ve.Ud=z[Y+6]>>6,Y+=7,le-=7,C.za=ve.c+15>>4,C.Ub=ve.i+15>>4,P.width=ve.c,P.height=ve.i,P.Da=0,P.j=0,P.v=0,P.va=P.width,P.o=P.height,P.da=0,P.ib=P.width,P.hb=P.height,P.U=P.width,P.T=P.height,n((ue=C.Pa).jb,0,255,ue.jb.length),t((ue=C.Qa)!=null),ue.Cb=0,ue.Bb=0,ue.Fb=1,n(ue.Zb,0,0,ue.Zb.length),n(ue.Lb,0,0,ue.Lb)}if(me.ub>le)return ws(C,7,"bad partition length");V(ue=C.m,z,Y,me.ub),Y+=me.ub,le-=me.ub,me.Rb&&(ve.Ld=se(ue),ve.Kd=se(ue)),ve=C.Qa;var Ne,Ce=C.Pa;if(t(ue!=null),t(ve!=null),ve.Cb=se(ue),ve.Cb){if(ve.Bb=se(ue),se(ue)){for(ve.Fb=se(ue),Ne=0;4>Ne;++Ne)ve.Zb[Ne]=se(ue)?X(ue,7):0;for(Ne=0;4>Ne;++Ne)ve.Lb[Ne]=se(ue)?X(ue,6):0}if(ve.Bb)for(Ne=0;3>Ne;++Ne)Ce.jb[Ne]=se(ue)?re(ue,8):255}else ve.Bb=0;if(ue.Ka)return ws(C,3,"cannot parse segment header");if((ve=C.ed).zd=se(ue),ve.Tb=re(ue,6),ve.wb=re(ue,3),ve.Pc=se(ue),ve.Pc&&se(ue)){for(Ce=0;4>Ce;++Ce)se(ue)&&(ve.vd[Ce]=X(ue,6));for(Ce=0;4>Ce;++Ce)se(ue)&&(ve.od[Ce]=X(ue,6))}if(C.L=ve.Tb==0?0:ve.zd?1:2,ue.Ka)return ws(C,3,"cannot parse filter header");var Ie=le;if(le=Ne=Y,Y=Ne+Ie,ve=Ie,C.Xb=(1<<re(C.m,2))-1,Ie<3*(Ce=C.Xb))z=7;else{for(Ne+=3*Ce,ve-=3*Ce,Ie=0;Ie<Ce;++Ie){var Qe=z[le+0]|z[le+1]<<8|z[le+2]<<16;Qe>ve&&(Qe=ve),V(C.Jc[+Ie],z,Ne,Qe),Ne+=Qe,ve-=Qe,le+=3}V(C.Jc[+Ce],z,Ne,ve),z=Ne<Y?0:5}if(z!=0)return ws(C,z,"cannot parse partitions");for(z=re(Ne=C.m,7),le=se(Ne)?X(Ne,4):0,Y=se(Ne)?X(Ne,4):0,ve=se(Ne)?X(Ne,4):0,Ce=se(Ne)?X(Ne,4):0,Ne=se(Ne)?X(Ne,4):0,Ie=C.Qa,Qe=0;4>Qe;++Qe){if(Ie.Cb){var Ae=Ie.Zb[Qe];Ie.Fb||(Ae+=z)}else{if(0<Qe){C.pb[Qe]=C.pb[0];continue}Ae=z}var $e=C.pb[Qe];$e.Sc[0]=lo[Aa(Ae+le,127)],$e.Sc[1]=oo[Aa(Ae+0,127)],$e.Eb[0]=2*lo[Aa(Ae+Y,127)],$e.Eb[1]=101581*oo[Aa(Ae+ve,127)]>>16,8>$e.Eb[1]&&($e.Eb[1]=8),$e.Qc[0]=lo[Aa(Ae+Ce,117)],$e.Qc[1]=oo[Aa(Ae+Ne,127)],$e.lc=Ae+Ne}if(!me.Rb)return ws(C,4,"Not a key frame.");for(se(ue),me=C.Pa,z=0;4>z;++z){for(le=0;8>le;++le)for(Y=0;3>Y;++Y)for(ve=0;11>ve;++ve)Ce=ge(ue,ma[z][le][Y][ve])?re(ue,8):h1[z][le][Y][ve],me.Wc[z][le].Yb[Y][ve]=Ce;for(le=0;17>le;++le)me.Xc[z][le]=me.Wc[z][ls[le]]}return C.kc=se(ue),C.kc&&(C.Bd=re(ue,8)),C.cb=1}function ru(C,P,z,Y,le,ue,me){var ve=P[le].Yb[z];for(z=0;16>le;++le){if(!ge(C,ve[z+0]))return le;for(;!ge(C,ve[z+1]);)if(ve=P[++le].Yb[0],z=0,le==16)return 16;var Ne=P[le+1].Yb;if(ge(C,ve[z+2])){var Ce=C,Ie=0;if(ge(Ce,(Ae=ve)[(Qe=z)+3]))if(ge(Ce,Ae[Qe+6])){for(ve=0,Qe=2*(Ie=ge(Ce,Ae[Qe+8]))+(Ae=ge(Ce,Ae[Qe+9+Ie])),Ie=0,Ae=u1[Qe];Ae[ve];++ve)Ie+=Ie+ge(Ce,Ae[ve]);Ie+=3+(8<<Qe)}else ge(Ce,Ae[Qe+7])?(Ie=7+2*ge(Ce,165),Ie+=ge(Ce,145)):Ie=5+ge(Ce,159);else Ie=ge(Ce,Ae[Qe+4])?3+ge(Ce,Ae[Qe+5]):2;ve=Ne[2]}else Ie=1,ve=Ne[1];Ne=me+nv[le],0>(Ce=C).b&&Se(Ce);var Qe,Ae=Ce.b,$e=(Qe=Ce.Ca>>1)-(Ce.I>>Ae)>>31;--Ce.b,Ce.Ca+=$e,Ce.Ca|=1,Ce.I-=(Qe+1&$e)<<Ae,ue[Ne]=((Ie^$e)-$e)*Y[(0<le)+0]}return 16}function $m(C){var P=C.rb[C.sb-1];P.la=0,P.Na=0,n(C.zc,0,0,C.zc.length),C.ja=0}function qi(C,P,z,Y,le){le=C[P+z+32*Y]+(le>>3),C[P+z+32*Y]=-256&le?0>le?0:255:le}function kn(C,P,z,Y,le,ue){qi(C,P,0,z,Y+le),qi(C,P,1,z,Y+ue),qi(C,P,2,z,Y-ue),qi(C,P,3,z,Y-le)}function ln(C){return(20091*C>>16)+C}function pf(C,P,z,Y){var le,ue=0,me=i(16);for(le=0;4>le;++le){var ve=C[P+0]+C[P+8],Ne=C[P+0]-C[P+8],Ce=(35468*C[P+4]>>16)-ln(C[P+12]),Ie=ln(C[P+4])+(35468*C[P+12]>>16);me[ue+0]=ve+Ie,me[ue+1]=Ne+Ce,me[ue+2]=Ne-Ce,me[ue+3]=ve-Ie,ue+=4,P++}for(le=ue=0;4>le;++le)ve=(C=me[ue+0]+4)+me[ue+8],Ne=C-me[ue+8],Ce=(35468*me[ue+4]>>16)-ln(me[ue+12]),qi(z,Y,0,0,ve+(Ie=ln(me[ue+4])+(35468*me[ue+12]>>16))),qi(z,Y,1,0,Ne+Ce),qi(z,Y,2,0,Ne-Ce),qi(z,Y,3,0,ve-Ie),ue++,Y+=32}function Ex(C,P,z,Y){var le=C[P+0]+4,ue=35468*C[P+4]>>16,me=ln(C[P+4]),ve=35468*C[P+1]>>16;kn(z,Y,0,le+me,C=ln(C[P+1]),ve),kn(z,Y,1,le+ue,C,ve),kn(z,Y,2,le-ue,C,ve),kn(z,Y,3,le-me,C,ve)}function Hm(C,P,z,Y,le){pf(C,P,z,Y),le&&pf(C,P+16,z,Y+4)}function Vi(C,P,z,Y){Sd(C,P+0,z,Y,1),Sd(C,P+32,z,Y+128,1)}function qm(C,P,z,Y){var le;for(C=C[P+0]+4,le=0;4>le;++le)for(P=0;4>P;++P)qi(z,Y,P,le,C)}function Vm(C,P,z,Y){C[P+0]&&Ss(C,P+0,z,Y),C[P+16]&&Ss(C,P+16,z,Y+4),C[P+32]&&Ss(C,P+32,z,Y+128),C[P+48]&&Ss(C,P+48,z,Y+128+4)}function Mo(C,P,z,Y){var le,ue=i(16);for(le=0;4>le;++le){var me=C[P+0+le]+C[P+12+le],ve=C[P+4+le]+C[P+8+le],Ne=C[P+4+le]-C[P+8+le],Ce=C[P+0+le]-C[P+12+le];ue[0+le]=me+ve,ue[8+le]=me-ve,ue[4+le]=Ce+Ne,ue[12+le]=Ce-Ne}for(le=0;4>le;++le)me=(C=ue[0+4*le]+3)+ue[3+4*le],ve=ue[1+4*le]+ue[2+4*le],Ne=ue[1+4*le]-ue[2+4*le],Ce=C-ue[3+4*le],z[Y+0]=me+ve>>3,z[Y+16]=Ce+Ne>>3,z[Y+32]=me-ve>>3,z[Y+48]=Ce-Ne>>3,Y+=64}function Zu(C,P,z){var Y,le=P-32,ue=Si,me=255-C[le-1];for(Y=0;Y<z;++Y){var ve,Ne=ue,Ce=me+C[P-1];for(ve=0;ve<z;++ve)C[P+ve]=Ne[Ce+C[le+ve]];P+=32}}function Px(C,P){Zu(C,P,4)}function Ox(C,P){Zu(C,P,8)}function Wm(C,P){Zu(C,P,16)}function Gm(C,P){var z;for(z=0;16>z;++z)a(C,P+32*z,C,P-32,16)}function Dx(C,P){var z;for(z=16;0<z;--z)n(C,P,C[P-1],16),P+=32}function il(C,P,z){var Y;for(Y=0;16>Y;++Y)n(P,z+32*Y,C,16)}function Fo(C,P){var z,Y=16;for(z=0;16>z;++z)Y+=C[P-1+32*z]+C[P+z-32];il(Y>>5,C,P)}function od(C,P){var z,Y=8;for(z=0;16>z;++z)Y+=C[P-1+32*z];il(Y>>4,C,P)}function Ju(C,P){var z,Y=8;for(z=0;16>z;++z)Y+=C[P+z-32];il(Y>>4,C,P)}function su(C,P){il(128,C,P)}function jr(C,P,z){return C+2*P+z+2>>2}function Rx(C,P){var z,Y=P-32;for(Y=new Uint8Array([jr(C[Y-1],C[Y+0],C[Y+1]),jr(C[Y+0],C[Y+1],C[Y+2]),jr(C[Y+1],C[Y+2],C[Y+3]),jr(C[Y+2],C[Y+3],C[Y+4])]),z=0;4>z;++z)a(C,P+32*z,Y,0,Y.length)}function Km(C,P){var z=C[P-1],Y=C[P-1+32],le=C[P-1+64],ue=C[P-1+96];Be(C,P+0,16843009*jr(C[P-1-32],z,Y)),Be(C,P+32,16843009*jr(z,Y,le)),Be(C,P+64,16843009*jr(Y,le,ue)),Be(C,P+96,16843009*jr(le,ue,ue))}function Mx(C,P){var z,Y=4;for(z=0;4>z;++z)Y+=C[P+z-32]+C[P-1+32*z];for(Y>>=3,z=0;4>z;++z)n(C,P+32*z,Y,4)}function Ol(C,P){var z=C[P-1+0],Y=C[P-1+32],le=C[P-1+64],ue=C[P-1-32],me=C[P+0-32],ve=C[P+1-32],Ne=C[P+2-32],Ce=C[P+3-32];C[P+0+96]=jr(Y,le,C[P-1+96]),C[P+1+96]=C[P+0+64]=jr(z,Y,le),C[P+2+96]=C[P+1+64]=C[P+0+32]=jr(ue,z,Y),C[P+3+96]=C[P+2+64]=C[P+1+32]=C[P+0+0]=jr(me,ue,z),C[P+3+64]=C[P+2+32]=C[P+1+0]=jr(ve,me,ue),C[P+3+32]=C[P+2+0]=jr(Ne,ve,me),C[P+3+0]=jr(Ce,Ne,ve)}function ni(C,P){var z=C[P+1-32],Y=C[P+2-32],le=C[P+3-32],ue=C[P+4-32],me=C[P+5-32],ve=C[P+6-32],Ne=C[P+7-32];C[P+0+0]=jr(C[P+0-32],z,Y),C[P+1+0]=C[P+0+32]=jr(z,Y,le),C[P+2+0]=C[P+1+32]=C[P+0+64]=jr(Y,le,ue),C[P+3+0]=C[P+2+32]=C[P+1+64]=C[P+0+96]=jr(le,ue,me),C[P+3+32]=C[P+2+64]=C[P+1+96]=jr(ue,me,ve),C[P+3+64]=C[P+2+96]=jr(me,ve,Ne),C[P+3+96]=jr(ve,Ne,Ne)}function Ym(C,P){var z=C[P-1+0],Y=C[P-1+32],le=C[P-1+64],ue=C[P-1-32],me=C[P+0-32],ve=C[P+1-32],Ne=C[P+2-32],Ce=C[P+3-32];C[P+0+0]=C[P+1+64]=ue+me+1>>1,C[P+1+0]=C[P+2+64]=me+ve+1>>1,C[P+2+0]=C[P+3+64]=ve+Ne+1>>1,C[P+3+0]=Ne+Ce+1>>1,C[P+0+96]=jr(le,Y,z),C[P+0+64]=jr(Y,z,ue),C[P+0+32]=C[P+1+96]=jr(z,ue,me),C[P+1+32]=C[P+2+96]=jr(ue,me,ve),C[P+2+32]=C[P+3+96]=jr(me,ve,Ne),C[P+3+32]=jr(ve,Ne,Ce)}function Qu(C,P){var z=C[P+0-32],Y=C[P+1-32],le=C[P+2-32],ue=C[P+3-32],me=C[P+4-32],ve=C[P+5-32],Ne=C[P+6-32],Ce=C[P+7-32];C[P+0+0]=z+Y+1>>1,C[P+1+0]=C[P+0+64]=Y+le+1>>1,C[P+2+0]=C[P+1+64]=le+ue+1>>1,C[P+3+0]=C[P+2+64]=ue+me+1>>1,C[P+0+32]=jr(z,Y,le),C[P+1+32]=C[P+0+96]=jr(Y,le,ue),C[P+2+32]=C[P+1+96]=jr(le,ue,me),C[P+3+32]=C[P+2+96]=jr(ue,me,ve),C[P+3+64]=jr(me,ve,Ne),C[P+3+96]=jr(ve,Ne,Ce)}function Dl(C,P){var z=C[P-1+0],Y=C[P-1+32],le=C[P-1+64],ue=C[P-1+96];C[P+0+0]=z+Y+1>>1,C[P+2+0]=C[P+0+32]=Y+le+1>>1,C[P+2+32]=C[P+0+64]=le+ue+1>>1,C[P+1+0]=jr(z,Y,le),C[P+3+0]=C[P+1+32]=jr(Y,le,ue),C[P+3+32]=C[P+1+64]=jr(le,ue,ue),C[P+3+64]=C[P+2+64]=C[P+0+96]=C[P+1+96]=C[P+2+96]=C[P+3+96]=ue}function eh(C,P){var z=C[P-1+0],Y=C[P-1+32],le=C[P-1+64],ue=C[P-1+96],me=C[P-1-32],ve=C[P+0-32],Ne=C[P+1-32],Ce=C[P+2-32];C[P+0+0]=C[P+2+32]=z+me+1>>1,C[P+0+32]=C[P+2+64]=Y+z+1>>1,C[P+0+64]=C[P+2+96]=le+Y+1>>1,C[P+0+96]=ue+le+1>>1,C[P+3+0]=jr(ve,Ne,Ce),C[P+2+0]=jr(me,ve,Ne),C[P+1+0]=C[P+3+32]=jr(z,me,ve),C[P+1+32]=C[P+3+64]=jr(Y,z,me),C[P+1+64]=C[P+3+96]=jr(le,Y,z),C[P+1+96]=jr(ue,le,Y)}function mc(C,P){var z;for(z=0;8>z;++z)a(C,P+32*z,C,P-32,8)}function Fx(C,P){var z;for(z=0;8>z;++z)n(C,P,C[P-1],8),P+=32}function Ql(C,P,z){var Y;for(Y=0;8>Y;++Y)n(P,z+32*Y,C,8)}function gf(C,P){var z,Y=8;for(z=0;8>z;++z)Y+=C[P+z-32]+C[P-1+32*z];Ql(Y>>4,C,P)}function vf(C,P){var z,Y=4;for(z=0;8>z;++z)Y+=C[P+z-32];Ql(Y>>3,C,P)}function zn(C,P){var z,Y=4;for(z=0;8>z;++z)Y+=C[P-1+32*z];Ql(Y>>3,C,P)}function xc(C,P){Ql(128,C,P)}function eo(C,P,z){var Y=C[P-z],le=C[P+0],ue=3*(le-Y)+_d[1020+C[P-2*z]-C[P+z]],me=a0[112+(ue+4>>3)];C[P-z]=Si[255+Y+a0[112+(ue+3>>3)]],C[P+0]=Si[255+le-me]}function cd(C,P,z,Y){var le=C[P+0],ue=C[P+z];return oi[255+C[P-2*z]-C[P-z]]>Y||oi[255+ue-le]>Y}function yf(C,P,z,Y){return 4*oi[255+C[P-z]-C[P+0]]+oi[255+C[P-2*z]-C[P+z]]<=Y}function th(C,P,z,Y,le){var ue=C[P-3*z],me=C[P-2*z],ve=C[P-z],Ne=C[P+0],Ce=C[P+z],Ie=C[P+2*z],Qe=C[P+3*z];return 4*oi[255+ve-Ne]+oi[255+me-Ce]>Y?0:oi[255+C[P-4*z]-ue]<=le&&oi[255+ue-me]<=le&&oi[255+me-ve]<=le&&oi[255+Qe-Ie]<=le&&oi[255+Ie-Ce]<=le&&oi[255+Ce-Ne]<=le}function dd(C,P,z,Y){var le=2*Y+1;for(Y=0;16>Y;++Y)yf(C,P+Y,z,le)&&eo(C,P+Y,z)}function ud(C,P,z,Y){var le=2*Y+1;for(Y=0;16>Y;++Y)yf(C,P+Y*z,1,le)&&eo(C,P+Y*z,1)}function rh(C,P,z,Y){var le;for(le=3;0<le;--le)dd(C,P+=4*z,z,Y)}function Xm(C,P,z,Y){var le;for(le=3;0<le;--le)ud(C,P+=4,z,Y)}function hd(C,P,z,Y,le,ue,me,ve){for(ue=2*ue+1;0<le--;){if(th(C,P,z,ue,me))if(cd(C,P,z,ve))eo(C,P,z);else{var Ne=C,Ce=P,Ie=z,Qe=Ne[Ce-2*Ie],Ae=Ne[Ce-Ie],$e=Ne[Ce+0],We=Ne[Ce+Ie],gt=Ne[Ce+2*Ie],Ye=27*(Nt=_d[1020+3*($e-Ae)+_d[1020+Qe-We]])+63>>7,pt=18*Nt+63>>7,Nt=9*Nt+63>>7;Ne[Ce-3*Ie]=Si[255+Ne[Ce-3*Ie]+Nt],Ne[Ce-2*Ie]=Si[255+Qe+pt],Ne[Ce-Ie]=Si[255+Ae+Ye],Ne[Ce+0]=Si[255+$e-Ye],Ne[Ce+Ie]=Si[255+We-pt],Ne[Ce+2*Ie]=Si[255+gt-Nt]}P+=Y}}function fd(C,P,z,Y,le,ue,me,ve){for(ue=2*ue+1;0<le--;){if(th(C,P,z,ue,me))if(cd(C,P,z,ve))eo(C,P,z);else{var Ne=C,Ce=P,Ie=z,Qe=Ne[Ce-Ie],Ae=Ne[Ce+0],$e=Ne[Ce+Ie],We=a0[112+(4+(gt=3*(Ae-Qe))>>3)],gt=a0[112+(gt+3>>3)],Ye=We+1>>1;Ne[Ce-2*Ie]=Si[255+Ne[Ce-2*Ie]+Ye],Ne[Ce-Ie]=Si[255+Qe+gt],Ne[Ce+0]=Si[255+Ae-We],Ne[Ce+Ie]=Si[255+$e-Ye]}P+=Y}}function Lx(C,P,z,Y,le,ue){hd(C,P,z,1,16,Y,le,ue)}function md(C,P,z,Y,le,ue){hd(C,P,1,z,16,Y,le,ue)}function Ix(C,P,z,Y,le,ue){var me;for(me=3;0<me;--me)fd(C,P+=4*z,z,1,16,Y,le,ue)}function B(C,P,z,Y,le,ue){var me;for(me=3;0<me;--me)fd(C,P+=4,1,z,16,Y,le,ue)}function ie(C,P,z,Y,le,ue,me,ve){hd(C,P,le,1,8,ue,me,ve),hd(z,Y,le,1,8,ue,me,ve)}function Ee(C,P,z,Y,le,ue,me,ve){hd(C,P,1,le,8,ue,me,ve),hd(z,Y,1,le,8,ue,me,ve)}function Le(C,P,z,Y,le,ue,me,ve){fd(C,P+4*le,le,1,8,ue,me,ve),fd(z,Y+4*le,le,1,8,ue,me,ve)}function qe(C,P,z,Y,le,ue,me,ve){fd(C,P+4,1,le,8,ue,me,ve),fd(z,Y+4,1,le,8,ue,me,ve)}function jt(){this.ba=new Rr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new is,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Et(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Qt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function lr(){this.ua=0,this.Wa=new ut,this.vb=new ut,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ae,this.yc=new J}function kr(){this.xb=this.a=0,this.l=new ld,this.ca=new Rr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new H,this.Pb=0,this.wd=new H,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new lr,this.ab=0,this.gc=l(4,Qt),this.Oc=0}function Lr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ld,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ms(C,P,z,Y,le,ue,me){for(C=C==null?0:C[P+0],P=0;P<me;++P)le[ue+P]=C+z[Y+P]&255,C=le[ue+P]}function Ca(C,P,z,Y,le,ue,me){var ve;if(C==null)ms(null,null,z,Y,le,ue,me);else for(ve=0;ve<me;++ve)le[ue+ve]=C[P+ve]+z[Y+ve]&255}function Za(C,P,z,Y,le,ue,me){if(C==null)ms(null,null,z,Y,le,ue,me);else{var ve,Ne=C[P+0],Ce=Ne,Ie=Ne;for(ve=0;ve<me;++ve)Ce=Ie+(Ne=C[P+ve])-Ce,Ie=z[Y+ve]+(-256&Ce?0>Ce?0:255:Ce)&255,Ce=Ne,le[ue+ve]=Ie}}function na(C,P,z,Y){var le=P.width,ue=P.o;if(t(C!=null&&P!=null),0>z||0>=Y||z+Y>ue)return null;if(!C.Cc){if(C.ga==null){var me;if(C.ga=new Lr,(me=C.ga==null)||(me=P.width*P.o,t(C.Gb.length==0),C.Gb=i(me),C.Uc=0,C.Gb==null?me=0:(C.mb=C.Gb,C.nb=C.Uc,C.rc=null,me=1),me=!me),!me){me=C.ga;var ve=C.Fa,Ne=C.P,Ce=C.qc,Ie=C.mb,Qe=C.nb,Ae=Ne+1,$e=Ce-1,We=me.l;if(t(ve!=null&&Ie!=null&&P!=null),kd[0]=null,kd[1]=ms,kd[2]=Ca,kd[3]=Za,me.ca=Ie,me.tb=Qe,me.c=P.width,me.i=P.height,t(0<me.c&&0<me.i),1>=Ce)P=0;else if(me.$a=3&ve[Ne+0],me.Z=ve[Ne+0]>>2&3,me.Lc=ve[Ne+0]>>4&3,Ne=ve[Ne+0]>>6&3,0>me.$a||1<me.$a||4<=me.Z||1<me.Lc||Ne)P=0;else if(We.put=hr,We.ac=nl,We.bc=Po,We.ma=me,We.width=P.width,We.height=P.height,We.Da=P.Da,We.v=P.v,We.va=P.va,We.j=P.j,We.o=P.o,me.$a)e:{t(me.$a==1),P=Ze();t:for(;;){if(P==null){P=0;break e}if(t(me!=null),me.mc=P,P.c=me.c,P.i=me.i,P.l=me.l,P.l.ma=me,P.l.width=me.c,P.l.height=me.i,P.a=0,Z(P.m,ve,Ae,$e),!Je(me.c,me.i,1,P,null)||(P.ab==1&&P.gc[0].hc==3&&je(P.s)?(me.ic=1,ve=P.c*P.i,P.Ta=null,P.Ua=0,P.V=i(ve),P.Ba=0,P.V==null?(P.a=1,P=0):P=1):(me.ic=0,P=rt(P,me.c)),!P))break t;P=1;break e}me.mc=null,P=0}else P=$e>=me.c*me.i;me=!P}if(me)return null;C.ga.Lc!=1?C.Ga=0:Y=ue-z}t(C.ga!=null),t(z+Y<=ue);e:{if(P=(ve=C.ga).c,ue=ve.l.o,ve.$a==0){if(Ae=C.rc,$e=C.Vc,We=C.Fa,Ne=C.P+1+z*P,Ce=C.mb,Ie=C.nb+z*P,t(Ne<=C.P+C.qc),ve.Z!=0)for(t(kd[ve.Z]!=null),me=0;me<Y;++me)kd[ve.Z](Ae,$e,We,Ne,Ce,Ie,P),Ae=Ce,$e=Ie,Ie+=P,Ne+=P;else for(me=0;me<Y;++me)a(Ce,Ie,We,Ne,P),Ae=Ce,$e=Ie,Ie+=P,Ne+=P;C.rc=Ae,C.Vc=$e}else{if(t(ve.mc!=null),P=z+Y,t((me=ve.mc)!=null),t(P<=me.i),me.C>=P)P=1;else if(ve.ic||Lo(),ve.ic){ve=me.V,Ae=me.Ba,$e=me.c;var gt=me.i,Ye=(We=1,Ne=me.$/$e,Ce=me.$%$e,Ie=me.m,Qe=me.s,me.$),pt=$e*gt,Nt=$e*P,Rt=Qe.wc,kt=Ye<Nt?ce(Qe,Ce,Ne):null;t(Ye<=pt),t(P<=gt),t(je(Qe));t:for(;;){for(;!Ie.h&&Ye<Nt;){if(Ce&Rt||(kt=ce(Qe,Ce,Ne)),t(kt!=null),fe(Ie),256>(gt=aa(kt.G[0],kt.H[0],Ie)))ve[Ae+Ye]=gt,++Ye,++Ce>=$e&&(Ce=0,++Ne<=P&&!(Ne%16)&&Pe(me,Ne));else{if(!(280>gt)){We=0;break t}gt=ai(gt-256,Ie);var sr,Gt=aa(kt.G[4],kt.H[4],Ie);if(fe(Ie),!(Ye>=(Gt=$i($e,Gt=ai(Gt,Ie)))&&pt-Ye>=gt)){We=0;break t}for(sr=0;sr<gt;++sr)ve[Ae+Ye+sr]=ve[Ae+Ye+sr-Gt];for(Ye+=gt,Ce+=gt;Ce>=$e;)Ce-=$e,++Ne<=P&&!(Ne%16)&&Pe(me,Ne);Ye<Nt&&Ce&Rt&&(kt=ce(Qe,Ce,Ne))}t(Ie.h==W(Ie))}Pe(me,Ne>P?P:Ne);break t}!We||Ie.h&&Ye<pt?(We=0,me.a=Ie.h?5:3):me.$=Ye,P=We}else P=Ke(me,me.V,me.Ba,me.c,me.i,P,Dt);if(!P){Y=0;break e}}z+Y>=ue&&(C.Cc=1),Y=1}if(!Y)return null;if(C.Cc&&((Y=C.ga)!=null&&(Y.mc=null),C.ga=null,0<C.Ga))return alert("todo:WebPDequantizeLevels"),null}return C.nb+z*le}function An(C,P,z,Y,le,ue){for(;0<le--;){var me,ve=C,Ne=P+(z?1:0),Ce=C,Ie=P+(z?0:3);for(me=0;me<Y;++me){var Qe=Ce[Ie+4*me];Qe!=255&&(Qe*=32897,ve[Ne+4*me+0]=ve[Ne+4*me+0]*Qe>>23,ve[Ne+4*me+1]=ve[Ne+4*me+1]*Qe>>23,ve[Ne+4*me+2]=ve[Ne+4*me+2]*Qe>>23)}P+=ue}}function on(C,P,z,Y,le){for(;0<Y--;){var ue;for(ue=0;ue<z;++ue){var me=C[P+2*ue+0],ve=15&(Ce=C[P+2*ue+1]),Ne=4369*ve,Ce=(240&Ce|Ce>>4)*Ne>>16;C[P+2*ue+0]=(240&me|me>>4)*Ne>>16&240|(15&me|me<<4)*Ne>>16>>4&15,C[P+2*ue+1]=240&Ce|ve}P+=le}}function ii(C,P,z,Y,le,ue,me,ve){var Ne,Ce,Ie=255;for(Ce=0;Ce<le;++Ce){for(Ne=0;Ne<Y;++Ne){var Qe=C[P+Ne];ue[me+4*Ne]=Qe,Ie&=Qe}P+=z,me+=ve}return Ie!=255}function xd(C,P,z,Y,le){var ue;for(ue=0;ue<le;++ue)z[Y+ue]=C[P+ue]>>8}function Lo(){ih=An,ro=on,t0=ii,Fl=xd}function pd(C,P,z){I[C]=function(Y,le,ue,me,ve,Ne,Ce,Ie,Qe,Ae,$e,We,gt,Ye,pt,Nt,Rt){var kt,sr=Rt-1>>1,Gt=ve[Ne+0]|Ce[Ie+0]<<16,Pr=Qe[Ae+0]|$e[We+0]<<16;t(Y!=null);var Xt=3*Gt+Pr+131074>>2;for(P(Y[le+0],255&Xt,Xt>>16,gt,Ye),ue!=null&&(Xt=3*Pr+Gt+131074>>2,P(ue[me+0],255&Xt,Xt>>16,pt,Nt)),kt=1;kt<=sr;++kt){var as=ve[Ne+kt]|Ce[Ie+kt]<<16,xa=Qe[Ae+kt]|$e[We+kt]<<16,Ir=Gt+as+Pr+xa+524296,Kt=Ir+2*(as+Pr)>>3;Xt=Kt+Gt>>1,Gt=(Ir=Ir+2*(Gt+xa)>>3)+as>>1,P(Y[le+2*kt-1],255&Xt,Xt>>16,gt,Ye+(2*kt-1)*z),P(Y[le+2*kt-0],255&Gt,Gt>>16,gt,Ye+(2*kt-0)*z),ue!=null&&(Xt=Ir+Pr>>1,Gt=Kt+xa>>1,P(ue[me+2*kt-1],255&Xt,Xt>>16,pt,Nt+(2*kt-1)*z),P(ue[me+2*kt+0],255&Gt,Gt>>16,pt,Nt+(2*kt+0)*z)),Gt=as,Pr=xa}1&Rt||(Xt=3*Gt+Pr+131074>>2,P(Y[le+Rt-1],255&Xt,Xt>>16,gt,Ye+(Rt-1)*z),ue!=null&&(Xt=3*Pr+Gt+131074>>2,P(ue[me+Rt-1],255&Xt,Xt>>16,pt,Nt+(Rt-1)*z)))}}function Zm(){di[$x]=ch,di[_i]=Ef,di[Hx]=lv,di[so]=Kx,di[n0]=du,di[Af]=Sc,di[lu]=uu,di[i0]=Ef,di[qx]=Kx,di[Cf]=du,di[Vx]=Sc}function bf(C){return C&-16384?0>C?0:255:C>>Yx}function pc(C,P){return bf((19077*C>>8)+(26149*P>>8)-14234)}function Io(C,P,z){return bf((19077*C>>8)-(6419*P>>8)-(13320*z>>8)+8708)}function sh(C,P){return bf((19077*C>>8)+(33050*P>>8)-17685)}function gd(C,P,z,Y,le){Y[le+0]=pc(C,z),Y[le+1]=Io(C,P,z),Y[le+2]=sh(C,P)}function $n(C,P,z,Y,le){Y[le+0]=sh(C,P),Y[le+1]=Io(C,P,z),Y[le+2]=pc(C,z)}function au(C,P,z,Y,le){var ue=Io(C,P,z);P=ue<<3&224|sh(C,P)>>3,Y[le+0]=248&pc(C,z)|ue>>5,Y[le+1]=P}function nu(C,P,z,Y,le){var ue=240&sh(C,P)|15;Y[le+0]=240&pc(C,z)|Io(C,P,z)>>4,Y[le+1]=ue}function jf(C,P,z,Y,le){Y[le+0]=255,gd(C,P,z,Y,le+1)}function gc(C,P,z,Y,le){$n(C,P,z,Y,le),Y[le+3]=255}function Wi(C,P,z,Y,le){gd(C,P,z,Y,le),Y[le+3]=255}function vd(C,P,z){I[C]=function(Y,le,ue,me,ve,Ne,Ce,Ie,Qe){for(var Ae=Ie+(-2&Qe)*z;Ie!=Ae;)P(Y[le+0],ue[me+0],ve[Ne+0],Ce,Ie),P(Y[le+1],ue[me+0],ve[Ne+0],Ce,Ie+z),le+=2,++me,++Ne,Ie+=2*z;1&Qe&&P(Y[le+0],ue[me+0],ve[Ne+0],Ce,Ie)}}function Nf(C,P,z){return z==0?C==0?P==0?6:5:P==0?4:0:z}function Jm(C,P,z,Y,le){switch(C>>>30){case 3:Sd(P,z,Y,le,0);break;case 2:wi(P,z,Y,le);break;case 1:Ss(P,z,Y,le)}}function Rl(C,P){var z,Y,le=P.M,ue=P.Nb,me=C.oc,ve=C.pc+40,Ne=C.oc,Ce=C.pc+584,Ie=C.oc,Qe=C.pc+600;for(z=0;16>z;++z)me[ve+32*z-1]=129;for(z=0;8>z;++z)Ne[Ce+32*z-1]=129,Ie[Qe+32*z-1]=129;for(0<le?me[ve-1-32]=Ne[Ce-1-32]=Ie[Qe-1-32]=129:(n(me,ve-32-1,127,21),n(Ne,Ce-32-1,127,9),n(Ie,Qe-32-1,127,9)),Y=0;Y<C.za;++Y){var Ae=P.ya[P.aa+Y];if(0<Y){for(z=-1;16>z;++z)a(me,ve+32*z-4,me,ve+32*z+12,4);for(z=-1;8>z;++z)a(Ne,Ce+32*z-4,Ne,Ce+32*z+4,4),a(Ie,Qe+32*z-4,Ie,Qe+32*z+4,4)}var $e=C.Gd,We=C.Hd+Y,gt=Ae.ad,Ye=Ae.Hc;if(0<le&&(a(me,ve-32,$e[We].y,0,16),a(Ne,Ce-32,$e[We].f,0,8),a(Ie,Qe-32,$e[We].ea,0,8)),Ae.Za){var pt=me,Nt=ve-32+16;for(0<le&&(Y>=C.za-1?n(pt,Nt,$e[We].y[15],4):a(pt,Nt,$e[We+1].y,0,4)),z=0;4>z;z++)pt[Nt+128+z]=pt[Nt+256+z]=pt[Nt+384+z]=pt[Nt+0+z];for(z=0;16>z;++z,Ye<<=2)pt=me,Nt=ve+en[z],Ua[Ae.Ob[z]](pt,Nt),Jm(Ye,gt,16*+z,pt,Nt)}else if(pt=Nf(Y,le,Ae.Ob[0]),Ki[pt](me,ve),Ye!=0)for(z=0;16>z;++z,Ye<<=2)Jm(Ye,gt,16*+z,me,ve+en[z]);for(z=Ae.Gc,pt=Nf(Y,le,Ae.Dd),$o[pt](Ne,Ce),$o[pt](Ie,Qe),Ye=gt,pt=Ne,Nt=Ce,255&(Ae=0|z)&&(170&Ae?to(Ye,256,pt,Nt):xs(Ye,256,pt,Nt)),Ae=Ie,Ye=Qe,255&(z>>=8)&&(170&z?to(gt,320,Ae,Ye):xs(gt,320,Ae,Ye)),le<C.Ub-1&&(a($e[We].y,0,me,ve+480,16),a($e[We].f,0,Ne,Ce+224,8),a($e[We].ea,0,Ie,Qe+224,8)),z=8*ue*C.B,$e=C.sa,We=C.ta+16*Y+16*ue*C.R,gt=C.qa,Ae=C.ra+8*Y+z,Ye=C.Ha,pt=C.Ia+8*Y+z,z=0;16>z;++z)a($e,We+z*C.R,me,ve+32*z,16);for(z=0;8>z;++z)a(gt,Ae+z*C.B,Ne,Ce+32*z,8),a(Ye,pt+z*C.B,Ie,Qe+32*z,8)}}function Bo(C,P,z,Y,le,ue,me,ve,Ne){var Ce=[0],Ie=[0],Qe=0,Ae=Ne!=null?Ne.kd:0,$e=Ne??new Et;if(C==null||12>z)return 7;$e.data=C,$e.w=P,$e.ha=z,P=[P],z=[z],$e.gb=[$e.gb];e:{var We=P,gt=z,Ye=$e.gb;if(t(C!=null),t(gt!=null),t(Ye!=null),Ye[0]=0,12<=gt[0]&&!s(C,We[0],"RIFF")){if(s(C,We[0]+8,"WEBP")){Ye=3;break e}var pt=nt(C,We[0]+4);if(12>pt||4294967286<pt){Ye=3;break e}if(Ae&&pt>gt[0]-8){Ye=7;break e}Ye[0]=pt,We[0]+=12,gt[0]-=12}Ye=0}if(Ye!=0)return Ye;for(pt=0<$e.gb[0],z=z[0];;){e:{var Nt=C;gt=P,Ye=z;var Rt=Ce,kt=Ie,sr=We=[0];if((Xt=Qe=[Qe])[0]=0,8>Ye[0])Ye=7;else{if(!s(Nt,gt[0],"VP8X")){if(nt(Nt,gt[0]+4)!=10){Ye=3;break e}if(18>Ye[0]){Ye=7;break e}var Gt=nt(Nt,gt[0]+8),Pr=1+at(Nt,gt[0]+12);if(2147483648<=Pr*(Nt=1+at(Nt,gt[0]+15))){Ye=3;break e}sr!=null&&(sr[0]=Gt),Rt!=null&&(Rt[0]=Pr),kt!=null&&(kt[0]=Nt),gt[0]+=18,Ye[0]-=18,Xt[0]=1}Ye=0}}if(Qe=Qe[0],We=We[0],Ye!=0)return Ye;if(gt=!!(2&We),!pt&&Qe)return 3;if(ue!=null&&(ue[0]=!!(16&We)),me!=null&&(me[0]=gt),ve!=null&&(ve[0]=0),me=Ce[0],We=Ie[0],Qe&&gt&&Ne==null){Ye=0;break}if(4>z){Ye=7;break}if(pt&&Qe||!pt&&!Qe&&!s(C,P[0],"ALPH")){z=[z],$e.na=[$e.na],$e.P=[$e.P],$e.Sa=[$e.Sa];e:{Gt=C,Ye=P,pt=z;var Xt=$e.gb;Rt=$e.na,kt=$e.P,sr=$e.Sa,Pr=22,t(Gt!=null),t(pt!=null),Nt=Ye[0];var as=pt[0];for(t(Rt!=null),t(sr!=null),Rt[0]=null,kt[0]=null,sr[0]=0;;){if(Ye[0]=Nt,pt[0]=as,8>as){Ye=7;break e}var xa=nt(Gt,Nt+4);if(4294967286<xa){Ye=3;break e}var Ir=8+xa+1&-2;if(Pr+=Ir,0<Xt&&Pr>Xt){Ye=3;break e}if(!s(Gt,Nt,"VP8 ")||!s(Gt,Nt,"VP8L")){Ye=0;break e}if(as[0]<Ir){Ye=7;break e}s(Gt,Nt,"ALPH")||(Rt[0]=Gt,kt[0]=Nt+8,sr[0]=xa),Nt+=Ir,as-=Ir}}if(z=z[0],$e.na=$e.na[0],$e.P=$e.P[0],$e.Sa=$e.Sa[0],Ye!=0)break}z=[z],$e.Ja=[$e.Ja],$e.xa=[$e.xa];e:if(Xt=C,Ye=P,pt=z,Rt=$e.gb[0],kt=$e.Ja,sr=$e.xa,Gt=Ye[0],Nt=!s(Xt,Gt,"VP8 "),Pr=!s(Xt,Gt,"VP8L"),t(Xt!=null),t(pt!=null),t(kt!=null),t(sr!=null),8>pt[0])Ye=7;else{if(Nt||Pr){if(Xt=nt(Xt,Gt+4),12<=Rt&&Xt>Rt-12){Ye=3;break e}if(Ae&&Xt>pt[0]-8){Ye=7;break e}kt[0]=Xt,Ye[0]+=8,pt[0]-=8,sr[0]=Pr}else sr[0]=5<=pt[0]&&Xt[Gt+0]==47&&!(Xt[Gt+4]>>5),kt[0]=pt[0];Ye=0}if(z=z[0],$e.Ja=$e.Ja[0],$e.xa=$e.xa[0],P=P[0],Ye!=0)break;if(4294967286<$e.Ja)return 3;if(ve==null||gt||(ve[0]=$e.xa?2:1),me=[me],We=[We],$e.xa){if(5>z){Ye=7;break}ve=me,Ae=We,gt=ue,C==null||5>z?C=0:5<=z&&C[P+0]==47&&!(C[P+4]>>5)?(pt=[0],Xt=[0],Rt=[0],Z(kt=new H,C,P,z),Jl(kt,pt,Xt,Rt)?(ve!=null&&(ve[0]=pt[0]),Ae!=null&&(Ae[0]=Xt[0]),gt!=null&&(gt[0]=Rt[0]),C=1):C=0):C=0}else{if(10>z){Ye=7;break}ve=We,C==null||10>z||!zm(C,P+3,z-3)?C=0:(Ae=C[P+0]|C[P+1]<<8|C[P+2]<<16,gt=16383&(C[P+7]<<8|C[P+6]),C=16383&(C[P+9]<<8|C[P+8]),1&Ae||3<(Ae>>1&7)||!(Ae>>4&1)||Ae>>5>=$e.Ja||!gt||!C?C=0:(me&&(me[0]=gt),ve&&(ve[0]=C),C=1))}if(!C||(me=me[0],We=We[0],Qe&&(Ce[0]!=me||Ie[0]!=We)))return 3;Ne!=null&&(Ne[0]=$e,Ne.offset=P-Ne.w,t(4294967286>P-Ne.w),t(Ne.offset==Ne.ha-z));break}return Ye==0||Ye==7&&Qe&&Ne==null?(ue!=null&&(ue[0]|=$e.na!=null&&0<$e.na.length),Y!=null&&(Y[0]=me),le!=null&&(le[0]=We),0):Ye}function yd(C,P,z){var Y=P.width,le=P.height,ue=0,me=0,ve=Y,Ne=le;if(P.Da=C!=null&&0<C.Da,P.Da&&(ve=C.cd,Ne=C.bd,ue=C.v,me=C.j,11>z||(ue&=-2,me&=-2),0>ue||0>me||0>=ve||0>=Ne||ue+ve>Y||me+Ne>le))return 0;if(P.v=ue,P.j=me,P.va=ue+ve,P.o=me+Ne,P.U=ve,P.T=Ne,P.da=C!=null&&0<C.da,P.da){if(!Re(ve,Ne,z=[C.ib],ue=[C.hb]))return 0;P.ib=z[0],P.hb=ue[0]}return P.ob=C!=null&&C.ob,P.Kb=C==null||!C.Sd,P.da&&(P.ob=P.ib<3*Y/4&&P.hb<3*le/4,P.Kb=0),1}function Qm(C){if(C==null)return 2;if(11>C.S){var P=C.f.RGBA;P.fb+=(C.height-1)*P.A,P.A=-P.A}else P=C.f.kb,C=C.height,P.O+=(C-1)*P.fa,P.fa=-P.fa,P.N+=(C-1>>1)*P.Ab,P.Ab=-P.Ab,P.W+=(C-1>>1)*P.Db,P.Db=-P.Db,P.F!=null&&(P.J+=(C-1)*P.lb,P.lb=-P.lb);return 0}function Uo(C,P,z,Y){if(Y==null||0>=C||0>=P)return 2;if(z!=null){if(z.Da){var le=z.cd,ue=z.bd,me=-2&z.v,ve=-2&z.j;if(0>me||0>ve||0>=le||0>=ue||me+le>C||ve+ue>P)return 2;C=le,P=ue}if(z.da){if(!Re(C,P,le=[z.ib],ue=[z.hb]))return 2;C=le[0],P=ue[0]}}Y.width=C,Y.height=P;e:{var Ne=Y.width,Ce=Y.height;if(C=Y.S,0>=Ne||0>=Ce||!(C>=$x&&13>C))C=2;else{if(0>=Y.Rd&&Y.sd==null){me=ue=le=P=0;var Ie=(ve=Ne*Zx[C])*Ce;if(11>C||(ue=(Ce+1)/2*(P=(Ne+1)/2),C==12&&(me=(le=Ne)*Ce)),(Ce=i(Ie+2*ue+me))==null){C=1;break e}Y.sd=Ce,11>C?((Ne=Y.f.RGBA).eb=Ce,Ne.fb=0,Ne.A=ve,Ne.size=Ie):((Ne=Y.f.kb).y=Ce,Ne.O=0,Ne.fa=ve,Ne.Fd=Ie,Ne.f=Ce,Ne.N=0+Ie,Ne.Ab=P,Ne.Cd=ue,Ne.ea=Ce,Ne.W=0+Ie+ue,Ne.Db=P,Ne.Ed=ue,C==12&&(Ne.F=Ce,Ne.J=0+Ie+2*ue),Ne.Tc=me,Ne.lb=le)}if(P=1,le=Y.S,ue=Y.width,me=Y.height,le>=$x&&13>le)if(11>le)C=Y.f.RGBA,P&=(ve=Math.abs(C.A))*(me-1)+ue<=C.size,P&=ve>=ue*Zx[le],P&=C.eb!=null;else{C=Y.f.kb,ve=(ue+1)/2,Ie=(me+1)/2,Ne=Math.abs(C.fa),Ce=Math.abs(C.Ab);var Qe=Math.abs(C.Db),Ae=Math.abs(C.lb),$e=Ae*(me-1)+ue;P&=Ne*(me-1)+ue<=C.Fd,P&=Ce*(Ie-1)+ve<=C.Cd,P=(P&=Qe*(Ie-1)+ve<=C.Ed)&Ne>=ue&Ce>=ve&Qe>=ve,P&=C.y!=null,P&=C.f!=null,P&=C.ea!=null,le==12&&(P&=Ae>=ue,P&=$e<=C.Tc,P&=C.F!=null)}else P=0;C=P?0:2}}return C!=0||z!=null&&z.fd&&(C=Qm(Y)),C}var iu=64,ll=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Gi=24,vc=32,yc=8,bd=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];we("Predictor0","PredictorAdd0"),I.Predictor0=function(){return 4278190080},I.Predictor1=function(C){return C},I.Predictor2=function(C,P,z){return P[z+0]},I.Predictor3=function(C,P,z){return P[z+1]},I.Predictor4=function(C,P,z){return P[z-1]},I.Predictor5=function(C,P,z){return ne(ne(C,P[z+1]),P[z+0])},I.Predictor6=function(C,P,z){return ne(C,P[z-1])},I.Predictor7=function(C,P,z){return ne(C,P[z+0])},I.Predictor8=function(C,P,z){return ne(P[z-1],P[z+0])},I.Predictor9=function(C,P,z){return ne(P[z+0],P[z+1])},I.Predictor10=function(C,P,z){return ne(ne(C,P[z-1]),ne(P[z+0],P[z+1]))},I.Predictor11=function(C,P,z){var Y=P[z+0];return 0>=De(Y>>24&255,C>>24&255,(P=P[z-1])>>24&255)+De(Y>>16&255,C>>16&255,P>>16&255)+De(Y>>8&255,C>>8&255,P>>8&255)+De(255&Y,255&C,255&P)?Y:C},I.Predictor12=function(C,P,z){var Y=P[z+0];return(Oe((C>>24&255)+(Y>>24&255)-((P=P[z-1])>>24&255))<<24|Oe((C>>16&255)+(Y>>16&255)-(P>>16&255))<<16|Oe((C>>8&255)+(Y>>8&255)-(P>>8&255))<<8|Oe((255&C)+(255&Y)-(255&P)))>>>0},I.Predictor13=function(C,P,z){var Y=P[z-1];return(Me((C=ne(C,P[z+0]))>>24&255,Y>>24&255)<<24|Me(C>>16&255,Y>>16&255)<<16|Me(C>>8&255,Y>>8&255)<<8|Me(255&C,255&Y))>>>0};var wf=I.PredictorAdd0;I.PredictorAdd1=He,we("Predictor2","PredictorAdd2"),we("Predictor3","PredictorAdd3"),we("Predictor4","PredictorAdd4"),we("Predictor5","PredictorAdd5"),we("Predictor6","PredictorAdd6"),we("Predictor7","PredictorAdd7"),we("Predictor8","PredictorAdd8"),we("Predictor9","PredictorAdd9"),we("Predictor10","PredictorAdd10"),we("Predictor11","PredictorAdd11"),we("Predictor12","PredictorAdd12"),we("Predictor13","PredictorAdd13");var Sf=I.PredictorAdd2;Ot("ColorIndexInverseTransform","MapARGB","32b",function(C){return C>>8&255},function(C){return C}),Ot("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(C){return C},function(C){return C>>8&255});var Ja,Bx=I.ColorIndexInverseTransform,bc=I.MapARGB,jc=I.VP8LColorIndexInverseTransformAlpha,li=I.MapAlpha,jd=I.VP8LPredictorsAdd=[];jd.length=16,(I.VP8LPredictors=[]).length=16,(I.VP8LPredictorsAdd_C=[]).length=16,(I.VP8LPredictors_C=[]).length=16;var _f,kf,Nd,wd,Nc,ah,Ml,Sd,wi,to,Ss,xs,ia,Qa,wc,zo,nh,e0,rv,o1,c1,d1,sv,av,ih,ro,t0,Fl,lh=i(511),Ux=i(2041),r0=i(225),s0=i(767),zx=0,_d=Ux,a0=r0,Si=s0,oi=lh,$x=0,_i=1,Hx=2,so=3,n0=4,Af=5,lu=6,i0=7,qx=8,Cf=9,Vx=10,ao=[2,3,7],Tf=[3,3,11],oh=[280,256,256,256,40],Wx=[0,1,1,1,0],l0=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],no=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],io=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ou=8,lo=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],oo=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ll=null,u1=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],nv=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Gx=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],h1=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ci=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ma=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ls=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ki=[],Ua=[],$o=[],cu=1,iv=2,kd=[],di=[];pd("UpsampleRgbLinePair",gd,3),pd("UpsampleBgrLinePair",$n,3),pd("UpsampleRgbaLinePair",Wi,4),pd("UpsampleBgraLinePair",gc,4),pd("UpsampleArgbLinePair",jf,4),pd("UpsampleRgba4444LinePair",nu,2),pd("UpsampleRgb565LinePair",au,2);var ch=I.UpsampleRgbLinePair,lv=I.UpsampleBgrLinePair,Ef=I.UpsampleRgbaLinePair,Kx=I.UpsampleBgraLinePair,du=I.UpsampleArgbLinePair,Sc=I.UpsampleRgba4444LinePair,uu=I.UpsampleRgb565LinePair,co=16,Pf=1<<co-1,dh=-227,hu=482,Yx=6,fu=0,ui=i(256),Xx=i(256),f1=i(256),m4=i(256),x4=i(hu-dh),p4=i(hu-dh);vd("YuvToRgbRow",gd,3),vd("YuvToBgrRow",$n,3),vd("YuvToRgbaRow",Wi,4),vd("YuvToBgraRow",gc,4),vd("YuvToArgbRow",jf,4),vd("YuvToRgba4444Row",nu,2),vd("YuvToRgb565Row",au,2);var en=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Of=[0,2,8],o0=[8,7,6,4,4,2,2,2,1,1,1,1],c0=1;this.WebPDecodeRGBA=function(C,P,z,Y,le){var ue=_i,me=new jt,ve=new Rr;me.ba=ve,ve.S=ue,ve.width=[ve.width],ve.height=[ve.height];var Ne=ve.width,Ce=ve.height,Ie=new ar;if(Ie==null||C==null)var Qe=2;else t(Ie!=null),Qe=Bo(C,P,z,Ie.width,Ie.height,Ie.Pd,Ie.Qd,Ie.format,null);if(Qe!=0?Ne=0:(Ne!=null&&(Ne[0]=Ie.width[0]),Ce!=null&&(Ce[0]=Ie.height[0]),Ne=1),Ne){ve.width=ve.width[0],ve.height=ve.height[0],Y!=null&&(Y[0]=ve.width),le!=null&&(le[0]=ve.height);e:{if(Y=new ld,(le=new Et).data=C,le.w=P,le.ha=z,le.kd=1,P=[0],t(le!=null),((C=Bo(le.data,le.w,le.ha,null,null,null,P,null,le))==0||C==7)&&P[0]&&(C=4),(P=C)==0){if(t(me!=null),Y.data=le.data,Y.w=le.w+le.offset,Y.ha=le.ha-le.offset,Y.put=hr,Y.ac=nl,Y.bc=Po,Y.ma=me,le.xa){if((C=Ze())==null){me=1;break e}if((function(Ae,$e){var We=[0],gt=[0],Ye=[0];t:for(;;){if(Ae==null)return 0;if($e==null)return Ae.a=2,0;if(Ae.l=$e,Ae.a=0,Z(Ae.m,$e.data,$e.w,$e.ha),!Jl(Ae.m,We,gt,Ye)){Ae.a=3;break t}if(Ae.xb=iv,$e.width=We[0],$e.height=gt[0],!Je(We[0],gt[0],1,Ae,null))break t;return 1}return t(Ae.a!=0),0})(C,Y)){if(Y=(P=Uo(Y.width,Y.height,me.Oa,me.ba))==0){t:{Y=C;r:for(;;){if(Y==null){Y=0;break t}if(t(Y.s.yc!=null),t(Y.s.Ya!=null),t(0<Y.s.Wb),t((z=Y.l)!=null),t((le=z.ma)!=null),Y.xb!=0){if(Y.ca=le.ba,Y.tb=le.tb,t(Y.ca!=null),!yd(le.Oa,z,so)){Y.a=2;break r}if(!rt(Y,z.width)||z.da)break r;if((z.da||fr(Y.ca.S))&&Lo(),11>Y.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Y.ca.f.kb.F!=null&&Lo()),Y.Pb&&0<Y.s.ua&&Y.s.vb.X==null&&!xe(Y.s.vb,Y.s.Wa.Xa)){Y.a=1;break r}Y.xb=0}if(!Ke(Y,Y.V,Y.Ba,Y.c,Y.i,z.o,be))break r;le.Dc=Y.Ma,Y=1;break t}t(Y.a!=0),Y=0}Y=!Y}Y&&(P=C.a)}else P=C.a}else{if((C=new Ro)==null){me=1;break e}if(C.Fa=le.na,C.P=le.P,C.qc=le.Sa,fc(C,Y)){if((P=Uo(Y.width,Y.height,me.Oa,me.ba))==0){if(C.Aa=0,z=me.Oa,t((le=C)!=null),z!=null){if(0<(Ne=0>(Ne=z.Md)?0:100<Ne?255:255*Ne/100)){for(Ce=Ie=0;4>Ce;++Ce)12>(Qe=le.pb[Ce]).lc&&(Qe.ia=Ne*o0[0>Qe.lc?0:Qe.lc]>>3),Ie|=Qe.ia;Ie&&(alert("todo:VP8InitRandom"),le.ia=1)}le.Ga=z.Id,100<le.Ga?le.Ga=100:0>le.Ga&&(le.Ga=0)}(function(Ae,$e){if(Ae==null)return 0;if($e==null)return ws(Ae,2,"NULL VP8Io parameter in VP8Decode().");if(!Ae.cb&&!fc(Ae,$e))return 0;if(t(Ae.cb),$e.ac==null||$e.ac($e)){$e.ob&&(Ae.L=0);var We=Of[Ae.L];if(Ae.L==2?(Ae.yb=0,Ae.zb=0):(Ae.yb=$e.v-We>>4,Ae.zb=$e.j-We>>4,0>Ae.yb&&(Ae.yb=0),0>Ae.zb&&(Ae.zb=0)),Ae.Va=$e.o+15+We>>4,Ae.Hb=$e.va+15+We>>4,Ae.Hb>Ae.za&&(Ae.Hb=Ae.za),Ae.Va>Ae.Ub&&(Ae.Va=Ae.Ub),0<Ae.L){var gt=Ae.ed;for(We=0;4>We;++We){var Ye;if(Ae.Qa.Cb){var pt=Ae.Qa.Lb[We];Ae.Qa.Fb||(pt+=gt.Tb)}else pt=gt.Tb;for(Ye=0;1>=Ye;++Ye){var Nt=Ae.gd[We][Ye],Rt=pt;if(gt.Pc&&(Rt+=gt.vd[0],Ye&&(Rt+=gt.od[0])),0<(Rt=0>Rt?0:63<Rt?63:Rt)){var kt=Rt;0<gt.wb&&(kt=4<gt.wb?kt>>2:kt>>1)>9-gt.wb&&(kt=9-gt.wb),1>kt&&(kt=1),Nt.dd=kt,Nt.tc=2*Rt+kt,Nt.ld=40<=Rt?2:15<=Rt?1:0}else Nt.tc=0;Nt.La=Ye}}}We=0}else ws(Ae,6,"Frame setup failed"),We=Ae.a;if(We=We==0){if(We){Ae.$c=0,0<Ae.Aa||(Ae.Ic=c0);t:{We=Ae.Ic,gt=4*(kt=Ae.za);var sr=32*kt,Gt=kt+1,Pr=0<Ae.L?kt*(0<Ae.Aa?2:1):0,Xt=(Ae.Aa==2?2:1)*kt;if((Nt=gt+832+(Ye=3*(16*We+Of[Ae.L])/2*sr)+(pt=Ae.Fa!=null&&0<Ae.Fa.length?Ae.Kc.c*Ae.Kc.i:0))!=Nt)We=0;else{if(Nt>Ae.Vb){if(Ae.Vb=0,Ae.Ec=i(Nt),Ae.Fc=0,Ae.Ec==null){We=ws(Ae,1,"no memory during frame initialization.");break t}Ae.Vb=Nt}Nt=Ae.Ec,Rt=Ae.Fc,Ae.Ac=Nt,Ae.Bc=Rt,Rt+=gt,Ae.Gd=l(sr,Pl),Ae.Hd=0,Ae.rb=l(Gt+1,$s),Ae.sb=1,Ae.wa=Pr?l(Pr,ts):null,Ae.Y=0,Ae.D.Nb=0,Ae.D.wa=Ae.wa,Ae.D.Y=Ae.Y,0<Ae.Aa&&(Ae.D.Y+=kt),t(!0),Ae.oc=Nt,Ae.pc=Rt,Rt+=832,Ae.ya=l(Xt,Oo),Ae.aa=0,Ae.D.ya=Ae.ya,Ae.D.aa=Ae.aa,Ae.Aa==2&&(Ae.D.aa+=kt),Ae.R=16*kt,Ae.B=8*kt,kt=(sr=Of[Ae.L])*Ae.R,sr=sr/2*Ae.B,Ae.sa=Nt,Ae.ta=Rt+kt,Ae.qa=Ae.sa,Ae.ra=Ae.ta+16*We*Ae.R+sr,Ae.Ha=Ae.qa,Ae.Ia=Ae.ra+8*We*Ae.B+sr,Ae.$c=0,Rt+=Ye,Ae.mb=pt?Nt:null,Ae.nb=pt?Rt:null,t(Rt+pt<=Ae.Fc+Ae.Vb),$m(Ae),n(Ae.Ac,Ae.Bc,0,gt),We=1}}if(We){if($e.ka=0,$e.y=Ae.sa,$e.O=Ae.ta,$e.f=Ae.qa,$e.N=Ae.ra,$e.ea=Ae.Ha,$e.Vd=Ae.Ia,$e.fa=Ae.R,$e.Rc=Ae.B,$e.F=null,$e.J=0,!zx){for(We=-255;255>=We;++We)lh[255+We]=0>We?-We:We;for(We=-1020;1020>=We;++We)Ux[1020+We]=-128>We?-128:127<We?127:We;for(We=-112;112>=We;++We)r0[112+We]=-16>We?-16:15<We?15:We;for(We=-255;510>=We;++We)s0[255+We]=0>We?0:255<We?255:We;zx=1}Ml=Mo,Sd=Hm,to=Vi,Ss=qm,xs=Vm,wi=Ex,ia=Lx,Qa=md,wc=ie,zo=Ee,nh=Ix,e0=B,rv=Le,o1=qe,c1=dd,d1=ud,sv=rh,av=Xm,Ua[0]=Mx,Ua[1]=Px,Ua[2]=Rx,Ua[3]=Km,Ua[4]=Ol,Ua[5]=Ym,Ua[6]=ni,Ua[7]=Qu,Ua[8]=eh,Ua[9]=Dl,Ki[0]=Fo,Ki[1]=Wm,Ki[2]=Gm,Ki[3]=Dx,Ki[4]=od,Ki[5]=Ju,Ki[6]=su,$o[0]=gf,$o[1]=Ox,$o[2]=mc,$o[3]=Fx,$o[4]=zn,$o[5]=vf,$o[6]=xc,We=1}else We=0}We&&(We=(function(as,xa){for(as.M=0;as.M<as.Va;++as.M){var Ir,Kt=as.Jc[as.M&as.Xb],zt=as.m,Ta=as;for(Ir=0;Ir<Ta.za;++Ir){var Nr=zt,$r=Ta,Is=$r.Ac,Cn=$r.Bc+4*Ir,hi=$r.zc,la=$r.ya[$r.aa+Ir];if($r.Qa.Bb?la.$b=ge(Nr,$r.Pa.jb[0])?2+ge(Nr,$r.Pa.jb[2]):ge(Nr,$r.Pa.jb[1]):la.$b=0,$r.kc&&(la.Ad=ge(Nr,$r.Bd)),la.Za=!ge(Nr,145)+0,la.Za){var cn=la.Ob,ki=0;for($r=0;4>$r;++$r){var dn,Kr=hi[0+$r];for(dn=0;4>dn;++dn){Kr=ci[Is[Cn+dn]][Kr];for(var gs=Gx[ge(Nr,Kr[0])];0<gs;)gs=Gx[2*gs+ge(Nr,Kr[gs])];Kr=-gs,Is[Cn+dn]=Kr}a(cn,ki,Is,Cn,4),ki+=4,hi[0+$r]=Kr}}else Kr=ge(Nr,156)?ge(Nr,128)?1:3:ge(Nr,163)?2:0,la.Ob[0]=Kr,n(Is,Cn,Kr,4),n(hi,0,Kr,4);la.Dd=ge(Nr,142)?ge(Nr,114)?ge(Nr,183)?1:3:2:0}if(Ta.m.Ka)return ws(as,7,"Premature end-of-partition0 encountered.");for(;as.ja<as.za;++as.ja){if(Ta=Kt,Nr=(zt=as).rb[zt.sb-1],Is=zt.rb[zt.sb+zt.ja],Ir=zt.ya[zt.aa+zt.ja],Cn=zt.kc?Ir.Ad:0)Nr.la=Is.la=0,Ir.Za||(Nr.Na=Is.Na=0),Ir.Hc=0,Ir.Gc=0,Ir.ia=0;else{var Ea,_s;if(Nr=Is,Is=Ta,Cn=zt.Pa.Xc,hi=zt.ya[zt.aa+zt.ja],la=zt.pb[hi.$b],$r=hi.ad,cn=0,ki=zt.rb[zt.sb-1],Kr=dn=0,n($r,cn,0,384),hi.Za)var Tn=0,Pa=Cn[3];else{gs=i(16);var vs=Nr.Na+ki.Na;if(vs=Ll(Is,Cn[1],vs,la.Eb,0,gs,0),Nr.Na=ki.Na=(0<vs)+0,1<vs)Ml(gs,0,$r,cn);else{var tn=gs[0]+3>>3;for(gs=0;256>gs;gs+=16)$r[cn+gs]=tn}Tn=1,Pa=Cn[0]}var Bs=15&Nr.la,un=15&ki.la;for(gs=0;4>gs;++gs){var hn=1&un;for(tn=_s=0;4>tn;++tn)Bs=Bs>>1|(hn=(vs=Ll(Is,Pa,vs=hn+(1&Bs),la.Sc,Tn,$r,cn))>Tn)<<7,_s=_s<<2|(3<vs?3:1<vs?2:$r[cn+0]!=0),cn+=16;Bs>>=4,un=un>>1|hn<<7,dn=(dn<<8|_s)>>>0}for(Pa=Bs,Tn=un>>4,Ea=0;4>Ea;Ea+=2){for(_s=0,Bs=Nr.la>>4+Ea,un=ki.la>>4+Ea,gs=0;2>gs;++gs){for(hn=1&un,tn=0;2>tn;++tn)vs=hn+(1&Bs),Bs=Bs>>1|(hn=0<(vs=Ll(Is,Cn[2],vs,la.Qc,0,$r,cn)))<<3,_s=_s<<2|(3<vs?3:1<vs?2:$r[cn+0]!=0),cn+=16;Bs>>=2,un=un>>1|hn<<5}Kr|=_s<<4*Ea,Pa|=Bs<<4<<Ea,Tn|=(240&un)<<Ea}Nr.la=Pa,ki.la=Tn,hi.Hc=dn,hi.Gc=Kr,hi.ia=43690&Kr?0:la.ia,Cn=!(dn|Kr)}if(0<zt.L&&(zt.wa[zt.Y+zt.ja]=zt.gd[Ir.$b][Ir.Za],zt.wa[zt.Y+zt.ja].La|=!Cn),Ta.Ka)return ws(as,7,"Premature end-of-file encountered.")}if($m(as),zt=xa,Ta=1,Ir=(Kt=as).D,Nr=0<Kt.L&&Kt.M>=Kt.zb&&Kt.M<=Kt.Va,Kt.Aa==0)t:{if(Ir.M=Kt.M,Ir.uc=Nr,Rl(Kt,Ir),Ta=1,Ir=(_s=Kt.D).Nb,Nr=(Kr=Of[Kt.L])*Kt.R,Is=Kr/2*Kt.B,gs=16*Ir*Kt.R,tn=8*Ir*Kt.B,Cn=Kt.sa,hi=Kt.ta-Nr+gs,la=Kt.qa,$r=Kt.ra-Is+tn,cn=Kt.Ha,ki=Kt.Ia-Is+tn,un=(Bs=_s.M)==0,dn=Bs>=Kt.Va-1,Kt.Aa==2&&Rl(Kt,_s),_s.uc)for(hn=(vs=Kt).D.M,t(vs.D.uc),_s=vs.yb;_s<vs.Hb;++_s){Tn=_s,Pa=hn;var Gs=(ps=(fn=vs).D).Nb;Ea=fn.R;var ps=ps.wa[ps.Y+Tn],Ai=fn.sa,za=fn.ta+16*Gs*Ea+16*Tn,mr=ps.dd,gr=ps.tc;if(gr!=0)if(t(3<=gr),fn.L==1)0<Tn&&d1(Ai,za,Ea,gr+4),ps.La&&av(Ai,za,Ea,gr),0<Pa&&c1(Ai,za,Ea,gr+4),ps.La&&sv(Ai,za,Ea,gr);else{var ys=fn.B,ol=fn.qa,uo=fn.ra+8*Gs*ys+8*Tn,Yi=fn.Ha,fn=fn.Ia+8*Gs*ys+8*Tn;Gs=ps.ld,0<Tn&&(Qa(Ai,za,Ea,gr+4,mr,Gs),zo(ol,uo,Yi,fn,ys,gr+4,mr,Gs)),ps.La&&(e0(Ai,za,Ea,gr,mr,Gs),o1(ol,uo,Yi,fn,ys,gr,mr,Gs)),0<Pa&&(ia(Ai,za,Ea,gr+4,mr,Gs),wc(ol,uo,Yi,fn,ys,gr+4,mr,Gs)),ps.La&&(nh(Ai,za,Ea,gr,mr,Gs),rv(ol,uo,Yi,fn,ys,gr,mr,Gs))}}if(Kt.ia&&alert("todo:DitherRow"),zt.put!=null){if(_s=16*Bs,Bs=16*(Bs+1),un?(zt.y=Kt.sa,zt.O=Kt.ta+gs,zt.f=Kt.qa,zt.N=Kt.ra+tn,zt.ea=Kt.Ha,zt.W=Kt.Ia+tn):(_s-=Kr,zt.y=Cn,zt.O=hi,zt.f=la,zt.N=$r,zt.ea=cn,zt.W=ki),dn||(Bs-=Kr),Bs>zt.o&&(Bs=zt.o),zt.F=null,zt.J=null,Kt.Fa!=null&&0<Kt.Fa.length&&_s<Bs&&(zt.J=na(Kt,zt,_s,Bs-_s),zt.F=Kt.mb,zt.F==null&&zt.F.length==0)){Ta=ws(Kt,3,"Could not decode alpha data.");break t}_s<zt.j&&(Kr=zt.j-_s,_s=zt.j,t(!(1&Kr)),zt.O+=Kt.R*Kr,zt.N+=Kt.B*(Kr>>1),zt.W+=Kt.B*(Kr>>1),zt.F!=null&&(zt.J+=zt.width*Kr)),_s<Bs&&(zt.O+=zt.v,zt.N+=zt.v>>1,zt.W+=zt.v>>1,zt.F!=null&&(zt.J+=zt.v),zt.ka=_s-zt.j,zt.U=zt.va-zt.v,zt.T=Bs-_s,Ta=zt.put(zt))}Ir+1!=Kt.Ic||dn||(a(Kt.sa,Kt.ta-Nr,Cn,hi+16*Kt.R,Nr),a(Kt.qa,Kt.ra-Is,la,$r+8*Kt.B,Is),a(Kt.Ha,Kt.Ia-Is,cn,ki+8*Kt.B,Is))}if(!Ta)return ws(as,6,"Output aborted.")}return 1})(Ae,$e)),$e.bc!=null&&$e.bc($e),We&=1}return We?(Ae.cb=0,We):0})(C,Y)||(P=C.a)}}else P=C.a}P==0&&me.Oa!=null&&me.Oa.fd&&(P=Qm(me.ba))}me=P}ue=me!=0?null:11>ue?ve.f.RGBA.eb:ve.f.kb.y}else ue=null;return ue};var Zx=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(I,U){for(var M="",L=0;L<4;L++)M+=String.fromCharCode(I[U++]);return M}function h(I,U){return I[U+0]|I[U+1]<<8}function m(I,U){return(I[U+0]|I[U+1]<<8|I[U+2]<<16)>>>0}function p(I,U){return(I[U+0]|I[U+1]<<8|I[U+2]<<16|I[U+3]<<24)>>>0}new c;var x=[0],v=[0],y=[],b=new c,j=e,S=(function(I,U){var M={},L=0,J=!1,K=0,ae=0;if(M.frames=[],!(function(D,H){for(var q=0;q<4;q++)if(D[H+q]!="RIFF".charCodeAt(q))return!0;return!1})(I,U)){for(p(I,U+=4),U+=8;U<I.length;){var V=d(I,U),re=p(I,U+=4);U+=4;var X=re+(1&re);switch(V){case"VP8 ":case"VP8L":M.frames[L]===void 0&&(M.frames[L]={}),(te=M.frames[L]).src_off=J?ae:U-8,te.src_size=K+re+8,L++,J&&(J=!1,K=0,ae=0);break;case"VP8X":(te=M.header={}).feature_flags=I[U];var Z=U+4;te.canvas_width=1+m(I,Z),Z+=3,te.canvas_height=1+m(I,Z),Z+=3;break;case"ALPH":J=!0,K=X+8,ae=U-8;break;case"ANIM":(te=M.header).bgcolor=p(I,U),Z=U+4,te.loop_count=h(I,Z),Z+=2;break;case"ANMF":var ye,te;(te=M.frames[L]={}).offset_x=2*m(I,U),U+=3,te.offset_y=2*m(I,U),U+=3,te.width=1+m(I,U),U+=3,te.height=1+m(I,U),U+=3,te.duration=m(I,U),U+=3,ye=I[U++],te.dispose=1&ye,te.blend=ye>>1&1}V!="ANMF"&&(U+=X)}return M}})(j,0);S.response=j,S.rgbaoutput=!0,S.dataurl=!1;var w=S.header?S.header:null,k=S.frames?S.frames:null;if(w){w.loop_counter=w.loop_count,x=[w.canvas_height],v=[w.canvas_width];for(var _=0;_<k.length&&k[_].blend!=0;_++);}var O=k[0],E=b.WebPDecodeRGBA(j,O.src_off,O.src_size,v,x);O.rgba=E,O.imgwidth=v[0],O.imgheight=x[0];for(var F=0;F<v[0]*x[0]*4;F++)y[F]=E[F];return this.width=v,this.height=x,this.data=y,this}function gPe(){var e,t=this.internal.__metadata__.metadata,s=unescape(encodeURIComponent(t));e=this.internal.__metadata__.rawXml?s:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+s.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+e.length+" >>"),this.internal.write("stream"),this.internal.write(e),this.internal.write("endstream"),this.internal.write("endobj")}function vPe(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(e){var t,s,a,n,i,l,o,c,d,h=function(D){return D=D||{},this.isStrokeTransparent=D.isStrokeTransparent||!1,this.strokeOpacity=D.strokeOpacity||1,this.strokeStyle=D.strokeStyle||"#000000",this.fillStyle=D.fillStyle||"#000000",this.isFillTransparent=D.isFillTransparent||!1,this.fillOpacity=D.fillOpacity||1,this.font=D.font||"10px sans-serif",this.textBaseline=D.textBaseline||"alphabetic",this.textAlign=D.textAlign||"left",this.lineWidth=D.lineWidth||1,this.lineJoin=D.lineJoin||"miter",this.lineCap=D.lineCap||"butt",this.path=D.path||[],this.transform=D.transform!==void 0?D.transform.clone():new c,this.globalCompositeOperation=D.globalCompositeOperation||"normal",this.globalAlpha=D.globalAlpha||1,this.clip_path=D.clip_path||[],this.currentPoint=D.currentPoint||new l,this.miterLimit=D.miterLimit||10,this.lastPoint=D.lastPoint||new l,this.lineDashOffset=D.lineDashOffset||0,this.lineDash=D.lineDash||[],this.margin=D.margin||[0,0,0,0],this.prevPageLastElemOffset=D.prevPageLastElemOffset||0,this.ignoreClearRect=typeof D.ignoreClearRect!="boolean"||D.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new m(this),t=this.internal.f2,s=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,n=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,l=this.internal.Point,o=this.internal.Rectangle,c=this.internal.Matrix,d=new h}]);var m=function(D){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=D;Object.defineProperty(this,"pdf",{get:function(){return H}});var q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return q},set:function(xe){q=!!xe}});var W=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return W},set:function(xe){W=!!xe}});var G=0;Object.defineProperty(this,"posX",{get:function(){return G},set:function(xe){isNaN(xe)||(G=xe)}});var fe=0;Object.defineProperty(this,"posY",{get:function(){return fe},set:function(xe){isNaN(xe)||(fe=xe)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(xe){var ot;typeof xe=="number"?ot=[xe,xe,xe,xe]:((ot=new Array(4))[0]=xe[0],ot[1]=xe.length>=2?xe[1]:ot[0],ot[2]=xe.length>=3?xe[2]:ot[0],ot[3]=xe.length>=4?xe[3]:ot[1]),d.margin=ot}});var Se=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Se},set:function(xe){Se=xe}});var se=0;Object.defineProperty(this,"lastBreak",{get:function(){return se},set:function(xe){se=xe}});var ge=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ge},set:function(xe){ge=xe}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(xe){xe instanceof h&&(d=xe)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(xe){d.path=xe}});var Be=[];Object.defineProperty(this,"ctxStack",{get:function(){return Be},set:function(xe){Be=xe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(xe){var ot;ot=p(xe),this.ctx.fillStyle=ot.style,this.ctx.isFillTransparent=ot.a===0,this.ctx.fillOpacity=ot.a,this.pdf.setFillColor(ot.r,ot.g,ot.b,{a:ot.a}),this.pdf.setTextColor(ot.r,ot.g,ot.b,{a:ot.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(xe){var ot=p(xe);this.ctx.strokeStyle=ot.style,this.ctx.isStrokeTransparent=ot.a===0,this.ctx.strokeOpacity=ot.a,ot.a===0?this.pdf.setDrawColor(255,255,255):(ot.a,this.pdf.setDrawColor(ot.r,ot.g,ot.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(xe){["butt","round","square"].indexOf(xe)!==-1&&(this.ctx.lineCap=xe,this.pdf.setLineCap(xe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(xe){isNaN(xe)||(this.ctx.lineWidth=xe,this.pdf.setLineWidth(xe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(xe){["bevel","round","miter"].indexOf(xe)!==-1&&(this.ctx.lineJoin=xe,this.pdf.setLineJoin(xe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(xe){isNaN(xe)||(this.ctx.miterLimit=xe,this.pdf.setMiterLimit(xe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(xe){this.ctx.textBaseline=xe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(xe){["right","end","center","left","start"].indexOf(xe)!==-1&&(this.ctx.textAlign=xe)}});var ee=null,at=null,nt=null;Object.defineProperty(this,"fontFaces",{get:function(){return nt},set:function(xe){ee=null,at=null,nt=xe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(xe){var ot;if(this.ctx.font=xe,(ot=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(xe))!==null){var ut=ot[1];ot[2];var Re=ot[3],Ge=ot[4];ot[5];var qt=ot[6],we=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ge)[2];Ge=Math.floor(we==="px"?parseFloat(Ge)*this.pdf.internal.scaleFactor:we==="em"?parseFloat(Ge)*this.pdf.getFontSize():parseFloat(Ge)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ge);var _e=(function(Ot){var br,Jt,Vt=[],pr=Ot.trim();if(pr==="")return Y_;if(pr in g9)return[g9[pr]];for(;pr!=="";){switch(Jt=null,br=(pr=y9(pr)).charAt(0)){case'"':case"'":Jt=uPe(pr.substring(1),br);break;default:Jt=hPe(pr)}if(Jt===null||(Vt.push(Jt[0]),(pr=y9(Jt[1]))!==""&&pr.charAt(0)!==","))return Y_;pr=pr.replace(/^,/,"")}return Vt})(qt);if(this.fontFaces){var ne=(function(Ot,br){var Jt=Ot.getFontList(),Vt=JSON.stringify(Jt);if(ee===null||at!==Vt){var pr=(function(Hr){var cr=[];return Object.keys(Hr).forEach(function(Ns){Hr[Ns].forEach(function(fr){var Sr=null;switch(fr){case"bold":Sr={family:Ns,weight:"bold"};break;case"italic":Sr={family:Ns,style:"italic"};break;case"bolditalic":Sr={family:Ns,weight:"bold",style:"italic"};break;case"":case"normal":Sr={family:Ns}}Sr!==null&&(Sr.ref={name:Ns,style:fr},cr.push(Sr))})}),cr})(Jt);ee=(function(Hr){for(var cr={},Ns=0;Ns<Hr.length;++Ns){var fr=K_(Hr[Ns]),Sr=fr.family,Fs=fr.stretch,Rr=fr.style,ar=fr.weight;cr[Sr]=cr[Sr]||{},cr[Sr][Fs]=cr[Sr][Fs]||{},cr[Sr][Fs][Rr]=cr[Sr][Fs][Rr]||{},cr[Sr][Fs][Rr][ar]=fr}return cr})(pr.concat(br)),at=Vt}return ee})(this.pdf,this.fontFaces),Oe=_e.map(function(Ot){return{family:Ot,stretch:"normal",weight:Re,style:ut}}),Me=(function(Ot,br,Jt){for(var Vt=(Jt=Jt||{}).defaultFontFamily||"times",pr=Object.assign({},dPe,Jt.genericFontFamilies||{}),Hr=null,cr=null,Ns=0;Ns<br.length;++Ns)if(pr[(Hr=K_(br[Ns])).family]&&(Hr.family=pr[Hr.family]),Ot.hasOwnProperty(Hr.family)){cr=Ot[Hr.family];break}if(!(cr=cr||Ot[Vt]))throw new Error("Could not find a font-family for the rule '"+v9(Hr)+"' and default family '"+Vt+"'.");if(cr=(function(fr,Sr){if(Sr[fr])return Sr[fr];var Fs=u6[fr],Rr=Fs<=u6.normal?-1:1,ar=p9(Sr,vY,Fs,Rr);if(!ar)throw new Error("Could not find a matching font-stretch value for "+fr);return ar})(Hr.stretch,cr),cr=(function(fr,Sr){if(Sr[fr])return Sr[fr];for(var Fs=gY[fr],Rr=0;Rr<Fs.length;++Rr)if(Sr[Fs[Rr]])return Sr[Fs[Rr]];throw new Error("Could not find a matching font-style for "+fr)})(Hr.style,cr),!(cr=(function(fr,Sr){if(Sr[fr])return Sr[fr];if(fr===400&&Sr[500])return Sr[500];if(fr===500&&Sr[400])return Sr[400];var Fs=cPe[fr],Rr=p9(Sr,yY,Fs,fr<400?-1:1);if(!Rr)throw new Error("Could not find a matching font-weight for value "+fr);return Rr})(Hr.weight,cr)))throw new Error("Failed to resolve a font for the rule '"+v9(Hr)+"'.");return cr})(ne,Oe);this.pdf.setFont(Me.ref.name,Me.ref.style)}else{var De="";(Re==="bold"||parseInt(Re,10)>=700||ut==="bold")&&(De="bold"),ut==="italic"&&(De+="italic"),De.length===0&&(De="normal");for(var He="",mt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},xt=0;xt<_e.length;xt++){if(this.pdf.internal.getFont(_e[xt],De,{noFallback:!0,disableWarning:!0})!==void 0){He=_e[xt];break}if(De==="bolditalic"&&this.pdf.internal.getFont(_e[xt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)He=_e[xt],De="bold";else if(this.pdf.internal.getFont(_e[xt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){He=_e[xt],De="normal";break}}if(He===""){for(var At=0;At<_e.length;At++)if(mt[_e[At]]){He=mt[_e[At]];break}}He=He===""?"Times":He,this.pdf.setFont(He,De)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(xe){this.ctx.globalCompositeOperation=xe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(xe){this.ctx.globalAlpha=xe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(xe){this.ctx.lineDashOffset=xe,te.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(xe){this.ctx.lineDash=xe,te.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(xe){this.ctx.ignoreClearRect=!!xe}})};m.prototype.setLineDash=function(D){this.lineDash=D},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){k.call(this,"fill",!1)},m.prototype.stroke=function(){k.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(D,H){if(isNaN(D)||isNaN(H))throw ga.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var q=this.ctx.transform.applyToPoint(new l(D,H));this.path.push({type:"mt",x:q.x,y:q.y}),this.ctx.lastPoint=new l(D,H)},m.prototype.closePath=function(){var D=new l(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&ea(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){D=new l(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(D.x,D.y)},m.prototype.lineTo=function(D,H){if(isNaN(D)||isNaN(H))throw ga.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var q=this.ctx.transform.applyToPoint(new l(D,H));this.path.push({type:"lt",x:q.x,y:q.y}),this.ctx.lastPoint=new l(q.x,q.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),k.call(this,null,!0)},m.prototype.quadraticCurveTo=function(D,H,q,W){if(isNaN(q)||isNaN(W)||isNaN(D)||isNaN(H))throw ga.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var G=this.ctx.transform.applyToPoint(new l(q,W)),fe=this.ctx.transform.applyToPoint(new l(D,H));this.path.push({type:"qct",x1:fe.x,y1:fe.y,x:G.x,y:G.y}),this.ctx.lastPoint=new l(G.x,G.y)},m.prototype.bezierCurveTo=function(D,H,q,W,G,fe){if(isNaN(G)||isNaN(fe)||isNaN(D)||isNaN(H)||isNaN(q)||isNaN(W))throw ga.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Se=this.ctx.transform.applyToPoint(new l(G,fe)),se=this.ctx.transform.applyToPoint(new l(D,H)),ge=this.ctx.transform.applyToPoint(new l(q,W));this.path.push({type:"bct",x1:se.x,y1:se.y,x2:ge.x,y2:ge.y,x:Se.x,y:Se.y}),this.ctx.lastPoint=new l(Se.x,Se.y)},m.prototype.arc=function(D,H,q,W,G,fe){if(isNaN(D)||isNaN(H)||isNaN(q)||isNaN(W)||isNaN(G))throw ga.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(fe=!!fe,!this.ctx.transform.isIdentity){var Se=this.ctx.transform.applyToPoint(new l(D,H));D=Se.x,H=Se.y;var se=this.ctx.transform.applyToPoint(new l(0,q)),ge=this.ctx.transform.applyToPoint(new l(0,0));q=Math.sqrt(Math.pow(se.x-ge.x,2)+Math.pow(se.y-ge.y,2))}Math.abs(G-W)>=2*Math.PI&&(W=0,G=2*Math.PI),this.path.push({type:"arc",x:D,y:H,radius:q,startAngle:W,endAngle:G,counterclockwise:fe})},m.prototype.arcTo=function(D,H,q,W,G){throw new Error("arcTo not implemented.")},m.prototype.rect=function(D,H,q,W){if(isNaN(D)||isNaN(H)||isNaN(q)||isNaN(W))throw ga.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(D,H),this.lineTo(D+q,H),this.lineTo(D+q,H+W),this.lineTo(D,H+W),this.lineTo(D,H),this.lineTo(D+q,H),this.lineTo(D,H)},m.prototype.fillRect=function(D,H,q,W){if(isNaN(D)||isNaN(H)||isNaN(q)||isNaN(W))throw ga.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!x.call(this)){var G={};this.lineCap!=="butt"&&(G.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(G.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(D,H,q,W),this.fill(),G.hasOwnProperty("lineCap")&&(this.lineCap=G.lineCap),G.hasOwnProperty("lineJoin")&&(this.lineJoin=G.lineJoin)}},m.prototype.strokeRect=function(D,H,q,W){if(isNaN(D)||isNaN(H)||isNaN(q)||isNaN(W))throw ga.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(D,H,q,W),this.stroke())},m.prototype.clearRect=function(D,H,q,W){if(isNaN(D)||isNaN(H)||isNaN(q)||isNaN(W))throw ga.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(D,H,q,W))},m.prototype.save=function(D){D=typeof D!="boolean"||D;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),D){this.ctx.fontSize=this.pdf.internal.getFontSize();var W=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=W}},m.prototype.restore=function(D){D=typeof D!="boolean"||D;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("Q");this.pdf.setPage(H),D&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(D){var H,q,W,G;if(D.isCanvasGradient===!0&&(D=D.getColor()),!D)return{r:0,g:0,b:0,a:0,style:D};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(D))H=0,q=0,W=0,G=0;else{var fe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(D);if(fe!==null)H=parseInt(fe[1]),q=parseInt(fe[2]),W=parseInt(fe[3]),G=1;else if((fe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(D))!==null)H=parseInt(fe[1]),q=parseInt(fe[2]),W=parseInt(fe[3]),G=parseFloat(fe[4]);else{if(G=1,typeof D=="string"&&D.charAt(0)!=="#"){var Se=new dY(D);D=Se.ok?Se.toHex():"#000000"}D.length===4?(H=D.substring(1,2),H+=H,q=D.substring(2,3),q+=q,W=D.substring(3,4),W+=W):(H=D.substring(1,3),q=D.substring(3,5),W=D.substring(5,7)),H=parseInt(H,16),q=parseInt(q,16),W=parseInt(W,16)}}return{r:H,g:q,b:W,a:G,style:D}},x=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(D,H,q,W){if(isNaN(H)||isNaN(q)||typeof D!="string")throw ga.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(W=isNaN(W)?void 0:W,!x.call(this)){var G=X(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;L.call(this,{text:D,x:H,y:q,scale:fe,angle:G,align:this.textAlign,maxWidth:W})}},m.prototype.strokeText=function(D,H,q,W){if(isNaN(H)||isNaN(q)||typeof D!="string")throw ga.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){W=isNaN(W)?void 0:W;var G=X(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;L.call(this,{text:D,x:H,y:q,scale:fe,renderingMode:"stroke",angle:G,align:this.textAlign,maxWidth:W})}},m.prototype.measureText=function(D){if(typeof D!="string")throw ga.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,q=this.pdf.internal.scaleFactor,W=H.internal.getFontSize(),G=H.getStringUnitWidth(D)*W/H.internal.scaleFactor;return new function(fe){var Se=(fe=fe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Se}}),this}({width:G*=Math.round(96*q/72*1e4)/1e4})},m.prototype.scale=function(D,H){if(isNaN(D)||isNaN(H))throw ga.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var q=new c(D,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(q)},m.prototype.rotate=function(D){if(isNaN(D))throw ga.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new c(Math.cos(D),Math.sin(D),-Math.sin(D),Math.cos(D),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},m.prototype.translate=function(D,H){if(isNaN(D)||isNaN(H))throw ga.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var q=new c(1,0,0,1,D,H);this.ctx.transform=this.ctx.transform.multiply(q)},m.prototype.transform=function(D,H,q,W,G,fe){if(isNaN(D)||isNaN(H)||isNaN(q)||isNaN(W)||isNaN(G)||isNaN(fe))throw ga.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Se=new c(D,H,q,W,G,fe);this.ctx.transform=this.ctx.transform.multiply(Se)},m.prototype.setTransform=function(D,H,q,W,G,fe){D=isNaN(D)?1:D,H=isNaN(H)?0:H,q=isNaN(q)?0:q,W=isNaN(W)?1:W,G=isNaN(G)?0:G,fe=isNaN(fe)?0:fe,this.ctx.transform=new c(D,H,q,W,G,fe)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(D,H,q,W,G,fe,Se,se,ge){var Be=this.pdf.getImageProperties(D),ee=1,at=1,nt=1,xe=1;W!==void 0&&se!==void 0&&(nt=se/W,xe=ge/G,ee=Be.width/W*se/W,at=Be.height/G*ge/G),fe===void 0&&(fe=H,Se=q,H=0,q=0),W!==void 0&&se===void 0&&(se=W,ge=G),W===void 0&&se===void 0&&(se=Be.width,ge=Be.height);var ot=this.ctx.transform.decompose(),ut=X(ot.rotate.shx),Re=new c,Ge=(Re=(Re=(Re=Re.multiply(ot.translate)).multiply(ot.skew)).multiply(ot.scale)).applyToRectangle(new o(fe-H*nt,Se-q*xe,W*ee,G*at));if(this.autoPaging){for(var qt,we=b.call(this,Ge),_e=[],ne=0;ne<we.length;ne+=1)_e.indexOf(we[ne])===-1&&_e.push(we[ne]);w(_e);for(var Oe=_e[0],Me=_e[_e.length-1],De=Oe;De<Me+1;De++){this.pdf.setPage(De);var He=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],mt=De===1?this.posY+this.margin[0]:this.margin[0],xt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],At=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ot=De===1?0:xt+(De-2)*At;if(this.ctx.clip_path.length!==0){var br=this.path;qt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(qt,this.posX+this.margin[3],-Ot+mt+this.ctx.prevPageLastElemOffset),_.call(this,"fill",!0),this.path=br}var Jt=JSON.parse(JSON.stringify(Ge));Jt=S([Jt],this.posX+this.margin[3],-Ot+mt+this.ctx.prevPageLastElemOffset)[0];var Vt=(De>Oe||De<Me)&&y.call(this);Vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],He,At,null).clip().discardPath()),this.pdf.addImage(D,"JPEG",Jt.x,Jt.y,Jt.w,Jt.h,null,null,ut),Vt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(D,"JPEG",Ge.x,Ge.y,Ge.w,Ge.h,null,null,ut)};var b=function(D,H,q){var W=[];H=H||this.pdf.internal.pageSize.width,q=q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var G=this.posY+this.ctx.prevPageLastElemOffset;switch(D.type){default:case"mt":case"lt":W.push(Math.floor((D.y+G)/q)+1);break;case"arc":W.push(Math.floor((D.y+G-D.radius)/q)+1),W.push(Math.floor((D.y+G+D.radius)/q)+1);break;case"qct":var fe=Z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x,D.y);W.push(Math.floor((fe.y+G)/q)+1),W.push(Math.floor((fe.y+fe.h+G)/q)+1);break;case"bct":var Se=ye(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x2,D.y2,D.x,D.y);W.push(Math.floor((Se.y+G)/q)+1),W.push(Math.floor((Se.y+Se.h+G)/q)+1);break;case"rect":W.push(Math.floor((D.y+G)/q)+1),W.push(Math.floor((D.y+D.h+G)/q)+1)}for(var se=0;se<W.length;se+=1)for(;this.pdf.internal.getNumberOfPages()<W[se];)j.call(this);return W},j=function(){var D=this.fillStyle,H=this.strokeStyle,q=this.font,W=this.lineCap,G=this.lineWidth,fe=this.lineJoin;this.pdf.addPage(),this.fillStyle=D,this.strokeStyle=H,this.font=q,this.lineCap=W,this.lineWidth=G,this.lineJoin=fe},S=function(D,H,q){for(var W=0;W<D.length;W++)switch(D[W].type){case"bct":D[W].x2+=H,D[W].y2+=q;case"qct":D[W].x1+=H,D[W].y1+=q;default:D[W].x+=H,D[W].y+=q}return D},w=function(D){return D.sort(function(H,q){return H-q})},k=function(D,H){var q=this.fillStyle,W=this.strokeStyle,G=this.lineCap,fe=this.lineWidth,Se=Math.abs(fe*this.ctx.transform.scaleX),se=this.lineJoin;if(this.autoPaging){for(var ge,Be,ee=JSON.parse(JSON.stringify(this.path)),at=JSON.parse(JSON.stringify(this.path)),nt=[],xe=0;xe<at.length;xe++)if(at[xe].x!==void 0)for(var ot=b.call(this,at[xe]),ut=0;ut<ot.length;ut+=1)nt.indexOf(ot[ut])===-1&&nt.push(ot[ut]);for(var Re=0;Re<nt.length;Re++)for(;this.pdf.internal.getNumberOfPages()<nt[Re];)j.call(this);w(nt);for(var Ge=nt[0],qt=nt[nt.length-1],we=Ge;we<qt+1;we++){this.pdf.setPage(we),this.fillStyle=q,this.strokeStyle=W,this.lineCap=G,this.lineWidth=Se,this.lineJoin=se;var _e=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ne=we===1?this.posY+this.margin[0]:this.margin[0],Oe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Me=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],De=we===1?0:Oe+(we-2)*Me;if(this.ctx.clip_path.length!==0){var He=this.path;ge=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(ge,this.posX+this.margin[3],-De+ne+this.ctx.prevPageLastElemOffset),_.call(this,D,!0),this.path=He}if(Be=JSON.parse(JSON.stringify(ee)),this.path=S(Be,this.posX+this.margin[3],-De+ne+this.ctx.prevPageLastElemOffset),H===!1||we===0){var mt=(we>Ge||we<qt)&&y.call(this);mt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_e,Me,null).clip().discardPath()),_.call(this,D,H),mt&&this.pdf.restoreGraphicsState()}this.lineWidth=fe}this.path=ee}else this.lineWidth=Se,_.call(this,D,H),this.lineWidth=fe},_=function(D,H){if((D!=="stroke"||H||!v.call(this))&&(D==="stroke"||H||!x.call(this))){for(var q,W,G=[],fe=this.path,Se=0;Se<fe.length;Se++){var se=fe[Se];switch(se.type){case"begin":G.push({begin:!0});break;case"close":G.push({close:!0});break;case"mt":G.push({start:se,deltas:[],abs:[]});break;case"lt":var ge=G.length;if(fe[Se-1]&&!isNaN(fe[Se-1].x)&&(q=[se.x-fe[Se-1].x,se.y-fe[Se-1].y],ge>0)){for(;ge>=0;ge--)if(G[ge-1].close!==!0&&G[ge-1].begin!==!0){G[ge-1].deltas.push(q),G[ge-1].abs.push(se);break}}break;case"bct":q=[se.x1-fe[Se-1].x,se.y1-fe[Se-1].y,se.x2-fe[Se-1].x,se.y2-fe[Se-1].y,se.x-fe[Se-1].x,se.y-fe[Se-1].y],G[G.length-1].deltas.push(q);break;case"qct":var Be=fe[Se-1].x+2/3*(se.x1-fe[Se-1].x),ee=fe[Se-1].y+2/3*(se.y1-fe[Se-1].y),at=se.x+2/3*(se.x1-se.x),nt=se.y+2/3*(se.y1-se.y),xe=se.x,ot=se.y;q=[Be-fe[Se-1].x,ee-fe[Se-1].y,at-fe[Se-1].x,nt-fe[Se-1].y,xe-fe[Se-1].x,ot-fe[Se-1].y],G[G.length-1].deltas.push(q);break;case"arc":G.push({deltas:[],abs:[],arc:!0}),Array.isArray(G[G.length-1].abs)&&G[G.length-1].abs.push(se)}}W=H?null:D==="stroke"?"stroke":"fill";for(var ut=!1,Re=0;Re<G.length;Re++)if(G[Re].arc)for(var Ge=G[Re].abs,qt=0;qt<Ge.length;qt++){var we=Ge[qt];we.type==="arc"?F.call(this,we.x,we.y,we.radius,we.startAngle,we.endAngle,we.counterclockwise,void 0,H,!ut):J.call(this,we.x,we.y),ut=!0}else if(G[Re].close===!0)this.pdf.internal.out("h"),ut=!1;else if(G[Re].begin!==!0){var _e=G[Re].start.x,ne=G[Re].start.y;K.call(this,G[Re].deltas,_e,ne),ut=!0}W&&I.call(this,W),H&&U.call(this)}},O=function(D){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,q=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return D-q;case"top":return D+H-q;case"hanging":return D+H-2*q;case"middle":return D+H/2-q;default:return D}},E=function(D){return D+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var D=function(){};return D.colorStops=[],D.addColorStop=function(H,q){this.colorStops.push([H,q])},D.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},D.isCanvasGradient=!0,D},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var F=function(D,H,q,W,G,fe,Se,se,ge){for(var Be=V.call(this,q,W,G,fe),ee=0;ee<Be.length;ee++){var at=Be[ee];ee===0&&(ge?M.call(this,at.x1+D,at.y1+H):J.call(this,at.x1+D,at.y1+H)),ae.call(this,D,H,at.x2,at.y2,at.x3,at.y3,at.x4,at.y4)}se?U.call(this):I.call(this,Se)},I=function(D){switch(D){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},U=function(){this.pdf.clip(),this.pdf.discardPath()},M=function(D,H){this.pdf.internal.out(s(D)+" "+a(H)+" m")},L=function(D){var H;switch(D.align){case"right":case"end":H="right";break;case"center":H="center";break;default:H="left"}var q,W,G,fe=this.pdf.getTextDimensions(D.text),Se=O.call(this,D.y),se=E.call(this,Se)-fe.h,ge=this.ctx.transform.applyToPoint(new l(D.x,Se));if(this.autoPaging){var Be=this.ctx.transform.decompose(),ee=new c;ee=(ee=(ee=ee.multiply(Be.translate)).multiply(Be.skew)).multiply(Be.scale);for(var at=this.ctx.transform.applyToRectangle(new o(D.x,Se,fe.w,fe.h)),nt=ee.applyToRectangle(new o(D.x,se,fe.w,fe.h)),xe=b.call(this,nt),ot=[],ut=0;ut<xe.length;ut+=1)ot.indexOf(xe[ut])===-1&&ot.push(xe[ut]);w(ot);for(var Re=ot[0],Ge=ot[ot.length-1],qt=Re;qt<Ge+1;qt++){this.pdf.setPage(qt);var we=qt===1?this.posY+this.margin[0]:this.margin[0],_e=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ne=this.pdf.internal.pageSize.height-this.margin[2],Oe=ne-this.margin[0],Me=this.pdf.internal.pageSize.width-this.margin[1],De=Me-this.margin[3],He=qt===1?0:_e+(qt-2)*Oe;if(this.ctx.clip_path.length!==0){var mt=this.path;q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(q,this.posX+this.margin[3],-1*He+we),_.call(this,"fill",!0),this.path=mt}var xt=S([JSON.parse(JSON.stringify(nt))],this.posX+this.margin[3],-He+we+this.ctx.prevPageLastElemOffset)[0];D.scale>=.01&&(W=this.pdf.internal.getFontSize(),this.pdf.setFontSize(W*D.scale),G=this.lineWidth,this.lineWidth=G*D.scale);var At=this.autoPaging!=="text";if(At||xt.y+xt.h<=ne){if(At||xt.y>=we&&xt.x<=Me){var Ot=At?D.text:this.pdf.splitTextToSize(D.text,D.maxWidth||Me-xt.x)[0],br=S([JSON.parse(JSON.stringify(at))],this.posX+this.margin[3],-He+we+this.ctx.prevPageLastElemOffset)[0],Jt=At&&(qt>Re||qt<Ge)&&y.call(this);Jt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],De,Oe,null).clip().discardPath()),this.pdf.text(Ot,br.x,br.y,{angle:D.angle,align:H,renderingMode:D.renderingMode}),Jt&&this.pdf.restoreGraphicsState()}}else xt.y<ne&&(this.ctx.prevPageLastElemOffset+=ne-xt.y);D.scale>=.01&&(this.pdf.setFontSize(W),this.lineWidth=G)}}else D.scale>=.01&&(W=this.pdf.internal.getFontSize(),this.pdf.setFontSize(W*D.scale),G=this.lineWidth,this.lineWidth=G*D.scale),this.pdf.text(D.text,ge.x+this.posX,ge.y+this.posY,{angle:D.angle,align:H,renderingMode:D.renderingMode,maxWidth:D.maxWidth}),D.scale>=.01&&(this.pdf.setFontSize(W),this.lineWidth=G)},J=function(D,H,q,W){q=q||0,W=W||0,this.pdf.internal.out(s(D+q)+" "+a(H+W)+" l")},K=function(D,H,q){return this.pdf.lines(D,H,q,null,null)},ae=function(D,H,q,W,G,fe,Se,se){this.pdf.internal.out([t(n(q+D)),t(i(W+H)),t(n(G+D)),t(i(fe+H)),t(n(Se+D)),t(i(se+H)),"c"].join(" "))},V=function(D,H,q,W){for(var G=2*Math.PI,fe=Math.PI/2;H>q;)H-=G;var Se=Math.abs(q-H);Se<G&&W&&(Se=G-Se);for(var se=[],ge=W?-1:1,Be=H;Se>1e-5;){var ee=Be+ge*Math.min(Se,fe);se.push(re.call(this,D,Be,ee)),Se-=Math.abs(ee-Be),Be=ee}return se},re=function(D,H,q){var W=(q-H)/2,G=D*Math.cos(W),fe=D*Math.sin(W),Se=G,se=-fe,ge=Se*Se+se*se,Be=ge+Se*G+se*fe,ee=4/3*(Math.sqrt(2*ge*Be)-Be)/(Se*fe-se*G),at=Se-ee*se,nt=se+ee*Se,xe=at,ot=-nt,ut=W+H,Re=Math.cos(ut),Ge=Math.sin(ut);return{x1:D*Math.cos(H),y1:D*Math.sin(H),x2:at*Re-nt*Ge,y2:at*Ge+nt*Re,x3:xe*Re-ot*Ge,y3:xe*Ge+ot*Re,x4:D*Math.cos(q),y4:D*Math.sin(q)}},X=function(D){return 180*D/Math.PI},Z=function(D,H,q,W,G,fe){var Se=D+.5*(q-D),se=H+.5*(W-H),ge=G+.5*(q-G),Be=fe+.5*(W-fe),ee=Math.min(D,G,Se,ge),at=Math.max(D,G,Se,ge),nt=Math.min(H,fe,se,Be),xe=Math.max(H,fe,se,Be);return new o(ee,nt,at-ee,xe-nt)},ye=function(D,H,q,W,G,fe,Se,se){var ge,Be,ee,at,nt,xe,ot,ut,Re,Ge,qt,we,_e,ne,Oe=q-D,Me=W-H,De=G-q,He=fe-W,mt=Se-G,xt=se-fe;for(Be=0;Be<41;Be++)Re=(ot=(ee=D+(ge=Be/40)*Oe)+ge*((nt=q+ge*De)-ee))+ge*(nt+ge*(G+ge*mt-nt)-ot),Ge=(ut=(at=H+ge*Me)+ge*((xe=W+ge*He)-at))+ge*(xe+ge*(fe+ge*xt-xe)-ut),Be==0?(qt=Re,we=Ge,_e=Re,ne=Ge):(qt=Math.min(qt,Re),we=Math.min(we,Ge),_e=Math.max(_e,Re),ne=Math.max(ne,Ge));return new o(Math.round(qt),Math.round(we),Math.round(_e-qt),Math.round(ne-we))},te=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var D,H,q=(D=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:D,lineDashOffset:H}));this.prevLineDash!==q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=q)}}})(nr.API),(function(e){var t=function(l){var o,c,d,h,m,p,x,v,y,b;for(c=[],d=0,h=(l+=o="\0\0\0\0".slice(l.length%4||4)).length;h>d;d+=4)(m=(l.charCodeAt(d)<<24)+(l.charCodeAt(d+1)<<16)+(l.charCodeAt(d+2)<<8)+l.charCodeAt(d+3))!==0?(p=(m=((m=((m=((m=(m-(b=m%85))/85)-(y=m%85))/85)-(v=m%85))/85)-(x=m%85))/85)%85,c.push(p+33,x+33,v+33,y+33,b+33)):c.push(122);return(function(j,S){for(var w=S;w>0;w--)j.pop()})(c,o.length),String.fromCharCode.apply(String,c)+"~>"},s=function(l){var o,c,d,h,m,p=String,x="length",v=255,y="charCodeAt",b="slice",j="replace";for(l[b](-2),l=l[b](0,-2)[j](/\s/g,"")[j]("z","!!!!!"),d=[],h=0,m=(l+=o="uuuuu"[b](l[x]%5||5))[x];m>h;h+=5)c=52200625*(l[y](h)-33)+614125*(l[y](h+1)-33)+7225*(l[y](h+2)-33)+85*(l[y](h+3)-33)+(l[y](h+4)-33),d.push(v&c>>24,v&c>>16,v&c>>8,v&c);return(function(S,w){for(var k=w;k>0;k--)S.pop()})(d,o[x]),p.fromCharCode.apply(p,d)},a=function(l){return l.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},n=function(l){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((l=l.replace(/\s/g,"")).indexOf(">")!==-1&&(l=l.substr(0,l.indexOf(">"))),l.length%2&&(l+="0"),o.test(l)===!1)return"";for(var c="",d=0;d<l.length;d+=2)c+=String.fromCharCode("0x"+(l[d]+l[d+1]));return c},i=function(l){for(var o=new Uint8Array(l.length),c=l.length;c--;)o[c]=l.charCodeAt(c);return(o=a6(o)).reduce(function(d,h){return d+String.fromCharCode(h)},"")};e.processDataByFilters=function(l,o){var c=0,d=l||"",h=[];for(typeof(o=o||[])=="string"&&(o=[o]),c=0;c<o.length;c+=1)switch(o[c]){case"ASCII85Decode":case"/ASCII85Decode":d=s(d),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=t(d),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=n(d),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=a(d),h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=i(d),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[c]+'" is not implemented')}return{data:d,reverseChain:h.reverse().join(" ")}}})(nr.API),(function(e){e.loadFile=function(t,s,a){return(function(n,i,l){i=i!==!1,l=typeof l=="function"?l:function(){};var o=void 0;try{o=(function(c,d,h){var m=new XMLHttpRequest,p=0,x=function(v){var y=v.length,b=[],j=String.fromCharCode;for(p=0;p<y;p+=1)b.push(j(255&v.charCodeAt(p)));return b.join("")};if(m.open("GET",c,!d),m.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(m.onload=function(){m.status===200?h(x(this.responseText)):h(void 0)}),m.send(null),d&&m.status===200)return x(m.responseText)})(n,i,l)}catch{}return o})(t,s,a)},e.allowFsRead=void 0,e.loadImageFile=e.loadFile})(nr.API),(function(e){function t(){return(Or.html2canvas?Promise.resolve(Or.html2canvas):Gc(()=>import("./html2canvas.esm-DXEQVQnt.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function s(){return(Or.DOMPurify?Promise.resolve(Or.DOMPurify):Gc(()=>import("./purify.es-Bzr520pe.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var a=function(o){var c=ea(o);return c==="undefined"?"undefined":c==="string"||o instanceof String?"string":c==="number"||o instanceof Number?"number":c==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":c==="object"?"object":"unknown"},n=function(o,c){var d=document.createElement(o);for(var h in c.className&&(d.className=c.className),c.innerHTML&&c.dompurify&&(d.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)d.style[h]=c.style[h];return d},i=function o(c,d){for(var h=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),m=c.firstChild;m;m=m.nextSibling)d!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||h.appendChild(o(m,d));return c.nodeType===1&&(c.nodeName==="CANVAS"?(h.width=c.width,h.height=c.height,h.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(h.value=c.value),h.addEventListener("load",function(){h.scrollTop=c.scrollTop,h.scrollLeft=c.scrollLeft},!0)),h},l=function o(c){var d=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),h=o.convert(Promise.resolve(),d);return(h=h.setProgress(1,o,1,[o])).set(c)};(l.prototype=Object.create(Promise.prototype)).constructor=l,l.convert=function(o,c){return o.__proto__=c||l.prototype,o},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},l.prototype.from=function(o,c){return this.then(function(){switch(c=c||(function(d){switch(a(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(o),c){case"string":return this.then(s).then(function(d){return this.set({src:n("div",{innerHTML:o,dompurify:d})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},l.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=n("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=n("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(n("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},l.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(c){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,c(this.prop.container,d)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},l.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(c){var d=this.opt.jsPDF,h=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=h,h)for(var x=0;x<h.length;++x){var v=h[x],y=v.src.find(function(b){return b.format==="truetype"});y&&d.addFont(y.url,v.ref.name,v.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,d.context2d.save(!0),c(this.prop.container,p)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},l.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},l.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},l.prototype.output=function(o,c,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(o,c):this.outputPdf(o,c)},l.prototype.outputPdf=function(o,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,c)})},l.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},l.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},l.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},l.prototype.set=function(o){if(a(o)!=="object")return this;var c=Object.keys(o||{}).map(function(d){if(d in l.template.prop)return function(){this.prop[d]=o[d]};switch(d){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[d]=o[d]}}},this);return this.then(function(){return this.thenList(c)})},l.prototype.get=function(o,c){return this.then(function(){var d=o in l.template.prop?this.prop[o]:this.opt[o];return c?c(d):d})},l.prototype.setMargin=function(o){return this.then(function(){switch(a(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},l.prototype.setPageSize=function(o){function c(d,h){return Math.floor(d*h/72*96)}return this.then(function(){(o=o||nr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:c(o.inner.width,o.k),height:c(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},l.prototype.setProgress=function(o,c,d,h){return o!=null&&(this.progress.val=o),c!=null&&(this.progress.state=c),d!=null&&(this.progress.n=d),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(o,c,d,h){return this.setProgress(o?this.progress.val+o:null,c||null,d?this.progress.n+d:null,h?this.progress.stack.concat(h):null)},l.prototype.then=function(o,c){var d=this;return this.thenCore(o,c,function(h,m){return d.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(p){return d.updateProgress(null,h),p}).then(h,m).then(function(p){return d.updateProgress(1),p})})},l.prototype.thenCore=function(o,c,d){d=d||Promise.prototype.then;var h=this;o&&(o=o.bind(h)),c&&(c=c.bind(h));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?h:l.convert(Object.assign({},h),Promise.prototype),p=d.call(m,o,c);return l.convert(p,h.__proto__)},l.prototype.thenExternal=function(o,c){return Promise.prototype.then.call(this,o,c)},l.prototype.thenList=function(o){var c=this;return o.forEach(function(d){c=c.thenCore(d)}),c},l.prototype.catch=function(o){o&&(o=o.bind(this));var c=Promise.prototype.catch.call(this,o);return l.convert(c,this)},l.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},l.prototype.error=function(o){return this.then(function(){throw new Error(o)})},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,nr.getPageSize=function(o,c,d){if(ea(o)==="object"){var h=o;o=h.orientation,c=h.unit||c,d=h.format||d}c=c||"mm",d=d||"a4",o=(""+(o||"P")).toLowerCase();var m,p=(""+d).toLowerCase(),x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+c}var v,y=0,b=0;if(x.hasOwnProperty(p))y=x[p][1]/m,b=x[p][0]/m;else try{y=d[1],b=d[0]}catch{throw new Error("Invalid format: "+d)}if(o==="p"||o==="portrait")o="p",b>y&&(v=b,b=y,y=v);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",y>b&&(v=b,b=y,y=v)}return{width:b,height:y,unit:c,k:m,orientation:o}},e.html=function(o,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(K_):null;var d=new l(c);return c.worker?d:d.from(o).doCallback()}})(nr.API),nr.API.addJS=function(e){var t,s,a=e;return this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(t+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),s=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+a+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){t!==void 0&&s!==void 0&&this.internal.out("/Names <</JavaScript "+t+" 0 R>>")}),this},(function(e){var t;e.events.push(["postPutResources",function(){var s=this,a=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var n=s.outline.render().split(/\r\n/),i=0;i<n.length;i++){var l=n[i],o=a.exec(l);if(o!=null){var c=o[1];s.internal.newObjectDeferredBegin(c,!1)}s.internal.write(l)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,h=[];for(i=0;i<d;i++){var m=s.internal.newObject();h.push(m);var p=s.internal.getPageInfo(i+1);s.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var x=s.internal.newObject();for(s.internal.write("<< /Names [ "),i=0;i<h.length;i++)s.internal.write("(page_"+(i+1)+")"+h[i]+" 0 R");s.internal.write(" ] >>","endobj"),t=s.internal.newObject(),s.internal.write("<< /Dests "+x+" 0 R"),s.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var s=this;s.outline.root.children.length>0&&(s.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&s.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var s=this;s.outline={createNamedDestinations:!1,root:{children:[]}},s.outline.add=function(a,n,i){var l={title:n,options:i,children:[]};return a==null&&(a=this.root),a.children.push(l),l},s.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=s,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},s.outline.genIds_r=function(a){a.id=s.internal.newObjectDeferred();for(var n=0;n<a.children.length;n++)this.genIds_r(a.children[n])},s.outline.renderRoot=function(a){this.objStart(a),this.line("/Type /Outlines"),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1]))),this.line("/Count "+this.count_r({count:0},a)),this.objEnd()},s.outline.renderItems=function(a){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<a.children.length;i++){var l=a.children[i];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(a)),i>0&&this.line("/Prev "+this.makeRef(a.children[i-1])),i<a.children.length-1&&this.line("/Next "+this.makeRef(a.children[i+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var o=this.count=this.count_r({count:0},l);if(o>0&&this.line("/Count "+o),l.options&&l.options.pageNumber){var c=s.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var d=0;d<a.children.length;d++)this.renderItems(a.children[d])},s.outline.line=function(a){this.ctx.val+=a+`\r
`},s.outline.makeRef=function(a){return a.id+" 0 R"},s.outline.makeString=function(a){return"("+s.internal.pdfEscape(a)+")"},s.outline.objStart=function(a){this.ctx.val+=`\r
`+a.id+` 0 obj\r
<<\r
`},s.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},s.outline.count_r=function(a,n){for(var i=0;i<n.children.length;i++)a.count++,this.count_r(a,n.children[i]);return a.count}}])})(nr.API),(function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(s,a,n,i,l,o){var c,d=this.decode.DCT_DECODE,h=null;if(typeof s=="string"||this.__addimage__.isArrayBuffer(s)||this.__addimage__.isArrayBufferView(s)){switch(s=l||s,s=this.__addimage__.isArrayBuffer(s)?new Uint8Array(s):s,c=(function(m){for(var p,x=256*m.charCodeAt(4)+m.charCodeAt(5),v=m.length,y={width:0,height:0,numcomponents:1},b=4;b<v;b+=2){if(b+=x,t.indexOf(m.charCodeAt(b+1))!==-1){p=256*m.charCodeAt(b+5)+m.charCodeAt(b+6),y={width:256*m.charCodeAt(b+7)+m.charCodeAt(b+8),height:p,numcomponents:m.charCodeAt(b+9)};break}x=256*m.charCodeAt(b+2)+m.charCodeAt(b+3)}return y})(s=this.__addimage__.isArrayBufferView(s)?this.__addimage__.arrayBufferToBinaryString(s):s),c.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}h={data:s,width:c.width,height:c.height,colorSpace:o,bitsPerComponent:8,filter:d,index:a,alias:n}}return h}})(nr.API),nr.API.processPNG=function(e,t,s,a){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var n,i=YEe(e,{checkCrc:!0}),l=i.width,o=i.height,c=i.channels,d=i.palette,h=i.depth;n=d&&c===1?(function(F){for(var I=F.width,U=F.height,M=F.data,L=F.palette,J=F.depth,K=!1,ae=[],V=[],re=void 0,X=!1,Z=0,ye=0;ye<L.length;ye++){var te=_I(L[ye],4),D=te[0],H=te[1],q=te[2],W=te[3];ae.push(D,H,q),W!=null&&(W===0?(Z++,V.length<1&&V.push(ye)):W<255&&(X=!0))}if(X||Z>1){K=!0,V=void 0;var G=I*U;re=new Uint8Array(G);for(var fe=new DataView(M.buffer),Se=0;Se<G;Se++){var se=X_(fe,Se,J),ge=_I(L[se],4)[3];re[Se]=ge}}else Z===0&&(V=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:K?8:void 0,colorBytes:M,alphaBytes:re,needSMask:K,palette:ae,mask:V}})(i):c===2||c===4?(function(F){for(var I=F.data,U=F.width,M=F.height,L=F.channels,J=F.depth,K=L===2?"DeviceGray":"DeviceRGB",ae=L-1,V=U*M,re=ae,X=V*re,Z=1*V,ye=Math.ceil(X*J/8),te=Math.ceil(Z*J/8),D=new Uint8Array(ye),H=new Uint8Array(te),q=new DataView(I.buffer),W=new DataView(D.buffer),G=new DataView(H.buffer),fe=!1,Se=0;Se<V;Se++){for(var se=Se*L,ge=0;ge<re;ge++)C9(W,X_(q,se+ge,J),Se*re+ge,J);var Be=X_(q,se+re,J);Be<(1<<J)-1&&(fe=!0),C9(G,Be,1*Se,J)}return{colorSpace:K,colorsPerPixel:ae,sMaskBitsPerComponent:fe?J:void 0,colorBytes:D,alphaBytes:H,needSMask:fe}})(i):(function(F){var I=F.data,U=F.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:U,colorsPerPixel:U==="DeviceGray"?1:3,colorBytes:I instanceof Uint16Array?(function(M){for(var L=M.length,J=new Uint8Array(2*L),K=new DataView(J.buffer,J.byteOffset,J.byteLength),ae=0;ae<L;ae++)K.setUint16(2*ae,M[ae],!1);return J})(I):I,needSMask:!1}})(i);var m,p,x,v=n,y=v.colorSpace,b=v.colorsPerPixel,j=v.sMaskBitsPerComponent,S=v.colorBytes,w=v.alphaBytes,k=v.needSMask,_=v.palette,O=v.mask,E=null;return a!==nr.API.image_compression.NONE&&typeof a6=="function"?(E=(function(F){var I;switch(F){case nr.API.image_compression.FAST:I=11;break;case nr.API.image_compression.MEDIUM:I=13;break;case nr.API.image_compression.SLOW:I=14;break;default:I=12}return I})(a),m=this.decode.FLATE_DECODE,p="/Predictor ".concat(E," /Colors ").concat(b," /BitsPerComponent ").concat(h," /Columns ").concat(l),e=w9(S,Math.ceil(l*b*h/8),b,h,a),k&&(x=w9(w,Math.ceil(l*j/8),1,j,a))):(m=void 0,p=void 0,e=S,k&&(x=w)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(x&&this.__addimage__.isArrayBuffer(x)||this.__addimage__.isArrayBufferView(x))&&(x=this.__addimage__.arrayBufferToBinaryString(x)),{alias:s,data:e,index:t,filter:m,decodeParameters:p,transparency:O,palette:_,sMask:x,predictor:E,width:l,height:o,bitsPerComponent:h,sMaskBitsPerComponent:j,colorSpace:y}}},(function(e){e.processGIF89A=function(t,s,a,n){var i=new pPe(t),l=i.width,o=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:l,height:o},h=new Z_(100).encode(d,100);return e.processJPEG.call(this,h,s,a,n)},e.processGIF87A=e.processGIF89A})(nr.API),Rd.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:n,green:a,blue:s,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Rd.prototype.parseBGR=function(){this.pos=this.offset;var e="bit"+this.bitPP,t=this.width*this.height*4;if(t>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(t);try{this[e]()}catch(s){ga.log("bit decode error:"+s)}},Rd.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),s=t%4;for(e=this.height-1;e>=0;e--){for(var a=this.bottom_up?e:this.height-1-e,n=0;n<t;n++)for(var i=this.datav.getUint8(this.pos++,!0),l=a*this.width*4+8*n*4,o=0;o<8&&8*n+o<this.width;o++){var c=this.palette[i>>7-o&1];this.data[l+4*o]=c.blue,this.data[l+4*o+1]=c.green,this.data[l+4*o+2]=c.red,this.data[l+4*o+3]=255}s!==0&&(this.pos+=4-s)}},Rd.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,s=this.height-1;s>=0;s--){for(var a=this.bottom_up?s:this.height-1-s,n=0;n<e;n++){var i=this.datav.getUint8(this.pos++,!0),l=a*this.width*4+2*n*4,o=i>>4,c=15&i,d=this.palette[o];if(this.data[l]=d.blue,this.data[l+1]=d.green,this.data[l+2]=d.red,this.data[l+3]=255,2*n+1>=this.width)break;d=this.palette[c],this.data[l+4]=d.blue,this.data[l+4+1]=d.green,this.data[l+4+2]=d.red,this.data[l+4+3]=255}t!==0&&(this.pos+=4-t)}},Rd.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var s=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var n=this.datav.getUint8(this.pos++,!0),i=s*this.width*4+4*a;if(n<this.palette.length){var l=this.palette[n];this.data[i]=l.red,this.data[i+1]=l.green,this.data[i+2]=l.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},Rd.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),s=this.height-1;s>=0;s--){for(var a=this.bottom_up?s:this.height-1-s,n=0;n<this.width;n++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(i&t)/t*255|0,o=(i>>5&t)/t*255|0,c=(i>>10&t)/t*255|0,d=i>>15?255:0,h=a*this.width*4+4*n;this.data[h]=c,this.data[h+1]=o,this.data[h+2]=l,this.data[h+3]=d}this.pos+=e}},Rd.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),s=parseInt("111111",2),a=this.height-1;a>=0;a--){for(var n=this.bottom_up?a:this.height-1-a,i=0;i<this.width;i++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(l&t)/t*255|0,c=(l>>5&s)/s*255|0,d=(l>>11)/t*255|0,h=n*this.width*4+4*i;this.data[h]=d,this.data[h+1]=c,this.data[h+2]=o,this.data[h+3]=255}this.pos+=e}},Rd.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,s=0;s<this.width;s++){var a=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*s;this.data[l]=i,this.data[l+1]=n,this.data[l+2]=a,this.data[l+3]=255}this.pos+=this.width%4}},Rd.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,s=0;s<this.width;s++){var a=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*s;this.data[o]=i,this.data[o+1]=n,this.data[o+2]=a,this.data[o+3]=l}},Rd.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(t,s,a,n){var i=new Rd(t,!1),l=i.width,o=i.height,c={data:i.getData(),width:l,height:o},d=new Z_(100).encode(c,100);return e.processJPEG.call(this,d,s,a,n)}})(nr.API),E9.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(t,s,a,n){var i=new E9(t),l=i.width,o=i.height,c={data:i.getData(),width:l,height:o},d=new Z_(100).encode(c,100);return e.processJPEG.call(this,d,s,a,n)}})(nr.API),nr.API.processRGBA=function(e,t,s){for(var a=e.data,n=a.length,i=new Uint8Array(n/4*3),l=new Uint8Array(n/4),o=0,c=0,d=0;d<n;d+=4){var h=a[d],m=a[d+1],p=a[d+2],x=a[d+3];i[o++]=h,i[o++]=m,i[o++]=p,l[c++]=x}var v=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:v,index:t,alias:s,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},nr.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ap=nr.API,M2=Ap.getCharWidthsArray=function(e,t){var s,a,n=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),l=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:n.metadata.Unicode.widths,c=o.fof?o.fof:1,d=t.kerning?t.kerning:n.metadata.Unicode.kerning,h=d.fof?d.fof:1,m=t.doKerning!==!1,p=0,x=e.length,v=0,y=o[0]||c,b=[];for(s=0;s<x;s++)a=e.charCodeAt(s),typeof n.metadata.widthOfString=="function"?b.push((n.metadata.widthOfGlyph(n.metadata.characterToGlyph(a))+l*(1e3/i)||0)/1e3):(p=m&&ea(d[a])==="object"&&!isNaN(parseInt(d[a][v],10))?d[a][v]/h:0,b.push((o[a]||y)/c+p)),v=a;return b},b9=Ap.getStringUnitWidth=function(e,t){var s=(t=t||{}).fontSize||this.internal.getFontSize(),a=t.font||this.internal.getFont(),n=t.charSpace||this.internal.getCharSpace();return Ap.processArabic&&(e=Ap.processArabic(e)),typeof a.metadata.widthOfString=="function"?a.metadata.widthOfString(e,s,n)/s:M2.apply(this,arguments).reduce(function(i,l){return i+l},0)},j9=function(e,t,s,a){for(var n=[],i=0,l=e.length,o=0;i!==l&&o+t[i]<s;)o+=t[i],i++;n.push(e.slice(0,i));var c=i;for(o=0;i!==l;)o+t[i]>a&&(n.push(e.slice(c,i)),o=0,c=i),o+=t[i],i++;return c!==i&&n.push(e.slice(c,i)),n},N9=function(e,t,s){s||(s={});var a,n,i,l,o,c,d,h=[],m=[h],p=s.textIndent||0,x=0,v=0,y=e.split(" "),b=M2.apply(this,[" ",s])[0];if(c=s.lineIndent===-1?y[0].length+2:s.lineIndent||0){var j=Array(c).join(" "),S=[];y.map(function(k){(k=k.split(/\s*\n/)).length>1?S=S.concat(k.map(function(_,O){return(O&&_.length?`
`:"")+_})):S.push(k[0])}),y=S,c=b9.apply(this,[j,s])}for(i=0,l=y.length;i<l;i++){var w=0;if(a=y[i],c&&a[0]==`
`&&(a=a.substr(1),w=1),p+x+(v=(n=M2.apply(this,[a,s])).reduce(function(k,_){return k+_},0))>t||w){if(v>t){for(o=j9.apply(this,[a,n,t-(p+x),t]),h.push(o.shift()),h=[o.pop()];o.length;)m.push([o.shift()]);v=n.slice(a.length-(h[0]?h[0].length:0)).reduce(function(k,_){return k+_},0)}else h=[a];m.push(h),p=v+c,x=b}else h.push(a),p+=x+v,x=b}return d=c?function(k,_){return(_?j:"")+k.join(" ")}:function(k){return k.join(" ")},m.map(d)},Ap.splitTextToSize=function(e,t,s){var a,n=(s=s||{}).fontSize||this.internal.getFontSize(),i=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var m=this.internal.getFont(h.fontName,h.fontStyle),p="Unicode";return m.metadata[p]?{widths:m.metadata[p].widths||{0:1},kerning:m.metadata[p].kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,s);a=Array.isArray(e)?e:String(e).split(/\r?\n/);var l=1*this.internal.scaleFactor*t/n;i.textIndent=s.textIndent?1*s.textIndent*this.internal.scaleFactor/n:0,i.lineIndent=s.lineIndent;var o,c,d=[];for(o=0,c=a.length;o<c;o++)d=d.concat(N9.apply(this,[a[o],l,i]));return d},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",s="klmnopqrstuvwxyz",a={},n={},i=0;i<16;i++)a[s[i]]=t[i],n[t[i]]=s[i];var l=function(p){return"0x"+parseInt(p,10).toString(16)},o=e.__fontmetrics__.compress=function(p){var x,v,y,b,j=["{"];for(var S in p){if(x=p[S],isNaN(parseInt(S,10))?v="'"+S+"'":(S=parseInt(S,10),v=(v=l(S).slice(2)).slice(0,-1)+n[v.slice(-1)]),typeof x=="number")x<0?(y=l(x).slice(3),b="-"):(y=l(x).slice(2),b=""),y=b+y.slice(0,-1)+n[y.slice(-1)];else{if(ea(x)!=="object")throw new Error("Don't know what to do with value type "+ea(x)+".");y=o(x)}j.push(v+y)}return j.push("}"),j.join("")},c=e.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var x,v,y,b,j={},S=1,w=j,k=[],_="",O="",E=p.length-1,F=1;F<E;F+=1)(b=p[F])=="'"?x?(y=x.join(""),x=void 0):x=[]:x?x.push(b):b=="{"?(k.push([w,y]),w={},y=void 0):b=="}"?((v=k.pop())[0][v[1]]=w,y=void 0,w=v[0]):b=="-"?S=-1:y===void 0?a.hasOwnProperty(b)?(_+=a[b],y=parseInt(_,16)*S,S=1,_=""):_+=b:a.hasOwnProperty(b)?(O+=a[b],w[y]=parseInt(O,16)*S,S=1,y=void 0,O=""):O+=b;return j},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},m={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(p){var x=p.font,v=m.Unicode[x.postScriptName];v&&(x.metadata.Unicode={},x.metadata.Unicode.widths=v.widths,x.metadata.Unicode.kerning=v.kerning);var y=h.Unicode[x.postScriptName];y&&(x.metadata.Unicode.encoding=y,x.encoding=y.codePages[0])}])})(nr.API),(function(e){var t=function(s){for(var a=s.length,n=new Uint8Array(a),i=0;i<a;i++)n[i]=s.charCodeAt(i);return n};e.API.events.push(["addFont",function(s){var a=void 0,n=s.font,i=s.instance;if(!n.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");if(typeof(a=i.existsFileInVFS(n.postScriptName)===!1?i.loadFile(n.postScriptName):i.getFileFromVFS(n.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");(function(l,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(Hj(o)),l.metadata=e.API.TTFFont.open(o),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(n,a)}}])})(nr),nr.API.addSvgAsImage=function(e,t,s,a,n,i,l,o){if(isNaN(t)||isNaN(s))throw ga.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(n))throw ga.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=a,c.height=n;var d=c.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,c.width,c.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return(Or.canvg?Promise.resolve(Or.canvg):Gc(()=>import("./index.es-GOJphchq.js"),[])).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(d,e,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(h)}).then(function(){m.addImage(c.toDataURL("image/jpeg",1),t,s,a,n,l,o)})},nr.API.putTotalPages=function(e){var t,s=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),s=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),s=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var a=1;a<=this.internal.getNumberOfPages();a++)for(var n=0;n<this.internal.pages[a].length;n++)this.internal.pages[a][n]=this.internal.pages[a][n].replace(t,s);return this},nr.API.viewerPreferences=function(e,t){var s;e=e||{},t=t||!1;var a,n,i,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(l),c=[],d=0,h=0,m=0;function p(v,y){var b,j=!1;for(b=0;b<v.length;b+=1)v[b]===y&&(j=!0);return j}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),s=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var x=o.length;for(m=0;m<x;m+=1)s[o[m]].value=s[o[m]].defaultValue,s[o[m]].explicitSet=!1}if(ea(e)==="object"){for(n in e)if(i=e[n],p(o,n)&&i!==void 0){if(s[n].type==="boolean"&&typeof i=="boolean")s[n].value=i;else if(s[n].type==="name"&&p(s[n].valueSet,i))s[n].value=i;else if(s[n].type==="integer"&&Number.isInteger(i))s[n].value=i;else if(s[n].type==="array"){for(d=0;d<i.length;d+=1)if(a=!0,i[d].length===1&&typeof i[d][0]=="number")c.push(String(i[d]-1));else if(i[d].length>1){for(h=0;h<i[d].length;h+=1)typeof i[d][h]!="number"&&(a=!1);a===!0&&c.push([i[d][0]-1,i[d][1]-1].join(" "))}s[n].value="["+c.join(" ")+"]"}else s[n].value=s[n].defaultValue;s[n].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,y=[];for(v in s)s[v].explicitSet===!0&&(s[v].type==="name"?y.push("/"+v+" /"+s[v].value):y.push("/"+v+" "+s[v].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=s,this},nr.API.addMetadata=function(e,t){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:e,namespaceUri:t??"http://jspdf.default.namespaceuri/",rawXml:typeof t=="boolean"&&t},this.internal.events.subscribe("putCatalog",vPe),this.internal.events.subscribe("postPutResources",gPe)),this},(function(e){var t=e.API,s=t.pdfEscape16=function(i,l){for(var o,c=l.metadata.Unicode.widths,d=["","0","00","000","0000"],h=[""],m=0,p=i.length;m<p;++m){if(o=l.metadata.characterToGlyph(i.charCodeAt(m)),l.metadata.glyIdsUsed.push(o),l.metadata.toUnicode[o]=i.charCodeAt(m),c.indexOf(o)==-1&&(c.push(o),c.push([parseInt(l.metadata.widthOfGlyph(o),10)])),o=="0")return h.join("");o=o.toString(16),h.push(d[4-o.length],o)}return h.join("")},a=function(i){var l,o,c,d,h,m,p;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],m=0,p=(o=Object.keys(i).sort(function(x,v){return x-v})).length;m<p;m++)l=o[m],c.length>=100&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[l]!==void 0&&i[l]!==null&&typeof i[l].toString=="function"&&(d=("0000"+i[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),c.push("<"+l+"><"+d+">"));return c.length&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),h+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(l){var o=l.font,c=l.out,d=l.newObject,h=l.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var m=o.metadata.Unicode.widths,p=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),x="",v=0;v<p.length;v++)x+=String.fromCharCode(p[v]);var y=d();h({data:x,addLength1:!0,objectId:y}),c("endobj");var b=d();h({data:a(o.metadata.toUnicode),addLength1:!0,objectId:b}),c("endobj");var j=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Fp(o.fontName)),c("/FontFile2 "+y+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),c("/Flags "+o.metadata.flags),c("/StemV "+o.metadata.stemV),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c(">>"),c("endobj");var S=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+Fp(o.fontName)),c("/FontDescriptor "+j+" 0 R"),c("/W "+e.API.PDFObject.convert(m)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+o.encoding+")"),c(">>"),c(">>"),c("endobj"),o.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+b+" 0 R"),c("/BaseFont /"+Fp(o.fontName)),c("/Encoding /"+o.encoding),c("/DescendantFonts ["+S+" 0 R]"),c(">>"),c("endobj"),o.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(l){var o=l.font,c=l.out,d=l.newObject,h=l.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var m=o.metadata.rawData,p="",x=0;x<m.length;x++)p+=String.fromCharCode(m[x]);var v=d();h({data:p,addLength1:!0,objectId:v}),c("endobj");var y=d();h({data:a(o.metadata.toUnicode),addLength1:!0,objectId:y}),c("endobj");var b=d();c("<<"),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c("/StemV "+o.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+v+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),c("/FontName /"+Fp(o.fontName)),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c(">>"),c("endobj"),o.objectNumber=d();for(var j=0;j<o.metadata.hmtx.widths.length;j++)o.metadata.hmtx.widths[j]=parseInt(o.metadata.hmtx.widths[j]*(1e3/o.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+Fp(o.fontName)+"/FontDescriptor "+b+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),c("endobj"),o.isAlreadyPutted=!0}})(i)}]);var n=function(i){var l,o=i.text||"",c=i.x,d=i.y,h=i.options||{},m=i.mutex||{},p=m.pdfEscape,x=m.activeFontKey,v=m.fonts,y=x,b="",j=0,S="",w=v[y].encoding;if(v[y].encoding!=="Identity-H")return{text:o,x:c,y:d,options:h,mutex:m};for(S=o,y=x,Array.isArray(o)&&(S=o[0]),j=0;j<S.length;j+=1)v[y].metadata.hasOwnProperty("cmap")&&(l=v[y].metadata.cmap.unicode.codeMap[S[j].charCodeAt(0)]),l||S[j].charCodeAt(0)<256&&v[y].metadata.hasOwnProperty("Unicode")?b+=S[j]:b+="";var k="";return parseInt(y.slice(1))<14||w==="WinAnsiEncoding"?k=p(b,y).split("").map(function(_){return _.charCodeAt(0).toString(16)}).join(""):w==="Identity-H"&&(k=s(b,v[y])),m.isHex=!0,{text:k,x:c,y:d,options:h,mutex:m}};t.events.push(["postProcessText",function(i){var l=i.text||"",o=[],c={text:l,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(l)){var d=0;for(d=0;d<l.length;d+=1)Array.isArray(l[d])&&l[d].length===3?o.push([n(Object.assign({},c,{text:l[d][0]})).text,l[d][1],l[d][2]]):o.push(n(Object.assign({},c,{text:l[d]})).text);i.text=o}else i.text=n(Object.assign({},c,{text:l})).text}])})(nr),(function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(s){return t.call(this),this.internal.vFS[s]!==void 0},e.addFileToVFS=function(s,a){return t.call(this),this.internal.vFS[s]=a,this},e.getFileFromVFS=function(s){return t.call(this),this.internal.vFS[s]!==void 0?this.internal.vFS[s]:null}})(nr.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(a){var n,i,l,o,c,d,h,m=t,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],x=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},b=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],j=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),S=!1,w=0;this.__bidiEngine__={};var k=function(M){var L=M.charCodeAt(),J=L>>8,K=y[J];return K!==void 0?m[256*K+(255&L)]:J===252||J===253?"AL":j.test(J)?"L":J===8?"R":"N"},_=function(M){for(var L,J=0;J<M.length;J++){if((L=k(M.charAt(J)))==="L")return!1;if(L==="R")return!0}return!1},O=function(M,L,J,K){var ae,V,re,X,Z=L[K];switch(Z){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":S=!1;break;case"N":case"AN":break;case"EN":S&&(Z="AN");break;case"AL":S=!0,Z="R";break;case"WS":case"BN":Z="N";break;case"CS":K<1||K+1>=L.length||(ae=J[K-1])!=="EN"&&ae!=="AN"||(V=L[K+1])!=="EN"&&V!=="AN"?Z="N":S&&(V="AN"),Z=V===ae?V:"N";break;case"ES":Z=(ae=K>0?J[K-1]:"B")==="EN"&&K+1<L.length&&L[K+1]==="EN"?"EN":"N";break;case"ET":if(K>0&&J[K-1]==="EN"){Z="EN";break}if(S){Z="N";break}for(re=K+1,X=L.length;re<X&&L[re]==="ET";)re++;Z=re<X&&L[re]==="EN"?"EN":"N";break;case"NSM":if(l&&!o){for(X=L.length,re=K+1;re<X&&L[re]==="NSM";)re++;if(re<X){var ye=M[K],te=ye>=1425&&ye<=2303||ye===64286;if(ae=L[re],te&&(ae==="R"||ae==="AL")){Z="R";break}}}Z=K<1||(ae=L[K-1])==="B"?"N":J[K-1];break;case"B":S=!1,n=!0,Z=w;break;case"S":i=!0,Z="N"}return Z},E=function(M,L,J){var K=M.split("");return J&&F(K,J,{hiLevel:w}),K.reverse(),L&&L.reverse(),K.join("")},F=function(M,L,J){var K,ae,V,re,X,Z=-1,ye=M.length,te=0,D=[],H=w?x:p,q=[];for(S=!1,n=!1,i=!1,ae=0;ae<ye;ae++)q[ae]=k(M[ae]);for(V=0;V<ye;V++){if(X=te,D[V]=O(M,q,D,V),K=240&(te=H[X][v[D[V]]]),te&=15,L[V]=re=H[te][5],K>0)if(K===16){for(ae=Z;ae<V;ae++)L[ae]=1;Z=-1}else Z=-1;if(H[te][6])Z===-1&&(Z=V);else if(Z>-1){for(ae=Z;ae<V;ae++)L[ae]=re;Z=-1}q[V]==="B"&&(L[V]=0),J.hiLevel|=re}i&&(function(W,G,fe){for(var Se=0;Se<fe;Se++)if(W[Se]==="S"){G[Se]=w;for(var se=Se-1;se>=0&&W[se]==="WS";se--)G[se]=w}})(q,L,ye)},I=function(M,L,J,K,ae){if(!(ae.hiLevel<M)){if(M===1&&w===1&&!n)return L.reverse(),void(J&&J.reverse());for(var V,re,X,Z,ye=L.length,te=0;te<ye;){if(K[te]>=M){for(X=te+1;X<ye&&K[X]>=M;)X++;for(Z=te,re=X-1;Z<re;Z++,re--)V=L[Z],L[Z]=L[re],L[re]=V,J&&(V=J[Z],J[Z]=J[re],J[re]=V);te=X}te++}}},U=function(M,L,J){var K=M.split(""),ae={hiLevel:w};return J||(J=[]),F(K,J,ae),(function(V,re,X){if(X.hiLevel!==0&&h)for(var Z,ye=0;ye<V.length;ye++)re[ye]===1&&(Z=b.indexOf(V[ye]))>=0&&(V[ye]=b[Z+1])})(K,J,ae),I(2,K,L,J,ae),I(1,K,L,J,ae),K.join("")};return this.__bidiEngine__.doBidiReorder=function(M,L,J){if((function(ae,V){if(V)for(var re=0;re<ae.length;re++)V[re]=re;o===void 0&&(o=_(ae)),d===void 0&&(d=_(ae))})(M,L),l||!c||d)if(l&&c&&o^d)w=o?1:0,M=E(M,L,J);else if(!l&&c&&d)w=o?1:0,M=U(M,L,J),M=E(M,L);else if(!l||o||c||d){if(l&&!c&&o^d)M=E(M,L),o?(w=0,M=U(M,L,J)):(w=1,M=U(M,L,J),M=E(M,L));else if(l&&o&&!c&&d)w=1,M=U(M,L,J),M=E(M,L);else if(!l&&!c&&o^d){var K=h;o?(w=1,M=U(M,L,J),w=0,h=!1,M=U(M,L,J),h=K):(w=0,M=U(M,L,J),M=E(M,L),w=1,h=!1,M=U(M,L,J),h=K,M=E(M,L))}}else w=0,M=U(M,L,J);else w=o?1:0,M=U(M,L,J);return M},this.__bidiEngine__.setOptions=function(M){M&&(l=M.isInputVisual,c=M.isOutputVisual,o=M.isInputRtl,d=M.isOutputRtl,h=M.isSymmetricSwapping)},this.__bidiEngine__.setOptions(a),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],s=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(a){var n=a.text;a.x,a.y;var i=a.options||{};a.mutex,i.lang;var l=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,s.setOptions(i),Object.prototype.toString.call(n)==="[object Array]"){var o=0;for(l=[],o=0;o<n.length;o+=1)Object.prototype.toString.call(n[o])==="[object Array]"?l.push([s.doBidiReorder(n[o][0]),n[o][1],n[o][2]]):l.push([s.doBidiReorder(n[o])]);a.text=l}else a.text=s.doBidiReorder(n);s.setOptions({isInputVisual:!0})}])})(nr),nr.API.TTFFont=(function(){function e(t){var s;if(this.rawData=t,s=this.contents=new Cm(t),this.contents.pos=4,s.readString(4)==="ttcf")throw new Error("TTCF not supported.");s.pos=0,this.parse(),this.subset=new DPe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new yPe(this.contents),this.head=new jPe(this),this.name=new kPe(this),this.cmap=new jY(this),this.toUnicode={},this.hhea=new NPe(this),this.maxp=new APe(this),this.hmtx=new CPe(this),this.post=new SPe(this),this.os2=new wPe(this),this.loca=new OPe(this),this.glyf=new TPe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,s,a,n,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,o,c,d;for(d=[],l=0,o=(c=this.bbox).length;l<o;l++)t=c[l],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(a=255&(n=this.post.italic_angle),32768&(s=n>>16)&&(s=-(1+(65535^s))),this.italicAngle=+(s+"."+a)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var s;return((s=this.cmap.unicode)!=null?s.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var s;return s=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*s},e.prototype.widthOfString=function(t,s,a){var n,i,l,o;for(l=0,i=0,o=(t=""+t).length;0<=o?i<o:i>o;i=0<=o?++i:--i)n=t.charCodeAt(i),l+=this.widthOfGlyph(this.characterToGlyph(n))+a*(1e3/s)||0;return l*(s/1e3)},e.prototype.lineHeight=function(t,s){var a;return s==null&&(s=!1),a=s?this.lineGap:0,(this.ascender+a-this.decender)/1e3*t},e})();var Qd,Cm=(function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var s,a;for(a=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)a[s]=String.fromCharCode(this.readByte());return a.join("")},e.prototype.writeString=function(t){var s,a,n;for(n=[],s=0,a=t.length;0<=a?s<a:s>a;s=0<=a?++s:--s)n.push(this.writeByte(t.charCodeAt(s)));return n},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,s,a,n,i,l,o,c;return t=this.readByte(),s=this.readByte(),a=this.readByte(),n=this.readByte(),i=this.readByte(),l=this.readByte(),o=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^s)+1099511627776*(255^a)+4294967296*(255^n)+16777216*(255^i)+65536*(255^l)+256*(255^o)+(255^c)+1):72057594037927940*t+281474976710656*s+1099511627776*a+4294967296*n+16777216*i+65536*l+256*o+c},e.prototype.writeLongLong=function(t){var s,a;return s=Math.floor(t/4294967296),a=4294967295&t,this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s),this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var s,a;for(s=[],a=0;0<=t?a<t:a>t;a=0<=t?++a:--a)s.push(this.readByte());return s},e.prototype.write=function(t){var s,a,n,i;for(i=[],a=0,n=t.length;a<n;a++)s=t[a],i.push(this.writeByte(s));return i},e})(),yPe=(function(){var e;function t(s){var a,n,i;for(this.scalarType=s.readInt(),this.tableCount=s.readShort(),this.searchRange=s.readShort(),this.entrySelector=s.readShort(),this.rangeShift=s.readShort(),this.tables={},n=0,i=this.tableCount;0<=i?n<i:n>i;n=0<=i?++n:--n)a={tag:s.readString(4),checksum:s.readInt(),offset:s.readInt(),length:s.readInt()},this.tables[a.tag]=a}return t.prototype.encode=function(s){var a,n,i,l,o,c,d,h,m,p,x,v,y;for(y in x=Object.keys(s).length,c=Math.log(2),m=16*Math.floor(Math.log(x)/c),l=Math.floor(m/c),h=16*x-m,(n=new Cm).writeInt(this.scalarType),n.writeShort(x),n.writeShort(m),n.writeShort(l),n.writeShort(h),i=16*x,d=n.pos+i,o=null,v=[],s)for(p=s[y],n.writeString(y),n.writeInt(e(p)),n.writeInt(d),n.writeInt(p.length),v=v.concat(p),y==="head"&&(o=d),d+=p.length;d%4;)v.push(0),d++;return n.write(v),a=2981146554-e(n.data),n.pos=o+8,n.writeUInt32(a),n.data},e=function(s){var a,n,i,l;for(s=NY.call(s);s.length%4;)s.push(0);for(i=new Cm(s),n=0,a=0,l=s.length;a<l;a=a+=4)n+=i.readUInt32();return 4294967295&n},t})(),bPe={}.hasOwnProperty,Xu=function(e,t){for(var s in t)bPe.call(t,s)&&(e[s]=t[s]);function a(){this.constructor=e}return a.prototype=t.prototype,e.prototype=new a,e.__super__=t.prototype,e};Qd=(function(){function e(t){var s;this.file=t,s=this.file.directory.tables[this.tag],this.exists=!!s,s&&(this.offset=s.offset,this.length=s.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var jPe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Xu(e,Qd),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var s;return(s=new Cm).writeInt(this.version),s.writeInt(this.revision),s.writeInt(this.checkSumAdjustment),s.writeInt(this.magicNumber),s.writeShort(this.flags),s.writeShort(this.unitsPerEm),s.writeLongLong(this.created),s.writeLongLong(this.modified),s.writeShort(this.xMin),s.writeShort(this.yMin),s.writeShort(this.xMax),s.writeShort(this.yMax),s.writeShort(this.macStyle),s.writeShort(this.lowestRecPPEM),s.writeShort(this.fontDirectionHint),s.writeShort(t),s.writeShort(this.glyphDataFormat),s.data},e})(),P9=(function(){function e(t,s){var a,n,i,l,o,c,d,h,m,p,x,v,y,b,j,S,w;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=s+t.readInt(),m=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(x=t.readUInt16(),p=x/2,t.pos+=6,i=(function(){var k,_;for(_=[],c=k=0;0<=p?k<p:k>p;c=0<=p?++k:--k)_.push(t.readUInt16());return _})(),t.pos+=2,y=(function(){var k,_;for(_=[],c=k=0;0<=p?k<p:k>p;c=0<=p?++k:--k)_.push(t.readUInt16());return _})(),d=(function(){var k,_;for(_=[],c=k=0;0<=p?k<p:k>p;c=0<=p?++k:--k)_.push(t.readUInt16());return _})(),h=(function(){var k,_;for(_=[],c=k=0;0<=p?k<p:k>p;c=0<=p?++k:--k)_.push(t.readUInt16());return _})(),n=(this.length-t.pos+this.offset)/2,o=(function(){var k,_;for(_=[],c=k=0;0<=n?k<n:k>n;c=0<=n?++k:--k)_.push(t.readUInt16());return _})(),c=j=0,w=i.length;j<w;c=++j)for(b=i[c],a=S=v=y[c];v<=b?S<=b:S>=b;a=v<=b?++S:--S)h[c]===0?l=a+d[c]:(l=o[h[c]/2+(a-v)-(p-c)]||0)!==0&&(l+=d[c]),this.codeMap[a]=65535&l}t.pos=m}return e.encode=function(t,s){var a,n,i,l,o,c,d,h,m,p,x,v,y,b,j,S,w,k,_,O,E,F,I,U,M,L,J,K,ae,V,re,X,Z,ye,te,D,H,q,W,G,fe,Se,se,ge,Be,ee;switch(K=new Cm,l=Object.keys(t).sort(function(at,nt){return at-nt}),s){case"macroman":for(y=0,b=(function(){var at=[];for(v=0;v<256;++v)at.push(0);return at})(),S={0:0},i={},ae=0,Z=l.length;ae<Z;ae++)S[se=t[n=l[ae]]]==null&&(S[se]=++y),i[n]={old:t[n],new:S[t[n]]},b[n]=S[t[n]];return K.writeUInt16(1),K.writeUInt16(0),K.writeUInt32(12),K.writeUInt16(0),K.writeUInt16(262),K.writeUInt16(0),K.write(b),{charMap:i,subtable:K.data,maxGlyphID:y+1};case"unicode":for(L=[],m=[],w=0,S={},a={},j=d=null,V=0,ye=l.length;V<ye;V++)S[_=t[n=l[V]]]==null&&(S[_]=++w),a[n]={old:_,new:S[_]},o=S[_]-n,j!=null&&o===d||(j&&m.push(j),L.push(n),d=o),j=n;for(j&&m.push(j),m.push(65535),L.push(65535),U=2*(I=L.length),F=2*Math.pow(Math.log(I)/Math.LN2,2),p=Math.log(F/2)/Math.LN2,E=2*I-F,c=[],O=[],x=[],v=re=0,te=L.length;re<te;v=++re){if(M=L[v],h=m[v],M===65535){c.push(0),O.push(0);break}if(M-(J=a[M].new)>=32768)for(c.push(0),O.push(2*(x.length+I-v)),n=X=M;M<=h?X<=h:X>=h;n=M<=h?++X:--X)x.push(a[n].new);else c.push(J-M),O.push(0)}for(K.writeUInt16(3),K.writeUInt16(1),K.writeUInt32(12),K.writeUInt16(4),K.writeUInt16(16+8*I+2*x.length),K.writeUInt16(0),K.writeUInt16(U),K.writeUInt16(F),K.writeUInt16(p),K.writeUInt16(E),fe=0,D=m.length;fe<D;fe++)n=m[fe],K.writeUInt16(n);for(K.writeUInt16(0),Se=0,H=L.length;Se<H;Se++)n=L[Se],K.writeUInt16(n);for(ge=0,q=c.length;ge<q;ge++)o=c[ge],K.writeUInt16(o);for(Be=0,W=O.length;Be<W;Be++)k=O[Be],K.writeUInt16(k);for(ee=0,G=x.length;ee<G;ee++)y=x[ee],K.writeUInt16(y);return{charMap:a,subtable:K.data,maxGlyphID:w+1}}},e})(),jY=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Xu(e,Qd),e.prototype.tag="cmap",e.prototype.parse=function(t){var s,a,n;for(t.pos=this.offset,this.version=t.readUInt16(),n=t.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)s=new P9(t,this.offset),this.tables.push(s),s.isUnicode&&this.unicode==null&&(this.unicode=s);return!0},e.encode=function(t,s){var a,n;return s==null&&(s="macroman"),a=P9.encode(t,s),(n=new Cm).writeUInt16(0),n.writeUInt16(1),a.table=n.data.concat(a.subtable),a},e})(),NPe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Xu(e,Qd),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e})(),wPe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Xu(e,Qd),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var s,a;for(a=[],s=0;s<10;++s)a.push(t.readByte());return a})(),this.charRange=(function(){var s,a;for(a=[],s=0;s<4;++s)a.push(t.readInt());return a})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var s,a;for(a=[],s=0;s<2;s=++s)a.push(t.readInt());return a})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e})(),SPe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Xu(e,Qd),e.prototype.tag="post",e.prototype.parse=function(t){var s,a,n;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(a=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],n=[];t.pos<this.offset+this.length;)s=t.readByte(),n.push(this.names.push(t.readString(s)));return n;case 151552:return a=t.readUInt16(),this.offsets=t.read(a);case 262144:return this.map=(function(){var l,o,c;for(c=[],i=l=0,o=this.file.maxp.numGlyphs;0<=o?l<o:l>o;i=0<=o?++l:--l)c.push(t.readUInt32());return c}).call(this)}},e})(),_Pe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},kPe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Xu(e,Qd),e.prototype.tag="name",e.prototype.parse=function(t){var s,a,n,i,l,o,c,d,h,m,p;for(t.pos=this.offset,t.readShort(),s=t.readShort(),o=t.readShort(),a=[],i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)a.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+o+t.readShort()});for(c={},i=h=0,m=a.length;h<m;i=++h)n=a[i],t.pos=n.offset,d=t.readString(n.length),l=new _Pe(d,n),c[p=n.nameID]==null&&(c[p]=[]),c[n.nameID].push(l);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e})(),APe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Xu(e,Qd),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e})(),CPe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Xu(e,Qd),e.prototype.tag="hmtx",e.prototype.parse=function(t){var s,a,n,i,l,o,c;for(t.pos=this.offset,this.metrics=[],s=0,o=this.file.hhea.numberOfMetrics;0<=o?s<o:s>o;s=0<=o?++s:--s)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(n=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,h;for(h=[],s=d=0;0<=n?d<n:d>n;s=0<=n?++d:--d)h.push(t.readInt16());return h})(),this.widths=(function(){var d,h,m,p;for(p=[],d=0,h=(m=this.metrics).length;d<h;d++)i=m[d],p.push(i.advance);return p}).call(this),a=this.widths[this.widths.length-1],c=[],s=l=0;0<=n?l<n:l>n;s=0<=n?++l:--l)c.push(this.widths.push(a));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e})(),NY=[].slice,TPe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Xu(e,Qd),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var s,a,n,i,l,o,c,d,h,m;return t in this.cache?this.cache[t]:(i=this.file.loca,s=this.file.contents,a=i.indexOf(t),(n=i.lengthOf(t))===0?this.cache[t]=null:(s.pos=this.offset+a,l=(o=new Cm(s.read(n))).readShort(),d=o.readShort(),m=o.readShort(),c=o.readShort(),h=o.readShort(),this.cache[t]=l===-1?new PPe(o,d,m,c,h):new EPe(o,l,d,m,c,h),this.cache[t]))},e.prototype.encode=function(t,s,a){var n,i,l,o,c;for(l=[],i=[],o=0,c=s.length;o<c;o++)n=t[s[o]],i.push(l.length),n&&(l=l.concat(n.encode(a)));return i.push(l.length),{table:l,offsets:i}},e})(),EPe=(function(){function e(t,s,a,n,i,l){this.raw=t,this.numberOfContours=s,this.xMin=a,this.yMin=n,this.xMax=i,this.yMax=l,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),PPe=(function(){function e(t,s,a,n,i){var l,o;for(this.raw=t,this.xMin=s,this.yMin=a,this.xMax=n,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;o=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&o;)l.pos+=1&o?4:2,128&o?l.pos+=8:64&o?l.pos+=4:8&o&&(l.pos+=2)}return e.prototype.encode=function(){var t,s,a;for(s=new Cm(NY.call(this.raw.data)),t=0,a=this.glyphIDs.length;t<a;++t)s.pos=this.glyphOffsets[t];return s.data},e})(),OPe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Xu(e,Qd),e.prototype.tag="loca",e.prototype.parse=function(t){var s,a;return t.pos=this.offset,s=this.file.head.indexToLocFormat,this.offsets=s===0?(function(){var n,i;for(i=[],a=0,n=this.length;a<n;a+=2)i.push(2*t.readUInt16());return i}).call(this):(function(){var n,i;for(i=[],a=0,n=this.length;a<n;a+=4)i.push(t.readUInt32());return i}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,s){for(var a=new Uint32Array(this.offsets.length),n=0,i=0,l=0;l<a.length;++l)if(a[l]=n,i<s.length&&s[i]==l){++i,a[l]=n;var o=this.offsets[l],c=this.offsets[l+1]-o;c>0&&(n+=c)}for(var d=new Array(4*a.length),h=0;h<a.length;++h)d[4*h+3]=255&a[h],d[4*h+2]=(65280&a[h])>>8,d[4*h+1]=(16711680&a[h])>>16,d[4*h]=(4278190080&a[h])>>24;return d},e})(),DPe=(function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,s,a,n,i;for(s in n=this.font.cmap.tables[0].codeMap,t={},i=this.subset)a=i[s],t[s]=n[a];return t},e.prototype.glyphsFor=function(t){var s,a,n,i,l,o,c;for(n={},l=0,o=t.length;l<o;l++)n[i=t[l]]=this.font.glyf.glyphFor(i);for(i in s=[],n)(a=n[i])!=null&&a.compound&&s.push.apply(s,a.glyphIDs);if(s.length>0)for(i in c=this.glyphsFor(s))a=c[i],n[i]=a;return n},e.prototype.encode=function(t,s){var a,n,i,l,o,c,d,h,m,p,x,v,y,b,j;for(n in a=jY.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(t),x={0:0},j=a.charMap)x[(c=j[n]).old]=c.new;for(v in p=a.maxGlyphID,l)v in x||(x[v]=p++);return h=(function(S){var w,k;for(w in k={},S)k[S[w]]=w;return k})(x),m=Object.keys(h).sort(function(S,w){return S-w}),y=(function(){var S,w,k;for(k=[],S=0,w=m.length;S<w;S++)o=m[S],k.push(h[o]);return k})(),i=this.font.glyf.encode(l,y,x),d=this.font.loca.encode(i.offsets,y),b={cmap:this.font.cmap.raw(),glyf:i.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(s)},this.font.os2.exists&&(b["OS/2"]=this.font.os2.raw()),this.font.directory.encode(b)},e})();nr.API.PDFObject=(function(){var e;function t(){}return e=function(s,a){return(Array(a+1).join("0")+s).slice(-a)},t.convert=function(s){var a,n,i,l;if(Array.isArray(s))return"["+(function(){var o,c,d;for(d=[],o=0,c=s.length;o<c;o++)a=s[o],d.push(t.convert(a));return d})().join(" ")+"]";if(typeof s=="string")return"/"+s;if(s?.isString)return"("+s+")";if(s instanceof Date)return"(D:"+e(s.getUTCFullYear(),4)+e(s.getUTCMonth(),2)+e(s.getUTCDate(),2)+e(s.getUTCHours(),2)+e(s.getUTCMinutes(),2)+e(s.getUTCSeconds(),2)+"Z)";if({}.toString.call(s)==="[object Object]"){for(n in i=["<<"],s)l=s[n],i.push("/"+n+" "+t.convert(l));return i.push(">>"),i.join(`
`)}return""+s},t})();const KE=Object.freeze(Object.defineProperty({__proto__:null,AcroFormAppearance:tr,AcroFormButton:xi,AcroFormCheckBox:Ty,AcroFormChoiceField:I0,AcroFormComboBox:U0,AcroFormEditBox:Ay,AcroFormListBox:B0,AcroFormPasswordField:Ey,AcroFormPushButton:Cy,AcroFormRadioButton:z0,AcroFormTextField:pm,GState:mb,ShadingPattern:lm,TilingPattern:k0,default:nr,jsPDF:nr},Symbol.toStringTag,{value:"Module"}));function wY(e,t,s,a,n){a=a||{};var i=1.15,l=n.internal.scaleFactor,o=n.internal.getFontSize()/l,c=n.getLineHeightFactor?n.getLineHeightFactor():i,d=o*c,h=/\r\n|\r|\n/g,m="",p=1;if((a.valign==="middle"||a.valign==="bottom"||a.halign==="center"||a.halign==="right")&&(m=typeof e=="string"?e.split(h):e,p=m.length||1),s+=o*(2-i),a.valign==="middle"?s-=p/2*d:a.valign==="bottom"&&(s-=p*d),a.halign==="center"||a.halign==="right"){var x=o;if(a.halign==="center"&&(x*=.5),m&&p>=1){for(var v=0;v<m.length;v++)n.text(m[v],t-n.getStringUnitWidth(m[v])*x,s),s+=d;return n}t-=n.getStringUnitWidth(e)*x}return a.halign==="justify"?n.text(e,t,s,{maxWidth:a.maxWidth||100,align:"justify"}):n.text(e,t,s),n}var O9={},ag=(function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,s){s===void 0&&(s=null),s?s.__autoTableDocumentDefaults=t:O9=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,s){var a,n,i;s===void 0&&(s=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var l=this.jsPDFDocument.internal.getFont(),o=l.fontStyle,c=l.fontName;if(t.font&&(c=t.font),t.fontStyle){o=t.fontStyle;var d=this.getFontList()[c];d&&d.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(d[0]),o=d[0])}if(this.jsPDFDocument.setFont(c,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!s){var h=e.unifyColor(t.fillColor);h&&(a=this.jsPDFDocument).setFillColor.apply(a,h),h=e.unifyColor(t.textColor),h&&(n=this.jsPDFDocument).setTextColor.apply(n,h),h=e.unifyColor(t.lineColor),h&&(i=this.jsPDFDocument).setDrawColor.apply(i,h),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,s,a){return this.jsPDFDocument.splitTextToSize(t,s,a)},e.prototype.rect=function(t,s,a,n,i){return this.jsPDFDocument.rect(t,s,a,n,i)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return O9||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e})(),h6=function(e,t){return h6=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(s[n]=a[n])},h6(e,t)};function SY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");h6(e,t);function s(){this.constructor=e}e.prototype=t===null?Object.create(t):(s.prototype=t.prototype,new s)}var _Y=(function(e){SY(t,e);function t(s){var a=e.call(this)||this;return a._element=s,a}return t})(Array);function RPe(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function MPe(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function pw(e,t,s){s.applyStyles(t,!0);var a=Array.isArray(e)?e:[e],n=a.map(function(i){return s.getTextWidth(i)}).reduce(function(i,l){return Math.max(i,l)},0);return n}function kY(e,t,s,a){var n=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:n,lineColor:i});var l=AY(n,!1);l&&e.rect(s.x,s.y,t.getWidth(e.pageSize().width),a.y-s.y,l)}function AY(e,t){var s=e>0,a=t||t===0;return s&&a?"DF":s?"S":a?"F":null}function X5(e,t){var s,a,n,i;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(s=e.left)!==null&&s!==void 0?s:t,top:(a=e.top)!==null&&a!==void 0?a:t,right:(n=e.right)!==null&&n!==void 0?n:t,bottom:(i=e.bottom)!==null&&i!==void 0?i:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function CY(e,t){var s=X5(t.settings.margin,0);return e.pageSize().width-(s.left+s.right)}function FPe(e,t,s,a,n){var i={},l=1.3333333333333333,o=J_(t,function(w){return n.getComputedStyle(w).backgroundColor});o!=null&&(i.fillColor=o);var c=J_(t,function(w){return n.getComputedStyle(w).color});c!=null&&(i.textColor=c);var d=IPe(a,s);d&&(i.cellPadding=d);var h="borderTopColor",m=l*s,p=a.borderTopWidth;if(a.borderBottomWidth===p&&a.borderRightWidth===p&&a.borderLeftWidth===p){var x=(parseFloat(p)||0)/m;x&&(i.lineWidth=x)}else i.lineWidth={top:(parseFloat(a.borderTopWidth)||0)/m,right:(parseFloat(a.borderRightWidth)||0)/m,bottom:(parseFloat(a.borderBottomWidth)||0)/m,left:(parseFloat(a.borderLeftWidth)||0)/m},i.lineWidth.top||(i.lineWidth.right?h="borderRightColor":i.lineWidth.bottom?h="borderBottomColor":i.lineWidth.left&&(h="borderLeftColor"));var v=J_(t,function(w){return n.getComputedStyle(w)[h]});v!=null&&(i.lineColor=v);var y=["left","right","center","justify"];y.indexOf(a.textAlign)!==-1&&(i.halign=a.textAlign),y=["middle","bottom","top"],y.indexOf(a.verticalAlign)!==-1&&(i.valign=a.verticalAlign);var b=parseInt(a.fontSize||"");isNaN(b)||(i.fontSize=b/l);var j=LPe(a);j&&(i.fontStyle=j);var S=(a.fontFamily||"").toLowerCase();return e.indexOf(S)!==-1&&(i.font=S),i}function LPe(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function J_(e,t){var s=TY(e,t);if(!s)return null;var a=s.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!a||!Array.isArray(a))return null;var n=[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])],i=parseInt(a[4]);return i===0||isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:n}function TY(e,t){var s=t(e);return s==="rgba(0, 0, 0, 0)"||s==="transparent"||s==="initial"||s==="inherit"?e.parentElement==null?null:TY(e.parentElement,t):s}function IPe(e,t){var s=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],a=96/(72/t),n=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=s.map(function(o){return parseInt(o||"0")/a}),l=X5(i,0);return n>l.top&&(l.top=n),n>l.bottom&&(l.bottom=n),l}function EY(e,t,s,a,n){var i,l;a===void 0&&(a=!1),n===void 0&&(n=!1);var o;typeof t=="string"?o=s.document.querySelector(t):o=t;var c=Object.keys(e.getFontList()),d=e.scaleFactor(),h=[],m=[],p=[];if(!o)return console.error("Html table could not be found with input: ",t),{head:h,body:m,foot:p};for(var x=0;x<o.rows.length;x++){var v=o.rows[x],y=(l=(i=v?.parentElement)===null||i===void 0?void 0:i.tagName)===null||l===void 0?void 0:l.toLowerCase(),b=BPe(c,d,s,v,a,n);b&&(y==="thead"?h.push(b):y==="tfoot"?p.push(b):m.push(b))}return{head:h,body:m,foot:p}}function BPe(e,t,s,a,n,i){for(var l=new _Y(a),o=0;o<a.cells.length;o++){var c=a.cells[o],d=s.getComputedStyle(c);if(n||d.display!=="none"){var h=void 0;i&&(h=FPe(e,c,t,d,s)),l.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:h,_element:c,content:UPe(c)})}}var m=s.getComputedStyle(a);if(l.length>0&&(n||m.display!=="none"))return l}function UPe(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(s){return s.trim()}).join(`
`),t.innerText||t.textContent||""}function zPe(e,t,s){for(var a=0,n=[e,t,s];a<n.length;a++){var i=n[a];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function Fh(e,t,s,a,n){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),l=1;l<arguments.length;l++){var o=arguments[l];if(o!=null)for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(i[c]=o[c])}return i}function YE(e,t){var s=new ag(e),a=s.getDocumentOptions(),n=s.getGlobalOptions();zPe(n,a,t);var i=Fh({},n,a,t),l;typeof window<"u"&&(l=window);var o=$Pe(n,a,t),c=HPe(n,a,t),d=qPe(s,i),h=WPe(s,i,l);return{id:t.tableId,content:h,hooks:c,styles:o,settings:d}}function $Pe(e,t,s){for(var a={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},n=function(c){if(c==="columnStyles"){var d=e[c],h=t[c],m=s[c];a.columnStyles=Fh({},d,h,m)}else{var p=[e,t,s],x=p.map(function(v){return v[c]||{}});a[c]=Fh({},x[0],x[1],x[2])}},i=0,l=Object.keys(a);i<l.length;i++){var o=l[i];n(o)}return a}function HPe(e,t,s){for(var a=[e,t,s],n={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,l=a;i<l.length;i++){var o=l[i];o.didParseCell&&n.didParseCell.push(o.didParseCell),o.willDrawCell&&n.willDrawCell.push(o.willDrawCell),o.didDrawCell&&n.didDrawCell.push(o.didDrawCell),o.willDrawPage&&n.willDrawPage.push(o.willDrawPage),o.didDrawPage&&n.didDrawPage.push(o.didDrawPage)}return n}function qPe(e,t){var s,a,n,i,l,o,c,d,h,m,p,x,v=X5(t.margin,40/e.scaleFactor()),y=(s=VPe(e,t.startY))!==null&&s!==void 0?s:v.top,b;t.showFoot===!0?b="everyPage":t.showFoot===!1?b="never":b=(a=t.showFoot)!==null&&a!==void 0?a:"everyPage";var j;t.showHead===!0?j="everyPage":t.showHead===!1?j="never":j=(n=t.showHead)!==null&&n!==void 0?n:"everyPage";var S=(i=t.useCss)!==null&&i!==void 0?i:!1,w=t.theme||(S?"plain":"striped"),k=!!t.horizontalPageBreak,_=(l=t.horizontalPageBreakRepeat)!==null&&l!==void 0?l:null;return{includeHiddenHtml:(o=t.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:S,theme:w,startY:y,margin:v,pageBreak:(c=t.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(d=t.rowPageBreak)!==null&&d!==void 0?d:"auto",tableWidth:(h=t.tableWidth)!==null&&h!==void 0?h:"auto",showHead:j,showFoot:b,tableLineWidth:(m=t.tableLineWidth)!==null&&m!==void 0?m:0,tableLineColor:(p=t.tableLineColor)!==null&&p!==void 0?p:200,horizontalPageBreak:k,horizontalPageBreakRepeat:_,horizontalPageBreakBehaviour:(x=t.horizontalPageBreakBehaviour)!==null&&x!==void 0?x:"afterAllRows"}}function VPe(e,t){var s=e.getLastAutoTable(),a=e.scaleFactor(),n=e.pageNumber(),i=!1;if(s&&s.startPageNumber){var l=s.startPageNumber+s.pageNumber-1;i=l===n}return typeof t=="number"?t:(t==null||t===!1)&&i&&s?.finalY!=null?s.finalY+20/a:null}function WPe(e,t,s){var a=t.head||[],n=t.body||[],i=t.foot||[];if(t.html){var l=t.includeHiddenHtml;if(s){var o=EY(e,t.html,s,l,t.useCss)||{};a=o.head||a,n=o.body||a,i=o.foot||a}else console.error("Cannot parse html in non browser environment")}var c=t.columns||GPe(a,n,i);return{columns:c,head:a,body:n,foot:i}}function GPe(e,t,s){var a=e[0]||t[0]||s[0]||[],n=[];return Object.keys(a).filter(function(i){return i!=="_element"}).forEach(function(i){var l=1,o;Array.isArray(a)?o=a[parseInt(i)]:o=a[i],typeof o=="object"&&!Array.isArray(o)&&(l=o?.colSpan||1);for(var c=0;c<l;c++){var d=void 0;Array.isArray(a)?d=n.length:d=i+(c>0?"_".concat(c):"");var h={dataKey:d};n.push(h)}}),n}var gw=(function(){function e(t,s,a){this.table=s,this.pageNumber=s.pageNumber,this.settings=s.settings,this.cursor=a,this.doc=t.getDocument()}return e})(),PY=(function(e){SY(t,e);function t(s,a,n,i,l,o){var c=e.call(this,s,a,o)||this;return c.cell=n,c.row=i,c.column=l,c.section=i.section,c}return t})(gw),OY=(function(){function e(t,s){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=s.columns,this.head=s.head,this.body=s.body,this.foot=s.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(s,a){return s+a.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(s,a){return s+a.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,s,a,n,i,l){for(var o=0,c=s;o<c.length;o++){var d=c[o],h=new PY(t,this,a,n,i,l),m=d(h)===!1;if(a.text=Array.isArray(a.text)?a.text:[a.text],m)return!1}return!0},e.prototype.callEndPageHooks=function(t,s){t.applyStyles(t.userStyles);for(var a=0,n=this.hooks.didDrawPage;a<n.length;a++){var i=n[a];i(new gw(t,this,s))}},e.prototype.callWillDrawPageHooks=function(t,s){for(var a=0,n=this.hooks.willDrawPage;a<n.length;a++){var i=n[a];i(new gw(t,this,s))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var s=this.columns.reduce(function(n,i){return n+i.wrappedWidth},0);return s}else{var a=this.settings.margin;return t-a.left-a.right}},e})(),XE=(function(){function e(t,s,a,n,i){i===void 0&&(i=!1),this.height=0,this.raw=t,t instanceof _Y&&(this.raw=t._element,this.element=t._element),this.index=s,this.section=a,this.cells=n,this.spansMultiplePages=i}return e.prototype.getMaxCellHeight=function(t){var s=this;return t.reduce(function(a,n){var i;return Math.max(a,((i=s.cells[n.index])===null||i===void 0?void 0:i.height)||0)},0)},e.prototype.hasRowSpan=function(t){var s=this;return t.filter(function(a){var n=s.cells[a.index];return n?n.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,s){return this.getMaxCellHeight(s)<=t},e.prototype.getMinimumRowHeight=function(t,s){var a=this;return t.reduce(function(n,i){var l=a.cells[i.index];if(!l)return 0;var o=s.getLineHeight(l.styles.fontSize),c=l.padding("vertical"),d=c+o;return d>n?d:n},0)},e})(),ZE=(function(){function e(t,s,a){var n;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=s,this.section=a,this.raw=t;var i=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,i=(n=t.content)!==null&&n!==void 0?n:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var l=i!=null?""+i:"",o=/\r\n|\r|\n/g;this.text=l.split(o)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var s=this.height-this.padding("vertical");t=this.y+s/2+this.padding("top")}var a;if(this.styles.halign==="right")a=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var n=this.width-this.padding("horizontal");a=this.x+n/2+this.padding("left")}else a=this.x+this.padding("left");return{x:a,y:t}},e.prototype.getContentHeight=function(t,s){s===void 0&&(s=1.15);var a=Array.isArray(this.text)?this.text.length:1,n=this.styles.fontSize/t*s,i=a*n+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},e.prototype.padding=function(t){var s=X5(this.styles.cellPadding,0);return t==="vertical"?s.top+s.bottom:t==="horizontal"?s.left+s.right:s[t]},e})(),DY=(function(){function e(t,s,a){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=s,this.index=a}return e.prototype.getMaxCustomCellWidth=function(t){for(var s=0,a=0,n=t.allRows();a<n.length;a++){var i=n[a],l=i.cells[this.index];l&&typeof l.styles.cellWidth=="number"&&(s=Math.max(s,l.styles.cellWidth))}return s},e})();function KPe(e,t){YPe(e,t);var s=[],a=0;t.columns.forEach(function(i){var l=i.getMaxCustomCellWidth(t);l?i.width=l:(i.width=i.wrappedWidth,s.push(i)),a+=i.width});var n=t.getWidth(e.pageSize().width)-a;n&&(n=f6(s,n,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),n&&(n=f6(s,n,function(i){return i.minWidth})),n=Math.abs(n),!t.settings.horizontalPageBreak&&n>.1/e.scaleFactor()&&(n=n<1?n:Math.round(n),console.log("Of the table content, ".concat(n," units width could not fit page"))),ZPe(t),JPe(t,e),XPe(t)}function YPe(e,t){var s=e.scaleFactor(),a=t.settings.horizontalPageBreak,n=CY(e,t);t.allRows().forEach(function(i){for(var l=0,o=t.columns;l<o.length;l++){var c=o[l],d=i.cells[c.index];if(d){var h=t.hooks.didParseCell;t.callCellHooks(e,h,d,i,c,null);var m=d.padding("horizontal");d.contentWidth=pw(d.text,d.styles,e)+m;var p=pw(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,e);if(d.minReadableWidth=p+d.padding("horizontal"),typeof d.styles.cellWidth=="number")d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if(d.styles.cellWidth==="wrap"||a===!0)d.contentWidth>n?(d.minWidth=n,d.wrappedWidth=n):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var x=10/s;d.minWidth=d.styles.minCellWidth||x,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),t.allRows().forEach(function(i){for(var l=0,o=t.columns;l<o.length;l++){var c=o[l],d=i.cells[c.index];if(d&&d.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,d.wrappedWidth),c.minWidth=Math.max(c.minWidth,d.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,d.minReadableWidth);else{var h=t.styles.columnStyles[c.dataKey]||t.styles.columnStyles[c.index]||{},m=h.cellWidth||h.minCellWidth;m&&typeof m=="number"&&(c.minWidth=m,c.wrappedWidth=m)}d&&(d.colSpan>1&&!c.minWidth&&(c.minWidth=d.minWidth),d.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=d.minWidth))}})}function f6(e,t,s){for(var a=t,n=e.reduce(function(x,v){return x+v.wrappedWidth},0),i=0;i<e.length;i++){var l=e[i],o=l.wrappedWidth/n,c=a*o,d=l.width+c,h=s(l),m=d<h?h:d;t-=m-l.width,l.width=m}if(t=Math.round(t*1e10)/1e10,t){var p=e.filter(function(x){return t<0?x.width>s(x):!0});p.length&&(t=f6(p,t,s))}return t}function XPe(e){for(var t={},s=1,a=e.allRows(),n=0;n<a.length;n++)for(var i=a[n],l=0,o=e.columns;l<o.length;l++){var c=o[l],d=t[c.index];if(s>1)s--,delete i.cells[c.index];else if(d)d.cell.height+=i.height,s=d.cell.colSpan,delete i.cells[c.index],d.left--,d.left<=1&&delete t[c.index];else{var h=i.cells[c.index];if(!h)continue;if(h.height=i.height,h.rowSpan>1){var m=a.length-n,p=h.rowSpan>m?m:h.rowSpan;t[c.index]={cell:h,left:p,row:i}}}}}function ZPe(e){for(var t=e.allRows(),s=0;s<t.length;s++)for(var a=t[s],n=null,i=0,l=0,o=0;o<e.columns.length;o++){var c=e.columns[o];if(l-=1,l>1&&e.columns[o+1])i+=c.width,delete a.cells[c.index];else if(n){var d=n;delete a.cells[c.index],n=null,d.width=c.width+i}else{var d=a.cells[c.index];if(!d)continue;if(l=d.colSpan,i=0,d.colSpan>1){n=d,i+=c.width;continue}d.width=c.width+i}}}function JPe(e,t){for(var s={count:0,height:0},a=0,n=e.allRows();a<n.length;a++){for(var i=n[a],l=0,o=e.columns;l<o.length;l++){var c=o[l],d=i.cells[c.index];if(d){t.applyStyles(d.styles,!0);var h=d.width-d.padding("horizontal");if(d.styles.overflow==="linebreak")d.text=t.splitTextToSize(d.text,h+1/t.scaleFactor(),{fontSize:d.styles.fontSize});else if(d.styles.overflow==="ellipsize")d.text=D9(d.text,h,d.styles,t,"...");else if(d.styles.overflow==="hidden")d.text=D9(d.text,h,d.styles,t,"");else if(typeof d.styles.overflow=="function"){var m=d.styles.overflow(d.text,h);typeof m=="string"?d.text=[m]:d.text=m}d.contentHeight=d.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var p=d.contentHeight/d.rowSpan;d.rowSpan>1&&s.count*s.height<p*d.rowSpan?s={height:p,count:d.rowSpan}:s&&s.count>0&&s.height>p&&(p=s.height),p>i.height&&(i.height=p)}}s.count--}}function D9(e,t,s,a,n){return e.map(function(i){return QPe(i,t,s,a,n)})}function QPe(e,t,s,a,n){var i=1e4*a.scaleFactor();if(t=Math.ceil(t*i)/i,t>=pw(e,s,a))return e;for(;t<pw(e+n,s,a)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+n}function JE(e,t){var s=new ag(e),a=eOe(t,s.scaleFactor()),n=new OY(t,a);return KPe(s,n),s.applyStyles(s.userStyles),n}function eOe(e,t){var s=e.content,a=rOe(s.columns);if(s.head.length===0){var n=R9(a,"head");n&&s.head.push(n)}if(s.foot.length===0){var n=R9(a,"foot");n&&s.foot.push(n)}var i=e.settings.theme,l=e.styles;return{columns:a,head:Q_("head",s.head,a,l,i,t),body:Q_("body",s.body,a,l,i,t),foot:Q_("foot",s.foot,a,l,i,t)}}function Q_(e,t,s,a,n,i){var l={},o=t.map(function(c,d){for(var h=0,m={},p=0,x=0,v=0,y=s;v<y.length;v++){var b=y[v];if(l[b.index]==null||l[b.index].left===0)if(x===0){var j=void 0;Array.isArray(c)?j=c[b.index-p-h]:j=c[b.dataKey];var S={};typeof j=="object"&&!Array.isArray(j)&&(S=j?.styles||{});var w=sOe(e,b,d,n,a,i,S),k=new ZE(j,w,e);m[b.dataKey]=k,m[b.index]=k,x=k.colSpan-1,l[b.index]={left:k.rowSpan-1,times:x}}else x--,p++;else l[b.index].left--,x=l[b.index].times,h++}return new XE(c,d,e,m)});return o}function R9(e,t){var s={};return e.forEach(function(a){if(a.raw!=null){var n=tOe(t,a.raw);n!=null&&(s[a.dataKey]=n)}}),Object.keys(s).length>0?s:null}function tOe(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function rOe(e){return e.map(function(t,s){var a,n;return typeof t=="object"?n=(a=t.dataKey)!==null&&a!==void 0?a:s:n=s,new DY(n,t,s)})}function sOe(e,t,s,a,n,i,l){var o=MPe(a),c;e==="head"?c=n.headStyles:e==="body"?c=n.bodyStyles:e==="foot"&&(c=n.footStyles);var d=Fh({},o.table,o[e],n.styles,c),h=n.columnStyles[t.dataKey]||n.columnStyles[t.index]||{},m=e==="body"?h:{},p=e==="body"&&s%2===0?Fh({},o.alternateRow,n.alternateRowStyles):{},x=RPe(i),v=Fh({},x,d,p,m);return Fh(v,l)}function aOe(e,t,s){var a;s===void 0&&(s={});var n=CY(e,t),i=new Map,l=[],o=[],c=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?c=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(c=[t.settings.horizontalPageBreakRepeat]),c.forEach(function(p){var x=t.columns.find(function(v){return v.dataKey===p||v.index===p});x&&!i.has(x.index)&&(i.set(x.index,!0),l.push(x.index),o.push(t.columns[x.index]),n-=x.wrappedWidth)});for(var d=!0,h=(a=s?.start)!==null&&a!==void 0?a:0;h<t.columns.length;){if(i.has(h)){h++;continue}var m=t.columns[h].wrappedWidth;if(d||n>=m)d=!1,l.push(h),o.push(t.columns[h]),n-=m;else break;h++}return{colIndexes:l,columns:o,lastIndex:h-1}}function nOe(e,t){for(var s=[],a=0;a<t.columns.length;a++){var n=aOe(e,t,{start:a});n.columns.length&&(s.push(n),a=n.lastIndex)}return s}function QE(e,t){var s=t.settings,a=s.startY,n=s.margin,i={x:n.left,y:a},l=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),o=a+n.bottom+l;if(s.pageBreak==="avoid"){var c=t.body,d=c.reduce(function(p,x){return p+x.height},0);o+=d}var h=new ag(e);(s.pageBreak==="always"||s.startY!=null&&o>h.pageSize().height)&&(MY(h),i.y=n.top),t.callWillDrawPageHooks(h,i);var m=Fh({},i);t.startPageNumber=h.pageNumber(),s.horizontalPageBreak?iOe(h,t,m,i):(h.applyStyles(h.userStyles),(s.showHead==="firstPage"||s.showHead==="everyPage")&&t.head.forEach(function(p){return tf(h,t,p,i,t.columns)}),h.applyStyles(h.userStyles),t.body.forEach(function(p,x){var v=x===t.body.length-1;vw(h,t,p,v,m,i,t.columns)}),h.applyStyles(h.userStyles),(s.showFoot==="lastPage"||s.showFoot==="everyPage")&&t.foot.forEach(function(p){return tf(h,t,p,i,t.columns)})),kY(h,t,m,i),t.callEndPageHooks(h,i),t.finalY=i.y,e.lastAutoTable=t,h.applyStyles(h.userStyles)}function iOe(e,t,s,a){var n=nOe(e,t),i=t.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")n.forEach(function(d,h){e.applyStyles(e.userStyles),h>0?Py(e,t,s,a,d.columns,!0):M9(e,t,a,d.columns),lOe(e,t,s,a,d.columns),ek(e,t,a,d.columns)});else for(var l=-1,o=n[0],c=function(){var d=l;if(o){e.applyStyles(e.userStyles);var h=o.columns;l>=0?Py(e,t,s,a,h,!0):M9(e,t,a,h),d=F9(e,t,l+1,a,h),ek(e,t,a,h)}var m=d-l;n.slice(1).forEach(function(p){e.applyStyles(e.userStyles),Py(e,t,s,a,p.columns,!0),F9(e,t,l+1,a,p.columns,m),ek(e,t,a,p.columns)}),l=d};l<t.body.length-1;)c()}function M9(e,t,s,a){var n=t.settings;e.applyStyles(e.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&t.head.forEach(function(i){return tf(e,t,i,s,a)})}function lOe(e,t,s,a,n){e.applyStyles(e.userStyles),t.body.forEach(function(i,l){var o=l===t.body.length-1;vw(e,t,i,o,s,a,n)})}function F9(e,t,s,a,n,i){e.applyStyles(e.userStyles),i=i??t.body.length;var l=Math.min(s+i,t.body.length),o=-1;return t.body.slice(s,l).forEach(function(c,d){var h=s+d===t.body.length-1,m=RY(e,t,h,a);c.canEntireRowFit(m,n)&&(tf(e,t,c,a,n),o=s+d)}),o}function ek(e,t,s,a){var n=t.settings;e.applyStyles(e.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&t.foot.forEach(function(i){return tf(e,t,i,s,a)})}function oOe(e,t,s){var a=s.getLineHeight(e.styles.fontSize),n=e.padding("vertical"),i=Math.floor((t-n)/a);return Math.max(0,i)}function cOe(e,t,s,a){var n={};e.spansMultiplePages=!0,e.height=0;for(var i=0,l=0,o=s.columns;l<o.length;l++){var c=o[l],d=e.cells[c.index];if(d){Array.isArray(d.text)||(d.text=[d.text]);var h=new ZE(d.raw,d.styles,d.section);h=Fh(h,d),h.text=[];var m=oOe(d,t,a);d.text.length>m&&(h.text=d.text.splice(m,d.text.length));var p=a.scaleFactor(),x=a.getLineHeightFactor();d.contentHeight=d.getContentHeight(p,x),d.contentHeight>=t&&(d.contentHeight=t,h.styles.minCellHeight-=t),d.contentHeight>e.height&&(e.height=d.contentHeight),h.contentHeight=h.getContentHeight(p,x),h.contentHeight>i&&(i=h.contentHeight),n[c.index]=h}}var v=new XE(e.raw,-1,e.section,n,!0);v.height=i;for(var y=0,b=s.columns;y<b.length;y++){var c=b[y],h=v.cells[c.index];h&&(h.height=v.height);var d=e.cells[c.index];d&&(d.height=e.height)}return v}function dOe(e,t,s,a){var n=e.pageSize().height,i=a.settings.margin,l=i.top+i.bottom,o=n-l;t.section==="body"&&(o-=a.getHeadHeight(a.columns)+a.getFootHeight(a.columns));var c=t.getMinimumRowHeight(a.columns,e),d=c<s;if(c>o)return console.log("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!d)return!1;var h=t.hasRowSpan(a.columns),m=t.getMaxCellHeight(a.columns)>o;return m?(h&&console.log("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(h||a.settings.rowPageBreak==="avoid")}function vw(e,t,s,a,n,i,l){var o=RY(e,t,a,i);if(s.canEntireRowFit(o,l))tf(e,t,s,i,l);else if(dOe(e,s,o,t)){var c=cOe(s,o,t,e);tf(e,t,s,i,l),Py(e,t,n,i,l),vw(e,t,c,a,n,i,l)}else Py(e,t,n,i,l),vw(e,t,s,a,n,i,l)}function tf(e,t,s,a,n){a.x=t.settings.margin.left;for(var i=0,l=n;i<l.length;i++){var o=l[i],c=s.cells[o.index];if(!c){a.x+=o.width;continue}e.applyStyles(c.styles),c.x=a.x,c.y=a.y;var d=t.callCellHooks(e,t.hooks.willDrawCell,c,s,o,a);if(d===!1){a.x+=o.width;continue}uOe(e,c,a);var h=c.getTextPos();wY(c.text,h.x,h.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,c,s,o,a),a.x+=o.width}a.y+=s.height}function uOe(e,t,s){var a=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof a.lineWidth=="number"){var n=AY(a.lineWidth,a.fillColor);n&&e.rect(t.x,s.y,t.width,t.height,n)}else typeof a.lineWidth=="object"&&(a.fillColor&&e.rect(t.x,s.y,t.width,t.height,"F"),hOe(e,t,s,a.lineWidth))}function hOe(e,t,s,a){var n,i,l,o;a.top&&(n=s.x,i=s.y,l=s.x+t.width,o=s.y,a.right&&(l+=.5*a.right),a.left&&(n-=.5*a.left),c(a.top,n,i,l,o)),a.bottom&&(n=s.x,i=s.y+t.height,l=s.x+t.width,o=s.y+t.height,a.right&&(l+=.5*a.right),a.left&&(n-=.5*a.left),c(a.bottom,n,i,l,o)),a.left&&(n=s.x,i=s.y,l=s.x,o=s.y+t.height,a.top&&(i-=.5*a.top),a.bottom&&(o+=.5*a.bottom),c(a.left,n,i,l,o)),a.right&&(n=s.x+t.width,i=s.y,l=s.x+t.width,o=s.y+t.height,a.top&&(i-=.5*a.top),a.bottom&&(o+=.5*a.bottom),c(a.right,n,i,l,o));function c(d,h,m,p,x){e.getDocument().setLineWidth(d),e.getDocument().line(h,m,p,x,"S")}}function RY(e,t,s,a){var n=t.settings.margin.bottom,i=t.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&s)&&(n+=t.getFootHeight(t.columns)),e.pageSize().height-a.y-n}function Py(e,t,s,a,n,i){n===void 0&&(n=[]),i===void 0&&(i=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!i&&t.foot.forEach(function(o){return tf(e,t,o,a,n)}),t.callEndPageHooks(e,a);var l=t.settings.margin;kY(e,t,s,a),MY(e),t.pageNumber++,a.x=l.left,a.y=l.top,s.y=l.top,t.callWillDrawPageHooks(e,a),t.settings.showHead==="everyPage"&&(t.head.forEach(function(o){return tf(e,t,o,a,n)}),e.applyStyles(e.userStyles))}function MY(e){var t=e.pageNumber();e.setPage(t+1);var s=e.pageNumber();return s===t?(e.addPage(),!0):!1}function FY(e){e.API.autoTable=function(){for(var t=[],s=0;s<arguments.length;s++)t[s]=arguments[s];var a=t[0],n=YE(this,a),i=JE(this,n);return QE(this,i),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,s,a,n){wY(t,s,a,n,this)},e.API.autoTableSetDefaults=function(t){return ag.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,s){ag.setDefaults(t,s)},e.API.autoTableHtmlToJson=function(t,s){var a;if(s===void 0&&(s=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var n=new ag(this),i=EY(n,t,window,s,!1),l=i.head,o=i.body,c=((a=l[0])===null||a===void 0?void 0:a.map(function(d){return d.content}))||[];return{columns:c,rows:o,data:o}}}var tk;function jg(e,t){var s=YE(e,t),a=JE(e,s);QE(e,a)}function fOe(e,t){var s=YE(e,t);return JE(e,s)}function mOe(e,t){QE(e,t)}try{if(typeof window<"u"&&window){var L9=window,I9=L9.jsPDF||((tk=L9.jspdf)===null||tk===void 0?void 0:tk.jsPDF);I9&&FY(I9)}}catch(e){console.error("Could not apply autoTable plugin",e)}const eP=Object.freeze(Object.defineProperty({__proto__:null,Cell:ZE,CellHookData:PY,Column:DY,HookData:gw,Row:XE,Table:OY,__createTable:fOe,__drawTable:mOe,applyPlugin:FY,autoTable:jg,default:jg},Symbol.toStringTag,{value:"Module"})),ng=({data:e,className:t=""})=>{const s=()=>{const n=new nr;n.setFontSize(16),n.text(e.filename.replace(/-/g," ").toUpperCase(),14,15),n.setFontSize(10),n.text(`Generated: ${new Date().toLocaleDateString()}`,14,22),jg(n,{head:[e.headers],body:e.data.map(i=>e.headers.map(l=>i[l]||"")),startY:28,theme:"grid",headStyles:{fillColor:[59,130,246],fontSize:10},styles:{fontSize:9}}),n.save(`${e.filename}.pdf`)},a=()=>{const n=zj.json_to_sheet(e.data),i=zj.book_new();zj.book_append_sheet(i,n,"Report"),e6(i,`${e.filename}.xlsx`)};return r.jsxs("div",{className:`flex gap-2 ${t}`,children:[r.jsxs(oe,{size:"sm",variant:"secondary",onClick:s,children:[r.jsx(Rs,{className:"h-4 w-4 mr-1"}),"PDF"]}),r.jsxs(oe,{size:"sm",variant:"secondary",onClick:a,children:[r.jsx(Mw,{className:"h-4 w-4 mr-1"}),"Excel"]})]})},Cp=[{month:"Jan",sales:125e3,cgst:11250,sgst:11250,igst:0,total:147500},{month:"Feb",sales:138e3,cgst:12420,sgst:12420,igst:0,total:162840},{month:"Mar",sales:142e3,cgst:12780,sgst:12780,igst:0,total:167560},{month:"Apr",sales:158e3,cgst:14220,sgst:14220,igst:0,total:186440},{month:"May",sales:165e3,cgst:14850,sgst:14850,igst:0,total:194700},{month:"Jun",sales:172e3,cgst:15480,sgst:15480,igst:0,total:202960}],Jv=[{category:"Poultry",sales:45e4,gst:40500,rate:9},{category:"Meat",sales:32e4,gst:28800,rate:9},{category:"Seafood",sales:18e4,gst:16200,rate:9},{category:"Processed",sales:15e4,gst:27e3,rate:18}],rk=["#3B82F6","#10B981","#F59E0B","#EF4444"],Im=()=>{const[e,t]=A.useState("6months"),s=Cp.reduce((o,c)=>o+c.sales,0),a=Cp.reduce((o,c)=>o+c.cgst+c.sgst+c.igst,0),n=Cp.reduce((o,c)=>o+c.total,0),i={headers:["Month","Sales","CGST","SGST","IGST","Total with GST"],data:Cp.map(o=>({Month:o.month,Sales:o.sales,CGST:o.cgst,SGST:o.sgst,IGST:o.igst,"Total with GST":o.total})),filename:"gst-tax-report"},l={headers:["Category","Sales","GST Amount","GST Rate %"],data:Jv.map(o=>({Category:o.category,Sales:o.sales,"GST Amount":o.gst,"GST Rate %":o.rate})),filename:"gst-breakdown-report"};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold",children:"Tax Calculation & GST Reports"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Comprehensive tax and GST reporting for accounting"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("select",{value:e,onChange:o=>t(o.target.value),className:"px-3 py-2 border rounded-lg text-sm",children:[r.jsx("option",{value:"3months",children:"3 Months"}),r.jsx("option",{value:"6months",children:"6 Months"}),r.jsx("option",{value:"12months",children:"12 Months"})]}),r.jsx(ng,{data:i})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Sales"}),r.jsxs("p",{className:"text-2xl font-bold",children:["",(s/1e5).toFixed(1),"L"]})]}),r.jsx(Tg,{className:"h-8 w-8 text-blue-600"})]})}),r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total GST"}),r.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",(a/1e5).toFixed(1),"L"]})]}),r.jsx(Vh,{className:"h-8 w-8 text-green-600"})]})}),r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Revenue"}),r.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["",(n/1e5).toFixed(1),"L"]})]}),r.jsx(V0,{className:"h-8 w-8 text-purple-600"})]})}),r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Avg GST Rate"}),r.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[(a/s*100).toFixed(1),"%"]})]}),r.jsx(Rs,{className:"h-8 w-8 text-orange-600"})]})})]}),r.jsxs(he,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Monthly GST Collection"}),r.jsx(ng,{data:i,className:"scale-75"})]}),r.jsx(ql,{width:"100%",height:300,children:r.jsxs(gg,{data:Cp,children:[r.jsx(Qc,{strokeDasharray:"3 3"}),r.jsx(ed,{dataKey:"month"}),r.jsx(td,{}),r.jsx(Vl,{formatter:o=>[`${o.toLocaleString()}`,""]}),r.jsx(Ou,{dataKey:"cgst",stackId:"gst",fill:"#3B82F6",name:"CGST"}),r.jsx(Ou,{dataKey:"sgst",stackId:"gst",fill:"#10B981",name:"SGST"}),r.jsx(Ou,{dataKey:"igst",stackId:"gst",fill:"#F59E0B",name:"IGST"})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(he,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"GST by Category"}),r.jsx(ng,{data:l,className:"scale-75"})]}),r.jsx(ql,{width:"100%",height:200,children:r.jsxs(M5,{children:[r.jsx(qb,{data:Jv,cx:"50%",cy:"50%",outerRadius:80,dataKey:"gst",nameKey:"category",children:Jv.map((o,c)=>r.jsx(Rm,{fill:rk[c%rk.length]},`cell-${c}`))}),r.jsx(Vl,{formatter:o=>[`${o.toLocaleString()}`,"GST"]})]})}),r.jsx("div",{className:"mt-4 space-y-2",children:Jv.map((o,c)=>r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:rk[c]}}),r.jsx("span",{children:o.category})]}),r.jsxs("span",{className:"font-medium",children:["",o.gst.toLocaleString()]})]},c))})]}),r.jsxs(he,{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Monthly Tax Summary"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b",children:[r.jsx("th",{className:"text-left py-2",children:"Month"}),r.jsx("th",{className:"text-left py-2",children:"Sales"}),r.jsx("th",{className:"text-left py-2",children:"GST"}),r.jsx("th",{className:"text-left py-2",children:"Total"})]})}),r.jsx("tbody",{children:Cp.map((o,c)=>r.jsxs("tr",{className:"border-b",children:[r.jsx("td",{className:"py-2 font-medium",children:o.month}),r.jsxs("td",{className:"py-2",children:["",o.sales.toLocaleString()]}),r.jsxs("td",{className:"py-2 text-green-600",children:["",(o.cgst+o.sgst+o.igst).toLocaleString()]}),r.jsxs("td",{className:"py-2 font-medium",children:["",o.total.toLocaleString()]})]},c))})]})})]})]}),r.jsxs(he,{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"GST Rate Analysis"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:Jv.map((o,c)=>r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"font-medium",children:o.category}),r.jsxs("span",{className:"text-sm bg-blue-100 text-blue-600 px-2 py-1 rounded",children:[o.rate,"%"]})]}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Sales:"}),r.jsxs("span",{children:["",o.sales.toLocaleString()]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"GST:"}),r.jsxs("span",{className:"text-green-600",children:["",o.gst.toLocaleString()]})]}),r.jsxs("div",{className:"flex justify-between font-medium",children:[r.jsx("span",{children:"Total:"}),r.jsxs("span",{children:["",(o.sales+o.gst).toLocaleString()]})]})]})]},c))})]}),r.jsxs(he,{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Compliance Summary"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx("div",{className:"p-4 bg-green-50 rounded-lg",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx(Vh,{className:"h-4 w-4 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-green-800",children:"GST Filing Status"}),r.jsx("p",{className:"text-sm text-green-600",children:"Up to date"})]})]})}),r.jsx("div",{className:"p-4 bg-blue-50 rounded-lg",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx(V0,{className:"h-4 w-4 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-blue-800",children:"Return Filing"}),r.jsx("p",{className:"text-sm text-blue-600",children:"GSTR-1 & GSTR-3B"})]})]})}),r.jsx("div",{className:"p-4 bg-purple-50 rounded-lg",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:r.jsx(Rs,{className:"h-4 w-4 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-purple-800",children:"Next Due Date"}),r.jsx("p",{className:"text-sm text-purple-600",children:"20th July 2024"})]})]})})]})]})]})};function m6(){const{user:e}=es(),[t,s]=A.useState("procurement"),a=[{id:"stock",title:"Stock Reports",description:"View inventory levels, stock movements, and low stock alerts",icon:Tt,path:"/hub/reports/stock",color:"bg-blue-500"},{id:"procurement",title:"Procurement Reports",description:"Track procurement activities, supplier performance, and purchase orders",icon:ta,path:"/hub/reports/procurement",color:"bg-green-500"}],n=[{id:"SUP001",name:"Fresh Fish Suppliers Ltd",category:"Seafood",orders:45,onTime:42,rating:4.8,lastDelivery:"2 hours ago",status:"Active"},{id:"SUP002",name:"Ocean Harvest Co.",category:"Prawns",orders:38,onTime:35,rating:4.6,lastDelivery:"1 day ago",status:"Active"},{id:"SUP003",name:"Coastal Seafood Inc.",category:"Fish",orders:52,onTime:48,rating:4.9,lastDelivery:"3 hours ago",status:"Active"},{id:"SUP004",name:"Marine Products Ltd",category:"Lobster",orders:28,onTime:25,rating:4.5,lastDelivery:"2 days ago",status:"Warning"},{id:"SUP005",name:"Bay Area Fisheries",category:"Crab",orders:33,onTime:30,rating:4.7,lastDelivery:"5 hours ago",status:"Active"}],i=[{id:"PO001",supplier:"Fresh Fish Suppliers Ltd",items:"Fresh Salmon, Sea Bass",quantity:"50kg",value:"25,000",orderDate:"2024-01-13",expectedDate:"2024-01-14",status:"In Transit"},{id:"PO002",supplier:"Ocean Harvest Co.",items:"Tiger Prawns",quantity:"30kg",value:"18,000",orderDate:"2024-01-12",expectedDate:"2024-01-13",status:"Delivered"},{id:"PO003",supplier:"Coastal Seafood Inc.",items:"Pomfret, Kingfish",quantity:"40kg",value:"22,000",orderDate:"2024-01-13",expectedDate:"2024-01-15",status:"Pending"},{id:"PO004",supplier:"Marine Products Ltd",items:"Fresh Lobster",quantity:"15kg",value:"35,000",orderDate:"2024-01-11",expectedDate:"2024-01-13",status:"Delayed"},{id:"PO005",supplier:"Bay Area Fisheries",items:"Mud Crab",quantity:"25kg",value:"20,000",orderDate:"2024-01-13",expectedDate:"2024-01-14",status:"Confirmed"}],l=[{id:"LS001",product:"Fresh Salmon",currentStock:"5kg",minLevel:"20kg",supplier:"Fresh Fish Suppliers Ltd",urgency:"High"},{id:"LS002",product:"Tiger Prawns",currentStock:"8kg",minLevel:"15kg",supplier:"Ocean Harvest Co.",urgency:"Medium"},{id:"LS003",product:"Sea Bass",currentStock:"3kg",minLevel:"12kg",supplier:"Coastal Seafood Inc.",urgency:"High"},{id:"LS004",product:"Pomfret",currentStock:"12kg",minLevel:"18kg",supplier:"Coastal Seafood Inc.",urgency:"Low"},{id:"LS005",product:"Kingfish",currentStock:"7kg",minLevel:"15kg",supplier:"Fresh Fish Suppliers Ltd",urgency:"Medium"}],o=a.filter(h=>Rse(e,h.id)),c=h=>{switch(h){case"Active":return"bg-green-100 text-green-700";case"Warning":return"bg-yellow-100 text-yellow-700";case"Delivered":return"bg-green-100 text-green-700";case"In Transit":return"bg-blue-100 text-blue-700";case"Confirmed":return"bg-purple-100 text-purple-700";case"Pending":return"bg-orange-100 text-orange-700";case"Delayed":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},d=h=>{switch(h){case"High":return"bg-red-100 text-red-700";case"Medium":return"bg-yellow-100 text-yellow-700";case"Low":return"bg-green-100 text-green-700";default:return"bg-gray-100 text-gray-700"}};return r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Procurement Reports"}),r.jsx("p",{className:"text-gray-600",children:"Access reports related to procurement and inventory management"})]}),r.jsx("div",{className:"border-b mb-6",children:r.jsxs("nav",{className:"flex space-x-8",children:[r.jsx("button",{onClick:()=>s("procurement"),className:`py-2 px-1 border-b-2 font-medium text-sm ${t==="procurement"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Procurement Reports"}),r.jsx("button",{onClick:()=>s("demand-forecast"),className:`py-2 px-1 border-b-2 font-medium text-sm ${t==="demand-forecast"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Demand Forecast"}),r.jsx("button",{onClick:()=>s("tax-gst"),className:`py-2 px-1 border-b-2 font-medium text-sm ${t==="tax-gst"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Tax & GST"})]})}),t==="demand-forecast"?r.jsx(hf,{}):t==="tax-gst"?r.jsx(Im,{}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Active Suppliers"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"5"})]}),r.jsx(Mr,{className:"h-8 w-8 text-blue-600"})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Pending Orders"}),r.jsx("p",{className:"text-2xl font-bold text-orange-600",children:"3"})]}),r.jsx(Tt,{className:"h-8 w-8 text-orange-600"})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Low Stock Items"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:"5"})]}),r.jsx(Ts,{className:"h-8 w-8 text-red-600"})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Monthly Spend"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:"1.2L"})]}),r.jsx(ta,{className:"h-8 w-8 text-green-600"})]})})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6",children:o.map(h=>{const m=h.icon;return r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>window.location.href=h.path,children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:`${h.color} p-3 rounded-lg text-white mr-4`,children:r.jsx(m,{className:"h-6 w-6"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:h.title})]}),r.jsx("p",{className:"text-gray-600 text-sm",children:h.description})]},h.id)})}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Supplier Performance"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-gray-200",children:[r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Supplier"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Category"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Orders"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"On-Time"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Rating"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Last Delivery"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Status"})]})}),r.jsx("tbody",{children:n.map(h=>r.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[r.jsx("td",{className:"py-3 px-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-8 w-8 bg-gradient-to-br from-green-500 to-blue-600 rounded-full flex items-center justify-center text-white text-sm font-bold",children:h.name.charAt(0)}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:h.name}),r.jsx("p",{className:"text-sm text-gray-500",children:h.id})]})]})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:"text-sm text-gray-700",children:h.category})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:"font-medium text-gray-900",children:h.orders})}),r.jsxs("td",{className:"py-3 px-4",children:[r.jsxs("span",{className:"font-medium text-green-600",children:[h.onTime,"/",h.orders]}),r.jsxs("span",{className:"text-sm text-gray-500 ml-1",children:["(",Math.round(h.onTime/h.orders*100),"%)"]})]}),r.jsx("td",{className:"py-3 px-4",children:r.jsxs("span",{className:"font-medium text-yellow-600",children:[" ",h.rating]})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:"text-sm text-gray-700",children:h.lastDelivery})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${c(h.status)}`,children:h.status})})]},h.id))})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Purchase Orders"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-gray-200",children:[r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"PO ID"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Supplier"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Items"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Quantity"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Value"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Expected"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Status"})]})}),r.jsx("tbody",{children:i.map(h=>r.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:"font-medium text-blue-600",children:h.id})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:"text-sm text-gray-700",children:h.supplier})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:"text-sm text-gray-700",children:h.items})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:"font-medium text-gray-900",children:h.quantity})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:"font-medium text-green-600",children:h.value})}),r.jsx("td",{className:"py-3 px-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Jr,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-sm text-gray-700",children:h.expectedDate})]})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${c(h.status)}`,children:h.status})})]},h.id))})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Low Stock Alerts"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-gray-200",children:[r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Product"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Current Stock"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Min Level"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Supplier"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Urgency"})]})}),r.jsx("tbody",{children:l.map(h=>r.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[r.jsx("td",{className:"py-3 px-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Tt,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"font-medium text-gray-900",children:h.product})]})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:"font-medium text-red-600",children:h.currentStock})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:"text-sm text-gray-700",children:h.minLevel})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:"text-sm text-gray-700",children:h.supplier})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${d(h.urgency)}`,children:h.urgency})})]},h.id))})]})})]}),o.length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Zn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Reports Available"}),r.jsx("p",{className:"text-gray-600",children:"You don't have access to any procurement reports at this time."})]})]})]})}function xOe({filters:e,onFilterChange:t,onReset:s,products:a}){const n=[{value:"",label:"All Status"},{value:"processing",label:"Processing"},{value:"purchased",label:"Purchased"},{value:"cancelled",label:"Cancelled"},{value:"alternate",label:"Alternate"}];return r.jsxs("div",{className:"bg-white rounded-lg border p-4 mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(nc,{className:"h-5 w-5 text-gray-600"}),r.jsx("h3",{className:"font-semibold text-gray-900",children:"Filters"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[r.jsx(Jr,{className:"h-4 w-4 inline mr-1"}),"From Date"]}),r.jsx(de,{type:"date",value:e.dateFrom||"",onChange:i=>t({...e,dateFrom:i.target.value})})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[r.jsx(Jr,{className:"h-4 w-4 inline mr-1"}),"To Date"]}),r.jsx(de,{type:"date",value:e.dateTo||"",onChange:i=>t({...e,dateTo:i.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),r.jsx("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:e.status||"",onChange:i=>t({...e,status:i.target.value}),children:n.map(i=>r.jsx("option",{value:i.value,children:i.label},i.value))})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[r.jsx(Tt,{className:"h-4 w-4 inline mr-1"}),"Product"]}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:e.productId||"",onChange:i=>t({...e,productId:i.target.value}),children:[r.jsx("option",{value:"",children:"All Products"}),a.map(i=>r.jsx("option",{value:i.id,children:i.name},i.id))]})]})]}),r.jsx("div",{className:"mt-4 flex justify-end",children:r.jsxs(oe,{onClick:s,children:[r.jsx(rn,{className:"h-4 w-4 mr-2"}),"Reset Filters"]})})]})}const pOe={processing:"bg-yellow-100 text-yellow-800",purchased:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800",alternate:"bg-blue-100 text-blue-800"};function gOe({purchases:e,onEdit:t,onView:s}){return r.jsxs("div",{className:"bg-white rounded-lg border overflow-hidden",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Purchase ID"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Supplier"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Products"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total Weight"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total Price"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map(a=>{const n=a.products.reduce((c,d)=>c+d.grossWeight,0),i=a.products.reduce((c,d)=>c+d.purchasePrice*d.countMax,0),l=a.products.some(c=>c.isAlternate),o=a.products[0]?.status||"processing";return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:a.id}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:new Date(a.purchaseDate).toLocaleDateString()}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:a.supplierName}),r.jsxs("td",{className:"px-4 py-3 text-sm text-gray-600",children:[a.products.length," item(s)"]}),r.jsxs("td",{className:"px-4 py-3 text-sm text-gray-600",children:[n.toFixed(2)," kg"]}),r.jsxs("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:["",i.toFixed(2)]}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Xe,{className:pOe[o],children:o}),l&&r.jsx(Oee,{className:"h-4 w-4 text-blue-600"})]})}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>s(a),className:"p-1 text-gray-600 hover:text-blue-600",title:"View",children:r.jsx(Fr,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>t(a),className:"p-1 text-gray-600 hover:text-green-600",title:"Edit",children:r.jsx(Ry,{className:"h-4 w-4"})})]})})]},a.id)})})]})}),e.length===0&&r.jsx("div",{className:"text-center py-12 text-gray-500",children:"No purchases found"})]})}function vOe({isOpen:e,onClose:t,onSubmit:s,purchase:a,moduleType:n,userName:i,products:l}){const[o,c]=A.useState({purchaseDate:a?.purchaseDate||new Date().toISOString().split("T")[0],supplierName:a?.supplierName||"",remarks:a?.remarks||""}),[d,h]=A.useState(a?.products||[{productId:"",productName:"",variant:"medium",countMin:0,countMax:0,grossWeight:0,basePriceMin:0,basePriceMax:0,purchasePrice:0,status:"processing",remarks:"",isAlternate:!1}]),m=()=>{h([...d,{productId:"",productName:"",variant:"medium",countMin:0,countMax:0,grossWeight:0,basePriceMin:0,basePriceMax:0,purchasePrice:0,status:"processing",remarks:"",isAlternate:!1}])},p=b=>{h(d.filter((j,S)=>S!==b))},x=(b,j,S)=>{const w=[...d];if(w[b]={...w[b],[j]:S},j==="productId"){const k=l.find(_=>_.id===S);k&&(w[b].productName=k.name)}h(w)},v=b=>{b.preventDefault();for(let S=0;S<d.length;S++){const w=d[S];if(w.countMin&&w.countMax&&w.countMin>w.countMax){alert(`Product #${S+1}: Count Min cannot be greater than Count Max`);return}if(w.status==="alternate"&&!w.alternateProductId){alert(`Product #${S+1}: Please select an alternate product`);return}}const j={...o,moduleType:n,createdBy:i,products:d,updatedAt:new Date().toISOString(),updatedBy:i};s(j)},y=b=>!b.purchasePrice||!b.basePriceMin||!b.basePriceMax?!1:b.purchasePrice<b.basePriceMin||b.purchasePrice>b.basePriceMax;return r.jsx(ir,{isOpen:e,onClose:t,title:a?"Edit Purchase":"Create Purchase",children:r.jsxs("form",{onSubmit:v,className:"space-y-6",children:[r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Purchase Basic Details"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Purchase Date ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(de,{type:"date",value:o.purchaseDate,onChange:b=>c({...o,purchaseDate:b.target.value}),required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Supplier Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(de,{value:o.supplierName,onChange:b=>c({...o,supplierName:b.target.value}),placeholder:"Enter supplier name",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Module Type"}),r.jsx(de,{value:n.toUpperCase(),disabled:!0})]})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Remarks"}),r.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:2,value:o.remarks,onChange:b=>c({...o,remarks:b.target.value}),placeholder:"Optional notes about this purchase"})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Product Purchase Grid"}),r.jsxs(oe,{type:"button",onClick:m,size:"sm",children:[r.jsx(dr,{className:"h-4 w-4 mr-1"}),"Add Product"]})]}),r.jsx("div",{className:"space-y-4",children:d.map((b,j)=>r.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Product #",j+1]}),d.length>1&&r.jsx("button",{type:"button",onClick:()=>p(j),className:"text-red-600 hover:text-red-700",children:r.jsx(Ar,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Product ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:b.productId,onChange:S=>x(j,"productId",S.target.value),required:!0,children:[r.jsx("option",{value:"",children:"Select Product"}),l.map(S=>r.jsx("option",{value:S.id,children:S.name},S.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Variant"}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:b.variant,onChange:S=>x(j,"variant",S.target.value),children:[r.jsx("option",{value:"small",children:"Small"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"large",children:"Large"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Count Min"}),r.jsx(de,{type:"number",value:b.countMin,onChange:S=>x(j,"countMin",parseFloat(S.target.value)),min:"0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Count Max"}),r.jsx(de,{type:"number",value:b.countMax,onChange:S=>x(j,"countMax",parseFloat(S.target.value)),min:"0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gross Weight (kg)"}),r.jsx(de,{type:"number",step:"0.01",value:b.grossWeight,onChange:S=>x(j,"grossWeight",parseFloat(S.target.value)),min:"0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Base Price Min"}),r.jsx(de,{type:"number",step:"0.01",value:b.basePriceMin,onChange:S=>x(j,"basePriceMin",parseFloat(S.target.value)),min:"0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Base Price Max"}),r.jsx(de,{type:"number",step:"0.01",value:b.basePriceMax,onChange:S=>x(j,"basePriceMax",parseFloat(S.target.value)),min:"0"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Purchase Price ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(de,{type:"number",step:"0.01",value:b.purchasePrice,onChange:S=>x(j,"purchasePrice",parseFloat(S.target.value)),min:"0",required:!0}),y(b)&&r.jsxs("div",{className:"flex items-center gap-1 mt-1 text-xs text-yellow-600",children:[r.jsx(Ts,{className:"h-3 w-3"}),"Price outside base range"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:b.status,onChange:S=>x(j,"status",S.target.value),children:[r.jsx("option",{value:"processing",children:"Processing"}),r.jsx("option",{value:"purchased",children:"Purchased"}),r.jsx("option",{value:"cancelled",children:"Cancelled"}),r.jsx("option",{value:"alternate",children:"Alternate"})]})]}),b.status==="alternate"&&r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Alternate Product ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:b.alternateProductId,onChange:S=>{x(j,"alternateProductId",S.target.value),x(j,"originalProductId",b.productId),x(j,"isAlternate",!0)},required:!0,children:[r.jsx("option",{value:"",children:"Select Alternate"}),l.filter(S=>S.id!==b.productId).map(S=>r.jsx("option",{value:S.id,children:S.name},S.id))]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Remarks"}),r.jsx(de,{value:b.remarks,onChange:S=>x(j,"remarks",S.target.value),placeholder:"Optional comments"})]})]})]},j))})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[r.jsx(oe,{type:"button",onClick:t,children:"Cancel"}),r.jsx(oe,{type:"submit",children:a?"Update Purchase":"Create Purchase"})]})]})})}function yOe({isOpen:e,onClose:t,onConfirm:s,currentStatus:a,productName:n}){const[i,l]=A.useState(a),[o,c]=A.useState(""),d=h=>{h.preventDefault(),s(i,o),c(""),t()};return r.jsx(ir,{isOpen:e,onClose:t,title:"Change Purchase Status",children:r.jsxs("form",{onSubmit:d,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product"}),r.jsx("input",{type:"text",value:n,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Status"}),r.jsx("input",{type:"text",value:a,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 capitalize"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["New Status ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:i,onChange:h=>l(h.target.value),required:!0,children:[r.jsx("option",{value:"processing",children:"Processing"}),r.jsx("option",{value:"purchased",children:"Purchased"}),r.jsx("option",{value:"cancelled",children:"Cancelled"}),r.jsx("option",{value:"alternate",children:"Alternate"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Remarks"}),r.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,value:o,onChange:h=>c(h.target.value),placeholder:"Optional reason for status change"})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[r.jsx(oe,{type:"button",onClick:t,children:"Cancel"}),r.jsx(oe,{type:"submit",children:"Update Status"})]})]})})}const B9={processing:"bg-yellow-100 text-yellow-800",purchased:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800",alternate:"bg-blue-100 text-blue-800"};function bOe({isOpen:e,onClose:t,purchase:s,onStatusChange:a,canEditStatus:n=!0}){const[i,l]=A.useState(null);if(!s)return null;const o=s.products.reduce((h,m)=>h+m.grossWeight,0),c=s.products.reduce((h,m)=>h+m.purchasePrice*m.countMax,0),d=(h,m)=>{i&&a&&a(s.id,i.productId,h,m),l(null)};return r.jsxs(ir,{isOpen:e,onClose:t,title:"Purchase Details",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Purchase ID"}),r.jsx("p",{className:"font-semibold text-lg",children:s.id})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Purchase Date"}),r.jsx("p",{className:"font-semibold",children:new Date(s.purchaseDate).toLocaleDateString()})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Supplier"}),r.jsx("p",{className:"font-semibold",children:s.supplierName})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Module Type"}),r.jsx("p",{className:"font-semibold uppercase",children:s.moduleType})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Created By"}),r.jsx("p",{className:"font-semibold",children:s.createdBy})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Created At"}),r.jsx("p",{className:"font-semibold",children:new Date(s.createdAt).toLocaleString()})]})]}),s.remarks&&r.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Remarks"}),r.jsx("p",{className:"text-gray-900",children:s.remarks})]}),r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold mb-3",children:["Products (",s.products.length,")"]}),r.jsx("div",{className:"space-y-4",children:s.products.map((h,m)=>r.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h4",{className:"font-semibold text-lg",children:h.productName}),r.jsx(Xe,{className:"text-xs",children:h.variant}),r.jsx(Xe,{className:B9[h.status],children:h.status}),n&&a&&r.jsx("button",{onClick:()=>l({productId:h.id,productName:h.productName,currentStatus:h.status}),className:"p-1 text-blue-600 hover:text-blue-700",title:"Change Status",children:r.jsx(ss,{className:"h-4 w-4"})})]}),h.isAlternate&&h.originalProductId&&r.jsxs("div",{className:"mt-2 flex items-center gap-2 text-sm text-blue-600 bg-blue-50 p-2 rounded",children:[r.jsx(ya,{className:"h-4 w-4"}),r.jsxs("span",{children:["Alternate for: ",r.jsx("span",{className:"line-through",children:h.originalProductId}),r.jsx(mx,{className:"inline h-4 w-4 mx-1"}),h.productName]})]})]})}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Count Range"}),r.jsxs("p",{className:"font-semibold",children:[h.countMin," - ",h.countMax]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Gross Weight"}),r.jsxs("p",{className:"font-semibold",children:[h.grossWeight," kg"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Base Price Range"}),r.jsxs("p",{className:"font-semibold",children:["",h.basePriceMin," - ",h.basePriceMax]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Purchase Price"}),r.jsxs("p",{className:"font-semibold text-green-600",children:["",h.purchasePrice]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Total Amount"}),r.jsxs("p",{className:"font-semibold text-green-600",children:["",(h.purchasePrice*h.countMax).toFixed(2)]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Price Status"}),h.purchasePrice>=h.basePriceMin&&h.purchasePrice<=h.basePriceMax?r.jsx("p",{className:"text-green-600 font-semibold",children:" Within Range"}):r.jsx("p",{className:"text-orange-600 font-semibold",children:" Out of Range"})]})]}),h.remarks&&r.jsxs("div",{className:"text-sm bg-gray-50 p-2 rounded",children:[r.jsx("span",{className:"text-gray-600",children:"Remarks: "}),r.jsx("span",{className:"text-gray-900",children:h.remarks})]})]},h.id||m))})]}),r.jsx("div",{className:"border-t pt-4",children:r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Total Weight:"}),r.jsxs("span",{className:"font-semibold",children:[o.toFixed(2)," kg"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Total Amount:"}),r.jsxs("span",{className:"font-semibold text-green-600",children:["",c.toFixed(2)]})]})]})}),s.statusHistory&&s.statusHistory.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Status History"}),r.jsx("div",{className:"space-y-2",children:s.statusHistory.map((h,m)=>r.jsxs("div",{className:"flex items-center justify-between text-sm p-2 bg-gray-50 rounded",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Xe,{className:B9[h.status],children:h.status}),r.jsxs("span",{className:"text-gray-600",children:["by ",h.changedBy]})]}),r.jsx("span",{className:"text-gray-500",children:new Date(h.changedAt).toLocaleString()})]},m))})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"Close"})})]}),i&&r.jsx(yOe,{isOpen:!!i,onClose:()=>l(null),onConfirm:d,currentStatus:i.currentStatus,productName:i.productName})]})}const U9=[{id:"1",name:"Sea Crab",category:"seafood"},{id:"2",name:"Blue Crab",category:"seafood"},{id:"3",name:"Pomfret Fish",category:"fish"},{id:"4",name:"Salmon",category:"fish"},{id:"5",name:"Prawns",category:"seafood"}],jOe=[{id:"PUR-001",purchaseDate:"2026-02-15",supplierName:"Ocean Fresh Suppliers",moduleType:"hub",createdBy:"John Doe",remarks:"Regular weekly purchase",products:[{id:"prod-1",productId:"1",productName:"Sea Crab",variant:"large",countMin:10,countMax:15,grossWeight:25.5,basePriceMin:800,basePriceMax:1e3,purchasePrice:900,status:"purchased",isAlternate:!1}],createdAt:"2026-02-15T10:00:00Z",updatedAt:"2026-02-15T10:00:00Z"},{id:"PUR-002",purchaseDate:"2026-02-14",supplierName:"Marine Traders",moduleType:"hub",createdBy:"Jane Smith",remarks:"Rare product substitution",products:[{id:"prod-2",productId:"2",productName:"Blue Crab",variant:"medium",countMin:20,countMax:25,grossWeight:30,basePriceMin:600,basePriceMax:800,purchasePrice:750,status:"alternate",originalProductId:"1",alternateProductId:"2",isAlternate:!0,remarks:"Sea Crab unavailable"}],createdAt:"2026-02-14T09:00:00Z",updatedAt:"2026-02-14T09:00:00Z"}];function z9(){const{user:e}=es(),[t,s]=A.useState(jOe),[a,n]=A.useState({}),[i,l]=A.useState(!1),[o,c]=A.useState(),[d,h]=A.useState(null),m=e?.loginType==="hub"?"hub":"store",p=t.filter(O=>!(a.dateFrom&&O.purchaseDate<a.dateFrom||a.dateTo&&O.purchaseDate>a.dateTo||a.status&&!O.products.some(E=>E.status===a.status)||a.productId&&!O.products.some(E=>E.productId===a.productId))),x=()=>{c(void 0),l(!0)},v=O=>{c(O),l(!0)},y=O=>{h(O)},b=O=>{if(o)s(t.map(E=>E.id===o.id?{...o,...O}:E));else{const E={...O,id:`PUR-${String(t.length+1).padStart(3,"0")}`,createdAt:new Date().toISOString()};s([E,...t])}l(!1)},j=(O,E,F,I)=>{s(t.map(U=>{if(U.id===O){const M=U.products.map(J=>J.id===E?{...J,status:F,remarks:I}:J),L=U.statusHistory||[];return L.push({status:F,changedBy:e?.name||"Unknown",changedAt:new Date().toISOString()}),{...U,products:M,statusHistory:L,updatedAt:new Date().toISOString(),updatedBy:e?.name||"Unknown"}}return U}))},S=()=>{n({})},w=()=>{const O=["Purchase ID","Date","Supplier","Product","Variant","Count Min","Count Max","Weight","Base Min","Base Max","Purchase Price","Status","Alternate"],E=p.flatMap(L=>L.products.map(J=>[L.id,L.purchaseDate,L.supplierName,J.productName,J.variant,J.countMin,J.countMax,J.grossWeight,J.basePriceMin,J.basePriceMax,J.purchasePrice,J.status,J.isAlternate?"Yes":"No"])),F=[O,...E].map(L=>L.join(",")).join(`
`),I=new Blob([F],{type:"text/csv"}),U=URL.createObjectURL(I),M=document.createElement("a");M.href=U,M.download=`purchases_${new Date().toISOString().split("T")[0]}.csv`,M.click()},k=()=>{Gc(async()=>{const{default:O}=await Promise.resolve().then(()=>KE);return{default:O}},void 0).then(({default:O})=>{Gc(()=>Promise.resolve().then(()=>eP),void 0).then(()=>{const E=new O;E.setFontSize(18),E.text("Purchase Management Report",14,20),E.setFontSize(11),E.text(`Generated: ${new Date().toLocaleString()}`,14,28),(a.dateFrom||a.dateTo)&&E.text(`Date Range: ${a.dateFrom||"Start"} to ${a.dateTo||"End"}`,14,34);const F=p.flatMap(U=>U.products.map(M=>[U.id,U.purchaseDate,U.supplierName,M.productName,M.variant,`${M.countMin}-${M.countMax}`,M.grossWeight.toFixed(2),`${M.basePriceMin}-${M.basePriceMax}`,`${M.purchasePrice}`,M.status,M.isAlternate?"":""]));E.autoTable({startY:a.dateFrom||a.dateTo?40:35,head:[["ID","Date","Supplier","Product","Variant","Count","Weight","Base Price","Purchase","Status","Alt"]],body:F,theme:"grid",styles:{fontSize:8},headStyles:{fillColor:[37,99,235]}});const I=E.internal.getNumberOfPages();for(let U=1;U<=I;U++)E.setPage(U),E.setFontSize(8),E.text(`Page ${U} of ${I}`,E.internal.pageSize.getWidth()-30,E.internal.pageSize.getHeight()-10);E.save(`purchases_${new Date().toISOString().split("T")[0]}.pdf`)})})},_=()=>{Gc(()=>Promise.resolve().then(()=>$E),void 0).then(O=>{const E=O.utils.book_new(),F=p.flatMap(U=>U.products.map(M=>({"Purchase ID":U.id,Date:U.purchaseDate,Supplier:U.supplierName,Product:M.productName,Variant:M.variant,"Count Min":M.countMin,"Count Max":M.countMax,"Gross Weight (kg)":M.grossWeight,"Base Price Min":M.basePriceMin,"Base Price Max":M.basePriceMax,"Purchase Price":M.purchasePrice,Status:M.status,Alternate:M.isAlternate?"Yes":"No","Original Product":M.originalProductId||"",Remarks:M.remarks||""}))),I=O.utils.json_to_sheet(F);O.utils.book_append_sheet(E,I,"Purchases"),O.writeFile(E,`purchases_${new Date().toISOString().split("T")[0]}.xlsx`)})};return r.jsx("div",{className:"min-h-screen bg-gray-50 p-4 md:p-6",children:r.jsxs("div",{className:"w-full space-y-4 md:space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 rounded-lg p-4 md:p-6 text-white",children:[r.jsx("h1",{className:"text-2xl md:text-3xl font-bold",children:" Purchase Management"}),r.jsxs("p",{className:"text-blue-100 mt-1 md:mt-2 text-sm md:text-base",children:["Procurement Module - ",m.toUpperCase()," | ",e?.name]})]}),r.jsx(xOe,{filters:a,onFilterChange:n,onReset:S,products:U9}),r.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center justify-between gap-3",children:[r.jsxs(oe,{onClick:x,className:"w-full sm:w-auto",children:[r.jsx(dr,{className:"h-4 w-4 mr-2"}),"Add Purchase"]}),r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsxs(oe,{size:"sm",onClick:w,className:"flex-1 sm:flex-none",children:[r.jsx(Rs,{className:"h-4 w-4 mr-2"}),"CSV"]}),r.jsxs(oe,{size:"sm",onClick:k,className:"flex-1 sm:flex-none",children:[r.jsx(q6,{className:"h-4 w-4 mr-2"}),"PDF"]}),r.jsxs(oe,{size:"sm",onClick:_,className:"flex-1 sm:flex-none",children:[r.jsx(Mw,{className:"h-4 w-4 mr-2"}),"Excel"]})]})]}),r.jsx(gOe,{purchases:p,onEdit:v,onView:y}),r.jsx(bOe,{isOpen:!!d,onClose:()=>h(null),purchase:d,onStatusChange:j,canEditStatus:!0}),r.jsx(vOe,{isOpen:i,onClose:()=>l(!1),onSubmit:b,purchase:o,moduleType:m,userName:e?.name||"Unknown",products:U9})]})})}function NOe({filters:e,onFilterChange:t,onReset:s,products:a,cuttingTypes:n}){const i=[{value:"",label:"All Status"},{value:"processing",label:"Processing"},{value:"completed",label:"Completed"},{value:"misprocessed",label:"Misprocessed"},{value:"cancelled",label:"Cancelled"}];return r.jsxs("div",{className:"bg-white rounded-lg border p-4 mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(nc,{className:"h-5 w-5 text-gray-600"}),r.jsx("h3",{className:"font-semibold text-gray-900",children:"Filters"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[r.jsx(Jr,{className:"h-4 w-4 inline mr-1"}),"From Date"]}),r.jsx(de,{type:"date",value:e.dateFrom||"",onChange:l=>t({...e,dateFrom:l.target.value})})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[r.jsx(Jr,{className:"h-4 w-4 inline mr-1"}),"To Date"]}),r.jsx(de,{type:"date",value:e.dateTo||"",onChange:l=>t({...e,dateTo:l.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),r.jsx("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:e.status||"",onChange:l=>t({...e,status:l.target.value}),children:i.map(l=>r.jsx("option",{value:l.value,children:l.label},l.value))})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[r.jsx($c,{className:"h-4 w-4 inline mr-1"}),"Cutting Type"]}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:e.cuttingType||"",onChange:l=>t({...e,cuttingType:l.target.value}),children:[r.jsx("option",{value:"",children:"All Types"}),n.map(l=>r.jsx("option",{value:l.id,children:l.name},l.id))]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[r.jsx(Tt,{className:"h-4 w-4 inline mr-1"}),"Product"]}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:e.productId||"",onChange:l=>t({...e,productId:l.target.value}),children:[r.jsx("option",{value:"",children:"All Products"}),a.map(l=>r.jsx("option",{value:l.id,children:l.name},l.id))]})]})]}),r.jsx("div",{className:"mt-4 flex justify-end",children:r.jsxs(oe,{onClick:s,children:[r.jsx(rn,{className:"h-4 w-4 mr-2"}),"Reset Filters"]})})]})}const wOe={processing:"bg-yellow-100 text-yellow-800",completed:"bg-green-100 text-green-800",misprocessed:"bg-red-100 text-red-800",cancelled:"bg-gray-100 text-gray-800"};function SOe({entries:e,onView:t,onEdit:s}){return r.jsxs("div",{className:"bg-white rounded-lg border overflow-hidden",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Cutting ID"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Reference"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Product"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Variant"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Cutting Type"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Gross Weight"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map(a=>{const n=a.products[0];return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:a.id}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:new Date(a.date).toLocaleDateString()}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-xs text-gray-500 uppercase",children:a.referenceType}),r.jsx("span",{className:"font-medium",children:a.referenceId})]})}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:r.jsxs("div",{className:"flex items-center gap-2",children:[n.productName,n.isAlternate&&r.jsx(ya,{className:"h-4 w-4 text-blue-600"})]})}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center gap-2",children:[n.variantImage&&r.jsx("img",{src:n.variantImage,alt:n.variant,className:"h-8 w-8 rounded object-cover"}),r.jsx("span",{className:"text-sm capitalize",children:n.variant})]})}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:n.cuttingType}),r.jsxs("td",{className:"px-4 py-3 text-sm text-gray-600",children:[n.grossWeight.toFixed(2)," kg"]}),r.jsx("td",{className:"px-4 py-3",children:r.jsx(Xe,{className:wOe[n.status],children:n.status})}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>t(a),className:"p-1 text-gray-600 hover:text-blue-600",title:"View",children:r.jsx(Fr,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>s(a),className:"p-1 text-gray-600 hover:text-green-600",title:"Update",children:r.jsx(Ry,{className:"h-4 w-4"})})]})})]},a.id)})})]})}),e.length===0&&r.jsx("div",{className:"text-center py-12 text-gray-500",children:"No cutting entries found"})]})}function _Oe({isOpen:e,onClose:t,onConfirm:s,currentStatus:a,productName:n,grossWeight:i}){const[l,o]=A.useState(a),[c,d]=A.useState(),[h,m]=A.useState(""),p=x=>{x.preventDefault(),s(l,c,h),m(""),d(void 0),t()};return r.jsx(ir,{isOpen:e,onClose:t,title:"Update Cutting Status",children:r.jsxs("form",{onSubmit:p,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product"}),r.jsx("input",{type:"text",value:n,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gross Weight"}),r.jsx("input",{type:"text",value:`${i} kg`,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Status"}),r.jsx("input",{type:"text",value:a,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 capitalize"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["New Status ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:l,onChange:x=>o(x.target.value),required:!0,children:[r.jsx("option",{value:"processing",children:"Processing"}),r.jsx("option",{value:"completed",children:"Completed"}),r.jsx("option",{value:"misprocessed",children:"Misprocessed"}),r.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Net Weight (kg) ",l==="completed"&&r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"number",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:c||"",onChange:x=>d(parseFloat(x.target.value)),required:l==="completed",placeholder:"Weight after cutting"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Remarks"}),r.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,value:h,onChange:x=>m(x.target.value),placeholder:"Optional notes"})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[r.jsx(oe,{type:"button",onClick:t,children:"Cancel"}),r.jsx(oe,{type:"submit",children:"Update Status"})]})]})})}const $9={processing:"bg-yellow-100 text-yellow-800",completed:"bg-green-100 text-green-800",misprocessed:"bg-red-100 text-red-800",cancelled:"bg-gray-100 text-gray-800"};function kOe({isOpen:e,onClose:t,entry:s,onStatusUpdate:a}){const[n,i]=A.useState(null);if(!s)return null;const l=(o,c,d)=>{a&&a(o,c,d),i(null)};return r.jsxs(r.Fragment,{children:[r.jsx(ir,{isOpen:e,onClose:t,title:"Cutting Entry Details",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Cutting ID"}),r.jsx("p",{className:"font-semibold text-lg",children:s.id})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Date"}),r.jsx("p",{className:"font-semibold",children:new Date(s.date).toLocaleDateString()})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Reference Type"}),r.jsx("p",{className:"font-semibold uppercase",children:s.referenceType})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Reference ID"}),r.jsx("p",{className:"font-semibold",children:s.referenceId})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Module"}),r.jsx("p",{className:"font-semibold uppercase",children:s.moduleType})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Created By"}),r.jsx("p",{className:"font-semibold",children:s.createdBy})]})]}),r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold mb-3",children:["Products (",s.products.length,")"]}),r.jsx("div",{className:"space-y-4",children:s.products.map((o,c)=>r.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[o.variantImage&&r.jsx("img",{src:o.variantImage,alt:o.productName,className:"h-16 w-16 rounded object-cover border"}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h4",{className:"font-semibold text-lg",children:o.productName}),r.jsx(Xe,{className:"text-xs capitalize",children:o.variant}),r.jsx(Xe,{className:$9[o.status],children:o.status})]}),o.isAlternate&&o.originalProductId&&r.jsxs("div",{className:"mt-2 flex items-center gap-2 text-sm text-blue-600 bg-blue-50 p-2 rounded",children:[r.jsx(ya,{className:"h-4 w-4"}),r.jsxs("span",{children:["Alternate for: ",r.jsx("span",{className:"line-through",children:o.originalProductId}),r.jsx(mx,{className:"inline h-4 w-4 mx-1"}),o.productName]})]})]})]}),a&&r.jsx("button",{onClick:()=>i({productId:o.id,productName:o.productName,currentStatus:o.status,grossWeight:o.grossWeight}),className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700",children:"Update Status"})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Cutting Type"}),r.jsx("p",{className:"font-semibold",children:o.cuttingType})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Gross Weight"}),r.jsxs("p",{className:"font-semibold",children:[o.grossWeight.toFixed(2)," kg"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Net Weight"}),r.jsx("p",{className:"font-semibold",children:o.netWeight?`${o.netWeight.toFixed(2)} kg`:"-"})]})]}),o.remarks&&r.jsxs("div",{className:"text-sm bg-gray-50 p-2 rounded",children:[r.jsx("span",{className:"text-gray-600",children:"Remarks: "}),r.jsx("span",{className:"text-gray-900",children:o.remarks})]})]},o.id||c))})]}),s.statusHistory&&s.statusHistory.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Status History"}),r.jsx("div",{className:"space-y-2",children:s.statusHistory.map((o,c)=>r.jsxs("div",{className:"flex items-center justify-between text-sm p-2 bg-gray-50 rounded",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Xe,{className:$9[o.status],children:o.status}),r.jsxs("span",{className:"text-gray-600",children:["by ",o.changedBy]})]}),r.jsx("span",{className:"text-gray-500",children:new Date(o.changedAt).toLocaleString()})]},c))})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"Close"})})]})}),n&&r.jsx(_Oe,{isOpen:!!n,onClose:()=>i(null),onConfirm:l,currentStatus:n.currentStatus,productName:n.productName,grossWeight:n.grossWeight})]})}const AOe=[{id:"1",name:"Sea Crab"},{id:"2",name:"Pomfret Fish"},{id:"3",name:"Salmon"}],COe=[{id:"1",name:"Uncleaned"},{id:"2",name:"Headed and Gutted"},{id:"3",name:"Gilled and Gutted"},{id:"4",name:"Steaks"},{id:"5",name:"Fillet"},{id:"6",name:"Whole Cleaned"}],TOe=[{id:"CUT-001",referenceType:"purchase",referenceId:"PUR-001",date:"2026-02-16",moduleType:"hub",createdBy:"John Doe",products:[{id:"prod-1",productId:"1",productName:"Sea Crab",variant:"large",variantImage:"https://images.unsplash.com/photo-1559717201-fbb671ff56b7?w=100&h=100&fit=crop",cuttingType:"Whole Cleaned",grossWeight:25.5,netWeight:22,status:"completed",isAlternate:!1,remarks:"Cleaned and ready for packing"}],createdAt:"2026-02-16T10:00:00Z",updatedAt:"2026-02-16T10:00:00Z",statusHistory:[{status:"completed",changedBy:"John Doe",changedAt:"2026-02-16T10:30:00Z"}]},{id:"CUT-002",referenceType:"order",referenceId:"ORD-123",date:"2026-02-16",moduleType:"hub",createdBy:"Jane Smith",products:[{id:"prod-2",productId:"2",productName:"Pomfret Fish",variant:"medium",variantImage:"https://images.unsplash.com/photo-1544943910-4c1dc44aab44?w=100&h=100&fit=crop",cuttingType:"Fillet",grossWeight:15,status:"processing",isAlternate:!1}],createdAt:"2026-02-16T09:00:00Z",updatedAt:"2026-02-16T09:00:00Z"}];function H9(){const{user:e}=es(),[t,s]=A.useState(TOe),[a,n]=A.useState({}),[i,l]=A.useState(null),o=e?.loginType==="hub"?"hub":"store",c=t.filter(b=>!(a.dateFrom&&b.date<a.dateFrom||a.dateTo&&b.date>a.dateTo||a.status&&!b.products.some(j=>j.status===a.status)||a.cuttingType&&!b.products.some(j=>j.cuttingType===a.cuttingType)||a.productId&&!b.products.some(j=>j.productId===a.productId))),d=b=>{l(b)},h=b=>{l(b)},m=(b,j,S)=>{if(!i)return;s(t.map(k=>{if(k.id===i.id){const _=k.products.map(E=>({...E,status:b,netWeight:j||E.netWeight,remarks:S})),O=k.statusHistory||[];return O.push({status:b,changedBy:e?.name||"Unknown",changedAt:new Date().toISOString()}),{...k,products:_,statusHistory:O,updatedAt:new Date().toISOString(),updatedBy:e?.name||"Unknown"}}return k}));const w=t.find(k=>k.id===i.id);w&&l({...w,products:w.products.map(k=>({...k,status:b,netWeight:j||k.netWeight,remarks:S}))})},p=()=>{n({})},x=()=>{const b=["Cutting ID","Date","Reference Type","Reference ID","Product","Variant","Cutting Type","Gross Weight","Net Weight","Status","Alternate"],j=c.flatMap(O=>O.products.map(E=>[O.id,O.date,O.referenceType,O.referenceId,E.productName,E.variant,E.cuttingType,E.grossWeight,E.netWeight||"",E.status,E.isAlternate?"Yes":"No"])),S=[b,...j].map(O=>O.join(",")).join(`
`),w=new Blob([S],{type:"text/csv"}),k=URL.createObjectURL(w),_=document.createElement("a");_.href=k,_.download=`cutting_${new Date().toISOString().split("T")[0]}.csv`,_.click()},v=()=>{Gc(async()=>{const{default:b}=await Promise.resolve().then(()=>KE);return{default:b}},void 0).then(({default:b})=>{Gc(()=>Promise.resolve().then(()=>eP),void 0).then(()=>{const j=new b;j.setFontSize(18),j.text("Cutting & Cleaning Report",14,20),j.setFontSize(11),j.text(`Generated: ${new Date().toLocaleString()}`,14,28);const S=c.flatMap(k=>k.products.map(_=>[k.id,k.date,`${k.referenceType.toUpperCase()}
${k.referenceId}`,_.productName,_.variant,_.cuttingType,`${_.grossWeight.toFixed(2)} kg`,_.netWeight?`${_.netWeight.toFixed(2)} kg`:"-",_.status]));j.autoTable({startY:35,head:[["ID","Date","Reference","Product","Variant","Cutting Type","Gross","Net","Status"]],body:S,theme:"grid",styles:{fontSize:8},headStyles:{fillColor:[37,99,235]}});const w=j.internal.getNumberOfPages();for(let k=1;k<=w;k++)j.setPage(k),j.setFontSize(8),j.text(`Page ${k} of ${w}`,j.internal.pageSize.getWidth()-30,j.internal.pageSize.getHeight()-10);j.save(`cutting_${new Date().toISOString().split("T")[0]}.pdf`)})})},y=()=>{Gc(()=>Promise.resolve().then(()=>$E),void 0).then(b=>{const j=c.flatMap(k=>k.products.map(_=>({"Cutting ID":k.id,Date:k.date,"Reference Type":k.referenceType,"Reference ID":k.referenceId,Product:_.productName,Variant:_.variant,"Cutting Type":_.cuttingType,"Gross Weight (kg)":_.grossWeight,"Net Weight (kg)":_.netWeight||"",Status:_.status,Alternate:_.isAlternate?"Yes":"No",Remarks:_.remarks||""}))),S=b.utils.json_to_sheet(j),w=b.utils.book_new();b.utils.book_append_sheet(w,S,"Cutting"),b.writeFile(w,`cutting_${new Date().toISOString().split("T")[0]}.xlsx`)})};return r.jsx("div",{className:"min-h-screen bg-gray-50 p-4 md:p-6",children:r.jsxs("div",{className:"w-full space-y-4 md:space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-green-700 rounded-lg p-4 md:p-6 text-white",children:[r.jsx("h1",{className:"text-2xl md:text-3xl font-bold",children:" Cutting & Cleaning Management"}),r.jsxs("p",{className:"text-green-100 mt-1 md:mt-2 text-sm md:text-base",children:["Operations Module - ",o.toUpperCase()," | ",e?.name]})]}),r.jsx(NOe,{filters:a,onFilterChange:n,onReset:p,products:AOe,cuttingTypes:COe}),r.jsx("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center justify-end gap-3",children:r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsxs(oe,{size:"sm",onClick:x,className:"flex-1 sm:flex-none",children:[r.jsx(Rs,{className:"h-4 w-4 mr-2"}),"CSV"]}),r.jsxs(oe,{size:"sm",onClick:v,className:"flex-1 sm:flex-none",children:[r.jsx(q6,{className:"h-4 w-4 mr-2"}),"PDF"]}),r.jsxs(oe,{size:"sm",onClick:y,className:"flex-1 sm:flex-none",children:[r.jsx(Mw,{className:"h-4 w-4 mr-2"}),"Excel"]})]})}),r.jsx(SOe,{entries:c,onView:d,onEdit:h}),r.jsx(kOe,{isOpen:!!i,onClose:()=>l(null),entry:i,onStatusUpdate:m})]})})}function EOe({filters:e,onFilterChange:t,onReset:s,products:a,customers:n}){const i=[{value:"",label:"All Status"},{value:"processing",label:"Processing"},{value:"packed",label:"Packed"},{value:"cancelled",label:"Cancelled"},{value:"alternate",label:"Alternate"}];return r.jsxs("div",{className:"bg-white rounded-lg border p-4 mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(nc,{className:"h-5 w-5 text-gray-600"}),r.jsx("h3",{className:"font-semibold text-gray-900",children:"Filters"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[r.jsx(Jr,{className:"h-4 w-4 inline mr-1"}),"From Date"]}),r.jsx(de,{type:"date",value:e.dateFrom||"",onChange:l=>t({...e,dateFrom:l.target.value})})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[r.jsx(Jr,{className:"h-4 w-4 inline mr-1"}),"To Date"]}),r.jsx(de,{type:"date",value:e.dateTo||"",onChange:l=>t({...e,dateTo:l.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),r.jsx("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:e.status||"",onChange:l=>t({...e,status:l.target.value}),children:i.map(l=>r.jsx("option",{value:l.value,children:l.label},l.value))})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[r.jsx(si,{className:"h-4 w-4 inline mr-1"}),"Customer"]}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:e.customer||"",onChange:l=>t({...e,customer:l.target.value}),children:[r.jsx("option",{value:"",children:"All Customers"}),n.map(l=>r.jsx("option",{value:l.id,children:l.name},l.id))]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[r.jsx(Tt,{className:"h-4 w-4 inline mr-1"}),"Product"]}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:e.productId||"",onChange:l=>t({...e,productId:l.target.value}),children:[r.jsx("option",{value:"",children:"All Products"}),a.map(l=>r.jsx("option",{value:l.id,children:l.name},l.id))]})]})]}),r.jsx("div",{className:"mt-4 flex justify-end",children:r.jsxs(oe,{onClick:s,children:[r.jsx(rn,{className:"h-4 w-4 mr-2"}),"Reset Filters"]})})]})}const POe={processing:"bg-yellow-100 text-yellow-800",packed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800",alternate:"bg-blue-100 text-blue-800"};function OOe({entries:e,onView:t,onEdit:s}){return r.jsxs("div",{className:"bg-white rounded-lg border overflow-hidden",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Bill #"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Order Date"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Customer"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Product"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Variant"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Cutting Type"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Gross Weight"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Net Weight"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map(a=>{const n=a.products[0];return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:a.billNumber}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:new Date(a.orderDate).toLocaleDateString()}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:a.customerName}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:r.jsxs("div",{className:"flex items-center gap-2",children:[n.productName,n.isAlternate&&r.jsx(ya,{className:"h-4 w-4 text-blue-600"})]})}),r.jsx("td",{className:"px-4 py-3 text-sm capitalize",children:n.variant}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:n.cuttingType}),r.jsxs("td",{className:"px-4 py-3 text-sm text-gray-600",children:[n.grossWeight.toFixed(2)," kg"]}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:n.netWeight?`${n.netWeight.toFixed(2)} kg`:"-"}),r.jsx("td",{className:"px-4 py-3",children:r.jsx(Xe,{className:POe[n.status],children:n.status})}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>t(a),className:"p-1 text-gray-600 hover:text-blue-600",title:"View",children:r.jsx(Fr,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>s(a),className:"p-1 text-gray-600 hover:text-green-600",title:"Update",children:r.jsx(Ry,{className:"h-4 w-4"})})]})})]},a.id)})})]})}),e.length===0&&r.jsx("div",{className:"text-center py-12 text-gray-500",children:"No packing entries found"})]})}function DOe({isOpen:e,onClose:t,onConfirm:s,currentStatus:a,productName:n,grossWeight:i}){const[l,o]=A.useState(a),[c,d]=A.useState(),[h,m]=A.useState(""),p=x=>{if(x.preventDefault(),l==="packed"&&!c){alert("Net weight is required when status is Packed");return}if(l==="cancelled"&&!h){alert("Remarks are mandatory when status is Cancelled");return}if(c&&c>i){alert("Net weight cannot be greater than gross weight");return}s(l,c,h),m(""),d(void 0),t()};return r.jsx(ir,{isOpen:e,onClose:t,title:"Update Packing Status",children:r.jsxs("form",{onSubmit:p,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product"}),r.jsx("input",{type:"text",value:n,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gross Weight"}),r.jsx("input",{type:"text",value:`${i} kg`,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Status"}),r.jsx("input",{type:"text",value:a,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 capitalize"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["New Status ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:l,onChange:x=>o(x.target.value),required:!0,children:[r.jsx("option",{value:"processing",children:"Processing"}),r.jsx("option",{value:"packed",children:"Packed"}),r.jsx("option",{value:"cancelled",children:"Cancelled"}),r.jsx("option",{value:"alternate",children:"Alternate"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Net Weight (kg) ",l==="packed"&&r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"number",step:"0.01",max:i,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",value:c||"",onChange:x=>d(parseFloat(x.target.value)),required:l==="packed",placeholder:"Final packed weight"}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Must be  ",i," kg"]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Remarks ",l==="cancelled"&&r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,value:h,onChange:x=>m(x.target.value),required:l==="cancelled",placeholder:l==="cancelled"?"Reason for cancellation (required)":"Optional notes"})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[r.jsx(oe,{type:"button",onClick:t,children:"Cancel"}),r.jsx(oe,{type:"submit",children:"Update Status"})]})]})})}const q9={processing:"bg-yellow-100 text-yellow-800",packed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800",alternate:"bg-blue-100 text-blue-800"};function ROe({isOpen:e,onClose:t,entry:s,onStatusUpdate:a}){const[n,i]=A.useState(null);if(!s)return null;const l=(o,c,d)=>{a&&a(o,c,d),i(null)};return r.jsxs(r.Fragment,{children:[r.jsx(ir,{isOpen:e,onClose:t,title:"Packing Entry Details",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Packing ID"}),r.jsx("p",{className:"font-semibold text-lg",children:s.id})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Bill #"}),r.jsx("p",{className:"font-semibold text-lg",children:s.billNumber})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Order Date"}),r.jsx("p",{className:"font-semibold",children:new Date(s.orderDate).toLocaleDateString()})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Customer Name"}),r.jsx("p",{className:"font-semibold",children:s.customerName})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Module"}),r.jsx("p",{className:"font-semibold uppercase",children:s.moduleType})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Assigned To"}),r.jsx("p",{className:"font-semibold",children:s.assignedTo})]})]}),r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold mb-3",children:["Products (",s.products.length,")"]}),r.jsx("div",{className:"space-y-4",children:s.products.map((o,c)=>r.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h4",{className:"font-semibold text-lg",children:o.productName}),r.jsx(Xe,{className:"text-xs capitalize",children:o.variant}),r.jsx(Xe,{className:q9[o.status],children:o.status})]}),o.isAlternate&&o.originalProductId&&r.jsxs("div",{className:"mt-2 flex items-center gap-2 text-sm text-blue-600 bg-blue-50 p-2 rounded",children:[r.jsx(ya,{className:"h-4 w-4"}),r.jsxs("span",{children:["Alternate for: ",r.jsx("span",{className:"line-through",children:o.originalProductId}),r.jsx(mx,{className:"inline h-4 w-4 mx-1"}),o.productName]})]})]}),a&&r.jsx("button",{onClick:()=>i({productId:o.id,productName:o.productName,currentStatus:o.status,grossWeight:o.grossWeight}),className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700",children:"Update Status"})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Cutting Type"}),r.jsx("p",{className:"font-semibold",children:o.cuttingType})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Gross Weight"}),r.jsxs("p",{className:"font-semibold",children:[o.grossWeight.toFixed(2)," kg"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Net Weight"}),r.jsx("p",{className:"font-semibold",children:o.netWeight?`${o.netWeight.toFixed(2)} kg`:"-"})]})]}),o.remarks&&r.jsxs("div",{className:"text-sm bg-gray-50 p-2 rounded",children:[r.jsx("span",{className:"text-gray-600",children:"Remarks: "}),r.jsx("span",{className:"text-gray-900",children:o.remarks})]})]},o.id||c))})]}),s.statusHistory&&s.statusHistory.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Status History"}),r.jsx("div",{className:"space-y-2",children:s.statusHistory.map((o,c)=>r.jsxs("div",{className:"flex items-center justify-between text-sm p-2 bg-gray-50 rounded",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Xe,{className:q9[o.status],children:o.status}),r.jsxs("span",{className:"text-gray-600",children:["by ",o.changedBy]})]}),r.jsx("span",{className:"text-gray-500",children:new Date(o.changedAt).toLocaleString()})]},c))})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"Close"})})]})}),n&&r.jsx(DOe,{isOpen:!!n,onClose:()=>i(null),onConfirm:l,currentStatus:n.currentStatus,productName:n.productName,grossWeight:n.grossWeight})]})}const MOe=[{id:"1",name:"Sea Crab"},{id:"2",name:"Pomfret Fish"},{id:"3",name:"Salmon"}],FOe=[{id:"1",name:"John Doe"},{id:"2",name:"Jane Smith"},{id:"3",name:"Robert Johnson"}],LOe=[{id:"PACK-001",billNumber:"BILL-2026-001",orderDate:"2026-02-16",customerName:"John Doe",moduleType:"hub",assignedTo:"Packing Team A",products:[{id:"prod-1",productId:"1",productName:"Sea Crab",variant:"large",cuttingType:"Whole Cleaned",grossWeight:22,netWeight:20.5,status:"packed",isAlternate:!1,remarks:"Packed and ready for dispatch"}],createdAt:"2026-02-16T10:00:00Z",updatedAt:"2026-02-16T11:00:00Z",statusHistory:[{status:"packed",changedBy:"Packing Team A",changedAt:"2026-02-16T11:00:00Z"}]},{id:"PACK-002",billNumber:"BILL-2026-002",orderDate:"2026-02-16",customerName:"Jane Smith",moduleType:"hub",assignedTo:"Packing Team B",products:[{id:"prod-2",productId:"2",productName:"Pomfret Fish",variant:"medium",cuttingType:"Fillet",grossWeight:13.5,status:"processing",isAlternate:!1}],createdAt:"2026-02-16T09:00:00Z",updatedAt:"2026-02-16T09:00:00Z"}];function V9(){const{user:e}=es(),[t,s]=A.useState(LOe),[a,n]=A.useState({}),[i,l]=A.useState(null),o=e?.loginType==="hub"?"hub":"store",c=t.filter(b=>!(a.dateFrom&&b.orderDate<a.dateFrom||a.dateTo&&b.orderDate>a.dateTo||a.status&&!b.products.some(j=>j.status===a.status)||a.customer&&b.customerName!==a.customer||a.productId&&!b.products.some(j=>j.productId===a.productId))),d=b=>{l(b)},h=b=>{l(b)},m=(b,j,S)=>{if(!i)return;s(t.map(k=>{if(k.id===i.id){const _=k.products.map(E=>({...E,status:b,netWeight:j||E.netWeight,remarks:S})),O=k.statusHistory||[];return O.push({status:b,changedBy:e?.name||"Unknown",changedAt:new Date().toISOString()}),{...k,products:_,statusHistory:O,updatedAt:new Date().toISOString(),updatedBy:e?.name||"Unknown"}}return k}));const w=t.find(k=>k.id===i.id);w&&l({...w,products:w.products.map(k=>({...k,status:b,netWeight:j||k.netWeight,remarks:S}))})},p=()=>{n({})},x=()=>{const b=["Bill #","Order Date","Customer","Product","Variant","Cutting Type","Gross Weight","Net Weight","Status","Alternate"],j=c.flatMap(O=>O.products.map(E=>[O.billNumber,O.orderDate,O.customerName,E.productName,E.variant,E.cuttingType,E.grossWeight,E.netWeight||"",E.status,E.isAlternate?"Yes":"No"])),S=[b,...j].map(O=>O.join(",")).join(`
`),w=new Blob([S],{type:"text/csv"}),k=URL.createObjectURL(w),_=document.createElement("a");_.href=k,_.download=`packing_${new Date().toISOString().split("T")[0]}.csv`,_.click()},v=()=>{Gc(async()=>{const{default:b}=await Promise.resolve().then(()=>KE);return{default:b}},void 0).then(({default:b})=>{Gc(()=>Promise.resolve().then(()=>eP),void 0).then(()=>{const j=new b;j.setFontSize(18),j.text("Packing Management Report",14,20),j.setFontSize(11),j.text(`Generated: ${new Date().toLocaleString()}`,14,28);const S=c.flatMap(k=>k.products.map(_=>[k.billNumber,k.orderDate,k.customerName,_.productName,_.variant,_.cuttingType,`${_.grossWeight.toFixed(2)} kg`,_.netWeight?`${_.netWeight.toFixed(2)} kg`:"-",_.status]));j.autoTable({startY:35,head:[["Bill #","Date","Customer","Product","Variant","Cutting","Gross","Net","Status"]],body:S,theme:"grid",styles:{fontSize:8},headStyles:{fillColor:[37,99,235]}});const w=j.internal.getNumberOfPages();for(let k=1;k<=w;k++)j.setPage(k),j.setFontSize(8),j.text(`Page ${k} of ${w}`,j.internal.pageSize.getWidth()-30,j.internal.pageSize.getHeight()-10);j.save(`packing_${new Date().toISOString().split("T")[0]}.pdf`)})})},y=()=>{Gc(()=>Promise.resolve().then(()=>$E),void 0).then(b=>{const j=c.flatMap(k=>k.products.map(_=>({"Bill #":k.billNumber,"Order Date":k.orderDate,Customer:k.customerName,Product:_.productName,Variant:_.variant,"Cutting Type":_.cuttingType,"Gross Weight (kg)":_.grossWeight,"Net Weight (kg)":_.netWeight||"",Status:_.status,Alternate:_.isAlternate?"Yes":"No",Remarks:_.remarks||""}))),S=b.utils.json_to_sheet(j),w=b.utils.book_new();b.utils.book_append_sheet(w,S,"Packing"),b.writeFile(w,`packing_${new Date().toISOString().split("T")[0]}.xlsx`)})};return r.jsx("div",{className:"min-h-screen bg-gray-50 p-4 md:p-6",children:r.jsxs("div",{className:"w-full space-y-4 md:space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-purple-700 rounded-lg p-4 md:p-6 text-white",children:[r.jsx("h1",{className:"text-2xl md:text-3xl font-bold",children:" Packing Management"}),r.jsxs("p",{className:"text-purple-100 mt-1 md:mt-2 text-sm md:text-base",children:["Operations Module - ",o.toUpperCase()," | ",e?.name]})]}),r.jsx(EOe,{filters:a,onFilterChange:n,onReset:p,products:MOe,customers:FOe}),r.jsx("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center justify-end gap-3",children:r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsxs(oe,{size:"sm",onClick:x,className:"flex-1 sm:flex-none",children:[r.jsx(Rs,{className:"h-4 w-4 mr-2"}),"CSV"]}),r.jsxs(oe,{size:"sm",onClick:v,className:"flex-1 sm:flex-none",children:[r.jsx(q6,{className:"h-4 w-4 mr-2"}),"PDF"]}),r.jsxs(oe,{size:"sm",onClick:y,className:"flex-1 sm:flex-none",children:[r.jsx(Mw,{className:"h-4 w-4 mr-2"}),"Excel"]})]})}),r.jsx(OOe,{entries:c,onView:d,onEdit:h}),r.jsx(ROe,{isOpen:!!i,onClose:()=>l(null),entry:i,onStatusUpdate:m})]})})}function W9(){const{user:e}=es(),[t,s]=A.useState([]),[a,n]=A.useState({}),[i,l]=A.useState(!1),[o,c]=A.useState([]);A.useEffect(()=>{d(),h()},[a]);const d=async()=>{l(!0);try{s([{id:"DSP001",billNumber:"BH2024001",orderDate:"2024-02-15",customerName:"John Doe",moduleType:e?.loginType==="hub"?"hub":"store",assignedBy:e?.name||"",packingId:"PCK001",products:[{id:"P1",billNumber:"BH2024001",partyName:"John Doe",productName:"Sea Crab",grossWeight:2.5,netWeight:2.3,status:"processing",isAlternate:!1}],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}])}catch(j){console.error("Failed to load dispatches:",j)}finally{l(!1)}},h=async()=>{try{c([{id:"1",name:"Agent 1"},{id:"2",name:"Agent 2"}])}catch(j){console.error("Failed to load delivery agents:",j)}},m=(j,S,w)=>{const k=t.map(_=>{if(_.id===j){const O=[..._.products];return O[S]={...O[S],deliveryPersonId:w,deliveryPersonName:o.find(E=>E.id===w)?.name||""},{..._,products:O}}return _});s(k)},p=async(j,S,w)=>{const k=t.find(E=>E.id===j);if(!k)return;const _=k.products[S];if(w==="dispatched"&&!_.deliveryPersonId){alert("Please assign a delivery person before dispatching");return}let O=null;if((w==="cancelled"||w==="failed"||w==="returned")&&(O=prompt(`Enter remarks for ${w}:`),!O)){alert("Remarks are mandatory for this status");return}try{const E=t.map(F=>{if(F.id===j){const I=[...F.products];return I[S]={...I[S],status:w,remarks:O||I[S].remarks},{...F,products:I,updatedBy:e?.id,updatedAt:new Date().toISOString()}}return F});s(E)}catch(E){console.error("Failed to update status:",E),alert("Failed to update status")}},x=()=>{const j=["Dispatch ID","Bill #","Order Date","Customer","Product","Gross Weight","Net Weight","Delivery Person","Status","Remarks"],S=t.flatMap(E=>E.products.map(F=>[E.id,E.billNumber,E.orderDate,E.customerName,F.isAlternate?`${F.productName} (Alternate)`:F.productName,F.grossWeight,F.netWeight,F.deliveryPersonName||"-",F.status,F.remarks||"-"])),w=[j,...S].map(E=>E.join(",")).join(`
`),k=new Blob([w],{type:"text/csv"}),_=URL.createObjectURL(k),O=document.createElement("a");O.href=_,O.download=`dispatch_${new Date().toISOString().split("T")[0]}.csv`,O.click()},v=()=>{const j=new nr;j.setFontSize(18),j.text("Bayhawk - Dispatch Report",14,20),j.setFontSize(10),j.text(`Generated: ${new Date().toLocaleString()}`,14,28),(a.dateFrom||a.dateTo)&&j.text(`Period: ${a.dateFrom||"Start"} to ${a.dateTo||"End"}`,14,34);const S=t.flatMap(w=>w.products.map(k=>[w.id,w.billNumber,w.customerName,k.isAlternate?`${k.productName} (Alt)`:k.productName,k.grossWeight,k.netWeight,k.deliveryPersonName||"-",k.status]));jg(j,{startY:40,head:[["Dispatch ID","Bill #","Customer","Product","Gross Wt","Net Wt","Delivery Person","Status"]],body:S}),j.save(`dispatch_${new Date().toISOString().split("T")[0]}.pdf`)},y=()=>{x()},b=j=>{switch(j){case"processing":return"bg-yellow-100 text-yellow-800";case"dispatched":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";case"failed":return"bg-orange-100 text-orange-800";case"returned":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return r.jsx("div",{className:"min-h-screen bg-gray-50",children:r.jsx("div",{className:"w-full py-6",children:r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:r.jsx(Tt,{className:"h-6 w-6 text-purple-600"})}),r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dispatch Management"})]}),r.jsx("p",{className:"text-base text-gray-600",children:"Manage and track dispatch operations for packed orders"})]})})}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(nc,{className:"w-5 h-5 text-gray-600"}),r.jsx("h2",{className:"text-lg font-semibold",children:"Filters"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Delivery Person"}),r.jsxs("select",{className:"w-full px-3 py-2 border rounded-lg",value:a.deliveryPerson||"",onChange:j=>n({...a,deliveryPerson:j.target.value}),children:[r.jsx("option",{value:"",children:"All"}),o.map(j=>r.jsx("option",{value:j.id,children:j.name},j.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From Date"}),r.jsx("input",{type:"date",className:"w-full px-3 py-2 border rounded-lg",value:a.dateFrom||"",onChange:j=>n({...a,dateFrom:j.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To Date"}),r.jsx("input",{type:"date",className:"w-full px-3 py-2 border rounded-lg",value:a.dateTo||"",onChange:j=>n({...a,dateTo:j.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),r.jsxs("select",{className:"w-full px-3 py-2 border rounded-lg",value:a.status||"",onChange:j=>n({...a,status:j.target.value}),children:[r.jsx("option",{value:"",children:"All"}),r.jsx("option",{value:"processing",children:"Processing"}),r.jsx("option",{value:"dispatched",children:"Dispatched"}),r.jsx("option",{value:"cancelled",children:"Cancelled"}),r.jsx("option",{value:"failed",children:"Failed"}),r.jsx("option",{value:"returned",children:"Returned"})]})]}),r.jsx("div",{className:"flex items-end",children:r.jsx("button",{onClick:()=>n({}),className:"w-full px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Reset"})})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"bg-gray-50 px-6 py-3 border-b border-gray-200",children:r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Dispatch Records"})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Bill #"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Customer"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Product"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Gross Wt"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Net Wt"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Delivery Person"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Remarks"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y",children:i?r.jsx("tr",{children:r.jsx("td",{colSpan:9,className:"px-4 py-8 text-center text-gray-500",children:"Loading..."})}):t.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:9,className:"px-4 py-8 text-center text-gray-500",children:"No dispatch records found"})}):t.flatMap(j=>j.products.map((S,w)=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-3 text-sm",children:j.billNumber}),r.jsx("td",{className:"px-4 py-3 text-sm",children:j.customerName}),r.jsx("td",{className:"px-4 py-3 text-sm",children:r.jsxs("div",{className:"flex items-center gap-2",children:[S.productName,S.isAlternate&&r.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-amber-100 text-amber-800 text-xs rounded",children:[r.jsx(ya,{className:"w-3 h-3"}),"Alternate"]})]})}),r.jsxs("td",{className:"px-4 py-3 text-sm",children:[S.grossWeight," kg"]}),r.jsxs("td",{className:"px-4 py-3 text-sm",children:[S.netWeight," kg"]}),r.jsx("td",{className:"px-4 py-3 text-sm",children:r.jsxs("select",{className:"px-2 py-1 border rounded text-sm",value:S.deliveryPersonId||"",onChange:k=>m(j.id,w,k.target.value),disabled:S.status==="dispatched"||S.status==="cancelled",children:[r.jsx("option",{value:"",children:"Select Agent"}),o.map(k=>r.jsx("option",{value:k.id,children:k.name},k.id))]})}),r.jsx("td",{className:"px-4 py-3 text-sm",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${b(S.status)}`,children:S.status})}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:S.remarks||"-"}),r.jsx("td",{className:"px-4 py-3 text-sm",children:r.jsxs("select",{className:"px-2 py-1 border rounded text-sm",value:S.status,onChange:k=>p(j.id,w,k.target.value),disabled:S.status==="dispatched"||S.status==="cancelled",children:[r.jsx("option",{value:"processing",children:"Processing"}),r.jsx("option",{value:"dispatched",children:"Dispatched"}),r.jsx("option",{value:"cancelled",children:"Cancelled"}),r.jsx("option",{value:"failed",children:"Failed"}),r.jsx("option",{value:"returned",children:"Returned"})]})})]},`${j.id}-${w}`)))})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Export Data"}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("button",{onClick:x,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[r.jsx(ei,{className:"w-4 h-4"}),"Export CSV"]}),r.jsxs("button",{onClick:v,className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:[r.jsx(ei,{className:"w-4 h-4"}),"Export PDF"]}),r.jsxs("button",{onClick:y,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[r.jsx(ei,{className:"w-4 h-4"}),"Export Excel"]})]})]})]})})})}var s1=e=>e.type==="checkbox",A0=e=>e instanceof Date,vo=e=>e==null;const LY=e=>typeof e=="object";var ri=e=>!vo(e)&&!Array.isArray(e)&&LY(e)&&!A0(e),IY=e=>ri(e)&&e.target?s1(e.target)?e.target.checked:e.target.value:e,IOe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,BY=(e,t)=>e.has(IOe(t)),BOe=e=>{const t=e.constructor&&e.constructor.prototype;return ri(t)&&t.hasOwnProperty("isPrototypeOf")},tP=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Na(e){if(e instanceof Date)return new Date(e);const t=typeof FileList<"u"&&e instanceof FileList;if(tP&&(e instanceof Blob||t))return e;const s=Array.isArray(e);if(!s&&!(ri(e)&&BOe(e)))return e;const a=s?[]:Object.create(Object.getPrototypeOf(e));for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=Na(e[n]));return a}var Z5=e=>/^\w*$/.test(e),ha=e=>e===void 0,J5=e=>Array.isArray(e)?e.filter(Boolean):[],rP=e=>J5(e.replace(/["|']|\]/g,"").split(/\.|\[/)),$t=(e,t,s)=>{if(!t||!ri(e))return s;const a=(Z5(t)?[t]:rP(t)).reduce((n,i)=>vo(n)?n:n[i],e);return ha(a)||a===e?ha(e[t])?s:e[t]:a},Ko=e=>typeof e=="boolean",$l=e=>typeof e=="function",zs=(e,t,s)=>{let a=-1;const n=Z5(t)?[t]:rP(t),i=n.length,l=i-1;for(;++a<i;){const o=n[a];let c=s;if(a!==l){const d=e[o];c=ri(d)||Array.isArray(d)?d:isNaN(+n[a+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;e[o]=c,e=e[o]}};const yw={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},zc={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},_h={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},UY=ur.createContext(null);UY.displayName="HookFormContext";const Q5=()=>ur.useContext(UY);var zY=(e,t,s,a=!0)=>{const n={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(n,i,{get:()=>{const l=i;return t._proxyFormState[l]!==zc.all&&(t._proxyFormState[l]=!a||zc.all),s&&(s[l]=!0),e[l]}});return n};const e4=typeof window<"u"?ur.useLayoutEffect:ur.useEffect;function UOe(e){const t=Q5(),{control:s=t.control,disabled:a,name:n,exact:i}=e||{},[l,o]=ur.useState(s._formState),c=ur.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return e4(()=>s._subscribe({name:n,formState:c.current,exact:i,callback:d=>{!a&&o({...s._formState,...d})}}),[n,a,i]),ur.useEffect(()=>{c.current.isValid&&s._setValid(!0)},[s]),ur.useMemo(()=>zY(l,s,c.current,!1),[l,s])}var Qo=e=>typeof e=="string",x6=(e,t,s,a,n)=>Qo(e)?(a&&t.watch.add(e),$t(s,e,n)):Array.isArray(e)?e.map(i=>(a&&t.watch.add(i),$t(s,i))):(a&&(t.watchAll=!0),s),p6=e=>vo(e)||!LY(e);function zd(e,t,s=new WeakSet){if(p6(e)||p6(t))return Object.is(e,t);if(A0(e)&&A0(t))return Object.is(e.getTime(),t.getTime());const a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;if(s.has(e)||s.has(t))return!0;s.add(e),s.add(t);for(const i of a){const l=e[i];if(!n.includes(i))return!1;if(i!=="ref"){const o=t[i];if(A0(l)&&A0(o)||ri(l)&&ri(o)||Array.isArray(l)&&Array.isArray(o)?!zd(l,o,s):!Object.is(l,o))return!1}}return!0}function zOe(e){const t=Q5(),{control:s=t.control,name:a,defaultValue:n,disabled:i,exact:l,compute:o}=e||{},c=ur.useRef(n),d=ur.useRef(o),h=ur.useRef(void 0),m=ur.useRef(s),p=ur.useRef(a);d.current=o;const[x,v]=ur.useState(()=>{const k=s._getWatch(a,c.current);return d.current?d.current(k):k}),y=ur.useCallback(k=>{const _=x6(a,s._names,k||s._formValues,!1,c.current);return d.current?d.current(_):_},[s._formValues,s._names,a]),b=ur.useCallback(k=>{if(!i){const _=x6(a,s._names,k||s._formValues,!1,c.current);if(d.current){const O=d.current(_);zd(O,h.current)||(v(O),h.current=O)}else v(_)}},[s._formValues,s._names,i,a]);e4(()=>((m.current!==s||!zd(p.current,a))&&(m.current=s,p.current=a,b()),s._subscribe({name:a,formState:{values:!0},exact:l,callback:k=>{b(k.values)}})),[s,l,a,b]),ur.useEffect(()=>s._removeUnmounted());const j=m.current!==s,S=p.current,w=ur.useMemo(()=>{if(i)return null;const k=!j&&!zd(S,a);return j||k?y():null},[i,j,a,S,y]);return w!==null?w:x}function $Oe(e){const t=Q5(),{name:s,disabled:a,control:n=t.control,shouldUnregister:i,defaultValue:l,exact:o=!0}=e,c=BY(n._names.array,s),d=ur.useMemo(()=>$t(n._formValues,s,$t(n._defaultValues,s,l)),[n,s,l]),h=zOe({control:n,name:s,defaultValue:d,exact:o}),m=UOe({control:n,name:s,exact:o}),p=ur.useRef(e),x=ur.useRef(void 0),v=ur.useRef(n.register(s,{...e.rules,value:h,...Ko(e.disabled)?{disabled:e.disabled}:{}}));p.current=e;const y=ur.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!$t(m.errors,s)},isDirty:{enumerable:!0,get:()=>!!$t(m.dirtyFields,s)},isTouched:{enumerable:!0,get:()=>!!$t(m.touchedFields,s)},isValidating:{enumerable:!0,get:()=>!!$t(m.validatingFields,s)},error:{enumerable:!0,get:()=>$t(m.errors,s)}}),[m,s]),b=ur.useCallback(k=>v.current.onChange({target:{value:IY(k),name:s},type:yw.CHANGE}),[s]),j=ur.useCallback(()=>v.current.onBlur({target:{value:$t(n._formValues,s),name:s},type:yw.BLUR}),[s,n._formValues]),S=ur.useCallback(k=>{const _=$t(n._fields,s);_&&_._f&&k&&(_._f.ref={focus:()=>$l(k.focus)&&k.focus(),select:()=>$l(k.select)&&k.select(),setCustomValidity:O=>$l(k.setCustomValidity)&&k.setCustomValidity(O),reportValidity:()=>$l(k.reportValidity)&&k.reportValidity()})},[n._fields,s]),w=ur.useMemo(()=>({name:s,value:h,...Ko(a)||m.disabled?{disabled:m.disabled||a}:{},onChange:b,onBlur:j,ref:S}),[s,a,m.disabled,b,j,S,h]);return ur.useEffect(()=>{const k=n._options.shouldUnregister||i,_=x.current;_&&_!==s&&!c&&n.unregister(_),n.register(s,{...p.current.rules,...Ko(p.current.disabled)?{disabled:p.current.disabled}:{}});const O=(E,F)=>{const I=$t(n._fields,E);I&&I._f&&(I._f.mount=F)};if(O(s,!0),k){const E=Na($t(n._options.defaultValues,s,p.current.defaultValue));zs(n._defaultValues,s,E),ha($t(n._formValues,s))&&zs(n._formValues,s,E)}return!c&&n.register(s),x.current=s,()=>{(c?k&&!n._state.action:k)?n.unregister(s):O(s,!1)}},[s,n,c,i]),ur.useEffect(()=>{n._setDisabledField({disabled:a,name:s})},[a,s,n]),ur.useMemo(()=>({field:w,formState:m,fieldState:y}),[w,m,y])}const F2=e=>e.render($Oe(e));var sP=(e,t,s,a,n)=>t?{...s[e],types:{...s[e]&&s[e].types?s[e].types:{},[a]:n||!0}}:{},wo=e=>Array.isArray(e)?e:[e],G9=()=>{let e=[];return{get observers(){return e},next:n=>{for(const i of e)i.next&&i.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(i=>i!==n)}}),unsubscribe:()=>{e=[]}}};function $Y(e,t){const s={};for(const a in e)if(e.hasOwnProperty(a)){const n=e[a],i=t[a];if(n&&ri(n)&&i){const l=$Y(n,i);ri(l)&&(s[a]=l)}else e[a]&&(s[a]=i)}return s}var xl=e=>ri(e)&&!Object.keys(e).length,aP=e=>e.type==="file",bw=e=>{if(!tP)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},HY=e=>e.type==="select-multiple",nP=e=>e.type==="radio",HOe=e=>nP(e)||s1(e),sk=e=>bw(e)&&e.isConnected;function qOe(e,t){const s=t.slice(0,-1).length;let a=0;for(;a<s;)e=ha(e)?a++:e[t[a++]];return e}function VOe(e){for(const t in e)if(e.hasOwnProperty(t)&&!ha(e[t]))return!1;return!0}function On(e,t){const s=Array.isArray(t)?t:Z5(t)?[t]:rP(t),a=s.length===1?e:qOe(e,s),n=s.length-1,i=s[n];return a&&delete a[i],n!==0&&(ri(a)&&xl(a)||Array.isArray(a)&&VOe(a))&&On(e,s.slice(0,-1)),e}var WOe=e=>{for(const t in e)if($l(e[t]))return!0;return!1};function qY(e){return Array.isArray(e)||ri(e)&&!WOe(e)}function g6(e,t={}){for(const s in e){const a=e[s];qY(a)?(t[s]=Array.isArray(a)?[]:{},g6(a,t[s])):ha(a)||(t[s]=!0)}return t}function Lp(e,t,s){s||(s=g6(t));for(const a in e){const n=e[a];if(qY(n))ha(t)||p6(s[a])?s[a]=g6(n,Array.isArray(n)?[]:{}):Lp(n,vo(t)?{}:t[a],s[a]);else{const i=t[a];s[a]=!zd(n,i)}}return s}const K9={value:!1,isValid:!1},Y9={value:!0,isValid:!0};var VY=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!ha(e[0].attributes.value)?ha(e[0].value)||e[0].value===""?Y9:{value:e[0].value,isValid:!0}:Y9:K9}return K9},WY=(e,{valueAsNumber:t,valueAsDate:s,setValueAs:a})=>ha(e)?e:t?e===""?NaN:e&&+e:s&&Qo(e)?new Date(e):a?a(e):e;const X9={isValid:!1,value:null};var GY=e=>Array.isArray(e)?e.reduce((t,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:t,X9):X9;function Z9(e){const t=e.ref;return aP(t)?t.files:nP(t)?GY(e.refs).value:HY(t)?[...t.selectedOptions].map(({value:s})=>s):s1(t)?VY(e.refs).value:WY(ha(t.value)?e.ref.value:t.value,e)}var GOe=(e,t,s,a)=>{const n={};for(const i of e){const l=$t(t,i);l&&zs(n,i,l._f)}return{criteriaMode:s,names:[...e],fields:n,shouldUseNativeValidation:a}},jw=e=>e instanceof RegExp,Qv=e=>ha(e)?e:jw(e)?e.source:ri(e)?jw(e.value)?e.value.source:e.value:e,Vp=e=>({isOnSubmit:!e||e===zc.onSubmit,isOnBlur:e===zc.onBlur,isOnChange:e===zc.onChange,isOnAll:e===zc.all,isOnTouch:e===zc.onTouched});const J9="AsyncFunction";var KOe=e=>!!e&&!!e.validate&&!!($l(e.validate)&&e.validate.constructor.name===J9||ri(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===J9)),YOe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),v6=(e,t,s)=>!s&&(t.watchAll||t.watch.has(e)||[...t.watch].some(a=>e.startsWith(a)&&/^\.\w+/.test(e.slice(a.length))));const ig=(e,t,s,a)=>{for(const n of s||Object.keys(e)){const i=$t(e,n);if(i){const{_f:l,...o}=i;if(l){if(l.refs&&l.refs[0]&&t(l.refs[0],n)&&!a)return!0;if(l.ref&&t(l.ref,l.name)&&!a)return!0;if(ig(o,t))break}else if(ri(o)&&ig(o,t))break}}};function Q9(e,t,s){const a=$t(e,s);if(a||Z5(s))return{error:a,name:s};const n=s.split(".");for(;n.length;){const i=n.join("."),l=$t(t,i),o=$t(e,i);if(l&&!Array.isArray(l)&&s!==i)return{name:s};if(o&&o.type)return{name:i,error:o};if(o&&o.root&&o.root.type)return{name:`${i}.root`,error:o.root};n.pop()}return{name:s}}var XOe=(e,t,s,a)=>{s(e);const{name:n,...i}=e;return xl(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(l=>t[l]===(!a||zc.all))},ZOe=(e,t,s)=>!e||!t||e===t||wo(e).some(a=>a&&(s?a===t:a.startsWith(t)||t.startsWith(a))),JOe=(e,t,s,a,n)=>n.isOnAll?!1:!s&&n.isOnTouch?!(t||e):(s?a.isOnBlur:n.isOnBlur)?!e:(s?a.isOnChange:n.isOnChange)?e:!0,QOe=(e,t)=>!J5($t(e,t)).length&&On(e,t),KY=(e,t,s)=>{const a=wo($t(e,s));return zs(a,"root",t[s]),zs(e,s,a),e};function eB(e,t,s="validate"){if(Qo(e)||Array.isArray(e)&&e.every(Qo)||Ko(e)&&!e)return{type:s,message:Qo(e)?e:"",ref:t}}var Tp=e=>ri(e)&&!jw(e)?e:{value:e,message:""},y6=async(e,t,s,a,n,i)=>{const{ref:l,refs:o,required:c,maxLength:d,minLength:h,min:m,max:p,pattern:x,validate:v,name:y,valueAsNumber:b,mount:j}=e._f,S=$t(s,y);if(!j||t.has(y))return{};const w=o?o[0]:l,k=L=>{n&&w.reportValidity&&(w.setCustomValidity(Ko(L)?"":L||""),w.reportValidity())},_={},O=nP(l),E=s1(l),F=O||E,I=(b||aP(l))&&ha(l.value)&&ha(S)||bw(l)&&l.value===""||S===""||Array.isArray(S)&&!S.length,U=sP.bind(null,y,a,_),M=(L,J,K,ae=_h.maxLength,V=_h.minLength)=>{const re=L?J:K;_[y]={type:L?ae:V,message:re,ref:l,...U(L?ae:V,re)}};if(i?!Array.isArray(S)||!S.length:c&&(!F&&(I||vo(S))||Ko(S)&&!S||E&&!VY(o).isValid||O&&!GY(o).isValid)){const{value:L,message:J}=Qo(c)?{value:!!c,message:c}:Tp(c);if(L&&(_[y]={type:_h.required,message:J,ref:w,...U(_h.required,J)},!a))return k(J),_}if(!I&&(!vo(m)||!vo(p))){let L,J;const K=Tp(p),ae=Tp(m);if(!vo(S)&&!isNaN(S)){const V=l.valueAsNumber||S&&+S;vo(K.value)||(L=V>K.value),vo(ae.value)||(J=V<ae.value)}else{const V=l.valueAsDate||new Date(S),re=ye=>new Date(new Date().toDateString()+" "+ye),X=l.type=="time",Z=l.type=="week";Qo(K.value)&&S&&(L=X?re(S)>re(K.value):Z?S>K.value:V>new Date(K.value)),Qo(ae.value)&&S&&(J=X?re(S)<re(ae.value):Z?S<ae.value:V<new Date(ae.value))}if((L||J)&&(M(!!L,K.message,ae.message,_h.max,_h.min),!a))return k(_[y].message),_}if((d||h)&&!I&&(Qo(S)||i&&Array.isArray(S))){const L=Tp(d),J=Tp(h),K=!vo(L.value)&&S.length>+L.value,ae=!vo(J.value)&&S.length<+J.value;if((K||ae)&&(M(K,L.message,J.message),!a))return k(_[y].message),_}if(x&&!I&&Qo(S)){const{value:L,message:J}=Tp(x);if(jw(L)&&!S.match(L)&&(_[y]={type:_h.pattern,message:J,ref:l,...U(_h.pattern,J)},!a))return k(J),_}if(v){if($l(v)){const L=await v(S,s),J=eB(L,w);if(J&&(_[y]={...J,...U(_h.validate,J.message)},!a))return k(J.message),_}else if(ri(v)){let L={};for(const J in v){if(!xl(L)&&!a)break;const K=eB(await v[J](S,s),w,J);K&&(L={...K,...U(J,K.message)},k(K.message),a&&(_[y]=L))}if(!xl(L)&&(_[y]={ref:w,...L},!a))return _}}return k(!0),_};const e8e={mode:zc.onSubmit,reValidateMode:zc.onChange,shouldFocusError:!0};function t8e(e={}){let t={...e8e,...e},s={submitCount:0,isDirty:!1,isReady:!1,isLoading:$l(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},a={},n=ri(t.defaultValues)||ri(t.values)?Na(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Na(n),l={action:!1,mount:!1,watch:!1,keepIsValid:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},m={...h};let p={...m};const x={array:G9(),state:G9()},v=t.criteriaMode===zc.all,y=we=>_e=>{clearTimeout(d),d=setTimeout(we,_e)},b=async we=>{if(!l.keepIsValid&&!t.disabled&&(m.isValid||p.isValid||we)){let _e;t.resolver?(_e=xl((await F()).errors),j()):_e=await U(a,!0),_e!==s.isValid&&x.state.next({isValid:_e})}},j=(we,_e)=>{!t.disabled&&(m.isValidating||m.validatingFields||p.isValidating||p.validatingFields)&&((we||Array.from(o.mount)).forEach(ne=>{ne&&(_e?zs(s.validatingFields,ne,_e):On(s.validatingFields,ne))}),x.state.next({validatingFields:s.validatingFields,isValidating:!xl(s.validatingFields)}))},S=(we,_e=[],ne,Oe,Me=!0,De=!0)=>{if(Oe&&ne&&!t.disabled){if(l.action=!0,De&&Array.isArray($t(a,we))){const He=ne($t(a,we),Oe.argA,Oe.argB);Me&&zs(a,we,He)}if(De&&Array.isArray($t(s.errors,we))){const He=ne($t(s.errors,we),Oe.argA,Oe.argB);Me&&zs(s.errors,we,He),QOe(s.errors,we)}if((m.touchedFields||p.touchedFields)&&De&&Array.isArray($t(s.touchedFields,we))){const He=ne($t(s.touchedFields,we),Oe.argA,Oe.argB);Me&&zs(s.touchedFields,we,He)}(m.dirtyFields||p.dirtyFields)&&(s.dirtyFields=Lp(n,i)),x.state.next({name:we,isDirty:L(we,_e),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else zs(i,we,_e)},w=(we,_e)=>{zs(s.errors,we,_e),x.state.next({errors:s.errors})},k=we=>{s.errors=we,x.state.next({errors:s.errors,isValid:!1})},_=(we,_e,ne,Oe)=>{const Me=$t(a,we);if(Me){const De=$t(i,we,ha(ne)?$t(n,we):ne);ha(De)||Oe&&Oe.defaultChecked||_e?zs(i,we,_e?De:Z9(Me._f)):ae(we,De),l.mount&&!l.action&&b()}},O=(we,_e,ne,Oe,Me)=>{let De=!1,He=!1;const mt={name:we};if(!t.disabled){if(!ne||Oe){(m.isDirty||p.isDirty)&&(He=s.isDirty,s.isDirty=mt.isDirty=L(),De=He!==mt.isDirty);const xt=zd($t(n,we),_e);He=!!$t(s.dirtyFields,we),xt?On(s.dirtyFields,we):zs(s.dirtyFields,we,!0),mt.dirtyFields=s.dirtyFields,De=De||(m.dirtyFields||p.dirtyFields)&&He!==!xt}if(ne){const xt=$t(s.touchedFields,we);xt||(zs(s.touchedFields,we,ne),mt.touchedFields=s.touchedFields,De=De||(m.touchedFields||p.touchedFields)&&xt!==ne)}De&&Me&&x.state.next(mt)}return De?mt:{}},E=(we,_e,ne,Oe)=>{const Me=$t(s.errors,we),De=(m.isValid||p.isValid)&&Ko(_e)&&s.isValid!==_e;if(t.delayError&&ne?(c=y(()=>w(we,ne)),c(t.delayError)):(clearTimeout(d),c=null,ne?zs(s.errors,we,ne):On(s.errors,we)),(ne?!zd(Me,ne):Me)||!xl(Oe)||De){const He={...Oe,...De&&Ko(_e)?{isValid:_e}:{},errors:s.errors,name:we};s={...s,...He},x.state.next(He)}},F=async we=>(j(we,!0),await t.resolver(i,t.context,GOe(we||o.mount,a,t.criteriaMode,t.shouldUseNativeValidation))),I=async we=>{const{errors:_e}=await F(we);if(j(we),we)for(const ne of we){const Oe=$t(_e,ne);Oe?zs(s.errors,ne,Oe):On(s.errors,ne)}else s.errors=_e;return _e},U=async(we,_e,ne={valid:!0})=>{for(const Oe in we){const Me=we[Oe];if(Me){const{_f:De,...He}=Me;if(De){const mt=o.array.has(De.name),xt=Me._f&&KOe(Me._f);xt&&m.validatingFields&&j([De.name],!0);const At=await y6(Me,o.disabled,i,v,t.shouldUseNativeValidation&&!_e,mt);if(xt&&m.validatingFields&&j([De.name]),At[De.name]&&(ne.valid=!1,_e||e.shouldUseNativeValidation))break;!_e&&($t(At,De.name)?mt?KY(s.errors,At,De.name):zs(s.errors,De.name,At[De.name]):On(s.errors,De.name))}!xl(He)&&await U(He,_e,ne)}}return ne.valid},M=()=>{for(const we of o.unMount){const _e=$t(a,we);_e&&(_e._f.refs?_e._f.refs.every(ne=>!sk(ne)):!sk(_e._f.ref))&&Se(we)}o.unMount=new Set},L=(we,_e)=>!t.disabled&&(we&&_e&&zs(i,we,_e),!zd(te(),n)),J=(we,_e,ne)=>x6(we,o,{...l.mount?i:ha(_e)?n:Qo(we)?{[we]:_e}:_e},ne,_e),K=we=>J5($t(l.mount?i:n,we,t.shouldUnregister?$t(n,we,[]):[])),ae=(we,_e,ne={})=>{const Oe=$t(a,we);let Me=_e;if(Oe){const De=Oe._f;De&&(!De.disabled&&zs(i,we,WY(_e,De)),Me=bw(De.ref)&&vo(_e)?"":_e,HY(De.ref)?[...De.ref.options].forEach(He=>He.selected=Me.includes(He.value)):De.refs?s1(De.ref)?De.refs.forEach(He=>{(!He.defaultChecked||!He.disabled)&&(Array.isArray(Me)?He.checked=!!Me.find(mt=>mt===He.value):He.checked=Me===He.value||!!Me)}):De.refs.forEach(He=>He.checked=He.value===Me):aP(De.ref)?De.ref.value="":(De.ref.value=Me,De.ref.type||x.state.next({name:we,values:Na(i)})))}(ne.shouldDirty||ne.shouldTouch)&&O(we,Me,ne.shouldTouch,ne.shouldDirty,!0),ne.shouldValidate&&ye(we)},V=(we,_e,ne)=>{for(const Oe in _e){if(!_e.hasOwnProperty(Oe))return;const Me=_e[Oe],De=we+"."+Oe,He=$t(a,De);(o.array.has(we)||ri(Me)||He&&!He._f)&&!A0(Me)?V(De,Me,ne):ae(De,Me,ne)}},re=(we,_e,ne={})=>{const Oe=$t(a,we),Me=o.array.has(we),De=Na(_e);zs(i,we,De),Me?(x.array.next({name:we,values:Na(i)}),(m.isDirty||m.dirtyFields||p.isDirty||p.dirtyFields)&&ne.shouldDirty&&x.state.next({name:we,dirtyFields:Lp(n,i),isDirty:L(we,De)})):Oe&&!Oe._f&&!vo(De)?V(we,De,ne):ae(we,De,ne),v6(we,o)?x.state.next({...s,name:we,values:Na(i)}):x.state.next({name:l.mount?we:void 0,values:Na(i)})},X=async we=>{l.mount=!0;const _e=we.target;let ne=_e.name,Oe=!0;const Me=$t(a,ne),De=xt=>{Oe=Number.isNaN(xt)||A0(xt)&&isNaN(xt.getTime())||zd(xt,$t(i,ne,xt))},He=Vp(t.mode),mt=Vp(t.reValidateMode);if(Me){let xt,At;const Ot=_e.type?Z9(Me._f):IY(we),br=we.type===yw.BLUR||we.type===yw.FOCUS_OUT,Jt=!YOe(Me._f)&&!t.resolver&&!$t(s.errors,ne)&&!Me._f.deps||JOe(br,$t(s.touchedFields,ne),s.isSubmitted,mt,He),Vt=v6(ne,o,br);zs(i,ne,Ot),br?(!_e||!_e.readOnly)&&(Me._f.onBlur&&Me._f.onBlur(we),c&&c(0)):Me._f.onChange&&Me._f.onChange(we);const pr=O(ne,Ot,br),Hr=!xl(pr)||Vt;if(!br&&x.state.next({name:ne,type:we.type,values:Na(i)}),Jt)return(m.isValid||p.isValid)&&(t.mode==="onBlur"?br&&b():br||b()),Hr&&x.state.next({name:ne,...Vt?{}:pr});if(!br&&Vt&&x.state.next({...s}),t.resolver){const{errors:cr}=await F([ne]);if(j([ne]),De(Ot),Oe){const Ns=Q9(s.errors,a,ne),fr=Q9(cr,a,Ns.name||ne);xt=fr.error,ne=fr.name,At=xl(cr)}}else j([ne],!0),xt=(await y6(Me,o.disabled,i,v,t.shouldUseNativeValidation))[ne],j([ne]),De(Ot),Oe&&(xt?At=!1:(m.isValid||p.isValid)&&(At=await U(a,!0)));Oe&&(Me._f.deps&&(!Array.isArray(Me._f.deps)||Me._f.deps.length>0)&&ye(Me._f.deps),E(ne,At,xt,pr))}},Z=(we,_e)=>{if($t(s.errors,_e)&&we.focus)return we.focus(),1},ye=async(we,_e={})=>{let ne,Oe;const Me=wo(we);if(t.resolver){const De=await I(ha(we)?we:Me);ne=xl(De),Oe=we?!Me.some(He=>$t(De,He)):ne}else we?(Oe=(await Promise.all(Me.map(async De=>{const He=$t(a,De);return await U(He&&He._f?{[De]:He}:He)}))).every(Boolean),!(!Oe&&!s.isValid)&&b()):Oe=ne=await U(a);return x.state.next({...!Qo(we)||(m.isValid||p.isValid)&&ne!==s.isValid?{}:{name:we},...t.resolver||!we?{isValid:ne}:{},errors:s.errors}),_e.shouldFocus&&!Oe&&ig(a,Z,we?Me:o.mount),Oe},te=(we,_e)=>{let ne={...l.mount?i:n};return _e&&(ne=$Y(_e.dirtyFields?s.dirtyFields:s.touchedFields,ne)),ha(we)?ne:Qo(we)?$t(ne,we):we.map(Oe=>$t(ne,Oe))},D=(we,_e)=>({invalid:!!$t((_e||s).errors,we),isDirty:!!$t((_e||s).dirtyFields,we),error:$t((_e||s).errors,we),isValidating:!!$t(s.validatingFields,we),isTouched:!!$t((_e||s).touchedFields,we)}),H=we=>{we&&wo(we).forEach(_e=>On(s.errors,_e)),x.state.next({errors:we?s.errors:{}})},q=(we,_e,ne)=>{const Oe=($t(a,we,{_f:{}})._f||{}).ref,Me=$t(s.errors,we)||{},{ref:De,message:He,type:mt,...xt}=Me;zs(s.errors,we,{...xt,..._e,ref:Oe}),x.state.next({name:we,errors:s.errors,isValid:!1}),ne&&ne.shouldFocus&&Oe&&Oe.focus&&Oe.focus()},W=(we,_e)=>$l(we)?x.state.subscribe({next:ne=>"values"in ne&&we(J(void 0,_e),ne)}):J(we,_e,!0),G=we=>x.state.subscribe({next:_e=>{ZOe(we.name,_e.name,we.exact)&&XOe(_e,we.formState||m,Re,we.reRenderRoot)&&we.callback({values:{...i},...s,..._e,defaultValues:n})}}).unsubscribe,fe=we=>(l.mount=!0,p={...p,...we.formState},G({...we,formState:{...h,...we.formState}})),Se=(we,_e={})=>{for(const ne of we?wo(we):o.mount)o.mount.delete(ne),o.array.delete(ne),_e.keepValue||(On(a,ne),On(i,ne)),!_e.keepError&&On(s.errors,ne),!_e.keepDirty&&On(s.dirtyFields,ne),!_e.keepTouched&&On(s.touchedFields,ne),!_e.keepIsValidating&&On(s.validatingFields,ne),!t.shouldUnregister&&!_e.keepDefaultValue&&On(n,ne);x.state.next({values:Na(i)}),x.state.next({...s,..._e.keepDirty?{isDirty:L()}:{}}),!_e.keepIsValid&&b()},se=({disabled:we,name:_e})=>{(Ko(we)&&l.mount||we||o.disabled.has(_e))&&(we?o.disabled.add(_e):o.disabled.delete(_e))},ge=(we,_e={})=>{let ne=$t(a,we);const Oe=Ko(_e.disabled)||Ko(t.disabled);return zs(a,we,{...ne||{},_f:{...ne&&ne._f?ne._f:{ref:{name:we}},name:we,mount:!0,..._e}}),o.mount.add(we),ne?se({disabled:Ko(_e.disabled)?_e.disabled:t.disabled,name:we}):_(we,!0,_e.value),{...Oe?{disabled:_e.disabled||t.disabled}:{},...t.progressive?{required:!!_e.required,min:Qv(_e.min),max:Qv(_e.max),minLength:Qv(_e.minLength),maxLength:Qv(_e.maxLength),pattern:Qv(_e.pattern)}:{},name:we,onChange:X,onBlur:X,ref:Me=>{if(Me){ge(we,_e),ne=$t(a,we);const De=ha(Me.value)&&Me.querySelectorAll&&Me.querySelectorAll("input,select,textarea")[0]||Me,He=HOe(De),mt=ne._f.refs||[];if(He?mt.find(xt=>xt===De):De===ne._f.ref)return;zs(a,we,{_f:{...ne._f,...He?{refs:[...mt.filter(sk),De,...Array.isArray($t(n,we))?[{}]:[]],ref:{type:De.type,name:we}}:{ref:De}}}),_(we,!1,void 0,De)}else ne=$t(a,we,{}),ne._f&&(ne._f.mount=!1),(t.shouldUnregister||_e.shouldUnregister)&&!(BY(o.array,we)&&l.action)&&o.unMount.add(we)}}},Be=()=>t.shouldFocusError&&ig(a,Z,o.mount),ee=we=>{Ko(we)&&(x.state.next({disabled:we}),ig(a,(_e,ne)=>{const Oe=$t(a,ne);Oe&&(_e.disabled=Oe._f.disabled||we,Array.isArray(Oe._f.refs)&&Oe._f.refs.forEach(Me=>{Me.disabled=Oe._f.disabled||we}))},0,!1))},at=(we,_e)=>async ne=>{let Oe;ne&&(ne.preventDefault&&ne.preventDefault(),ne.persist&&ne.persist());let Me=Na(i);if(x.state.next({isSubmitting:!0}),t.resolver){const{errors:De,values:He}=await F();j(),s.errors=De,Me=Na(He)}else await U(a);if(o.disabled.size)for(const De of o.disabled)On(Me,De);if(On(s.errors,"root"),xl(s.errors)){x.state.next({errors:{}});try{await we(Me,ne)}catch(De){Oe=De}}else _e&&await _e({...s.errors},ne),Be(),setTimeout(Be);if(x.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:xl(s.errors)&&!Oe,submitCount:s.submitCount+1,errors:s.errors}),Oe)throw Oe},nt=(we,_e={})=>{$t(a,we)&&(ha(_e.defaultValue)?re(we,Na($t(n,we))):(re(we,_e.defaultValue),zs(n,we,Na(_e.defaultValue))),_e.keepTouched||On(s.touchedFields,we),_e.keepDirty||(On(s.dirtyFields,we),s.isDirty=_e.defaultValue?L(we,Na($t(n,we))):L()),_e.keepError||(On(s.errors,we),m.isValid&&b()),x.state.next({...s}))},xe=(we,_e={})=>{const ne=we?Na(we):n,Oe=Na(ne),Me=xl(we),De=Me?n:Oe;if(_e.keepDefaultValues||(n=ne),!_e.keepValues){if(_e.keepDirtyValues){const He=new Set([...o.mount,...Object.keys(Lp(n,i))]);for(const mt of Array.from(He)){const xt=$t(s.dirtyFields,mt),At=$t(i,mt),Ot=$t(De,mt);xt&&!ha(At)?zs(De,mt,At):!xt&&!ha(Ot)&&re(mt,Ot)}}else{if(tP&&ha(we))for(const He of o.mount){const mt=$t(a,He);if(mt&&mt._f){const xt=Array.isArray(mt._f.refs)?mt._f.refs[0]:mt._f.ref;if(bw(xt)){const At=xt.closest("form");if(At){At.reset();break}}}}if(_e.keepFieldsRef)for(const He of o.mount)re(He,$t(De,He));else a={}}i=t.shouldUnregister?_e.keepDefaultValues?Na(n):{}:Na(De),x.array.next({values:{...De}}),x.state.next({values:{...De}})}o={mount:_e.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!m.isValid||!!_e.keepIsValid||!!_e.keepDirtyValues||!t.shouldUnregister&&!xl(De),l.watch=!!t.shouldUnregister,l.keepIsValid=!!_e.keepIsValid,l.action=!1,_e.keepErrors||(s.errors={}),x.state.next({submitCount:_e.keepSubmitCount?s.submitCount:0,isDirty:Me?!1:_e.keepDirty?s.isDirty:!!(_e.keepDefaultValues&&!zd(we,n)),isSubmitted:_e.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:Me?{}:_e.keepDirtyValues?_e.keepDefaultValues&&i?Lp(n,i):s.dirtyFields:_e.keepDefaultValues&&we?Lp(n,we):_e.keepDirty?s.dirtyFields:{},touchedFields:_e.keepTouched?s.touchedFields:{},errors:_e.keepErrors?s.errors:{},isSubmitSuccessful:_e.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:n})},ot=(we,_e)=>xe($l(we)?we(i):we,{...t.resetOptions,..._e}),ut=(we,_e={})=>{const ne=$t(a,we),Oe=ne&&ne._f;if(Oe){const Me=Oe.refs?Oe.refs[0]:Oe.ref;Me.focus&&setTimeout(()=>{Me.focus(),_e.shouldSelect&&$l(Me.select)&&Me.select()})}},Re=we=>{s={...s,...we}},qt={control:{register:ge,unregister:Se,getFieldState:D,handleSubmit:at,setError:q,_subscribe:G,_runSchema:F,_updateIsValidating:j,_focusError:Be,_getWatch:J,_getDirty:L,_setValid:b,_setFieldArray:S,_setDisabledField:se,_setErrors:k,_getFieldArray:K,_reset:xe,_resetDefaultValues:()=>$l(t.defaultValues)&&t.defaultValues().then(we=>{ot(we,t.resetOptions),x.state.next({isLoading:!1})}),_removeUnmounted:M,_disableForm:ee,_subjects:x,_proxyFormState:m,get _fields(){return a},get _formValues(){return i},get _state(){return l},set _state(we){l=we},get _defaultValues(){return n},get _names(){return o},set _names(we){o=we},get _formState(){return s},get _options(){return t},set _options(we){t={...t,...we}}},subscribe:fe,trigger:ye,register:ge,handleSubmit:at,watch:W,setValue:re,getValues:te,reset:ot,resetField:nt,clearErrors:H,unregister:Se,setError:q,setFocus:ut,getFieldState:D};return{...qt,formControl:qt}}var Qf=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const s=(Math.random()*16+e)%16|0;return(t=="x"?s:s&3|8).toString(16)})},ak=(e,t,s={})=>s.shouldFocus||ha(s.shouldFocus)?s.focusName||`${e}.${ha(s.focusIndex)?t:s.focusIndex}.`:"",nk=(e,t)=>[...e,...wo(t)],ik=e=>Array.isArray(e)?e.map(()=>{}):void 0;function lk(e,t,s){return[...e.slice(0,t),...wo(s),...e.slice(t)]}var ok=(e,t,s)=>Array.isArray(e)?(ha(e[s])&&(e[s]=void 0),e.splice(s,0,e.splice(t,1)[0]),e):[],ck=(e,t)=>[...wo(t),...wo(e)];function r8e(e,t){let s=0;const a=[...e];for(const n of t)a.splice(n-s,1),s++;return J5(a).length?a:[]}var dk=(e,t)=>ha(t)?[]:r8e(e,wo(t).sort((s,a)=>s-a)),uk=(e,t,s)=>{[e[t],e[s]]=[e[s],e[t]]},tB=(e,t,s)=>(e[t]=s,e);function iP(e){const t=Q5(),{control:s=t.control,name:a,keyName:n="id",shouldUnregister:i,rules:l}=e,[o,c]=ur.useState(s._getFieldArray(a)),d=ur.useRef(s._getFieldArray(a).map(Qf)),h=ur.useRef(!1);s._names.array.add(a),ur.useMemo(()=>l&&o.length>=0&&s.register(a,l),[s,a,o.length,l]),e4(()=>s._subjects.array.subscribe({next:({values:k,name:_})=>{if(_===a||!_){const O=$t(k,a);Array.isArray(O)&&(c(O),d.current=O.map(Qf))}}}).unsubscribe,[s,a]);const m=ur.useCallback(k=>{h.current=!0,s._setFieldArray(a,k)},[s,a]),p=(k,_)=>{const O=wo(Na(k)),E=nk(s._getFieldArray(a),O);s._names.focus=ak(a,E.length-1,_),d.current=nk(d.current,O.map(Qf)),m(E),c(E),s._setFieldArray(a,E,nk,{argA:ik(k)})},x=(k,_)=>{const O=wo(Na(k)),E=ck(s._getFieldArray(a),O);s._names.focus=ak(a,0,_),d.current=ck(d.current,O.map(Qf)),m(E),c(E),s._setFieldArray(a,E,ck,{argA:ik(k)})},v=k=>{const _=dk(s._getFieldArray(a),k);d.current=dk(d.current,k),m(_),c(_),!Array.isArray($t(s._fields,a))&&zs(s._fields,a,void 0),s._setFieldArray(a,_,dk,{argA:k})},y=(k,_,O)=>{const E=wo(Na(_)),F=lk(s._getFieldArray(a),k,E);s._names.focus=ak(a,k,O),d.current=lk(d.current,k,E.map(Qf)),m(F),c(F),s._setFieldArray(a,F,lk,{argA:k,argB:ik(_)})},b=(k,_)=>{const O=s._getFieldArray(a);uk(O,k,_),uk(d.current,k,_),m(O),c(O),s._setFieldArray(a,O,uk,{argA:k,argB:_},!1)},j=(k,_)=>{const O=s._getFieldArray(a);ok(O,k,_),ok(d.current,k,_),m(O),c(O),s._setFieldArray(a,O,ok,{argA:k,argB:_},!1)},S=(k,_)=>{const O=Na(_),E=tB(s._getFieldArray(a),k,O);d.current=[...E].map((F,I)=>!F||I===k?Qf():d.current[I]),m(E),c([...E]),s._setFieldArray(a,E,tB,{argA:k,argB:O},!0,!1)},w=k=>{const _=wo(Na(k));d.current=_.map(Qf),m([..._]),c([..._]),s._setFieldArray(a,[..._],O=>O,{},!0,!1)};return ur.useEffect(()=>{if(s._state.action=!1,v6(a,s._names)&&s._subjects.state.next({...s._formState}),h.current&&(!Vp(s._options.mode).isOnSubmit||s._formState.isSubmitted)&&!Vp(s._options.reValidateMode).isOnSubmit)if(s._options.resolver)s._runSchema([a]).then(k=>{s._updateIsValidating([a]);const _=$t(k.errors,a),O=$t(s._formState.errors,a);(O?!_&&O.type||_&&(O.type!==_.type||O.message!==_.message):_&&_.type)&&(_?zs(s._formState.errors,a,_):On(s._formState.errors,a),s._subjects.state.next({errors:s._formState.errors}))});else{const k=$t(s._fields,a);k&&k._f&&!(Vp(s._options.reValidateMode).isOnSubmit&&Vp(s._options.mode).isOnSubmit)&&y6(k,s._names.disabled,s._formValues,s._options.criteriaMode===zc.all,s._options.shouldUseNativeValidation,!0).then(_=>!xl(_)&&s._subjects.state.next({errors:KY(s._formState.errors,_,a)}))}s._subjects.state.next({name:a,values:Na(s._formValues)}),s._names.focus&&ig(s._fields,(k,_)=>{if(s._names.focus&&_.startsWith(s._names.focus)&&k.focus)return k.focus(),1}),s._names.focus="",s._setValid(),h.current=!1},[o,a,s]),ur.useEffect(()=>(!$t(s._formValues,a)&&s._setFieldArray(a),()=>{const k=(_,O)=>{const E=$t(s._fields,_);E&&E._f&&(E._f.mount=O)};s._options.shouldUnregister||i?s.unregister(a):k(a,!1)}),[a,s,n,i]),{swap:ur.useCallback(b,[m,a,s]),move:ur.useCallback(j,[m,a,s]),prepend:ur.useCallback(x,[m,a,s]),append:ur.useCallback(p,[m,a,s]),remove:ur.useCallback(v,[m,a,s]),insert:ur.useCallback(y,[m,a,s]),update:ur.useCallback(S,[m,a,s]),replace:ur.useCallback(w,[m,a,s]),fields:ur.useMemo(()=>o.map((k,_)=>({...k,[n]:d.current[_]||Qf()})),[o,n])}}function Ax(e={}){const t=ur.useRef(void 0),s=ur.useRef(void 0),[a,n]=ur.useState({isDirty:!1,isValidating:!1,isLoading:$l(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:$l(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:a},e.defaultValues&&!$l(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:l,...o}=t8e(e);t.current={...o,formState:a}}const i=t.current.control;return i._options=e,e4(()=>{const l=i._subscribe({formState:i._proxyFormState,callback:()=>n({...i._formState}),reRenderRoot:!0});return n(o=>({...o,isReady:!0})),i._formState.isReady=!0,l},[i]),ur.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),ur.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),ur.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),ur.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),ur.useEffect(()=>{if(i._proxyFormState.isDirty){const l=i._getDirty();l!==a.isDirty&&i._subjects.state.next({isDirty:l})}},[i,a.isDirty]),ur.useEffect(()=>{var l;e.values&&!zd(e.values,s.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),!((l=i._options.resetOptions)===null||l===void 0)&&l.keepIsValid||i._setValid(),s.current=e.values,n(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),ur.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=zY(a,i),t.current}const rB=(e,t,s)=>{if(e&&"reportValidity"in e){const a=$t(s,t);e.setCustomValidity(a&&a.message||""),e.reportValidity()}},b6=(e,t)=>{for(const s in t.fields){const a=t.fields[s];a&&a.ref&&"reportValidity"in a.ref?rB(a.ref,s,e):a&&a.refs&&a.refs.forEach(n=>rB(n,s,e))}},sB=(e,t)=>{t.shouldUseNativeValidation&&b6(e,t);const s={};for(const a in e){const n=$t(t.fields,a),i=Object.assign(e[a]||{},{ref:n&&n.ref});if(s8e(t.names||Object.keys(e),a)){const l=Object.assign({},$t(s,a));zs(l,"root",i),zs(s,a,l)}else zs(s,a,i)}return s},s8e=(e,t)=>{const s=aB(t);return e.some(a=>aB(a).match(`^${s}\\.\\d+`))};function aB(e){return e.replace(/\]|\[/g,"")}function St(e,t,s){function a(o,c){if(o._zod||Object.defineProperty(o,"_zod",{value:{def:c,constr:l,traits:new Set},enumerable:!1}),o._zod.traits.has(e))return;o._zod.traits.add(e),t(o,c);const d=l.prototype,h=Object.keys(d);for(let m=0;m<h.length;m++){const p=h[m];p in o||(o[p]=d[p].bind(o))}}const n=s?.Parent??Object;class i extends n{}Object.defineProperty(i,"name",{value:e});function l(o){var c;const d=s?.Parent?new i:this;a(d,o),(c=d._zod).deferred??(c.deferred=[]);for(const h of d._zod.deferred)h();return d}return Object.defineProperty(l,"init",{value:a}),Object.defineProperty(l,Symbol.hasInstance,{value:o=>s?.Parent&&o instanceof s.Parent?!0:o?._zod?.traits?.has(e)}),Object.defineProperty(l,"name",{value:e}),l}class lg extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class YY extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const XY={};function ux(e){return XY}function ZY(e){const t=Object.values(e).filter(a=>typeof a=="number");return Object.entries(e).filter(([a,n])=>t.indexOf(+a)===-1).map(([a,n])=>n)}function j6(e,t){return typeof t=="bigint"?t.toString():t}function lP(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function oP(e){return e==null}function cP(e){const t=e.startsWith("^")?1:0,s=e.endsWith("$")?e.length-1:e.length;return e.slice(t,s)}function a8e(e,t){const s=(e.toString().split(".")[1]||"").length,a=t.toString();let n=(a.split(".")[1]||"").length;if(n===0&&/\d?e-\d?/.test(a)){const c=a.match(/\d?e-(\d?)/);c?.[1]&&(n=Number.parseInt(c[1]))}const i=s>n?s:n,l=Number.parseInt(e.toFixed(i).replace(".","")),o=Number.parseInt(t.toFixed(i).replace(".",""));return l%o/10**i}const nB=Symbol("evaluating");function sa(e,t,s){let a;Object.defineProperty(e,t,{get(){if(a!==nB)return a===void 0&&(a=nB,a=s()),a},set(n){Object.defineProperty(e,t,{value:n})},configurable:!0})}function Cx(e,t,s){Object.defineProperty(e,t,{value:s,writable:!0,enumerable:!0,configurable:!0})}function Bm(...e){const t={};for(const s of e){const a=Object.getOwnPropertyDescriptors(s);Object.assign(t,a)}return Object.defineProperties({},t)}function iB(e){return JSON.stringify(e)}function n8e(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const JY="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Nw(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const i8e=lP(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function xb(e){if(Nw(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const s=t.prototype;return!(Nw(s)===!1||Object.prototype.hasOwnProperty.call(s,"isPrototypeOf")===!1)}function QY(e){return xb(e)?{...e}:Array.isArray(e)?[...e]:e}const l8e=new Set(["string","number","symbol"]);function Ng(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Um(e,t,s){const a=new e._zod.constr(t??e._zod.def);return(!t||s?.parent)&&(a._zod.parent=e),a}function yr(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function o8e(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const c8e={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function d8e(e,t){const s=e._zod.def,a=s.checks;if(a&&a.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const i=Bm(e._zod.def,{get shape(){const l={};for(const o in t){if(!(o in s.shape))throw new Error(`Unrecognized key: "${o}"`);t[o]&&(l[o]=s.shape[o])}return Cx(this,"shape",l),l},checks:[]});return Um(e,i)}function u8e(e,t){const s=e._zod.def,a=s.checks;if(a&&a.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const i=Bm(e._zod.def,{get shape(){const l={...e._zod.def.shape};for(const o in t){if(!(o in s.shape))throw new Error(`Unrecognized key: "${o}"`);t[o]&&delete l[o]}return Cx(this,"shape",l),l},checks:[]});return Um(e,i)}function h8e(e,t){if(!xb(t))throw new Error("Invalid input to extend: expected a plain object");const s=e._zod.def.checks;if(s&&s.length>0){const i=e._zod.def.shape;for(const l in t)if(Object.getOwnPropertyDescriptor(i,l)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const n=Bm(e._zod.def,{get shape(){const i={...e._zod.def.shape,...t};return Cx(this,"shape",i),i}});return Um(e,n)}function f8e(e,t){if(!xb(t))throw new Error("Invalid input to safeExtend: expected a plain object");const s=Bm(e._zod.def,{get shape(){const a={...e._zod.def.shape,...t};return Cx(this,"shape",a),a}});return Um(e,s)}function m8e(e,t){const s=Bm(e._zod.def,{get shape(){const a={...e._zod.def.shape,...t._zod.def.shape};return Cx(this,"shape",a),a},get catchall(){return t._zod.def.catchall},checks:[]});return Um(e,s)}function x8e(e,t,s){const n=t._zod.def.checks;if(n&&n.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const l=Bm(t._zod.def,{get shape(){const o=t._zod.def.shape,c={...o};if(s)for(const d in s){if(!(d in o))throw new Error(`Unrecognized key: "${d}"`);s[d]&&(c[d]=e?new e({type:"optional",innerType:o[d]}):o[d])}else for(const d in o)c[d]=e?new e({type:"optional",innerType:o[d]}):o[d];return Cx(this,"shape",c),c},checks:[]});return Um(t,l)}function p8e(e,t,s){const a=Bm(t._zod.def,{get shape(){const n=t._zod.def.shape,i={...n};if(s)for(const l in s){if(!(l in i))throw new Error(`Unrecognized key: "${l}"`);s[l]&&(i[l]=new e({type:"nonoptional",innerType:n[l]}))}else for(const l in n)i[l]=new e({type:"nonoptional",innerType:n[l]});return Cx(this,"shape",i),i}});return Um(t,a)}function Wp(e,t=0){if(e.aborted===!0)return!0;for(let s=t;s<e.issues.length;s++)if(e.issues[s]?.continue!==!0)return!0;return!1}function eX(e,t){return t.map(s=>{var a;return(a=s).path??(a.path=[]),s.path.unshift(e),s})}function L2(e){return typeof e=="string"?e:e?.message}function hx(e,t,s){const a={...e,path:e.path??[]};if(!e.message){const n=L2(e.inst?._zod.def?.error?.(e))??L2(t?.error?.(e))??L2(s.customError?.(e))??L2(s.localeError?.(e))??"Invalid input";a.message=n}return delete a.inst,delete a.continue,t?.reportInput||delete a.input,a}function dP(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function pb(...e){const[t,s,a]=e;return typeof t=="string"?{message:t,code:"custom",input:s,inst:a}:{...t}}const tX=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,j6,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},uP=St("$ZodError",tX),t4=St("$ZodError",tX,{Parent:Error});function g8e(e,t=s=>s.message){const s={},a=[];for(const n of e.issues)n.path.length>0?(s[n.path[0]]=s[n.path[0]]||[],s[n.path[0]].push(t(n))):a.push(t(n));return{formErrors:a,fieldErrors:s}}function v8e(e,t=s=>s.message){const s={_errors:[]},a=n=>{for(const i of n.issues)if(i.code==="invalid_union"&&i.errors.length)i.errors.map(l=>a({issues:l}));else if(i.code==="invalid_key")a({issues:i.issues});else if(i.code==="invalid_element")a({issues:i.issues});else if(i.path.length===0)s._errors.push(t(i));else{let l=s,o=0;for(;o<i.path.length;){const c=i.path[o];o===i.path.length-1?(l[c]=l[c]||{_errors:[]},l[c]._errors.push(t(i))):l[c]=l[c]||{_errors:[]},l=l[c],o++}}};return a(e),s}const r4=e=>(t,s,a,n)=>{const i=a?Object.assign(a,{async:!1}):{async:!1},l=t._zod.run({value:s,issues:[]},i);if(l instanceof Promise)throw new lg;if(l.issues.length){const o=new(n?.Err??e)(l.issues.map(c=>hx(c,i,ux())));throw JY(o,n?.callee),o}return l.value},y8e=r4(t4),s4=e=>async(t,s,a,n)=>{const i=a?Object.assign(a,{async:!0}):{async:!0};let l=t._zod.run({value:s,issues:[]},i);if(l instanceof Promise&&(l=await l),l.issues.length){const o=new(n?.Err??e)(l.issues.map(c=>hx(c,i,ux())));throw JY(o,n?.callee),o}return l.value},b8e=s4(t4),a4=e=>(t,s,a)=>{const n=a?{...a,async:!1}:{async:!1},i=t._zod.run({value:s,issues:[]},n);if(i instanceof Promise)throw new lg;return i.issues.length?{success:!1,error:new(e??uP)(i.issues.map(l=>hx(l,n,ux())))}:{success:!0,data:i.value}},j8e=a4(t4),n4=e=>async(t,s,a)=>{const n=a?Object.assign(a,{async:!0}):{async:!0};let i=t._zod.run({value:s,issues:[]},n);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new e(i.issues.map(l=>hx(l,n,ux())))}:{success:!0,data:i.value}},N8e=n4(t4),w8e=e=>(t,s,a)=>{const n=a?Object.assign(a,{direction:"backward"}):{direction:"backward"};return r4(e)(t,s,n)},S8e=e=>(t,s,a)=>r4(e)(t,s,a),_8e=e=>async(t,s,a)=>{const n=a?Object.assign(a,{direction:"backward"}):{direction:"backward"};return s4(e)(t,s,n)},k8e=e=>async(t,s,a)=>s4(e)(t,s,a),A8e=e=>(t,s,a)=>{const n=a?Object.assign(a,{direction:"backward"}):{direction:"backward"};return a4(e)(t,s,n)},C8e=e=>(t,s,a)=>a4(e)(t,s,a),T8e=e=>async(t,s,a)=>{const n=a?Object.assign(a,{direction:"backward"}):{direction:"backward"};return n4(e)(t,s,n)},E8e=e=>async(t,s,a)=>n4(e)(t,s,a),P8e=/^[cC][^\s-]{8,}$/,O8e=/^[0-9a-z]+$/,D8e=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,R8e=/^[0-9a-vA-V]{20}$/,M8e=/^[A-Za-z0-9]{27}$/,F8e=/^[a-zA-Z0-9_-]{21}$/,L8e=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,I8e=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,lB=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,B8e=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,U8e="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function z8e(){return new RegExp(U8e,"u")}const $8e=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,H8e=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,q8e=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,V8e=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,W8e=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,rX=/^[A-Za-z0-9_-]*$/,G8e=/^\+[1-9]\d{6,14}$/,sX="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",K8e=new RegExp(`^${sX}$`);function aX(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function Y8e(e){return new RegExp(`^${aX(e)}$`)}function X8e(e){const t=aX({precision:e.precision}),s=["Z"];e.local&&s.push(""),e.offset&&s.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const a=`${t}(?:${s.join("|")})`;return new RegExp(`^${sX}T(?:${a})$`)}const Z8e=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},J8e=/^-?\d+$/,Q8e=/^-?\d+(?:\.\d+)?$/,eDe=/^(?:true|false)$/i,tDe=/^[^A-Z]*$/,rDe=/^[^a-z]*$/,Eo=St("$ZodCheck",(e,t)=>{var s;e._zod??(e._zod={}),e._zod.def=t,(s=e._zod).onattach??(s.onattach=[])}),nX={number:"number",bigint:"bigint",object:"date"},iX=St("$ZodCheckLessThan",(e,t)=>{Eo.init(e,t);const s=nX[typeof t.value];e._zod.onattach.push(a=>{const n=a._zod.bag,i=(t.inclusive?n.maximum:n.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<i&&(t.inclusive?n.maximum=t.value:n.exclusiveMaximum=t.value)}),e._zod.check=a=>{(t.inclusive?a.value<=t.value:a.value<t.value)||a.issues.push({origin:s,code:"too_big",maximum:typeof t.value=="object"?t.value.getTime():t.value,input:a.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),lX=St("$ZodCheckGreaterThan",(e,t)=>{Eo.init(e,t);const s=nX[typeof t.value];e._zod.onattach.push(a=>{const n=a._zod.bag,i=(t.inclusive?n.minimum:n.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>i&&(t.inclusive?n.minimum=t.value:n.exclusiveMinimum=t.value)}),e._zod.check=a=>{(t.inclusive?a.value>=t.value:a.value>t.value)||a.issues.push({origin:s,code:"too_small",minimum:typeof t.value=="object"?t.value.getTime():t.value,input:a.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),sDe=St("$ZodCheckMultipleOf",(e,t)=>{Eo.init(e,t),e._zod.onattach.push(s=>{var a;(a=s._zod.bag).multipleOf??(a.multipleOf=t.value)}),e._zod.check=s=>{if(typeof s.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof s.value=="bigint"?s.value%t.value===BigInt(0):a8e(s.value,t.value)===0)||s.issues.push({origin:typeof s.value,code:"not_multiple_of",divisor:t.value,input:s.value,inst:e,continue:!t.abort})}}),aDe=St("$ZodCheckNumberFormat",(e,t)=>{Eo.init(e,t),t.format=t.format||"float64";const s=t.format?.includes("int"),a=s?"int":"number",[n,i]=c8e[t.format];e._zod.onattach.push(l=>{const o=l._zod.bag;o.format=t.format,o.minimum=n,o.maximum=i,s&&(o.pattern=J8e)}),e._zod.check=l=>{const o=l.value;if(s){if(!Number.isInteger(o)){l.issues.push({expected:a,format:t.format,code:"invalid_type",continue:!1,input:o,inst:e});return}if(!Number.isSafeInteger(o)){o>0?l.issues.push({input:o,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:a,inclusive:!0,continue:!t.abort}):l.issues.push({input:o,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:a,inclusive:!0,continue:!t.abort});return}}o<n&&l.issues.push({origin:"number",input:o,code:"too_small",minimum:n,inclusive:!0,inst:e,continue:!t.abort}),o>i&&l.issues.push({origin:"number",input:o,code:"too_big",maximum:i,inclusive:!0,inst:e,continue:!t.abort})}}),nDe=St("$ZodCheckMaxLength",(e,t)=>{var s;Eo.init(e,t),(s=e._zod.def).when??(s.when=a=>{const n=a.value;return!oP(n)&&n.length!==void 0}),e._zod.onattach.push(a=>{const n=a._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<n&&(a._zod.bag.maximum=t.maximum)}),e._zod.check=a=>{const n=a.value;if(n.length<=t.maximum)return;const l=dP(n);a.issues.push({origin:l,code:"too_big",maximum:t.maximum,inclusive:!0,input:n,inst:e,continue:!t.abort})}}),iDe=St("$ZodCheckMinLength",(e,t)=>{var s;Eo.init(e,t),(s=e._zod.def).when??(s.when=a=>{const n=a.value;return!oP(n)&&n.length!==void 0}),e._zod.onattach.push(a=>{const n=a._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>n&&(a._zod.bag.minimum=t.minimum)}),e._zod.check=a=>{const n=a.value;if(n.length>=t.minimum)return;const l=dP(n);a.issues.push({origin:l,code:"too_small",minimum:t.minimum,inclusive:!0,input:n,inst:e,continue:!t.abort})}}),lDe=St("$ZodCheckLengthEquals",(e,t)=>{var s;Eo.init(e,t),(s=e._zod.def).when??(s.when=a=>{const n=a.value;return!oP(n)&&n.length!==void 0}),e._zod.onattach.push(a=>{const n=a._zod.bag;n.minimum=t.length,n.maximum=t.length,n.length=t.length}),e._zod.check=a=>{const n=a.value,i=n.length;if(i===t.length)return;const l=dP(n),o=i>t.length;a.issues.push({origin:l,...o?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:a.value,inst:e,continue:!t.abort})}}),i4=St("$ZodCheckStringFormat",(e,t)=>{var s,a;Eo.init(e,t),e._zod.onattach.push(n=>{const i=n._zod.bag;i.format=t.format,t.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(t.pattern))}),t.pattern?(s=e._zod).check??(s.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:t.format,input:n.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(a=e._zod).check??(a.check=()=>{})}),oDe=St("$ZodCheckRegex",(e,t)=>{i4.init(e,t),e._zod.check=s=>{t.pattern.lastIndex=0,!t.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:"regex",input:s.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),cDe=St("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=tDe),i4.init(e,t)}),dDe=St("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=rDe),i4.init(e,t)}),uDe=St("$ZodCheckIncludes",(e,t)=>{Eo.init(e,t);const s=Ng(t.includes),a=new RegExp(typeof t.position=="number"?`^.{${t.position}}${s}`:s);t.pattern=a,e._zod.onattach.push(n=>{const i=n._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(a)}),e._zod.check=n=>{n.value.includes(t.includes,t.position)||n.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:n.value,inst:e,continue:!t.abort})}}),hDe=St("$ZodCheckStartsWith",(e,t)=>{Eo.init(e,t);const s=new RegExp(`^${Ng(t.prefix)}.*`);t.pattern??(t.pattern=s),e._zod.onattach.push(a=>{const n=a._zod.bag;n.patterns??(n.patterns=new Set),n.patterns.add(s)}),e._zod.check=a=>{a.value.startsWith(t.prefix)||a.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:a.value,inst:e,continue:!t.abort})}}),fDe=St("$ZodCheckEndsWith",(e,t)=>{Eo.init(e,t);const s=new RegExp(`.*${Ng(t.suffix)}$`);t.pattern??(t.pattern=s),e._zod.onattach.push(a=>{const n=a._zod.bag;n.patterns??(n.patterns=new Set),n.patterns.add(s)}),e._zod.check=a=>{a.value.endsWith(t.suffix)||a.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:a.value,inst:e,continue:!t.abort})}}),mDe=St("$ZodCheckOverwrite",(e,t)=>{Eo.init(e,t),e._zod.check=s=>{s.value=t.tx(s.value)}});class xDe{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const a=t.split(`
`).filter(l=>l),n=Math.min(...a.map(l=>l.length-l.trimStart().length)),i=a.map(l=>l.slice(n)).map(l=>" ".repeat(this.indent*2)+l);for(const l of i)this.content.push(l)}compile(){const t=Function,s=this?.args,n=[...(this?.content??[""]).map(i=>`  ${i}`)];return new t(...s,n.join(`
`))}}const pDe={major:4,minor:3,patch:5},Sn=St("$ZodType",(e,t)=>{var s;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=pDe;const a=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&a.unshift(e);for(const n of a)for(const i of n._zod.onattach)i(e);if(a.length===0)(s=e._zod).deferred??(s.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const n=(l,o,c)=>{let d=Wp(l),h;for(const m of o){if(m._zod.def.when){if(!m._zod.def.when(l))continue}else if(d)continue;const p=l.issues.length,x=m._zod.check(l);if(x instanceof Promise&&c?.async===!1)throw new lg;if(h||x instanceof Promise)h=(h??Promise.resolve()).then(async()=>{await x,l.issues.length!==p&&(d||(d=Wp(l,p)))});else{if(l.issues.length===p)continue;d||(d=Wp(l,p))}}return h?h.then(()=>l):l},i=(l,o,c)=>{if(Wp(l))return l.aborted=!0,l;const d=n(o,a,c);if(d instanceof Promise){if(c.async===!1)throw new lg;return d.then(h=>e._zod.parse(h,c))}return e._zod.parse(d,c)};e._zod.run=(l,o)=>{if(o.skipChecks)return e._zod.parse(l,o);if(o.direction==="backward"){const d=e._zod.parse({value:l.value,issues:[]},{...o,skipChecks:!0});return d instanceof Promise?d.then(h=>i(h,l,o)):i(d,l,o)}const c=e._zod.parse(l,o);if(c instanceof Promise){if(o.async===!1)throw new lg;return c.then(d=>n(d,a,o))}return n(c,a,o)}}sa(e,"~standard",()=>({validate:n=>{try{const i=j8e(e,n);return i.success?{value:i.data}:{issues:i.error?.issues}}catch{return N8e(e,n).then(l=>l.success?{value:l.data}:{issues:l.error?.issues})}},vendor:"zod",version:1}))}),hP=St("$ZodString",(e,t)=>{Sn.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??Z8e(e._zod.bag),e._zod.parse=(s,a)=>{if(t.coerce)try{s.value=String(s.value)}catch{}return typeof s.value=="string"||s.issues.push({expected:"string",code:"invalid_type",input:s.value,inst:e}),s}}),Xa=St("$ZodStringFormat",(e,t)=>{i4.init(e,t),hP.init(e,t)}),gDe=St("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=I8e),Xa.init(e,t)}),vDe=St("$ZodUUID",(e,t)=>{if(t.version){const a={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(a===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=lB(a))}else t.pattern??(t.pattern=lB());Xa.init(e,t)}),yDe=St("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=B8e),Xa.init(e,t)}),bDe=St("$ZodURL",(e,t)=>{Xa.init(e,t),e._zod.check=s=>{try{const a=s.value.trim(),n=new URL(a);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(n.hostname)||s.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:s.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(n.protocol.endsWith(":")?n.protocol.slice(0,-1):n.protocol)||s.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:s.value,inst:e,continue:!t.abort})),t.normalize?s.value=n.href:s.value=a;return}catch{s.issues.push({code:"invalid_format",format:"url",input:s.value,inst:e,continue:!t.abort})}}}),jDe=St("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=z8e()),Xa.init(e,t)}),NDe=St("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=F8e),Xa.init(e,t)}),wDe=St("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=P8e),Xa.init(e,t)}),SDe=St("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=O8e),Xa.init(e,t)}),_De=St("$ZodULID",(e,t)=>{t.pattern??(t.pattern=D8e),Xa.init(e,t)}),kDe=St("$ZodXID",(e,t)=>{t.pattern??(t.pattern=R8e),Xa.init(e,t)}),ADe=St("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=M8e),Xa.init(e,t)}),CDe=St("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=X8e(t)),Xa.init(e,t)}),TDe=St("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=K8e),Xa.init(e,t)}),EDe=St("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=Y8e(t)),Xa.init(e,t)}),PDe=St("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=L8e),Xa.init(e,t)}),ODe=St("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=$8e),Xa.init(e,t),e._zod.bag.format="ipv4"}),DDe=St("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=H8e),Xa.init(e,t),e._zod.bag.format="ipv6",e._zod.check=s=>{try{new URL(`http://[${s.value}]`)}catch{s.issues.push({code:"invalid_format",format:"ipv6",input:s.value,inst:e,continue:!t.abort})}}}),RDe=St("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=q8e),Xa.init(e,t)}),MDe=St("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=V8e),Xa.init(e,t),e._zod.check=s=>{const a=s.value.split("/");try{if(a.length!==2)throw new Error;const[n,i]=a;if(!i)throw new Error;const l=Number(i);if(`${l}`!==i)throw new Error;if(l<0||l>128)throw new Error;new URL(`http://[${n}]`)}catch{s.issues.push({code:"invalid_format",format:"cidrv6",input:s.value,inst:e,continue:!t.abort})}}});function oX(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const FDe=St("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=W8e),Xa.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=s=>{oX(s.value)||s.issues.push({code:"invalid_format",format:"base64",input:s.value,inst:e,continue:!t.abort})}});function LDe(e){if(!rX.test(e))return!1;const t=e.replace(/[-_]/g,a=>a==="-"?"+":"/"),s=t.padEnd(Math.ceil(t.length/4)*4,"=");return oX(s)}const IDe=St("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=rX),Xa.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=s=>{LDe(s.value)||s.issues.push({code:"invalid_format",format:"base64url",input:s.value,inst:e,continue:!t.abort})}}),BDe=St("$ZodE164",(e,t)=>{t.pattern??(t.pattern=G8e),Xa.init(e,t)});function UDe(e,t=null){try{const s=e.split(".");if(s.length!==3)return!1;const[a]=s;if(!a)return!1;const n=JSON.parse(atob(a));return!("typ"in n&&n?.typ!=="JWT"||!n.alg||t&&(!("alg"in n)||n.alg!==t))}catch{return!1}}const zDe=St("$ZodJWT",(e,t)=>{Xa.init(e,t),e._zod.check=s=>{UDe(s.value,t.alg)||s.issues.push({code:"invalid_format",format:"jwt",input:s.value,inst:e,continue:!t.abort})}}),cX=St("$ZodNumber",(e,t)=>{Sn.init(e,t),e._zod.pattern=e._zod.bag.pattern??Q8e,e._zod.parse=(s,a)=>{if(t.coerce)try{s.value=Number(s.value)}catch{}const n=s.value;if(typeof n=="number"&&!Number.isNaN(n)&&Number.isFinite(n))return s;const i=typeof n=="number"?Number.isNaN(n)?"NaN":Number.isFinite(n)?void 0:"Infinity":void 0;return s.issues.push({expected:"number",code:"invalid_type",input:n,inst:e,...i?{received:i}:{}}),s}}),$De=St("$ZodNumberFormat",(e,t)=>{aDe.init(e,t),cX.init(e,t)}),HDe=St("$ZodBoolean",(e,t)=>{Sn.init(e,t),e._zod.pattern=eDe,e._zod.parse=(s,a)=>{if(t.coerce)try{s.value=!!s.value}catch{}const n=s.value;return typeof n=="boolean"||s.issues.push({expected:"boolean",code:"invalid_type",input:n,inst:e}),s}}),qDe=St("$ZodUnknown",(e,t)=>{Sn.init(e,t),e._zod.parse=s=>s}),VDe=St("$ZodNever",(e,t)=>{Sn.init(e,t),e._zod.parse=(s,a)=>(s.issues.push({expected:"never",code:"invalid_type",input:s.value,inst:e}),s)});function oB(e,t,s){e.issues.length&&t.issues.push(...eX(s,e.issues)),t.value[s]=e.value}const WDe=St("$ZodArray",(e,t)=>{Sn.init(e,t),e._zod.parse=(s,a)=>{const n=s.value;if(!Array.isArray(n))return s.issues.push({expected:"array",code:"invalid_type",input:n,inst:e}),s;s.value=Array(n.length);const i=[];for(let l=0;l<n.length;l++){const o=n[l],c=t.element._zod.run({value:o,issues:[]},a);c instanceof Promise?i.push(c.then(d=>oB(d,s,l))):oB(c,s,l)}return i.length?Promise.all(i).then(()=>s):s}});function ww(e,t,s,a,n){if(e.issues.length){if(n&&!(s in a))return;t.issues.push(...eX(s,e.issues))}e.value===void 0?s in a&&(t.value[s]=void 0):t.value[s]=e.value}function dX(e){const t=Object.keys(e.shape);for(const a of t)if(!e.shape?.[a]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${a}": expected a Zod schema`);const s=o8e(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(s)}}function uX(e,t,s,a,n,i){const l=[],o=n.keySet,c=n.catchall._zod,d=c.def.type,h=c.optout==="optional";for(const m in t){if(o.has(m))continue;if(d==="never"){l.push(m);continue}const p=c.run({value:t[m],issues:[]},a);p instanceof Promise?e.push(p.then(x=>ww(x,s,m,t,h))):ww(p,s,m,t,h)}return l.length&&s.issues.push({code:"unrecognized_keys",keys:l,input:t,inst:i}),e.length?Promise.all(e).then(()=>s):s}const GDe=St("$ZodObject",(e,t)=>{if(Sn.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){const o=t.shape;Object.defineProperty(t,"shape",{get:()=>{const c={...o};return Object.defineProperty(t,"shape",{value:c}),c}})}const a=lP(()=>dX(t));sa(e._zod,"propValues",()=>{const o=t.shape,c={};for(const d in o){const h=o[d]._zod;if(h.values){c[d]??(c[d]=new Set);for(const m of h.values)c[d].add(m)}}return c});const n=Nw,i=t.catchall;let l;e._zod.parse=(o,c)=>{l??(l=a.value);const d=o.value;if(!n(d))return o.issues.push({expected:"object",code:"invalid_type",input:d,inst:e}),o;o.value={};const h=[],m=l.shape;for(const p of l.keys){const x=m[p],v=x._zod.optout==="optional",y=x._zod.run({value:d[p],issues:[]},c);y instanceof Promise?h.push(y.then(b=>ww(b,o,p,d,v))):ww(y,o,p,d,v)}return i?uX(h,d,o,c,a.value,e):h.length?Promise.all(h).then(()=>o):o}}),KDe=St("$ZodObjectJIT",(e,t)=>{GDe.init(e,t);const s=e._zod.parse,a=lP(()=>dX(t)),n=p=>{const x=new xDe(["shape","payload","ctx"]),v=a.value,y=w=>{const k=iB(w);return`shape[${k}]._zod.run({ value: input[${k}], issues: [] }, ctx)`};x.write("const input = payload.value;");const b=Object.create(null);let j=0;for(const w of v.keys)b[w]=`key_${j++}`;x.write("const newResult = {};");for(const w of v.keys){const k=b[w],_=iB(w),E=p[w]?._zod?.optout==="optional";x.write(`const ${k} = ${y(w)};`),E?x.write(`
        if (${k}.issues.length) {
          if (${_} in input) {
            payload.issues = payload.issues.concat(${k}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${_}, ...iss.path] : [${_}]
            })));
          }
        }
        
        if (${k}.value === undefined) {
          if (${_} in input) {
            newResult[${_}] = undefined;
          }
        } else {
          newResult[${_}] = ${k}.value;
        }
        
      `):x.write(`
        if (${k}.issues.length) {
          payload.issues = payload.issues.concat(${k}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${_}, ...iss.path] : [${_}]
          })));
        }
        
        if (${k}.value === undefined) {
          if (${_} in input) {
            newResult[${_}] = undefined;
          }
        } else {
          newResult[${_}] = ${k}.value;
        }
        
      `)}x.write("payload.value = newResult;"),x.write("return payload;");const S=x.compile();return(w,k)=>S(p,w,k)};let i;const l=Nw,o=!XY.jitless,d=o&&i8e.value,h=t.catchall;let m;e._zod.parse=(p,x)=>{m??(m=a.value);const v=p.value;return l(v)?o&&d&&x?.async===!1&&x.jitless!==!0?(i||(i=n(t.shape)),p=i(p,x),h?uX([],v,p,x,m,e):p):s(p,x):(p.issues.push({expected:"object",code:"invalid_type",input:v,inst:e}),p)}});function cB(e,t,s,a){for(const i of e)if(i.issues.length===0)return t.value=i.value,t;const n=e.filter(i=>!Wp(i));return n.length===1?(t.value=n[0].value,n[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:s,errors:e.map(i=>i.issues.map(l=>hx(l,a,ux())))}),t)}const YDe=St("$ZodUnion",(e,t)=>{Sn.init(e,t),sa(e._zod,"optin",()=>t.options.some(n=>n._zod.optin==="optional")?"optional":void 0),sa(e._zod,"optout",()=>t.options.some(n=>n._zod.optout==="optional")?"optional":void 0),sa(e._zod,"values",()=>{if(t.options.every(n=>n._zod.values))return new Set(t.options.flatMap(n=>Array.from(n._zod.values)))}),sa(e._zod,"pattern",()=>{if(t.options.every(n=>n._zod.pattern)){const n=t.options.map(i=>i._zod.pattern);return new RegExp(`^(${n.map(i=>cP(i.source)).join("|")})$`)}});const s=t.options.length===1,a=t.options[0]._zod.run;e._zod.parse=(n,i)=>{if(s)return a(n,i);let l=!1;const o=[];for(const c of t.options){const d=c._zod.run({value:n.value,issues:[]},i);if(d instanceof Promise)o.push(d),l=!0;else{if(d.issues.length===0)return d;o.push(d)}}return l?Promise.all(o).then(c=>cB(c,n,e,i)):cB(o,n,e,i)}}),XDe=St("$ZodIntersection",(e,t)=>{Sn.init(e,t),e._zod.parse=(s,a)=>{const n=s.value,i=t.left._zod.run({value:n,issues:[]},a),l=t.right._zod.run({value:n,issues:[]},a);return i instanceof Promise||l instanceof Promise?Promise.all([i,l]).then(([c,d])=>dB(s,c,d)):dB(s,i,l)}});function N6(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(xb(e)&&xb(t)){const s=Object.keys(t),a=Object.keys(e).filter(i=>s.indexOf(i)!==-1),n={...e,...t};for(const i of a){const l=N6(e[i],t[i]);if(!l.valid)return{valid:!1,mergeErrorPath:[i,...l.mergeErrorPath]};n[i]=l.data}return{valid:!0,data:n}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const s=[];for(let a=0;a<e.length;a++){const n=e[a],i=t[a],l=N6(n,i);if(!l.valid)return{valid:!1,mergeErrorPath:[a,...l.mergeErrorPath]};s.push(l.data)}return{valid:!0,data:s}}return{valid:!1,mergeErrorPath:[]}}function dB(e,t,s){const a=new Map;let n;for(const o of t.issues)if(o.code==="unrecognized_keys"){n??(n=o);for(const c of o.keys)a.has(c)||a.set(c,{}),a.get(c).l=!0}else e.issues.push(o);for(const o of s.issues)if(o.code==="unrecognized_keys")for(const c of o.keys)a.has(c)||a.set(c,{}),a.get(c).r=!0;else e.issues.push(o);const i=[...a].filter(([,o])=>o.l&&o.r).map(([o])=>o);if(i.length&&n&&e.issues.push({...n,keys:i}),Wp(e))return e;const l=N6(t.value,s.value);if(!l.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(l.mergeErrorPath)}`);return e.value=l.data,e}const ZDe=St("$ZodEnum",(e,t)=>{Sn.init(e,t);const s=ZY(t.entries),a=new Set(s);e._zod.values=a,e._zod.pattern=new RegExp(`^(${s.filter(n=>l8e.has(typeof n)).map(n=>typeof n=="string"?Ng(n):n.toString()).join("|")})$`),e._zod.parse=(n,i)=>{const l=n.value;return a.has(l)||n.issues.push({code:"invalid_value",values:s,input:l,inst:e}),n}}),JDe=St("$ZodLiteral",(e,t)=>{if(Sn.init(e,t),t.values.length===0)throw new Error("Cannot create literal schema with no valid values");const s=new Set(t.values);e._zod.values=s,e._zod.pattern=new RegExp(`^(${t.values.map(a=>typeof a=="string"?Ng(a):a?Ng(a.toString()):String(a)).join("|")})$`),e._zod.parse=(a,n)=>{const i=a.value;return s.has(i)||a.issues.push({code:"invalid_value",values:t.values,input:i,inst:e}),a}}),QDe=St("$ZodTransform",(e,t)=>{Sn.init(e,t),e._zod.parse=(s,a)=>{if(a.direction==="backward")throw new YY(e.constructor.name);const n=t.transform(s.value,s);if(a.async)return(n instanceof Promise?n:Promise.resolve(n)).then(l=>(s.value=l,s));if(n instanceof Promise)throw new lg;return s.value=n,s}});function uB(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const hX=St("$ZodOptional",(e,t)=>{Sn.init(e,t),e._zod.optin="optional",e._zod.optout="optional",sa(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),sa(e._zod,"pattern",()=>{const s=t.innerType._zod.pattern;return s?new RegExp(`^(${cP(s.source)})?$`):void 0}),e._zod.parse=(s,a)=>{if(t.innerType._zod.optin==="optional"){const n=t.innerType._zod.run(s,a);return n instanceof Promise?n.then(i=>uB(i,s.value)):uB(n,s.value)}return s.value===void 0?s:t.innerType._zod.run(s,a)}}),eRe=St("$ZodExactOptional",(e,t)=>{hX.init(e,t),sa(e._zod,"values",()=>t.innerType._zod.values),sa(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(s,a)=>t.innerType._zod.run(s,a)}),tRe=St("$ZodNullable",(e,t)=>{Sn.init(e,t),sa(e._zod,"optin",()=>t.innerType._zod.optin),sa(e._zod,"optout",()=>t.innerType._zod.optout),sa(e._zod,"pattern",()=>{const s=t.innerType._zod.pattern;return s?new RegExp(`^(${cP(s.source)}|null)$`):void 0}),sa(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(s,a)=>s.value===null?s:t.innerType._zod.run(s,a)}),rRe=St("$ZodDefault",(e,t)=>{Sn.init(e,t),e._zod.optin="optional",sa(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(s,a)=>{if(a.direction==="backward")return t.innerType._zod.run(s,a);if(s.value===void 0)return s.value=t.defaultValue,s;const n=t.innerType._zod.run(s,a);return n instanceof Promise?n.then(i=>hB(i,t)):hB(n,t)}});function hB(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const sRe=St("$ZodPrefault",(e,t)=>{Sn.init(e,t),e._zod.optin="optional",sa(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(s,a)=>(a.direction==="backward"||s.value===void 0&&(s.value=t.defaultValue),t.innerType._zod.run(s,a))}),aRe=St("$ZodNonOptional",(e,t)=>{Sn.init(e,t),sa(e._zod,"values",()=>{const s=t.innerType._zod.values;return s?new Set([...s].filter(a=>a!==void 0)):void 0}),e._zod.parse=(s,a)=>{const n=t.innerType._zod.run(s,a);return n instanceof Promise?n.then(i=>fB(i,e)):fB(n,e)}});function fB(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const nRe=St("$ZodCatch",(e,t)=>{Sn.init(e,t),sa(e._zod,"optin",()=>t.innerType._zod.optin),sa(e._zod,"optout",()=>t.innerType._zod.optout),sa(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(s,a)=>{if(a.direction==="backward")return t.innerType._zod.run(s,a);const n=t.innerType._zod.run(s,a);return n instanceof Promise?n.then(i=>(s.value=i.value,i.issues.length&&(s.value=t.catchValue({...s,error:{issues:i.issues.map(l=>hx(l,a,ux()))},input:s.value}),s.issues=[]),s)):(s.value=n.value,n.issues.length&&(s.value=t.catchValue({...s,error:{issues:n.issues.map(i=>hx(i,a,ux()))},input:s.value}),s.issues=[]),s)}}),iRe=St("$ZodPipe",(e,t)=>{Sn.init(e,t),sa(e._zod,"values",()=>t.in._zod.values),sa(e._zod,"optin",()=>t.in._zod.optin),sa(e._zod,"optout",()=>t.out._zod.optout),sa(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(s,a)=>{if(a.direction==="backward"){const i=t.out._zod.run(s,a);return i instanceof Promise?i.then(l=>I2(l,t.in,a)):I2(i,t.in,a)}const n=t.in._zod.run(s,a);return n instanceof Promise?n.then(i=>I2(i,t.out,a)):I2(n,t.out,a)}});function I2(e,t,s){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},s)}const lRe=St("$ZodReadonly",(e,t)=>{Sn.init(e,t),sa(e._zod,"propValues",()=>t.innerType._zod.propValues),sa(e._zod,"values",()=>t.innerType._zod.values),sa(e._zod,"optin",()=>t.innerType?._zod?.optin),sa(e._zod,"optout",()=>t.innerType?._zod?.optout),e._zod.parse=(s,a)=>{if(a.direction==="backward")return t.innerType._zod.run(s,a);const n=t.innerType._zod.run(s,a);return n instanceof Promise?n.then(mB):mB(n)}});function mB(e){return e.value=Object.freeze(e.value),e}const oRe=St("$ZodCustom",(e,t)=>{Eo.init(e,t),Sn.init(e,t),e._zod.parse=(s,a)=>s,e._zod.check=s=>{const a=s.value,n=t.fn(a);if(n instanceof Promise)return n.then(i=>xB(i,s,a,e));xB(n,s,a,e)}});function xB(e,t,s,a){if(!e){const n={code:"custom",input:s,inst:a,path:[...a._zod.def.path??[]],continue:!a._zod.def.abort};a._zod.def.params&&(n.params=a._zod.def.params),t.issues.push(pb(n))}}var pB;class cRe{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...s){const a=s[0];return this._map.set(t,a),a&&typeof a=="object"&&"id"in a&&this._idmap.set(a.id,t),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const s=this._map.get(t);return s&&typeof s=="object"&&"id"in s&&this._idmap.delete(s.id),this._map.delete(t),this}get(t){const s=t._zod.parent;if(s){const a={...this.get(s)??{}};delete a.id;const n={...a,...this._map.get(t)};return Object.keys(n).length?n:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function dRe(){return new cRe}(pB=globalThis).__zod_globalRegistry??(pB.__zod_globalRegistry=dRe());const fy=globalThis.__zod_globalRegistry;function uRe(e,t){return new e({type:"string",...yr(t)})}function hRe(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...yr(t)})}function gB(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...yr(t)})}function fRe(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...yr(t)})}function mRe(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...yr(t)})}function xRe(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...yr(t)})}function pRe(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...yr(t)})}function gRe(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...yr(t)})}function vRe(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...yr(t)})}function yRe(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...yr(t)})}function bRe(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...yr(t)})}function jRe(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...yr(t)})}function NRe(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...yr(t)})}function wRe(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...yr(t)})}function SRe(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...yr(t)})}function _Re(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...yr(t)})}function kRe(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...yr(t)})}function ARe(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...yr(t)})}function CRe(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...yr(t)})}function TRe(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...yr(t)})}function ERe(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...yr(t)})}function PRe(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...yr(t)})}function ORe(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...yr(t)})}function DRe(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...yr(t)})}function RRe(e,t){return new e({type:"string",format:"date",check:"string_format",...yr(t)})}function MRe(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...yr(t)})}function FRe(e,t){return new e({type:"string",format:"duration",check:"string_format",...yr(t)})}function LRe(e,t){return new e({type:"number",checks:[],...yr(t)})}function IRe(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...yr(t)})}function BRe(e,t){return new e({type:"boolean",...yr(t)})}function URe(e){return new e({type:"unknown"})}function zRe(e,t){return new e({type:"never",...yr(t)})}function vB(e,t){return new iX({check:"less_than",...yr(t),value:e,inclusive:!1})}function hk(e,t){return new iX({check:"less_than",...yr(t),value:e,inclusive:!0})}function yB(e,t){return new lX({check:"greater_than",...yr(t),value:e,inclusive:!1})}function fk(e,t){return new lX({check:"greater_than",...yr(t),value:e,inclusive:!0})}function bB(e,t){return new sDe({check:"multiple_of",...yr(t),value:e})}function fX(e,t){return new nDe({check:"max_length",...yr(t),maximum:e})}function Sw(e,t){return new iDe({check:"min_length",...yr(t),minimum:e})}function mX(e,t){return new lDe({check:"length_equals",...yr(t),length:e})}function $Re(e,t){return new oDe({check:"string_format",format:"regex",...yr(t),pattern:e})}function HRe(e){return new cDe({check:"string_format",format:"lowercase",...yr(e)})}function qRe(e){return new dDe({check:"string_format",format:"uppercase",...yr(e)})}function VRe(e,t){return new uDe({check:"string_format",format:"includes",...yr(t),includes:e})}function WRe(e,t){return new hDe({check:"string_format",format:"starts_with",...yr(t),prefix:e})}function GRe(e,t){return new fDe({check:"string_format",format:"ends_with",...yr(t),suffix:e})}function Zg(e){return new mDe({check:"overwrite",tx:e})}function KRe(e){return Zg(t=>t.normalize(e))}function YRe(){return Zg(e=>e.trim())}function XRe(){return Zg(e=>e.toLowerCase())}function ZRe(){return Zg(e=>e.toUpperCase())}function JRe(){return Zg(e=>n8e(e))}function QRe(e,t,s){return new e({type:"array",element:t,...yr(s)})}function eMe(e,t,s){return new e({type:"custom",check:"custom",fn:t,...yr(s)})}function tMe(e){const t=rMe(s=>(s.addIssue=a=>{if(typeof a=="string")s.issues.push(pb(a,s.value,t._zod.def));else{const n=a;n.fatal&&(n.continue=!1),n.code??(n.code="custom"),n.input??(n.input=s.value),n.inst??(n.inst=t),n.continue??(n.continue=!t._zod.def.abort),s.issues.push(pb(n))}},e(s.value,s)));return t}function rMe(e,t){const s=new Eo({check:"custom",...yr(t)});return s._zod.check=e,s}function xX(e){let t=e?.target??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:e?.metadata??fy,target:t,unrepresentable:e?.unrepresentable??"throw",override:e?.override??(()=>{}),io:e?.io??"output",counter:0,seen:new Map,cycles:e?.cycles??"ref",reused:e?.reused??"inline",external:e?.external??void 0}}function al(e,t,s={path:[],schemaPath:[]}){var a;const n=e._zod.def,i=t.seen.get(e);if(i)return i.count++,s.schemaPath.includes(e)&&(i.cycle=s.path),i.schema;const l={schema:{},count:1,cycle:void 0,path:s.path};t.seen.set(e,l);const o=e._zod.toJSONSchema?.();if(o)l.schema=o;else{const h={...s,schemaPath:[...s.schemaPath,e],path:s.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,l.schema,h);else{const p=l.schema,x=t.processors[n.type];if(!x)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${n.type}`);x(e,t,p,h)}const m=e._zod.parent;m&&(l.ref||(l.ref=m),al(m,t,h),t.seen.get(m).isParent=!0)}const c=t.metadataRegistry.get(e);return c&&Object.assign(l.schema,c),t.io==="input"&&Il(e)&&(delete l.schema.examples,delete l.schema.default),t.io==="input"&&l.schema._prefault&&((a=l.schema).default??(a.default=l.schema._prefault)),delete l.schema._prefault,t.seen.get(e).schema}function pX(e,t){const s=e.seen.get(t);if(!s)throw new Error("Unprocessed schema. This is a bug in Zod.");const a=new Map;for(const l of e.seen.entries()){const o=e.metadataRegistry.get(l[0])?.id;if(o){const c=a.get(o);if(c&&c!==l[0])throw new Error(`Duplicate schema id "${o}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);a.set(o,l[0])}}const n=l=>{const o=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const m=e.external.registry.get(l[0])?.id,p=e.external.uri??(v=>v);if(m)return{ref:p(m)};const x=l[1].defId??l[1].schema.id??`schema${e.counter++}`;return l[1].defId=x,{defId:x,ref:`${p("__shared")}#/${o}/${x}`}}if(l[1]===s)return{ref:"#"};const d=`#/${o}/`,h=l[1].schema.id??`__schema${e.counter++}`;return{defId:h,ref:d+h}},i=l=>{if(l[1].schema.$ref)return;const o=l[1],{ref:c,defId:d}=n(l);o.def={...o.schema},d&&(o.defId=d);const h=o.schema;for(const m in h)delete h[m];h.$ref=c};if(e.cycles==="throw")for(const l of e.seen.entries()){const o=l[1];if(o.cycle)throw new Error(`Cycle detected: #/${o.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const l of e.seen.entries()){const o=l[1];if(t===l[0]){i(l);continue}if(e.external){const d=e.external.registry.get(l[0])?.id;if(t!==l[0]&&d){i(l);continue}}if(e.metadataRegistry.get(l[0])?.id){i(l);continue}if(o.cycle){i(l);continue}if(o.count>1&&e.reused==="ref"){i(l);continue}}}function gX(e,t){const s=e.seen.get(t);if(!s)throw new Error("Unprocessed schema. This is a bug in Zod.");const a=l=>{const o=e.seen.get(l);if(o.ref===null)return;const c=o.def??o.schema,d={...c},h=o.ref;if(o.ref=null,h){a(h);const p=e.seen.get(h),x=p.schema;if(x.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(c.allOf=c.allOf??[],c.allOf.push(x)):Object.assign(c,x),Object.assign(c,d),l._zod.parent===h)for(const y in c)y==="$ref"||y==="allOf"||y in d||delete c[y];if(x.$ref)for(const y in c)y==="$ref"||y==="allOf"||y in p.def&&JSON.stringify(c[y])===JSON.stringify(p.def[y])&&delete c[y]}const m=l._zod.parent;if(m&&m!==h){a(m);const p=e.seen.get(m);if(p?.schema.$ref&&(c.$ref=p.schema.$ref,p.def))for(const x in c)x==="$ref"||x==="allOf"||x in p.def&&JSON.stringify(c[x])===JSON.stringify(p.def[x])&&delete c[x]}e.override({zodSchema:l,jsonSchema:c,path:o.path??[]})};for(const l of[...e.seen.entries()].reverse())a(l[0]);const n={};if(e.target==="draft-2020-12"?n.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?n.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?n.$schema="http://json-schema.org/draft-04/schema#":e.target,e.external?.uri){const l=e.external.registry.get(t)?.id;if(!l)throw new Error("Schema is missing an `id` property");n.$id=e.external.uri(l)}Object.assign(n,s.def??s.schema);const i=e.external?.defs??{};for(const l of e.seen.entries()){const o=l[1];o.def&&o.defId&&(i[o.defId]=o.def)}e.external||Object.keys(i).length>0&&(e.target==="draft-2020-12"?n.$defs=i:n.definitions=i);try{const l=JSON.parse(JSON.stringify(n));return Object.defineProperty(l,"~standard",{value:{...t["~standard"],jsonSchema:{input:_w(t,"input",e.processors),output:_w(t,"output",e.processors)}},enumerable:!1,writable:!1}),l}catch{throw new Error("Error converting schema to JSON.")}}function Il(e,t){const s=t??{seen:new Set};if(s.seen.has(e))return!1;s.seen.add(e);const a=e._zod.def;if(a.type==="transform")return!0;if(a.type==="array")return Il(a.element,s);if(a.type==="set")return Il(a.valueType,s);if(a.type==="lazy")return Il(a.getter(),s);if(a.type==="promise"||a.type==="optional"||a.type==="nonoptional"||a.type==="nullable"||a.type==="readonly"||a.type==="default"||a.type==="prefault")return Il(a.innerType,s);if(a.type==="intersection")return Il(a.left,s)||Il(a.right,s);if(a.type==="record"||a.type==="map")return Il(a.keyType,s)||Il(a.valueType,s);if(a.type==="pipe")return Il(a.in,s)||Il(a.out,s);if(a.type==="object"){for(const n in a.shape)if(Il(a.shape[n],s))return!0;return!1}if(a.type==="union"){for(const n of a.options)if(Il(n,s))return!0;return!1}if(a.type==="tuple"){for(const n of a.items)if(Il(n,s))return!0;return!!(a.rest&&Il(a.rest,s))}return!1}const sMe=(e,t={})=>s=>{const a=xX({...s,processors:t});return al(e,a),pX(a,e),gX(a,e)},_w=(e,t,s={})=>a=>{const{libraryOptions:n,target:i}=a??{},l=xX({...n??{},target:i,io:t,processors:s});return al(e,l),pX(l,e),gX(l,e)},aMe={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},nMe=(e,t,s,a)=>{const n=s;n.type="string";const{minimum:i,maximum:l,format:o,patterns:c,contentEncoding:d}=e._zod.bag;if(typeof i=="number"&&(n.minLength=i),typeof l=="number"&&(n.maxLength=l),o&&(n.format=aMe[o]??o,n.format===""&&delete n.format,o==="time"&&delete n.format),d&&(n.contentEncoding=d),c&&c.size>0){const h=[...c];h.length===1?n.pattern=h[0].source:h.length>1&&(n.allOf=[...h.map(m=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:m.source}))])}},iMe=(e,t,s,a)=>{const n=s,{minimum:i,maximum:l,format:o,multipleOf:c,exclusiveMaximum:d,exclusiveMinimum:h}=e._zod.bag;typeof o=="string"&&o.includes("int")?n.type="integer":n.type="number",typeof h=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(n.minimum=h,n.exclusiveMinimum=!0):n.exclusiveMinimum=h),typeof i=="number"&&(n.minimum=i,typeof h=="number"&&t.target!=="draft-04"&&(h>=i?delete n.minimum:delete n.exclusiveMinimum)),typeof d=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(n.maximum=d,n.exclusiveMaximum=!0):n.exclusiveMaximum=d),typeof l=="number"&&(n.maximum=l,typeof d=="number"&&t.target!=="draft-04"&&(d<=l?delete n.maximum:delete n.exclusiveMaximum)),typeof c=="number"&&(n.multipleOf=c)},lMe=(e,t,s,a)=>{s.type="boolean"},oMe=(e,t,s,a)=>{s.not={}},cMe=(e,t,s,a)=>{},dMe=(e,t,s,a)=>{const n=e._zod.def,i=ZY(n.entries);i.every(l=>typeof l=="number")&&(s.type="number"),i.every(l=>typeof l=="string")&&(s.type="string"),s.enum=i},uMe=(e,t,s,a)=>{const n=e._zod.def,i=[];for(const l of n.values)if(l===void 0){if(t.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof l=="bigint"){if(t.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");i.push(Number(l))}else i.push(l);if(i.length!==0)if(i.length===1){const l=i[0];s.type=l===null?"null":typeof l,t.target==="draft-04"||t.target==="openapi-3.0"?s.enum=[l]:s.const=l}else i.every(l=>typeof l=="number")&&(s.type="number"),i.every(l=>typeof l=="string")&&(s.type="string"),i.every(l=>typeof l=="boolean")&&(s.type="boolean"),i.every(l=>l===null)&&(s.type="null"),s.enum=i},hMe=(e,t,s,a)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},fMe=(e,t,s,a)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},mMe=(e,t,s,a)=>{const n=s,i=e._zod.def,{minimum:l,maximum:o}=e._zod.bag;typeof l=="number"&&(n.minItems=l),typeof o=="number"&&(n.maxItems=o),n.type="array",n.items=al(i.element,t,{...a,path:[...a.path,"items"]})},xMe=(e,t,s,a)=>{const n=s,i=e._zod.def;n.type="object",n.properties={};const l=i.shape;for(const d in l)n.properties[d]=al(l[d],t,{...a,path:[...a.path,"properties",d]});const o=new Set(Object.keys(l)),c=new Set([...o].filter(d=>{const h=i.shape[d]._zod;return t.io==="input"?h.optin===void 0:h.optout===void 0}));c.size>0&&(n.required=Array.from(c)),i.catchall?._zod.def.type==="never"?n.additionalProperties=!1:i.catchall?i.catchall&&(n.additionalProperties=al(i.catchall,t,{...a,path:[...a.path,"additionalProperties"]})):t.io==="output"&&(n.additionalProperties=!1)},pMe=(e,t,s,a)=>{const n=e._zod.def,i=n.inclusive===!1,l=n.options.map((o,c)=>al(o,t,{...a,path:[...a.path,i?"oneOf":"anyOf",c]}));i?s.oneOf=l:s.anyOf=l},gMe=(e,t,s,a)=>{const n=e._zod.def,i=al(n.left,t,{...a,path:[...a.path,"allOf",0]}),l=al(n.right,t,{...a,path:[...a.path,"allOf",1]}),o=d=>"allOf"in d&&Object.keys(d).length===1,c=[...o(i)?i.allOf:[i],...o(l)?l.allOf:[l]];s.allOf=c},vMe=(e,t,s,a)=>{const n=e._zod.def,i=al(n.innerType,t,a),l=t.seen.get(e);t.target==="openapi-3.0"?(l.ref=n.innerType,s.nullable=!0):s.anyOf=[i,{type:"null"}]},yMe=(e,t,s,a)=>{const n=e._zod.def;al(n.innerType,t,a);const i=t.seen.get(e);i.ref=n.innerType},bMe=(e,t,s,a)=>{const n=e._zod.def;al(n.innerType,t,a);const i=t.seen.get(e);i.ref=n.innerType,s.default=JSON.parse(JSON.stringify(n.defaultValue))},jMe=(e,t,s,a)=>{const n=e._zod.def;al(n.innerType,t,a);const i=t.seen.get(e);i.ref=n.innerType,t.io==="input"&&(s._prefault=JSON.parse(JSON.stringify(n.defaultValue)))},NMe=(e,t,s,a)=>{const n=e._zod.def;al(n.innerType,t,a);const i=t.seen.get(e);i.ref=n.innerType;let l;try{l=n.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}s.default=l},wMe=(e,t,s,a)=>{const n=e._zod.def,i=t.io==="input"?n.in._zod.def.type==="transform"?n.out:n.in:n.out;al(i,t,a);const l=t.seen.get(e);l.ref=i},SMe=(e,t,s,a)=>{const n=e._zod.def;al(n.innerType,t,a);const i=t.seen.get(e);i.ref=n.innerType,s.readOnly=!0},vX=(e,t,s,a)=>{const n=e._zod.def;al(n.innerType,t,a);const i=t.seen.get(e);i.ref=n.innerType};function jB(e,t){try{var s=e()}catch(a){return t(a)}return s&&s.then?s.then(void 0,t):s}function _Me(e,t){for(var s={};e.length;){var a=e[0],n=a.code,i=a.message,l=a.path.join(".");if(!s[l])if("unionErrors"in a){var o=a.unionErrors[0].errors[0];s[l]={message:o.message,type:o.code}}else s[l]={message:i,type:n};if("unionErrors"in a&&a.unionErrors.forEach(function(h){return h.errors.forEach(function(m){return e.push(m)})}),t){var c=s[l].types,d=c&&c[a.code];s[l]=sP(l,t,s,n,d?[].concat(d,a.message):a.message)}e.shift()}return s}function kMe(e,t){for(var s={};e.length;){var a=e[0],n=a.code,i=a.message,l=a.path.join(".");if(!s[l])if(a.code==="invalid_union"&&a.errors.length>0){var o=a.errors[0][0];s[l]={message:o.message,type:o.code}}else s[l]={message:i,type:n};if(a.code==="invalid_union"&&a.errors.forEach(function(h){return h.forEach(function(m){return e.push(m)})}),t){var c=s[l].types,d=c&&c[a.code];s[l]=sP(l,t,s,n,d?[].concat(d,a.message):a.message)}e.shift()}return s}function Tx(e,t,s){if(s===void 0&&(s={}),(function(a){return"_def"in a&&typeof a._def=="object"&&"typeName"in a._def})(e))return function(a,n,i){try{return Promise.resolve(jB(function(){return Promise.resolve(e[s.mode==="sync"?"parse":"parseAsync"](a,t)).then(function(l){return i.shouldUseNativeValidation&&b6({},i),{errors:{},values:s.raw?Object.assign({},a):l}})},function(l){if((function(o){return Array.isArray(o?.issues)})(l))return{values:{},errors:sB(_Me(l.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw l}))}catch(l){return Promise.reject(l)}};if((function(a){return"_zod"in a&&typeof a._zod=="object"})(e))return function(a,n,i){try{return Promise.resolve(jB(function(){return Promise.resolve((s.mode==="sync"?y8e:b8e)(e,a,t)).then(function(l){return i.shouldUseNativeValidation&&b6({},i),{errors:{},values:s.raw?Object.assign({},a):l}})},function(l){if((function(o){return o instanceof uP})(l))return{values:{},errors:sB(kMe(l.issues,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw l}))}catch(l){return Promise.reject(l)}};throw new Error("Invalid input: not a Zod schema")}const AMe=St("ZodISODateTime",(e,t)=>{CDe.init(e,t),nn.init(e,t)});function CMe(e){return DRe(AMe,e)}const TMe=St("ZodISODate",(e,t)=>{TDe.init(e,t),nn.init(e,t)});function EMe(e){return RRe(TMe,e)}const PMe=St("ZodISOTime",(e,t)=>{EDe.init(e,t),nn.init(e,t)});function OMe(e){return MRe(PMe,e)}const DMe=St("ZodISODuration",(e,t)=>{PDe.init(e,t),nn.init(e,t)});function RMe(e){return FRe(DMe,e)}const MMe=(e,t)=>{uP.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:s=>v8e(e,s)},flatten:{value:s=>g8e(e,s)},addIssue:{value:s=>{e.issues.push(s),e.message=JSON.stringify(e.issues,j6,2)}},addIssues:{value:s=>{e.issues.push(...s),e.message=JSON.stringify(e.issues,j6,2)}},isEmpty:{get(){return e.issues.length===0}}})},nd=St("ZodError",MMe,{Parent:Error}),FMe=r4(nd),LMe=s4(nd),IMe=a4(nd),BMe=n4(nd),UMe=w8e(nd),zMe=S8e(nd),$Me=_8e(nd),HMe=k8e(nd),qMe=A8e(nd),VMe=C8e(nd),WMe=T8e(nd),GMe=E8e(nd),_n=St("ZodType",(e,t)=>(Sn.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:_w(e,"input"),output:_w(e,"output")}}),e.toJSONSchema=sMe(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...s)=>e.clone(Bm(t,{checks:[...t.checks??[],...s.map(a=>typeof a=="function"?{_zod:{check:a,def:{check:"custom"},onattach:[]}}:a)]}),{parent:!0}),e.with=e.check,e.clone=(s,a)=>Um(e,s,a),e.brand=()=>e,e.register=((s,a)=>(s.add(e,a),e)),e.parse=(s,a)=>FMe(e,s,a,{callee:e.parse}),e.safeParse=(s,a)=>IMe(e,s,a),e.parseAsync=async(s,a)=>LMe(e,s,a,{callee:e.parseAsync}),e.safeParseAsync=async(s,a)=>BMe(e,s,a),e.spa=e.safeParseAsync,e.encode=(s,a)=>UMe(e,s,a),e.decode=(s,a)=>zMe(e,s,a),e.encodeAsync=async(s,a)=>$Me(e,s,a),e.decodeAsync=async(s,a)=>HMe(e,s,a),e.safeEncode=(s,a)=>qMe(e,s,a),e.safeDecode=(s,a)=>VMe(e,s,a),e.safeEncodeAsync=async(s,a)=>WMe(e,s,a),e.safeDecodeAsync=async(s,a)=>GMe(e,s,a),e.refine=(s,a)=>e.check(U7e(s,a)),e.superRefine=s=>e.check(z7e(s)),e.overwrite=s=>e.check(Zg(s)),e.optional=()=>_B(e),e.exactOptional=()=>A7e(e),e.nullable=()=>kB(e),e.nullish=()=>_B(kB(e)),e.nonoptional=s=>D7e(e,s),e.array=()=>$u(e),e.or=s=>b7e([e,s]),e.and=s=>N7e(e,s),e.transform=s=>AB(e,_7e(s)),e.default=s=>E7e(e,s),e.prefault=s=>O7e(e,s),e.catch=s=>M7e(e,s),e.pipe=s=>AB(e,s),e.readonly=()=>I7e(e),e.describe=s=>{const a=e.clone();return fy.add(a,{description:s}),a},Object.defineProperty(e,"description",{get(){return fy.get(e)?.description},configurable:!0}),e.meta=(...s)=>{if(s.length===0)return fy.get(e);const a=e.clone();return fy.add(a,s[0]),a},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=s=>s(e),e)),yX=St("_ZodString",(e,t)=>{hP.init(e,t),_n.init(e,t),e._zod.processJSONSchema=(a,n,i)=>nMe(e,a,n);const s=e._zod.bag;e.format=s.format??null,e.minLength=s.minimum??null,e.maxLength=s.maximum??null,e.regex=(...a)=>e.check($Re(...a)),e.includes=(...a)=>e.check(VRe(...a)),e.startsWith=(...a)=>e.check(WRe(...a)),e.endsWith=(...a)=>e.check(GRe(...a)),e.min=(...a)=>e.check(Sw(...a)),e.max=(...a)=>e.check(fX(...a)),e.length=(...a)=>e.check(mX(...a)),e.nonempty=(...a)=>e.check(Sw(1,...a)),e.lowercase=a=>e.check(HRe(a)),e.uppercase=a=>e.check(qRe(a)),e.trim=()=>e.check(YRe()),e.normalize=(...a)=>e.check(KRe(...a)),e.toLowerCase=()=>e.check(XRe()),e.toUpperCase=()=>e.check(ZRe()),e.slugify=()=>e.check(JRe())}),KMe=St("ZodString",(e,t)=>{hP.init(e,t),yX.init(e,t),e.email=s=>e.check(hRe(YMe,s)),e.url=s=>e.check(gRe(XMe,s)),e.jwt=s=>e.check(ORe(u7e,s)),e.emoji=s=>e.check(vRe(ZMe,s)),e.guid=s=>e.check(gB(NB,s)),e.uuid=s=>e.check(fRe(B2,s)),e.uuidv4=s=>e.check(mRe(B2,s)),e.uuidv6=s=>e.check(xRe(B2,s)),e.uuidv7=s=>e.check(pRe(B2,s)),e.nanoid=s=>e.check(yRe(JMe,s)),e.guid=s=>e.check(gB(NB,s)),e.cuid=s=>e.check(bRe(QMe,s)),e.cuid2=s=>e.check(jRe(e7e,s)),e.ulid=s=>e.check(NRe(t7e,s)),e.base64=s=>e.check(TRe(o7e,s)),e.base64url=s=>e.check(ERe(c7e,s)),e.xid=s=>e.check(wRe(r7e,s)),e.ksuid=s=>e.check(SRe(s7e,s)),e.ipv4=s=>e.check(_Re(a7e,s)),e.ipv6=s=>e.check(kRe(n7e,s)),e.cidrv4=s=>e.check(ARe(i7e,s)),e.cidrv6=s=>e.check(CRe(l7e,s)),e.e164=s=>e.check(PRe(d7e,s)),e.datetime=s=>e.check(CMe(s)),e.date=s=>e.check(EMe(s)),e.time=s=>e.check(OMe(s)),e.duration=s=>e.check(RMe(s))});function Ct(e){return uRe(KMe,e)}const nn=St("ZodStringFormat",(e,t)=>{Xa.init(e,t),yX.init(e,t)}),YMe=St("ZodEmail",(e,t)=>{yDe.init(e,t),nn.init(e,t)}),NB=St("ZodGUID",(e,t)=>{gDe.init(e,t),nn.init(e,t)}),B2=St("ZodUUID",(e,t)=>{vDe.init(e,t),nn.init(e,t)}),XMe=St("ZodURL",(e,t)=>{bDe.init(e,t),nn.init(e,t)}),ZMe=St("ZodEmoji",(e,t)=>{jDe.init(e,t),nn.init(e,t)}),JMe=St("ZodNanoID",(e,t)=>{NDe.init(e,t),nn.init(e,t)}),QMe=St("ZodCUID",(e,t)=>{wDe.init(e,t),nn.init(e,t)}),e7e=St("ZodCUID2",(e,t)=>{SDe.init(e,t),nn.init(e,t)}),t7e=St("ZodULID",(e,t)=>{_De.init(e,t),nn.init(e,t)}),r7e=St("ZodXID",(e,t)=>{kDe.init(e,t),nn.init(e,t)}),s7e=St("ZodKSUID",(e,t)=>{ADe.init(e,t),nn.init(e,t)}),a7e=St("ZodIPv4",(e,t)=>{ODe.init(e,t),nn.init(e,t)}),n7e=St("ZodIPv6",(e,t)=>{DDe.init(e,t),nn.init(e,t)}),i7e=St("ZodCIDRv4",(e,t)=>{RDe.init(e,t),nn.init(e,t)}),l7e=St("ZodCIDRv6",(e,t)=>{MDe.init(e,t),nn.init(e,t)}),o7e=St("ZodBase64",(e,t)=>{FDe.init(e,t),nn.init(e,t)}),c7e=St("ZodBase64URL",(e,t)=>{IDe.init(e,t),nn.init(e,t)}),d7e=St("ZodE164",(e,t)=>{BDe.init(e,t),nn.init(e,t)}),u7e=St("ZodJWT",(e,t)=>{zDe.init(e,t),nn.init(e,t)}),bX=St("ZodNumber",(e,t)=>{cX.init(e,t),_n.init(e,t),e._zod.processJSONSchema=(a,n,i)=>iMe(e,a,n),e.gt=(a,n)=>e.check(yB(a,n)),e.gte=(a,n)=>e.check(fk(a,n)),e.min=(a,n)=>e.check(fk(a,n)),e.lt=(a,n)=>e.check(vB(a,n)),e.lte=(a,n)=>e.check(hk(a,n)),e.max=(a,n)=>e.check(hk(a,n)),e.int=a=>e.check(wB(a)),e.safe=a=>e.check(wB(a)),e.positive=a=>e.check(yB(0,a)),e.nonnegative=a=>e.check(fk(0,a)),e.negative=a=>e.check(vB(0,a)),e.nonpositive=a=>e.check(hk(0,a)),e.multipleOf=(a,n)=>e.check(bB(a,n)),e.step=(a,n)=>e.check(bB(a,n)),e.finite=()=>e;const s=e._zod.bag;e.minValue=Math.max(s.minimum??Number.NEGATIVE_INFINITY,s.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(s.maximum??Number.POSITIVE_INFINITY,s.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(s.format??"").includes("int")||Number.isSafeInteger(s.multipleOf??.5),e.isFinite=!0,e.format=s.format??null});function ks(e){return LRe(bX,e)}const h7e=St("ZodNumberFormat",(e,t)=>{$De.init(e,t),bX.init(e,t)});function wB(e){return IRe(h7e,e)}const f7e=St("ZodBoolean",(e,t)=>{HDe.init(e,t),_n.init(e,t),e._zod.processJSONSchema=(s,a,n)=>lMe(e,s,a)});function Hh(e){return BRe(f7e,e)}const m7e=St("ZodUnknown",(e,t)=>{qDe.init(e,t),_n.init(e,t),e._zod.processJSONSchema=(s,a,n)=>cMe()});function SB(){return URe(m7e)}const x7e=St("ZodNever",(e,t)=>{VDe.init(e,t),_n.init(e,t),e._zod.processJSONSchema=(s,a,n)=>oMe(e,s,a)});function p7e(e){return zRe(x7e,e)}const g7e=St("ZodArray",(e,t)=>{WDe.init(e,t),_n.init(e,t),e._zod.processJSONSchema=(s,a,n)=>mMe(e,s,a,n),e.element=t.element,e.min=(s,a)=>e.check(Sw(s,a)),e.nonempty=s=>e.check(Sw(1,s)),e.max=(s,a)=>e.check(fX(s,a)),e.length=(s,a)=>e.check(mX(s,a)),e.unwrap=()=>e.element});function $u(e,t){return QRe(g7e,e,t)}const v7e=St("ZodObject",(e,t)=>{KDe.init(e,t),_n.init(e,t),e._zod.processJSONSchema=(s,a,n)=>xMe(e,s,a,n),sa(e,"shape",()=>t.shape),e.keyof=()=>_a(Object.keys(e._zod.def.shape)),e.catchall=s=>e.clone({...e._zod.def,catchall:s}),e.passthrough=()=>e.clone({...e._zod.def,catchall:SB()}),e.loose=()=>e.clone({...e._zod.def,catchall:SB()}),e.strict=()=>e.clone({...e._zod.def,catchall:p7e()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=s=>h8e(e,s),e.safeExtend=s=>f8e(e,s),e.merge=s=>m8e(e,s),e.pick=s=>d8e(e,s),e.omit=s=>u8e(e,s),e.partial=(...s)=>x8e(jX,e,s[0]),e.required=(...s)=>p8e(NX,e,s[0])});function Sa(e,t){const s={type:"object",shape:e??{},...yr(t)};return new v7e(s)}const y7e=St("ZodUnion",(e,t)=>{YDe.init(e,t),_n.init(e,t),e._zod.processJSONSchema=(s,a,n)=>pMe(e,s,a,n),e.options=t.options});function b7e(e,t){return new y7e({type:"union",options:e,...yr(t)})}const j7e=St("ZodIntersection",(e,t)=>{XDe.init(e,t),_n.init(e,t),e._zod.processJSONSchema=(s,a,n)=>gMe(e,s,a,n)});function N7e(e,t){return new j7e({type:"intersection",left:e,right:t})}const w6=St("ZodEnum",(e,t)=>{ZDe.init(e,t),_n.init(e,t),e._zod.processJSONSchema=(a,n,i)=>dMe(e,a,n),e.enum=t.entries,e.options=Object.values(t.entries);const s=new Set(Object.keys(t.entries));e.extract=(a,n)=>{const i={};for(const l of a)if(s.has(l))i[l]=t.entries[l];else throw new Error(`Key ${l} not found in enum`);return new w6({...t,checks:[],...yr(n),entries:i})},e.exclude=(a,n)=>{const i={...t.entries};for(const l of a)if(s.has(l))delete i[l];else throw new Error(`Key ${l} not found in enum`);return new w6({...t,checks:[],...yr(n),entries:i})}});function _a(e,t){const s=Array.isArray(e)?Object.fromEntries(e.map(a=>[a,a])):e;return new w6({type:"enum",entries:s,...yr(t)})}const w7e=St("ZodLiteral",(e,t)=>{JDe.init(e,t),_n.init(e,t),e._zod.processJSONSchema=(s,a,n)=>uMe(e,s,a),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function kw(e,t){return new w7e({type:"literal",values:Array.isArray(e)?e:[e],...yr(t)})}const S7e=St("ZodTransform",(e,t)=>{QDe.init(e,t),_n.init(e,t),e._zod.processJSONSchema=(s,a,n)=>fMe(e,s),e._zod.parse=(s,a)=>{if(a.direction==="backward")throw new YY(e.constructor.name);s.addIssue=i=>{if(typeof i=="string")s.issues.push(pb(i,s.value,t));else{const l=i;l.fatal&&(l.continue=!1),l.code??(l.code="custom"),l.input??(l.input=s.value),l.inst??(l.inst=e),s.issues.push(pb(l))}};const n=t.transform(s.value,s);return n instanceof Promise?n.then(i=>(s.value=i,s)):(s.value=n,s)}});function _7e(e){return new S7e({type:"transform",transform:e})}const jX=St("ZodOptional",(e,t)=>{hX.init(e,t),_n.init(e,t),e._zod.processJSONSchema=(s,a,n)=>vX(e,s,a,n),e.unwrap=()=>e._zod.def.innerType});function _B(e){return new jX({type:"optional",innerType:e})}const k7e=St("ZodExactOptional",(e,t)=>{eRe.init(e,t),_n.init(e,t),e._zod.processJSONSchema=(s,a,n)=>vX(e,s,a,n),e.unwrap=()=>e._zod.def.innerType});function A7e(e){return new k7e({type:"optional",innerType:e})}const C7e=St("ZodNullable",(e,t)=>{tRe.init(e,t),_n.init(e,t),e._zod.processJSONSchema=(s,a,n)=>vMe(e,s,a,n),e.unwrap=()=>e._zod.def.innerType});function kB(e){return new C7e({type:"nullable",innerType:e})}const T7e=St("ZodDefault",(e,t)=>{rRe.init(e,t),_n.init(e,t),e._zod.processJSONSchema=(s,a,n)=>bMe(e,s,a,n),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function E7e(e,t){return new T7e({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():QY(t)}})}const P7e=St("ZodPrefault",(e,t)=>{sRe.init(e,t),_n.init(e,t),e._zod.processJSONSchema=(s,a,n)=>jMe(e,s,a,n),e.unwrap=()=>e._zod.def.innerType});function O7e(e,t){return new P7e({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():QY(t)}})}const NX=St("ZodNonOptional",(e,t)=>{aRe.init(e,t),_n.init(e,t),e._zod.processJSONSchema=(s,a,n)=>yMe(e,s,a,n),e.unwrap=()=>e._zod.def.innerType});function D7e(e,t){return new NX({type:"nonoptional",innerType:e,...yr(t)})}const R7e=St("ZodCatch",(e,t)=>{nRe.init(e,t),_n.init(e,t),e._zod.processJSONSchema=(s,a,n)=>NMe(e,s,a,n),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function M7e(e,t){return new R7e({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const F7e=St("ZodPipe",(e,t)=>{iRe.init(e,t),_n.init(e,t),e._zod.processJSONSchema=(s,a,n)=>wMe(e,s,a,n),e.in=t.in,e.out=t.out});function AB(e,t){return new F7e({type:"pipe",in:e,out:t})}const L7e=St("ZodReadonly",(e,t)=>{lRe.init(e,t),_n.init(e,t),e._zod.processJSONSchema=(s,a,n)=>SMe(e,s,a,n),e.unwrap=()=>e._zod.def.innerType});function I7e(e){return new L7e({type:"readonly",innerType:e})}const B7e=St("ZodCustom",(e,t)=>{oRe.init(e,t),_n.init(e,t),e._zod.processJSONSchema=(s,a,n)=>hMe(e,s)});function U7e(e,t={}){return eMe(B7e,e,t)}function z7e(e){return tMe(e)}const $7e=Sa({email:Ct().min(1,"Email is required"),password:Ct().min(1,"Password is required"),loginType:_a(["hub","store","super_admin"]),locationId:Ct().optional(),role:Ct().optional()}),H7e=Sa({customerName:Ct().min(2,"Name is required"),customerPhone:Ct().regex(/^\+91\s?\d{10}$/,"Invalid phone number"),customerEmail:Ct().email().optional().or(kw("")),addressLine1:Ct().min(5,"Address is required"),addressLine2:Ct().optional(),city:Ct().min(2,"City is required"),state:Ct().min(2,"State is required"),pincode:Ct().regex(/^\d{6}$/,"Invalid pincode"),addressType:_a(["home","work","other"]),deliverySlot:Ct().min(1,"Select delivery slot"),paymentMethod:_a(["cod","online","wallet"]),source:_a(["whatsapp","instagram","facebook","manual"]),items:$u(Sa({productId:Ct(),variantId:Ct(),quantity:ks().min(1)})).min(1,"Add at least one item")});Sa({nameEn:Ct().min(2,"English name is required"),nameTa:Ct().min(2,"Tamil name is required"),sku:Ct().optional(),category:_a(["fish","prawns","crab","squid","lobster","chicken","mutton","egg","spices"]),description:Ct().optional(),deliveryType:_a(["same_day","next_day","exotic"]),sourceType:_a(["hub","store"]),isBestSeller:Hh().default(!1),isRare:Hh().default(!1),isActive:Hh().default(!0),variants:$u(Sa({type:Ct().min(1,"Type is required"),size:Ct().min(1,"Size is required"),grossWeight:Ct(),netWeight:Ct(),pieces:Ct(),serves:Ct(),price:ks().min(1,"Price is required"),stock:ks().min(0),discount:ks().min(0).max(100).optional()})).min(1,"Add at least one variant")});Sa({name:Ct().min(2,"Name is required"),email:Ct().email("Invalid email"),phone:Ct().regex(/^\+91\s?\d{10}$/,"Invalid phone number"),department:Ct().min(1,"Select department"),role:_a(["hub_main_admin","hub_procurement","hub_cutting_cleaning","hub_packing","hub_dispatch","hub_delivery","store_main_admin","store_procurement","store_cutting_cleaning","store_packing","store_dispatch","store_delivery"]),locationId:Ct().min(1,"Select location")});Sa({name:Ct().min(2,"Name is required"),phone:Ct().regex(/^\+91\s?\d{10}$/,"Invalid phone number"),vehicleNo:Ct().min(5,"Vehicle number is required")});Sa({code:Ct().min(3,"Code must be at least 3 characters").max(20),discountType:_a(["percentage","flat"]),discountValue:ks().min(1,"Discount value is required"),minOrderValue:ks().min(0),maxDiscount:ks().optional(),validFrom:Ct().min(1,"Start date is required"),validTo:Ct().min(1,"End date is required"),usageLimit:ks().min(1)});Sa({name:Ct().min(2,"Zone name is required"),pincodes:Ct().min(6,"Add at least one pincode")});const q7e=Sa({name:Ct().min(2,"Store name is required"),code:Ct().min(3,"Code is required"),description:Ct().optional(),storeType:_a(["retail","warehouse","pickup_point"]),address:Sa({street:Ct().min(5,"Street is required"),city:Ct().min(2,"City is required"),state:Ct().min(2,"State is required"),pincode:Ct().regex(/^\d{6}$/,"Invalid pincode"),country:Ct().min(2,"Country is required")}),location:Sa({latitude:ks().min(-90).max(90),longitude:ks().min(-180).max(180)}),contactInfo:Sa({phone:Ct().regex(/^\+91\s?\d{10}$/,"Invalid phone number"),email:Ct().email("Invalid email"),manager:Ct().min(2,"Manager name is required")}),operatingHours:Sa({open:Ct().regex(/^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/,"Invalid time format (HH:MM)"),close:Ct().regex(/^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/,"Invalid time format (HH:MM)"),workingDays:$u(Ct()).min(1,"Select at least one working day")}),capacity:Sa({storage:ks().min(0),dailyOrders:ks().min(0),staff:ks().min(0)}),hubId:Ct().min(1,"Hub is required"),deliveryRadius:ks().min(0),assignAllSlots:Hh().optional(),deliverySlots:$u(Ct()).optional(),isActive:Hh(),zoneId:Ct().optional()});Sa({customerSearch:Ct().min(3,"Enter customer phone or email"),amount:ks().min(1,"Amount must be at least 1"),reason:_a(["refund","compensation","promotion","other"]),notes:Ct().optional()});Sa({category:Ct().min(1,"Select category"),question:Ct().min(10,"Question is required"),answer:Ct().min(20,"Answer is required"),keywords:Ct().optional(),isPublished:Hh().default(!1)});Sa({name:Ct().min(3,"Recipe name is required"),description:Ct().min(10,"Description is required"),category:Ct().min(1,"Select category"),difficulty:_a(["easy","medium","hard"]),prepTime:ks().min(1),cookTime:ks().min(1),serves:ks().min(1),ingredients:$u(Sa({name:Ct().min(1),quantity:Ct().min(1),productId:Ct().optional()})).min(1,"Add at least one ingredient"),instructions:$u(Ct().min(5)).min(1,"Add at least one step")});function V7e(){const[e,t]=A.useState("super_admin"),[s,a]=A.useState(""),[n,i]=A.useState(!1),{login:l,isLoading:o}=es(),c=vb(),{register:d,handleSubmit:h,formState:{errors:m},setValue:p}=Ax({resolver:Tx($7e),defaultValues:{loginType:"super_admin"}}),x=async j=>{await l(j.email,j.password,j.loginType,j.locationId,s)&&c("/dashboard")},v=j=>{t(j),a(""),p("loginType",j)},y=[{type:"super_admin",icon:sl,label:"Super Admin",desc:"Full access",gradient:"from-purple-500 to-purple-600"},{type:"hub",icon:yo,label:"Hub",desc:"Fish products",gradient:"from-blue-500 to-blue-600"},{type:"store",icon:Fn,label:"Store",desc:"All products",gradient:"from-green-500 to-green-600"}],b=e!=="super_admin"?mee(e):[];return r.jsxs("div",{className:"h-screen flex overflow-hidden",children:[r.jsxs("div",{className:"hidden lg:flex lg:w-2/5 bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 p-8 flex-col justify-between relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 opacity-10",children:r.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KPGcgZmlsbD0iI2ZmZmZmZiIgZmlsbC1vcGFjaXR5PSIwLjEiPgo8Y2lyY2xlIGN4PSIzMCIgY3k9IjMwIiByPSIyIi8+CjwvZz4KPC9nPgo8L3N2Zz4=')]"})}),r.jsx("div",{className:"relative z-10",children:r.jsx("div",{className:"flex items-center gap-3",children:r.jsx("img",{src:"https://bayhawk.clientstagingdemo.com/_next/static/media/BayHawk.207595da.svg",alt:"BayHawk",className:"h-12 w-auto"})})}),r.jsxs("div",{className:"space-y-6 relative z-10",children:[r.jsxs("div",{children:[r.jsxs("h2",{className:"text-3xl font-bold text-white leading-tight mb-3",children:["Role-Based Access",r.jsx("br",{}),r.jsx("span",{className:"text-blue-300",children:"Control System"})]}),r.jsx("p",{className:"text-blue-200",children:"Secure management for your seafood business operations."})]}),r.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{value:"10K+",label:"Orders",icon:""},{value:"500+",label:"Products",icon:""},{value:"50+",label:"Locations",icon:""}].map(j=>r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-3 border border-white/20",children:[r.jsx("div",{className:"text-lg mb-1",children:j.icon}),r.jsx("p",{className:"text-lg font-bold text-white",children:j.value}),r.jsx("p",{className:"text-xs text-blue-200",children:j.label})]},j.label))})]}),r.jsx("p",{className:"text-xs text-blue-300 relative z-10",children:" 2024 Bayhawk. All rights reserved."})]}),r.jsx("div",{className:"flex-1 flex items-center justify-center p-4 sm:p-6 bg-gradient-to-br from-gray-50 to-gray-100 overflow-y-auto",children:r.jsxs("div",{className:"w-full max-w-lg",children:[r.jsx("div",{className:"lg:hidden text-center mb-4 sm:mb-6",children:r.jsx("div",{className:"inline-flex items-center gap-2",children:r.jsx("img",{src:"https://bayhawk.clientstagingdemo.com/_next/static/media/BayHawk.207595da.svg",alt:"BayHawk",className:"h-10 w-auto"})})}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-4 sm:p-6 border border-gray-200",children:[r.jsxs("div",{className:"text-center mb-4 sm:mb-6",children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-1",children:"Welcome back"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Sign in to your admin account"})]}),r.jsxs("div",{className:"mb-4 sm:mb-5",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Select Login Type"}),r.jsx("div",{className:"grid grid-cols-3 gap-1 sm:gap-2",children:y.map(({type:j,icon:S,label:w,desc:k,gradient:_})=>r.jsxs("button",{type:"button",onClick:()=>v(j),className:`p-2 sm:p-3 rounded-lg border-2 transition-all duration-200 text-center ${e===j?"border-blue-500 bg-blue-50 shadow-sm":"border-gray-200 hover:border-gray-300"}`,children:[r.jsx("div",{className:`h-6 w-6 sm:h-8 sm:w-8 rounded-lg bg-gradient-to-r ${_} flex items-center justify-center mx-auto mb-1 sm:mb-2`,children:r.jsx(S,{className:"h-3 w-3 sm:h-4 sm:w-4 text-white"})}),r.jsx("p",{className:`text-xs font-semibold ${e===j?"text-blue-900":"text-gray-900"}`,children:w}),r.jsx("p",{className:"text-xs text-gray-500 hidden sm:block",children:k})]},j))})]}),r.jsxs("form",{onSubmit:h(x),className:"space-y-3 sm:space-y-4",children:[e==="hub"&&r.jsx(Ut,{label:"Select Hub",...d("locationId"),options:[{value:"",label:"Choose a hub..."},{value:"hub_1",label:"Central Hub - Chennai"}]}),e==="store"&&r.jsx(Ut,{label:"Select Store",...d("locationId"),options:[{value:"",label:"Choose a store..."},{value:"store_1",label:"Store - Anna Nagar"},{value:"store_2",label:"Store - T Nagar"},{value:"store_3",label:"Store - Velachery"}]}),e!=="super_admin"&&b.length>0&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1.5 block",children:"Select Your Role"}),r.jsxs("select",{value:s,onChange:j=>a(j.target.value),className:"w-full rounded-lg border border-gray-300 bg-white px-3 py-2.5 text-sm text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 cursor-pointer",children:[r.jsx("option",{value:"",children:"Choose your role..."}),b.map(j=>r.jsx("option",{value:j.name,children:j.displayName},j.id))]})]}),r.jsx(de,{label:"Email Address",type:"email",...d("email"),placeholder:"admin@bayhawk.com",error:m.email?.message}),r.jsxs("div",{className:"relative",children:[r.jsx(de,{label:"Password",type:n?"text":"password",...d("password"),placeholder:"",error:m.password?.message}),r.jsx("button",{type:"button",onClick:()=>i(!n),className:"absolute right-3 top-8 text-gray-400 hover:text-gray-600",children:n?r.jsx(Hd,{className:"h-4 w-4"}):r.jsx(Fr,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"text-gray-600",children:"Remember me"})]}),r.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-700 font-medium",children:"Forgot password?"})]}),r.jsx(oe,{type:"submit",className:"w-full h-10 sm:h-11 font-semibold bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800",disabled:o||e!=="super_admin"&&!s,children:o?r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Signing in..."]}):"Sign In"})]})]}),r.jsxs("p",{className:"mt-3 sm:mt-4 text-center text-xs text-gray-500",children:["Need help? ",r.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-700 font-medium",children:"Contact Support"})]})]})})]})}function W7e(){const{user:e}=es();if(!e)return null;const t=$6(e.role),s=["hub_procurement","hub_packing","hub_delivery","store_procurement","store_packing","store_delivery"].includes(e.role),a=()=>{const o=[];return e.role==="hub_delivery"||e.role==="store_delivery"?(o.push({title:"My Deliveries",description:"View orders assigned to you for delivery",icon:Mr,color:"bg-purple-500",hoverColor:"hover:bg-purple-600",href:"/team"}),o):e.role==="hub_packing"||e.role==="store_packing"?(o.push({title:"Packing Queue",description:"Process orders ready for packing",icon:Oj,color:"bg-orange-500",hoverColor:"hover:bg-orange-600",href:"/orders?status=processing"}),o):e.role==="hub_procurement"||e.role==="store_procurement"?(o.push({title:"Manage Inventory",description:"Update stock and procurement",icon:Tt,color:"bg-green-500",hoverColor:"hover:bg-green-600",href:"/products"}),o.push({title:"Stock Reports",description:"View inventory and stock reports",icon:Zn,color:"bg-teal-500",hoverColor:"hover:bg-teal-600",href:"/reports/stock"}),o):((Va(e,tt.HUB_ORDERS_VIEW)||Va(e,tt.STORE_ORDERS_VIEW))&&o.push({title:"View Orders",description:"Check pending and active orders",icon:bo,color:"bg-blue-500",hoverColor:"hover:bg-blue-600",href:"/orders"}),Va(e,tt.PROCUREMENT_MANAGE)&&o.push({title:"Manage Inventory",description:"Update stock and procurement",icon:Tt,color:"bg-green-500",hoverColor:"hover:bg-green-600",href:"/products"}),Va(e,tt.PACKING_MANAGE)&&o.push({title:"Packing Queue",description:"Process orders for packing",icon:Oj,color:"bg-orange-500",hoverColor:"hover:bg-orange-600",href:"/orders?status=processing"}),Va(e,tt.DELIVERY_MANAGE)&&o.push({title:"Delivery Management",description:"Track and assign deliveries",icon:Mr,color:"bg-purple-500",hoverColor:"hover:bg-purple-600",href:"/orders?status=out_for_delivery"}),(Va(e,tt.HUB_TEAM_MANAGE)||Va(e,tt.STORE_TEAM_MANAGE))&&o.push({title:"Team Management",description:"Manage team members and roles",icon:Qr,color:"bg-indigo-500",hoverColor:"hover:bg-indigo-600",href:"/team"}),(Va(e,tt.HUB_REPORTS_SALES)||Va(e,tt.HUB_REPORTS_PACKING)||Va(e,tt.HUB_REPORTS_DELIVERY)||Va(e,tt.HUB_REPORTS_STOCK))&&o.push({title:"View Reports",description:"Analytics and performance metrics",icon:Zn,color:"bg-teal-500",hoverColor:"hover:bg-teal-600",href:"/reports"}),o)},n=()=>{const o=[];return e.role==="hub_delivery"||e.role==="store_delivery"?(o.push({title:"My Assigned Orders",value:"3",change:"+1",icon:Mr,color:"text-blue-600",bg:"bg-blue-100",trend:"up"},{title:"Completed Today",value:"8",change:"+2",icon:Dr,color:"text-green-600",bg:"bg-green-100",trend:"up"}),o):e.role==="hub_packing"||e.role==="store_packing"?(o.push({title:"Ready to Pack",value:"15",change:"+3",icon:Oj,color:"text-orange-600",bg:"bg-orange-100",trend:"up"},{title:"Packed Today",value:"32",change:"+8",icon:Dr,color:"text-green-600",bg:"bg-green-100",trend:"up"}),o):e.role==="hub_procurement"||e.role==="store_procurement"?(o.push({title:"Low Stock Items",value:"5",change:"-2",icon:ya,color:"text-red-600",bg:"bg-red-100",trend:"down"},{title:"Total Products",value:e.loginType==="hub"?"89":"245",change:"+12",icon:Tt,color:"text-blue-600",bg:"bg-blue-100",trend:"up"}),o):((Va(e,tt.HUB_ORDERS_VIEW)||Va(e,tt.STORE_ORDERS_VIEW))&&o.push({title:"Pending Orders",value:"24",change:"+12%",icon:Tr,color:"text-yellow-600",bg:"bg-yellow-100",trend:"up"},{title:"Completed Today",value:"156",change:"+8%",icon:Dr,color:"text-green-600",bg:"bg-green-100",trend:"up"}),Va(e,tt.PROCUREMENT_MANAGE)&&o.push({title:"Low Stock Items",value:"8",change:"-3",icon:ya,color:"text-red-600",bg:"bg-red-100",trend:"down"},{title:"Total Products",value:e.loginType==="hub"?"142":"342",change:"+15",icon:Tt,color:"text-blue-600",bg:"bg-blue-100",trend:"up"}),o)},i=a(),l=n();return r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-600 via-blue-700 to-indigo-800 rounded-2xl p-8 text-white relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -translate-y-16 translate-x-16"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white/5 rounded-full translate-y-12 -translate-x-12"}),r.jsx("div",{className:"relative",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold mb-2",children:["Welcome back, ",e.name.split(" ")[0],"! "]}),r.jsxs("p",{className:"text-blue-100 text-lg",children:[t?.displayName||e.role,"  ",e.loginType==="hub"?"Hub Operations":e.loginType==="store"?"Store Operations":"System Administration"]}),r.jsx("p",{className:"text-blue-200 text-sm mt-2",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),s&&r.jsx("p",{className:"text-blue-200 text-sm mt-1",children:t?.description})]}),r.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-2xl font-bold",children:e.role==="hub_delivery"||e.role==="store_delivery"?"95%":e.role==="hub_packing"||e.role==="store_packing"?"92%":e.role==="hub_procurement"||e.role==="store_procurement"?"88%":"94%"}),r.jsx("p",{className:"text-blue-200 text-sm",children:e.role==="hub_delivery"||e.role==="store_delivery"?"Delivery Rate":e.role==="hub_packing"||e.role==="store_packing"?"Packing Efficiency":e.role==="hub_procurement"||e.role==="store_procurement"?"Stock Accuracy":"Efficiency"})]}),r.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center",children:r.jsx(H0,{className:"h-8 w-8 text-white"})})]})]})})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Key Metrics"}),r.jsxs("button",{className:"text-sm text-blue-600 hover:text-blue-700 font-medium flex items-center gap-1",children:["View Details ",r.jsx(Yp,{className:"h-4 w-4"})]})]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:l.map((o,c)=>r.jsx("div",{className:"bg-white rounded-xl p-6 border border-gray-200 hover:shadow-lg hover:border-gray-300 transition-all duration-200",children:r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"flex items-center gap-3 mb-3",children:r.jsx("div",{className:`h-12 w-12 rounded-xl ${o.bg} flex items-center justify-center`,children:r.jsx(o.icon,{className:`h-6 w-6 ${o.color}`})})}),r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:o.title}),r.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-2",children:o.value}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:`text-sm font-medium ${o.trend==="up"?"text-green-600":"text-red-600"}`,children:o.change}),r.jsx("span",{className:"text-sm text-gray-500",children:"vs yesterday"})]})]})})},c))})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"lg:col-span-2",children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Quick Actions"})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:i.map((o,c)=>r.jsx("a",{href:o.href,className:"bg-white rounded-xl p-6 border border-gray-200 hover:shadow-lg hover:border-gray-300 transition-all duration-200 group",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:`h-14 w-14 rounded-xl ${o.color} ${o.hoverColor} flex items-center justify-center group-hover:scale-110 transition-all duration-200 shadow-lg`,children:r.jsx(o.icon,{className:"h-7 w-7 text-white"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-blue-600 transition-colors text-lg mb-1",children:o.title}),r.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:o.description})]}),r.jsx(Yp,{className:"h-5 w-5 text-gray-400 group-hover:text-blue-600 transition-colors"})]})},c))})]}),r.jsx("div",{className:"lg:col-span-1",children:r.jsx(Fse,{})})]}),(e.role==="hub_main_admin"||e.role==="store_main_admin"||e.loginType==="super_admin")&&(Va(e,tt.HUB_REPORTS_SALES)||Va(e,tt.HUB_REPORTS_PACKING))&&r.jsxs("div",{className:"bg-white rounded-xl p-8 border border-gray-200 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-10 w-10 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx(ta,{className:"h-6 w-6 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Today's Performance"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Real-time operational metrics"})]})]}),r.jsxs("button",{className:"text-sm text-blue-600 hover:text-blue-700 font-medium flex items-center gap-1",children:["View Report ",r.jsx(Yp,{className:"h-4 w-4"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"text-center p-6 bg-green-50 rounded-xl",children:[r.jsx("div",{className:"flex items-center justify-center mb-3",children:r.jsx(Fw,{className:"h-8 w-8 text-green-600"})}),r.jsx("p",{className:"text-4xl font-bold text-green-600 mb-2",children:"94%"}),r.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Order Completion Rate"}),r.jsx("p",{className:"text-xs text-gray-500",children:"+2% from yesterday"})]}),r.jsxs("div",{className:"text-center p-6 bg-blue-50 rounded-xl",children:[r.jsx("div",{className:"flex items-center justify-center mb-3",children:r.jsx(Tr,{className:"h-8 w-8 text-blue-600"})}),r.jsx("p",{className:"text-4xl font-bold text-blue-600 mb-2",children:"2.3h"}),r.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Avg Processing Time"}),r.jsx("p",{className:"text-xs text-gray-500",children:"-15min improvement"})]}),r.jsxs("div",{className:"text-center p-6 bg-purple-50 rounded-xl",children:[r.jsx("div",{className:"flex items-center justify-center mb-3",children:r.jsx(Wh,{className:"h-8 w-8 text-purple-600"})}),r.jsx("p",{className:"text-4xl font-bold text-purple-600 mb-2",children:"45,230"}),r.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Revenue Today"}),r.jsx("p",{className:"text-xs text-gray-500",children:"+8% from target"})]})]})]})]})}const Jg=({onFiltersChange:e,statusOptions:t=[],categoryOptions:s=[],customFilterComponents:a,showSearch:n=!0,showDateRange:i=!0,showStatus:l=!0,showCategory:o=!0,className:c=""})=>{const[d,h]=A.useState(!1),[m,p]=A.useState({}),x=b=>{const j={...m,...b};p(j),e(j)},v=()=>{const b={};p(b),e(b)},y=Object.values(m).some(b=>b&&(typeof b=="string"?b.length>0:Object.keys(b).length>0));return r.jsxs(he,{className:`mb-6 ${c}`,children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"rounded-lg bg-blue-50 p-2",children:r.jsx(nc,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",children:"Filters"}),r.jsx("p",{className:"text-sm text-gray-600",children:y?"Active filters applied":"No filters applied"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[y&&r.jsxs(oe,{variant:"ghost",size:"sm",onClick:v,children:[r.jsx(Cs,{className:"mr-1 h-4 w-4"}),"Clear"]}),r.jsxs(oe,{variant:"secondary",size:"sm",onClick:()=>h(!d),children:[r.jsx(nc,{className:"mr-2 h-4 w-4"}),d?"Hide":"Show"," Filters"]})]})]}),d&&r.jsxs("div",{className:"mt-4 border-t pt-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Search"}),r.jsx(de,{placeholder:"Search...",value:m.search||"",onChange:b=>x({search:b.target.value})})]}),i&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Start Date"}),r.jsx(de,{type:"date",value:m.dateRange?.start||"",onChange:b=>x({dateRange:{...m.dateRange,start:b.target.value,end:m.dateRange?.end||""}})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"End Date"}),r.jsx(de,{type:"date",value:m.dateRange?.end||"",onChange:b=>x({dateRange:{...m.dateRange,end:b.target.value,start:m.dateRange?.start||""}})})]})]}),l&&t.length>0&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Status"}),r.jsx(Ut,{value:m.status||"",onChange:b=>x({status:b.target.value}),options:[{value:"",label:"All Status"},...t]})]}),o&&s.length>0&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Category"}),r.jsx(Ut,{value:m.category||"",onChange:b=>x({category:b.target.value}),options:[{value:"",label:"All Categories"},...s]})]})]}),a&&r.jsx("div",{className:"mt-4 pt-4 border-t",children:a}),r.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[r.jsxs(oe,{variant:"ghost",size:"sm",children:[r.jsx(ei,{className:"mr-2 h-4 w-4"}),"Export"]}),r.jsxs(oe,{variant:"ghost",size:"sm",onClick:()=>e(m),children:[r.jsx(Ld,{className:"mr-2 h-4 w-4"}),"Refresh"]})]})]})]})};function wX(e=!1){const[t,s]=A.useState(e),a=A.useCallback(()=>{s(!0)},[]),n=A.useCallback(()=>{s(!1)},[]),i=A.useCallback(async l=>{try{return s(!0),await l()}finally{s(!1)}},[]);return{isLoading:t,startLoading:a,stopLoading:n,withLoading:i}}const bt=e=>`${e.toLocaleString("en-IN")}`,CB=e=>new Date(e).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}),rf=e=>new Date(e).toLocaleString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}),id=e=>({received:"bg-blue-100 text-blue-800",processing:"bg-yellow-100 text-yellow-800",packed:"bg-purple-100 text-purple-800",out_for_delivery:"bg-orange-100 text-orange-800",delivered:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800",pending:"bg-yellow-100 text-yellow-800",paid:"bg-green-100 text-green-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",active:"bg-green-100 text-green-800",inactive:"bg-gray-100 text-gray-800"})[e]||"bg-gray-100 text-gray-800";function SX(e,t){return function(){return e.apply(t,arguments)}}const{toString:G7e}=Object.prototype,{getPrototypeOf:fP}=Object,{iterator:l4,toStringTag:_X}=Symbol,o4=(e=>t=>{const s=G7e.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),eu=e=>(e=e.toLowerCase(),t=>o4(t)===e),c4=e=>t=>typeof t===e,{isArray:Qg}=Array,wg=c4("undefined");function a1(e){return e!==null&&!wg(e)&&e.constructor!==null&&!wg(e.constructor)&&_o(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const kX=eu("ArrayBuffer");function K7e(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&kX(e.buffer),t}const Y7e=c4("string"),_o=c4("function"),AX=c4("number"),n1=e=>e!==null&&typeof e=="object",X7e=e=>e===!0||e===!1,qj=e=>{if(o4(e)!=="object")return!1;const t=fP(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(_X in e)&&!(l4 in e)},Z7e=e=>{if(!n1(e)||a1(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},J7e=eu("Date"),Q7e=eu("File"),eFe=eu("Blob"),tFe=eu("FileList"),rFe=e=>n1(e)&&_o(e.pipe),sFe=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||_o(e.append)&&((t=o4(e))==="formdata"||t==="object"&&_o(e.toString)&&e.toString()==="[object FormData]"))},aFe=eu("URLSearchParams"),[nFe,iFe,lFe,oFe]=["ReadableStream","Request","Response","Headers"].map(eu),cFe=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function i1(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let a,n;if(typeof e!="object"&&(e=[e]),Qg(e))for(a=0,n=e.length;a<n;a++)t.call(null,e[a],a,e);else{if(a1(e))return;const i=s?Object.getOwnPropertyNames(e):Object.keys(e),l=i.length;let o;for(a=0;a<l;a++)o=i[a],t.call(null,e[o],o,e)}}function CX(e,t){if(a1(e))return null;t=t.toLowerCase();const s=Object.keys(e);let a=s.length,n;for(;a-- >0;)if(n=s[a],t===n.toLowerCase())return n;return null}const C0=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,TX=e=>!wg(e)&&e!==C0;function S6(){const{caseless:e,skipUndefined:t}=TX(this)&&this||{},s={},a=(n,i)=>{const l=e&&CX(s,i)||i;qj(s[l])&&qj(n)?s[l]=S6(s[l],n):qj(n)?s[l]=S6({},n):Qg(n)?s[l]=n.slice():(!t||!wg(n))&&(s[l]=n)};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&i1(arguments[n],a);return s}const dFe=(e,t,s,{allOwnKeys:a}={})=>(i1(t,(n,i)=>{s&&_o(n)?e[i]=SX(n,s):e[i]=n},{allOwnKeys:a}),e),uFe=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),hFe=(e,t,s,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},fFe=(e,t,s,a)=>{let n,i,l;const o={};if(t=t||{},e==null)return t;do{for(n=Object.getOwnPropertyNames(e),i=n.length;i-- >0;)l=n[i],(!a||a(l,e,t))&&!o[l]&&(t[l]=e[l],o[l]=!0);e=s!==!1&&fP(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},mFe=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const a=e.indexOf(t,s);return a!==-1&&a===s},xFe=e=>{if(!e)return null;if(Qg(e))return e;let t=e.length;if(!AX(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},pFe=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&fP(Uint8Array)),gFe=(e,t)=>{const a=(e&&e[l4]).call(e);let n;for(;(n=a.next())&&!n.done;){const i=n.value;t.call(e,i[0],i[1])}},vFe=(e,t)=>{let s;const a=[];for(;(s=e.exec(t))!==null;)a.push(s);return a},yFe=eu("HTMLFormElement"),bFe=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,a,n){return a.toUpperCase()+n}),TB=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),jFe=eu("RegExp"),EX=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),a={};i1(s,(n,i)=>{let l;(l=t(n,i,e))!==!1&&(a[i]=l||n)}),Object.defineProperties(e,a)},NFe=e=>{EX(e,(t,s)=>{if(_o(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const a=e[s];if(_o(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},wFe=(e,t)=>{const s={},a=n=>{n.forEach(i=>{s[i]=!0})};return Qg(e)?a(e):a(String(e).split(t)),s},SFe=()=>{},_Fe=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function kFe(e){return!!(e&&_o(e.append)&&e[_X]==="FormData"&&e[l4])}const AFe=e=>{const t=new Array(10),s=(a,n)=>{if(n1(a)){if(t.indexOf(a)>=0)return;if(a1(a))return a;if(!("toJSON"in a)){t[n]=a;const i=Qg(a)?[]:{};return i1(a,(l,o)=>{const c=s(l,n+1);!wg(c)&&(i[o]=c)}),t[n]=void 0,i}}return a};return s(e,0)},CFe=eu("AsyncFunction"),TFe=e=>e&&(n1(e)||_o(e))&&_o(e.then)&&_o(e.catch),PX=((e,t)=>e?setImmediate:t?((s,a)=>(C0.addEventListener("message",({source:n,data:i})=>{n===C0&&i===s&&a.length&&a.shift()()},!1),n=>{a.push(n),C0.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",_o(C0.postMessage)),EFe=typeof queueMicrotask<"u"?queueMicrotask.bind(C0):typeof process<"u"&&process.nextTick||PX,PFe=e=>e!=null&&_o(e[l4]),ct={isArray:Qg,isArrayBuffer:kX,isBuffer:a1,isFormData:sFe,isArrayBufferView:K7e,isString:Y7e,isNumber:AX,isBoolean:X7e,isObject:n1,isPlainObject:qj,isEmptyObject:Z7e,isReadableStream:nFe,isRequest:iFe,isResponse:lFe,isHeaders:oFe,isUndefined:wg,isDate:J7e,isFile:Q7e,isBlob:eFe,isRegExp:jFe,isFunction:_o,isStream:rFe,isURLSearchParams:aFe,isTypedArray:pFe,isFileList:tFe,forEach:i1,merge:S6,extend:dFe,trim:cFe,stripBOM:uFe,inherits:hFe,toFlatObject:fFe,kindOf:o4,kindOfTest:eu,endsWith:mFe,toArray:xFe,forEachEntry:gFe,matchAll:vFe,isHTMLForm:yFe,hasOwnProperty:TB,hasOwnProp:TB,reduceDescriptors:EX,freezeMethods:NFe,toObjectSet:wFe,toCamelCase:bFe,noop:SFe,toFiniteNumber:_Fe,findKey:CX,global:C0,isContextDefined:TX,isSpecCompliantForm:kFe,toJSONObject:AFe,isAsyncFn:CFe,isThenable:TFe,setImmediate:PX,asap:EFe,isIterable:PFe};function qr(e,t,s,a,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),a&&(this.request=a),n&&(this.response=n,this.status=n.status?n.status:null)}ct.inherits(qr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ct.toJSONObject(this.config),code:this.code,status:this.status}}});const OX=qr.prototype,DX={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{DX[e]={value:e}});Object.defineProperties(qr,DX);Object.defineProperty(OX,"isAxiosError",{value:!0});qr.from=(e,t,s,a,n,i)=>{const l=Object.create(OX);ct.toFlatObject(e,l,function(h){return h!==Error.prototype},d=>d!=="isAxiosError");const o=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return qr.call(l,o,c,s,a,n),e&&l.cause==null&&Object.defineProperty(l,"cause",{value:e,configurable:!0}),l.name=e&&e.name||"Error",i&&Object.assign(l,i),l};const OFe=null;function _6(e){return ct.isPlainObject(e)||ct.isArray(e)}function RX(e){return ct.endsWith(e,"[]")?e.slice(0,-2):e}function EB(e,t,s){return e?e.concat(t).map(function(n,i){return n=RX(n),!s&&i?"["+n+"]":n}).join(s?".":""):t}function DFe(e){return ct.isArray(e)&&!e.some(_6)}const RFe=ct.toFlatObject(ct,{},null,function(t){return/^is[A-Z]/.test(t)});function d4(e,t,s){if(!ct.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=ct.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,b){return!ct.isUndefined(b[y])});const a=s.metaTokens,n=s.visitor||h,i=s.dots,l=s.indexes,c=(s.Blob||typeof Blob<"u"&&Blob)&&ct.isSpecCompliantForm(t);if(!ct.isFunction(n))throw new TypeError("visitor must be a function");function d(v){if(v===null)return"";if(ct.isDate(v))return v.toISOString();if(ct.isBoolean(v))return v.toString();if(!c&&ct.isBlob(v))throw new qr("Blob is not supported. Use a Buffer instead.");return ct.isArrayBuffer(v)||ct.isTypedArray(v)?c&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function h(v,y,b){let j=v;if(v&&!b&&typeof v=="object"){if(ct.endsWith(y,"{}"))y=a?y:y.slice(0,-2),v=JSON.stringify(v);else if(ct.isArray(v)&&DFe(v)||(ct.isFileList(v)||ct.endsWith(y,"[]"))&&(j=ct.toArray(v)))return y=RX(y),j.forEach(function(w,k){!(ct.isUndefined(w)||w===null)&&t.append(l===!0?EB([y],k,i):l===null?y:y+"[]",d(w))}),!1}return _6(v)?!0:(t.append(EB(b,y,i),d(v)),!1)}const m=[],p=Object.assign(RFe,{defaultVisitor:h,convertValue:d,isVisitable:_6});function x(v,y){if(!ct.isUndefined(v)){if(m.indexOf(v)!==-1)throw Error("Circular reference detected in "+y.join("."));m.push(v),ct.forEach(v,function(j,S){(!(ct.isUndefined(j)||j===null)&&n.call(t,j,ct.isString(S)?S.trim():S,y,p))===!0&&x(j,y?y.concat(S):[S])}),m.pop()}}if(!ct.isObject(e))throw new TypeError("data must be an object");return x(e),t}function PB(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function mP(e,t){this._pairs=[],e&&d4(e,this,t)}const MX=mP.prototype;MX.append=function(t,s){this._pairs.push([t,s])};MX.toString=function(t){const s=t?function(a){return t.call(this,a,PB)}:PB;return this._pairs.map(function(n){return s(n[0])+"="+s(n[1])},"").join("&")};function MFe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function FX(e,t,s){if(!t)return e;const a=s&&s.encode||MFe;ct.isFunction(s)&&(s={serialize:s});const n=s&&s.serialize;let i;if(n?i=n(t,s):i=ct.isURLSearchParams(t)?t.toString():new mP(t,s).toString(a),i){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class OB{constructor(){this.handlers=[]}use(t,s,a){return this.handlers.push({fulfilled:t,rejected:s,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ct.forEach(this.handlers,function(a){a!==null&&t(a)})}}const LX={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},FFe=typeof URLSearchParams<"u"?URLSearchParams:mP,LFe=typeof FormData<"u"?FormData:null,IFe=typeof Blob<"u"?Blob:null,BFe={isBrowser:!0,classes:{URLSearchParams:FFe,FormData:LFe,Blob:IFe},protocols:["http","https","file","blob","url","data"]},xP=typeof window<"u"&&typeof document<"u",k6=typeof navigator=="object"&&navigator||void 0,UFe=xP&&(!k6||["ReactNative","NativeScript","NS"].indexOf(k6.product)<0),zFe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",$Fe=xP&&window.location.href||"http://localhost",HFe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:xP,hasStandardBrowserEnv:UFe,hasStandardBrowserWebWorkerEnv:zFe,navigator:k6,origin:$Fe},Symbol.toStringTag,{value:"Module"})),wl={...HFe,...BFe};function qFe(e,t){return d4(e,new wl.classes.URLSearchParams,{visitor:function(s,a,n,i){return wl.isNode&&ct.isBuffer(s)?(this.append(a,s.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function VFe(e){return ct.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function WFe(e){const t={},s=Object.keys(e);let a;const n=s.length;let i;for(a=0;a<n;a++)i=s[a],t[i]=e[i];return t}function IX(e){function t(s,a,n,i){let l=s[i++];if(l==="__proto__")return!0;const o=Number.isFinite(+l),c=i>=s.length;return l=!l&&ct.isArray(n)?n.length:l,c?(ct.hasOwnProp(n,l)?n[l]=[n[l],a]:n[l]=a,!o):((!n[l]||!ct.isObject(n[l]))&&(n[l]=[]),t(s,a,n[l],i)&&ct.isArray(n[l])&&(n[l]=WFe(n[l])),!o)}if(ct.isFormData(e)&&ct.isFunction(e.entries)){const s={};return ct.forEachEntry(e,(a,n)=>{t(VFe(a),n,s,0)}),s}return null}function GFe(e,t,s){if(ct.isString(e))try{return(t||JSON.parse)(e),ct.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(s||JSON.stringify)(e)}const l1={transitional:LX,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const a=s.getContentType()||"",n=a.indexOf("application/json")>-1,i=ct.isObject(t);if(i&&ct.isHTMLForm(t)&&(t=new FormData(t)),ct.isFormData(t))return n?JSON.stringify(IX(t)):t;if(ct.isArrayBuffer(t)||ct.isBuffer(t)||ct.isStream(t)||ct.isFile(t)||ct.isBlob(t)||ct.isReadableStream(t))return t;if(ct.isArrayBufferView(t))return t.buffer;if(ct.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(i){if(a.indexOf("application/x-www-form-urlencoded")>-1)return qFe(t,this.formSerializer).toString();if((o=ct.isFileList(t))||a.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return d4(o?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||n?(s.setContentType("application/json",!1),GFe(t)):t}],transformResponse:[function(t){const s=this.transitional||l1.transitional,a=s&&s.forcedJSONParsing,n=this.responseType==="json";if(ct.isResponse(t)||ct.isReadableStream(t))return t;if(t&&ct.isString(t)&&(a&&!this.responseType||n)){const l=!(s&&s.silentJSONParsing)&&n;try{return JSON.parse(t,this.parseReviver)}catch(o){if(l)throw o.name==="SyntaxError"?qr.from(o,qr.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:wl.classes.FormData,Blob:wl.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ct.forEach(["delete","get","head","post","put","patch"],e=>{l1.headers[e]={}});const KFe=ct.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),YFe=e=>{const t={};let s,a,n;return e&&e.split(`
`).forEach(function(l){n=l.indexOf(":"),s=l.substring(0,n).trim().toLowerCase(),a=l.substring(n+1).trim(),!(!s||t[s]&&KFe[s])&&(s==="set-cookie"?t[s]?t[s].push(a):t[s]=[a]:t[s]=t[s]?t[s]+", "+a:a)}),t},DB=Symbol("internals");function ey(e){return e&&String(e).trim().toLowerCase()}function Vj(e){return e===!1||e==null?e:ct.isArray(e)?e.map(Vj):String(e)}function XFe(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=s.exec(e);)t[a[1]]=a[2];return t}const ZFe=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function mk(e,t,s,a,n){if(ct.isFunction(a))return a.call(this,t,s);if(n&&(t=s),!!ct.isString(t)){if(ct.isString(a))return t.indexOf(a)!==-1;if(ct.isRegExp(a))return a.test(t)}}function JFe(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,a)=>s.toUpperCase()+a)}function QFe(e,t){const s=ct.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+s,{value:function(n,i,l){return this[a].call(this,t,n,i,l)},configurable:!0})})}let ko=class{constructor(t){t&&this.set(t)}set(t,s,a){const n=this;function i(o,c,d){const h=ey(c);if(!h)throw new Error("header name must be a non-empty string");const m=ct.findKey(n,h);(!m||n[m]===void 0||d===!0||d===void 0&&n[m]!==!1)&&(n[m||c]=Vj(o))}const l=(o,c)=>ct.forEach(o,(d,h)=>i(d,h,c));if(ct.isPlainObject(t)||t instanceof this.constructor)l(t,s);else if(ct.isString(t)&&(t=t.trim())&&!ZFe(t))l(YFe(t),s);else if(ct.isObject(t)&&ct.isIterable(t)){let o={},c,d;for(const h of t){if(!ct.isArray(h))throw TypeError("Object iterator must return a key-value pair");o[d=h[0]]=(c=o[d])?ct.isArray(c)?[...c,h[1]]:[c,h[1]]:h[1]}l(o,s)}else t!=null&&i(s,t,a);return this}get(t,s){if(t=ey(t),t){const a=ct.findKey(this,t);if(a){const n=this[a];if(!s)return n;if(s===!0)return XFe(n);if(ct.isFunction(s))return s.call(this,n,a);if(ct.isRegExp(s))return s.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=ey(t),t){const a=ct.findKey(this,t);return!!(a&&this[a]!==void 0&&(!s||mk(this,this[a],a,s)))}return!1}delete(t,s){const a=this;let n=!1;function i(l){if(l=ey(l),l){const o=ct.findKey(a,l);o&&(!s||mk(a,a[o],o,s))&&(delete a[o],n=!0)}}return ct.isArray(t)?t.forEach(i):i(t),n}clear(t){const s=Object.keys(this);let a=s.length,n=!1;for(;a--;){const i=s[a];(!t||mk(this,this[i],i,t,!0))&&(delete this[i],n=!0)}return n}normalize(t){const s=this,a={};return ct.forEach(this,(n,i)=>{const l=ct.findKey(a,i);if(l){s[l]=Vj(n),delete s[i];return}const o=t?JFe(i):String(i).trim();o!==i&&delete s[i],s[o]=Vj(n),a[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return ct.forEach(this,(a,n)=>{a!=null&&a!==!1&&(s[n]=t&&ct.isArray(a)?a.join(", "):a)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const a=new this(t);return s.forEach(n=>a.set(n)),a}static accessor(t){const a=(this[DB]=this[DB]={accessors:{}}).accessors,n=this.prototype;function i(l){const o=ey(l);a[o]||(QFe(n,l),a[o]=!0)}return ct.isArray(t)?t.forEach(i):i(t),this}};ko.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ct.reduceDescriptors(ko.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(a){this[s]=a}}});ct.freezeMethods(ko);function xk(e,t){const s=this||l1,a=t||s,n=ko.from(a.headers);let i=a.data;return ct.forEach(e,function(o){i=o.call(s,i,n.normalize(),t?t.status:void 0)}),n.normalize(),i}function BX(e){return!!(e&&e.__CANCEL__)}function ev(e,t,s){qr.call(this,e??"canceled",qr.ERR_CANCELED,t,s),this.name="CanceledError"}ct.inherits(ev,qr,{__CANCEL__:!0});function UX(e,t,s){const a=s.config.validateStatus;!s.status||!a||a(s.status)?e(s):t(new qr("Request failed with status code "+s.status,[qr.ERR_BAD_REQUEST,qr.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function eLe(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function tLe(e,t){e=e||10;const s=new Array(e),a=new Array(e);let n=0,i=0,l;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),h=a[i];l||(l=d),s[n]=c,a[n]=d;let m=i,p=0;for(;m!==n;)p+=s[m++],m=m%e;if(n=(n+1)%e,n===i&&(i=(i+1)%e),d-l<t)return;const x=h&&d-h;return x?Math.round(p*1e3/x):void 0}}function rLe(e,t){let s=0,a=1e3/t,n,i;const l=(d,h=Date.now())=>{s=h,n=null,i&&(clearTimeout(i),i=null),e(...d)};return[(...d)=>{const h=Date.now(),m=h-s;m>=a?l(d,h):(n=d,i||(i=setTimeout(()=>{i=null,l(n)},a-m)))},()=>n&&l(n)]}const Aw=(e,t,s=3)=>{let a=0;const n=tLe(50,250);return rLe(i=>{const l=i.loaded,o=i.lengthComputable?i.total:void 0,c=l-a,d=n(c),h=l<=o;a=l;const m={loaded:l,total:o,progress:o?l/o:void 0,bytes:c,rate:d||void 0,estimated:d&&o&&h?(o-l)/d:void 0,event:i,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(m)},s)},RB=(e,t)=>{const s=e!=null;return[a=>t[0]({lengthComputable:s,total:e,loaded:a}),t[1]]},MB=e=>(...t)=>ct.asap(()=>e(...t)),sLe=wl.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,wl.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(wl.origin),wl.navigator&&/(msie|trident)/i.test(wl.navigator.userAgent)):()=>!0,aLe=wl.hasStandardBrowserEnv?{write(e,t,s,a,n,i,l){if(typeof document>"u")return;const o=[`${e}=${encodeURIComponent(t)}`];ct.isNumber(s)&&o.push(`expires=${new Date(s).toUTCString()}`),ct.isString(a)&&o.push(`path=${a}`),ct.isString(n)&&o.push(`domain=${n}`),i===!0&&o.push("secure"),ct.isString(l)&&o.push(`SameSite=${l}`),document.cookie=o.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function nLe(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function iLe(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function zX(e,t,s){let a=!nLe(t);return e&&(a||s==!1)?iLe(e,t):t}const FB=e=>e instanceof ko?{...e}:e;function fx(e,t){t=t||{};const s={};function a(d,h,m,p){return ct.isPlainObject(d)&&ct.isPlainObject(h)?ct.merge.call({caseless:p},d,h):ct.isPlainObject(h)?ct.merge({},h):ct.isArray(h)?h.slice():h}function n(d,h,m,p){if(ct.isUndefined(h)){if(!ct.isUndefined(d))return a(void 0,d,m,p)}else return a(d,h,m,p)}function i(d,h){if(!ct.isUndefined(h))return a(void 0,h)}function l(d,h){if(ct.isUndefined(h)){if(!ct.isUndefined(d))return a(void 0,d)}else return a(void 0,h)}function o(d,h,m){if(m in t)return a(d,h);if(m in e)return a(void 0,d)}const c={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:o,headers:(d,h,m)=>n(FB(d),FB(h),m,!0)};return ct.forEach(Object.keys({...e,...t}),function(h){const m=c[h]||n,p=m(e[h],t[h],h);ct.isUndefined(p)&&m!==o||(s[h]=p)}),s}const $X=e=>{const t=fx({},e);let{data:s,withXSRFToken:a,xsrfHeaderName:n,xsrfCookieName:i,headers:l,auth:o}=t;if(t.headers=l=ko.from(l),t.url=FX(zX(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),ct.isFormData(s)){if(wl.hasStandardBrowserEnv||wl.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(ct.isFunction(s.getHeaders)){const c=s.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([h,m])=>{d.includes(h.toLowerCase())&&l.set(h,m)})}}if(wl.hasStandardBrowserEnv&&(a&&ct.isFunction(a)&&(a=a(t)),a||a!==!1&&sLe(t.url))){const c=n&&i&&aLe.read(i);c&&l.set(n,c)}return t},lLe=typeof XMLHttpRequest<"u",oLe=lLe&&function(e){return new Promise(function(s,a){const n=$X(e);let i=n.data;const l=ko.from(n.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:d}=n,h,m,p,x,v;function y(){x&&x(),v&&v(),n.cancelToken&&n.cancelToken.unsubscribe(h),n.signal&&n.signal.removeEventListener("abort",h)}let b=new XMLHttpRequest;b.open(n.method.toUpperCase(),n.url,!0),b.timeout=n.timeout;function j(){if(!b)return;const w=ko.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),_={data:!o||o==="text"||o==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:w,config:e,request:b};UX(function(E){s(E),y()},function(E){a(E),y()},_),b=null}"onloadend"in b?b.onloadend=j:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(j)},b.onabort=function(){b&&(a(new qr("Request aborted",qr.ECONNABORTED,e,b)),b=null)},b.onerror=function(k){const _=k&&k.message?k.message:"Network Error",O=new qr(_,qr.ERR_NETWORK,e,b);O.event=k||null,a(O),b=null},b.ontimeout=function(){let k=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const _=n.transitional||LX;n.timeoutErrorMessage&&(k=n.timeoutErrorMessage),a(new qr(k,_.clarifyTimeoutError?qr.ETIMEDOUT:qr.ECONNABORTED,e,b)),b=null},i===void 0&&l.setContentType(null),"setRequestHeader"in b&&ct.forEach(l.toJSON(),function(k,_){b.setRequestHeader(_,k)}),ct.isUndefined(n.withCredentials)||(b.withCredentials=!!n.withCredentials),o&&o!=="json"&&(b.responseType=n.responseType),d&&([p,v]=Aw(d,!0),b.addEventListener("progress",p)),c&&b.upload&&([m,x]=Aw(c),b.upload.addEventListener("progress",m),b.upload.addEventListener("loadend",x)),(n.cancelToken||n.signal)&&(h=w=>{b&&(a(!w||w.type?new ev(null,e,b):w),b.abort(),b=null)},n.cancelToken&&n.cancelToken.subscribe(h),n.signal&&(n.signal.aborted?h():n.signal.addEventListener("abort",h)));const S=eLe(n.url);if(S&&wl.protocols.indexOf(S)===-1){a(new qr("Unsupported protocol "+S+":",qr.ERR_BAD_REQUEST,e));return}b.send(i||null)})},cLe=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let a=new AbortController,n;const i=function(d){if(!n){n=!0,o();const h=d instanceof Error?d:this.reason;a.abort(h instanceof qr?h:new ev(h instanceof Error?h.message:h))}};let l=t&&setTimeout(()=>{l=null,i(new qr(`timeout ${t} of ms exceeded`,qr.ETIMEDOUT))},t);const o=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),e=null)};e.forEach(d=>d.addEventListener("abort",i));const{signal:c}=a;return c.unsubscribe=()=>ct.asap(o),c}},dLe=function*(e,t){let s=e.byteLength;if(s<t){yield e;return}let a=0,n;for(;a<s;)n=a+t,yield e.slice(a,n),a=n},uLe=async function*(e,t){for await(const s of hLe(e))yield*dLe(s,t)},hLe=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:a}=await t.read();if(s)break;yield a}}finally{await t.cancel()}},LB=(e,t,s,a)=>{const n=uLe(e,t);let i=0,l,o=c=>{l||(l=!0,a&&a(c))};return new ReadableStream({async pull(c){try{const{done:d,value:h}=await n.next();if(d){o(),c.close();return}let m=h.byteLength;if(s){let p=i+=m;s(p)}c.enqueue(new Uint8Array(h))}catch(d){throw o(d),d}},cancel(c){return o(c),n.return()}},{highWaterMark:2})},IB=64*1024,{isFunction:U2}=ct,fLe=(({Request:e,Response:t})=>({Request:e,Response:t}))(ct.global),{ReadableStream:BB,TextEncoder:UB}=ct.global,zB=(e,...t)=>{try{return!!e(...t)}catch{return!1}},mLe=e=>{e=ct.merge.call({skipUndefined:!0},fLe,e);const{fetch:t,Request:s,Response:a}=e,n=t?U2(t):typeof fetch=="function",i=U2(s),l=U2(a);if(!n)return!1;const o=n&&U2(BB),c=n&&(typeof UB=="function"?(v=>y=>v.encode(y))(new UB):async v=>new Uint8Array(await new s(v).arrayBuffer())),d=i&&o&&zB(()=>{let v=!1;const y=new s(wl.origin,{body:new BB,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!y}),h=l&&o&&zB(()=>ct.isReadableStream(new a("").body)),m={stream:h&&(v=>v.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!m[v]&&(m[v]=(y,b)=>{let j=y&&y[v];if(j)return j.call(y);throw new qr(`Response type '${v}' is not supported`,qr.ERR_NOT_SUPPORT,b)})});const p=async v=>{if(v==null)return 0;if(ct.isBlob(v))return v.size;if(ct.isSpecCompliantForm(v))return(await new s(wl.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(ct.isArrayBufferView(v)||ct.isArrayBuffer(v))return v.byteLength;if(ct.isURLSearchParams(v)&&(v=v+""),ct.isString(v))return(await c(v)).byteLength},x=async(v,y)=>{const b=ct.toFiniteNumber(v.getContentLength());return b??p(y)};return async v=>{let{url:y,method:b,data:j,signal:S,cancelToken:w,timeout:k,onDownloadProgress:_,onUploadProgress:O,responseType:E,headers:F,withCredentials:I="same-origin",fetchOptions:U}=$X(v),M=t||fetch;E=E?(E+"").toLowerCase():"text";let L=cLe([S,w&&w.toAbortSignal()],k),J=null;const K=L&&L.unsubscribe&&(()=>{L.unsubscribe()});let ae;try{if(O&&d&&b!=="get"&&b!=="head"&&(ae=await x(F,j))!==0){let te=new s(y,{method:"POST",body:j,duplex:"half"}),D;if(ct.isFormData(j)&&(D=te.headers.get("content-type"))&&F.setContentType(D),te.body){const[H,q]=RB(ae,Aw(MB(O)));j=LB(te.body,IB,H,q)}}ct.isString(I)||(I=I?"include":"omit");const V=i&&"credentials"in s.prototype,re={...U,signal:L,method:b.toUpperCase(),headers:F.normalize().toJSON(),body:j,duplex:"half",credentials:V?I:void 0};J=i&&new s(y,re);let X=await(i?M(J,U):M(y,re));const Z=h&&(E==="stream"||E==="response");if(h&&(_||Z&&K)){const te={};["status","statusText","headers"].forEach(W=>{te[W]=X[W]});const D=ct.toFiniteNumber(X.headers.get("content-length")),[H,q]=_&&RB(D,Aw(MB(_),!0))||[];X=new a(LB(X.body,IB,H,()=>{q&&q(),K&&K()}),te)}E=E||"text";let ye=await m[ct.findKey(m,E)||"text"](X,v);return!Z&&K&&K(),await new Promise((te,D)=>{UX(te,D,{data:ye,headers:ko.from(X.headers),status:X.status,statusText:X.statusText,config:v,request:J})})}catch(V){throw K&&K(),V&&V.name==="TypeError"&&/Load failed|fetch/i.test(V.message)?Object.assign(new qr("Network Error",qr.ERR_NETWORK,v,J),{cause:V.cause||V}):qr.from(V,V&&V.code,v,J)}}},xLe=new Map,HX=e=>{let t=e&&e.env||{};const{fetch:s,Request:a,Response:n}=t,i=[a,n,s];let l=i.length,o=l,c,d,h=xLe;for(;o--;)c=i[o],d=h.get(c),d===void 0&&h.set(c,d=o?new Map:mLe(t)),h=d;return d};HX();const pP={http:OFe,xhr:oLe,fetch:{get:HX}};ct.forEach(pP,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const $B=e=>`- ${e}`,pLe=e=>ct.isFunction(e)||e===null||e===!1;function gLe(e,t){e=ct.isArray(e)?e:[e];const{length:s}=e;let a,n;const i={};for(let l=0;l<s;l++){a=e[l];let o;if(n=a,!pLe(a)&&(n=pP[(o=String(a)).toLowerCase()],n===void 0))throw new qr(`Unknown adapter '${o}'`);if(n&&(ct.isFunction(n)||(n=n.get(t))))break;i[o||"#"+l]=n}if(!n){const l=Object.entries(i).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let o=s?l.length>1?`since :
`+l.map($B).join(`
`):" "+$B(l[0]):"as no adapter specified";throw new qr("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n}const qX={getAdapter:gLe,adapters:pP};function pk(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ev(null,e)}function HB(e){return pk(e),e.headers=ko.from(e.headers),e.data=xk.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),qX.getAdapter(e.adapter||l1.adapter,e)(e).then(function(a){return pk(e),a.data=xk.call(e,e.transformResponse,a),a.headers=ko.from(a.headers),a},function(a){return BX(a)||(pk(e),a&&a.response&&(a.response.data=xk.call(e,e.transformResponse,a.response),a.response.headers=ko.from(a.response.headers))),Promise.reject(a)})}const VX="1.13.2",u4={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{u4[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});const qB={};u4.transitional=function(t,s,a){function n(i,l){return"[Axios v"+VX+"] Transitional option '"+i+"'"+l+(a?". "+a:"")}return(i,l,o)=>{if(t===!1)throw new qr(n(l," has been removed"+(s?" in "+s:"")),qr.ERR_DEPRECATED);return s&&!qB[l]&&(qB[l]=!0,console.warn(n(l," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(i,l,o):!0}};u4.spelling=function(t){return(s,a)=>(console.warn(`${a} is likely a misspelling of ${t}`),!0)};function vLe(e,t,s){if(typeof e!="object")throw new qr("options must be an object",qr.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let n=a.length;for(;n-- >0;){const i=a[n],l=t[i];if(l){const o=e[i],c=o===void 0||l(o,i,e);if(c!==!0)throw new qr("option "+i+" must be "+c,qr.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new qr("Unknown option "+i,qr.ERR_BAD_OPTION)}}const Wj={assertOptions:vLe,validators:u4},wu=Wj.validators;let $0=class{constructor(t){this.defaults=t||{},this.interceptors={request:new OB,response:new OB}}async request(t,s){try{return await this._request(t,s)}catch(a){if(a instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{a.stack?i&&!String(a.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+i):a.stack=i}catch{}}throw a}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=fx(this.defaults,s);const{transitional:a,paramsSerializer:n,headers:i}=s;a!==void 0&&Wj.assertOptions(a,{silentJSONParsing:wu.transitional(wu.boolean),forcedJSONParsing:wu.transitional(wu.boolean),clarifyTimeoutError:wu.transitional(wu.boolean)},!1),n!=null&&(ct.isFunction(n)?s.paramsSerializer={serialize:n}:Wj.assertOptions(n,{encode:wu.function,serialize:wu.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Wj.assertOptions(s,{baseUrl:wu.spelling("baseURL"),withXsrfToken:wu.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let l=i&&ct.merge(i.common,i[s.method]);i&&ct.forEach(["delete","get","head","post","put","patch","common"],v=>{delete i[v]}),s.headers=ko.concat(l,i);const o=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(s)===!1||(c=c&&y.synchronous,o.unshift(y.fulfilled,y.rejected))});const d=[];this.interceptors.response.forEach(function(y){d.push(y.fulfilled,y.rejected)});let h,m=0,p;if(!c){const v=[HB.bind(this),void 0];for(v.unshift(...o),v.push(...d),p=v.length,h=Promise.resolve(s);m<p;)h=h.then(v[m++],v[m++]);return h}p=o.length;let x=s;for(;m<p;){const v=o[m++],y=o[m++];try{x=v(x)}catch(b){y.call(this,b);break}}try{h=HB.call(this,x)}catch(v){return Promise.reject(v)}for(m=0,p=d.length;m<p;)h=h.then(d[m++],d[m++]);return h}getUri(t){t=fx(this.defaults,t);const s=zX(t.baseURL,t.url,t.allowAbsoluteUrls);return FX(s,t.params,t.paramsSerializer)}};ct.forEach(["delete","get","head","options"],function(t){$0.prototype[t]=function(s,a){return this.request(fx(a||{},{method:t,url:s,data:(a||{}).data}))}});ct.forEach(["post","put","patch"],function(t){function s(a){return function(i,l,o){return this.request(fx(o||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}$0.prototype[t]=s(),$0.prototype[t+"Form"]=s(!0)});let yLe=class WX{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(i){s=i});const a=this;this.promise.then(n=>{if(!a._listeners)return;let i=a._listeners.length;for(;i-- >0;)a._listeners[i](n);a._listeners=null}),this.promise.then=n=>{let i;const l=new Promise(o=>{a.subscribe(o),i=o}).then(n);return l.cancel=function(){a.unsubscribe(i)},l},t(function(i,l,o){a.reason||(a.reason=new ev(i,l,o),s(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=a=>{t.abort(a)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new WX(function(n){t=n}),cancel:t}}};function bLe(e){return function(s){return e.apply(null,s)}}function jLe(e){return ct.isObject(e)&&e.isAxiosError===!0}const A6={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(A6).forEach(([e,t])=>{A6[t]=e});function GX(e){const t=new $0(e),s=SX($0.prototype.request,t);return ct.extend(s,$0.prototype,t,{allOwnKeys:!0}),ct.extend(s,t,null,{allOwnKeys:!0}),s.create=function(n){return GX(fx(e,n))},s}const In=GX(l1);In.Axios=$0;In.CanceledError=ev;In.CancelToken=yLe;In.isCancel=BX;In.VERSION=VX;In.toFormData=d4;In.AxiosError=qr;In.Cancel=In.CanceledError;In.all=function(t){return Promise.all(t)};In.spread=bLe;In.isAxiosError=jLe;In.mergeConfig=fx;In.AxiosHeaders=ko;In.formToJSON=e=>IX(ct.isHTMLForm(e)?new FormData(e):e);In.getAdapter=qX.getAdapter;In.HttpStatusCode=A6;In.default=In;const{Axios:QUe,AxiosError:eze,CanceledError:tze,isCancel:rze,CancelToken:sze,VERSION:aze,all:nze,Cancel:ize,isAxiosError:lze,spread:oze,toFormData:cze,AxiosHeaders:dze,HttpStatusCode:uze,formToJSON:hze,getAdapter:fze,mergeConfig:mze}=In,NLe="http://localhost:3001/api",Xn=In.create({baseURL:NLe,headers:{"Content-Type":"application/json"}});Xn.interceptors.request.use(e=>{const t=localStorage.getItem("auth_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});Xn.interceptors.response.use(e=>e,e=>(e.response?.status===401&&(localStorage.removeItem("auth_token"),localStorage.removeItem("admin_user"),window.location.href="/login"),Promise.reject(e)));const ty={getAll:e=>Xn.get("/orders",{params:e}),getById:e=>Xn.get(`/orders/${e}`),create:e=>Xn.post("/orders",e),update:(e,t)=>Xn.patch(`/orders/${e}`,t),updateStatus:(e,t)=>Xn.patch(`/orders/${e}/status`,{status:t}),cancel:(e,t)=>Xn.post(`/orders/${e}/cancel`,{reason:t}),assignDelivery:(e,t)=>Xn.post(`/orders/${e}/assign`,{agentId:t})},em={getAll:e=>Xn.get("/categories",{params:e}),getById:e=>Xn.get(`/categories/${e}`),create:e=>Xn.post("/categories",e),update:(e,t)=>Xn.patch(`/categories/${e}`,t),delete:e=>Xn.delete(`/categories/${e}`),reorder:e=>Xn.post("/categories/reorder",e),bulkUpdate:e=>Xn.patch("/categories/bulk",e)},z2={getStats:()=>Xn.get("/dashboard/stats"),getRecentOrders:()=>Xn.get("/dashboard/recent-orders"),getLowStock:()=>Xn.get("/dashboard/low-stock"),getSalesChart:e=>Xn.get(`/dashboard/sales-chart?days=${e}`)},Hu=Object.create(null);Hu.open="0";Hu.close="1";Hu.ping="2";Hu.pong="3";Hu.message="4";Hu.upgrade="5";Hu.noop="6";const Gj=Object.create(null);Object.keys(Hu).forEach(e=>{Gj[Hu[e]]=e});const C6={type:"error",data:"parser error"},KX=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",YX=typeof ArrayBuffer=="function",XX=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,gP=({type:e,data:t},s,a)=>KX&&t instanceof Blob?s?a(t):VB(t,a):YX&&(t instanceof ArrayBuffer||XX(t))?s?a(t):VB(new Blob([t]),a):a(Hu[e]+(t||"")),VB=(e,t)=>{const s=new FileReader;return s.onload=function(){const a=s.result.split(",")[1];t("b"+(a||""))},s.readAsDataURL(e)};function WB(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let gk;function wLe(e,t){if(KX&&e.data instanceof Blob)return e.data.arrayBuffer().then(WB).then(t);if(YX&&(e.data instanceof ArrayBuffer||XX(e.data)))return t(WB(e.data));gP(e,!1,s=>{gk||(gk=new TextEncoder),t(gk.encode(s))})}const GB="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",my=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<GB.length;e++)my[GB.charCodeAt(e)]=e;const SLe=e=>{let t=e.length*.75,s=e.length,a,n=0,i,l,o,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const d=new ArrayBuffer(t),h=new Uint8Array(d);for(a=0;a<s;a+=4)i=my[e.charCodeAt(a)],l=my[e.charCodeAt(a+1)],o=my[e.charCodeAt(a+2)],c=my[e.charCodeAt(a+3)],h[n++]=i<<2|l>>4,h[n++]=(l&15)<<4|o>>2,h[n++]=(o&3)<<6|c&63;return d},_Le=typeof ArrayBuffer=="function",vP=(e,t)=>{if(typeof e!="string")return{type:"message",data:ZX(e,t)};const s=e.charAt(0);return s==="b"?{type:"message",data:kLe(e.substring(1),t)}:Gj[s]?e.length>1?{type:Gj[s],data:e.substring(1)}:{type:Gj[s]}:C6},kLe=(e,t)=>{if(_Le){const s=SLe(e);return ZX(s,t)}else return{base64:!0,data:e}},ZX=(e,t)=>t==="blob"?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,JX="",ALe=(e,t)=>{const s=e.length,a=new Array(s);let n=0;e.forEach((i,l)=>{gP(i,!1,o=>{a[l]=o,++n===s&&t(a.join(JX))})})},CLe=(e,t)=>{const s=e.split(JX),a=[];for(let n=0;n<s.length;n++){const i=vP(s[n],t);if(a.push(i),i.type==="error")break}return a};function TLe(){return new TransformStream({transform(e,t){wLe(e,s=>{const a=s.length;let n;if(a<126)n=new Uint8Array(1),new DataView(n.buffer).setUint8(0,a);else if(a<65536){n=new Uint8Array(3);const i=new DataView(n.buffer);i.setUint8(0,126),i.setUint16(1,a)}else{n=new Uint8Array(9);const i=new DataView(n.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(a))}e.data&&typeof e.data!="string"&&(n[0]|=128),t.enqueue(n),t.enqueue(s)})}})}let vk;function $2(e){return e.reduce((t,s)=>t+s.length,0)}function H2(e,t){if(e[0].length===t)return e.shift();const s=new Uint8Array(t);let a=0;for(let n=0;n<t;n++)s[n]=e[0][a++],a===e[0].length&&(e.shift(),a=0);return e.length&&a<e[0].length&&(e[0]=e[0].slice(a)),s}function ELe(e,t){vk||(vk=new TextDecoder);const s=[];let a=0,n=-1,i=!1;return new TransformStream({transform(l,o){for(s.push(l);;){if(a===0){if($2(s)<1)break;const c=H2(s,1);i=(c[0]&128)===128,n=c[0]&127,n<126?a=3:n===126?a=1:a=2}else if(a===1){if($2(s)<2)break;const c=H2(s,2);n=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),a=3}else if(a===2){if($2(s)<8)break;const c=H2(s,8),d=new DataView(c.buffer,c.byteOffset,c.length),h=d.getUint32(0);if(h>Math.pow(2,21)-1){o.enqueue(C6);break}n=h*Math.pow(2,32)+d.getUint32(4),a=3}else{if($2(s)<n)break;const c=H2(s,n);o.enqueue(vP(i?c:vk.decode(c),t)),a=0}if(n===0||n>e){o.enqueue(C6);break}}}})}const QX=4;function Qn(e){if(e)return PLe(e)}function PLe(e){for(var t in Qn.prototype)e[t]=Qn.prototype[t];return e}Qn.prototype.on=Qn.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Qn.prototype.once=function(e,t){function s(){this.off(e,s),t.apply(this,arguments)}return s.fn=t,this.on(e,s),this};Qn.prototype.off=Qn.prototype.removeListener=Qn.prototype.removeAllListeners=Qn.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+e];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var a,n=0;n<s.length;n++)if(a=s[n],a===t||a.fn===t){s.splice(n,1);break}return s.length===0&&delete this._callbacks["$"+e],this};Qn.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),s=this._callbacks["$"+e],a=1;a<arguments.length;a++)t[a-1]=arguments[a];if(s){s=s.slice(0);for(var a=0,n=s.length;a<n;++a)s[a].apply(this,t)}return this};Qn.prototype.emitReserved=Qn.prototype.emit;Qn.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Qn.prototype.hasListeners=function(e){return!!this.listeners(e).length};const h4=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,s)=>s(t,0),Uc=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),OLe="arraybuffer";function eZ(e,...t){return t.reduce((s,a)=>(e.hasOwnProperty(a)&&(s[a]=e[a]),s),{})}const DLe=Uc.setTimeout,RLe=Uc.clearTimeout;function f4(e,t){t.useNativeTimers?(e.setTimeoutFn=DLe.bind(Uc),e.clearTimeoutFn=RLe.bind(Uc)):(e.setTimeoutFn=Uc.setTimeout.bind(Uc),e.clearTimeoutFn=Uc.clearTimeout.bind(Uc))}const MLe=1.33;function FLe(e){return typeof e=="string"?LLe(e):Math.ceil((e.byteLength||e.size)*MLe)}function LLe(e){let t=0,s=0;for(let a=0,n=e.length;a<n;a++)t=e.charCodeAt(a),t<128?s+=1:t<2048?s+=2:t<55296||t>=57344?s+=3:(a++,s+=4);return s}function tZ(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function ILe(e){let t="";for(let s in e)e.hasOwnProperty(s)&&(t.length&&(t+="&"),t+=encodeURIComponent(s)+"="+encodeURIComponent(e[s]));return t}function BLe(e){let t={},s=e.split("&");for(let a=0,n=s.length;a<n;a++){let i=s[a].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}class ULe extends Error{constructor(t,s,a){super(t),this.description=s,this.context=a,this.type="TransportError"}}class yP extends Qn{constructor(t){super(),this.writable=!1,f4(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,s,a){return super.emitReserved("error",new ULe(t,s,a)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const s=vP(t,this.socket.binaryType);this.onPacket(s)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,s={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(s)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const s=ILe(t);return s.length?"?"+s:""}}class zLe extends yP{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const s=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let a=0;this._polling&&(a++,this.once("pollComplete",function(){--a||s()})),this.writable||(a++,this.once("drain",function(){--a||s()}))}else s()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const s=a=>{if(this.readyState==="opening"&&a.type==="open"&&this.onOpen(),a.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(a)};CLe(t,this.socket.binaryType).forEach(s),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,ALe(t,s=>{this.doWrite(s,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",s=this.query||{};return this.opts.timestampRequests!==!1&&(s[this.opts.timestampParam]=tZ()),!this.supportsBinary&&!s.sid&&(s.b64=1),this.createUri(t,s)}}let rZ=!1;try{rZ=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const $Le=rZ;function HLe(){}class qLe extends zLe{constructor(t){if(super(t),typeof location<"u"){const s=location.protocol==="https:";let a=location.port;a||(a=s?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||a!==t.port}}doWrite(t,s){const a=this.request({method:"POST",data:t});a.on("success",s),a.on("error",(n,i)=>{this.onError("xhr post error",n,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(s,a)=>{this.onError("xhr poll error",s,a)}),this.pollXhr=t}}class Ru extends Qn{constructor(t,s,a){super(),this.createRequest=t,f4(this,a),this._opts=a,this._method=a.method||"GET",this._uri=s,this._data=a.data!==void 0?a.data:null,this._create()}_create(){var t;const s=eZ(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");s.xdomain=!!this._opts.xd;const a=this._xhr=this.createRequest(s);try{a.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){a.setDisableHeaderCheck&&a.setDisableHeaderCheck(!0);for(let n in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(n)&&a.setRequestHeader(n,this._opts.extraHeaders[n])}}catch{}if(this._method==="POST")try{a.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{a.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(a),"withCredentials"in a&&(a.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(a.timeout=this._opts.requestTimeout),a.onreadystatechange=()=>{var n;a.readyState===3&&((n=this._opts.cookieJar)===null||n===void 0||n.parseCookies(a.getResponseHeader("set-cookie"))),a.readyState===4&&(a.status===200||a.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof a.status=="number"?a.status:0)},0))},a.send(this._data)}catch(n){this.setTimeoutFn(()=>{this._onError(n)},0);return}typeof document<"u"&&(this._index=Ru.requestsCount++,Ru.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=HLe,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Ru.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Ru.requestsCount=0;Ru.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",KB);else if(typeof addEventListener=="function"){const e="onpagehide"in Uc?"pagehide":"unload";addEventListener(e,KB,!1)}}function KB(){for(let e in Ru.requests)Ru.requests.hasOwnProperty(e)&&Ru.requests[e].abort()}const VLe=(function(){const e=sZ({xdomain:!1});return e&&e.responseType!==null})();class WLe extends qLe{constructor(t){super(t);const s=t&&t.forceBase64;this.supportsBinary=VLe&&!s}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Ru(sZ,this.uri(),t)}}function sZ(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||$Le))return new XMLHttpRequest}catch{}if(!t)try{return new Uc[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const aZ=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class GLe extends yP{get name(){return"websocket"}doOpen(){const t=this.uri(),s=this.opts.protocols,a=aZ?{}:eZ(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(a.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,s,a)}catch(n){return this.emitReserved("error",n)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let s=0;s<t.length;s++){const a=t[s],n=s===t.length-1;gP(a,this.supportsBinary,i=>{try{this.doWrite(a,i)}catch{}n&&h4(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",s=this.query||{};return this.opts.timestampRequests&&(s[this.opts.timestampParam]=tZ()),this.supportsBinary||(s.b64=1),this.createUri(t,s)}}const yk=Uc.WebSocket||Uc.MozWebSocket;class KLe extends GLe{createSocket(t,s,a){return aZ?new yk(t,s,a):s?new yk(t,s):new yk(t)}doWrite(t,s){this.ws.send(s)}}class YLe extends yP{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const s=ELe(Number.MAX_SAFE_INTEGER,this.socket.binaryType),a=t.readable.pipeThrough(s).getReader(),n=TLe();n.readable.pipeTo(t.writable),this._writer=n.writable.getWriter();const i=()=>{a.read().then(({done:o,value:c})=>{o||(this.onPacket(c),i())}).catch(o=>{})};i();const l={type:"open"};this.query.sid&&(l.data=`{"sid":"${this.query.sid}"}`),this._writer.write(l).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let s=0;s<t.length;s++){const a=t[s],n=s===t.length-1;this._writer.write(a).then(()=>{n&&h4(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const XLe={websocket:KLe,webtransport:YLe,polling:WLe},ZLe=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,JLe=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function T6(e){if(e.length>8e3)throw"URI too long";const t=e,s=e.indexOf("["),a=e.indexOf("]");s!=-1&&a!=-1&&(e=e.substring(0,s)+e.substring(s,a).replace(/:/g,";")+e.substring(a,e.length));let n=ZLe.exec(e||""),i={},l=14;for(;l--;)i[JLe[l]]=n[l]||"";return s!=-1&&a!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=QLe(i,i.path),i.queryKey=eIe(i,i.query),i}function QLe(e,t){const s=/\/{2,9}/g,a=t.replace(s,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&a.splice(0,1),t.slice(-1)=="/"&&a.splice(a.length-1,1),a}function eIe(e,t){const s={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(a,n,i){n&&(s[n]=i)}),s}const E6=typeof addEventListener=="function"&&typeof removeEventListener=="function",Kj=[];E6&&addEventListener("offline",()=>{Kj.forEach(e=>e())},!1);class gm extends Qn{constructor(t,s){if(super(),this.binaryType=OLe,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(s=t,t=null),t){const a=T6(t);s.hostname=a.host,s.secure=a.protocol==="https"||a.protocol==="wss",s.port=a.port,a.query&&(s.query=a.query)}else s.host&&(s.hostname=T6(s.host).host);f4(this,s),this.secure=s.secure!=null?s.secure:typeof location<"u"&&location.protocol==="https:",s.hostname&&!s.port&&(s.port=this.secure?"443":"80"),this.hostname=s.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=s.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},s.transports.forEach(a=>{const n=a.prototype.name;this.transports.push(n),this._transportsByName[n]=a}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},s),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=BLe(this.opts.query)),E6&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Kj.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const s=Object.assign({},this.opts.query);s.EIO=QX,s.transport=t,this.id&&(s.sid=this.id);const a=Object.assign({},this.opts,{query:s,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](a)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&gm.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const s=this.createTransport(t);s.open(),this.setTransport(s)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",s=>this._onClose("transport close",s))}onOpen(){this.readyState="open",gm.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const s=new Error("server error");s.code=t.data,this._onError(s);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let s=1;for(let a=0;a<this.writeBuffer.length;a++){const n=this.writeBuffer[a].data;if(n&&(s+=FLe(n)),a>0&&s>this._maxPayload)return this.writeBuffer.slice(0,a);s+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,h4(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,s,a){return this._sendPacket("message",t,s,a),this}send(t,s,a){return this._sendPacket("message",t,s,a),this}_sendPacket(t,s,a,n){if(typeof s=="function"&&(n=s,s=void 0),typeof a=="function"&&(n=a,a=null),this.readyState==="closing"||this.readyState==="closed")return;a=a||{},a.compress=a.compress!==!1;const i={type:t,data:s,options:a};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),n&&this.once("flush",n),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},s=()=>{this.off("upgrade",s),this.off("upgradeError",s),t()},a=()=>{this.once("upgrade",s),this.once("upgradeError",s)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?a():t()}):this.upgrading?a():t()),this}_onError(t){if(gm.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,s){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),E6&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const a=Kj.indexOf(this._offlineEventListener);a!==-1&&Kj.splice(a,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,s),this.writeBuffer=[],this._prevBufferLen=0}}}gm.protocol=QX;class tIe extends gm{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let s=this.createTransport(t),a=!1;gm.priorWebsocketSuccess=!1;const n=()=>{a||(s.send([{type:"ping",data:"probe"}]),s.once("packet",m=>{if(!a)if(m.type==="pong"&&m.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",s),!s)return;gm.priorWebsocketSuccess=s.name==="websocket",this.transport.pause(()=>{a||this.readyState!=="closed"&&(h(),this.setTransport(s),s.send([{type:"upgrade"}]),this.emitReserved("upgrade",s),s=null,this.upgrading=!1,this.flush())})}else{const p=new Error("probe error");p.transport=s.name,this.emitReserved("upgradeError",p)}}))};function i(){a||(a=!0,h(),s.close(),s=null)}const l=m=>{const p=new Error("probe error: "+m);p.transport=s.name,i(),this.emitReserved("upgradeError",p)};function o(){l("transport closed")}function c(){l("socket closed")}function d(m){s&&m.name!==s.name&&i()}const h=()=>{s.removeListener("open",n),s.removeListener("error",l),s.removeListener("close",o),this.off("close",c),this.off("upgrading",d)};s.once("open",n),s.once("error",l),s.once("close",o),this.once("close",c),this.once("upgrading",d),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{a||s.open()},200):s.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const s=[];for(let a=0;a<t.length;a++)~this.transports.indexOf(t[a])&&s.push(t[a]);return s}}let rIe=class extends tIe{constructor(t,s={}){const a=typeof t=="object"?t:s;(!a.transports||a.transports&&typeof a.transports[0]=="string")&&(a.transports=(a.transports||["polling","websocket","webtransport"]).map(n=>XLe[n]).filter(n=>!!n)),super(t,a)}};function sIe(e,t="",s){let a=e;s=s||typeof location<"u"&&location,e==null&&(e=s.protocol+"//"+s.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=s.protocol+e:e=s.host+e),/^(https?|wss?):\/\//.test(e)||(typeof s<"u"?e=s.protocol+"//"+e:e="https://"+e),a=T6(e)),a.port||(/^(http|ws)$/.test(a.protocol)?a.port="80":/^(http|ws)s$/.test(a.protocol)&&(a.port="443")),a.path=a.path||"/";const i=a.host.indexOf(":")!==-1?"["+a.host+"]":a.host;return a.id=a.protocol+"://"+i+":"+a.port+t,a.href=a.protocol+"://"+i+(s&&s.port===a.port?"":":"+a.port),a}const aIe=typeof ArrayBuffer=="function",nIe=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,nZ=Object.prototype.toString,iIe=typeof Blob=="function"||typeof Blob<"u"&&nZ.call(Blob)==="[object BlobConstructor]",lIe=typeof File=="function"||typeof File<"u"&&nZ.call(File)==="[object FileConstructor]";function bP(e){return aIe&&(e instanceof ArrayBuffer||nIe(e))||iIe&&e instanceof Blob||lIe&&e instanceof File}function Yj(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let s=0,a=e.length;s<a;s++)if(Yj(e[s]))return!0;return!1}if(bP(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Yj(e.toJSON(),!0);for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&Yj(e[s]))return!0;return!1}function oIe(e){const t=[],s=e.data,a=e;return a.data=P6(s,t),a.attachments=t.length,{packet:a,buffers:t}}function P6(e,t){if(!e)return e;if(bP(e)){const s={_placeholder:!0,num:t.length};return t.push(e),s}else if(Array.isArray(e)){const s=new Array(e.length);for(let a=0;a<e.length;a++)s[a]=P6(e[a],t);return s}else if(typeof e=="object"&&!(e instanceof Date)){const s={};for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&(s[a]=P6(e[a],t));return s}return e}function cIe(e,t){return e.data=O6(e.data,t),delete e.attachments,e}function O6(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let s=0;s<e.length;s++)e[s]=O6(e[s],t);else if(typeof e=="object")for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(e[s]=O6(e[s],t));return e}const iZ=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],dIe=5;var Yr;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Yr||(Yr={}));class uIe{constructor(t){this.replacer=t}encode(t){return(t.type===Yr.EVENT||t.type===Yr.ACK)&&Yj(t)?this.encodeAsBinary({type:t.type===Yr.EVENT?Yr.BINARY_EVENT:Yr.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let s=""+t.type;return(t.type===Yr.BINARY_EVENT||t.type===Yr.BINARY_ACK)&&(s+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(s+=t.nsp+","),t.id!=null&&(s+=t.id),t.data!=null&&(s+=JSON.stringify(t.data,this.replacer)),s}encodeAsBinary(t){const s=oIe(t),a=this.encodeAsString(s.packet),n=s.buffers;return n.unshift(a),n}}class jP extends Qn{constructor(t){super(),this.reviver=t}add(t){let s;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");s=this.decodeString(t);const a=s.type===Yr.BINARY_EVENT;a||s.type===Yr.BINARY_ACK?(s.type=a?Yr.EVENT:Yr.ACK,this.reconstructor=new hIe(s),s.attachments===0&&super.emitReserved("decoded",s)):super.emitReserved("decoded",s)}else if(bP(t)||t.base64)if(this.reconstructor)s=this.reconstructor.takeBinaryData(t),s&&(this.reconstructor=null,super.emitReserved("decoded",s));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let s=0;const a={type:Number(t.charAt(0))};if(Yr[a.type]===void 0)throw new Error("unknown packet type "+a.type);if(a.type===Yr.BINARY_EVENT||a.type===Yr.BINARY_ACK){const i=s+1;for(;t.charAt(++s)!=="-"&&s!=t.length;);const l=t.substring(i,s);if(l!=Number(l)||t.charAt(s)!=="-")throw new Error("Illegal attachments");a.attachments=Number(l)}if(t.charAt(s+1)==="/"){const i=s+1;for(;++s&&!(t.charAt(s)===","||s===t.length););a.nsp=t.substring(i,s)}else a.nsp="/";const n=t.charAt(s+1);if(n!==""&&Number(n)==n){const i=s+1;for(;++s;){const l=t.charAt(s);if(l==null||Number(l)!=l){--s;break}if(s===t.length)break}a.id=Number(t.substring(i,s+1))}if(t.charAt(++s)){const i=this.tryParse(t.substr(s));if(jP.isPayloadValid(a.type,i))a.data=i;else throw new Error("invalid payload")}return a}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,s){switch(t){case Yr.CONNECT:return Cw(s);case Yr.DISCONNECT:return s===void 0;case Yr.CONNECT_ERROR:return typeof s=="string"||Cw(s);case Yr.EVENT:case Yr.BINARY_EVENT:return Array.isArray(s)&&(typeof s[0]=="number"||typeof s[0]=="string"&&iZ.indexOf(s[0])===-1);case Yr.ACK:case Yr.BINARY_ACK:return Array.isArray(s)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class hIe{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const s=cIe(this.reconPack,this.buffers);return this.finishedReconstruction(),s}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function fIe(e){return typeof e=="string"}const mIe=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};function xIe(e){return e===void 0||mIe(e)}function Cw(e){return Object.prototype.toString.call(e)==="[object Object]"}function pIe(e,t){switch(e){case Yr.CONNECT:return t===void 0||Cw(t);case Yr.DISCONNECT:return t===void 0;case Yr.EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&iZ.indexOf(t[0])===-1);case Yr.ACK:return Array.isArray(t);case Yr.CONNECT_ERROR:return typeof t=="string"||Cw(t);default:return!1}}function gIe(e){return fIe(e.nsp)&&xIe(e.id)&&pIe(e.type,e.data)}const vIe=Object.freeze(Object.defineProperty({__proto__:null,Decoder:jP,Encoder:uIe,get PacketType(){return Yr},isPacketValid:gIe,protocol:dIe},Symbol.toStringTag,{value:"Module"}));function Fd(e,t,s){return e.on(t,s),function(){e.off(t,s)}}const yIe=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class lZ extends Qn{constructor(t,s,a){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=s,a&&a.auth&&(this.auth=a.auth),this._opts=Object.assign({},a),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Fd(t,"open",this.onopen.bind(this)),Fd(t,"packet",this.onpacket.bind(this)),Fd(t,"error",this.onerror.bind(this)),Fd(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...s){var a,n,i;if(yIe.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(s.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const l={type:Yr.EVENT,data:s};if(l.options={},l.options.compress=this.flags.compress!==!1,typeof s[s.length-1]=="function"){const h=this.ids++,m=s.pop();this._registerAckCallback(h,m),l.id=h}const o=(n=(a=this.io.engine)===null||a===void 0?void 0:a.transport)===null||n===void 0?void 0:n.writable,c=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!o||(c?(this.notifyOutgoingListeners(l),this.packet(l)):this.sendBuffer.push(l)),this.flags={},this}_registerAckCallback(t,s){var a;const n=(a=this.flags.timeout)!==null&&a!==void 0?a:this._opts.ackTimeout;if(n===void 0){this.acks[t]=s;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===t&&this.sendBuffer.splice(o,1);s.call(this,new Error("operation has timed out"))},n),l=(...o)=>{this.io.clearTimeoutFn(i),s.apply(this,o)};l.withError=!0,this.acks[t]=l}emitWithAck(t,...s){return new Promise((a,n)=>{const i=(l,o)=>l?n(l):a(o);i.withError=!0,s.push(i),this.emit(t,...s)})}_addToQueue(t){let s;typeof t[t.length-1]=="function"&&(s=t.pop());const a={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((n,...i)=>(this._queue[0],n!==null?a.tryCount>this._opts.retries&&(this._queue.shift(),s&&s(n)):(this._queue.shift(),s&&s(null,...i)),a.pending=!1,this._drainQueue())),this._queue.push(a),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const s=this._queue[0];s.pending&&!t||(s.pending=!0,s.tryCount++,this.flags=s.flags,this.emit.apply(this,s.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Yr.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,s){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,s),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(a=>String(a.id)===t)){const a=this.acks[t];delete this.acks[t],a.withError&&a.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Yr.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Yr.EVENT:case Yr.BINARY_EVENT:this.onevent(t);break;case Yr.ACK:case Yr.BINARY_ACK:this.onack(t);break;case Yr.DISCONNECT:this.ondisconnect();break;case Yr.CONNECT_ERROR:this.destroy();const a=new Error(t.data.message);a.data=t.data.data,this.emitReserved("connect_error",a);break}}onevent(t){const s=t.data||[];t.id!=null&&s.push(this.ack(t.id)),this.connected?this.emitEvent(s):this.receiveBuffer.push(Object.freeze(s))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const s=this._anyListeners.slice();for(const a of s)a.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const s=this;let a=!1;return function(...n){a||(a=!0,s.packet({type:Yr.ACK,id:t,data:n}))}}onack(t){const s=this.acks[t.id];typeof s=="function"&&(delete this.acks[t.id],s.withError&&t.data.unshift(null),s.apply(this,t.data))}onconnect(t,s){this.id=t,this.recovered=s&&this._pid===s,this._pid=s,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Yr.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const s=this._anyListeners;for(let a=0;a<s.length;a++)if(t===s[a])return s.splice(a,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const s=this._anyOutgoingListeners;for(let a=0;a<s.length;a++)if(t===s[a])return s.splice(a,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const s=this._anyOutgoingListeners.slice();for(const a of s)a.apply(this,t.data)}}}function tv(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}tv.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),s=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-s:e+s}return Math.min(e,this.max)|0};tv.prototype.reset=function(){this.attempts=0};tv.prototype.setMin=function(e){this.ms=e};tv.prototype.setMax=function(e){this.max=e};tv.prototype.setJitter=function(e){this.jitter=e};class D6 extends Qn{constructor(t,s){var a;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(s=t,t=void 0),s=s||{},s.path=s.path||"/socket.io",this.opts=s,f4(this,s),this.reconnection(s.reconnection!==!1),this.reconnectionAttempts(s.reconnectionAttempts||1/0),this.reconnectionDelay(s.reconnectionDelay||1e3),this.reconnectionDelayMax(s.reconnectionDelayMax||5e3),this.randomizationFactor((a=s.randomizationFactor)!==null&&a!==void 0?a:.5),this.backoff=new tv({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(s.timeout==null?2e4:s.timeout),this._readyState="closed",this.uri=t;const n=s.parser||vIe;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=s.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var s;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(s=this.backoff)===null||s===void 0||s.setMin(t),this)}randomizationFactor(t){var s;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(s=this.backoff)===null||s===void 0||s.setJitter(t),this)}reconnectionDelayMax(t){var s;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(s=this.backoff)===null||s===void 0||s.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new rIe(this.uri,this.opts);const s=this.engine,a=this;this._readyState="opening",this.skipReconnect=!1;const n=Fd(s,"open",function(){a.onopen(),t&&t()}),i=o=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",o),t?t(o):this.maybeReconnectOnOpen()},l=Fd(s,"error",i);if(this._timeout!==!1){const o=this._timeout,c=this.setTimeoutFn(()=>{n(),i(new Error("timeout")),s.close()},o);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(n),this.subs.push(l),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Fd(t,"ping",this.onping.bind(this)),Fd(t,"data",this.ondata.bind(this)),Fd(t,"error",this.onerror.bind(this)),Fd(t,"close",this.onclose.bind(this)),Fd(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(s){this.onclose("parse error",s)}}ondecoded(t){h4(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,s){let a=this.nsps[t];return a?this._autoConnect&&!a.active&&a.connect():(a=new lZ(this,t,s),this.nsps[t]=a),a}_destroy(t){const s=Object.keys(this.nsps);for(const a of s)if(this.nsps[a].active)return;this._close()}_packet(t){const s=this.encoder.encode(t);for(let a=0;a<s.length;a++)this.engine.write(s[a],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,s){var a;this.cleanup(),(a=this.engine)===null||a===void 0||a.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,s),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const s=this.backoff.duration();this._reconnecting=!0;const a=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(n=>{n?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",n)):t.onreconnect()}))},s);this.opts.autoUnref&&a.unref(),this.subs.push(()=>{this.clearTimeoutFn(a)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const ry={};function Xj(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const s=sIe(e,t.path||"/socket.io"),a=s.source,n=s.id,i=s.path,l=ry[n]&&i in ry[n].nsps,o=t.forceNew||t["force new connection"]||t.multiplex===!1||l;let c;return o?c=new D6(a,t):(ry[n]||(ry[n]=new D6(a,t)),c=ry[n]),s.query&&!t.query&&(t.query=s.queryKey),c.socket(s.path,t)}Object.assign(Xj,{Manager:D6,Socket:lZ,io:Xj,connect:Xj});const bIe="http://localhost:3001";class jIe{socket=null;listeners=new Map;connect(t){this.socket?.connected||(this.socket=Xj(bIe,{auth:{token:t},transports:["websocket"],reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3}),this.socket.on("connect",()=>console.log("Socket connected")),this.socket.on("disconnect",()=>console.log("Socket disconnected")),this.socket.on("error",s=>console.error("Socket error:",s)),this.socket.on("connect",()=>{this.listeners.forEach((s,a)=>{s.forEach(n=>this.socket?.on(a,n))})}))}disconnect(){this.socket?.disconnect(),this.socket=null}on(t,s){return this.listeners.has(t)||this.listeners.set(t,new Set),this.listeners.get(t).add(s),this.socket?.on(t,s),()=>{this.listeners.get(t)?.delete(s),this.socket?.off(t,s)}}emit(t,s){this.socket?.emit(t,s)}joinRoom(t){this.socket?.emit("join",t)}leaveRoom(t){this.socket?.emit("leave",t)}}const NIe=new jIe;function NP(e,t){A.useEffect(()=>NIe.on(e,t),[e,t])}function oZ(e){NP("new_order",e)}function wIe(e){NP("order_update",e)}function SIe(e){NP("stock_update",e)}function _Ie(){const{user:e}=es(),[t,s]=A.useState(null),[a,n]=A.useState([]),[i,l]=A.useState([]),[o,c]=A.useState([]),[d,h]=A.useState({});console.log("Dashboard filters:",d);const{isLoading:m,withLoading:p}=wX(!0);A.useEffect(()=>{p(async()=>{try{const[k,_,O,E]=await Promise.all([z2.getStats(),z2.getRecentOrders(),z2.getLowStock(),z2.getSalesChart(7)]);s(k.data),n(_.data),l(O.data),c(E.data)}catch{s({totalOrdersToday:156,revenueToday:89450,activeProducts:234,totalCustomers:1847,ordersChange:"+12%",revenueChange:"+8%"}),n([{id:"ORD-001",customer:"Rajesh Kumar",amount:1250,status:"processing",time:"10 mins ago"},{id:"ORD-002",customer:"Priya Sharma",amount:890,status:"packed",time:"25 mins ago"},{id:"ORD-003",customer:"Arun Patel",amount:2100,status:"delivered",time:"1 hour ago"},{id:"ORD-004",customer:"Lakshmi Devi",amount:560,status:"received",time:"2 hours ago"}]),l([{name:"Seer Fish (Vanjaram)",stock:5,unit:"kg"},{name:"Tiger Prawns",stock:3,unit:"kg"},{name:"Pomfret",stock:8,unit:"kg"}]),c([{date:"Mon",revenue:12500,orders:45},{date:"Tue",revenue:15800,orders:52},{date:"Wed",revenue:11200,orders:38},{date:"Thu",revenue:18900,orders:61},{date:"Fri",revenue:22100,orders:78},{date:"Sat",revenue:28500,orders:95},{date:"Sun",revenue:19800,orders:68}])}})},[]);const x=A.useCallback(w=>{n(k=>[{id:w.order.id,customer:w.order.customerName,amount:w.order.totalAmount,status:"received",time:"Just now"},...k.slice(0,3)]),s(k=>k&&{...k,totalOrdersToday:k.totalOrdersToday+1,revenueToday:k.revenueToday+w.order.totalAmount})},[]);oZ(x);const v=A.useCallback(w=>{w.newStock<10&&l(k=>k.find(O=>O.name.includes(w.productId))?k.map(O=>O.name.includes(w.productId)?{...O,stock:w.newStock}:O):[...k,{name:`Product ${w.productId}`,stock:w.newStock,unit:"kg"}])},[]);SIe(v);const y=[{name:"Received",value:23,color:"#3b82f6"},{name:"Processing",value:45,color:"#f59e0b"},{name:"Packed",value:32,color:"#8b5cf6"},{name:"Delivering",value:28,color:"#f97316"},{name:"Delivered",value:156,color:"#10b981"}],b=w=>({received:"bg-blue-100 text-blue-700",processing:"bg-yellow-100 text-yellow-700",packed:"bg-purple-100 text-purple-700",delivered:"bg-green-100 text-green-700"})[w]||"bg-gray-100 text-gray-700";if(m)return r.jsx(Lw,{isLoading:!0,type:"page",text:"Loading dashboard...",variant:"branded",children:r.jsx("div",{})});if(e?.role==="hub_procurement")return window.location.href="/hub/procurement/purchases",null;if(e?.role==="store_procurement")return window.location.href="/store/procurement/purchases",null;if(e?.role==="hub_cutting_cleaning")return window.location.href="/hub/cutting/management",null;if(e?.role==="store_cutting_cleaning")return window.location.href="/store/cutting/management",null;if(e?.role==="hub_packing")return window.location.href="/hub/packing/management",null;if(e?.role==="store_packing")return window.location.href="/store/packing/management",null;if(e?.role==="hub_dispatch")return null;if(e?.role==="hub_delivery")return window.location.href="/hub/orders",null;if(e?.role==="store_delivery")return window.location.href="/store/orders",null;if(e?.role==="hub_main_admin"||e?.role==="store_main_admin")return r.jsx(W7e,{});if(e?.role!=="super_admin")return r.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Tt,{className:"w-8 h-8 text-gray-400"})}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Access Restricted"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Dashboard access is limited to main administrators."}),r.jsx("p",{className:"text-sm text-gray-500",children:"Please contact your administrator for access."})]})});const j=[{label:"Total Orders",value:t?.totalOrdersToday||0,change:t?.ordersChange||"+0%",icon:bo,color:"blue",up:!0},{label:"Revenue",value:t?.revenueToday||0,change:t?.revenueChange||"+0%",icon:Tg,color:"green",up:!0,isCurrency:!0},{label:"Products",value:t?.activeProducts||0,change:"+3",icon:Tt,color:"purple",up:!0},{label:"Customers",value:t?.totalCustomers||0,change:"+24",icon:Qr,color:"orange",up:!0}],S={blue:{bg:"bg-blue-600",icon:"text-blue-600",light:"bg-blue-50"},green:{bg:"bg-green-600",icon:"text-green-600",light:"bg-green-50"},purple:{bg:"bg-purple-600",icon:"text-purple-600",light:"bg-purple-50"},orange:{bg:"bg-orange-600",icon:"text-orange-600",light:"bg-orange-50"}};return r.jsxs("div",{className:"space-y-4 sm:space-y-6 p-4 sm:p-6",children:[r.jsxs("div",{className:"text-center sm:text-left",children:[r.jsxs("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:["Welcome back, ",e?.name||"Admin","! "]}),r.jsx("p",{className:"text-gray-500 mt-1 text-sm sm:text-base",children:"Here's what's happening with your business today."})]}),r.jsx(Jg,{onFiltersChange:h,statusOptions:[{value:"received",label:"Received"},{value:"processing",label:"Processing"},{value:"packed",label:"Packed"},{value:"delivered",label:"Delivered"}],categoryOptions:[{value:"orders",label:"Orders"},{value:"revenue",label:"Revenue"},{value:"products",label:"Products"},{value:"customers",label:"Customers"}]}),r.jsx("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-4",children:j.map(w=>{const k=S[w.color];return r.jsxs(he,{className:"relative overflow-hidden p-4 sm:p-6",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-500 truncate",children:w.label}),r.jsx("p",{className:"mt-2 text-2xl sm:text-3xl font-bold text-gray-900",children:w.isCurrency?bt(w.value):w.value.toLocaleString()}),r.jsxs("div",{className:"mt-2 flex items-center gap-1",children:[w.up?r.jsx(Yp,{className:"h-3 w-3 sm:h-4 sm:w-4 text-green-600"}):r.jsx(kee,{className:"h-3 w-3 sm:h-4 sm:w-4 text-red-600"}),r.jsx("span",{className:`text-xs sm:text-sm font-medium ${w.up?"text-green-600":"text-red-600"}`,children:w.change}),r.jsx("span",{className:"text-xs sm:text-sm text-gray-400 hidden sm:inline",children:"vs yesterday"})]})]}),r.jsx("div",{className:`p-2 sm:p-3 rounded-xl ${k.light} flex-shrink-0`,children:r.jsx(w.icon,{className:`h-5 w-5 sm:h-6 sm:w-6 ${k.icon}`})})]}),r.jsx("div",{className:`absolute bottom-0 left-0 right-0 h-1 ${k.bg}`})]},w.label)})}),r.jsxs("div",{className:"grid gap-4 sm:gap-6 grid-cols-1 lg:grid-cols-3",children:[r.jsxs(he,{className:"lg:col-span-2 p-4 sm:p-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-4 sm:mb-6 gap-3",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Sales Overview"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Last 7 days performance"})]}),r.jsxs("select",{className:"text-xs sm:text-sm border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 w-full sm:w-auto",children:[r.jsx("option",{children:"Last 7 days"}),r.jsx("option",{children:"Last 30 days"}),r.jsx("option",{children:"Last 90 days"})]})]}),r.jsx(ql,{width:"100%",height:250,children:r.jsxs(L2e,{data:o,children:[r.jsx("defs",{children:r.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[r.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.2}),r.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})}),r.jsx(Qc,{strokeDasharray:"3 3",stroke:"#e5e7eb",vertical:!1}),r.jsx(ed,{dataKey:"date",stroke:"#9ca3af",fontSize:10,tickLine:!1,axisLine:!1}),r.jsx(td,{stroke:"#9ca3af",fontSize:10,tickLine:!1,axisLine:!1,tickFormatter:w=>`${w/1e3}k`}),r.jsx(Vl,{formatter:w=>[bt(Number(w)),"Revenue"],contentStyle:{borderRadius:"8px",border:"1px solid #e5e7eb"}}),r.jsx(QV,{type:"monotone",dataKey:"revenue",stroke:"#3b82f6",strokeWidth:2,fillOpacity:1,fill:"url(#colorRevenue)"})]})})]}),r.jsxs(he,{className:"p-4 sm:p-6",children:[r.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-2",children:"Order Status"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mb-4",children:"Distribution today"}),r.jsx(ql,{width:"100%",height:180,children:r.jsxs(M5,{children:[r.jsx(qb,{data:y,cx:"50%",cy:"50%",innerRadius:40,outerRadius:70,paddingAngle:3,dataKey:"value",children:y.map((w,k)=>r.jsx(Rm,{fill:w.color},`cell-${k}`))}),r.jsx(Vl,{})]})}),r.jsx("div",{className:"flex flex-wrap justify-center gap-2 sm:gap-3 mt-2",children:y.map(w=>r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx("div",{className:"w-2 h-2 sm:w-2.5 sm:h-2.5 rounded-full",style:{backgroundColor:w.color}}),r.jsx("span",{className:"text-xs text-gray-600",children:w.name})]},w.name))})]})]}),r.jsxs(he,{className:"p-4 sm:p-6",children:[r.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-4 sm:mb-6 gap-3",children:r.jsxs("div",{children:[r.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Orders Trend"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Daily order count"})]})}),r.jsx(ql,{width:"100%",height:200,children:r.jsxs(gg,{data:o,children:[r.jsx(Qc,{strokeDasharray:"3 3",stroke:"#e5e7eb",vertical:!1}),r.jsx(ed,{dataKey:"date",stroke:"#9ca3af",fontSize:10,tickLine:!1,axisLine:!1}),r.jsx(td,{stroke:"#9ca3af",fontSize:10,tickLine:!1,axisLine:!1}),r.jsx(Vl,{contentStyle:{borderRadius:"8px",border:"1px solid #e5e7eb"}}),r.jsx(Ou,{dataKey:"orders",fill:"#8b5cf6",radius:[6,6,0,0]})]})})]}),r.jsxs("div",{className:"grid gap-4 sm:gap-6 grid-cols-1 lg:grid-cols-3",children:[r.jsxs(he,{className:"lg:col-span-2 p-4 sm:p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Orders"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Latest transactions"})]}),r.jsx("a",{href:"/orders",className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"View all "})]}),r.jsx("div",{className:"space-y-4",children:a.map(w=>r.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-gray-50 hover:bg-gray-100 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"h-12 w-12 rounded-xl bg-blue-100 flex items-center justify-center",children:r.jsx(bo,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-900",children:w.id}),r.jsx("p",{className:"text-sm text-gray-500",children:w.customer})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"font-semibold text-gray-900",children:bt(w.amount)}),r.jsx(Xe,{variant:b(w.status),children:w.status})]})]},w.id))})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(he,{children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),r.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{href:"/orders?status=pending",icon:Tr,label:"Pending",value:23,color:"blue"},{href:"/products?stock=low",icon:Ts,label:"Low Stock",value:i.length,color:"red"},{href:"/orders?status=out_for_delivery",icon:Mr,label:"Delivering",value:15,color:"orange"},{href:"/reports",icon:ta,label:"Reports",value:null,color:"green"}].map(w=>r.jsxs("a",{href:w.href,className:`flex flex-col items-center p-4 rounded-xl transition-all hover:scale-105 ${w.color==="blue"?"bg-blue-50 hover:bg-blue-100":w.color==="red"?"bg-red-50 hover:bg-red-100":w.color==="orange"?"bg-orange-50 hover:bg-orange-100":"bg-green-50 hover:bg-green-100"}`,children:[r.jsx(w.icon,{className:`h-6 w-6 ${w.color==="blue"?"text-blue-600":w.color==="red"?"text-red-600":w.color==="orange"?"text-orange-600":"text-green-600"}`}),r.jsx("span",{className:"mt-2 text-sm font-medium text-gray-700",children:w.label}),w.value!==null&&r.jsx("span",{className:`text-xl font-bold ${w.color==="blue"?"text-blue-600":w.color==="red"?"text-red-600":w.color==="orange"?"text-orange-600":"text-green-600"}`,children:w.value})]},w.label))})]}),r.jsxs(he,{className:"border-l-4 border-l-red-500",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(Ts,{className:"h-5 w-5 text-red-500"}),r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Low Stock Alert"})]}),r.jsx("div",{className:"space-y-3",children:i.map(w=>r.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 last:border-0",children:[r.jsx("span",{className:"text-sm text-gray-700",children:w.name}),r.jsxs("span",{className:"px-2.5 py-1 rounded-full bg-red-100 text-red-700 text-xs font-semibold",children:[w.stock," ",w.unit]})]},w.name))}),r.jsx("a",{href:"/products?stock=low",className:"mt-4 block text-center text-sm text-red-600 hover:text-red-700 font-medium",children:"View all low stock items "})]})]})]})]})}function kIe({orders:e,loading:t=!1,onView:s,onEdit:a,onDelete:n,onRefresh:i,onBulkAction:l}){const[o,c]=A.useState(""),[d,h]=A.useState(""),[m,p]=A.useState(""),[x,v]=A.useState("all"),[y,b]=A.useState(""),[j,S]=A.useState(""),[w,k]=A.useState(""),[_,O]=A.useState(""),[E,F]=A.useState(""),[I,U]=A.useState({isOpen:!1,actionId:"",actionType:""}),M=se=>{const ge=new Date,Be=new Date(ge.getFullYear(),ge.getMonth(),ge.getDate()),ee=new Date(ge.getFullYear(),ge.getMonth(),ge.getDate(),23,59,59);switch(se){case"today":return{start:Be,end:ee};case"yesterday":const at=new Date(ge);return at.setDate(at.getDate()-1),{start:new Date(at.getFullYear(),at.getMonth(),at.getDate()),end:new Date(at.getFullYear(),at.getMonth(),at.getDate(),23,59,59)};case"last7days":const nt=new Date(ge);return nt.setDate(nt.getDate()-7),{start:nt,end:ee};case"last30days":const xe=new Date(ge);return xe.setDate(xe.getDate()-30),{start:xe,end:ee};case"thisMonth":return{start:new Date(ge.getFullYear(),ge.getMonth(),1),end:ee};case"lastMonth":const ot=new Date(ge.getFullYear(),ge.getMonth()-1,1),ut=new Date(ge.getFullYear(),ge.getMonth(),0,23,59,59);return{start:ot,end:ut};case"custom":return y&&j?{start:new Date(y),end:new Date(j+"T23:59:59")}:null;default:return null}},L=se=>{if(x==="all")return se;const ge=M(x);return ge?se.filter(Be=>{const ee=new Date(Be.createdAt);return ee>=ge.start&&ee<=ge.end}):se},J=e.filter(se=>{const ge=se.customerName.toLowerCase().includes(o.toLowerCase())||se.id.toLowerCase().includes(o.toLowerCase()),Be=!d||se.status===d,ee=!m||se.source===m,at=!w||se.moduleType===w,nt=!_||se.deliverySlot===_,xe=!E||se.paymentMethod===E;return ge&&Be&&ee&&at&&nt&&xe}),K=L(J),{selectedItems:ae,selectAll:V,deselectAll:re,toggleItem:X,isSelected:Z}=Og(K),ye=[{id:"send-sms",label:"Send SMS",icon:jb,variant:"default"},{id:"assign-third-party-delivery",label:"Assign Third-Party Delivery",icon:Mr,variant:"default"},{id:"assign-batch-delivery",label:"Assign Batch Delivery",icon:Mr,variant:"default"},{id:"print-invoices",label:"Print Invoice",icon:nm,variant:"default"},{id:"download-invoices",label:"Download Invoices",icon:ei,variant:"default"},{id:"print-packing-slip",label:"Print Packing Slip",icon:Tt,variant:"default"},{id:"update-order-weight",label:"Update Order Weight",icon:Jj,variant:"default"},{id:"change-status-processing",label:"Change Status to Processing",icon:Tr,variant:"default"},{id:"change-status-on-hold",label:"Change Status to on-hold",icon:fre,variant:"warning"},{id:"change-status-completed",label:"Change Status to completed",icon:Dr,variant:"success"},{id:"change-status-canceled",label:"Change Status to Canceled",icon:Mu,variant:"danger"}],te=async(se,ge)=>{if(se==="print-invoices"){H(ge);return}if(se==="download-invoices"){q(ge);return}if(se==="print-packing-slip"){W(ge);return}U({isOpen:!0,actionId:se,actionType:se})},D=async se=>{l&&(await l(I.actionId,ae,se),re()),U({isOpen:!1,actionId:"",actionType:""})},H=se=>{const ge=e.filter(Be=>se.includes(Be.id));alert(`Printing invoices for ${ge.length} orders...`),re()},q=se=>{const ge=e.filter(Be=>se.includes(Be.id));alert(`Downloading invoices for ${ge.length} orders...`),re()},W=se=>{const ge=e.filter(Be=>se.includes(Be.id));alert(`Printing packing slips for ${ge.length} orders...`),re()},G=[{key:"select",label:"",width:"50px",render:(se,ge)=>r.jsx(Gse,{id:ge.id,checked:Z(ge.id),onChange:X})},{key:"id",label:"Order ID",render:se=>r.jsx("span",{className:"font-mono text-sm font-medium",children:se})},{key:"invoiceNumber",label:"Invoice Number",render:(se,ge)=>r.jsx("span",{className:"font-mono text-sm font-medium text-blue-600",children:se||`INV-${ge.id.slice(-6).toUpperCase()}`})},{key:"customerName",label:"Customer",render:(se,ge)=>r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:se}),r.jsx("p",{className:"text-sm text-gray-500",children:ge.customerPhone})]})},{key:"source",label:"Source",render:se=>r.jsx("span",{className:"capitalize px-2 py-1 bg-gray-100 text-gray-700 rounded-full text-xs font-medium",children:se})},{key:"status",label:"Status",render:se=>r.jsx(tN,{status:se})},{key:"deliverySlot",label:"Delivery Slot",render:se=>r.jsx("div",{className:"text-sm",children:r.jsx("span",{className:"inline-flex items-center px-2 py-1 bg-blue-50 text-blue-700 rounded-md font-medium",children:se||"Not Scheduled"})})},{key:"totalAmount",label:"Amount",render:(se,ge)=>r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold text-gray-900",children:bt(se)}),ge.paymentStatus&&r.jsx("div",{className:"mt-1",children:r.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium border ${ge.paymentStatus==="paid"?"bg-green-100 text-green-700 border-green-200":ge.paymentStatus==="partial"?"bg-orange-100 text-orange-700 border-orange-200":ge.paymentStatus==="pending"?"bg-yellow-100 text-yellow-700 border-yellow-200":ge.paymentStatus==="refunded"?"bg-purple-100 text-purple-700 border-purple-200":ge.paymentStatus==="failed"?"bg-red-100 text-red-700 border-red-200":"bg-gray-100 text-gray-700 border-gray-200"}`,children:ge.paymentStatus==="paid"?"Paid":ge.paymentStatus==="partial"?"Partial":ge.paymentStatus==="pending"?"Unpaid":ge.paymentStatus==="refunded"?"Refunded":ge.paymentStatus==="failed"?"Failed":ge.paymentStatus})})]})},{key:"createdAt",label:"Date",render:se=>r.jsx("span",{className:"text-sm text-gray-600",children:rf(se)})}],fe=[{key:"status",label:"Status",value:d,onChange:h,options:[{value:"received",label:"Received"},{value:"processing",label:"Processing"},{value:"packed",label:"Packed"},{value:"out_for_delivery",label:"Out for Delivery"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"}]},{key:"source",label:"Source",value:m,onChange:p,options:[{value:"app",label:"Mobile App"},{value:"website",label:"Website"},{value:"whatsapp",label:"WhatsApp"},{value:"instagram",label:"Instagram"},{value:"facebook",label:"Facebook"}]},{key:"date",label:"Date Range",value:x,onChange:v,options:[{value:"all",label:"All Time"},{value:"today",label:"Today"},{value:"yesterday",label:"Yesterday"},{value:"last7days",label:"Last 7 Days"},{value:"last30days",label:"Last 30 Days"},{value:"thisMonth",label:"This Month"},{value:"lastMonth",label:"Last Month"},{value:"custom",label:"Custom Range"}]},{key:"hubStore",label:"Hub/Store",value:w,onChange:k,options:[{value:"hub",label:"Hub Orders"},{value:"store",label:"Store Orders"}]},{key:"deliverySlot",label:"Delivery Slot",value:_,onChange:O,options:[{value:"7:00 AM - 9:00 AM",label:"7:00 AM - 9:00 AM"},{value:"10:00 AM - 12:00 PM",label:"10:00 AM - 12:00 PM"},{value:"2:00 PM - 4:00 PM",label:"2:00 PM - 4:00 PM"},{value:"4:00 PM - 6:00 PM",label:"4:00 PM - 6:00 PM"},{value:"6:00 PM - 8:00 PM",label:"6:00 PM - 8:00 PM"}]},{key:"paymentMode",label:"Payment Mode",value:E,onChange:F,options:[{value:"cod",label:"Cash on Delivery"},{value:"online",label:"Online Payment"},{value:"wallet",label:"Wallet Payment"}]}],Se=()=>{const se=Kse[I.actionId];if(se)return se;switch(I.actionId){case"send-sms":return{title:"Send SMS to Customers",fields:[{id:"message",label:"SMS Message",type:"textarea",required:!0,placeholder:"Enter your SMS message..."},{id:"template",label:"Use Template",type:"select",options:[{value:"",label:"Custom Message"},{value:"order_confirmed",label:"Order Confirmed"},{value:"order_packed",label:"Order Packed"},{value:"out_for_delivery",label:"Out for Delivery"},{value:"delivered",label:"Order Delivered"}]}]};case"update-order-weight":return{title:"Update Order Weight",fields:[{id:"weight",label:"New Weight (kg)",type:"number",required:!0,placeholder:"Enter weight in kg..."},{id:"reason",label:"Reason for Weight Update",type:"textarea",placeholder:"Enter reason for weight change..."}]};case"change-status-processing":return{title:"Change Status to Processing",fields:[{id:"notes",label:"Processing Notes",type:"textarea",placeholder:"Add notes about processing status..."}]};case"change-status-on-hold":return{title:"Change Status to on-hold",fields:[{id:"reason",label:"Reason for Hold",type:"select",required:!0,options:[{value:"payment_pending",label:"Payment Pending"},{value:"stock_unavailable",label:"Stock Unavailable"},{value:"customer_request",label:"Customer Request"},{value:"quality_issue",label:"Quality Issue"},{value:"other",label:"Other"}]},{id:"notes",label:"Additional Notes",type:"textarea",placeholder:"Add additional details..."}]};case"change-status-completed":return{title:"Change Status to completed",fields:[{id:"completedBy",label:"Completed By",type:"text",placeholder:"Enter staff name..."},{id:"notes",label:"Completion Notes",type:"textarea",placeholder:"Add completion notes..."}]};case"change-status-canceled":return{title:"Change Status to Canceled",fields:[{id:"reason",label:"Cancellation Reason",type:"select",required:!0,options:[{value:"customer_request",label:"Customer Request"},{value:"payment_failed",label:"Payment Failed"},{value:"stock_unavailable",label:"Stock Unavailable"},{value:"quality_issue",label:"Quality Issue"},{value:"delivery_issue",label:"Delivery Issue"},{value:"other",label:"Other"}]},{id:"refundAmount",label:"Refund Amount",type:"number",placeholder:"Enter refund amount..."},{id:"notes",label:"Cancellation Notes",type:"textarea",placeholder:"Add cancellation details..."}]};default:return{title:"Bulk Action",fields:[]}}};return r.jsxs("div",{className:"space-y-6",children:[r.jsx(Pg,{selectedItems:ae,totalItems:K.length,onSelectAll:V,onDeselectAll:re,actions:ye,onAction:te,itemName:"orders"}),r.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-4",children:[r.jsx(Eg,{searchValue:o,onSearchChange:c,filters:fe,placeholder:"Search orders by ID or customer name...",className:"flex-1"}),r.jsx(dz,{onRefresh:i,refreshLabel:"Refresh Orders"})]}),x==="custom"&&r.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[r.jsxs("h4",{className:"text-sm font-medium text-orange-800 mb-3 flex items-center gap-2",children:[r.jsx(Jr,{className:"h-4 w-4"}),"Custom Date Range"]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-orange-700 mb-1",children:"Start Date"}),r.jsx("input",{type:"date",value:y,onChange:se=>b(se.target.value),className:"w-full px-3 py-2 border border-orange-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-orange-700 mb-1",children:"End Date"}),r.jsx("input",{type:"date",value:j,onChange:se=>S(se.target.value),className:"w-full px-3 py-2 border border-orange-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]})]}),y&&j&&r.jsx("div",{className:"mt-3 p-2 bg-orange-100 rounded border border-orange-300",children:r.jsxs("p",{className:"text-xs text-orange-800",children:[r.jsx("strong",{children:"Selected Range:"})," ",new Date(y).toLocaleDateString()," - ",new Date(j).toLocaleDateString()]})})]}),r.jsx(Hse,{data:K,columns:G,onView:s,onEdit:a,onDelete:n,loading:t,emptyMessage:"No orders found"}),r.jsx(Dg,{isOpen:I.isOpen,onClose:()=>U({isOpen:!1,actionId:"",actionType:""}),title:Se().title,actionType:I.actionType,selectedCount:ae.length,itemName:"orders",onConfirm:D,fields:Se().fields})]})}function AIe({order:e,className:t="",isEditing:s=!1,onPaymentRecord:a,onRefundRecord:n,onAssignThirdParty:i,onAssignDeliveryPartner:l,onSwitchLocation:o,onUpdateAddress:c,onUploadPackedPhotos:d,onUpdateSurgeCharges:h}){const[m,p]=A.useState(!1),[x,v]=A.useState(!1),y=()=>{alert(`Printing invoice for order ${e.id}...`)},b=()=>{alert(`Downloading invoice for order ${e.id}...`)},j=async M=>{a&&await a(M)},S=async M=>{n&&await n(M)},w=e.totalAmount,k=e.paidAmount||0,_=e.refundedAmount||0,O=e.netAmount||w-_,E=w-k,F=E<=0,I=k>0&&E>0,U=_>0;return r.jsxs("div",{className:`space-y-6 ${t}`,children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:e.id}),r.jsxs("p",{className:"text-gray-600",children:["Placed on ",rf(e.createdAt)]}),e.invoiceNumber&&r.jsxs("p",{className:"text-sm text-blue-600 font-medium",children:["Invoice: ",e.invoiceNumber]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(tN,{status:e.status}),!s&&r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(oe,{size:"sm",variant:"secondary",onClick:y,className:"flex items-center gap-2",children:[r.jsx(nm,{className:"h-4 w-4"}),"Print Invoice"]}),r.jsxs(oe,{size:"sm",variant:"secondary",onClick:b,className:"flex items-center gap-2",children:[r.jsx(ei,{className:"h-4 w-4"}),"Download Invoice"]})]})]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Customer Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Name"}),r.jsx("p",{className:"font-medium",children:e.customerName})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Phone"}),r.jsx("p",{className:"font-medium",children:e.customerPhone})]}),e.customerEmail&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Email"}),r.jsx("p",{className:"font-medium",children:e.customerEmail})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Order Source"}),r.jsx("p",{className:"font-medium capitalize",children:e.source})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Delivery Slot"}),r.jsx("p",{className:"font-medium",children:e.deliverySlot})]})]})]}),l&&r.jsx(uZ,{orderId:e.id,currentAgentId:e.deliveryAgentId,onAssign:l}),o&&r.jsx(hZ,{orderId:e.id,currentType:e.moduleType,currentLocationId:e.hubId||e.storeId,onSwitch:o}),c&&r.jsx(fZ,{customerId:e.customerId,currentAddress:e.shippingAddress,onSelect:c}),d&&r.jsx(mZ,{orderId:e.id,existingPhotos:e.packedPhotos||[],onUpload:d}),h&&r.jsx(xZ,{currentCharges:e.surgeCharges||0,onUpdate:h}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`h-8 w-8 rounded-lg flex items-center justify-center ${F?"bg-green-600":I?"bg-orange-600":"bg-red-600"}`,children:r.jsx(gi,{className:"h-4 w-4 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Payment Tracking"}),r.jsx("p",{className:"text-sm text-gray-600",children:F?"Payment completed":I?"Partially paid":"Payment pending"})]})]}),!F&&!s&&a&&r.jsxs(oe,{size:"sm",onClick:()=>p(!0),className:"flex items-center gap-2",children:[r.jsx(dr,{className:"h-4 w-4"}),"Record Payment"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Amount"}),r.jsx("p",{className:"text-lg font-bold text-gray-900",children:bt(w)})]}),r.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Paid Amount"}),r.jsx("p",{className:"text-lg font-bold text-green-600",children:bt(k)})]}),r.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Pending Amount"}),r.jsx("p",{className:"text-lg font-bold text-orange-600",children:bt(E)})]})]}),E>0&&r.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ya,{className:"h-4 w-4 text-yellow-600"}),r.jsxs("p",{className:"text-sm text-yellow-800",children:[r.jsx("span",{className:"font-medium",children:"Payment Pending:"})," ",bt(E)," remaining to be collected"]})]})})]}),(U||!s)&&r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`h-8 w-8 rounded-lg flex items-center justify-center ${U?"bg-red-600":"bg-gray-400"}`,children:r.jsx(rn,{className:"h-4 w-4 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Refund Tracking"}),r.jsx("p",{className:"text-sm text-gray-600",children:U?`${bt(_)} refunded`:"No refunds processed"})]})]}),k>0&&!s&&n&&r.jsxs(oe,{size:"sm",variant:"danger",onClick:()=>v(!0),className:"flex items-center gap-2",children:[r.jsx(rn,{className:"h-4 w-4"}),"Record Refund"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Original Amount"}),r.jsx("p",{className:"text-lg font-bold text-gray-900",children:bt(w)})]}),r.jsxs("div",{className:"text-center p-3 bg-red-50 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Refunded Amount"}),r.jsx("p",{className:"text-lg font-bold text-red-600",children:bt(_)})]}),r.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Net Amount"}),r.jsx("p",{className:"text-lg font-bold text-blue-600",children:bt(O)})]})]}),U&&r.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ya,{className:"h-4 w-4 text-red-600"}),r.jsxs("p",{className:"text-sm text-red-800",children:[r.jsx("span",{className:"font-medium",children:"Refunds Processed:"})," ",bt(_)," has been refunded to customer"]})]})})]}),e.refundRecords&&e.refundRecords.length>0&&r.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:r.jsx(dZ,{refundRecords:e.refundRecords})}),e.paymentRecords&&e.paymentRecords.length>0&&r.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:r.jsx(ZIe,{paymentRecords:e.paymentRecords})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[r.jsx(V0,{className:"h-5 w-5 text-blue-600"}),"Billing Address"]}),e.billingAddress?r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm text-gray-900",children:e.billingAddress.street}),r.jsxs("p",{className:"text-sm text-gray-900",children:[e.billingAddress.city,", ",e.billingAddress.state]}),r.jsxs("p",{className:"text-sm text-gray-900",children:[e.billingAddress.zipCode,", ",e.billingAddress.country]})]}):r.jsx("p",{className:"text-sm text-gray-500",children:"Same as customer information"})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[r.jsx(Vs,{className:"h-5 w-5 text-green-600"}),"Shipping Address"]}),e.shippingAddress?r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm text-gray-900",children:e.shippingAddress.street}),r.jsxs("p",{className:"text-sm text-gray-900",children:[e.shippingAddress.city,", ",e.shippingAddress.state]}),r.jsxs("p",{className:"text-sm text-gray-900",children:[e.shippingAddress.zipCode,", ",e.shippingAddress.country]})]}):r.jsx("p",{className:"text-sm text-gray-500",children:"Same as billing address"})]})]}),e.deliveryInstructions&&r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[r.jsx(Mr,{className:"h-5 w-5 text-yellow-600"}),"Delivery Instructions"]}),r.jsx("p",{className:"text-sm text-gray-700",children:e.deliveryInstructions})]}),!s&&r.jsxs("div",{className:e.thirdPartyDelivery?"bg-blue-50 border border-blue-200 rounded-lg p-4":"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx(Mr,{className:e.thirdPartyDelivery?"h-5 w-5 text-blue-600":"h-5 w-5 text-gray-600"}),"Third-Party Delivery"]}),i&&r.jsxs(oe,{size:"sm",onClick:i,className:"flex items-center gap-2",children:[r.jsx(dr,{className:"h-4 w-4"}),e.thirdPartyDelivery?"Update":"Assign"]})]}),e.thirdPartyDelivery?r.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Service"}),r.jsx("p",{className:"font-medium capitalize",children:e.thirdPartyDelivery.service})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Person Name"}),r.jsx("p",{className:"font-medium",children:e.thirdPartyDelivery.personName})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Phone"}),r.jsx("p",{className:"font-medium",children:e.thirdPartyDelivery.personPhone})]}),e.thirdPartyDelivery.vehicleNumber&&r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Vehicle"}),r.jsx("p",{className:"font-medium",children:e.thirdPartyDelivery.vehicleNumber})]}),e.thirdPartyDelivery.trackingId&&r.jsxs("div",{className:"col-span-2",children:[r.jsx("p",{className:"text-gray-600",children:"Tracking ID"}),r.jsx("p",{className:"font-medium",children:e.thirdPartyDelivery.trackingId})]})]}):r.jsx("p",{className:"text-sm text-gray-600",children:"Assign delivery to Porter, Rapido, Swiggy, etc."})]}),e.deliveryAgentId&&r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[r.jsx(Mr,{className:"h-5 w-5 text-blue-600"}),"Assigned Delivery Partner"]}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Agent ID: ",r.jsx("span",{className:"font-medium text-gray-900",children:e.deliveryAgentId})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[e.moduleType==="hub"?r.jsx(Tt,{className:"h-5 w-5 text-purple-600"}):r.jsx(Fn,{className:"h-5 w-5 text-green-600"}),"Order Location"]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Type"}),r.jsx("p",{className:"font-medium capitalize",children:e.moduleType})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Location ID"}),r.jsx("p",{className:"font-medium",children:e.hubId||e.storeId||"N/A"})]})]})]}),e.packedPhotos&&e.packedPhotos.length>0&&r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[r.jsx(Tt,{className:"h-5 w-5 text-indigo-600"}),"Packed Photos (",e.packedPhotos.length,")"]}),r.jsx("div",{className:"grid grid-cols-3 gap-2",children:e.packedPhotos.map((M,L)=>r.jsx("div",{className:"relative aspect-square",children:r.jsx("img",{src:M,alt:`Packed ${L+1}`,className:"w-full h-full object-cover rounded-lg border border-gray-200"})},L))})]}),(e.surgeCharges&&e.surgeCharges>0||e.additionalCharges&&e.additionalCharges>0)&&r.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[r.jsx(ta,{className:"h-5 w-5 text-orange-600"}),"Additional Charges"]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[e.surgeCharges&&e.surgeCharges>0&&r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:"Surge Charges"}),e.surgeChargesReason&&r.jsx("p",{className:"text-xs text-gray-600",children:e.surgeChargesReason})]}),r.jsx("p",{className:"font-bold text-orange-600",children:bt(e.surgeCharges)})]}),e.additionalCharges&&e.additionalCharges>0&&r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:"Additional Charges"}),e.additionalChargesReason&&r.jsx("p",{className:"text-xs text-gray-600",children:e.additionalChargesReason})]}),r.jsx("p",{className:"font-bold text-orange-600",children:bt(e.additionalCharges)})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Order Items"}),r.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.items.length>0?r.jsx("div",{className:"divide-y divide-gray-200",children:e.items.map((M,L)=>r.jsxs("div",{className:"p-4 flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:M.productName}),r.jsx("p",{className:"text-sm text-gray-600",children:M.variant})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"font-medium",children:["Qty: ",M.quantity]}),r.jsxs("p",{className:"text-sm text-gray-600",children:[bt(M.price)," each"]})]}),r.jsx("div",{className:"ml-4 text-right",children:r.jsx("p",{className:"font-semibold",children:bt(M.price*M.quantity)})})]},L))}):r.jsx("div",{className:"p-4 text-center text-gray-500",children:"No items details available"})})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Order Summary"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Order ID"}),r.jsx("p",{className:"font-medium",children:e.id})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Module"}),r.jsx("p",{className:"font-medium uppercase text-blue-600",children:e.moduleType})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Payment Method"}),r.jsx("p",{className:"font-medium uppercase",children:e.paymentMethod})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Payment Status"}),r.jsx(tN,{status:e.paymentStatus})]})]}),r.jsx("div",{className:"border-t border-gray-200 pt-4",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Subtotal"}),r.jsx("span",{className:"font-medium",children:bt(e.subtotalAmount||e.totalAmount)})]}),e.promoCode&&r.jsxs("div",{className:"flex justify-between items-center text-green-600",children:[r.jsxs("span",{className:"text-sm flex items-center gap-1",children:[r.jsx(jl,{className:"h-4 w-4"}),"Promo Code (",e.promoCode,")"]}),r.jsxs("span",{className:"font-medium",children:["-",bt(e.discountAmount||0)]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("span",{className:"text-sm text-gray-600 flex items-center gap-1",children:[r.jsx(Mr,{className:"h-4 w-4"}),"Delivery Charges"]}),r.jsx("span",{className:"font-medium",children:e.deliveryCharges?bt(e.deliveryCharges):"Free"})]}),e.gstAmount&&r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"GST (18%)"}),r.jsx("span",{className:"font-medium",children:bt(e.gstAmount)})]}),r.jsx("div",{className:"border-t border-gray-300 pt-3",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Final Amount"}),r.jsx("span",{className:"text-xl font-bold text-gray-900",children:bt(e.totalAmount)})]})})]})})]}),m&&r.jsx(WIe,{isOpen:m,onClose:()=>p(!1),order:e,onSubmit:j}),x&&r.jsx(cZ,{isOpen:x,onClose:()=>v(!1),order:e,onSubmit:S})]})}function CIe({onCustomerSelect:e,selectedCustomer:t,onCustomerDataChange:s}){const[a,n]=A.useState(""),[i,l]=A.useState(!1),o=[{id:"1",name:"Rajesh Kumar",email:"rajesh@email.com",phone:"+919876543210",totalOrders:45,totalSpent:28500,walletBalance:250,membershipPlan:"Premium",isActive:!0,createdAt:"2023-06-15"},{id:"2",name:"Priya Sharma",email:"priya.s@email.com",phone:"+919876543211",totalOrders:23,totalSpent:15200,walletBalance:100,isActive:!0,createdAt:"2023-08-20"},{id:"3",name:"Arun Patel",email:"arun.p@email.com",phone:"+919876543212",totalOrders:12,totalSpent:8900,walletBalance:0,isActive:!0,createdAt:"2023-10-05"}],c=async h=>{if(n(h),h.length<3){e(null);return}l(!0),setTimeout(()=>{const m=o.find(p=>p.phone.includes(h)||p.name.toLowerCase().includes(h.toLowerCase())||p.email.toLowerCase().includes(h.toLowerCase()));m?(e(m),s({name:m.name,phone:m.phone,email:m.email||"",isElite:!!m.membershipPlan})):e(null),l(!1)},500)},d=()=>{n(""),e(null),s({name:"",phone:"",email:"",isElite:!1})};return r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"h-10 w-10 rounded-lg bg-blue-600 flex items-center justify-center",children:r.jsx(si,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Customer Search"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Search existing customer or enter new customer details"})]})]}),r.jsx("div",{className:"mb-4",children:r.jsxs("div",{className:"relative",children:[r.jsx(Bi,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),r.jsx(de,{placeholder:"Search by phone, name, or email...",value:a,onChange:h=>c(h.target.value),className:"pl-10"}),i&&r.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:r.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-blue-600 border-t-transparent rounded-full"})})]})}),t&&r.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-12 w-12 rounded-full bg-green-600 flex items-center justify-center text-white font-semibold text-lg",children:t.name.charAt(0)}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("p",{className:"font-semibold text-green-900",children:t.name}),t.membershipPlan&&r.jsxs(Xe,{variant:"warning",className:"flex items-center gap-1",children:[r.jsx(qs,{className:"h-4 w-4"}),"Elite Member"]})]}),r.jsx("p",{className:"text-sm text-green-700",children:t.phone}),r.jsx("p",{className:"text-sm text-green-600",children:t.email}),r.jsxs("div",{className:"flex items-center gap-4 mt-1 text-xs text-green-600",children:[r.jsxs("span",{children:[t.totalOrders," orders"]}),r.jsxs("span",{children:["",t.totalSpent.toLocaleString()," spent"]}),r.jsxs("span",{children:["",t.walletBalance," wallet"]})]})]})]}),r.jsx(oe,{type:"button",variant:"ghost",size:"sm",onClick:d,className:"text-green-600 hover:text-green-700",children:r.jsx(Cs,{className:"h-5 w-5"})})]}),t.membershipPlan&&r.jsxs("div",{className:"mt-3 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 text-yellow-800 mb-2",children:[r.jsx(qs,{className:"h-5 w-5"}),r.jsx("span",{className:"font-semibold",children:"Elite Member Benefits"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-yellow-700",children:[r.jsx("div",{children:" Free delivery on orders 349+"}),r.jsx("div",{children:" 5% extra discount on select items"}),r.jsx("div",{children:" No surge charges"}),r.jsx("div",{children:" Priority order processing"})]})]})]}),a.length>=3&&!t&&!i&&r.jsx("div",{className:"p-4 bg-gray-50 border border-gray-200 rounded-lg",children:r.jsx("p",{className:"text-sm text-gray-600",children:"No existing customer found. You can proceed to enter new customer details below."})})]})}function TIe({products:e,onProductAdd:t,isEliteMember:s=!1,moduleType:a="both"}){const[n,i]=A.useState(""),[l,o]=A.useState("all"),c=["all",...Array.from(new Set(e.map(x=>x.category)))],d=e.filter(x=>{const v=x.nameEn.toLowerCase().includes(n.toLowerCase())||x.nameTa.includes(n)||x.sku.toLowerCase().includes(n.toLowerCase()),y=l==="all"||x.category===l;return v&&y&&x.isActive}),h=x=>({all:"All Products",fish:"Fish",prawns:"Prawns",crab:"Crab",squid:"Squid",lobster:"Lobster",chicken:"Chicken",mutton:"Mutton",egg:"Eggs",spices:"Spices"})[x]||x,m=x=>{switch(x){case"same_day":return r.jsx(Xe,{variant:"success",children:"Same Day"});case"next_day":return r.jsx(Xe,{variant:"info",children:"Next Day"});case"exotic":return r.jsx(Xe,{variant:"warning",children:"4 Days"});default:return null}},p=x=>x==="hub"?r.jsx(Xe,{variant:"info",children:"Hub"}):r.jsx(Xe,{variant:"success",children:"Store"});return r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"h-10 w-10 rounded-lg bg-purple-600 flex items-center justify-center",children:r.jsx(Tt,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Product Selection"}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Search and add products to the order",a==="hub"&&" (Fish products only)",a==="store"&&" (All products available)"]})]})]}),r.jsxs("div",{className:"space-y-4 mb-6",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Bi,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),r.jsx(de,{placeholder:"Search products by name, Tamil name, or SKU...",value:n,onChange:x=>i(x.target.value),className:"pl-10"})]}),r.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:c.map(x=>r.jsx("button",{onClick:()=>o(x),className:`whitespace-nowrap rounded-full px-4 py-2 text-sm font-medium transition-colors ${l===x?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:h(x)},x))})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-h-96 overflow-y-auto",children:d.length===0?r.jsxs("div",{className:"col-span-full text-center py-8 text-gray-500",children:[r.jsx(Tt,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),r.jsx("p",{children:"No products found matching your search criteria."})]}):d.map(x=>r.jsxs("div",{className:"border rounded-lg p-4 hover:border-purple-300 transition-colors",children:[r.jsxs("div",{className:"mb-3",children:[r.jsx("div",{className:"flex items-start justify-between mb-2",children:r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold text-gray-900",children:x.nameEn}),r.jsx("p",{className:"text-sm text-gray-600",children:x.nameTa}),r.jsx("p",{className:"text-xs text-gray-500 font-mono",children:x.sku})]})}),r.jsxs("div",{className:"flex flex-wrap gap-1 mb-2",children:[x.isBestSeller&&r.jsx(Xe,{variant:"warning",children:"Best Seller"}),x.isRare&&r.jsx(Xe,{variant:"danger",children:"Rare"}),m(x.deliveryType),p(x.sourceType)]})]}),r.jsx("div",{className:"space-y-2",children:x.variants.map(v=>{const y=v.price,b=v.discount?y*(1-v.discount/100):y,j=s?b*.95:b;return r.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[v.type," - ",v.size]}),r.jsxs("p",{className:"text-xs text-gray-600",children:[v.grossWeight,"  ",v.serves]}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Stock: ",v.stock," available"]})]}),r.jsx(oe,{type:"button",size:"sm",onClick:()=>t(x,v.id),disabled:v.stock===0,className:"ml-2",children:r.jsx(dr,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[v.discount?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-sm text-gray-500 line-through",children:bt(y)}),r.jsx("span",{className:"text-sm font-semibold text-green-600",children:bt(b)}),r.jsxs(Xe,{variant:"success",children:[v.discount,"% OFF"]})]}):r.jsx("span",{className:"text-sm font-semibold text-green-600",children:bt(y)}),s&&r.jsxs(r.Fragment,{children:[r.jsx(W0,{className:"h-4 w-4 text-yellow-500"}),r.jsx("span",{className:"text-sm font-semibold text-yellow-600",children:bt(j)}),r.jsxs(Xe,{variant:"warning",className:"flex items-center gap-1",children:[r.jsx(qs,{className:"h-2 w-2"}),"Elite"]})]})]}),v.stock===0&&r.jsx("div",{className:"mt-2 text-xs text-red-600 font-medium",children:"Out of Stock"}),v.stock>0&&v.stock<=5&&r.jsxs("div",{className:"mt-2 text-xs text-orange-600 font-medium",children:["Only ",v.stock," left!"]})]},v.id)})})]},x.id))}),s&&r.jsxs("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 text-yellow-800",children:[r.jsx(qs,{className:"h-4 w-4"}),r.jsx("span",{className:"text-sm font-medium",children:"Elite Member Pricing Active"})]}),r.jsx("p",{className:"text-xs text-yellow-700 mt-1",children:"Additional 5% discount applied on all products for Elite members"})]})]})}function EIe({product:e,variant:t,onAddToOrder:s,availableProducts:a,className:n=""}){const[i,l]=A.useState(!1),[o,c]=A.useState(null),d=a.filter(x=>x.category===e.category&&!x.isRare&&x.id!==e.id&&x.isActive),h=()=>{e.isRare?l(!0):s(e.id,t.id)},m=()=>{s(e.id,t.id,o?.productId,o?.variantId),l(!1),c(null)},p=()=>{s(e.id,t.id),l(!1)};return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:`border rounded-lg p-3 hover:border-blue-300 transition-colors ${n}`,children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:e.nameEn}),r.jsx("p",{className:"text-sm text-gray-600",children:e.nameTa}),r.jsx("p",{className:"text-xs text-gray-500",children:e.sku})]}),r.jsxs("div",{className:"flex gap-1",children:[e.isBestSeller&&r.jsx(Xe,{variant:"warning",children:"Best Seller"}),e.isRare&&r.jsxs(Xe,{variant:"danger",className:"flex items-center gap-1",children:[r.jsx(qs,{className:"h-3 w-3"}),"Rare"]}),e.deliveryType==="exotic"&&r.jsxs(Xe,{variant:"purple",className:"flex items-center gap-1",children:[r.jsx(Tr,{className:"h-3 w-3"}),"Exotic"]})]})]}),r.jsx("div",{className:"space-y-2",children:r.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("p",{className:"text-sm font-medium",children:[t.type," - ",t.size]}),r.jsxs("p",{className:"text-xs text-gray-600",children:[t.serves,"  Stock: ",t.stock]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm font-semibold text-green-600",children:bt(t.price)}),t.discount&&r.jsxs(Xe,{variant:"success",children:[t.discount,"% off"]})]})]}),r.jsx(oe,{type:"button",size:"sm",onClick:h,disabled:t.stock===0,className:e.isRare?"bg-orange-600 hover:bg-orange-700":"",children:r.jsx(dr,{className:"h-4 w-4"})})]})}),e.isRare&&r.jsx("div",{className:"mt-3 p-2 bg-orange-50 border border-orange-200 rounded-lg",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(Ts,{className:"h-4 w-4 text-orange-600 mt-0.5"}),r.jsxs("div",{className:"text-xs text-orange-800",children:[r.jsx("p",{className:"font-medium",children:"Rare Product Notice:"}),r.jsx("p",{children:"Available for next slot delivery. Please select an alternate product in case this item is unavailable during procurement."})]})]})}),e.deliveryType==="exotic"&&r.jsx("div",{className:"mt-3 p-2 bg-purple-50 border border-purple-200 rounded-lg",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(Tr,{className:"h-4 w-4 text-purple-600 mt-0.5"}),r.jsxs("div",{className:"text-xs text-purple-800",children:[r.jsx("p",{className:"font-medium",children:"Exotic Product:"}),r.jsx("p",{children:"Requires 2-7 days for delivery. Imported delicacy with premium quality."})]})]})})]}),r.jsx(ir,{isOpen:i,onClose:()=>l(!1),title:"Select Alternate Product",size:"lg",children:r.jsxs("div",{className:"space-y-5",children:[r.jsx("div",{className:"bg-gradient-to-r from-orange-50 to-orange-100 border-l-4 border-orange-500 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"h-10 w-10 rounded-lg bg-orange-600 flex items-center justify-center flex-shrink-0",children:r.jsx(qs,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-orange-900 mb-1",children:"Rare Product Selected"}),r.jsxs("p",{className:"text-sm text-orange-800 leading-relaxed",children:[r.jsx("span",{className:"font-medium",children:e.nameEn})," is a rare product available for next slot delivery. Please select an alternate product below in case this item is unavailable during procurement."]})]})]})}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h4",{className:"font-semibold text-gray-900",children:"Available Alternate Products"}),r.jsxs(Xe,{variant:"info",children:[d.length," options"]})]}),d.length>0?r.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto pr-2",children:d.map(x=>r.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-4 hover:border-blue-300 transition-all bg-white shadow-sm",children:[r.jsx("div",{className:"flex items-start justify-between mb-3 pb-3 border-b border-gray-100",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("h5",{className:"font-semibold text-gray-900",children:x.nameEn}),x.isBestSeller&&r.jsx(Xe,{variant:"warning",className:"text-xs",children:" Best Seller"})]}),r.jsx("p",{className:"text-sm text-gray-600",children:x.nameTa}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:x.description})]})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Select Variant"}),x.variants.map(v=>{const y=o?.productId===x.id&&o?.variantId===v.id;return r.jsxs("button",{type:"button",onClick:()=>c({productId:x.id,variantId:v.id}),className:`w-full flex items-center justify-between p-3 rounded-lg border-2 transition-all ${y?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 hover:border-blue-300 hover:bg-gray-50"}`,children:[r.jsxs("div",{className:"flex-1 text-left",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[v.type," - ",v.size]}),v.discount&&r.jsxs(Xe,{variant:"success",className:"text-xs",children:[v.discount,"% OFF"]})]}),r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:v.serves}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm font-bold text-green-600",children:bt(v.price)}),r.jsxs("span",{className:"text-xs text-gray-500",children:[" Stock: ",v.stock]})]})]}),r.jsx("div",{className:`h-6 w-6 rounded-full border-2 flex items-center justify-center flex-shrink-0 ${y?"border-blue-500 bg-blue-500":"border-gray-300"}`,children:y&&r.jsx(ec,{className:"h-4 w-4 text-white"})})]},v.id)})]})]},x.id))}):r.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[r.jsx(Tt,{className:"h-12 w-12 mx-auto mb-3 text-gray-400"}),r.jsx("p",{className:"text-gray-600 font-medium",children:"No alternate products available"}),r.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["in ",e.category," category"]})]})]}),o&&r.jsx("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-blue-100 border-l-4 border-blue-500 rounded-lg",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-500 flex items-center justify-center flex-shrink-0",children:r.jsx(ec,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-blue-900",children:"Alternate Product Selected"}),r.jsxs("p",{className:"text-sm text-blue-800",children:[d.find(x=>x.id===o.productId)?.nameEn," - ",d.find(x=>x.id===o.productId)?.variants.find(x=>x.id===o.variantId)?.type]})]})]})}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t-2 border-gray-200",children:[r.jsx(oe,{type:"button",variant:"secondary",onClick:()=>l(!1),className:"flex-1",children:"Cancel"}),r.jsx(oe,{type:"button",variant:"ghost",onClick:p,className:"flex-1 border border-gray-300",children:"Skip Alternate"}),r.jsx(oe,{type:"button",onClick:m,disabled:!o,className:"flex-1 bg-blue-600 hover:bg-blue-700",children:"Confirm Order"})]})]})})]})}function PIe({hasExoticProducts:e,hasRareProducts:t,selectedSlot:s,onSlotChange:a,error:n,className:i=""}){const[l,o]=A.useState([]);A.useEffect(()=>{const m=new Date,p=new Date(m);p.setDate(m.getDate()+1);const x=[];if(e)for(let v=2;v<=7;v++){const y=new Date(m);y.setDate(m.getDate()+v),x.push({value:`exotic_day_${v}`,label:`Day ${v} - ${y.toLocaleDateString("en-IN",{weekday:"short",month:"short",day:"numeric"})} (Exotic Delivery)`,type:"exotic",availableDate:y.toISOString(),isAvailable:!0})}else{const v=[{time:"7:00 AM - 9:00 AM",available:!t},{time:"10:00 AM - 12:00 PM",available:!0},{time:"1:00 PM - 3:00 PM",available:!0},{time:"4:00 PM - 6:00 PM",available:!0},{time:"7:00 PM - 9:00 PM",available:!0}],y=m.getHours();if(!t&&y<15&&v.forEach((b,j)=>{y<(j===0?7:j===1?10:j===2?13:j===3?16:19)-2&&b.available&&x.push({value:`today_slot_${j+1}`,label:`Today - ${b.time}`,type:"regular",availableDate:m.toISOString(),isAvailable:!0})}),v.forEach((b,j)=>{b.available&&x.push({value:`tomorrow_slot_${j+1}`,label:`Tomorrow - ${b.time}`,type:t?"next_day":"regular",availableDate:p.toISOString(),isAvailable:!0})}),t){const b=new Date(m);b.setDate(m.getDate()+2),v.forEach((j,S)=>{j.available&&x.push({value:`day_after_slot_${S+1}`,label:`${b.toLocaleDateString("en-IN",{weekday:"short",month:"short",day:"numeric"})} - ${j.time}`,type:"next_day",availableDate:b.toISOString(),isAvailable:!0})})}}o(x)},[e,t]);const d=e?{icon:Tr,color:"purple",title:"Exotic Products Delivery",description:"Exotic products require 2-7 days for delivery due to import and quality checks."}:t?{icon:Ts,color:"orange",title:"Rare Products Delivery",description:"Rare products are available for next available slot delivery."}:{icon:Mr,color:"green",title:"Regular Delivery",description:"Same day or next day delivery available for regular products."},h=d.icon;return r.jsxs("div",{className:`space-y-3 ${i}`,children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Delivery Slot"}),r.jsxs(Xe,{variant:d.color,className:"flex items-center gap-1",children:[r.jsx(h,{className:"h-3 w-3"}),e?"Exotic":t?"Rare":"Regular"]})]}),r.jsx("div",{className:`p-3 rounded-lg border ${e?"bg-purple-50 border-purple-200":t?"bg-orange-50 border-orange-200":"bg-green-50 border-green-200"}`,children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(h,{className:`h-4 w-4 mt-0.5 ${e?"text-purple-600":t?"text-orange-600":"text-green-600"}`}),r.jsxs("div",{className:`text-xs ${e?"text-purple-800":t?"text-orange-800":"text-green-800"}`,children:[r.jsx("p",{className:"font-medium",children:d.title}),r.jsx("p",{children:d.description})]})]})}),r.jsx(Ut,{value:s,onChange:m=>a(m.target.value),error:n,options:[{value:"",label:"Select Delivery Slot"},...l.map(m=>({value:m.value,label:m.label,disabled:!m.isAvailable}))]}),s&&r.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Jr,{className:"h-4 w-4 text-blue-600"}),r.jsxs("span",{className:"text-sm text-blue-800",children:[r.jsx("span",{className:"font-medium",children:"Selected:"})," ",l.find(m=>m.value===s)?.label]})]}),e&&r.jsxs("div",{className:"mt-2 text-xs text-blue-700",children:[r.jsx("p",{children:" Exotic products will be imported and quality-checked before delivery"}),r.jsx("p",{children:" You will receive updates on the delivery progress"})]}),t&&r.jsxs("div",{className:"mt-2 text-xs text-blue-700",children:[r.jsx("p",{children:" Rare products will be procured based on availability"}),r.jsx("p",{children:" Alternate products will be delivered if rare items are unavailable"})]})]}),l.length===0&&r.jsxs("div",{className:"text-center py-4 text-gray-500",children:[r.jsx(Tr,{className:"h-8 w-8 mx-auto mb-2 text-gray-300"}),r.jsx("p",{className:"text-sm",children:"No delivery slots available"})]})]})}function OIe({item:e,product:t,variant:s,alternateProduct:a,alternateVariant:n,index:i,onUpdateQuantity:l,onRemoveItem:o,className:c=""}){const d=t.isRare,h=t.deliveryType==="exotic",m=a&&n;return r.jsxs("div",{className:`border rounded-lg p-4 space-y-3 ${c}`,children:[r.jsx("div",{className:"flex items-start gap-4",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{children:[r.jsxs("h5",{className:"font-medium text-gray-900 flex items-center gap-2",children:[t.nameEn,d&&r.jsxs(Xe,{variant:"danger",className:"flex items-center gap-1",children:[r.jsx(qs,{className:"h-3 w-3"}),"Rare"]}),h&&r.jsxs(Xe,{variant:"purple",className:"flex items-center gap-1",children:[r.jsx(Tr,{className:"h-3 w-3"}),"Exotic"]})]}),r.jsx("p",{className:"text-sm text-gray-600",children:t.nameTa}),r.jsxs("p",{className:"text-sm text-gray-500",children:[s.type," - ",s.size]}),r.jsx("p",{className:"text-xs text-gray-500",children:s.serves})]}),r.jsx(oe,{type:"button",variant:"ghost",size:"sm",onClick:()=>o(i),className:"text-red-600 hover:text-red-700",children:r.jsx(Cs,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(oe,{type:"button",variant:"ghost",size:"sm",onClick:()=>l(i,e.quantity-1),children:r.jsx(Xd,{className:"h-4 w-4"})}),r.jsx("span",{className:"w-8 text-center font-medium",children:e.quantity}),r.jsx(oe,{type:"button",variant:"ghost",size:"sm",onClick:()=>l(i,e.quantity+1),children:r.jsx(dr,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"font-semibold text-gray-900",children:bt(e.price*e.quantity)}),r.jsxs("p",{className:"text-sm text-gray-600",children:[bt(e.price)," each"]})]})]})]})}),m&&r.jsxs("div",{className:"border-t pt-3",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(mx,{className:"h-4 w-4 text-orange-600"}),r.jsx("span",{className:"text-sm font-medium text-orange-800",children:"Alternate Product (if rare item unavailable)"})]}),r.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h6",{className:"font-medium text-orange-900",children:a.nameEn}),r.jsx("p",{className:"text-sm text-orange-700",children:a.nameTa}),r.jsxs("p",{className:"text-sm text-orange-600",children:[n.type," - ",n.size]}),r.jsx("p",{className:"text-xs text-orange-600",children:n.serves})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"font-semibold text-orange-900",children:bt(n.price*e.quantity)}),r.jsxs("p",{className:"text-sm text-orange-700",children:[bt(n.price)," each"]})]})]})})]}),r.jsxs("div",{className:"border-t pt-3",children:[d&&r.jsxs("div",{className:"p-3 bg-orange-50 border-l-4 border-orange-400 rounded",children:[r.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[r.jsx(qs,{className:"h-4 w-4 text-orange-600 mt-0.5 flex-shrink-0"}),r.jsx("p",{className:"font-semibold text-orange-900 text-sm",children:"Rare Product"})]}),r.jsxs("div",{className:"space-y-1.5 text-xs text-orange-800 ml-6",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx("span",{className:"font-medium min-w-[90px]",children:"Availability:"}),r.jsx("span",{children:"Can order for next available slot"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("span",{className:"font-medium min-w-[90px]",children:"Requirement:"}),r.jsx("span",{children:"Must ask customer for alternate product preference"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("span",{className:"font-medium min-w-[90px]",children:"Fallback:"}),r.jsx("span",{children:"If unavailable during procurement, alternate will be delivered"})]}),m&&r.jsx("div",{className:"mt-2 pt-2 border-t border-orange-200",children:r.jsx("span",{className:"font-medium text-green-700",children:" Alternate product selected"})}),!m&&r.jsx("div",{className:"mt-2 pt-2 border-t border-orange-200",children:r.jsx("span",{className:"font-medium text-red-700",children:" No alternate selected - Please add one"})})]})]}),h&&r.jsxs("div",{className:"p-3 bg-purple-50 border-l-4 border-purple-400 rounded",children:[r.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[r.jsx(Tr,{className:"h-4 w-4 text-purple-600 mt-0.5 flex-shrink-0"}),r.jsx("p",{className:"font-semibold text-purple-900 text-sm",children:"Exotic Product"})]}),r.jsxs("div",{className:"space-y-1.5 text-xs text-purple-800 ml-6",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx("span",{className:"font-medium min-w-[90px]",children:"Delivery Time:"}),r.jsx("span",{children:"Requires 2-7 days for delivery"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("span",{className:"font-medium min-w-[90px]",children:"Reason:"}),r.jsx("span",{children:"Imported delicacy requiring quality checks and import procedures"})]})]})]}),!d&&!h&&r.jsxs("div",{className:"flex items-start gap-2 p-2 bg-green-50 border border-green-200 rounded",children:[r.jsx(Tt,{className:"h-4 w-4 text-green-600 mt-0.5"}),r.jsxs("div",{className:"text-xs text-green-800",children:[r.jsx("p",{className:"font-medium",children:"Regular Product:"}),r.jsx("p",{children:"Available for same-day or next-day delivery based on selected slot."})]})]})]})]})}function YB({addresses:e,onAddressSelect:t,selectedAddressId:s,className:a=""}){const n=e.filter(i=>i.type==="other");return n.length===0?r.jsxs("div",{className:`p-6 bg-purple-50 border border-purple-200 rounded-lg text-center ${a}`,children:[r.jsx(Rj,{className:"h-12 w-12 mx-auto mb-3 text-purple-300"}),r.jsx("p",{className:"text-purple-600 font-medium",children:'No "Others" addresses found'}),r.jsx("p",{className:"text-sm text-purple-500 mt-1",children:"Add addresses like family homes, friend's places, etc."})]}):r.jsxs("div",{className:`space-y-4 ${a}`,children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-8 w-8 rounded-lg bg-purple-600 flex items-center justify-center",children:r.jsx(Rj,{className:"h-4 w-4 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-purple-900",children:"Others Addresses"}),r.jsxs("p",{className:"text-sm text-purple-700",children:[n.length," saved locations"]})]})]}),r.jsxs(Xe,{variant:"purple",className:"flex items-center gap-1",children:[r.jsx(Vs,{className:"h-3 w-3"}),n.length," Others"]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(i=>{const l=s===i.id;return r.jsxs("div",{onClick:()=>t?.(i),className:`p-4 border-2 rounded-lg transition-all cursor-pointer ${l?"border-purple-500 bg-purple-50 shadow-md":"border-purple-200 bg-white hover:border-purple-300 hover:shadow-sm"}`,children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:`h-6 w-6 rounded-full flex items-center justify-center ${l?"bg-purple-600":"bg-purple-100"}`,children:r.jsx(Rj,{className:`h-3 w-3 ${l?"text-white":"text-purple-600"}`})}),r.jsx("h4",{className:`font-medium truncate ${l?"text-purple-900":"text-gray-900"}`,children:i.label})]}),i.isDefault&&r.jsx(Xe,{variant:"success",children:"Default"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:`text-sm font-medium ${l?"text-purple-800":"text-gray-800"}`,children:i.addressLine1}),i.addressLine2&&r.jsx("p",{className:`text-sm ${l?"text-purple-700":"text-gray-600"}`,children:i.addressLine2})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Vs,{className:`h-3 w-3 ${l?"text-purple-600":"text-gray-500"}`}),r.jsxs("p",{className:`text-sm ${l?"text-purple-700":"text-gray-600"}`,children:[i.city,", ",i.state]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:`h-3 w-3 rounded-full ${l?"bg-purple-600":"bg-gray-400"}`}),r.jsx("p",{className:`text-sm font-mono ${l?"text-purple-700":"text-gray-600"}`,children:i.pincode})]}),i.landmark&&r.jsxs("div",{className:`p-2 rounded text-xs ${l?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-700"}`,children:[r.jsx("span",{className:"font-medium",children:" Landmark:"})," ",i.landmark]})]}),l&&r.jsx("div",{className:"mt-3 pt-3 border-t border-purple-200",children:r.jsxs("div",{className:"flex items-center gap-2 text-purple-600",children:[r.jsx("div",{className:"h-4 w-4 rounded-full bg-purple-600 flex items-center justify-center",children:r.jsx("div",{className:"h-2 w-2 rounded-full bg-white"})}),r.jsx("span",{className:"text-sm font-medium",children:"Selected Address"})]})})]},i.id)})}),r.jsx("div",{className:"p-4 bg-purple-50 border border-purple-200 rounded-lg",children:r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-purple-700",children:[r.jsx(Vs,{className:"h-4 w-4"}),r.jsxs("span",{children:[n.length," Others Addresses"]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-purple-600",children:[r.jsx(Tr,{className:"h-4 w-4"}),r.jsx("span",{children:"Ready for delivery"})]})]}),s&&r.jsxs(Xe,{variant:"purple",className:"flex items-center gap-1",children:[r.jsx("div",{className:"h-2 w-2 rounded-full bg-white"}),"Address Selected"]})]})})]})}const XB=[{id:"addr_001",label:"Home",type:"home",addressLine1:"123 Marina Beach Road, Apt 4B",addressLine2:"Near Lighthouse",city:"Chennai",state:"Tamil Nadu",pincode:"600001",isDefault:!0,landmark:"Opposite to Marina Beach"},{id:"addr_002",label:"Office",type:"work",addressLine1:"456 IT Park, Tower B, 5th Floor",addressLine2:"OMR Road",city:"Chennai",state:"Tamil Nadu",pincode:"600096",isDefault:!1,landmark:"Near Sholinganallur Metro"},{id:"addr_003",label:"Parents House",type:"other",addressLine1:"789 Anna Salai, Block C",addressLine2:"T. Nagar",city:"Chennai",state:"Tamil Nadu",pincode:"600017",isDefault:!1,landmark:"Near Pondy Bazaar"},{id:"addr_004",label:"Weekend Villa",type:"other",addressLine1:"Plot 45, ECR Road",addressLine2:"Mahabalipuram",city:"Chennai",state:"Tamil Nadu",pincode:"603104",isDefault:!1,landmark:"Near Shore Temple"},{id:"addr_005",label:"Sister's Place",type:"other",addressLine1:"321 Velachery Main Road, Flat 3A",addressLine2:"Phoenix MarketCity Area",city:"Chennai",state:"Tamil Nadu",pincode:"600042",isDefault:!1,landmark:"Behind Phoenix Mall"},{id:"addr_006",label:"Friend's Apartment",type:"other",addressLine1:"567 Adyar River View, Tower 2",addressLine2:"Boat Club Road",city:"Chennai",state:"Tamil Nadu",pincode:"600020",isDefault:!1,landmark:"Near Adyar Club"},{id:"addr_007",label:"Grandparents Home",type:"other",addressLine1:"890 Mylapore Tank Street",addressLine2:"Near Kapaleeshwarar Temple",city:"Chennai",state:"Tamil Nadu",pincode:"600004",isDefault:!1,landmark:"Opposite to Temple Tank"},{id:"addr_008",label:"Vacation Rental",type:"other",addressLine1:"Beach House No. 12, Kovalam",addressLine2:"Lighthouse Beach Road",city:"Thiruvananthapuram",state:"Kerala",pincode:"695527",isDefault:!1,landmark:"Near Lighthouse Beach"},{id:"addr_009",label:"Uncle's Farmhouse",type:"other",addressLine1:"Survey No. 234, Village Road",addressLine2:"Kanchipuram District",city:"Kanchipuram",state:"Tamil Nadu",pincode:"631502",isDefault:!1,landmark:"Near Silk Weaving Center"},{id:"addr_010",label:"College Hostel",type:"other",addressLine1:"Room 405, Hostel Block B",addressLine2:"Anna University Campus",city:"Chennai",state:"Tamil Nadu",pincode:"600025",isDefault:!1,landmark:"Near University Library"},{id:"addr_011",label:"Gym Trainer's Place",type:"other",addressLine1:"123 Fitness Street, Apt 2B",addressLine2:"Nungambakkam High Road",city:"Chennai",state:"Tamil Nadu",pincode:"600034",isDefault:!1,landmark:"Above Gold's Gym"},{id:"addr_012",label:"Cousin's New House",type:"other",addressLine1:"Plot 67, Rajiv Gandhi Salai",addressLine2:"Navalur, OMR",city:"Chennai",state:"Tamil Nadu",pincode:"603103",isDefault:!1,landmark:"Near DLF IT Park"},{id:"addr_013",label:"Yoga Studio",type:"other",addressLine1:"456 Wellness Center, 3rd Floor",addressLine2:"Besant Nagar",city:"Chennai",state:"Tamil Nadu",pincode:"600090",isDefault:!1,landmark:"Near Elliot's Beach"},{id:"addr_014",label:"Pet Boarding",type:"other",addressLine1:"789 Pet Care Avenue",addressLine2:"Chromepet",city:"Chennai",state:"Tamil Nadu",pincode:"600044",isDefault:!1,landmark:"Near Railway Station"},{id:"addr_015",label:"Event Venue",type:"other",addressLine1:"Grand Ballroom, Hotel Paradise",addressLine2:"Mount Road",city:"Chennai",state:"Tamil Nadu",pincode:"600002",isDefault:!1,landmark:"Opposite Spencer Plaza"}],ZB={home:bb,work:Tm,other:Rj},q2={home:"green",work:"blue",other:"purple"};function DIe({customer:e,selectedAddressId:t,onAddressSelect:s,onAddNewAddress:a,className:n=""}){const[i,l]=A.useState(!1),[o,c]=A.useState(null),[d,h]=A.useState("all"),m=e?XB:[],p=m.filter(y=>d==="all"?!0:y.type===d),x=y=>{c(y),s(y),l(!1)},v=()=>{l(!1),a()};return e?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:`space-y-3 ${n}`,children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Saved Addresses (",m.length," total, ",m.filter(y=>y.type==="other").length," others)"]}),r.jsxs(oe,{type:"button",size:"sm",variant:"secondary",onClick:()=>l(!0),className:"flex items-center gap-2",children:[r.jsx(Vs,{className:"h-4 w-4"}),"Select Address"]})]}),o&&r.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:`h-8 w-8 rounded-lg bg-${q2[o.type]}-600 flex items-center justify-center`,children:ur.createElement(ZB[o.type],{className:"h-4 w-4 text-white"})}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("h4",{className:"font-medium text-blue-900",children:o.label}),r.jsx(Xe,{variant:q2[o.type],children:o.type}),o.isDefault&&r.jsx(Xe,{variant:"success",children:"Default"})]}),r.jsxs("p",{className:"text-sm text-blue-800",children:[o.addressLine1,o.addressLine2&&`, ${o.addressLine2}`]}),r.jsxs("p",{className:"text-sm text-blue-700",children:[o.city,", ",o.state," - ",o.pincode]}),o.landmark&&r.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:[" ",o.landmark]})]})]}),r.jsx(oe,{type:"button",size:"sm",variant:"ghost",onClick:()=>l(!0),className:"text-blue-600 hover:text-blue-700",children:r.jsx(ss,{className:"h-4 w-4"})})]})}),!o&&m.length>0&&r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg",children:r.jsxs("p",{className:"text-sm text-gray-600 text-center mb-3",children:['Click "Select Address" to choose from ',m.length," saved addresses",r.jsx("br",{}),r.jsxs("span",{className:"text-purple-600 font-medium",children:[m.filter(y=>y.type==="other").length," other addresses available"]})]})}),r.jsx(YB,{addresses:m,onAddressSelect:x,selectedAddressId:t})]})]}),r.jsx(ir,{isOpen:i,onClose:()=>l(!1),title:"Select Delivery Address",size:"lg",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"font-medium text-gray-900",children:["Saved Addresses for ",e.name]}),r.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[r.jsxs("span",{className:"text-sm text-gray-600",children:["Total: ",m.length," addresses"]}),r.jsxs("span",{className:"text-sm text-green-600",children:["Home: ",m.filter(y=>y.type==="home").length]}),r.jsxs("span",{className:"text-sm text-blue-600",children:["Work: ",m.filter(y=>y.type==="work").length]}),r.jsxs("span",{className:"text-sm text-purple-600",children:["Others: ",m.filter(y=>y.type==="other").length]})]})]}),r.jsxs(oe,{type:"button",size:"sm",onClick:v,className:"flex items-center gap-2",children:[r.jsx(dr,{className:"h-4 w-4"}),"Add New Address"]})]}),r.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded-lg",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filter:"}),[{value:"all",label:"All",count:m.length},{value:"home",label:"Home",count:m.filter(y=>y.type==="home").length},{value:"work",label:"Work",count:m.filter(y=>y.type==="work").length},{value:"other",label:"Others",count:m.filter(y=>y.type==="other").length}].map(y=>r.jsxs("button",{type:"button",onClick:()=>h(y.value),className:`px-3 py-1 rounded-full text-sm transition-colors ${d===y.value?"bg-blue-600 text-white":"bg-white text-gray-600 hover:bg-gray-100"}`,children:[y.label," (",y.count,")"]},y.value))]}),p.length>0?r.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:p.map(y=>{const b=ZB[y.type],j=t===y.id;return r.jsx("div",{className:`p-4 border-2 rounded-lg cursor-pointer transition-all ${j?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,onClick:()=>x(y),children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[r.jsx("div",{className:`h-10 w-10 rounded-lg bg-${q2[y.type]}-600 flex items-center justify-center`,children:r.jsx(b,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:y.label}),r.jsx(Xe,{variant:q2[y.type],children:y.type}),y.isDefault&&r.jsx(Xe,{variant:"success",children:"Default"})]}),r.jsxs("p",{className:"text-sm text-gray-700 mb-1",children:[y.addressLine1,y.addressLine2&&`, ${y.addressLine2}`]}),r.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[y.city,", ",y.state," - ",y.pincode]}),y.landmark&&r.jsxs("p",{className:"text-xs text-gray-500",children:[" ",y.landmark]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[j&&r.jsx("div",{className:"h-6 w-6 rounded-full bg-blue-600 flex items-center justify-center",children:r.jsx(ec,{className:"h-4 w-4 text-white"})}),r.jsx(oe,{type:"button",size:"sm",variant:"ghost",onClick:S=>{S.stopPropagation(),console.log("Edit address:",y.id)},className:"text-gray-500 hover:text-gray-700",children:r.jsx(ss,{className:"h-4 w-4"})}),r.jsx(oe,{type:"button",size:"sm",variant:"ghost",onClick:S=>{S.stopPropagation(),console.log("Delete address:",y.id)},className:"text-red-500 hover:text-red-700",children:r.jsx(Ar,{className:"h-4 w-4"})})]})]})},y.id)})}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Vs,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),r.jsx("p",{className:"text-gray-500 mb-4",children:d==="all"?"No saved addresses found":`No ${d} addresses found`}),r.jsxs(oe,{type:"button",onClick:v,className:"flex items-center gap-2",children:[r.jsx(dr,{className:"h-4 w-4"}),d==="all"?"Add First Address":`Add ${d} Address`]})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[r.jsx(oe,{type:"button",variant:"secondary",onClick:()=>l(!1),className:"flex-1",children:"Cancel"}),o&&r.jsx(oe,{type:"button",onClick:()=>l(!1),className:"flex-1",children:"Use Selected Address"})]})]})})]}):r.jsxs("div",{className:`space-y-4 ${n}`,children:[r.jsx("div",{className:"p-4 bg-purple-50 border border-purple-200 rounded-lg",children:r.jsxs("div",{className:"text-center mb-4",children:[r.jsx(Vs,{className:"h-8 w-8 mx-auto mb-2 text-purple-600"}),r.jsx("p",{className:"text-sm text-purple-800 font-medium",children:"Others Address Preview"}),r.jsx("p",{className:"text-xs text-purple-700",children:"Search for a customer to access their saved addresses"})]})}),r.jsx(YB,{addresses:XB,className:"opacity-75"})]})}const JB=[{value:"pending",label:"Pending",description:"No payment received yet",icon:Tr,color:"orange",bgColor:"bg-orange-50",borderColor:"border-orange-200",textColor:"text-orange-800"},{value:"partial",label:"Partially Paid",description:"Advance payment received",icon:ya,color:"blue",bgColor:"bg-blue-50",borderColor:"border-blue-200",textColor:"text-blue-800"},{value:"paid",label:"Paid",description:"Full payment received",icon:Dr,color:"green",bgColor:"bg-green-50",borderColor:"border-green-200",textColor:"text-green-800"}];function RIe({paymentStatus:e,paymentMethod:t,advanceAmount:s=0,totalAmount:a,onPaymentStatusChange:n,onAdvanceAmountChange:i,error:l,advanceError:o,className:c=""}){const d=JB.find(v=>v.value===e),h=d?.icon||Tr,m=a-s,p=e==="partial",x=e==="paid";return r.jsxs("div",{className:`space-y-4 ${c}`,children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Payment Status"}),r.jsxs(Xe,{variant:d?.color,className:"flex items-center gap-1",children:[r.jsx(h,{className:"h-3 w-3"}),d?.label]})]}),r.jsx(Ut,{value:e,onChange:v=>n(v.target.value),error:l,options:[{value:"",label:"Select Payment Status"},...JB.map(v=>({value:v.value,label:`${v.label} - ${v.description}`}))]})]}),d&&r.jsx("div",{className:`p-4 rounded-lg border ${d.bgColor} ${d.borderColor}`,children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:`h-8 w-8 rounded-lg bg-${d.color}-600 flex items-center justify-center`,children:r.jsx(h,{className:"h-4 w-4 text-white"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:`font-medium ${d.textColor}`,children:d.label}),r.jsx("p",{className:`text-sm ${d.textColor} opacity-80 mt-1`,children:d.description}),r.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[r.jsx(gi,{className:`h-4 w-4 ${d.textColor} opacity-60`}),r.jsxs("span",{className:`text-sm ${d.textColor} opacity-80`,children:["Payment Method: ",t.toUpperCase()]})]})]})]})}),p&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Advance Amount"}),r.jsx(Xe,{variant:"blue",children:"Required for Partial Payment"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Wh,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),r.jsx(de,{type:"number",step:"0.01",min:"0.01",max:a-.01,value:s||"",onChange:v=>i(parseFloat(v.target.value)||0),placeholder:"Enter advance amount",error:o,className:"pl-10"})]}),r.jsx("div",{className:"text-sm text-gray-600",children:r.jsxs("p",{children:["Maximum advance: ",bt(a-.01)]})})]}),a>0&&r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[r.jsxs("h4",{className:"font-medium text-gray-900 mb-3 flex items-center gap-2",children:[r.jsx(gi,{className:"h-4 w-4"}),"Payment Summary"]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Total Order Amount:"}),r.jsx("span",{className:"font-medium text-gray-900",children:bt(a)})]}),p&&s>0&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex justify-between text-blue-600",children:[r.jsx("span",{children:"Advance Payment:"}),r.jsx("span",{className:"font-medium",children:bt(s)})]}),r.jsxs("div",{className:"flex justify-between text-orange-600",children:[r.jsx("span",{children:"Pending Amount:"}),r.jsx("span",{className:"font-medium",children:bt(m)})]})]}),x&&r.jsxs("div",{className:"flex justify-between text-green-600",children:[r.jsx("span",{children:"Payment Status:"}),r.jsx("span",{className:"font-medium",children:"Fully Paid"})]}),e==="pending"&&r.jsxs("div",{className:"flex justify-between text-orange-600",children:[r.jsx("span",{children:"Payment Status:"}),r.jsx("span",{className:"font-medium",children:"Payment Pending"})]})]}),r.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:r.jsxs("div",{className:"text-xs text-gray-500",children:[t==="cod"&&r.jsx("p",{children:" Cash on Delivery - Collect payment upon delivery"}),t==="online"&&r.jsx("p",{children:" Online Payment - Payment processed through gateway"}),t==="wallet"&&r.jsx("p",{children:" Wallet Payment - Deducted from customer wallet"})]})})]})]})}function MIe({discountType:e,discountValue:t,subtotal:s,onDiscountTypeChange:a,onDiscountValueChange:n,error:i,className:l=""}){const o=e==="percentage"?s*t/100:t,c=Math.max(0,s-o);return r.jsxs("div",{className:`space-y-6 ${l}`,children:[r.jsxs("div",{className:"text-center p-4 bg-gradient-to-r from-blue-50 to-green-50 rounded-lg border border-gray-200",children:[r.jsx("h4",{className:"text-lg font-bold text-gray-800 mb-2",children:" Discount Configuration"}),r.jsx("p",{className:"text-sm text-gray-600",children:o>0?`Current discount: ${bt(o)} (${(o/Math.max(s,1)*100).toFixed(1)}%)`:"No discount applied - Enter discount below"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("label",{className:"block text-lg font-semibold text-gray-800",children:"Choose Discount Type:"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("button",{type:"button",onClick:()=>a("percentage"),className:`p-4 rounded-xl border-2 transition-all duration-200 ${e==="percentage"?"bg-blue-600 text-white border-blue-600 shadow-lg scale-105":"bg-white text-gray-700 border-gray-300 hover:border-blue-300 hover:shadow-md"}`,children:[r.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[r.jsx(dg,{className:"h-6 w-6"}),r.jsx("span",{className:"text-lg font-bold",children:"Percentage Discount"})]}),r.jsx("p",{className:"text-sm opacity-90",children:"Apply discount as % of subtotal"})]}),r.jsxs("button",{type:"button",onClick:()=>a("amount"),className:`p-4 rounded-xl border-2 transition-all duration-200 ${e==="amount"?"bg-green-600 text-white border-green-600 shadow-lg scale-105":"bg-white text-gray-700 border-gray-300 hover:border-green-300 hover:shadow-md"}`,children:[r.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[r.jsx(Wh,{className:"h-6 w-6"}),r.jsx("span",{className:"text-lg font-bold",children:"Fixed Amount"})]}),r.jsx("p",{className:"text-sm opacity-90",children:"Apply discount as fixed rupee amount"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs("label",{className:"block text-lg font-semibold text-gray-800",children:["Enter Discount ",e==="percentage"?"Percentage":"Amount"]}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:`absolute left-4 top-1/2 -translate-y-1/2 h-8 w-8 rounded-full flex items-center justify-center ${e==="percentage"?"bg-blue-600":"bg-green-600"}`,children:e==="percentage"?r.jsx(dg,{className:"h-4 w-4 text-white"}):r.jsx(Wh,{className:"h-4 w-4 text-white"})}),r.jsx(de,{type:"number",step:e==="percentage"?"0.1":"0.01",min:"0",max:e==="percentage"?100:Math.max(s,1),value:t||"",onChange:d=>n(parseFloat(d.target.value)||0),placeholder:e==="percentage"?"Enter percentage (0-100)":"Enter amount in ",error:i,className:"pl-14 pr-4 py-3 text-lg font-medium border-2 focus:ring-2"})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:e==="percentage"?"Range: 0% - 100%":`Range: 0 - ${bt(Math.max(s,1))}`}),r.jsxs("span",{className:"font-medium text-gray-800",children:["Current: ",e==="percentage"?`${t}%`:bt(t)]})]})]}),r.jsxs("div",{className:"p-6 bg-gradient-to-br from-gray-50 to-blue-50 rounded-xl border border-gray-200",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(Vh,{className:"h-5 w-5 text-blue-600"}),r.jsx("span",{className:"text-lg font-semibold text-gray-800",children:"Live Preview"})]}),r.jsxs("div",{className:"space-y-3 text-sm",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),r.jsx("span",{className:"font-medium text-lg",children:bt(s||0)})]}),o>0&&r.jsxs("div",{className:"flex justify-between items-center text-red-600 bg-red-50 px-3 py-2 rounded",children:[r.jsx("span",{className:"font-medium",children:"Discount:"}),r.jsxs("span",{className:"font-bold text-lg",children:["-",bt(o)]})]}),r.jsx("div",{className:"border-t pt-3",children:r.jsxs("div",{className:"flex justify-between items-center font-bold text-lg",children:[r.jsx("span",{className:"text-gray-800",children:"After Discount:"}),r.jsx("span",{className:"text-green-600",children:bt(c)})]})})]})]})]}),e==="percentage"&&r.jsxs("div",{className:"space-y-3",children:[r.jsx("p",{className:"text-lg font-semibold text-gray-800",children:" Quick Discount Options:"}),r.jsx("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-3",children:[5,10,15,20,25,30].map(d=>r.jsxs("button",{type:"button",onClick:()=>n(d),className:`px-4 py-3 text-sm font-bold rounded-lg transition-all duration-200 ${t===d?"bg-blue-600 text-white shadow-lg scale-105":"bg-blue-100 text-blue-700 hover:bg-blue-200 hover:scale-105"}`,children:[d,"%"]},d))}),r.jsx("div",{className:"flex justify-center",children:r.jsx("button",{type:"button",onClick:()=>n(0),className:"px-6 py-2 text-sm font-medium rounded-lg bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors",children:" Clear Discount"})})]}),o>0&&r.jsx("div",{className:"p-4 bg-gradient-to-r from-green-50 to-blue-50 border-2 border-green-300 rounded-xl",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-10 w-10 rounded-full bg-green-600 flex items-center justify-center",children:r.jsx(jl,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{children:[r.jsxs("span",{className:"text-lg font-bold text-green-800",children:[" Discount Applied: ",e==="percentage"?`${t}%`:bt(t)]}),r.jsx("p",{className:"text-sm text-green-700",children:"Order total will be reduced"})]})]}),r.jsx("div",{className:"text-right",children:r.jsxs(Xe,{variant:"success",className:"text-lg px-4 py-2",children:[" Saves ",bt(o)]})})]})})]})}function FIe({hasRareProducts:e,hasExoticProducts:t}){return!e&&!t?null:r.jsxs("div",{className:"space-y-3",children:[e&&r.jsx("div",{className:"p-4 bg-orange-50 border-2 border-orange-200 rounded-lg",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(qs,{className:"h-5 w-5 text-orange-600 mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold text-orange-900 mb-2 flex items-center gap-2",children:"Rare Products in Order"}),r.jsxs("div",{className:"space-y-2 text-sm text-orange-800",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx("span",{className:"font-medium min-w-[120px]",children:"Availability:"}),r.jsx("span",{children:"Can order for the next available delivery slot"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("span",{className:"font-medium min-w-[120px]",children:"Requirement:"}),r.jsx("span",{children:"Must ask customer for an alternate product preference"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("span",{className:"font-medium min-w-[120px]",children:"Fallback:"}),r.jsx("span",{children:"If unavailable during procurement, the alternate product will be delivered"})]})]}),r.jsxs("div",{className:"mt-3 p-3 bg-white border border-orange-300 rounded",children:[r.jsx("p",{className:"text-xs font-semibold text-orange-700 mb-2",children:"Example Format:"}),r.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium text-gray-700",children:"Ordered: Rare Tuna (500g)"}),r.jsx("div",{className:"text-gray-500",children:"1,200"})]}),r.jsx(mx,{className:"h-4 w-4 text-orange-500"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium text-green-700",children:"Alternate: Fresh Salmon (500g)"}),r.jsx("div",{className:"text-gray-500",children:"1,000"})]})]})]})]})]})}),t&&r.jsx("div",{className:"p-4 bg-purple-50 border-2 border-purple-200 rounded-lg",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Tr,{className:"h-5 w-5 text-purple-600 mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold text-purple-900 mb-2 flex items-center gap-2",children:"Exotic Products in Order"}),r.jsxs("div",{className:"space-y-2 text-sm text-purple-800",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx("span",{className:"font-medium min-w-[120px]",children:"Delivery Time:"}),r.jsx("span",{children:"Requires 2-7 days for delivery"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("span",{className:"font-medium min-w-[120px]",children:"Reason:"}),r.jsx("span",{children:"Imported delicacies require quality checks and import procedures"})]})]})]})]})})]})}const LIe=[{id:"prod_001",nameEn:"Seer Fish (Vanjaram)",nameTa:"",sku:"FISH-SEER-001",category:"fish",description:"Fresh Seer Fish, premium quality",images:[],variants:[{id:"var_001",type:"Curry Cut",size:"Medium",grossWeight:"1kg",netWeight:"900g",pieces:"8-10 pieces",serves:"Serves 3-4",price:450,stock:25,discount:0},{id:"var_002",type:"Steaks",size:"Large",grossWeight:"1kg",netWeight:"950g",pieces:"4-5 pieces",serves:"Serves 3-4",price:480,stock:15,discount:5}],isBestSeller:!0,isRare:!1,isActive:!0,deliveryType:"same_day",sourceType:"hub",approvalStatus:"approved",moduleType:"hub",hubId:"hub_1"},{id:"prod_002",nameEn:"King Fish (Surmai)",nameTa:"",sku:"FISH-KING-001",category:"fish",description:"Premium King Fish, limited availability",images:[],variants:[{id:"var_003",type:"Whole Fish",size:"Large",grossWeight:"2kg",netWeight:"1.8kg",pieces:"1 piece",serves:"Serves 6-8",price:800,stock:5,discount:0},{id:"var_004",type:"Steaks",size:"Medium",grossWeight:"1kg",netWeight:"950g",pieces:"6-8 pieces",serves:"Serves 4-5",price:650,stock:3,discount:0}],isBestSeller:!1,isRare:!0,isActive:!0,deliveryType:"next_day",sourceType:"hub",approvalStatus:"approved",moduleType:"hub",hubId:"hub_1"},{id:"prod_003",nameEn:"Norwegian Salmon",nameTa:" ",sku:"FISH-SALMON-001",category:"fish",description:"Imported Norwegian Salmon, premium exotic delicacy",images:[],variants:[{id:"var_005",type:"Fillet",size:"Premium",grossWeight:"500g",netWeight:"480g",pieces:"2 fillets",serves:"Serves 2-3",price:1200,stock:8,discount:0},{id:"var_006",type:"Steaks",size:"Premium",grossWeight:"500g",netWeight:"480g",pieces:"4-5 steaks",serves:"Serves 2-3",price:1100,stock:6,discount:0}],isBestSeller:!1,isRare:!1,isActive:!0,deliveryType:"exotic",sourceType:"hub",approvalStatus:"approved",moduleType:"hub",hubId:"hub_1"},{id:"prod_004",nameEn:"Red Snapper",nameTa:" ",sku:"FISH-SNAPPER-001",category:"fish",description:"Fresh Red Snapper, rare catch",images:[],variants:[{id:"var_007",type:"Whole Fish",size:"Medium",grossWeight:"1.5kg",netWeight:"1.3kg",pieces:"1 piece",serves:"Serves 4-5",price:750,stock:2,discount:0}],isBestSeller:!1,isRare:!0,isActive:!0,deliveryType:"next_day",sourceType:"hub",approvalStatus:"approved",moduleType:"hub",hubId:"hub_1"},{id:"prod_005",nameEn:"Pomfret",nameTa:"",sku:"FISH-POMFRET-001",category:"fish",description:"Fresh Pomfret, excellent alternative",images:[],variants:[{id:"var_008",type:"Whole Fish",size:"Medium",grossWeight:"1kg",netWeight:"900g",pieces:"2-3 pieces",serves:"Serves 3-4",price:400,stock:20,discount:0},{id:"var_009",type:"Curry Cut",size:"Medium",grossWeight:"1kg",netWeight:"900g",pieces:"8-10 pieces",serves:"Serves 3-4",price:420,stock:18,discount:0}],isBestSeller:!0,isRare:!1,isActive:!0,deliveryType:"same_day",sourceType:"hub",approvalStatus:"approved",moduleType:"hub",hubId:"hub_1"},{id:"prod_006",nameEn:"Tuna Steaks",nameTa:" ",sku:"FISH-TUNA-001",category:"fish",description:"Premium Tuna Steaks, imported delicacy",images:[],variants:[{id:"var_010",type:"Steaks",size:"Premium",grossWeight:"500g",netWeight:"480g",pieces:"3-4 steaks",serves:"Serves 2-3",price:950,stock:4,discount:0}],isBestSeller:!1,isRare:!1,isActive:!0,deliveryType:"exotic",sourceType:"hub",approvalStatus:"approved",moduleType:"hub",hubId:"hub_1"},{id:"prod_007",nameEn:"Chicken Curry Cut",nameTa:"  ",sku:"CHICKEN-CURRY-001",category:"chicken",description:"Fresh chicken curry cut",images:[],variants:[{id:"var_011",type:"Curry Cut",size:"1kg",grossWeight:"1kg",netWeight:"950g",pieces:"12-15 pieces",serves:"Serves 4-5",price:280,stock:50,discount:0}],isBestSeller:!0,isRare:!1,isActive:!0,deliveryType:"same_day",sourceType:"store",approvalStatus:"approved",moduleType:"store",storeId:"store_1"}],IIe=[{id:"hub_1",name:"Chennai Central Hub",type:"hub",location:"T. Nagar, Chennai"},{id:"store_1",name:"Velachery Store",type:"store",location:"Velachery, Chennai"},{id:"store_2",name:"Anna Nagar Store",type:"store",location:"Anna Nagar, Chennai"}],BIe=Sa({customerName:Ct().min(2,"Name must be at least 2 characters"),customerPhone:Ct().regex(/^\+91[6-9]\d{9}$/,"Invalid phone number format"),customerSecondaryPhone:Ct().regex(/^\+91[6-9]\d{9}$/,"Invalid secondary phone number format").optional().or(kw("")),customerEmail:Ct().email("Invalid email").optional().or(kw("")),addressLine1:Ct().min(5,"Address line 1 is required"),addressLine2:Ct().optional(),city:Ct().min(2,"City is required"),state:Ct().min(2,"State is required"),pincode:Ct().regex(/^\d{6}$/,"Pincode must be 6 digits"),addressType:_a(["home","work","other"]),latitude:ks().optional(),longitude:ks().optional(),items:$u(Sa({productId:Ct().min(1,"Product is required"),variantId:Ct().min(1,"Variant is required"),quantity:ks().min(1,"Quantity must be at least 1"),price:ks().min(0,"Price must be positive"),alternateProductId:Ct().optional(),alternateVariantId:Ct().optional()})).min(1,"At least one item is required"),hubId:Ct().min(1,"Hub/Store selection is required"),deliverySlot:Ct().min(1,"Delivery slot is required"),paymentMethod:_a(["cod","online","wallet"]),paymentStatus:_a(["pending","paid","partial"]),advanceAmount:ks().min(0,"Advance amount must be positive").optional(),discountType:_a(["percentage","amount"]).optional(),discountValue:ks().min(0,"Discount value must be positive").optional(),orderSource:_a(["whatsapp","instagram","facebook","manual"]),applySurgeCharges:Hh().optional(),specialInstructions:Ct().optional()});function Gp({moduleType:e,products:t=LIe,hubs:s=IIe,onSubmit:a}){const[n,i]=A.useState(!1),[l,o]=A.useState(""),[c,d]=A.useState(null),[h,m]=A.useState(""),[p,x]=A.useState(!1),[v,y]=A.useState(null),[b,j]=A.useState(!1),[S,w]=A.useState(!1),[k,_]=A.useState(null),O=30,E=50,{register:F,control:I,handleSubmit:U,watch:M,setValue:L,formState:{errors:J},reset:K}=Ax({resolver:Tx(BIe),defaultValues:{addressType:"home",paymentMethod:"cod",paymentStatus:"pending",discountType:"percentage",discountValue:0,orderSource:"manual",applySurgeCharges:!1,items:[]}}),{fields:ae,append:V,remove:re,update:X}=iP({control:I,name:"items"}),Z=M("items"),ye=M("applySurgeCharges"),te=M("addressType"),D=M("paymentStatus"),H=M("advanceAmount"),q=M("discountType"),W=M("discountValue"),G=Z?.reduce((_e,ne)=>_e+ne.price*ne.quantity,0)||0,fe=p?G*.05:0,Se=q==="percentage"?G*(W||0)/100:W||0,se=fe+Se,ge=ye?O:0,Be=p&&G>=349?0:E,ee=Math.max(0,G-se+ge+Be),at=Z?.some(_e=>t.find(Oe=>Oe.id===_e.productId)?.isRare)||!1,nt=Z?.some(_e=>t.find(Oe=>Oe.id===_e.productId)?.deliveryType==="exotic")||!1,xe=_e=>{if(o(_e),_e==="+919876543210"){const ne={id:"1",name:"Rajesh Kumar",email:"rajesh@email.com",phone:"+919876543210",secondaryPhone:"+919876543211",totalOrders:45,totalSpent:28500,walletBalance:250,membershipPlan:"Premium",isActive:!0,createdAt:"2023-06-15"};d(ne),x(!!ne.membershipPlan),L("customerName",ne.name),L("customerPhone",ne.phone),L("customerSecondaryPhone",ne.secondaryPhone||""),L("customerEmail",ne.email||"")}},ot=(_e,ne,Oe,Me)=>{const De=t.find(xt=>xt.id===_e),He=De?.variants.find(xt=>xt.id===ne);if(!De||!He)return;const mt=ae.findIndex(xt=>xt.productId===_e&&xt.variantId===ne);if(mt>=0){const xt=Z[mt];X(mt,{...xt,quantity:xt.quantity+1})}else V({productId:_e,variantId:ne,quantity:1,price:He.price,alternateProductId:Oe,alternateVariantId:Me})},ut=(_e,ne)=>{if(ne<=0)re(_e);else{const Oe=Z[_e];X(_e,{...Oe,quantity:ne})}},Re=async _e=>{if(_e.paymentStatus==="partial"&&(!_e.advanceAmount||_e.advanceAmount<=0)){alert("Advance amount is required for partial payment");return}if(_e.paymentStatus==="partial"&&_e.advanceAmount&&_e.advanceAmount>=ee){alert("Advance amount cannot be equal to or greater than total amount");return}i(!0);try{await a({..._e,total:ee,isEliteMember:p}),K(),d(null),x(!1),y(null),j(!1)}finally{i(!1)}},Ge=_e=>{y(_e),j(!1),L("addressLine1",_e.addressLine1),L("addressLine2",_e.addressLine2||""),L("city",_e.city),L("state",_e.state),L("pincode",_e.pincode),L("addressType","other")},qt=()=>{y(null),j(!0),L("addressLine1",""),L("addressLine2",""),L("city",""),L("state",""),L("pincode","")},we={hub:{title:"Hub Manual Order Creation",description:"Create manual orders for fish products with next-day delivery",color:"blue"},store:{title:"Store Manual Order Creation",description:"Create manual orders for all products with same-day/next-day delivery",color:"green"}}[e];return r.jsx(Lw,{isLoading:n,type:"page",text:"Creating order...",variant:"branded",children:r.jsxs("form",{onSubmit:U(Re),className:"space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-orange-100 via-yellow-100 to-orange-100 border-2 border-orange-300 rounded-xl p-4 text-center",children:[r.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[r.jsx(jl,{className:"h-6 w-6 text-orange-600"}),r.jsx("h2",{className:"text-xl font-bold text-orange-800",children:" Discount & Offers Available!"}),r.jsx(jl,{className:"h-6 w-6 text-orange-600"})]}),r.jsxs("p",{className:"text-orange-700 font-medium",children:["Apply percentage discounts or fixed amount offers to reduce order total.",r.jsx("span",{className:"font-bold",children:' Scroll down to "Apply Discount" section after adding customer details.'})]})]}),r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:`h-10 w-10 rounded-lg bg-${we.color}-600 flex items-center justify-center`,children:r.jsx(si,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Customer Information"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Search existing customer or add new customer details"})]})]}),r.jsx("div",{className:"mb-4",children:r.jsxs("div",{className:"relative",children:[r.jsx(Bi,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),r.jsx(de,{placeholder:"Search customer by phone number (+91XXXXXXXXXX)",value:l,onChange:_e=>xe(_e.target.value),className:"pl-10"})]})}),c&&r.jsx("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-10 w-10 rounded-full bg-green-600 flex items-center justify-center text-white font-semibold",children:c.name.charAt(0)}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-green-900",children:c.name}),r.jsxs("div",{className:"flex items-center gap-3 text-sm text-green-700",children:[r.jsx("span",{children:c.phone}),c.secondaryPhone&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-green-600",children:""}),r.jsxs("span",{children:[c.secondaryPhone," (Secondary)"]})]})]})]}),c.membershipPlan&&r.jsxs(Xe,{variant:"warning",className:"flex items-center gap-1",children:[r.jsx(qs,{className:"h-4 w-4"}),"Elite Member"]})]}),r.jsx(oe,{type:"button",variant:"ghost",size:"sm",onClick:()=>{d(null),x(!1),L("customerName",""),L("customerPhone",""),L("customerSecondaryPhone",""),L("customerEmail","")},children:r.jsx(Cs,{className:"h-5 w-5"})})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Full Name"}),r.jsxs("div",{className:"relative",children:[r.jsx(si,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),r.jsx(de,{...F("customerName"),placeholder:"Customer full name",error:J.customerName?.message,className:"pl-10"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Primary Phone Number"}),r.jsxs("div",{className:"relative",children:[r.jsx(Yc,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),r.jsx(de,{...F("customerPhone"),placeholder:"+91 9876543210",error:J.customerPhone?.message,className:"pl-10"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Secondary Phone Number",r.jsx("span",{className:"text-gray-500 font-normal",children:"(Optional)"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Yc,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),r.jsx(de,{...F("customerSecondaryPhone"),placeholder:"+91 9876543211",error:J.customerSecondaryPhone?.message,className:"pl-10"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Alternative contact number for delivery coordination"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Email (Optional)"}),r.jsxs("div",{className:"relative",children:[r.jsx(vm,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),r.jsx(de,{...F("customerEmail"),type:"email",placeholder:"customer@email.com",error:J.customerEmail?.message,className:"pl-10"})]})]})]}),p&&r.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 text-yellow-800 mb-2",children:[r.jsx(qs,{className:"h-5 w-5"}),r.jsx("span",{className:"font-semibold",children:"Elite Member Benefits Active"})]}),r.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1 mb-3",children:[r.jsx("li",{children:" Free delivery on orders above 349"}),r.jsx("li",{children:" 5% extra discount on selected products"}),r.jsx("li",{children:" No surge charges"}),r.jsx("li",{children:" Priority order processing"})]}),r.jsxs("div",{className:"text-xs text-yellow-600 bg-yellow-100 rounded p-2",children:[r.jsx("p",{className:"font-medium",children:"Contact Numbers on File:"}),r.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[r.jsxs("span",{children:["Primary: ",M("customerPhone")||"Not provided"]}),M("customerSecondaryPhone")&&r.jsxs("span",{children:["Secondary: ",M("customerSecondaryPhone")]})]})]})]})]}),r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:`h-10 w-10 rounded-lg bg-${we.color}-600 flex items-center justify-center`,children:r.jsx(Vs,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Delivery Address"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Enter complete delivery address details"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address Type"}),r.jsx("div",{className:"flex gap-4",children:[{value:"home",label:"Home"},{value:"work",label:"Work"},{value:"other",label:"Other"}].map(_e=>r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"radio",...F("addressType"),value:_e.value,className:"text-blue-600",onChange:ne=>{L("addressType",ne.target.value),ne.target.value!=="other"&&(y(null),j(!1))}}),r.jsx("span",{className:"text-sm text-gray-700",children:_e.label})]},_e.value))})]}),te==="other"&&r.jsx(DIe,{customer:c,selectedAddressId:v?.id,onAddressSelect:Ge,onAddNewAddress:qt}),(te!=="other"||b||!v)&&te&&r.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:te==="other"?"Manual Address Entry":"Address Details"}),te==="other"&&v&&r.jsx(oe,{type:"button",size:"sm",variant:"ghost",onClick:()=>j(!1),className:"text-blue-600 hover:text-blue-700",children:"Use Saved Address"})]}),r.jsx(de,{label:"Address Line 1",...F("addressLine1"),placeholder:"House no, Building name, Street",error:J.addressLine1?.message}),r.jsx(de,{label:"Address Line 2 (Optional)",...F("addressLine2"),placeholder:"Landmark, Area"}),r.jsxs("div",{className:"p-4 bg-blue-50 border-2 border-blue-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Vs,{className:"h-5 w-5 text-blue-600"}),r.jsxs("div",{children:[r.jsx("h5",{className:"font-semibold text-blue-900",children:"Pin Map Location"}),r.jsx("p",{className:"text-xs text-blue-700",children:"Mark exact delivery location on map"})]})]}),r.jsx(oe,{type:"button",size:"sm",onClick:()=>w(!S),className:"bg-blue-600 hover:bg-blue-700",children:S?"Close Map":"Open Map"})]}),k&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-800 bg-white p-2 rounded border border-blue-300",children:[r.jsx(Vs,{className:"h-4 w-4"}),r.jsx("span",{className:"font-medium",children:"Location Pinned:"}),r.jsxs("span",{className:"text-xs",children:["Lat: ",k.lat.toFixed(6),", Lng: ",k.lng.toFixed(6)]})]}),S&&r.jsxs("div",{className:"mt-3 space-y-3",children:[r.jsx("div",{className:"bg-white border-2 border-blue-300 rounded-lg p-4 h-64 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Vs,{className:"h-12 w-12 text-blue-400 mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Click on map to pin location"}),r.jsxs("div",{className:"text-xs text-gray-500",children:[r.jsx("p",{children:"Map integration placeholder"}),r.jsx("p",{className:"mt-1",children:"Integrate Google Maps / Leaflet here"})]})]})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(oe,{type:"button",size:"sm",variant:"secondary",onClick:()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(_e=>{const ne={lat:_e.coords.latitude,lng:_e.coords.longitude};_(ne),L("latitude",ne.lat),L("longitude",ne.lng)})},className:"flex-1",children:"Use Current Location"}),k&&r.jsx(oe,{type:"button",size:"sm",variant:"ghost",onClick:()=>{_(null),L("latitude",void 0),L("longitude",void 0)},className:"text-red-600",children:"Clear Location"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(de,{label:"Pincode",...F("pincode"),placeholder:"600001",error:J.pincode?.message}),r.jsx(de,{label:"City",...F("city"),placeholder:"Chennai",error:J.city?.message}),r.jsx(de,{label:"State",...F("state"),placeholder:"Tamil Nadu",error:J.state?.message})]})]})]})]}),r.jsxs(he,{children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`h-10 w-10 rounded-lg bg-${we.color}-600 flex items-center justify-center`,children:r.jsx(Tt,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Order Items"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Add products to the order"})]})]})}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"relative mb-4",children:[r.jsx(Bi,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),r.jsx(de,{placeholder:"Search products...",value:h,onChange:_e=>m(_e.target.value),className:"pl-10"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-h-60 overflow-y-auto",children:t.filter(_e=>_e.nameEn.toLowerCase().includes(h.toLowerCase())||_e.nameTa.includes(h)||_e.sku.toLowerCase().includes(h.toLowerCase())).map(_e=>r.jsx("div",{children:_e.variants.map(ne=>r.jsx(EIe,{product:_e,variant:ne,onAddToOrder:ot,availableProducts:t,className:"mb-3"},`${_e.id}-${ne.id}`))},_e.id))})]}),ae.length>0&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h4",{className:"font-medium text-gray-900",children:["Selected Items (",ae.length,")"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[at&&r.jsxs(Xe,{variant:"danger",className:"flex items-center gap-1",children:[r.jsx(qs,{className:"h-3 w-3"}),"Has Rare Products"]}),nt&&r.jsxs(Xe,{variant:"purple",className:"flex items-center gap-1",children:[r.jsx(Tr,{className:"h-3 w-3"}),"Has Exotic Products"]})]})]}),ae.map((_e,ne)=>{const Oe=t.find(mt=>mt.id===_e.productId),Me=Oe?.variants.find(mt=>mt.id===_e.variantId),De=_e.alternateProductId?t.find(mt=>mt.id===_e.alternateProductId):void 0,He=De&&_e.alternateVariantId?De.variants.find(mt=>mt.id===_e.alternateVariantId):void 0;return!Oe||!Me?null:r.jsx(OIe,{item:Z[ne],product:Oe,variant:Me,alternateProduct:De,alternateVariant:He,index:ne,onUpdateQuantity:ut,onRemoveItem:re},_e.id)})]}),J.items&&r.jsx("p",{className:"text-sm text-red-600 mt-2",children:J.items.message})]}),r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:`h-10 w-10 rounded-lg bg-${we.color}-600 flex items-center justify-center`,children:r.jsx(Mr,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Delivery Information"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Configure delivery and payment details"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(Ut,{label:e==="hub"?"Hub":"Store",...F("hubId"),error:J.hubId?.message,options:[{value:"",label:`Select ${e==="hub"?"Hub":"Store"}`},...s.map(_e=>({value:_e.id,label:`${_e.name} (${_e.location})`}))]}),r.jsx("div",{children:r.jsx(PIe,{hasExoticProducts:nt,hasRareProducts:at,selectedSlot:M("deliverySlot")||"",onSlotChange:_e=>L("deliverySlot",_e),error:J.deliverySlot?.message})}),r.jsx(Ut,{label:"Payment Method",...F("paymentMethod"),error:J.paymentMethod?.message,options:[{value:"cod",label:"Cash on Delivery"},{value:"online",label:"Online Payment"},{value:"wallet",label:"Wallet Payment"}]}),r.jsx(Ut,{label:"Order Source",...F("orderSource"),error:J.orderSource?.message,options:[{value:"manual",label:"Manual Entry"},{value:"whatsapp",label:"WhatsApp"},{value:"instagram",label:"Instagram"},{value:"facebook",label:"Facebook"}]})]}),r.jsx("div",{className:"mt-6",children:r.jsx(RIe,{paymentStatus:D||"pending",paymentMethod:M("paymentMethod")||"cod",advanceAmount:H||0,totalAmount:ee,onPaymentStatusChange:_e=>L("paymentStatus",_e),onAdvanceAmountChange:_e=>L("advanceAmount",_e),error:J.paymentStatus?.message,advanceError:J.advanceAmount?.message})}),r.jsxs("div",{className:"mt-4",children:[r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",...F("applySurgeCharges"),className:"rounded text-blue-600"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Apply Surge Charges"}),r.jsx(Ts,{className:"h-5 w-5 text-orange-500"})]}),r.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Apply surge charges for rain/peak day delivery"}),ye&&r.jsx("div",{className:"mt-2 p-3 bg-orange-50 border border-orange-200 rounded-lg",children:r.jsxs("p",{className:"text-sm text-orange-800",children:["Surge charges: ",bt(O)," (Rain/Peak day delivery)"]})})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Instructions (Optional)"}),r.jsx("textarea",{...F("specialInstructions"),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Any special delivery instructions..."})]})]}),r.jsxs(he,{className:"border-2 border-dashed border-orange-300 bg-gradient-to-r from-orange-50 to-yellow-50",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-r from-orange-500 to-yellow-500 flex items-center justify-center shadow-lg",children:r.jsx(jl,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-orange-900",children:" Apply Discount / Offer"}),r.jsx("p",{className:"text-sm text-orange-700",children:"Enter discount percentage or fixed amount to reduce order total"})]}),r.jsx(Xe,{variant:"warning",className:"ml-auto",children:"Optional"})]}),r.jsxs("div",{className:"bg-white rounded-lg p-6 border border-orange-200",children:[r.jsx(MIe,{discountType:q||"percentage",discountValue:W||0,subtotal:G||0,onDiscountTypeChange:_e=>L("discountType",_e),onDiscountValueChange:_e=>L("discountValue",_e),error:J.discountValue?.message}),G===0&&r.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:r.jsxs("p",{className:"text-sm text-blue-700 flex items-center gap-2",children:[r.jsx(Tt,{className:"h-4 w-4"}),"Add products to see discount calculations"]})})]})]}),ae.length>0&&r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:`h-10 w-10 rounded-lg bg-${we.color}-600 flex items-center justify-center`,children:r.jsx(gi,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Order Summary"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Review order details and pricing"})]})]}),Se>0&&r.jsx("div",{className:"mb-4 p-4 bg-gradient-to-r from-green-50 to-blue-50 border border-green-200 rounded-lg",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(jl,{className:"h-5 w-5 text-green-600"}),r.jsxs("span",{className:"font-semibold text-green-800",children:["Discount Applied: ",q==="percentage"?`${W||0}%`:bt(W||0)]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-lg font-bold text-green-600",children:["-",bt(Se)]}),r.jsx("p",{className:"text-xs text-green-700",children:"Total Savings"})]})]})}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600",children:["Subtotal (",ae.length," items)"]}),r.jsx("span",{className:"font-medium",children:bt(G)})]}),Se>0&&r.jsxs("div",{className:"flex justify-between text-green-600 bg-green-50 px-3 py-2 rounded",children:[r.jsxs("span",{className:"flex items-center gap-1 font-medium",children:[r.jsx(jl,{className:"h-4 w-4"}),"Manual Discount (",q==="percentage"?`${W}%`:"Fixed Amount",")"]}),r.jsxs("span",{className:"font-semibold",children:["-",bt(Se)]})]}),p&&fe>0&&r.jsxs("div",{className:"flex justify-between text-green-600",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(qs,{className:"h-5 w-5"}),"Elite Discount (5%)"]}),r.jsxs("span",{children:["-",bt(fe)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Delivery Charges"}),r.jsx("span",{className:Be===0?"text-green-600":"",children:Be===0?"FREE":bt(Be)})]}),ge>0&&r.jsxs("div",{className:"flex justify-between text-orange-600",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(W0,{className:"h-5 w-5"}),"Surge Charges"]}),r.jsxs("span",{children:["+",bt(ge)]})]}),r.jsx("div",{className:"border-t pt-3",children:r.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[r.jsx("span",{children:"Total Amount"}),r.jsx("span",{className:"text-green-600",children:bt(ee)})]})}),(p||Se>0)&&r.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:r.jsxs("p",{className:"text-sm text-green-800 font-medium",children:["Total Savings: ",bt(se+(E-Be)),Se>0&&r.jsxs("span",{className:"block text-xs mt-1",children:["Manual Discount: ",bt(Se),p&&`  Elite Discount: ${bt(fe)}`]})]})})]}),r.jsx(FIe,{hasRareProducts:at,hasExoticProducts:nt})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx(oe,{type:"button",variant:"secondary",onClick:()=>{K(),d(null),x(!1),y(null),j(!1)},className:"flex-1",children:"Cancel"}),r.jsx(oe,{type:"submit",disabled:ae.length===0||n,className:"flex-1",children:n?"Creating Order...":"Create Order"})]})]})})}const QB=[{value:"monday",label:"Mon",fullName:"Monday"},{value:"tuesday",label:"Tue",fullName:"Tuesday"},{value:"wednesday",label:"Wed",fullName:"Wednesday"},{value:"thursday",label:"Thu",fullName:"Thursday"},{value:"friday",label:"Fri",fullName:"Friday"},{value:"saturday",label:"Sat",fullName:"Saturday"},{value:"sunday",label:"Sun",fullName:"Sunday"}],UIe=[{value:"weekly",label:"Weekly",description:"Every week on selected days"},{value:"biweekly",label:"Bi-weekly",description:"Every 2 weeks on selected days"},{value:"monthly",label:"Monthly",description:"Every month on selected days"}];function zIe({onRecurrenceChange:e,subtotal:t,className:s=""}){const[a,n]=A.useState(!1),[i,l]=A.useState(""),[o,c]=A.useState(""),[d,h]=A.useState([]),[m,p]=A.useState(1),[x,v]=A.useState("weekly"),[y,b]=A.useState("percentage"),[j,S]=A.useState(0),k=(()=>{if(!a||!i||!o||d.length===0)return 0;const L=new Date(i),J=new Date(o),K=Math.abs(J.getTime()-L.getTime()),ae=Math.ceil(K/(1e3*60*60*24));let V=1;switch(x){case"weekly":V=Math.floor(ae/7)+1;break;case"biweekly":V=Math.floor(ae/14)+1;break;case"monthly":V=Math.floor(ae/30)+1;break}return Math.min(V*d.length,m)})(),_=y==="percentage"?t*j/100:j,E=Math.max(0,t-_)*k;A.useEffect(()=>{e({isRecurring:a,startDate:i,endDate:o,selectedDays:d,numberOfTimes:m,frequency:x,discountType:y,discountValue:j,totalOccurrences:k,estimatedTotal:E})},[a,i,o,d,m,x,y,j,k,E]);const F=L=>{h(J=>J.includes(L)?J.filter(K=>K!==L):[...J,L])},I=new Date().toISOString().split("T")[0],U=new Date;U.setFullYear(U.getFullYear()+1);const M=U.toISOString().split("T")[0];return r.jsxs("div",{className:`space-y-6 ${s}`,children:[r.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg border border-purple-200",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-10 w-10 rounded-full bg-purple-600 flex items-center justify-center",children:r.jsx(oD,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-purple-900",children:" Recurring Order Setup"}),r.jsx("p",{className:"text-sm text-purple-700",children:"Create recurring orders with automatic scheduling"})]})]}),r.jsx("div",{className:"ml-auto",children:r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:a,onChange:L=>n(L.target.checked),className:"w-5 h-5 text-purple-600 rounded focus:ring-purple-500"}),r.jsx("span",{className:"text-sm font-medium text-purple-800",children:"Enable Recurring Orders"})]})})]}),a&&r.jsx(he,{className:"border-2 border-purple-200 bg-gradient-to-br from-purple-50 to-blue-50",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(Jr,{className:"h-5 w-5 text-purple-600"}),r.jsx("h4",{className:"text-lg font-semibold text-purple-900",children:" Date Range"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),r.jsx(de,{type:"date",value:i,onChange:L=>l(L.target.value),min:I,max:M,className:"border-purple-300 focus:border-purple-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"}),r.jsx(de,{type:"date",value:o,onChange:L=>c(L.target.value),min:i||I,max:M,className:"border-purple-300 focus:border-purple-500"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(Tr,{className:"h-5 w-5 text-purple-600"}),r.jsx("h4",{className:"text-lg font-semibold text-purple-900",children:" Days of the Week"})]}),r.jsx("div",{className:"grid grid-cols-7 gap-2",children:QB.map(L=>r.jsx("button",{type:"button",onClick:()=>F(L.value),className:`p-3 text-sm font-medium rounded-lg border-2 transition-all ${d.includes(L.value)?"bg-purple-600 text-white border-purple-600 shadow-lg scale-105":"bg-white text-gray-700 border-gray-300 hover:border-purple-300 hover:bg-purple-50"}`,children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"font-bold",children:L.label}),r.jsx("div",{className:"text-xs opacity-80",children:L.fullName.slice(0,3)})]})},L.value))}),d.length>0&&r.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:r.jsxs("p",{className:"text-sm text-purple-800",children:[r.jsx("strong",{children:"Selected Days:"})," ",d.map(L=>QB.find(J=>J.value===L)?.fullName).join(", ")]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(oD,{className:"h-4 w-4 inline mr-1"}),"Frequency"]}),r.jsx(Ut,{value:x,onChange:L=>v(L.target.value),className:"border-purple-300 focus:border-purple-500",options:[{value:"",label:"Select Frequency"},...UIe.map(L=>({value:L.value,label:`${L.label} - ${L.description}`}))]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(W0,{className:"h-4 w-4 inline mr-1"}),"Maximum Number of Times"]}),r.jsx(de,{type:"number",min:"1",max:"100",value:m,onChange:L=>p(parseInt(L.target.value)||1),placeholder:"Enter max occurrences",className:"border-purple-300 focus:border-purple-500"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Maximum number of recurring orders (1-100)"})]})]}),r.jsxs("div",{className:"space-y-4 p-4 bg-gradient-to-r from-green-50 to-blue-50 rounded-lg border border-green-200",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(jl,{className:"h-5 w-5 text-green-600"}),r.jsx("h4",{className:"text-lg font-semibold text-green-900",children:" Recurring Order Discount"}),r.jsx(Xe,{variant:"success",children:"Special Offer"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("button",{type:"button",onClick:()=>b("percentage"),className:`p-4 rounded-lg border-2 transition-all ${y==="percentage"?"bg-blue-600 text-white border-blue-600 shadow-lg":"bg-white text-gray-700 border-gray-300 hover:border-blue-300"}`,children:[r.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[r.jsx(dg,{className:"h-5 w-5"}),r.jsx("span",{className:"font-semibold",children:"Percentage Discount"})]}),r.jsx("p",{className:"text-sm opacity-90",children:"Apply % discount on each order"})]}),r.jsxs("button",{type:"button",onClick:()=>b("amount"),className:`p-4 rounded-lg border-2 transition-all ${y==="amount"?"bg-green-600 text-white border-green-600 shadow-lg":"bg-white text-gray-700 border-gray-300 hover:border-green-300"}`,children:[r.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[r.jsx(Wh,{className:"h-5 w-5"}),r.jsx("span",{className:"font-semibold",children:"Fixed Amount"})]}),r.jsx("p",{className:"text-sm opacity-90",children:"Fixed discount per order"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Discount ",y==="percentage"?"Percentage":"Amount"]}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:`absolute left-3 top-1/2 -translate-y-1/2 ${y==="percentage"?"text-blue-600":"text-green-600"}`,children:y==="percentage"?r.jsx(dg,{className:"h-5 w-5"}):r.jsx(Wh,{className:"h-5 w-5"})}),r.jsx(de,{type:"number",step:y==="percentage"?"0.1":"0.01",min:"0",max:y==="percentage"?50:t,value:j||"",onChange:L=>S(parseFloat(L.target.value)||0),placeholder:y==="percentage"?"Enter %":"Enter ",className:"pl-10 border-green-300 focus:border-green-500"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:y==="percentage"?"Max: 50%":`Max: ${bt(t)}`})]}),y==="percentage"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quick Options"}),r.jsx("div",{className:"grid grid-cols-3 gap-2",children:[5,10,15].map(L=>r.jsxs("button",{type:"button",onClick:()=>S(L),className:`px-3 py-2 text-sm rounded transition-colors ${j===L?"bg-blue-600 text-white":"bg-blue-100 text-blue-700 hover:bg-blue-200"}`,children:[L,"%"]},L))})]})]}),_>0&&r.jsx("div",{className:"p-3 bg-green-100 border border-green-300 rounded-lg",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gh,{className:"h-4 w-4 text-green-600"}),r.jsxs("span",{className:"text-sm font-medium text-green-800",children:["Discount Applied: ",y==="percentage"?`${j}%`:bt(j)]})]}),r.jsxs(Xe,{variant:"success",children:["Saves ",bt(_)," per order"]})]})})]}),k>0&&r.jsxs("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(Dr,{className:"h-5 w-5 text-blue-600"}),r.jsx("h4",{className:"text-lg font-semibold text-blue-900",children:" Recurring Order Summary"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Selected Days:"}),r.jsxs("span",{className:"font-medium",children:[d.length," days/week"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Frequency:"}),r.jsx("span",{className:"font-medium capitalize",children:x})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Total Occurrences:"}),r.jsxs("span",{className:"font-medium text-blue-600",children:[k," orders"]})]})]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Per Order Amount:"}),r.jsx("span",{className:"font-medium",children:bt(t)})]}),_>0&&r.jsxs("div",{className:"flex justify-between text-green-600",children:[r.jsx("span",{children:"Discount per Order:"}),r.jsxs("span",{className:"font-medium",children:["-",bt(_)]})]}),r.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[r.jsx("span",{className:"text-gray-800",children:"Estimated Total:"}),r.jsx("span",{className:"text-purple-600",children:bt(E)})]})]})]}),_>0&&r.jsx("div",{className:"mt-3 p-2 bg-green-100 rounded text-center",children:r.jsxs("p",{className:"text-sm font-medium text-green-800",children:[" Total Savings: ",bt(_*k)]})})]}),a&&r.jsxs("div",{className:"space-y-2",children:[!i&&r.jsxs("div",{className:"flex items-center gap-2 text-amber-600 text-sm",children:[r.jsx(ya,{className:"h-4 w-4"}),r.jsx("span",{children:"Please select a start date"})]}),!o&&r.jsxs("div",{className:"flex items-center gap-2 text-amber-600 text-sm",children:[r.jsx(ya,{className:"h-4 w-4"}),r.jsx("span",{children:"Please select an end date"})]}),d.length===0&&r.jsxs("div",{className:"flex items-center gap-2 text-amber-600 text-sm",children:[r.jsx(ya,{className:"h-4 w-4"}),r.jsx("span",{children:"Please select at least one day of the week"})]}),k>0&&r.jsxs("div",{className:"flex items-center gap-2 text-green-600 text-sm",children:[r.jsx(Dr,{className:"h-4 w-4"}),r.jsx("span",{children:"Recurring order configuration is complete!"})]})]})]})})]})}const $Ie=Sa({customerName:Ct().min(2,"Name must be at least 2 characters"),customerPhone:Ct().regex(/^\+91[6-9]\d{9}$/,"Invalid phone number format"),customerEmail:Ct().email("Invalid email").optional().or(kw("")),addressLine1:Ct().min(5,"Address line 1 is required"),addressLine2:Ct().optional(),city:Ct().min(2,"City is required"),state:Ct().min(2,"State is required"),pincode:Ct().regex(/^\d{6}$/,"Pincode must be 6 digits"),addressType:_a(["home","work","other"]),preOrderType:_a(["advance_booking","rare_product","exotic_product","bulk_order","subscription"]),scheduledDate:Ct().min(1,"Scheduled delivery date is required"),scheduledSlot:Ct().min(1,"Delivery slot is required"),advancePayment:ks().min(0,"Advance payment must be positive"),items:$u(Sa({productId:Ct().min(1,"Product is required"),variantId:Ct().min(1,"Variant is required"),quantity:ks().min(1,"Quantity must be at least 1"),price:ks().min(0,"Price must be positive"),isRareProduct:Hh().optional(),isExoticProduct:Hh().optional()})).min(1,"At least one item is required"),hubId:Ct().min(1,"Hub/Store selection is required"),paymentMethod:_a(["advance_full","advance_partial","cod_on_delivery"]),orderSource:_a(["whatsapp","instagram","facebook","manual","subscription"]),packingCharges:ks().min(0,"Packing charges must be positive").optional(),deliveryCharges:ks().min(0,"Delivery charges must be positive").optional(),specialInstructions:Ct().optional(),occasionType:Ct().optional()}),eU=[{value:"advance_booking",label:"Advance Booking",description:"Book products in advance for future delivery",icon:Jr,color:"blue",minDays:1,maxDays:30},{value:"rare_product",label:"Rare Product Order",description:"Limited availability products - seasonal/premium",icon:qs,color:"amber",minDays:2,maxDays:7},{value:"exotic_product",label:"Exotic Product Order",description:"Imported delicacies - special handling required",icon:mm,color:"purple",minDays:3,maxDays:10},{value:"bulk_order",label:"Bulk Order",description:"Large quantity orders for events/parties",icon:Tt,color:"green",minDays:3,maxDays:14},{value:"subscription",label:"Subscription Order",description:"Recurring orders on scheduled basis",icon:W0,color:"orange",minDays:7,maxDays:90}],HIe=[{value:"",label:"No Special Occasion"},{value:"birthday",label:"Birthday Celebration"},{value:"anniversary",label:"Anniversary"},{value:"festival",label:"Festival (Pongal, Deepavali, etc.)"},{value:"wedding",label:"Wedding Function"},{value:"party",label:"House Party"},{value:"business",label:"Business Event"},{value:"other",label:"Other Special Occasion"}];function Kp({moduleType:e,products:t,hubs:s,onSubmit:a}){const[n,i]=A.useState(!1),[l,o]=A.useState(null),[c,d]=A.useState(!1),[h,m]=A.useState(""),[p,x]=A.useState(""),[v,y]=A.useState(""),[b,j]=A.useState(null),{register:S,control:w,handleSubmit:k,watch:_,setValue:O,formState:{errors:E},reset:F}=Ax({resolver:Tx($Ie),defaultValues:{addressType:"home",paymentMethod:"advance_partial",orderSource:"manual",advancePayment:0,preOrderType:"advance_booking"}}),{fields:I,append:U,remove:M}=iP({control:w,name:"items"}),L=_("items"),J=_("advancePayment"),K=ee=>{const at=eU.find(nt=>nt.value===ee);if(at){const nt=new Date,xe=new Date(nt.getTime()+at.minDays*24*60*60*1e3),ot=new Date(nt.getTime()+at.maxDays*24*60*60*1e3);x(xe.toISOString().split("T")[0]),y(ot.toISOString().split("T")[0])}},ae=L?.reduce((ee,at)=>ee+at.price*at.quantity,0)||0,V=c?ae*.05:0,re=b?.isRecurring?b.discountType==="percentage"?ae*b.discountValue/100:b.discountValue:0,X=V+re,Z=c&&ae>=349?0:50,ye=_("packingCharges")||0,te=_("deliveryCharges")||0,D=h==="bulk_order"?te:Z,H=Math.max(0,ae-X+D+(h==="bulk_order"?ye:0)),q=H-(J||0),W=ee=>{O("customerName",ee.name),O("customerPhone",ee.phone),O("customerEmail",ee.email),d(ee.isElite)},G=ee=>{m(ee),O("preOrderType",ee),K(ee)},fe=(ee,at)=>{const nt=ee.variants.find(xe=>xe.id===at);nt&&U({productId:ee.id,variantId:at,quantity:1,price:nt.price,isRareProduct:ee.isRare,isExoticProduct:ee.deliveryType==="exotic"})},Se=async ee=>{i(!0);try{const at={...ee,total:H,remainingAmount:q,isEliteMember:c,recurrenceData:b?.isRecurring?b:null};await a(at),F(),o(null),d(!1),m(""),j(null)}catch(at){console.error("Failed to create pre-order:",at)}finally{i(!1)}},se=e==="hub"?"blue":"green",ge=e==="hub"?"Hub Pre-Order":"Store Pre-Order",Be=(()=>{switch(h){case"rare_product":return t.filter(ee=>ee.isRare&&ee.deliveryType==="next_day");case"exotic_product":return t.filter(ee=>!ee.isRare&&ee.deliveryType==="exotic");default:return t}})();return r.jsx(Lw,{isLoading:n,type:"page",text:"Creating pre-order...",variant:"branded",children:r.jsxs("form",{onSubmit:k(Se),className:"space-y-6",children:[r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:`h-10 w-10 rounded-lg bg-${se}-600 flex items-center justify-center`,children:r.jsx(Jr,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Pre-Order Type"}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Select the type of advance booking for ",ge.toLowerCase()]})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:eU.map(ee=>{const at=ee.icon,nt=h===ee.value;return r.jsxs("div",{onClick:()=>G(ee.value),className:`p-4 border-2 rounded-lg cursor-pointer transition-all ${nt?`border-${ee.color}-500 bg-${ee.color}-50`:"border-gray-200 hover:border-gray-300"}`,children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:`h-8 w-8 rounded-lg bg-${ee.color}-600 flex items-center justify-center`,children:r.jsx(at,{className:"h-5 w-5 text-white"})}),r.jsx("h4",{className:"font-semibold text-gray-900",children:ee.label})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:ee.description}),r.jsxs("p",{className:"text-xs text-gray-500",children:[ee.minDays,"-",ee.maxDays," days advance notice"]})]},ee.value)})}),h&&r.jsxs("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 text-blue-800 mb-2",children:[r.jsx(ya,{className:"h-5 w-5"}),r.jsx("span",{className:"font-semibold",children:"Pre-Order Guidelines"})]}),r.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[h==="rare_product"&&r.jsxs(r.Fragment,{children:[r.jsx("li",{children:" Rare products require 48-72 hours advance notice"}),r.jsx("li",{children:" 50% advance payment required for confirmation"}),r.jsx("li",{children:" Subject to availability from suppliers"})]}),h==="bulk_order"&&r.jsxs(r.Fragment,{children:[r.jsx("li",{children:" Minimum order value: 2,000 for bulk orders"}),r.jsx("li",{children:" Special packaging and handling charges may apply"}),r.jsx("li",{children:" Delivery time slots may be extended for large orders"})]}),h==="advance_booking"&&r.jsxs(r.Fragment,{children:[r.jsx("li",{children:" Elite members can book up to 30 days in advance"}),r.jsx("li",{children:" Regular customers can book up to 7 days in advance"}),r.jsx("li",{children:" Prices locked at time of booking"})]}),h==="subscription"&&r.jsxs(r.Fragment,{children:[r.jsx("li",{children:" Recurring orders with flexible scheduling"}),r.jsx("li",{children:" 10% discount on subscription orders"}),r.jsx("li",{children:" Can pause or modify anytime"})]})]})]})]}),r.jsx(CIe,{onCustomerSelect:o,selectedCustomer:l,onCustomerDataChange:W}),r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:`h-10 w-10 rounded-lg bg-${se}-600 flex items-center justify-center`,children:r.jsx(si,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Customer Details"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Confirm customer information for pre-order"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Full Name"}),r.jsxs("div",{className:"relative",children:[r.jsx(si,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),r.jsx(de,{...S("customerName"),placeholder:"Customer full name",error:E.customerName?.message,className:"pl-10"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Phone Number"}),r.jsxs("div",{className:"relative",children:[r.jsx(Yc,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),r.jsx(de,{...S("customerPhone"),placeholder:"+91 9876543210",error:E.customerPhone?.message,className:"pl-10"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Email (Optional)"}),r.jsxs("div",{className:"relative",children:[r.jsx(vm,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),r.jsx(de,{...S("customerEmail"),type:"email",placeholder:"customer@email.com",error:E.customerEmail?.message,className:"pl-10"})]})]}),c&&r.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 text-yellow-800",children:[r.jsx(qs,{className:"h-5 w-5"}),r.jsx("span",{className:"font-semibold",children:"Elite Member - Extended Pre-Order Benefits"})]}),r.jsxs("ul",{className:"mt-2 text-sm text-yellow-700 space-y-1",children:[r.jsx("li",{children:" Book up to 30 days in advance (vs 7 days for regular customers)"}),r.jsx("li",{children:" Priority slot allocation for pre-orders"}),r.jsx("li",{children:" 5% additional discount on pre-orders"}),r.jsx("li",{children:" Free delivery on pre-orders above 349"})]})]})]}),r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:`h-10 w-10 rounded-lg bg-${se}-600 flex items-center justify-center`,children:r.jsx(Vs,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Delivery Address"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Enter delivery address for the scheduled date"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(de,{label:"Address Line 1",...S("addressLine1"),placeholder:"House no, Building name, Street",error:E.addressLine1?.message}),r.jsx(de,{label:"Address Line 2 (Optional)",...S("addressLine2"),placeholder:"Landmark, Area"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(de,{label:"Pincode",...S("pincode"),placeholder:"600001",error:E.pincode?.message}),r.jsx(de,{label:"City",...S("city"),placeholder:"Chennai",error:E.city?.message}),r.jsx(de,{label:"State",...S("state"),placeholder:"Tamil Nadu",error:E.state?.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address Type"}),r.jsx("div",{className:"flex gap-4",children:[{value:"home",label:"Home"},{value:"work",label:"Work"},{value:"other",label:"Other"}].map(ee=>r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"radio",...S("addressType"),value:ee.value,className:"text-blue-600"}),r.jsx("span",{className:"text-sm text-gray-700",children:ee.label})]},ee.value))})]})]})]}),r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:`h-10 w-10 rounded-lg bg-${se}-600 flex items-center justify-center`,children:r.jsx(Tr,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Delivery Scheduling"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Select delivery date and time slot"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Scheduled Date"}),r.jsx(de,{type:"date",...S("scheduledDate"),min:p,max:v,error:E.scheduledDate?.message}),p&&r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Available from ",new Date(p).toLocaleDateString()," to ",new Date(v).toLocaleDateString()]})]}),r.jsx(Ut,{label:"Delivery Slot",...S("scheduledSlot"),error:E.scheduledSlot?.message,options:[{value:"",label:"Select Time Slot"},{value:"slot1",label:"Slot 1 (7:00 AM - 9:00 AM)"},{value:"slot2",label:"Slot 2 (10:00 AM - 12:00 PM)"},{value:"slot3",label:"Slot 3 (1:00 PM - 3:00 PM)"},{value:"slot4",label:"Slot 4 (4:00 PM - 6:00 PM)"},{value:"slot5",label:"Slot 5 (7:00 PM - 9:00 PM)"}]})]}),r.jsx(Ut,{label:"Occasion Type (Optional)",...S("occasionType"),options:HIe})]}),r.jsx(zIe,{onRecurrenceChange:j,subtotal:ae}),r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:`h-10 w-10 rounded-lg bg-${se}-600 flex items-center justify-center`,children:r.jsx(Tt,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e==="hub"?"Hub Selection":"Store Selection"}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Select ",e," for order processing and delivery"]})]})]}),r.jsx(Ut,{label:e==="hub"?"Select Hub":"Select Store",...S("hubId"),error:E.hubId?.message,options:[{value:"",label:`Choose ${e}...`},...s.map(ee=>({value:ee.id,label:`${ee.name} - ${ee.location}`}))]})]}),r.jsx(TIe,{products:Be,onProductAdd:fe,isEliteMember:c,moduleType:e}),I.length>0&&r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:`h-10 w-10 rounded-lg bg-${se}-600 flex items-center justify-center`,children:r.jsx(Tt,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Pre-Order Items"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Items scheduled for delivery"})]})]}),r.jsx("div",{className:"space-y-3",children:I.map((ee,at)=>{const nt=L[at];return r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("h5",{className:"font-medium text-gray-900",children:["Product ",at+1]}),nt?.isRareProduct&&r.jsxs(Xe,{variant:"warning",className:"bg-amber-100 text-amber-800",children:[r.jsx(qs,{className:"h-3 w-3 mr-1"}),"Rare"]}),nt?.isExoticProduct&&r.jsxs(Xe,{variant:"info",className:"bg-purple-100 text-purple-800",children:[r.jsx(iz,{className:"h-3 w-3 mr-1"}),"Exotic"]})]}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Quantity: ",nt?.quantity]}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Price: ",bt(nt?.price||0)," each"]})]}),r.jsx("div",{className:"text-right",children:r.jsx("p",{className:"font-semibold text-gray-900",children:bt((nt?.price||0)*(nt?.quantity||0))})}),r.jsx(oe,{type:"button",variant:"ghost",size:"sm",onClick:()=>M(at),className:"text-red-600 hover:text-red-700 ml-4",children:"Remove"})]},ee.id)})})]}),r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:`h-10 w-10 rounded-lg bg-${se}-600 flex items-center justify-center`,children:r.jsx(Gh,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Payment Configuration"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Configure advance payment and delivery options"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(Ut,{label:"Payment Method",...S("paymentMethod"),error:E.paymentMethod?.message,options:[{value:"advance_full",label:"Full Advance Payment"},{value:"advance_partial",label:"Partial Advance Payment"},{value:"cod_on_delivery",label:"Cash on Delivery"}]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Advance Payment Amount"}),r.jsx(de,{type:"number",...S("advancePayment",{valueAsNumber:!0}),placeholder:"0",error:E.advancePayment?.message}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Minimum 50% advance payment required for rare products"})]})]}),h==="bulk_order"&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Packing Charges"}),r.jsx(de,{type:"number",...S("packingCharges",{valueAsNumber:!0}),placeholder:"0",error:E.packingCharges?.message}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Special packaging charges for bulk orders"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Delivery Charges"}),r.jsx(de,{type:"number",...S("deliveryCharges",{valueAsNumber:!0}),placeholder:"0",error:E.deliveryCharges?.message}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Additional delivery charges for bulk quantity"})]})]}),r.jsx(Ut,{label:"Order Source",...S("orderSource"),error:E.orderSource?.message,options:[{value:"manual",label:"Manual Entry"},{value:"whatsapp",label:"WhatsApp"},{value:"instagram",label:"Instagram"},{value:"facebook",label:"Facebook"},{value:"subscription",label:"Subscription"}]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Instructions (Optional)"}),r.jsx("textarea",{...S("specialInstructions"),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Any special instructions for the pre-order..."})]})]}),I.length>0&&r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:`h-10 w-10 rounded-lg bg-${se}-600 flex items-center justify-center`,children:r.jsx(Dr,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Pre-Order Summary"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Review your pre-order details"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Order Details"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),r.jsx("span",{className:"font-medium",children:bt(ae)})]}),c&&V>0&&r.jsxs("div",{className:"flex justify-between text-green-600",children:[r.jsx("span",{children:"Elite Discount (5%):"}),r.jsxs("span",{children:["-",bt(V)]})]}),re>0&&r.jsxs("div",{className:"flex justify-between text-purple-600",children:[r.jsx("span",{children:"Recurring Order Discount:"}),r.jsxs("span",{children:["-",bt(re)]})]}),h==="bulk_order"&&ye>0&&r.jsxs("div",{className:"flex justify-between text-green-700",children:[r.jsx("span",{children:"Packing Charges:"}),r.jsxs("span",{children:["+",bt(ye)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Delivery Charges:"}),r.jsx("span",{className:D===0?"text-green-600":"",children:D===0?"FREE":bt(D)})]}),r.jsxs("div",{className:"flex justify-between text-lg font-semibold border-t pt-2",children:[r.jsx("span",{children:"Total Amount:"}),r.jsx("span",{className:"text-green-600",children:bt(H)})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Payment Breakdown"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Advance Payment:"}),r.jsx("span",{className:"font-medium text-blue-600",children:bt(J||0)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Remaining Amount:"}),r.jsx("span",{className:"font-medium text-orange-600",children:bt(q)})]}),r.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"Remaining amount will be collected on delivery"})]})]})]}),(c||b?.isRecurring)&&r.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 text-yellow-800 mb-2",children:[r.jsx(qs,{className:"h-5 w-5"}),r.jsx("span",{className:"font-semibold",children:c&&b?.isRecurring?"Elite Member + Recurring Order Benefits":c?"Elite Member Pre-Order Benefits":"Recurring Order Benefits"})]}),r.jsxs("div",{className:"text-sm text-yellow-700",children:[r.jsxs("p",{children:["Total Savings: ",bt(X+(50-D))]}),r.jsxs("p",{className:"text-xs mt-1",children:[c&&"Includes Elite member discount and free delivery",b?.isRecurring&&(c?" + recurring order discount":"Includes recurring order discount")]}),b?.isRecurring&&r.jsxs("p",{className:"text-xs mt-1 font-medium",children:[" This order will repeat ",b.totalOccurrences," times"]})]})]})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx(oe,{type:"button",variant:"secondary",onClick:()=>{F(),o(null),d(!1),m("")},className:"flex-1",children:"Cancel"}),r.jsx(oe,{type:"submit",disabled:I.length===0||!h||n,className:"flex-1",children:n?"Creating Pre-Order...":`Create ${ge}`})]})]})})}const qIe=Sa({amount:ks().min(.01,"Amount must be greater than 0"),paymentMethod:_a(["cash","card","upi","bank_transfer","cheque","online"]),paymentMode:_a(["full","partial","advance"]),transactionId:Ct().optional(),referenceNumber:Ct().optional(),notes:Ct().optional()}),VIe=[{value:"cash",label:"Cash",icon:Pw,color:"green"},{value:"card",label:"Card (Debit/Credit)",icon:gi,color:"blue"},{value:"upi",label:"UPI",icon:T0,color:"purple"},{value:"bank_transfer",label:"Bank Transfer",icon:Tm,color:"indigo"},{value:"cheque",label:"Cheque",icon:Rs,color:"gray"},{value:"online",label:"Online Payment",icon:gi,color:"blue"}],tU=[{value:"full",label:"Full Payment",description:"Complete payment for the order"},{value:"partial",label:"Partial Payment",description:"Part payment, balance pending"},{value:"advance",label:"Advance Payment",description:"Advance payment for pre-orders"}];function WIe({isOpen:e,onClose:t,order:s,onSubmit:a}){const[n,i]=A.useState(!1),[l,o]=A.useState(""),{register:c,handleSubmit:d,formState:{errors:h},watch:m,setValue:p,reset:x}=Ax({resolver:Tx(qIe),defaultValues:{paymentMode:"partial"}}),v=m("amount"),y=m("paymentMode"),b=s.totalAmount,j=s.paidAmount||0,S=b-j,w=S-(v||0),k=async E=>{i(!0);try{await a(E),x(),o(""),t()}catch(F){console.error("Failed to record payment:",F)}finally{i(!1)}},_=E=>{o(E),p("paymentMethod",E)},O=E=>{p("amount",E)};return r.jsx(ir,{isOpen:e,onClose:t,title:"Record Payment",size:"lg",children:r.jsxs("form",{onSubmit:d(k),className:"space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4 border-2 border-blue-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"h-10 w-10 rounded-lg bg-blue-600 flex items-center justify-center",children:r.jsx(V0,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{children:[r.jsxs("h3",{className:"font-semibold text-gray-900",children:["Order #",s.id]}),r.jsxs("p",{className:"text-sm text-gray-600",children:[s.customerName,"  ",s.customerPhone]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"text-center p-3 bg-white rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Amount"}),r.jsx("p",{className:"text-lg font-bold text-gray-900",children:bt(b)})]}),r.jsxs("div",{className:"text-center p-3 bg-white rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Paid Amount"}),r.jsx("p",{className:"text-lg font-bold text-green-600",children:bt(j)})]}),r.jsxs("div",{className:"text-center p-3 bg-white rounded-lg border-2 border-orange-400 shadow-md",children:[r.jsx("p",{className:"text-sm font-semibold text-orange-700",children:"Balance to Pay"}),r.jsx("p",{className:"text-2xl font-bold text-orange-600",children:bt(S)})]}),r.jsxs("div",{className:"text-center p-3 bg-white rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Payment Status"}),r.jsx(Xe,{variant:s.paymentStatus==="paid"?"success":s.paymentStatus==="partial"?"warning":"danger",children:s.paymentStatus==="partial"?"PARTIALLY PAID":s.paymentStatus.toUpperCase()})]})]})]}),s.paymentStatus==="partial"&&S>0&&r.jsx("div",{className:"bg-orange-50 border-l-4 border-orange-400 p-4 rounded-r-lg",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(ya,{className:"h-5 w-5 text-orange-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-orange-900",children:"Partial Payment Pending"}),r.jsxs("p",{className:"text-sm text-orange-700 mt-1",children:["Customer needs to pay ",r.jsx("span",{className:"font-bold",children:bt(S)})," to complete this order."]})]})]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Vh,{className:"h-5 w-5 text-blue-600"}),r.jsx("h3",{className:"font-semibold text-gray-900",children:"Payment Amount"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(de,{label:"Amount to Record",type:"number",step:"0.01",min:"0.01",max:S,...c("amount",{valueAsNumber:!0}),error:h.amount?.message,placeholder:"Enter amount received"}),r.jsxs("div",{className:"flex gap-2 mt-2",children:[r.jsxs("button",{type:"button",onClick:()=>O(S),className:"px-3 py-1 text-xs bg-green-100 text-green-700 rounded-full hover:bg-green-200 transition-colors",children:["Full (",bt(S),")"]}),r.jsxs("button",{type:"button",onClick:()=>O(S/2),className:"px-3 py-1 text-xs bg-blue-100 text-blue-700 rounded-full hover:bg-blue-200 transition-colors",children:["Half (",bt(S/2),")"]})]})]}),r.jsxs("div",{children:[r.jsx(Ut,{label:"Payment Mode",...c("paymentMode"),error:h.paymentMode?.message,options:[{value:"",label:"Select payment mode"},...tU.map(E=>({value:E.value,label:E.label}))]}),y&&r.jsx("p",{className:"text-xs text-gray-600 mt-1",children:tU.find(E=>E.value===y)?.description})]})]}),v&&r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Payment Calculation"}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-blue-700",children:"Recording:"}),r.jsx("p",{className:"font-bold text-blue-900",children:bt(v)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-blue-700",children:"Remaining:"}),r.jsx("p",{className:"font-bold text-blue-900",children:bt(Math.max(0,w))})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-blue-700",children:"New Status:"}),r.jsx("p",{className:"font-bold text-blue-900",children:w<=0?"PAID":"PARTIALLY PAID"})]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(gi,{className:"h-5 w-5 text-blue-600"}),r.jsx("h3",{className:"font-semibold text-gray-900",children:"Payment Method"})]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:VIe.map(E=>{const F=E.icon,I=l===E.value;return r.jsxs("button",{type:"button",onClick:()=>_(E.value),className:`p-4 rounded-lg border-2 transition-all ${I?`border-${E.color}-500 bg-${E.color}-50`:"border-gray-200 hover:border-gray-300"}`,children:[r.jsx(F,{className:`h-6 w-6 mx-auto mb-2 ${I?`text-${E.color}-600`:"text-gray-400"}`}),r.jsx("p",{className:`text-sm font-medium ${I?`text-${E.color}-900`:"text-gray-700"}`,children:E.label})]},E.value)})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Additional Details"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(de,{label:"Transaction ID (Optional)",...c("transactionId"),placeholder:"Enter transaction ID"}),r.jsx(de,{label:"Reference Number (Optional)",...c("referenceNumber"),placeholder:"Enter reference number"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (Optional)"}),r.jsx("textarea",{...c("notes"),rows:3,className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Add any additional notes about this payment..."})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[r.jsx(oe,{type:"button",variant:"secondary",onClick:t,className:"flex-1",disabled:n,children:"Cancel"}),r.jsx(oe,{type:"submit",className:"flex-1",disabled:n||!v||!l,children:n?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Recording..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Dr,{className:"h-4 w-4 mr-2"}),"Record Payment"]})})]})]})})}const GIe={cash:Pw,card:gi,upi:T0,bank_transfer:Tm,cheque:Rs,online:gi},KIe={cash:"green",card:"blue",upi:"purple",bank_transfer:"indigo",cheque:"gray",online:"blue"},YIe={confirmed:Dr,pending_verification:Tr,failed:Mu,refunded:rn},XIe={confirmed:"success",pending_verification:"warning",failed:"danger",refunded:"info"};function ZIe({paymentRecords:e,className:t=""}){if(!e||e.length===0)return r.jsxs("div",{className:`text-center py-8 ${t}`,children:[r.jsx(gi,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Payment Records"}),r.jsx("p",{className:"text-gray-600",children:"No payments have been recorded for this order yet."})]});const s=e.filter(a=>a.status==="confirmed").reduce((a,n)=>a+n.amount,0);return r.jsxs("div",{className:`space-y-4 ${t}`,children:[r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-8 w-8 rounded-lg bg-green-600 flex items-center justify-center",children:r.jsx(Dr,{className:"h-4 w-4 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-green-900",children:"Total Payments Received"}),r.jsx("p",{className:"text-2xl font-bold text-green-900",children:bt(s)})]})]})}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Payment History"}),e.map((a,n)=>{const i=GIe[a.paymentMethod],l=YIe[a.status],o=KIe[a.paymentMethod];return r.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:`h-10 w-10 rounded-lg bg-${o}-100 flex items-center justify-center`,children:r.jsx(i,{className:`h-5 w-5 text-${o}-600`})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("h4",{className:"font-semibold text-gray-900",children:bt(a.amount)}),r.jsxs(Xe,{variant:XIe[a.status],className:"flex items-center gap-1",children:[r.jsx(l,{className:"h-3 w-3"}),a.status.replace("_"," ").toUpperCase()]}),r.jsx(Xe,{variant:"default",className:"capitalize",children:a.paymentMode})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"flex items-center gap-2",children:[r.jsx(i,{className:"h-4 w-4"}),r.jsx("span",{className:"capitalize",children:a.paymentMethod.replace("_"," ")})]}),a.transactionId&&r.jsxs("p",{className:"mt-1",children:[r.jsx("span",{className:"font-medium",children:"Transaction ID:"})," ",a.transactionId]}),a.referenceNumber&&r.jsxs("p",{className:"mt-1",children:[r.jsx("span",{className:"font-medium",children:"Reference:"})," ",a.referenceNumber]})]}),r.jsxs("div",{children:[r.jsxs("p",{className:"flex items-center gap-2",children:[r.jsx(si,{className:"h-4 w-4"}),r.jsxs("span",{children:["Received by: ",a.receivedBy]})]}),r.jsxs("p",{className:"flex items-center gap-2 mt-1",children:[r.jsx(Jr,{className:"h-4 w-4"}),r.jsx("span",{children:rf(a.receivedAt)})]})]})]}),a.notes&&r.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:r.jsxs("p",{className:"text-sm text-gray-700",children:[r.jsx("span",{className:"font-medium",children:"Notes:"})," ",a.notes]})})]})]}),r.jsx("div",{className:"text-right",children:r.jsxs("span",{className:"text-xs text-gray-500",children:["#",n+1]})})]})},a.id)})]})]})}const JIe=Sa({amount:ks().min(.01,"Refund amount must be greater than 0"),refundType:_a(["full","partial","item_return","cancellation","quality_issue"]),refundMethod:_a(["original_payment","cash","bank_transfer","wallet_credit","store_credit"]),reason:Ct().min(5,"Reason must be at least 5 characters"),itemsRefunded:$u(Sa({productId:Ct(),productName:Ct(),variant:Ct(),quantity:ks().min(1),refundAmount:ks().min(0)})).optional(),transactionId:Ct().optional(),referenceNumber:Ct().optional(),notes:Ct().optional()}),QIe=[{value:"full",label:"Full Refund",description:"Complete order refund",icon:rn,color:"red"},{value:"partial",label:"Partial Refund",description:"Partial amount refund",icon:Vh,color:"orange"},{value:"item_return",label:"Item Return",description:"Specific item return",icon:Tt,color:"blue"},{value:"cancellation",label:"Order Cancellation",description:"Order cancelled by customer",icon:Ts,color:"gray"},{value:"quality_issue",label:"Quality Issue",description:"Product quality problem",icon:Ts,color:"red"}],e9e=[{value:"original_payment",label:"Original Payment Method",icon:gi,color:"blue"},{value:"cash",label:"Cash Refund",icon:Pw,color:"green"},{value:"bank_transfer",label:"Bank Transfer",icon:Tm,color:"indigo"},{value:"wallet_credit",label:"Wallet Credit",icon:xx,color:"purple"},{value:"store_credit",label:"Store Credit",icon:Gh,color:"pink"}];function cZ({isOpen:e,onClose:t,order:s,onSubmit:a}){const[n,i]=A.useState(!1),[l,o]=A.useState(""),[c,d]=A.useState(""),{register:h,handleSubmit:m,formState:{errors:p},watch:x,setValue:v,control:y,reset:b}=Ax({resolver:Tx(JIe),defaultValues:{refundType:"partial",refundMethod:"original_payment",itemsRefunded:[]}}),{fields:j,append:S,remove:w}=iP({control:y,name:"itemsRefunded"}),k=x("amount"),_=x("refundType"),O=s.totalAmount,E=s.paidAmount||0,F=s.refundedAmount||0,I=E-F,U=O-F-(k||0),M=async re=>{i(!0);try{await a(re),b(),o(""),d(""),t()}catch(X){console.error("Failed to record refund:",X)}finally{i(!1)}},L=re=>{o(re),v("refundType",re),re==="full"&&v("amount",I)},J=re=>{d(re),v("refundMethod",re)},K=re=>{v("amount",re)},ae=re=>{S({productId:re.productId,productName:re.productName,variant:re.variant,quantity:1,refundAmount:re.price})},V=()=>j.reduce((re,X)=>re+(X.refundAmount||0),0);return r.jsx(ir,{isOpen:e,onClose:t,title:"Record Refund",size:"xl",children:r.jsxs("form",{onSubmit:m(M),className:"space-y-6",children:[r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"h-10 w-10 rounded-lg bg-red-600 flex items-center justify-center",children:r.jsx(rn,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{children:[r.jsxs("h3",{className:"font-semibold text-red-900",children:["Refund for Order #",s.id]}),r.jsxs("p",{className:"text-sm text-red-700",children:[s.customerName,"  ",s.customerPhone]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"text-center p-3 bg-white rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Amount"}),r.jsx("p",{className:"text-lg font-bold text-gray-900",children:bt(O)})]}),r.jsxs("div",{className:"text-center p-3 bg-white rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Paid Amount"}),r.jsx("p",{className:"text-lg font-bold text-green-600",children:bt(E)})]}),r.jsxs("div",{className:"text-center p-3 bg-white rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Already Refunded"}),r.jsx("p",{className:"text-lg font-bold text-red-600",children:bt(F)})]}),r.jsxs("div",{className:"text-center p-3 bg-white rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Max Refundable"}),r.jsx("p",{className:"text-lg font-bold text-orange-600",children:bt(I)})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Ts,{className:"h-5 w-5 text-red-600"}),r.jsx("h3",{className:"font-semibold text-gray-900",children:"Refund Type"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:QIe.map(re=>{const X=re.icon,Z=l===re.value;return r.jsxs("button",{type:"button",onClick:()=>L(re.value),className:`p-4 rounded-lg border-2 transition-all text-left ${Z?`border-${re.color}-500 bg-${re.color}-50`:"border-gray-200 hover:border-gray-300"}`,children:[r.jsx(X,{className:`h-6 w-6 mb-2 ${Z?`text-${re.color}-600`:"text-gray-400"}`}),r.jsx("p",{className:`font-medium text-sm ${Z?`text-${re.color}-900`:"text-gray-700"}`,children:re.label}),r.jsx("p",{className:`text-xs ${Z?`text-${re.color}-700`:"text-gray-500"}`,children:re.description})]},re.value)})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Vh,{className:"h-5 w-5 text-red-600"}),r.jsx("h3",{className:"font-semibold text-gray-900",children:"Refund Amount"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(de,{label:"Amount to Refund",type:"number",step:"0.01",min:"0.01",max:I,...h("amount",{valueAsNumber:!0}),error:p.amount?.message,placeholder:"Enter refund amount"}),r.jsxs("div",{className:"flex gap-2 mt-2",children:[r.jsxs("button",{type:"button",onClick:()=>K(I),className:"px-3 py-1 text-xs bg-red-100 text-red-700 rounded-full hover:bg-red-200 transition-colors",children:["Full (",bt(I),")"]}),r.jsxs("button",{type:"button",onClick:()=>K(I/2),className:"px-3 py-1 text-xs bg-orange-100 text-orange-700 rounded-full hover:bg-orange-200 transition-colors",children:["Half (",bt(I/2),")"]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Refund Reason"}),r.jsx("textarea",{...h("reason"),rows:3,className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Enter reason for refund..."}),p.reason&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.reason.message})]})]}),k&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-red-900 mb-2",children:"Refund Impact"}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-red-700",children:"Refunding:"}),r.jsx("p",{className:"font-bold text-red-900",children:bt(k)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-red-700",children:"Total Refunded:"}),r.jsx("p",{className:"font-bold text-red-900",children:bt(F+k)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-red-700",children:"Net Order Value:"}),r.jsx("p",{className:"font-bold text-red-900",children:bt(Math.max(0,U))})]})]})]})]}),_==="item_return"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Tt,{className:"h-5 w-5 text-red-600"}),r.jsx("h3",{className:"font-semibold text-gray-900",children:"Items to Refund"})]}),r.jsxs("div",{className:"text-sm text-gray-600",children:["Total: ",bt(V())]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Order Items"}),r.jsx("div",{className:"space-y-2",children:s.items.map((re,X)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:re.productName}),r.jsxs("p",{className:"text-sm text-gray-600",children:[re.variant,"  Qty: ",re.quantity,"  ",bt(re.price)," each"]})]}),r.jsxs("button",{type:"button",onClick:()=>ae(re),className:"px-3 py-1 text-sm bg-red-100 text-red-700 rounded hover:bg-red-200 transition-colors",children:[r.jsx(dr,{className:"h-4 w-4 inline mr-1"}),"Add to Refund"]})]},X))})]}),j.length>0&&r.jsxs("div",{className:"space-y-3",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Items Selected for Refund"}),j.map((re,X)=>r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium text-gray-900",children:re.productName}),r.jsx("p",{className:"text-sm text-gray-600",children:re.variant}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Quantity"}),r.jsx("input",{type:"number",min:"1",...h(`itemsRefunded.${X}.quantity`,{valueAsNumber:!0}),className:"w-full rounded border border-gray-300 px-2 py-1 text-sm"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Refund Amount"}),r.jsx("input",{type:"number",step:"0.01",min:"0",...h(`itemsRefunded.${X}.refundAmount`,{valueAsNumber:!0}),className:"w-full rounded border border-gray-300 px-2 py-1 text-sm"})]})]})]}),r.jsx("button",{type:"button",onClick:()=>w(X),className:"ml-3 p-1 text-red-600 hover:text-red-800",children:r.jsx(Xd,{className:"h-4 w-4"})})]})},re.id))]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(gi,{className:"h-5 w-5 text-red-600"}),r.jsx("h3",{className:"font-semibold text-gray-900",children:"Refund Method"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:e9e.map(re=>{const X=re.icon,Z=c===re.value;return r.jsxs("button",{type:"button",onClick:()=>J(re.value),className:`p-4 rounded-lg border-2 transition-all ${Z?`border-${re.color}-500 bg-${re.color}-50`:"border-gray-200 hover:border-gray-300"}`,children:[r.jsx(X,{className:`h-6 w-6 mx-auto mb-2 ${Z?`text-${re.color}-600`:"text-gray-400"}`}),r.jsx("p",{className:`text-sm font-medium ${Z?`text-${re.color}-900`:"text-gray-700"}`,children:re.label})]},re.value)})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Additional Details"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(de,{label:"Transaction ID (Optional)",...h("transactionId"),placeholder:"Enter transaction ID"}),r.jsx(de,{label:"Reference Number (Optional)",...h("referenceNumber"),placeholder:"Enter reference number"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Notes (Optional)"}),r.jsx("textarea",{...h("notes"),rows:3,className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Add any additional notes about this refund..."})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[r.jsx(oe,{type:"button",variant:"secondary",onClick:t,className:"flex-1",disabled:n,children:"Cancel"}),r.jsx(oe,{type:"submit",variant:"danger",className:"flex-1",disabled:n||!k||!l||!c,children:n?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(rn,{className:"h-4 w-4 mr-2"}),"Record Refund"]})})]})]})})}const t9e={full:"Full Refund",partial:"Partial Refund",item_return:"Item Return",cancellation:"Order Cancellation",quality_issue:"Quality Issue"},r9e={full:rn,partial:Vh,item_return:Tt,cancellation:Ts,quality_issue:ya},s9e={original_payment:"Original Payment Method",cash:"Cash Refund",bank_transfer:"Bank Transfer",wallet_credit:"Wallet Credit",store_credit:"Store Credit"},a9e={original_payment:gi,cash:Pw,bank_transfer:Tm,wallet_credit:xx,store_credit:Gh},n9e={pending:Tr,approved:Dr,processed:Dr,completed:Dr,rejected:Mu},i9e={pending:"orange",approved:"blue",processed:"green",completed:"green",rejected:"red"};function dZ({refundRecords:e,className:t=""}){if(!e||e.length===0)return r.jsxs("div",{className:`text-center py-6 ${t}`,children:[r.jsx(rn,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-500 text-sm",children:"No refund records found"})]});const s=e.reduce((a,n)=>a+n.amount,0);return r.jsxs("div",{className:`space-y-4 ${t}`,children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-8 w-8 rounded-lg bg-red-600 flex items-center justify-center",children:r.jsx(rn,{className:"h-4 w-4 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Refund History"}),r.jsxs("p",{className:"text-sm text-gray-600",children:[e.length," refund",e.length!==1?"s":"","  Total: ",bt(s)]})]})]})}),r.jsx("div",{className:"space-y-3",children:e.map(a=>{const n=r9e[a.refundType],i=a9e[a.refundMethod],l=n9e[a.status],o=i9e[a.status];return r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"h-10 w-10 rounded-lg bg-red-100 flex items-center justify-center",children:r.jsx(n,{className:"h-5 w-5 text-red-600"})}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:t9e[a.refundType]}),r.jsxs(Xe,{variant:o,className:"text-xs px-2 py-0.5 flex items-center",children:[r.jsx(l,{className:"h-3 w-3 mr-1"}),a.status.charAt(0).toUpperCase()+a.status.slice(1)]})]}),r.jsx("p",{className:"text-sm text-gray-600",children:a.reason})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-lg font-bold text-red-600",children:["-",bt(a.amount)]}),r.jsx("p",{className:"text-xs text-gray-500",children:rf(a.processedAt)})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(i,{className:"h-4 w-4 text-gray-500"}),r.jsx("span",{className:"text-sm text-gray-700",children:s9e[a.refundMethod]})]}),r.jsxs("div",{className:"text-sm text-gray-700",children:[r.jsx("span",{className:"font-medium",children:"Processed by:"})," ",a.processedBy]}),a.transactionId&&r.jsxs("div",{className:"text-sm text-gray-700",children:[r.jsx("span",{className:"font-medium",children:"Transaction ID:"})," ",a.transactionId]}),a.referenceNumber&&r.jsxs("div",{className:"text-sm text-gray-700",children:[r.jsx("span",{className:"font-medium",children:"Reference:"})," ",a.referenceNumber]})]}),a.itemsRefunded&&a.itemsRefunded.length>0&&r.jsxs("div",{className:"bg-white rounded-lg p-3 mb-3",children:[r.jsxs("h5",{className:"font-medium text-gray-900 mb-2 flex items-center gap-2",children:[r.jsx(Tt,{className:"h-4 w-4 text-gray-600"}),"Refunded Items"]}),r.jsx("div",{className:"space-y-2",children:a.itemsRefunded.map((c,d)=>r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-900",children:c.productName}),r.jsxs("span",{className:"text-gray-600 ml-2",children:["(",c.variant,")"]}),r.jsxs("span",{className:"text-gray-600 ml-2",children:[" ",c.quantity]})]}),r.jsxs("span",{className:"font-medium text-red-600",children:["-",bt(c.refundAmount)]})]},d))})]}),a.notes&&r.jsxs("div",{className:"bg-white rounded-lg p-3",children:[r.jsx("h5",{className:"font-medium text-gray-900 mb-1",children:"Notes"}),r.jsx("p",{className:"text-sm text-gray-700",children:a.notes})]}),a.approvedBy&&a.approvedAt&&r.jsx("div",{className:"mt-3 pt-3 border-t border-red-200",children:r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(Dr,{className:"h-4 w-4 text-green-600"}),r.jsxs("span",{children:["Approved by ",r.jsx("span",{className:"font-medium",children:a.approvedBy})," on"," ",rf(a.approvedAt)]})]})})]},a.id)})})]})}function l9e({isOpen:e,onClose:t,onSubmit:s,orderId:a}){const[n,i]=A.useState({service:"porter",personName:"",personPhone:"",vehicleNumber:"",trackingId:""});if(!e)return null;const l=o=>{o.preventDefault(),s(n),t()};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Mr,{className:"h-5 w-5 text-blue-600"}),r.jsx("h2",{className:"text-lg font-semibold",children:"Third-Party Delivery"})]}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:r.jsx(Cs,{className:"h-5 w-5"})})]}),r.jsxs("form",{onSubmit:l,className:"p-4 space-y-4",children:[r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:r.jsxs("p",{className:"text-sm text-blue-800",children:["Order: ",r.jsx("span",{className:"font-semibold",children:a})]})}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(Wl,{className:"h-4 w-4 inline mr-1"}),"Delivery Service"]}),r.jsxs("select",{value:n.service,onChange:o=>i({...n,service:o.target.value}),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[r.jsx("option",{value:"porter",children:"Porter"}),r.jsx("option",{value:"rapido",children:"Rapido"}),r.jsx("option",{value:"swiggy",children:"Swiggy"}),r.jsx("option",{value:"other",children:"Other"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(si,{className:"h-4 w-4 inline mr-1"}),"Delivery Person Name"]}),r.jsx("input",{type:"text",value:n.personName,onChange:o=>i({...n,personName:o.target.value}),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter person name",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(Yc,{className:"h-4 w-4 inline mr-1"}),"Phone Number"]}),r.jsx("input",{type:"tel",value:n.personPhone,onChange:o=>i({...n,personPhone:o.target.value}),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"+91 XXXXXXXXXX",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vehicle Number (Optional)"}),r.jsx("input",{type:"text",value:n.vehicleNumber,onChange:o=>i({...n,vehicleNumber:o.target.value}),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"KA01AB1234"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tracking ID (Optional)"}),r.jsx("input",{type:"text",value:n.trackingId,onChange:o=>i({...n,trackingId:o.target.value}),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter tracking ID"})]}),r.jsxs("div",{className:"flex gap-3 pt-2",children:[r.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Assign Delivery"})]})]})]})})}function o9e({isOpen:e,onClose:t,onSubmit:s,orderCount:a,agents:n}){const[i,l]=A.useState(""),[o,c]=A.useState(""),[d,h]=A.useState(null);if(A.useEffect(()=>{if(i){const v=n.find(y=>y.id===i);h(v?.agentType||null),c("")}else h(null),c("")},[i,n]),A.useEffect(()=>{e||(l(""),c(""),h(null))},[e]),!e)return null;const m=v=>{if(v.preventDefault(),d==="partner"&&(!o||o.trim()===""||parseFloat(o)<=0)){alert(` Please manually enter a valid delivery price per order for partner agent.

The price field cannot be empty or zero.`);return}s({agentId:i,pricePerOrder:d==="partner"?parseFloat(o):void 0}),l(""),c(""),h(null),t()},p=d==="partner"&&o?parseFloat(o)*a:0,x=n.find(v=>v.id===i);return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b bg-gradient-to-r from-blue-50 to-indigo-50",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-600 rounded-lg",children:r.jsx(Mr,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Batch Delivery Assignment"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Assign multiple orders to delivery partner"})]})]}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:r.jsx(Cs,{className:"h-6 w-6"})})]}),r.jsxs("form",{onSubmit:m,className:"p-6 space-y-5",children:[r.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-500 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ya,{className:"h-5 w-5 text-blue-600"}),r.jsxs("p",{className:"text-sm font-medium text-blue-900",children:[r.jsx("span",{className:"text-2xl font-bold",children:a})," orders selected for batch assignment"]})]})}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[r.jsx(si,{className:"h-4 w-4 inline mr-1"}),"Select Delivery Agent *"]}),r.jsxs("select",{value:i,onChange:v=>l(v.target.value),className:"w-full rounded-lg border-2 border-gray-300 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",required:!0,children:[r.jsx("option",{value:"",children:"Choose delivery agent..."}),n.map(v=>r.jsxs("option",{value:v.id,children:[v.name," - ",v.agentType==="employee"?" Employee":" Partner"]},v.id))]})]}),x&&r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[r.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-2",children:"SELECTED AGENT"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-900",children:x.name}),r.jsx("p",{className:"text-sm text-gray-600",children:x.agentType==="employee"?"Employee Agent":"Partner Agent"})]}),r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${x.agentType==="employee"?"bg-purple-100 text-purple-700":"bg-orange-100 text-orange-700"}`,children:x.agentType.toUpperCase()})]})]}),i&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-amber-50 border-2 border-orange-300 rounded-lg p-4",children:[r.jsxs("label",{className:"block text-sm font-bold text-orange-900 mb-3 flex items-center gap-2",children:[r.jsx(Wh,{className:"h-5 w-5"})," MANUAL PRICE ENTRY - Type Delivery Charge Per Order",d==="partner"&&r.jsx("span",{className:"text-red-600 text-lg",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 flex items-center gap-2",children:r.jsx("span",{className:"text-gray-700 font-bold text-xl",children:""})}),r.jsx("input",{type:"number",value:o,onChange:v=>c(v.target.value),className:"w-full rounded-lg border-3 border-orange-400 pl-12 pr-24 py-4 focus:outline-none focus:ring-4 focus:ring-orange-300 focus:border-orange-500 transition-all text-2xl font-bold text-gray-900 bg-white placeholder-gray-400",placeholder:"Type amount here...",min:"0",step:"0.01",required:d==="partner",disabled:d==="employee",autoFocus:d==="partner"}),r.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 text-sm font-medium",children:"per order"})]}),r.jsxs("div",{className:"mt-3 flex items-start gap-2",children:[r.jsx(ya,{className:"h-4 w-4 text-orange-600 flex-shrink-0 mt-0.5"}),d==="employee"?r.jsxs("p",{className:"text-sm text-gray-600",children:[r.jsx("strong",{children:"Employee Agent:"})," No delivery charge required. This field is disabled."]}):r.jsxs("div",{className:"text-sm text-orange-800",children:[r.jsx("p",{className:"font-bold mb-1",children:" IMPORTANT - Manual Entry Required:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[r.jsxs("li",{children:["You must ",r.jsx("strong",{children:"manually type"})," the delivery charge amount"]}),r.jsx("li",{children:"No auto-fill or pre-set prices"}),r.jsx("li",{children:"Enter the exact amount you want to pay per order"}),r.jsx("li",{children:'Example: Type "50" for 50.00 per order'})]})]})]}),d==="partner"&&!o&&r.jsx("div",{className:"mt-3 bg-yellow-50 border-2 border-yellow-300 rounded-lg p-3",children:r.jsx("p",{className:"text-sm text-yellow-800 font-semibold text-center",children:" Please type the delivery price in the field above"})})]}),d==="partner"&&o&&parseFloat(o)>0&&r.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-3 border-green-400 rounded-lg p-5 shadow-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("p",{className:"text-xs font-bold text-green-700 uppercase tracking-wide",children:"Live Calculation"}),r.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full animate-pulse"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center pb-3 border-b-2 border-green-200",children:[r.jsx("span",{className:"text-sm text-green-700",children:"Price per order:"}),r.jsxs("span",{className:"text-xl font-bold text-green-900",children:["",parseFloat(o).toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between items-center pb-3 border-b-2 border-green-200",children:[r.jsx("span",{className:"text-sm text-green-700",children:"Number of orders:"}),r.jsxs("span",{className:"text-xl font-bold text-green-900",children:[" ",a]})]}),r.jsx("div",{className:"bg-green-600 rounded-lg p-4 mt-3",children:r.jsxs("div",{className:"flex justify-between items-end",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-semibold text-green-100 mb-1",children:"TOTAL PAYMENT TO PARTNER"}),r.jsxs("p",{className:"text-4xl font-bold text-white",children:["",p.toFixed(2)]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-xs text-green-100",children:"Amount to be"}),r.jsx("p",{className:"text-xs text-green-100",children:"paid to partner"})]})]})}),r.jsx("div",{className:"bg-white rounded-lg p-3 border-2 border-green-200",children:r.jsxs("p",{className:"text-xs text-green-700 text-center",children:[" ",r.jsx("strong",{children:"Calculation:"})," ",a," orders  ",parseFloat(o).toFixed(2)," = ",p.toFixed(2)]})})]})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[r.jsx("button",{type:"button",onClick:t,className:"flex-1 px-6 py-3 border-2 border-gray-300 rounded-lg text-gray-700 font-semibold hover:bg-gray-50 transition-colors",children:"Cancel"}),r.jsxs("button",{type:"submit",disabled:!i,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:["Assign ",a," Orders"]})]})]})]})})}function uZ({currentAgentId:e,onAssign:t,className:s=""}){const[a,n]=A.useState([]),[i,l]=A.useState(e||""),[o,c]=A.useState(!1),[d,h]=A.useState("");A.useEffect(()=>{n([{id:"1",name:"Raj Kumar",phone:"9876543210",vehicleNo:"TN01AB1234",agentType:"employee",rating:4.5,deliveries:120,isActive:!0,status:"available"},{id:"2",name:"Suresh M",phone:"9876543211",vehicleNo:"TN02CD5678",agentType:"partner",rating:4.8,deliveries:85,isActive:!0,status:"available"},{id:"3",name:"Karthik S",phone:"9876543212",vehicleNo:"TN03EF9012",agentType:"employee",rating:4.2,deliveries:95,isActive:!0,status:"delivering"},{id:"4",name:"Vijay R",phone:"9876543213",vehicleNo:"TN04GH3456",agentType:"partner",rating:4.6,deliveries:110,isActive:!0,status:"available"},{id:"5",name:"Arun P",phone:"9876543214",vehicleNo:"TN05IJ7890",agentType:"employee",rating:4.3,deliveries:78,isActive:!0,status:"available"}])},[]);const m=async()=>{if(i){c(!0);try{await t(i)}finally{c(!1)}}},p=a.filter(v=>v.name.toLowerCase().includes(d.toLowerCase())||v.phone.includes(d)||v.vehicleNo.toLowerCase().includes(d.toLowerCase())),x=v=>{switch(v){case"available":return"bg-green-100 text-green-800";case"delivering":return"bg-yellow-100 text-yellow-800";case"offline":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return r.jsxs("div",{className:`bg-white border border-gray-200 rounded-lg p-6 ${s}`,children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(Mr,{className:"h-5 w-5 text-blue-600"}),"Assign Delivery Partner"]}),r.jsx("div",{className:"mb-4",children:r.jsx("input",{type:"text",placeholder:"Search by name, phone, or vehicle number...",value:d,onChange:v=>h(v.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})}),r.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto mb-4",children:p.length>0?p.map(v=>r.jsxs("div",{onClick:()=>l(v.id),className:`border rounded-lg p-4 cursor-pointer transition-all ${i===v.id?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 hover:border-blue-300 hover:bg-gray-50"}`,children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${i===v.id?"bg-blue-600":"bg-gray-200"}`,children:r.jsx(si,{className:`h-5 w-5 ${i===v.id?"text-white":"text-gray-600"}`})}),r.jsxs("div",{children:[r.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[v.name,i===v.id&&r.jsx(Dr,{className:"h-4 w-4 text-blue-600"})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ${v.agentType==="employee"?"bg-purple-100 text-purple-700":"bg-orange-100 text-orange-700"}`,children:v.agentType==="employee"?"Employee":"Partner"}),r.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ${x(v.status)}`,children:v.status==="available"?" Available":v.status==="delivering"?" Delivering":" Offline"})]})]})]}),r.jsxs("div",{className:"flex items-center gap-1 bg-yellow-50 px-2 py-1 rounded",children:[r.jsx(mm,{className:"h-4 w-4 text-yellow-500 fill-yellow-500"}),r.jsx("span",{className:"text-sm font-semibold text-gray-900",children:v.rating})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[r.jsx(Yc,{className:"h-4 w-4 flex-shrink-0"}),r.jsx("span",{children:v.phone})]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[r.jsx(Mr,{className:"h-4 w-4 flex-shrink-0"}),r.jsx("span",{children:v.vehicleNo})]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[r.jsx(Vs,{className:"h-4 w-4 flex-shrink-0"}),r.jsxs("span",{children:[v.deliveries," deliveries"]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[r.jsx(Tr,{className:"h-4 w-4 flex-shrink-0"}),r.jsx("span",{children:v.status==="available"?"Ready now":"On delivery"})]})]})]},v.id)):r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(si,{className:"h-12 w-12 mx-auto mb-2 text-gray-400"}),r.jsx("p",{children:"No delivery partners found"})]})}),i&&r.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[r.jsx("p",{className:"text-sm text-blue-900 font-medium mb-1",children:"Selected Partner:"}),r.jsxs("p",{className:"text-sm text-blue-700",children:[a.find(v=>v.id===i)?.name," - ",a.find(v=>v.id===i)?.phone]})]}),r.jsx(oe,{onClick:m,disabled:!i||o,className:"w-full bg-blue-600 hover:bg-blue-700",children:o?"Assigning...":e?"Update Assignment":"Assign Selected Partner"})]})}function hZ({currentType:e,currentLocationId:t,onSwitch:s,className:a=""}){const[n,i]=A.useState(e),[l,o]=A.useState([]),[c,d]=A.useState(t||""),[h,m]=A.useState(!1);A.useEffect(()=>{o(n==="hub"?[{id:"hub1",name:"Main Hub - Chennai",type:"hub",address:"T Nagar, Chennai",isActive:!0},{id:"hub2",name:"North Hub - Chennai",type:"hub",address:"Ambattur, Chennai",isActive:!0}]:[{id:"store1",name:"Store - Adyar",type:"store",address:"Adyar, Chennai",isActive:!0},{id:"store2",name:"Store - Velachery",type:"store",address:"Velachery, Chennai",isActive:!0}])},[n]);const p=async()=>{if(c){m(!0);try{await s(n,c)}finally{m(!1)}}},x=l.find(v=>v.id===c);return r.jsxs("div",{className:`bg-white border border-gray-200 rounded-lg p-4 ${a}`,children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[n==="hub"?r.jsx(Wl,{className:"h-5 w-5 text-purple-600"}):r.jsx(Fn,{className:"h-5 w-5 text-green-600"}),"Switch Order Location"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(Ut,{label:"Location Type",value:n,onChange:v=>{i(v.target.value),d("")},options:[{value:"hub",label:"Hub"},{value:"store",label:"Store"}]}),r.jsx(Ut,{label:`Select ${n==="hub"?"Hub":"Store"}`,value:c,onChange:v=>d(v.target.value),options:[{value:"",label:`Select a ${n}`},...l.map(v=>({value:v.id,label:v.name}))]}),x&&r.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:x.name}),r.jsx("p",{className:"text-sm text-gray-600",children:x.address})]}),r.jsx(oe,{onClick:p,disabled:!c||h||n===e&&c===t,className:"w-full",children:h?"Switching...":"Switch Location"})]})]})}function fZ({currentAddress:e,onSelect:t,className:s=""}){const[a]=A.useState([{type:"home",line1:"123 Main Street",line2:"Apt 4B",city:"Chennai",state:"Tamil Nadu",pincode:"600001",isDefault:!0},{type:"work",line1:"456 Business Park",city:"Chennai",state:"Tamil Nadu",pincode:"600002"},{type:"other",line1:"789 Market Road",city:"Chennai",state:"Tamil Nadu",pincode:"600003"}]),[n,i]=A.useState(e?a.findIndex(m=>m.type===e.type):0),[l,o]=A.useState(!1),c=async()=>{if(!(n<0)){o(!0);try{await t(a[n])}finally{o(!1)}}},d=m=>{switch(m){case"home":return r.jsx(bb,{className:"h-4 w-4"});case"work":return r.jsx(Wee,{className:"h-4 w-4"});default:return r.jsx(tre,{className:"h-4 w-4"})}},h=a[n];return r.jsxs("div",{className:`bg-white border border-gray-200 rounded-lg p-4 ${s}`,children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[r.jsx(Vs,{className:"h-5 w-5 text-green-600"}),"Select Delivery Address"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(Ut,{label:"Address Type",value:n.toString(),onChange:m=>i(parseInt(m.target.value)),options:a.map((m,p)=>({value:p.toString(),label:`${m.type.charAt(0).toUpperCase()+m.type.slice(1)}${m.isDefault?" (Default)":""}`}))}),h&&r.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-900",children:[d(h.type),r.jsxs("span",{className:"capitalize",children:[h.type," Address"]}),h.isDefault&&r.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-blue-100 text-blue-700",children:"Default"})]}),r.jsxs("div",{className:"text-sm text-gray-700",children:[r.jsx("p",{children:h.line1}),h.line2&&r.jsx("p",{children:h.line2}),r.jsxs("p",{children:[h.city,", ",h.state," -"," ",h.pincode]})]})]}),r.jsx(oe,{onClick:c,disabled:l,className:"w-full",children:l?"Updating...":"Update Address"})]})]})}function mZ({existingPhotos:e=[],onUpload:t,className:s=""}){const[a,n]=A.useState(e),[i,l]=A.useState([]),[o,c]=A.useState(!1),d=A.useRef(null),h=x=>{const v=Array.from(x.target.files||[]);if(v.length===0)return;const y=v.filter(b=>b.type.startsWith("image/"));l(b=>[...b,...y]),y.forEach(b=>{const j=new FileReader;j.onload=S=>{n(w=>[...w,S.target?.result])},j.readAsDataURL(b)})},m=x=>{n(v=>v.filter((y,b)=>b!==x)),l(v=>v.filter((y,b)=>b!==x-e.length))},p=async()=>{if(i.length!==0){c(!0);try{await t(i),l([])}finally{c(!1)}}};return r.jsxs("div",{className:`bg-white border border-gray-200 rounded-lg p-4 ${s}`,children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[r.jsx(q0,{className:"h-5 w-5 text-indigo-600"}),"Upload Packed Photos"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("input",{ref:d,type:"file",accept:"image/*",multiple:!0,onChange:h,className:"hidden"}),r.jsxs(oe,{variant:"secondary",onClick:()=>d.current?.click(),className:"w-full",children:[r.jsx(jo,{className:"h-4 w-4"}),"Select Photos"]})]}),a.length>0&&r.jsx("div",{className:"grid grid-cols-3 gap-2",children:a.map((x,v)=>r.jsxs("div",{className:"relative group aspect-square",children:[r.jsx("img",{src:x,alt:`Packed ${v+1}`,className:"w-full h-full object-cover rounded-lg border border-gray-200"}),v>=e.length&&r.jsx("button",{onClick:()=>m(v),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsx(Cs,{className:"h-3 w-3"})}),v<e.length&&r.jsx("div",{className:"absolute top-1 right-1 bg-green-500 text-white rounded-full p-1",children:r.jsx(Dr,{className:"h-3 w-3"})})]},v))}),i.length>0&&r.jsx(oe,{onClick:p,disabled:o,className:"w-full",children:o?"Uploading...":`Upload ${i.length} Photo${i.length>1?"s":""}`}),a.length===0&&r.jsx("div",{className:"text-center py-8 text-gray-500 text-sm",children:"No photos uploaded yet"})]})]})}function xZ({currentCharges:e=0,onUpdate:t,className:s=""}){const[a,n]=A.useState(e.toString()),[i,l]=A.useState(""),[o,c]=A.useState(!1),d=async()=>{const h=parseFloat(a);if(!(isNaN(h)||h<0)){c(!0);try{await t(h,i),l("")}finally{c(!1)}}};return r.jsxs("div",{className:`bg-white border border-gray-200 rounded-lg p-4 ${s}`,children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[r.jsx(ta,{className:"h-5 w-5 text-orange-600"}),"Surge & Additional Charges"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(de,{type:"number",label:"Charge Amount ()",value:a,onChange:h=>n(h.target.value),placeholder:"0.00",min:"0",step:"0.01"}),r.jsx(de,{label:"Reason",value:i,onChange:h=>l(h.target.value),placeholder:"e.g., Peak hour delivery, Remote location"}),parseFloat(a)>0&&r.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(ya,{className:"h-4 w-4 text-orange-600 mt-0.5"}),r.jsxs("div",{className:"text-sm text-orange-800",children:[r.jsx("p",{className:"font-medium",children:"Additional charge will be added to order total"}),r.jsx("p",{className:"text-xs mt-1",children:"Customer will be notified about the extra charges"})]})]})}),r.jsx(oe,{onClick:d,disabled:o||!a||parseFloat(a)<0,className:"w-full",children:o?"Updating...":"Update Charges"})]})]})}function V2(){const{user:e}=es(),[t,s]=A.useState([]),[a,n]=A.useState("all"),[i,l]=A.useState(!1),[o,c]=A.useState(!1),[d,h]=A.useState(null),[m,p]=A.useState(null),[x,v]=A.useState(!1),[y,b]=A.useState(""),[j,S]=A.useState(!1),[w,k]=A.useState([]),[_,O]=A.useState(!1),[E,F]=A.useState({startDate:"",endDate:""}),{isLoading:I,withLoading:U}=wX(!0),{register:M,handleSubmit:L,formState:{errors:J},reset:K}=Ax({resolver:Tx(H7e),defaultValues:{addressType:"home",paymentMethod:"cod",source:"manual",items:[]}}),ae=A.useCallback(async()=>{try{const ne=await ty.getAll();s(ne.data)}catch(ne){console.log("API connection failed, using mock data:",ne.message),s([{id:"HUB-001",invoiceNumber:"INV-2024-001",customerId:"1",customerName:"Rajesh Kumar",customerPhone:"+91 9876543210",customerEmail:"rajesh.kumar@email.com",billingAddress:{street:"123 Marina Beach Road",city:"Chennai",state:"Tamil Nadu",zipCode:"600001",country:"India"},shippingAddress:{street:"123 Marina Beach Road, Apt 4B",city:"Chennai",state:"Tamil Nadu",zipCode:"600001",country:"India"},deliveryInstructions:"Please call before delivery. Ring the bell twice.",promoCode:"FISH20",discountAmount:90,deliveryCharges:50,gstAmount:81,subtotalAmount:450,source:"app",status:"processing",paymentStatus:"paid",paymentMethod:"online",items:[{productId:"1",productName:"Seer Fish (Vanjaram)",variant:"Medium Cut",quantity:1,price:450}],totalAmount:491,paidAmount:491,pendingAmount:0,paymentRecords:[{id:"payment_001",orderId:"HUB-001",amount:491,paymentMethod:"upi",paymentMode:"full",transactionId:"UPI123456789",referenceNumber:"REF001",notes:"Full payment received via UPI",receivedBy:"Admin User",receivedAt:new Date(Date.now()-36e5).toISOString(),status:"confirmed",attachments:[]}],deliverySlot:"10:00 AM - 12:00 PM",orderType:"regular",moduleType:"hub",hubId:"hub_1",createdAt:new Date().toISOString()},{id:"HUB-002",invoiceNumber:"INV-2024-002",customerId:"2",customerName:"Arun Patel",customerPhone:"+91 9876543212",customerEmail:"arun.patel@email.com",billingAddress:{street:"456 T. Nagar Main Road",city:"Chennai",state:"Tamil Nadu",zipCode:"600017",country:"India"},deliveryInstructions:"Leave at security gate if not available.",promoCode:"NEWUSER",discountAmount:60,deliveryCharges:0,gstAmount:108,subtotalAmount:600,source:"whatsapp",status:"packed",paymentStatus:"paid",paymentMethod:"cod",items:[{productId:"2",productName:"King Fish",variant:"Steaks",quantity:2,price:600}],totalAmount:648,paidAmount:648,refundedAmount:100,netAmount:548,refundRecords:[{id:"refund_001",orderId:"HUB-002",amount:100,refundType:"partial",refundMethod:"original_payment",reason:"Customer requested partial refund due to quality issue with one piece",transactionId:"REF123456789",referenceNumber:"REFUND001",notes:"Partial refund processed for quality issue",processedBy:"Admin User",processedAt:new Date(Date.now()-18e5).toISOString(),approvedBy:"Manager",approvedAt:new Date(Date.now()-18e5).toISOString(),status:"completed",attachments:[]}],deliverySlot:"2:00 PM - 4:00 PM",orderType:"regular",moduleType:"hub",hubId:"hub_1",createdAt:new Date(Date.now()-36e5).toISOString()},{id:"HUB-003",invoiceNumber:"INV-2024-003",customerId:"3",customerName:"Lakshmi Devi",customerPhone:"+91 9876543213",customerEmail:"lakshmi.devi@email.com",shippingAddress:{street:"789 Anna Salai, Near Landmark",city:"Chennai",state:"Tamil Nadu",zipCode:"600002",country:"India"},deliveryCharges:40,gstAmount:144,subtotalAmount:800,source:"website",status:"delivered",paymentStatus:"paid",paymentMethod:"online",items:[{productId:"3",productName:"Pomfret",variant:"Whole Fish",quantity:1,price:800}],totalAmount:984,deliverySlot:"7:00 AM - 9:00 AM",orderType:"regular",moduleType:"hub",hubId:"hub_1",createdAt:new Date(Date.now()-864e5).toISOString()},{id:"STR-001",invoiceNumber:"INV-2024-004",customerId:"4",customerName:"Priya Sharma",customerPhone:"+91 9876543211",customerEmail:"priya.sharma@email.com",billingAddress:{street:"321 Velachery Main Road",city:"Chennai",state:"Tamil Nadu",zipCode:"600042",country:"India"},shippingAddress:{street:"321 Velachery Main Road, Block C, Flat 201",city:"Chennai",state:"Tamil Nadu",zipCode:"600042",country:"India"},deliveryInstructions:"Deliver between 6-7 PM only. Contact before arrival.",promoCode:"COMBO50",discountAmount:80,deliveryCharges:30,gstAmount:144,subtotalAmount:800,source:"app",status:"received",paymentStatus:"partial",paymentMethod:"cod",items:[{productId:"4",productName:"Chicken Curry Cut",variant:"1kg",quantity:1,price:280},{productId:"5",productName:"Tiger Prawns",variant:"Large",quantity:1,price:520}],totalAmount:894,paidAmount:400,pendingAmount:494,paymentRecords:[{id:"payment_002",orderId:"STR-001",amount:400,paymentMethod:"cash",paymentMode:"advance",transactionId:"",referenceNumber:"ADV001",notes:"Advance payment received in cash",receivedBy:"Store Manager",receivedAt:new Date(Date.now()-12e5).toISOString(),status:"confirmed",attachments:[]}],deliverySlot:"6:00 PM - 8:00 PM",orderType:"regular",moduleType:"store",storeId:"store_1",createdAt:new Date(Date.now()-18e5).toISOString()},{id:"STR-002",invoiceNumber:"INV-2024-005",customerId:"5",customerName:"Karthik Raj",customerPhone:"+91 9876543214",customerEmail:"karthik.raj@email.com",billingAddress:{street:"654 OMR Road, Thoraipakkam",city:"Chennai",state:"Tamil Nadu",zipCode:"600097",country:"India"},deliveryInstructions:"Ring doorbell. Apartment is on 3rd floor.",deliveryCharges:25,gstAmount:96.12,subtotalAmount:534,source:"instagram",status:"processing",paymentStatus:"paid",paymentMethod:"online",items:[{productId:"6",productName:"Mutton Curry Cut",variant:"500g",quantity:1,price:450},{productId:"7",productName:"Eggs",variant:"12 pieces",quantity:1,price:84}],totalAmount:655.12,deliverySlot:"10:00 AM - 12:00 PM",orderType:"regular",moduleType:"store",storeId:"store_2",createdAt:new Date(Date.now()-72e5).toISOString()},{id:"STR-003",invoiceNumber:"INV-2024-006",customerId:"6",customerName:"Meera Nair",customerPhone:"+91 9876543215",customerEmail:"meera.nair@email.com",shippingAddress:{street:"987 ECR Road, Sholinganallur",city:"Chennai",state:"Tamil Nadu",zipCode:"600119",country:"India"},deliveryInstructions:"Please handle seafood with care. Keep refrigerated.",promoCode:"SEAFOOD15",discountAmount:67.5,deliveryCharges:35,gstAmount:81,subtotalAmount:450,source:"facebook",status:"out_for_delivery",paymentStatus:"refunded",paymentMethod:"online",items:[{productId:"8",productName:"Crab",variant:"Medium Size",quantity:2,price:400},{productId:"9",productName:"Spices Mix",variant:"Fish Curry",quantity:1,price:50}],totalAmount:498.5,paidAmount:498.5,refundedAmount:498.5,netAmount:0,refundRecords:[{id:"refund_002",orderId:"STR-003",amount:498.5,refundType:"full",refundMethod:"original_payment",reason:"Order cancelled by customer before delivery",itemsRefunded:[{productId:"8",productName:"Crab",variant:"Medium Size",quantity:2,refundAmount:400},{productId:"9",productName:"Spices Mix",variant:"Fish Curry",quantity:1,refundAmount:50}],transactionId:"REF987654321",referenceNumber:"REFUND002",notes:"Full refund processed due to order cancellation",processedBy:"Store Manager",processedAt:new Date(Date.now()-36e5).toISOString(),approvedBy:"Store Admin",approvedAt:new Date(Date.now()-36e5).toISOString(),status:"completed",attachments:[]}],deliverySlot:"4:00 PM - 6:00 PM",orderType:"regular",moduleType:"store",storeId:"store_1",createdAt:new Date(Date.now()-108e5).toISOString()}])}},[]);A.useEffect(()=>{U(ae)},[ae,U]);const V=og(t,e),re=A.useCallback(ne=>{s(Oe=>Oe.map(Me=>Me.id===ne.orderId?{...Me,status:ne.status}:Me))},[]);wIe(re);const X=A.useCallback(ne=>{const Oe={id:ne.order.id,invoiceNumber:`INV-${new Date().getFullYear()}-${String(Date.now()).slice(-6)}`,customerId:"",customerName:ne.order.customerName,customerPhone:"",source:ne.order.source,status:"received",paymentStatus:"pending",paymentMethod:"cod",items:[],totalAmount:ne.order.totalAmount,deliverySlot:"",orderType:"regular",moduleType:"store",createdAt:new Date().toISOString()};s(Me=>[Oe,...Me])},[]);oZ(X);const Z=async ne=>{try{await ty.create(ne),l(!1),K(),await ae()}catch(Oe){console.error("Failed to create order:",Oe)}},ye=ne=>{p(ne)},te=ne=>{h(ne),c(!0)},D=async ne=>{if(d)try{await ty.update(d.id,ne),s(Oe=>Oe.map(Me=>Me.id===d.id?{...Me,...ne}:Me)),c(!1),h(null)}catch{s(Me=>Me.map(De=>De.id===d.id?{...De,...ne}:De)),c(!1),h(null),console.log("Order updated successfully")}},H=async(ne,Oe)=>{try{const Me={id:`payment_${Date.now()}`,orderId:ne,amount:Oe.amount,paymentMethod:Oe.paymentMethod,paymentMode:Oe.paymentMode,transactionId:Oe.transactionId,referenceNumber:Oe.referenceNumber,notes:Oe.notes,receivedBy:e?.name||"System",receivedAt:new Date().toISOString(),status:"confirmed",attachments:[]};if(s(De=>De.map(He=>{if(He.id===ne){const xt=(He.paidAmount||0)+Oe.amount,At=He.totalAmount-xt;let Ot="pending";return At<=0?Ot="paid":xt>0&&(Ot="partial"),{...He,paidAmount:xt,pendingAmount:Math.max(0,At),paymentStatus:Ot,paymentRecords:[...He.paymentRecords||[],Me]}}return He})),m?.id===ne){const De=t.find(He=>He.id===ne);if(De){const He=(De.paidAmount||0)+Oe.amount,mt=Math.max(0,De.totalAmount-He),xt=mt<=0?"paid":He>0?"partial":"pending";p({...De,paidAmount:He,pendingAmount:mt,paymentStatus:xt,paymentRecords:[...De.paymentRecords||[],Me]})}}if(d?.id===ne){const De=t.find(He=>He.id===ne);if(De){const He=(De.paidAmount||0)+Oe.amount,mt=Math.max(0,De.totalAmount-He),xt=mt<=0?"paid":He>0?"partial":"pending";h({...De,paidAmount:He,pendingAmount:mt,paymentStatus:xt,paymentRecords:[...De.paymentRecords||[],Me]})}}console.log("Payment recorded successfully")}catch(Me){throw console.error("Failed to record payment:",Me),Me}},q=async(ne,Oe)=>{try{s(Me=>Me.map(De=>De.id===ne?{...De,deliveryAgentId:Oe}:De)),m?.id===ne&&p({...m,deliveryAgentId:Oe}),d?.id===ne&&h({...d,deliveryAgentId:Oe}),console.log(`Assigned delivery partner ${Oe} to order ${ne}`)}catch(Me){throw console.error("Failed to assign delivery partner:",Me),Me}},W=async(ne,Oe,Me)=>{try{const De={moduleType:Oe,...Oe==="hub"?{hubId:Me,storeId:void 0}:{storeId:Me,hubId:void 0}};s(He=>He.map(mt=>mt.id===ne?{...mt,...De}:mt)),m?.id===ne&&p({...m,...De}),d?.id===ne&&h({...d,...De}),console.log(`Switched order ${ne} to ${Oe} ${Me}`)}catch(De){throw console.error("Failed to switch location:",De),De}},G=async(ne,Oe)=>{try{const Me={street:Oe.line1+(Oe.line2?`, ${Oe.line2}`:""),city:Oe.city,state:Oe.state,zipCode:Oe.pincode,country:"India"};s(De=>De.map(He=>He.id===ne?{...He,shippingAddress:Me}:He)),m?.id===ne&&p({...m,shippingAddress:Me}),d?.id===ne&&h({...d,shippingAddress:Me}),console.log(`Updated address for order ${ne}`)}catch(Me){throw console.error("Failed to update address:",Me),Me}},fe=async(ne,Oe)=>{try{const Me=Oe.map((De,He)=>`https://example.com/photos/${ne}_${He}.jpg`);s(De=>De.map(He=>He.id===ne?{...He,packedPhotos:[...He.packedPhotos||[],...Me]}:He)),m?.id===ne&&p({...m,packedPhotos:[...m.packedPhotos||[],...Me]}),d?.id===ne&&h({...d,packedPhotos:[...d.packedPhotos||[],...Me]}),console.log(`Uploaded ${Oe.length} photos for order ${ne}`)}catch(Me){throw console.error("Failed to upload photos:",Me),Me}},Se=async(ne,Oe,Me)=>{try{const De=t.find(mt=>mt.id===ne);if(!De)return;const He={surgeCharges:Oe,surgeChargesReason:Me,totalAmount:(De.subtotalAmount||De.totalAmount)+(De.deliveryCharges||0)+Oe+(De.additionalCharges||0)+(De.gstAmount||0)-(De.discountAmount||0)};s(mt=>mt.map(xt=>xt.id===ne?{...xt,...He}:xt)),m?.id===ne&&p({...m,...He}),d?.id===ne&&h({...d,...He}),console.log(`Updated surge charges for order ${ne}: ${Oe}`)}catch(De){throw console.error("Failed to update surge charges:",De),De}},se=async(ne,Oe)=>{try{const Me={id:`refund_${Date.now()}`,orderId:ne,amount:Oe.amount,refundType:Oe.refundType,refundMethod:Oe.refundMethod,reason:Oe.reason,itemsRefunded:Oe.itemsRefunded,transactionId:Oe.transactionId,referenceNumber:Oe.referenceNumber,notes:Oe.notes,processedBy:e?.name||"System",processedAt:new Date().toISOString(),approvedBy:e?.name||"System",approvedAt:new Date().toISOString(),status:"completed",attachments:[]};if(s(De=>De.map(He=>{if(He.id===ne){const xt=(He.refundedAmount||0)+Oe.amount,At=He.totalAmount-xt;let Ot=He.paymentStatus;return xt>=He.totalAmount&&(Ot="refunded"),{...He,refundedAmount:xt,netAmount:Math.max(0,At),paymentStatus:Ot,refundRecords:[...He.refundRecords||[],Me]}}return He})),m?.id===ne){const De=t.find(He=>He.id===ne);if(De){const He=(De.refundedAmount||0)+Oe.amount,mt=De.totalAmount-He;p({...De,refundedAmount:He,netAmount:Math.max(0,mt),paymentStatus:He>=De.totalAmount?"refunded":De.paymentStatus,refundRecords:[...De.refundRecords||[],Me]})}}if(d?.id===ne){const De=t.find(He=>He.id===ne);if(De){const He=(De.refundedAmount||0)+Oe.amount,mt=De.totalAmount-He;h({...De,refundedAmount:He,netAmount:Math.max(0,mt),paymentStatus:He>=De.totalAmount?"refunded":De.paymentStatus,refundRecords:[...De.refundRecords||[],Me]})}}console.log("Refund recorded successfully")}catch(Me){throw console.error("Failed to record refund:",Me),Me}},ge=async ne=>{if(confirm(`Are you sure you want to delete order ${ne.id}? This action cannot be undone.`))try{await ty.cancel(ne.id,""),s(Oe=>Oe.filter(Me=>Me.id!==ne.id))}catch{s(Me=>Me.filter(De=>De.id!==ne.id)),console.log("Order deleted successfully")}},Be=ne=>{s(Oe=>Oe.map(Me=>Me.id===y?{...Me,thirdPartyDelivery:ne}:Me)),console.log(`Assigned third-party delivery for order ${y}`,ne)},ee=[{id:"agent-1",name:"Rajesh Kumar",agentType:"employee"},{id:"agent-2",name:"Amit Sharma",agentType:"employee"},{id:"agent-3",name:"Priya Patel",agentType:"partner"},{id:"agent-4",name:"Suresh Reddy",agentType:"partner"}],at=ne=>{const Oe=ee.find(Me=>Me.id===ne.agentId);console.log(`Assigned ${w.length} orders to ${Oe?.name}`,{agentType:Oe?.agentType,pricePerOrder:ne.pricePerOrder,totalAmount:ne.pricePerOrder?ne.pricePerOrder*w.length:0}),s(Me=>Me.map(De=>w.includes(De.id)?{...De,deliveryAgentId:ne.agentId}:De))},nt=async(ne,Oe,Me)=>{try{switch(ne){case"assign-batch-delivery":k(Oe),S(!0);break;case"assign-third-party-delivery":Oe.length===1?(b(Oe[0]),v(!0)):alert("Please select only one order to assign third-party delivery");break;case"update-status":s(De=>De.map(He=>Oe.includes(He.id)?{...He,status:Me.status}:He)),console.log(`Updated status to ${Me.status} for ${Oe.length} orders`);break;case"update-delivery-slot":s(De=>De.map(He=>Oe.includes(He.id)?{...He,deliverySlot:Me.deliverySlot}:He)),console.log(`Updated delivery slot for ${Oe.length} orders`);break;case"mark-priority":console.log(`Marked ${Oe.length} orders as ${Me.priority} priority`);break;case"send-notification":console.log(`Sent ${Me.type} notification to ${Oe.length} customers`);break;case"delete":s(De=>De.filter(He=>!Oe.includes(He.id))),console.log(`Deleted ${Oe.length} orders`);break;default:console.log(`Bulk action ${ne} performed on ${Oe.length} orders`,Me)}}catch(De){console.error("Bulk action failed:",De),alert("Bulk action failed. Please try again.")}},xe=V.filter(ne=>{if(a!=="all"&&ne.moduleType!==a)return!1;if(E.startDate||E.endDate){const Oe=new Date(ne.createdAt);if(E.startDate&&Oe<new Date(E.startDate))return!1;if(E.endDate){const Me=new Date(E.endDate);if(Me.setHours(23,59,59,999),Oe>Me)return!1}}return!0}),ot=V.filter(ne=>ne.moduleType==="hub"),ut=V.filter(ne=>ne.moduleType==="store"),Re={total:ot.length,revenue:ot.reduce((ne,Oe)=>ne+Oe.totalAmount,0),pending:ot.filter(ne=>["received","processing"].includes(ne.status)).length,delivered:ot.filter(ne=>ne.status==="delivered").length},Ge={total:ut.length,revenue:ut.reduce((ne,Oe)=>ne+Oe.totalAmount,0),pending:ut.filter(ne=>["received","processing"].includes(ne.status)).length,delivered:ut.filter(ne=>ne.status==="delivered").length},qt=async()=>{try{const ne={export:"csv"};a!=="all"&&(ne.moduleType=a);const Oe=await ty.getAll(ne),Me=new Blob([Oe.data],{type:"text/csv"}),De=window.URL.createObjectURL(Me),He=document.createElement("a");He.href=De,He.download=`${a}-orders-${new Date().toISOString().split("T")[0]}.csv`,He.click()}catch(ne){console.error("Export failed:",ne)}},_e=(()=>{const ne=[{id:"all",label:"All Orders",icon:bo,count:V.length},{id:"hub",label:"Hub Orders",icon:yo,count:ot.length},{id:"store",label:"Store Orders",icon:Fn,count:ut.length}];return e?.loginType==="hub"?ne.filter(Oe=>Oe.id==="hub"):e?.loginType==="store"?ne.filter(Oe=>Oe.id==="store"):ne})();return A.useState(()=>{const ne=e?.loginType==="hub"?"hub":e?.loginType==="store"?"store":"all";n(ne)}),r.jsx(Lw,{isLoading:I,type:"page",text:"Loading orders...",variant:"branded",children:r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsx(Vc,{title:e?.loginType==="hub"?"Hub Orders Management":e?.loginType==="store"?"Store Orders Management":"All Orders Management",description:e?.loginType==="hub"?"Manage and track hub orders and deliveries":e?.loginType==="store"?"Manage and track store orders and deliveries":"Manage and track orders across Hub and Store operations",actions:r.jsx(dz,{onDownload:qt,onRefresh:()=>U(ae),downloadLabel:`Export ${a==="all"?"All":a.charAt(0).toUpperCase()+a.slice(1)} Orders`})}),r.jsxs(he,{className:"p-0 overflow-hidden",children:[r.jsx("div",{className:"border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-6 py-3 sm:py-4 gap-4",children:[r.jsx("nav",{className:"flex overflow-x-auto","aria-label":"Tabs",children:_e.map(ne=>{const Oe=ne.icon,Me=a===ne.id;return r.jsxs("button",{onClick:()=>n(ne.id),className:`
                        flex items-center gap-2 py-2 px-3 sm:px-4 border-b-2 font-medium text-xs sm:text-sm transition-colors whitespace-nowrap
                        ${Me?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
                      `,children:[r.jsx(Oe,{className:"h-4 w-4 sm:h-5 sm:w-5"}),r.jsx("span",{className:"hidden sm:inline",children:ne.label}),r.jsx("span",{className:"sm:hidden",children:ne.label.split(" ")[0]}),r.jsx(Xe,{variant:Me?"info":"default",className:"ml-1 text-xs",children:ne.count})]},ne.id)})}),r.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[r.jsx(de,{type:"date",value:E.startDate,onChange:ne=>F(Oe=>({...Oe,startDate:ne.target.value})),placeholder:"Start Date",className:"w-36 text-sm"}),r.jsx("span",{className:"text-gray-500",children:"-"}),r.jsx(de,{type:"date",value:E.endDate,onChange:ne=>F(Oe=>({...Oe,endDate:ne.target.value})),placeholder:"End Date",className:"w-36 text-sm"}),(E.startDate||E.endDate)&&r.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>F({startDate:"",endDate:""}),className:"text-xs",children:"Clear"})]})]})}),r.jsxs("div",{className:"p-4 sm:p-6",children:[a==="all"&&r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mb-4 sm:mb-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-4 sm:p-6 border border-blue-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"h-10 w-10 sm:h-12 sm:w-12 rounded-xl bg-blue-600 flex items-center justify-center",children:r.jsx(yo,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-blue-900",children:"Hub Orders"}),r.jsx("p",{className:"text-xs sm:text-sm text-blue-700",children:"Fish products  Next day delivery"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[r.jsxs("div",{className:"bg-white/60 rounded-lg p-2 sm:p-3",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-blue-900",children:Re.total}),r.jsx("p",{className:"text-xs sm:text-sm text-blue-700",children:"Total Orders"})]}),r.jsxs("div",{className:"bg-white/60 rounded-lg p-2 sm:p-3",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-blue-900",children:bt(Re.revenue)}),r.jsx("p",{className:"text-xs sm:text-sm text-blue-700",children:"Revenue"})]}),r.jsxs("div",{className:"bg-white/60 rounded-lg p-2 sm:p-3",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-orange-600",children:Re.pending}),r.jsx("p",{className:"text-xs sm:text-sm text-blue-700",children:"Pending"})]}),r.jsxs("div",{className:"bg-white/60 rounded-lg p-2 sm:p-3",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-600",children:Re.delivered}),r.jsx("p",{className:"text-xs sm:text-sm text-blue-700",children:"Delivered"})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-4 sm:p-6 border border-green-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"h-10 w-10 sm:h-12 sm:w-12 rounded-xl bg-green-600 flex items-center justify-center",children:r.jsx(Fn,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-green-900",children:"Store Orders"}),r.jsx("p",{className:"text-xs sm:text-sm text-green-700",children:"All products  Same/Next day delivery"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[r.jsxs("div",{className:"bg-white/60 rounded-lg p-2 sm:p-3",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-900",children:Ge.total}),r.jsx("p",{className:"text-xs sm:text-sm text-green-700",children:"Total Orders"})]}),r.jsxs("div",{className:"bg-white/60 rounded-lg p-2 sm:p-3",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-900",children:bt(Ge.revenue)}),r.jsx("p",{className:"text-xs sm:text-sm text-green-700",children:"Revenue"})]}),r.jsxs("div",{className:"bg-white/60 rounded-lg p-2 sm:p-3",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-orange-600",children:Ge.pending}),r.jsx("p",{className:"text-xs sm:text-sm text-green-700",children:"Pending"})]}),r.jsxs("div",{className:"bg-white/60 rounded-lg p-2 sm:p-3",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-600",children:Ge.delivered}),r.jsx("p",{className:"text-xs sm:text-sm text-green-700",children:"Delivered"})]})]})]})]}),a==="hub"&&r.jsx(xD,{stats:[{label:"Total Hub Orders",value:Re.total,icon:Tt,color:"blue"},{label:"Hub Revenue",value:bt(Re.revenue),icon:ta,color:"green"},{label:"Pending Orders",value:Re.pending,icon:Tr,color:"orange"},{label:"Delivered Orders",value:Re.delivered,icon:Dr,color:"green"}],columns:2,className:"mb-4 sm:mb-6"}),a==="store"&&r.jsx(xD,{stats:[{label:"Total Store Orders",value:Ge.total,icon:Tt,color:"green"},{label:"Store Revenue",value:bt(Ge.revenue),icon:ta,color:"green"},{label:"Pending Orders",value:Ge.pending,icon:Tr,color:"orange"},{label:"Delivered Orders",value:Ge.delivered,icon:Dr,color:"green"}],columns:2,className:"mb-4 sm:mb-6"})]})]}),xe.length===0?r.jsx(Yse,{icon:a==="hub"?yo:a==="store"?Fn:bo,title:`No ${a==="all"?"":a} orders found`,description:`No ${a==="all"?"":a} orders are currently available. Orders will appear here once customers place them.`}):r.jsx(kIe,{orders:xe,loading:I,onView:ye,onEdit:te,onDelete:ge,onRefresh:()=>U(ae),onBulkAction:nt}),r.jsx(ir,{isOpen:i,onClose:()=>l(!1),title:"Create New Order",size:"lg",children:r.jsxs("form",{onSubmit:L(Z),className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(de,{label:"Customer Name",...M("customerName"),placeholder:"Full Name",error:J.customerName?.message}),r.jsx(de,{label:"Phone Number",...M("customerPhone"),placeholder:"+91 9876543210",error:J.customerPhone?.message})]}),r.jsx(de,{label:"Email (Optional)",...M("customerEmail"),type:"email",placeholder:"customer@email.com"}),r.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[r.jsx("h3",{className:"font-medium mb-3 text-gray-900",children:"Order Type"}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{className:"flex items-center p-3 border-2 border-blue-200 bg-blue-50 rounded-lg",children:[r.jsx(yo,{className:"h-5 w-5 text-blue-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-blue-900",children:"Hub Order"}),r.jsx("p",{className:"text-xs text-blue-700",children:"Fish products  Next day delivery"})]})]}),r.jsxs("div",{className:"flex items-center p-3 border-2 border-green-200 bg-green-50 rounded-lg",children:[r.jsx(Fn,{className:"h-5 w-5 text-green-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-green-900",children:"Store Order"}),r.jsx("p",{className:"text-xs text-green-700",children:"All products  Same/Next day"})]})]})]})]}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsx("h3",{className:"font-medium mb-3",children:"Delivery Address"}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(de,{label:"Address Line 1",...M("addressLine1"),placeholder:"House no, Building name, Street",error:J.addressLine1?.message}),r.jsx(de,{label:"Address Line 2 (Optional)",...M("addressLine2"),placeholder:"Landmark, Area"}),r.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[r.jsx(de,{label:"Pincode",...M("pincode"),placeholder:"600001",error:J.pincode?.message}),r.jsx(de,{label:"City",...M("city"),placeholder:"Chennai",error:J.city?.message}),r.jsx(de,{label:"State",...M("state"),placeholder:"Tamil Nadu",error:J.state?.message})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(Ut,{label:"Delivery Slot",...M("deliverySlot"),error:J.deliverySlot?.message,options:[{value:"",label:"Select Slot"},{value:"slot1",label:"Slot 1 (7AM-9AM)"},{value:"slot2",label:"Slot 2 (1PM-3PM)"},{value:"slot3",label:"Slot 3 (7PM-9PM)"}]}),r.jsx(Ut,{label:"Payment Method",...M("paymentMethod"),error:J.paymentMethod?.message,options:[{value:"cod",label:"Cash on Delivery"},{value:"online",label:"Online Payment"}]})]}),r.jsx(Ut,{label:"Order Source",...M("source"),error:J.source?.message,options:[{value:"whatsapp",label:"WhatsApp"},{value:"instagram",label:"Instagram"},{value:"facebook",label:"Facebook"},{value:"manual",label:"Manual"}]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx(oe,{type:"button",variant:"secondary",onClick:()=>l(!1),className:"flex-1",children:"Cancel"}),r.jsx(oe,{type:"submit",className:"flex-1",children:"Create Order"})]})]})}),r.jsx(ir,{isOpen:o,onClose:()=>{c(!1),h(null)},title:`Edit Order - ${d?.id}`,size:"xl",children:d&&r.jsxs("div",{className:"space-y-4 max-h-[80vh] overflow-y-auto px-1",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row items-start justify-between gap-3",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:d.id}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Placed on ",rf(d.createdAt)]}),d.invoiceNumber&&r.jsxs("p",{className:"text-sm text-blue-600 font-medium",children:["Invoice: ",d.invoiceNumber]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(tN,{status:d.status}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsxs(oe,{size:"sm",variant:"secondary",onClick:()=>alert(`Printing invoice for order ${d.id}...`),className:"flex items-center gap-2",children:[r.jsx(nm,{className:"h-4 w-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Print Invoice"})]}),r.jsxs(oe,{size:"sm",variant:"secondary",onClick:()=>alert(`Downloading invoice for order ${d.id}...`),className:"flex items-center gap-2",children:[r.jsx(ei,{className:"h-4 w-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Download Invoice"})]})]})]})]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Editing Restrictions"}),r.jsxs("div",{className:"text-sm text-blue-800 space-y-1",children:[r.jsxs("p",{children:[" ",r.jsx("strong",{children:"Products:"})," Can be modified at any time"]}),r.jsxs("p",{children:[" ",r.jsx("strong",{children:"Delivery Slot:"})," ",["out_for_delivery","delivered"].includes(d.status)?"Cannot be modified after dispatch":"Can be modified"]}),r.jsxs("p",{children:[" ",r.jsx("strong",{children:"Customer Info:"})," ",d.status==="delivered"?"Cannot be modified after delivery":"Can be modified"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Order Status"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Status"}),r.jsxs("select",{value:d.status,onChange:ne=>h({...d,status:ne.target.value}),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"received",children:"Received"}),r.jsx("option",{value:"processing",children:"Processing"}),r.jsx("option",{value:"packed",children:"Packed"}),r.jsx("option",{value:"out_for_delivery",children:"Out for Delivery"}),r.jsx("option",{value:"delivered",children:"Delivered"}),r.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Status"}),r.jsxs("select",{value:d.paymentStatus,onChange:ne=>h({...d,paymentStatus:ne.target.value}),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"partial",children:"Partially Paid"}),r.jsx("option",{value:"paid",children:"Paid"}),r.jsx("option",{value:"refunded",children:"Refunded"}),r.jsx("option",{value:"failed",children:"Failed"})]})]})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Payment Tracking"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[r.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Total Amount"}),r.jsx("p",{className:"text-lg font-bold text-gray-900",children:bt(d.totalAmount)})]}),r.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Paid Amount"}),r.jsx("p",{className:"text-lg font-bold text-green-600",children:bt(d.paidAmount||0)})]}),r.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Pending Amount"}),r.jsx("p",{className:"text-lg font-bold text-orange-600",children:bt(d.totalAmount-(d.paidAmount||0))})]})]}),d.totalAmount-(d.paidAmount||0)>0&&r.jsx(oe,{size:"sm",onClick:()=>{p(d),c(!1)},className:"w-full bg-blue-600 hover:bg-blue-700",children:"Record Payment"}),d.paymentRecords&&d.paymentRecords.length>0&&r.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[r.jsxs("p",{className:"text-xs font-medium text-gray-700 mb-2",children:["Payment History (",d.paymentRecords.length," records)"]}),r.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:d.paymentRecords.map((ne,Oe)=>r.jsxs("div",{className:"text-xs bg-gray-50 p-2 rounded",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"font-medium",children:bt(ne.amount)}),r.jsx("span",{className:"text-gray-600",children:ne.paymentMethod})]}),r.jsx("div",{className:"text-gray-500 mt-1",children:rf(ne.receivedAt)})]},Oe))})]})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(rn,{className:"h-5 w-5 text-red-600"}),"Refund Tracking"]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[r.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Original Amount"}),r.jsx("p",{className:"text-lg font-bold text-gray-900",children:bt(d.totalAmount)})]}),r.jsxs("div",{className:"text-center p-3 bg-red-50 rounded-lg",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Refunded Amount"}),r.jsx("p",{className:"text-lg font-bold text-red-600",children:bt(d.refundedAmount||0)})]}),r.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Net Amount"}),r.jsx("p",{className:"text-lg font-bold text-blue-600",children:bt(d.totalAmount-(d.refundedAmount||0))})]})]}),(d.paidAmount||0)>0&&r.jsxs(oe,{size:"sm",variant:"danger",onClick:()=>O(!0),className:"w-full",children:[r.jsx(rn,{className:"h-4 w-4 mr-2"}),"Record Refund"]}),d.refundRecords&&d.refundRecords.length>0&&r.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:r.jsx(dZ,{refundRecords:d.refundRecords})})]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Customer Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Name"}),r.jsx("input",{type:"text",value:d.customerName,onChange:ne=>h({...d,customerName:ne.target.value}),disabled:d.status==="delivered",className:`w-full rounded-lg border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${d.status==="delivered"?"border-gray-200 bg-gray-100 text-gray-500 cursor-not-allowed":"border-gray-300"}`})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),r.jsx("input",{type:"text",value:d.customerPhone,onChange:ne=>h({...d,customerPhone:ne.target.value}),disabled:d.status==="delivered",className:`w-full rounded-lg border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${d.status==="delivered"?"border-gray-200 bg-gray-100 text-gray-500 cursor-not-allowed":"border-gray-300"}`})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),r.jsx("input",{type:"email",value:d.customerEmail||"",onChange:ne=>h({...d,customerEmail:ne.target.value}),disabled:d.status==="delivered",className:`w-full rounded-lg border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${d.status==="delivered"?"border-gray-200 bg-gray-100 text-gray-500 cursor-not-allowed":"border-gray-300"}`})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Delivery Slot"}),r.jsxs("select",{value:d.deliverySlot,onChange:ne=>h({...d,deliverySlot:ne.target.value}),disabled:["out_for_delivery","delivered"].includes(d.status),className:`w-full rounded-lg border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${["out_for_delivery","delivered"].includes(d.status)?"border-gray-200 bg-gray-100 text-gray-500 cursor-not-allowed":"border-gray-300"}`,children:[r.jsx("option",{value:"7:00 AM - 9:00 AM",children:"7:00 AM - 9:00 AM"}),r.jsx("option",{value:"10:00 AM - 12:00 PM",children:"10:00 AM - 12:00 PM"}),r.jsx("option",{value:"2:00 PM - 4:00 PM",children:"2:00 PM - 4:00 PM"}),r.jsx("option",{value:"4:00 PM - 6:00 PM",children:"4:00 PM - 6:00 PM"}),r.jsx("option",{value:"6:00 PM - 8:00 PM",children:"6:00 PM - 8:00 PM"})]})]})]})]}),r.jsx(uZ,{orderId:d.id,currentAgentId:d.deliveryAgentId,onAssign:ne=>q(d.id,ne)}),r.jsx(hZ,{orderId:d.id,currentType:d.moduleType,currentLocationId:d.hubId||d.storeId,onSwitch:(ne,Oe)=>W(d.id,ne,Oe)}),r.jsx(fZ,{customerId:d.customerId,currentAddress:d.shippingAddress,onSelect:ne=>G(d.id,ne)})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Order Items"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-green-600 text-xs bg-green-50 px-2 py-1 rounded-full",children:"Always editable"}),r.jsxs("span",{className:"text-blue-600 text-xs",children:["Items: ",d.items?.length||0]})]})]}),d.items&&d.items.length>0?r.jsxs("div",{className:"space-y-3",children:[d.items.map((ne,Oe)=>r.jsx("div",{className:"border rounded-lg p-3 bg-gray-50",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Product Name"}),r.jsx("input",{type:"text",value:ne.productName,onChange:Me=>{const De=[...d.items];De[Oe]={...ne,productName:Me.target.value},h({...d,items:De})},className:"w-full rounded border border-gray-300 px-2 py-1 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Variant"}),r.jsx("input",{type:"text",value:ne.variant,onChange:Me=>{const De=[...d.items];De[Oe]={...ne,variant:Me.target.value},h({...d,items:De})},className:"w-full rounded border border-gray-300 px-2 py-1 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Qty"}),r.jsx("input",{type:"number",min:"1",value:ne.quantity,onChange:Me=>{const De=[...d.items],He=parseInt(Me.target.value)||1;De[Oe]={...ne,quantity:He};const mt=De.reduce((Jt,Vt)=>Jt+Vt.price*Vt.quantity,0),xt=d.discountAmount||0,At=d.deliveryCharges||0,Ot=d.gstAmount||mt*.18,br=mt-xt+At+Ot;h({...d,items:De,subtotalAmount:mt,gstAmount:Ot,totalAmount:br})},className:"w-full rounded border border-gray-300 px-2 py-1 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Price"}),r.jsx("input",{type:"number",min:"0",step:"0.01",value:ne.price,onChange:Me=>{const De=[...d.items],He=parseFloat(Me.target.value)||0;De[Oe]={...ne,price:He};const mt=De.reduce((Jt,Vt)=>Jt+Vt.price*Vt.quantity,0),xt=d.discountAmount||0,At=d.deliveryCharges||0,Ot=d.gstAmount||mt*.18,br=mt-xt+At+Ot;h({...d,items:De,subtotalAmount:mt,gstAmount:Ot,totalAmount:br})},className:"w-full rounded border border-gray-300 px-2 py-1 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500"})]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["Total: ",bt(ne.price*ne.quantity)]}),d.items.length>1&&r.jsx("button",{type:"button",onClick:()=>{const Me=d.items.filter((Ot,br)=>br!==Oe),De=Me.reduce((Ot,br)=>Ot+br.price*br.quantity,0),He=d.discountAmount||0,mt=d.deliveryCharges||0,xt=d.gstAmount||De*.18,At=De-He+mt+xt;h({...d,items:Me,subtotalAmount:De,gstAmount:xt,totalAmount:At})},className:"text-red-600 hover:text-red-800 text-xs font-medium",children:"Remove"})]})]})},Oe)),r.jsxs("button",{type:"button",onClick:()=>{const ne={productId:`new_${Date.now()}`,productName:"New Product",variant:"Standard",quantity:1,price:0};h({...d,items:[...d.items||[],ne]})},className:"w-full border-2 border-dashed border-blue-300 rounded-lg p-4 text-blue-600 hover:border-blue-400 hover:bg-blue-50 transition-colors text-sm font-medium flex items-center justify-center gap-2",children:[r.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add New Item"]})]}):r.jsx("div",{className:"text-center py-4 text-gray-500 text-sm",children:"No items in this order"})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Pricing Details"}),r.jsxs("div",{className:"space-y-3 mb-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[r.jsx(jl,{className:"h-4 w-4"}),"Promo Code Applied"]}),r.jsx("input",{type:"text",value:d.promoCode||"",onChange:ne=>h({...d,promoCode:ne.target.value}),placeholder:"Enter promo code",className:"w-full rounded border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Discounted Amount"}),r.jsx("input",{type:"number",min:"0",step:"0.01",value:d.discountAmount||0,onChange:ne=>{const Oe=parseFloat(ne.target.value)||0,Me=d.subtotalAmount||0,De=d.deliveryCharges||0,He=d.gstAmount||0,mt=Me-Oe+De+He;h({...d,discountAmount:Oe,totalAmount:mt})},className:"w-full rounded border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Delivery Charges"}),r.jsx("input",{type:"number",min:"0",step:"0.01",value:d.deliveryCharges||0,onChange:ne=>{const Oe=parseFloat(ne.target.value)||0,Me=d.subtotalAmount||0,De=d.discountAmount||0,He=d.gstAmount||0,mt=Me-De+Oe+He;h({...d,deliveryCharges:Oe,totalAmount:mt})},className:"w-full rounded border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"GST (18%)"}),r.jsx("input",{type:"number",min:"0",step:"0.01",value:d.gstAmount||0,onChange:ne=>{const Oe=parseFloat(ne.target.value)||0,Me=d.subtotalAmount||0,De=d.discountAmount||0,He=d.deliveryCharges||0,mt=Me-De+He+Oe;h({...d,gstAmount:Oe,totalAmount:mt})},className:"w-full rounded border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),r.jsx("div",{className:"border-t border-gray-200 pt-4",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Subtotal"}),r.jsx("span",{className:"font-medium",children:bt(d.subtotalAmount||d.totalAmount)})]}),d.promoCode&&r.jsxs("div",{className:"flex justify-between items-center text-green-600",children:[r.jsxs("span",{className:"text-sm",children:["Discount (",d.promoCode,")"]}),r.jsxs("span",{className:"font-medium",children:["-",bt(d.discountAmount||0)]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Delivery Charges"}),r.jsx("span",{className:"font-medium",children:d.deliveryCharges?bt(d.deliveryCharges):"Free"})]}),d.gstAmount&&r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"GST (18%)"}),r.jsx("span",{className:"font-medium",children:bt(d.gstAmount)})]}),r.jsx("div",{className:"border-t border-gray-300 pt-2",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Final Amount"}),r.jsx("span",{className:"text-xl font-bold text-gray-900",children:bt(d.totalAmount)})]})})]})})]}),r.jsx(mZ,{orderId:d.id,existingPhotos:d.packedPhotos||[],onUpload:ne=>fe(d.id,ne)}),r.jsx(xZ,{currentCharges:d.surgeCharges||0,onUpdate:(ne,Oe)=>Se(d.id,ne,Oe)}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[r.jsx(V0,{className:"h-5 w-5 text-blue-600"}),"Billing Address"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Street Address"}),r.jsx("input",{type:"text",value:d.billingAddress?.street||"",onChange:ne=>h({...d,billingAddress:{...d.billingAddress,street:ne.target.value,city:d.billingAddress?.city||"",state:d.billingAddress?.state||"",zipCode:d.billingAddress?.zipCode||"",country:d.billingAddress?.country||"India"}}),className:"w-full rounded border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),r.jsx("input",{type:"text",value:d.billingAddress?.city||"",onChange:ne=>h({...d,billingAddress:{...d.billingAddress,street:d.billingAddress?.street||"",city:ne.target.value,state:d.billingAddress?.state||"",zipCode:d.billingAddress?.zipCode||"",country:d.billingAddress?.country||"India"}}),className:"w-full rounded border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),r.jsx("input",{type:"text",value:d.billingAddress?.state||"",onChange:ne=>h({...d,billingAddress:{...d.billingAddress,street:d.billingAddress?.street||"",city:d.billingAddress?.city||"",state:ne.target.value,zipCode:d.billingAddress?.zipCode||"",country:d.billingAddress?.country||"India"}}),className:"w-full rounded border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ZIP Code"}),r.jsx("input",{type:"text",value:d.billingAddress?.zipCode||"",onChange:ne=>h({...d,billingAddress:{...d.billingAddress,street:d.billingAddress?.street||"",city:d.billingAddress?.city||"",state:d.billingAddress?.state||"",zipCode:ne.target.value,country:d.billingAddress?.country||"India"}}),className:"w-full rounded border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),r.jsx("input",{type:"text",value:d.billingAddress?.country||"India",onChange:ne=>h({...d,billingAddress:{...d.billingAddress,street:d.billingAddress?.street||"",city:d.billingAddress?.city||"",state:d.billingAddress?.state||"",zipCode:d.billingAddress?.zipCode||"",country:ne.target.value}}),className:"w-full rounded border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[r.jsx(Vs,{className:"h-5 w-5 text-green-600"}),"Shipping Address"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Street Address"}),r.jsx("input",{type:"text",value:d.shippingAddress?.street||"",onChange:ne=>h({...d,shippingAddress:{...d.shippingAddress,street:ne.target.value,city:d.shippingAddress?.city||"",state:d.shippingAddress?.state||"",zipCode:d.shippingAddress?.zipCode||"",country:d.shippingAddress?.country||"India"}}),className:"w-full rounded border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),r.jsx("input",{type:"text",value:d.shippingAddress?.city||"",onChange:ne=>h({...d,shippingAddress:{...d.shippingAddress,street:d.shippingAddress?.street||"",city:ne.target.value,state:d.shippingAddress?.state||"",zipCode:d.shippingAddress?.zipCode||"",country:d.shippingAddress?.country||"India"}}),className:"w-full rounded border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),r.jsx("input",{type:"text",value:d.shippingAddress?.state||"",onChange:ne=>h({...d,shippingAddress:{...d.shippingAddress,street:d.shippingAddress?.street||"",city:d.shippingAddress?.city||"",state:ne.target.value,zipCode:d.shippingAddress?.zipCode||"",country:d.shippingAddress?.country||"India"}}),className:"w-full rounded border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ZIP Code"}),r.jsx("input",{type:"text",value:d.shippingAddress?.zipCode||"",onChange:ne=>h({...d,shippingAddress:{...d.shippingAddress,street:d.shippingAddress?.street||"",city:d.shippingAddress?.city||"",state:d.shippingAddress?.state||"",zipCode:ne.target.value,country:d.shippingAddress?.country||"India"}}),className:"w-full rounded border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),r.jsx("input",{type:"text",value:d.shippingAddress?.country||"India",onChange:ne=>h({...d,shippingAddress:{...d.shippingAddress,street:d.shippingAddress?.street||"",city:d.shippingAddress?.city||"",state:d.shippingAddress?.state||"",zipCode:d.shippingAddress?.zipCode||"",country:ne.target.value}}),className:"w-full rounded border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})]}),r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[r.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[r.jsx(Mr,{className:"h-5 w-5 text-yellow-600"}),"Delivery Instructions"]}),r.jsx("textarea",{value:d.deliveryInstructions||"",onChange:ne=>h({...d,deliveryInstructions:ne.target.value}),placeholder:"Enter special delivery instructions...",rows:3,className:"w-full rounded border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx(oe,{type:"button",variant:"secondary",onClick:()=>{c(!1),h(null)},className:"flex-1",children:"Cancel"}),r.jsx(oe,{onClick:()=>D(d),className:"flex-1",children:"Update Order"})]})]})}),r.jsx(ir,{isOpen:!!m,onClose:()=>p(null),title:`Order Details - ${m?.id}`,size:"xl",children:m&&r.jsx(AIe,{order:m,onPaymentRecord:ne=>H(m.id,ne),onRefundRecord:ne=>se(m.id,ne),onAssignThirdParty:()=>{b(m.id),v(!0)}})}),r.jsx(l9e,{isOpen:x,onClose:()=>{v(!1),b("")},onSubmit:Be,orderId:y}),r.jsx(o9e,{isOpen:j,onClose:()=>{S(!1),k([])},onSubmit:at,orderCount:w.length,agents:ee}),d&&r.jsx(cZ,{isOpen:_,onClose:()=>O(!1),order:d,onSubmit:async ne=>{await se(d.id,ne),O(!1)}})]})})}const rU=[{id:"1",nameEn:"Seer Fish (Vanjaram)",nameTa:"",sku:"FISH-001",category:"fish",description:"Premium quality seer fish",images:[],variants:[{id:"v1",type:"Whole Cleaned",size:"Medium",grossWeight:"1000-1250g",netWeight:"800-1000g",pieces:"1 piece",serves:"3-4",price:1200,stock:25,discount:10},{id:"v2",type:"Curry Cut",size:"Medium",grossWeight:"1000g",netWeight:"800g",pieces:"8-10 pieces",serves:"3-4",price:1300,stock:20}],isBestSeller:!0,isRare:!1,isActive:!0,deliveryType:"next_day",sourceType:"hub",approvalStatus:"approved"},{id:"2",nameEn:"Tiger Prawns",nameTa:"",sku:"PRWN-001",category:"prawns",description:"Fresh tiger prawns",images:[],variants:[{id:"v3",type:"Cleaned",size:"Large",grossWeight:"500g",netWeight:"400g",pieces:"15-20 pieces",serves:"2-3",price:650,stock:15},{id:"v4",type:"Uncleaned",size:"Large",grossWeight:"500g",netWeight:"450g",pieces:"15-20 pieces",serves:"2-3",price:580,stock:18}],isBestSeller:!0,isRare:!1,isActive:!0,deliveryType:"next_day",sourceType:"hub",approvalStatus:"approved"},{id:"3",nameEn:"Chicken Breast",nameTa:" ",sku:"CHKN-001",category:"chicken",description:"Boneless chicken breast",images:[],variants:[{id:"v5",type:"Boneless",size:"Pack",grossWeight:"500g",netWeight:"500g",pieces:"2-3 pieces",serves:"2-3",price:280,stock:50}],isBestSeller:!1,isRare:!1,isActive:!0,deliveryType:"same_day",sourceType:"store",approvalStatus:"approved"},{id:"4",nameEn:"Mutton Curry Cut",nameTa:" ",sku:"MUTN-001",category:"mutton",description:"Fresh mutton curry cut",images:[],variants:[{id:"v6",type:"Curry Cut",size:"Pack",grossWeight:"500g",netWeight:"500g",pieces:"8-10 pieces",serves:"2-3",price:450,stock:30}],isBestSeller:!1,isRare:!1,isActive:!0,deliveryType:"same_day",sourceType:"store",approvalStatus:"approved"}],bk=[{id:"hub_1",name:"Central Hub",type:"hub",location:"Chennai Central"},{id:"hub_2",name:"North Hub",type:"hub",location:"Chennai North"}],jk=[{id:"store_1",name:"Anna Nagar Store",type:"store",location:"Anna Nagar"},{id:"store_2",name:"T. Nagar Store",type:"store",location:"T. Nagar"},{id:"store_3",name:"Velachery Store",type:"store",location:"Velachery"}];function c9e(){const{user:e}=es(),[t,s]=A.useState("hub"),a=rU.filter(l=>l.sourceType==="hub"),n=rU.filter(l=>l.sourceType==="store"||l.sourceType==="hub"),i=async l=>{try{await new Promise(o=>setTimeout(o,2e3)),console.log("Order created:",l),alert(`${t.toUpperCase()} Order created successfully!`)}catch(o){console.error("Failed to create order:",o),alert("Failed to create order. Please try again.")}};return e?.loginType==="hub"?r.jsxs("div",{className:"space-y-4 sm:space-y-6 p-4 sm:p-6",children:[r.jsx(Vc,{title:"Hub Manual Order Creation",description:"Create manual orders for fish products with next-day delivery"}),r.jsx(Gp,{moduleType:"hub",products:a,hubs:bk,onSubmit:i})]}):e?.loginType==="store"?r.jsxs("div",{className:"space-y-4 sm:space-y-6 p-4 sm:p-6",children:[r.jsx(Vc,{title:"Store Manual Order Creation",description:"Create manual orders for all products with same-day/next-day delivery"}),r.jsx(Gp,{moduleType:"store",products:n,hubs:jk,onSubmit:i})]}):r.jsxs("div",{className:"space-y-4 sm:space-y-6 p-4 sm:p-6",children:[r.jsx(Vc,{title:"Manual Order Creation",description:"Create manual orders for both hub and store operations"}),r.jsxs(he,{className:"p-0 overflow-hidden",children:[r.jsx("div",{className:"border-b border-gray-200",children:r.jsxs("nav",{className:"flex overflow-x-auto px-4 sm:px-6","aria-label":"Tabs",children:[r.jsxs("button",{onClick:()=>s("hub"),className:`
                flex items-center gap-2 py-3 sm:py-4 px-3 sm:px-4 border-b-2 font-medium text-xs sm:text-sm transition-colors whitespace-nowrap
                ${t==="hub"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
              `,children:[r.jsx(yo,{className:"h-4 w-4 sm:h-5 sm:w-5"}),r.jsx("span",{className:"hidden sm:inline",children:"Hub Orders"}),r.jsx("span",{className:"sm:hidden",children:"Hub"}),r.jsxs(Xe,{variant:t==="hub"?"info":"default",className:"ml-1 text-xs",children:[r.jsx("span",{className:"hidden sm:inline",children:"Fish Products"}),r.jsx("span",{className:"sm:hidden",children:"Fish"})]})]}),r.jsxs("button",{onClick:()=>s("store"),className:`
                flex items-center gap-2 py-3 sm:py-4 px-3 sm:px-4 border-b-2 font-medium text-xs sm:text-sm transition-colors whitespace-nowrap
                ${t==="store"?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
              `,children:[r.jsx(Fn,{className:"h-4 w-4 sm:h-5 sm:w-5"}),"Store Orders",r.jsx(Xe,{variant:t==="store"?"success":"default",className:"ml-1",children:"All Products"})]})]})}),r.jsxs("div",{className:"p-4 sm:p-6",children:[t==="hub"&&r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-4 sm:p-6 border border-blue-200 mb-4 sm:mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"h-10 w-10 sm:h-12 sm:w-12 rounded-xl bg-blue-600 flex items-center justify-center",children:r.jsx(yo,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-blue-900",children:"Hub Order Creation"}),r.jsx("p",{className:"text-xs sm:text-sm text-blue-700",children:"Fish products  Next day delivery  Premium quality"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[r.jsxs("div",{className:"bg-white/60 rounded-lg p-2 sm:p-3",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-blue-900",children:a.length}),r.jsx("p",{className:"text-xs sm:text-sm text-blue-700",children:"Available Products"})]}),r.jsxs("div",{className:"bg-white/60 rounded-lg p-2 sm:p-3",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-blue-900",children:bk.length}),r.jsx("p",{className:"text-xs sm:text-sm text-blue-700",children:"Active Hubs"})]}),r.jsxs("div",{className:"bg-white/60 rounded-lg p-2 sm:p-3",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-blue-900",children:"Next Day"}),r.jsx("p",{className:"text-xs sm:text-sm text-blue-700",children:"Delivery Type"})]}),r.jsxs("div",{className:"bg-white/60 rounded-lg p-2 sm:p-3",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-blue-900",children:"Premium"}),r.jsx("p",{className:"text-xs sm:text-sm text-blue-700",children:"Quality Grade"})]})]})]}),t==="store"&&r.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-4 sm:p-6 border border-green-200 mb-4 sm:mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"h-10 w-10 sm:h-12 sm:w-12 rounded-xl bg-green-600 flex items-center justify-center",children:r.jsx(Fn,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-green-900",children:"Store Order Creation"}),r.jsx("p",{className:"text-xs sm:text-sm text-green-700",children:"All products  Same/Next day delivery  Wide variety"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[r.jsxs("div",{className:"bg-white/60 rounded-lg p-2 sm:p-3",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-900",children:n.length}),r.jsx("p",{className:"text-xs sm:text-sm text-green-700",children:"Available Products"})]}),r.jsxs("div",{className:"bg-white/60 rounded-lg p-2 sm:p-3",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-900",children:jk.length}),r.jsx("p",{className:"text-xs sm:text-sm text-green-700",children:"Active Stores"})]}),r.jsxs("div",{className:"bg-white/60 rounded-lg p-2 sm:p-3",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-900",children:"Same Day"}),r.jsx("p",{className:"text-xs sm:text-sm text-green-700",children:"Delivery Type"})]}),r.jsxs("div",{className:"bg-white/60 rounded-lg p-2 sm:p-3",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-900",children:"Variety"}),r.jsx("p",{className:"text-xs sm:text-sm text-green-700",children:"Product Range"})]})]})]})]})]}),t==="hub"&&r.jsx(Gp,{moduleType:"hub",products:a,hubs:bk,onSubmit:i}),t==="store"&&r.jsx(Gp,{moduleType:"store",products:n,hubs:jk,onSubmit:i})]})}const b0=[{id:"rare_1",nameEn:"King Fish (Premium)",nameTa:" ",sku:"RARE-001",category:"fish",description:"Premium king fish - limited availability, advance booking required",images:[],variants:[{id:"rv1",type:"Whole Cleaned",size:"Large",grossWeight:"2000-2500g",netWeight:"1800-2200g",pieces:"1 piece",serves:"6-8",price:2500,stock:5}],isBestSeller:!1,isRare:!0,isActive:!0,deliveryType:"next_day",sourceType:"hub",approvalStatus:"approved"},{id:"rare_2",nameEn:"Wild Caught Tuna",nameTa:" ",sku:"RARE-002",category:"fish",description:"Wild caught tuna - seasonal availability, premium quality",images:[],variants:[{id:"rv2",type:"Steaks",size:"Large",grossWeight:"1500g",netWeight:"1200g",pieces:"6-8 steaks",serves:"4-6",price:1800,stock:3}],isBestSeller:!1,isRare:!0,isActive:!0,deliveryType:"next_day",sourceType:"hub",approvalStatus:"approved"},{id:"exotic_1",nameEn:"Live Lobster",nameTa:"",sku:"EXOTIC-001",category:"lobster",description:"Fresh live lobster - 48 hours advance notice required, imported quality",images:[],variants:[{id:"ev1",type:"Live",size:"Large",grossWeight:"800-1000g",netWeight:"800-1000g",pieces:"1 piece",serves:"3-4",price:3200,stock:2}],isBestSeller:!1,isRare:!1,isActive:!0,deliveryType:"exotic",sourceType:"hub",approvalStatus:"approved"},{id:"exotic_2",nameEn:"Norwegian Salmon",nameTa:" ",sku:"EXOTIC-002",category:"fish",description:"Imported Norwegian salmon - premium exotic fish, 72 hours advance booking",images:[],variants:[{id:"ev2",type:"Fillet",size:"Premium",grossWeight:"1000g",netWeight:"900g",pieces:"2 fillets",serves:"3-4",price:2800,stock:1}],isBestSeller:!1,isRare:!1,isActive:!0,deliveryType:"exotic",sourceType:"hub",approvalStatus:"approved"},{id:"exotic_3",nameEn:"Blue Crab (Live)",nameTa:" ",sku:"EXOTIC-003",category:"crab",description:"Live blue crab - imported delicacy, requires special handling",images:[],variants:[{id:"ev3",type:"Live",size:"Large",grossWeight:"500-600g",netWeight:"500-600g",pieces:"2-3 pieces",serves:"2-3",price:2200,stock:3}],isBestSeller:!1,isRare:!1,isActive:!0,deliveryType:"exotic",sourceType:"hub",approvalStatus:"approved"},{id:"hub_1",nameEn:"Seer Fish (Vanjaram)",nameTa:"",sku:"FISH-001",category:"fish",description:"Premium quality seer fish",images:[],variants:[{id:"v1",type:"Whole Cleaned",size:"Medium",grossWeight:"1000-1250g",netWeight:"800-1000g",pieces:"1 piece",serves:"3-4",price:1200,stock:25,discount:10},{id:"v2",type:"Curry Cut",size:"Medium",grossWeight:"1000g",netWeight:"800g",pieces:"8-10 pieces",serves:"3-4",price:1300,stock:20}],isBestSeller:!0,isRare:!1,isActive:!0,deliveryType:"next_day",sourceType:"hub",approvalStatus:"approved"},{id:"hub_2",nameEn:"Tiger Prawns",nameTa:"",sku:"PRWN-001",category:"prawns",description:"Fresh tiger prawns",images:[],variants:[{id:"v3",type:"Cleaned",size:"Large",grossWeight:"500g",netWeight:"400g",pieces:"15-20 pieces",serves:"2-3",price:650,stock:15},{id:"v4",type:"Uncleaned",size:"Large",grossWeight:"500g",netWeight:"450g",pieces:"15-20 pieces",serves:"2-3",price:580,stock:18}],isBestSeller:!0,isRare:!1,isActive:!0,deliveryType:"next_day",sourceType:"hub",approvalStatus:"approved"}],Nk=[...b0,{id:"store_1",nameEn:"Chicken Breast",nameTa:" ",sku:"CHKN-001",category:"chicken",description:"Boneless chicken breast",images:[],variants:[{id:"v5",type:"Boneless",size:"Pack",grossWeight:"500g",netWeight:"500g",pieces:"2-3 pieces",serves:"2-3",price:280,stock:50}],isBestSeller:!1,isRare:!1,isActive:!0,deliveryType:"same_day",sourceType:"store",approvalStatus:"approved"},{id:"store_2",nameEn:"Mutton Curry Cut",nameTa:" ",sku:"MUTN-001",category:"mutton",description:"Fresh mutton curry cut",images:[],variants:[{id:"v6",type:"Curry Cut",size:"Pack",grossWeight:"500g",netWeight:"500g",pieces:"8-10 pieces",serves:"2-3",price:450,stock:30}],isBestSeller:!1,isRare:!1,isActive:!0,deliveryType:"same_day",sourceType:"store",approvalStatus:"approved"},{id:"store_3",nameEn:"Country Eggs",nameTa:" ",sku:"EGG-001",category:"egg",description:"Fresh country eggs",images:[],variants:[{id:"v7",type:"Fresh",size:"Medium",grossWeight:"12 pieces",netWeight:"12 pieces",pieces:"12 pieces",serves:"4-6",price:120,stock:100}],isBestSeller:!0,isRare:!1,isActive:!0,deliveryType:"same_day",sourceType:"store",approvalStatus:"approved"}],wk=[{id:"hub_1",name:"Central Hub",type:"hub",location:"Chennai Central"},{id:"hub_2",name:"North Hub",type:"hub",location:"Chennai North"}],Sk=[{id:"store_1",name:"Anna Nagar Store",type:"store",location:"Anna Nagar"},{id:"store_2",name:"T. Nagar Store",type:"store",location:"T. Nagar"},{id:"store_3",name:"Velachery Store",type:"store",location:"Velachery"}];function d9e(){const{user:e}=es(),[t,s]=A.useState("hub"),a=h=>h.filter(m=>m.isRare&&m.deliveryType==="next_day"),n=h=>h.filter(m=>!m.isRare&&m.deliveryType==="exotic"),i=h=>h.filter(m=>!m.isRare&&m.deliveryType!=="exotic"),l=async h=>{try{await new Promise(m=>setTimeout(m,2e3)),console.log("Pre-order created:",h),alert(`${t.toUpperCase()} Pre-order created successfully!`)}catch(m){console.error("Failed to create pre-order:",m),alert("Failed to create pre-order. Please try again.")}},o=a(b0),c=n(b0),d=i(b0);return e?.loginType==="hub"?r.jsxs("div",{className:"space-y-4 sm:space-y-6 p-4 sm:p-6",children:[r.jsx(Vc,{title:"Hub Pre-Order Creation",description:"Create advance bookings for fish products and rare items"}),r.jsx(Kp,{moduleType:"hub",products:b0,hubs:wk,onSubmit:l})]}):e?.loginType==="store"?r.jsxs("div",{className:"space-y-4 sm:space-y-6 p-4 sm:p-6",children:[r.jsx(Vc,{title:"Store Pre-Order Creation",description:"Create advance bookings for all products and bulk orders"}),r.jsx(Kp,{moduleType:"store",products:Nk,hubs:Sk,onSubmit:l})]}):r.jsxs("div",{className:"space-y-4 sm:space-y-6 p-4 sm:p-6",children:[r.jsx(Vc,{title:"Pre-Order Management",description:"Create advance bookings for both hub and store operations"}),r.jsxs(he,{className:"p-0 overflow-hidden",children:[r.jsx("div",{className:"border-b border-gray-200",children:r.jsxs("nav",{className:"flex overflow-x-auto px-4 sm:px-6","aria-label":"Tabs",children:[r.jsxs("button",{onClick:()=>s("hub"),className:`
                flex items-center gap-2 py-3 sm:py-4 px-3 sm:px-4 border-b-2 font-medium text-xs sm:text-sm transition-colors whitespace-nowrap
                ${t==="hub"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
              `,children:[r.jsx(yo,{className:"h-4 w-4 sm:h-5 sm:w-5"}),r.jsx("span",{className:"hidden sm:inline",children:"Hub Pre-Orders"}),r.jsx("span",{className:"sm:hidden",children:"Hub"}),r.jsxs(Xe,{variant:t==="hub"?"info":"default",className:"ml-1 text-xs",children:[r.jsx("span",{className:"hidden sm:inline",children:"Rare & Exotic"}),r.jsx("span",{className:"sm:hidden",children:"R&E"})]})]}),r.jsxs("button",{onClick:()=>s("store"),className:`
                flex items-center gap-2 py-3 sm:py-4 px-3 sm:px-4 border-b-2 font-medium text-xs sm:text-sm transition-colors whitespace-nowrap
                ${t==="store"?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
              `,children:[r.jsx(Fn,{className:"h-4 w-4 sm:h-5 sm:w-5"}),r.jsx("span",{className:"hidden sm:inline",children:"Store Pre-Orders"}),r.jsx("span",{className:"sm:hidden",children:"Store"}),r.jsx(Xe,{variant:t==="store"?"success":"default",className:"ml-1",children:"All Products"})]})]})}),r.jsxs("div",{className:"p-4 sm:p-6",children:[t==="hub"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-4 sm:p-6 border border-blue-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"h-10 w-10 sm:h-12 sm:w-12 rounded-xl bg-blue-600 flex items-center justify-center",children:r.jsx(yo,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-blue-900",children:"Hub Pre-Order Creation"}),r.jsx("p",{className:"text-xs sm:text-sm text-blue-700",children:"Regular fish  Rare products  Exotic imports  Advance booking"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[r.jsxs("div",{className:"bg-white/60 rounded-lg p-2 sm:p-3",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-blue-900",children:b0.length}),r.jsx("p",{className:"text-xs sm:text-sm text-blue-700",children:"Total Products"})]}),r.jsxs("div",{className:"bg-white/60 rounded-lg p-2 sm:p-3",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-blue-900",children:wk.length}),r.jsx("p",{className:"text-xs sm:text-sm text-blue-700",children:"Active Hubs"})]}),r.jsxs("div",{className:"bg-white/60 rounded-lg p-2 sm:p-3",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-blue-900",children:"30 Days"}),r.jsx("p",{className:"text-xs sm:text-sm text-blue-700",children:"Max Advance"})]}),r.jsxs("div",{className:"bg-white/60 rounded-lg p-2 sm:p-3",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-blue-900",children:"Premium"}),r.jsx("p",{className:"text-xs sm:text-sm text-blue-700",children:"Quality Grade"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4 border border-green-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"h-8 w-8 rounded-lg bg-green-600 flex items-center justify-center",children:r.jsx(Tt,{className:"h-4 w-4 text-white"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-green-900",children:"Regular Products"}),r.jsx("p",{className:"text-xs text-green-700",children:"Next day delivery"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-green-700",children:"Available:"}),r.jsx("span",{className:"font-bold text-green-900",children:d.length})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-green-700",children:"Booking:"}),r.jsx("span",{className:"text-xs text-green-600",children:"24 hours"})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 rounded-lg p-4 border border-amber-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"h-8 w-8 rounded-lg bg-amber-600 flex items-center justify-center",children:r.jsx(qs,{className:"h-4 w-4 text-white"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-amber-900",children:"Rare Products"}),r.jsx("p",{className:"text-xs text-amber-700",children:"Limited availability"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-amber-700",children:"Available:"}),r.jsx("span",{className:"font-bold text-amber-900",children:o.length})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-amber-700",children:"Booking:"}),r.jsx("span",{className:"text-xs text-amber-600",children:"48 hours"})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-4 border border-purple-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"h-8 w-8 rounded-lg bg-purple-600 flex items-center justify-center",children:r.jsx(iz,{className:"h-4 w-4 text-white"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-purple-900",children:"Exotic Products"}),r.jsx("p",{className:"text-xs text-purple-700",children:"Imported delicacies"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-purple-700",children:"Available:"}),r.jsx("span",{className:"font-bold text-purple-900",children:c.length})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-purple-700",children:"Booking:"}),r.jsx("span",{className:"text-xs text-purple-600",children:"72 hours"})]})]})]})]})]}),t==="store"&&r.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-4 sm:p-6 border border-green-200 mb-4 sm:mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"h-10 w-10 sm:h-12 sm:w-12 rounded-xl bg-green-600 flex items-center justify-center",children:r.jsx(Fn,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-green-900",children:"Store Pre-Order Creation"}),r.jsx("p",{className:"text-xs sm:text-sm text-green-700",children:"All products  Bulk orders  Subscriptions  Same/Next day delivery"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[r.jsxs("div",{className:"bg-white/60 rounded-lg p-2 sm:p-3",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-900",children:Nk.length}),r.jsx("p",{className:"text-xs sm:text-sm text-green-700",children:"Available Products"})]}),r.jsxs("div",{className:"bg-white/60 rounded-lg p-2 sm:p-3",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-900",children:Sk.length}),r.jsx("p",{className:"text-xs sm:text-sm text-green-700",children:"Active Stores"})]}),r.jsxs("div",{className:"bg-white/60 rounded-lg p-2 sm:p-3",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-900",children:"90 Days"}),r.jsx("p",{className:"text-xs sm:text-sm text-green-700",children:"Max Advance"})]}),r.jsxs("div",{className:"bg-white/60 rounded-lg p-2 sm:p-3",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-900",children:"Variety"}),r.jsx("p",{className:"text-xs sm:text-sm text-green-700",children:"Product Range"})]})]})]})]})]}),t==="hub"&&r.jsx(Kp,{moduleType:"hub",products:b0,hubs:wk,onSubmit:l}),t==="store"&&r.jsx(Kp,{moduleType:"store",products:Nk,hubs:Sk,onSubmit:l})]})}const u9e=[{id:"1",nameEn:"Seer Fish (Vanjaram)",nameTa:"",sku:"FISH-001",category:"fish",description:"Premium quality seer fish",images:[],variants:[{id:"v1",type:"Whole Cleaned",size:"Medium",grossWeight:"1000-1250g",netWeight:"800-1000g",pieces:"1 piece",serves:"3-4",price:1200,stock:25,discount:10},{id:"v2",type:"Curry Cut",size:"Medium",grossWeight:"1000g",netWeight:"800g",pieces:"8-10 pieces",serves:"3-4",price:1300,stock:20}],isBestSeller:!0,isRare:!1,isActive:!0,deliveryType:"next_day",sourceType:"hub",approvalStatus:"approved"},{id:"2",nameEn:"Tiger Prawns",nameTa:"",sku:"PRWN-001",category:"prawns",description:"Fresh tiger prawns",images:[],variants:[{id:"v3",type:"Cleaned",size:"Large",grossWeight:"500g",netWeight:"400g",pieces:"15-20 pieces",serves:"2-3",price:650,stock:15},{id:"v4",type:"Uncleaned",size:"Large",grossWeight:"500g",netWeight:"450g",pieces:"15-20 pieces",serves:"2-3",price:580,stock:18}],isBestSeller:!0,isRare:!1,isActive:!0,deliveryType:"next_day",sourceType:"hub",approvalStatus:"approved"}],h9e=[{id:"hub_1",name:"Central Hub",type:"hub",location:"Chennai Central"},{id:"hub_2",name:"North Hub",type:"hub",location:"Chennai North"}];function f9e(){const e=async t=>{try{await new Promise(s=>setTimeout(s,2e3)),console.log("Hub order created:",t),alert("Hub Order created successfully!")}catch(s){console.error("Failed to create hub order:",s),alert("Failed to create hub order. Please try again.")}};return r.jsxs("div",{className:"space-y-6",children:[r.jsx(Vc,{title:"Hub Manual Order Creation",description:"Create manual orders for fish products with next-day delivery"}),r.jsx(Gp,{moduleType:"hub",products:u9e,hubs:h9e,onSubmit:e})]})}const m9e=[{id:"rare_1",nameEn:"King Fish (Premium)",nameTa:" ",sku:"RARE-001",category:"fish",description:"Premium king fish - advance booking required",images:[],variants:[{id:"rv1",type:"Whole Cleaned",size:"Large",grossWeight:"2000-2500g",netWeight:"1800-2200g",pieces:"1 piece",serves:"6-8",price:2500,stock:5}],isBestSeller:!1,isRare:!0,isActive:!0,deliveryType:"exotic",sourceType:"hub",approvalStatus:"approved"},{id:"hub_1",nameEn:"Seer Fish (Vanjaram)",nameTa:"",sku:"FISH-001",category:"fish",description:"Premium quality seer fish",images:[],variants:[{id:"v1",type:"Whole Cleaned",size:"Medium",grossWeight:"1000-1250g",netWeight:"800-1000g",pieces:"1 piece",serves:"3-4",price:1200,stock:25,discount:10}],isBestSeller:!0,isRare:!1,isActive:!0,deliveryType:"next_day",sourceType:"hub",approvalStatus:"approved"}],x9e=[{id:"hub_1",name:"Central Hub",type:"hub",location:"Chennai Central"},{id:"hub_2",name:"North Hub",type:"hub",location:"Chennai North"}];function p9e(){const e=async t=>{try{await new Promise(s=>setTimeout(s,2e3)),console.log("Hub pre-order created:",t),alert("Hub Pre-order created successfully!")}catch(s){console.error("Failed to create hub pre-order:",s),alert("Failed to create hub pre-order. Please try again.")}};return r.jsxs("div",{className:"space-y-6",children:[r.jsx(Vc,{title:"Hub Pre-Order Creation",description:"Create advance bookings for fish products and rare items"}),r.jsx(Kp,{moduleType:"hub",products:m9e,hubs:x9e,onSubmit:e})]})}const g9e=[{id:"1",nameEn:"Seer Fish (Vanjaram)",nameTa:"",sku:"FISH-001",category:"fish",description:"Premium quality seer fish",images:[],variants:[{id:"v1",type:"Whole Cleaned",size:"Medium",grossWeight:"1000-1250g",netWeight:"800-1000g",pieces:"1 piece",serves:"3-4",price:1200,stock:25,discount:10},{id:"v2",type:"Curry Cut",size:"Medium",grossWeight:"1000g",netWeight:"800g",pieces:"8-10 pieces",serves:"3-4",price:1300,stock:20}],isBestSeller:!0,isRare:!1,isActive:!0,deliveryType:"next_day",sourceType:"hub",approvalStatus:"approved"},{id:"2",nameEn:"Tiger Prawns",nameTa:"",sku:"PRWN-001",category:"prawns",description:"Fresh tiger prawns",images:[],variants:[{id:"v3",type:"Cleaned",size:"Large",grossWeight:"500g",netWeight:"400g",pieces:"15-20 pieces",serves:"2-3",price:650,stock:15},{id:"v4",type:"Uncleaned",size:"Large",grossWeight:"500g",netWeight:"450g",pieces:"15-20 pieces",serves:"2-3",price:580,stock:18}],isBestSeller:!0,isRare:!1,isActive:!0,deliveryType:"next_day",sourceType:"hub",approvalStatus:"approved"},{id:"3",nameEn:"Chicken Breast",nameTa:" ",sku:"CHKN-001",category:"chicken",description:"Boneless chicken breast",images:[],variants:[{id:"v5",type:"Boneless",size:"Pack",grossWeight:"500g",netWeight:"500g",pieces:"2-3 pieces",serves:"2-3",price:280,stock:50}],isBestSeller:!1,isRare:!1,isActive:!0,deliveryType:"same_day",sourceType:"store",approvalStatus:"approved"},{id:"4",nameEn:"Mutton Curry Cut",nameTa:" ",sku:"MUTN-001",category:"mutton",description:"Fresh mutton curry cut",images:[],variants:[{id:"v6",type:"Curry Cut",size:"Pack",grossWeight:"500g",netWeight:"500g",pieces:"8-10 pieces",serves:"2-3",price:450,stock:30}],isBestSeller:!1,isRare:!1,isActive:!0,deliveryType:"same_day",sourceType:"store",approvalStatus:"approved"}],v9e=[{id:"store_1",name:"Anna Nagar Store",type:"store",location:"Anna Nagar"},{id:"store_2",name:"T. Nagar Store",type:"store",location:"T. Nagar"},{id:"store_3",name:"Velachery Store",type:"store",location:"Velachery"}];function sU(){const e=async t=>{try{await new Promise(s=>setTimeout(s,2e3)),console.log("Store order created:",t),alert("Store Order created successfully!")}catch(s){console.error("Failed to create store order:",s),alert("Failed to create store order. Please try again.")}};return r.jsxs("div",{className:"space-y-6",children:[r.jsx(Vc,{title:"Store Manual Order Creation",description:"Create manual orders for all products with same-day/next-day delivery"}),r.jsx(Gp,{moduleType:"store",products:g9e,hubs:v9e,onSubmit:e})]})}const y9e=[{id:"rare_1",nameEn:"King Fish (Premium)",nameTa:" ",sku:"RARE-001",category:"fish",description:"Premium king fish - advance booking required",images:[],variants:[{id:"rv1",type:"Whole Cleaned",size:"Large",grossWeight:"2000-2500g",netWeight:"1800-2200g",pieces:"1 piece",serves:"6-8",price:2500,stock:5}],isBestSeller:!1,isRare:!0,isActive:!0,deliveryType:"exotic",sourceType:"hub",approvalStatus:"approved"},{id:"hub_1",nameEn:"Seer Fish (Vanjaram)",nameTa:"",sku:"FISH-001",category:"fish",description:"Premium quality seer fish",images:[],variants:[{id:"v1",type:"Whole Cleaned",size:"Medium",grossWeight:"1000-1250g",netWeight:"800-1000g",pieces:"1 piece",serves:"3-4",price:1200,stock:25,discount:10}],isBestSeller:!0,isRare:!1,isActive:!0,deliveryType:"next_day",sourceType:"hub",approvalStatus:"approved"},{id:"store_1",nameEn:"Chicken Breast",nameTa:" ",sku:"CHKN-001",category:"chicken",description:"Boneless chicken breast",images:[],variants:[{id:"v5",type:"Boneless",size:"Pack",grossWeight:"500g",netWeight:"500g",pieces:"2-3 pieces",serves:"2-3",price:280,stock:50}],isBestSeller:!1,isRare:!1,isActive:!0,deliveryType:"same_day",sourceType:"store",approvalStatus:"approved"},{id:"store_2",nameEn:"Mutton Curry Cut",nameTa:" ",sku:"MUTN-001",category:"mutton",description:"Fresh mutton curry cut",images:[],variants:[{id:"v6",type:"Curry Cut",size:"Pack",grossWeight:"500g",netWeight:"500g",pieces:"8-10 pieces",serves:"2-3",price:450,stock:30}],isBestSeller:!1,isRare:!1,isActive:!0,deliveryType:"same_day",sourceType:"store",approvalStatus:"approved"}],b9e=[{id:"store_1",name:"Anna Nagar Store",type:"store",location:"Anna Nagar"},{id:"store_2",name:"T. Nagar Store",type:"store",location:"T. Nagar"},{id:"store_3",name:"Velachery Store",type:"store",location:"Velachery"}];function aU(){const e=async t=>{try{await new Promise(s=>setTimeout(s,2e3)),console.log("Store pre-order created:",t),alert("Store Pre-order created successfully!")}catch(s){console.error("Failed to create store pre-order:",s),alert("Failed to create store pre-order. Please try again.")}};return r.jsxs("div",{className:"space-y-6",children:[r.jsx(Vc,{title:"Store Pre-Order Creation",description:"Create advance bookings for all products and bulk orders"}),r.jsx(Kp,{moduleType:"store",products:y9e,hubs:b9e,onSubmit:e})]})}const nU=[{id:"1",name:"Sea Fish",nameTa:" ",isActive:!0,applicableFor:"hub"},{id:"2",name:"Freshwater Fish",nameTa:" ",isActive:!0,applicableFor:"hub"},{id:"3",name:"Shell Fish",nameTa:" ",isActive:!0,applicableFor:"hub"},{id:"4",name:"Dry Fish",nameTa:" ",isActive:!0,applicableFor:"hub"},{id:"5",name:"Meat",nameTa:"",isActive:!0,applicableFor:"store"},{id:"6",name:"Eggs",nameTa:"",isActive:!0,applicableFor:"store"},{id:"7",name:"Spices",nameTa:"",isActive:!0,applicableFor:"store"},{id:"8",name:"Ready to Eat",nameTa:" ",isActive:!0,applicableFor:"store"},{id:"9",name:"Ready to Cook",nameTa:" ",isActive:!0,applicableFor:"store"}];function j9e({data:e,onChange:t}){const{user:s}=es(),n=(()=>{const o=s?.loginType==="super_admin"?"both":s?.loginType==="hub"?"hub":"store";return nU.filter(c=>c.isActive?o==="both"?!0:c.applicableFor===o:!1)})(),l=nU.find(c=>c.id===e.category)?.applicableFor==="hub";return r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(Tt,{className:"h-5 w-5 text-blue-600"}),r.jsx("h2",{className:"text-lg font-semibold",children:"Product Information"}),r.jsxs("div",{className:"flex items-center gap-4 ml-auto",children:[r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:e.isBestSeller,onChange:o=>t("isBestSeller",o.target.checked),className:"rounded border-gray-300"}),r.jsx("span",{className:"text-sm",children:"Best Seller"})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:e.isRareProduct,onChange:o=>t("isRareProduct",o.target.checked),className:"rounded border-gray-300"}),r.jsx("span",{className:"text-sm",children:"Rare Product"})]})]})]}),r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Name (English) *"}),r.jsx("input",{type:"text",value:e.nameEn,onChange:o=>t("nameEn",o.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Seer Fish"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Name (Tamil) *"}),r.jsx("input",{type:"text",value:e.nameTa,onChange:o=>t("nameTa",o.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:""})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),r.jsxs("select",{value:e.category,onChange:o=>t("category",o.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"Select Category"}),n.map(o=>r.jsxs("option",{value:o.id,children:[o.name," (",o.nameTa,")"]},o.id))]}),n.length===0&&r.jsx("p",{className:"text-xs text-red-600 mt-1",children:"No categories available. Please contact admin to add categories."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"HSN Number"}),r.jsx("input",{type:"text",value:e.hsnNumber,onChange:o=>t("hsnNumber",o.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"100"})]})]}),l&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-3 mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Variant"}),r.jsx("input",{type:"text",value:e.variant,onChange:o=>t("variant",o.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Medium"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fish Size"}),r.jsx("input",{type:"text",value:e.fishSize,onChange:o=>t("fishSize",o.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"1 kg"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max"}),r.jsx("input",{type:"text",value:e.maxSize,onChange:o=>t("maxSize",o.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"2 kg"})]})]}),r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Base Price () *"}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Min"}),r.jsx("input",{type:"number",value:e.basePriceMin,onChange:o=>t("basePriceMin",Number(o.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"1299"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Max"}),r.jsx("input",{type:"number",value:e.basePriceMax,onChange:o=>t("basePriceMax",Number(o.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"1299"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fish Count"}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Min"}),r.jsx("input",{type:"number",value:e.fishCountMin,onChange:o=>t("fishCountMin",Number(o.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Max"}),r.jsx("input",{type:"number",value:e.fishCountMax,onChange:o=>t("fishCountMax",Number(o.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"2"})]})]})]})]}),r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Type *"}),r.jsxs("select",{value:e.productType,onChange:o=>t("productType",o.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"Select Type"}),r.jsx("option",{value:"fresh",children:"Fresh"}),r.jsx("option",{value:"frozen",children:"Frozen"}),r.jsx("option",{value:"processed",children:"Processed"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Season"}),r.jsx("input",{type:"text",value:e.season,onChange:o=>t("season",o.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"April - December"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Meta Title Tag *"}),r.jsx("input",{type:"text",value:e.metaTitle,onChange:o=>t("metaTitle",o.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Fresh Seer Fish - Premium Quality | BayHawk",maxLength:60}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[e.metaTitle.length,"/60 characters"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Meta Description *"}),r.jsx("textarea",{value:e.metaDescription,onChange:o=>t("metaDescription",o.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Buy fresh seer fish online. Premium quality, cleaned and delivered to your doorstep. Rich in omega-3 and protein.",rows:3,maxLength:160}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[e.metaDescription.length,"/160 characters"]})]})]})]}),!l&&e.category&&r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Base Price () *"}),r.jsx("input",{type:"number",value:e.basePriceMin,onChange:o=>t("basePriceMin",Number(o.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"299"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Variant"}),r.jsx("input",{type:"text",value:e.variant,onChange:o=>t("variant",o.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"500g, 1kg, etc."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Weight/Quantity"}),r.jsx("input",{type:"text",value:e.fishSize,onChange:o=>t("fishSize",o.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"500g"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unit"}),r.jsx("input",{type:"text",value:e.maxSize,onChange:o=>t("maxSize",o.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"kg, pieces, dozen"})]})]})]})}const _k={1:[{id:"p1",name:"Sea Bass",price:450},{id:"p2",name:"Seer Fish",price:650}],2:[{id:"p3",name:"Catfish",price:300},{id:"p4",name:"Tilapia",price:250}],5:[{id:"p5",name:"Chicken Breast",price:280},{id:"p6",name:"Mutton Curry Cut",price:550}],6:[{id:"p7",name:"Farm Eggs (6 pcs)",price:42},{id:"p8",name:"Country Eggs (6 pcs)",price:54}],7:[{id:"p9",name:"Turmeric Powder",price:80},{id:"p10",name:"Chili Powder",price:90}],8:[{id:"p11",name:"Biryani Mix",price:120},{id:"p12",name:"Curry Ready",price:150}],9:[{id:"p13",name:"Marinated Chicken",price:320},{id:"p14",name:"Tandoori Mix",price:340}]};function N9e({data:e,onChange:t,availableCategories:s}){const a=()=>{const c={id:Date.now().toString(),categoryId:"",productId:"",quantity:1};t("comboItems",[...e.comboItems,c])},n=c=>{t("comboItems",e.comboItems.filter(d=>d.id!==c))},i=(c,d,h)=>{t("comboItems",e.comboItems.map(m=>m.id===c?{...m,[d]:h,...d==="categoryId"?{productId:""}:{}}:m))},l=()=>e.comboItems.reduce((c,d)=>{const m=_k[d.categoryId]?.find(p=>p.id===d.productId);return c+(m?.price||0)*d.quantity},0),o=()=>{const c=l();return c-c*e.comboOfferPercent/100};return r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(Tt,{className:"h-5 w-5 text-purple-600"}),r.jsx("h2",{className:"text-lg font-semibold",children:"Combo Product Information"}),r.jsxs("div",{className:"flex items-center gap-4 ml-auto",children:[r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:e.isBestSeller,onChange:c=>t("isBestSeller",c.target.checked),className:"rounded border-gray-300"}),r.jsx("span",{className:"text-sm",children:"Best Seller"})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:e.isRareProduct,onChange:c=>t("isRareProduct",c.target.checked),className:"rounded border-gray-300"}),r.jsx("span",{className:"text-sm",children:"Rare Product"})]})]})]}),r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Combo Name *"}),r.jsx("input",{type:"text",value:e.comboName,onChange:c=>t("comboName",c.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Fish & Meat Combo"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-1",children:[r.jsx(dg,{className:"h-4 w-4"}),"Offer Percentage *"]}),r.jsx("input",{type:"number",min:"0",max:"100",value:e.comboOfferPercent,onChange:c=>t("comboOfferPercent",Number(c.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"10"})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Combo Description *"}),r.jsx("textarea",{value:e.comboDescription,onChange:c=>t("comboDescription",c.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Get fresh fish and premium meat together at a special price!",rows:2})]}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Products in Combo *"}),r.jsxs(oe,{onClick:a,variant:"secondary",size:"sm",children:[r.jsx(dr,{className:"mr-1 h-4 w-4"}),"Add Product"]})]}),e.comboItems.length===0&&r.jsxs("div",{className:"text-center py-6 border-2 border-dashed border-gray-300 rounded-lg bg-gray-50",children:[r.jsx(Tt,{className:"h-10 w-10 text-gray-400 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"No products added yet"})]}),e.comboItems.map((c,d)=>{const p=(_k[c.categoryId]?.find(x=>x.id===c.productId)?.price||0)*c.quantity;return r.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg bg-white mb-2",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Product ",d+1]}),r.jsx(oe,{type:"button",variant:"secondary",size:"sm",onClick:()=>n(c.id),className:"text-red-600 hover:bg-red-50",children:r.jsx(Cs,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"grid gap-2 grid-cols-1 sm:grid-cols-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Category"}),r.jsxs("select",{value:c.categoryId,onChange:x=>i(c.id,"categoryId",x.target.value),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",children:[r.jsx("option",{value:"",children:"Select"}),s.map(x=>r.jsx("option",{value:x.id,children:x.name},x.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Product"}),r.jsxs("select",{value:c.productId,onChange:x=>i(c.id,"productId",x.target.value),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",disabled:!c.categoryId,children:[r.jsx("option",{value:"",children:"Select"}),c.categoryId&&_k[c.categoryId]?.map(x=>r.jsx("option",{value:x.id,children:x.name},x.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Quantity"}),r.jsx("input",{type:"number",min:"1",value:c.quantity,onChange:x=>i(c.id,"quantity",Number(x.target.value)),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Price"}),r.jsxs("div",{className:"w-full px-2 py-1.5 text-sm border border-gray-200 rounded-md bg-gray-50 text-gray-700 font-medium",children:["",p.toFixed(2)]})]})]})]},c.id)}),e.comboItems.length>0&&r.jsx("div",{className:"p-3 bg-gradient-to-r from-green-50 to-blue-50 rounded-lg border border-green-200 mt-3",children:r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 text-center",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Products"}),r.jsx("p",{className:"text-lg font-bold text-gray-900",children:e.comboItems.length})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Original"}),r.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["",l().toFixed(2)]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Discount"}),r.jsxs("p",{className:"text-lg font-bold text-red-600",children:["-",(l()*e.comboOfferPercent/100).toFixed(2)]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Final Price"}),r.jsxs("p",{className:"text-lg font-bold text-green-600",children:["",o().toFixed(2)]})]})]})})]}),r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Type *"}),r.jsxs("select",{value:e.productType,onChange:c=>t("productType",c.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",children:[r.jsx("option",{value:"",children:"Select Type"}),r.jsx("option",{value:"fresh",children:"Fresh"}),r.jsx("option",{value:"frozen",children:"Frozen"}),r.jsx("option",{value:"processed",children:"Processed"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Season"}),r.jsx("input",{type:"text",value:e.season,onChange:c=>t("season",c.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"April - December"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Meta Title Tag *"}),r.jsx("input",{type:"text",value:e.metaTitle,onChange:c=>t("metaTitle",c.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Fish & Meat Combo - Special Offer | BayHawk",maxLength:60}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[e.metaTitle.length,"/60 characters"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Meta Description *"}),r.jsx("textarea",{value:e.metaDescription,onChange:c=>t("metaDescription",c.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Get fresh fish and premium meat together at a special discounted price. Save more with our combo offers!",rows:3,maxLength:160}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[e.metaDescription.length,"/160 characters"]})]})]})]})}function w9e({images:e,primaryImageIndex:t,onImagesChange:s,onSetPrimaryImage:a}){return r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(jo,{className:"h-5 w-5 text-green-600"}),r.jsx("h2",{className:"text-lg font-semibold",children:"Product Image"})]}),r.jsx($se,{images:e,onImagesChange:s,primaryImageIndex:t,onSetPrimaryImage:a,maxImages:4})]})}function S9e({value:e,onChange:t}){return r.jsxs(he,{children:[r.jsx("div",{className:"flex items-center gap-2 mb-4",children:r.jsx("h2",{className:"text-lg font-semibold",children:"Description"})}),r.jsx(zse,{value:e,onChange:t,placeholder:"Enter product description",minHeight:"120px"})]})}function _9e({variant:e,index:t,availableCuttingTypes:s,canRemove:a,onVariantChange:n,onRemoveVariant:i}){return r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"font-medium text-gray-900",children:["Variant ",t+1]}),a&&r.jsxs(oe,{onClick:()=>i(t),variant:"secondary",size:"sm",className:"text-red-600 hover:text-red-700",children:[r.jsx(Cs,{className:"mr-1 h-4 w-4"}),"Remove"]})]}),r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-3 mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cutting Type"}),r.jsxs("select",{value:e.cuttingTypeId||"",onChange:l=>n(t,"cuttingTypeId",l.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"Select Cutting Type"}),s.map(l=>r.jsx("option",{value:l.id,title:l.description,children:l.name},l.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gross Weight"}),r.jsx("input",{type:"text",value:e.grossWeight,onChange:l=>n(t,"grossWeight",l.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"500g"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Net Weight"}),r.jsx("input",{type:"text",value:e.netWeight,onChange:l=>n(t,"netWeight",l.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"450g"})]})]}),r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-3 mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pieces"}),r.jsx("input",{type:"text",value:e.pieces,onChange:l=>n(t,"pieces",l.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Serves"}),r.jsx("input",{type:"text",value:e.serves,onChange:l=>n(t,"serves",l.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"2-3"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SKU Number"}),r.jsx("input",{type:"text",value:e.skuNumber,onChange:l=>n(t,"skuNumber",l.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"SKU-001"})]})]}),r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-3 mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Actual Price"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:""}),r.jsx("input",{type:"number",value:e.actualPrice,onChange:l=>n(t,"actualPrice",Number(l.target.value)),className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sales Price"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:""}),r.jsx("input",{type:"number",value:e.salesPrice,onChange:l=>n(t,"salesPrice",Number(l.target.value)),className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stock (kgs)"}),r.jsx("input",{type:"number",value:e.stock,onChange:l=>n(t,"stock",Number(l.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"})]})]}),r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"IGST (%)"}),r.jsx("input",{type:"number",value:e.igst,onChange:l=>n(t,"igst",Number(l.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0",step:"0.01"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CGST (%)"}),r.jsx("input",{type:"number",value:e.cgst,onChange:l=>n(t,"cgst",Number(l.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0",step:"0.01"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SGST (%)"}),r.jsx("input",{type:"number",value:e.sgst,onChange:l=>n(t,"sgst",Number(l.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0",step:"0.01"})]})]})]})}const k9e=[{key:"monday",label:"Monday"},{key:"tuesday",label:"Tuesday"},{key:"wednesday",label:"Wednesday"},{key:"thursday",label:"Thursday"},{key:"friday",label:"Friday"},{key:"saturday",label:"Saturday"},{key:"sunday",label:"Sunday"}];function A9e({data:e,onChange:t}){const s=()=>{t({...e,enabled:!e.enabled})},a=(l,o)=>{const c=e.dayPrices.map(d=>d.day===l?{...d,price:o}:d);t({...e,dayPrices:c})},n=l=>{const o=e.dayPrices.map(c=>c.day===l?{...c,enabled:!c.enabled}:c);t({...e,dayPrices:o})},i=()=>{const l=e.dayPrices.map(o=>{switch(o.day){case"monday":case"tuesday":case"thursday":return{...o,price:1e3,enabled:!0};case"wednesday":case"friday":case"sunday":return{...o,price:1200,enabled:!0};case"saturday":return{...o,price:0,enabled:!1};default:return o}});t({...e,dayPrices:l})};return r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Jr,{className:"h-5 w-5 text-orange-600"}),r.jsx("h2",{className:"text-lg font-semibold",children:"Day-based Pricing"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(oe,{type:"button",variant:"secondary",size:"sm",onClick:i,disabled:!e.enabled,children:"Set Example Pricing"}),r.jsxs("button",{type:"button",onClick:s,className:"flex items-center gap-2 text-sm",children:[e.enabled?r.jsx(eN,{className:"h-5 w-5 text-green-600"}):r.jsx(Qj,{className:"h-5 w-5 text-gray-400"}),r.jsx("span",{className:e.enabled?"text-green-600 font-medium":"text-gray-500",children:e.enabled?"Enabled":"Disabled"})]})]})]}),!e.enabled&&r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Enable day-based pricing to set different prices for different days of the week"}),e.enabled&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Set different prices for different days. Example: Monday-Thursday 1000, Friday-Sunday 1200"}),r.jsx("div",{className:"grid gap-3 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:k9e.map(({key:l,label:o})=>{const c=e.dayPrices.find(d=>d.day===l);return r.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 bg-gray-50",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:o}),r.jsx("button",{type:"button",onClick:()=>n(l),className:"flex items-center",children:c?.enabled?r.jsx(eN,{className:"h-4 w-4 text-green-600"}):r.jsx(Qj,{className:"h-4 w-4 text-gray-400"})})]}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-2 text-gray-500 text-sm",children:""}),r.jsx("input",{type:"number",value:c?.price||0,onChange:d=>a(l,Number(d.target.value)),disabled:!c?.enabled,className:`w-full pl-8 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${c?.enabled?"":"bg-gray-100 text-gray-400"}`,placeholder:"0"})]})]},l)})}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[r.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"Pricing Summary:"}),r.jsxs("div",{className:"text-xs text-blue-700 space-y-1",children:[e.dayPrices.filter(l=>l.enabled&&l.price>0).map(l=>r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"capitalize",children:[l.day,":"]}),r.jsxs("span",{className:"font-medium",children:["",l.price]})]},l.day)),e.dayPrices.filter(l=>l.enabled&&l.price>0).length===0&&r.jsx("p",{className:"text-blue-600",children:"No pricing set for any day"})]})]})]})]})}const iU=["Aiykoora","Anjal","Kalagnani","King fish","Konema","Neimeen","Nettaiyan Cheela","Neymeen","Sakala","Sear","Spanish mackerels","Surmai","Thora","Tuvar Anjari","Vangiram","Vanjaram","Visonu","Fresh fish","Sea fish","Premium quality","Daily catch","Boneless","Whole fish","Fillet","Curry cut","Steaks","Cleaned"];function C9e({data:e,onChange:t}){const[s,a]=A.useState(""),[n,i]=A.useState(!1),[l,o]=A.useState(!0),c=v=>{const y=v.trim();y&&!e.tags.includes(y)&&t({tags:[...e.tags,y]}),a("")},d=v=>{t({tags:e.tags.filter(y=>y!==v)})},h=()=>{s.trim()&&c(s)},m=v=>{(v.key==="Enter"||v.key===",")&&(v.preventDefault(),h())},p=v=>{c(v)},x=()=>iU.filter(v=>!e.tags.includes(v)&&v.toLowerCase().includes(s.toLowerCase()));return r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(jl,{className:"h-5 w-5 text-purple-600"}),r.jsx("h2",{className:"text-lg font-semibold",children:"Product Tags"})]}),r.jsx("button",{type:"button",onClick:()=>o(!l),className:"flex items-center gap-1 text-sm text-gray-600 hover:text-gray-800",children:l?r.jsx(ez,{className:"h-4 w-4"}):r.jsx(Dw,{className:"h-4 w-4"})})]}),l&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Add tags to help customers find your product in search. These keywords will show results when customers type them."}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx("input",{type:"text",value:s,onChange:v=>a(v.target.value),onKeyPress:m,onFocus:()=>i(!0),onBlur:()=>setTimeout(()=>i(!1),200),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter tag name..."}),n&&s&&x().length>0&&r.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-300 rounded-md shadow-lg z-10 max-h-40 overflow-y-auto",children:x().slice(0,8).map(v=>r.jsx("button",{type:"button",onClick:()=>p(v),className:"w-full text-left px-3 py-2 hover:bg-gray-100 text-sm",children:v},v))})]}),r.jsxs(oe,{type:"button",onClick:h,disabled:!s.trim(),size:"sm",children:[r.jsx(dr,{className:"h-4 w-4 mr-1"}),"Add"]})]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Separate tags with commas or press Enter to add"}),e.tags.length>0&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Current Tags:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:e.tags.map(v=>r.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:[r.jsx(Cs,{className:"h-3 w-3 cursor-pointer hover:text-blue-600",onClick:()=>d(v)}),v]},v))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Choose from the most used tags:"})}),r.jsx("div",{className:"flex flex-wrap gap-2",children:iU.filter(v=>!e.tags.includes(v)).slice(0,12).map(v=>r.jsxs("button",{type:"button",onClick:()=>p(v),className:"inline-flex items-center gap-1 px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm hover:bg-gray-200 transition-colors",children:[r.jsx(dr,{className:"h-3 w-3"}),v]},v))})]}),e.tags.length>0&&r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[r.jsxs("h4",{className:"text-sm font-medium text-green-800 mb-1",children:["Search Keywords (",e.tags.length," tags):"]}),r.jsxs("p",{className:"text-xs text-green-700",children:["Customers can find this product by searching: ",e.tags.join(", ")]})]})]})]})}function T9e({baseQuantity:e,baseUnit:t,nutrition:s,selectedNutrition:a={},onNutritionChange:n,onSelectedNutritionChange:i}){const[l,o]=A.useState(e),[c,d]=A.useState(!0),[h,m]=A.useState(!1),[p,x]=A.useState(""),[v,y]=A.useState(0),[b,j]=A.useState("g"),[S,w]=A.useState([]),[k,_]=A.useState(new Set),O=X=>{const Z=l/e;return Math.round(X*Z*100)/100},E=(X,Z,ye)=>{const te={...s};ye?te[ye]={...te[ye],[X]:Z}:te[X]=Z,n(te)},F=(X,Z)=>{if(!i)return;const ye=Z?`${Z}.${X}`:X,te={...a,[ye]:!a[ye]};i(te)},I=(X,Z)=>{const ye=Z?`${Z}.${X}`:X;return a[ye]||!1},U=()=>{if(!p.trim())return;const X=p.toLowerCase().replace(/\s+/g,"_"),Z={key:X,label:p,unit:b};w([...S,Z]),E(X,v),x(""),y(0),j("g"),m(!1)},M=X=>{w(S.filter(ye=>ye.key!==X));const Z={...s};if(delete Z[X],n(Z),i){const ye={...a};delete ye[X],i(ye)}},L=(X,Z)=>{const ye=Z?`${Z}.${X}`:X;if(_(new Set(k).add(ye)),i&&a[ye]){const te={...a};delete te[ye],i(te)}},J=(X,Z)=>{const ye=Z?`${Z}.${X}`:X;return k.has(ye)},K=()=>Object.values(a).filter(Boolean).length,ae=[{key:"calories",label:"Calories",unit:"kcal"},{key:"protein",label:"Protein",unit:"g"},{key:"carbs",label:"Carbohydrates",unit:"g"},{key:"fat",label:"Total Fat",unit:"g"},{key:"fiber",label:"Fiber",unit:"g"},{key:"sugar",label:"Sugar",unit:"g"},{key:"sodium",label:"Sodium",unit:"mg"},{key:"cholesterol",label:"Cholesterol",unit:"mg"}],V=[{key:"vitaminA",label:"Vitamin A",unit:"IU"},{key:"vitaminC",label:"Vitamin C",unit:"mg"},{key:"vitaminD",label:"Vitamin D",unit:"IU"},{key:"vitaminB12",label:"Vitamin B12",unit:"mcg"}],re=[{key:"calcium",label:"Calcium",unit:"mg"},{key:"iron",label:"Iron",unit:"mg"},{key:"potassium",label:"Potassium",unit:"mg"},{key:"magnesium",label:"Magnesium",unit:"mg"}];return r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(V6,{className:"h-5 w-5 text-blue-600"}),r.jsx("h3",{className:"text-lg font-semibold",children:"Nutrition Information"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("span",{className:"text-sm text-gray-600",children:[K()," selected for label"]}),r.jsxs("button",{type:"button",onClick:()=>d(!c),className:"flex items-center gap-1 text-sm text-blue-600 hover:text-blue-800",children:[c?r.jsx(Hd,{className:"h-4 w-4"}):r.jsx(Fr,{className:"h-4 w-4"}),c?"Hide Preview":"Show Preview"]})]})]}),r.jsx("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:r.jsxs("p",{className:"text-sm text-blue-800",children:[r.jsx("strong",{children:"Instructions:"})," Check the boxes next to nutrition values you want to include on the product label. Only selected nutrition information will be displayed to customers."]})}),r.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Serving Size"}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(oe,{type:"button",variant:"secondary",size:"sm",onClick:()=>o(Math.max(1,l-1)),children:r.jsx(Xd,{className:"h-4 w-4"})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"number",value:l,onChange:X=>o(Number(X.target.value)||1),className:"w-20 px-3 py-2 border border-gray-300 rounded-md text-center",min:"1"}),r.jsx("span",{className:"text-sm text-gray-600",children:t})]}),r.jsx(oe,{type:"button",variant:"secondary",size:"sm",onClick:()=>o(l+1),children:r.jsx(dr,{className:"h-4 w-4"})})]}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Base serving: ",e," ",t]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Basic Nutrition"}),r.jsx("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2",children:ae.filter(X=>!J(X.key)).map(X=>{const Z=I(X.key);return r.jsxs("div",{className:`flex items-center justify-between p-3 border rounded-lg transition-colors ${Z?"border-green-500 bg-green-50":"border-gray-200"}`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{type:"button",onClick:()=>F(X.key),className:`flex items-center justify-center w-5 h-5 rounded border-2 transition-colors ${Z?"border-green-500 bg-green-500 text-white":"border-gray-300 hover:border-green-400"}`,children:Z&&r.jsx(ec,{className:"h-3 w-3"})}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 cursor-pointer",children:X.label}),r.jsxs("p",{className:"text-xs text-gray-500",children:["per ",l," ",t]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"number",value:s[X.key],onChange:ye=>E(X.key,Number(ye.target.value)||0),className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm text-right",step:"0.1",min:"0"}),r.jsx("span",{className:"text-xs text-gray-500 w-8",children:X.unit}),r.jsx("button",{type:"button",onClick:()=>L(X.key),className:"text-red-600 hover:text-red-800",title:"Remove",children:r.jsx(Ar,{className:"h-4 w-4"})})]})]},X.key)})})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Vitamins"}),r.jsx("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2",children:V.filter(X=>!J(X.key,"vitamins")).map(X=>{const Z=I(X.key,"vitamins");return r.jsxs("div",{className:`flex items-center justify-between p-3 border rounded-lg transition-colors ${Z?"border-green-500 bg-green-50":"border-gray-200"}`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{type:"button",onClick:()=>F(X.key,"vitamins"),className:`flex items-center justify-center w-5 h-5 rounded border-2 transition-colors ${Z?"border-green-500 bg-green-500 text-white":"border-gray-300 hover:border-green-400"}`,children:Z&&r.jsx(ec,{className:"h-3 w-3"})}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 cursor-pointer",children:X.label}),r.jsxs("p",{className:"text-xs text-gray-500",children:["per ",l," ",t]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"number",value:s.vitamins[X.key],onChange:ye=>E(X.key,Number(ye.target.value)||0,"vitamins"),className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm text-right",step:"0.1",min:"0"}),r.jsx("span",{className:"text-xs text-gray-500 w-8",children:X.unit}),r.jsx("button",{type:"button",onClick:()=>L(X.key,"vitamins"),className:"text-red-600 hover:text-red-800",title:"Remove",children:r.jsx(Ar,{className:"h-4 w-4"})})]})]},X.key)})})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Minerals"}),r.jsx("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2",children:re.filter(X=>!J(X.key,"minerals")).map(X=>{const Z=I(X.key,"minerals");return r.jsxs("div",{className:`flex items-center justify-between p-3 border rounded-lg transition-colors ${Z?"border-green-500 bg-green-50":"border-gray-200"}`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{type:"button",onClick:()=>F(X.key,"minerals"),className:`flex items-center justify-center w-5 h-5 rounded border-2 transition-colors ${Z?"border-green-500 bg-green-500 text-white":"border-gray-300 hover:border-green-400"}`,children:Z&&r.jsx(ec,{className:"h-3 w-3"})}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 cursor-pointer",children:X.label}),r.jsxs("p",{className:"text-xs text-gray-500",children:["per ",l," ",t]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"number",value:s.minerals[X.key],onChange:ye=>E(X.key,Number(ye.target.value)||0,"minerals"),className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm text-right",step:"0.1",min:"0"}),r.jsx("span",{className:"text-xs text-gray-500 w-8",children:X.unit}),r.jsx("button",{type:"button",onClick:()=>L(X.key,"minerals"),className:"text-red-600 hover:text-red-800",title:"Remove",children:r.jsx(Ar,{className:"h-4 w-4"})})]})]},X.key)})})]}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Custom Nutrition Values"}),r.jsxs(oe,{type:"button",variant:"secondary",size:"sm",onClick:()=>m(!h),children:[r.jsx(dr,{className:"mr-1 h-4 w-4"}),"Add Custom Value"]})]}),h&&r.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg mb-3",children:r.jsxs("div",{className:"grid gap-3 grid-cols-1 sm:grid-cols-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Name *"}),r.jsx("input",{type:"text",value:p,onChange:X=>x(X.target.value),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded-md",placeholder:"e.g., Omega-3"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Value *"}),r.jsx("input",{type:"number",value:v,onChange:X=>y(Number(X.target.value)),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded-md",step:"0.1",min:"0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Unit *"}),r.jsxs("select",{value:b,onChange:X=>j(X.target.value),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded-md",children:[r.jsx("option",{value:"g",children:"g"}),r.jsx("option",{value:"mg",children:"mg"}),r.jsx("option",{value:"mcg",children:"mcg"}),r.jsx("option",{value:"IU",children:"IU"}),r.jsx("option",{value:"kcal",children:"kcal"})]})]}),r.jsxs("div",{className:"flex items-end gap-2",children:[r.jsx(oe,{type:"button",onClick:U,size:"sm",className:"flex-1",children:"Add"}),r.jsx(oe,{type:"button",variant:"secondary",onClick:()=>m(!1),size:"sm",children:r.jsx(Cs,{className:"h-4 w-4"})})]})]})}),S.length>0?r.jsx("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2",children:S.map(X=>{const Z=I(X.key);return r.jsxs("div",{className:`flex items-center justify-between p-3 border rounded-lg transition-colors ${Z?"border-green-500 bg-green-50":"border-gray-200"}`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{type:"button",onClick:()=>F(X.key),className:`flex items-center justify-center w-5 h-5 rounded border-2 transition-colors ${Z?"border-green-500 bg-green-500 text-white":"border-gray-300 hover:border-green-400"}`,children:Z&&r.jsx(ec,{className:"h-3 w-3"})}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700 cursor-pointer",children:X.label}),r.jsxs("p",{className:"text-xs text-gray-500",children:["per ",l," ",t]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"number",value:s[X.key]||0,onChange:ye=>E(X.key,Number(ye.target.value)||0),className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm text-right",step:"0.1",min:"0"}),r.jsx("span",{className:"text-xs text-gray-500 w-8",children:X.unit}),r.jsx("button",{type:"button",onClick:()=>M(X.key),className:"text-red-600 hover:text-red-800",title:"Remove",children:r.jsx(Ar,{className:"h-4 w-4"})})]})]},X.key)})}):r.jsx("div",{className:"text-center py-4 border-2 border-dashed border-gray-300 rounded-lg",children:r.jsx("p",{className:"text-sm text-gray-500",children:"No custom nutrition values added yet"})})]}),c&&K()>0&&r.jsxs("div",{className:"mt-6 p-4 bg-white border-2 border-gray-300 rounded-lg",children:[r.jsx("h4",{className:"font-bold text-center mb-2",children:"Nutrition Facts Preview"}),r.jsx("p",{className:"text-xs text-center text-gray-600 mb-2",children:"(Only selected nutrition values will appear on product label)"}),r.jsx("div",{className:"border-b-8 border-black mb-2"}),r.jsxs("div",{className:"text-sm",children:[r.jsxs("div",{className:"flex justify-between font-semibold",children:[r.jsx("span",{children:"Serving Size"}),r.jsxs("span",{children:[l," ",t]})]}),r.jsx("div",{className:"border-b-4 border-black my-2"}),I("calories")&&r.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[r.jsx("span",{children:"Calories"}),r.jsx("span",{children:O(s.calories)})]}),K()>(I("calories")?1:0)&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"border-b border-gray-300 my-1"}),r.jsx("div",{className:"text-xs text-right font-semibold",children:"% Daily Value*"}),r.jsxs("div",{className:"space-y-1",children:[ae.filter(X=>X.key!=="calories"&&I(X.key)).map(X=>r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{children:[r.jsx("strong",{children:X.label})," ",O(s[X.key]),X.unit]}),r.jsxs("span",{className:"font-semibold",children:[X.key==="fat"&&Math.round(O(s.fat)/65*100),X.key==="cholesterol"&&Math.round(O(s.cholesterol)/300*100),X.key==="sodium"&&Math.round(O(s.sodium)/2300*100),X.key==="carbs"&&Math.round(O(s.carbs)/300*100),X.key==="fiber"&&Math.round(O(s.fiber)/25*100),["fat","cholesterol","sodium","carbs","fiber"].includes(X.key)&&"%"]})]},X.key)),V.filter(X=>I(X.key,"vitamins")).map(X=>r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{children:[r.jsx("strong",{children:X.label})," ",O(s.vitamins[X.key]),X.unit]}),r.jsx("span",{className:"font-semibold",children:"*"})]},X.key)),re.filter(X=>I(X.key,"minerals")).map(X=>r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{children:[r.jsx("strong",{children:X.label})," ",O(s.minerals[X.key]),X.unit]}),r.jsx("span",{className:"font-semibold",children:"*"})]},X.key)),S.filter(X=>I(X.key)).map(X=>r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{children:[r.jsx("strong",{children:X.label})," ",O(s[X.key]||0),X.unit]}),r.jsx("span",{className:"font-semibold",children:"*"})]},X.key))]})]}),r.jsx("div",{className:"border-b-8 border-black my-2"}),r.jsx("div",{className:"text-xs",children:r.jsx("p",{children:"* The % Daily Value (DV) tells you how much a nutrient in a serving of food contributes to a daily diet."})})]})]}),K()===0&&r.jsx("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:r.jsxs("p",{className:"text-sm text-yellow-800",children:[r.jsx("strong",{children:"No nutrition values selected."})," Select nutrition values above to include them on the product label."]})})]})}const E9e=[{id:"1",name:"Whole Fish",description:"Complete fish without cutting",category:"fish"},{id:"2",name:"Fish Fillet",description:"Boneless fish pieces",category:"fish"},{id:"3",name:"Fish Steaks",description:"Cross-cut fish pieces",category:"fish"},{id:"4",name:"Fish Curry Cut",description:"Medium pieces with bone",category:"fish"},{id:"5",name:"Cleaned",description:"Cleaned and ready to cook",category:"fish"}];function P9e({onSave:e,onCancel:t,initialData:s}){const[a,n]=A.useState({isCombo:s?.isCombo||!1,nameEn:s?.nameEn||"",nameTa:s?.nameTa||"",category:s?.category||"",hsnNumber:s?.hsnNumber||"",variant:s?.variant||"",fishSize:s?.fishSize||"",maxSize:s?.maxSize||"",basePriceMin:s?.basePriceMin||0,basePriceMax:s?.basePriceMax||0,fishCountMin:s?.fishCountMin||0,fishCountMax:s?.fishCountMax||0,isBestSeller:s?.isBestSeller||!1,isRareProduct:s?.isRareProduct||!1,isActive:s?.isActive||!0,productType:s?.productType||"",season:s?.season||"",metaTitle:s?.metaTitle||"",metaDescription:s?.metaDescription||"",comboData:s?.comboData||{comboName:"",comboOfferPercent:0,comboDescription:"",comboItems:[],isBestSeller:!1,isRareProduct:!1,isActive:!0,productType:"",season:"",metaTitle:"",metaDescription:""},images:s?.images||[],primaryImageIndex:s?.primaryImageIndex||0,description:s?.description||"",dayBasedPricing:s?.dayBasedPricing||{enabled:!1,dayPrices:[{day:"monday",price:0,enabled:!1},{day:"tuesday",price:0,enabled:!1},{day:"wednesday",price:0,enabled:!1},{day:"thursday",price:0,enabled:!1},{day:"friday",price:0,enabled:!1},{day:"saturday",price:0,enabled:!1},{day:"sunday",price:0,enabled:!1}]},productTags:s?.productTags||{tags:[]},nutrition:s?.nutrition||{calories:165,protein:20,carbs:0,fat:8,fiber:0,sugar:0,sodium:60,cholesterol:70,vitamins:{vitaminA:120,vitaminC:3,vitaminD:10,vitaminB12:2},minerals:{calcium:12,iron:.9,potassium:350,magnesium:25}},selectedNutrition:s?.selectedNutrition||{calories:!0,protein:!0,fat:!0,"vitamins.vitaminD":!0,"minerals.calcium":!0},variants:s?.variants||[{id:"1",type:"Regular",size:"Medium",grossWeight:"500g",netWeight:"450g",pieces:"1",serves:"2-3",skuNumber:"",actualPrice:0,salesPrice:0,stock:0,igst:0,cgst:0,sgst:0,cuttingTypeId:""}]}),[i,l]=A.useState(!1),o=(w,k)=>{n(_=>({..._,[w]:k}))},c=(w,k)=>{n(_=>({..._,comboData:{..._.comboData,[w]:k}}))},d=()=>{n(w=>({...w,isCombo:!w.isCombo}))},h=w=>{n(k=>({...k,images:w,primaryImageIndex:w.length>0?Math.min(k.primaryImageIndex,w.length-1):0}))},m=w=>{n(k=>({...k,primaryImageIndex:w}))},p=w=>{n(k=>({...k,description:w}))},x=w=>{n(k=>({...k,dayBasedPricing:w}))},v=w=>{n(k=>({...k,productTags:w}))},y=(w,k,_)=>{n(O=>({...O,variants:O.variants.map((E,F)=>F===w?{...E,[k]:_}:E)}))},b=()=>{const w={id:Date.now().toString(),type:"Regular",size:"Medium",grossWeight:"500g",netWeight:"450g",pieces:"1",serves:"2-3",skuNumber:"",actualPrice:0,salesPrice:0,stock:0,igst:0,cgst:0,sgst:0,cuttingTypeId:""};n(k=>({...k,variants:[...k.variants,w]}))},j=w=>{a.variants.length>1&&n(k=>({...k,variants:k.variants.filter((_,O)=>O!==w)}))},S=()=>{if(a.isCombo){if(!a.comboData.comboName||!a.comboData.productType||!a.comboData.metaTitle||!a.comboData.metaDescription||a.comboData.comboItems.length===0){alert("Please fill in all required combo fields (Combo Name, Products, Product Type, Meta Title, Meta Description)");return}}else if(!a.nameEn||!a.category||!a.productType||!a.metaTitle||!a.metaDescription){alert("Please fill in all required fields (Product Name English, Category, Product Type, Meta Title, Meta Description)");return}if(a.variants.length===0){alert("Please add at least one product variant");return}e(a)};return r.jsxs("div",{className:"space-y-6 max-h-[80vh] overflow-y-auto",children:[r.jsx(he,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Tt,{className:"h-6 w-6 text-blue-600"}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:a.isCombo?"Create Combo Product":"Create New Product"}),r.jsx("p",{className:"text-sm text-gray-600",children:a.isCombo?"Bundle multiple products with special offers":"Add a single product to your catalog"})]})]}),r.jsx(oe,{type:"button",variant:a.isCombo?"primary":"secondary",onClick:d,children:a.isCombo?"Switch to Single Product":"Switch to Combo Product"})]})}),r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[a.isActive?r.jsx(Fr,{className:"h-5 w-5 text-green-600"}):r.jsx(Hd,{className:"h-5 w-5 text-red-600"}),r.jsx("h3",{className:"text-lg font-semibold",children:"Product Visibility"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:`text-sm font-medium ${a.isActive?"text-green-600":"text-red-600"}`,children:a.isActive?"Product is Visible":"Product is Hidden"}),r.jsx(oe,{type:"button",variant:a.isActive?"secondary":"primary",onClick:()=>o("isActive",!a.isActive),className:a.isActive?"bg-red-50 text-red-600 hover:bg-red-100 border-red-200":"bg-green-50 text-green-600 hover:bg-green-100 border-green-200",children:a.isActive?r.jsxs(r.Fragment,{children:[r.jsx(Hd,{className:"mr-2 h-5 w-5"}),"Hide Product"]}):r.jsxs(r.Fragment,{children:[r.jsx(Fr,{className:"mr-2 h-5 w-5"}),"Show Product"]})})]})]}),r.jsx("div",{className:"mt-3 p-3 rounded-lg bg-gray-50",children:r.jsx("p",{className:"text-sm text-gray-600",children:a.isActive?r.jsxs(r.Fragment,{children:[r.jsx("strong",{children:"Visible:"})," This product will be displayed to customers and available for purchase."]}):r.jsxs(r.Fragment,{children:[r.jsx("strong",{children:"Hidden:"})," This product will not be visible to customers and cannot be purchased. Use this to temporarily remove products from your store."]})})})]}),a.isCombo?r.jsx(N9e,{data:a.comboData,onChange:c,availableCategories:[{id:"1",name:"Sea Fish"},{id:"2",name:"Freshwater Fish"},{id:"3",name:"Shell Fish"},{id:"4",name:"Dry Fish"},{id:"5",name:"Meat"},{id:"6",name:"Eggs"},{id:"7",name:"Spices"},{id:"8",name:"Ready to Eat"},{id:"9",name:"Ready to Cook"}]}):r.jsx(j9e,{data:{nameEn:a.nameEn,nameTa:a.nameTa,category:a.category,hsnNumber:a.hsnNumber,variant:a.variant,fishSize:a.fishSize,maxSize:a.maxSize,basePriceMin:a.basePriceMin,basePriceMax:a.basePriceMax,fishCountMin:a.fishCountMin,fishCountMax:a.fishCountMax,isBestSeller:a.isBestSeller,isRareProduct:a.isRareProduct,isActive:a.isActive,productType:a.productType,season:a.season,metaTitle:a.metaTitle,metaDescription:a.metaDescription},onChange:o}),r.jsx(w9e,{images:a.images,primaryImageIndex:a.primaryImageIndex,onImagesChange:h,onSetPrimaryImage:m}),r.jsx(S9e,{value:a.description,onChange:p}),r.jsx(A9e,{data:a.dayBasedPricing,onChange:x}),r.jsx(C9e,{data:a.productTags,onChange:v}),r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($c,{className:"h-5 w-5 text-purple-600"}),r.jsx("h2",{className:"text-lg font-semibold",children:"Product Variants & Cutting Types"})]}),r.jsxs(oe,{onClick:b,variant:"secondary",size:"sm",children:[r.jsx(dr,{className:"mr-1 h-5 w-5"}),"Add Variant"]})]}),r.jsx("div",{className:"space-y-6",children:a.variants.map((w,k)=>r.jsx(_9e,{variant:w,index:k,availableCuttingTypes:E9e,canRemove:a.variants.length>1,onVariantChange:y,onRemoveVariant:j},w.id))})]}),r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(V6,{className:"h-5 w-5 text-green-600"}),r.jsx("h3",{className:"text-lg font-semibold",children:"Nutrition Information"})]}),r.jsx(oe,{type:"button",variant:i?"primary":"secondary",onClick:()=>l(!i),children:i?"Hide Nutrition":"Add Nutrition"})]}),!i&&r.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Add detailed nutrition information to help customers make informed choices"})]}),i&&r.jsx(T9e,{baseQuantity:100,baseUnit:"g",nutrition:a.nutrition,selectedNutrition:a.selectedNutrition,onNutritionChange:w=>n(k=>({...k,nutrition:w})),onSelectedNutritionChange:w=>n(k=>({...k,selectedNutrition:w}))}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[r.jsx(oe,{variant:"secondary",onClick:t,children:"Cancel"}),r.jsxs(oe,{onClick:S,children:[r.jsx(Ii,{className:"mr-2 h-5 w-5"}),"Save Product"]})]})]})}const lU=[{id:"activate",label:"Activate Products",icon:eN,variant:"success",requiresConfirmation:!0,confirmationMessage:"Are you sure you want to activate the selected products?"},{id:"deactivate",label:"Deactivate Products",icon:Qj,variant:"warning",requiresConfirmation:!0,confirmationMessage:"Are you sure you want to deactivate the selected products?"},{id:"archive",label:"Archive Products",icon:wee,variant:"warning",requiresConfirmation:!0,confirmationMessage:"Are you sure you want to archive the selected products?"},{id:"delete",label:"Delete Products",icon:Ar,variant:"danger",requiresConfirmation:!0,confirmationMessage:"Are you sure you want to delete the selected products? This action cannot be undone."}];function O9e({products:e,onView:t,onEdit:s,onDelete:a,onToggleVisibility:n,onBulkAction:i,title:l="Products",additionalFilters:o=[]}){const[c,d]=A.useState(""),[h,m]=A.useState(""),[p,x]=A.useState(""),[v,y]=A.useState({isOpen:!1,actionId:"",actionType:""}),b=e.filter(U=>{const M=!c||U.nameEn.toLowerCase().includes(c.toLowerCase())||U.nameTa.includes(c)||U.sku.toLowerCase().includes(c.toLowerCase()),L=!h||U.category===h,J=!p||p==="active"&&U.isActive||p==="inactive"&&!U.isActive;return M&&L&&J}),{selectedItems:j,selectAll:S,deselectAll:w,toggleItem:k,isSelected:_}=Og(b),O=j.length===b.length&&b.length>0,E=j.length>0&&j.length<b.length,F=U=>{const M=lU.find(L=>L.id===U);M?.requiresConfirmation?y({isOpen:!0,actionId:U,actionType:M.variant||"default"}):i?.(U,j)},I=async U=>{i&&(await i(v.actionId,j,U),w()),y({isOpen:!1,actionId:"",actionType:""})};return r.jsxs("div",{className:"space-y-4",children:[r.jsx(Eg,{searchValue:c,onSearchChange:d,placeholder:"Search products...",filters:[{key:"category",label:"Category",value:h,onChange:m,options:[{value:"",label:"All Categories"},{value:"fish",label:"Fish"},{value:"prawns",label:"Prawns"},{value:"crab",label:"Crab"},{value:"chicken",label:"Chicken"},{value:"mutton",label:"Mutton"},{value:"egg",label:"Egg"}]},{key:"status",label:"Status",value:p,onChange:x,options:[{value:"",label:"All Status"},{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}]},...o]}),j.length>0&&r.jsx(Pg,{selectedItems:j,totalItems:b.length,onSelectAll:S,onDeselectAll:w,actions:lU,onAction:F,itemName:"products"}),b.length>0&&r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:O?w:S,className:`p-1 rounded transition-colors ${O?"text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:O?r.jsx(lc,{className:"h-4 w-4"}):E?r.jsx(Xd,{className:"h-4 w-4"}):r.jsx(oc,{className:"h-4 w-4"})}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:j.length>0?`${j.length} of ${b.length} ${l.toLowerCase()} selected`:`Select all ${b.length} ${l.toLowerCase()}`})]})}),r.jsx("div",{className:"space-y-3",children:b.map(U=>r.jsx(he,{className:"p-4 hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:()=>k(U.id),className:`p-1 rounded transition-colors flex-shrink-0 ${_(U.id)?"text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:_(U.id)?r.jsx(lc,{className:"h-4 w-4"}):r.jsx(oc,{className:"h-4 w-4"})}),r.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx(q0,{className:"h-8 w-8 text-gray-400"})}),r.jsx("div",{className:"flex-1 min-w-0",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[r.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:U.nameEn}),r.jsxs("div",{className:"flex flex-wrap items-center gap-1",children:[r.jsx(Xe,{variant:id(U.isActive?"active":"inactive"),className:"text-xs",children:U.isActive?"Active":"Inactive"}),U.isBestSeller&&r.jsx(Xe,{variant:"bg-yellow-100 text-yellow-800",className:"text-xs",children:"Best Seller"}),U.isRare&&r.jsx(Xe,{variant:"bg-purple-100 text-purple-800",className:"text-xs",children:"Rare"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-gray-600",children:[r.jsx("div",{children:r.jsx("span",{className:"font-medium",children:U.nameTa})}),r.jsx("div",{children:r.jsx("span",{className:"font-mono text-xs",children:U.sku})}),r.jsx("div",{children:r.jsx(Xe,{variant:"bg-gray-100 text-gray-800",className:"text-xs",children:U.category})}),r.jsx("div",{children:r.jsx(Xe,{variant:U.deliveryType==="same_day"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800",className:"text-xs",children:U.deliveryType.replace("_"," ")})})]})]}),r.jsxs("div",{className:"flex flex-col items-end gap-2 ml-4 flex-shrink-0",children:[r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"font-semibold text-lg",children:bt(U.variants[0]?.price||0)}),U.variants[0]?.discount&&r.jsxs("p",{className:"text-xs text-green-600",children:[U.variants[0].discount,"% off"]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:`font-medium ${(U.variants[0]?.stock||0)<10?"text-red-600":"text-green-600"}`,children:[U.variants[0]?.stock||0," ",U.category==="egg"?"pcs":"kg"]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Stock"})]})]})]})}),r.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[r.jsx("button",{onClick:()=>n?.(U),className:`p-2 rounded-lg transition-colors ${U.isActive?"hover:bg-yellow-50 text-yellow-600":"hover:bg-green-50 text-green-600"}`,title:U.isActive?"Hide Product":"Show Product",children:U.isActive?r.jsx(Hd,{className:"h-4 w-4"}):r.jsx(Fr,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>t?.(U),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"View Details",children:r.jsx(Fr,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>s?.(U),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Edit",children:r.jsx(ss,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>a?.(U),className:"p-2 hover:bg-red-50 rounded-lg transition-colors text-red-600",title:"Delete",children:r.jsx(Ar,{className:"h-4 w-4"})})]})]})},U.id))}),b.length===0&&r.jsxs(he,{className:"p-12 text-center",children:[r.jsx(Tt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No products found"}),r.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or filters"})]}),r.jsx(Dg,{isOpen:v.isOpen,onClose:()=>y({isOpen:!1,actionId:"",actionType:""}),onConfirm:I,title:`Bulk Action: ${v.actionId}`,actionType:v.actionType,selectedCount:j.length,itemName:"products"})]})}const oU=[{id:"activate",label:"Activate Types",icon:eN,variant:"success",requiresConfirmation:!0,confirmationMessage:"Are you sure you want to activate the selected cutting types?"},{id:"deactivate",label:"Deactivate Types",icon:Qj,variant:"warning",requiresConfirmation:!0,confirmationMessage:"Are you sure you want to deactivate the selected cutting types?"},{id:"delete",label:"Delete Types",icon:Ar,variant:"danger",requiresConfirmation:!0,confirmationMessage:"Are you sure you want to delete the selected cutting types? This action cannot be undone."}],D9e=e=>{switch(e){case"fish":return yo;case"chicken":return Dy;case"mutton":return Dy;default:return $c}},R9e=e=>{switch(e){case"fish":return"bg-blue-100 text-blue-800";case"chicken":return"bg-yellow-100 text-yellow-800";case"mutton":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};function M9e({cuttingTypes:e,onView:t,onEdit:s,onDelete:a,onBulkAction:n,title:i="Cutting Types"}){const[l,o]=A.useState(""),[c,d]=A.useState(""),[h,m]=A.useState(""),[p,x]=A.useState({isOpen:!1,actionId:"",actionType:""}),v=e.filter(F=>{const I=!l||F.name.toLowerCase().includes(l.toLowerCase())||F.description.toLowerCase().includes(l.toLowerCase()),U=!c||F.category===c,M=!h||h==="active"&&F.isActive||h==="inactive"&&!F.isActive;return I&&U&&M}),{selectedItems:y,selectAll:b,deselectAll:j,toggleItem:S,isSelected:w}=Og(v),k=y.length===v.length&&v.length>0,_=y.length>0&&y.length<v.length,O=F=>{const I=oU.find(U=>U.id===F);I?.requiresConfirmation?x({isOpen:!0,actionId:F,actionType:I.variant||"default"}):n?.(F,y)},E=async F=>{n&&(await n(p.actionId,y,F),j()),x({isOpen:!1,actionId:"",actionType:""})};return r.jsxs("div",{className:"space-y-4",children:[r.jsx(Eg,{searchValue:l,onSearchChange:o,placeholder:"Search cutting types...",filters:[{key:"category",label:"Category",value:c,onChange:d,options:[{value:"",label:"All Categories"},{value:"fish",label:"Fish"},{value:"chicken",label:"Chicken"},{value:"mutton",label:"Mutton"}]},{key:"status",label:"Status",value:h,onChange:m,options:[{value:"",label:"All Status"},{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}]}]}),y.length>0&&r.jsx(Pg,{selectedItems:y,totalItems:v.length,onSelectAll:b,onDeselectAll:j,actions:oU,onAction:O,itemName:"cutting types"}),v.length>0&&r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:k?j:b,className:`p-1 rounded transition-colors ${k?"text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:k?r.jsx(lc,{className:"h-4 w-4"}):_?r.jsx(Xd,{className:"h-4 w-4"}):r.jsx(oc,{className:"h-4 w-4"})}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:y.length>0?`${y.length} of ${v.length} ${i.toLowerCase()} selected`:`Select all ${v.length} ${i.toLowerCase()}`})]})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:v.map(F=>{const I=D9e(F.category);return r.jsx(he,{className:"p-4 hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("button",{onClick:()=>S(F.id),className:`p-1 rounded transition-colors flex-shrink-0 ${w(F.id)?"text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:w(F.id)?r.jsx(lc,{className:"h-4 w-4"}):r.jsx(oc,{className:"h-4 w-4"})}),r.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center flex-shrink-0 overflow-hidden",children:F.imageUrl?r.jsx("img",{src:F.imageUrl,alt:F.name,className:"w-full h-full object-cover"}):r.jsx($c,{className:"h-8 w-8 text-gray-400"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:F.name}),r.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:F.description})]}),r.jsx(Xe,{variant:F.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800",className:"ml-2 flex-shrink-0",children:F.isActive?"Active":"Inactive"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(I,{className:"h-4 w-4 text-gray-500"}),r.jsx(Xe,{variant:R9e(F.category),className:"text-xs",children:F.category.charAt(0).toUpperCase()+F.category.slice(1)})]}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx("button",{onClick:()=>t?.(F),className:"p-1.5 hover:bg-gray-100 rounded-lg transition-colors",title:"View Details",children:r.jsx(Fr,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>s?.(F),className:"p-1.5 hover:bg-gray-100 rounded-lg transition-colors",title:"Edit",children:r.jsx(ss,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>a?.(F),className:"p-1.5 hover:bg-red-50 rounded-lg transition-colors text-red-600",title:"Delete",children:r.jsx(Ar,{className:"h-4 w-4"})})]})]})]})]})},F.id)})}),v.length===0&&r.jsxs(he,{className:"p-12 text-center",children:[r.jsx($c,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No cutting types found"}),r.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or filters"})]}),r.jsx(Dg,{isOpen:p.isOpen,onClose:()=>x({isOpen:!1,actionId:"",actionType:""}),onConfirm:E,title:`Bulk Action: ${p.actionId}`,actionType:p.actionType,selectedCount:y.length,itemName:"cutting types"})]})}function F9e({requests:e,onView:t,onApprove:s,onReject:a,onBulkAction:n,title:i}){const[l,o]=A.useState([]),[c,d]=A.useState(""),[h,m]=A.useState("all"),[p,x]=A.useState(!1),v=e.filter(_=>{const O=_.productName.toLowerCase().includes(c.toLowerCase())||_.productNameTa.includes(c)||_.category.toLowerCase().includes(c.toLowerCase())||_.requestedBy.toLowerCase().includes(c.toLowerCase()),E=h==="all"||_.status===h;return O&&E}),y=_=>{o(_?v.map(O=>O.id):[])},b=(_,O)=>{o(O?E=>[...E,_]:E=>E.filter(F=>F!==_))},j=async(_,O)=>{if(l.length!==0)try{await n(_,l,O),o([]),x(!1)}catch(E){console.error("Bulk action failed:",E)}},S=_=>{switch(_){case"pending":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},w=_=>{switch(_){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},k=[{id:"approve_selected",label:"Approve Selected",icon:ec,color:"text-green-600"},{id:"reject_selected",label:"Reject Selected",icon:Cs,color:"text-red-600"}];return r.jsxs(he,{className:"overflow-hidden",children:[r.jsx("div",{className:"p-4 sm:p-6 border-b bg-gray-50",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold",children:i}),r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[v.length," request",v.length!==1?"s":"",l.length>0&&`  ${l.length} selected`]})]}),l.length>0&&r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>x(!p),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(jte,{className:"w-4 h-4"}),"Bulk Actions (",l.length,")"]}),p&&r.jsx("div",{className:"absolute right-0 top-full mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-10",children:k.map(_=>r.jsxs("button",{onClick:()=>j(_.id),className:`w-full flex items-center gap-3 px-4 py-3 text-left hover:bg-gray-50 transition-colors ${_.color}`,children:[r.jsx(_.icon,{className:"w-4 h-4"}),_.label]},_.id))})]})]})}),r.jsx("div",{className:"p-4 sm:p-6 border-b bg-white",children:r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Bi,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),r.jsx(de,{placeholder:"Search requests...",value:c,onChange:_=>d(_.target.value),className:"pl-10"})]}),r.jsxs("select",{value:h,onChange:_=>m(_.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"approved",children:"Approved"}),r.jsx("option",{value:"rejected",children:"Rejected"})]})]})}),v.length>0&&r.jsx("div",{className:"p-4 border-b bg-gray-50",children:r.jsxs("label",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",checked:l.length===v.length,onChange:_=>y(_.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsxs("span",{className:"text-sm font-medium",children:["Select All (",v.length,")"]})]})}),r.jsx("div",{className:"divide-y",children:v.length>0?v.map(_=>r.jsx("div",{className:"p-4 sm:p-6",children:r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"flex-shrink-0 pt-1",children:r.jsx("input",{type:"checkbox",checked:l.includes(_.id),onChange:O=>b(_.id,O.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),r.jsx("div",{className:"flex-shrink-0",children:r.jsx("img",{src:_.images[0],alt:_.productName,className:"w-20 h-20 object-cover rounded-lg bg-gray-100"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-4 mb-4",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[r.jsx("h3",{className:"font-semibold text-lg",children:_.productName}),r.jsx(Xe,{variant:S(_.status),children:_.status.charAt(0).toUpperCase()+_.status.slice(1)}),r.jsxs(Xe,{variant:w(_.priority),children:[_.priority.charAt(0).toUpperCase()+_.priority.slice(1)," Priority"]}),r.jsx(Xe,{variant:_.sourceType==="hub"?"bg-purple-100 text-purple-800":"bg-orange-100 text-orange-800",children:_.sourceType.toUpperCase()})]}),r.jsx("p",{className:"text-gray-600 text-sm mb-2",children:_.productNameTa}),r.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:_.description})]}),r.jsxs("div",{className:"text-right flex-shrink-0 bg-green-50 p-3 rounded-lg border border-green-200",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Price per Unit"}),r.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",_.price]}),r.jsxs("p",{className:"text-sm text-gray-600 font-medium",children:["per ",_.unit]})]})]}),_.images.length>1&&r.jsxs("div",{className:"mb-4",children:[r.jsxs("p",{className:"text-xs font-medium text-gray-600 mb-2",children:["Product Images (",_.images.length,")"]}),r.jsx("div",{className:"grid grid-cols-4 gap-2",children:_.images.map((O,E)=>r.jsx("img",{src:O,alt:`${_.productName} ${E+1}`,className:"w-full h-20 object-cover rounded-lg bg-gray-100 border"},E))})]}),r.jsxs("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[r.jsx("p",{className:"text-xs font-semibold text-blue-900 mb-2",children:"Request Information"}),r.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Rs,{className:"h-4 w-4 text-blue-600 flex-shrink-0"}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Request ID"}),r.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:_.id})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(si,{className:"h-4 w-4 text-blue-600 flex-shrink-0"}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Requested By"}),r.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:_.requestedBy}),r.jsx("p",{className:"text-xs text-gray-500 truncate",children:_.requestedByRole})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Jr,{className:"h-4 w-4 text-blue-600 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Request Date"}),r.jsx("p",{className:"text-sm font-semibold text-gray-900",children:new Date(_.requestDate).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"})})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Tt,{className:"h-4 w-4 text-blue-600 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Category"}),r.jsx("p",{className:"text-sm font-semibold text-gray-900",children:_.category})]})]})]})]}),r.jsxs("div",{className:"mb-4 p-3 bg-purple-50 rounded-lg border border-purple-200",children:[r.jsx("p",{className:"text-xs font-semibold text-purple-900 mb-2",children:"Product Details"}),r.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3",children:[r.jsxs("div",{className:"bg-white p-2 rounded border border-purple-100",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"HSN Number"}),r.jsx("p",{className:"text-sm font-semibold text-gray-900",children:_.hsnNumber})]}),r.jsxs("div",{className:"bg-white p-2 rounded border border-purple-100",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Variant"}),r.jsx("p",{className:"text-sm font-semibold text-gray-900",children:_.variant})]}),r.jsxs("div",{className:"bg-white p-2 rounded border border-purple-100",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Product Type"}),r.jsx("p",{className:"text-sm font-semibold text-gray-900 capitalize",children:_.productType})]}),r.jsxs("div",{className:"bg-white p-2 rounded border border-purple-100",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Season"}),r.jsx("p",{className:"text-sm font-semibold text-gray-900",children:_.season})]})]})]}),_.status==="rejected"&&_.reason&&r.jsxs("div",{className:"mb-3 p-3 bg-red-50 rounded-lg border border-red-200",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(ya,{className:"h-4 w-4 text-red-600"}),r.jsx("span",{className:"font-semibold text-red-800 text-sm",children:"Rejection Reason"})]}),r.jsx("p",{className:"text-sm text-red-700",children:_.reason})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsxs("button",{onClick:()=>t(_),className:"flex items-center gap-2 px-3 py-1.5 text-sm border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[r.jsx(Fr,{className:"h-4 w-4"}),"View"]}),_.status==="pending"&&r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>s(_),className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[r.jsx(ec,{className:"h-4 w-4"}),"Approve"]}),r.jsxs("button",{onClick:()=>a(_),className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[r.jsx(Cs,{className:"h-4 w-4"}),"Reject"]})]})]})]})]})},_.id)):r.jsxs("div",{className:"p-12 text-center",children:[r.jsx(Tt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No requests found"}),r.jsx("p",{className:"text-gray-500",children:c||h!=="all"?"Try adjusting your search or filters":"No product requests available"})]})})]})}const L9e=[{id:"1",nameEn:"Seer Fish (Vanjaram)",nameTa:"",sku:"FISH-001",category:"fish",description:"Premium quality seer fish",images:[],variants:[{id:"v1",type:"Whole Cleaned",size:"Medium",grossWeight:"1000-1250g",netWeight:"800-1000g",pieces:"1 piece",serves:"3-4",price:1200,stock:25,discount:10}],isBestSeller:!0,isRare:!1,isActive:!0,deliveryType:"next_day",sourceType:"hub",moduleType:"hub",hubId:"hub_1",approvalStatus:"approved"},{id:"2",nameEn:"Tiger Prawns",nameTa:"",sku:"PRWN-001",category:"prawns",description:"Fresh tiger prawns",images:[],variants:[{id:"v2",type:"Cleaned",size:"Large",grossWeight:"500g",netWeight:"400g",pieces:"15-20 pieces",serves:"2-3",price:650,stock:15}],isBestSeller:!0,isRare:!1,isActive:!0,deliveryType:"next_day",sourceType:"hub",moduleType:"hub",hubId:"hub_2",approvalStatus:"approved"},{id:"3",nameEn:"Chicken Breast",nameTa:" ",sku:"CHKN-001",category:"chicken",description:"Fresh chicken breast",images:[],variants:[{id:"v3",type:"Boneless",size:"Medium",grossWeight:"500g",netWeight:"450g",pieces:"2-3 pieces",serves:"2-3",price:280,stock:50}],isBestSeller:!1,isRare:!1,isActive:!0,deliveryType:"same_day",sourceType:"store",moduleType:"store",storeId:"store_1",approvalStatus:"approved"},{id:"4",nameEn:"Mutton Curry Cut",nameTa:" ",sku:"MUTTON-001",category:"mutton",description:"Fresh mutton curry cut",images:[],variants:[{id:"v4",type:"Curry Cut",size:"Medium",grossWeight:"500g",netWeight:"450g",pieces:"8-10 pieces",serves:"2-3",price:650,stock:20}],isBestSeller:!1,isRare:!1,isActive:!0,deliveryType:"same_day",sourceType:"store",moduleType:"store",storeId:"store_2",approvalStatus:"approved"}],I9e=[{id:"hub_1",name:"Chennai Hub",location:"Chennai"},{id:"hub_2",name:"Coimbatore Hub",location:"Coimbatore"},{id:"hub_3",name:"Madurai Hub",location:"Madurai"}],B9e=[{id:"store_1",name:"T.Nagar Store",location:"T.Nagar, Chennai"},{id:"store_2",name:"Anna Nagar Store",location:"Anna Nagar, Chennai"},{id:"store_3",name:"Velachery Store",location:"Velachery, Chennai"}];function W2(){const{user:e}=es(),[t,s]=A.useState(!1),[a,n]=A.useState(null),[i,l]=A.useState("hub"),[o,c]=A.useState("all"),[d,h]=A.useState("all"),[m,p]=A.useState("all"),[x,v]=A.useState(""),[y,b]=A.useState(""),[j,S]=A.useState(!1),w=[{value:"all",label:"All Time"},{value:"today",label:"Today"},{value:"yesterday",label:"Yesterday"},{value:"last7days",label:"Last 7 Days"},{value:"last30days",label:"Last 30 Days"},{value:"thisMonth",label:"This Month"},{value:"lastMonth",label:"Last Month"},{value:"custom",label:"Custom Range"}],k=X=>{const Z=new Date,ye=new Date(Z.getFullYear(),Z.getMonth(),Z.getDate()),te=new Date(Z.getFullYear(),Z.getMonth(),Z.getDate(),23,59,59);switch(X){case"today":return{start:ye,end:te};case"yesterday":const D=new Date(Z);return D.setDate(D.getDate()-1),{start:new Date(D.getFullYear(),D.getMonth(),D.getDate()),end:new Date(D.getFullYear(),D.getMonth(),D.getDate(),23,59,59)};case"last7days":const H=new Date(Z);return H.setDate(H.getDate()-7),{start:H,end:te};case"last30days":const q=new Date(Z);return q.setDate(q.getDate()-30),{start:q,end:te};case"thisMonth":return{start:new Date(Z.getFullYear(),Z.getMonth(),1),end:te};case"lastMonth":const W=new Date(Z.getFullYear(),Z.getMonth()-1,1),G=new Date(Z.getFullYear(),Z.getMonth(),0,23,59,59);return{start:W,end:G};case"custom":return x&&y?{start:new Date(x),end:new Date(y+"T23:59:59")}:null;default:return null}},_=X=>{if(m==="all")return X;const Z=k(m);return Z?X.filter((ye,te)=>{const H=[new Date("2024-01-15"),new Date("2024-01-10"),new Date("2024-01-05"),new Date("2024-01-08")][te]||new Date("2024-01-01");return H>=Z.start&&H<=Z.end}):X},O=og(L9e,e),F=(()=>{let X=e?.loginType==="super_admin"?O.filter(Z=>Z.sourceType===i):O;return e?.loginType==="super_admin"&&(i==="hub"&&o!=="all"?X=X.filter(Z=>Z.hubId===o):i==="store"&&d!=="all"&&(X=X.filter(Z=>Z.storeId===d))),X=_(X),X})(),I=()=>{p("all"),v(""),b("")},U=()=>{n(null),s(!0)},M=X=>{n(X),s(!0)},L=X=>{n(X),s(!0)},J=X=>{confirm("Are you sure you want to delete this product?")&&console.log("Delete product:",X.id)},K=async(X,Z,ye)=>{try{switch(X){case"activate":console.log(`Activating ${Z.length} products:`,Z);break;case"deactivate":console.log(`Deactivating ${Z.length} products:`,Z);break;case"archive":console.log(`Archiving ${Z.length} products:`,Z);break;case"delete":console.log(`Deleting ${Z.length} products:`,Z);break;default:console.log(`Bulk action ${X} performed on ${Z.length} products`,ye)}}catch(te){console.error("Product bulk action failed:",te),alert("Bulk action failed. Please try again.")}},ae=()=>e?.loginType==="hub"?{title:"Hub Product Management",description:"Manage fish and seafood products for hub operations"}:e?.loginType==="store"?{title:"Store Product Management",description:"Manage meat, chicken, and other products for store operations"}:{title:"All Products",description:"Manage all products across hubs and stores"},V=()=>e?.loginType==="super_admin"?i==="hub"?"Add Hub Product":"Add Store Product":"Add Product",re=ae();return r.jsx("div",{className:"min-h-screen bg-gray-50",children:r.jsx("div",{className:"w-full py-2 sm:py-4 md:py-6 lg:py-8",children:r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:r.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:r.jsx(Tt,{className:"h-5 w-5 sm:h-6 sm:w-6 text-blue-600"})}),r.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900",children:re.title})]}),r.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-3",children:re.description}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsxs(Xe,{variant:"bg-blue-100 text-blue-700",className:"text-xs font-medium",children:[F.length," Products"]}),r.jsxs(Xe,{variant:"bg-green-100 text-green-700",className:"text-xs font-medium",children:[F.filter(X=>X.isActive).length," Active"]}),e?.loginType==="super_admin"&&r.jsxs(Xe,{variant:"bg-purple-100 text-purple-700",className:"text-xs font-medium",children:[i.charAt(0).toUpperCase()+i.slice(1)," View"]}),m!=="all"&&r.jsx(Xe,{variant:"bg-orange-100 text-orange-700",className:"text-xs font-medium",children:w.find(X=>X.value===m)?.label})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[r.jsxs(oe,{onClick:()=>S(!j),variant:"secondary",className:"w-full sm:w-auto px-4 py-2 border-gray-300 hover:bg-gray-50",children:[r.jsx(Jr,{className:"mr-2 h-4 w-4"}),r.jsx("span",{className:"sm:hidden",children:"Filter"}),r.jsx("span",{className:"hidden sm:inline",children:"Date Filter"})]}),r.jsxs(oe,{onClick:U,className:"w-full sm:w-auto px-4 py-2 sm:px-6 sm:py-3 bg-blue-600 hover:bg-blue-700",children:[r.jsx(dr,{className:"mr-2 h-4 w-4"}),r.jsx("span",{className:"sm:hidden",children:"Add Product"}),r.jsx("span",{className:"hidden sm:inline",children:V()})]})]})]})}),j&&r.jsx(he,{className:"p-4 sm:p-6 border-l-4 border-l-orange-500",children:r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(nc,{className:"h-5 w-5 text-orange-600"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Date Filter"})]}),r.jsxs(oe,{onClick:I,variant:"secondary",size:"sm",className:"text-gray-600 hover:text-gray-800",children:[r.jsx(Ld,{className:"mr-1 h-3 w-3"}),"Reset"]})]}),r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-8 gap-2",children:w.map(X=>r.jsx("button",{onClick:()=>p(X.value),className:`px-3 py-2 text-sm rounded-lg border transition-all ${m===X.value?"bg-orange-100 border-orange-300 text-orange-700 font-medium":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50 hover:border-gray-300"}`,children:X.label},X.value))}),m==="custom"&&r.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Custom Date Range"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Start Date"}),r.jsx("input",{type:"date",value:x,onChange:X=>v(X.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"End Date"}),r.jsx("input",{type:"date",value:y,onChange:X=>b(X.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]})]}),x&&y&&r.jsx("div",{className:"mt-3 p-2 bg-orange-50 rounded border border-orange-200",children:r.jsxs("p",{className:"text-xs text-orange-700",children:[r.jsx("strong",{children:"Selected Range:"})," ",new Date(x).toLocaleDateString()," - ",new Date(y).toLocaleDateString()]})})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2 pt-2 border-t border-gray-200",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Showing:"}),r.jsxs(Xe,{variant:"bg-blue-100 text-blue-700",className:"text-xs",children:[F.length," products"]}),m!=="all"&&r.jsx(Xe,{variant:"bg-orange-100 text-orange-700",className:"text-xs",children:w.find(X=>X.value===m)?.label})]})]})}),r.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx(he,{className:"p-4 hover:shadow-lg transition-all duration-200 border-l-4 border-l-blue-500",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Total Products"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:F.length}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1",children:[r.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),"All products"]})]}),r.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:r.jsx(Tt,{className:"h-6 w-6 text-blue-600"})})]})}),r.jsx(he,{className:"p-4 hover:shadow-lg transition-all duration-200 border-l-4 border-l-green-500",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Active Products"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:F.filter(X=>X.isActive).length}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1",children:[r.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Currently active"]})]}),r.jsx("div",{className:"p-3 bg-green-100 rounded-xl",children:r.jsx(Tt,{className:"h-6 w-6 text-green-600"})})]})}),r.jsx(he,{className:"p-4 hover:shadow-lg transition-all duration-200 border-l-4 border-l-yellow-500",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Best Sellers"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:F.filter(X=>X.isBestSeller).length}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1",children:[r.jsx("span",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),"Top performers"]})]}),r.jsx("div",{className:"p-3 bg-yellow-100 rounded-xl",children:r.jsx(Tt,{className:"h-6 w-6 text-yellow-600"})})]})}),r.jsx(he,{className:"p-4 hover:shadow-lg transition-all duration-200 border-l-4 border-l-red-500",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Low Stock"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:F.filter(X=>(X.variants[0]?.stock||0)<10).length}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1",children:[r.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full"}),"Need attention"]})]}),r.jsx("div",{className:"p-3 bg-red-100 rounded-xl",children:r.jsx(Tt,{className:"h-6 w-6 text-red-600"})})]})})]}),e?.loginType==="super_admin"&&r.jsxs(he,{className:"p-4 sm:p-6",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Product Categories"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Switch between hub and store product management"})]}),r.jsx("div",{className:"flex gap-2 border-b overflow-x-auto pb-4",children:[{id:"hub",label:"Hub Products",count:O.filter(X=>X.sourceType==="hub").length,description:"Fish & Seafood",icon:""},{id:"store",label:"Store Products",count:O.filter(X=>X.sourceType==="store").length,description:"Meat & Poultry",icon:""}].map(X=>r.jsxs("button",{onClick:()=>l(X.id),className:`flex items-center gap-3 px-4 py-3 border-b-2 transition-all whitespace-nowrap text-sm min-w-0 rounded-t-lg ${i===X.id?"border-blue-600 text-blue-600 bg-blue-50":"border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:[r.jsx("span",{className:"text-lg",children:X.icon}),r.jsxs("div",{className:"text-left",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:X.label}),r.jsx(Xe,{variant:i===X.id?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600",className:"text-xs font-medium",children:X.count})]}),r.jsx("span",{className:"text-xs text-gray-500",children:X.description})]})]},X.id))})]}),r.jsxs(he,{className:"overflow-hidden shadow-sm border border-gray-200",children:[r.jsx("div",{className:"bg-gray-50 px-4 sm:px-6 py-3 border-b border-gray-200",children:r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e?.loginType==="super_admin"?`${i.charAt(0).toUpperCase()+i.slice(1)} Products`:"Products"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage and organize your product catalog"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(Xe,{variant:"bg-blue-100 text-blue-700",className:"text-xs font-medium",children:[F.length," Total"]}),r.jsxs(Xe,{variant:"bg-green-100 text-green-700",className:"text-xs font-medium",children:[F.filter(X=>X.isActive).length," Active"]})]})]})}),r.jsx(O9e,{products:F,onView:L,onEdit:M,onDelete:J,onToggleVisibility:X=>{console.log("Toggle visibility for:",X.id,"Current:",X.isActive),alert(`Product "${X.nameEn}" ${X.isActive?"hidden":"shown"} successfully!`)},onBulkAction:K,title:"",additionalFilters:e?.loginType==="super_admin"?[{key:i==="hub"?"hubId":"storeId",label:i==="hub"?"Hub":"Store",value:i==="hub"?o:d,onChange:X=>{i==="hub"?c(X):h(X)},options:[{value:"all",label:`All ${i==="hub"?"Hubs":"Stores"}`},...(i==="hub"?I9e:B9e).map(X=>({value:X.id,label:`${X.name} - ${X.location}`}))]}]:void 0})]}),r.jsx(ir,{isOpen:t,onClose:()=>{s(!1),n(null)},title:a?"Edit Product":"Add New Product",size:"xl",children:r.jsx(P9e,{onSave:X=>{console.log("Product data:",X),s(!1),n(null)},onCancel:()=>{s(!1),n(null)},initialData:a?{nameEn:a.nameEn,nameTa:a.nameTa,category:a.category,hsnNumber:a.sku||"",variant:a.variants[0]?.type||"",fishSize:a.variants[0]?.size||"",maxSize:a.variants[0]?.grossWeight||"",basePriceMin:a.variants[0]?.price||0,basePriceMax:a.variants[0]?.price||0,fishCountMin:0,fishCountMax:0,isBestSeller:a.isBestSeller,isRareProduct:a.isRare,isActive:a.isActive,productType:"",season:"",metaTitle:"",metaDescription:"",isCombo:!1,comboData:{comboName:"",comboOfferPercent:0,comboDescription:"",comboItems:[],isBestSeller:!1,isRareProduct:!1,isActive:!0,productType:"",season:"",metaTitle:"",metaDescription:""},images:[],primaryImageIndex:0,description:a.description||"",variants:a.variants.map(X=>({id:X.id,type:X.type,size:X.size,grossWeight:X.grossWeight,netWeight:X.netWeight,pieces:X.pieces,serves:X.serves,skuNumber:"",actualPrice:X.price,salesPrice:X.price,stock:X.stock,igst:0,cgst:0,sgst:0,cuttingTypeId:""})),dayBasedPricing:{enabled:!1,dayPrices:[{day:"monday",price:0,enabled:!1},{day:"tuesday",price:0,enabled:!1},{day:"wednesday",price:0,enabled:!1},{day:"thursday",price:0,enabled:!1},{day:"friday",price:0,enabled:!1},{day:"saturday",price:0,enabled:!1},{day:"sunday",price:0,enabled:!1}]},productTags:{tags:[]},nutrition:{calories:a.nutritionalInfo?.calories||0,protein:a.nutritionalInfo?.protein||0,carbs:0,fat:a.nutritionalInfo?.fat||0,fiber:0,sugar:0,sodium:0,cholesterol:0,vitamins:{vitaminA:0,vitaminC:0,vitaminD:0,vitaminB12:0},minerals:{calcium:0,iron:a.nutritionalInfo?.iron||0,potassium:0,magnesium:0}},selectedNutrition:{}}:void 0})})]})})})}const cU=[{id:"HR001",productName:"Premium Tuna",productNameTa:" ",category:"1",hsnNumber:"0302",variant:"Large",fishSize:"2-5 kg",maxSize:"5 kg",basePriceMin:800,basePriceMax:900,fishCountMin:1,fishCountMax:2,description:"Fresh premium tuna fish, ideal for sashimi and grilling. Caught daily from deep sea waters.",price:850,unit:"kg",images:["/api/placeholder/300/200","/api/placeholder/300/200","/api/placeholder/300/200"],primaryImageIndex:0,requestedBy:"Ravi Kumar",requestedByRole:"Hub Manager",requestDate:"2024-01-08",sourceType:"hub",status:"pending",priority:"high",isBestSeller:!0,isRareProduct:!1,isActive:!0,productType:"fresh",season:"Year-round",metaTitle:"Premium Tuna - Fresh Seafood | BayHawk",metaDescription:"Buy fresh premium tuna online. Perfect for sashimi and grilling. Caught daily, delivered fresh.",variants:[{id:"v1",type:"Whole Fish",size:"Large",grossWeight:"3-5 kg",netWeight:"2.5-4.5 kg",pieces:"1 piece",serves:"6-8",skuNumber:"TUNA-L-001",actualPrice:900,salesPrice:850,stock:25,igst:0,cgst:0,sgst:0,cuttingTypeId:"1",cuttingTypeName:"Whole Fish"},{id:"v2",type:"Steaks",size:"Medium",grossWeight:"500g",netWeight:"450g",pieces:"4-5 pieces",serves:"2-3",skuNumber:"TUNA-S-001",actualPrice:950,salesPrice:900,stock:40,igst:0,cgst:0,sgst:0,cuttingTypeId:"3",cuttingTypeName:"Fish Steaks"}],dayBasedPricing:{enabled:!0,dayPrices:[{day:"monday",price:850,enabled:!0},{day:"tuesday",price:850,enabled:!0},{day:"wednesday",price:820,enabled:!0},{day:"thursday",price:850,enabled:!0},{day:"friday",price:900,enabled:!0},{day:"saturday",price:900,enabled:!0},{day:"sunday",price:880,enabled:!0}]},productTags:["Fresh","Premium","Sashimi Grade","High Protein"],nutrition:{calories:144,protein:23,carbs:0,fat:5,fiber:0,sugar:0,sodium:39,cholesterol:38,vitamins:{vitaminA:16,vitaminC:0,vitaminD:5,vitaminB12:9},minerals:{calcium:8,iron:1,potassium:252,magnesium:50}}},{id:"SR001",productName:"Organic Chicken",productNameTa:" ",category:"5",hsnNumber:"0207",variant:"Whole Bird",fishSize:"1-1.5 kg",maxSize:"1.5 kg",basePriceMin:300,basePriceMax:350,fishCountMin:0,fishCountMax:0,description:"Free-range organic chicken, antibiotic-free. Raised naturally on organic farms.",price:320,unit:"kg",images:["/api/placeholder/300/200","/api/placeholder/300/200"],primaryImageIndex:0,requestedBy:"Priya Sharma",requestedByRole:"Store Manager",requestDate:"2024-01-08",sourceType:"store",status:"pending",priority:"high",isBestSeller:!1,isRareProduct:!1,isActive:!0,productType:"fresh",season:"Year-round",metaTitle:"Organic Chicken - Antibiotic Free | BayHawk",metaDescription:"Buy organic free-range chicken online. Antibiotic-free, naturally raised. Fresh delivery.",variants:[{id:"v1",type:"Whole Bird",size:"Medium",grossWeight:"1.2 kg",netWeight:"1 kg",pieces:"1 bird",serves:"4-5",skuNumber:"CHKN-W-001",actualPrice:350,salesPrice:320,stock:50,igst:0,cgst:0,sgst:0},{id:"v2",type:"Curry Cut",size:"Medium",grossWeight:"500g",netWeight:"480g",pieces:"8-10 pieces",serves:"2-3",skuNumber:"CHKN-C-001",actualPrice:340,salesPrice:320,stock:60,igst:0,cgst:0,sgst:0}],productTags:["Organic","Antibiotic Free","Free Range"],nutrition:{calories:165,protein:31,carbs:0,fat:3.6,fiber:0,sugar:0,sodium:82,cholesterol:85,vitamins:{vitaminA:0,vitaminC:0,vitaminD:0,vitaminB12:.3},minerals:{calcium:11,iron:.9,potassium:220,magnesium:25}}}];function G2(){const[e,t]=A.useState("hub"),[s,a]=A.useState(!1),[n,i]=A.useState(!1),[l,o]=A.useState(!1),[c,d]=A.useState(null),[h,m]=A.useState(""),[p,x]=A.useState(""),v=cU.filter(U=>U.sourceType==="hub"),y=cU.filter(U=>U.sourceType==="store"),b=[{id:"hub",label:"Hub Requests",icon:Wl,count:v.length},{id:"store",label:"Store Requests",icon:Fn,count:y.length}],j=()=>e==="hub"?v:y,S=async(U,M,L)=>{try{switch(U){case"approve_selected":console.log(`Approving ${M.length} requests:`,M),alert(`${M.length} product requests have been approved successfully!`);break;case"reject_selected":const J=prompt("Please provide a reason for bulk rejection:");J&&(console.log(`Rejecting ${M.length} requests:`,M,"Reason:",J),alert(`${M.length} product requests have been rejected. Reason: ${J}`));break;default:console.log(`Bulk action ${U} performed on ${M.length} requests`,L)}}catch(J){console.error("Bulk action failed:",J),alert("Bulk action failed. Please try again.")}},w=U=>{d(U),a(!0)},k=U=>{d(U),x(""),i(!0)},_=U=>{d(U),m(""),o(!0)},O=()=>{c&&(console.log("Approving request:",c.id,"Notes:",p),i(!1),d(null),x(""),alert(`Product "${c.productName}" has been approved successfully!`))},E=()=>{c&&h.trim()?(console.log("Rejecting request:",c.id,"Reason:",h),o(!1),d(null),m(""),alert(`Product "${c.productName}" has been rejected. Reason: ${h}`)):alert("Please provide a reason for rejection.")},F={total:v.length,pending:v.filter(U=>U.status==="pending").length,approved:v.filter(U=>U.status==="approved").length,rejected:v.filter(U=>U.status==="rejected").length},I={total:y.length,pending:y.filter(U=>U.status==="pending").length,approved:y.filter(U=>U.status==="approved").length,rejected:y.filter(U=>U.status==="rejected").length};return r.jsx("div",{className:"min-h-screen bg-gray-50",children:r.jsx("div",{className:"w-full py-4 sm:py-6 lg:py-8",children:r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900 truncate",children:"Product Approval"}),r.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1 sm:mt-2",children:"Review and approve product requests from Hub and Store admins"})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs("div",{className:"flex items-center gap-1 px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-sm",children:[r.jsx(ya,{className:"h-4 w-4"}),r.jsxs("span",{className:"font-medium",children:[F.pending+I.pending," Pending"]})]})})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[r.jsxs(he,{className:"p-4 sm:p-6 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm sm:text-base text-gray-600 font-medium truncate",children:"Hub Requests"}),r.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mt-1",children:F.total}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:"Fish & Seafood Products"})]}),r.jsx("div",{className:"p-3 sm:p-4 bg-blue-100 rounded-lg flex-shrink-0",children:r.jsx(Wl,{className:"h-6 w-6 sm:h-8 sm:w-8 text-blue-600"})})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-3 sm:gap-4",children:[r.jsxs("div",{className:"text-center p-2 sm:p-3 bg-yellow-50 rounded-lg",children:[r.jsx("p",{className:"text-lg sm:text-xl font-bold text-yellow-600",children:F.pending}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 font-medium",children:"Pending"})]}),r.jsxs("div",{className:"text-center p-2 sm:p-3 bg-green-50 rounded-lg",children:[r.jsx("p",{className:"text-lg sm:text-xl font-bold text-green-600",children:F.approved}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 font-medium",children:"Approved"})]}),r.jsxs("div",{className:"text-center p-2 sm:p-3 bg-red-50 rounded-lg",children:[r.jsx("p",{className:"text-lg sm:text-xl font-bold text-red-600",children:F.rejected}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 font-medium",children:"Rejected"})]})]})]}),r.jsxs(he,{className:"p-4 sm:p-6 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm sm:text-base text-gray-600 font-medium truncate",children:"Store Requests"}),r.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mt-1",children:I.total}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:"Meat & Poultry Products"})]}),r.jsx("div",{className:"p-3 sm:p-4 bg-green-100 rounded-lg flex-shrink-0",children:r.jsx(Fn,{className:"h-6 w-6 sm:h-8 sm:w-8 text-green-600"})})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-3 sm:gap-4",children:[r.jsxs("div",{className:"text-center p-2 sm:p-3 bg-yellow-50 rounded-lg",children:[r.jsx("p",{className:"text-lg sm:text-xl font-bold text-yellow-600",children:I.pending}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 font-medium",children:"Pending"})]}),r.jsxs("div",{className:"text-center p-2 sm:p-3 bg-green-50 rounded-lg",children:[r.jsx("p",{className:"text-lg sm:text-xl font-bold text-green-600",children:I.approved}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 font-medium",children:"Approved"})]}),r.jsxs("div",{className:"text-center p-2 sm:p-3 bg-red-50 rounded-lg",children:[r.jsx("p",{className:"text-lg sm:text-xl font-bold text-red-600",children:I.rejected}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 font-medium",children:"Rejected"})]})]})]})]}),r.jsx(he,{className:"p-4 sm:p-6",children:r.jsx("div",{className:"flex gap-1 sm:gap-2 border-b overflow-x-auto pb-4",children:b.map(U=>r.jsx("button",{onClick:()=>t(U.id),className:`flex flex-col sm:flex-row items-center gap-1 sm:gap-2 px-3 sm:px-4 py-2 sm:py-3 border-b-2 transition-all whitespace-nowrap text-sm min-w-0 ${e===U.id?"border-blue-600 text-blue-600 bg-blue-50":"border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-50"} rounded-t-lg`,children:r.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[r.jsx(U.icon,{className:"h-3 w-3 sm:h-4 sm:w-4 flex-shrink-0"}),r.jsx("span",{className:"font-medium truncate",children:U.label}),r.jsx(Xe,{variant:"bg-gray-100 text-gray-600",className:"text-xs flex-shrink-0",children:U.count})]})},U.id))})}),r.jsx(he,{className:"overflow-hidden",children:r.jsx(F9e,{requests:j(),onView:w,onApprove:k,onReject:_,onBulkAction:S,title:`${e.charAt(0).toUpperCase()+e.slice(1)} Product Requests`})}),r.jsx(ir,{isOpen:s,onClose:()=>a(!1),title:"Complete Product Details",size:"xl",children:c&&r.jsxs("div",{className:"space-y-6 max-h-[75vh] overflow-y-auto",children:[r.jsxs(he,{className:"p-4",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Product Images"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:c.images.map((U,M)=>r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:U,alt:`${c.productName} ${M+1}`,className:"w-full h-32 object-cover rounded-lg bg-gray-100 border"}),M===c.primaryImageIndex&&r.jsx(Xe,{variant:"bg-blue-600 text-white",className:"absolute top-2 left-2 text-xs",children:"Primary"})]},M))})]}),r.jsxs(he,{className:"p-6 bg-gradient-to-r from-blue-50 to-purple-50 border-blue-200",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Basic Information"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:c.productName}),r.jsx("p",{className:"text-lg text-gray-700 mt-1",children:c.productNameTa})]}),r.jsx("p",{className:"text-gray-600 leading-relaxed",children:c.description}),r.jsxs("div",{className:"flex flex-wrap gap-2 pt-2",children:[r.jsx(Xe,{variant:c.status==="pending"?"bg-yellow-100 text-yellow-800":c.status==="approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:c.status.toUpperCase()}),r.jsxs(Xe,{variant:c.priority==="high"?"bg-red-100 text-red-800":c.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800",children:[c.priority.toUpperCase()," Priority"]}),c.isBestSeller&&r.jsx(Xe,{variant:"bg-orange-100 text-orange-800",children:"Best Seller"}),c.isRareProduct&&r.jsx(Xe,{variant:"bg-purple-100 text-purple-800",children:"Rare Product"}),c.isActive&&r.jsx(Xe,{variant:"bg-green-100 text-green-800",children:"Active"}),r.jsx(Xe,{variant:c.sourceType==="hub"?"bg-blue-100 text-blue-800":"bg-teal-100 text-teal-800",children:c.sourceType.toUpperCase()})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs(he,{className:"p-4",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Product Details"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between py-2 border-b",children:[r.jsx("span",{className:"text-gray-600",children:"Category:"}),r.jsx("span",{className:"font-semibold",children:c.category})]}),r.jsxs("div",{className:"flex justify-between py-2 border-b",children:[r.jsx("span",{className:"text-gray-600",children:"HSN Number:"}),r.jsx("span",{className:"font-semibold",children:c.hsnNumber})]}),r.jsxs("div",{className:"flex justify-between py-2 border-b",children:[r.jsx("span",{className:"text-gray-600",children:"Variant:"}),r.jsx("span",{className:"font-semibold",children:c.variant})]}),r.jsxs("div",{className:"flex justify-between py-2 border-b",children:[r.jsx("span",{className:"text-gray-600",children:"Product Type:"}),r.jsx("span",{className:"font-semibold capitalize",children:c.productType})]}),r.jsxs("div",{className:"flex justify-between py-2 border-b",children:[r.jsx("span",{className:"text-gray-600",children:"Season:"}),r.jsx("span",{className:"font-semibold",children:c.season})]})]})]}),r.jsxs(he,{className:"p-4",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Size & Weight"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between py-2 border-b",children:[r.jsx("span",{className:"text-gray-600",children:"Fish Size:"}),r.jsx("span",{className:"font-semibold",children:c.fishSize})]}),r.jsxs("div",{className:"flex justify-between py-2 border-b",children:[r.jsx("span",{className:"text-gray-600",children:"Max Size:"}),r.jsx("span",{className:"font-semibold",children:c.maxSize})]}),c.fishCountMin>0&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex justify-between py-2 border-b",children:[r.jsx("span",{className:"text-gray-600",children:"Fish Count Min:"}),r.jsx("span",{className:"font-semibold",children:c.fishCountMin})]}),r.jsxs("div",{className:"flex justify-between py-2 border-b",children:[r.jsx("span",{className:"text-gray-600",children:"Fish Count Max:"}),r.jsx("span",{className:"font-semibold",children:c.fishCountMax})]})]})]})]})]}),r.jsxs(he,{className:"p-6 bg-green-50 border-green-200",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Pricing Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Base Price Min"}),r.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",c.basePriceMin]})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Base Price Max"}),r.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",c.basePriceMax]})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Unit"}),r.jsx("p",{className:"text-xl font-semibold text-gray-900",children:c.unit})]})]})]}),r.jsxs(he,{className:"p-6 bg-purple-50 border-purple-200",children:[r.jsxs("h4",{className:"font-semibold text-gray-900 mb-4",children:["Product Variants (",c.variants.length,")"]}),r.jsx("div",{className:"space-y-4",children:c.variants.map((U,M)=>r.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("h5",{className:"font-semibold text-gray-900",children:["Variant ",M+1,": ",U.type]}),r.jsx(Xe,{variant:"bg-blue-100 text-blue-800",children:U.size})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Gross Weight"}),r.jsx("p",{className:"font-semibold",children:U.grossWeight})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Net Weight"}),r.jsx("p",{className:"font-semibold",children:U.netWeight})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Pieces"}),r.jsx("p",{className:"font-semibold",children:U.pieces})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Serves"}),r.jsx("p",{className:"font-semibold",children:U.serves})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"SKU Number"}),r.jsx("p",{className:"font-semibold",children:U.skuNumber})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Actual Price"}),r.jsxs("p",{className:"font-semibold text-green-600",children:["",U.actualPrice]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Sales Price"}),r.jsxs("p",{className:"font-semibold text-blue-600",children:["",U.salesPrice]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Stock"}),r.jsxs("p",{className:"font-semibold",children:[U.stock," units"]})]}),U.cuttingTypeName&&r.jsxs("div",{className:"col-span-2",children:[r.jsx("p",{className:"text-gray-600",children:"Cutting Type"}),r.jsx("p",{className:"font-semibold",children:U.cuttingTypeName})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"IGST"}),r.jsxs("p",{className:"font-semibold",children:[U.igst,"%"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"CGST"}),r.jsxs("p",{className:"font-semibold",children:[U.cgst,"%"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"SGST"}),r.jsxs("p",{className:"font-semibold",children:[U.sgst,"%"]})]})]})]},U.id))})]}),c.dayBasedPricing?.enabled&&r.jsxs(he,{className:"p-6 bg-orange-50 border-orange-200",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Day-Based Pricing"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:c.dayBasedPricing.dayPrices.filter(U=>U.enabled).map(U=>r.jsxs("div",{className:"bg-white p-3 rounded-lg border text-center",children:[r.jsx("p",{className:"text-sm text-gray-600 capitalize mb-1",children:U.day}),r.jsxs("p",{className:"text-lg font-bold text-orange-600",children:["",U.price]})]},U.day))})]}),c.productTags&&c.productTags.length>0&&r.jsxs(he,{className:"p-4",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Product Tags"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:c.productTags.map((U,M)=>r.jsx(Xe,{variant:"bg-gray-100 text-gray-800",children:U},M))})]}),c.nutrition&&r.jsxs(he,{className:"p-6 bg-teal-50 border-teal-200",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Nutrition Information (per 100g)"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:[r.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Calories"}),r.jsxs("p",{className:"text-lg font-bold",children:[c.nutrition.calories," kcal"]})]}),r.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Protein"}),r.jsxs("p",{className:"text-lg font-bold",children:[c.nutrition.protein,"g"]})]}),r.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Carbs"}),r.jsxs("p",{className:"text-lg font-bold",children:[c.nutrition.carbs,"g"]})]}),r.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Fat"}),r.jsxs("p",{className:"text-lg font-bold",children:[c.nutrition.fat,"g"]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-900 mb-2",children:"Vitamins"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Vitamin A:"}),r.jsxs("span",{children:[c.nutrition.vitamins.vitaminA,"%"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Vitamin C:"}),r.jsxs("span",{children:[c.nutrition.vitamins.vitaminC,"%"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Vitamin D:"}),r.jsxs("span",{children:[c.nutrition.vitamins.vitaminD,"%"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Vitamin B12:"}),r.jsxs("span",{children:[c.nutrition.vitamins.vitaminB12,"%"]})]})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-900 mb-2",children:"Minerals"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Calcium:"}),r.jsxs("span",{children:[c.nutrition.minerals.calcium,"%"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Iron:"}),r.jsxs("span",{children:[c.nutrition.minerals.iron,"%"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Potassium:"}),r.jsxs("span",{children:[c.nutrition.minerals.potassium,"mg"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Magnesium:"}),r.jsxs("span",{children:[c.nutrition.minerals.magnesium,"mg"]})]})]})]})]})]}),r.jsxs(he,{className:"p-6 bg-indigo-50 border-indigo-200",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"SEO Information"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Meta Title"}),r.jsx("p",{className:"font-semibold text-gray-900",children:c.metaTitle})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Meta Description"}),r.jsx("p",{className:"text-gray-700",children:c.metaDescription})]})]})]}),r.jsxs(he,{className:"p-6 bg-gray-50",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Request Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{className:"flex justify-between py-2 border-b",children:[r.jsx("span",{className:"text-gray-600",children:"Request ID:"}),r.jsx("span",{className:"font-semibold text-blue-600",children:c.id})]}),r.jsxs("div",{className:"flex justify-between py-2 border-b",children:[r.jsx("span",{className:"text-gray-600",children:"Requested By:"}),r.jsx("span",{className:"font-semibold",children:c.requestedBy})]}),r.jsxs("div",{className:"flex justify-between py-2 border-b",children:[r.jsx("span",{className:"text-gray-600",children:"Role:"}),r.jsx("span",{className:"font-semibold",children:c.requestedByRole})]}),r.jsxs("div",{className:"flex justify-between py-2 border-b",children:[r.jsx("span",{className:"text-gray-600",children:"Request Date:"}),r.jsx("span",{className:"font-semibold",children:new Date(c.requestDate).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})})]})]})]}),c.status==="rejected"&&c.reason&&r.jsx(he,{className:"p-6 bg-red-50 border-red-200",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(ya,{className:"h-6 w-6 text-red-600 flex-shrink-0 mt-1"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold text-red-800 mb-2",children:"Rejection Reason"}),r.jsx("p",{className:"text-red-700 leading-relaxed",children:c.reason})]})]})}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t sticky bottom-0 bg-white",children:[r.jsx(oe,{variant:"secondary",onClick:()=>a(!1),className:"flex-1",children:"Close"}),c.status==="pending"&&r.jsxs(r.Fragment,{children:[r.jsx(oe,{onClick:()=>{a(!1),_(c)},className:"flex-1 bg-red-600 hover:bg-red-700",children:"Reject"}),r.jsx(oe,{onClick:()=>{a(!1),k(c)},className:"flex-1 bg-green-600 hover:bg-green-700",children:"Approve"})]})]})]})}),r.jsx(ir,{isOpen:n,onClose:()=>i(!1),title:"Approve Product Request",size:"md",children:c&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600 mb-4",children:"Are you sure you want to approve this product?"}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("p",{className:"font-semibold",children:c.productName}),r.jsx("p",{className:"text-sm text-gray-600",children:c.productNameTa}),r.jsxs("p",{className:"text-sm text-gray-500",children:["",c.price," per ",c.unit]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Approval Notes (Optional)"}),r.jsx("textarea",{value:p,onChange:U=>x(U.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",rows:3,placeholder:"Add any notes or conditions for approval..."})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(oe,{variant:"secondary",onClick:()=>i(!1),className:"flex-1",children:"Cancel"}),r.jsx(oe,{onClick:O,className:"flex-1 bg-green-600 hover:bg-green-700",children:"Approve"})]})]})}),r.jsx(ir,{isOpen:l,onClose:()=>o(!1),title:"Reject Product Request",size:"md",children:c&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600 mb-4",children:"Are you sure you want to reject this product?"}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("p",{className:"font-semibold",children:c.productName}),r.jsx("p",{className:"text-sm text-gray-600",children:c.productNameTa}),r.jsxs("p",{className:"text-sm text-gray-500",children:["",c.price," per ",c.unit]})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Rejection Reason ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("textarea",{value:h,onChange:U=>m(U.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",rows:3,placeholder:"Please provide a reason for rejection...",required:!0})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(oe,{variant:"secondary",onClick:()=>o(!1),className:"flex-1",children:"Cancel"}),r.jsx(oe,{onClick:E,className:"flex-1 bg-red-600 hover:bg-red-700",children:"Reject"})]})]})})]})})})}const U9e=[{id:"1",name:"Whole Fish",description:"Complete fish without cutting - perfect for grilling",category:"fish",moduleType:"hub",method:`1. Rinse fish under cold running water
2. Remove scales using fish scaler
3. Make incision from vent to gills
4. Remove all internal organs
5. Rinse cavity thoroughly
6. Pat dry with paper towels`,imageUrl:"https://images.unsplash.com/photo-1544943910-4c1dc44aab44?w=400&h=300&fit=crop",isActive:!0,createdBy:"admin",createdAt:"2024-01-01"},{id:"2",name:"Fish Fillet",description:"Boneless fish pieces - ideal for pan-frying",category:"fish",moduleType:"hub",method:`1. Place cleaned fish on cutting board
2. Insert knife behind gills
3. Cut along backbone toward tail
4. Remove fillet in one piece
5. Remove pin bones with tweezers`,imageUrl:"https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=400&h=300&fit=crop",isActive:!0,createdBy:"admin",createdAt:"2024-01-01"},{id:"3",name:"Fish Steaks",description:"Cross-cut fish pieces with bone - great for curries",category:"fish",moduleType:"hub",method:`1. Clean and scale the fish
2. Cut perpendicular to backbone
3. Make 1-2 inch thick steaks
4. Remove any loose scales
5. Wash and pat dry`,imageUrl:"https://images.unsplash.com/photo-1544943910-4c1dc44aab44?w=400&h=300&fit=crop",isActive:!0,createdBy:"admin",createdAt:"2024-01-01"},{id:"4",name:"Fish Curry Cut",description:"Small pieces with bone - traditional curry style",category:"fish",moduleType:"hub",method:`1. Clean fish thoroughly
2. Cut into 2-3 inch pieces
3. Include backbone pieces
4. Ensure uniform size
5. Wash pieces well`,imageUrl:"https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=400&h=300&fit=crop",isActive:!0,createdBy:"admin",createdAt:"2024-01-01"},{id:"5",name:"Fish Fingers",description:"Boneless strips - perfect for frying",category:"fish",moduleType:"hub",method:`1. Start with fish fillets
2. Cut into finger-sized strips
3. Remove any remaining bones
4. Ensure uniform thickness
5. Pat dry before cooking`,imageUrl:"https://images.unsplash.com/photo-1544943910-4c1dc44aab44?w=400&h=300&fit=crop",isActive:!0,createdBy:"admin",createdAt:"2024-01-01"},{id:"6",name:"Whole Chicken",description:"Complete chicken ready for roasting",category:"chicken",moduleType:"store",method:`1. Remove from packaging
2. Remove giblets from cavity
3. Rinse with cold water
4. Pat dry thoroughly
5. Trim excess fat
6. Ready for seasoning`,imageUrl:"https://images.unsplash.com/photo-1548550023-2bdb3c5beed7?w=400&h=300&fit=crop",isActive:!0,createdBy:"admin",createdAt:"2024-01-01"},{id:"7",name:"Chicken Curry Cut",description:"Traditional bone-in pieces for curries",category:"chicken",moduleType:"store",method:`1. Cut through skin between leg and body
2. Remove legs and thighs
3. Cut wings at joints
4. Cut breast into pieces
5. Wash all pieces thoroughly`,imageUrl:"https://images.unsplash.com/photo-1604503468506-a8da13d82791?w=400&h=300&fit=crop",isActive:!0,createdBy:"admin",createdAt:"2024-01-01"},{id:"8",name:"Chicken Boneless",description:"Boneless chicken pieces - versatile cooking",category:"chicken",moduleType:"store",method:`1. Remove skin if desired
2. Debone breast and thigh meat
3. Cut into uniform pieces
4. Remove any cartilage
5. Trim excess fat`,imageUrl:"https://images.unsplash.com/photo-1548550023-2bdb3c5beed7?w=400&h=300&fit=crop",isActive:!0,createdBy:"admin",createdAt:"2024-01-01"},{id:"9",name:"Mutton Curry Cut",description:"Bone-in mutton pieces for traditional curries",category:"mutton",moduleType:"store",method:`1. Cut along natural muscle lines
2. Include bone for flavor
3. Make 2-3 inch pieces
4. Trim excess fat
5. Wash thoroughly`,imageUrl:"https://images.unsplash.com/photo-1529692236671-f1f6cf9683ba?w=400&h=300&fit=crop",isActive:!0,createdBy:"admin",createdAt:"2024-01-01"},{id:"10",name:"Mutton Boneless",description:"Boneless mutton pieces - quick cooking",category:"mutton",moduleType:"store",method:`1. Remove all bones carefully
2. Cut into uniform cubes
3. Trim silver skin
4. Remove excess fat
5. Cut against grain`,imageUrl:"https://images.unsplash.com/photo-1529692236671-f1f6cf9683ba?w=400&h=300&fit=crop",isActive:!0,createdBy:"admin",createdAt:"2024-01-01"},{id:"11",name:"Prawns Cleaned",description:"Deveined prawns ready to cook",category:"other",moduleType:"store",method:`1. Remove head and shell
2. Make shallow cut along back
3. Remove dark vein
4. Rinse under cold water
5. Pat dry gently`,imageUrl:"https://images.unsplash.com/photo-1565680018434-b513d5e5fd47?w=400&h=300&fit=crop",isActive:!0,createdBy:"admin",createdAt:"2024-01-01"},{id:"12",name:"Crab Cleaned",description:"Fresh crab cleaned and ready",category:"other",moduleType:"store",method:`1. Remove top shell
2. Clean out gills
3. Remove intestinal tract
4. Crack claws slightly
5. Rinse thoroughly`,imageUrl:"https://images.unsplash.com/photo-1565680018434-b513d5e5fd47?w=400&h=300&fit=crop",isActive:!0,createdBy:"admin",createdAt:"2024-01-01"}];function K2(){const{user:e}=es(),[t,s]=A.useState(U9e),a=()=>e?.loginType==="hub"?"hub":e?.loginType==="store"?"store":"hub",[n,i]=A.useState(a()),[l,o]=A.useState(!1),[c,d]=A.useState(null),[h,m]=A.useState({name:"",description:"",category:"fish",method:"",imageFile:null,imageUrl:""}),x=e?.loginType==="super_admin"?t:e?.loginType==="hub"?t.filter(M=>M.moduleType==="hub"):e?.loginType==="store"?t.filter(M=>M.moduleType==="store"):[],v=x.filter(M=>M.moduleType==="hub"),y=x.filter(M=>M.moduleType==="store"),j=(()=>{const M=[{id:"hub",label:"Hub Types",icon:Wl,count:v.length,description:"Fish Cutting Types"},{id:"store",label:"Store Types",icon:Fn,count:y.length,description:"Meat & Poultry Types"}];return e?.loginType==="hub"?M.filter(L=>L.id==="hub"):e?.loginType==="store"?M.filter(L=>L.id==="store"):M})(),S=()=>e?.loginType==="super_admin"?n==="hub"?v:y:x,w=M=>{M.preventDefault();const L={id:c?.id||Date.now().toString(),name:h.name,description:h.description,category:h.category,method:h.method,imageUrl:h.imageFile?URL.createObjectURL(h.imageFile):h.imageUrl,moduleType:e?.loginType==="hub"?"hub":e?.loginType==="store"?"store":h.category==="fish"?"hub":"store",isActive:!0,createdBy:e?.name||"admin",createdAt:new Date().toISOString().split("T")[0]};s(c?J=>J.map(K=>K.id===c.id?L:K):J=>[...J,L]),k(),o(!1)},k=()=>{d(null),m({name:"",description:"",category:e?.loginType==="hub"?"fish":"chicken",method:"",imageFile:null,imageUrl:""})},_=M=>{d(M),m({name:M.name,description:M.description,category:M.category,method:M.method,imageFile:null,imageUrl:M.imageUrl||""}),o(!0)},O=M=>{confirm("Are you sure you want to delete this cutting type?")&&s(L=>L.filter(J=>J.id!==M.id))},E=M=>{const L=M.target.files?.[0];L&&console.log("Image selected:",L.name)},F=async(M,L,J)=>{try{switch(M){case"activate":console.log(`Activating ${L.length} cutting types:`,L),s(K=>K.map(ae=>L.includes(ae.id)?{...ae,isActive:!0}:ae));break;case"deactivate":console.log(`Deactivating ${L.length} cutting types:`,L),s(K=>K.map(ae=>L.includes(ae.id)?{...ae,isActive:!1}:ae));break;case"delete":console.log(`Deleting ${L.length} cutting types:`,L),s(K=>K.filter(ae=>!L.includes(ae.id)));break;default:console.log(`Bulk action ${M} performed on ${L.length} cutting types`,J)}}catch(K){console.error("Cutting type bulk action failed:",K),alert("Bulk action failed. Please try again.")}},U=(()=>{const M=S();return{total:M.length,active:M.filter(L=>L.isActive).length,inactive:M.filter(L=>!L.isActive).length,fish:M.filter(L=>L.category==="fish").length,chicken:M.filter(L=>L.category==="chicken").length,mutton:M.filter(L=>L.category==="mutton").length,other:M.filter(L=>L.category==="other").length}})();return r.jsx("div",{className:"min-h-screen bg-gray-50",children:r.jsx("div",{className:"w-full py-4 sm:py-6 lg:py-8",children:r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900 truncate",children:"Cutting Types Management"}),r.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1 sm:mt-2",children:e?.loginType==="hub"?"Manage fish cutting and preparation methods":e?.loginType==="store"?"Manage meat and poultry cutting methods":"Manage all cutting and preparation methods"})]}),r.jsxs(oe,{onClick:()=>o(!0),className:"w-full sm:w-auto flex-shrink-0 px-4 py-2 sm:px-6 sm:py-3",children:[r.jsx(dr,{className:"mr-2 h-5 w-5"}),r.jsx("span",{className:"hidden sm:inline",children:"Add Cutting Type"}),r.jsx("span",{className:"sm:hidden",children:"Add Type"})]})]})}),r.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 lg:gap-6",children:[r.jsx(he,{className:"p-3 sm:p-4 lg:p-6 hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 truncate font-medium",children:"Total Types"}),r.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-gray-900 mt-1",children:U.total}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"All cutting types"})]}),r.jsx("div",{className:"p-2 sm:p-3 bg-blue-100 rounded-lg flex-shrink-0",children:r.jsx($c,{className:"h-4 w-4 sm:h-5 sm:w-5 lg:h-6 lg:w-6 text-blue-600"})})]})}),r.jsx(he,{className:"p-3 sm:p-4 lg:p-6 hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 truncate font-medium",children:"Active"}),r.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-green-600 mt-1",children:U.active}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Currently active"})]}),r.jsx("div",{className:"p-2 sm:p-3 bg-green-100 rounded-lg flex-shrink-0",children:r.jsx(Dy,{className:"h-4 w-4 sm:h-5 sm:w-5 lg:h-6 lg:w-6 text-green-600"})})]})}),r.jsx(he,{className:"p-3 sm:p-4 lg:p-6 hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 truncate font-medium",children:"Fish Types"}),r.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-blue-600 mt-1",children:U.fish}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Fish cutting methods"})]}),r.jsx("div",{className:"p-2 sm:p-3 bg-blue-100 rounded-lg flex-shrink-0",children:r.jsx(yo,{className:"h-4 w-4 sm:h-5 sm:w-5 lg:h-6 lg:w-6 text-blue-600"})})]})}),r.jsx(he,{className:"p-3 sm:p-4 lg:p-6 hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 truncate font-medium",children:"Meat Types"}),r.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-red-600 mt-1",children:U.chicken+U.mutton+U.other}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Meat cutting methods"})]}),r.jsx("div",{className:"p-2 sm:p-3 bg-red-100 rounded-lg flex-shrink-0",children:r.jsx(Dy,{className:"h-4 w-4 sm:h-5 sm:w-5 lg:h-6 lg:w-6 text-red-600"})})]})})]}),j.length>1&&r.jsx(he,{className:"p-4 sm:p-6",children:r.jsx("div",{className:"flex gap-1 sm:gap-2 border-b overflow-x-auto pb-4",children:j.map(M=>r.jsxs("button",{onClick:()=>i(M.id),className:`flex flex-col sm:flex-row items-center gap-1 sm:gap-2 px-3 sm:px-4 py-2 sm:py-3 border-b-2 transition-all whitespace-nowrap text-xs sm:text-sm min-w-0 ${n===M.id?"border-blue-600 text-blue-600 bg-blue-50":"border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-50"} rounded-t-lg`,children:[r.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[r.jsx(M.icon,{className:"h-3 w-3 sm:h-4 sm:w-4 flex-shrink-0"}),r.jsx("span",{className:"font-medium truncate",children:M.label}),r.jsx(Xe,{variant:"bg-gray-100 text-gray-600",className:"text-xs flex-shrink-0",children:M.count})]}),r.jsx("span",{className:"text-xs text-gray-500 hidden sm:block",children:M.description})]},M.id))})}),r.jsx(he,{className:"overflow-hidden",children:r.jsx(M9e,{cuttingTypes:S(),onEdit:_,onDelete:O,onBulkAction:F,title:e?.loginType==="super_admin"?`${n.charAt(0).toUpperCase()+n.slice(1)} Cutting Types`:"Cutting Types"})}),r.jsx(ir,{isOpen:l,onClose:()=>{o(!1),k()},title:c?"Edit Cutting Type":"Add New Cutting Type",size:"lg",children:r.jsxs("form",{onSubmit:w,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),r.jsx(de,{value:h.name,onChange:M=>m(L=>({...L,name:M.target.value})),placeholder:"e.g., Fish Fillet",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),r.jsxs("select",{value:h.category,onChange:M=>m(L=>({...L,category:M.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[r.jsx("option",{value:"fish",children:"Fish"}),r.jsx("option",{value:"chicken",children:"Chicken"}),r.jsx("option",{value:"mutton",children:"Mutton"}),r.jsx("option",{value:"other",children:"Other"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx(de,{value:h.description,onChange:M=>m(L=>({...L,description:M.target.value})),placeholder:"Brief description of the cutting type",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cutting Method"}),r.jsx("textarea",{value:h.method,onChange:M=>m(L=>({...L,method:M.target.value})),placeholder:"Step-by-step cutting instructions...",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image"}),r.jsx("input",{type:"file",accept:"image/*",onChange:E,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),h.imageUrl&&r.jsx("div",{className:"mt-2",children:r.jsx("img",{src:h.imageUrl,alt:"Preview",className:"w-20 h-20 object-cover rounded"})})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx(oe,{type:"button",variant:"secondary",onClick:()=>{o(!1),k()},className:"flex-1",children:"Cancel"}),r.jsxs(oe,{type:"submit",className:"flex-1",children:[c?"Update":"Add"," Cutting Type"]})]})]})})]})})})}const z9e=[{id:"1",type:"primary",name:"Order 350 Reward",description:"Reward for orders above 350",rewardValue:50,probability:30,orderValue:350,isActive:!0,createdAt:"2024-02-10"},{id:"2",type:"referral",name:"Friend Referral Bonus",description:"Reward when friend signs up",rewardValue:100,probability:100,isActive:!0,createdAt:"2024-02-09"},{id:"3",type:"bonus",name:"5th Order Bonus",description:"Every 5th order reward",rewardValue:150,probability:50,nthOrder:5,isActive:!0,createdAt:"2024-02-08"},{id:"4",type:"seasonal",name:"Diwali Special",description:"Festival season rewards",rewardValue:300,probability:60,festival:"Diwali",dateFrom:"2024-10-20",dateTo:"2024-11-05",isActive:!0,createdAt:"2024-02-07"},{id:"5",type:"daily",name:"Daily Login Reward",description:"Reward every 24 hours",rewardValue:25,probability:40,intervalHours:24,isActive:!0,createdAt:"2024-02-06"}],$9e=()=>{const[e,t]=A.useState(z9e),[s,a]=A.useState(!1),[n,i]=A.useState(!1),[l,o]=A.useState(!1),[c,d]=A.useState(null),[h,m]=A.useState("primary"),p=j=>{j.preventDefault(),a(!1),alert("Reward created successfully!")},x=j=>{d(j),i(!0)},v=j=>{d(j),o(!0)},y=j=>{window.confirm("Delete this reward?")&&t(e.filter(S=>S.id!==j))},b=j=>({primary:"bg-blue-100 text-blue-700",referral:"bg-emerald-100 text-emerald-700",bonus:"bg-indigo-100 text-indigo-700",seasonal:"bg-amber-100 text-amber-700",daily:"bg-cyan-100 text-cyan-700"})[j]||"bg-gray-100 text-gray-700";return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Scratch Card Rewards"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Manage all reward types"})]}),r.jsxs(oe,{onClick:()=>a(!0),className:"bg-blue-600 hover:bg-blue-700 text-white",children:[r.jsx(dr,{className:"h-4 w-4 mr-2"}),"Create Offer"]})]}),r.jsx("div",{className:"grid grid-cols-5 gap-4",children:["primary","referral","bonus","seasonal","daily"].map(j=>{const S=e.filter(w=>w.type===j).length;return r.jsxs(he,{className:"p-4",children:[r.jsxs("p",{className:"text-sm text-gray-600 capitalize",children:[j," Rewards"]}),r.jsx("p",{className:"text-2xl font-bold",children:S})]},j)})}),r.jsx(he,{children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Type"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Reward Details"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Value"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Probability"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(j=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${b(j.type)}`,children:j.type})}),r.jsxs("td",{className:"px-6 py-4",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:j.name}),r.jsx("div",{className:"text-sm text-gray-500",children:j.description})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["",j.rewardValue]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"text-sm text-gray-900",children:[j.probability,"%"]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${j.isActive?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:j.isActive?"Active":"Inactive"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:r.jsxs("div",{className:"flex items-center justify-end gap-2",children:[r.jsx("button",{onClick:()=>x(j),className:"p-2 hover:bg-gray-100 rounded-lg text-blue-600",children:r.jsx(Fr,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>v(j),className:"p-2 hover:bg-gray-100 rounded-lg text-gray-600",children:r.jsx(ss,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>y(j.id),className:"p-2 hover:bg-gray-100 rounded-lg text-red-600",children:r.jsx(Ar,{className:"h-4 w-4"})})]})})]},j.id))})]})})}),r.jsx(ir,{isOpen:s,onClose:()=>a(!1),title:"Create Scratch Card Offer",children:r.jsxs("form",{onSubmit:p,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reward Type"}),r.jsxs("select",{value:h,onChange:j=>m(j.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2",children:[r.jsx("option",{value:"primary",children:"Primary Reward (Order Value)"}),r.jsx("option",{value:"referral",children:"Referral Reward"}),r.jsx("option",{value:"bonus",children:"Bonus Reward (Nth Order)"}),r.jsx("option",{value:"seasonal",children:"Seasonal Reward"}),r.jsx("option",{value:"daily",children:"Daily Reward"})]})]}),r.jsx(de,{label:"Reward Name",placeholder:"Enter reward name",required:!0}),r.jsx(de,{label:"Description",placeholder:"Enter description",required:!0}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(de,{label:"Reward Value ()",type:"number",placeholder:"100",required:!0}),r.jsx(de,{label:"Probability (%)",type:"number",placeholder:"50",min:"1",max:"100",required:!0})]}),h==="primary"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Value Trigger"}),r.jsxs("select",{className:"w-full rounded-lg border border-gray-300 px-3 py-2",children:[r.jsx("option",{value:"350",children:"Above 350"}),r.jsx("option",{value:"650",children:"Above 650"}),r.jsx("option",{value:"1500",children:"Above 1500"})]})]}),h==="bonus"&&r.jsx(de,{label:"Every Nth Order",type:"number",placeholder:"5",required:!0}),h==="seasonal"&&r.jsxs(r.Fragment,{children:[r.jsx(de,{label:"Festival Name",placeholder:"Diwali",required:!0}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(de,{label:"Start Date",type:"date",required:!0}),r.jsx(de,{label:"End Date",type:"date",required:!0})]})]}),h==="daily"&&r.jsx(de,{label:"Interval (Hours)",type:"number",placeholder:"24",required:!0}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded"}),r.jsx("label",{className:"text-sm",children:"Active"})]}),r.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[r.jsx(oe,{type:"button",variant:"secondary",onClick:()=>a(!1),className:"flex-1",children:"Cancel"}),r.jsx(oe,{type:"submit",className:"flex-1",children:"Create Offer"})]})]})}),r.jsx(ir,{isOpen:n,onClose:()=>i(!1),title:"Reward Details",children:c&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Type"}),r.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium ${b(c.type)}`,children:c.type})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Status"}),r.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs ${c.isActive?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:c.isActive?"Active":"Inactive"})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Name"}),r.jsx("p",{className:"font-medium",children:c.name})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Description"}),r.jsx("p",{className:"font-medium",children:c.description})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Reward Value"}),r.jsxs("p",{className:"font-medium",children:["",c.rewardValue]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Probability"}),r.jsxs("p",{className:"font-medium",children:[c.probability,"%"]})]})]}),c.orderValue&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Order Value Trigger"}),r.jsxs("p",{className:"font-medium",children:["Above ",c.orderValue]})]}),c.nthOrder&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Nth Order"}),r.jsxs("p",{className:"font-medium",children:["Every ",c.nthOrder,"th order"]})]}),c.festival&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Festival"}),r.jsx("p",{className:"font-medium",children:c.festival})]}),c.dateFrom&&c.dateTo&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Validity Period"}),r.jsxs("p",{className:"font-medium",children:[c.dateFrom," to ",c.dateTo]})]}),c.intervalHours&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Interval"}),r.jsxs("p",{className:"font-medium",children:["Every ",c.intervalHours," hours"]})]})]})}),r.jsx(ir,{isOpen:l,onClose:()=>o(!1),title:"Edit Reward",children:c&&r.jsxs("form",{onSubmit:j=>{j.preventDefault(),o(!1),alert("Updated!")},className:"space-y-4",children:[r.jsx(de,{label:"Reward Name",defaultValue:c.name,required:!0}),r.jsx(de,{label:"Description",defaultValue:c.description,required:!0}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(de,{label:"Reward Value ()",type:"number",defaultValue:c.rewardValue,required:!0}),r.jsx(de,{label:"Probability (%)",type:"number",defaultValue:c.probability,min:"1",max:"100",required:!0})]}),c.type==="primary"&&c.orderValue&&r.jsx(de,{label:"Order Value Trigger",type:"number",defaultValue:c.orderValue,required:!0}),c.type==="bonus"&&c.nthOrder&&r.jsx(de,{label:"Every Nth Order",type:"number",defaultValue:c.nthOrder,required:!0}),c.type==="seasonal"&&r.jsxs(r.Fragment,{children:[r.jsx(de,{label:"Festival Name",defaultValue:c.festival,required:!0}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(de,{label:"Start Date",type:"date",defaultValue:c.dateFrom,required:!0}),r.jsx(de,{label:"End Date",type:"date",defaultValue:c.dateTo,required:!0})]})]}),c.type==="daily"&&c.intervalHours&&r.jsx(de,{label:"Interval (Hours)",type:"number",defaultValue:c.intervalHours,required:!0}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",defaultChecked:c.isActive,className:"rounded"}),r.jsx("label",{className:"text-sm",children:"Active"})]}),r.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[r.jsx(oe,{type:"button",variant:"secondary",onClick:()=>o(!1),className:"flex-1",children:"Cancel"}),r.jsx(oe,{type:"submit",className:"flex-1",children:"Update"})]})]})})]})};function Y2(){return r.jsx($9e,{})}const H9e=[{id:"1",name:"New Year Spin Campaign",description:"Special rewards for new year orders",slabs:[{id:"s1",minAmount:0,maxAmount:600,rewards:[{id:"r1",type:"wallet_credit",frequency:30,description:"10-50 Wallet Credit",amountRanges:[{min:10,max:50,probability:100}]},{id:"r2",type:"free_shipping",frequency:20,description:"Free Shipping",couponCode:"FREESHIP"},{id:"r3",type:"try_again",frequency:50,description:"Better Luck Next Time"}]},{id:"s2",minAmount:601,maxAmount:1499,rewards:[{id:"r4",type:"instant_discount",frequency:25,description:"10% Off",couponCode:"SAVE10",rewardValue:10},{id:"r5",type:"wallet_credit",frequency:35,description:"50-100 Wallet Credit",amountRanges:[{min:50,max:100,probability:100}]},{id:"r6",type:"try_again",frequency:40,description:"Try Again"}]}],spinLimit:3,expiryDate:"2024-12-31",userEligibility:["all"],isActive:!0,createdAt:"2024-02-10"}],q9e=()=>{const[e,t]=A.useState(H9e),[s,a]=A.useState(!1),[n,i]=A.useState(!1),[l,o]=A.useState(!1),[c,d]=A.useState(null),[h,m]=A.useState({}),[p,x]=A.useState({name:"",description:"",spinLimit:3,expiryDate:"",eligibility:[]}),[v,y]=A.useState([{id:"s1",minAmount:0,maxAmount:600,rewards:[]}]),b=K=>{m(ae=>({...ae,[K]:!ae[K]}))},j=()=>{const K={id:`s${Date.now()}`,minAmount:0,maxAmount:null,rewards:[]};y([...v,K])},S=K=>{y(v.filter(ae=>ae.id!==K))},w=(K,ae,V)=>{y(v.map(re=>re.id===K?{...re,[ae]:V}:re))},k=K=>{const ae={id:`r${Date.now()}`,type:"wallet_credit",frequency:0,description:""};y(v.map(V=>V.id===K?{...V,rewards:[...V.rewards,ae]}:V))},_=(K,ae)=>{y(v.map(V=>V.id===K?{...V,rewards:V.rewards.filter(re=>re.id!==ae)}:V))},O=(K,ae,V,re)=>{y(v.map(X=>X.id===K?{...X,rewards:X.rewards.map(Z=>Z.id===ae?{...Z,[V]:re}:Z)}:X))},E=K=>{const ae=v.find(V=>V.id===K);if(ae){const V={...ae,id:`s${Date.now()}`,rewards:ae.rewards.map(re=>({...re,id:`r${Date.now()}_${Math.random()}`}))};y([...v,V])}},F=K=>K.reduce((ae,V)=>ae+V.frequency,0),I=K=>({wallet_credit:"Wallet Credit",instant_discount:"Instant Discount",free_shipping:"Free Shipping",fixed_wallet:"Fixed Wallet",product_reward:"Product Reward",try_again:"Try Again"})[K]||K,U=K=>{d(K),i(!0)},M=K=>{d(K),o(!0)},L=K=>{window.confirm("Delete this campaign?")&&t(e.filter(ae=>ae.id!==K))},J=K=>{K.preventDefault();const ae={id:`c${Date.now()}`,name:p.name,description:p.description,slabs:v,spinLimit:p.spinLimit,expiryDate:p.expiryDate,userEligibility:p.eligibility,isActive:!0,createdAt:new Date().toISOString().split("T")[0]};t([...e,ae]),a(!1),x({name:"",description:"",spinLimit:3,expiryDate:"",eligibility:[]}),y([{id:"s1",minAmount:0,maxAmount:600,rewards:[]}]),alert("Campaign created successfully!")};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Spin Wheel Campaigns"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Configure spin wheel rewards and probabilities"})]}),r.jsxs(oe,{onClick:()=>a(!0),className:"bg-blue-600 hover:bg-blue-700 text-white",children:[r.jsx(dr,{className:"h-4 w-4 mr-2"}),"Create Campaign"]})]}),r.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[r.jsxs(he,{className:"p-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Campaigns"}),r.jsx("p",{className:"text-2xl font-bold",children:e.length})]}),r.jsxs(he,{className:"p-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Active Campaigns"}),r.jsx("p",{className:"text-2xl font-bold",children:e.filter(K=>K.isActive).length})]}),r.jsxs(he,{className:"p-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Slabs"}),r.jsx("p",{className:"text-2xl font-bold",children:e.reduce((K,ae)=>K+ae.slabs.length,0)})]}),r.jsxs(he,{className:"p-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Rewards"}),r.jsx("p",{className:"text-2xl font-bold",children:e.reduce((K,ae)=>K+ae.slabs.reduce((V,re)=>V+re.rewards.length,0),0)})]})]}),r.jsx(he,{children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Campaign"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Slabs"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Spin Limit"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Expiry"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(K=>r.jsxs("tr",{children:[r.jsxs("td",{className:"px-6 py-4",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:K.name}),r.jsx("div",{className:"text-sm text-gray-500",children:K.description})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:"text-sm text-gray-900",children:[K.slabs.length," slabs"]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:"text-sm text-gray-900",children:[K.spinLimit," spins/user"]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:K.expiryDate}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${K.isActive?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:K.isActive?"Active":"Inactive"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:r.jsxs("div",{className:"flex items-center justify-end gap-2",children:[r.jsx("button",{onClick:()=>U(K),className:"p-2 hover:bg-gray-100 rounded-lg text-blue-600",children:r.jsx(Fr,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>M(K),className:"p-2 hover:bg-gray-100 rounded-lg text-gray-600",children:r.jsx(ss,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>L(K.id),className:"p-2 hover:bg-gray-100 rounded-lg text-red-600",children:r.jsx(Ar,{className:"h-4 w-4"})})]})})]},K.id))})]})})}),r.jsx(ir,{isOpen:s,onClose:()=>a(!1),title:"Create Spin Wheel Campaign",size:"lg",children:r.jsxs("form",{onSubmit:J,className:"space-y-6 max-h-[70vh] overflow-y-auto",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Campaign Details"}),r.jsx(de,{label:"Campaign Name",placeholder:"New Year Spin Campaign",value:p.name,onChange:K=>x({...p,name:K.target.value}),required:!0}),r.jsx(de,{label:"Description",placeholder:"Campaign description",value:p.description,onChange:K=>x({...p,description:K.target.value}),required:!0}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(de,{label:"Spin Limit per User",type:"number",placeholder:"3",value:p.spinLimit,onChange:K=>x({...p,spinLimit:Number(K.target.value)}),required:!0}),r.jsx(de,{label:"Expiry Date",type:"date",value:p.expiryDate,onChange:K=>x({...p,expiryDate:K.target.value}),required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"User Eligibility"}),r.jsx("div",{className:"space-y-2",children:["all","new_users","first_order","returning","referral"].map(K=>r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",className:"rounded",checked:p.eligibility.includes(K),onChange:ae=>{ae.target.checked?x({...p,eligibility:[...p.eligibility,K]}):x({...p,eligibility:p.eligibility.filter(V=>V!==K)})}}),r.jsx("span",{className:"text-sm capitalize",children:K.replace("_"," ")})]},K))})]})]}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Order Amount Slabs"}),r.jsxs(oe,{type:"button",size:"sm",variant:"secondary",onClick:j,children:[r.jsx(dr,{className:"h-4 w-4 mr-1"}),"Add Slab"]})]}),r.jsx("div",{className:"space-y-4",children:v.map((K,ae)=>r.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50 space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("span",{className:"font-medium text-gray-900",children:["Slab ",ae+1]}),r.jsxs("button",{type:"button",onClick:()=>E(K.id),className:"text-blue-600 text-sm flex items-center gap-1",children:[r.jsx(Rw,{className:"h-3 w-3"}),"Duplicate"]})]}),v.length>1&&r.jsx("button",{type:"button",onClick:()=>S(K.id),className:"text-red-600",children:r.jsx(Ar,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(de,{label:"Min Amount ()",type:"number",placeholder:"0",value:K.minAmount,onChange:V=>w(K.id,"minAmount",Number(V.target.value))}),r.jsx(de,{label:"Max Amount ()",type:"number",placeholder:"600",value:K.maxAmount||"",onChange:V=>w(K.id,"maxAmount",V.target.value?Number(V.target.value):null)})]}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h4",{className:"font-medium text-sm",children:"Rewards Configuration"}),r.jsxs(oe,{type:"button",size:"sm",variant:"secondary",onClick:()=>k(K.id),children:[r.jsx(dr,{className:"h-4 w-4 mr-1"}),"Add Reward"]})]}),r.jsx("div",{className:"space-y-3",children:K.rewards.map(V=>r.jsxs("div",{className:"bg-white border rounded-lg p-3 space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Reward Type"}),r.jsxs("select",{className:"w-full rounded border border-gray-300 px-2 py-1.5 text-sm",value:V.type,onChange:re=>O(K.id,V.id,"type",re.target.value),children:[r.jsx("option",{value:"wallet_credit",children:"Wallet Credit"}),r.jsx("option",{value:"instant_discount",children:"Instant Discount"}),r.jsx("option",{value:"free_shipping",children:"Free Shipping"}),r.jsx("option",{value:"fixed_wallet",children:"Fixed Wallet"}),r.jsx("option",{value:"product_reward",children:"Product Reward"}),r.jsx("option",{value:"try_again",children:"Try Again"})]})]}),r.jsx(de,{label:"Frequency (%)",type:"number",placeholder:"30",value:V.frequency,onChange:re=>O(K.id,V.id,"frequency",Number(re.target.value))}),r.jsx(de,{label:"Coupon Code",placeholder:"SAVE10",value:V.couponCode||"",onChange:re=>O(K.id,V.id,"couponCode",re.target.value)})]}),r.jsx(de,{label:"Description",placeholder:"10-50 Wallet Credit",value:V.description,onChange:re=>O(K.id,V.id,"description",re.target.value)}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsx(de,{label:"Min Cart Value ()",type:"number",placeholder:"0",value:V.minCartValue||"",onChange:re=>O(K.id,V.id,"minCartValue",re.target.value?Number(re.target.value):void 0)}),r.jsx(de,{label:"Reward Value",type:"number",placeholder:"50",value:V.rewardValue||"",onChange:re=>O(K.id,V.id,"rewardValue",re.target.value?Number(re.target.value):void 0)})]}),r.jsxs("button",{type:"button",onClick:()=>_(K.id,V.id),className:"text-red-600 text-sm flex items-center gap-1",children:[r.jsx(Ar,{className:"h-3 w-3"}),"Remove Reward"]})]},V.id))}),K.rewards.length>0&&r.jsxs("div",{className:`mt-3 p-3 rounded-lg flex items-center gap-2 ${F(K.rewards)===100?"bg-green-50 border border-green-200":"bg-amber-50 border border-amber-200"}`,children:[r.jsx(ya,{className:`h-4 w-4 ${F(K.rewards)===100?"text-green-600":"text-amber-600"}`}),r.jsxs("span",{className:`text-sm ${F(K.rewards)===100?"text-green-700":"text-amber-700"}`,children:["Total Probability: ",F(K.rewards),"%",F(K.rewards)!==100&&" (Must equal 100%)"]})]})]})]},K.id))})]}),r.jsxs("div",{className:"flex gap-2 pt-4 border-t sticky bottom-0 bg-white",children:[r.jsx(oe,{type:"button",variant:"secondary",onClick:()=>a(!1),className:"flex-1",children:"Cancel"}),r.jsx(oe,{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700",children:"Publish Campaign"})]})]})}),r.jsx(ir,{isOpen:n,onClose:()=>i(!1),title:"Campaign Details",size:"lg",children:c&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Campaign Name"}),r.jsx("p",{className:"font-medium",children:c.name})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Status"}),r.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs ${c.isActive?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:c.isActive?"Active":"Inactive"})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Description"}),r.jsx("p",{className:"font-medium",children:c.description})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Spin Limit"}),r.jsxs("p",{className:"font-medium",children:[c.spinLimit," spins per user"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Expiry Date"}),r.jsx("p",{className:"font-medium",children:c.expiryDate})]})]}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsx("h3",{className:"font-semibold mb-4",children:"Order Slabs & Rewards"}),r.jsx("div",{className:"space-y-3",children:c.slabs.map(K=>r.jsxs("div",{className:"border rounded-lg",children:[r.jsxs("button",{onClick:()=>b(K.id),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50",children:[r.jsxs("span",{className:"font-medium",children:["",K.minAmount," - ",K.maxAmount?`${K.maxAmount}`:"Above"]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("span",{className:"text-sm text-gray-600",children:[K.rewards.length," rewards"]}),h[K.id]?r.jsx(ez,{className:"h-4 w-4"}):r.jsx(Dw,{className:"h-4 w-4"})]})]}),h[K.id]&&r.jsxs("div",{className:"border-t p-4 space-y-2",children:[K.rewards.map(ae=>r.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium",children:I(ae.type)}),r.jsxs("span",{className:"text-sm text-gray-600",children:[ae.frequency,"%"]})]}),r.jsx("p",{className:"text-sm text-gray-600",children:ae.description}),ae.couponCode&&r.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Code: ",ae.couponCode]})]},ae.id)),r.jsxs("div",{className:`p-2 rounded text-sm ${F(K.rewards)===100?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:["Total Probability: ",F(K.rewards),"%"]})]})]},K.id))})]})]})}),r.jsx(ir,{isOpen:l,onClose:()=>o(!1),title:"Edit Campaign",size:"lg",children:c&&r.jsxs("form",{onSubmit:K=>{K.preventDefault(),o(!1),alert("Updated!")},className:"space-y-4",children:[r.jsx(de,{label:"Campaign Name",defaultValue:c.name,required:!0}),r.jsx(de,{label:"Description",defaultValue:c.description,required:!0}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(de,{label:"Spin Limit",type:"number",defaultValue:c.spinLimit,required:!0}),r.jsx(de,{label:"Expiry Date",type:"date",defaultValue:c.expiryDate,required:!0})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",defaultChecked:c.isActive,className:"rounded"}),r.jsx("label",{className:"text-sm",children:"Active"})]}),r.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[r.jsx(oe,{type:"button",variant:"secondary",onClick:()=>o(!1),className:"flex-1",children:"Cancel"}),r.jsx(oe,{type:"submit",className:"flex-1",children:"Update Campaign"})]})]})})]})};function X2(){return r.jsx(q9e,{})}const kk=[{id:"1",nameEn:"Seer Fish (Vanjaram)",nameTa:"",sku:"FISH-001",category:"fish",description:"Premium quality seer fish",images:[],variants:[{id:"v1",type:"Whole Cleaned",size:"Medium",grossWeight:"1000-1250g",netWeight:"800-1000g",pieces:"1 piece",serves:"3-4",price:1200,stock:25,discount:10}],isBestSeller:!0,isRare:!1,isActive:!0,deliveryType:"next_day",sourceType:"hub",moduleType:"hub",approvalStatus:"approved"},{id:"2",nameEn:"Tiger Prawns",nameTa:"",sku:"PRWN-001",category:"prawns",description:"Fresh tiger prawns",images:[],variants:[{id:"v2",type:"Cleaned",size:"Large",grossWeight:"500g",netWeight:"400g",pieces:"15-20 pieces",serves:"2-3",price:650,stock:15}],isBestSeller:!0,isRare:!1,isActive:!0,deliveryType:"next_day",sourceType:"hub",moduleType:"hub",approvalStatus:"approved"},{id:"3",nameEn:"Chicken Breast",nameTa:" ",sku:"CHKN-001",category:"chicken",description:"Fresh chicken breast",images:[],variants:[{id:"v3",type:"Boneless",size:"Medium",grossWeight:"500g",netWeight:"450g",pieces:"2-3 pieces",serves:"2-3",price:280,stock:50}],isBestSeller:!1,isRare:!1,isActive:!0,deliveryType:"same_day",sourceType:"store",moduleType:"store",approvalStatus:"approved"}],Ak=[{id:"1",name:"Elite Membership",duration:365,price:1299,monthlyEquivalent:108,benefits:[{id:"b1",type:"free_delivery",label:"Free Delivery",value:"Above 349",isEditable:!0},{id:"b2",type:"no_surge",label:"No Surge Pricing",value:"During peak/rain time",isEditable:!1},{id:"b3",type:"welcome_wallet",label:"Welcome Wallet Cash",value:"300 (60 days expiry)",isEditable:!0},{id:"b4",type:"extra_discount",label:"Extra Discount",value:"10% on selected products",isEditable:!0},{id:"b5",type:"priority_order",label:"Priority Processing",value:"Faster order handling",isEditable:!1},{id:"b6",type:"faster_delivery",label:"Faster Delivery",value:"Express shipping",isEditable:!1},{id:"b7",type:"special_rewards",label:"Special Rewards",value:"Birthday & festival offers",isEditable:!0}],welcomeWallet:300,walletExpiry:60,discountPercentage:10,isActive:!0,createdAt:"2024-02-10"},{id:"2",name:"Premium Membership",duration:180,price:699,monthlyEquivalent:116,benefits:[{id:"b1",type:"free_delivery",label:"Free Delivery",value:"Above 499",isEditable:!0},{id:"b2",type:"welcome_wallet",label:"Welcome Wallet Cash",value:"150 (30 days expiry)",isEditable:!0},{id:"b3",type:"extra_discount",label:"Extra Discount",value:"5% on selected products",isEditable:!0},{id:"b4",type:"special_rewards",label:"Special Rewards",value:"Festival offers",isEditable:!0}],welcomeWallet:150,walletExpiry:30,discountPercentage:5,isActive:!0,createdAt:"2024-02-10"}],V9e=[{id:"1",name:"Weekend Mega Sale",type:"discount_coupon",description:"Get 30% off on all orders",startTime:"2024-02-15T00:00",endTime:"2024-02-15T23:59",timerType:"datetime",couponCode:"WEEKEND30",discountValue:30,discountType:"percentage",notifications:[{type:"before_start",minutes:15,message:"Flash sale starting in 15 minutes!",enabled:!0},{type:"before_end",minutes:15,message:"Last 15 minutes! Hurry up!",enabled:!0}],status:"scheduled",isActive:!0,createdAt:"2024-02-10"},{id:"2",name:"Fresh Chicken Flash Sale",type:"product_sale",description:"Limited stock chicken at special prices",startTime:"2024-02-14T10:00",endTime:"2024-02-14T22:00",timerType:"fixed",fixedDuration:12,selectedProducts:[{productId:"3",variantId:"v3",discountPrice:220,flashOfferDetails:"Limited time offer - Save 60!"}],notifications:[{type:"before_start",minutes:15,message:"Chicken flash sale starts soon!",enabled:!0},{type:"popup_reminder",minutes:5,message:"Only 5 minutes left!",enabled:!0}],status:"active",isActive:!0,createdAt:"2024-02-09"}],W9e=()=>{const[e,t]=A.useState(V9e),[s,a]=A.useState(!1),[n,i]=A.useState(!1),[l,o]=A.useState(!1),[c,d]=A.useState(null),[h,m]=A.useState("discount_coupon"),[p,x]=A.useState({name:"",description:"",startTime:"",endTime:"",timerType:"datetime",fixedDuration:12}),[v,y]=A.useState([]),[b,j]=A.useState(null),[S,w]=A.useState(""),[k,_]=A.useState(!1),[O,E]=A.useState(!1),[F,I]=A.useState([{type:"before_start",minutes:15,message:"Flash sale starting in 15 minutes!",enabled:!0},{type:"before_end",minutes:15,message:"Last 15 minutes! Hurry up!",enabled:!0},{type:"popup_reminder",minutes:5,message:"Only 5 minutes left!",enabled:!1}]),U=G=>({discount_coupon:jl,product_sale:Tt,members_only:Qr,membership_subscription:Qr})[G],M=G=>({discount_coupon:"bg-blue-100 text-blue-700",product_sale:"bg-emerald-100 text-emerald-700",members_only:"bg-indigo-100 text-indigo-700",membership_subscription:"bg-amber-100 text-amber-700"})[G],L=G=>({draft:"bg-gray-100 text-gray-700",scheduled:"bg-blue-100 text-blue-700",active:"bg-green-100 text-green-700",ended:"bg-red-100 text-red-700"})[G]||"bg-gray-100 text-gray-700",J=kk.filter(G=>G.nameEn.toLowerCase().includes(S.toLowerCase())||G.nameTa.includes(S)||G.category.toLowerCase().includes(S.toLowerCase())),K=(G,fe)=>{if(v.find(Be=>Be.productId===G&&Be.variantId===fe)){alert("This product variant is already added!");return}const se=kk.find(Be=>Be.id===G),ge=se?.variants.find(Be=>Be.id===fe);se&&ge&&y([...v,{productId:G,variantId:fe,discountPrice:ge.price*.8,flashOfferDetails:""}])},ae=(G,fe)=>{y(v.filter(Se=>!(Se.productId===G&&Se.variantId===fe)))},V=(G,fe,Se,se)=>{y(v.map(ge=>ge.productId===G&&ge.variantId===fe?{...ge,[Se]:se}:ge))},re=(G,fe)=>{const Se=kk.find(ge=>ge.id===G),se=Se?.variants.find(ge=>ge.id===fe);return{product:Se,variant:se}},X=G=>Ak.find(fe=>fe.id===G),Z=G=>{const fe=Ak.find(Se=>Se.id===G);fe&&(j({membershipPlanId:G,discountPrice:fe.price*.85,flashOfferDetails:""}),E(!1))},ye=G=>{G.preventDefault();const fe={id:`fs${Date.now()}`,name:p.name,type:h,description:p.description,startTime:p.startTime,endTime:p.endTime,timerType:p.timerType,fixedDuration:p.fixedDuration,selectedProducts:v.length>0?v:void 0,selectedMembership:b||void 0,notifications:F,status:"draft",isActive:!1,createdAt:new Date().toISOString().split("T")[0]};t([...e,fe]),a(!1),te(),alert("Flash sale created successfully!")},te=()=>{x({name:"",description:"",startTime:"",endTime:"",timerType:"datetime",fixedDuration:12}),y([]),j(null),m("discount_coupon"),w("")},D=G=>{d(G),i(!0)},H=G=>{d(G),o(!0)},q=G=>{window.confirm("Delete this flash sale?")&&t(e.filter(fe=>fe.id!==G))},W=G=>{const fe={...G,id:`fs${Date.now()}`,name:`${G.name} (Copy)`,status:"draft"};t([...e,fe]),alert("Flash sale cloned successfully!")};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Flash Sale Management"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Create and manage flash sale campaigns"})]}),r.jsxs(oe,{onClick:()=>a(!0),className:"bg-blue-600 hover:bg-blue-700 text-white",children:[r.jsx(dr,{className:"h-4 w-4 mr-2"}),"Create Flash Sale"]})]}),r.jsxs("div",{className:"grid grid-cols-5 gap-4",children:[r.jsxs(he,{className:"p-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Sales"}),r.jsx("p",{className:"text-2xl font-bold",children:e.length})]}),r.jsxs(he,{className:"p-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Active"}),r.jsx("p",{className:"text-2xl font-bold",children:e.filter(G=>G.status==="active").length})]}),r.jsxs(he,{className:"p-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Scheduled"}),r.jsx("p",{className:"text-2xl font-bold",children:e.filter(G=>G.status==="scheduled").length})]}),r.jsxs(he,{className:"p-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Draft"}),r.jsx("p",{className:"text-2xl font-bold",children:e.filter(G=>G.status==="draft").length})]}),r.jsxs(he,{className:"p-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Ended"}),r.jsx("p",{className:"text-2xl font-bold",children:e.filter(G=>G.status==="ended").length})]})]}),r.jsx(he,{children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Sale Details"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Type"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Duration"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Active"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(G=>{const fe=U(G.type);return r.jsxs("tr",{children:[r.jsxs("td",{className:"px-6 py-4",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:G.name}),r.jsx("div",{className:"text-sm text-gray-500",children:G.description})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium ${M(G.type)}`,children:[r.jsx(fe,{className:"h-3 w-3"}),G.type.replace("_"," ")]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-900",children:[r.jsx(Tr,{className:"h-4 w-4"}),G.timerType==="fixed"?`${G.fixedDuration}h`:"Custom"]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs capitalize ${L(G.status)}`,children:G.status})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${G.isActive?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:G.isActive?"Yes":"No"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:r.jsxs("div",{className:"flex items-center justify-end gap-2",children:[r.jsx("button",{onClick:()=>D(G),className:"p-2 hover:bg-gray-100 rounded-lg text-blue-600",children:r.jsx(Fr,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>H(G),className:"p-2 hover:bg-gray-100 rounded-lg text-gray-600",children:r.jsx(ss,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>W(G),className:"p-2 hover:bg-gray-100 rounded-lg text-indigo-600",children:r.jsx(Rw,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>q(G.id),className:"p-2 hover:bg-gray-100 rounded-lg text-red-600",children:r.jsx(Ar,{className:"h-4 w-4"})})]})})]},G.id)})})]})})}),r.jsx(ir,{isOpen:s,onClose:()=>a(!1),title:"Create Flash Sale",size:"lg",children:r.jsxs("form",{onSubmit:ye,className:"space-y-6 max-h-[70vh] overflow-y-auto",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Flash Sale Type"}),r.jsxs("select",{value:h,onChange:G=>m(G.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2",children:[r.jsx("option",{value:"discount_coupon",children:"Discount Coupon Flash Sale"}),r.jsx("option",{value:"product_sale",children:"Product Flash Sale"}),r.jsx("option",{value:"members_only",children:"Members-Only Flash Sale"}),r.jsx("option",{value:"membership_subscription",children:"Membership Subscription Sale"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(de,{label:"Sale Name",placeholder:"Weekend Mega Sale",value:p.name,onChange:G=>x({...p,name:G.target.value}),required:!0}),r.jsx(de,{label:"Description",placeholder:"Get amazing discounts",value:p.description,onChange:G=>x({...p,description:G.target.value}),required:!0})]}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Timer Configuration"}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Timer Type"}),r.jsxs("select",{value:p.timerType,onChange:G=>x({...p,timerType:G.target.value}),className:"w-full rounded-lg border border-gray-300 px-3 py-2 mb-4",children:[r.jsx("option",{value:"datetime",children:"Specific Date & Time"}),r.jsx("option",{value:"fixed",children:"Fixed Duration"}),r.jsx("option",{value:"recurring",children:"Recurring"})]})]}),p.timerType==="fixed"?r.jsx(de,{label:"Duration (hours)",type:"number",placeholder:"12",value:p.fixedDuration,onChange:G=>x({...p,fixedDuration:Number(G.target.value)})}):r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(de,{label:"Start Time",type:"datetime-local",value:p.startTime,onChange:G=>x({...p,startTime:G.target.value}),required:!0}),r.jsx(de,{label:"End Time",type:"datetime-local",value:p.endTime,onChange:G=>x({...p,endTime:G.target.value}),required:!0})]})]}),h==="discount_coupon"&&r.jsxs("div",{className:"border-t pt-4 space-y-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Coupon Details"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(de,{label:"Coupon Code",placeholder:"WEEKEND30",required:!0}),r.jsx(de,{label:"Discount Value",type:"number",placeholder:"30",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Discount Type"}),r.jsxs("select",{className:"w-full rounded-lg border border-gray-300 px-3 py-2",children:[r.jsx("option",{value:"percentage",children:"Percentage"}),r.jsx("option",{value:"fixed",children:"Fixed Amount"})]})]})]}),(h==="product_sale"||h==="members_only")&&r.jsxs("div",{className:"border-t pt-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Select Products from Inventory"}),r.jsxs(oe,{type:"button",size:"sm",variant:"secondary",onClick:()=>_(!k),children:[r.jsx(dr,{className:"h-4 w-4 mr-1"}),k?"Hide Products":"Browse Products"]})]}),k&&r.jsxs("div",{className:"mb-4 border rounded-lg p-4 bg-gray-50",children:[r.jsx("div",{className:"mb-3",children:r.jsxs("div",{className:"relative",children:[r.jsx(Bi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search products by name or category...",value:S,onChange:G=>w(G.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg"})]})}),r.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2",children:J.map(G=>r.jsxs("div",{className:"bg-white border rounded-lg p-3",children:[r.jsx("div",{className:"flex items-center justify-between mb-2",children:r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-900",children:G.nameEn}),r.jsxs("span",{className:"text-sm text-gray-600 ml-2",children:["(",G.nameTa,")"]}),r.jsx("span",{className:"ml-2 text-xs bg-gray-100 px-2 py-1 rounded",children:G.category})]})}),r.jsx("div",{className:"space-y-1",children:G.variants.map(fe=>{const Se=v.some(se=>se.productId===G.id&&se.variantId===fe.id);return r.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded text-sm",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("span",{className:"font-medium",children:fe.type}),r.jsx("span",{className:"text-gray-600 ml-2",children:fe.netWeight}),r.jsxs("span",{className:"text-gray-600 ml-2",children:["",fe.price]}),r.jsxs("span",{className:"text-gray-500 ml-2",children:["Stock: ",fe.stock]})]}),r.jsx(oe,{type:"button",size:"sm",variant:Se?"secondary":"primary",onClick:()=>Se?ae(G.id,fe.id):K(G.id,fe.id),disabled:Se,children:Se?"Added":"Add"})]},fe.id)})})]},G.id))})]}),v.length>0&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("h4",{className:"font-medium text-sm text-gray-700",children:["Selected Products (",v.length,")"]}),v.map(G=>{const{product:fe,variant:Se}=re(G.productId,G.variantId);return!fe||!Se?null:r.jsxs("div",{className:"border rounded-lg p-4 bg-white",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"font-medium text-gray-900",children:[fe.nameEn," - ",Se.type]}),r.jsxs("div",{className:"text-sm text-gray-600",children:[Se.netWeight,"  Original: ",Se.price]})]}),r.jsx("button",{type:"button",onClick:()=>ae(G.productId,G.variantId),className:"text-red-600 hover:bg-red-50 p-1 rounded",children:r.jsx(Ar,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Flash Sale Price ()"}),r.jsx("input",{type:"number",value:G.discountPrice,onChange:se=>V(G.productId,G.variantId,"discountPrice",Number(se.target.value)),className:"w-full rounded border border-gray-300 px-3 py-2 text-sm",required:!0}),r.jsxs("div",{className:"text-xs text-green-600 mt-1",children:["Save ",Se.price-G.discountPrice," (",Math.round((1-G.discountPrice/Se.price)*100),"% off)"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Flash Offer Details"}),r.jsx("textarea",{value:G.flashOfferDetails,onChange:se=>V(G.productId,G.variantId,"flashOfferDetails",se.target.value),className:"w-full rounded border border-gray-300 px-3 py-2 text-sm",rows:2,placeholder:"e.g., Limited stock! Grab now!"})]})]})]},`${G.productId}-${G.variantId}`)})]}),v.length===0&&!k&&r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(Tt,{className:"h-12 w-12 mx-auto mb-2 text-gray-400"}),r.jsx("p",{children:'No products selected. Click "Browse Products" to add products.'})]})]}),h==="membership_subscription"&&r.jsxs("div",{className:"border-t pt-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Select Membership Plan"}),!b&&r.jsxs(oe,{type:"button",size:"sm",variant:"secondary",onClick:()=>E(!O),children:[r.jsx(dr,{className:"h-4 w-4 mr-1"}),O?"Hide Plans":"Browse Plans"]})]}),O&&!b&&r.jsx("div",{className:"mb-4 border rounded-lg p-4 bg-gray-50",children:r.jsx("div",{className:"space-y-3",children:Ak.map(G=>r.jsxs("div",{className:"bg-white border rounded-lg p-4 hover:border-blue-500 cursor-pointer",onClick:()=>Z(G.id),children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(qs,{className:"h-5 w-5 text-amber-600"}),r.jsx("span",{className:"font-semibold text-gray-900",children:G.name}),r.jsx("span",{className:`text-xs px-2 py-1 rounded ${G.isActive?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:G.isActive?"Active":"Inactive"})]}),r.jsxs("div",{className:"text-sm text-gray-600",children:[G.duration," days  ",G.monthlyEquivalent,"/month equivalent"]})]}),r.jsx("div",{className:"text-right",children:r.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:["",G.price]})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3",children:[r.jsxs("div",{className:"text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Welcome Wallet:"}),r.jsxs("span",{className:"font-medium ml-1",children:["",G.welcomeWallet]})]}),r.jsxs("div",{className:"text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Extra Discount:"}),r.jsxs("span",{className:"font-medium ml-1",children:[G.discountPercentage,"%"]})]})]}),r.jsxs("div",{className:"border-t pt-2",children:[r.jsx("div",{className:"text-xs font-medium text-gray-700 mb-2",children:"Benefits:"}),r.jsxs("div",{className:"flex flex-wrap gap-1",children:[G.benefits.slice(0,4).map(fe=>r.jsx("span",{className:"text-xs bg-blue-50 text-blue-700 px-2 py-1 rounded",children:fe.label},fe.id)),G.benefits.length>4&&r.jsxs("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded",children:["+",G.benefits.length-4," more"]})]})]})]},G.id))})}),b&&r.jsx("div",{className:"space-y-3",children:(()=>{const G=X(b.membershipPlanId);return G?r.jsxs("div",{className:"border rounded-lg p-4 bg-white",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(qs,{className:"h-5 w-5 text-amber-600"}),r.jsx("span",{className:"font-semibold text-gray-900",children:G.name})]}),r.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[G.duration," days  Original Price: ",G.price]}),r.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:G.benefits.slice(0,3).map(fe=>r.jsxs("span",{className:"text-xs bg-blue-50 text-blue-700 px-2 py-1 rounded",children:[fe.label,": ",fe.value]},fe.id))})]}),r.jsx("button",{type:"button",onClick:()=>j(null),className:"text-red-600 hover:bg-red-50 p-1 rounded",children:r.jsx(Ar,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Flash Sale Price ()"}),r.jsx("input",{type:"number",value:b.discountPrice,onChange:fe=>j({...b,discountPrice:Number(fe.target.value)}),className:"w-full rounded border border-gray-300 px-3 py-2 text-sm",required:!0}),r.jsxs("div",{className:"text-xs text-green-600 mt-1",children:["Save ",G.price-b.discountPrice," (",Math.round((1-b.discountPrice/G.price)*100),"% off)"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Flash Offer Details"}),r.jsx("textarea",{value:b.flashOfferDetails,onChange:fe=>j({...b,flashOfferDetails:fe.target.value}),className:"w-full rounded border border-gray-300 px-3 py-2 text-sm",rows:2,placeholder:"e.g., Limited time! Join now and save big!"})]})]})]}):null})()}),!b&&!O&&r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(qs,{className:"h-12 w-12 mx-auto mb-2 text-gray-400"}),r.jsx("p",{children:'No membership plan selected. Click "Browse Plans" to select.'})]})]}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(Ph,{className:"h-5 w-5 text-gray-700"}),r.jsx("h3",{className:"font-semibold text-gray-900",children:"Notification Settings"})]}),r.jsx("div",{className:"space-y-3",children:F.map((G,fe)=>r.jsxs("div",{className:"border rounded-lg p-3 bg-gray-50",children:[r.jsx("div",{className:"flex items-center justify-between mb-2",children:r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:G.enabled,onChange:Se=>{const se=[...F];se[fe].enabled=Se.target.checked,I(se)},className:"rounded"}),r.jsxs("span",{className:"text-sm font-medium capitalize",children:[G.type.replace("_"," ")," (",G.minutes," min)"]})]})}),r.jsx(de,{placeholder:"Notification message",value:G.message,onChange:Se=>{const se=[...F];se[fe].message=Se.target.value,I(se)}})]},fe))})]}),r.jsxs("div",{className:"flex gap-2 pt-4 border-t sticky bottom-0 bg-white",children:[r.jsx(oe,{type:"button",variant:"secondary",onClick:()=>a(!1),className:"flex-1",children:"Cancel"}),r.jsx(oe,{type:"button",variant:"secondary",className:"flex-1",children:"Save as Draft"}),r.jsx(oe,{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700",children:"Publish Sale"})]})]})}),r.jsx(ir,{isOpen:n,onClose:()=>i(!1),title:"Flash Sale Details",size:"lg",children:c&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Sale Name"}),r.jsx("p",{className:"font-medium",children:c.name})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Type"}),r.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium ${M(c.type)}`,children:c.type.replace("_"," ")})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Description"}),r.jsx("p",{className:"font-medium",children:c.description})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Start Time"}),r.jsx("p",{className:"font-medium",children:c.startTime})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"End Time"}),r.jsx("p",{className:"font-medium",children:c.endTime})]})]}),c.selectedProducts&&c.selectedProducts.length>0&&r.jsxs("div",{className:"border-t pt-4",children:[r.jsx("h3",{className:"font-semibold mb-3",children:"Products"}),r.jsx("div",{className:"space-y-3",children:c.selectedProducts.map(G=>{const{product:fe,variant:Se}=re(G.productId,G.variantId);return!fe||!Se?null:r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-900",children:fe.nameEn}),r.jsxs("span",{className:"text-sm text-gray-600 ml-2",children:["(",fe.nameTa,")"]})]}),r.jsxs("span",{className:"text-sm text-gray-600",children:["Stock: ",Se.stock]})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:fe.description}),r.jsxs("div",{className:"flex items-center justify-between bg-white p-2 rounded text-sm",children:[r.jsxs("span",{className:"font-medium",children:[Se.type," - ",Se.netWeight]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("span",{className:"line-through text-gray-500",children:["",Se.price]}),r.jsxs("span",{className:"font-medium text-green-600",children:["",G.discountPrice]}),r.jsxs("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded",children:[Math.round((1-G.discountPrice/Se.price)*100),"% OFF"]})]})]}),G.flashOfferDetails&&r.jsx("div",{className:"mt-2 text-xs text-blue-600 bg-blue-50 p-2 rounded",children:G.flashOfferDetails})]},`${G.productId}-${G.variantId}`)})})]}),c.selectedMembership&&r.jsxs("div",{className:"border-t pt-4",children:[r.jsx("h3",{className:"font-semibold mb-3",children:"Membership Plan"}),(()=>{const G=X(c.selectedMembership.membershipPlanId);return G?r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(qs,{className:"h-5 w-5 text-amber-600"}),r.jsx("span",{className:"font-medium text-gray-900",children:G.name})]}),r.jsxs("span",{className:"text-sm text-gray-600",children:[G.duration," days"]})]}),r.jsx("div",{className:"flex items-center justify-between bg-white p-3 rounded mb-3",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-xs text-gray-600",children:"Original Price"}),r.jsxs("div",{className:"line-through text-gray-500 font-medium",children:["",G.price]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-xs text-gray-600",children:"Flash Sale Price"}),r.jsxs("div",{className:"font-bold text-green-600 text-lg",children:["",c.selectedMembership.discountPrice]})]}),r.jsxs("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded font-medium",children:[Math.round((1-c.selectedMembership.discountPrice/G.price)*100),"% OFF"]})]})}),r.jsxs("div",{className:"mb-3",children:[r.jsx("div",{className:"text-xs font-medium text-gray-700 mb-2",children:"Benefits:"}),r.jsx("div",{className:"grid grid-cols-2 gap-2",children:G.benefits.map(fe=>r.jsxs("div",{className:"bg-white p-2 rounded text-xs",children:[r.jsx("div",{className:"font-medium text-gray-900",children:fe.label}),r.jsx("div",{className:"text-gray-600",children:fe.value})]},fe.id))})]}),c.selectedMembership.flashOfferDetails&&r.jsx("div",{className:"text-xs text-blue-600 bg-blue-50 p-2 rounded",children:c.selectedMembership.flashOfferDetails})]}):null})()]}),c.notifications.length>0&&r.jsxs("div",{className:"border-t pt-4",children:[r.jsx("h3",{className:"font-semibold mb-3",children:"Notifications"}),r.jsx("div",{className:"space-y-2",children:c.notifications.filter(G=>G.enabled).map((G,fe)=>r.jsxs("div",{className:"bg-blue-50 p-3 rounded text-sm",children:[r.jsx("div",{className:"font-medium capitalize",children:G.type.replace("_"," ")}),r.jsx("div",{className:"text-gray-600",children:G.message})]},fe))})]})]})}),r.jsx(ir,{isOpen:l,onClose:()=>o(!1),title:"Edit Flash Sale",size:"lg",children:c&&r.jsxs("form",{onSubmit:G=>{G.preventDefault(),o(!1),alert("Updated!")},className:"space-y-4",children:[r.jsx(de,{label:"Sale Name",defaultValue:c.name,required:!0}),r.jsx(de,{label:"Description",defaultValue:c.description,required:!0}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(de,{label:"Start Time",type:"datetime-local",defaultValue:c.startTime,required:!0}),r.jsx(de,{label:"End Time",type:"datetime-local",defaultValue:c.endTime,required:!0})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",defaultChecked:c.isActive,className:"rounded"}),r.jsx("label",{className:"text-sm",children:"Active"})]}),r.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[r.jsx(oe,{type:"button",variant:"secondary",onClick:()=>o(!1),className:"flex-1",children:"Cancel"}),r.jsx(oe,{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700",children:"Update Sale"})]})]})})]})};function Z2(){return r.jsx(W9e,{})}const G9e={id:"1",name:"Elite Membership",duration:365,price:1299,monthlyEquivalent:108,benefits:[{id:"b1",type:"free_delivery",label:"Free Delivery",value:"Above 349",isEditable:!0},{id:"b2",type:"no_surge",label:"No Surge Pricing",value:"During peak/rain time",isEditable:!1},{id:"b3",type:"welcome_wallet",label:"Welcome Wallet Cash",value:"300 (60 days expiry)",isEditable:!0},{id:"b4",type:"extra_discount",label:"Extra Discount",value:"10% on selected products",isEditable:!0},{id:"b5",type:"priority_order",label:"Priority Processing",value:"Faster order handling",isEditable:!1},{id:"b6",type:"faster_delivery",label:"Faster Delivery",value:"Express shipping",isEditable:!1},{id:"b7",type:"special_rewards",label:"Special Rewards",value:"Birthday & festival offers",isEditable:!0}],welcomeWallet:300,walletExpiry:60,discountPercentage:10,isActive:!0,createdAt:"2024-02-10"},K9e=[{id:"p1",location:"homepage_banner",title:"Join Elite Membership",message:"Save more on every order with exclusive benefits",ctaText:"Join Now",isActive:!0},{id:"p2",location:"checkout_page",title:"Elite Members Save More",message:"Save delivery charges + surge fee + extra 10% discount on selected products",ctaText:"Join Membership & Save",isActive:!0},{id:"p3",location:"cart_page",title:"Unlock Member Benefits",message:"Get free delivery and exclusive discounts",ctaText:"Become a Member",isActive:!0}],Y9e={totalMembers:1250,activeMembers:1180,revenue:1623750,conversionRate:8.5,avgSavings:450,avgOrderValue:850},X9e=()=>{const[e]=A.useState(G9e),[t,s]=A.useState(K9e),[a]=A.useState(Y9e),[n,i]=A.useState(!1),[l,o]=A.useState(!1),[c,d]=A.useState(!1),[h,m]=A.useState(null),[p,x]=A.useState(null),v=j=>{m(j),o(!0)},y=j=>{x(j),d(!0)},b=j=>{s(t.map(S=>S.id===j?{...S,isActive:!S.isActive}:S))};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Elite Membership System"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Configure membership plans, benefits, and marketing"})]}),r.jsxs(oe,{onClick:()=>i(!0),className:"bg-blue-600 hover:bg-blue-700 text-white",children:[r.jsx(ss,{className:"h-4 w-4 mr-2"}),"Edit Plan"]})]}),r.jsxs("div",{className:"grid grid-cols-6 gap-4",children:[r.jsxs(he,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Qr,{className:"h-4 w-4 text-blue-600"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Total Members"})]}),r.jsx("p",{className:"text-2xl font-bold",children:a.totalMembers})]}),r.jsxs(he,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(qs,{className:"h-4 w-4 text-amber-600"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Active"})]}),r.jsx("p",{className:"text-2xl font-bold",children:a.activeMembers})]}),r.jsxs(he,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(ta,{className:"h-4 w-4 text-green-600"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Revenue"})]}),r.jsxs("p",{className:"text-2xl font-bold",children:["",(a.revenue/1e3).toFixed(0),"K"]})]}),r.jsxs(he,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(ta,{className:"h-4 w-4 text-indigo-600"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Conversion"})]}),r.jsxs("p",{className:"text-2xl font-bold",children:[a.conversionRate,"%"]})]}),r.jsxs(he,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Gh,{className:"h-4 w-4 text-emerald-600"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Avg Savings"})]}),r.jsxs("p",{className:"text-2xl font-bold",children:["",a.avgSavings]})]}),r.jsxs(he,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(xx,{className:"h-4 w-4 text-purple-600"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Avg Order"})]}),r.jsxs("p",{className:"text-2xl font-bold",children:["",a.avgOrderValue]})]})]}),r.jsxs(he,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-3 bg-amber-100 rounded-lg",children:r.jsx(qs,{className:"h-6 w-6 text-amber-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:e.name}),r.jsxs("p",{className:"text-sm text-gray-600",children:[e.duration," days membership"]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-3xl font-bold text-gray-900",children:["",e.price]}),r.jsxs("div",{className:"text-sm text-gray-600",children:["",e.monthlyEquivalent,"/month"]})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Welcome Wallet"}),r.jsxs("p",{className:"text-xl font-bold text-blue-700",children:["",e.welcomeWallet]}),r.jsxs("p",{className:"text-xs text-gray-500",children:[e.walletExpiry," days expiry"]})]}),r.jsxs("div",{className:"bg-emerald-50 p-4 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Extra Discount"}),r.jsxs("p",{className:"text-xl font-bold text-emerald-700",children:[e.discountPercentage,"%"]}),r.jsx("p",{className:"text-xs text-gray-500",children:"On selected products"})]}),r.jsxs("div",{className:"bg-indigo-50 p-4 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Status"}),r.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium ${e.isActive?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:e.isActive?"Active":"Inactive"})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Member Benefits"}),r.jsx("div",{className:"grid grid-cols-2 gap-3",children:e.benefits.map(j=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-sm text-gray-900",children:j.label}),r.jsx("p",{className:"text-xs text-gray-600",children:j.value})]}),j.isEditable&&r.jsx("button",{onClick:()=>v(j),className:"p-2 hover:bg-gray-200 rounded-lg text-blue-600",children:r.jsx(ss,{className:"h-4 w-4"})})]},j.id))})]})]}),r.jsxs(he,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Marketing Placements"}),r.jsxs(oe,{size:"sm",variant:"secondary",children:[r.jsx(dr,{className:"h-4 w-4 mr-1"}),"Add Placement"]})]}),r.jsx("div",{className:"space-y-3",children:t.map(j=>r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-medium capitalize",children:j.location.replace("_"," ")}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${j.isActive?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:j.isActive?"Active":"Inactive"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>b(j.id),className:"text-sm text-blue-600 hover:underline",children:j.isActive?"Disable":"Enable"}),r.jsx("button",{onClick:()=>y(j),className:"p-2 hover:bg-gray-100 rounded-lg text-gray-600",children:r.jsx(ss,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900 mb-1",children:j.title}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:j.message}),r.jsx("span",{className:"inline-block px-3 py-1 bg-blue-600 text-white text-xs rounded",children:j.ctaText})]})]},j.id))})]}),r.jsxs(he,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Product Eligibility"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Mark products eligible for 10% member discount"})]}),r.jsx(oe,{size:"sm",variant:"secondary",children:"Manage Products"})]}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:r.jsxs("p",{className:"text-sm text-blue-800",children:["Configure which products are eligible for the ",e.discountPercentage,"% member discount from the Products section."]})})]}),r.jsx(ir,{isOpen:n,onClose:()=>i(!1),title:"Edit Membership Plan",children:r.jsxs("form",{onSubmit:j=>{j.preventDefault(),i(!1),alert("Plan updated!")},className:"space-y-4",children:[r.jsx(de,{label:"Plan Name",defaultValue:e.name,required:!0}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(de,{label:"Duration (days)",type:"number",defaultValue:e.duration,required:!0}),r.jsx(de,{label:"Price ()",type:"number",defaultValue:e.price,required:!0})]}),r.jsx(de,{label:"Monthly Equivalent ()",type:"number",defaultValue:e.monthlyEquivalent,required:!0}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(de,{label:"Welcome Wallet ()",type:"number",defaultValue:e.welcomeWallet,required:!0}),r.jsx(de,{label:"Wallet Expiry (days)",type:"number",defaultValue:e.walletExpiry,required:!0})]}),r.jsx(de,{label:"Extra Discount (%)",type:"number",defaultValue:e.discountPercentage,required:!0}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",defaultChecked:e.isActive,className:"rounded"}),r.jsx("label",{className:"text-sm",children:"Active Plan"})]}),r.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[r.jsx(oe,{type:"button",variant:"secondary",onClick:()=>i(!1),className:"flex-1",children:"Cancel"}),r.jsx(oe,{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700",children:"Update Plan"})]})]})}),r.jsx(ir,{isOpen:l,onClose:()=>o(!1),title:"Edit Benefit",children:h&&r.jsxs("form",{onSubmit:j=>{j.preventDefault(),o(!1),alert("Benefit updated!")},className:"space-y-4",children:[r.jsx(de,{label:"Benefit Label",defaultValue:h.label,required:!0}),r.jsx(de,{label:"Benefit Value",defaultValue:h.value,required:!0}),r.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[r.jsx(oe,{type:"button",variant:"secondary",onClick:()=>o(!1),className:"flex-1",children:"Cancel"}),r.jsx(oe,{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700",children:"Update Benefit"})]})]})}),r.jsx(ir,{isOpen:c,onClose:()=>d(!1),title:"Edit Marketing Placement",children:p&&r.jsxs("form",{onSubmit:j=>{j.preventDefault(),d(!1),alert("Placement updated!")},className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),r.jsxs("select",{defaultValue:p.location,className:"w-full rounded-lg border border-gray-300 px-3 py-2",children:[r.jsx("option",{value:"homepage_banner",children:"Homepage Banner"}),r.jsx("option",{value:"flash_banner",children:"Flash Banner"}),r.jsx("option",{value:"product_page",children:"Product Page"}),r.jsx("option",{value:"cart_page",children:"Cart Page"}),r.jsx("option",{value:"checkout_page",children:"Checkout Page"})]})]}),r.jsx(de,{label:"Title",defaultValue:p.title,required:!0}),r.jsx(de,{label:"Message",defaultValue:p.message,required:!0}),r.jsx(de,{label:"CTA Text",defaultValue:p.ctaText,required:!0}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",defaultChecked:p.isActive,className:"rounded"}),r.jsx("label",{className:"text-sm",children:"Active"})]}),r.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[r.jsx(oe,{type:"button",variant:"secondary",onClick:()=>d(!1),className:"flex-1",children:"Cancel"}),r.jsx(oe,{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700",children:"Update Placement"})]})]})})]})};function J2(){return r.jsx(X9e,{})}const Z9e=[{id:"1",title:"Weekend Flash Sale",message:"Get 25% off on all fish items this weekend! Limited time offer.",notificationType:"push",targetAudience:"all",offerDetails:{offerType:"discount",value:25,unit:"%",validFrom:"2024-01-13T00:00:00",validTo:"2024-01-14T23:59:59",minOrderValue:500},scheduledTime:"2024-01-13T08:00:00",status:"sent",totalRecipients:5e3,sentCount:4950,openRate:78.5,clickRate:12.3,conversionRate:8.7,priority:"high",createdBy:"Admin",createdAt:"2024-01-12"},{id:"2",title:"Premium Member Exclusive",message:"Exclusive cashback offer for our premium members. Get 100 cashback on orders above 1000.",notificationType:"email",targetAudience:"premium",offerDetails:{offerType:"cashback",value:100,unit:"",validFrom:"2024-01-15T00:00:00",validTo:"2024-01-20T23:59:59",minOrderValue:1e3},scheduledTime:"2024-01-15T10:00:00",status:"scheduled",totalRecipients:850,sentCount:0,openRate:0,clickRate:0,conversionRate:0,priority:"medium",createdBy:"Admin",createdAt:"2024-01-14"}];function J9e({notifications:e}){const t=e.length,s=e.filter(i=>i.status==="sent").length,a=e.reduce((i,l)=>i+l.sentCount,0),n=e.length>0?(e.reduce((i,l)=>i+l.openRate,0)/e.length).toFixed(1):"0";return r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:r.jsx(Ph,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),r.jsx("p",{className:"text-xl font-bold",children:t})]})]})}),r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:r.jsx(jb,{className:"h-5 w-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Sent"}),r.jsx("p",{className:"text-xl font-bold",children:s})]})]})}),r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:r.jsx(Qr,{className:"h-5 w-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Recipients"}),r.jsx("p",{className:"text-xl font-bold",children:a.toLocaleString()})]})]})}),r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:r.jsx(ta,{className:"h-5 w-5 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Avg. Open Rate"}),r.jsxs("p",{className:"text-xl font-bold",children:[n,"%"]})]})]})})]})}function Q9e({initialData:e,isReadOnly:t,onSubmit:s,onCancel:a}){const[n]=A.useState(e),i=l=>{l.preventDefault(),s(n)};return r.jsxs("form",{onSubmit:i,className:"space-y-4",children:[r.jsx(de,{label:"Notification Title",defaultValue:n?.title,disabled:t,required:!0}),r.jsx("textarea",{className:"w-full rounded-lg border border-gray-300 px-3 py-2",rows:3,defaultValue:n?.message,disabled:t,placeholder:"Your offer message..."}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(Ut,{label:"Notification Type",defaultValue:n?.notificationType,disabled:t,options:[{value:"push",label:"Push"},{value:"sms",label:"SMS"},{value:"email",label:"Email"}]}),r.jsx(Ut,{label:"Target Audience",defaultValue:n?.targetAudience,disabled:t,options:[{value:"all",label:"All Users"},{value:"premium",label:"Premium"}]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(de,{label:"Scheduled Time",type:"datetime-local",defaultValue:n?.scheduledTime.slice(0,16),disabled:t}),r.jsx(Ut,{label:"Priority",defaultValue:n?.priority,disabled:t,options:[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"}]})]}),r.jsxs("div",{className:"border-t pt-4 flex justify-end gap-2",children:[r.jsx(oe,{type:"button",variant:"secondary",onClick:a,children:"Close"}),!t&&r.jsx(oe,{type:"submit",children:"Save Changes"})]})]})}function Q2(){const{user:e}=es(),[t,s]=A.useState(Z9e),[a,n]=A.useState(""),[i,l]=A.useState(""),[o,c]=A.useState(""),[d,h]=A.useState(!1),[m,p]=A.useState(!1),[x,v]=A.useState(),y=t.filter(k=>k.title.toLowerCase().includes(a.toLowerCase())&&(!i||k.status===i)&&(!o||k.notificationType===o)),b=(k,_=!1)=>{v(k),p(_),h(!0)},j=()=>{h(!1),v(void 0)},S=k=>{s(x?t.map(_=>_.id===k.id?k:_):[...t,{...k,id:Date.now().toString(),createdBy:e?.name||"Admin",createdAt:new Date().toISOString()}]),j()},w=k=>{window.confirm("Are you sure?")&&s(t.filter(_=>_.id!==k))};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Offer Notifications"}),r.jsx("p",{className:"text-gray-600",children:"Send targeted offer notifications to customers"})]}),r.jsxs(oe,{onClick:()=>b(void 0,!1),children:[r.jsx(dr,{className:"mr-2 h-4 w-4"}),"Create Notification"]})]}),r.jsx(J9e,{notifications:t}),r.jsx(he,{children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(de,{placeholder:"Search notifications...",value:a,onChange:k=>n(k.target.value),className:"pl-10 flex-1"}),r.jsx(Ut,{value:i,onChange:k=>l(k.target.value),options:[{value:"",label:"All Status"},{value:"sent",label:"Sent"},{value:"scheduled",label:"Scheduled"}]}),r.jsx(Ut,{value:o,onChange:k=>c(k.target.value),options:[{value:"",label:"All Types"},{value:"push",label:"Push"},{value:"sms",label:"SMS"},{value:"email",label:"Email"}]})]})}),r.jsx(he,{children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Notification"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Audience"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Performance"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),r.jsx("th",{className:"relative px-6 py-3",children:r.jsx("span",{className:"sr-only",children:"Actions"})})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map(k=>r.jsxs("tr",{children:[r.jsxs("td",{className:"px-6 py-4",children:[r.jsx("div",{className:"font-medium",children:k.title}),r.jsx("div",{className:"text-sm text-gray-500 truncate",style:{maxWidth:"250px"},children:k.message})]}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"text-sm",children:k.targetAudience})}),r.jsxs("td",{className:"px-6 py-4",children:[r.jsxs("div",{className:"text-sm",children:["Open: ",k.openRate,"%"]}),r.jsxs("div",{className:"text-sm text-gray-500",children:["Convert: ",k.conversionRate,"%"]})]}),r.jsx("td",{className:"px-6 py-4",children:r.jsx(Xe,{className:id(k.status),children:k.status})}),r.jsx("td",{className:"px-6 py-4 text-right",children:r.jsxs("div",{className:"flex items-center justify-end gap-2",children:[r.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>b(k,!0),children:r.jsx(Fr,{className:"h-4 w-4"})}),r.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>b(k,!1),children:r.jsx(ss,{className:"h-4 w-4"})}),r.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>w(k.id),className:"text-red-600",children:r.jsx(Ar,{className:"h-4 w-4"})})]})})]},k.id))})]})})}),r.jsx(ir,{isOpen:d,onClose:j,title:m?"View Notification":x?"Edit Notification":"Create Notification",children:r.jsx(Q9e,{initialData:x,isReadOnly:m,onSubmit:S,onCancel:j})})]})}function eBe({items:e,onView:t,onEdit:s,onDelete:a,onBulkAction:n,title:i,itemType:l,renderItemContent:o,statusFilter:c=["all","active","inactive"]}){const[d,h]=A.useState([]),[m,p]=A.useState(""),[x,v]=A.useState("all"),y=e.filter(_=>{const O=(_.name||_.code||_.title||"").toLowerCase().includes(m.toLowerCase())||(_.description||"").toLowerCase().includes(m.toLowerCase()),E=x==="all"||x==="active"&&(_.isActive||_.status==="active")||x==="inactive"&&(!_.isActive||_.status==="inactive")||_.status===x;return O&&E}),b=_=>{h(_?y.map(O=>O.id):[])},j=(_,O)=>{h(O?E=>[...E,_]:E=>E.filter(F=>F!==_))},S=async(_,O)=>{if(d.length!==0)try{await n(_,d,O),h([])}catch(E){console.error("Bulk action failed:",E)}},w=_=>_.isActive||_.status==="active"?"bg-green-100 text-green-800":_.status==="scheduled"?"bg-blue-100 text-blue-800":_.status==="expired"?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800",k=_=>_.status?_.status.charAt(0).toUpperCase()+_.status.slice(1):_.isActive?"Active":"Inactive";return r.jsxs(he,{className:"overflow-hidden",children:[r.jsx("div",{className:"p-4 sm:p-6 border-b bg-gray-50",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold",children:i}),r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[y.length," ",l,y.length!==1?"s":"",d.length>0&&`  ${d.length} selected`]})]}),r.jsx("div",{className:"flex items-center gap-2",children:d.length>0&&r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>S("activate"),className:"flex items-center gap-2 px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:["Activate (",d.length,")"]}),r.jsxs("button",{onClick:()=>S("deactivate"),className:"flex items-center gap-2 px-3 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors text-sm",children:["Deactivate (",d.length,")"]}),r.jsxs("button",{onClick:()=>S("delete"),className:"flex items-center gap-2 px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm",children:["Delete (",d.length,")"]})]})})]})}),r.jsx("div",{className:"p-4 sm:p-6 border-b bg-white",children:r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Bi,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),r.jsx(de,{placeholder:`Search ${l}s...`,value:m,onChange:_=>p(_.target.value),className:"pl-10"})]}),r.jsx("select",{value:x,onChange:_=>v(_.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:c.map(_=>r.jsx("option",{value:_,children:_.charAt(0).toUpperCase()+_.slice(1)},_))})]})}),y.length>0&&r.jsx("div",{className:"p-4 border-b bg-gray-50",children:r.jsxs("label",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",checked:d.length===y.length,onChange:_=>b(_.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsxs("span",{className:"text-sm font-medium",children:["Select All (",y.length,")"]})]})}),r.jsx("div",{className:"divide-y",children:y.length>0?y.map(_=>r.jsx("div",{className:"p-4 sm:p-6",children:r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"flex-shrink-0 pt-1",children:r.jsx("input",{type:"checkbox",checked:d.includes(_.id),onChange:O=>j(_.id,O.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-4 mb-3",children:r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("h3",{className:"font-semibold text-lg truncate",children:_.name||_.code||_.title}),r.jsx(Xe,{variant:w(_),children:k(_)})]}),_.description&&r.jsx("p",{className:"text-sm text-gray-500 line-clamp-2 mb-2",children:_.description})]})}),o&&o(_),r.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[r.jsxs("button",{onClick:()=>t(_),className:"flex items-center gap-2 px-3 py-1.5 text-sm border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[r.jsx(Fr,{className:"h-4 w-4"}),"View"]}),r.jsxs("button",{onClick:()=>s(_),className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(ss,{className:"h-4 w-4"}),"Edit"]}),r.jsxs("button",{onClick:()=>a(_),className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[r.jsx(Ar,{className:"h-4 w-4"}),"Delete"]})]})]})]})},_.id)):r.jsxs("div",{className:"p-12 text-center",children:[r.jsx("div",{className:"h-12 w-12 text-gray-400 mx-auto mb-4",children:""}),r.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:["No ",l,"s found"]}),r.jsx("p",{className:"text-gray-500",children:m||x!=="all"?"Try adjusting your search or filters":`No ${l}s available`})]})})]})}const tBe=[{id:"1",code:"FISH25",name:"Fish Special Discount",description:"25% off on all fish items",discountType:"percentage",discountValue:25,minOrderValue:500,maxDiscountAmount:200,usageLimit:1e3,usedCount:245,validFrom:"2024-01-10T00:00:00",validTo:"2024-01-31T23:59:59",isActive:!0,targetAudience:"all",applicableProducts:["fish"],excludedProducts:[],stackable:!1,autoGenerated:!1,createdBy:"Admin",createdAt:"2024-01-09"}];function rBe({coupons:e}){const t=e.reduce((s,a)=>s+a.usedCount,0);return r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:r.jsx(Jre,{className:"h-5 w-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Coupons"}),r.jsx("p",{className:"text-xl font-bold",children:e.length})]})]})}),r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:r.jsx(Fw,{className:"h-5 w-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Active"}),r.jsx("p",{className:"text-xl font-bold",children:e.filter(s=>s.isActive).length})]})]})}),r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:r.jsx(Qr,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Usage"}),r.jsx("p",{className:"text-xl font-bold",children:t.toLocaleString()})]})]})}),r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:r.jsx(ta,{className:"h-5 w-5 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Usage Rate"}),r.jsx("p",{className:"text-xl font-bold",children:"24.5%"})]})]})})]})}function sBe({initialData:e,isReadOnly:t,onSubmit:s,onCancel:a}){const[n]=A.useState(e),i=l=>{l.preventDefault(),s(n)};return r.jsxs("form",{onSubmit:i,className:"space-y-4",children:[r.jsx(de,{label:"Coupon Name",defaultValue:n?.name,disabled:t,required:!0}),r.jsx(de,{label:"Coupon Code",defaultValue:n?.code,disabled:t,required:!0}),r.jsx("textarea",{className:"w-full rounded-lg border p-2",rows:2,defaultValue:n?.description,disabled:t,placeholder:"Description..."}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(Ut,{label:"Discount Type",defaultValue:n?.discountType,disabled:t,options:[{value:"percentage",label:"Percentage"},{value:"fixed_amount",label:"Fixed Amount"}]}),r.jsx(de,{label:"Discount Value",type:"number",defaultValue:n?.discountValue,disabled:t})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(de,{label:"Min Order Value ()",type:"number",defaultValue:n?.minOrderValue,disabled:t}),r.jsx(de,{label:"Usage Limit",type:"number",defaultValue:n?.usageLimit,disabled:t})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(de,{label:"Valid From",type:"datetime-local",defaultValue:n?.validFrom.slice(0,16),disabled:t}),r.jsx(de,{label:"Valid To",type:"datetime-local",defaultValue:n?.validTo.slice(0,16),disabled:t})]}),r.jsxs("div",{className:"border-t pt-4 flex justify-end gap-2",children:[r.jsx(oe,{type:"button",variant:"secondary",onClick:a,children:"Close"}),!t&&r.jsx(oe,{type:"submit",children:"Save Changes"})]})]})}function ej(){const{user:e}=es(),[t,s]=A.useState(tBe),[a,n]=A.useState(!1),[i,l]=A.useState(!1),[o,c]=A.useState(),[d,h]=A.useState(""),m=(S,w=!1)=>{c(S),l(w),n(!0)},p=()=>{n(!1),c(void 0)},x=S=>{s(o?t.map(w=>w.id===S.id?S:w):[...t,{...S,id:Date.now().toString(),createdBy:e?.name||"Admin",createdAt:new Date().toISOString()}]),p()},v=S=>{window.confirm("Are you sure?")&&s(t.filter(w=>w.id!==S.id))},y=async(S,w,k)=>{try{switch(S){case"activate":console.log(`Activating ${w.length} coupons:`,w),s(_=>_.map(O=>w.includes(O.id)?{...O,isActive:!0}:O)),alert(`${w.length} coupons have been activated successfully!`);break;case"deactivate":console.log(`Deactivating ${w.length} coupons:`,w),s(_=>_.map(O=>w.includes(O.id)?{...O,isActive:!1}:O)),alert(`${w.length} coupons have been deactivated successfully!`);break;case"delete":confirm(`Are you sure you want to delete ${w.length} coupons? This action cannot be undone.`)&&(console.log(`Deleting ${w.length} coupons:`,w),s(_=>_.filter(O=>!w.includes(O.id))),alert(`${w.length} coupons have been deleted successfully!`));break;default:console.log(`Bulk action ${S} performed on ${w.length} coupons`,k)}}catch(_){console.error("Coupon bulk action failed:",_),alert("Bulk action failed. Please try again.")}},b=S=>{navigator.clipboard.writeText(S),h(S),setTimeout(()=>h(""),2e3)},j=S=>{const w=S.usedCount/S.usageLimit*100;return r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Code:"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-mono font-medium",children:S.code}),r.jsx("button",{onClick:()=>b(S.code),className:"p-1 hover:bg-gray-100 rounded transition-colors",title:"Copy code",children:d===S.code?r.jsx(ec,{className:"h-3 w-3 text-green-600"}):r.jsx(Rw,{className:"h-3 w-3 text-gray-400"})})]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Discount:"}),r.jsx("p",{className:"font-medium",children:S.discountType==="percentage"?`${S.discountValue}%`:`${S.discountValue}`})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Min Order:"}),r.jsxs("p",{className:"font-medium",children:["",S.minOrderValue]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Usage:"}),r.jsxs("p",{className:"font-medium",children:[S.usedCount,"/",S.usageLimit]})]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(w,100)}%`}})}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[r.jsxs("span",{children:["Valid: ",new Date(S.validFrom).toLocaleDateString()," - ",new Date(S.validTo).toLocaleDateString()]}),r.jsx("span",{children:""}),r.jsxs("span",{children:["Target: ",S.targetAudience]})]})]})};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Coupon Management"}),r.jsx("p",{className:"text-gray-600",children:"Create and manage discount coupons"})]}),r.jsxs(oe,{onClick:()=>m(void 0,!1),children:[r.jsx(dr,{className:"mr-2 h-4 w-4"}),"Create Coupon"]})]}),r.jsx(rBe,{coupons:t}),d&&r.jsxs("div",{className:"fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg z-50 flex items-center gap-2",children:[r.jsx(ec,{className:"h-4 w-4"}),'Copied "',d,'" to clipboard']}),r.jsx(eBe,{items:t,onView:S=>m(S,!0),onEdit:S=>m(S,!1),onDelete:S=>v(S),onBulkAction:y,title:"Coupon Management",itemType:"coupon",renderItemContent:S=>j(S),statusFilter:["all","active","inactive","expired"]}),r.jsx(ir,{isOpen:a,onClose:p,title:i?"View Coupon":o?"Edit Coupon":"Create Coupon",children:r.jsx(sBe,{initialData:o,isReadOnly:i,onSubmit:x,onCancel:p})})]})}const aBe=[{id:"1",name:"Fish Coins",symbol:"FC",description:"Premium currency for fish purchases",exchangeRate:1,minPurchase:100,maxPurchase:1e4,bonusRules:[{id:"1",minAmount:500,bonusPercentage:5,bonusAmount:25,description:"5% bonus on 500+"},{id:"2",minAmount:1e3,bonusPercentage:10,bonusAmount:100,description:"10% bonus on 1000+"}],isActive:!0,totalIssued:15e4,totalRedeemed:89e3,walletConfig:{theme:"premium",primaryColor:"#3B82F6",secondaryColor:"#1E40AF",showBalance:!0,showTransactionHistory:!0,enableNotifications:!0,autoTopup:{enabled:!1,threshold:100,amount:500}},createdBy:"Admin",createdAt:"2024-01-01"}],nBe=[{id:"1",userId:"user1",type:"credit",amount:500,description:"Wallet top-up",balanceBefore:200,balanceAfter:700,timestamp:"2024-01-10T10:30:00"},{id:"2",userId:"user1",type:"bonus",amount:50,description:"10% bonus on top-up",balanceBefore:700,balanceAfter:750,timestamp:"2024-01-10T10:30:00"},{id:"3",userId:"user1",type:"debit",amount:250,description:"Order payment - #ORD001",orderId:"ORD001",balanceBefore:750,balanceAfter:500,timestamp:"2024-01-10T14:15:00"}];function iBe({currencies:e}){const t=e.reduce((n,i)=>n+i.totalIssued,0),s=e.reduce((n,i)=>n+i.totalRedeemed,0),a=t>0?(s/t*100).toFixed(1):"0";return r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:r.jsx(rz,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Currencies"}),r.jsx("p",{className:"text-xl font-bold",children:e.length})]})]})}),r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:r.jsx(xx,{className:"h-5 w-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Active"}),r.jsx("p",{className:"text-xl font-bold",children:e.filter(n=>n.isActive).length})]})]})}),r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:r.jsx(ta,{className:"h-5 w-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Issued"}),r.jsx("p",{className:"text-xl font-bold",children:t.toLocaleString()})]})]})}),r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:r.jsx(ZU,{className:"h-5 w-5 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Circulation"}),r.jsxs("p",{className:"text-xl font-bold",children:[a,"%"]})]})]})})]})}function tj(){const[e]=A.useState(aBe),[t]=A.useState(nBe),[s,a]=A.useState(""),[n,i]=A.useState(""),[l,o]=A.useState(!1),c=e.filter(d=>(d.name.toLowerCase().includes(s.toLowerCase())||d.symbol.toLowerCase().includes(s.toLowerCase()))&&(!n||(n==="active"?d.isActive:!d.isActive)));return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",children:"In-App Currency Management"}),r.jsx("p",{className:"text-gray-600",children:"Manage digital wallet and currency system"})]}),r.jsxs(oe,{onClick:()=>o(!0),children:[r.jsx(dr,{className:"mr-2 h-4 w-4"}),"Create Currency"]})]}),r.jsx(iBe,{currencies:e}),r.jsx(he,{children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(de,{placeholder:"Search currencies...",value:s,onChange:d=>a(d.target.value),className:"pl-10 flex-1"}),r.jsx(Ut,{value:n,onChange:d=>i(d.target.value),options:[{value:"",label:"All Status"},{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}]})]})}),r.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Currency Configuration"}),c.map(d=>r.jsxs(he,{className:"p-6",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold",children:d.symbol}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-lg",children:d.name}),r.jsx("p",{className:"text-sm text-gray-600",children:d.description})]})]}),r.jsx(Xe,{variant:id(d.isActive?"active":"inactive"),children:d.isActive?"Active":"Inactive"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Exchange Rate"}),r.jsxs("p",{className:"font-semibold",children:["1 INR = ",d.exchangeRate," ",d.symbol]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Purchase Range"}),r.jsxs("p",{className:"font-semibold",children:["",d.minPurchase," - ",d.maxPurchase]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Issued"}),r.jsxs("p",{className:"font-semibold",children:[d.totalIssued.toLocaleString()," ",d.symbol]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Redeemed"}),r.jsxs("p",{className:"font-semibold",children:[d.totalRedeemed.toLocaleString()," ",d.symbol]})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Bonus Rules:"}),r.jsx("div",{className:"space-y-1",children:d.bonusRules.map(h=>r.jsx("div",{className:"text-xs bg-green-50 text-green-800 px-2 py-1 rounded",children:h.description},h.id))})]})]},d.id))]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Wallet Preview & Transactions"}),r.jsxs(he,{className:"p-6",children:[r.jsx("h3",{className:"font-semibold mb-4",children:"Wallet Preview"}),r.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl p-6 text-white relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white bg-opacity-10 rounded-full -mr-16 -mt-16"}),r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"text-lg font-semibold",children:"Fish Wallet"}),r.jsx(xx,{className:"h-6 w-6"})]}),r.jsx("div",{className:"text-3xl font-bold mb-2",children:"750 FC"}),r.jsx("div",{className:"text-sm opacity-90",children:"Available Balance"})]})]})]}),r.jsxs(he,{className:"p-6",children:[r.jsx("h3",{className:"font-semibold mb-4",children:"Recent Transactions"}),r.jsx("div",{className:"space-y-3",children:t.map(d=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`p-2 rounded-lg ${d.type==="credit"||d.type==="bonus"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:d.type==="credit"||d.type==="bonus"?r.jsx(ta,{className:"h-4 w-4"}):r.jsx(ZU,{className:"h-4 w-4"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-sm",children:d.description}),r.jsx("p",{className:"text-xs text-gray-500",children:new Date(d.timestamp).toLocaleString()})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:`font-semibold ${d.type==="credit"||d.type==="bonus"?"text-green-600":"text-red-600"}`,children:[d.type==="credit"||d.type==="bonus"?"+":"-",d.amount," FC"]}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Balance: ",d.balanceAfter," FC"]})]})]},d.id))})]})]})]}),c.length===0&&r.jsxs(he,{className:"text-center py-12",children:[r.jsx(rz,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No currencies found"}),r.jsx("p",{className:"text-gray-500",children:"Create your first in-app currency"})]}),r.jsx(ir,{isOpen:l,onClose:()=>o(!1),title:"Create In-App Currency",children:r.jsxs("form",{className:"space-y-4",children:[r.jsx(de,{label:"Currency Name",placeholder:"Fish Coins",required:!0}),r.jsx(de,{label:"Currency Symbol",placeholder:"FC",required:!0}),r.jsx("textarea",{className:"w-full rounded-lg border p-2",rows:2,placeholder:"Description..."}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(de,{label:"Exchange Rate (1 INR = X)",type:"number",placeholder:"1"}),r.jsx(de,{label:"Min Purchase (INR)",type:"number",placeholder:"100"})]}),r.jsx(de,{label:"Max Purchase (INR)",type:"number",placeholder:"10000"}),r.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[r.jsx(oe,{type:"button",variant:"secondary",onClick:()=>o(!1),className:"flex-1",children:"Cancel"}),r.jsx(oe,{type:"submit",className:"flex-1",children:"Create Currency"})]})]})})]})}const lBe=[{id:"1",name:"Fish Friends Referral",description:"Refer friends and earn rewards on fish orders",isActive:!0,referrerReward:{type:"cashback",value:100,unit:"",conditions:["Friend completes first order"]},refereeReward:{type:"discount",value:20,unit:"%",maxReward:200,conditions:["First order only"]},conditions:{minOrderValue:500,validityDays:30,maxReferrals:10,requireFirstOrder:!0,allowSelfReferral:!1},customization:{shareMessage:"Join me on FishApp and get 20% off your first order! Use my referral code.",landingPageTitle:"Welcome to FishApp!",landingPageDescription:"Get fresh fish delivered to your doorstep with 20% off your first order.",buttonText:"Claim Your Discount",colors:{primary:"#3B82F6",secondary:"#1E40AF",background:"#F8FAFC"},socialPlatforms:["whatsapp","facebook","twitter","instagram"]},totalReferrals:1250,successfulReferrals:890,totalRewards:89e3,createdBy:"Admin",createdAt:"2024-01-01"},{id:"2",name:"Premium Member Referral",description:"Exclusive referral program for premium members",isActive:!0,referrerReward:{type:"points",value:500,unit:"pts",conditions:["Friend becomes premium member"]},refereeReward:{type:"free_delivery",value:3,unit:"deliveries",conditions:["Valid for 3 months"]},conditions:{minOrderValue:1e3,validityDays:90,maxReferrals:5,requireFirstOrder:!1,allowSelfReferral:!1},customization:{shareMessage:"Upgrade to premium with me and get 3 free deliveries!",landingPageTitle:"Premium Fish Experience",landingPageDescription:"Join our premium membership and enjoy exclusive benefits.",buttonText:"Go Premium Now",colors:{primary:"#7C3AED",secondary:"#5B21B6",background:"#FAF5FF"},socialPlatforms:["whatsapp","email"]},totalReferrals:340,successfulReferrals:245,totalRewards:122500,createdBy:"Admin",createdAt:"2024-01-15"}];function oBe({programs:e}){const t=e.filter(i=>i.isActive).length,s=e.reduce((i,l)=>i+l.totalReferrals,0),a=e.reduce((i,l)=>i+l.successfulReferrals,0),n=s>0?(a/s*100).toFixed(1):"0";return r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:r.jsx(nz,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Programs"}),r.jsx("p",{className:"text-xl font-bold",children:e.length})]})]})}),r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:r.jsx(Fw,{className:"h-5 w-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Active Programs"}),r.jsx("p",{className:"text-xl font-bold",children:t})]})]})}),r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:r.jsx(Qr,{className:"h-5 w-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Referrals"}),r.jsx("p",{className:"text-xl font-bold",children:s.toLocaleString()})]})]})}),r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:r.jsx(ta,{className:"h-5 w-5 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Conversion Rate"}),r.jsxs("p",{className:"text-xl font-bold",children:[n,"%"]})]})]})})]})}function cBe({program:e}){const t=e.totalReferrals>0?(e.successfulReferrals/e.totalReferrals*100).toFixed(1):"0",s=a=>{switch(a){case"cashback":return"";case"discount":return"";case"free_delivery":return"";case"points":return"";case"free_item":return"";default:return""}};return r.jsx(he,{className:"p-0 overflow-hidden",children:r.jsxs("div",{className:"flex",children:[r.jsxs("div",{className:"flex-grow p-6 border-r",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("h3",{className:"font-semibold text-lg",children:e.name}),r.jsx(Xe,{variant:id(e.isActive?"active":"inactive"),children:e.isActive?"Active":"Inactive"})]}),r.jsx("p",{className:"text-sm text-gray-500 mb-4",children:e.description}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"border rounded-lg p-3 bg-green-50",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("span",{className:"text-lg",children:s(e.referrerReward.type)}),r.jsx("span",{className:"font-semibold text-sm",children:"Referrer"})]}),r.jsxs("p",{className:"font-bold text-green-600",children:[e.referrerReward.value,e.referrerReward.unit]})]}),r.jsxs("div",{className:"border rounded-lg p-3 bg-blue-50",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("span",{className:"text-lg",children:s(e.refereeReward.type)}),r.jsx("span",{className:"font-semibold text-sm",children:"Referee"})]}),r.jsxs("p",{className:"font-bold text-blue-600",children:[e.refereeReward.value,e.refereeReward.unit]})]})]})]}),r.jsxs("div",{className:"w-64 p-6 bg-gray-50 flex flex-col justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold mb-3 text-center",children:"Performance"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),r.jsx("p",{className:"font-semibold text-lg",children:e.totalReferrals})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Successful"}),r.jsx("p",{className:"font-semibold text-lg text-green-600",children:e.successfulReferrals})]}),r.jsxs("div",{className:"col-span-2",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Conversion Rate"}),r.jsxs("p",{className:"font-semibold text-lg text-blue-600",children:[t,"%"]})]})]})]}),r.jsxs("div",{className:"flex justify-center gap-2 mt-4",children:[r.jsx(oe,{variant:"ghost",size:"sm",children:r.jsx(Fr,{className:"h-4 w-4"})}),r.jsx(oe,{variant:"ghost",size:"sm",children:r.jsx(ic,{className:"h-4 w-4"})}),r.jsx(oe,{variant:"ghost",size:"sm",className:"text-red-600",children:r.jsx(Ar,{className:"h-4 w-4"})})]})]})]})})}function sy(){const[e]=A.useState(lBe),[t,s]=A.useState(""),[a,n]=A.useState(""),[i,l]=A.useState(!1),o=e.filter(c=>{const d=c.name.toLowerCase().includes(t.toLowerCase()),h=!a||(a==="active"?c.isActive:!c.isActive);return d&&h});return r.jsxs("div",{className:"space-y-4 sm:space-y-6 p-4 sm:p-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-bold truncate",children:"Referral Management"}),r.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1",children:"Create and manage referral programs with custom rewards"})]}),r.jsx("div",{className:"flex gap-2 w-full sm:w-auto",children:r.jsxs(oe,{onClick:()=>l(!0),className:"flex-1 sm:flex-none",children:[r.jsx(dr,{className:"mr-2 h-4 w-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Create Program"}),r.jsx("span",{className:"sm:hidden",children:"Create"})]})})]}),r.jsx(oBe,{programs:e}),r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Bi,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),r.jsx(de,{placeholder:"Search referral programs...",value:t,onChange:c=>s(c.target.value),className:"pl-10"})]}),r.jsx(Ut,{value:a,onChange:c=>n(c.target.value),options:[{value:"",label:"All Status"},{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}]})]})}),r.jsx("div",{className:"space-y-4 sm:space-y-6",children:o.map(c=>r.jsx(cBe,{program:c},c.id))}),o.length===0&&r.jsxs(he,{className:"text-center py-12",children:[r.jsx(nz,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No referral programs found"}),r.jsx("p",{className:"text-gray-500",children:"Create your first referral program"})]}),r.jsx(ir,{isOpen:i,onClose:()=>l(!1),title:"Create Referral Program",children:r.jsxs("form",{className:"space-y-4",children:[r.jsx(de,{label:"Program Name",placeholder:"Fish Friends Referral",required:!0}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-primary-500 focus:outline-none",rows:2,placeholder:"Refer friends and earn rewards"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium mb-2",children:"Referrer Reward"}),r.jsx(Ut,{label:"Reward Type",options:[{value:"cashback",label:"Cashback"},{value:"discount",label:"Discount"},{value:"points",label:"Points"}]}),r.jsx(de,{label:"Reward Value",type:"number",placeholder:"100"})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium mb-2",children:"Referee Reward"}),r.jsx(Ut,{label:"Reward Type",options:[{value:"discount",label:"Discount"},{value:"free_delivery",label:"Free Delivery"},{value:"cashback",label:"Cashback"}]}),r.jsx(de,{label:"Reward Value",type:"number",placeholder:"20"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(de,{label:"Min Order Value",type:"number",placeholder:"500"}),r.jsx(de,{label:"Validity (days)",type:"number",placeholder:"30"})]}),r.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[r.jsx(oe,{type:"button",variant:"secondary",onClick:()=>l(!1),className:"flex-1",children:"Cancel"}),r.jsx(oe,{type:"submit",className:"flex-1",children:"Create Program"})]})]})})]})}const dBe=[{id:"1",name:"Chennai Central Hub",code:"HUB-CHN-001",description:"Main distribution hub for Chennai region",address:{street:"123 Anna Salai",city:"Chennai",state:"Tamil Nadu",pincode:"600002",country:"India"},location:{latitude:13.0827,longitude:80.2707},contactInfo:{phone:"+91 9876543210",email:"chennai.hub@fishapp.com",manager:"Rajesh Kumar"},operatingHours:{open:"06:00",close:"22:00",workingDays:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},capacity:{storage:5e3,dailyOrders:1e3,staff:25},isActive:!0,connectedStores:["store1","store2","store3"],createdBy:"Admin",createdAt:"2024-01-01"},{id:"2",name:"Bangalore North Hub",code:"HUB-BLR-001",description:"Primary hub serving North Bangalore",address:{street:"456 MG Road",city:"Bangalore",state:"Karnataka",pincode:"560001",country:"India"},location:{latitude:12.9716,longitude:77.5946},contactInfo:{phone:"+91 9876543211",email:"bangalore.hub@fishapp.com",manager:"Priya Sharma"},operatingHours:{open:"05:30",close:"23:00",workingDays:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"]},capacity:{storage:7500,dailyOrders:1500,staff:35},isActive:!0,connectedStores:["store4","store5"],createdBy:"Admin",createdAt:"2024-01-15"}];function uBe({hubs:e}){const t=e.filter(n=>n.isActive).length,s=e.reduce((n,i)=>n+i.capacity.storage,0),a=e.reduce((n,i)=>n+i.connectedStores.length,0);return r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 mb-4 sm:mb-6",children:[r.jsx(he,{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[r.jsx("div",{className:"p-1.5 sm:p-2 bg-blue-100 rounded-lg",children:r.jsx(Wl,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Total Hubs"}),r.jsx("p",{className:"text-lg sm:text-xl font-bold",children:e.length})]})]})}),r.jsx(he,{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[r.jsx("div",{className:"p-1.5 sm:p-2 bg-green-100 rounded-lg",children:r.jsx(Tt,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Active Hubs"}),r.jsx("p",{className:"text-lg sm:text-xl font-bold",children:t})]})]})}),r.jsx(he,{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[r.jsx("div",{className:"p-1.5 sm:p-2 bg-purple-100 rounded-lg",children:r.jsx(Qr,{className:"h-4 w-4 sm:h-5 sm:w-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Connected Stores"}),r.jsx("p",{className:"text-lg sm:text-xl font-bold",children:a})]})]})}),r.jsx(he,{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[r.jsx("div",{className:"p-1.5 sm:p-2 bg-orange-100 rounded-lg",children:r.jsx(Tt,{className:"h-4 w-4 sm:h-5 sm:w-5 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Total Capacity"}),r.jsx("p",{className:"text-lg sm:text-xl font-bold",children:s.toLocaleString()})]})]})})]})}function hBe({hub:e,onSave:t,onCancel:s}){const[a,n]=A.useState({name:e?.name||"",code:e?.code||"",description:e?.description||"",street:e?.address.street||"",city:e?.address.city||"",state:e?.address.state||"",pincode:e?.address.pincode||"",country:e?.address.country||"India",phone:e?.contactInfo.phone||"",email:e?.contactInfo.email||"",manager:e?.contactInfo.manager||"",open:e?.operatingHours.open||"06:00",close:e?.operatingHours.close||"22:00",workingDays:e?.operatingHours.workingDays||["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],storage:e?.capacity.storage||0,dailyOrders:e?.capacity.dailyOrders||0,staff:e?.capacity.staff||0,deliveryRadius:e?.deliveryRadius||void 0,deliveryType:e?.selectedZones&&e.selectedZones.length>0?"zones":"radius",selectedZones:e?.selectedZones||[],latitude:e?.location.latitude||0,longitude:e?.location.longitude||0,isActive:e?.isActive??!0,assignAllSlots:!e?.deliverySlots,deliverySlots:e?.deliverySlots||[]}),i=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],l=()=>{const c={name:a.name,code:a.code,description:a.description,address:{street:a.street,city:a.city,state:a.state,pincode:a.pincode,country:a.country},location:{latitude:a.latitude,longitude:a.longitude},contactInfo:{phone:a.phone,email:a.email,manager:a.manager},operatingHours:{open:a.open,close:a.close,workingDays:a.workingDays},capacity:{storage:a.storage,dailyOrders:a.dailyOrders,staff:a.staff},deliveryRadius:a.deliveryType==="radius"?a.deliveryRadius:void 0,selectedZones:a.deliveryType==="zones"?a.selectedZones:void 0,isActive:a.isActive,deliverySlots:a.assignAllSlots?void 0:a.deliverySlots};t(c)},o=c=>{n(d=>({...d,workingDays:d.workingDays.includes(c)?d.workingDays.filter(h=>h!==c):[...d.workingDays,c]}))};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"border rounded-lg p-4 bg-blue-50",children:[r.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[r.jsx(Wl,{className:"h-5 w-5"}),"Basic Information"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(de,{label:"Hub Name",value:a.name,onChange:c=>n(d=>({...d,name:c.target.value})),placeholder:"Chennai Central Hub",required:!0}),r.jsx(de,{label:"Hub Code",value:a.code,onChange:c=>n(d=>({...d,code:c.target.value})),placeholder:"HUB-CHN-001",required:!0})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-primary-500 focus:outline-none",rows:2,value:a.description,onChange:c=>n(d=>({...d,description:c.target.value})),placeholder:"Main distribution hub for Chennai region"})]}),r.jsx("div",{className:"mt-4",children:r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:a.isActive,onChange:c=>n(d=>({...d,isActive:c.target.checked})),className:"rounded border-gray-300"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Active Hub"})]})})]}),r.jsxs("div",{className:"border rounded-lg p-4 bg-green-50",children:[r.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[r.jsx(Vs,{className:"h-5 w-5"}),"Address & Location"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(de,{label:"Street Address",value:a.street,onChange:c=>n(d=>({...d,street:c.target.value})),placeholder:"123 Anna Salai"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(de,{label:"City",value:a.city,onChange:c=>n(d=>({...d,city:c.target.value})),placeholder:"Chennai"}),r.jsx(de,{label:"State",value:a.state,onChange:c=>n(d=>({...d,state:c.target.value})),placeholder:"Tamil Nadu"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(de,{label:"Pincode",value:a.pincode,onChange:c=>n(d=>({...d,pincode:c.target.value})),placeholder:"600002"}),r.jsx(de,{label:"Country",value:a.country,onChange:c=>n(d=>({...d,country:c.target.value})),placeholder:"India"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(de,{label:"Latitude",type:"number",step:"any",value:a.latitude,onChange:c=>n(d=>({...d,latitude:parseFloat(c.target.value)})),placeholder:"13.0827"}),r.jsx(de,{label:"Longitude",type:"number",step:"any",value:a.longitude,onChange:c=>n(d=>({...d,longitude:parseFloat(c.target.value)})),placeholder:"80.2707"})]})]})]}),r.jsxs("div",{className:"border rounded-lg p-4 bg-purple-50",children:[r.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[r.jsx(Yc,{className:"h-5 w-5"}),"Contact Information"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(de,{label:"Phone",value:a.phone,onChange:c=>n(d=>({...d,phone:c.target.value})),placeholder:"+91 9876543210"}),r.jsx(de,{label:"Email",type:"email",value:a.email,onChange:c=>n(d=>({...d,email:c.target.value})),placeholder:"hub@fishapp.com"})]}),r.jsx("div",{className:"mt-4",children:r.jsx(de,{label:"Manager Name",value:a.manager,onChange:c=>n(d=>({...d,manager:c.target.value})),placeholder:"Rajesh Kumar"})})]}),r.jsxs("div",{className:"border rounded-lg p-4 bg-orange-50",children:[r.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[r.jsx(Tr,{className:"h-5 w-5"}),"Operating Hours"]}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Need to assign delivery slots while creating a new Hub. Partially select or All slots"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[r.jsx(de,{label:"Opening Time",type:"time",value:a.open,onChange:c=>n(d=>({...d,open:c.target.value}))}),r.jsx(de,{label:"Closing Time",type:"time",value:a.close,onChange:c=>n(d=>({...d,close:c.target.value}))})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Working Days"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:i.map(c=>r.jsx("button",{type:"button",onClick:()=>o(c),className:`px-3 py-1 rounded-full text-sm transition-all ${a.workingDays.includes(c)?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:c.slice(0,3)},c))})]}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Delivery Slots Assignment"}),r.jsxs("div",{className:"flex gap-4 mb-3",children:[r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"radio",checked:a.assignAllSlots,onChange:()=>n(c=>({...c,assignAllSlots:!0,deliverySlots:[]})),className:"rounded-full border-gray-300"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Assign All Slots"})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"radio",checked:!a.assignAllSlots,onChange:()=>n(c=>({...c,assignAllSlots:!1})),className:"rounded-full border-gray-300"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Partially Select Slots"})]})]}),!a.assignAllSlots&&r.jsxs("div",{className:"bg-white border rounded-lg p-3 mt-3",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Select specific delivery time slots:"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:[{id:"6-9",label:"6 AM - 9 AM",value:"06:00-09:00"},{id:"9-12",label:"9 AM - 12 PM",value:"09:00-12:00"},{id:"12-15",label:"12 PM - 3 PM",value:"12:00-15:00"},{id:"15-18",label:"3 PM - 6 PM",value:"15:00-18:00"},{id:"18-21",label:"6 PM - 9 PM",value:"18:00-21:00"},{id:"21-24",label:"9 PM - 12 AM",value:"21:00-24:00"}].map(c=>r.jsxs("label",{className:"flex items-center gap-2 p-2 border rounded hover:bg-gray-50 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:a.deliverySlots?.includes(c.value)||!1,onChange:d=>{const h=a.deliverySlots||[];d.target.checked?n(m=>({...m,deliverySlots:[...h,c.value]})):n(m=>({...m,deliverySlots:h.filter(p=>p!==c.value)}))},className:"rounded border-gray-300"}),r.jsx("span",{className:"text-sm",children:c.label})]},c.id))}),a.deliverySlots&&a.deliverySlots.length>0&&r.jsxs("p",{className:"text-xs text-green-600 mt-2",children:[" ",a.deliverySlots.length," slot(s) selected"]})]}),a.assignAllSlots&&r.jsx("p",{className:"text-xs text-blue-600 mt-2",children:" All delivery slots will be available (6 AM - 12 AM)"})]})]}),r.jsxs("div",{className:"border rounded-lg p-4 bg-yellow-50",children:[r.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[r.jsx(Tt,{className:"h-5 w-5"}),"Capacity & Resources"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(de,{label:"Storage Capacity",type:"number",value:a.storage,onChange:c=>n(d=>({...d,storage:parseInt(c.target.value)})),placeholder:"5000"}),r.jsx(de,{label:"Daily Orders Capacity",type:"number",value:a.dailyOrders,onChange:c=>n(d=>({...d,dailyOrders:parseInt(c.target.value)})),placeholder:"1000"}),r.jsx(de,{label:"Staff Count",type:"number",value:a.staff,onChange:c=>n(d=>({...d,staff:parseInt(c.target.value)})),placeholder:"25"})]})]}),r.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[r.jsx("h3",{className:"font-semibold mb-3",children:"Configuration"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:r.jsx(de,{label:"Hub ID",value:e?.id||"Auto-generated",disabled:!0,placeholder:"Auto-generated"})}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Delivery Configuration"}),r.jsxs("div",{className:"flex gap-4 mb-3",children:[r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"radio",checked:a.deliveryType==="radius",onChange:()=>n(c=>({...c,deliveryType:"radius",selectedZones:[]})),className:"rounded-full border-gray-300"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Fixed Radius"})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"radio",checked:a.deliveryType==="zones",onChange:()=>n(c=>({...c,deliveryType:"zones",deliveryRadius:void 0})),className:"rounded-full border-gray-300"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Selected Zones"})]})]}),a.deliveryType==="radius"&&r.jsxs("div",{children:[r.jsx(de,{label:"Delivery Radius (km)",type:"number",value:a.deliveryRadius||"",onChange:c=>n(d=>({...d,deliveryRadius:parseInt(c.target.value)||void 0})),placeholder:"5"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Hub will deliver within this radius from its location"})]}),a.deliveryType==="zones"&&r.jsxs("div",{className:"bg-white border rounded-lg p-3",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Select delivery zones:"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:[{id:"zone-1",name:"Anna Nagar",code:"AN"},{id:"zone-2",name:"T. Nagar",code:"TN"},{id:"zone-3",name:"Velachery",code:"VL"},{id:"zone-4",name:"Adyar",code:"AD"},{id:"zone-5",name:"Mylapore",code:"MY"},{id:"zone-6",name:"Nungambakkam",code:"NG"},{id:"zone-7",name:"Porur",code:"PR"},{id:"zone-8",name:"Tambaram",code:"TB"},{id:"zone-9",name:"Chrompet",code:"CH"}].map(c=>r.jsxs("label",{className:"flex items-center gap-2 p-2 border rounded hover:bg-gray-50 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:a.selectedZones?.includes(c.id)||!1,onChange:d=>{const h=a.selectedZones||[];d.target.checked?n(m=>({...m,selectedZones:[...h,c.id]})):n(m=>({...m,selectedZones:h.filter(p=>p!==c.id)}))},className:"rounded border-gray-300"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:c.name}),r.jsx("p",{className:"text-xs text-gray-500",children:c.code})]})]},c.id))}),a.selectedZones&&a.selectedZones.length>0&&r.jsxs("p",{className:"text-xs text-green-600 mt-2",children:[" ",a.selectedZones.length," zone(s) selected"]})]})]})]}),r.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[r.jsxs(oe,{type:"button",variant:"secondary",onClick:s,className:"flex-1",children:[r.jsx(Cs,{className:"mr-2 h-4 w-4"}),"Cancel"]}),r.jsxs(oe,{type:"button",onClick:l,className:"flex-1",children:[r.jsx(Ii,{className:"mr-2 h-4 w-4"}),e?"Update Hub":"Create Hub"]})]})]})}function fBe({hub:e,onView:t,onEdit:s,onDelete:a}){return r.jsxs("div",{className:"grid grid-cols-12 gap-4 items-center p-4 border-b hover:bg-gray-50",children:[r.jsxs("div",{className:"col-span-3",children:[r.jsx("p",{className:"font-semibold text-gray-800",children:e.name}),r.jsx("p",{className:"text-sm text-gray-500 font-mono",children:e.code})]}),r.jsxs("div",{className:"col-span-3",children:[r.jsx("p",{className:"text-sm text-gray-700",children:e.contactInfo.manager}),r.jsx("p",{className:"text-sm text-gray-500",children:e.contactInfo.email})]}),r.jsx("div",{className:"col-span-2",children:r.jsxs("p",{className:"text-sm text-gray-700",children:[e.address.city,", ",e.address.state]})}),r.jsx("div",{className:"col-span-2 flex justify-center",children:r.jsx(Xe,{variant:id(e.isActive?"active":"inactive"),children:e.isActive?"Active":"Inactive"})}),r.jsxs("div",{className:"col-span-2 flex justify-end gap-2",children:[r.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",children:r.jsx(Fr,{className:"h-4 w-4 text-gray-600"})}),r.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",children:r.jsx(ss,{className:"h-4 w-4 text-gray-600"})}),r.jsx("button",{onClick:a,className:"p-2 hover:bg-red-100 rounded-lg transition-colors",children:r.jsx(Ar,{className:"h-4 w-4 text-red-600"})})]})]})}function mBe(){const{user:e}=es(),[t,s]=A.useState(dBe),[a,n]=A.useState(""),[i,l]=A.useState(""),[o,c]=A.useState(!1),[d,h]=A.useState(!1),[m,p]=A.useState(),[x,v]=A.useState(),y=t.filter(k=>{const _=k.name.toLowerCase().includes(a.toLowerCase())||k.code.toLowerCase().includes(a.toLowerCase()),O=!i||(i==="active"?k.isActive:!k.isActive);return _&&O}),b=k=>{if(m)s(_=>_.map(O=>O.id===m.id?{...O,...k,id:m.id}:O)),p(void 0);else{const _={...k,id:Date.now().toString(),connectedStores:[],createdBy:e?.name||"Admin",createdAt:new Date().toISOString().split("T")[0]};s(O=>[...O,_]),c(!1)}},j=k=>{p(k)},S=k=>{v(k),h(!0)},w=k=>{confirm("Are you sure you want to delete this hub? This action cannot be undone.")&&s(_=>_.filter(O=>O.id!==k))};return r.jsxs("div",{className:"space-y-4 sm:space-y-6 p-4 sm:p-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Hub Management"}),r.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Manage distribution hubs and their operations"})]}),r.jsxs(oe,{onClick:()=>c(!0),className:"w-full sm:w-auto text-sm",children:[r.jsx(dr,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4"}),"Add Hub"]})]}),r.jsx(uBe,{hubs:t}),r.jsx(he,{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Bi,{className:"absolute left-3 top-1/2 h-3 w-3 sm:h-4 sm:w-4 -translate-y-1/2 text-gray-400"}),r.jsx(de,{placeholder:"Search hubs by name or code...",value:a,onChange:k=>n(k.target.value),className:"pl-8 sm:pl-10 text-sm"})]}),r.jsx(Ut,{value:i,onChange:k=>l(k.target.value),options:[{value:"",label:"All Status"},{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}],className:"w-full sm:w-auto text-sm"})]})}),r.jsx("div",{className:"space-y-4",children:y.length>0?r.jsxs(r.Fragment,{children:[r.jsxs(he,{className:"hidden lg:block",children:[r.jsxs("div",{className:"grid grid-cols-12 gap-4 p-4 border-b bg-gray-50 rounded-t-lg",children:[r.jsx("div",{className:"col-span-3 font-semibold text-sm text-gray-600",children:"Hub"}),r.jsx("div",{className:"col-span-3 font-semibold text-sm text-gray-600",children:"Contact"}),r.jsx("div",{className:"col-span-2 font-semibold text-sm text-gray-600",children:"Location"}),r.jsx("div",{className:"col-span-2 font-semibold text-sm text-gray-600 text-center",children:"Status"}),r.jsx("div",{className:"col-span-2 font-semibold text-sm text-gray-600 text-right",children:"Actions"})]}),r.jsx("div",{children:y.map(k=>r.jsx(fBe,{hub:k,onView:()=>S(k),onEdit:()=>j(k),onDelete:()=>w(k.id)},k.id))})]}),r.jsx("div",{className:"lg:hidden space-y-4",children:y.map(k=>r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-800",children:k.name}),r.jsx("p",{className:"text-sm text-gray-500 font-mono",children:k.code})]}),r.jsx(Xe,{variant:id(k.isActive?"active":"inactive"),children:k.isActive?"Active":"Inactive"})]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Manager:"}),r.jsx("span",{className:"text-gray-800",children:k.contactInfo.manager})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Email:"}),r.jsx("span",{className:"text-gray-800 truncate ml-2",children:k.contactInfo.email})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Location:"}),r.jsxs("span",{className:"text-gray-800",children:[k.address.city,", ",k.address.state]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Capacity:"}),r.jsx("span",{className:"text-gray-800",children:k.capacity.storage.toLocaleString()})]})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-2 border-t border-gray-100",children:[r.jsx("button",{onClick:()=>S(k),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"View Details",children:r.jsx(Fr,{className:"h-4 w-4 text-gray-600"})}),r.jsx("button",{onClick:()=>j(k),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Edit Hub",children:r.jsx(ss,{className:"h-4 w-4 text-gray-600"})}),r.jsx("button",{onClick:()=>w(k.id),className:"p-2 hover:bg-red-100 rounded-lg transition-colors",title:"Delete Hub",children:r.jsx(Ar,{className:"h-4 w-4 text-red-600"})})]})]})},k.id))})]}):r.jsxs(he,{className:"p-8 sm:p-12 text-center",children:[r.jsx(Wl,{className:"h-10 w-10 sm:h-12 sm:w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-900 mb-2",children:"No hubs found"}),r.jsx("p",{className:"text-sm sm:text-base text-gray-500",children:"Your search or filter criteria did not match any hubs."})]})}),r.jsx(ir,{isOpen:d,onClose:()=>{h(!1),v(void 0)},title:"Hub Details",size:"xl",children:x&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-4 bg-blue-100 rounded-full",children:r.jsx(Wl,{className:"h-8 w-8 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:x.name}),r.jsx("p",{className:"text-gray-600 font-mono",children:x.code}),r.jsx("div",{className:"flex items-center gap-2 mt-2",children:r.jsx(Xe,{variant:x.isActive?"success":"secondary",children:x.isActive?"Active":"Inactive"})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Basic Information"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Hub Code:"}),r.jsx("span",{className:"font-mono",children:x.code})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Description:"}),r.jsx("span",{className:"text-right",children:x.description})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Manager:"}),r.jsx("span",{children:x.contactInfo.manager})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Created:"}),r.jsx("span",{children:new Date(x.createdAt).toLocaleDateString()})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Contact Information"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Phone:"}),r.jsx("span",{children:x.contactInfo.phone})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Email:"}),r.jsx("span",{children:x.contactInfo.email})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Address"}),r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsx("p",{children:x.address.street}),r.jsxs("p",{children:[x.address.city,", ",x.address.state]}),r.jsxs("p",{children:[x.address.pincode,", ",x.address.country]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Operating Hours"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Hours:"}),r.jsxs("span",{children:[x.operatingHours.open," -"," ",x.operatingHours.close]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Working Days:"}),r.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:x.operatingHours.workingDays.map(k=>r.jsx(Xe,{variant:"secondary",className:"text-xs",children:k.slice(0,3)},k))})]})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Capacity & Statistics"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Tt,{className:"h-5 w-5 text-blue-600"}),r.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Storage"})]}),r.jsx("p",{className:"text-2xl font-bold text-blue-900",children:x.capacity.storage.toLocaleString()}),r.jsx("p",{className:"text-xs text-blue-700",children:"kg capacity"})]}),r.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Tt,{className:"h-5 w-5 text-green-600"}),r.jsx("span",{className:"text-sm font-medium text-green-900",children:"Daily Orders"})]}),r.jsx("p",{className:"text-2xl font-bold text-green-900",children:x.capacity.dailyOrders.toLocaleString()}),r.jsx("p",{className:"text-xs text-green-700",children:"orders/day"})]}),r.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Qr,{className:"h-5 w-5 text-orange-600"}),r.jsx("span",{className:"text-sm font-medium text-orange-900",children:"Staff"})]}),r.jsx("p",{className:"text-2xl font-bold text-orange-900",children:x.capacity.staff}),r.jsx("p",{className:"text-xs text-orange-700",children:"team members"})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Connected Stores"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[x.connectedStores.map(k=>r.jsxs(Xe,{variant:"info",children:["Store ",k.replace("store","")]},k)),x.connectedStores.length===0&&r.jsx("p",{className:"text-sm text-gray-500",children:"No stores connected"})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[r.jsx(oe,{variant:"secondary",onClick:()=>{h(!1),v(void 0)},className:"flex-1",children:"Close"}),r.jsx(oe,{onClick:()=>{h(!1),j(x)},className:"flex-1",children:"Edit Hub"})]})]})}),r.jsx(ir,{isOpen:o||!!m,onClose:()=>{c(!1),p(void 0)},title:m?"Edit Hub":"Create New Hub",size:"xl",children:r.jsx(hBe,{hub:m,onSave:b,onCancel:()=>{c(!1),p(void 0)}})})]})}const xBe=[{value:"Monday",label:"Mon"},{value:"Tuesday",label:"Tue"},{value:"Wednesday",label:"Wed"},{value:"Thursday",label:"Thu"},{value:"Friday",label:"Fri"},{value:"Saturday",label:"Sat"},{value:"Sunday",label:"Sun"}];function pBe({onSubmit:e,onCancel:t,isSubmitting:s=!1,initialData:a}){const{register:n,handleSubmit:i,control:l,watch:o,setValue:c,formState:{errors:d}}=Ax({resolver:Tx(q7e),defaultValues:{...a,isActive:a?.isActive??!0,address:a?.address||{},location:a?.location||{latitude:0,longitude:0},contactInfo:a?.contactInfo||{},operatingHours:a?.operatingHours||{workingDays:[]},capacity:a?.capacity||{},assignAllSlots:!a?.deliverySlots,deliverySlots:a?.deliverySlots||[]}});return r.jsxs("form",{onSubmit:i(e),className:"space-y-6 p-1",children:[r.jsxs("div",{className:"border rounded-lg p-4 bg-blue-50",children:[r.jsx("h3",{className:"font-semibold mb-4 text-gray-900",children:"Basic Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(de,{label:"Store Name",...n("name"),error:d.name?.message,placeholder:"Enter store name"}),r.jsx(de,{label:"Store Code",...n("code"),error:d.code?.message,placeholder:"STR-XXX-001"})]}),r.jsx("div",{className:"mt-4",children:r.jsx(de,{label:"Description",...n("description"),error:d.description?.message,placeholder:"Brief description of the store"})}),r.jsx("div",{className:"mt-4",children:r.jsx(Ut,{label:"Store Type",...n("storeType"),error:d.storeType?.message,options:[{value:"",label:"Select store type"},{value:"retail",label:"Retail Store"},{value:"warehouse",label:"Warehouse"},{value:"pickup_point",label:"Pickup Point"}]})})]}),r.jsxs("fieldset",{className:"border rounded-lg p-4 bg-green-50",children:[r.jsx("legend",{className:"text-sm font-medium px-2",children:"Address Information"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(de,{label:"Street Address",...n("address.street"),error:d.address?.street?.message,placeholder:"Building name, street name"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(de,{label:"City",...n("address.city"),error:d.address?.city?.message,placeholder:"Chennai"}),r.jsx(de,{label:"State",...n("address.state"),error:d.address?.state?.message,placeholder:"Tamil Nadu"}),r.jsx(de,{label:"Pincode",...n("address.pincode"),error:d.address?.pincode?.message,placeholder:"600001"})]}),r.jsx(de,{label:"Country",...n("address.country"),error:d.address?.country?.message,placeholder:"India"})]})]}),r.jsxs("fieldset",{className:"border rounded-lg p-4 bg-purple-50",children:[r.jsx("legend",{className:"text-sm font-medium px-2",children:"GPS Location"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(de,{label:"Latitude",type:"number",step:"any",...n("location.latitude",{valueAsNumber:!0}),error:d.location?.latitude?.message,placeholder:"13.0827"}),r.jsx(de,{label:"Longitude",type:"number",step:"any",...n("location.longitude",{valueAsNumber:!0}),error:d.location?.longitude?.message,placeholder:"80.2707"})]})]}),r.jsxs("fieldset",{className:"border rounded-lg p-4 bg-pink-50",children:[r.jsx("legend",{className:"text-sm font-medium px-2",children:"Contact Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(de,{label:"Phone",...n("contactInfo.phone"),error:d.contactInfo?.phone?.message,placeholder:"+91 9876543210"}),r.jsx(de,{label:"Email",type:"email",...n("contactInfo.email"),error:d.contactInfo?.email?.message,placeholder:"store@example.com"}),r.jsx(de,{label:"Manager Name",...n("contactInfo.manager"),error:d.contactInfo?.manager?.message,placeholder:"Manager name"})]})]}),r.jsxs("fieldset",{className:"border rounded-lg p-4 bg-orange-50",children:[r.jsx("legend",{className:"text-sm font-medium px-2",children:"Operating Hours"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(de,{label:"Opening Time",type:"time",...n("operatingHours.open"),error:d.operatingHours?.open?.message}),r.jsx(de,{label:"Closing Time",type:"time",...n("operatingHours.close"),error:d.operatingHours?.close?.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Working Days"}),r.jsx(F2,{name:"operatingHours.workingDays",control:l,render:({field:h})=>r.jsx("div",{className:"grid grid-cols-4 lg:grid-cols-7 gap-2",children:xBe.map(m=>r.jsxs("label",{className:`flex items-center justify-center space-x-2 p-2 border rounded-md cursor-pointer hover:bg-gray-50 transition-colors ${h.value?.includes(m.value)?"bg-blue-50 border-blue-300":""}`,children:[r.jsx("input",{type:"checkbox",className:"hidden",value:m.value,checked:h.value?.includes(m.value),onChange:p=>{const x=p.target.checked?[...h.value||[],m.value]:h.value?.filter(v=>v!==m.value);h.onChange(x)}}),r.jsx("span",{children:m.label})]},m.value))})}),d.operatingHours?.workingDays&&r.jsx("p",{className:"text-sm text-red-600 mt-1",children:d.operatingHours.workingDays.message})]}),r.jsxs("div",{className:"border-t pt-4 mt-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Delivery Slots Assignment"}),r.jsx(F2,{name:"assignAllSlots",control:l,render:({field:h})=>r.jsxs("div",{className:"flex gap-4 mb-3",children:[r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"radio",checked:h.value===!0,onChange:()=>{h.onChange(!0),c("deliverySlots",[])},className:"rounded-full border-gray-300"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Assign All Slots"})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"radio",checked:h.value===!1,onChange:()=>h.onChange(!1),className:"rounded-full border-gray-300"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Partially Select Slots"})]})]})}),r.jsx(F2,{name:"deliverySlots",control:l,render:({field:h})=>r.jsxs(r.Fragment,{children:[o("assignAllSlots")===!1&&r.jsxs("div",{className:"bg-white border rounded-lg p-3 mt-3",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Select specific delivery time slots:"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:[{id:"6-9",label:"6 AM - 9 AM",value:"06:00-09:00"},{id:"9-12",label:"9 AM - 12 PM",value:"09:00-12:00"},{id:"12-15",label:"12 PM - 3 PM",value:"12:00-15:00"},{id:"15-18",label:"3 PM - 6 PM",value:"15:00-18:00"},{id:"18-21",label:"6 PM - 9 PM",value:"18:00-21:00"},{id:"21-24",label:"9 PM - 12 AM",value:"21:00-24:00"}].map(m=>r.jsxs("label",{className:"flex items-center gap-2 p-2 border rounded hover:bg-gray-50 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:h.value?.includes(m.value)||!1,onChange:p=>{const x=h.value||[];p.target.checked?h.onChange([...x,m.value]):h.onChange(x.filter(v=>v!==m.value))},className:"rounded border-gray-300"}),r.jsx("span",{className:"text-sm",children:m.label})]},m.id))}),h.value&&h.value.length>0&&r.jsxs("p",{className:"text-xs text-green-600 mt-2",children:[" ",h.value.length," slot(s) selected"]})]}),o("assignAllSlots")===!0&&r.jsx("p",{className:"text-xs text-blue-600 mt-2",children:" All delivery slots will be available (6 AM - 12 AM)"})]})})]})]}),r.jsxs("fieldset",{className:"border rounded-lg p-4 bg-yellow-50",children:[r.jsx("legend",{className:"text-sm font-medium px-2",children:"Capacity & Resources"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(de,{label:"Storage Capacity (units)",type:"number",...n("capacity.storage",{valueAsNumber:!0}),error:d.capacity?.storage?.message,placeholder:"1000"}),r.jsx(de,{label:"Daily Orders Capacity",type:"number",...n("capacity.dailyOrders",{valueAsNumber:!0}),error:d.capacity?.dailyOrders?.message,placeholder:"200"}),r.jsx(de,{label:"Staff Count",type:"number",...n("capacity.staff",{valueAsNumber:!0}),error:d.capacity?.staff?.message,placeholder:"8"})]})]}),r.jsxs("fieldset",{className:"border rounded-lg p-4 bg-gray-50",children:[r.jsx("legend",{className:"text-sm font-medium px-2",children:"Configuration"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(de,{label:"Connected Hub ID",...n("hubId"),error:d.hubId?.message,placeholder:"HUB-XXX-001"}),r.jsx(de,{label:"Delivery Radius (km)",type:"number",...n("deliveryRadius",{valueAsNumber:!0}),error:d.deliveryRadius?.message,placeholder:"5"})]}),r.jsx(F2,{name:"isActive",control:l,render:({field:h})=>r.jsx(Bp,{label:"Store is active",checked:h.value,onChange:h.onChange})})]}),r.jsxs("div",{className:"flex gap-4 pt-4 border-t",children:[r.jsx(oe,{type:"button",variant:"secondary",onClick:t,className:"flex-1",disabled:s,children:"Cancel"}),r.jsx(oe,{type:"submit",className:"flex-1",disabled:s,children:s?"Saving...":a?.id?"Save Changes":"Create Store"})]})]})}const tm=({icon:e,label:t,children:s})=>r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"text-gray-500 mt-1",children:e}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:t}),r.jsx("p",{className:"font-medium text-gray-800",children:s})]})]});function gBe({store:e}){const t=a=>{switch(a){case"retail":return"bg-green-100 text-green-800";case"warehouse":return"bg-blue-100 text-blue-800";case"pickup_point":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},s=a=>{switch(a){case"retail":return"";case"warehouse":return"";case"pickup_point":return"";default:return""}};return r.jsxs("div",{className:"space-y-6 p-2",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:e.name}),r.jsx("p",{className:"text-sm text-gray-500 font-mono",children:e.code})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs(Xe,{className:`${t(e.storeType)} capitalize`,children:[s(e.storeType)," ",e.storeType.replace("_"," ")]}),r.jsxs(Xe,{variant:id(e.isActive?"active":"inactive"),className:"flex items-center gap-1",children:[e.isActive?r.jsx(Dr,{className:"h-3 w-3"}):r.jsx(Mu,{className:"h-3 w-3"}),e.isActive?"Active":"Inactive"]})]})]}),e.description&&r.jsx("p",{className:"text-gray-700",children:e.description}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 border-t pt-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs(tm,{icon:r.jsx(Vs,{size:16}),label:"Address",children:[e.address.street,", ",e.address.city,", ",e.address.state," - ",e.address.pincode]}),r.jsx(tm,{icon:r.jsx(Yc,{size:16}),label:"Contact Phone",children:e.contactInfo.phone}),r.jsx(tm,{icon:r.jsx(vm,{size:16}),label:"Contact Email",children:e.contactInfo.email}),r.jsx(tm,{icon:r.jsx(Qr,{size:16}),label:"Manager",children:e.contactInfo.manager})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs(tm,{icon:r.jsx(Tr,{size:16}),label:"Operating Hours",children:[e.operatingHours.open," - ",e.operatingHours.close]}),r.jsx(tm,{icon:r.jsx(Qr,{size:16}),label:"Working Days",children:r.jsx("div",{className:"flex flex-wrap gap-1",children:e.operatingHours.workingDays.map(a=>r.jsx(Xe,{variant:"secondary",children:a},a))})}),r.jsxs(tm,{icon:r.jsx(Tt,{size:16}),label:"Capacity",children:["Storage: ",e.capacity.storage," units | Daily Orders: ",e.capacity.dailyOrders," | Staff: ",e.capacity.staff]}),r.jsxs(tm,{icon:r.jsx(Tm,{size:16}),label:"Connected Hub",children:["Hub ID: ",e.hubId]})]})]}),r.jsx("div",{className:"border-t pt-4 text-sm text-gray-500",children:r.jsxs("p",{children:["Created by: ",e.createdBy," on ",new Date(e.createdAt).toLocaleDateString()]})})]})}const vBe=[{id:"1",name:"T. Nagar Store",code:"STR-CHN-001",description:"Premium retail store in T. Nagar",storeType:"retail",address:{street:"789 Pondy Bazaar",city:"Chennai",state:"Tamil Nadu",pincode:"600017",country:"India"},location:{latitude:13.0418,longitude:80.2341},contactInfo:{phone:"+91 9876543220",email:"tnagar.store@fishapp.com",manager:"Meera Krishnan"},operatingHours:{open:"08:00",close:"21:00",workingDays:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"]},capacity:{storage:1e3,dailyOrders:200,staff:8},hubId:"1",deliveryRadius:5,isActive:!0,createdBy:"Admin",createdAt:"2024-01-01"}];function yBe({stores:e}){const t=e.filter(n=>n.isActive).length,s=e.reduce((n,i)=>n+i.capacity.storage,0),a=e.reduce((n,i)=>n+i.capacity.staff,0);return r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 mb-4 sm:mb-6",children:[r.jsx(he,{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[r.jsx("div",{className:"p-1.5 sm:p-2 bg-green-100 rounded-lg",children:r.jsx(Fn,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Total Stores"}),r.jsx("p",{className:"text-lg sm:text-xl font-bold",children:e.length})]})]})}),r.jsx(he,{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[r.jsx("div",{className:"p-1.5 sm:p-2 bg-blue-100 rounded-lg",children:r.jsx(Tt,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Active Stores"}),r.jsx("p",{className:"text-lg sm:text-xl font-bold",children:t})]})]})}),r.jsx(he,{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[r.jsx("div",{className:"p-1.5 sm:p-2 bg-purple-100 rounded-lg",children:r.jsx(Qr,{className:"h-4 w-4 sm:h-5 sm:w-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Total Staff"}),r.jsx("p",{className:"text-lg sm:text-xl font-bold",children:a})]})]})}),r.jsx(he,{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[r.jsx("div",{className:"p-1.5 sm:p-2 bg-orange-100 rounded-lg",children:r.jsx(Tt,{className:"h-4 w-4 sm:h-5 sm:w-5 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Total Capacity"}),r.jsx("p",{className:"text-lg sm:text-xl font-bold",children:s.toLocaleString()})]})]})})]})}function bBe({store:e,onView:t,onEdit:s,onDelete:a}){const n=l=>{switch(l){case"retail":return"bg-green-100 text-green-800";case"warehouse":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},i=l=>{switch(l){case"retail":return"";case"warehouse":return"";default:return""}};return r.jsxs("div",{className:"flex items-center p-4 border-b hover:bg-gray-50",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-semibold truncate",children:e.name}),r.jsx("p",{className:"text-sm text-gray-500 font-mono",children:e.code})]}),r.jsx("div",{className:"w-40 text-center",children:r.jsxs(Xe,{className:`${n(e.storeType)} capitalize`,children:[i(e.storeType)," ",e.storeType.replace("_"," ")]})}),r.jsx("div",{className:"flex-1 min-w-0",children:r.jsxs("p",{className:"text-sm truncate",children:[e.address.city,", ",e.address.state]})}),r.jsx("div",{className:"w-28 text-center",children:r.jsx(Xe,{variant:id(e.isActive?"active":"inactive"),children:e.isActive?"Active":"Inactive"})}),r.jsxs("div",{className:"flex items-center justify-end gap-2 w-32",children:[r.jsx(oe,{variant:"ghost",size:"sm",onClick:t,children:r.jsx(Fr,{className:"h-4 w-4"})}),r.jsx(oe,{variant:"ghost",size:"sm",onClick:s,children:r.jsx(ss,{className:"h-4 w-4"})}),r.jsx(oe,{variant:"ghost",size:"sm",onClick:a,className:"text-red-600",children:r.jsx(Ar,{className:"h-4 w-4"})})]})]})}function jBe(){const{user:e}=es(),[t,s]=A.useState(vBe),[a,n]=A.useState(""),[i,l]=A.useState(""),[o,c]=A.useState(""),[d,h]=A.useState(!1),[m,p]=A.useState(!1),[x,v]=A.useState(!1),[y,b]=A.useState(),j=t.filter(E=>(E.name.toLowerCase().includes(a.toLowerCase())||E.code.toLowerCase().includes(a.toLowerCase()))&&(!i||(i==="active"?E.isActive:!E.isActive))&&(!o||E.storeType===o)),S=E=>{if(y)s(F=>F.map(I=>I.id===y.id?{...I,...E,id:I.id}:I));else{const F={...E,id:Date.now().toString(),createdBy:e?.name||"Admin",createdAt:new Date().toISOString()};s(I=>[...I,F])}h(!1),b(void 0)},w=E=>{b(E),h(!0)},k=E=>{b(E),p(!0)},_=E=>{b(E),v(!0)},O=()=>{y&&s(E=>E.filter(F=>F.id!==y.id)),v(!1),b(void 0)};return r.jsxs("div",{className:"space-y-4 sm:space-y-6 p-4 sm:p-6",children:[r.jsx(Vc,{title:"Store Management",description:"Manage retail stores, warehouses, and pickup points",actions:r.jsxs(oe,{onClick:()=>{b(void 0),h(!0)},className:"w-full sm:w-auto text-sm",children:[r.jsx(dr,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4"}),"Add Store"]})}),r.jsx(yBe,{stores:t}),r.jsx(he,{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Bi,{className:"absolute left-3 top-1/2 h-3 w-3 sm:h-4 sm:w-4 -translate-y-1/2 text-gray-400"}),r.jsx(de,{placeholder:"Search stores by name or code...",value:a,onChange:E=>n(E.target.value),className:"pl-8 sm:pl-10 text-sm"})]}),r.jsxs("div",{className:"flex gap-2 sm:gap-4",children:[r.jsx(Ut,{value:i,onChange:E=>l(E.target.value),options:[{value:"",label:"All Status"},{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}],className:"flex-1 sm:flex-none text-sm"}),r.jsx(Ut,{value:o,onChange:E=>c(E.target.value),options:[{value:"",label:"All Types"},{value:"retail",label:"Retail Store"},{value:"warehouse",label:"Warehouse"}],className:"flex-1 sm:flex-none text-sm"})]})]})}),r.jsx("div",{className:"space-y-4",children:j.length>0?r.jsxs(r.Fragment,{children:[r.jsxs(he,{className:"hidden lg:block",children:[r.jsxs("div",{className:"flex items-center p-4 border-b bg-gray-50 rounded-t-lg font-semibold text-sm text-gray-600",children:[r.jsx("div",{className:"flex-1 min-w-0",children:"Store"}),r.jsx("div",{className:"w-40 text-center",children:"Type"}),r.jsx("div",{className:"flex-1 min-w-0",children:"Location"}),r.jsx("div",{className:"w-28 text-center",children:"Status"}),r.jsx("div",{className:"w-32 text-right",children:"Actions"})]}),r.jsx("div",{children:j.map(E=>r.jsx(bBe,{store:E,onView:()=>k(E),onEdit:()=>w(E),onDelete:()=>_(E)},E.id))})]}),r.jsx("div",{className:"lg:hidden space-y-4",children:j.map(E=>r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-800",children:E.name}),r.jsx("p",{className:"text-sm text-gray-500 font-mono",children:E.code})]}),r.jsx(Xe,{variant:id(E.isActive?"active":"inactive"),children:E.isActive?"Active":"Inactive"})]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Type:"}),r.jsxs(Xe,{className:`${E.storeType==="retail"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"} capitalize`,children:[E.storeType==="retail"?"":""," ",E.storeType.replace("_"," ")]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Manager:"}),r.jsx("span",{className:"text-gray-800",children:E.contactInfo.manager})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Location:"}),r.jsxs("span",{className:"text-gray-800",children:[E.address.city,", ",E.address.state]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Capacity:"}),r.jsx("span",{className:"text-gray-800",children:E.capacity.storage.toLocaleString()})]})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-2 border-t border-gray-100",children:[r.jsx("button",{onClick:()=>k(E),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"View Details",children:r.jsx(Fr,{className:"h-4 w-4 text-gray-600"})}),r.jsx("button",{onClick:()=>w(E),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Edit Store",children:r.jsx(ss,{className:"h-4 w-4 text-gray-600"})}),r.jsx("button",{onClick:()=>_(E),className:"p-2 hover:bg-red-100 rounded-lg transition-colors",title:"Delete Store",children:r.jsx(Ar,{className:"h-4 w-4 text-red-600"})})]})]})},E.id))})]}):r.jsxs(he,{className:"p-8 sm:p-12 text-center",children:[r.jsx(Fn,{className:"h-10 w-10 sm:h-12 sm:w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-900 mb-2",children:"No stores found"}),r.jsx("p",{className:"text-sm sm:text-base text-gray-500",children:"Your search criteria did not match any stores."})]})}),r.jsx(mD,{isOpen:d,onClose:()=>{h(!1),b(void 0)},title:y?"Edit Store":"Add New Store",size:"2xl",children:r.jsx(pBe,{onSubmit:S,onCancel:()=>{h(!1),b(void 0)},initialData:y})}),y&&r.jsx(mD,{isOpen:m,onClose:()=>{p(!1),b(void 0)},title:"Store Details",size:"2xl",children:r.jsx("div",{className:"p-2",children:r.jsx(gBe,{store:y})})}),y&&r.jsx(Vse,{isOpen:x,onClose:()=>v(!1),onConfirm:O,title:"Delete Store",message:`Are you sure you want to delete "${y.name}"?`})]})}const dU=[{id:"activate",label:"Activate Members",icon:Qr,variant:"success",requiresConfirmation:!0,confirmationMessage:"Are you sure you want to activate the selected team members?"},{id:"deactivate",label:"Deactivate Members",icon:Qr,variant:"warning",requiresConfirmation:!0,confirmationMessage:"Are you sure you want to deactivate the selected team members?"},{id:"delete",label:"Delete Members",icon:Ar,variant:"danger",requiresConfirmation:!0,confirmationMessage:"Are you sure you want to delete the selected team members? This action cannot be undone."}],NBe=e=>e.includes("admin")?sl:e.includes("procurement")||e.includes("packing")?Tt:(e.includes("delivery"),Qr),wBe=e=>e==="hub"?Wl:Tt;function SBe({members:e,onView:t,onEdit:s,onDelete:a,onBulkAction:n}){const[i,l]=A.useState(""),[o,c]=A.useState(""),[d,h]=A.useState(""),[m,p]=A.useState({isOpen:!1,actionId:"",actionType:""}),x=e.filter(E=>{const F=!i||E.name.toLowerCase().includes(i.toLowerCase())||E.email.toLowerCase().includes(i.toLowerCase())||E.phone.includes(i),I=!o||o==="active"&&E.isActive||o==="inactive"&&!E.isActive,U=!d||E.role.includes(d);return F&&I&&U}),{selectedItems:v,selectAll:y,deselectAll:b,toggleItem:j,isSelected:S}=Og(x),w=v.length===x.length&&x.length>0,k=v.length>0&&v.length<x.length,_=E=>{const F=dU.find(I=>I.id===E);F?.requiresConfirmation?p({isOpen:!0,actionId:E,actionType:F.variant||"default"}):n?.(E,v)},O=async E=>{n&&(await n(m.actionId,v,E),b()),p({isOpen:!1,actionId:"",actionType:""})};return r.jsxs("div",{className:"space-y-4",children:[r.jsx(Eg,{searchValue:i,onSearchChange:l,placeholder:"Search team members...",filters:[{key:"status",label:"Status",value:o,onChange:c,options:[{value:"",label:"All Status"},{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}]},{key:"role",label:"Role",value:d,onChange:h,options:[{value:"",label:"All Roles"},{value:"admin",label:"Admin"},{value:"procurement",label:"Procurement"},{value:"packing",label:"Packing"},{value:"delivery",label:"Delivery"}]}]}),v.length>0&&r.jsx(Pg,{selectedItems:v,totalItems:x.length,onSelectAll:y,onDeselectAll:b,actions:dU,onAction:_,itemName:"team members"}),r.jsxs(he,{className:"p-0 overflow-hidden",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(Rg,{children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx(Xr,{className:"w-12",children:r.jsx("button",{onClick:w?b:y,className:`p-1 rounded transition-colors ${w?"text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:w?r.jsx(lc,{className:"h-4 w-4"}):k?r.jsx(Xd,{className:"h-4 w-4"}):r.jsx(oc,{className:"h-4 w-4"})})}),r.jsx(Xr,{children:"Member"}),r.jsx(Xr,{children:"Contact"}),r.jsx(Xr,{children:"Role & Department"}),r.jsx(Xr,{children:"Module"}),r.jsx(Xr,{children:"Status"}),r.jsx(Xr,{children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:x.map(E=>{const F=NBe(E.role),I=wBe(E.moduleType);return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx(Zr,{children:r.jsx("button",{onClick:()=>j(E.id),className:`p-1 rounded transition-colors ${S(E.id)?"text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:S(E.id)?r.jsx(lc,{className:"h-4 w-4"}):r.jsx(oc,{className:"h-4 w-4"})})}),r.jsx(Zr,{children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-gray-100 rounded-full",children:r.jsx(F,{className:"h-4 w-4 text-gray-600"})}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium block",children:E.name}),r.jsx("span",{className:"text-sm text-gray-500",children:E.department})]})]})}),r.jsx(Zr,{children:r.jsxs("div",{children:[r.jsx("div",{className:"text-sm",children:E.email}),r.jsx("div",{className:"text-sm text-gray-500",children:E.phone})]})}),r.jsx(Zr,{children:r.jsxs("div",{className:"space-y-1",children:[r.jsx(Xe,{variant:"bg-blue-100 text-blue-800",children:E.role.replace(/_/g," ").replace(/\b\w/g,U=>U.toUpperCase())}),r.jsx("div",{className:"text-xs text-gray-500",children:E.department})]})}),r.jsx(Zr,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(I,{className:"h-4 w-4 text-gray-500"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium capitalize",children:E.moduleType}),r.jsx("div",{className:"text-xs text-gray-500",children:E.hubId?`Hub ${E.hubId.split("_")[1]}`:`Store ${E.storeId?.split("_")[1]}`})]})]})}),r.jsx(Zr,{children:r.jsx(Xe,{variant:E.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:E.isActive?"Active":"Inactive"})}),r.jsx(Zr,{children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx("button",{onClick:()=>t?.(E),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"View Details",children:r.jsx(Fr,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>s?.(E),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Edit",children:r.jsx(ss,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>a?.(E),className:"p-2 hover:bg-red-50 rounded-lg transition-colors text-red-600",title:"Delete",children:r.jsx(Ar,{className:"h-4 w-4"})})]})})]},E.id)})})]})}),x.length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Qr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No team members found"}),r.jsx("p",{className:"text-gray-500 mb-4",children:"Try adjusting your search or filters"})]})]}),r.jsx(Dg,{isOpen:m.isOpen,onClose:()=>p({isOpen:!1,actionId:"",actionType:""}),onConfirm:O,title:`Bulk Action: ${m.actionId}`,actionType:m.actionType,selectedCount:v.length,itemName:"team members"})]})}function _Be({onSubmit:e,onCancel:t,initialData:s}){const[a,n]=A.useState({name:s?.name||"",phone:s?.phone||"",email:s?.email||"",address:s?.address||"",vehicleNo:s?.vehicleNo||"",vehicleType:s?.vehicleType||"bike",agentType:s?.agentType||"employee",monthlySalary:s?.monthlySalary||"",drivingLicenseNo:s?.drivingLicenseNo||"",licenseExpiryDate:s?.licenseExpiryDate||"",emergencyContact:s?.emergencyContact||"",emergencyContactName:s?.emergencyContactName||""}),[i,l]=A.useState(null),[o,c]=A.useState(null),d=m=>{if(m.preventDefault(),!s&&(!i||!o)){alert("Please upload both Driving License and ID Proof documents");return}e({...a,licenseDoc:i,proofDoc:o})},h=(m,p)=>{if(m.target.files?.[0]){const x=m.target.files[0];if(x.size>5*1024*1024){alert("File size must be less than 5MB"),m.target.value="";return}p==="license"?l(x):c(x)}};return r.jsxs("form",{onSubmit:d,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Personal Information"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Full Name *"}),r.jsx("input",{type:"text",required:!0,value:a.name,onChange:m=>n({...a,name:m.target.value}),className:"w-full px-3 py-2 border rounded-lg",placeholder:"Enter full name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone *"}),r.jsx("input",{type:"tel",required:!0,value:a.phone,onChange:m=>n({...a,phone:m.target.value}),className:"w-full px-3 py-2 border rounded-lg",placeholder:"+91 9876543210"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),r.jsx("input",{type:"email",value:a.email,onChange:m=>n({...a,email:m.target.value}),className:"w-full px-3 py-2 border rounded-lg",placeholder:"agent@example.com"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Address *"}),r.jsx("input",{type:"text",required:!0,value:a.address,onChange:m=>n({...a,address:m.target.value}),className:"w-full px-3 py-2 border rounded-lg",placeholder:"Enter address"})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Agent Type & Compensation"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Agent Type *"}),r.jsxs("select",{required:!0,value:a.agentType,onChange:m=>n({...a,agentType:m.target.value}),className:"w-full px-3 py-2 border rounded-lg",children:[r.jsx("option",{value:"employee",children:"Employee (Fixed Salary)"}),r.jsx("option",{value:"partner",children:"Partner (Per Order)"})]})]}),a.agentType==="employee"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Monthly Salary () *"}),r.jsx("input",{type:"number",required:!0,value:a.monthlySalary,onChange:m=>n({...a,monthlySalary:m.target.value}),className:"w-full px-3 py-2 border rounded-lg",placeholder:"Enter salary"})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Emergency Contact"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Contact Name *"}),r.jsx("input",{type:"text",required:!0,value:a.emergencyContactName,onChange:m=>n({...a,emergencyContactName:m.target.value}),className:"w-full px-3 py-2 border rounded-lg",placeholder:"Emergency contact"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Contact Number *"}),r.jsx("input",{type:"tel",required:!0,value:a.emergencyContact,onChange:m=>n({...a,emergencyContact:m.target.value}),className:"w-full px-3 py-2 border rounded-lg",placeholder:"+91 9876543210"})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Vehicle Information"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Vehicle Number *"}),r.jsx("input",{type:"text",required:!0,value:a.vehicleNo,onChange:m=>n({...a,vehicleNo:m.target.value}),className:"w-full px-3 py-2 border rounded-lg",placeholder:"TN 01 AB 1234"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Vehicle Type *"}),r.jsxs("select",{required:!0,value:a.vehicleType,onChange:m=>n({...a,vehicleType:m.target.value}),className:"w-full px-3 py-2 border rounded-lg",children:[r.jsx("option",{value:"bike",children:"Bike"}),r.jsx("option",{value:"auto",children:"Auto"}),r.jsx("option",{value:"van",children:"Van"})]})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"License Information"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"License Number *"}),r.jsx("input",{type:"text",required:!0,value:a.drivingLicenseNo,onChange:m=>n({...a,drivingLicenseNo:m.target.value}),className:"w-full px-3 py-2 border rounded-lg",placeholder:"DL-1234567890"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Expiry Date *"}),r.jsx("input",{type:"date",required:!0,value:a.licenseExpiryDate,onChange:m=>n({...a,licenseExpiryDate:m.target.value}),className:"w-full px-3 py-2 border rounded-lg"})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Document Uploads"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"License Document *"}),r.jsx("div",{className:`border-2 border-dashed rounded-lg p-4 ${i?"border-green-300 bg-green-50":"border-gray-300"}`,children:i?r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(jo,{className:"h-5 w-5 text-green-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium truncate",children:i.name}),r.jsxs("p",{className:"text-xs text-gray-500",children:[(i.size/1024).toFixed(2)," KB"]})]})]}),r.jsx("button",{type:"button",onClick:()=>l(null),className:"text-red-600",children:r.jsx(Cs,{className:"h-5 w-5"})})]}):r.jsxs("label",{className:"flex flex-col items-center cursor-pointer",children:[r.jsx(jo,{className:"h-8 w-8 text-gray-400 mb-2"}),r.jsx("span",{className:"text-sm",children:"Upload License"}),r.jsx("span",{className:"text-xs text-gray-500",children:"Max 5MB"}),r.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:m=>h(m,"license"),className:"hidden"})]})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"ID Proof *"}),r.jsx("div",{className:`border-2 border-dashed rounded-lg p-4 ${o?"border-green-300 bg-green-50":"border-gray-300"}`,children:o?r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(jo,{className:"h-5 w-5 text-green-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium truncate",children:o.name}),r.jsxs("p",{className:"text-xs text-gray-500",children:[(o.size/1024).toFixed(2)," KB"]})]})]}),r.jsx("button",{type:"button",onClick:()=>c(null),className:"text-red-600",children:r.jsx(Cs,{className:"h-5 w-5"})})]}):r.jsxs("label",{className:"flex flex-col items-center cursor-pointer",children:[r.jsx(jo,{className:"h-8 w-8 text-gray-400 mb-2"}),r.jsx("span",{className:"text-sm",children:"Upload ID Proof"}),r.jsx("span",{className:"text-xs text-gray-500",children:"Max 5MB"}),r.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:m=>h(m,"proof"),className:"hidden"})]})})]})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[r.jsxs(oe,{type:"submit",className:"flex-1",children:[s?"Update":"Create"," Agent"]}),r.jsx(oe,{type:"button",variant:"secondary",onClick:t,className:"flex-1",children:"Cancel"})]})]})}function kBe({agents:e,orders:t,onAssign:s,onCancel:a}){const[n,i]=A.useState(""),[l,o]=A.useState([]),[c,d]=A.useState(""),[h,m]=A.useState(!1),p=j=>{o(S=>S.includes(j)?S.filter(w=>w!==j):[...S,j])},x=()=>{n&&l.length>0&&s(n,l)},v=e.filter(j=>j.status==="available"||j.status==="delivering"),y=A.useMemo(()=>v.find(j=>j.id===n),[n,v]),b=A.useMemo(()=>{if(!y||y.agentType!=="partner")return null;if(h&&c)return{pricePerOrder:c,totalAmount:c*l.length};const j=y.pricePerOrder||50,S=j*l.length;return{pricePerOrder:j,totalAmount:S}},[y,l.length,h,c]);return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Delivery Agent"}),r.jsxs("select",{value:n,onChange:j=>i(j.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[r.jsx("option",{value:"",children:"Choose an agent..."}),v.map(j=>r.jsxs("option",{value:j.id,children:[j.name," - ",j.vehicleType," (",j.currentOrders," orders) - ",j.agentType==="partner"?" Partner":" Employee"]},j.id))]})]}),b&&r.jsx(he,{className:"p-4 bg-orange-50 border-orange-200",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Partner Pricing"}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:h,onChange:j=>{m(j.target.checked),j.target.checked||d("")},className:"rounded"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Manual Entry"})]})]}),h?r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Price per Order"}),r.jsx("input",{type:"number",min:"0",step:"0.01",value:c,onChange:j=>d(j.target.value?parseFloat(j.target.value):""),placeholder:"Enter price per order",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"}),c&&l.length>0&&r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-sm text-gray-600",children:["",c,"  ",l.length," orders"]}),r.jsxs("div",{className:"text-lg text-orange-600 font-bold",children:["Total: ",b.totalAmount]})]})]}):r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Auto-calculated:"}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-gray-600",children:["",b.pricePerOrder,"  ",l.length," orders"]}),r.jsxs("div",{className:"text-orange-600 font-semibold",children:["Total: ",b.totalAmount]})]})]})]})}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select Orders (",l.length," selected)"]}),r.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:t.map(j=>r.jsx(he,{className:`p-3 cursor-pointer transition-colors ${l.includes(j.id)?"bg-blue-50 border-blue-300":""}`,onClick:()=>p(j.id),children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"pt-1",children:l.includes(j.id)?r.jsx(lc,{className:"h-5 w-5 text-blue-600"}):r.jsx(oc,{className:"h-5 w-5 text-gray-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("span",{className:"font-semibold text-gray-900",children:j.id}),r.jsxs("span",{className:"text-green-600 font-semibold",children:["",j.orderValue]})]}),r.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(si,{className:"h-4 w-4"}),r.jsx("span",{children:j.customerName})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Vs,{className:"h-4 w-4"}),r.jsx("span",{className:"truncate",children:j.deliveryAddress})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Tr,{className:"h-4 w-4"}),r.jsxs("span",{children:["ETA: ",j.estimatedTime]})]})]})]})]})},j.id))})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[r.jsxs(oe,{onClick:x,disabled:!n||l.length===0,className:"flex-1",children:[r.jsx(Tt,{className:"h-5 w-5 mr-2"}),"Assign ",l.length," Orders"]}),r.jsx(oe,{variant:"secondary",onClick:a,className:"flex-1",children:"Cancel"})]})]})}function ABe({batches:e}){return r.jsxs("div",{className:"space-y-4",children:[e.map(t=>r.jsxs(he,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4 pb-3 border-b",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:t.agentName}),r.jsx(Xe,{variant:t.agentType==="employee"?"bg-purple-100 text-purple-800":"bg-orange-100 text-orange-800",children:t.agentType==="employee"?" Employee":" Partner"})]}),r.jsx("p",{className:"text-sm text-gray-600",children:t.agentPhone})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Order Value"}),r.jsxs("p",{className:"text-lg font-bold text-green-600",children:["",t.totalValue.toLocaleString()]}),t.agentType==="partner"&&t.partnerPricing&&r.jsxs("div",{className:"mt-2 pt-2 border-t",children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Delivery Charges"}),r.jsxs("p",{className:"text-sm font-semibold text-orange-600",children:["",t.partnerPricing.totalAmount.toLocaleString()]}),r.jsxs("p",{className:"text-xs text-gray-500",children:["(",t.partnerPricing.pricePerOrder,"  ",t.orders.length," orders)"]}),r.jsx(Xe,{variant:t.partnerPricing.paymentStatus==="paid"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800",className:"mt-1",children:t.partnerPricing.paymentStatus==="paid"?" Paid":" Pending"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[t.orders.length," Orders"]}),r.jsxs("span",{className:"text-xs text-gray-500",children:["Assigned: ",t.assignedAt]})]}),t.orders.map(s=>r.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"font-medium text-gray-900",children:s.id}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Xe,{variant:"bg-blue-100 text-blue-800",children:s.status}),r.jsxs("span",{className:"text-green-600 font-semibold",children:["",s.orderValue]})]})]}),r.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(si,{className:"h-4 w-4"}),r.jsx("span",{children:s.customerName})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Vs,{className:"h-4 w-4"}),r.jsx("span",{className:"truncate",children:s.deliveryAddress})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Tr,{className:"h-4 w-4"}),r.jsxs("span",{children:["ETA: ",s.estimatedTime]})]})]})]},s.id))]})]},t.id)),e.length===0&&r.jsxs(he,{className:"p-12 text-center",children:[r.jsx(Tt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No batch assignments"}),r.jsx("p",{className:"text-gray-500",children:"Assign orders to delivery agents to see them here"})]})]})}const CBe=[{id:"1",senderId:"admin-1",senderName:"Admin",senderType:"admin",message:"Hi, are you available for deliveries today?",timestamp:"10:30 AM",read:!0},{id:"2",senderId:"agent-1",senderName:"Murugan K",senderType:"agent",message:"Yes sir, I am ready",timestamp:"10:32 AM",read:!0},{id:"3",senderId:"admin-1",senderName:"Admin",senderType:"admin",message:"Great! I have assigned 3 orders to you. Check the batch orders section.",timestamp:"10:35 AM",read:!0},{id:"4",senderId:"agent-1",senderName:"Murugan K",senderType:"agent",message:"Received. Starting delivery now.",timestamp:"10:40 AM",read:!0}];function TBe({agentName:e,onClose:t}){const[s,a]=A.useState(CBe),[n,i]=A.useState(""),l=A.useRef(null),o=()=>{l.current?.scrollIntoView({behavior:"smooth"})};A.useEffect(()=>{o()},[s]);const c=()=>{if(!n.trim())return;const d={id:Date.now().toString(),senderId:"admin-1",senderName:"Admin",senderType:"admin",message:n,timestamp:new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),read:!1};a([...s,d]),i("")};return r.jsxs("div",{className:"flex flex-col h-[600px]",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-blue-50",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-10 w-10 bg-blue-600 rounded-full flex items-center justify-center text-white font-bold",children:e.charAt(0)}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:e}),r.jsx("p",{className:"text-xs text-green-600",children:" Online"})]})]}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-200 rounded-lg",children:r.jsx(Cs,{className:"h-5 w-5"})})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 bg-gray-50",children:[s.map(d=>r.jsx("div",{className:`flex ${d.senderType==="admin"?"justify-end":"justify-start"}`,children:r.jsxs("div",{className:`max-w-[70%] rounded-lg p-3 ${d.senderType==="admin"?"bg-blue-600 text-white":"bg-white text-gray-900 border"}`,children:[r.jsx("p",{className:"text-sm",children:d.message}),r.jsx("p",{className:`text-xs mt-1 ${d.senderType==="admin"?"text-blue-100":"text-gray-500"}`,children:d.timestamp})]})},d.id)),r.jsx("div",{ref:l})]}),r.jsx("div",{className:"p-4 border-t bg-white",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx(de,{value:n,onChange:d=>i(d.target.value),placeholder:"Type a message...",onKeyPress:d=>d.key==="Enter"&&c(),className:"flex-1"}),r.jsx(oe,{onClick:c,disabled:!n.trim(),children:r.jsx(jb,{className:"h-4 w-4"})})]})})]})}const EBe=[{id:"1",name:"Karthik Raja",email:"karthik@admin.com",phone:"+91 9876543210",department:"Operations",role:"hub_main_admin",hubId:"hub_1",moduleType:"hub",isActive:!0},{id:"2",name:"Priya Lakshmi",email:"priya@admin.com",phone:"+91 9876543211",department:"Procurement",role:"hub_procurement",hubId:"hub_1",moduleType:"hub",isActive:!0},{id:"3",name:"Ravi Kumar",email:"ravi@admin.com",phone:"+91 9876543212",department:"Packing",role:"hub_packing",hubId:"hub_1",moduleType:"hub",isActive:!0},{id:"4",name:"Suresh M",email:"suresh@admin.com",phone:"+91 9876543213",department:"Delivery",role:"hub_delivery",hubId:"hub_1",moduleType:"hub",isActive:!0},{id:"5",name:"Anitha S",email:"anitha@admin.com",phone:"+91 9876543214",department:"Operations",role:"store_main_admin",storeId:"store_1",moduleType:"store",isActive:!1},{id:"6",name:"Muthu Kumar",email:"muthu@admin.com",phone:"+91 9876543215",department:"Procurement",role:"store_procurement",storeId:"store_1",moduleType:"store",isActive:!0},{id:"7",name:"Divya R",email:"divya@admin.com",phone:"+91 9876543216",department:"Packing",role:"store_packing",storeId:"store_2",moduleType:"store",isActive:!0}],uU=[{id:"1",name:"Rajesh Kumar",email:"rajesh@email.com",phone:"+91 9876543220",totalOrders:45,totalSpent:28500,walletBalance:250,membershipPlan:"Premium",isActive:!0,createdAt:"2023-06-15"},{id:"2",name:"Priya Sharma",email:"priya.s@email.com",phone:"+91 9876543221",totalOrders:23,totalSpent:15200,walletBalance:100,isActive:!0,createdAt:"2023-08-20"},{id:"3",name:"Arun Patel",email:"arun.p@email.com",phone:"+91 9876543222",totalOrders:12,totalSpent:8900,walletBalance:0,isActive:!0,createdAt:"2023-10-05"},{id:"4",name:"Lakshmi Devi",email:"lakshmi@email.com",phone:"+91 9876543223",totalOrders:67,totalSpent:42e3,walletBalance:500,membershipPlan:"Premium",isActive:!0,createdAt:"2023-03-10"}],Ck={1:[{id:"ORD-2024-045",date:"2024-02-10",items:8,amount:1250,status:"delivered",paymentMethod:"UPI"},{id:"ORD-2024-038",date:"2024-02-08",items:5,amount:850,status:"delivered",paymentMethod:"Card"},{id:"ORD-2024-029",date:"2024-02-05",items:12,amount:1890,status:"delivered",paymentMethod:"Wallet"},{id:"ORD-2024-018",date:"2024-02-01",items:6,amount:720,status:"cancelled",paymentMethod:"UPI"},{id:"ORD-2024-012",date:"2024-01-28",items:10,amount:1450,status:"delivered",paymentMethod:"Cash"}],2:[{id:"ORD-2024-042",date:"2024-02-09",items:7,amount:980,status:"delivered",paymentMethod:"Card"},{id:"ORD-2024-035",date:"2024-02-06",items:4,amount:650,status:"delivered",paymentMethod:"UPI"},{id:"ORD-2024-025",date:"2024-02-03",items:9,amount:1320,status:"in_transit",paymentMethod:"Wallet"}],3:[{id:"ORD-2024-040",date:"2024-02-09",items:5,amount:750,status:"delivered",paymentMethod:"UPI"},{id:"ORD-2024-030",date:"2024-02-05",items:3,amount:420,status:"delivered",paymentMethod:"Cash"}],4:[{id:"ORD-2024-046",date:"2024-02-11",items:15,amount:2100,status:"processing",paymentMethod:"Card"},{id:"ORD-2024-044",date:"2024-02-10",items:8,amount:1150,status:"delivered",paymentMethod:"UPI"},{id:"ORD-2024-041",date:"2024-02-09",items:11,amount:1680,status:"delivered",paymentMethod:"Wallet"},{id:"ORD-2024-036",date:"2024-02-07",items:6,amount:890,status:"delivered",paymentMethod:"Card"}]},hU=[{id:"1",name:"Murugan K",phone:"+91 9876543230",vehicleNo:"TN 01 AB 1234",vehicleType:"bike",agentType:"employee",monthlySalary:18e3,rating:4.8,deliveries:234,isActive:!0,status:"delivering",currentOrders:3,moduleType:"hub",hubId:"hub_1",currentOrder:null},{id:"2",name:"Senthil R",phone:"+91 9876543231",vehicleNo:"TN 01 CD 5678",vehicleType:"auto",agentType:"partner",pricePerOrder:50,rating:4.6,deliveries:189,isActive:!0,status:"available",currentOrders:0,moduleType:"hub",hubId:"hub_1",currentOrder:null},{id:"3",name:"Vijay M",phone:"+91 9876543232",vehicleNo:"TN 01 EF 9012",vehicleType:"van",agentType:"partner",pricePerOrder:75,rating:4.9,deliveries:312,isActive:!0,status:"delivering",currentOrders:2,moduleType:"store",storeId:"store_1",currentOrder:null},{id:"4",name:"Kumar S",phone:"+91 9876543233",vehicleNo:"TN 01 GH 3456",vehicleType:"bike",agentType:"employee",monthlySalary:16e3,rating:4.7,deliveries:156,isActive:!0,status:"available",currentOrders:0,moduleType:"store",storeId:"store_1",currentOrder:null},{id:"5",name:"Arjun P",phone:"+91 9876543234",vehicleNo:"TN 01 IJ 7890",vehicleType:"auto",agentType:"partner",pricePerOrder:60,rating:4.5,deliveries:98,isActive:!0,status:"delivering",currentOrders:1,moduleType:"store",storeId:"store_2",currentOrder:null},{id:"6",name:"Ravi T",phone:"+91 9876543235",vehicleNo:"TN 01 KL 2345",vehicleType:"bike",agentType:"employee",monthlySalary:15e3,rating:4.3,deliveries:67,isActive:!0,status:"available",currentOrders:0,moduleType:"hub",hubId:"hub_1",currentOrder:null},{id:"7",name:"Mani M",phone:"+91 9876543236",vehicleNo:"TN 01 MN 6789",vehicleType:"van",agentType:"employee",monthlySalary:2e4,rating:4.4,deliveries:145,isActive:!1,status:"offline",currentOrders:0,moduleType:"store",storeId:"store_1",currentOrder:null}],fU=[{id:"BATCH-001",agentName:"Murugan K",agentPhone:"+91 9876543230",agentType:"employee",assignedAt:"Today, 10:30 AM",totalValue:2700,orders:[{id:"ORD-091",customerName:"Amit Singh",deliveryAddress:"12 MG Road, Chennai",orderValue:900,estimatedTime:"11:00 AM",status:"delivered"},{id:"ORD-092",customerName:"Neha Gupta",deliveryAddress:"45 Park Street, Chennai",orderValue:1200,estimatedTime:"11:30 AM",status:"in_transit"},{id:"ORD-093",customerName:"Ravi Kumar",deliveryAddress:"78 Lake View, Chennai",orderValue:600,estimatedTime:"12:00 PM",status:"assigned"}]},{id:"BATCH-002",agentName:"Vijay M",agentPhone:"+91 9876543232",agentType:"partner",assignedAt:"Today, 11:00 AM",totalValue:3200,partnerPricing:{pricePerOrder:75,totalAmount:150,paymentStatus:"pending"},orders:[{id:"ORD-094",customerName:"Priya Sharma",deliveryAddress:"23 Anna Nagar, Chennai",orderValue:1500,estimatedTime:"11:30 AM",status:"in_transit"},{id:"ORD-095",customerName:"Karthik Raja",deliveryAddress:"67 T Nagar, Chennai",orderValue:1700,estimatedTime:"12:00 PM",status:"assigned"}]},{id:"BATCH-003",agentName:"Senthil R",agentPhone:"+91 9876543231",agentType:"partner",assignedAt:"Today, 9:15 AM",totalValue:4100,partnerPricing:{pricePerOrder:50,totalAmount:200,paymentStatus:"paid"},orders:[{id:"ORD-088",customerName:"Lakshmi Devi",deliveryAddress:"89 Velachery, Chennai",orderValue:1450,estimatedTime:"10:00 AM",status:"delivered"},{id:"ORD-089",customerName:"Rajesh Kumar",deliveryAddress:"34 Adyar, Chennai",orderValue:1350,estimatedTime:"10:30 AM",status:"delivered"},{id:"ORD-090",customerName:"Anitha S",deliveryAddress:"56 Mylapore, Chennai",orderValue:800,estimatedTime:"11:00 AM",status:"delivered"},{id:"ORD-096",customerName:"Suresh M",deliveryAddress:"12 Nungambakkam, Chennai",orderValue:500,estimatedTime:"11:30 AM",status:"delivered"}]}];function rj(){const{user:e}=es(),[t,s]=A.useState("team"),[a,n]=A.useState(""),[i,l]=A.useState(""),[o,c]=A.useState("all"),[d,h]=A.useState(!1),[m,p]=A.useState(!1),[x,v]=A.useState(!1),[y,b]=A.useState(!1),[j,S]=A.useState(null),[w,k]=A.useState(null),[_,O]=A.useState(null),[E,F]=A.useState(!1),[I,U]=A.useState(!1),[M,L]=A.useState(!1),[J,K]=A.useState(!1),[ae,V]=A.useState({name:"",email:"",phone:"",department:"",role:"",moduleType:"",location:""}),re=og(EBe,e),X=og(hU,e),Z=[{id:"team",label:"Team Members",icon:Qr,count:re.length},{id:"customers",label:"Customers",icon:cD,count:uU.length},{id:"delivery",label:"Delivery Agents",icon:Mr,count:X.length}],ye=Re=>{switch(Re){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},te=Re=>Re.includes("admin")?sl:Re.includes("procurement")||Re.includes("packing")?Tt:Re.includes("delivery")?Mr:Qr,D=Re=>{switch(Re){case"delivering":return"bg-blue-100 text-blue-800";case"available":return"bg-green-100 text-green-800";case"returning":return"bg-yellow-100 text-yellow-800";case"offline":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},H=Re=>{switch(Re){case"delivering":return Mr;case"available":return Qr;case"returning":return RS;case"offline":return Tr;default:return Tr}},q=Re=>{Re.preventDefault(),console.log("Adding member:",ae),h(!1),V({name:"",email:"",phone:"",department:"",role:"",moduleType:"",location:""})},W=Re=>{S(Re),p(!0)},G=Re=>{S(Re),v(!0)},fe=Re=>{k(Re),p(!0)},Se=Re=>{k(Re),v(!0)},se=Re=>{O(Re),p(!0)},ge=Re=>{O(Re),v(!0)},Be=Re=>{confirm("Are you sure you want to delete this team member?")&&console.log("Delete member:",Re)},ee=async(Re,Ge,qt)=>{try{switch(Re){case"activate":console.log(`Activating ${Ge.length} team members:`,Ge);break;case"deactivate":console.log(`Deactivating ${Ge.length} team members:`,Ge);break;case"delete":console.log(`Deleting ${Ge.length} team members:`,Ge);break;default:console.log(`Bulk action ${Re} performed on ${Ge.length} team members`,qt)}}catch(we){console.error("Team bulk action failed:",we),alert("Bulk action failed. Please try again.")}},at=Re=>{O(Re),F(!0)},nt=Re=>{O(Re),U(!0)},xe=Re=>{Re.currentOrder&&Re.currentOrder.customerPhone&&window.open(`tel:${Re.currentOrder.customerPhone}`,"_self")},ot=Re=>{O(Re),L(!0)},ut=Re=>{k(Re),K(!0)};return r.jsxs("div",{className:"space-y-4 sm:space-y-6 p-4 sm:p-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-bold truncate",children:e?.loginType==="hub"?"Hub Team & User Management":e?.loginType==="store"?"Store Team & User Management":"Team & User Management"}),r.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1",children:e?.loginType==="hub"?"Manage hub team members, customers, and delivery agents":e?.loginType==="store"?"Manage store team members, customers, and delivery agents":"Manage team members, customers, and delivery agents"})]}),r.jsxs(oe,{onClick:()=>h(!0),className:"w-full sm:w-auto flex-shrink-0",children:[r.jsx(dr,{className:"mr-2 h-5 w-5"}),r.jsxs("span",{className:"hidden sm:inline",children:["Add ",t==="team"?"Team Member":t==="customers"?"Customer":"Delivery Agent"]}),r.jsxs("span",{className:"sm:hidden",children:["Add ",t==="team"?"Member":t==="customers"?"Customer":"Agent"]})]})]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:Z.map(Re=>{const Ge=Re.icon;return r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 truncate",children:Re.label}),r.jsx("p",{className:"text-xl sm:text-2xl font-bold",children:Re.count})]}),r.jsx("div",{className:"p-2 sm:p-3 bg-blue-100 rounded-lg flex-shrink-0",children:r.jsx(Ge,{className:"h-5 w-5 sm:h-6 sm:w-6 text-blue-600"})})]})},Re.id)})}),r.jsx("div",{className:"flex gap-1 sm:gap-2 border-b overflow-x-auto",children:Z.map(Re=>r.jsxs("button",{onClick:()=>s(Re.id),className:`flex items-center gap-1 sm:gap-2 px-3 sm:px-4 py-2 sm:py-3 border-b-2 transition-colors whitespace-nowrap text-xs sm:text-sm ${t===Re.id?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[r.jsx(Re.icon,{className:"h-3 w-3 sm:h-4 sm:w-4"}),r.jsx("span",{className:"hidden sm:inline",children:Re.label}),r.jsx("span",{className:"sm:hidden",children:Re.label.split(" ")[0]}),r.jsx(Xe,{variant:"bg-gray-100 text-gray-600",className:"text-xs",children:Re.count})]},Re.id))}),t!=="team"&&r.jsx(he,{className:"p-4 sm:p-6",children:r.jsxs("div",{className:"flex flex-col lg:flex-row items-stretch lg:items-center gap-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Bi,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),r.jsx(de,{placeholder:"Search...",value:a,onChange:Re=>n(Re.target.value),className:"pl-10 text-sm"})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[r.jsx(Ut,{value:i,onChange:Re=>l(Re.target.value),options:[{value:"",label:"All Status"},{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}],className:"text-sm"}),t==="delivery"&&r.jsx(Ut,{value:o,onChange:Re=>c(Re.target.value),options:[{value:"all",label:"All Agents"},{value:"available",label:"Available"},{value:"delivering",label:"Delivering"},{value:"offline",label:"Offline"}],className:"text-sm"})]})]})}),t==="team"&&r.jsx(SBe,{members:re,onView:W,onEdit:G,onDelete:Re=>Be(Re.id),onBulkAction:ee}),t==="customers"&&r.jsx(he,{className:"p-0 overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(Rg,{children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx(Xr,{children:"Name"}),r.jsx(Xr,{children:"Email"}),r.jsx(Xr,{children:"Phone"}),r.jsx(Xr,{children:"Orders"}),r.jsx(Xr,{children:"Total Spent"}),r.jsx(Xr,{children:"Wallet"}),r.jsx(Xr,{children:"Membership"}),r.jsx(Xr,{children:"Status"}),r.jsx(Xr,{children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:uU.map(Re=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx(Zr,{children:r.jsx("span",{className:"font-medium",children:Re.name})}),r.jsx(Zr,{children:Re.email}),r.jsx(Zr,{children:Re.phone}),r.jsx(Zr,{children:Re.totalOrders}),r.jsxs(Zr,{children:["",Re.totalSpent.toLocaleString()]}),r.jsxs(Zr,{children:["",Re.walletBalance]}),r.jsx(Zr,{children:Re.membershipPlan?r.jsx(Xe,{variant:"bg-yellow-100 text-yellow-800",children:Re.membershipPlan}):"-"}),r.jsx(Zr,{children:r.jsx(Xe,{variant:ye(Re.isActive?"active":"inactive"),children:Re.isActive?"Active":"Inactive"})}),r.jsx(Zr,{children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>ut(Re),className:"p-1 hover:bg-blue-50 rounded text-blue-600",title:"Order History",children:r.jsx(My,{className:"h-5 w-5"})}),r.jsx("button",{onClick:()=>fe(Re),className:"p-1 hover:bg-gray-100 rounded",title:"View Details",children:r.jsx(Fr,{className:"h-5 w-5"})}),r.jsx("button",{onClick:()=>Se(Re),className:"p-1 hover:bg-gray-100 rounded",title:"Edit",children:r.jsx(ss,{className:"h-5 w-5"})})]})})]},Re.id))})]})})}),t==="delivery"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:r.jsx(Mr,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Agents"}),r.jsx("p",{className:"text-xl font-bold",children:hU.length})]})]})}),r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:r.jsx(Qr,{className:"h-5 w-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Available"}),r.jsx("p",{className:"text-xl font-bold",children:X.filter(Re=>Re.status==="available").length})]})]})}),r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:r.jsx(RS,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"On Delivery"}),r.jsx("p",{className:"text-xl font-bold",children:X.filter(Re=>Re.status==="delivering").length})]})]})}),r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:r.jsx(Tr,{className:"h-5 w-5 text-yellow-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Active Orders"}),r.jsx("p",{className:"text-xl font-bold",children:X.filter(Re=>Re.status==="delivering").length})]})]})})]}),r.jsxs("div",{className:"flex gap-2 border-b overflow-x-auto",children:[[{id:"all",label:"All Agents",count:X.length},{id:"available",label:"Available",count:X.filter(Re=>Re.status==="available").length},{id:"delivering",label:"On Delivery",count:X.filter(Re=>Re.status==="delivering").length},{id:"offline",label:"Offline",count:X.filter(Re=>Re.status==="offline").length},{id:"batches",label:"Batch Orders",count:fU.length}].map(Re=>r.jsxs("button",{onClick:()=>c(Re.id),className:`flex items-center gap-2 px-4 py-3 border-b-2 transition-colors whitespace-nowrap ${o===Re.id?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[Re.label,r.jsx(Xe,{variant:"bg-gray-100 text-gray-600",children:Re.count})]},Re.id)),o!=="batches"&&r.jsxs(oe,{onClick:()=>b(!0),size:"sm",className:"ml-auto",children:[r.jsx(Tt,{className:"h-4 w-4 mr-2"}),"Assign Batch"]})]}),o==="batches"&&r.jsx(ABe,{batches:fU}),o!=="batches"&&r.jsx("div",{className:"space-y-4",children:(()=>{let Re=X;return o==="available"?Re=X.filter(Ge=>Ge.status==="available"):o==="delivering"?Re=X.filter(Ge=>Ge.status==="delivering"):o==="offline"&&(Re=X.filter(Ge=>Ge.status==="offline")),a&&(Re=Re.filter(Ge=>Ge.name.toLowerCase().includes(a.toLowerCase())||Ge.phone.includes(a)||Ge.vehicleNo.toLowerCase().includes(a.toLowerCase()))),Re.map(Ge=>{const qt=H(Ge.status),we=Ge.currentOrder!==null;return r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"h-12 w-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold flex-shrink-0",children:Ge.name.charAt(0)}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[r.jsx("h3",{className:"font-semibold text-base",children:Ge.name}),r.jsxs(Xe,{variant:D(Ge.status),className:"flex items-center gap-1 text-xs",children:[r.jsx(qt,{className:"h-3 w-3"}),Ge.status.charAt(0).toUpperCase()+Ge.status.slice(1)]}),r.jsx(Xe,{variant:Ge.agentType==="employee"?"bg-purple-100 text-purple-800":"bg-orange-100 text-orange-800",children:Ge.agentType==="employee"?" Employee":" Partner"}),we&&r.jsxs(Xe,{variant:"bg-blue-100 text-blue-800",children:[Ge.currentOrders||1," active"]})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 flex-wrap",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Yc,{className:"h-3 w-3"}),Ge.phone]}),r.jsxs("span",{className:"flex items-center gap-1 font-mono",children:[r.jsx(Mr,{className:"h-3 w-3"}),Ge.vehicleNo]}),r.jsxs("span",{className:"flex items-center gap-1",children:[" ",Ge.rating," (",Ge.deliveries," deliveries)"]})]})]}),r.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[r.jsx("button",{onClick:()=>ot(Ge),className:"p-2 hover:bg-blue-50 rounded-lg transition-colors",title:"Chat",children:r.jsx(K6,{className:"h-5 w-5 text-blue-600"})}),r.jsx("button",{onClick:()=>se(Ge),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"View Details",children:r.jsx(Fr,{className:"h-5 w-5 text-gray-600"})}),r.jsx("button",{onClick:()=>ge(Ge),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Edit",children:r.jsx(ss,{className:"h-5 w-5 text-gray-600"})})]})]})},Ge.id)})})()})]}),r.jsx(ir,{isOpen:d,onClose:()=>h(!1),title:`Add ${t==="team"?"Team Member":t==="customers"?"Customer":"Delivery Agent"}`,size:t==="delivery"?"xl":"md",children:t==="delivery"?r.jsx(_Be,{onSubmit:Re=>{console.log("Adding delivery agent:",Re),h(!1)},onCancel:()=>h(!1)}):r.jsxs("form",{onSubmit:q,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(de,{label:"Full Name",placeholder:"Enter full name",value:ae.name,onChange:Re=>V({...ae,name:Re.target.value}),required:!0}),r.jsx(de,{label:"Email",type:"email",placeholder:"email@example.com",value:ae.email,onChange:Re=>V({...ae,email:Re.target.value}),required:!0})]}),r.jsx(de,{label:"Phone",placeholder:"+91 9876543210",value:ae.phone,onChange:Re=>V({...ae,phone:Re.target.value}),required:!0}),t==="team"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(Ut,{label:"Module Type",value:ae.moduleType,onChange:Re=>V({...ae,moduleType:Re.target.value}),options:[{value:"",label:"Select Module"},...e?.loginType==="super_admin"?[{value:"hub",label:"Hub (Central Warehouse)"},{value:"store",label:"Store (Retail Location)"}]:e?.loginType==="hub"?[{value:"hub",label:"Hub (Central Warehouse)"}]:e?.loginType==="store"?[{value:"store",label:"Store (Retail Location)"}]:[]],required:!0}),r.jsx(Ut,{label:"Department",value:ae.department,onChange:Re=>V({...ae,department:Re.target.value}),options:[{value:"",label:"Select Department"},{value:"Operations",label:"Operations"},{value:"Procurement",label:"Procurement"},{value:"Packing",label:"Packing"},{value:"Delivery",label:"Delivery"}],required:!0})]}),r.jsx(Ut,{label:"Role",value:ae.role,onChange:Re=>V({...ae,role:Re.target.value}),options:[{value:"",label:"Select Role"},...ae.moduleType==="hub"?[{value:"hub_main_admin",label:"Hub Main Admin"},{value:"hub_procurement",label:"Hub Procurement"},{value:"hub_packing",label:"Hub Packing Staff"},{value:"hub_delivery",label:"Hub Delivery Agent"}]:ae.moduleType==="store"?[{value:"store_main_admin",label:"Store Main Admin"},{value:"store_procurement",label:"Store Procurement"},{value:"store_packing",label:"Store Packing Staff"},{value:"store_delivery",label:"Store Delivery Agent"}]:[]],required:!0}),r.jsx(Ut,{label:"Assign Location",value:ae.location,onChange:Re=>V({...ae,location:Re.target.value}),options:[{value:"",label:"Select Location"},...ae.moduleType==="hub"||e?.loginType==="hub"&&!ae.moduleType?[{value:"hub_1",label:"Central Hub - Chennai"},{value:"hub_2",label:"Secondary Hub - Coimbatore"}]:[],...ae.moduleType==="store"||e?.loginType==="store"&&!ae.moduleType?[{value:"store_1",label:"Store - Anna Nagar"},{value:"store_2",label:"Store - T. Nagar"},{value:"store_3",label:"Store - Velachery"}]:[]],required:!0}),r.jsxs("div",{className:"border-t pt-4 mt-4",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Password Setup"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(de,{label:"Password",type:"password",placeholder:"Enter password",required:!0}),r.jsx(de,{label:"Confirm Password",type:"password",placeholder:"Confirm password",required:!0})]})]})]}),t==="customers"&&r.jsxs(r.Fragment,{children:[r.jsx(de,{label:"Secondary Phone (Optional)",placeholder:"+91 9876543210"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(de,{label:"Wallet Balance",type:"number",placeholder:"0",defaultValue:"0"}),r.jsx(Ut,{label:"Membership Plan",options:[{value:"",label:"No Membership"},{value:"Premium",label:"Premium"},{value:"Gold",label:"Gold"},{value:"Silver",label:"Silver"}]})]}),r.jsxs("div",{className:"border-t pt-4 mt-4",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Default Address"}),r.jsx(de,{label:"Address Line 1",placeholder:"Street address, building name",required:!0}),r.jsx(de,{label:"Address Line 2 (Optional)",placeholder:"Apartment, suite, floor",className:"mt-3"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-3",children:[r.jsx(de,{label:"City",placeholder:"City",required:!0}),r.jsx(de,{label:"State",placeholder:"State",required:!0}),r.jsx(de,{label:"Pincode",placeholder:"600001",required:!0})]}),r.jsx(Ut,{label:"Address Type",options:[{value:"home",label:"Home"},{value:"work",label:"Work"},{value:"other",label:"Other"}],defaultValue:"home",className:"mt-3",required:!0})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded border-gray-300"}),r.jsx("span",{className:"text-sm",children:"Active Customer"})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[r.jsx(oe,{type:"button",variant:"secondary",onClick:()=>h(!1),className:"flex-1",children:"Cancel"}),r.jsxs(oe,{type:"submit",className:"flex-1",children:["Add ",t==="team"?"Team Member":t==="customers"?"Customer":"Delivery Agent"]})]})]})}),r.jsxs(ir,{isOpen:m,onClose:()=>{p(!1),S(null),k(null),O(null)},title:`${t==="team"?"Team Member":t==="customers"?"Customer":"Delivery Agent"} Details`,size:"lg",children:[j&&t==="team"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-4 bg-blue-100 rounded-full",children:(()=>{const Re=te(j.role);return r.jsx(Re,{className:"h-8 w-8 text-blue-600"})})()}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:j.name}),r.jsx("p",{className:"text-gray-600",children:j.department}),r.jsx(Xe,{variant:j.isActive?"success":"secondary",children:j.isActive?"Active":"Inactive"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Contact Information"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Email:"}),r.jsx("span",{children:j.email})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Phone:"}),r.jsx("span",{children:j.phone})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Role & Assignment"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Role:"}),r.jsx(Xe,{variant:"info",children:j.role.replace(/_/g," ").replace(/\b\w/g,Re=>Re.toUpperCase())})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Module:"}),r.jsx("span",{className:"capitalize",children:j.moduleType})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Location:"}),r.jsx("span",{children:j.hubId?`Hub ${j.hubId.split("_")[1]}`:`Store ${j.storeId?.split("_")[1]}`})]})]})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[r.jsx(oe,{variant:"secondary",onClick:()=>{p(!1),S(null)},className:"flex-1",children:"Close"}),r.jsx(oe,{onClick:()=>{p(!1),G(j)},className:"flex-1",children:"Edit Member"})]})]}),w&&t==="customers"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-4 bg-green-100 rounded-full",children:r.jsx(cD,{className:"h-8 w-8 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:w.name}),r.jsx("p",{className:"text-gray-600",children:w.email}),r.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[r.jsx(Xe,{variant:w.isActive?"success":"secondary",children:w.isActive?"Active":"Inactive"}),w.membershipPlan&&r.jsx(Xe,{variant:"warning",children:w.membershipPlan})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Contact Information"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Phone:"}),r.jsx("span",{children:w.phone})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Member Since:"}),r.jsx("span",{children:new Date(w.createdAt).toLocaleDateString()})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Order Statistics"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Total Orders:"}),r.jsx("span",{className:"font-semibold",children:w.totalOrders})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Total Spent:"}),r.jsxs("span",{className:"font-semibold text-green-600",children:["",w.totalSpent.toLocaleString()]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Wallet Balance:"}),r.jsxs("span",{className:"font-semibold text-blue-600",children:["",w.walletBalance]})]})]})]})]}),r.jsxs("div",{className:"border-t pt-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(My,{className:"h-5 w-5 text-gray-700"}),r.jsx("h4",{className:"font-medium text-gray-900",children:"Order History"}),r.jsxs(Xe,{variant:"bg-gray-100 text-gray-600",children:[Ck[w.id]?.length||0," orders"]})]}),r.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:Ck[w.id]?.map(Re=>r.jsxs(he,{className:"p-4 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:r.jsx(Tt,{className:"h-4 w-4 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-900",children:Re.id}),r.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[r.jsx(Jr,{className:"h-3 w-3"}),Re.date]})]})]}),r.jsx(Xe,{variant:Re.status==="delivered"?"bg-green-100 text-green-800":Re.status==="in_transit"?"bg-blue-100 text-blue-800":Re.status==="processing"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",children:Re.status.replace("_"," ").toUpperCase()})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Items:"}),r.jsxs("p",{className:"font-medium",children:[Re.items," items"]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Amount:"}),r.jsxs("p",{className:"font-medium text-green-600",children:["",Re.amount]})]}),r.jsxs("div",{children:[r.jsxs("span",{className:"text-gray-600 flex items-center gap-1",children:[r.jsx(gi,{className:"h-3 w-3"}),"Payment:"]}),r.jsx("p",{className:"font-medium",children:Re.paymentMethod})]})]})]},Re.id))})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[r.jsx(oe,{variant:"secondary",onClick:()=>{p(!1),k(null)},className:"flex-1",children:"Close"}),r.jsx(oe,{onClick:()=>{p(!1),Se(w)},className:"flex-1",children:"Edit Customer"})]})]}),_&&t==="delivery"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-4 bg-orange-100 rounded-full",children:r.jsx(Mr,{className:"h-8 w-8 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:_.name}),r.jsx("p",{className:"text-gray-600 font-mono",children:_.vehicleNo}),r.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[r.jsx(Xe,{variant:D(_.status),children:_.status.charAt(0).toUpperCase()+_.status.slice(1)}),r.jsxs("span",{className:"text-sm text-gray-600",children:[" ",_.rating," Rating"]}),r.jsx("span",{className:"text-sm text-gray-600 capitalize",children:_.vehicleType})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Contact Information"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Phone:"}),r.jsx("span",{children:_.phone})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Vehicle Number:"}),r.jsx("span",{className:"font-mono",children:_.vehicleNo})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Vehicle Type:"}),r.jsx("span",{className:"capitalize",children:_.vehicleType})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Performance"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Total Deliveries:"}),r.jsx("span",{className:"font-semibold",children:_.deliveries})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Rating:"}),r.jsxs("span",{className:"font-semibold text-yellow-600",children:[" ",_.rating]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Status:"}),r.jsx(Xe,{variant:D(_.status),className:"text-xs",children:_.status.charAt(0).toUpperCase()+_.status.slice(1)})]})]})]})]}),_.currentOrder&&r.jsxs("div",{className:"border-t pt-6",children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Current Order Details"}),r.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Order ID:"}),r.jsx("p",{className:"font-medium text-blue-600",children:_.currentOrder.orderId})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Customer Name:"}),r.jsx("p",{className:"font-medium",children:_.currentOrder.customerName})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Customer Phone:"}),r.jsx("p",{className:"font-medium",children:_.currentOrder.customerPhone})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Order Value:"}),r.jsxs("p",{className:"font-medium text-green-600",children:["",_.currentOrder.orderValue]})]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Delivery Address:"}),r.jsx("p",{className:"font-medium text-sm mt-1",children:_.currentOrder.deliveryAddress})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Estimated Time:"}),r.jsx("p",{className:"font-medium text-blue-600",children:_.currentOrder.estimatedTime})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Current Location:"}),r.jsx("p",{className:"font-medium text-sm",children:_.currentOrder.currentLocation})]})]})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[r.jsx(oe,{variant:"secondary",onClick:()=>{p(!1),O(null)},className:"flex-1",children:"Close"}),_.currentOrder&&r.jsx(oe,{onClick:()=>{p(!1),nt(_)},className:"flex-1",children:"Track Live"}),r.jsx(oe,{onClick:()=>{p(!1),ge(_)},className:"flex-1",children:"Edit Agent"})]})]})]}),r.jsxs(ir,{isOpen:x,onClose:()=>{v(!1),S(null),k(null),O(null)},title:`Edit ${t==="team"?"Team Member":t==="customers"?"Customer":"Delivery Agent"}`,size:"lg",children:[j&&t==="team"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(de,{label:"Full Name",defaultValue:j.name,placeholder:"Enter full name"}),r.jsx(de,{label:"Email",type:"email",defaultValue:j.email,placeholder:"email@example.com"})]}),r.jsx(de,{label:"Phone",defaultValue:j.phone,placeholder:"+91 9876543210"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",defaultValue:j.department,children:[r.jsx("option",{value:"Operations",children:"Operations"}),r.jsx("option",{value:"Procurement",children:"Procurement"}),r.jsx("option",{value:"Packing",children:"Packing"}),r.jsx("option",{value:"Delivery",children:"Delivery"})]}),r.jsx("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",defaultValue:j.role,children:r.jsx("option",{value:j.role,children:j.role.replace(/_/g," ").replace(/\b\w/g,Re=>Re.toUpperCase())})})]}),r.jsxs("div",{className:"border-t pt-4 mt-4",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Password Management"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(de,{label:"New Password",type:"password",placeholder:"Enter new password (leave blank to keep current)"}),r.jsx(de,{label:"Confirm Password",type:"password",placeholder:"Confirm new password"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Leave password fields blank if you don't want to change the password"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",defaultChecked:j.isActive,className:"rounded border-gray-300"}),r.jsx("span",{className:"text-sm",children:"Active Member"})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx(oe,{variant:"secondary",onClick:()=>{v(!1),S(null)},className:"flex-1",children:"Cancel"}),r.jsx(oe,{onClick:()=>{console.log("Update member:",j.id),v(!1),S(null)},className:"flex-1",children:"Update Member"})]})]}),w&&t==="customers"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(de,{label:"Full Name",defaultValue:w.name,placeholder:"Enter full name"}),r.jsx(de,{label:"Email",type:"email",defaultValue:w.email,placeholder:"email@example.com"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(de,{label:"Phone",defaultValue:w.phone,placeholder:"+91 9876543210"}),r.jsx(de,{label:"Secondary Phone (Optional)",defaultValue:w.secondaryPhone,placeholder:"+91 9876543210"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(de,{label:"Wallet Balance",type:"number",defaultValue:w.walletBalance,placeholder:"0"}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",defaultValue:w.membershipPlan||"",children:[r.jsx("option",{value:"",children:"No Membership"}),r.jsx("option",{value:"Premium",children:"Premium"}),r.jsx("option",{value:"Gold",children:"Gold"}),r.jsx("option",{value:"Silver",children:"Silver"})]})]}),r.jsxs("div",{className:"border-t pt-4 mt-4",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Default Address"}),r.jsx(de,{label:"Address Line 1",placeholder:"Street address, building name",defaultValue:w.addresses?.[0]?.line1}),r.jsx(de,{label:"Address Line 2 (Optional)",placeholder:"Apartment, suite, floor",defaultValue:w.addresses?.[0]?.line2,className:"mt-3"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-3",children:[r.jsx(de,{label:"City",placeholder:"City",defaultValue:w.addresses?.[0]?.city}),r.jsx(de,{label:"State",placeholder:"State",defaultValue:w.addresses?.[0]?.state}),r.jsx(de,{label:"Pincode",placeholder:"600001",defaultValue:w.addresses?.[0]?.pincode})]}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 mt-3",defaultValue:w.addresses?.[0]?.type||"home",children:[r.jsx("option",{value:"home",children:"Home"}),r.jsx("option",{value:"work",children:"Work"}),r.jsx("option",{value:"other",children:"Other"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",defaultChecked:w.isActive,className:"rounded border-gray-300"}),r.jsx("span",{className:"text-sm",children:"Active Customer"})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx(oe,{variant:"secondary",onClick:()=>{v(!1),k(null)},className:"flex-1",children:"Cancel"}),r.jsx(oe,{onClick:()=>{console.log("Update customer:",w.id),v(!1),k(null)},className:"flex-1",children:"Update Customer"})]})]}),_&&t==="delivery"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(de,{label:"Full Name",defaultValue:_.name,placeholder:"Enter full name"}),r.jsx(de,{label:"Phone",defaultValue:_.phone,placeholder:"+91 9876543210"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(de,{label:"Vehicle Number",defaultValue:_.vehicleNo,placeholder:"TN 01 AB 1234"}),r.jsx(Ut,{label:"Vehicle Type",defaultValue:_.vehicleType||"",options:[{value:"",label:"Select Vehicle Type"},{value:"bike",label:"Motorcycle"},{value:"auto",label:"Auto Rickshaw"},{value:"van",label:"Delivery Van"}]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",defaultValue:_.status,children:[r.jsx("option",{value:"available",children:"Available"}),r.jsx("option",{value:"delivering",children:"Delivering"}),r.jsx("option",{value:"returning",children:"Returning"}),r.jsx("option",{value:"offline",children:"Offline"})]})]}),r.jsxs("div",{className:"flex items-center gap-2 pt-6",children:[r.jsx("input",{type:"checkbox",defaultChecked:_.isActive,className:"rounded border-gray-300"}),r.jsx("span",{className:"text-sm",children:"Active Agent"})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx(oe,{variant:"secondary",onClick:()=>{v(!1),O(null)},className:"flex-1",children:"Cancel"}),r.jsx(oe,{onClick:()=>{console.log("Update agent:",_.id),v(!1),O(null)},className:"flex-1",children:"Update Agent"})]})]})]}),r.jsx(ir,{isOpen:E,onClose:()=>{F(!1),O(null)},title:`Assign Order to ${_?.name}`,children:_&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Agent Information"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Name:"}),r.jsx("p",{className:"font-medium",children:_.name})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Vehicle:"}),r.jsx("p",{className:"font-medium",children:_.vehicleNo})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Phone:"}),r.jsx("p",{className:"font-medium",children:_.phone})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Status:"}),r.jsx(Xe,{variant:D(_.status),className:"text-xs",children:_.status.charAt(0).toUpperCase()+_.status.slice(1)})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Orders"}),r.jsx(de,{placeholder:"Search by Order ID, Customer Name, or Phone..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Order"}),r.jsx(Ut,{options:[{value:"",label:"Select an order to assign"},{value:"ORD-2024-004",label:"ORD-2024-004 - Anand Kumar - 950"},{value:"ORD-2024-005",label:"ORD-2024-005 - Meena R - 1200"},{value:"ORD-2024-006",label:"ORD-2024-006 - Raju S - 750"}]})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx(oe,{variant:"secondary",onClick:()=>{F(!1),O(null)},className:"flex-1",children:"Cancel"}),r.jsx(oe,{onClick:()=>{console.log("Assign order to agent:",_.id),F(!1),O(null)},className:"flex-1",children:"Assign Order"})]})]})}),r.jsx(ir,{isOpen:I,onClose:()=>{U(!1),O(null)},title:`Track ${_?.name}`,size:"lg",children:_&&r.jsx("div",{className:"space-y-6",children:_.currentOrder?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Current Delivery"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Order ID:"}),r.jsx("p",{className:"font-medium text-blue-600",children:_.currentOrder.orderId})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Customer:"}),r.jsx("p",{className:"font-medium",children:_.currentOrder.customerName})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Customer Phone:"}),r.jsx("p",{className:"font-medium",children:_.currentOrder.customerPhone})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Order Value:"}),r.jsxs("p",{className:"font-medium text-green-600",children:["",_.currentOrder.orderValue]})]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Delivery Address:"}),r.jsx("p",{className:"font-medium text-sm mt-1",children:_.currentOrder.deliveryAddress})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Estimated Time:"}),r.jsx("p",{className:"font-medium text-blue-600",children:_.currentOrder.estimatedTime})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Current Location:"}),r.jsx("p",{className:"font-medium text-sm",children:_.currentOrder.currentLocation})]})]})]})]}),r.jsxs("div",{className:"bg-gray-100 rounded-lg p-8 text-center",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-600 rounded-full mb-4",children:r.jsx(RS,{className:"h-8 w-8 text-white"})}),r.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Live Tracking"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Real-time location tracking would be displayed here"}),r.jsxs("div",{className:"text-sm text-gray-500",children:[r.jsxs("p",{children:[" ",_.currentOrder.currentLocation]}),r.jsxs("p",{children:[" ETA: ",_.currentOrder.estimatedTime]})]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("button",{onClick:()=>xe(_),className:"flex-1 flex items-center justify-center gap-2 p-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[r.jsx(Yc,{className:"h-5 w-5"}),"Call Customer"]}),r.jsx(oe,{variant:"secondary",onClick:()=>{U(!1),O(null)},className:"flex-1",children:"Close Tracking"})]})]}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Tr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"No Active Delivery"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"This agent is currently available for assignments"}),r.jsx(oe,{onClick:()=>{U(!1),at(_)},children:"Assign New Order"})]})})}),r.jsx(ir,{isOpen:y,onClose:()=>b(!1),title:"Assign Batch Orders",size:"xl",children:r.jsx(kBe,{agents:X,orders:[{id:"ORD-101",customerName:"Rajesh Kumar",deliveryAddress:"123 Anna Nagar, Chennai",orderValue:850,estimatedTime:"2:30 PM"},{id:"ORD-102",customerName:"Priya Sharma",deliveryAddress:"456 T Nagar, Chennai",orderValue:1200,estimatedTime:"3:00 PM"},{id:"ORD-103",customerName:"Arun Patel",deliveryAddress:"789 Velachery, Chennai",orderValue:650,estimatedTime:"3:30 PM"}],onAssign:(Re,Ge)=>{console.log("Batch assigned:",{agentId:Re,orderIds:Ge}),b(!1)},onCancel:()=>b(!1)})}),r.jsx(ir,{isOpen:M,onClose:()=>{L(!1),O(null)},title:"Chat with Delivery Agent",size:"lg",children:_&&r.jsx(TBe,{agentId:_.id,agentName:_.name,onClose:()=>{L(!1),O(null)}})}),r.jsx(ir,{isOpen:J,onClose:()=>{K(!1),k(null)},title:w?`Order History - ${w.name}`:"Order History",size:"xl",children:w&&r.jsxs("div",{className:"space-y-4",children:[r.jsx(he,{className:"p-4 bg-gradient-to-r from-blue-50 to-purple-50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-12 w-12 bg-blue-600 rounded-full flex items-center justify-center text-white font-bold",children:w.name.charAt(0)}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:w.name}),r.jsx("p",{className:"text-sm text-gray-600",children:w.email})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Orders"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:w.totalOrders})]})]})}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs(he,{className:"p-4 text-center",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Spent"}),r.jsxs("p",{className:"text-xl font-bold text-green-600",children:["",w.totalSpent.toLocaleString()]})]}),r.jsxs(he,{className:"p-4 text-center",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Wallet Balance"}),r.jsxs("p",{className:"text-xl font-bold text-blue-600",children:["",w.walletBalance]})]}),r.jsxs(he,{className:"p-4 text-center",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Member Since"}),r.jsx("p",{className:"text-sm font-semibold text-gray-900",children:new Date(w.createdAt).toLocaleDateString()})]})]}),r.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto",children:Ck[w.id]?.map(Re=>r.jsxs(he,{className:"p-4 hover:shadow-lg transition-shadow",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:r.jsx(Tt,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-900",children:Re.id}),r.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-1",children:[r.jsx(Jr,{className:"h-3 w-3"}),Re.date]})]})]}),r.jsx(Xe,{variant:Re.status==="delivered"?"bg-green-100 text-green-800":Re.status==="in_transit"?"bg-blue-100 text-blue-800":Re.status==="processing"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",children:Re.status.replace("_"," ").toUpperCase()})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Items:"}),r.jsxs("p",{className:"font-medium",children:[Re.items," items"]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Amount:"}),r.jsxs("p",{className:"font-medium text-green-600",children:["",Re.amount]})]}),r.jsxs("div",{children:[r.jsxs("span",{className:"text-gray-600 flex items-center gap-1",children:[r.jsx(gi,{className:"h-3 w-3"}),"Payment:"]}),r.jsx("p",{className:"font-medium",children:Re.paymentMethod})]})]})]},Re.id))}),r.jsx("div",{className:"flex justify-end pt-4 border-t",children:r.jsx(oe,{variant:"secondary",onClick:()=>{K(!1),k(null)},children:"Close"})})]})})]})}const ay=[{id:"1",name:"procurement",displayName:"Procurement Manager",description:"Manages product sourcing and supplier relationships",moduleType:"both",permissions:["view_products","manage_suppliers","create_purchase_orders","view_inventory"],color:"blue",icon:"package",isActive:!0,usersCount:5},{id:"2",name:"packing",displayName:"Packing Supervisor",description:"Oversees order packing and quality control",moduleType:"both",permissions:["view_orders","manage_packing","quality_control","update_order_status"],color:"green",icon:"package",isActive:!0,usersCount:8},{id:"3",name:"delivery",displayName:"Delivery Coordinator",description:"Manages delivery operations and agent assignments",moduleType:"both",permissions:["view_orders","assign_delivery","track_deliveries","manage_agents"],color:"purple",icon:"truck",isActive:!0,usersCount:12},{id:"4",name:"quality_control",displayName:"Quality Controller",description:"Ensures product quality and compliance standards",moduleType:"hub",permissions:["view_products","quality_inspection","reject_products","generate_reports"],color:"orange",icon:"shield",isActive:!0,usersCount:3}],mU=[{id:"view_products",label:"View Products",category:"Products"},{id:"manage_products",label:"Manage Products",category:"Products"},{id:"view_orders",label:"View Orders",category:"Orders"},{id:"manage_orders",label:"Manage Orders",category:"Orders"},{id:"view_inventory",label:"View Inventory",category:"Inventory"},{id:"manage_inventory",label:"Manage Inventory",category:"Inventory"},{id:"manage_suppliers",label:"Manage Suppliers",category:"Procurement"},{id:"create_purchase_orders",label:"Create Purchase Orders",category:"Procurement"},{id:"manage_packing",label:"Manage Packing",category:"Operations"},{id:"quality_control",label:"Quality Control",category:"Operations"},{id:"assign_delivery",label:"Assign Delivery",category:"Delivery"},{id:"track_deliveries",label:"Track Deliveries",category:"Delivery"},{id:"manage_agents",label:"Manage Agents",category:"Delivery"},{id:"generate_reports",label:"Generate Reports",category:"Reports"},{id:"view_analytics",label:"View Analytics",category:"Reports"}];function Tk(){const{user:e}=es(),[t,s]=A.useState(""),[a,n]=A.useState(""),[i,l]=A.useState(!1),[o,c]=A.useState(!1),[d,h]=A.useState(null),[m,p]=A.useState(null),[x,v]=A.useState({name:"",displayName:"",description:"",moduleType:e?.loginType==="hub"?"hub":e?.loginType==="store"?"store":"both",permissions:[],color:"blue",icon:"users"}),y=F=>{switch(F){case"package":return Tt;case"truck":return Mr;case"shield":return sl;default:return Qr}},b=F=>{switch(F){case"blue":return"bg-blue-100 text-blue-800";case"green":return"bg-green-100 text-green-800";case"purple":return"bg-purple-100 text-purple-800";case"orange":return"bg-orange-100 text-orange-800";case"red":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},j=ay.filter(F=>{const I=F.displayName.toLowerCase().includes(t.toLowerCase())||F.description.toLowerCase().includes(t.toLowerCase()),U=!a||F.moduleType===a||F.moduleType==="both";let M=!0;return e?.loginType==="hub"?M=F.moduleType==="hub"||F.moduleType==="both":e?.loginType==="store"&&(M=F.moduleType==="store"||F.moduleType==="both"),I&&U&&M}),S=F=>{F.preventDefault(),console.log("Adding role:",x),l(!1),v({name:"",displayName:"",description:"",moduleType:"both",permissions:[],color:"blue",icon:"users"})},w=F=>{h(F),v({name:F.name,displayName:F.displayName,description:F.description,moduleType:F.moduleType,permissions:F.permissions,color:F.color,icon:F.icon}),l(!0)},k=F=>{v(I=>({...I,permissions:I.permissions.includes(F)?I.permissions.filter(U=>U!==F):[...I.permissions,F]}))},_=F=>{p(F),c(!0)},O=()=>{if(m){if(m.usersCount>0){alert(`Cannot delete role "${m.displayName}" because it has ${m.usersCount} assigned users. Please reassign or remove users first.`),c(!1),p(null);return}console.log("Delete role:",m.id),c(!1),p(null),alert(`Role "${m.displayName}" has been deleted.`)}},E=mU.reduce((F,I)=>(F[I.category]||(F[I.category]=[]),F[I.category].push(I),F),{});return r.jsxs("div",{className:"space-y-4 sm:space-y-6 p-4 sm:p-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-bold truncate",children:e?.loginType==="hub"?"Hub Custom Roles Management":e?.loginType==="store"?"Store Custom Roles Management":"Custom Roles Management"}),r.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1",children:e?.loginType==="hub"?"Create and customize hub roles with specific permissions":e?.loginType==="store"?"Create and customize store roles with specific permissions":"Create and customize roles with specific permissions"})]}),r.jsxs(oe,{onClick:()=>l(!0),className:"w-full sm:w-auto flex-shrink-0",children:[r.jsx(dr,{className:"mr-2 h-5 w-5"}),r.jsx("span",{className:"hidden sm:inline",children:"Create Role"}),r.jsx("span",{className:"sm:hidden",children:"Create"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-lg flex-shrink-0",children:r.jsx(Qr,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-600"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 truncate",children:"Total Roles"}),r.jsx("p",{className:"text-lg sm:text-xl font-bold",children:ay.length})]})]})}),r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-lg flex-shrink-0",children:r.jsx(sl,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-600"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 truncate",children:"Active Roles"}),r.jsx("p",{className:"text-xl font-bold",children:ay.filter(F=>F.isActive).length})]})]})}),r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:r.jsx(Tt,{className:"h-5 w-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Hub Roles"}),r.jsx("p",{className:"text-xl font-bold",children:ay.filter(F=>F.moduleType==="hub"||F.moduleType==="both").length})]})]})}),r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:r.jsx(Mr,{className:"h-5 w-5 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Users"}),r.jsx("p",{className:"text-xl font-bold",children:ay.reduce((F,I)=>F+I.usersCount,0)})]})]})})]}),r.jsx(he,{className:"p-4 sm:p-6",children:r.jsxs("div",{className:"flex flex-col lg:flex-row items-stretch lg:items-center gap-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Bi,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),r.jsx(de,{placeholder:"Search roles...",value:t,onChange:F=>s(F.target.value),className:"pl-10 text-sm"})]}),r.jsx(Ut,{value:a,onChange:F=>n(F.target.value),options:[{value:"",label:"All Modules"},...e?.loginType==="super_admin"?[{value:"hub",label:"Hub Only"},{value:"store",label:"Store Only"},{value:"both",label:"Both Modules"}]:e?.loginType==="hub"?[{value:"hub",label:"Hub Only"},{value:"both",label:"Hub & Store"}]:e?.loginType==="store"?[{value:"store",label:"Store Only"},{value:"both",label:"Hub & Store"}]:[]]})]})}),r.jsx("div",{className:"space-y-4",children:j.map(F=>{const I=y(F.icon);return r.jsx(he,{className:"p-4 sm:p-6",children:r.jsxs("div",{className:"flex flex-col sm:flex-row items-start justify-between gap-4",children:[r.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[r.jsx("div",{className:`p-3 rounded-lg ${b(F.color)}`,children:r.jsx(I,{className:"h-6 w-6"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("h3",{className:"font-semibold text-lg",children:F.displayName}),r.jsx(Xe,{variant:F.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",children:F.isActive?"Active":"Inactive"}),r.jsx(Xe,{variant:"bg-blue-100 text-blue-800",children:F.moduleType==="both"?"Hub & Store":F.moduleType.charAt(0).toUpperCase()+F.moduleType.slice(1)})]}),r.jsx("p",{className:"text-gray-600 mb-3",children:F.description}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Users:"}),r.jsxs("span",{className:"text-sm text-gray-600",children:[F.usersCount," assigned"]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-gray-700 block mb-2",children:"Permissions:"}),r.jsxs("div",{className:"flex flex-wrap gap-1",children:[F.permissions.slice(0,4).map(U=>{const M=mU.find(L=>L.id===U);return r.jsx(Xe,{variant:"bg-gray-100 text-gray-700 text-xs",children:M?.label},U)}),F.permissions.length>4&&r.jsxs(Xe,{variant:"bg-gray-100 text-gray-700 text-xs",children:["+",F.permissions.length-4," more"]})]})]})]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>w(F),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Edit Role",children:r.jsx(ss,{className:"h-5 w-5"})}),r.jsx("button",{onClick:()=>_(F),className:"p-2 hover:bg-red-50 rounded-lg transition-colors text-red-600",title:"Delete Role",children:r.jsx(Ar,{className:"h-5 w-5"})})]})]})},F.id)})}),r.jsx(ir,{isOpen:i,onClose:()=>{l(!1),h(null)},title:d?"Edit Role":"Create New Role",size:"lg",children:r.jsxs("form",{onSubmit:S,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(de,{label:"Role Name (Internal)",placeholder:"e.g., procurement_manager",value:x.name,onChange:F=>v({...x,name:F.target.value}),required:!0}),r.jsx(de,{label:"Display Name",placeholder:"e.g., Procurement Manager",value:x.displayName,onChange:F=>v({...x,displayName:F.target.value}),required:!0})]}),r.jsx(de,{label:"Description",placeholder:"Brief description of the role responsibilities",value:x.description,onChange:F=>v({...x,description:F.target.value}),required:!0}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(Ut,{label:"Module Type",value:x.moduleType,onChange:F=>v({...x,moduleType:F.target.value}),options:[...e?.loginType==="super_admin"?[{value:"both",label:"Hub & Store"},{value:"hub",label:"Hub Only"},{value:"store",label:"Store Only"}]:e?.loginType==="hub"?[{value:"hub",label:"Hub Only"},{value:"both",label:"Hub & Store"}]:e?.loginType==="store"?[{value:"store",label:"Store Only"},{value:"both",label:"Hub & Store"}]:[]],required:!0}),r.jsx(Ut,{label:"Color Theme",value:x.color,onChange:F=>v({...x,color:F.target.value}),options:[{value:"blue",label:"Blue"},{value:"green",label:"Green"},{value:"purple",label:"Purple"},{value:"orange",label:"Orange"},{value:"red",label:"Red"}]}),r.jsx(Ut,{label:"Icon",value:x.icon,onChange:F=>v({...x,icon:F.target.value}),options:[{value:"users",label:"Users"},{value:"package",label:"Package"},{value:"truck",label:"Truck"},{value:"shield",label:"Shield"}]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"Permissions"}),r.jsx("div",{className:"space-y-4 max-h-64 overflow-y-auto",children:Object.entries(E).map(([F,I])=>r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-sm text-gray-700 mb-2",children:F}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:I.map(U=>r.jsxs("label",{className:"flex items-center gap-2 p-2 hover:bg-gray-50 rounded cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:x.permissions.includes(U.id),onChange:()=>k(U.id),className:"rounded border-gray-300"}),r.jsx("span",{className:"text-sm",children:U.label})]},U.id))})]},F))})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[r.jsxs(oe,{type:"button",variant:"secondary",onClick:()=>{l(!1),h(null)},className:"flex-1",children:[r.jsx(Cs,{className:"mr-2 h-4 w-4"})," Cancel"]}),r.jsxs(oe,{type:"submit",className:"flex-1",children:[r.jsx(Ii,{className:"mr-2 h-5 w-5"})," ",d?"Update Role":"Create Role"]})]})]})}),r.jsx(ir,{isOpen:o,onClose:()=>{c(!1),p(null)},title:"Delete Role Confirmation",size:"sm",children:m&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-red-100 rounded-full mb-4",children:r.jsx(Ar,{className:"h-6 w-6 text-red-600"})}),m.usersCount>0?r.jsxs(r.Fragment,{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Cannot Delete Role"}),r.jsxs("p",{className:"text-gray-600 mb-4",children:["The role ",r.jsxs("strong",{children:['"',m.displayName,'"']})," cannot be deleted because it has ",r.jsxs("strong",{children:[m.usersCount," assigned users"]}),"."]}),r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:r.jsxs("p",{className:"text-sm text-yellow-800",children:[r.jsx("strong",{children:"Resolution:"})," Please reassign or remove all users from this role before deleting it."]})})]}):r.jsxs(r.Fragment,{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Delete Role?"}),r.jsxs("p",{className:"text-gray-600 mb-4",children:["Are you sure you want to delete the role ",r.jsxs("strong",{children:['"',m.displayName,'"']}),"? This action cannot be undone."]}),r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:r.jsxs("p",{className:"text-sm text-red-800",children:[r.jsx("strong",{children:"Warning:"})," Deleting this role will remove all associated permissions and configuration."]})})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx(oe,{variant:"secondary",onClick:()=>{c(!1),p(null)},className:"flex-1",children:"Cancel"}),m.usersCount===0&&r.jsxs(oe,{onClick:O,className:"flex-1 bg-red-600 hover:bg-red-700 text-white",children:[r.jsx(Ar,{className:"mr-2 h-5 w-5"})," Delete Role"]})]})]})})]})}const PBe=[{value:"blue",label:"Blue",class:"bg-blue-500"},{value:"green",label:"Green",class:"bg-green-500"},{value:"red",label:"Red",class:"bg-red-500"},{value:"yellow",label:"Yellow",class:"bg-yellow-500"},{value:"purple",label:"Purple",class:"bg-purple-500"},{value:"orange",label:"Orange",class:"bg-orange-500"},{value:"pink",label:"Pink",class:"bg-pink-500"},{value:"indigo",label:"Indigo",class:"bg-indigo-500"},{value:"teal",label:"Teal",class:"bg-teal-500"},{value:"cyan",label:"Cyan",class:"bg-cyan-500"}],OBe=[{value:"fish",label:"Fish",emoji:""},{value:"shrimp",label:"Shrimp",emoji:""},{value:"crab",label:"Crab",emoji:""},{value:"squid",label:"Squid",emoji:""},{value:"chicken",label:"Chicken",emoji:""},{value:"meat",label:"Meat",emoji:""},{value:"egg",label:"Egg",emoji:""},{value:"spices",label:"Spices",emoji:""},{value:"vegetable",label:"Vegetable",emoji:""},{value:"fruit",label:"Fruit",emoji:""}];function xU({initialData:e,onSave:t,onCancel:s,isEdit:a=!1}){const[n,i]=A.useState({name:e?.name||"",nameTa:e?.nameTa||"",description:e?.description||"",icon:e?.icon||"fish",color:e?.color||"blue",image:e?.image||void 0,isActive:e?.isActive!==void 0?e.isActive:!0,order:e?.order||0,type:e?.type||"hub"}),[l,o]=A.useState(typeof e?.image=="string"?e.image:null),c=A.useRef(null),d=(x,v)=>{i(y=>({...y,[x]:v}))},h=x=>{const v=x.target.files?.[0];if(v){if(!v.type.startsWith("image/")){alert("Please select a valid image file");return}if(v.size>5*1024*1024){alert("Image size should be less than 5MB");return}i(b=>({...b,image:v}));const y=new FileReader;y.onload=b=>{o(b.target?.result)},y.readAsDataURL(v)}},m=()=>{i(x=>({...x,image:void 0})),o(null),c.current&&(c.current.value="")},p=()=>{if(!n.name||!n.nameTa||!n.description){alert("Please fill in all required fields");return}t(n)};return r.jsxs("div",{className:"space-y-6 max-h-[80vh] overflow-y-auto",children:[r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(Tt,{className:"h-5 w-5 text-blue-600"}),r.jsx("h3",{className:"text-lg font-semibold",children:"Category Information"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category Name (English) *"}),r.jsx(de,{value:n.name,onChange:x=>d("name",x.target.value),placeholder:"Sea Fish, Chicken, etc."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category Name (Tamil) *"}),r.jsx(de,{value:n.nameTa,onChange:x=>d("nameTa",x.target.value),placeholder:" , , etc."})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),r.jsx("textarea",{value:n.description,onChange:x=>d("description",x.target.value),placeholder:"Brief description of the category",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category Type *"}),r.jsxs("select",{value:n.type,onChange:x=>d("type",x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"hub",children:"Hub (Fish Products)"}),r.jsx("option",{value:"store",children:"Store (Meat, Eggs, etc.)"})]})]})]})]}),r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(q0,{className:"h-5 w-5 text-purple-600"}),r.jsx("h3",{className:"text-lg font-semibold",children:"Visual Settings"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category Image"}),r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-24 h-24 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center bg-gray-50",children:l?r.jsxs("div",{className:"relative w-full h-full",children:[r.jsx("img",{src:l,alt:"Category preview",className:"w-full h-full object-cover rounded-lg"}),r.jsx("button",{onClick:m,className:"absolute -top-2 -right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:r.jsx(Cs,{className:"h-3 w-3"})})]}):r.jsxs("div",{className:"text-center",children:[r.jsx(q0,{className:"h-8 w-8 text-gray-400 mx-auto mb-1"}),r.jsx("p",{className:"text-xs text-gray-500",children:"No image"})]})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("input",{ref:c,type:"file",accept:"image/*",onChange:h,className:"hidden"}),r.jsxs(oe,{type:"button",variant:"secondary",onClick:()=>c.current?.click(),className:"w-full",children:[r.jsx(jo,{className:"mr-2 h-4 w-4"}),l?"Change Image":"Upload Image"]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Recommended: 200x200px, Max 5MB (JPG, PNG, WebP)"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category Icon"}),r.jsx("div",{className:"grid grid-cols-5 sm:grid-cols-10 gap-2",children:OBe.map(x=>r.jsxs("button",{type:"button",onClick:()=>d("icon",x.value),className:`p-3 border-2 rounded-lg text-center transition-colors ${n.icon===x.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[r.jsx("div",{className:"text-2xl mb-1",children:x.emoji}),r.jsx("div",{className:"text-xs text-gray-600",children:x.label})]},x.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category Color"}),r.jsx("div",{className:"grid grid-cols-5 sm:grid-cols-10 gap-2",children:PBe.map(x=>r.jsxs("button",{type:"button",onClick:()=>d("color",x.value),className:`p-3 border-2 rounded-lg transition-colors ${n.color===x.value?"border-gray-800":"border-gray-200 hover:border-gray-300"}`,children:[r.jsx("div",{className:`w-8 h-8 rounded-full mx-auto mb-1 ${x.class}`}),r.jsx("div",{className:"text-xs text-gray-600",children:x.label})]},x.value))})]})]})]}),r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[n.isActive?r.jsx(Fr,{className:"h-5 w-5 text-green-600"}):r.jsx(Hd,{className:"h-5 w-5 text-red-600"}),r.jsx("h3",{className:"text-lg font-semibold",children:"Category Visibility"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:`text-sm font-medium ${n.isActive?"text-green-600":"text-red-600"}`,children:n.isActive?"Category is Visible":"Category is Hidden"}),r.jsx(oe,{type:"button",variant:n.isActive?"secondary":"primary",onClick:()=>d("isActive",!n.isActive),className:n.isActive?"bg-red-50 text-red-600 hover:bg-red-100 border-red-200":"bg-green-50 text-green-600 hover:bg-green-100 border-green-200",children:n.isActive?r.jsxs(r.Fragment,{children:[r.jsx(Hd,{className:"mr-2 h-4 w-4"}),"Hide Category"]}):r.jsxs(r.Fragment,{children:[r.jsx(Fr,{className:"mr-2 h-4 w-4"}),"Show Category"]})})]})]}),r.jsx("div",{className:"mt-3 p-3 rounded-lg bg-gray-50",children:r.jsx("p",{className:"text-sm text-gray-600",children:n.isActive?r.jsxs(r.Fragment,{children:[r.jsx("strong",{children:"Visible:"})," This category will be displayed in both Hub and Store product forms and customer-facing interfaces."]}):r.jsxs(r.Fragment,{children:[r.jsx("strong",{children:"Hidden:"})," This category will not be visible to users and cannot be selected for new products. Existing products will remain unaffected."]})})})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[r.jsxs(oe,{variant:"secondary",onClick:s,children:[r.jsx(Cs,{className:"mr-2 h-4 w-4"}),"Cancel"]}),r.jsxs(oe,{onClick:p,children:[r.jsx(Ii,{className:"mr-2 h-4 w-4"}),a?"Update":"Create"," Category"]})]})]})}const pU=[{id:"show",label:"Show Categories",icon:Fr,variant:"success",requiresConfirmation:!0,confirmationMessage:"Are you sure you want to show the selected categories?"},{id:"hide",label:"Hide Categories",icon:Hd,variant:"warning",requiresConfirmation:!0,confirmationMessage:"Are you sure you want to hide the selected categories?"},{id:"delete",label:"Delete Categories",icon:Ar,variant:"danger",requiresConfirmation:!0,confirmationMessage:"Are you sure you want to delete the selected categories? This action cannot be undone and will affect all products using these categories."}],DBe=e=>({blue:"bg-blue-100 text-blue-800 border-blue-200",green:"bg-green-100 text-green-800 border-green-200",red:"bg-red-100 text-red-800 border-red-200",yellow:"bg-yellow-100 text-yellow-800 border-yellow-200",purple:"bg-purple-100 text-purple-800 border-purple-200",orange:"bg-orange-100 text-orange-800 border-orange-200",pink:"bg-pink-100 text-pink-800 border-pink-200",indigo:"bg-indigo-100 text-indigo-800 border-indigo-200",teal:"bg-teal-100 text-teal-800 border-teal-200",cyan:"bg-cyan-100 text-cyan-800 border-cyan-200"})[e]||"bg-gray-100 text-gray-800 border-gray-200",RBe=e=>({fish:"",shrimp:"",crab:"",squid:"",chicken:"",meat:"",egg:"",spices:"",vegetable:"",fruit:""})[e]||"";function MBe({categories:e,onView:t,onEdit:s,onDelete:a,onReorder:n,onBulkAction:i,title:l="Categories",allowReordering:o=!0}){const[c,d]=A.useState(""),[h,m]=A.useState(""),[p,x]=A.useState({isOpen:!1,actionId:"",actionType:""}),v=e.filter(U=>{const M=!c||U.name.toLowerCase().includes(c.toLowerCase())||U.nameTa.includes(c)||U.description.toLowerCase().includes(c.toLowerCase()),L=!h||h==="active"&&U.isActive||h==="inactive"&&!U.isActive;return M&&L}),{selectedItems:y,selectAll:b,deselectAll:j,toggleItem:S,isSelected:w}=Og(v),k=y.length===v.length&&v.length>0,_=y.length>0&&y.length<v.length,O=U=>{const M=pU.find(L=>L.id===U);M?.requiresConfirmation?x({isOpen:!0,actionId:U,actionType:M.variant||"default"}):i?.(U,y)},E=async U=>{i&&(await i(p.actionId,y,U),j()),x({isOpen:!1,actionId:"",actionType:""})},F=U=>{if(U>0&&n){const M=[...v];[M[U],M[U-1]]=[M[U-1],M[U]];const L=M.map((J,K)=>({...J,order:K}));n(L)}},I=U=>{if(U<v.length-1&&n){const M=[...v];[M[U],M[U+1]]=[M[U+1],M[U]];const L=M.map((J,K)=>({...J,order:K}));n(L)}};return r.jsxs("div",{className:"space-y-4",children:[r.jsx(Eg,{searchValue:c,onSearchChange:d,placeholder:"Search categories by name, Tamil name, or description...",filters:[{key:"status",label:"Status",value:h,onChange:m,options:[{value:"",label:"All Status"},{value:"active",label:"Visible"},{value:"inactive",label:"Hidden"}]}]}),y.length>0&&r.jsx(Pg,{selectedItems:y,totalItems:v.length,onSelectAll:b,onDeselectAll:j,actions:pU,onAction:O,itemName:"categories"}),v.length>0&&r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:k?j:b,className:`p-1 rounded transition-colors ${k?"text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:k?r.jsx(lc,{className:"h-4 w-4"}):_?r.jsx(Xd,{className:"h-4 w-4"}):r.jsx(oc,{className:"h-4 w-4"})}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:y.length>0?`${y.length} of ${v.length} ${l.toLowerCase()} selected`:`Select all ${v.length} ${l.toLowerCase()}`})]}),o&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[r.jsx(Mte,{className:"h-4 w-4"}),r.jsx("span",{children:"Use arrows to reorder"})]})]})}),r.jsx("div",{className:"space-y-3",children:v.map((U,M)=>r.jsx(he,{className:"p-4 hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"flex items-center gap-4",children:[o&&r.jsxs("div",{className:"flex flex-col gap-1 flex-shrink-0",children:[r.jsx("button",{onClick:()=>F(M),disabled:M===0,className:`p-1 rounded transition-colors ${M===0?"text-gray-300 cursor-not-allowed":"text-gray-400 hover:text-gray-600 hover:bg-gray-100"}`,title:"Move up",children:r.jsx(Lee,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>I(M),disabled:M===v.length-1,className:`p-1 rounded transition-colors ${M===v.length-1?"text-gray-300 cursor-not-allowed":"text-gray-400 hover:text-gray-600 hover:bg-gray-100"}`,title:"Move down",children:r.jsx(Cee,{className:"h-4 w-4"})})]}),r.jsx("button",{onClick:()=>S(U.id),className:`p-1 rounded transition-colors flex-shrink-0 ${w(U.id)?"text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:w(U.id)?r.jsx(lc,{className:"h-4 w-4"}):r.jsx(oc,{className:"h-4 w-4"})}),r.jsx("div",{className:`w-16 h-16 rounded-lg border-2 flex items-center justify-center flex-shrink-0 ${DBe(U.color)}`,children:U.image?r.jsx("img",{src:typeof U.image=="string"?U.image:URL.createObjectURL(U.image),alt:U.name,className:"w-full h-full object-cover rounded-lg"}):r.jsx("span",{className:"text-2xl",children:RBe(U.icon)})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"flex items-start justify-between mb-2",children:r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:U.name}),r.jsx(Xe,{variant:U.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800",className:"flex-shrink-0",children:U.isActive?"Visible":"Hidden"})]}),r.jsx("p",{className:"text-sm text-gray-600 truncate",children:U.nameTa})]})}),r.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:U.description}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center gap-4 text-sm",children:r.jsxs("span",{className:"font-medium text-gray-900",children:[U.productCount," products"]})}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx("button",{onClick:()=>t?.(U),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"View Details",children:r.jsx(Fr,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>s?.(U),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Edit",children:r.jsx(ss,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>a?.(U),className:"p-2 hover:bg-red-50 rounded-lg transition-colors text-red-600",title:"Delete",children:r.jsx(Ar,{className:"h-4 w-4"})})]})]})]})]})},U.id))}),v.length===0&&r.jsxs(he,{className:"p-12 text-center",children:[r.jsx(Tt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No categories found"}),r.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or filters, or create a new category"})]}),r.jsx(Dg,{isOpen:p.isOpen,onClose:()=>x({isOpen:!1,actionId:"",actionType:""}),onConfirm:E,title:`Bulk Action: ${p.actionId}`,actionType:p.actionType,selectedCount:y.length,itemName:"categories"})]})}const gU=[{id:"1",name:"Sea Fish",nameTa:" ",description:"Fresh sea fish varieties including tuna, seer, pomfret, and more",icon:"fish",color:"blue",image:void 0,isActive:!0,order:0,type:"hub",productCount:25,createdAt:"2024-01-01",updatedAt:"2024-01-15"},{id:"2",name:"Freshwater Fish",nameTa:" ",description:"Fresh river and lake fish varieties",icon:"fish",color:"teal",image:void 0,isActive:!0,order:1,type:"hub",productCount:18,createdAt:"2024-01-01",updatedAt:"2024-01-10"},{id:"3",name:"Shell Fish",nameTa:" ",description:"Prawns, crabs, lobsters, and other shellfish",icon:"shrimp",color:"orange",image:void 0,isActive:!0,order:2,type:"hub",productCount:15,createdAt:"2024-01-01",updatedAt:"2024-01-12"},{id:"4",name:"Dry Fish",nameTa:" ",description:"Dried and preserved fish varieties",icon:"fish",color:"yellow",image:void 0,isActive:!0,order:3,type:"hub",productCount:8,createdAt:"2024-01-01",updatedAt:"2024-01-08"},{id:"5",name:"Meat",nameTa:"",description:"Fresh meat products including chicken, mutton, and other varieties",icon:"meat",color:"red",image:void 0,isActive:!0,order:4,type:"store",productCount:38,createdAt:"2024-01-01",updatedAt:"2024-01-14"},{id:"6",name:"Eggs",nameTa:"",description:"Fresh eggs from various sources",icon:"egg",color:"yellow",image:void 0,isActive:!0,order:5,productCount:12,type:"store",createdAt:"2024-01-01",updatedAt:"2024-01-13"},{id:"7",name:"Spices",nameTa:"",description:"Cooking spices, herbs, and seasonings",icon:"spices",color:"green",image:void 0,isActive:!0,order:6,productCount:24,createdAt:"2024-01-01",type:"store",updatedAt:"2024-01-09"},{id:"8",name:"Ready to Eat",nameTa:" ",description:"Pre-cooked meals and ready-to-eat food items",icon:"utensils",color:"purple",image:void 0,isActive:!0,order:7,productCount:15,createdAt:"2024-01-01",updatedAt:"2024-01-16",type:"store"},{id:"9",name:"Ready to Cook",nameTa:" ",description:"Pre-marinated and ready-to-cook products",icon:"chef-hat",color:"indigo",image:void 0,isActive:!0,order:8,productCount:20,createdAt:"2024-01-01",updatedAt:"2024-01-17",type:"store"},{id:"10",name:"Exotic Fish",nameTa:" ",description:"Rare and exotic fish varieties",icon:"fish",color:"cyan",image:void 0,isActive:!0,order:4,productCount:8,createdAt:"2024-01-01",updatedAt:"2024-01-18",type:"hub"},{id:"11",name:"Frozen Fish",nameTa:" ",description:"Frozen fish products for longer shelf life",icon:"fish",color:"blue",image:void 0,isActive:!0,order:5,productCount:12,createdAt:"2024-01-01",updatedAt:"2024-01-19",type:"hub"},{id:"12",name:"Dairy Products",nameTa:" ",description:"Milk, cheese, butter, and other dairy items",icon:"egg",color:"yellow",image:void 0,isActive:!0,order:9,productCount:15,createdAt:"2024-01-01",updatedAt:"2024-01-20",type:"store"},{id:"13",name:"Vegetables",nameTa:"",description:"Fresh vegetables and greens",icon:"vegetable",color:"green",image:void 0,isActive:!0,order:10,productCount:30,createdAt:"2024-01-01",updatedAt:"2024-01-21",type:"store"},{id:"14",name:"Fruits",nameTa:"",description:"Fresh seasonal fruits",icon:"fruit",color:"pink",image:void 0,isActive:!0,order:11,productCount:25,createdAt:"2024-01-01",updatedAt:"2024-01-22",type:"store"}];function sj(){const{user:e}=es(),[t,s]=A.useState(gU),[a,n]=A.useState(!1),[i,l]=A.useState(!1),[o,c]=A.useState(!1),[d,h]=A.useState(!1),[m,p]=A.useState(null),[x,v]=A.useState(!1),[y,b]=A.useState("hub");A.useEffect(()=>{j()},[]);const j=async()=>{try{v(!0);const Z=await em.getAll();s(Z.data)}catch(Z){console.error("Failed to fetch categories:",Z),s(gU)}finally{v(!1)}},S=t.filter(Z=>Z.type==="hub").sort((Z,ye)=>Z.order-ye.order),w=t.filter(Z=>Z.type==="store").sort((Z,ye)=>Z.order-ye.order),k=y==="hub"?S:w,_=()=>{p(null),n(!0)},O=()=>m||{type:y},E=Z=>{p(Z),c(!0)},F=Z=>{p(Z),l(!0)},I=async Z=>{if(Z.productCount>0){alert(`Cannot delete category "${Z.name}" because it has ${Z.productCount} products. Please move or delete the products first.`);return}if(confirm(`Are you sure you want to delete the category "${Z.name}"? This action cannot be undone.`))try{v(!0),await em.delete(Z.id),s(ye=>ye.filter(te=>te.id!==Z.id)),alert("Category deleted successfully")}catch(ye){console.error("Failed to delete category:",ye),alert("Failed to delete category. Please try again.")}finally{v(!1)}},U=async Z=>{try{v(!0);const ye=new FormData;if(Object.entries(Z).forEach(([te,D])=>{te==="image"&&D instanceof File?ye.append("image",D):D!=null&&ye.append(te,typeof D=="object"?JSON.stringify(D):String(D))}),m)await em.update(m.id,ye),s(te=>te.map(D=>D.id===m.id?{...D,...Z,updatedAt:new Date().toISOString().slice(0,10)}:D)),alert("Category updated successfully! Changes will reflect across all Hub and Store interfaces.");else{const D={...(await em.create(ye)).data,productCount:0};s(H=>[...H,D]),alert("Category created successfully! Changes will reflect across all Hub and Store interfaces.")}n(!1),c(!1),p(null),await j()}catch(ye){console.error("Failed to save category:",ye),alert("Failed to save category. Please try again.")}finally{v(!1)}},M=async Z=>{try{v(!0),s(Z);const ye=Z.map(te=>te.id);await em.reorder({categoryIds:ye}),console.log("Categories reordered successfully")}catch(ye){console.error("Failed to reorder categories:",ye),alert("Failed to save category order. Please try again."),await j()}finally{v(!1)}},L=Z=>{p(Z),h(!0)},J=async(Z,ye,te)=>{try{switch(v(!0),Z){case"show":await em.bulkUpdate({ids:ye,updates:{isActive:!0}}),s(q=>q.map(W=>ye.includes(W.id)?{...W,isActive:!0,updatedAt:new Date().toISOString().slice(0,10)}:W)),alert(`${ye.length} categories are now visible`);break;case"hide":await em.bulkUpdate({ids:ye,updates:{isActive:!1}}),s(q=>q.map(W=>ye.includes(W.id)?{...W,isActive:!1,updatedAt:new Date().toISOString().slice(0,10)}:W)),alert(`${ye.length} categories are now hidden`);break;case"delete":const H=t.filter(q=>ye.includes(q.id)).filter(q=>q.productCount>0);if(H.length>0){alert(`Cannot delete ${H.length} categories because they have products. Please move or delete the products first.`);return}await Promise.all(ye.map(q=>em.delete(q))),s(q=>q.filter(W=>!ye.includes(W.id))),alert(`${ye.length} categories deleted successfully`);break;default:console.log(`Bulk action ${Z} performed on ${ye.length} categories`,te)}await j()}catch(D){console.error("Category bulk action failed:",D),alert("Bulk action failed. Please try again.")}finally{v(!1)}},ae={totalHub:S.length,totalStore:w.length,visibleHub:S.filter(Z=>Z.isActive).length,visibleStore:w.filter(Z=>Z.isActive).length,totalProducts:t.reduce((Z,ye)=>Z+ye.productCount,0),activeDisplay:k.filter(Z=>Z.isActive).length},V=()=>e?.loginType==="hub"?{title:"Hub Category Management",description:"Manage fish and seafood categories for hub operations"}:e?.loginType==="store"?{title:"Store Category Management",description:"Manage meat, eggs, and other categories for store operations"}:{title:"Category Management",description:"Manage categories for Hub (Fish) and Store (Meat, Eggs, etc.)"},re=()=>e?.loginType==="super_admin"?y==="hub"?"Add Hub Category":"Add Store Category":"Add Category",X=V();return r.jsx("div",{className:"min-h-screen bg-gray-50",children:r.jsx("div",{className:"w-full py-2 sm:py-4 md:py-6 lg:py-8",children:r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:r.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:r.jsx(Tt,{className:"h-5 w-5 sm:h-6 sm:w-6 text-blue-600"})}),r.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900",children:X.title})]}),r.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-3",children:X.description}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsxs(Xe,{variant:"bg-blue-100 text-blue-700",className:"text-xs font-medium",children:[k.length," Categories"]}),r.jsxs(Xe,{variant:"bg-green-100 text-green-700",className:"text-xs font-medium",children:[ae.activeDisplay," Active"]}),e?.loginType==="super_admin"&&r.jsxs(Xe,{variant:"bg-purple-100 text-purple-700",className:"text-xs font-medium",children:[y.charAt(0).toUpperCase()+y.slice(1)," View"]})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[r.jsxs(oe,{variant:"secondary",onClick:()=>h(!0),className:"w-full sm:w-auto px-4 py-2 border-gray-300 hover:bg-gray-50",children:[r.jsx(cg,{className:"mr-2 h-4 w-4"}),r.jsx("span",{className:"sm:hidden",children:"History"}),r.jsx("span",{className:"hidden sm:inline",children:"History"})]}),r.jsxs(oe,{onClick:_,className:"w-full sm:w-auto px-4 py-2 sm:px-6 sm:py-3 bg-blue-600 hover:bg-blue-700",children:[r.jsx(dr,{className:"mr-2 h-4 w-4"}),r.jsx("span",{className:"sm:hidden",children:"Add Category"}),r.jsx("span",{className:"hidden sm:inline",children:re()})]})]})]})}),r.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx(he,{className:"p-4 hover:shadow-lg transition-all duration-200 border-l-4 border-l-blue-500",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Hub Categories"}),r.jsx("p",{className:"text-2xl font-bold text-blue-900",children:ae.totalHub}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1",children:[r.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),ae.visibleHub," visible"]})]}),r.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:r.jsx(yo,{className:"h-6 w-6 text-blue-600"})})]})}),r.jsx(he,{className:"p-4 hover:shadow-lg transition-all duration-200 border-l-4 border-l-orange-500",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Store Categories"}),r.jsx("p",{className:"text-2xl font-bold text-orange-600",children:ae.totalStore}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1",children:[r.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full"}),ae.visibleStore," visible"]})]}),r.jsx("div",{className:"p-3 bg-orange-100 rounded-xl",children:r.jsx(My,{className:"h-6 w-6 text-orange-600"})})]})}),r.jsx(he,{className:"p-4 hover:shadow-lg transition-all duration-200 border-l-4 border-l-gray-500",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Total"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:ae.totalHub+ae.totalStore}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1",children:[r.jsx("span",{className:"w-2 h-2 bg-gray-500 rounded-full"}),"All categories"]})]}),r.jsx("div",{className:"p-3 bg-gray-100 rounded-xl",children:r.jsx(Tt,{className:"h-6 w-6 text-gray-600"})})]})}),r.jsx(he,{className:"p-4 hover:shadow-lg transition-all duration-200 border-l-4 border-l-purple-500",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Total Products"}),r.jsx("p",{className:"text-2xl font-bold text-purple-600",children:ae.totalProducts}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1",children:[r.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full"}),"Using categories"]})]}),r.jsx("div",{className:"p-3 bg-purple-100 rounded-xl",children:r.jsx(Tt,{className:"h-6 w-6 text-purple-600"})})]})})]}),e?.loginType==="super_admin"&&r.jsxs(he,{className:"overflow-hidden",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Category Types"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Switch between hub and store category management"})]}),r.jsx("div",{className:"flex gap-2 border-b overflow-x-auto pb-4",children:[{id:"hub",label:"Hub Categories",count:S.length,description:"Fish & Seafood",icon:""},{id:"store",label:"Store Categories",count:w.length,description:"Meat, Eggs & More",icon:""}].map(Z=>r.jsxs("button",{onClick:()=>b(Z.id),className:`flex items-center gap-3 px-4 py-3 border-b-2 transition-all whitespace-nowrap text-sm min-w-0 rounded-t-lg ${y===Z.id?"border-blue-600 text-blue-600 bg-blue-50":"border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:[r.jsx("span",{className:"text-lg",children:Z.icon}),r.jsxs("div",{className:"text-left",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:Z.label}),r.jsx(Xe,{variant:y===Z.id?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600",className:"text-xs font-medium",children:Z.count})]}),r.jsx("span",{className:"text-xs text-gray-500",children:Z.description})]})]},Z.id))})]}),r.jsxs(he,{className:"overflow-hidden shadow-sm border border-gray-200",children:[r.jsx("div",{className:"bg-gray-50 px-4 sm:px-6 py-3 border-b border-gray-200",children:r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e?.loginType==="super_admin"?`${y.charAt(0).toUpperCase()+y.slice(1)} Categories`:"Categories"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage and organize your category catalog"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(Xe,{variant:"bg-blue-100 text-blue-700",className:"text-xs font-medium",children:[k.length," Total"]}),r.jsxs(Xe,{variant:"bg-green-100 text-green-700",className:"text-xs font-medium",children:[ae.activeDisplay," Active"]})]})]})}),x&&r.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-75 flex items-center justify-center z-10",children:r.jsxs("div",{className:"flex flex-col items-center gap-2",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Loading..."})]})}),r.jsx(MBe,{categories:k,onView:F,onEdit:E,onDelete:I,onReorder:M,onBulkAction:J,title:e?.loginType==="super_admin"?`${y.charAt(0).toUpperCase()+y.slice(1)} Categories`:"Categories",allowReordering:e?.loginType==="super_admin"})]}),r.jsx(ir,{isOpen:a,onClose:()=>{n(!1),p(null)},title:`Add New ${y.charAt(0).toUpperCase()+y.slice(1)} Category`,size:"xl",children:r.jsx(xU,{initialData:O(),onSave:U,onCancel:()=>{n(!1),p(null)}})}),r.jsx(ir,{isOpen:o,onClose:()=>{c(!1),p(null)},title:"Edit Category",size:"xl",children:m&&r.jsx(xU,{initialData:m,onSave:U,onCancel:()=>{c(!1),p(null)},isEdit:!0})}),r.jsx(ir,{isOpen:i,onClose:()=>{l(!1),p(null)},title:"Category Details",size:"lg",children:m&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-lg",children:[r.jsx("div",{className:`w-16 h-16 rounded-lg border-2 flex items-center justify-center ${m.color==="blue"?"bg-blue-100 border-blue-200":m.color==="green"?"bg-green-100 border-green-200":m.color==="red"?"bg-red-100 border-red-200":m.color==="yellow"?"bg-yellow-100 border-yellow-200":m.color==="purple"?"bg-purple-100 border-purple-200":m.color==="orange"?"bg-orange-100 border-orange-200":"bg-gray-100 border-gray-200"}`,children:m.image?r.jsx("img",{src:typeof m.image=="string"?m.image:URL.createObjectURL(m.image),alt:m.name,className:"w-full h-full object-cover rounded-lg"}):r.jsx("span",{className:"text-2xl",children:m.icon==="fish"?"":m.icon==="shrimp"?"":m.icon==="crab"?"":m.icon==="squid"?"":m.icon==="chicken"?"":m.icon==="meat"?"":m.icon==="egg"?"":m.icon==="spices"?"":""})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-xl font-semibold",children:m.name}),r.jsx("p",{className:"text-gray-600",children:m.nameTa}),r.jsx("div",{className:"flex items-center gap-2 mt-2",children:r.jsx(Xe,{variant:m.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:m.isActive?"Visible":"Hidden"})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("p",{className:"text-gray-900",children:m.description})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Products"}),r.jsxs("p",{className:"text-gray-900",children:[m.productCount," products using this category"]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Created"}),r.jsx("p",{className:"text-gray-900",children:new Date(m.createdAt).toLocaleDateString()})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Updated"}),r.jsx("p",{className:"text-gray-900",children:new Date(m.updatedAt).toLocaleDateString()})]})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[r.jsx(oe,{variant:"secondary",onClick:()=>{l(!1),p(null)},className:"flex-1",children:"Close"}),r.jsx(oe,{onClick:()=>{l(!1),c(!0)},className:"flex-1",children:"Edit Category"}),r.jsxs(oe,{variant:"secondary",onClick:()=>L(m),className:"flex-1",children:[r.jsx(cg,{className:"mr-2 h-4 w-4"}),"View History"]})]})]})}),r.jsx(ir,{isOpen:d,onClose:()=>{h(!1),p(null)},title:"Category Change History",size:"lg",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 rounded-lg",children:[r.jsx(Rs,{className:"h-5 w-5 text-blue-600"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-blue-900",children:"Change History"}),r.jsx("p",{className:"text-sm text-blue-700",children:"Track all changes made to categories and their impact on products"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"border-l-4 border-green-500 pl-4 py-2",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Category Reordered"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Category order changed from position 3 to 1"}),r.jsx("p",{className:"text-xs text-gray-500",children:"by Admin User"})]}),r.jsx("span",{className:"text-xs text-gray-500",children:"2026-01-17 02:30 PM"})]})}),r.jsx("div",{className:"border-l-4 border-blue-500 pl-4 py-2",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Category Updated"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Description and image updated"}),r.jsxs("p",{className:"text-xs text-gray-500",children:["by ",m?.name," Manager"]})]}),r.jsx("span",{className:"text-xs text-gray-500",children:"2026-01-15 10:15 AM"})]})}),r.jsx("div",{className:"border-l-4 border-purple-500 pl-4 py-2",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Category Created"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Initial category setup with all details"}),r.jsx("p",{className:"text-xs text-gray-500",children:"by System Admin"})]}),r.jsx("span",{className:"text-xs text-gray-500",children:"2026-01-01 09:00 AM"})]})})]}),r.jsx("div",{className:"flex justify-end pt-4 border-t",children:r.jsx(oe,{variant:"secondary",onClick:()=>{h(!1),p(null)},children:"Close"})})]})})]})})})}const FBe=[{value:"sea-fish",label:"Sea Fish"},{value:"freshwater-fish",label:"Freshwater Fish"},{value:"shell-fish",label:"Shell Fish"},{value:"dry-fish",label:"Dry Fish"},{value:"chicken",label:"Chicken"},{value:"mutton",label:"Mutton"},{value:"egg",label:"Egg"}],LBe=["Halal","Organic","MSC Certified","ASC Certified","HACCP","ISO 22000","BRC","SQF"],IBe=[{value:"grade-a",label:"Grade A (Premium)"},{value:"grade-b",label:"Grade B"},{value:"grade-c",label:"Grade C"}],BBe=["Vacuum Packed","Ice Packed","Frozen Box","Fresh Box","Bulk Container"],UBe=["Chilka Lake","Sundarban Delta","Kerala Backwaters","Bay of Bengal","Arabian Sea","Local Farm"],zBe=["India","Norway","Chile","Thailand","Vietnam","Bangladesh"];function vU({initialData:e,onSave:t,onCancel:s,isEdit:a=!1}){const[n,i]=A.useState({batchNumber:e?.batchNumber||"",traceabilityCode:e?.traceabilityCode||`LOT-${new Date().toISOString().slice(0,10).replace(/-/g,"")}-${Math.random().toString(36).substr(2,6).toUpperCase()}`,productName:e?.productName||"",category:e?.category||"",individualWeight:e?.individualWeight||0,quantity:e?.quantity||0,quantityUnit:e?.quantityUnit||"kg",catchSlaughterDate:e?.catchSlaughterDate||"",receivedDate:e?.receivedDate||new Date().toISOString().slice(0,10),expiryDate:e?.expiryDate||"",certifications:e?.certifications||[],catchType:e?.catchType||"wild",chemicalFree:e?.chemicalFree||"no",qualityGrade:e?.qualityGrade||"grade-a",harvestOrigin:e?.harvestOrigin||"",countryOfOrigin:e?.countryOfOrigin||"India",packagingType:e?.packagingType||"",storageTemperature:e?.storageTemperature||"0-4C (Fresh)",createdBy:e?.createdBy||"Current User",createdByRole:e?.createdByRole||"Procurement Manager",status:e?.status||"pending"}),l=(d,h)=>{i(m=>({...m,[d]:h}))},o=d=>{i(h=>({...h,certifications:h.certifications.includes(d)?h.certifications.filter(m=>m!==d):[...h.certifications,d]}))},c=()=>{if(!n.productName||!n.category||!n.quantity){alert("Please fill in all required fields");return}t(n)};return r.jsxs("div",{className:"space-y-6 max-h-[80vh] overflow-y-auto",children:[r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(Tt,{className:"h-5 w-5 text-blue-600"}),r.jsx("h3",{className:"text-lg font-semibold",children:"Batch Information"})]}),r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Batch/Lot Number *"}),r.jsx(de,{value:n.batchNumber,onChange:d=>l("batchNumber",d.target.value),placeholder:"Enter batch number"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Traceability Code"}),r.jsx(de,{value:n.traceabilityCode,onChange:d=>l("traceabilityCode",d.target.value),placeholder:"LOT-20260115-CH001"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Name *"}),r.jsx(de,{value:n.productName,onChange:d=>l("productName",d.target.value),placeholder:"Tuna, Seer, Chicken breast"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),r.jsxs("select",{value:n.category,onChange:d=>l("category",d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"Select Category"}),FBe.map(d=>r.jsx("option",{value:d.value,children:d.label},d.value))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Individual Product Weight *"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(de,{type:"number",value:n.individualWeight,onChange:d=>l("individualWeight",Number(d.target.value)),placeholder:"5",step:"0.1"}),r.jsxs("select",{value:n.quantityUnit,onChange:d=>l("quantityUnit",d.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"kg",children:"Kg"}),r.jsx("option",{value:"g",children:"g"}),r.jsx("option",{value:"pcs",children:"Pcs"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantity/Count per kg *"}),r.jsx(de,{type:"number",value:n.quantity,onChange:d=>l("quantity",Number(d.target.value)),placeholder:"1 Count & 2-3 per kgs"})]})]})]}),r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(Jr,{className:"h-5 w-5 text-green-600"}),r.jsx("h3",{className:"text-lg font-semibold",children:"Date Information"})]}),r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Catch/Slaughter Date *"}),r.jsx(de,{type:"date",value:n.catchSlaughterDate,onChange:d=>l("catchSlaughterDate",d.target.value)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Received Date *"}),r.jsx(de,{type:"date",value:n.receivedDate,onChange:d=>l("receivedDate",d.target.value)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expiry/Use By Date *"}),r.jsx(de,{type:"date",value:n.expiryDate,onChange:d=>l("expiryDate",d.target.value)})]})]})]}),r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(JU,{className:"h-5 w-5 text-yellow-600"}),r.jsx("h3",{className:"text-lg font-semibold",children:"Quality & Certifications"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Certifications"}),r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:LBe.map(d=>r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:n.certifications.includes(d),onChange:()=>o(d),className:"rounded border-gray-300"}),r.jsx("span",{className:"text-sm",children:d})]},d))})]}),r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Catch Type"}),r.jsxs("select",{value:n.catchType,onChange:d=>l("catchType",d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"wild",children:"Wild"}),r.jsx("option",{value:"farmed",children:"Farmed"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chemical Free"}),r.jsxs("select",{value:n.chemicalFree,onChange:d=>l("chemicalFree",d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"no",children:"No"}),r.jsx("option",{value:"yes",children:"Yes"}),r.jsx("option",{value:"organic",children:"Organic"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quality Grade"}),r.jsx("select",{value:n.qualityGrade,onChange:d=>l("qualityGrade",d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:IBe.map(d=>r.jsx("option",{value:d.value,children:d.label},d.value))})]})]})]})]}),r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(Vs,{className:"h-5 w-5 text-red-600"}),r.jsx("h3",{className:"text-lg font-semibold",children:"Origin Information"})]}),r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Catch/Harvest Origin"}),r.jsxs("select",{value:n.harvestOrigin,onChange:d=>l("harvestOrigin",d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"Select Origin"}),UBe.map(d=>r.jsx("option",{value:d,children:d},d))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country of Origin"}),r.jsx("select",{value:n.countryOfOrigin,onChange:d=>l("countryOfOrigin",d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:zBe.map(d=>r.jsx("option",{value:d,children:d},d))})]})]})]}),r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(Xp,{className:"h-5 w-5 text-purple-600"}),r.jsx("h3",{className:"text-lg font-semibold",children:"Packaging & Storage"})]}),r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Packaging Type"}),r.jsxs("select",{value:n.packagingType,onChange:d=>l("packagingType",d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"Select Packaging"}),BBe.map(d=>r.jsx("option",{value:d,children:d},d))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Storage Temperature"}),r.jsxs("select",{value:n.storageTemperature,onChange:d=>l("storageTemperature",d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"0-4C (Fresh)",children:"0-4C (Fresh)"}),r.jsx("option",{value:"-18C (Frozen)",children:"-18C (Frozen)"}),r.jsx("option",{value:"Room Temperature",children:"Room Temperature"})]})]})]})]}),r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(si,{className:"h-5 w-5 text-gray-600"}),r.jsx("h3",{className:"text-lg font-semibold",children:"System Information"})]}),r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Created By"}),r.jsx(de,{value:n.createdBy,onChange:d=>l("createdBy",d.target.value),placeholder:"Person name",readOnly:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role"}),r.jsx(de,{value:n.createdByRole,onChange:d=>l("createdByRole",d.target.value),placeholder:"Role",readOnly:!0})]})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[r.jsxs(oe,{variant:"secondary",onClick:s,children:[r.jsx(Cs,{className:"mr-2 h-4 w-4"}),"Cancel"]}),r.jsxs(oe,{onClick:c,children:[r.jsx(Ii,{className:"mr-2 h-4 w-4"}),a?"Update":"Submit for Approval"]})]})]})}const yU=[{id:"approve",label:"Approve Batches",icon:Dr,variant:"success",requiresConfirmation:!0,confirmationMessage:"Are you sure you want to approve the selected batches?"},{id:"reject",label:"Reject Batches",icon:Mu,variant:"danger",requiresConfirmation:!0,confirmationMessage:"Are you sure you want to reject the selected batches?"},{id:"update_expiry",label:"Update Expiry Dates",icon:Jr,variant:"warning",requiresConfirmation:!0,confirmationMessage:"Update expiry dates for selected batches?"},{id:"delete",label:"Delete Batches",icon:Ar,variant:"danger",requiresConfirmation:!0,confirmationMessage:"Are you sure you want to delete the selected batches? This action cannot be undone."}];function $Be({batches:e,onView:t,onEdit:s,onDelete:a,onApprove:n,onReject:i,onBulkAction:l,title:o="Stock Batches",showApprovalActions:c=!1}){const[d,h]=A.useState(""),[m,p]=A.useState(""),[x,v]=A.useState(""),[y,b]=A.useState(""),[j,S]=A.useState({isOpen:!1,actionId:"",actionType:""}),w=e.filter(V=>{const re=!d||V.productName.toLowerCase().includes(d.toLowerCase())||V.batchNumber.toLowerCase().includes(d.toLowerCase())||V.traceabilityCode.toLowerCase().includes(d.toLowerCase()),X=!m||V.category===m,Z=!x||V.status===x,ye=!y||y==="expired"&&V.daysUntilExpiry<0||y==="expiring_soon"&&V.daysUntilExpiry>=0&&V.daysUntilExpiry<=3||y==="fresh"&&V.daysUntilExpiry>3;return re&&X&&Z&&ye}),{selectedItems:k,selectAll:_,deselectAll:O,toggleItem:E,isSelected:F}=Og(w),I=k.length===w.length&&w.length>0,U=k.length>0&&k.length<w.length,M=V=>{const re=yU.find(X=>X.id===V);re?.requiresConfirmation?S({isOpen:!0,actionId:V,actionType:re.variant||"default"}):l?.(V,k)},L=async V=>{l&&(await l(j.actionId,k,V),O()),S({isOpen:!1,actionId:"",actionType:""})},J=V=>{switch(V){case"approved":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},K=V=>V<0?"text-red-600":V<=3?"text-yellow-600":"text-green-600",ae=V=>V<0?"Expired":V===0?"Expires Today":V<=3?`${V} days left`:`${V} days left`;return r.jsxs("div",{className:"space-y-4",children:[r.jsx(Eg,{searchValue:d,onSearchChange:h,placeholder:"Search by product name, batch number, or traceability code...",filters:[{key:"category",label:"Category",value:m,onChange:p,options:[{value:"",label:"All Categories"},{value:"sea-fish",label:"Sea Fish"},{value:"freshwater-fish",label:"Freshwater Fish"},{value:"shell-fish",label:"Shell Fish"},{value:"dry-fish",label:"Dry Fish"},{value:"chicken",label:"Chicken"},{value:"mutton",label:"Mutton"},{value:"egg",label:"Egg"}]},{key:"status",label:"Status",value:x,onChange:v,options:[{value:"",label:"All Status"},{value:"pending",label:"Pending Approval"},{value:"approved",label:"Approved"},{value:"rejected",label:"Rejected"}]},{key:"expiry",label:"Expiry Status",value:y,onChange:b,options:[{value:"",label:"All Items"},{value:"fresh",label:"Fresh (>3 days)"},{value:"expiring_soon",label:"Expiring Soon (3 days)"},{value:"expired",label:"Expired"}]}]}),k.length>0&&r.jsx(Pg,{selectedItems:k,totalItems:w.length,onSelectAll:_,onDeselectAll:O,actions:yU,onAction:M,itemName:"batches"}),w.length>0&&r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:I?O:_,className:`p-1 rounded transition-colors ${I?"text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:I?r.jsx(lc,{className:"h-4 w-4"}):U?r.jsx(Xd,{className:"h-4 w-4"}):r.jsx(oc,{className:"h-4 w-4"})}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:k.length>0?`${k.length} of ${w.length} ${o.toLowerCase()} selected`:`Select all ${w.length} ${o.toLowerCase()}`})]})}),r.jsx("div",{className:"space-y-3",children:w.map(V=>r.jsx(he,{className:"p-4 hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("button",{onClick:()=>E(V.id),className:`p-1 rounded transition-colors flex-shrink-0 mt-1 ${F(V.id)?"text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:F(V.id)?r.jsx(lc,{className:"h-4 w-4"}):r.jsx(oc,{className:"h-4 w-4"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[r.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:V.productName}),r.jsx(Xe,{variant:J(V.status),className:"text-xs",children:V.status.charAt(0).toUpperCase()+V.status.slice(1)}),r.jsx(Xe,{variant:"bg-purple-100 text-purple-800",className:"text-xs capitalize",children:V.qualityGrade.replace("-"," ")}),V.chemicalFree==="organic"&&r.jsx(Xe,{variant:"bg-green-100 text-green-800",className:"text-xs",children:"Organic"}),V.chemicalFree==="yes"&&r.jsx(Xe,{variant:"bg-green-100 text-green-800",className:"text-xs",children:"Chemical Free"})]}),r.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-600 mb-2",children:[r.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:V.batchNumber}),r.jsx("span",{className:"font-mono bg-blue-50 px-2 py-1 rounded text-blue-700",children:V.traceabilityCode})]})]}),r.jsxs("div",{className:"text-right flex-shrink-0 bg-green-50 p-3 rounded-lg border border-green-200 ml-4",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Total Value"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:bt(V.totalValue)})]})]}),r.jsxs("div",{className:"mb-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[r.jsx("p",{className:"text-xs font-semibold text-blue-900 mb-2",children:"Batch Information"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Category"}),r.jsx("p",{className:"font-semibold text-gray-900 capitalize",children:V.category.replace("-"," ")})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Individual Weight"}),r.jsxs("p",{className:"font-semibold text-gray-900",children:[V.individualWeight," ",V.quantityUnit]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Total Quantity"}),r.jsxs("p",{className:"font-semibold text-gray-900",children:[V.quantity," units"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Catch Type"}),r.jsx("p",{className:"font-semibold text-gray-900 capitalize",children:V.catchType})]})]})]}),r.jsxs("div",{className:"mb-3 p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:[r.jsx("p",{className:"text-xs font-semibold text-yellow-900 mb-2",children:"Dates & Expiry"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Jr,{className:"h-3 w-3 text-yellow-600 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Catch/Slaughter"}),r.jsx("p",{className:"text-xs font-semibold text-gray-900",children:new Date(V.catchSlaughterDate).toLocaleDateString("en-IN",{month:"short",day:"numeric",year:"numeric"})})]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Jr,{className:"h-3 w-3 text-yellow-600 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Received Date"}),r.jsx("p",{className:"text-xs font-semibold text-gray-900",children:new Date(V.receivedDate).toLocaleDateString("en-IN",{month:"short",day:"numeric",year:"numeric"})})]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Tr,{className:"h-3 w-3 text-yellow-600 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Expiry Date"}),r.jsx("p",{className:`text-xs font-semibold ${K(V.daysUntilExpiry)}`,children:new Date(V.expiryDate).toLocaleDateString("en-IN",{month:"short",day:"numeric",year:"numeric"})})]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Tr,{className:"h-3 w-3 text-yellow-600 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Days Until Expiry"}),r.jsx("p",{className:`text-xs font-bold ${K(V.daysUntilExpiry)}`,children:ae(V.daysUntilExpiry)})]})]})]})]}),r.jsxs("div",{className:"mb-3 p-3 bg-purple-50 rounded-lg border border-purple-200",children:[r.jsx("p",{className:"text-xs font-semibold text-purple-900 mb-2",children:"Origin & Source"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Vs,{className:"h-3 w-3 text-purple-600 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Harvest Origin"}),r.jsx("p",{className:"text-xs font-semibold text-gray-900",children:V.harvestOrigin})]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Vs,{className:"h-3 w-3 text-purple-600 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Country"}),r.jsx("p",{className:"text-xs font-semibold text-gray-900",children:V.countryOfOrigin})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Created By"}),r.jsx("p",{className:"text-xs font-semibold text-gray-900",children:V.createdBy}),r.jsx("p",{className:"text-xs text-gray-500",children:V.createdByRole})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Chemical Status"}),r.jsx("p",{className:"text-xs font-semibold text-gray-900 capitalize",children:V.chemicalFree})]})]})]}),r.jsxs("div",{className:"mb-3 p-3 bg-indigo-50 rounded-lg border border-indigo-200",children:[r.jsx("p",{className:"text-xs font-semibold text-indigo-900 mb-2",children:"Storage & Packaging"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Tt,{className:"h-3 w-3 text-indigo-600 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Packaging Type"}),r.jsx("p",{className:"text-xs font-semibold text-gray-900",children:V.packagingType})]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Xp,{className:"h-3 w-3 text-indigo-600 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Storage Temperature"}),r.jsx("p",{className:"text-xs font-semibold text-gray-900",children:V.storageTemperature})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Quality Grade"}),r.jsx("p",{className:"text-xs font-semibold text-gray-900 capitalize",children:V.qualityGrade.replace("-"," ")})]})]})]}),V.certifications.length>0&&r.jsxs("div",{className:"mb-3 p-3 bg-green-50 rounded-lg border border-green-200",children:[r.jsxs("p",{className:"text-xs font-semibold text-green-900 mb-2",children:["Certifications (",V.certifications.length,")"]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:V.certifications.map(re=>r.jsx(Xe,{variant:"bg-green-100 text-green-800",className:"text-xs",children:re},re))})]}),V.status==="approved"&&V.approvedBy&&r.jsxs("div",{className:"mb-3 p-3 bg-green-50 rounded-lg border border-green-200",children:[r.jsx("p",{className:"text-xs font-semibold text-green-900 mb-1",children:"Approval Information"}),r.jsxs("p",{className:"text-xs text-green-700",children:["Approved by ",r.jsx("strong",{children:V.approvedBy})," on"," ",V.approvedDate&&new Date(V.approvedDate).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})]})]}),V.status==="rejected"&&V.rejectionReason&&r.jsxs("div",{className:"mb-3 p-3 bg-red-50 rounded-lg border border-red-200",children:[r.jsx("p",{className:"text-xs font-semibold text-red-900 mb-1",children:"Rejection Reason"}),r.jsx("p",{className:"text-xs text-red-700",children:V.rejectionReason})]}),r.jsxs("div",{className:"flex flex-wrap gap-2 pt-3 border-t",children:[r.jsxs("button",{onClick:()=>t?.(V),className:"flex items-center gap-1 px-3 py-1.5 text-xs border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[r.jsx(Fr,{className:"h-3 w-3"}),"View Details"]}),r.jsxs("button",{onClick:()=>s?.(V),className:"flex items-center gap-1 px-3 py-1.5 text-xs border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[r.jsx(ss,{className:"h-3 w-3"}),"Edit"]}),c&&V.status==="pending"&&r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>n?.(V),className:"flex items-center gap-1 px-3 py-1.5 text-xs bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[r.jsx(Dr,{className:"h-3 w-3"}),"Approve"]}),r.jsxs("button",{onClick:()=>i?.(V),className:"flex items-center gap-1 px-3 py-1.5 text-xs bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[r.jsx(Mu,{className:"h-3 w-3"}),"Reject"]})]}),r.jsxs("button",{onClick:()=>a?.(V),className:"flex items-center gap-1 px-3 py-1.5 text-xs border border-red-300 text-red-600 rounded-lg hover:bg-red-50 transition-colors",children:[r.jsx(Ar,{className:"h-3 w-3"}),"Delete"]})]})]})]})},V.id))}),w.length===0&&r.jsxs(he,{className:"p-12 text-center",children:[r.jsx(Tt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No stock batches found"}),r.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or filters"})]}),r.jsx(Dg,{isOpen:j.isOpen,onClose:()=>S({isOpen:!1,actionId:"",actionType:""}),onConfirm:L,title:`Bulk Action: ${j.actionId}`,actionType:j.actionType,selectedCount:k.length,itemName:"batches"})]})}const HBe=["Batch Number","Traceability Code","Product Name","Category","Quantity","Unit (kg/g/pcs)","Individual Weight","Catch Date (YYYY-MM-DD)","Received Date (YYYY-MM-DD)","Expiry Date (YYYY-MM-DD)","Harvest Origin","Country","Catch Type (wild/farmed)","Quality Grade (grade-a/b/c)","Packaging Type","Storage Temp"],qBe=["BATCH-005","LOT-20260128-TEMP","Mackerel","sea-fish","100","kg","0.5","2026-01-27","2026-01-28","2026-02-01","Arabian Sea","India","wild","grade-a","Ice Packed","0-4C (Fresh)"];function VBe({isOpen:e,onClose:t,onUpload:s}){const[a,n]=A.useState(null),[i,l]=A.useState([]),[o,c]=A.useState([]),[d,h]=A.useState(!1),m=A.useRef(null),p=()=>{const S=[HBe.join(","),qBe.join(",")].join(`
`),w=new Blob([S],{type:"text/csv"}),k=window.URL.createObjectURL(w),_=document.createElement("a");_.href=k,_.download="stock_batch_template.csv",_.click(),window.URL.revokeObjectURL(k)},x=S=>{const w=S.split(`
`),k=[],_=[];for(let O=1;O<w.length;O++){const E=w[O].trim();if(!E)continue;const F=E.split(",").map(G=>G.trim());if(F.length<5){_.push({row:O+1,message:"Insufficient columns"});continue}const[I,U,M,L,J,K,ae,V,re,X,Z,ye,te,D,H,q]=F;if(!M){_.push({row:O+1,message:"Product Name is required"});continue}if(!L){_.push({row:O+1,message:"Category is required"});continue}if(isNaN(Number(J))){_.push({row:O+1,message:"Quantity must be a number"});continue}const W={batchNumber:I||`BATCH-${Date.now()}-${O}`,traceabilityCode:U||`LOT-${new Date().toISOString().slice(0,10).replace(/-/g,"")}`,productName:M,category:L,quantity:Number(J),quantityUnit:K||"kg",individualWeight:Number(ae)||0,catchSlaughterDate:V||new Date().toISOString().slice(0,10),receivedDate:re||new Date().toISOString().slice(0,10),expiryDate:X||"",harvestOrigin:Z||"",countryOfOrigin:ye||"India",catchType:te||"wild",qualityGrade:D||"grade-a",packagingType:H||"",storageTemperature:q||"0-4C (Fresh)",certifications:[],chemicalFree:"no",createdBy:"Bulk Upload",createdByRole:"System",status:"pending"};k.push(W)}l(k),c(_)},v=S=>{const w=S.target.files?.[0];if(w){n(w);const k=new FileReader;k.onload=_=>{const O=_.target?.result;x(O)},k.readAsText(w)}},y=S=>{S.preventDefault(),h(!1);const w=S.dataTransfer.files[0];if(w?.type==="text/csv"||w?.name.endsWith(".csv")){n(w);const k=new FileReader;k.onload=_=>{const O=_.target?.result;x(O)},k.readAsText(w)}},b=()=>{s(i),j()},j=()=>{n(null),l([]),c([]),t()};return r.jsx(ir,{isOpen:e,onClose:j,title:"Bulk Upload Stock Batches",size:"xl",children:r.jsxs("div",{className:"space-y-6",children:[a?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-4 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Rs,{className:"h-8 w-8 text-blue-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:a.name}),r.jsxs("p",{className:"text-sm text-gray-500",children:[i.length," valid records found"]})]})]}),r.jsxs(oe,{variant:"secondary",onClick:()=>{n(null),l([])},children:[r.jsx(Ld,{className:"mr-2 h-4 w-4"}),"Change File"]})]}),o.length>0&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[r.jsxs("h4",{className:"flex items-center text-red-800 font-medium mb-2",children:[r.jsx(Ts,{className:"h-4 w-4 mr-2"}),"Found ",o.length," errors"]}),r.jsx("ul",{className:"list-disc list-inside text-sm text-red-700 max-h-32 overflow-y-auto",children:o.map((S,w)=>r.jsxs("li",{children:["Row ",S.row,": ",S.message]},w))})]}),i.length>0&&r.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[r.jsx("div",{className:"bg-gray-50 px-4 py-2 border-b font-medium text-sm text-gray-700",children:"Preview (First 5 records)"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Qty"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Expiry"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.slice(0,5).map((S,w)=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:S.productName}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:S.category}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[S.quantity," ",S.quantityUnit]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:S.expiryDate})]},w))})]})}),i.length>5&&r.jsxs("div",{className:"px-4 py-2 bg-gray-50 border-t text-sm text-gray-500 text-center",children:["...and ",i.length-5," more records"]})]})]}):r.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${d?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,onDragOver:S=>{S.preventDefault(),h(!0)},onDragLeave:()=>h(!1),onDrop:y,children:[r.jsx(jo,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Upload CSV File"}),r.jsx("p",{className:"text-gray-500 mb-6",children:"Drag and drop your CSV file here, or click to browse"}),r.jsxs("div",{className:"flex justify-center gap-4",children:[r.jsx(oe,{onClick:()=>m.current?.click(),children:"Browse Files"}),r.jsxs(oe,{variant:"secondary",onClick:p,children:[r.jsx(ei,{className:"mr-2 h-4 w-4"}),"Download Template"]})]}),r.jsx("input",{type:"file",ref:m,className:"hidden",accept:".csv",onChange:v})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[r.jsx(oe,{variant:"secondary",onClick:j,children:"Cancel"}),r.jsxs(oe,{onClick:b,disabled:!a||i.length===0||o.length>0,className:o.length>0?"opacity-50 cursor-not-allowed":"",children:[r.jsx(jo,{className:"mr-2 h-4 w-4"}),"Upload ",i.length," Batches"]})]})]})})}const aj=[{id:"1",batchNumber:"BATCH-001",traceabilityCode:"LOT-20260115-CH001",productName:"Tuna",category:"sea-fish",individualWeight:5,quantity:20,quantityUnit:"kg",catchSlaughterDate:"2026-01-16",receivedDate:"2026-01-17",expiryDate:"2026-01-20",certifications:["Halal","MSC Certified"],catchType:"wild",chemicalFree:"yes",qualityGrade:"grade-a",harvestOrigin:"Bay of Bengal",countryOfOrigin:"India",packagingType:"Ice Packed",storageTemperature:"0-4C (Fresh)",createdBy:"Rajesh Kumar",createdByRole:"Procurement Manager",status:"approved",totalValue:25e3,daysUntilExpiry:3,approvedBy:"Suresh Admin",approvedDate:"2026-01-17"},{id:"2",batchNumber:"BATCH-002",traceabilityCode:"LOT-20260115-CH002",productName:"Seer Fish",category:"sea-fish",individualWeight:2,quantity:15,quantityUnit:"kg",catchSlaughterDate:"2026-01-15",receivedDate:"2026-01-17",expiryDate:"2026-01-19",certifications:["Halal"],catchType:"wild",chemicalFree:"no",qualityGrade:"grade-b",harvestOrigin:"Chilka Lake",countryOfOrigin:"India",packagingType:"Vacuum Packed",storageTemperature:"0-4C (Fresh)",createdBy:"Priya Sharma",createdByRole:"Hub Manager",status:"pending",totalValue:18e3,daysUntilExpiry:1},{id:"3",batchNumber:"BATCH-003",traceabilityCode:"LOT-20260115-ST001",productName:"Chicken Breast",category:"chicken",individualWeight:.5,quantity:50,quantityUnit:"kg",catchSlaughterDate:"2026-01-16",receivedDate:"2026-01-17",expiryDate:"2026-01-22",certifications:["Halal","HACCP"],catchType:"farmed",chemicalFree:"organic",qualityGrade:"grade-a",harvestOrigin:"Local Farm",countryOfOrigin:"India",packagingType:"Fresh Box",storageTemperature:"0-4C (Fresh)",createdBy:"Arun Patel",createdByRole:"Store Manager",status:"approved",totalValue:14e3,daysUntilExpiry:5,approvedBy:"Suresh Admin",approvedDate:"2026-01-17"},{id:"4",batchNumber:"BATCH-004",traceabilityCode:"LOT-20260114-CH003",productName:"Tiger Prawns",category:"shell-fish",individualWeight:1,quantity:10,quantityUnit:"kg",catchSlaughterDate:"2026-01-14",receivedDate:"2026-01-16",expiryDate:"2026-01-18",certifications:["MSC Certified"],catchType:"wild",chemicalFree:"yes",qualityGrade:"grade-a",harvestOrigin:"Sundarban Delta",countryOfOrigin:"India",packagingType:"Ice Packed",storageTemperature:"0-4C (Fresh)",createdBy:"Meera Nair",createdByRole:"Procurement Officer",status:"rejected",totalValue:8500,daysUntilExpiry:-1,rejectionReason:"Quality issues detected during inspection"}];function nj(){const{user:e}=es(),[t,s]=A.useState("hub"),[a,n]=A.useState(!1),[i,l]=A.useState(!1),[o,c]=A.useState(!1),[d,h]=A.useState(!1),[m,p]=A.useState(!1),[x,v]=A.useState(null),b=e?.loginType==="super_admin"?aj:e?.loginType==="hub"?aj.filter(ye=>["sea-fish","freshwater-fish","shell-fish","dry-fish"].includes(ye.category)):e?.loginType==="store"?aj.filter(ye=>["chicken","mutton","egg"].includes(ye.category)):aj,j=b.filter(ye=>["sea-fish","freshwater-fish","shell-fish","dry-fish"].includes(ye.category)),S=b.filter(ye=>["chicken","mutton","egg"].includes(ye.category)),k=(()=>{const ye=[{id:"hub",label:"Hub Stock",icon:Wl,count:j.length},{id:"store",label:"Store Stock",icon:Fn,count:S.length}];return e?.loginType==="hub"?ye.filter(te=>te.id==="hub"):e?.loginType==="store"?ye.filter(te=>te.id==="store"):ye})();A.useState(()=>{const ye=e?.loginType==="hub"?"hub":e?.loginType==="store"?"store":"hub";s(ye)});const _=()=>t==="hub"?j:S,O=ye=>{v(ye),l(!0)},E=ye=>{v(ye),c(!0)},F=ye=>{confirm("Are you sure you want to delete this stock batch?")&&console.log("Delete batch:",ye.id)},I=ye=>{confirm("Are you sure you want to approve this stock batch?")&&console.log("Approve batch:",ye.id)},U=ye=>{const te=prompt("Please provide a reason for rejection:");te&&console.log("Reject batch:",ye.id,"Reason:",te)},M=()=>{v(null),n(!0)},L=ye=>{console.log("Save batch:",ye),n(!1),c(!1),v(null),alert("Stock batch submitted for approval successfully!")},J=ye=>{console.log("Bulk upload data:",ye),alert(`Successfully uploaded ${ye.length} batches!`),p(!1)},K=ye=>{v(ye),h(!0)},ae=async(ye,te,D)=>{try{switch(ye){case"approve":console.log(`Approving ${te.length} batches:`,te);break;case"reject":console.log(`Rejecting ${te.length} batches:`,te);break;case"update_expiry":console.log(`Updating expiry for ${te.length} batches:`,te);break;case"delete":console.log(`Deleting ${te.length} batches:`,te);break;default:console.log(`Bulk action ${ye} performed on ${te.length} batches`,D)}}catch(H){console.error("Batch bulk action failed:",H),alert("Bulk action failed. Please try again.")}},V=ye=>({total:ye.length,approved:ye.filter(te=>te.status==="approved").length,pending:ye.filter(te=>te.status==="pending").length,rejected:ye.filter(te=>te.status==="rejected").length,expiringSoon:ye.filter(te=>te.daysUntilExpiry>=0&&te.daysUntilExpiry<=3).length,expired:ye.filter(te=>te.daysUntilExpiry<0).length,totalValue:ye.reduce((te,D)=>te+D.totalValue,0)}),re=V(j),X=V(S),Z=t==="hub"?re:X;return r.jsx("div",{className:"min-h-screen bg-gray-50",children:r.jsx("div",{className:"w-full py-4 sm:py-6 lg:py-8",children:r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900 truncate",children:e?.loginType==="hub"?"Hub Stock Management":e?.loginType==="store"?"Store Stock Management":"Stock Management"}),r.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1 sm:mt-2",children:"Comprehensive batch tracking with traceability, certifications, and approval workflow"})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[r.jsxs(oe,{variant:"secondary",onClick:()=>h(!0),className:"w-full sm:w-auto flex-shrink-0 px-4 py-2",children:[r.jsx(cg,{className:"mr-2 h-4 w-4"}),r.jsx("span",{className:"hidden sm:inline",children:"History"}),r.jsx("span",{className:"sm:hidden",children:"History"})]}),r.jsxs(oe,{variant:"secondary",onClick:()=>p(!0),className:"w-full sm:w-auto flex-shrink-0 px-4 py-2",children:[r.jsx(jo,{className:"mr-2 h-4 w-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Bulk Upload"}),r.jsx("span",{className:"sm:hidden",children:"Upload"})]}),r.jsxs(oe,{onClick:M,className:"w-full sm:w-auto flex-shrink-0 px-4 py-2 sm:px-6 sm:py-3",children:[r.jsx(dr,{className:"mr-2 h-4 w-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Add New Stock"}),r.jsx("span",{className:"sm:hidden",children:"Add Stock"})]})]})]})}),r.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 lg:gap-6",children:[r.jsx(he,{className:"p-3 sm:p-4 lg:p-6 hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 truncate font-medium",children:"Total Batches"}),r.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-gray-900 mt-1",children:Z.total}),r.jsx("p",{className:"text-xs text-gray-500 mt-1 truncate",children:bt(Z.totalValue)})]}),r.jsx("div",{className:"p-2 sm:p-3 bg-blue-100 rounded-lg flex-shrink-0",children:r.jsx(Tt,{className:"h-4 w-4 sm:h-5 sm:w-5 lg:h-6 lg:w-6 text-blue-600"})})]})}),r.jsx(he,{className:"p-3 sm:p-4 lg:p-6 hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 truncate font-medium",children:"Approved"}),r.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-green-600 mt-1",children:Z.approved}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Ready for sale"})]}),r.jsx("div",{className:"p-2 sm:p-3 bg-green-100 rounded-lg flex-shrink-0",children:r.jsx(Dr,{className:"h-4 w-4 sm:h-5 sm:w-5 lg:h-6 lg:w-6 text-green-600"})})]})}),r.jsx(he,{className:"p-3 sm:p-4 lg:p-6 hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 truncate font-medium",children:"Pending"}),r.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-yellow-600 mt-1",children:Z.pending}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Awaiting review"})]}),r.jsx("div",{className:"p-2 sm:p-3 bg-yellow-100 rounded-lg flex-shrink-0",children:r.jsx(Tr,{className:"h-4 w-4 sm:h-5 sm:w-5 lg:h-6 lg:w-6 text-yellow-600"})})]})}),r.jsx(he,{className:"p-3 sm:p-4 lg:p-6 hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 truncate font-medium",children:"Expiring Soon"}),r.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-red-600 mt-1",children:Z.expiringSoon}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"3 days left"})]}),r.jsx("div",{className:"p-2 sm:p-3 bg-red-100 rounded-lg flex-shrink-0",children:r.jsx(Ts,{className:"h-4 w-4 sm:h-5 sm:w-5 lg:h-6 lg:w-6 text-red-600"})})]})})]}),k.length>1&&r.jsx(he,{className:"p-4 sm:p-6",children:r.jsx("div",{className:"flex gap-1 sm:gap-2 border-b overflow-x-auto pb-4",children:k.map(ye=>r.jsx("button",{onClick:()=>s(ye.id),className:`flex flex-col sm:flex-row items-center gap-1 sm:gap-2 px-3 sm:px-4 py-2 sm:py-3 border-b-2 transition-all whitespace-nowrap text-xs sm:text-sm min-w-0 ${t===ye.id?"border-blue-600 text-blue-600 bg-blue-50":"border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-50"} rounded-t-lg`,children:r.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[r.jsx(ye.icon,{className:"h-3 w-3 sm:h-4 sm:w-4 flex-shrink-0"}),r.jsx("span",{className:"font-medium truncate",children:ye.label}),r.jsx(Xe,{variant:"bg-gray-100 text-gray-600",className:"text-xs flex-shrink-0",children:ye.count})]})},ye.id))})}),r.jsx(he,{className:"overflow-hidden",children:r.jsx($Be,{batches:_(),onView:O,onEdit:E,onDelete:F,onApprove:I,onReject:U,onBulkAction:ae,title:t==="hub"?"Hub Stock Batches":"Store Stock Batches",showApprovalActions:e?.loginType==="super_admin"})}),r.jsx(ir,{isOpen:a,onClose:()=>{n(!1),v(null)},title:"Add New Stock Batch",size:"xl",children:r.jsx(vU,{onSave:L,onCancel:()=>{n(!1),v(null)}})}),r.jsx(ir,{isOpen:o,onClose:()=>{c(!1),v(null)},title:"Edit Stock Batch",size:"xl",children:x&&r.jsx(vU,{initialData:x,onSave:L,onCancel:()=>{c(!1),v(null)},isEdit:!0})}),r.jsx(ir,{isOpen:i,onClose:()=>{l(!1),v(null)},title:"Stock Batch Details",size:"xl",children:x&&r.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold",children:x.productName}),r.jsxs("p",{className:"text-gray-600",children:["Batch: ",x.batchNumber]}),r.jsx("p",{className:"text-sm text-gray-500 font-mono",children:x.traceabilityCode})]}),r.jsxs("div",{className:"text-right",children:[r.jsx(Xe,{variant:x.status==="approved"?"bg-green-100 text-green-800":x.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",className:"text-sm mb-2",children:x.status.charAt(0).toUpperCase()+x.status.slice(1)}),r.jsx("p",{className:"text-lg font-bold",children:bt(x.totalValue)})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs(he,{className:"p-4",children:[r.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[r.jsx(Tt,{className:"h-4 w-4"}),"Product Information"]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Category:"}),r.jsx("span",{className:"capitalize",children:x.category.replace("-"," ")})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Individual Weight:"}),r.jsxs("span",{children:[x.individualWeight," ",x.quantityUnit]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Quantity:"}),r.jsxs("span",{children:[x.quantity," units"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Quality Grade:"}),r.jsx("span",{className:"capitalize",children:x.qualityGrade.replace("-"," ")})]})]})]}),r.jsxs(he,{className:"p-4",children:[r.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[r.jsx(Tr,{className:"h-4 w-4"}),"Important Dates"]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Catch/Slaughter:"}),r.jsx("span",{children:new Date(x.catchSlaughterDate).toLocaleDateString()})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Received:"}),r.jsx("span",{children:new Date(x.receivedDate).toLocaleDateString()})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Expiry:"}),r.jsx("span",{className:x.daysUntilExpiry<0?"text-red-600 font-medium":x.daysUntilExpiry<=3?"text-yellow-600 font-medium":"text-green-600",children:new Date(x.expiryDate).toLocaleDateString()})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Days Until Expiry:"}),r.jsx("span",{className:x.daysUntilExpiry<0?"text-red-600 font-bold":x.daysUntilExpiry<=3?"text-yellow-600 font-bold":"text-green-600 font-bold",children:x.daysUntilExpiry<0?"Expired":`${x.daysUntilExpiry} days`})]})]})]}),r.jsxs(he,{className:"p-4",children:[r.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[r.jsx(Vs,{className:"h-4 w-4"}),"Origin & Source"]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Harvest Origin:"}),r.jsx("span",{children:x.harvestOrigin})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Country:"}),r.jsx("span",{children:x.countryOfOrigin})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Catch Type:"}),r.jsx("span",{className:"capitalize",children:x.catchType})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Chemical Free:"}),r.jsx("span",{className:"capitalize",children:x.chemicalFree})]})]})]}),r.jsxs(he,{className:"p-4",children:[r.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[r.jsx(Xp,{className:"h-4 w-4"}),"Storage & Packaging"]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Packaging:"}),r.jsx("span",{children:x.packagingType})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Storage Temp:"}),r.jsx("span",{children:x.storageTemperature})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Created By:"}),r.jsx("span",{children:x.createdBy})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Role:"}),r.jsx("span",{children:x.createdByRole})]})]})]})]}),x.certifications.length>0&&r.jsxs(he,{className:"p-4",children:[r.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[r.jsx(JU,{className:"h-4 w-4"}),"Certifications"]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:x.certifications.map(ye=>r.jsx(Xe,{variant:"bg-blue-100 text-blue-800",className:"text-sm",children:ye},ye))})]}),x.status==="approved"&&x.approvedBy&&r.jsxs(he,{className:"p-4 bg-green-50 border-green-200",children:[r.jsx("h4",{className:"font-semibold mb-2 text-green-800",children:"Approval Information"}),r.jsxs("p",{className:"text-sm text-green-700",children:["Approved by ",r.jsx("strong",{children:x.approvedBy})," on"," ",x.approvedDate&&new Date(x.approvedDate).toLocaleDateString()]})]}),x.status==="rejected"&&x.rejectionReason&&r.jsxs(he,{className:"p-4 bg-red-50 border-red-200",children:[r.jsx("h4",{className:"font-semibold mb-2 text-red-800",children:"Rejection Information"}),r.jsxs("p",{className:"text-sm text-red-700",children:[r.jsx("strong",{children:"Reason:"})," ",x.rejectionReason]})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[r.jsx(oe,{variant:"secondary",onClick:()=>{l(!1),v(null)},className:"flex-1",children:"Close"}),r.jsx(oe,{onClick:()=>{l(!1),c(!0)},className:"flex-1",children:"Edit Batch"}),r.jsxs(oe,{variant:"secondary",onClick:()=>K(x),className:"flex-1",children:[r.jsx(cg,{className:"mr-2 h-4 w-4"}),"View History"]})]})]})}),r.jsx(ir,{isOpen:d,onClose:()=>{h(!1),v(null)},title:"Batch Edit History",size:"lg",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 rounded-lg",children:[r.jsx(Rs,{className:"h-5 w-5 text-blue-600"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-blue-900",children:"Edit History"}),r.jsx("p",{className:"text-sm text-blue-700",children:"Track all changes made to this batch over time"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"border-l-4 border-green-500 pl-4 py-2",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Batch Approved"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Status changed from Pending to Approved"}),r.jsx("p",{className:"text-xs text-gray-500",children:"by Suresh Admin"})]}),r.jsx("span",{className:"text-xs text-gray-500",children:"2026-01-17 10:30 AM"})]})}),r.jsx("div",{className:"border-l-4 border-blue-500 pl-4 py-2",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Batch Created"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Initial batch entry with all details"}),r.jsxs("p",{className:"text-xs text-gray-500",children:["by ",x?.createdBy]})]}),r.jsx("span",{className:"text-xs text-gray-500",children:"2026-01-17 09:15 AM"})]})})]}),r.jsx("div",{className:"flex justify-end pt-4 border-t",children:r.jsx(oe,{variant:"secondary",onClick:()=>{h(!1),v(null)},children:"Close"})})]})}),r.jsx(VBe,{isOpen:m,onClose:()=>p(!1),onUpload:J})]})})})}const WBe=[{id:"sales",label:"Sales Report",icon:Tg,description:"Revenue, orders, average order value",path:"/reports/sales",hubPath:"/hub/reports/sales",storePath:"/store/reports/sales"},{id:"packing",label:"Packing Report",icon:Tt,description:"Items packed, time taken, team performance",path:"/reports/packing",hubPath:"/hub/reports/packing",storePath:"/store/reports/packing"},{id:"delivery",label:"Delivery Report",icon:Mr,description:"On-time rate, delayed orders, partner performance",path:"/reports/delivery",hubPath:"/hub/reports/delivery",storePath:"/store/reports/delivery"},{id:"stock",label:"Stock Report",icon:Zn,description:"Current stock, low stock alerts, movements",path:"/reports/stock",hubPath:"/hub/reports/stock",storePath:"/store/reports/stock"},{id:"customer",label:"Customer Report",icon:Qr,description:"New customers, active customers, lifetime value",path:"/reports/customer",hubPath:"/hub/reports/customer",storePath:"/store/reports/customer"},{id:"demand-forecast",label:"Products Demand Forecast",icon:ta,description:"AI-powered demand prediction and inventory planning",path:"/reports/demand-forecast",hubPath:"/hub/reports/demand-forecast",storePath:"/store/reports/demand-forecast"},{id:"trend-analysis",label:"Product Trend Analysis",icon:tte,description:"Track product performance and market trends",path:"/reports/trend-analysis",hubPath:"/hub/reports/trend-analysis",storePath:"/store/reports/trend-analysis"},{id:"tax-gst",label:"Tax & GST Reports",icon:Vh,description:"Tax calculation and GST reports for accounting",path:"/reports/tax-gst",hubPath:"/hub/reports/tax-gst",storePath:"/store/reports/tax-gst"}];function Ep(){const e=vb(),t=Ao(),{user:s}=es();if(s?.role==="hub_procurement"||s?.role==="store_procurement")return r.jsx(m6,{});if(s?.role==="hub_packing"||s?.role==="store_packing"){const l=[{id:"packing",title:"Packing Reports",description:"View packing performance, processing times, and team efficiency",icon:Tt,path:t.pathname.startsWith("/hub/")?"/hub/reports/packing":"/store/reports/packing",color:"bg-orange-500"}];return r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Packing Reports"}),r.jsx("p",{className:"text-gray-600",children:"Access reports related to packing operations and performance"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(o=>{const c=o.icon;return r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>e(o.path),children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:`${o.color} p-3 rounded-lg text-white mr-4`,children:r.jsx(c,{className:"h-6 w-6"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:o.title})]}),r.jsx("p",{className:"text-gray-600 text-sm",children:o.description})]},o.id)})})]})}if(s?.role==="hub_delivery"||s?.role==="store_delivery"){const l=[{id:"delivery",title:"Delivery Reports",description:"View delivery performance, on-time rates, and route efficiency",icon:Mr,path:t.pathname.startsWith("/hub/")?"/hub/reports/delivery":"/store/reports/delivery",color:"bg-purple-500"}];return r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Delivery Reports"}),r.jsx("p",{className:"text-gray-600",children:"Access reports related to delivery operations and performance"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(o=>{const c=o.icon;return r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>e(o.path),children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:`${o.color} p-3 rounded-lg text-white mr-4`,children:r.jsx(c,{className:"h-6 w-6"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:o.title})]}),r.jsx("p",{className:"text-gray-600 text-sm",children:o.description})]},o.id)})})]})}const n=t.pathname.startsWith("/hub/")?"hub":t.pathname.startsWith("/store/")?"store":"super_admin",i=l=>{let o=l.path;n==="hub"?o=l.hubPath:n==="store"&&(o=l.storePath),e(o)};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Report Center"}),r.jsx("p",{className:"text-gray-600",children:"Access detailed reports and analytics"})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:r.jsxs(oe,{variant:"secondary",size:"sm",onClick:()=>alert("Exporting all reports..."),children:[r.jsx(ei,{className:"mr-2 h-5 w-5"})," Export All"]})})]}),r.jsx("div",{className:"grid gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:WBe.map(l=>r.jsx(he,{className:"cursor-pointer transition-all hover:shadow-md hover:border-blue-300 group",onClick:()=>i(l),children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"rounded-lg bg-blue-50 p-3 group-hover:bg-blue-100 transition-colors",children:r.jsx(l.icon,{className:"h-6 w-6 text-blue-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:l.label}),r.jsx(mx,{className:"h-4 w-4 text-gray-400 group-hover:text-blue-600 transition-colors"})]}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:l.description})]})]})},l.id))}),r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-4",children:[r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Today's Revenue"}),r.jsx("p",{className:"text-2xl font-bold",children:"1,24,500"}),r.jsx("p",{className:"text-xs text-green-600",children:"+12% from yesterday"})]}),r.jsx("div",{className:"rounded-lg bg-blue-50 p-3",children:r.jsx(Tg,{className:"h-6 w-6 text-blue-600"})})]})}),r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Items Packed"}),r.jsx("p",{className:"text-2xl font-bold",children:"1,247"}),r.jsx("p",{className:"text-xs text-green-600",children:"+18% from yesterday"})]}),r.jsx("div",{className:"rounded-lg bg-green-50 p-3",children:r.jsx(Tt,{className:"h-6 w-6 text-green-600"})})]})}),r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Deliveries"}),r.jsx("p",{className:"text-2xl font-bold",children:"142"}),r.jsx("p",{className:"text-xs text-green-600",children:"94.2% on-time"})]}),r.jsx("div",{className:"rounded-lg bg-purple-50 p-3",children:r.jsx(Mr,{className:"h-6 w-6 text-purple-600"})})]})}),r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"New Customers"}),r.jsx("p",{className:"text-2xl font-bold",children:"23"}),r.jsx("p",{className:"text-xs text-green-600",children:"+18% from yesterday"})]}),r.jsx("div",{className:"rounded-lg bg-orange-50 p-3",children:r.jsx(Qr,{className:"h-6 w-6 text-orange-600"})})]})})]}),r.jsxs(he,{children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-6 gap-4",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Recent Report Activity"}),r.jsx(oe,{variant:"secondary",size:"sm",onClick:()=>alert("View all report activity"),children:"View All"})]}),r.jsx("div",{className:"space-y-3",children:[{type:"Sales Report",action:"Generated",time:"2 hours ago",user:"Admin"},{type:"Stock Report",action:"Scheduled",time:"4 hours ago",user:"Manager"},{type:"Delivery Report",action:"Downloaded",time:"6 hours ago",user:"Supervisor"},{type:"Customer Report",action:"Generated",time:"8 hours ago",user:"Admin"}].map((l,o)=>r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-3 bg-gray-50 rounded-lg gap-2",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-sm",children:l.type}),r.jsxs("div",{className:"text-xs text-gray-500",children:[l.action," by ",l.user]})]}),r.jsx("div",{className:"text-xs text-gray-500",children:l.time})]},o))})]})]})}const ij=[{month:"Jan",orders:1250,completed:1180,cancelled:70,revenue:125e3},{month:"Feb",orders:1380,completed:1320,cancelled:60,revenue:138e3},{month:"Mar",orders:1420,completed:1350,cancelled:70,revenue:142e3},{month:"Apr",orders:1580,completed:1520,cancelled:60,revenue:158e3},{month:"May",orders:1650,completed:1590,cancelled:60,revenue:165e3},{month:"Jun",orders:1720,completed:1680,cancelled:40,revenue:172e3}],GBe=[{product:"Fresh Chicken",orders:450,trend:15.2,category:"Poultry"},{product:"Mutton Premium",orders:280,trend:-8.5,category:"Meat"},{product:"Fish Fillet",orders:320,trend:12.8,category:"Seafood"},{product:"Prawns Large",orders:180,trend:22.4,category:"Seafood"},{product:"Eggs Organic",orders:520,trend:5.6,category:"Dairy"}],KBe=()=>{const[e,t]=A.useState("6months"),s={headers:["Month","Total Orders","Completed","Cancelled","Revenue"],data:ij.map(i=>({Month:i.month,"Total Orders":i.orders,Completed:i.completed,Cancelled:i.cancelled,Revenue:i.revenue})),filename:"order-report"},a=ij.reduce((i,l)=>i+l.orders,0),n=(ij.reduce((i,l)=>i+l.completed,0)/a*100).toFixed(1);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold",children:"Order Reports & Trends"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Track order performance and trends"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("select",{value:e,onChange:i=>t(i.target.value),className:"px-3 py-2 border rounded-lg text-sm",children:[r.jsx("option",{value:"3months",children:"3 Months"}),r.jsx("option",{value:"6months",children:"6 Months"}),r.jsx("option",{value:"12months",children:"12 Months"})]}),r.jsx(ng,{data:s})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Orders"}),r.jsx("p",{className:"text-2xl font-bold",children:a.toLocaleString()})]}),r.jsx(bo,{className:"h-8 w-8 text-blue-600"})]})}),r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Completion Rate"}),r.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[n,"%"]})]}),r.jsx(ta,{className:"h-8 w-8 text-green-600"})]})}),r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Avg Daily Orders"}),r.jsx("p",{className:"text-2xl font-bold",children:Math.round(a/180)})]}),r.jsx(Jr,{className:"h-8 w-8 text-purple-600"})]})}),r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Top Category"}),r.jsx("p",{className:"text-lg font-bold text-orange-600",children:"Poultry"})]}),r.jsx(Tt,{className:"h-8 w-8 text-orange-600"})]})})]}),r.jsxs(he,{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Order Volume Trends"}),r.jsx(ql,{width:"100%",height:300,children:r.jsxs(R5,{data:ij,children:[r.jsx(Qc,{strokeDasharray:"3 3"}),r.jsx(ed,{dataKey:"month"}),r.jsx(td,{}),r.jsx(Vl,{}),r.jsx(wm,{type:"monotone",dataKey:"orders",stroke:"#3B82F6",strokeWidth:2,name:"Total Orders"}),r.jsx(wm,{type:"monotone",dataKey:"completed",stroke:"#10B981",strokeWidth:2,name:"Completed"})]})})]}),r.jsxs(he,{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Product Order Trends"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b",children:[r.jsx("th",{className:"text-left py-3 px-4",children:"Product"}),r.jsx("th",{className:"text-left py-3 px-4",children:"Category"}),r.jsx("th",{className:"text-left py-3 px-4",children:"Orders"}),r.jsx("th",{className:"text-left py-3 px-4",children:"Trend"})]})}),r.jsx("tbody",{children:GBe.map((i,l)=>r.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[r.jsx("td",{className:"py-3 px-4 font-medium",children:i.product}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded-full text-xs",children:i.category})}),r.jsx("td",{className:"py-3 px-4",children:i.orders}),r.jsxs("td",{className:`py-3 px-4 font-medium ${i.trend>0?"text-green-600":"text-red-600"}`,children:[i.trend>0?"+":"",i.trend,"%"]})]},l))})]})})]})]})},Oc=[{month:"Jan",revenue:125e3,previousYear:11e4,orders:1250},{month:"Feb",revenue:138e3,previousYear:125e3,orders:1380},{month:"Mar",revenue:142e3,previousYear:13e4,orders:1420},{month:"Apr",revenue:158e3,previousYear:145e3,orders:1580},{month:"May",revenue:165e3,previousYear:15e4,orders:1650},{month:"Jun",revenue:172e3,previousYear:16e4,orders:1720}],YBe=()=>{const[e,t]=A.useState("6months"),s=Oc.reduce((d,h)=>d+h.revenue,0),a=Oc.reduce((d,h)=>d+h.previousYear,0),n=((s-a)/a*100).toFixed(1),i=Oc[Oc.length-1],l=Oc[Oc.length-2],o=((i.revenue-l.revenue)/l.revenue*100).toFixed(1),c={headers:["Month","Revenue","Previous Year","YoY Growth","Orders"],data:Oc.map(d=>({Month:d.month,Revenue:d.revenue,"Previous Year":d.previousYear,"YoY Growth":((d.revenue-d.previousYear)/d.previousYear*100).toFixed(1)+"%",Orders:d.orders})),filename:"revenue-report"};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold",children:"Revenue Reports & Growth Metrics"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Track revenue performance with MoM and YoY growth"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("select",{value:e,onChange:d=>t(d.target.value),className:"px-3 py-2 border rounded-lg text-sm",children:[r.jsx("option",{value:"3months",children:"3 Months"}),r.jsx("option",{value:"6months",children:"6 Months"}),r.jsx("option",{value:"12months",children:"12 Months"})]}),r.jsx(ng,{data:c})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Revenue"}),r.jsxs("p",{className:"text-2xl font-bold",children:["",(s/1e5).toFixed(1),"L"]})]}),r.jsx(Tg,{className:"h-8 w-8 text-green-600"})]})}),r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"YoY Growth"}),r.jsxs("p",{className:`text-2xl font-bold ${parseFloat(n)>0?"text-green-600":"text-red-600"}`,children:[parseFloat(n)>0?"+":"",n,"%"]})]}),r.jsx(ta,{className:"h-8 w-8 text-blue-600"})]})}),r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"MoM Growth"}),r.jsxs("p",{className:`text-2xl font-bold ${parseFloat(o)>0?"text-green-600":"text-red-600"}`,children:[parseFloat(o)>0?"+":"",o,"%"]})]}),r.jsx(Jr,{className:"h-8 w-8 text-purple-600"})]})}),r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Avg Order Value"}),r.jsxs("p",{className:"text-2xl font-bold",children:["",Math.round(s/Oc.reduce((d,h)=>d+h.orders,0))]})]}),r.jsx(Zn,{className:"h-8 w-8 text-orange-600"})]})})]}),r.jsxs(he,{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Revenue Growth Trends"}),r.jsx(ql,{width:"100%",height:300,children:r.jsxs(R5,{data:Oc,children:[r.jsx(Qc,{strokeDasharray:"3 3"}),r.jsx(ed,{dataKey:"month"}),r.jsx(td,{}),r.jsx(Vl,{formatter:d=>[`${d.toLocaleString()}`,""]}),r.jsx(wm,{type:"monotone",dataKey:"revenue",stroke:"#10B981",strokeWidth:3,name:"Current Year"}),r.jsx(wm,{type:"monotone",dataKey:"previousYear",stroke:"#6B7280",strokeWidth:2,strokeDasharray:"5 5",name:"Previous Year"})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(he,{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Monthly Growth Rate"}),r.jsx(ql,{width:"100%",height:250,children:r.jsxs(gg,{data:Oc.map((d,h)=>({...d,growth:h>0?((d.revenue-Oc[h-1].revenue)/Oc[h-1].revenue*100).toFixed(1):0})),children:[r.jsx(Qc,{strokeDasharray:"3 3"}),r.jsx(ed,{dataKey:"month"}),r.jsx(td,{}),r.jsx(Vl,{formatter:d=>[`${d}%`,"Growth"]}),r.jsx(Ou,{dataKey:"growth",fill:"#3B82F6"})]})})]}),r.jsxs(he,{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Revenue Breakdown"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[r.jsx("span",{className:"font-medium",children:"Q1 Revenue"}),r.jsx("span",{className:"text-green-600 font-bold",children:"4.05L"})]}),r.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[r.jsx("span",{className:"font-medium",children:"Q2 Revenue"}),r.jsx("span",{className:"text-blue-600 font-bold",children:"4.95L"})]}),r.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg",children:[r.jsx("span",{className:"font-medium",children:"Best Month"}),r.jsx("span",{className:"text-purple-600 font-bold",children:"June (1.72L)"})]}),r.jsxs("div",{className:"flex justify-between items-center p-3 bg-orange-50 rounded-lg",children:[r.jsx("span",{className:"font-medium",children:"Growth Trend"}),r.jsx("span",{className:"text-orange-600 font-bold",children:"Positive"})]})]})]})]})]})};function lj(){const[e,t]=A.useState({}),[s,a]=A.useState("orders");return console.log("Sales report filters:",e),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsx(Jg,{onFiltersChange:t,statusOptions:[{value:"completed",label:"Completed"},{value:"pending",label:"Pending"},{value:"cancelled",label:"Cancelled"},{value:"processing",label:"Processing"}],categoryOptions:[{value:"poultry",label:"Poultry"},{value:"meat",label:"Meat"},{value:"seafood",label:"Seafood"},{value:"dairy",label:"Dairy"}]}),r.jsx("div",{className:"border-b",children:r.jsxs("nav",{className:"flex space-x-8",children:[r.jsx("button",{onClick:()=>a("orders"),className:`py-2 px-1 border-b-2 font-medium text-sm ${s==="orders"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Order Reports"}),r.jsx("button",{onClick:()=>a("revenue"),className:`py-2 px-1 border-b-2 font-medium text-sm ${s==="revenue"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Revenue Reports"}),r.jsx("button",{onClick:()=>a("demand-forecast"),className:`py-2 px-1 border-b-2 font-medium text-sm ${s==="demand-forecast"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Demand Forecast"}),r.jsx("button",{onClick:()=>a("tax-gst"),className:`py-2 px-1 border-b-2 font-medium text-sm ${s==="tax-gst"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Tax & GST"})]})}),s==="orders"&&r.jsx(KBe,{}),s==="revenue"&&r.jsx(YBe,{}),s==="demand-forecast"&&r.jsx(hf,{}),s==="tax-gst"&&r.jsx(Im,{})]})}const x0=[{date:"2024-01-01",packed:145,time:8.5,efficiency:92,staff:"Team A"},{date:"2024-01-02",packed:162,time:7.8,efficiency:95,staff:"Team B"},{date:"2024-01-03",packed:138,time:9.2,efficiency:88,staff:"Team A"},{date:"2024-01-04",packed:175,time:7.2,efficiency:98,staff:"Team C"},{date:"2024-01-05",packed:156,time:8.1,efficiency:94,staff:"Team B"}],rm=[{supplier:"ABC Farms",orders:25,amount:125e3,onTime:92,category:"Poultry"},{supplier:"XYZ Meat Co",orders:18,amount:95e3,onTime:88,category:"Meat"},{supplier:"Fresh Catch",orders:15,amount:75e3,onTime:95,category:"Seafood"},{supplier:"Dairy Plus",orders:12,amount:45e3,onTime:98,category:"Dairy"}],ny=[{product:"Fresh Chicken",labels:450,accuracy:98.5,type:"Standard"},{product:"Mutton Premium",labels:280,accuracy:97.2,type:"Premium"},{product:"Fish Fillet",labels:320,accuracy:99.1,type:"Fresh"},{product:"Prawns Large",labels:180,accuracy:96.8,type:"Frozen"}],iy=[{type:"Curry Cut",orders:320,time:5.2,popularity:85},{type:"Boneless",orders:280,time:8.5,popularity:92},{type:"Whole",orders:150,time:2.1,popularity:65},{type:"Fry Cut",orders:200,time:6.8,popularity:78}],bU=["#3B82F6","#10B981","#F59E0B","#EF4444"],XBe=()=>{const[e,t]=A.useState("packing"),s=()=>{switch(e){case"packing":return{headers:["Date","Items Packed","Avg Time (min)","Efficiency %","Staff"],data:x0.map(n=>({Date:n.date,"Items Packed":n.packed,"Avg Time (min)":n.time,"Efficiency %":n.efficiency,Staff:n.staff})),filename:"packing-report"};case"procurement":return{headers:["Supplier","Orders","Amount","On-Time %","Category"],data:rm.map(n=>({Supplier:n.supplier,Orders:n.orders,Amount:n.amount,"On-Time %":n.onTime,Category:n.category})),filename:"procurement-report"};case"labeling":return{headers:["Product","Labels","Accuracy %","Type"],data:ny.map(n=>({Product:n.product,Labels:n.labels,"Accuracy %":n.accuracy,Type:n.type})),filename:"labeling-report"};case"cutting":return{headers:["Cutting Type","Orders","Avg Time (min)","Popularity %"],data:iy.map(n=>({"Cutting Type":n.type,Orders:n.orders,"Avg Time (min)":n.time,"Popularity %":n.popularity})),filename:"cutting-type-report"};default:return{headers:[],data:[],filename:"report"}}},a=[{id:"packing",label:"Packing Report",icon:Tt},{id:"procurement",label:"Procurement Report",icon:bo},{id:"labeling",label:"Labeling Report",icon:Rs},{id:"cutting",label:"Cutting Type Report",icon:$c}];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold",children:"Operational Reports"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Comprehensive operational performance metrics"})]}),r.jsx(ng,{data:s()})]}),r.jsx("div",{className:"border-b",children:r.jsx("nav",{className:"flex space-x-8",children:a.map(n=>r.jsxs("button",{onClick:()=>t(n.id),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ${e===n.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[r.jsx(n.icon,{className:"h-4 w-4"}),n.label]},n.id))})}),e==="packing"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Packed"}),r.jsx("p",{className:"text-2xl font-bold",children:x0.reduce((n,i)=>n+i.packed,0)})]}),r.jsx(Tt,{className:"h-8 w-8 text-blue-600"})]})}),r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Avg Efficiency"}),r.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[(x0.reduce((n,i)=>n+i.efficiency,0)/x0.length).toFixed(1),"%"]})]}),r.jsx(Tt,{className:"h-8 w-8 text-green-600"})]})}),r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Avg Time"}),r.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[(x0.reduce((n,i)=>n+i.time,0)/x0.length).toFixed(1)," min"]})]}),r.jsx(Tt,{className:"h-8 w-8 text-purple-600"})]})})]}),r.jsxs(he,{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Daily Packing Performance"}),r.jsx(ql,{width:"100%",height:300,children:r.jsxs(gg,{data:x0,children:[r.jsx(Qc,{strokeDasharray:"3 3"}),r.jsx(ed,{dataKey:"date"}),r.jsx(td,{}),r.jsx(Vl,{}),r.jsx(Ou,{dataKey:"packed",fill:"#3B82F6",name:"Items Packed"})]})})]})]}),e==="procurement"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Orders"}),r.jsx("p",{className:"text-2xl font-bold",children:rm.reduce((n,i)=>n+i.orders,0)})]}),r.jsx(bo,{className:"h-8 w-8 text-blue-600"})]})}),r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Amount"}),r.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",(rm.reduce((n,i)=>n+i.amount,0)/1e5).toFixed(1),"L"]})]}),r.jsx(bo,{className:"h-8 w-8 text-green-600"})]})}),r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Avg On-Time"}),r.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[(rm.reduce((n,i)=>n+i.onTime,0)/rm.length).toFixed(1),"%"]})]}),r.jsx(bo,{className:"h-8 w-8 text-purple-600"})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(he,{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Supplier Performance"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b",children:[r.jsx("th",{className:"text-left py-2",children:"Supplier"}),r.jsx("th",{className:"text-left py-2",children:"Orders"}),r.jsx("th",{className:"text-left py-2",children:"On-Time %"})]})}),r.jsx("tbody",{children:rm.map((n,i)=>r.jsxs("tr",{className:"border-b",children:[r.jsx("td",{className:"py-2",children:n.supplier}),r.jsx("td",{className:"py-2",children:n.orders}),r.jsxs("td",{className:`py-2 font-medium ${n.onTime>90?"text-green-600":"text-red-600"}`,children:[n.onTime,"%"]})]},i))})]})})]}),r.jsxs(he,{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Category Distribution"}),r.jsx(ql,{width:"100%",height:200,children:r.jsxs(M5,{children:[r.jsx(qb,{data:rm,cx:"50%",cy:"50%",outerRadius:80,dataKey:"amount",nameKey:"category",children:rm.map((n,i)=>r.jsx(Rm,{fill:bU[i%bU.length]},`cell-${i}`))}),r.jsx(Vl,{formatter:n=>[`${n.toLocaleString()}`,"Amount"]})]})})]})]})]}),e==="labeling"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Labels"}),r.jsx("p",{className:"text-2xl font-bold",children:ny.reduce((n,i)=>n+i.labels,0)})]}),r.jsx(Rs,{className:"h-8 w-8 text-blue-600"})]})}),r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Avg Accuracy"}),r.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[(ny.reduce((n,i)=>n+i.accuracy,0)/ny.length).toFixed(1),"%"]})]}),r.jsx(Rs,{className:"h-8 w-8 text-green-600"})]})}),r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Label Types"}),r.jsx("p",{className:"text-2xl font-bold text-purple-600",children:"4"})]}),r.jsx(Rs,{className:"h-8 w-8 text-purple-600"})]})})]}),r.jsxs(he,{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Labeling Performance"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b",children:[r.jsx("th",{className:"text-left py-3 px-4",children:"Product"}),r.jsx("th",{className:"text-left py-3 px-4",children:"Labels"}),r.jsx("th",{className:"text-left py-3 px-4",children:"Accuracy"}),r.jsx("th",{className:"text-left py-3 px-4",children:"Type"})]})}),r.jsx("tbody",{children:ny.map((n,i)=>r.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[r.jsx("td",{className:"py-3 px-4 font-medium",children:n.product}),r.jsx("td",{className:"py-3 px-4",children:n.labels}),r.jsxs("td",{className:`py-3 px-4 font-medium ${n.accuracy>98?"text-green-600":"text-yellow-600"}`,children:[n.accuracy,"%"]}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded-full text-xs",children:n.type})})]},i))})]})})]})]}),e==="cutting"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Orders"}),r.jsx("p",{className:"text-2xl font-bold",children:iy.reduce((n,i)=>n+i.orders,0)})]}),r.jsx($c,{className:"h-8 w-8 text-blue-600"})]})}),r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Most Popular"}),r.jsx("p",{className:"text-lg font-bold text-green-600",children:"Boneless"})]}),r.jsx($c,{className:"h-8 w-8 text-green-600"})]})}),r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Avg Time"}),r.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[(iy.reduce((n,i)=>n+i.time,0)/iy.length).toFixed(1)," min"]})]}),r.jsx($c,{className:"h-8 w-8 text-purple-600"})]})})]}),r.jsxs(he,{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Cutting Type Performance"}),r.jsx(ql,{width:"100%",height:300,children:r.jsxs(gg,{data:iy,children:[r.jsx(Qc,{strokeDasharray:"3 3"}),r.jsx(ed,{dataKey:"type"}),r.jsx(td,{}),r.jsx(Vl,{}),r.jsx(Ou,{dataKey:"orders",fill:"#3B82F6",name:"Orders"})]})})]})]})]})};function Pp(){const[e,t]=A.useState({}),[s,a]=A.useState("operational");return console.log("Packing report filters:",e),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsx(Jg,{onFiltersChange:t,statusOptions:[{value:"completed",label:"Completed"},{value:"in_progress",label:"In Progress"},{value:"pending",label:"Pending"},{value:"delayed",label:"Delayed"}],categoryOptions:[{value:"team_a",label:"Team A"},{value:"team_b",label:"Team B"},{value:"team_c",label:"Team C"}]}),r.jsx("div",{className:"border-b",children:r.jsxs("nav",{className:"flex space-x-8",children:[r.jsx("button",{onClick:()=>a("operational"),className:`py-2 px-1 border-b-2 font-medium text-sm ${s==="operational"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Operational Reports"}),r.jsx("button",{onClick:()=>a("demand-forecast"),className:`py-2 px-1 border-b-2 font-medium text-sm ${s==="demand-forecast"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Demand Forecast"}),r.jsx("button",{onClick:()=>a("tax-gst"),className:`py-2 px-1 border-b-2 font-medium text-sm ${s==="tax-gst"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Tax & GST"})]})}),s==="operational"&&r.jsx(XBe,{}),s==="demand-forecast"&&r.jsx(hf,{}),s==="tax-gst"&&r.jsx(Im,{})]})}function wP({title:e,description:t,dateRange:s,onDateRangeChange:a,onSchedule:n,onExport:i}){return r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",children:e}),r.jsx("p",{className:"text-gray-600",children:t})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx(Ut,{value:s,onChange:l=>a(l.target.value),options:[{value:"today",label:"Today"},{value:"week",label:"This Week"},{value:"month",label:"This Month"},{value:"quarter",label:"This Quarter"},{value:"custom",label:"Custom Range"}]}),r.jsxs(oe,{variant:"secondary",size:"sm",onClick:n,children:[r.jsx(Jr,{className:"mr-2 h-4 w-4"})," Schedule"]}),r.jsxs(oe,{size:"sm",onClick:i,children:[r.jsx(ei,{className:"mr-2 h-4 w-4"})," Export"]})]})]})}function SP({title:e,value:t,change:s,changeType:a="neutral",icon:n,iconColor:i}){return r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:e}),r.jsx("p",{className:"text-2xl font-bold",children:t}),s&&r.jsx("p",{className:`text-xs flex items-center mt-1 ${a==="positive"?"text-green-600":a==="negative"?"text-red-600":"text-blue-600"}`,children:s})]}),r.jsx("div",{className:`rounded-lg p-3 ${i}`,children:r.jsx(n,{className:"h-6 w-6"})})]})})}function _P({title:e,viewMode:t,onViewModeChange:s,viewOptions:a,children:n}){return r.jsxs(he,{children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-6 gap-4",children:[r.jsx("h2",{className:"text-lg font-semibold",children:e}),r.jsx("div",{className:"flex flex-wrap gap-2",children:a.map(i=>r.jsx(oe,{variant:t===i.value?"primary":"secondary",size:"sm",onClick:()=>s(i.value),children:i.label},i.value))})]}),n||r.jsx("div",{className:"h-64 rounded-lg bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("p",{className:"text-gray-500 mb-2",children:[e," visualization"]}),r.jsxs("p",{className:"text-sm text-gray-400",children:["Current view: ",t]})]})})]})}function Sg({title:e,icon:t,data:s,type:a}){const n=a==="hub"?"bg-blue-50":"bg-green-50",i=a==="hub"?"text-blue-900":"text-green-900",l=a==="hub"?"text-blue-600":"text-green-600";return r.jsxs(he,{className:`${n} border-2 ${a==="hub"?"border-blue-200":"border-green-200"}`,children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"p-2 rounded-lg bg-white",children:r.jsx(t,{className:`h-5 w-5 ${l}`})}),r.jsx("h3",{className:`text-lg font-semibold ${i}`,children:e})]}),r.jsx("div",{className:"grid gap-3 grid-cols-2 lg:grid-cols-4",children:s.metrics.map(o=>r.jsxs("div",{className:"bg-white p-3 rounded-lg",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:o.title}),r.jsx("p",{className:"text-lg font-bold text-gray-900",children:o.value}),r.jsx("p",{className:`text-xs ${o.changeType==="positive"?"text-green-600":o.changeType==="negative"?"text-red-600":"text-blue-600"}`,children:o.change})]},o.title))}),s.topProducts&&r.jsxs("div",{className:"mt-4 bg-white p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Top Products"}),r.jsx("div",{className:"space-y-2",children:s.topProducts.slice(0,3).map((o,c)=>r.jsxs("div",{className:"flex justify-between items-center text-sm",children:[r.jsxs("span",{className:"font-medium",children:["#",c+1," ",o.name]}),r.jsxs("div",{className:"flex gap-3 text-xs",children:[r.jsxs("span",{className:"text-gray-600",children:[o.orders," orders"]}),r.jsx("span",{className:"font-semibold",children:o.sales}),r.jsx("span",{className:"text-green-600",children:o.growth})]})]},o.name))})]})]})}const Ek={super_admin:{metrics:[{title:"Total Deliveries",value:"142",change:"+8% from yesterday",changeType:"positive"},{title:"On-Time Rate",value:"94.2%",change:"+2.1% from yesterday",changeType:"positive"},{title:"Avg Delivery Time",value:"28m",change:"-3m from yesterday",changeType:"positive"},{title:"Failed Deliveries",value:"8",change:"+2 from yesterday",changeType:"negative"}]},hub:{metrics:[{title:"Hub Deliveries",value:"89",change:"+12% from yesterday",changeType:"positive"},{title:"Hub On-Time Rate",value:"96.1%",change:"+1.8% from yesterday",changeType:"positive"},{title:"Hub Delivery Time",value:"25m",change:"-4m from yesterday",changeType:"positive"},{title:"Hub Failed",value:"3",change:"+1 from yesterday",changeType:"negative"}]},store:{metrics:[{title:"Store Deliveries",value:"53",change:"+3% from yesterday",changeType:"positive"},{title:"Store On-Time Rate",value:"91.5%",change:"+2.5% from yesterday",changeType:"positive"},{title:"Store Delivery Time",value:"32m",change:"-2m from yesterday",changeType:"positive"},{title:"Store Failed",value:"5",change:"+1 from yesterday",changeType:"negative"}]}},Pk={super_admin:{metrics:[{title:"Total Items",value:"2,847",change:"Across 156 products",changeType:"neutral"},{title:"Stock Value",value:"4.2L",change:"+8% from last week",changeType:"positive"},{title:"Low Stock Items",value:"23",change:"Needs restocking",changeType:"negative"},{title:"Turnover Rate",value:"12.5x",change:"+0.8x from last month",changeType:"positive"}]},hub:{metrics:[{title:"Hub Stock Items",value:"1,642",change:"Across 98 products",changeType:"neutral"},{title:"Hub Stock Value",value:"2.4L",change:"+12% from last week",changeType:"positive"},{title:"Hub Low Stock",value:"14",change:"Needs restocking",changeType:"negative"},{title:"Hub Turnover",value:"14.2x",change:"+1.2x from last month",changeType:"positive"}]},store:{metrics:[{title:"Store Stock Items",value:"1,205",change:"Across 78 products",changeType:"neutral"},{title:"Store Stock Value",value:"1.8L",change:"+4% from last week",changeType:"positive"},{title:"Store Low Stock",value:"9",change:"Needs restocking",changeType:"negative"},{title:"Store Turnover",value:"10.8x",change:"+0.4x from last month",changeType:"positive"}]}},Ok={super_admin:{metrics:[{title:"Total Customers",value:"2,847",change:"+12% from last month",changeType:"positive"},{title:"New Customers",value:"23",change:"+18% from yesterday",changeType:"positive"},{title:"Avg Lifetime Value",value:"8,450",change:"+5% from last month",changeType:"positive"},{title:"Retention Rate",value:"78.5%",change:"+2.3% from last month",changeType:"positive"}]},hub:{metrics:[{title:"Hub Customers",value:"1,642",change:"+15% from last month",changeType:"positive"},{title:"Hub New Customers",value:"14",change:"+22% from yesterday",changeType:"positive"},{title:"Hub Avg LTV",value:"9,200",change:"+8% from last month",changeType:"positive"},{title:"Hub Retention",value:"82.1%",change:"+3.1% from last month",changeType:"positive"}]},store:{metrics:[{title:"Store Customers",value:"1,205",change:"+8% from last month",changeType:"positive"},{title:"Store New Customers",value:"9",change:"+12% from yesterday",changeType:"positive"},{title:"Store Avg LTV",value:"7,650",change:"+2% from last month",changeType:"positive"},{title:"Store Retention",value:"74.8%",change:"+1.5% from last month",changeType:"positive"}]}};function ZBe(){const[e,t]=A.useState("today"),[s,a]=A.useState("daily"),n=Ao(),l=n.pathname.includes("/hub/")?"hub":n.pathname.includes("/store/")?"store":"super_admin",o=Ek[l],c=[{id:"DA001",name:"Rajesh Kumar",phone:"+91 9876543210",deliveries:12,onTime:11,rating:4.8,status:"Active"},{id:"DA002",name:"Suresh Singh",phone:"+91 9876543211",deliveries:15,onTime:14,rating:4.6,status:"Active"},{id:"DA003",name:"Amit Sharma",phone:"+91 9876543212",deliveries:8,onTime:7,rating:4.9,status:"Break"},{id:"DA004",name:"Vijay Raj",phone:"+91 9876543213",deliveries:18,onTime:17,rating:4.7,status:"Active"},{id:"DA005",name:"Ravi Patel",phone:"+91 9876543214",deliveries:10,onTime:9,rating:4.5,status:"Active"}],d=[{id:"ORD001",customer:"Priya Sharma",address:"Anna Nagar, Chennai",agent:"Rajesh Kumar",time:"2:45 PM",status:"Delivered",delay:"0m"},{id:"ORD002",customer:"Arjun Patel",address:"T Nagar, Chennai",agent:"Suresh Singh",time:"3:12 PM",status:"In Transit",delay:"5m"},{id:"ORD003",customer:"Meera Reddy",address:"Velachery, Chennai",agent:"Vijay Raj",time:"3:30 PM",status:"Delivered",delay:"0m"},{id:"ORD004",customer:"Kiran Kumar",address:"Adyar, Chennai",agent:"Ravi Patel",time:"4:05 PM",status:"Delayed",delay:"15m"},{id:"ORD005",customer:"Sita Devi",address:"Mylapore, Chennai",agent:"Rajesh Kumar",time:"4:20 PM",status:"Delivered",delay:"0m"}],h=()=>{alert(`Schedule ${l} delivery report functionality`)},m=()=>{alert(`Exporting ${l} delivery report...`)},p=[Mr,Dr,Tr,Ts],x=["bg-blue-50 text-blue-600","bg-green-50 text-green-600","bg-purple-50 text-purple-600","bg-red-50 text-red-600"],v=y=>{switch(y){case"Delivered":return"bg-green-100 text-green-700";case"In Transit":return"bg-blue-100 text-blue-700";case"Delayed":return"bg-red-100 text-red-700";case"Active":return"bg-green-100 text-green-700";case"Break":return"bg-yellow-100 text-yellow-700";default:return"bg-gray-100 text-gray-700"}};return r.jsxs("div",{className:"space-y-6",children:[r.jsx(wP,{title:"Delivery Report",description:"On-time rate, delayed orders, and partner performance",dateRange:e,onDateRangeChange:t,onSchedule:h,onExport:m}),r.jsx("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-4",children:o.metrics.map((y,b)=>r.jsx(SP,{title:y.title,value:y.value,change:y.change,changeType:y.changeType,icon:p[b],iconColor:x[b]},y.title))}),r.jsx(_P,{title:"Delivery Performance",viewMode:s,onViewModeChange:a,viewOptions:[{value:"hourly",label:"Hourly"},{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"}]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Delivery Agents Performance"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-gray-200",children:[r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Agent"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Contact"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Deliveries"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"On-Time"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Rating"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Status"})]})}),r.jsx("tbody",{children:c.map(y=>r.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[r.jsx("td",{className:"py-3 px-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-8 w-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-sm font-bold",children:y.name.charAt(0)}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:y.name}),r.jsx("p",{className:"text-sm text-gray-500",children:y.id})]})]})}),r.jsx("td",{className:"py-3 px-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Yc,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-sm text-gray-600",children:y.phone})]})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:"font-medium text-gray-900",children:y.deliveries})}),r.jsxs("td",{className:"py-3 px-4",children:[r.jsxs("span",{className:"font-medium text-green-600",children:[y.onTime,"/",y.deliveries]}),r.jsxs("span",{className:"text-sm text-gray-500 ml-1",children:["(",Math.round(y.onTime/y.deliveries*100),"%)"]})]}),r.jsx("td",{className:"py-3 px-4",children:r.jsxs("span",{className:"font-medium text-yellow-600",children:[" ",y.rating]})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${v(y.status)}`,children:y.status})})]},y.id))})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Deliveries"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-gray-200",children:[r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Order ID"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Customer"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Address"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Agent"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Time"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Status"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Delay"})]})}),r.jsx("tbody",{children:d.map(y=>r.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:"font-medium text-blue-600",children:y.id})}),r.jsx("td",{className:"py-3 px-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(si,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"font-medium text-gray-900",children:y.customer})]})}),r.jsx("td",{className:"py-3 px-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Vs,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-sm text-gray-600",children:y.address})]})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:"text-sm text-gray-700",children:y.agent})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:"text-sm text-gray-700",children:y.time})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${v(y.status)}`,children:y.status})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:`text-sm font-medium ${y.delay==="0m"?"text-green-600":"text-red-600"}`,children:y.delay==="0m"?"On Time":`+${y.delay}`})})]},y.id))})]})})]}),l==="super_admin"&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"flex items-center gap-2 mb-4",children:r.jsx("h2",{className:"text-xl font-semibold",children:"Detailed Reports by Location"})}),r.jsxs("div",{className:"grid gap-6 grid-cols-1 lg:grid-cols-2",children:[r.jsx(Sg,{title:"Hub Deliveries",icon:Wl,data:Ek.hub,type:"hub"}),r.jsx(Sg,{title:"Store Deliveries",icon:Fn,data:Ek.store,type:"store"})]})]})]})}function Op(){const[e,t]=A.useState("delivery");return r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsx("div",{className:"border-b",children:r.jsxs("nav",{className:"flex space-x-8",children:[r.jsx("button",{onClick:()=>t("delivery"),className:`py-2 px-1 border-b-2 font-medium text-sm ${e==="delivery"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Delivery Reports"}),r.jsx("button",{onClick:()=>t("demand-forecast"),className:`py-2 px-1 border-b-2 font-medium text-sm ${e==="demand-forecast"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Demand Forecast"}),r.jsx("button",{onClick:()=>t("tax-gst"),className:`py-2 px-1 border-b-2 font-medium text-sm ${e==="tax-gst"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Tax & GST"})]})}),e==="delivery"&&r.jsx(ZBe,{}),e==="demand-forecast"&&r.jsx(hf,{}),e==="tax-gst"&&r.jsx(Im,{})]})}function JBe(){const[e,t]=A.useState("today"),[s,a]=A.useState("current"),n=Ao(),l=n.pathname.includes("/hub/")?"hub":n.pathname.includes("/store/")?"store":"super_admin",o=Pk[l],c=[{id:"PRD001",name:"Fresh Salmon",category:"Fish",currentStock:45,minLevel:20,maxLevel:100,unit:"kg",value:"22,500",lastUpdated:"2 hours ago",status:"Good"},{id:"PRD002",name:"Tiger Prawns",category:"Prawns",currentStock:8,minLevel:15,maxLevel:50,unit:"kg",value:"12,000",lastUpdated:"1 hour ago",status:"Low"},{id:"PRD003",name:"Sea Bass",category:"Fish",currentStock:32,minLevel:25,maxLevel:80,unit:"kg",value:"19,200",lastUpdated:"3 hours ago",status:"Good"},{id:"PRD004",name:"Fresh Lobster",category:"Lobster",currentStock:5,minLevel:10,maxLevel:30,unit:"kg",value:"17,500",lastUpdated:"30 min ago",status:"Critical"},{id:"PRD005",name:"Mud Crab",category:"Crab",currentStock:18,minLevel:12,maxLevel:40,unit:"kg",value:"14,400",lastUpdated:"1 hour ago",status:"Good"},{id:"PRD006",name:"Pomfret",category:"Fish",currentStock:12,minLevel:18,maxLevel:60,unit:"kg",value:"9,600",lastUpdated:"4 hours ago",status:"Low"}],d=[{id:"MOV001",product:"Fresh Salmon",type:"In",quantity:25,reason:"Purchase Order PO001",timestamp:"2024-01-13 10:30 AM",user:"Ramesh Kumar"},{id:"MOV002",product:"Tiger Prawns",type:"Out",quantity:12,reason:"Order ORD-456",timestamp:"2024-01-13 09:15 AM",user:"System"},{id:"MOV003",product:"Sea Bass",type:"In",quantity:15,reason:"Purchase Order PO002",timestamp:"2024-01-13 08:45 AM",user:"Sita Sharma"},{id:"MOV004",product:"Fresh Lobster",type:"Out",quantity:8,reason:"Order ORD-789",timestamp:"2024-01-13 08:00 AM",user:"System"},{id:"MOV005",product:"Mud Crab",type:"Adjustment",quantity:3,reason:"Stock Count Correction",timestamp:"2024-01-13 07:30 AM",user:"Arjun Singh"}],h=[{id:"LS001",product:"Fresh Lobster",currentStock:5,minLevel:10,shortage:5,category:"Lobster",urgency:"Critical",daysLeft:1},{id:"LS002",product:"Tiger Prawns",currentStock:8,minLevel:15,shortage:7,category:"Prawns",urgency:"High",daysLeft:2},{id:"LS003",product:"Pomfret",currentStock:12,minLevel:18,shortage:6,category:"Fish",urgency:"Medium",daysLeft:3}],m=()=>{alert(`Schedule ${l} stock report functionality`)},p=()=>{alert(`Exporting ${l} stock report...`)},x=[Tt,Zn,Ts,ta],v=["bg-blue-50 text-blue-600","bg-green-50 text-green-600","bg-red-50 text-red-600","bg-purple-50 text-purple-600"],y=w=>{switch(w){case"Good":return"bg-green-100 text-green-700";case"Low":return"bg-yellow-100 text-yellow-700";case"Critical":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},b=w=>{switch(w){case"In":return"bg-green-100 text-green-700";case"Out":return"bg-red-100 text-red-700";case"Adjustment":return"bg-blue-100 text-blue-700";default:return"bg-gray-100 text-gray-700"}},j=w=>{switch(w){case"Critical":return"bg-red-100 text-red-700";case"High":return"bg-orange-100 text-orange-700";case"Medium":return"bg-yellow-100 text-yellow-700";default:return"bg-gray-100 text-gray-700"}},S=(w,k)=>Math.round(w/k*100);return r.jsxs("div",{className:"space-y-6",children:[r.jsx(wP,{title:"Stock Report",description:"Current stock, low stock alerts, and inventory movements",dateRange:e,onDateRangeChange:t,onSchedule:m,onExport:p}),r.jsx("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-4",children:o.metrics.map((w,k)=>r.jsx(SP,{title:w.title,value:w.value,change:w.change,changeType:w.changeType,icon:x[k],iconColor:v[k]},w.title))}),r.jsx(_P,{title:"Stock Movement",viewMode:s,onViewModeChange:a,viewOptions:[{value:"current",label:"Current Stock"},{value:"daily",label:"Daily Movement"},{value:"weekly",label:"Weekly Trends"}]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Current Stock Levels"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-gray-200",children:[r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Product"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Category"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Current Stock"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Stock Level"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Value"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Last Updated"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Status"})]})}),r.jsx("tbody",{children:c.map(w=>r.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[r.jsx("td",{className:"py-3 px-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-8 w-8 bg-gradient-to-br from-blue-500 to-green-600 rounded-full flex items-center justify-center text-white text-sm font-bold",children:r.jsx(yo,{className:"h-4 w-4"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:w.name}),r.jsx("p",{className:"text-sm text-gray-500",children:w.id})]})]})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:"text-sm text-gray-700",children:w.category})}),r.jsx("td",{className:"py-3 px-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Jj,{className:"h-4 w-4 text-gray-400"}),r.jsxs("span",{className:"font-medium text-gray-900",children:[w.currentStock," ",w.unit]})]})}),r.jsxs("td",{className:"py-3 px-4",children:[r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:`h-2 rounded-full ${S(w.currentStock,w.maxLevel)>50?"bg-green-500":S(w.currentStock,w.maxLevel)>25?"bg-yellow-500":"bg-red-500"}`,style:{width:`${S(w.currentStock,w.maxLevel)}%`}})}),r.jsxs("span",{className:"text-xs text-gray-500 mt-1",children:[S(w.currentStock,w.maxLevel),"% of max"]})]}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:"font-medium text-green-600",children:w.value})}),r.jsx("td",{className:"py-3 px-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Jr,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-sm text-gray-700",children:w.lastUpdated})]})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${y(w.status)}`,children:w.status})})]},w.id))})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Stock Movements"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-gray-200",children:[r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Product"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Type"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Quantity"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Reason"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Timestamp"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"User"})]})}),r.jsx("tbody",{children:d.map(w=>r.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:"font-medium text-gray-900",children:w.product})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${b(w.type)}`,children:w.type})}),r.jsx("td",{className:"py-3 px-4",children:r.jsxs("span",{className:`font-medium ${w.type==="In"?"text-green-600":w.type==="Out"?"text-red-600":"text-blue-600"}`,children:[w.type==="Out"?"-":"+",w.quantity," kg"]})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:"text-sm text-gray-700",children:w.reason})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:"text-sm text-gray-700",children:w.timestamp})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:"text-sm text-gray-700",children:w.user})})]},w.id))})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Low Stock Alerts"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-gray-200",children:[r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Product"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Category"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Current Stock"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Min Level"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Shortage"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Days Left"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Urgency"})]})}),r.jsx("tbody",{children:h.map(w=>r.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[r.jsx("td",{className:"py-3 px-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ts,{className:"h-4 w-4 text-red-500"}),r.jsx("span",{className:"font-medium text-gray-900",children:w.product})]})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:"text-sm text-gray-700",children:w.category})}),r.jsx("td",{className:"py-3 px-4",children:r.jsxs("span",{className:"font-medium text-red-600",children:[w.currentStock," kg"]})}),r.jsx("td",{className:"py-3 px-4",children:r.jsxs("span",{className:"text-sm text-gray-700",children:[w.minLevel," kg"]})}),r.jsx("td",{className:"py-3 px-4",children:r.jsxs("span",{className:"font-medium text-red-600",children:["-",w.shortage," kg"]})}),r.jsx("td",{className:"py-3 px-4",children:r.jsxs("span",{className:"text-sm text-gray-700",children:[w.daysLeft," days"]})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${j(w.urgency)}`,children:w.urgency})})]},w.id))})]})})]}),l==="super_admin"&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"flex items-center gap-2 mb-4",children:r.jsx("h2",{className:"text-xl font-semibold",children:"Detailed Reports by Location"})}),r.jsxs("div",{className:"grid gap-6 grid-cols-1 lg:grid-cols-2",children:[r.jsx(Sg,{title:"Hub Inventory",icon:Wl,data:Pk.hub,type:"hub"}),r.jsx(Sg,{title:"Store Inventory",icon:Fn,data:Pk.store,type:"store"})]})]})]})}function oj(){const[e,t]=A.useState("stock");return r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsx("div",{className:"border-b",children:r.jsxs("nav",{className:"flex space-x-8",children:[r.jsx("button",{onClick:()=>t("stock"),className:`py-2 px-1 border-b-2 font-medium text-sm ${e==="stock"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Stock Reports"}),r.jsx("button",{onClick:()=>t("demand-forecast"),className:`py-2 px-1 border-b-2 font-medium text-sm ${e==="demand-forecast"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Demand Forecast"}),r.jsx("button",{onClick:()=>t("tax-gst"),className:`py-2 px-1 border-b-2 font-medium text-sm ${e==="tax-gst"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Tax & GST"})]})}),e==="stock"&&r.jsx(JBe,{}),e==="demand-forecast"&&r.jsx(hf,{}),e==="tax-gst"&&r.jsx(Im,{})]})}function cj(){const{user:e}=es(),[t,s]=A.useState([]),[a,n]=A.useState({}),[i,l]=A.useState(!1),[o,c]=A.useState(null),[d,h]=A.useState(null);A.useEffect(()=>{m()},[a]);const m=async()=>{l(!0);try{s([{id:"DEL001",dispatchId:"DSP001",billNumber:"BH2024001",partyName:"John Doe",totalPayment:1250,paymentStatus:"unpaid",paymentMode:"cod",status:"dispatched",deliveryPersonId:e?.id||"",deliveryPersonName:e?.name||"",customerAddress:"123 Main Street, Chennai - 600001",customerPhone:"+91 9876543210",latitude:13.0827,longitude:80.2707,products:[{id:"P1",billNumber:"BH2024001",partyName:"John Doe",productName:"Sea Crab",grossWeight:2.5,netWeight:2.3,isAlternate:!1}],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}])}catch(w){console.error("Failed to load deliveries:",w)}finally{l(!1)}},p=async(w,k)=>{const _=t.find(E=>E.id===w);if(!_)return;if(k==="delivered"&&!d&&!_.proofImageUrl){alert("Photo proof is mandatory for marking delivery as completed");return}if(k==="delivered"&&_.paymentMode==="cod"&&_.paymentStatus==="unpaid"&&!confirm("Has the COD payment been collected?")){alert("Please collect payment before marking as delivered");return}let O=null;if((k==="undelivered"||k==="returned"||k==="failed_delivery")&&(O=prompt(`Enter remarks for ${k.replace("_"," ")}:`),!O)){alert("Remarks are mandatory for this status");return}try{let E=_.proofImageUrl;d&&(new FormData().append("proof",d),E=URL.createObjectURL(d));const F=t.map(I=>I.id===w?{...I,status:k,remarks:O||I.remarks,proofImageUrl:E,proofUploadedAt:E?new Date().toISOString():I.proofUploadedAt,proofUploadedBy:E?e?.id:I.proofUploadedBy,paymentStatus:k==="delivered"&&I.paymentMode==="cod"?"paid":I.paymentStatus,collectedAmount:k==="delivered"&&I.paymentMode==="cod"?I.totalPayment:I.collectedAmount,collectedAt:k==="delivered"&&I.paymentMode==="cod"?new Date().toISOString():I.collectedAt,updatedBy:e?.id,updatedAt:new Date().toISOString()}:I);s(F),h(null),c(null),alert("Status updated successfully")}catch(E){console.error("Failed to update status:",E),alert("Failed to update status")}},x=w=>{window.location.href=`tel:${w}`},v=(w,k,_)=>{k&&_?window.open(`https://www.google.com/maps/dir/?api=1&destination=${k},${_}`,"_blank"):window.open(`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(w)}`,"_blank")},y=()=>{const w=["Bill #","Customer","Total Payment","Payment Mode","Payment Status","Status","Delivery Date","Remarks","Proof Status"],k=t.map(I=>[I.billNumber,I.partyName,I.totalPayment,I.paymentMode.toUpperCase(),I.paymentStatus,I.status,new Date(I.updatedAt).toLocaleDateString(),I.remarks||"-",I.proofImageUrl?"Yes":"No"]),_=[w,...k].map(I=>I.join(",")).join(`
`),O=new Blob([_],{type:"text/csv"}),E=URL.createObjectURL(O),F=document.createElement("a");F.href=E,F.download=`delivery_${new Date().toISOString().split("T")[0]}.csv`,F.click()},b=()=>{const w=new nr;w.setFontSize(18),w.text("Bayhawk - Delivery Report",14,20),w.setFontSize(10),w.text(`Delivery Person: ${e?.name}`,14,28),w.text(`Generated: ${new Date().toLocaleString()}`,14,34);const k=t.map(_=>[_.billNumber,_.partyName,_.totalPayment.toFixed(2),_.paymentMode.toUpperCase(),_.paymentStatus,_.status,_.proofImageUrl?"Yes":"No"]);jg(w,{startY:40,head:[["Bill #","Customer","Amount","Payment Mode","Payment Status","Status","Proof"]],body:k}),w.save(`delivery_${new Date().toISOString().split("T")[0]}.pdf`)},j=w=>{switch(w){case"dispatched":return"bg-yellow-100 text-yellow-800";case"delivered":return"bg-green-100 text-green-800";case"undelivered":return"bg-red-100 text-red-800";case"returned":return"bg-orange-100 text-orange-800";case"failed_delivery":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},S=w=>w==="paid"?"bg-green-100 text-green-800":"bg-red-100 text-red-800";return r.jsx("div",{className:"min-h-screen bg-gray-50",children:r.jsx("div",{className:"w-full py-6",children:r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:r.jsx(Tt,{className:"h-6 w-6 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Delivery Management"}),r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Delivery Person: ",e?.name]})]})]}),r.jsx("p",{className:"text-base text-gray-600",children:"Manage and track your assigned deliveries"})]})})}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(nc,{className:"w-5 h-5 text-gray-600"}),r.jsx("h2",{className:"text-lg font-semibold",children:"Filters"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From Date"}),r.jsx("input",{type:"date",className:"w-full px-3 py-2 border rounded-lg",value:a.dateFrom||"",onChange:w=>n({...a,dateFrom:w.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To Date"}),r.jsx("input",{type:"date",className:"w-full px-3 py-2 border rounded-lg",value:a.dateTo||"",onChange:w=>n({...a,dateTo:w.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Customer"}),r.jsx("input",{type:"text",placeholder:"Search customer",className:"w-full px-3 py-2 border rounded-lg",value:a.customer||"",onChange:w=>n({...a,customer:w.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),r.jsxs("select",{className:"w-full px-3 py-2 border rounded-lg",value:a.status||"",onChange:w=>n({...a,status:w.target.value}),children:[r.jsx("option",{value:"",children:"All"}),r.jsx("option",{value:"dispatched",children:"Dispatched"}),r.jsx("option",{value:"delivered",children:"Delivered"}),r.jsx("option",{value:"undelivered",children:"Undelivered"}),r.jsx("option",{value:"returned",children:"Returned"}),r.jsx("option",{value:"failed_delivery",children:"Failed Delivery"})]})]})]}),r.jsx("div",{className:"mt-4",children:r.jsx("button",{onClick:()=>n({}),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Reset Filters"})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"bg-gray-50 px-6 py-3 border-b border-gray-200",children:r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"My Deliveries"})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Bill #"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Customer"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Products"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Total Payment"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Payment Mode"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Payment Status"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Location"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Call"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Remarks"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y",children:i?r.jsx("tr",{children:r.jsx("td",{colSpan:11,className:"px-4 py-8 text-center text-gray-500",children:"Loading..."})}):t.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:11,className:"px-4 py-8 text-center text-gray-500",children:"No deliveries assigned"})}):t.map(w=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-3 text-sm font-medium",children:w.billNumber}),r.jsx("td",{className:"px-4 py-3 text-sm",children:w.partyName}),r.jsx("td",{className:"px-4 py-3 text-sm",children:r.jsx("div",{className:"space-y-1",children:w.products.map(k=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:k.productName}),k.isAlternate&&r.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-amber-100 text-amber-800 text-xs rounded",children:[r.jsx(ya,{className:"w-3 h-3"}),"Alternate",k.originalProductName&&r.jsxs("span",{className:"text-xs",children:["for ",k.originalProductName]})]})]},k.id))})}),r.jsxs("td",{className:"px-4 py-3 text-sm font-semibold",children:["",w.totalPayment.toFixed(2)]}),r.jsx("td",{className:"px-4 py-3 text-sm",children:r.jsx("span",{className:"uppercase font-medium",children:w.paymentMode})}),r.jsx("td",{className:"px-4 py-3 text-sm",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${S(w.paymentStatus)}`,children:w.paymentStatus})}),r.jsx("td",{className:"px-4 py-3 text-sm",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${j(w.status)}`,children:w.status.replace("_"," ")})}),r.jsx("td",{className:"px-4 py-3 text-sm",children:r.jsxs("button",{onClick:()=>v(w.customerAddress,w.latitude,w.longitude),className:"flex items-center gap-1 px-3 py-1 bg-blue-100 text-blue-700 rounded hover:bg-blue-200",children:[r.jsx(Vs,{className:"w-4 h-4"}),"Navigate"]})}),r.jsx("td",{className:"px-4 py-3 text-sm",children:r.jsxs("button",{onClick:()=>x(w.customerPhone),className:"flex items-center gap-1 px-3 py-1 bg-green-100 text-green-700 rounded hover:bg-green-200",children:[r.jsx(Yc,{className:"w-4 h-4"}),"Call"]})}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:w.remarks||"-"}),r.jsx("td",{className:"px-4 py-3 text-sm",children:w.status==="dispatched"?r.jsxs("div",{className:"space-y-2",children:[o===w.id&&r.jsx("div",{className:"mb-2",children:r.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 bg-gray-50 border rounded cursor-pointer hover:bg-gray-100",children:[r.jsx(Jee,{className:"w-4 h-4"}),r.jsx("span",{className:"text-xs",children:d?d.name:"Upload Proof"}),r.jsx("input",{type:"file",accept:"image/*",capture:"environment",className:"hidden",onChange:k=>h(k.target.files?.[0]||null)})]})}),r.jsxs("select",{className:"w-full px-2 py-1 border rounded text-sm",value:w.status,onChange:k=>{k.target.value==="delivered"&&c(w.id),p(w.id,k.target.value)},children:[r.jsx("option",{value:"dispatched",children:"Dispatched"}),r.jsx("option",{value:"delivered",children:"Delivered"}),r.jsx("option",{value:"undelivered",children:"Undelivered"}),r.jsx("option",{value:"returned",children:"Returned"}),r.jsx("option",{value:"failed_delivery",children:"Failed Delivery"})]})]}):r.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[r.jsx(Dr,{className:"w-4 h-4"}),r.jsx("span",{className:"text-xs",children:"Completed"})]})})]},w.id))})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Export Data"}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("button",{onClick:y,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[r.jsx(ei,{className:"w-4 h-4"}),"Export CSV"]}),r.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:[r.jsx(ei,{className:"w-4 h-4"}),"Export PDF"]})]})]})]})})})}function jU(){const{user:e}=es(),[t,s]=A.useState([]),[a,n]=A.useState({}),[i,l]=A.useState(!1),[o,c]=A.useState([]),[d,h]=A.useState(null);A.useEffect(()=>{m(),p()},[a]);const m=async()=>{l(!0);try{s([{id:"DEL001",dispatchId:"DSP001",billNumber:"BH2024001",partyName:"John Doe",totalPayment:1250,paymentStatus:"paid",paymentMode:"online",status:"delivered",deliveryPersonId:"DP001",deliveryPersonName:"Ravi Kumar",customerAddress:"123 Main Street, Chennai - 600001",customerPhone:"+91 9876543210",proofImageUrl:"https://via.placeholder.com/400",proofUploadedAt:new Date().toISOString(),products:[{id:"P1",billNumber:"BH2024001",partyName:"John Doe",productName:"Sea Crab",grossWeight:2.5,netWeight:2.3,isAlternate:!1}],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}])}catch(S){console.error("Failed to load deliveries:",S)}finally{l(!1)}},p=async()=>{try{c([{id:"DP001",name:"Ravi Kumar"},{id:"DP002",name:"Suresh M"}])}catch(S){console.error("Failed to load delivery agents:",S)}},x=async(S,w)=>{if(!t.find(E=>E.id===S)||!confirm(`Are you sure you want to override status to "${w}"?`))return;const O=prompt("Enter admin remarks:");if(!O){alert("Remarks are mandatory for admin override");return}try{const E=t.map(F=>F.id===S?{...F,status:w,remarks:`[ADMIN OVERRIDE] ${O}`,updatedBy:e?.id,updatedAt:new Date().toISOString()}:F);s(E),alert("Status overridden successfully")}catch(E){console.error("Failed to override status:",E),alert("Failed to override status")}},v=()=>{const S=["Bill #","Customer","Total Payment","Payment Mode","Payment Status","Delivery Person","Status","Delivery Date","Remarks","Alternate","Proof Status"],w=t.map(F=>[F.billNumber,F.partyName,F.totalPayment,F.paymentMode.toUpperCase(),F.paymentStatus,F.deliveryPersonName,F.status,new Date(F.updatedAt).toLocaleDateString(),F.remarks||"-",F.products.some(I=>I.isAlternate)?"Yes":"No",F.proofImageUrl?"Yes":"No"]),k=[S,...w].map(F=>F.join(",")).join(`
`),_=new Blob([k],{type:"text/csv"}),O=URL.createObjectURL(_),E=document.createElement("a");E.href=O,E.download=`delivery_admin_${new Date().toISOString().split("T")[0]}.csv`,E.click()},y=()=>{const S=new nr("landscape");S.setFontSize(18),S.text("Bayhawk - Delivery Management Report",14,20),S.setFontSize(10),S.text(`Generated: ${new Date().toLocaleString()}`,14,28),(a.dateFrom||a.dateTo)&&S.text(`Period: ${a.dateFrom||"Start"} to ${a.dateTo||"End"}`,14,34);const w=t.map(k=>[k.billNumber,k.partyName,k.totalPayment.toFixed(2),k.paymentMode.toUpperCase(),k.paymentStatus,k.deliveryPersonName,k.status,k.proofImageUrl?"Yes":"No"]);jg(S,{startY:40,head:[["Bill #","Customer","Amount","Payment Mode","Payment Status","Delivery Person","Status","Proof"]],body:w}),S.save(`delivery_admin_${new Date().toISOString().split("T")[0]}.pdf`)},b=S=>{switch(S){case"dispatched":return"bg-yellow-100 text-yellow-800";case"delivered":return"bg-green-100 text-green-800";case"undelivered":return"bg-red-100 text-red-800";case"returned":return"bg-orange-100 text-orange-800";case"failed_delivery":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},j=S=>S==="paid"?"bg-green-100 text-green-800":"bg-red-100 text-red-800";return r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Tt,{className:"w-8 h-8 text-indigo-600"}),r.jsx("h1",{className:"text-2xl font-bold",children:"Delivery Management - Admin"})]})}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(nc,{className:"w-5 h-5 text-gray-600"}),r.jsx("h2",{className:"font-semibold",children:"Filters"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Delivery Person"}),r.jsxs("select",{className:"w-full px-3 py-2 border rounded-lg",value:a.deliveryPerson||"",onChange:S=>n({...a,deliveryPerson:S.target.value}),children:[r.jsx("option",{value:"",children:"All"}),o.map(S=>r.jsx("option",{value:S.id,children:S.name},S.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From Date"}),r.jsx("input",{type:"date",className:"w-full px-3 py-2 border rounded-lg",value:a.dateFrom||"",onChange:S=>n({...a,dateFrom:S.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To Date"}),r.jsx("input",{type:"date",className:"w-full px-3 py-2 border rounded-lg",value:a.dateTo||"",onChange:S=>n({...a,dateTo:S.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Customer"}),r.jsx("input",{type:"text",placeholder:"Search customer",className:"w-full px-3 py-2 border rounded-lg",value:a.customer||"",onChange:S=>n({...a,customer:S.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),r.jsxs("select",{className:"w-full px-3 py-2 border rounded-lg",value:a.status||"",onChange:S=>n({...a,status:S.target.value}),children:[r.jsx("option",{value:"",children:"All"}),r.jsx("option",{value:"dispatched",children:"Dispatched"}),r.jsx("option",{value:"delivered",children:"Delivered"}),r.jsx("option",{value:"undelivered",children:"Undelivered"}),r.jsx("option",{value:"returned",children:"Returned"}),r.jsx("option",{value:"failed_delivery",children:"Failed Delivery"})]})]})]}),r.jsx("div",{className:"mt-4",children:r.jsx("button",{onClick:()=>n({}),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Reset Filters"})})]}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden mb-6",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Bill #"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Customer"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Products"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Total Payment"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Payment Mode"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Payment Status"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Delivery Person"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Proof"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Remarks"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y",children:i?r.jsx("tr",{children:r.jsx("td",{colSpan:11,className:"px-4 py-8 text-center text-gray-500",children:"Loading..."})}):t.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:11,className:"px-4 py-8 text-center text-gray-500",children:"No delivery records found"})}):t.map(S=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-3 text-sm font-medium",children:S.billNumber}),r.jsx("td",{className:"px-4 py-3 text-sm",children:S.partyName}),r.jsx("td",{className:"px-4 py-3 text-sm",children:r.jsx("div",{className:"space-y-1",children:S.products.map(w=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{children:w.productName}),w.isAlternate&&r.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-amber-100 text-amber-800 text-xs rounded",children:[r.jsx(ya,{className:"w-3 h-3"}),"Alternate"]})]},w.id))})}),r.jsxs("td",{className:"px-4 py-3 text-sm font-semibold",children:["",S.totalPayment.toFixed(2)]}),r.jsx("td",{className:"px-4 py-3 text-sm",children:r.jsx("span",{className:"uppercase font-medium",children:S.paymentMode})}),r.jsx("td",{className:"px-4 py-3 text-sm",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${j(S.paymentStatus)}`,children:S.paymentStatus})}),r.jsx("td",{className:"px-4 py-3 text-sm",children:S.deliveryPersonName}),r.jsx("td",{className:"px-4 py-3 text-sm",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${b(S.status)}`,children:S.status.replace("_"," ")})}),r.jsx("td",{className:"px-4 py-3 text-sm",children:S.proofImageUrl?r.jsxs("button",{onClick:()=>h(S.proofImageUrl||null),className:"flex items-center gap-1 px-3 py-1 bg-blue-100 text-blue-700 rounded hover:bg-blue-200",children:[r.jsx(Fr,{className:"w-4 h-4"}),"View"]}):r.jsxs("span",{className:"flex items-center gap-1 text-gray-400",children:[r.jsx(Mu,{className:"w-4 h-4"}),"No Proof"]})}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:S.remarks||"-"}),r.jsx("td",{className:"px-4 py-3 text-sm",children:r.jsxs("select",{className:"px-2 py-1 border rounded text-sm",value:S.status,onChange:w=>x(S.id,w.target.value),children:[r.jsx("option",{value:S.status,children:"Override Status"}),r.jsx("option",{value:"dispatched",children:"Dispatched"}),r.jsx("option",{value:"delivered",children:"Delivered"}),r.jsx("option",{value:"undelivered",children:"Undelivered"}),r.jsx("option",{value:"returned",children:"Returned"}),r.jsx("option",{value:"failed_delivery",children:"Failed Delivery"})]})})]},S.id))})]})})}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("button",{onClick:v,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[r.jsx(ei,{className:"w-4 h-4"}),"Export CSV"]}),r.jsxs("button",{onClick:y,className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:[r.jsx(ei,{className:"w-4 h-4"}),"Export PDF"]})]}),d&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>h(null),children:r.jsxs("div",{className:"bg-white rounded-lg p-4 max-w-2xl max-h-[90vh] overflow-auto",onClick:S=>S.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Delivery Proof"}),r.jsx("button",{onClick:()=>h(null),className:"text-gray-500 hover:text-gray-700",children:""})]}),r.jsx("img",{src:d,alt:"Delivery Proof",className:"w-full h-auto rounded"})]})})]})}function QBe(){const[e,t]=A.useState("today"),[s,a]=A.useState("overview"),n=Ao(),l=n.pathname.includes("/hub/")?"hub":n.pathname.includes("/store/")?"store":"super_admin",o=Ok[l],c=()=>{alert(`Schedule ${l} customer report functionality`)},d=()=>{alert(`Exporting ${l} customer report...`)},h=[Qr,Qr,Tg,Lte],m=["bg-blue-50 text-blue-600","bg-green-50 text-green-600","bg-purple-50 text-purple-600","bg-orange-50 text-orange-600"];return r.jsxs("div",{className:"space-y-6",children:[r.jsx(wP,{title:"Customer Report",description:"New customers, active customers, and lifetime value analytics",dateRange:e,onDateRangeChange:t,onSchedule:c,onExport:d}),r.jsx("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-4",children:o.metrics.map((p,x)=>r.jsx(SP,{title:p.title,value:p.value,change:p.change,changeType:p.changeType,icon:h[x],iconColor:m[x]},p.title))}),r.jsx(_P,{title:"Customer Growth",viewMode:s,onViewModeChange:a,viewOptions:[{value:"overview",label:"Overview"},{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"}]}),l==="super_admin"&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"flex items-center gap-2 mb-4",children:r.jsx("h2",{className:"text-xl font-semibold",children:"Detailed Reports by Location"})}),r.jsxs("div",{className:"grid gap-6 grid-cols-1 lg:grid-cols-2",children:[r.jsx(Sg,{title:"Hub Customers",icon:Wl,data:Ok.hub,type:"hub"}),r.jsx(Sg,{title:"Store Customers",icon:Fn,data:Ok.store,type:"store"})]})]})]})}function dj(){const[e,t]=A.useState("customer");return r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsx("div",{className:"border-b",children:r.jsxs("nav",{className:"flex space-x-8",children:[r.jsx("button",{onClick:()=>t("customer"),className:`py-2 px-1 border-b-2 font-medium text-sm ${e==="customer"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Customer Reports"}),r.jsx("button",{onClick:()=>t("demand-forecast"),className:`py-2 px-1 border-b-2 font-medium text-sm ${e==="demand-forecast"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Demand Forecast"}),r.jsx("button",{onClick:()=>t("tax-gst"),className:`py-2 px-1 border-b-2 font-medium text-sm ${e==="tax-gst"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Tax & GST"})]})}),e==="customer"&&r.jsx(QBe,{}),e==="demand-forecast"&&r.jsx(hf,{}),e==="tax-gst"&&r.jsx(Im,{})]})}function uj(){const[e,t]=A.useState({});return console.log("Product demand forecast filters:",e),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsx(Jg,{onFiltersChange:t,statusOptions:[{value:"high_risk",label:"High Risk"},{value:"medium_risk",label:"Medium Risk"},{value:"low_risk",label:"Low Risk"},{value:"optimal",label:"Optimal"}],categoryOptions:[{value:"chicken",label:"Chicken"},{value:"mutton",label:"Mutton"},{value:"fish",label:"Fish & Seafood"},{value:"eggs",label:"Eggs"},{value:"processed",label:"Processed Items"}]}),r.jsx(hf,{})]})}const eUe=[{period:"Jan",sales:1200,orders:450,revenue:85e3},{period:"Feb",sales:1350,orders:520,revenue:92e3},{period:"Mar",sales:1180,orders:480,revenue:88e3},{period:"Apr",sales:1450,orders:580,revenue:98e3},{period:"May",sales:1620,orders:640,revenue:105e3},{period:"Jun",sales:1580,orders:620,revenue:102e3}],tUe=[{product:"Fresh Chicken",category:"Poultry",currentSales:850,previousSales:720,growth:18.1,trend:"up",popularity:95},{product:"Mutton Premium",category:"Meat",currentSales:420,previousSales:480,growth:-12.5,trend:"down",popularity:78},{product:"Fish Fillet",category:"Seafood",currentSales:320,previousSales:280,growth:14.3,trend:"up",popularity:82},{product:"Prawns Large",category:"Seafood",currentSales:180,previousSales:160,growth:12.5,trend:"up",popularity:88},{product:"Eggs Organic",category:"Dairy",currentSales:650,previousSales:670,growth:-3,trend:"stable",popularity:91}],Dk=[{name:"Poultry",value:45,color:"#3B82F6"},{name:"Meat",value:25,color:"#EF4444"},{name:"Seafood",value:20,color:"#10B981"},{name:"Dairy",value:10,color:"#F59E0B"}],rUe=()=>{const[e,t]=A.useState("6months"),[s,a]=A.useState("sales"),n=l=>l==="up"?r.jsx(ta,{className:"h-4 w-4 text-green-600"}):l==="down"?r.jsx(Mj,{className:"h-4 w-4 text-red-600"}):r.jsx("div",{className:"h-4 w-4 bg-gray-400 rounded-full"}),i=l=>l>0?"text-green-600":l<0?"text-red-600":"text-gray-600";return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Zn,{className:"h-6 w-6 text-purple-600"}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold",children:"Product Trend Analysis"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Track product performance and market trends"})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("select",{value:e,onChange:l=>t(l.target.value),className:"px-3 py-2 border rounded-lg text-sm",children:[r.jsx("option",{value:"3months",children:"3 Months"}),r.jsx("option",{value:"6months",children:"6 Months"}),r.jsx("option",{value:"12months",children:"12 Months"})]}),r.jsxs(oe,{size:"sm",variant:"secondary",children:[r.jsx(ei,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Top Performer"}),r.jsx("p",{className:"text-lg font-bold text-green-600",children:"Fresh Chicken"}),r.jsx("p",{className:"text-xs text-green-600",children:"+18.1% growth"})]}),r.jsx(ta,{className:"h-8 w-8 text-green-600"})]})}),r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Declining Product"}),r.jsx("p",{className:"text-lg font-bold text-red-600",children:"Mutton Premium"}),r.jsx("p",{className:"text-xs text-red-600",children:"-12.5% decline"})]}),r.jsx(Mj,{className:"h-8 w-8 text-red-600"})]})}),r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Avg Growth"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"+5.9%"})]}),r.jsx(Zn,{className:"h-8 w-8 text-blue-600"})]})}),r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Trending Products"}),r.jsx("p",{className:"text-2xl font-bold text-purple-600",children:"3"})]}),r.jsx(ta,{className:"h-8 w-8 text-purple-600"})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs(he,{className:"lg:col-span-2 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Sales Trend"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>a("sales"),className:`px-3 py-1 text-sm rounded ${s==="sales"?"bg-blue-100 text-blue-600":"text-gray-600"}`,children:"Sales"}),r.jsx("button",{onClick:()=>a("revenue"),className:`px-3 py-1 text-sm rounded ${s==="revenue"?"bg-blue-100 text-blue-600":"text-gray-600"}`,children:"Revenue"})]})]}),r.jsx(ql,{width:"100%",height:300,children:r.jsxs(R5,{data:eUe,children:[r.jsx(Qc,{strokeDasharray:"3 3"}),r.jsx(ed,{dataKey:"period"}),r.jsx(td,{}),r.jsx(Vl,{}),r.jsx(wm,{type:"monotone",dataKey:s,stroke:"#8B5CF6",strokeWidth:3,dot:{fill:"#8B5CF6",strokeWidth:2,r:4}})]})})]}),r.jsxs(he,{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Category Share"}),r.jsx(ql,{width:"100%",height:200,children:r.jsxs(M5,{children:[r.jsx(qb,{data:Dk,cx:"50%",cy:"50%",innerRadius:40,outerRadius:80,dataKey:"value",children:Dk.map((l,o)=>r.jsx(Rm,{fill:l.color},`cell-${o}`))}),r.jsx(Vl,{})]})}),r.jsx("div",{className:"mt-4 space-y-2",children:Dk.map((l,o)=>r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:l.color}}),r.jsx("span",{children:l.name})]}),r.jsxs("span",{className:"font-medium",children:[l.value,"%"]})]},o))})]})]}),r.jsxs(he,{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Product Performance"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b",children:[r.jsx("th",{className:"text-left py-3 px-4",children:"Product"}),r.jsx("th",{className:"text-left py-3 px-4",children:"Category"}),r.jsx("th",{className:"text-left py-3 px-4",children:"Current Sales"}),r.jsx("th",{className:"text-left py-3 px-4",children:"Previous Sales"}),r.jsx("th",{className:"text-left py-3 px-4",children:"Growth"}),r.jsx("th",{className:"text-left py-3 px-4",children:"Trend"}),r.jsx("th",{className:"text-left py-3 px-4",children:"Popularity"})]})}),r.jsx("tbody",{children:tUe.map((l,o)=>r.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[r.jsx("td",{className:"py-3 px-4 font-medium",children:l.product}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded-full text-xs",children:l.category})}),r.jsx("td",{className:"py-3 px-4",children:l.currentSales}),r.jsx("td",{className:"py-3 px-4",children:l.previousSales}),r.jsxs("td",{className:`py-3 px-4 font-medium ${i(l.growth)}`,children:[l.growth>0?"+":"",l.growth,"%"]}),r.jsx("td",{className:"py-3 px-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[n(l.trend),r.jsx("span",{className:"capitalize text-sm",children:l.trend})]})}),r.jsx("td",{className:"py-3 px-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${l.popularity}%`}})}),r.jsxs("span",{className:"text-sm",children:[l.popularity,"%"]})]})})]},o))})]})})]}),r.jsxs(he,{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Key Insights"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx("div",{className:"p-4 bg-green-50 rounded-lg",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(ta,{className:"h-5 w-5 text-green-600 mt-1"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-green-800",children:"Growing Categories"}),r.jsx("p",{className:"text-sm text-green-700 mt-1",children:"Poultry and Seafood showing strong upward trends with 15%+ growth"})]})]})}),r.jsx("div",{className:"p-4 bg-red-50 rounded-lg",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Mj,{className:"h-5 w-5 text-red-600 mt-1"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-red-800",children:"Declining Products"}),r.jsx("p",{className:"text-sm text-red-700 mt-1",children:"Mutton Premium needs attention - consider promotional strategies"})]})]})})]})]})]})};function hj(){const[e,t]=A.useState({}),[s,a]=A.useState("trend-analysis");return console.log("Product trend analysis filters:",e),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsx(Jg,{onFiltersChange:t,statusOptions:[{value:"trending_up",label:"Trending Up"},{value:"trending_down",label:"Trending Down"},{value:"stable",label:"Stable"},{value:"volatile",label:"Volatile"}],categoryOptions:[{value:"poultry",label:"Poultry"},{value:"meat",label:"Meat"},{value:"seafood",label:"Seafood"},{value:"dairy",label:"Dairy"},{value:"processed",label:"Processed"}]}),r.jsx("div",{className:"border-b",children:r.jsxs("nav",{className:"flex space-x-8",children:[r.jsx("button",{onClick:()=>a("trend-analysis"),className:`py-2 px-1 border-b-2 font-medium text-sm ${s==="trend-analysis"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Trend Analysis"}),r.jsx("button",{onClick:()=>a("demand-forecast"),className:`py-2 px-1 border-b-2 font-medium text-sm ${s==="demand-forecast"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Demand Forecast"}),r.jsx("button",{onClick:()=>a("tax-gst"),className:`py-2 px-1 border-b-2 font-medium text-sm ${s==="tax-gst"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Tax & GST"})]})}),s==="trend-analysis"&&r.jsx(rUe,{}),s==="demand-forecast"&&r.jsx(hf,{}),s==="tax-gst"&&r.jsx(Im,{})]})}function fj(){const[e,t]=A.useState({}),[s,a]=A.useState("tax-gst");return console.log("Tax GST report filters:",e),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsx(Jg,{onFiltersChange:t,statusOptions:[{value:"filed",label:"Filed"},{value:"pending",label:"Pending"},{value:"overdue",label:"Overdue"}],categoryOptions:[{value:"cgst",label:"CGST"},{value:"sgst",label:"SGST"},{value:"igst",label:"IGST"},{value:"cess",label:"CESS"}]}),r.jsx("div",{className:"border-b",children:r.jsxs("nav",{className:"flex space-x-8",children:[r.jsx("button",{onClick:()=>a("tax-gst"),className:`py-2 px-1 border-b-2 font-medium text-sm ${s==="tax-gst"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Tax & GST Reports"}),r.jsx("button",{onClick:()=>a("demand-forecast"),className:`py-2 px-1 border-b-2 font-medium text-sm ${s==="demand-forecast"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Demand Forecast"})]})}),s==="tax-gst"&&r.jsx(Im,{}),s==="demand-forecast"&&r.jsx(hf,{})]})}const kP=({entityType:e,entityId:t,onRollback:s,className:a=""})=>{const{getHistory:n,rollback:i,clearHistory:l}=H6(),[o,c]=A.useState(null),[d,h]=A.useState(!1),m=n(e,t),p=async y=>{if(s){h(!0);try{const b=await i(y.id,s);alert(b?"Rollback completed successfully":"Rollback failed")}catch(b){alert("Rollback failed: "+b)}finally{h(!1),c(null)}}},x=y=>new Date(y).toLocaleString(),v=y=>y.toLowerCase().includes("delete")?"text-red-600":y.toLowerCase().includes("create")?"text-green-600":y.toLowerCase().includes("update")?"text-blue-600":y.toLowerCase().includes("rollback")?"text-purple-600":"text-gray-600";return r.jsxs("div",{className:`space-y-4 ${a}`,children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(rn,{className:"h-5 w-5 text-blue-600"}),r.jsx("h3",{className:"text-lg font-semibold",children:"Rollback History"}),r.jsxs("span",{className:"text-sm text-gray-500",children:["(",m.length," entries)"]})]}),m.length>0&&r.jsxs(oe,{variant:"danger",size:"sm",onClick:()=>{confirm("Clear all history? This cannot be undone.")&&l(e)},children:[r.jsx(Ar,{className:"h-4 w-4 mr-1"}),"Clear History"]})]}),m.length===0?r.jsxs(he,{className:"p-8 text-center",children:[r.jsx(rn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h4",{className:"text-lg font-medium text-gray-600 mb-2",children:"No History Available"}),r.jsx("p",{className:"text-gray-500",children:"No rollback entries found for this item."})]}):r.jsx("div",{className:"space-y-2",children:m.map(y=>r.jsxs(he,{className:"p-4 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("span",{className:`font-medium ${v(y.action)}`,children:y.action}),r.jsxs("span",{className:"text-sm text-gray-500",children:[y.entityType," #",y.entityId]})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Tr,{className:"h-4 w-4"}),x(y.timestamp)]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(si,{className:"h-4 w-4"}),y.userName]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>c(o?.id===y.id?null:y),children:r.jsx(Fr,{className:"h-4 w-4"})}),s&&r.jsxs(oe,{variant:"secondary",size:"sm",onClick:()=>{confirm(`Rollback to previous state? This will restore the data to how it was before "${y.action}".`)&&p(y)},disabled:d,children:[r.jsx(rn,{className:"h-4 w-4 mr-1"}),d?"Rolling back...":"Rollback"]})]})]}),o?.id===y.id&&r.jsx("div",{className:"mt-4 pt-4 border-t",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("h5",{className:"font-medium text-gray-700 mb-2",children:"Previous State"}),r.jsx("pre",{className:"bg-gray-50 p-3 rounded text-xs overflow-auto max-h-40",children:JSON.stringify(y.previousState,null,2)})]}),r.jsxs("div",{children:[r.jsx("h5",{className:"font-medium text-gray-700 mb-2",children:"Current State"}),r.jsx("pre",{className:"bg-gray-50 p-3 rounded text-xs overflow-auto max-h-40",children:JSON.stringify(y.currentState,null,2)})]})]})})]},y.id))}),d&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsx(he,{className:"p-6 max-w-sm",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(rn,{className:"h-6 w-6 text-blue-600 animate-spin"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:"Rolling back..."}),r.jsx("p",{className:"text-sm text-gray-600",children:"Please wait while we restore the previous state."})]})]})})})]})},sUe=({entityType:e,entityId:t,onRollback:s,className:a="",showHistory:n=!0})=>{const[i,l]=A.useState(!1);return r.jsxs("div",{className:a,children:[r.jsx("div",{className:"flex gap-2",children:n&&r.jsxs(oe,{variant:"ghost",size:"sm",onClick:()=>l(!i),children:[r.jsx(cg,{className:"h-4 w-4 mr-1"}),"History"]})}),i&&r.jsx("div",{className:"mt-4",children:r.jsx(kP,{entityType:e,entityId:t,onRollback:s})})]})},aUe=()=>{const[e,t]=A.useState({id:"prod_001",name:"Fresh Chicken",price:250,category:"Poultry",stock:100}),{saveState:s}=H6(),a=(i,l)=>{const o={...e},c={...e,[i]:l};t(c),s(`Update ${i}`,"product",e.id,o,c)},n=i=>{t(i)};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-semibold",children:"Product Management with Rollback"}),r.jsx(sUe,{entityType:"product",entityId:e.id,onRollback:n})]}),r.jsxs(he,{className:"p-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Product Name"}),r.jsx(de,{value:e.name,onChange:i=>a("name",i.target.value)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Category"}),r.jsx(de,{value:e.category,onChange:i=>a("category",i.target.value)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Price ()"}),r.jsx(de,{type:"number",value:e.price,onChange:i=>a("price",parseFloat(i.target.value)||0)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Stock"}),r.jsx(de,{type:"number",value:e.stock,onChange:i=>a("stock",parseInt(i.target.value)||0)})]})]}),r.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[r.jsx("h4",{className:"font-medium mb-2",children:"Current Product State:"}),r.jsx("pre",{className:"text-sm",children:JSON.stringify(e,null,2)})]})]})]})},nUe=()=>{const[e,t]=A.useState({orders:1250,products:450,users:320,settings:{maintenanceMode:!1,maxOrdersPerDay:1e3,autoBackup:!0}}),{saveState:s}=H6(),a=i=>{const l={...e};let o={...e},c="";switch(i){case"maintenance":o.settings.maintenanceMode=!o.settings.maintenanceMode,c=`${o.settings.maintenanceMode?"Enable":"Disable"} Maintenance Mode`;break;case"orders":o.orders+=Math.floor(Math.random()*50)+10,c="Process New Orders";break;case"products":o.products+=Math.floor(Math.random()*10)-5,c="Update Product Inventory";break;case"users":o.users+=Math.floor(Math.random()*5)+1,c="Add New Users";break;case"settings":o.settings.maxOrdersPerDay=Math.floor(Math.random()*500)+800,c="Update System Settings";break}t(o),s(c,"system","main",l,o)},n=i=>{t(i)};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(rn,{className:"h-6 w-6 text-blue-600"}),r.jsx("h2",{className:"text-xl font-semibold",children:"System State Management with Rollback"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Orders"}),r.jsx("p",{className:"text-2xl font-bold",children:e.orders})]}),r.jsx(bo,{className:"h-8 w-8 text-blue-600"})]})}),r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Products"}),r.jsx("p",{className:"text-2xl font-bold",children:e.products})]}),r.jsx(Tt,{className:"h-8 w-8 text-green-600"})]})}),r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Users"}),r.jsx("p",{className:"text-2xl font-bold",children:e.users})]}),r.jsx(Qr,{className:"h-8 w-8 text-purple-600"})]})}),r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Maintenance"}),r.jsx("p",{className:`text-lg font-bold ${e.settings.maintenanceMode?"text-red-600":"text-green-600"}`,children:e.settings.maintenanceMode?"ON":"OFF"})]}),r.jsx(ic,{className:"h-8 w-8 text-orange-600"})]})})]}),r.jsxs(he,{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Simulate System Changes"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx(oe,{onClick:()=>a("maintenance"),children:"Toggle Maintenance Mode"}),r.jsx(oe,{onClick:()=>a("orders"),children:"Process Orders"}),r.jsx(oe,{onClick:()=>a("products"),children:"Update Inventory"}),r.jsx(oe,{onClick:()=>a("users"),children:"Add Users"}),r.jsx(oe,{onClick:()=>a("settings"),children:"Update Settings"})]})]}),r.jsxs(he,{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Current System Settings"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"p-3 bg-gray-50 rounded",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Maintenance Mode"}),r.jsx("p",{className:`font-medium ${e.settings.maintenanceMode?"text-red-600":"text-green-600"}`,children:e.settings.maintenanceMode?"Enabled":"Disabled"})]}),r.jsxs("div",{className:"p-3 bg-gray-50 rounded",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Max Orders/Day"}),r.jsx("p",{className:"font-medium",children:e.settings.maxOrdersPerDay})]}),r.jsxs("div",{className:"p-3 bg-gray-50 rounded",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Auto Backup"}),r.jsx("p",{className:`font-medium ${e.settings.autoBackup?"text-green-600":"text-red-600"}`,children:e.settings.autoBackup?"Enabled":"Disabled"})]})]})]}),r.jsx(kP,{entityType:"system",entityId:"main",onRollback:n})]})},iUe=()=>{const[e,t]=A.useState("product"),s=[{id:"product",label:"Product Management",icon:Tt},{id:"system",label:"System Management",icon:ic},{id:"history",label:"Global History",icon:cg}];return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 rounded-xl p-6 text-white shadow-lg",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"h-14 w-14 bg-white/20 rounded-xl flex items-center justify-center",children:r.jsx(rn,{className:"h-8 w-8"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Rollback & Data Recovery"}),r.jsx("p",{className:"text-purple-100 mt-1",children:"Restore previous states and recover data with confidence"})]})]}),r.jsxs("div",{className:"flex items-center gap-2 bg-white/10 px-4 py-2 rounded-lg backdrop-blur-sm",children:[r.jsx(sl,{className:"h-5 w-5"}),r.jsx("span",{className:"font-medium",children:"Protected System"})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(he,{className:"p-5 border-l-4 border-blue-500 hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Total Snapshots"}),r.jsx("p",{className:"text-3xl font-bold text-blue-600 mt-2",children:"247"}),r.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Across all entities"})]}),r.jsx("div",{className:"h-12 w-12 bg-blue-100 rounded-xl flex items-center justify-center",children:r.jsx(iD,{className:"h-6 w-6 text-blue-600"})})]})}),r.jsx(he,{className:"p-5 border-l-4 border-green-500 hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Successful Restores"}),r.jsx("p",{className:"text-3xl font-bold text-green-600 mt-2",children:"98.5%"}),r.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Recovery success rate"})]}),r.jsx("div",{className:"h-12 w-12 bg-green-100 rounded-xl flex items-center justify-center",children:r.jsx(Dr,{className:"h-6 w-6 text-green-600"})})]})}),r.jsx(he,{className:"p-5 border-l-4 border-purple-500 hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Last Rollback"}),r.jsx("p",{className:"text-3xl font-bold text-purple-600 mt-2",children:"2h"}),r.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"2 hours ago"})]}),r.jsx("div",{className:"h-12 w-12 bg-purple-100 rounded-xl flex items-center justify-center",children:r.jsx(Tr,{className:"h-6 w-6 text-purple-600"})})]})}),r.jsx(he,{className:"p-5 border-l-4 border-orange-500 hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Retention Period"}),r.jsx("p",{className:"text-3xl font-bold text-orange-600 mt-2",children:"30d"}),r.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Auto-cleanup enabled"})]}),r.jsx("div",{className:"h-12 w-12 bg-orange-100 rounded-xl flex items-center justify-center",children:r.jsx(ya,{className:"h-6 w-6 text-orange-600"})})]})})]}),r.jsx(he,{className:"p-1",children:r.jsx("nav",{className:"flex space-x-1",children:s.map(a=>r.jsxs("button",{onClick:()=>t(a.id),className:`flex-1 py-3 px-4 rounded-lg font-medium text-sm flex items-center justify-center gap-2 transition-all ${e===a.id?"bg-blue-600 text-white shadow-md":"text-gray-600 hover:bg-gray-100"}`,children:[r.jsx(a.icon,{className:"h-5 w-5"}),a.label]},a.id))})}),e==="product"&&r.jsx(aUe,{}),e==="system"&&r.jsx(nUe,{}),e==="history"&&r.jsx("div",{className:"space-y-6",children:r.jsxs(he,{className:"p-6 shadow-md",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold",children:"Global Rollback History"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"View all rollback entries across the entire system. This includes all entity types and operations."})]}),r.jsxs(oe,{variant:"secondary",size:"sm",children:[r.jsx(iD,{className:"h-4 w-4 mr-2"}),"Export History"]})]}),r.jsx(kP,{})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsx(he,{className:"p-6 bg-gradient-to-br from-blue-50 to-purple-50 border-blue-200 shadow-md",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"h-10 w-10 bg-blue-600 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx(rn,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-blue-900 mb-3",children:"How Rollback Works"}),r.jsxs("ul",{className:"text-sm text-blue-800 space-y-2",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Dr,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Every data change is automatically tracked with timestamps"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Dr,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Previous states are stored securely for recovery"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Dr,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Rollback operations create new history entries for audit trails"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Dr,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Each rollback requires confirmation to prevent accidental data loss"})]})]})]})]})}),r.jsx(he,{className:"p-6 bg-gradient-to-br from-green-50 to-emerald-50 border-green-200 shadow-md",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"h-10 w-10 bg-green-600 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx(sl,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-green-900 mb-3",children:"Data Protection Features"}),r.jsxs("ul",{className:"text-sm text-green-800 space-y-2",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Dr,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Point-in-time recovery for critical data"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Dr,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Automatic backup before major operations"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Dr,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"30-day retention with configurable policies"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Dr,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Role-based access control for restore operations"})]})]})]})]})})]})]})};function mj(){return r.jsx(YU,{children:r.jsx("div",{className:"p-6",children:r.jsx(iUe,{})})})}function xj(){const[e,t]=A.useState({name:"BAYHAWK",email:"support@bayhawk.com",phone:"+91 9876543210",language:"en",currency:"INR",timezone:"IST"}),[s,a]=A.useState({licenseNumber:"",validityDate:""});return r.jsxs("div",{className:"space-y-4 sm:space-y-6 p-3 sm:p-4 md:p-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"General Settings"}),r.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1",children:"Configure your business information and basic settings"})]}),r.jsxs(oe,{className:"w-full sm:w-auto",children:[r.jsx(Ii,{className:"mr-2 h-5 w-5"}),"Save All Changes"]})]}),r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[r.jsx("div",{className:"rounded-lg bg-blue-50 p-2",children:r.jsx(Tm,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-base sm:text-lg font-semibold",children:"Business Information"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Basic details about your business"})]})]}),r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Logo"}),r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[r.jsx("div",{className:"h-20 w-20 rounded-lg bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center shadow-lg",children:r.jsx("span",{className:"text-white font-bold text-xl",children:"B"})}),r.jsxs("div",{className:"w-full sm:w-auto",children:[r.jsxs(oe,{variant:"secondary",size:"sm",className:"w-full sm:w-auto",children:[r.jsx(jo,{className:"h-4 w-4 mr-2"}),"Upload New Logo"]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Recommended: 200x200px, PNG or JPG"})]})]})]}),r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2",children:[r.jsx(de,{label:"Business Name",value:e.name,onChange:n=>t({...e,name:n.target.value}),placeholder:"Enter business name"}),r.jsx(de,{label:"Support Email",type:"email",value:e.email,onChange:n=>t({...e,email:n.target.value}),placeholder:"support@example.com"})]}),r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2",children:[r.jsx(de,{label:"Support Phone",type:"tel",value:e.phone,onChange:n=>t({...e,phone:n.target.value}),placeholder:"+91 9876543210"}),r.jsx(Ut,{label:"Default Language",value:e.language,onChange:n=>t({...e,language:n.target.value}),options:[{value:"en",label:"English"},{value:"ta",label:"Tamil"},{value:"hi",label:"Hindi"},{value:"te",label:"Telugu"},{value:"kn",label:"Kannada"}]})]}),r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2",children:[r.jsx(Ut,{label:"Currency",value:e.currency,onChange:n=>t({...e,currency:n.target.value}),options:[{value:"INR",label:"INR ()"},{value:"USD",label:"USD ($)"},{value:"EUR",label:"EUR ()"}]}),r.jsx(Ut,{label:"Timezone",value:e.timezone,onChange:n=>t({...e,timezone:n.target.value}),options:[{value:"IST",label:"IST (UTC+5:30)"},{value:"UTC",label:"UTC (UTC+0:00)"},{value:"EST",label:"EST (UTC-5:00)"}]})]})]})]}),r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[r.jsx("div",{className:"rounded-lg bg-green-50 p-2",children:r.jsx(Rs,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-base sm:text-lg font-semibold",children:"FSSAI Certificate"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Food Safety and Standards Authority of India certification"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2",children:[r.jsx(de,{label:"FSSAI License Number",value:s.licenseNumber,onChange:n=>a({...s,licenseNumber:n.target.value}),placeholder:"12345678901234",maxLength:14}),r.jsx(de,{label:"Validity Date",type:"date",value:s.validityDate,onChange:n=>a({...s,validityDate:n.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Certificate Document"}),r.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 sm:p-6 text-center hover:border-gray-400 transition-colors",children:[r.jsx(jo,{className:"h-6 w-6 sm:h-8 sm:w-8 text-gray-400 mx-auto mb-2"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-2",children:"Upload FSSAI Certificate"}),r.jsx(oe,{variant:"secondary",size:"sm",children:"Choose File"}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"PDF, JPG, PNG up to 5MB"})]})]})]})]}),r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[r.jsx("div",{className:"rounded-lg bg-purple-50 p-2",children:r.jsx(Jr,{className:"h-4 w-4 sm:h-5 sm:w-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-base sm:text-lg font-semibold",children:"Business Hours"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Set your operational hours"})]})]}),r.jsx("div",{className:"space-y-3 sm:space-y-4",children:[{day:"Monday",open:"09:00",close:"21:00",enabled:!0},{day:"Tuesday",open:"09:00",close:"21:00",enabled:!0},{day:"Wednesday",open:"09:00",close:"21:00",enabled:!0},{day:"Thursday",open:"09:00",close:"21:00",enabled:!0},{day:"Friday",open:"09:00",close:"21:00",enabled:!0},{day:"Saturday",open:"09:00",close:"21:00",enabled:!0},{day:"Sunday",open:"10:00",close:"20:00",enabled:!0}].map(n=>r.jsxs("div",{className:"flex flex-col gap-3 p-3 sm:p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"font-medium text-sm",children:n.day}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:n.enabled,className:"rounded"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Open"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(de,{type:"time",value:n.open,className:"flex-1",disabled:!n.enabled}),r.jsx("span",{className:"text-gray-500 text-sm",children:"to"}),r.jsx(de,{type:"time",value:n.close,className:"flex-1",disabled:!n.enabled})]})]},n.day))})]}),r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[r.jsx("div",{className:"rounded-lg bg-orange-50 p-2",children:r.jsx(vm,{className:"h-4 w-4 sm:h-5 sm:w-5 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-base sm:text-lg font-semibold",children:"Contact Information"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Additional contact details"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2",children:[r.jsx(de,{label:"WhatsApp Number",type:"tel",placeholder:"+91 9876543210"}),r.jsx(de,{label:"Customer Care Email",type:"email",placeholder:"care@bayhawk.com"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Address"}),r.jsx("textarea",{className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Enter complete business address"})]}),r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-3",children:[r.jsx(de,{label:"City",placeholder:"Chennai"}),r.jsx(de,{label:"State",placeholder:"Tamil Nadu"}),r.jsx(de,{label:"PIN Code",placeholder:"600001"})]})]})]})]})}function pj(){const[e,t]=A.useState([{id:"1",name:"Morning Slot",startTime:"07:00",endTime:"09:00",capacity:50,cutoffTime:"06:00",isActive:!0,days:["monday","tuesday","wednesday","thursday","friday","saturday","sunday"]},{id:"2",name:"Afternoon Slot",startTime:"13:00",endTime:"15:00",capacity:50,cutoffTime:"12:00",isActive:!0,days:["monday","tuesday","wednesday","thursday","friday","saturday","sunday"]},{id:"3",name:"Evening Slot",startTime:"19:00",endTime:"21:00",capacity:50,cutoffTime:"18:00",isActive:!0,days:["monday","tuesday","wednesday","thursday","friday","saturday","sunday"]}]),[s,a]=A.useState("00:30"),[n,i]=A.useState(7),[l,o]=A.useState([{id:"1",date:"2026-01-26",name:"Republic Day"},{id:"2",date:"2026-08-15",name:"Independence Day"},{id:"3",date:"2026-10-02",name:"Gandhi Jayanti"}]),[c,d]=A.useState({date:"",name:"",description:""}),h=[{key:"monday",label:"Mon"},{key:"tuesday",label:"Tue"},{key:"wednesday",label:"Wed"},{key:"thursday",label:"Thu"},{key:"friday",label:"Fri"},{key:"saturday",label:"Sat"},{key:"sunday",label:"Sun"}],m=()=>{const j={id:Date.now().toString(),name:`Slot ${e.length+1}`,startTime:"10:00",endTime:"12:00",capacity:30,cutoffTime:"09:00",isActive:!0,days:["monday","tuesday","wednesday","thursday","friday","saturday"]};t([...e,j])},p=(j,S)=>{t(e.map(w=>w.id===j?{...w,...S}:w))},x=j=>{t(e.filter(S=>S.id!==j))},v=(j,S)=>{const w=e.find(_=>_.id===j);if(!w)return;const k=w.days.includes(S)?w.days.filter(_=>_!==S):[...w.days,S];p(j,{days:k})},y=()=>{if(!c.date||!c.name)return;const j={id:Date.now().toString(),...c};o([...l,j]),d({date:"",name:"",description:""})},b=j=>{o(l.filter(S=>S.id!==j))};return r.jsxs("div",{className:"space-y-4 sm:space-y-6 p-3 sm:p-4 md:p-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Delivery Slots"}),r.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1",children:"Configure delivery time slots and capacity"})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[r.jsxs(oe,{variant:"secondary",onClick:m,className:"w-full sm:w-auto",children:[r.jsx(dr,{className:"mr-2 h-5 w-5"}),"Add Slot"]}),r.jsxs(oe,{className:"w-full sm:w-auto",children:[r.jsx(Ii,{className:"mr-2 h-5 w-5"}),"Save Changes"]})]})]}),r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6 p-4 bg-blue-50 rounded-lg border border-blue-100",children:[r.jsx(Tr,{className:"h-5 w-5 text-blue-600"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Time Slots Configuration"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Set up available delivery time slots with cut-off times"})]})]}),r.jsx("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"p-1 bg-yellow-100 rounded",children:r.jsx(Tr,{className:"h-4 w-4 text-yellow-700"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-yellow-900 text-sm",children:"Cut-off Time Limit"}),r.jsx("p",{className:"text-sm text-yellow-800 mt-1",children:"Set a cut-off time for each delivery slot. Orders placed after the cut-off time will not be accepted for that slot. For example, if a slot is 7:00 AM - 9:00 AM with a cut-off at 6:00 AM, customers must order before 6:00 AM to get delivery in that slot."})]})]})}),r.jsx("div",{className:"space-y-6",children:e.map(j=>r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",checked:j.isActive,onChange:S=>p(j.id,{isActive:S.target.checked}),className:"w-4 h-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-900",children:j.name}),r.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:[j.startTime," - ",j.endTime]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(oe,{variant:"ghost",size:"sm",children:r.jsx(ss,{className:"h-4 w-4 text-gray-600"})}),r.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>x(j.id),children:r.jsx(Ar,{className:"h-4 w-4 text-red-500"})})]})]}),r.jsxs("div",{className:"grid gap-4 grid-cols-5",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Slot Name"}),r.jsx(de,{value:j.name,onChange:S=>p(j.id,{name:S.target.value}),className:"w-full"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Time"}),r.jsxs("div",{className:"relative",children:[r.jsx(de,{type:"time",value:j.startTime,onChange:S=>p(j.id,{startTime:S.target.value}),className:"w-full"}),r.jsx(Tr,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Time"}),r.jsxs("div",{className:"relative",children:[r.jsx(de,{type:"time",value:j.endTime,onChange:S=>p(j.id,{endTime:S.target.value}),className:"w-full"}),r.jsx(Tr,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Cut-off Time",r.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"(Order deadline)"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(de,{type:"time",value:j.cutoffTime,onChange:S=>p(j.id,{cutoffTime:S.target.value}),className:"w-full bg-yellow-50 border-yellow-300"}),r.jsx(Tr,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-yellow-600 pointer-events-none"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Orders accepted until"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Capacity"}),r.jsx(de,{type:"number",value:j.capacity,onChange:S=>p(j.id,{capacity:parseInt(S.target.value)}),className:"w-full"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Available Days"}),r.jsx("div",{className:"flex gap-2",children:h.map(S=>r.jsx("button",{onClick:()=>v(j.id,S.key),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${j.days.includes(S.key)?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:S.label},S.key))})]}),r.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-600 pt-2 border-t",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Qr,{className:"h-4 w-4"}),r.jsxs("span",{children:["Capacity: ",j.capacity," orders"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Jr,{className:"h-4 w-4"}),r.jsxs("span",{children:[j.days.length," days active"]})]})]})]},j.id))})]}),r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[r.jsx("div",{className:"rounded-lg bg-green-50 p-2",children:r.jsx(Jr,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-base sm:text-lg font-semibold",children:"Delivery Settings"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Configure delivery rules and restrictions"})]})]}),r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Next Day Delivery Cut-off Time"}),r.jsx(de,{type:"time",value:s,onChange:j=>a(j.target.value)}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:"Orders placed after this time will be scheduled for the next available day"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Advance Booking Days"}),r.jsx(de,{type:"number",value:n,onChange:j=>i(parseInt(j.target.value)),min:"1",max:"30"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:"Maximum days in advance customers can book delivery"})]})]}),r.jsxs("div",{className:"border-t pt-4 sm:pt-6",children:[r.jsx("h3",{className:"font-medium mb-4 text-sm sm:text-base",children:"Delivery Restrictions"}),r.jsx("div",{className:"space-y-3",children:[{label:"Allow same-day delivery",desc:"Enable delivery on the same day if ordered before cut-off time"},{label:"Block delivery on holidays",desc:"Automatically disable delivery slots on public holidays"},{label:"Enable express delivery",desc:"Allow customers to pay extra for priority delivery"},{label:"Weekend delivery",desc:"Enable delivery slots on weekends"}].map((j,S)=>r.jsxs("div",{className:"flex items-start sm:items-center justify-between py-2 gap-3",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium text-xs sm:text-sm",children:j.label}),r.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:j.desc})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer flex-shrink-0",children:[r.jsx("input",{type:"checkbox",defaultChecked:!0,className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 rounded-full peer peer-checked:bg-blue-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]})]},S))})]})]})]}),r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[r.jsx("div",{className:"rounded-lg bg-purple-50 p-2",children:r.jsx(Qr,{className:"h-4 w-4 sm:h-5 sm:w-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-base sm:text-lg font-semibold",children:"Slot Performance"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Current week's slot utilization"})]})]}),r.jsx("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:e.filter(j=>j.isActive).map(j=>{const S=Math.floor(Math.random()*80)+20;return r.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"font-medium text-sm",children:j.name}),r.jsxs("span",{className:"text-xs text-gray-500",children:[j.startTime," - ",j.endTime]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:"Utilization"}),r.jsxs("span",{className:"font-medium",children:[S,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${S}%`}})}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[r.jsxs("span",{children:[Math.floor(j.capacity*S/100)," / ",j.capacity]}),r.jsx("span",{children:"orders"})]})]})]},j.id)})})]}),r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"rounded-lg bg-red-50 p-2",children:r.jsx(Jr,{className:"h-5 w-5 text-red-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Holiday Management"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Block delivery on specific dates"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 bg-gray-50 rounded-lg",children:[r.jsx(de,{label:"Date",type:"date",value:c.date,onChange:j=>d({...c,date:j.target.value})}),r.jsx(de,{label:"Holiday Name",value:c.name,onChange:j=>d({...c,name:j.target.value}),placeholder:"e.g., Diwali"}),r.jsx("div",{className:"flex items-end",children:r.jsxs(oe,{onClick:y,className:"w-full",children:[r.jsx(dr,{className:"mr-2 h-4 w-4"}),"Add Holiday"]})})]}),r.jsx("div",{className:"space-y-2",children:l.length===0?r.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No holidays configured"}):l.map(j=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Jr,{className:"h-4 w-4 text-gray-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-sm",children:j.name}),r.jsx("p",{className:"text-xs text-gray-500",children:new Date(j.date).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})})]})]}),r.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>b(j.id),children:r.jsx(Ar,{className:"h-4 w-4 text-red-500"})})]},j.id))})]})]})]})}function gj(){const[e,t]=A.useState({freeDeliveryThreshold:500,shipmentModel:"hub_only",hubDeliveryCharge:40,storeDeliveryCharge:30,expressDeliveryEnabled:!0,expressDeliveryCharge:50,weightBasedChargesEnabled:!0,surgeChargesEnabled:!1,surgeCharge:50,surgeChargeDescription:"Mon-Sat, day delivery",weatherAlertAutoEnable:!1,weatherAlertSurgeCharge:50}),[s,a]=A.useState([{id:"1",name:"Zone A - Central",areas:["T Nagar","Anna Nagar","Adyar","Mylapore"],baseCharge:30,freeDeliveryThreshold:500,expressCharge:40,expressDeliveryEnabled:!0,isActive:!0},{id:"2",name:"Zone B - North",areas:["Ambattur","Avadi","Red Hills","Poonamallee"],baseCharge:40,freeDeliveryThreshold:600,expressCharge:50,expressDeliveryEnabled:!0,isActive:!0},{id:"3",name:"Zone C - South",areas:["Tambaram","Chrompet","Pallavaram","Medavakkam"],baseCharge:45,freeDeliveryThreshold:700,expressCharge:60,expressDeliveryEnabled:!1,isActive:!0}]),[n]=A.useState([{minWeight:0,maxWeight:2,charge:0},{minWeight:2,maxWeight:5,charge:10},{minWeight:5,maxWeight:10,charge:20},{minWeight:10,maxWeight:20,charge:40}]),i=()=>{const c={id:Date.now().toString(),name:`Zone ${s.length+1}`,areas:[],baseCharge:35,freeDeliveryThreshold:500,expressCharge:45,expressDeliveryEnabled:!0,isActive:!0};a([...s,c])},l=(c,d)=>{a(s.map(h=>h.id===c?{...h,...d}:h))},o=c=>{a(s.filter(d=>d.id!==c))};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Shipping Charges"}),r.jsx("p",{className:"text-gray-600",children:"Configure delivery charges and shipping zones"})]}),r.jsxs(oe,{children:[r.jsx(Ii,{className:"mr-2 h-5 w-5"}),"Save All Changes"]})]}),r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"rounded-lg bg-blue-50 p-2",children:r.jsx(Mr,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Global Shipping Settings"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Default shipping configuration"})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"border-b pb-6",children:[r.jsx("h3",{className:"font-medium mb-4",children:"Shipment Delivery Model"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("label",{className:"flex items-start gap-3 p-4 border-2 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[r.jsx("input",{type:"radio",name:"shipmentModel",checked:e.shipmentModel==="hub_only",onChange:()=>t({...e,shipmentModel:"hub_only"}),className:"mt-1"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(Mr,{className:"h-5 w-5 text-blue-600"}),r.jsx("span",{className:"font-medium",children:"Shipment 1: Hub Delivery Only"})]}),r.jsx("p",{className:"text-sm text-gray-600",children:"Direct delivery from hub to customer. Single delivery charge applies."}),r.jsxs("div",{className:"mt-2 text-xs text-gray-500 bg-blue-50 p-2 rounded",children:["Example: Hub  Customer (",e.hubDeliveryCharge,")"]})]})]}),r.jsxs("label",{className:"flex items-start gap-3 p-4 border-2 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[r.jsx("input",{type:"radio",name:"shipmentModel",checked:e.shipmentModel==="hub_and_store",onChange:()=>t({...e,shipmentModel:"hub_and_store"}),className:"mt-1"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(Mr,{className:"h-5 w-5 text-purple-600"}),r.jsx("span",{className:"font-medium",children:"Shipment 2: Hub + Store Delivery"})]}),r.jsx("p",{className:"text-sm text-gray-600",children:"Two-tier delivery: Hub to Store, then Store to Customer. Combined charges apply."}),r.jsxs("div",{className:"mt-2 text-xs text-gray-500 bg-purple-50 p-2 rounded",children:["Example: Hub  Store (",e.hubDeliveryCharge,") + Store  Customer (",e.storeDeliveryCharge,") = Total: ",e.hubDeliveryCharge+e.storeDeliveryCharge]})]})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium mb-3",children:"Free Delivery Threshold"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm",children:"Free delivery for orders above"}),r.jsx(de,{type:"number",value:e.freeDeliveryThreshold,onChange:c=>t({...e,freeDeliveryThreshold:parseInt(c.target.value)}),className:"w-24"}),r.jsx("span",{className:"text-sm",children:""})]})]}),r.jsxs("div",{children:[r.jsxs("h3",{className:"font-medium mb-3",children:["Delivery Charges Configuration",r.jsxs("span",{className:"ml-2 text-sm font-normal text-gray-500",children:["(",e.shipmentModel==="hub_only"?"Hub Only Model":"Hub + Store Model",")"]})]}),r.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hub Delivery Charge ()"}),r.jsx(de,{type:"number",value:e.hubDeliveryCharge,onChange:c=>t({...e,hubDeliveryCharge:parseInt(c.target.value)})}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e.shipmentModel==="hub_only"?"Direct hub-to-customer delivery charge":"Hub-to-store delivery charge"})]}),e.shipmentModel==="hub_and_store"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Store Delivery Charge ()"}),r.jsx(de,{type:"number",value:e.storeDeliveryCharge,onChange:c=>t({...e,storeDeliveryCharge:parseInt(c.target.value)})}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Store-to-customer delivery charge"})]})]}),e.shipmentModel==="hub_and_store"&&r.jsx("div",{className:"mt-3 p-3 bg-purple-50 border border-purple-200 rounded-lg",children:r.jsxs("p",{className:"text-sm text-purple-800",children:[r.jsx("strong",{children:"Total Delivery Charge:"})," ",e.hubDeliveryCharge+e.storeDeliveryCharge,r.jsxs("span",{className:"text-xs ml-2",children:["(Hub: ",e.hubDeliveryCharge," + Store: ",e.storeDeliveryCharge,")"]})]})})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium mb-3",children:"Express Delivery"}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"flex-1",children:r.jsx(de,{label:"Extra Charge ()",type:"number",value:e.expressDeliveryCharge,onChange:c=>t({...e,expressDeliveryCharge:parseInt(c.target.value)})})}),r.jsx("div",{className:"pt-6",children:r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:e.expressDeliveryEnabled,onChange:c=>t({...e,expressDeliveryEnabled:c.target.checked}),className:"rounded"}),r.jsx("span",{className:"text-sm",children:"Enable Express Delivery"})]})})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium mb-3",children:"Surge Charges"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:e.surgeChargesEnabled,onChange:c=>t({...e,surgeChargesEnabled:c.target.checked}),className:"rounded"}),r.jsx("span",{className:"text-sm font-medium",children:"Apply Surge Charges"})]}),e.surgeChargesEnabled&&r.jsxs("div",{className:"pl-6 space-y-3",children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Apply surge charges for premium day delivery"}),r.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[r.jsx(de,{label:"Surge Charge ()",type:"number",value:e.surgeCharge,onChange:c=>t({...e,surgeCharge:parseInt(c.target.value)})}),r.jsx(de,{label:"Description",value:e.surgeChargeDescription,onChange:c=>t({...e,surgeChargeDescription:c.target.value}),placeholder:"e.g., Mon-Sat, day delivery"})]})]})]})]}),r.jsxs("div",{children:[r.jsxs("h3",{className:"font-medium mb-3 flex items-center gap-2",children:[r.jsx(Dj,{className:"h-5 w-5 text-blue-600"}),"Weather Alert Auto-Enable Surge"]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:e.weatherAlertAutoEnable,onChange:c=>t({...e,weatherAlertAutoEnable:c.target.checked}),className:"rounded"}),r.jsx("span",{className:"text-sm font-medium",children:"Auto-enable surge charge on weather alerts"})]}),e.weatherAlertAutoEnable&&r.jsx("div",{className:"pl-6 space-y-3",children:r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[r.jsx("p",{className:"text-xs text-blue-700 mb-3",children:"When weather alerts are triggered (heavy rain, storms, floods), surge charges will automatically activate with the predefined value below."}),r.jsx(de,{label:"Weather Alert Surge Charge ()",type:"number",value:e.weatherAlertSurgeCharge,onChange:c=>t({...e,weatherAlertSurgeCharge:parseInt(c.target.value)})}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"This charge will be applied automatically when weather conditions affect delivery operations"})]})})]})]})]})]}),r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"rounded-lg bg-green-50 p-2",children:r.jsx(Vs,{className:"h-5 w-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Shipping Zones"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Configure zone-specific delivery charges"})]})]}),r.jsxs(oe,{variant:"secondary",onClick:i,children:[r.jsx(dr,{className:"mr-2 h-5 w-5"}),"Add Zone"]})]}),r.jsx("div",{className:"space-y-4",children:s.map(c=>r.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",checked:c.isActive,onChange:d=>l(c.id,{isActive:d.target.checked}),className:"rounded"}),r.jsx("span",{className:"font-medium",children:c.name}),r.jsxs("span",{className:"text-sm text-gray-500",children:[c.areas.length," areas"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(oe,{variant:"ghost",size:"sm",children:r.jsx(ss,{className:"h-5 w-5"})}),r.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>o(c.id),children:r.jsx(Ar,{className:"h-5 w-5 text-red-500"})})]})]}),r.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[r.jsx(de,{label:"Zone Name",value:c.name,onChange:d=>l(c.id,{name:d.target.value})}),r.jsx(de,{label:"Base Charge ()",type:"number",value:c.baseCharge,onChange:d=>l(c.id,{baseCharge:parseInt(d.target.value)})}),r.jsx(de,{label:"Free Delivery Above ()",type:"number",value:c.freeDeliveryThreshold,onChange:d=>l(c.id,{freeDeliveryThreshold:parseInt(d.target.value)})})]}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(W0,{className:"h-5 w-5 text-yellow-600"}),r.jsx("h4",{className:"font-medium text-gray-900",children:"Express Delivery"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:c.expressDeliveryEnabled,onChange:d=>l(c.id,{expressDeliveryEnabled:d.target.checked}),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 rounded-full peer peer-checked:bg-green-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]})]}),c.expressDeliveryEnabled?r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:[r.jsx(de,{label:"Express Delivery Charge ()",type:"number",value:c.expressCharge,onChange:d=>l(c.id,{expressCharge:parseInt(d.target.value)}),className:"bg-white"}),r.jsx("p",{className:"text-xs text-yellow-700 mt-2",children:"Additional charge for express/priority delivery in this zone"})]}):r.jsx("p",{className:"text-sm text-gray-500 bg-gray-50 p-3 rounded-lg",children:"Express delivery is disabled for this zone"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Coverage Areas"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.areas.map((d,h)=>r.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded-full text-xs",children:d},h)),r.jsx("button",{className:"px-2 py-1 border border-dashed border-gray-300 rounded-full text-xs text-gray-500 hover:border-gray-400",children:"+ Add Area"})]})]})]},c.id))})]}),r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"rounded-lg bg-purple-50 p-2",children:r.jsx(Vh,{className:"h-5 w-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Weight-Based Additional Charges"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Extra charges based on order weight"})]})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:e.weightBasedChargesEnabled,onChange:c=>t({...e,weightBasedChargesEnabled:c.target.checked}),className:"rounded"}),r.jsx("span",{className:"text-sm font-medium",children:"Enable Weight-Based Charges"})]})]}),r.jsx("div",{className:"space-y-4",children:n.map((c,d)=>r.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(de,{type:"number",value:c.minWeight,className:"w-20",disabled:!0}),r.jsx("span",{className:"text-sm text-gray-500",children:"to"}),r.jsx(de,{type:"number",value:c.maxWeight,className:"w-20",disabled:!0}),r.jsx("span",{className:"text-sm text-gray-500",children:"kg"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm",children:"Additional charge:"}),r.jsx(de,{type:"number",value:c.charge,className:"w-20",disabled:!e.weightBasedChargesEnabled}),r.jsx("span",{className:"text-sm",children:""})]})]},d))})]}),r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"rounded-lg bg-orange-50 p-2",children:r.jsx(W0,{className:"h-5 w-5 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Shipping Calculator Preview"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Test your shipping charges configuration"})]})]}),r.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[r.jsx(Ut,{label:"Select Zone",options:s.map(c=>({value:c.id,label:c.name}))}),r.jsx(de,{label:"Order Value ()",type:"number",placeholder:"1000"}),r.jsx(de,{label:"Weight (kg)",type:"number",placeholder:"3"})]}),r.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:[r.jsx("h3",{className:"font-medium mb-2",children:"Calculated Charges:"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Base Delivery Charge:"}),r.jsx("span",{children:"30"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Weight-based Charge:"}),r.jsx("span",{children:"10"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Express Delivery:"}),r.jsx("span",{children:"40"})]}),r.jsxs("div",{className:"flex justify-between text-red-600",children:[r.jsx("span",{children:"Free Delivery Discount:"}),r.jsx("span",{children:"-30"})]}),r.jsxs("div",{className:"border-t pt-1 flex justify-between font-medium",children:[r.jsx("span",{children:"Total Shipping:"}),r.jsx("span",{children:"50"})]})]})]})]})]})}function vj(){const[e,t]=A.useState([{id:"razorpay",name:"Razorpay",description:"Payment Gateway for secure online transactions",icon:gi,connected:!0,status:"active",category:"payment",config:{keyId:"rzp_test_****"}},{id:"gpay",name:"Google Pay (GPay)",description:"UPI payment integration",icon:gi,connected:!1,status:"inactive",category:"payment"},{id:"google-analytics-4",name:"Google Analytics 4",description:"Free baseline tracking",icon:Zn,connected:!1,status:"inactive",category:"analytics"},{id:"google-search-console",name:"Google Search Console",description:"Free SEO monitoring",icon:kh,connected:!1,status:"inactive",category:"analytics"},{id:"google-merchant-center",name:"Google Merchant Center",description:"Free product feed",icon:kh,connected:!1,status:"inactive",category:"analytics"},{id:"schema-markup",name:"Schema Markup",description:"Technical SEO",icon:kh,connected:!1,status:"inactive",category:"analytics"},{id:"google-ads",name:"Google Ads",description:"Paid search + Shopping campaigns",icon:Zn,connected:!1,status:"inactive",category:"analytics"},{id:"meta-pixel",name:"Meta Pixel + Meta Ads",description:"Retargeting + social ads",icon:Zn,connected:!1,status:"inactive",category:"analytics"},{id:"google-tag-manager",name:"Google Tag Manager",description:"Event tracking setup",icon:Zn,connected:!1,status:"inactive",category:"analytics"},{id:"rank-math",name:"Rank Math",description:"On-page optimization",icon:kh,connected:!1,status:"inactive",category:"analytics"},{id:"robots-txt",name:"Robots.txt Configuration",description:"Search engine crawling rules",icon:kh,connected:!1,status:"inactive",category:"analytics"},{id:"bing-webmaster",name:"Bing Webmaster",description:"Bing search engine optimization and monitoring",icon:kh,connected:!1,status:"inactive",category:"analytics"},{id:"microsoft-clarity",name:"Microsoft Clarity",description:"Free user behavior analytics and heatmaps",icon:Zn,connected:!1,status:"inactive",category:"analytics"},{id:"google-maps",name:"Google Maps",description:"Location services and route optimization",icon:Vs,connected:!0,status:"active",category:"location",config:{apiKey:"AIza****"}},{id:"sms-gateway",name:"SMS Gateway",description:"OTP and notification SMS service",icon:T0,connected:!0,status:"active",category:"communication",config:{apiKey:"sms_****"}},{id:"whatsapp-business",name:"WhatsApp Business",description:"Order updates and customer communication",icon:T0,connected:!1,status:"inactive",category:"communication"},{id:"sendgrid",name:"SendGrid",description:"Email delivery service for notifications",icon:vm,connected:!1,status:"inactive",category:"communication"}]),[s,a]=A.useState(null),n=c=>{t(e.map(d=>d.id===c?{...d,connected:!d.connected,status:d.connected?"inactive":"active"}:d))},i=c=>{switch(c){case"active":return"text-green-600";case"error":return"text-red-600";default:return"text-gray-500"}},l=c=>c==="active"?Dr:Mu,o=[{key:"payment",label:"Payment Gateways",color:"bg-green-50 text-green-700"},{key:"analytics",label:"Analytics & SEO",color:"bg-orange-50 text-orange-700"},{key:"location",label:"Location Services",color:"bg-purple-50 text-purple-700"},{key:"communication",label:"Communication",color:"bg-blue-50 text-blue-700"}];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Integrations"}),r.jsx("p",{className:"text-gray-600",children:"Connect and configure third-party services"})]}),r.jsxs(oe,{children:[r.jsx(Ii,{className:"mr-2 h-5 w-5"}),"Save All Changes"]})]}),o.map(c=>{const d=e.filter(h=>h.category===c.key);return d.length===0?null:r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:`rounded-lg p-2 ${c.color.replace("text-","bg-").replace("-700","-100")}`,children:r.jsx(W6,{className:`h-5 w-5 ${c.color}`})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold",children:c.label}),r.jsxs("p",{className:"text-sm text-gray-600",children:[d.length," services available"]})]})]}),r.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:d.map(h=>{const m=l(h.status);return r.jsxs("div",{className:"border rounded-lg p-4 hover:border-gray-300 transition-colors",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"rounded-lg bg-gray-100 p-2",children:r.jsx(h.icon,{className:"h-5 w-5 text-gray-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",children:h.name}),r.jsx("p",{className:"text-sm text-gray-500",children:h.description})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(m,{className:`h-4 w-4 ${i(h.status)}`}),r.jsx("span",{className:`text-sm ${i(h.status)}`,children:h.connected?h.status==="error"?"Error":"Connected":"Not Connected"})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:h.connected,onChange:()=>n(h.id),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 rounded-full peer peer-checked:bg-blue-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]}),r.jsx("span",{className:"text-sm text-gray-600",children:h.connected?"Enabled":"Disabled"})]}),r.jsxs(oe,{variant:"secondary",size:"sm",onClick:()=>a(h),disabled:!h.connected,children:[r.jsx(ic,{className:"h-4 w-4 mr-1"}),"Configure"]})]})]},h.id)})})]},c.key)}),s&&r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[r.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:()=>a(null)}),r.jsxs(he,{className:"relative w-full max-w-2xl",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"rounded-lg bg-gray-100 p-2",children:r.jsx(s.icon,{className:"h-5 w-5 text-gray-600"})}),r.jsxs("div",{children:[r.jsxs("h2",{className:"text-xl font-semibold",children:[s.name," Configuration"]}),r.jsx("p",{className:"text-sm text-gray-600",children:s.description})]})]}),r.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>a(null),children:""})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(de,{label:"API Key / Configuration",placeholder:"Enter configuration details"}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[r.jsx(oe,{variant:"secondary",onClick:()=>a(null),children:"Cancel"}),r.jsxs(oe,{children:[r.jsx(Ii,{className:"h-5 w-5 mr-2"}),"Save Configuration"]})]})]})]})]})}),r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"rounded-lg bg-indigo-50 p-2",children:r.jsx(Zn,{className:"h-5 w-5 text-indigo-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Integration Status"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Overview of all integrations"})]})]}),r.jsxs("div",{className:"grid gap-4 sm:grid-cols-4",children:[r.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.filter(c=>c.status==="active").length}),r.jsx("div",{className:"text-sm text-green-600",children:"Active"})]}),r.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-red-600",children:e.filter(c=>c.status==="error").length}),r.jsx("div",{className:"text-sm text-red-600",children:"Errors"})]}),r.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-600",children:e.filter(c=>c.status==="inactive").length}),r.jsx("div",{className:"text-sm text-gray-600",children:"Inactive"})]}),r.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.length}),r.jsx("div",{className:"text-sm text-blue-600",children:"Total"})]})]})]})]})}function yj(){const[e,t]=A.useState({newOrderAlerts:!0,lowStockAlerts:!0,paymentFailureAlerts:!0,customerSupportAlerts:!0,dailySummaryEmail:!0,orderStatusUpdates:!0,promotionalEmails:!1,maintenanceAlerts:!0}),[s,a]=A.useState({enabled:!1,expiryDate:"",alertType:"email",daysBefore:7,message:"Important notification settings will expire on {expiry_date}. Please review and update your preferences."}),[n,i]=A.useState({enabled:!0,type:"loyalty_points",alertMethods:["email","push"],daysBefore:7,customMessage:"",autoReminder:!0,reminderFrequency:3,trackingEnabled:!0,includeClickTracking:!0}),[l,o]=A.useState({enabled:!0,type:"wallet_cash",alertMethods:["email","sms"],daysBefore:14,customMessage:"",autoReminder:!1,reminderFrequency:7,trackingEnabled:!0,includeClickTracking:!1}),[c,d]=A.useState([{id:"1",name:"Order Confirmation",type:"email",trigger:"order_placed",subject:"Order Confirmed - #{order_id}",content:"Dear {customer_name}, your order #{order_id} has been confirmed. Total amount: {order_total}. Expected delivery: {delivery_date}.",isActive:!0,variables:["customer_name","order_id","order_total","delivery_date"]},{id:"2",name:"Order Status Update",type:"sms",trigger:"order_status_changed",content:"Hi {customer_name}, your order #{order_id} is now {order_status}. Track: {tracking_url}",isActive:!0,variables:["customer_name","order_id","order_status","tracking_url"]},{id:"3",name:"Low Stock Alert",type:"email",trigger:"low_stock",subject:"Low Stock Alert - {product_name}",content:"Product {product_name} is running low. Current stock: {current_stock}. Minimum threshold: {min_threshold}.",isActive:!0,variables:["product_name","current_stock","min_threshold"]},{id:"4",name:"Payment Failed",type:"push",trigger:"payment_failed",content:"Payment failed for order #{order_id}. Please try again or contact support.",isActive:!0,variables:["order_id","customer_name"]}]),[h,m]=A.useState(null),[p,x]=A.useState(!1),v=[{value:"email",label:"Email",icon:vm,color:"text-blue-600"},{value:"sms",label:"SMS",icon:T0,color:"text-green-600"},{value:"push",label:"Push Notification",icon:Ph,color:"text-purple-600"},{value:"whatsapp",label:"WhatsApp",icon:T0,color:"text-green-600"}],y=S=>{t(w=>({...w,[S]:!w[S]}))},b=()=>{const S={id:Date.now().toString(),name:"New Template",type:"email",trigger:"custom",subject:"",content:"",isActive:!1,variables:[]};d([...c,S]),m(S),x(!0)},j=()=>{console.log("Saving notification settings:",{notificationSettings:e,expiryDateAlert:s,loyaltyPointsAlert:n,walletCashAlert:l,templates:c}),alert("Notification settings saved successfully!")};return r.jsxs("div",{className:"space-y-4 sm:space-y-6 p-3 sm:p-4 md:p-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Notification Customization"}),r.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1",children:"Configure notification settings and templates"})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[r.jsxs(oe,{variant:"secondary",onClick:b,className:"w-full sm:w-auto",children:[r.jsx(dr,{className:"mr-2 h-5 w-5"}),"Add Template"]}),r.jsxs(oe,{className:"w-full sm:w-auto",onClick:j,children:[r.jsx(Ii,{className:"mr-2 h-5 w-5"}),"Save All Changes"]})]})]}),r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[r.jsx("div",{className:"rounded-lg bg-blue-50 p-2",children:r.jsx(Ph,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-base sm:text-lg font-semibold",children:"Notification Settings"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Enable or disable notification types"})]})]}),r.jsx("div",{className:"grid gap-3 sm:gap-4 grid-cols-1 md:grid-cols-2",children:[{key:"newOrderAlerts",label:"New Order Alerts",desc:"Get notified when a new order is placed"},{key:"lowStockAlerts",label:"Low Stock Alerts",desc:"Alert when product stock falls below threshold"},{key:"paymentFailureAlerts",label:"Payment Failure Alerts",desc:"Notify on payment failures"},{key:"customerSupportAlerts",label:"Customer Support Alerts",desc:"New support tickets and messages"},{key:"dailySummaryEmail",label:"Daily Summary Email",desc:"Receive daily sales and order summary"},{key:"orderStatusUpdates",label:"Order Status Updates",desc:"Notify customers about order status changes"},{key:"promotionalEmails",label:"Promotional Emails",desc:"Send marketing and promotional content"},{key:"maintenanceAlerts",label:"Maintenance Alerts",desc:"System maintenance and downtime notifications"}].map(S=>r.jsxs("div",{className:"flex items-start sm:items-center justify-between p-3 sm:p-4 border rounded-lg gap-3",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-medium text-xs sm:text-sm truncate",children:S.label}),r.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:S.desc})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer flex-shrink-0",children:[r.jsx("input",{type:"checkbox",checked:e[S.key],onChange:()=>y(S.key),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 rounded-full peer peer-checked:bg-blue-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]})]},S.key))})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"rounded-lg bg-orange-50 p-2",children:r.jsx(Ts,{className:"h-5 w-5 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Customer Expiry Alerts"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Notify customers before their loyalty points and wallet cash expire"})]})]}),r.jsxs("div",{className:"grid gap-4 lg:grid-cols-2",children:[r.jsx(pD,{config:n,onChange:i}),r.jsx(pD,{config:l,onChange:o})]})]}),r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[r.jsx("div",{className:"rounded-lg bg-green-50 p-2",children:r.jsx(ss,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-base sm:text-lg font-semibold",children:"Notification Templates"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Customize notification messages and content"})]})]}),r.jsx("div",{className:"space-y-4",children:c.map(S=>{const w=v.find(_=>_.value===S.type)?.icon||Ph,k=v.find(_=>_.value===S.type)?.color||"text-gray-600";return r.jsxs("div",{className:"border rounded-lg p-3 sm:p-4",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-wrap",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:S.isActive,onChange:_=>{d(c.map(O=>O.id===S.id?{...O,isActive:_.target.checked}:O))},className:"rounded"}),r.jsx(w,{className:`h-4 w-4 ${k}`}),r.jsx("span",{className:"font-medium text-sm sm:text-base",children:S.name})]}),r.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded-full text-xs capitalize",children:S.type}),r.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-600 rounded-full text-xs",children:S.trigger.replace("_"," ")})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>m(S),children:r.jsx(Fr,{className:"h-5 w-5"})}),r.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>{m(S),x(!0)},children:r.jsx(ss,{className:"h-5 w-5"})})]})]}),S.subject&&r.jsxs("div",{className:"mb-2",children:[r.jsx("span",{className:"text-xs text-gray-500",children:"Subject:"}),r.jsx("p",{className:"text-xs sm:text-sm font-medium truncate",children:S.subject})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("span",{className:"text-xs text-gray-500",children:"Content:"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-700 line-clamp-2",children:S.content})]}),r.jsx("div",{className:"flex flex-wrap gap-1",children:S.variables.map(_=>r.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-700 rounded text-xs",children:`{${_}}`},_))})]},S.id)})})]}),r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[r.jsx("div",{className:"rounded-lg bg-purple-50 p-2",children:r.jsx(vm,{className:"h-4 w-4 sm:h-5 sm:w-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-base sm:text-lg font-semibold",children:"Email Configuration"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Configure email sender settings"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2",children:[r.jsx(de,{label:"From Name",defaultValue:"BAYHAWK",placeholder:"Your Business Name"}),r.jsx(de,{label:"From Email",type:"email",defaultValue:"noreply@bayhawk.com",placeholder:"noreply@yourdomain.com"})]}),r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2",children:[r.jsx(de,{label:"Reply-To Email",type:"email",defaultValue:"support@bayhawk.com",placeholder:"support@yourdomain.com"}),r.jsx(Ut,{label:"Email Provider",options:[{value:"sendgrid",label:"SendGrid"},{value:"mailgun",label:"Mailgun"},{value:"ses",label:"Amazon SES"},{value:"smtp",label:"Custom SMTP"}]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Signature"}),r.jsx("textarea",{className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:4,defaultValue:`Best regards,
BAYHAWK Team
support@bayhawk.com
+91 9876543210`})]})]})]}),r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[r.jsx("div",{className:"rounded-lg bg-orange-50 p-2",children:r.jsx(T0,{className:"h-4 w-4 sm:h-5 sm:w-5 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-base sm:text-lg font-semibold",children:"SMS Configuration"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Configure SMS notification settings"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-3",children:[r.jsx(de,{label:"Sender ID",defaultValue:"BAYHWK",placeholder:"SENDER",maxLength:6}),r.jsx(Ut,{label:"SMS Provider",options:[{value:"twilio",label:"Twilio"},{value:"textlocal",label:"TextLocal"},{value:"msg91",label:"MSG91"},{value:"custom",label:"Custom Gateway"}]}),r.jsx(de,{label:"Character Limit",type:"number",defaultValue:"160",min:"70",max:"1600"})]}),r.jsxs("div",{className:"p-3 sm:p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(pse,{className:"h-4 w-4 text-yellow-600 flex-shrink-0"}),r.jsx("span",{className:"font-medium text-sm sm:text-base text-yellow-800",children:"SMS Usage Guidelines"})]}),r.jsxs("ul",{className:"text-xs sm:text-sm text-yellow-700 space-y-1",children:[r.jsx("li",{children:" Keep messages under 160 characters for single SMS"}),r.jsx("li",{children:" Use approved sender ID registered with telecom operators"}),r.jsx("li",{children:" Include opt-out instructions for promotional messages"}),r.jsx("li",{children:" Avoid sending messages during restricted hours (9 PM - 9 AM)"})]})]})]})]}),r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[r.jsx("div",{className:"rounded-lg bg-red-50 p-2",children:r.jsx(Ts,{className:"h-4 w-4 sm:h-5 sm:w-5 text-red-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-base sm:text-lg font-semibold",children:"Expiry Date Alert"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Set expiry date for notification settings and configure alerts"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-start sm:items-center justify-between p-3 sm:p-4 border rounded-lg gap-3",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-medium text-xs sm:text-sm",children:"Enable Expiry Date Alert"}),r.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Send notifications before settings expire"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer flex-shrink-0",children:[r.jsx("input",{type:"checkbox",checked:s.enabled,onChange:S=>a(w=>({...w,enabled:S.target.checked})),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 rounded-full peer peer-checked:bg-blue-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]})]}),s.enabled&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:[r.jsx(Jr,{className:"inline h-4 w-4 mr-1"}),"Expiry Date"]}),r.jsx("input",{type:"date",value:s.expiryDate,onChange:S=>a(w=>({...w,expiryDate:S.target.value})),className:"w-full rounded-lg border border-gray-300 px-3 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:new Date().toISOString().split("T")[0]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Days Before Expiry"}),r.jsx("input",{type:"number",value:s.daysBefore,onChange:S=>a(w=>({...w,daysBefore:parseInt(S.target.value)||7})),min:"1",max:"30",className:"w-full rounded-lg border border-gray-300 px-3 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Alert Type"}),r.jsxs("select",{value:s.alertType,onChange:S=>a(w=>({...w,alertType:S.target.value})),className:"w-full rounded-lg border border-gray-300 bg-white px-3 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent cursor-pointer",children:[r.jsx("option",{value:"email",children:"Email"}),r.jsx("option",{value:"sms",children:"SMS"}),r.jsx("option",{value:"push",children:"Push Notification"})]})]}),r.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gray-50 rounded-lg",children:[r.jsx(Ts,{className:"h-4 w-4 text-amber-600 flex-shrink-0"}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("p",{className:"text-xs font-medium text-amber-800",children:"Status"}),r.jsx("p",{className:"text-xs text-amber-700",children:s.expiryDate?(()=>{const S=new Date(s.expiryDate),w=new Date,k=Math.ceil((S.getTime()-w.getTime())/(1e3*60*60*24));return k<0?"Expired":k===0?"Expires today":k<=s.daysBefore?`Expires in ${k} days`:`Active (${k} days remaining)`})():"No expiry date set"})]}),s.expiryDate&&(()=>{const S=new Date(s.expiryDate),w=new Date,k=Math.ceil((S.getTime()-w.getTime())/(1e3*60*60*24));return k<0?r.jsx(Xe,{variant:"danger",className:"text-xs",children:"Expired"}):k===0?r.jsx(Xe,{variant:"warning",className:"text-xs",children:"Today"}):k<=s.daysBefore?r.jsxs(Xe,{variant:"warning",className:"text-xs",children:[k," days"]}):r.jsx(Xe,{variant:"success",className:"text-xs",children:"Active"})})()]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Alert Message"}),r.jsx("textarea",{value:s.message,onChange:S=>a(w=>({...w,message:S.target.value})),rows:3,className:"w-full rounded-lg border border-gray-300 px-3 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter alert message..."}),r.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[r.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs",children:"{expiry_date}"}),r.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs",children:"{days_remaining}"}),r.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs",children:"{settings_name}"})]})]}),s.expiryDate&&r.jsxs("div",{className:"p-3 sm:p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Ph,{className:"h-4 w-4 text-blue-600 flex-shrink-0"}),r.jsx("span",{className:"font-medium text-sm sm:text-base text-blue-800",children:"Alert Preview"})]}),r.jsx("p",{className:"text-xs sm:text-sm text-blue-700",children:s.message.replace("{expiry_date}",new Date(s.expiryDate).toLocaleDateString()).replace("{days_remaining}",Math.max(0,Math.ceil((new Date(s.expiryDate).getTime()-new Date().getTime())/(1e3*60*60*24))).toString()).replace("{settings_name}","Notification Settings")}),r.jsxs("p",{className:"text-xs text-blue-600 mt-2",children:["Will be sent via ",r.jsx("span",{className:"font-medium uppercase",children:s.alertType})," ",s.daysBefore," days before expiry"]})]})]})]})]}),h&&r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex min-h-screen items-center justify-center p-3 sm:p-4",children:[r.jsx("div",{className:"fixed inset-0 bg-black/50 transition-opacity",onClick:()=>{m(null),x(!1)}}),r.jsxs(he,{className:"relative w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-start sm:items-center justify-between mb-4 sm:mb-6 gap-3",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("h2",{className:"text-lg sm:text-xl font-semibold truncate",children:[p?"Edit":"View"," Template:"," ",h.name]}),r.jsxs("p",{className:"text-xs sm:text-sm text-gray-600",children:[h.type.toUpperCase()," "," ",h.trigger.replace("_"," ")]})]}),r.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[!p&&r.jsxs(oe,{variant:"secondary",size:"sm",onClick:()=>x(!0),children:[r.jsx(ss,{className:"h-4 w-4 sm:mr-1"}),r.jsx("span",{className:"hidden sm:inline",children:"Edit"})]}),r.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>{m(null),x(!1)},children:r.jsx(Cs,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2",children:[r.jsx(de,{label:"Template Name",value:h.name,disabled:!p}),r.jsx(Ut,{label:"Notification Type",value:h.type,disabled:!p,options:v.map(S=>({value:S.value,label:S.label}))})]}),h.type==="email"&&r.jsx(de,{label:"Subject Line",value:h.subject||"",disabled:!p,placeholder:"Enter email subject"}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message Content"}),r.jsx("textarea",{className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-50",rows:6,value:h.content,disabled:!p,placeholder:"Enter notification content..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Available Variables"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:h.variables.map(S=>r.jsx("button",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs hover:bg-blue-200",onClick:()=>{navigator.clipboard.writeText(`{${S}}`)},children:`{${S}}`},S))})]}),p&&r.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-2 pt-4 border-t",children:[r.jsx(oe,{variant:"secondary",onClick:()=>x(!1),className:"w-full sm:w-auto",children:"Cancel"}),r.jsxs(oe,{className:"w-full sm:w-auto",children:[r.jsx(Ii,{className:"h-4 w-4 mr-2"}),"Save Template"]})]})]})]})]})})]})}function bj(){const[e,t]=A.useState({enableWeatherAlerts:!0,showWeatherOnDashboard:!0,enableDeliveryRestrictions:!0,enableCustomerNotifications:!0,weatherProvider:"openweather",updateInterval:30,temperatureUnit:"celsius",windSpeedUnit:"kmh"}),[s,a]=A.useState([{id:"1",condition:"heavy_rain",threshold:50,action:"suspend_delivery",isActive:!0,message:"Delivery suspended due to heavy rainfall. We will resume once conditions improve."},{id:"2",condition:"high_temperature",threshold:40,action:"notify_customers",isActive:!0,message:"Due to extreme heat, delivery times may be extended to ensure product quality."},{id:"3",condition:"strong_wind",threshold:60,action:"restrict_zones",isActive:!0,message:"Delivery restricted in certain areas due to strong winds."},{id:"4",condition:"thunderstorm",threshold:0,action:"delay_delivery",isActive:!0,message:"Deliveries may be delayed due to thunderstorm conditions."}]),[n,i]=A.useState([{id:"1",name:"Chennai Central",lat:13.0827,lng:80.2707,isActive:!0},{id:"2",name:"Anna Nagar",lat:13.085,lng:80.2101,isActive:!0},{id:"3",name:"T Nagar",lat:13.0418,lng:80.2341,isActive:!0},{id:"4",name:"Adyar",lat:13.0067,lng:80.2206,isActive:!0}]),l=[{value:"heavy_rain",label:"Heavy Rain",icon:Dj,unit:"mm/hr"},{value:"high_temperature",label:"High Temperature",icon:Xp,unit:"C"},{value:"low_temperature",label:"Low Temperature",icon:Xp,unit:"C"},{value:"strong_wind",label:"Strong Wind",icon:dD,unit:"km/h"},{value:"thunderstorm",label:"Thunderstorm",icon:Dj,unit:"intensity"},{value:"fog",label:"Dense Fog",icon:tz,unit:"visibility km"}],o=[{value:"suspend_delivery",label:"Suspend All Deliveries"},{value:"delay_delivery",label:"Delay Deliveries"},{value:"restrict_zones",label:"Restrict Specific Zones"},{value:"notify_customers",label:"Notify Customers Only"},{value:"alert_staff",label:"Alert Staff Only"}],c=[{value:"openweather",label:"OpenWeatherMap"},{value:"weatherapi",label:"WeatherAPI"},{value:"accuweather",label:"AccuWeather"},{value:"darksky",label:"Dark Sky (Apple)"}],d={temperature:32,humidity:78,windSpeed:15,condition:"Partly Cloudy",rainfall:0,visibility:10,uvIndex:7},h=()=>{const x={id:Date.now().toString(),condition:"heavy_rain",threshold:25,action:"notify_customers",isActive:!1,message:"Weather alert message"};a([...s,x])},m=(x,v)=>{a(s.map(y=>y.id===x?{...y,...v}:y))},p=x=>{a(s.filter(v=>v.id!==x))};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Weather Customization"}),r.jsx("p",{className:"text-gray-600",children:"Configure weather-based delivery controls and alerts"})]}),r.jsxs(oe,{children:[r.jsx(Ii,{className:"mr-2 h-5 w-5"}),"Save All Changes"]})]}),r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"rounded-lg bg-blue-50 p-2",children:r.jsx(Vre,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Current Weather Conditions"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Live weather data for your delivery areas"})]})]}),r.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[r.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[r.jsx(Xp,{className:"h-8 w-8 text-blue-600 mx-auto mb-2"}),r.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[d.temperature,"C"]}),r.jsx("div",{className:"text-sm text-blue-600",children:"Temperature"})]}),r.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[r.jsx(Dj,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),r.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[d.rainfall,"mm"]}),r.jsx("div",{className:"text-sm text-green-600",children:"Rainfall"})]}),r.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[r.jsx(dD,{className:"h-8 w-8 text-purple-600 mx-auto mb-2"}),r.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[d.windSpeed," km/h"]}),r.jsx("div",{className:"text-sm text-purple-600",children:"Wind Speed"})]}),r.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[r.jsx(Fr,{className:"h-8 w-8 text-orange-600 mx-auto mb-2"}),r.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[d.visibility," km"]}),r.jsx("div",{className:"text-sm text-orange-600",children:"Visibility"})]})]}),r.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium",children:["Overall Condition: ",d.condition]}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Humidity: ",d.humidity,"%  UV Index: ",d.uvIndex]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Last updated: 5 minutes ago"}),r.jsxs(oe,{variant:"secondary",size:"sm",children:[r.jsx(ic,{className:"h-4 w-4 mr-1"}),"Refresh"]})]})]})})]}),r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"rounded-lg bg-green-50 p-2",children:r.jsx(ic,{className:"h-5 w-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Weather Settings"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Configure weather monitoring preferences"})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[r.jsx(Ut,{label:"Weather Data Provider",value:e.weatherProvider,onChange:x=>t({...e,weatherProvider:x.target.value}),options:c}),r.jsx(de,{label:"Update Interval (minutes)",type:"number",value:e.updateInterval,onChange:x=>t({...e,updateInterval:parseInt(x.target.value)}),min:"5",max:"120"})]}),r.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[r.jsx(Ut,{label:"Temperature Unit",value:e.temperatureUnit,onChange:x=>t({...e,temperatureUnit:x.target.value}),options:[{value:"celsius",label:"Celsius (C)"},{value:"fahrenheit",label:"Fahrenheit (F)"}]}),r.jsx(Ut,{label:"Wind Speed Unit",value:e.windSpeedUnit,onChange:x=>t({...e,windSpeedUnit:x.target.value}),options:[{value:"kmh",label:"km/h"},{value:"mph",label:"mph"},{value:"ms",label:"m/s"}]})]}),r.jsx("div",{className:"space-y-3",children:[{key:"enableWeatherAlerts",label:"Enable Weather Alerts",desc:"Receive alerts for severe weather conditions"},{key:"showWeatherOnDashboard",label:"Show Weather on Dashboard",desc:"Display current weather information on main dashboard"},{key:"enableDeliveryRestrictions",label:"Enable Delivery Restrictions",desc:"Automatically restrict deliveries based on weather conditions"},{key:"enableCustomerNotifications",label:"Customer Weather Notifications",desc:"Notify customers about weather-related delivery changes"}].map(x=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-sm",children:x.label}),r.jsx("p",{className:"text-xs text-gray-500",children:x.desc})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:e[x.key],onChange:v=>t({...e,[x.key]:v.target.checked}),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 rounded-full peer peer-checked:bg-blue-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]})]},x.key))})]})]}),r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"rounded-lg bg-red-50 p-2",children:r.jsx(Ts,{className:"h-5 w-5 text-red-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Weather Alerts"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Configure automatic actions for weather conditions"})]})]}),r.jsxs(oe,{variant:"secondary",onClick:h,children:[r.jsx(Ts,{className:"mr-2 h-4 w-4"}),"Add Alert"]})]}),r.jsx("div",{className:"space-y-4",children:s.map(x=>{const v=l.find(j=>j.value===x.condition),y=o.find(j=>j.value===x.action),b=v?.icon||Ts;return r.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",checked:x.isActive,onChange:j=>m(x.id,{isActive:j.target.checked}),className:"rounded"}),r.jsx(b,{className:"h-5 w-5 text-gray-600"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:v?.label}),r.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:[x.threshold," ",v?.unit]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded-full text-xs",children:y?.label}),r.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>p(x.id),children:""})]})]}),r.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[r.jsx(Ut,{label:"Weather Condition",value:x.condition,onChange:j=>m(x.id,{condition:j.target.value}),options:l.map(j=>({value:j.value,label:j.label}))}),r.jsx(de,{label:`Threshold (${v?.unit})`,type:"number",value:x.threshold,onChange:j=>m(x.id,{threshold:parseFloat(j.target.value)})}),r.jsx(Ut,{label:"Action",value:x.action,onChange:j=>m(x.id,{action:j.target.value}),options:o})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Message"}),r.jsx("textarea",{className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:2,value:x.message,onChange:j=>m(x.id,{message:j.target.value}),placeholder:"Message to display to customers when this alert is triggered"})]})]},x.id)})})]}),r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"rounded-lg bg-purple-50 p-2",children:r.jsx(Vs,{className:"h-5 w-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Monitoring Locations"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Weather monitoring points for your delivery areas"})]})]}),r.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:n.map(x=>r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:x.isActive,onChange:v=>{i(n.map(y=>y.id===x.id?{...y,isActive:v.target.checked}:y))},className:"rounded"}),r.jsx("span",{className:"font-medium",children:x.name})]}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${x.isActive?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:x.isActive?"Active":"Inactive"})]}),r.jsxs("div",{className:"text-sm text-gray-500",children:[r.jsxs("p",{children:["Lat: ",x.lat,", Lng: ",x.lng]}),r.jsxs("p",{children:["Weather: ",d.condition,"  ",d.temperature,"C"]})]})]},x.id))}),r.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Vs,{className:"h-5 w-5 text-blue-600"}),r.jsx("span",{className:"font-medium text-blue-800",children:"Add New Location"})]}),r.jsxs("div",{className:"grid gap-3 sm:grid-cols-3",children:[r.jsx(de,{placeholder:"Location Name"}),r.jsx(de,{placeholder:"Latitude",type:"number",step:"any"}),r.jsx(de,{placeholder:"Longitude",type:"number",step:"any"})]}),r.jsx(oe,{variant:"secondary",size:"sm",className:"mt-3",children:"Add Location"})]})]}),r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"rounded-lg bg-orange-50 p-2",children:r.jsx(Zn,{className:"h-5 w-5 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Weather Impact Summary"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Recent weather-related delivery impacts"})]})]}),r.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[r.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-red-600",children:"12"}),r.jsx("div",{className:"text-sm text-red-600",children:"Suspended Deliveries"}),r.jsx("div",{className:"text-xs text-gray-500",children:"Last 7 days"})]}),r.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:"28"}),r.jsx("div",{className:"text-sm text-yellow-600",children:"Delayed Deliveries"}),r.jsx("div",{className:"text-xs text-gray-500",children:"Last 7 days"})]}),r.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"156"}),r.jsx("div",{className:"text-sm text-blue-600",children:"Customer Notifications"}),r.jsx("div",{className:"text-xs text-gray-500",children:"Last 7 days"})]})]})]})]})}function jj(){const[e,t]=A.useState([{id:"1",title:"Privacy Policy",type:"privacy",content:"This Privacy Policy describes how BAYHAWK collects, uses, and protects your personal information...",lastUpdated:"2024-01-15",version:"2.1",isActive:!0,isRequired:!0},{id:"2",title:"Terms & Conditions",type:"terms",content:"By using our services, you agree to these terms and conditions...",lastUpdated:"2024-01-10",version:"1.8",isActive:!0,isRequired:!0},{id:"3",title:"Refund Policy",type:"refund",content:"Our refund policy outlines the conditions under which refunds are processed...",lastUpdated:"2024-01-05",version:"1.3",isActive:!0,isRequired:!1},{id:"4",title:"Shipping Policy",type:"shipping",content:"This policy covers our shipping procedures, delivery times, and related terms...",lastUpdated:"2023-12-20",version:"1.5",isActive:!0,isRequired:!1},{id:"5",title:"Cookie Policy",type:"cookie",content:"This Cookie Policy explains how we use cookies and similar technologies...",lastUpdated:"2023-12-15",version:"1.2",isActive:!1,isRequired:!1}]),[s,a]=A.useState(null),[n,i]=A.useState(!1),[l,o]=A.useState({gdprCompliance:!0,ccpaCompliance:!1,coppaCompliance:!1,requireConsent:!0,consentLogging:!0,autoUpdateNotification:!0}),c=[{value:"privacy",label:"Privacy Policy",icon:sl,required:!0},{value:"terms",label:"Terms & Conditions",icon:Rs,required:!0},{value:"refund",label:"Refund Policy",icon:Ld,required:!1},{value:"shipping",label:"Shipping Policy",icon:Rs,required:!1},{value:"cookie",label:"Cookie Policy",icon:Rs,required:!1},{value:"disclaimer",label:"Disclaimer",icon:Jj,required:!1},{value:"custom",label:"Custom Document",icon:Rs,required:!1}],d=()=>{const b={id:Date.now().toString(),title:"New Legal Document",type:"custom",content:"",lastUpdated:new Date().toISOString().split("T")[0],version:"1.0",isActive:!1,isRequired:!1};t([...e,b]),a(b),i(!0)},h=(b,j)=>{t(e.map(S=>S.id===b?{...S,...j,lastUpdated:new Date().toISOString().split("T")[0],version:j.content?m(S.version):S.version}:S))},m=b=>{const j=b.split("."),S=parseInt(j[1]||"0")+1;return`${j[0]}.${S}`},p=b=>{t(e.filter(j=>j.id!==b))},x=b=>c.find(S=>S.value===b)?.icon||Rs,v=(b,j)=>!b&&j?"text-red-600 bg-red-50":b?"text-green-600 bg-green-50":"text-gray-600 bg-gray-50",y=(b,j)=>!b&&j?"Required - Inactive":b?"Active":"Inactive";return r.jsxs("div",{className:"space-y-4 sm:space-y-6 p-3 sm:p-4 md:p-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Legal Documents"}),r.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1",children:"Manage legal documents and compliance settings"})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[r.jsxs(oe,{variant:"secondary",onClick:d,className:"w-full sm:w-auto",children:[r.jsx(dr,{className:"mr-2 h-5 w-5"}),"Add Document"]}),r.jsxs(oe,{className:"w-full sm:w-auto",children:[r.jsx(Ii,{className:"mr-2 h-5 w-5"}),"Save All Changes"]})]})]}),r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[r.jsx("div",{className:"rounded-lg bg-blue-50 p-2",children:r.jsx(sl,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-base sm:text-lg font-semibold",children:"Compliance Status"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Legal compliance and document status overview"})]})]}),r.jsxs("div",{className:"grid gap-3 sm:gap-4 grid-cols-2 lg:grid-cols-4",children:[r.jsxs("div",{className:"text-center p-3 sm:p-4 bg-green-50 rounded-lg",children:[r.jsx("div",{className:"text-xl sm:text-2xl font-bold text-green-600",children:e.filter(b=>b.isActive).length}),r.jsx("div",{className:"text-xs sm:text-sm text-green-600 mt-1",children:"Active Documents"})]}),r.jsxs("div",{className:"text-center p-3 sm:p-4 bg-red-50 rounded-lg",children:[r.jsx("div",{className:"text-xl sm:text-2xl font-bold text-red-600",children:e.filter(b=>b.isRequired&&!b.isActive).length}),r.jsx("div",{className:"text-xs sm:text-sm text-red-600 mt-1",children:"Missing Required"})]}),r.jsxs("div",{className:"text-center p-3 sm:p-4 bg-yellow-50 rounded-lg",children:[r.jsx("div",{className:"text-xl sm:text-2xl font-bold text-yellow-600",children:e.filter(b=>Math.floor((Date.now()-new Date(b.lastUpdated).getTime())/864e5)>365).length}),r.jsx("div",{className:"text-xs sm:text-sm text-yellow-600 mt-1",children:"Need Updates"})]}),r.jsxs("div",{className:"text-center p-3 sm:p-4 bg-blue-50 rounded-lg",children:[r.jsx("div",{className:"text-xl sm:text-2xl font-bold text-blue-600",children:Object.values(l).filter(Boolean).length}),r.jsx("div",{className:"text-xs sm:text-sm text-blue-600 mt-1",children:"Compliance Rules"})]})]})]}),r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[r.jsx("div",{className:"rounded-lg bg-green-50 p-2",children:r.jsx(Rs,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-base sm:text-lg font-semibold",children:"Legal Documents"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Manage your legal documents and policies"})]})]}),r.jsx("div",{className:"space-y-4",children:e.map(b=>{const j=x(b.type),S=v(b.isActive,b.isRequired),w=y(b.isActive,b.isRequired),k=Math.floor((Date.now()-new Date(b.lastUpdated).getTime())/(1e3*60*60*24));return r.jsxs("div",{className:"border rounded-lg p-3 sm:p-4",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-3",children:[r.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[r.jsx(j,{className:"h-5 w-5 text-gray-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-medium text-sm sm:text-base truncate",children:b.title}),r.jsxs("div",{className:"flex flex-wrap items-center gap-1 sm:gap-2 text-xs sm:text-sm text-gray-500 mt-1",children:[r.jsxs("span",{children:["Version ",b.version]}),r.jsx("span",{className:"hidden sm:inline",children:""}),r.jsxs("span",{children:["Updated ",k,"d ago"]}),b.isRequired&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"hidden sm:inline",children:""}),r.jsx("span",{className:"text-red-600 font-medium",children:"Required"})]})]})]})]}),r.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3",children:[r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${S} whitespace-nowrap`,children:w}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>a(b),children:r.jsx(Fr,{className:"h-5 w-5"})}),r.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>{a(b),i(!0)},children:r.jsx(ss,{className:"h-5 w-5"})}),!b.isRequired&&r.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>p(b.id),children:r.jsx(Cs,{className:"h-4 w-4"})})]})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[r.jsxs("div",{className:"text-xs sm:text-sm text-gray-600 line-clamp-2 flex-1",children:[b.content.substring(0,150),"..."]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer flex-shrink-0",children:[r.jsx("input",{type:"checkbox",checked:b.isActive,onChange:_=>h(b.id,{isActive:_.target.checked}),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 rounded-full peer peer-checked:bg-blue-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]})]}),k>365&&r.jsxs("div",{className:"mt-3 p-2 bg-yellow-50 border border-yellow-200 rounded text-xs sm:text-sm text-yellow-700",children:[r.jsx(Jr,{className:"h-4 w-4 inline mr-1"}),"This document hasn't been updated in over a year. Consider reviewing for accuracy."]})]},b.id)})})]}),r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[r.jsx("div",{className:"rounded-lg bg-purple-50 p-2",children:r.jsx(Jj,{className:"h-4 w-4 sm:h-5 sm:w-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-base sm:text-lg font-semibold",children:"Compliance Settings"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Configure legal compliance requirements"})]})]}),r.jsx("div",{className:"space-y-3 sm:space-y-4",children:[{key:"gdprCompliance",label:"GDPR Compliance",desc:"European General Data Protection Regulation compliance"},{key:"ccpaCompliance",label:"CCPA Compliance",desc:"California Consumer Privacy Act compliance"},{key:"coppaCompliance",label:"COPPA Compliance",desc:"Children's Online Privacy Protection Act compliance"},{key:"requireConsent",label:"Require User Consent",desc:"Require explicit consent for data collection"},{key:"consentLogging",label:"Log Consent Records",desc:"Keep records of user consent for legal purposes"},{key:"autoUpdateNotification",label:"Auto-Update Notifications",desc:"Notify users when legal documents are updated"}].map(b=>r.jsxs("div",{className:"flex items-start sm:items-center justify-between p-3 sm:p-4 border rounded-lg gap-3",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-medium text-xs sm:text-sm",children:b.label}),r.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:b.desc})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer flex-shrink-0",children:[r.jsx("input",{type:"checkbox",checked:l[b.key],onChange:j=>o({...l,[b.key]:j.target.checked}),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 rounded-full peer peer-checked:bg-blue-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]})]},b.key))})]}),s&&r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex min-h-screen items-center justify-center p-3 sm:p-4",children:[r.jsx("div",{className:"fixed inset-0 bg-black/50 transition-opacity",onClick:()=>{a(null),i(!1)}}),r.jsxs(he,{className:"relative w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-start sm:items-center justify-between mb-4 sm:mb-6 gap-3",children:[r.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[r.jsx("div",{className:"rounded-lg bg-gray-100 p-2 flex-shrink-0",children:ur.createElement(x(s.type),{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-600"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("h2",{className:"text-lg sm:text-xl font-semibold truncate",children:[n?"Edit":"View",": ",s.title]}),r.jsxs("p",{className:"text-xs sm:text-sm text-gray-600",children:["Version ",s.version,"  Last updated: ",s.lastUpdated]})]})]}),r.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[!n&&r.jsxs(oe,{variant:"secondary",size:"sm",onClick:()=>i(!0),children:[r.jsx(ss,{className:"h-4 w-4 sm:mr-1"}),r.jsx("span",{className:"hidden sm:inline",children:"Edit"})]}),r.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>{a(null),i(!1)},children:r.jsx(Cs,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2",children:[r.jsx(de,{label:"Document Title",value:s.title,disabled:!n,onChange:b=>a({...s,title:b.target.value})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Document Type"}),r.jsx("select",{value:s.type,disabled:!n,onChange:b=>a({...s,type:b.target.value}),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-50",children:c.map(b=>r.jsxs("option",{value:b.value,children:[b.label," ",b.required?"(Required)":""]},b.value))})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Document Content"}),r.jsx("textarea",{className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-50",rows:15,value:s.content,disabled:!n,onChange:b=>a({...s,content:b.target.value}),placeholder:"Enter the legal document content here..."})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 sm:gap-4",children:[r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:s.isActive,disabled:!n,onChange:b=>a({...s,isActive:b.target.checked}),className:"rounded"}),r.jsx("span",{className:"text-sm",children:"Document is active"})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:s.isRequired,disabled:!n||c.find(b=>b.value===s.type)?.required,onChange:b=>a({...s,isRequired:b.target.checked}),className:"rounded"}),r.jsx("span",{className:"text-sm",children:"Required document"})]})]}),n&&r.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-2 pt-4 border-t",children:[r.jsx(oe,{variant:"secondary",onClick:()=>i(!1),className:"w-full sm:w-auto",children:"Cancel"}),r.jsxs(oe,{onClick:()=>{h(s.id,s),i(!1)},className:"w-full sm:w-auto",children:[r.jsx(Ii,{className:"h-4 w-4 mr-2"}),"Save Document"]})]})]})]})]})})]})}function Nj(){const[e,t]=A.useState([{id:"1",title:"Diwali Special Offer",type:"festival",videoUrl:"/videos/diwali-ad.mp4",isActive:!1,uploadDate:"2026-01-10",schedule:{startDate:"2026-10-20",endDate:"2026-11-05"}},{id:"2",title:"Fresh Fish Daily",type:"regular",videoUrl:"/videos/regular-ad.mp4",isActive:!0,uploadDate:"2026-01-08"}]),[s,a]=A.useState("regular"),[n,i]=A.useState(!1),l=h=>{const m=h.target.files?.[0];m&&(i(!0),setTimeout(()=>{const p={id:Date.now().toString(),title:`New ${s} Ad`,type:s,videoUrl:URL.createObjectURL(m),isActive:!1,uploadDate:new Date().toISOString().split("T")[0]};t([...e,p]),i(!1)},2e3))},o=h=>{t(e.map(m=>m.id===h?{...m,isActive:!m.isActive}:{...m,isActive:!1}))},c=h=>{t(e.filter(m=>m.id!==h))},d=e.find(h=>h.isActive);return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Advertisement Management"}),r.jsx("p",{className:"text-gray-600",children:"Manage video advertisements for customer app"})]})}),r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Current Active Advertisement"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Fr,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{className:"text-sm text-green-600",children:"Live on Customer App"})]})]}),d?r.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[r.jsx("div",{className:"lg:w-1/3",children:r.jsxs("div",{className:"aspect-[9/16] bg-gray-900 rounded-lg overflow-hidden relative max-w-[200px] mx-auto",children:[r.jsx("video",{className:"w-full h-full object-cover",controls:!0,poster:"/api/placeholder/200/356",children:r.jsx("source",{src:d.videoUrl,type:"video/mp4"})}),r.jsx("div",{className:"absolute top-2 right-2 bg-green-500 text-white px-2 py-1 rounded text-xs",children:"LIVE"})]})}),r.jsx("div",{className:"lg:w-2/3",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-lg",children:d.title}),r.jsxs("p",{className:"text-sm text-gray-600 capitalize",children:[d.type," Advertisement"]})]}),r.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Upload Date"}),r.jsx("p",{className:"text-sm text-gray-600",children:d.uploadDate})]}),d.schedule&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Schedule"}),r.jsxs("p",{className:"text-sm text-gray-600",children:[d.schedule.startDate," to ",d.schedule.endDate]})]})]})]})})]}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Ih,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:"No active advertisement"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Upload and activate an ad to display on customer app"})]})]}),r.jsxs(he,{children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Upload New Advertisement"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Advertisement Type"}),r.jsx(Ut,{value:s,onChange:h=>a(h.target.value),options:[{value:"regular",label:"Regular Advertisement"},{value:"festival",label:"Festival Special"},{value:"seasonal",label:"Seasonal Offer"}]})]})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Video Upload (9:16 Aspect Ratio)"}),r.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-400 transition-colors",children:[r.jsx("input",{type:"file",accept:"video/*",onChange:l,className:"hidden",id:"video-upload",disabled:n}),r.jsxs("label",{htmlFor:"video-upload",className:"cursor-pointer",children:[r.jsx(jo,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-gray-600",children:n?"Uploading...":"Click to upload video or drag and drop"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Recommended: 9:16 aspect ratio, MP4 format, max 50MB"})]})]})]}),s==="festival"&&r.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),r.jsx("input",{type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"}),r.jsx("input",{type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})]}),r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Advertisement Library"}),r.jsxs("span",{className:"text-sm text-gray-500",children:[e.length," total ads"]})]}),r.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:e.map(h=>r.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"aspect-[9/16] bg-gray-900 rounded-lg overflow-hidden relative mb-3 max-w-[120px] mx-auto",children:[r.jsx("video",{className:"w-full h-full object-cover",poster:"/api/placeholder/120/213",children:r.jsx("source",{src:h.videoUrl,type:"video/mp4"})}),h.isActive&&r.jsx("div",{className:"absolute top-1 right-1 bg-green-500 text-white px-1 py-0.5 rounded text-xs",children:"ACTIVE"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h3",{className:"font-medium text-sm",children:h.title}),r.jsx("p",{className:"text-xs text-gray-500 capitalize",children:h.type}),r.jsxs("p",{className:"text-xs text-gray-400",children:["Uploaded: ",h.uploadDate]}),h.schedule&&r.jsxs("div",{className:"flex items-center gap-1 text-xs text-blue-600",children:[r.jsx(Jr,{className:"h-3 w-3"}),r.jsx("span",{children:"Scheduled"})]}),r.jsxs("div",{className:"flex gap-2 pt-2",children:[r.jsx(oe,{size:"sm",variant:h.isActive?"secondary":"primary",onClick:()=>o(h.id),className:"flex-1 text-xs",children:h.isActive?"Deactivate":"Activate"}),r.jsx(oe,{size:"sm",variant:"secondary",onClick:()=>c(h.id),className:"text-red-600 hover:text-red-700",children:r.jsx(Ar,{className:"h-3 w-3"})})]})]})]},h.id))})]}),r.jsx(he,{className:"bg-blue-50 border-blue-200",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(ic,{className:"h-5 w-5 text-blue-600 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"Advertisement Guidelines"}),r.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[r.jsx("li",{children:" Video format: MP4, maximum 50MB file size"}),r.jsx("li",{children:" Aspect ratio: 9:16 (vertical format for mobile)"}),r.jsx("li",{children:" Duration: 15-30 seconds recommended"}),r.jsx("li",{children:" Festival ads can be scheduled for specific date ranges"}),r.jsx("li",{children:" Only one advertisement can be active at a time"}),r.jsx("li",{children:" Regular ads display until manually changed"})]})]})]})})]})}function lUe(){const[e,t]=A.useState([{id:"1",title:"Summer Sale",description:"Up to 50% off",imageUrl:"",linkUrl:"",isActive:!0,type:"carousel",order:1},{id:"2",title:"Fresh Arrivals",description:"New products daily",imageUrl:"",linkUrl:"",isActive:!0,type:"carousel",order:2},{id:"3",title:"Weekend Special",description:"Limited time offer",imageUrl:"",linkUrl:"",isActive:!0,type:"carousel",order:3}]),[s,a]=A.useState([{id:"4",title:"Flash Deal",description:"Today only",imageUrl:"",linkUrl:"",isActive:!0,type:"other",order:1},{id:"5",title:"Bundle Offer",description:"Buy more save more",imageUrl:"",linkUrl:"",isActive:!0,type:"other",order:2}]),[n,i]=A.useState(null),[l,o]=A.useState(!1),c=m=>{i({...m}),o(!0)},d=()=>{n&&(n.type==="carousel"?t(m=>m.map(p=>p.id===n.id?n:p)):a(m=>m.map(p=>p.id===n.id?n:p)),o(!1),i(null))},h=m=>{const p=m.target.files?.[0];if(p&&n){const x=new FileReader;x.onloadend=()=>{i({...n,imageUrl:x.result})},x.readAsDataURL(p)}};return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Offer Templates"}),r.jsx("p",{className:"text-gray-600",children:"Manage carousel and promotional offer templates"})]})}),r.jsxs(he,{children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Carousel Offer Templates (3)"}),r.jsx("p",{className:"text-sm text-gray-600",children:"These templates appear in the main carousel on user page"})]}),r.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:e.map(m=>r.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[r.jsx("div",{className:"aspect-video bg-gray-100 rounded flex items-center justify-center overflow-hidden",children:m.imageUrl?r.jsx("img",{src:m.imageUrl,alt:m.title,className:"w-full h-full object-cover"}):r.jsx(q0,{className:"h-12 w-12 text-gray-400"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold",children:m.title}),r.jsx("p",{className:"text-sm text-gray-600",children:m.description})]}),r.jsx("div",{className:"flex gap-2",children:r.jsxs(oe,{size:"sm",variant:"secondary",onClick:()=>c(m),className:"flex-1",children:[r.jsx(Ry,{className:"h-4 w-4 mr-1"}),"Edit"]})})]},m.id))})]}),r.jsxs(he,{children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Other Offer Templates (2)"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Additional promotional templates displayed on user page"})]}),r.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:s.map(m=>r.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[r.jsx("div",{className:"aspect-video bg-gray-100 rounded flex items-center justify-center overflow-hidden",children:m.imageUrl?r.jsx("img",{src:m.imageUrl,alt:m.title,className:"w-full h-full object-cover"}):r.jsx(q0,{className:"h-12 w-12 text-gray-400"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold",children:m.title}),r.jsx("p",{className:"text-sm text-gray-600",children:m.description})]}),r.jsx("div",{className:"flex gap-2",children:r.jsxs(oe,{size:"sm",variant:"secondary",onClick:()=>c(m),className:"flex-1",children:[r.jsx(Ry,{className:"h-4 w-4 mr-1"}),"Edit"]})})]},m.id))})]}),l&&n&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[r.jsx("h2",{className:"text-xl font-bold mb-4",children:"Edit Offer Template"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Title *"}),r.jsx("input",{type:"text",value:n.title,onChange:m=>i({...n,title:m.target.value}),className:"w-full px-3 py-2 border rounded-lg",placeholder:"Enter offer title"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description *"}),r.jsx("textarea",{value:n.description,onChange:m=>i({...n,description:m.target.value}),className:"w-full px-3 py-2 border rounded-lg",rows:3,placeholder:"Enter offer description"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Link URL"}),r.jsx("input",{type:"url",value:n.linkUrl,onChange:m=>i({...n,linkUrl:m.target.value}),className:"w-full px-3 py-2 border rounded-lg",placeholder:"https://example.com/offer"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Offer Image *"}),r.jsxs("div",{className:"space-y-2",children:[n.imageUrl&&r.jsx("div",{className:"aspect-video bg-gray-100 rounded overflow-hidden",children:r.jsx("img",{src:n.imageUrl,alt:"Preview",className:"w-full h-full object-cover"})}),r.jsx("input",{type:"file",accept:"image/*",onChange:h,className:"w-full px-3 py-2 border rounded-lg"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Recommended: 1200x600px for carousel, 800x400px for other offers"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",id:"isActive",checked:n.isActive,onChange:m=>i({...n,isActive:m.target.checked}),className:"rounded"}),r.jsx("label",{htmlFor:"isActive",className:"text-sm font-medium",children:"Active (Display on user page)"})]})]}),r.jsxs("div",{className:"flex gap-3 mt-6",children:[r.jsxs(oe,{onClick:d,className:"flex-1",children:[r.jsx(Ii,{className:"h-4 w-4 mr-2"}),"Save Changes"]}),r.jsx(oe,{variant:"secondary",onClick:()=>{o(!1),i(null)},className:"flex-1",children:"Cancel"})]})]})})]})}const oUe=[{id:"1",code:"WELCOME50",discountType:"percentage",discountValue:50,minOrderValue:500,maxDiscount:200,validFrom:"2024-01-01",validTo:"2024-01-31",usageLimit:1e3,isActive:!0},{id:"2",code:"FLAT100",discountType:"flat",discountValue:100,minOrderValue:800,validFrom:"2024-01-01",validTo:"2024-02-28",usageLimit:500,isActive:!0},{id:"3",code:"FISH20",discountType:"percentage",discountValue:20,minOrderValue:1e3,maxDiscount:300,validFrom:"2024-01-15",validTo:"2024-01-20",usageLimit:200,isActive:!1}];function wj(){const[e,t]=A.useState("coupons"),[s,a]=A.useState(""),[n,i]=A.useState(!1);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Marketing & Notifications"}),r.jsx("p",{className:"text-gray-600",children:"Manage coupons, notifications, and gamification"})]}),r.jsxs(oe,{onClick:()=>i(!0),children:[r.jsx(dr,{className:"mr-2 h-4 w-4"})," Add ",e==="coupons"?"Coupon":e==="notifications"?"Notification":"Reward"]})]}),r.jsx("div",{className:"flex gap-2 border-b",children:[{id:"coupons",label:"Coupons & Offers",icon:dg},{id:"notifications",label:"Push Notifications",icon:Ph},{id:"gamification",label:"Gamification",icon:Gh}].map(l=>r.jsxs("button",{onClick:()=>t(l.id),className:`flex items-center gap-2 px-4 py-3 border-b-2 transition-colors ${e===l.id?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[r.jsx(l.icon,{className:"h-4 w-4"}),l.label]},l.id))}),e==="coupons"&&r.jsxs(r.Fragment,{children:[r.jsx(he,{children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Bi,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),r.jsx(de,{placeholder:"Search coupons...",className:"pl-10"})]}),r.jsx(Ut,{value:s,onChange:l=>a(l.target.value),options:[{value:"",label:"All Status"},{value:"active",label:"Active"},{value:"expired",label:"Expired"}]})]})}),r.jsx(he,{className:"p-0 overflow-hidden",children:r.jsxs(Rg,{children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx(Xr,{children:"Code"}),r.jsx(Xr,{children:"Discount"}),r.jsx(Xr,{children:"Min Order"}),r.jsx(Xr,{children:"Max Discount"}),r.jsx(Xr,{children:"Valid Period"}),r.jsx(Xr,{children:"Usage"}),r.jsx(Xr,{children:"Status"}),r.jsx(Xr,{children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:oUe.map(l=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx(Zr,{children:r.jsx("span",{className:"font-mono font-medium text-primary-600",children:l.code})}),r.jsx(Zr,{children:l.discountType==="percentage"?`${l.discountValue}%`:bt(l.discountValue)}),r.jsx(Zr,{children:bt(l.minOrderValue)}),r.jsx(Zr,{children:l.maxDiscount?bt(l.maxDiscount):"-"}),r.jsx(Zr,{children:r.jsxs("span",{className:"text-xs",children:[CB(l.validFrom)," - ",CB(l.validTo)]})}),r.jsxs(Zr,{children:["0 / ",l.usageLimit]}),r.jsx(Zr,{children:r.jsx(Xe,{variant:id(l.isActive?"active":"inactive"),children:l.isActive?"Active":"Expired"})}),r.jsx(Zr,{children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{className:"p-1 hover:bg-gray-100 rounded",children:r.jsx(ss,{className:"h-4 w-4"})}),r.jsx("button",{className:"p-1 hover:bg-gray-100 rounded text-red-600",children:r.jsx(Ar,{className:"h-4 w-4"})})]})})]},l.id))})]})})]}),e==="notifications"&&r.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[r.jsxs(he,{children:[r.jsx("h3",{className:"font-semibold mb-4",children:"Automated Notifications"}),r.jsx("div",{className:"space-y-3",children:["Order Confirmation","Order Status Updates","Delivery Updates","Payment Confirmation"].map(l=>r.jsxs("div",{className:"flex items-center justify-between py-2 border-b last:border-0",children:[r.jsx("span",{children:l}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",defaultChecked:!0,className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]},l))})]}),r.jsxs(he,{children:[r.jsx("h3",{className:"font-semibold mb-4",children:"Send Custom Notification"}),r.jsxs("form",{className:"space-y-4",children:[r.jsx(de,{label:"Title",placeholder:"Notification title"}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),r.jsx("textarea",{className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-primary-500 focus:outline-none",rows:3,placeholder:"Notification message..."})]}),r.jsx(Ut,{label:"Target Audience",options:[{value:"all",label:"All Users"},{value:"premium",label:"Premium Members"},{value:"inactive",label:"Inactive Users"}]}),r.jsx(oe,{className:"w-full",children:"Send Notification"})]})]})]}),e==="gamification"&&r.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[r.jsxs(he,{children:[r.jsx("h3",{className:"font-semibold mb-4",children:" Scratch Card Settings"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{children:"Enable Daily Scratch Cards"}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",defaultChecked:!0,className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 rounded-full peer peer-checked:bg-primary-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]})]}),r.jsx(de,{label:"Validity Period (hours)",type:"number",defaultValue:"24"}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsx("p",{className:"text-sm font-medium mb-2",children:"Reward Probabilities"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-24 text-sm",children:"10 Cashback"}),r.jsx(de,{type:"number",defaultValue:"40",className:"w-20"}),r.jsx("span",{className:"text-sm",children:"%"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-24 text-sm",children:"25 Cashback"}),r.jsx(de,{type:"number",defaultValue:"30",className:"w-20"}),r.jsx("span",{className:"text-sm",children:"%"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-24 text-sm",children:"Free Delivery"}),r.jsx(de,{type:"number",defaultValue:"20",className:"w-20"}),r.jsx("span",{className:"text-sm",children:"%"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"w-24 text-sm",children:"50 Cashback"}),r.jsx(de,{type:"number",defaultValue:"10",className:"w-20"}),r.jsx("span",{className:"text-sm",children:"%"})]})]})]})]})]}),r.jsxs(he,{children:[r.jsx("h3",{className:"font-semibold mb-4",children:" Spin Wheel Settings"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{children:"Enable Spin Wheel (After Order)"}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",defaultChecked:!0,className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 rounded-full peer peer-checked:bg-primary-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]})]}),r.jsx("p",{className:"text-sm text-gray-500",children:"One spin per order placement"}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsx("p",{className:"text-sm font-medium mb-2",children:"Wheel Segments (6-8)"}),r.jsx("div",{className:"space-y-2",children:["5% Off","10% Off","Free Delivery","20 Cashback","Better Luck","15% Off"].map((l,o)=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(de,{defaultValue:l,className:"flex-1"}),r.jsx(de,{type:"number",defaultValue:Math.floor(100/6),className:"w-16"}),r.jsx("span",{className:"text-sm",children:"%"})]},o))})]})]})]})]}),r.jsx(ir,{isOpen:n&&e==="coupons",onClose:()=>i(!1),title:"Create Coupon",children:r.jsxs("form",{className:"space-y-4",children:[r.jsx(de,{label:"Coupon Code",placeholder:"WELCOME50"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(Ut,{label:"Discount Type",options:[{value:"percentage",label:"Percentage"},{value:"flat",label:"Flat Amount"}]}),r.jsx(de,{label:"Discount Value",type:"number",placeholder:"50"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(de,{label:"Min Order Value ()",type:"number",placeholder:"500"}),r.jsx(de,{label:"Max Discount ()",type:"number",placeholder:"200"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(de,{label:"Valid From",type:"date"}),r.jsx(de,{label:"Valid To",type:"date"})]}),r.jsx(de,{label:"Usage Limit",type:"number",placeholder:"1000"}),r.jsxs("div",{className:"flex gap-2 pt-4",children:[r.jsx(oe,{type:"button",variant:"secondary",onClick:()=>i(!1),className:"flex-1",children:"Cancel"}),r.jsx(oe,{type:"submit",className:"flex-1",children:"Create Coupon"})]})]})})]})}function Sj({isOpen:e,onClose:t,title:s,children:a,size:n="lg",className:i=""}){if(!e)return null;const l={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl","2xl":"max-w-6xl"};return r.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),r.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:r.jsxs("div",{className:`relative w-full ${l[n]} bg-white rounded-xl shadow-xl transform transition-all ${i}`,onClick:o=>o.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(Cs,{className:"h-5 w-5 text-gray-500"})})]}),r.jsx("div",{className:"max-h-[calc(100vh-200px)] overflow-y-auto",children:a})]})})]})}function NU({mediaItems:e,onMediaChange:t,videoUrl:s,onVideoUrlChange:a,maxImages:n=6,maxVideos:i=3,className:l=""}){const o=A.useRef(null),c=A.useRef(null),[d,h]=A.useState(""),m=w=>{if(!w)return"";try{new URL(w)}catch{return"Please enter a valid URL"}return[/youtube\.com\/watch\?v=|youtu\.be\//,/vimeo\.com\//,/dailymotion\.com\//,/facebook\.com\/.*\/videos\//,/instagram\.com\/p\//,/\.mp4$|\.webm$|\.ogg$/i].some(O=>O.test(w))?"":"Please enter a valid video URL (YouTube, Vimeo, etc.)"},p=w=>{a(w);const k=m(w);h(k)},x=w=>{const k=Array.from(w.target.files||[]);if(k.length>0){const _=k.filter(F=>F.type.startsWith("image/"));if(e.filter(F=>F.type==="image").length+_.length>n){alert(`Maximum ${n} images allowed`);return}const E=_.map(F=>({id:Date.now().toString()+Math.random(),type:"image",url:URL.createObjectURL(F),name:F.name}));t([...e,...E])}w.target&&(w.target.value="")},v=w=>{const k=Array.from(w.target.files||[]);if(k.length>0){const _=k.filter(F=>F.type.startsWith("video/"));if(e.filter(F=>F.type==="video-file").length+_.length>i){alert(`Maximum ${i} video files allowed`);return}const E=_.map(F=>({id:Date.now().toString()+Math.random(),type:"video-file",url:URL.createObjectURL(F),name:F.name}));t([...e,...E])}w.target&&(w.target.value="")},y=w=>{const k=e.filter(_=>_.id!==w);t(k)},b=w=>{const k=w.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/)([^&\n?#]+)/);if(k)return`https://img.youtube.com/vi/${k[1]}/mqdefault.jpg`;const _=w.match(/vimeo\.com\/(\d+)/);return _?`https://vumbnail.com/${_[1]}.jpg`:null},j=e.filter(w=>w.type==="image"),S=e.filter(w=>w.type==="video-file");return r.jsxs("div",{className:`space-y-6 ${l}`,children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Recipe Video URL (Optional)"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(W6,{className:"h-4 w-4 text-gray-400"})}),r.jsx(de,{type:"url",placeholder:"https://youtube.com/watch?v=... or https://vimeo.com/...",value:s,onChange:w=>p(w.target.value),className:`pl-10 ${d?"border-red-300 focus:border-red-500 focus:ring-red-500":""}`}),s&&!d&&r.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:r.jsx("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-700",title:"Open video in new tab",children:r.jsx(Bk,{className:"h-4 w-4"})})})]}),d&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:d}),s&&!d&&r.jsxs("p",{className:"mt-1 text-sm text-green-600 flex items-center gap-1",children:[r.jsx(Ih,{className:"h-3 w-3"}),"Valid video URL detected"]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Recipe Media"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(oe,{type:"button",variant:"secondary",size:"sm",onClick:()=>o.current?.click(),disabled:j.length>=n,className:"text-xs",children:[r.jsx(q0,{className:"h-3 w-3 mr-1"}),"Add Images (",j.length,"/",n,")"]}),r.jsxs(oe,{type:"button",variant:"secondary",size:"sm",onClick:()=>c.current?.click(),disabled:S.length>=i,className:"text-xs",children:[r.jsx(MS,{className:"h-3 w-3 mr-1"}),"Add Videos (",S.length,"/",i,")"]})]})]}),r.jsx("input",{ref:o,type:"file",accept:"image/*",multiple:!0,onChange:x,className:"hidden"}),r.jsx("input",{ref:c,type:"file",accept:"video/*",multiple:!0,onChange:v,className:"hidden"}),r.jsxs("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 gap-3",children:[s&&!d&&r.jsxs("div",{className:"relative group",children:[r.jsxs("div",{className:"aspect-square bg-gradient-to-br from-blue-100 to-blue-200 rounded-lg overflow-hidden border-2 border-blue-300",children:[b(s)?r.jsx("img",{src:b(s),alt:"Main video",className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center",children:r.jsx(MS,{className:"h-6 w-6 text-blue-600"})}),r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsx(Ih,{className:"h-4 w-4 text-white"})}),r.jsx("div",{className:"absolute top-1 left-1",children:r.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded text-white font-medium bg-blue-500",children:"MAIN"})})]}),r.jsx("p",{className:"text-xs text-gray-600 mt-1 truncate",children:"Main Video"})]}),e.map(w=>r.jsxs("div",{className:"relative group",children:[r.jsxs("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden border-2 border-gray-200",children:[w.type==="image"?r.jsx("img",{src:w.url,alt:w.name,className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center bg-purple-100",children:r.jsx(MS,{className:"h-6 w-6 text-purple-600"})}),w.type!=="image"&&r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsx(Ih,{className:"h-4 w-4 text-white"})}),r.jsx("div",{className:"absolute top-1 left-1",children:r.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded text-white font-medium ${w.type==="image"?"bg-green-500":"bg-purple-500"}`,children:w.type==="image"?"IMG":"VID"})})]}),r.jsx("p",{className:"text-xs text-gray-600 mt-1 truncate",title:w.name,children:w.name}),r.jsx("button",{type:"button",onClick:()=>y(w.id),className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity shadow-sm",title:"Remove media",children:r.jsx(Cs,{className:"h-3 w-3"})})]},w.id)),j.length+S.length<n+i&&r.jsxs("div",{onClick:()=>o.current?.click(),className:"aspect-square border-2 border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:border-blue-400 hover:bg-blue-50 transition-colors",children:[r.jsx(dr,{className:"h-4 w-4 text-gray-400 mb-1"}),r.jsx("span",{className:"text-xs text-gray-500",children:"Add Media"})]})]}),r.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mt-3 pt-3 border-t",children:[r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("span",{children:["Images: ",j.length,"/",n]}),r.jsxs("span",{children:["Videos: ",S.length,"/",i]})]}),r.jsx("span",{children:"Supported: JPG, PNG, MP4, WebM"})]})]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[r.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-1",children:"Media Guidelines:"}),r.jsxs("ul",{className:"text-xs text-blue-800 space-y-1",children:[r.jsxs("li",{children:[" ",r.jsx("strong",{children:"Video URL is optional"})," - Use YouTube, Vimeo, or direct video links"]}),r.jsx("li",{children:" Add recipe images to showcase the cooking process and final dish"}),r.jsx("li",{children:" Optional video files for additional cooking demonstrations"}),r.jsx("li",{children:" Keep files under 10MB for better performance"})]})]})]})}function cUe({recipe:e,onView:t,onEdit:s,onDelete:a,onLike:n,onDislike:i}){const[l,o]=A.useState(!1),[c,d]=A.useState(!1),h=()=>{c&&d(!1),o(!l),n?.(e.id)},m=()=>{l&&o(!1),d(!c),i?.(e.id)},p=x=>{switch(x){case"easy":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"hard":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return r.jsxs(he,{className:"overflow-hidden hover:shadow-lg transition-all duration-200",children:[r.jsxs("div",{className:"relative h-48 bg-gray-100",children:[e.images?.[0]?r.jsx("img",{src:e.images[0],alt:e.name,className:"w-full h-full object-cover cursor-pointer",onClick:()=>t?.(e)}):r.jsx("div",{className:"w-full h-full flex items-center justify-center cursor-pointer",onClick:()=>t?.(e),children:r.jsx(Dy,{className:"h-16 w-16 text-gray-400"})}),e.videoUrl&&r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity cursor-pointer",onClick:()=>t?.(e),children:r.jsx(Ih,{className:"h-12 w-12 text-white"})}),r.jsx("div",{className:"absolute top-3 left-3",children:r.jsx(Xe,{variant:e.isPublished?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:e.isPublished?"Published":"Draft"})}),r.jsx("div",{className:"absolute top-3 right-3",children:r.jsx(Xe,{variant:p(e.difficulty),children:e.difficulty})})]}),r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"mb-3",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1 line-clamp-1",children:e.name}),r.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:e.description})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4 p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"flex items-center justify-center gap-1 text-blue-600 mb-1",children:[r.jsx(Tr,{className:"h-4 w-4"}),r.jsxs("span",{className:"font-semibold text-sm",children:[e.prepTime+e.cookTime,"m"]})]}),r.jsx("p",{className:"text-xs text-gray-600",children:"Time"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"flex items-center justify-center gap-1 text-green-600 mb-1",children:[r.jsx(Qr,{className:"h-4 w-4"}),r.jsx("span",{className:"font-semibold text-sm",children:e.serves})]}),r.jsx("p",{className:"text-xs text-gray-600",children:"Serves"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"flex items-center justify-center gap-1 text-orange-600 mb-1",children:[r.jsx(mm,{className:"h-4 w-4 fill-current"}),r.jsx("span",{className:"font-semibold text-sm",children:e.rating?.toFixed(1)||"0.0"})]}),r.jsx("p",{className:"text-xs text-gray-600",children:"Rating"})]})]}),r.jsx("div",{className:"mb-4",children:r.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border border-gray-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("button",{onClick:h,className:`flex items-center gap-1 px-3 py-1.5 rounded-full text-sm font-medium transition-all ${l?"bg-green-100 text-green-700 shadow-sm":"hover:bg-gray-100 text-gray-600"}`,children:[r.jsx(oz,{className:`h-4 w-4 ${l?"fill-current":""}`}),r.jsx("span",{className:"font-semibold",children:(e.likes||0)+(l?1:0)})]}),r.jsxs("button",{onClick:m,className:`flex items-center gap-1 px-3 py-1.5 rounded-full text-sm font-medium transition-all ${c?"bg-red-100 text-red-700 shadow-sm":"hover:bg-gray-100 text-gray-600"}`,children:[r.jsx(lz,{className:`h-4 w-4 ${c?"fill-current":""}`}),r.jsx("span",{className:"font-semibold",children:(e.dislikes||0)+(c?1:0)})]})]}),r.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[r.jsx(K6,{className:"h-4 w-4"}),r.jsxs("span",{className:"text-sm font-medium",children:[e.reviewCount||0," reviews"]})]})]})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>t?.(e),className:"flex-1 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:[r.jsx(Fr,{className:"h-4 w-4 inline mr-1"}),"View"]}),r.jsx("button",{onClick:()=>s?.(e),className:"px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",title:"Edit Recipe",children:r.jsx(ss,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>a?.(e),className:"px-3 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50 transition-colors",title:"Delete Recipe",children:r.jsx(Ar,{className:"h-4 w-4"})})]})]})]})}function dUe({recipe:e,onEdit:t,onDelete:s,onLike:a,onDislike:n}){const[i,l]=A.useState(!1),[o,c]=A.useState(!1),d=()=>{o&&c(!1),l(!i),a?.(e.id)},h=()=>{i&&l(!1),c(!o),n?.(e.id)},m=v=>{switch(v){case"easy":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"hard":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},p=v=>{const y=v?.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/)([^&\n?#]+)/);return y?`https://img.youtube.com/vi/${y[1]}/mqdefault.jpg`:null},x=v=>Array.from({length:5},(y,b)=>r.jsx(mm,{className:`h-4 w-4 ${b<v?"text-yellow-400 fill-current":"text-gray-300"}`},b));return r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:e.name}),r.jsx("p",{className:"text-gray-600 mb-4",children:e.description}),r.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[r.jsx(Xe,{variant:m(e.difficulty),children:e.difficulty}),r.jsx(Xe,{variant:e.isPublished?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:e.isPublished?"Published":"Draft"})]})]}),e.videoUrl&&r.jsxs(he,{className:"p-4",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Recipe Video"}),r.jsx("div",{className:"relative",children:p(e.videoUrl)?r.jsxs("div",{className:"relative rounded-lg overflow-hidden",children:[r.jsx("img",{src:p(e.videoUrl),alt:"Recipe video",className:"w-full h-64 object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30 flex items-center justify-center",children:r.jsxs("a",{href:e.videoUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 bg-white bg-opacity-90 rounded-lg hover:bg-opacity-100 transition-all",children:[r.jsx(Ih,{className:"h-5 w-5 text-red-600"}),r.jsx("span",{className:"font-medium",children:"Watch Recipe Video"}),r.jsx(Bk,{className:"h-4 w-4"})]})})]}):r.jsx("div",{className:"text-center py-8",children:r.jsxs("a",{href:e.videoUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(Ih,{className:"h-5 w-5"}),"Watch Recipe Video",r.jsx(Bk,{className:"h-4 w-4"})]})})})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs(he,{className:"p-4 text-center",children:[r.jsxs("div",{className:"flex items-center justify-center gap-1 text-blue-600 mb-2",children:[r.jsx(Tr,{className:"h-5 w-5"}),r.jsx("span",{className:"font-semibold text-lg",children:e.prepTime+e.cookTime})]}),r.jsx("p",{className:"text-sm text-gray-600",children:"Total Time (min)"})]}),r.jsxs(he,{className:"p-4 text-center",children:[r.jsxs("div",{className:"flex items-center justify-center gap-1 text-green-600 mb-2",children:[r.jsx(Qr,{className:"h-5 w-5"}),r.jsx("span",{className:"font-semibold text-lg",children:e.serves})]}),r.jsx("p",{className:"text-sm text-gray-600",children:"Servings"})]}),r.jsxs(he,{className:"p-4 text-center",children:[r.jsxs("div",{className:"flex items-center justify-center gap-1 text-orange-600 mb-2",children:[r.jsx(mm,{className:"h-5 w-5 fill-current"}),r.jsx("span",{className:"font-semibold text-lg",children:e.rating?.toFixed(1)||"0.0"})]}),r.jsx("p",{className:"text-sm text-gray-600",children:"Rating"})]}),r.jsxs(he,{className:"p-4 text-center",children:[r.jsxs("div",{className:"flex items-center justify-center gap-1 text-purple-600 mb-2",children:[r.jsx(K6,{className:"h-5 w-5"}),r.jsx("span",{className:"font-semibold text-lg",children:e.reviewCount||0})]}),r.jsx("p",{className:"text-sm text-gray-600",children:"Reviews"})]})]}),r.jsxs(he,{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4 text-center",children:"Recipe Feedback"}),r.jsxs("div",{className:"flex items-center justify-center gap-6",children:[r.jsxs("button",{onClick:d,className:`flex flex-col items-center gap-2 px-6 py-4 rounded-xl transition-all ${i?"bg-green-100 text-green-700 shadow-md scale-105":"hover:bg-gray-100 text-gray-600 hover:scale-105"}`,children:[r.jsx(oz,{className:`h-8 w-8 ${i?"fill-current":""}`}),r.jsx("span",{className:"font-bold text-xl",children:(e.likes||0)+(i?1:0)}),r.jsx("span",{className:"text-sm font-medium",children:"Likes"})]}),r.jsx("div",{className:"w-px h-16 bg-gray-300"}),r.jsxs("button",{onClick:h,className:`flex flex-col items-center gap-2 px-6 py-4 rounded-xl transition-all ${o?"bg-red-100 text-red-700 shadow-md scale-105":"hover:bg-gray-100 text-gray-600 hover:scale-105"}`,children:[r.jsx(lz,{className:`h-8 w-8 ${o?"fill-current":""}`}),r.jsx("span",{className:"font-bold text-xl",children:(e.dislikes||0)+(o?1:0)}),r.jsx("span",{className:"text-sm font-medium",children:"Dislikes"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(he,{className:"p-6",children:[r.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Ingredients"}),r.jsx("div",{className:"space-y-3",children:e.ingredients.map((v,y)=>r.jsxs("div",{className:"flex items-center gap-3 p-2 hover:bg-gray-50 rounded-lg",children:[r.jsx("span",{className:"w-6 h-6 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-sm font-medium flex-shrink-0",children:y+1}),r.jsx("span",{className:"font-medium",children:v.name}),r.jsx("span",{className:"text-gray-600 ml-auto",children:v.quantity})]},y))})]}),r.jsxs(he,{className:"p-6",children:[r.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Instructions"}),r.jsx("div",{className:"space-y-4",children:e.instructions.map((v,y)=>r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-semibold",children:y+1}),r.jsx("p",{className:"text-gray-700 leading-relaxed pt-1",children:v})]},y))})]})]}),e.reviews&&e.reviews.length>0&&r.jsxs(he,{className:"p-6",children:[r.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Customer Reviews"}),r.jsx("div",{className:"space-y-4",children:e.reviews.slice(0,3).map(v=>r.jsx("div",{className:"border-b border-gray-200 pb-4 last:border-b-0",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:v.userAvatar?r.jsx("img",{src:v.userAvatar,alt:v.userName,className:"w-full h-full rounded-full object-cover"}):r.jsx(si,{className:"h-5 w-5 text-gray-500"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("span",{className:"font-medium",children:v.userName}),v.isVerified&&r.jsx(Dr,{className:"h-4 w-4 text-green-500"}),r.jsx("div",{className:"flex items-center gap-1",children:x(v.rating)})]}),r.jsx("p",{className:"text-gray-700 mb-2",children:v.comment}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[r.jsx(Jr,{className:"h-3 w-3"}),r.jsx("span",{children:new Date(v.createdAt).toLocaleDateString()})]})]})]})},v.id))})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[r.jsxs(oe,{onClick:()=>t?.(e),className:"flex-1",children:[r.jsx(ss,{className:"h-4 w-4 mr-2"}),"Edit Recipe"]}),r.jsxs(oe,{variant:"secondary",onClick:()=>s?.(e),className:"flex-1 border-red-300 text-red-600 hover:bg-red-50",children:[r.jsx(Ar,{className:"h-4 w-4 mr-2"}),"Delete Recipe"]})]})]})}const uUe=[{id:"h1",name:"Fish Curry - Kerala Style",description:"Traditional Kerala fish curry with coconut milk",category:"Fish",difficulty:"medium",prepTime:15,cookTime:30,serves:4,ingredients:[{name:"Fish (Kingfish)",quantity:"500g"},{name:"Coconut milk",quantity:"200ml"},{name:"Curry leaves",quantity:"10-12"}],instructions:["Clean and cut fish into medium pieces","Heat oil in a pan and add curry leaves","Add fish pieces and cook until golden"],images:["https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=400&h=300&fit=crop"],videoUrl:"https://youtube.com/watch?v=fish-curry-kerala",isPublished:!0,moduleType:"hub",hubId:"hub_1",likes:45,dislikes:3,rating:4.5,reviewCount:12,reviews:[{id:"r1",userId:"u1",userName:"Priya Sharma",rating:5,comment:"Absolutely delicious! The coconut milk makes it so creamy.",createdAt:"2024-01-15T10:30:00Z",isVerified:!0}],tips:[{id:"t1",userId:"u2",userName:"Chef Ravi",tip:"Add a pinch of turmeric for better color and flavor",likes:8,createdAt:"2024-01-16T14:20:00Z"}]},{id:"h2",name:"Prawn Masala",description:"Spicy prawn masala with aromatic spices",category:"Fish",difficulty:"easy",prepTime:10,cookTime:20,serves:3,ingredients:[],instructions:[],images:["https://images.unsplash.com/photo-1565680018434-b513d5e5fd47?w=400&h=300&fit=crop"],videoUrl:"https://youtube.com/watch?v=prawn-masala-recipe",isPublished:!0,moduleType:"hub",hubId:"hub_1",likes:32,dislikes:1,rating:4.2,reviewCount:8},{id:"h3",name:"Crab Roast",description:"Chettinad style crab roast",category:"Fish",difficulty:"hard",prepTime:20,cookTime:45,serves:4,ingredients:[],instructions:[],images:["https://images.unsplash.com/photo-1544943910-4c1dc44aab44?w=400&h=300&fit=crop"],isPublished:!1,moduleType:"hub",hubId:"hub_1",likes:18,dislikes:2,rating:4,reviewCount:5}],hUe=[{id:"s1",name:"Grilled Fish Steak",description:"Healthy grilled fish with herbs",category:"Fish",difficulty:"easy",prepTime:10,cookTime:15,serves:2,ingredients:[],instructions:[],images:["https://images.unsplash.com/photo-1544943910-4c1dc44aab44?w=400&h=300&fit=crop"],videoUrl:"https://youtube.com/watch?v=grilled-fish-recipe",isPublished:!0,moduleType:"store",storeId:"store_1",likes:28,dislikes:0,rating:4.8,reviewCount:6},{id:"s2",name:"Chicken Biryani",description:"Aromatic chicken biryani with basmati rice",category:"Chicken",difficulty:"medium",prepTime:30,cookTime:60,serves:6,ingredients:[],instructions:[],images:["https://images.unsplash.com/photo-1563379091339-03246963d96c?w=400&h=300&fit=crop"],isPublished:!0,moduleType:"store",storeId:"store_1",likes:67,dislikes:4,rating:4.6,reviewCount:23}];function _j(){const{user:e}=es(),[t,s]=A.useState(uUe),[a,n]=A.useState(hUe),[i,l]=A.useState("hub"),[o,c]=A.useState(!1),[d,h]=A.useState(!1),[m,p]=A.useState(!1),[x,v]=A.useState(!1),[y,b]=A.useState(null),[j,S]=A.useState([]),[w,k]=A.useState(""),[_,O]=A.useState({name:"",description:"",category:"",difficulty:"easy",prepTime:0,cookTime:0,serves:0,ingredients:[],instructions:[],images:[],isPublished:!0}),E=()=>e?.loginType==="hub"?["All","Fish"]:e?.loginType==="store"?["All","Fish","Chicken","Mutton","Egg","Quick & Easy","Traditional","Healthy"]:["All","Fish","Chicken","Mutton","Egg","Quick & Easy","Traditional","Healthy"],F=[...t,...a],I=og(F,e),U=I.filter(D=>D.moduleType==="hub"),M=I.filter(D=>D.moduleType==="store"),J=e?.loginType==="hub"?["hub"]:e?.loginType==="store"?["store"]:["hub","store"];A.useState(()=>{const D=e?.loginType==="hub"?"hub":e?.loginType==="store"?"store":"hub";l(D)});const K=i==="hub"?U:M,ae=D=>{b(D),h(!0)},V=D=>{b(D),O(D),p(!0)},re=D=>{b(D),v(!0)},X=()=>{y&&(i==="hub"?s(t.filter(D=>D.id!==y.id)):n(a.filter(D=>D.id!==y.id)),v(!1),b(null),alert(`Recipe "${y.name}" has been deleted successfully!`))},Z=()=>{S([]),k(""),O({name:"",description:"",category:"",difficulty:"easy",prepTime:0,cookTime:0,serves:0,ingredients:[],instructions:[],images:[],isPublished:!0})},ye=D=>{console.log("Like recipe:",D),i==="hub"?s(H=>H.map(q=>q.id===D?{...q,likes:(q.likes||0)+1}:q)):n(H=>H.map(q=>q.id===D?{...q,likes:(q.likes||0)+1}:q))},te=D=>{console.log("Dislike recipe:",D),i==="hub"?s(H=>H.map(q=>q.id===D?{...q,dislikes:(q.dislikes||0)+1}:q)):n(H=>H.map(q=>q.id===D?{...q,dislikes:(q.dislikes||0)+1}:q))};return r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-bold truncate",children:"Recipe Management"}),r.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1",children:"Manage recipes and cooking guides"})]}),r.jsxs(oe,{onClick:()=>c(!0),className:"w-full sm:w-auto flex-shrink-0",children:[r.jsx(dr,{className:"mr-2 h-5 w-5"}),r.jsx("span",{className:"hidden sm:inline",children:"Add Recipe"}),r.jsx("span",{className:"sm:hidden",children:"Add"})]})]}),J.length>1&&r.jsx(he,{className:"p-4",children:r.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-4 p-1 bg-gray-50 rounded-lg",children:[r.jsxs("button",{onClick:()=>l("hub"),className:`flex items-center gap-2 px-3 sm:px-4 py-2 rounded-md font-medium transition-all text-sm ${i==="hub"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[r.jsx(Wl,{className:"h-4 w-4"}),"Hub Recipes (",U.length,")"]}),r.jsxs("button",{onClick:()=>l("store"),className:`flex items-center gap-2 px-4 py-2 rounded-md font-medium transition-all ${i==="store"?"bg-white text-green-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[r.jsx(Fn,{className:"h-4 w-4"}),"Store Recipes (",M.length,")"]})]})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:K.map(D=>r.jsx(cUe,{recipe:D,onView:ae,onEdit:V,onDelete:re,onLike:ye,onDislike:te},D.id))}),K.length===0&&r.jsxs(he,{className:"p-12 text-center",children:[r.jsx("div",{className:"text-gray-400 mb-4",children:r.jsx(Tr,{className:"h-12 w-12 mx-auto"})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No recipes found"}),r.jsx("p",{className:"text-gray-500 mb-4",children:"Get started by creating your first recipe"}),r.jsxs(oe,{onClick:()=>c(!0),children:[r.jsx(dr,{className:"mr-2 h-5 w-5"}),"Add Recipe"]})]}),r.jsx(Sj,{isOpen:o,onClose:()=>{c(!1),Z()},title:"Add New Recipe",size:"xl",children:r.jsxs("form",{className:"p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Basic Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Recipe Name"}),r.jsx(de,{placeholder:"Fish Curry - Kerala Style",value:_.name||"",onChange:D=>O(H=>({...H,name:D.target.value})),required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),r.jsxs("select",{value:_.category||"",onChange:D=>O(H=>({...H,category:D.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"",children:"Select Category"}),E().filter(D=>D!=="All").map(D=>r.jsx("option",{value:D.toLowerCase(),children:D},D))]})]})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Describe your recipe...",value:_.description||"",onChange:D=>O(H=>({...H,description:D.target.value}))})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Recipe Details"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prep Time (min)"}),r.jsx(de,{type:"number",placeholder:"15",value:_.prepTime||"",onChange:D=>O(H=>({...H,prepTime:parseInt(D.target.value)||0}))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cook Time (min)"}),r.jsx(de,{type:"number",placeholder:"30",value:_.cookTime||"",onChange:D=>O(H=>({...H,cookTime:parseInt(D.target.value)||0}))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Serves"}),r.jsx(de,{type:"number",placeholder:"4",value:_.serves||"",onChange:D=>O(H=>({...H,serves:parseInt(D.target.value)||0}))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Difficulty"}),r.jsxs("select",{value:_.difficulty||"easy",onChange:D=>O(H=>({...H,difficulty:D.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"easy",children:"Easy"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"hard",children:"Hard"})]})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Recipe Media"}),r.jsx(NU,{mediaItems:j,onMediaChange:S,videoUrl:w,onVideoUrlChange:k,maxImages:6,maxVideos:2})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Ingredients"}),r.jsxs("div",{className:"space-y-2",children:[_.ingredients?.map((D,H)=>r.jsxs("div",{className:"flex gap-2",children:[r.jsx(de,{placeholder:"Ingredient name",value:D.name,onChange:q=>{const W=[..._.ingredients||[]];W[H]={...D,name:q.target.value},O(G=>({...G,ingredients:W}))},className:"flex-1"}),r.jsx(de,{placeholder:"Quantity",value:D.quantity,onChange:q=>{const W=[..._.ingredients||[]];W[H]={...D,quantity:q.target.value},O(G=>({...G,ingredients:W}))},className:"w-24"}),r.jsx("button",{type:"button",onClick:()=>{const q=[..._.ingredients||[]];q.splice(H,1),O(W=>({...W,ingredients:q}))},className:"px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg",children:r.jsx(Cs,{className:"h-4 w-4"})})]},H)),r.jsxs("button",{type:"button",onClick:()=>O(D=>({...D,ingredients:[...D.ingredients||[],{name:"",quantity:""}]})),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[r.jsx(dr,{className:"h-4 w-4"})," Add Ingredient"]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Instructions"}),r.jsxs("div",{className:"space-y-2",children:[_.instructions?.map((D,H)=>r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("span",{className:"w-8 h-10 flex items-center justify-center text-sm font-medium text-gray-500 bg-gray-100 rounded",children:[H+1,"."]}),r.jsx("textarea",{placeholder:"Step instruction",value:D,onChange:q=>{const W=[..._.instructions||[]];W[H]=q.target.value,O(G=>({...G,instructions:W}))},className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none",rows:2}),r.jsx("button",{type:"button",onClick:()=>{const q=[..._.instructions||[]];q.splice(H,1),O(W=>({...W,instructions:q}))},className:"px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg",children:r.jsx(Cs,{className:"h-4 w-4"})})]},H)),r.jsxs("button",{type:"button",onClick:()=>O(D=>({...D,instructions:[...D.instructions||[],""]})),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[r.jsx(dr,{className:"h-4 w-4"})," Add Step"]})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[r.jsx("button",{type:"button",onClick:()=>{c(!1),Z()},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),r.jsx("button",{type:"button",onClick:()=>{if(!_.name||!_.category){alert("Please fill in all required fields: recipe name and category");return}const D=j.filter(W=>W.type==="image").map(W=>W.url),H=j.filter(W=>W.type==="video-file"),q={id:`${i[0]}${Date.now()}`,name:_.name||"",description:_.description||"",category:_.category||"",difficulty:_.difficulty||"easy",prepTime:_.prepTime||0,cookTime:_.cookTime||0,serves:_.serves||0,ingredients:_.ingredients||[],instructions:_.instructions||[],images:D,videoUrl:w||void 0,additionalVideos:H.map(W=>({id:W.id,type:"file",url:W.url,name:W.name})),isPublished:!0,likes:0,dislikes:0,rating:0,reviewCount:0,reviews:[],tips:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};i==="hub"?s([...t,q]):n([...a,q]),c(!1),Z(),alert(`Recipe "${q.name}" has been added successfully!`)},className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Save Recipe"})]})]})}),r.jsx(Sj,{isOpen:d,onClose:()=>{h(!1),b(null)},title:"Recipe Details",size:"2xl",children:y&&r.jsx(dUe,{recipe:y,onEdit:V,onDelete:re,onLike:ye,onDislike:te})}),r.jsx(Sj,{isOpen:m,onClose:()=>{p(!1),b(null),Z()},title:"Edit Recipe",size:"xl",children:y&&r.jsxs("form",{className:"p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Basic Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Recipe Name"}),r.jsx(de,{placeholder:"Fish Curry - Kerala Style",value:_.name||y.name,onChange:D=>O(H=>({...H,name:D.target.value})),required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),r.jsx("select",{value:_.category||y.category,onChange:D=>O(H=>({...H,category:D.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:E().filter(D=>D!=="All").map(D=>r.jsx("option",{value:D.toLowerCase(),children:D},D))})]})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Describe your recipe...",value:_.description||y.description,onChange:D=>O(H=>({...H,description:D.target.value}))})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Recipe Details"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prep Time (min)"}),r.jsx(de,{type:"number",placeholder:"15",value:_.prepTime||y.prepTime,onChange:D=>O(H=>({...H,prepTime:parseInt(D.target.value)||0}))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cook Time (min)"}),r.jsx(de,{type:"number",placeholder:"30",value:_.cookTime||y.cookTime,onChange:D=>O(H=>({...H,cookTime:parseInt(D.target.value)||0}))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Serves"}),r.jsx(de,{type:"number",placeholder:"4",value:_.serves||y.serves,onChange:D=>O(H=>({...H,serves:parseInt(D.target.value)||0}))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Difficulty"}),r.jsxs("select",{value:_.difficulty||y.difficulty,onChange:D=>O(H=>({...H,difficulty:D.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"easy",children:"Easy"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"hard",children:"Hard"})]})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Recipe Media"}),r.jsx(NU,{mediaItems:j,onMediaChange:S,videoUrl:w||y.videoUrl||"",onVideoUrlChange:k,maxImages:6,maxVideos:2})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Ingredients"}),r.jsxs("div",{className:"space-y-2",children:[(_.ingredients||y.ingredients).map((D,H)=>r.jsxs("div",{className:"flex gap-2",children:[r.jsx(de,{placeholder:"Ingredient name",value:D.name,onChange:q=>{const W=[..._.ingredients||y.ingredients];W[H]={...D,name:q.target.value},O(G=>({...G,ingredients:W}))},className:"flex-1"}),r.jsx(de,{placeholder:"Quantity",value:D.quantity,onChange:q=>{const W=[..._.ingredients||y.ingredients];W[H]={...D,quantity:q.target.value},O(G=>({...G,ingredients:W}))},className:"w-24"}),r.jsx("button",{type:"button",onClick:()=>{const q=[..._.ingredients||y.ingredients];q.splice(H,1),O(W=>({...W,ingredients:q}))},className:"px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg",children:r.jsx(Cs,{className:"h-4 w-4"})})]},H)),r.jsxs("button",{type:"button",onClick:()=>O(D=>({...D,ingredients:[...D.ingredients||y.ingredients,{name:"",quantity:""}]})),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[r.jsx(dr,{className:"h-4 w-4"})," Add Ingredient"]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Instructions"}),r.jsxs("div",{className:"space-y-2",children:[(_.instructions||y.instructions).map((D,H)=>r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("span",{className:"w-8 h-10 flex items-center justify-center text-sm font-medium text-gray-500 bg-gray-100 rounded",children:[H+1,"."]}),r.jsx("textarea",{placeholder:"Step instruction",value:D,onChange:q=>{const W=[..._.instructions||y.instructions];W[H]=q.target.value,O(G=>({...G,instructions:W}))},className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none",rows:2}),r.jsx("button",{type:"button",onClick:()=>{const q=[..._.instructions||y.instructions];q.splice(H,1),O(W=>({...W,instructions:q}))},className:"px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg",children:r.jsx(Cs,{className:"h-4 w-4"})})]},H)),r.jsxs("button",{type:"button",onClick:()=>O(D=>({...D,instructions:[...D.instructions||y.instructions,""]})),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[r.jsx(dr,{className:"h-4 w-4"})," Add Step"]})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[r.jsx("button",{type:"button",onClick:()=>{p(!1),b(null),Z()},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),r.jsx("button",{type:"button",onClick:()=>{const D=j.filter(W=>W.type==="image").map(W=>W.url),H=j.filter(W=>W.type==="video-file"),q={...y,name:_.name||y.name,description:_.description||y.description,category:_.category||y.category,difficulty:_.difficulty||y.difficulty,prepTime:_.prepTime||y.prepTime,cookTime:_.cookTime||y.cookTime,serves:_.serves||y.serves,ingredients:_.ingredients||y.ingredients,instructions:_.instructions||y.instructions,images:D.length>0?D:y.images,videoUrl:w||y.videoUrl||void 0,additionalVideos:H.length>0?H.map(W=>({id:W.id,type:"file",url:W.url,name:W.name})):y.additionalVideos,isPublished:y.isPublished,updatedAt:new Date().toISOString()};i==="hub"?s(t.map(W=>W.id===y.id?q:W)):n(a.map(W=>W.id===y.id?q:W)),p(!1),b(null),Z(),alert(`Recipe "${q.name}" has been updated successfully!`)},className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Update Recipe"})]})]})}),r.jsx(Sj,{isOpen:x,onClose:()=>{v(!1),b(null)},title:"Delete Recipe",size:"md",children:y&&r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:r.jsx(Ar,{className:"h-6 w-6 text-red-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Delete Recipe"}),r.jsx("p",{className:"text-sm text-gray-500",children:"This action cannot be undone"})]})]}),r.jsxs("p",{className:"text-gray-700",children:["Are you sure you want to delete ",r.jsxs("strong",{children:['"',y.name,'"']}),"? This will permanently remove the recipe and all its data."]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:()=>{v(!1),b(null)},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),r.jsx("button",{onClick:X,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Delete Recipe"})]})]})})]})}const Md={name:"Bay Hawk Elite",tagline:"The Only Seafood Membership That Guarantees Your Price",price:1299,pricePerMonth:108,members:156,benefits:["No surge charges on raining or peak days","Free delivery from 349 (members) | Delivery charges applicable (non-members)","300 Welcome cash in your Wallet","10% extra bonus on premium pomfret, tiger prawns, lobster and more","Priority order processing & delivery","Surprises on special occasions"],rules:["1 Year subscription plan price at 1,299, per month 108","Wallet cash added has the expiry time of 60 days","My Profile page needs to show how much is saved & how time used through the membership","10% extra offer only on selected products","While checkout the non members should be notified like Elite members will save the delivery charge, 10% offer(on selected products) and surge charge(if applicable)","Members can see how much they have saved while placing the order"],marketingPoints:[{icon:sl,text:"Free delivery from 349. Non Members: Delivery charges apply on every order"},{icon:W0,text:"Members get priority processing & faster delivery during busy hours"},{icon:Gh,text:"300 welcome cash in your Wallet ready to use on your next order"},{icon:qs,text:"Members save 10% extra on premium cuts: pomfret, tiger prawns, lobster & more"},{icon:sl,text:"Members never pay surge pricing for the same seafood price in rain, weekends and peak hours"},{icon:Gh,text:"Members get little surprises on birthdays, anniversaries and festivals just our way of saying thank you"}]},wU=[{id:"1",name:"Free",price:0,billingCycle:"monthly",members:1523,features:["Basic delivery slots","Standard support"],isActive:!0}];function fUe(){const[e,t]=A.useState(""),[s,a]=A.useState(!1);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Subscription Management"}),r.jsx("p",{className:"text-gray-600",children:"Manage Elite membership plans and members"})]}),r.jsxs(oe,{children:[r.jsx(dr,{className:"mr-2 h-5 w-5"})," Create Plan"]})]}),r.jsxs("div",{className:"grid gap-6 sm:grid-cols-4",children:[r.jsxs(he,{className:"flex items-center gap-4",children:[r.jsx("div",{className:"rounded-lg bg-yellow-100 p-3",children:r.jsx(qs,{className:"h-6 w-6 text-yellow-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Elite Members"}),r.jsx("p",{className:"text-2xl font-bold",children:Md.members})]})]}),r.jsxs(he,{className:"flex items-center gap-4",children:[r.jsx("div",{className:"rounded-lg bg-purple-100 p-3",children:r.jsx(Qr,{className:"h-6 w-6 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Free Members"}),r.jsx("p",{className:"text-2xl font-bold",children:wU[0].members})]})]}),r.jsxs(he,{className:"flex items-center gap-4",children:[r.jsx("div",{className:"rounded-lg bg-green-100 p-3",children:r.jsx(ta,{className:"h-6 w-6 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Conversion Rate"}),r.jsx("p",{className:"text-2xl font-bold",children:"9.3%"})]})]}),r.jsxs(he,{className:"flex items-center gap-4",children:[r.jsx("div",{className:"rounded-lg bg-blue-100 p-3",children:r.jsx(qs,{className:"h-6 w-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Annual Revenue"}),r.jsxs("p",{className:"text-2xl font-bold",children:["",(Md.price*Md.members).toLocaleString()]})]})]})]}),r.jsxs(he,{className:"ring-2 ring-yellow-500 bg-gradient-to-br from-yellow-50 to-white",children:[r.jsxs("div",{className:"flex items-start justify-between mb-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(qs,{className:"h-8 w-8 text-yellow-600"}),r.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:Md.name})]}),r.jsxs("p",{className:"text-lg text-gray-700 italic",children:['"',Md.tagline,'"']})]}),r.jsxs(Xe,{variant:"bg-yellow-100 text-yellow-800 text-lg px-4 py-2",children:[r.jsx(qs,{className:"h-5 w-5 inline mr-1"}),"Elite"]})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex items-baseline gap-2 mb-2",children:[r.jsxs("span",{className:"text-5xl font-bold text-gray-900",children:["",Md.price]}),r.jsx("span",{className:"text-gray-600",children:"/year"})]}),r.jsxs("p",{className:"text-lg text-gray-600",children:["Only ",Md.pricePerMonth,"/month"]}),r.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:[Md.members," active Elite members"]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Benefits:"}),Md.benefits.map((n,i)=>r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(ec,{className:"h-5 w-5 text-green-600 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-gray-700",children:n})]},i))]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Marketing Highlights:"}),r.jsx("div",{className:"space-y-4",children:Md.marketingPoints.map((n,i)=>{const l=n.icon;return r.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white rounded-lg border border-gray-200",children:[r.jsx(l,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-sm text-gray-700",children:n.text})]},i)})})]})]}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsxs("button",{onClick:()=>a(!s),className:"text-blue-600 hover:text-blue-700 font-medium flex items-center gap-2",children:[s?"":""," Rules & Conditions"]}),s&&r.jsx("div",{className:"mt-4 space-y-2 bg-blue-50 p-4 rounded-lg",children:Md.rules.map((n,i)=>r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsxs("span",{className:"text-blue-600 font-bold",children:[i+1,"."]}),r.jsx("span",{className:"text-sm text-gray-700",children:n})]},i))})]}),r.jsxs("div",{className:"flex gap-3 mt-6",children:[r.jsxs(oe,{className:"flex-1",children:[r.jsx(ss,{className:"h-5 w-5 mr-2"})," Edit Plan"]}),r.jsx(oe,{variant:"secondary",children:"View Analytics"})]})]}),r.jsx("div",{className:"grid gap-6 lg:grid-cols-2",children:wU.map(n=>r.jsxs(he,{children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsx("h3",{className:"text-xl font-bold",children:n.name})}),r.jsxs("div",{className:"mb-4",children:[r.jsx("span",{className:"text-3xl font-bold",children:bt(n.price)}),r.jsxs("span",{className:"text-gray-500",children:["/",n.billingCycle]})]}),r.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:[n.members," active members"]}),r.jsx("ul",{className:"space-y-2 mb-6",children:n.features.map((i,l)=>r.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[r.jsx(ec,{className:"h-4 w-4 text-green-500"})," ",i]},l))}),r.jsx("div",{className:"flex gap-2",children:r.jsxs(oe,{variant:"secondary",size:"sm",className:"flex-1",children:[r.jsx(ss,{className:"h-5 w-5 mr-1"})," Edit"]})})]},n.id))}),r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Recent Members"}),r.jsx(Ut,{value:e,onChange:n=>t(n.target.value),options:[{value:"",label:"All Plans"},{value:"free",label:"Free"},{value:"elite",label:"Elite"}]})]}),r.jsxs(Rg,{children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx(Xr,{children:"Member"}),r.jsx(Xr,{children:"Plan"}),r.jsx(Xr,{children:"Start Date"}),r.jsx(Xr,{children:"Renewal Date"}),r.jsx(Xr,{children:"Savings"}),r.jsx(Xr,{children:"Status"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:[{name:"Rajesh Kumar",email:"rajesh@email.com",plan:"Elite",start:"2024-01-01",renewal:"2025-01-01",savings:2450,status:"active"},{name:"Priya Sharma",email:"priya@email.com",plan:"Elite",start:"2023-12-15",renewal:"2024-12-15",savings:3200,status:"active"},{name:"Arun Patel",email:"arun@email.com",plan:"Free",start:"2024-01-05",renewal:"-",savings:0,status:"active"}].map((n,i)=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx(Zr,{children:r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:n.name}),r.jsx("p",{className:"text-xs text-gray-500",children:n.email})]})}),r.jsx(Zr,{children:r.jsxs(Xe,{variant:n.plan==="Elite"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800",children:[n.plan==="Elite"&&r.jsx(qs,{className:"h-3 w-3 inline mr-1"}),n.plan]})}),r.jsx(Zr,{children:n.start}),r.jsx(Zr,{children:n.renewal}),r.jsx(Zr,{children:n.savings>0?`${n.savings}`:"-"}),r.jsx(Zr,{children:r.jsx(Xe,{variant:id(n.status),children:n.status})})]},i))})]})]})]})}const SU=[{id:"TXN001",customer:"Rajesh Kumar",type:"credit",description:"Referral Reward",amount:100,balance:350,status:"completed",date:"2024-01-07T10:30:00"},{id:"TXN002",customer:"Priya Sharma",type:"debit",description:"Order #ORD-2024-001",amount:150,balance:50,status:"completed",date:"2024-01-07T09:15:00"},{id:"TXN003",customer:"Arun Patel",type:"credit",description:"Order Refund",amount:250,balance:250,status:"completed",date:"2024-01-06T14:20:00"},{id:"TXN004",customer:"Lakshmi Devi",type:"credit",description:"Scratch Card Reward",amount:25,balance:525,status:"completed",date:"2024-01-06T11:45:00"},{id:"TXN005",customer:"Suresh Menon",type:"debit",description:"Order #ORD-2024-005",amount:200,balance:0,status:"completed",date:"2024-01-05T16:00:00"}];function mUe(){const[e,t]=A.useState(!1);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Wallet Management"}),r.jsx("p",{className:"text-gray-600",children:"Manage customer wallets and transactions"})]}),r.jsxs(oe,{onClick:()=>t(!0),children:[r.jsx(dr,{className:"mr-2 h-5 w-5"})," Add Credit"]})]}),r.jsxs("div",{className:"grid gap-6 sm:grid-cols-4",children:[r.jsxs(he,{className:"flex items-center gap-4",children:[r.jsx("div",{className:"rounded-lg bg-blue-100 p-3",children:r.jsx(xx,{className:"h-6 w-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Balance"}),r.jsx("p",{className:"text-2xl font-bold",children:"1,24,500"})]})]}),r.jsxs(he,{className:"flex items-center gap-4",children:[r.jsx("div",{className:"rounded-lg bg-green-100 p-3",children:r.jsx(Yp,{className:"h-6 w-6 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Credits (Today)"}),r.jsx("p",{className:"text-2xl font-bold",children:"8,450"})]})]}),r.jsxs(he,{className:"flex items-center gap-4",children:[r.jsx("div",{className:"rounded-lg bg-red-100 p-3",children:r.jsx(nD,{className:"h-6 w-6 text-red-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Debits (Today)"}),r.jsx("p",{className:"text-2xl font-bold",children:"12,300"})]})]}),r.jsxs(he,{className:"flex items-center gap-4",children:[r.jsx("div",{className:"rounded-lg bg-orange-100 p-3",children:r.jsx(Ld,{className:"h-6 w-6 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Pending Refunds"}),r.jsx("p",{className:"text-2xl font-bold",children:"2,150"})]})]})]}),r.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[r.jsxs(he,{children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Wallet Settings"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Balance Expiry"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(de,{type:"number",defaultValue:"365",className:"w-24"}),r.jsx("span",{className:"text-sm text-gray-500",children:"days"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Balance Limit"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-gray-500",children:""}),r.jsx(de,{type:"number",defaultValue:"5000",className:"w-24"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Usage Amount"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-gray-500",children:""}),r.jsx(de,{type:"number",defaultValue:"1",className:"w-24"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Usage per Order"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(de,{type:"number",defaultValue:"50",className:"w-24"}),r.jsx("span",{className:"text-sm text-gray-500",children:"%"})]})]}),r.jsxs("div",{className:"flex items-center justify-between pt-2",children:[r.jsx("span",{className:"text-sm",children:"Enable Wallet Payments"}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",defaultChecked:!0,className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 rounded-full peer peer-checked:bg-primary-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]})]}),r.jsx(oe,{className:"w-full",children:"Save Settings"})]})]}),r.jsxs(he,{className:"lg:col-span-2",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Recent Transactions"}),r.jsx("div",{className:"flex gap-2",children:r.jsx(Ut,{options:[{value:"",label:"All Types"},{value:"credit",label:"Credits"},{value:"debit",label:"Debits"}]})})]}),r.jsx("div",{className:"space-y-3",children:SU.map(s=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`p-2 rounded-full ${s.type==="credit"?"bg-green-100":"bg-red-100"}`,children:s.type==="credit"?r.jsx(Yp,{className:"h-4 w-4 text-green-600"}):r.jsx(nD,{className:"h-4 w-4 text-red-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:s.customer}),r.jsx("p",{className:"text-sm text-gray-500",children:s.description})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:`font-medium ${s.type==="credit"?"text-green-600":"text-red-600"}`,children:[s.type==="credit"?"+":"-",bt(s.amount)]}),r.jsx("p",{className:"text-xs text-gray-500",children:rf(s.date)})]})]},s.id))})]})]}),r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"All Transactions"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Bi,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),r.jsx(de,{placeholder:"Search customer...",className:"pl-10"})]}),r.jsx(oe,{variant:"secondary",children:"Export"})]})]}),r.jsxs(Rg,{children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx(Xr,{children:"Transaction ID"}),r.jsx(Xr,{children:"Customer"}),r.jsx(Xr,{children:"Type"}),r.jsx(Xr,{children:"Description"}),r.jsx(Xr,{children:"Amount"}),r.jsx(Xr,{children:"Balance After"}),r.jsx(Xr,{children:"Status"}),r.jsx(Xr,{children:"Date"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:SU.map(s=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx(Zr,{children:r.jsx("span",{className:"font-mono text-sm",children:s.id})}),r.jsx(Zr,{children:r.jsx("span",{className:"font-medium",children:s.customer})}),r.jsx(Zr,{children:r.jsx(Xe,{variant:s.type==="credit"?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:s.type})}),r.jsx(Zr,{children:s.description}),r.jsxs(Zr,{className:s.type==="credit"?"text-green-600":"text-red-600",children:[s.type==="credit"?"+":"-",bt(s.amount)]}),r.jsx(Zr,{children:bt(s.balance)}),r.jsx(Zr,{children:r.jsx(Xe,{variant:id(s.status),children:s.status})}),r.jsx(Zr,{children:r.jsx("span",{className:"text-sm",children:rf(s.date)})})]},s.id))})]})]}),r.jsx(ir,{isOpen:e,onClose:()=>t(!1),title:"Add Wallet Credit",children:r.jsxs("form",{className:"space-y-4",children:[r.jsx(de,{label:"Customer Phone/Email",placeholder:"Search customer..."}),r.jsx(de,{label:"Amount ()",type:"number",placeholder:"100"}),r.jsx(Ut,{label:"Reason",options:[{value:"refund",label:"Order Refund"},{value:"compensation",label:"Compensation"},{value:"promotion",label:"Promotional Credit"},{value:"other",label:"Other"}]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),r.jsx("textarea",{className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-primary-500 focus:outline-none",rows:2,placeholder:"Add notes..."})]}),r.jsxs("div",{className:"flex gap-2 pt-4",children:[r.jsx(oe,{type:"button",variant:"secondary",onClick:()=>t(!1),className:"flex-1",children:"Cancel"}),r.jsx(oe,{type:"submit",className:"flex-1",children:"Add Credit"})]})]})})]})}function _U(){const[e,t]=A.useState([{id:"1",productName:"Anchovy | ",variant:"Medium",count:{min:20,max:30},grossWeight:.5,basePrice:{min:150,max:250},purchasePriceEntry:"",status:"Purchased",remarks:""},{id:"2",productName:"Black Pomfret |  ",variant:"Medium",count:{min:2,max:3},grossWeight:2,basePrice:{min:500,max:650},purchasePriceEntry:"",status:"Cancelled",remarks:""}]),[s,a]=A.useState([{id:"1",productName:"Anchovy | ",variant:"Medium",varientImage:"",cuttingType:"Headed and Gutted",grossWeight:.5,status:"Completed",remarks:""},{id:"2",productName:"Anchovy | ",variant:"Medium",varientImage:"",cuttingType:"Uncleaned",grossWeight:.5,status:"Unprocessed",remarks:""},{id:"3",productName:"Black Pomfret |  ",variant:"Medium",varientImage:"",cuttingType:"Steaks",grossWeight:.5,status:"Processing",remarks:""},{id:"4",productName:"Red Snapper | ",variant:"Medium",varientImage:"",cuttingType:"Gilled and Gutted",grossWeight:1,status:"",remarks:""}]),[n,i]=A.useState({dateRange:"",status:"",product:""}),[l,o]=A.useState({dateRange:"",status:"",cuttingType:"",product:""}),c=(h,m)=>{t(e.map(p=>p.id===h?{...p,status:m}:p))},d=(h,m)=>{a(s.map(p=>p.id===h?{...p,status:m}:p))};return r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Procurement"}),r.jsx("p",{className:"text-gray-600",children:"Below snip is the reference of information required to purchase. After the purchase done status could be manually changed by the respective person."}),r.jsxs("ul",{className:"list-disc ml-6 mt-2 text-sm text-gray-600",children:[r.jsx("li",{children:'Default status - "Processing"'}),r.jsx("li",{children:"Filters - Date range, Status & Product"})]})]}),r.jsxs("div",{className:"mb-4 flex gap-4 items-center",children:[r.jsx(nc,{className:"w-5 h-5 text-gray-500"}),r.jsx("input",{type:"text",placeholder:"Date range",className:"border rounded px-3 py-2",value:n.dateRange,onChange:h=>i({...n,dateRange:h.target.value})}),r.jsxs("select",{className:"border rounded px-3 py-2",value:n.status,onChange:h=>i({...n,status:h.target.value}),children:[r.jsx("option",{value:"",children:"All Status"}),r.jsx("option",{value:"Processing",children:"Processing"}),r.jsx("option",{value:"Purchased",children:"Purchased"}),r.jsx("option",{value:"Cancelled",children:"Cancelled"}),r.jsx("option",{value:"Alternate",children:"Alternate"})]}),r.jsx("input",{type:"text",placeholder:"Product",className:"border rounded px-3 py-2",value:n.product,onChange:h=>i({...n,product:h.target.value})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[r.jsx("div",{className:"bg-blue-500 text-white font-semibold",children:r.jsxs("div",{className:"grid grid-cols-9 gap-4 p-4",children:[r.jsx("div",{children:"Product Name"}),r.jsx("div",{children:"Varient"}),r.jsxs("div",{children:["Count",r.jsx("br",{}),r.jsx("span",{className:"text-xs",children:"Min. Max."})]}),r.jsx("div",{children:"Gross weight"}),r.jsxs("div",{children:["Base Price",r.jsx("br",{}),r.jsx("span",{className:"text-xs",children:"Min. Max."})]}),r.jsx("div",{children:"Purchase Price Entry"}),r.jsx("div",{children:"Status"}),r.jsx("div",{children:"Remarks"})]})}),e.map(h=>r.jsxs("div",{className:`grid grid-cols-9 gap-4 p-4 border-b ${h.status==="Cancelled"?"bg-yellow-100":""}`,children:[r.jsx("div",{children:h.productName}),r.jsx("div",{children:h.variant}),r.jsxs("div",{children:[h.count.min," ",h.count.max]}),r.jsx("div",{children:h.grossWeight}),r.jsxs("div",{children:[h.basePrice.min," ",h.basePrice.max]}),r.jsx("div",{children:r.jsx("input",{type:"text",className:"border rounded px-2 py-1 w-full",value:h.purchasePriceEntry,onChange:m=>t(e.map(p=>p.id===h.id?{...p,purchasePriceEntry:m.target.value}:p))})}),r.jsx("div",{children:r.jsxs("select",{className:`border rounded px-2 py-1 w-full ${h.status==="Purchased"?"bg-green-500 text-white":h.status==="Cancelled"?"bg-red-500 text-white":h.status==="Alternate"?"bg-orange-500 text-white":"bg-yellow-500 text-white"}`,value:h.status,onChange:m=>c(h.id,m.target.value),children:[r.jsx("option",{value:"Processing",children:"Processing"}),r.jsx("option",{value:"Purchased",children:"Purchased"}),r.jsx("option",{value:"Cancelled",children:"Cancelled"}),r.jsx("option",{value:"Alternate",children:"Alternate"})]})}),r.jsx("div",{children:r.jsx("input",{type:"text",className:"border rounded px-2 py-1 w-full",value:h.remarks,onChange:m=>t(e.map(p=>p.id===h.id?{...p,remarks:m.target.value}:p))})})]},h.id))]}),r.jsxs("div",{className:"mt-12 mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Cutting & Cleaning"}),r.jsx("p",{className:"text-gray-600",children:"Below snip is the reference of information required for Cutting & Cleaning. After the Cutting & Cleaning done status could be manually changed by the respective person."}),r.jsxs("ul",{className:"list-disc ml-6 mt-2 text-sm text-gray-600",children:[r.jsx("li",{children:'Default status - "Processing"'}),r.jsx("li",{children:"Filters - Date range, Status, Cutting type & Product"})]})]}),r.jsxs("div",{className:"mb-4 flex gap-4 items-center",children:[r.jsx(nc,{className:"w-5 h-5 text-gray-500"}),r.jsx("input",{type:"text",placeholder:"Date range",className:"border rounded px-3 py-2",value:l.dateRange,onChange:h=>o({...l,dateRange:h.target.value})}),r.jsxs("select",{className:"border rounded px-3 py-2",value:l.status,onChange:h=>o({...l,status:h.target.value}),children:[r.jsx("option",{value:"",children:"All Status"}),r.jsx("option",{value:"Processing",children:"Processing"}),r.jsx("option",{value:"Completed",children:"Completed"}),r.jsx("option",{value:"Unprocessed",children:"Unprocessed"})]}),r.jsx("input",{type:"text",placeholder:"Cutting type",className:"border rounded px-3 py-2",value:l.cuttingType,onChange:h=>o({...l,cuttingType:h.target.value})}),r.jsx("input",{type:"text",placeholder:"Product",className:"border rounded px-3 py-2",value:l.product,onChange:h=>o({...l,product:h.target.value})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[r.jsx("div",{className:"bg-blue-500 text-white font-semibold",children:r.jsxs("div",{className:"grid grid-cols-7 gap-4 p-4",children:[r.jsx("div",{children:"Product Name"}),r.jsx("div",{children:"Varient"}),r.jsx("div",{children:"Varient Images"}),r.jsx("div",{children:"Cutting Type"}),r.jsx("div",{children:"Gross Weight"}),r.jsx("div",{children:"Status"}),r.jsx("div",{children:"Remarks"})]})}),s.map(h=>r.jsxs("div",{className:`grid grid-cols-7 gap-4 p-4 border-b ${h.status==="Unprocessed"?"bg-yellow-100":""}`,children:[r.jsx("div",{children:h.productName}),r.jsx("div",{children:h.variant}),r.jsx("div",{className:"flex items-center justify-center",children:r.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded flex items-center justify-center",children:r.jsx("span",{className:"text-xs text-gray-500",children:"Image"})})}),r.jsx("div",{children:h.cuttingType}),r.jsx("div",{children:h.grossWeight}),r.jsx("div",{children:r.jsxs("select",{className:`border rounded px-2 py-1 w-full ${h.status==="Completed"?"bg-green-500 text-white":h.status==="Unprocessed"?"bg-red-500 text-white":h.status==="Processing"?"bg-yellow-500 text-white":"bg-gray-200"}`,value:h.status,onChange:m=>d(h.id,m.target.value),children:[r.jsx("option",{value:"",children:"Select Status"}),r.jsx("option",{value:"Processing",children:"Processing"}),r.jsx("option",{value:"Completed",children:"Completed"}),r.jsx("option",{value:"Unprocessed",children:"Unprocessed"})]})}),r.jsx("div",{children:r.jsx("input",{type:"text",className:"border rounded px-2 py-1 w-full",value:h.remarks,onChange:m=>a(s.map(p=>p.id===h.id?{...p,remarks:m.target.value}:p))})})]},h.id))]})]})}function kU(){const[e,t]=A.useState([{id:"1",orderId:"ORD-001",customerName:"John Doe",productName:"Anchovy | ",variant:"Medium",quantity:2,cuttingType:"Headed and Gutted",status:"Processing",remarks:""},{id:"2",orderId:"ORD-002",customerName:"Jane Smith",productName:"Black Pomfret |  ",variant:"Large",quantity:1,cuttingType:"Steaks",status:"Completed",remarks:""}]),[s,a]=A.useState({dateRange:"",status:"",customer:"",product:""}),n=(i,l)=>{t(e.map(o=>o.id===i?{...o,status:l}:o))};return r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Packing"}),r.jsx("p",{className:"text-gray-600",children:"Below snip is the reference of information required for Packing. After the Packing done status could be manually changed by the respective person."}),r.jsxs("ul",{className:"list-disc ml-6 mt-2 text-sm text-gray-600",children:[r.jsx("li",{children:'Default status - "Processing"'}),r.jsx("li",{children:"Filters - Date range, Status, Customer & Product"})]})]}),r.jsxs("div",{className:"mb-4 flex gap-4 items-center",children:[r.jsx(nc,{className:"w-5 h-5 text-gray-500"}),r.jsx("input",{type:"text",placeholder:"Date range",className:"border rounded px-3 py-2",value:s.dateRange,onChange:i=>a({...s,dateRange:i.target.value})}),r.jsxs("select",{className:"border rounded px-3 py-2",value:s.status,onChange:i=>a({...s,status:i.target.value}),children:[r.jsx("option",{value:"",children:"All Status"}),r.jsx("option",{value:"Processing",children:"Processing"}),r.jsx("option",{value:"Completed",children:"Completed"}),r.jsx("option",{value:"Pending",children:"Pending"})]}),r.jsx("input",{type:"text",placeholder:"Customer",className:"border rounded px-3 py-2",value:s.customer,onChange:i=>a({...s,customer:i.target.value})}),r.jsx("input",{type:"text",placeholder:"Product",className:"border rounded px-3 py-2",value:s.product,onChange:i=>a({...s,product:i.target.value})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[r.jsx("div",{className:"bg-blue-500 text-white font-semibold",children:r.jsxs("div",{className:"grid grid-cols-8 gap-4 p-4",children:[r.jsx("div",{children:"Order ID"}),r.jsx("div",{children:"Customer Name"}),r.jsx("div",{children:"Product Name"}),r.jsx("div",{children:"Variant"}),r.jsx("div",{children:"Quantity"}),r.jsx("div",{children:"Cutting Type"}),r.jsx("div",{children:"Status"}),r.jsx("div",{children:"Remarks"})]})}),e.map(i=>r.jsxs("div",{className:"grid grid-cols-8 gap-4 p-4 border-b",children:[r.jsx("div",{children:i.orderId}),r.jsx("div",{children:i.customerName}),r.jsx("div",{children:i.productName}),r.jsx("div",{children:i.variant}),r.jsx("div",{children:i.quantity}),r.jsx("div",{children:i.cuttingType}),r.jsx("div",{children:r.jsxs("select",{className:`border rounded px-2 py-1 w-full ${i.status==="Completed"?"bg-green-500 text-white":i.status==="Pending"?"bg-red-500 text-white":"bg-yellow-500 text-white"}`,value:i.status,onChange:l=>n(i.id,l.target.value),children:[r.jsx("option",{value:"Processing",children:"Processing"}),r.jsx("option",{value:"Completed",children:"Completed"}),r.jsx("option",{value:"Pending",children:"Pending"})]})}),r.jsx("div",{children:r.jsx("input",{type:"text",className:"border rounded px-2 py-1 w-full",value:i.remarks,onChange:l=>t(e.map(o=>o.id===i.id?{...o,remarks:l.target.value}:o))})})]},i.id))]})]})}const ly=[{id:"general",title:"General Settings",description:"Business information, logo, and basic configuration",icon:kh,path:"/settings",hubPath:"/hub/settings",storePath:"/store/settings",status:"complete",superAdminOnly:!1},{id:"delivery-slots",title:"Delivery Slots",description:"Configure delivery time slots and capacity",icon:Tr,path:"/settings/delivery-slots",hubPath:"/hub/settings/delivery-slots",storePath:"/store/settings/delivery-slots",status:"complete",superAdminOnly:!1},{id:"shipping-charges",title:"Shipping Charges",description:"Set up delivery charges and shipping zones",icon:Mr,path:"/settings/shipping-charges",hubPath:"/hub/settings/shipping-charges",storePath:"/store/settings/shipping-charges",status:"complete",superAdminOnly:!1},{id:"integrations",title:"Integrations",description:"Connect third-party services and APIs",icon:gi,path:"/settings/integrations",hubPath:"/hub/settings/integrations",storePath:"/store/settings/integrations",status:"warning",superAdminOnly:!1},{id:"weather",title:"Weather Customization",description:"Weather-based delivery controls and alerts",icon:tz,path:"/settings/weather",hubPath:"/hub/settings/weather",storePath:"/store/settings/weather",status:"complete",superAdminOnly:!1},{id:"notifications",title:"Notification Customization",description:"Configure notification templates and settings",icon:Ph,path:"/settings/notification",hubPath:"/hub/settings/notification",storePath:"/store/settings/notification",status:"complete",superAdminOnly:!1},{id:"legal",title:"Legal Documents",description:"Manage privacy policy, terms, and compliance",icon:sl,path:"/settings/legal",hubPath:"/hub/settings/legal",storePath:"/store/settings/legal",status:"incomplete",superAdminOnly:!1},{id:"advertisement",title:"Advertisement Management",description:"Manage video ads for customer app (9:16 format)",icon:Ih,path:"/settings/advertisement",hubPath:"/hub/settings/advertisement",storePath:"/store/settings/advertisement",status:"complete",superAdminOnly:!1},{id:"offer-templates",title:"Offer Templates",description:"Manage carousel and promotional offer templates",icon:jl,path:"/settings/offer-templates",hubPath:"/hub/settings/offer-templates",storePath:"/store/settings/offer-templates",status:"complete",superAdminOnly:!0}];function kj(){const e=vb(),t=Ao(),a=t.pathname.startsWith("/hub/")?"hub":t.pathname.startsWith("/store/")?"store":"super_admin",n=ly.filter(c=>!(c.superAdminOnly&&a!=="super_admin")),i=c=>{let d=c.path;a==="hub"?d=c.hubPath:a==="store"&&(d=c.storePath),e(d)},l=c=>{switch(c){case"complete":return Dr;case"warning":return Ts;case"incomplete":return Ts;default:return Dr}},o=c=>{switch(c){case"complete":return"text-green-600";case"warning":return"text-yellow-600";case"incomplete":return"text-red-600";default:return"text-gray-600"}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Settings"}),r.jsx("p",{className:"text-gray-600",children:"Configure your admin panel settings and preferences"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ic,{className:"h-5 w-5 text-gray-400"}),r.jsxs("span",{className:"text-sm text-gray-500",children:[n.filter(c=>c.status==="complete").length," of ",n.length," configured"]})]})]}),r.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:n.map(c=>{const d=l(c.status),h=o(c.status);return r.jsx(he,{className:"cursor-pointer transition-all hover:shadow-md hover:border-blue-300 group",onClick:()=>i(c),children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"rounded-lg bg-blue-50 p-3 group-hover:bg-blue-100 transition-colors",children:r.jsx(c.icon,{className:"h-6 w-6 text-blue-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:c.title}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(d,{className:`h-4 w-4 ${h}`}),r.jsx(mx,{className:"h-4 w-4 text-gray-400 group-hover:text-blue-600 transition-colors"})]})]}),r.jsx("p",{className:"text-sm text-gray-500",children:c.description})]})]})},c.id)})}),r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"rounded-lg bg-green-50 p-2",children:r.jsx(ic,{className:"h-5 w-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Quick Actions"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Common settings tasks"})]})]}),r.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[r.jsxs(oe,{variant:"secondary",className:"h-auto p-4 flex-col items-start",onClick:()=>i(ly[0]),children:[r.jsx(kh,{className:"h-5 w-5 mb-2"}),r.jsx("span",{className:"font-medium",children:"Update Business Info"}),r.jsx("span",{className:"text-xs text-gray-500",children:"Logo, contact details"})]}),r.jsxs(oe,{variant:"secondary",className:"h-auto p-4 flex-col items-start",onClick:()=>i(ly[1]),children:[r.jsx(Tr,{className:"h-5 w-5 mb-2"}),r.jsx("span",{className:"font-medium",children:"Manage Delivery Slots"}),r.jsx("span",{className:"text-xs text-gray-500",children:"Time slots, capacity"})]}),r.jsxs(oe,{variant:"secondary",className:"h-auto p-4 flex-col items-start",onClick:()=>i(ly[3]),children:[r.jsx(gi,{className:"h-5 w-5 mb-2"}),r.jsx("span",{className:"font-medium",children:"Setup Integrations"}),r.jsx("span",{className:"text-xs text-gray-500",children:"Payment, SMS, Maps"})]}),r.jsxs(oe,{variant:"secondary",className:"h-auto p-4 flex-col items-start",onClick:()=>i(ly[6]),children:[r.jsx(sl,{className:"h-5 w-5 mb-2"}),r.jsx("span",{className:"font-medium",children:"Legal Documents"}),r.jsx("span",{className:"text-xs text-gray-500",children:"Privacy, terms"})]})]})]}),r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"rounded-lg bg-purple-50 p-2",children:r.jsx(Dr,{className:"h-5 w-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Configuration Status"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Overview of your settings completion"})]})]}),r.jsx("div",{className:"space-y-3",children:n.map(c=>{const d=l(c.status),h=o(c.status);return r.jsxs("div",{className:"flex items-center justify-between py-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(c.icon,{className:"h-4 w-4 text-gray-600"}),r.jsx("span",{className:"text-sm font-medium",children:c.title})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(d,{className:`h-4 w-4 ${h}`}),r.jsx("span",{className:`text-xs font-medium ${h}`,children:c.status==="complete"?"Configured":c.status==="warning"?"Needs Attention":"Not Configured"})]})]},c.id)})}),r.jsxs("div",{className:"mt-4 pt-4 border-t",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Overall Progress"}),r.jsxs("span",{className:"font-medium",children:[Math.round(n.filter(c=>c.status==="complete").length/n.length*100),"% Complete"]})]}),r.jsx("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${n.filter(c=>c.status==="complete").length/n.length*100}%`}})})]})]})]})}const Rk=[{id:"LOG001",userId:"U001",userName:"Rajesh Kumar (Hub Admin)",action:"Created Order",module:"Orders",details:"Manual order HUB001 created for customer John Doe with total amount 2,450",ipAddress:"192.168.1.1",timestamp:"2026-01-13T14:30:00Z",moduleType:"hub",hubId:"hub_1"},{id:"LOG002",userId:"U002",userName:"Priya Singh (Hub Manager)",action:"Updated Product",module:"Products",details:"Updated stock for Fresh Pomfret - 500g variant from 25kg to 50kg",ipAddress:"192.168.1.2",timestamp:"2026-01-13T13:15:00Z",moduleType:"hub",hubId:"hub_1"},{id:"LOG003",userId:"U003",userName:"Arun Patel (Store Admin)",action:"Login",module:"Authentication",details:"User successfully logged into the system from Chrome browser",ipAddress:"192.168.1.3",timestamp:"2026-01-13T12:45:00Z",moduleType:"store",storeId:"store_1"},{id:"LOG004",userId:"U001",userName:"Rajesh Kumar (Hub Admin)",action:"Deleted Product",module:"Products",details:'Permanently deleted product "Expired Tuna - 1kg" from inventory due to quality issues',ipAddress:"192.168.1.1",timestamp:"2026-01-13T11:20:00Z",moduleType:"hub",hubId:"hub_1"},{id:"LOG005",userId:"U004",userName:"Murugan K (Delivery Agent)",action:"Updated Order Status",module:"Orders",details:'Changed order ORD-2024-001 status from "Out for Delivery" to "Delivered"',ipAddress:"192.168.1.4",timestamp:"2026-01-13T10:30:00Z",moduleType:"hub",hubId:"hub_1"},{id:"LOG006",userId:"U002",userName:"Priya Singh (Hub Manager)",action:"Generated Report",module:"Reports",details:"Generated and downloaded Sales Report for date range 2026-01-01 to 2026-01-10",ipAddress:"192.168.1.2",timestamp:"2026-01-13T09:15:00Z",moduleType:"hub",hubId:"hub_1"},{id:"LOG007",userId:"U005",userName:"Lakshmi Devi (Team Lead)",action:"Created User",module:"Team Management",details:'Added new team member "Senthil Kumar" with role "Packing Employee"',ipAddress:"192.168.1.5",timestamp:"2026-01-13T08:45:00Z",moduleType:"store",storeId:"store_1"},{id:"LOG008",userId:"U006",userName:"Karthik Raja (Procurement)",action:"Updated Stock",module:"Inventory",details:"Received new stock: King Fish - 2kg, quantity: 100 pieces from supplier ABC Fisheries",ipAddress:"192.168.1.6",timestamp:"2026-01-13T08:00:00Z",moduleType:"hub",hubId:"hub_1"},{id:"LOG009",userId:"U007",userName:"Divya R (Packing)",action:"Order Packed",module:"Orders",details:"Successfully packed order ORD-2024-002 with 3 items for customer Priya Sharma",ipAddress:"192.168.1.7",timestamp:"2026-01-12T18:30:00Z",moduleType:"store",storeId:"store_2"},{id:"LOG010",userId:"U003",userName:"Arun Patel (Store Admin)",action:"Updated Settings",module:"Settings",details:"Modified delivery time slots: Added new slot 7:00 PM - 9:00 PM for weekend deliveries",ipAddress:"192.168.1.3",timestamp:"2026-01-12T17:15:00Z",moduleType:"store",storeId:"store_1"},{id:"LOG011",userId:"U008",userName:"Vijay M (Delivery Agent)",action:"Failed Login",module:"Authentication",details:"Failed login attempt - incorrect password (3rd attempt)",ipAddress:"192.168.1.8",timestamp:"2026-01-12T16:45:00Z",moduleType:"store",storeId:"store_1"},{id:"LOG012",userId:"U001",userName:"Rajesh Kumar (Hub Admin)",action:"Bulk Update",module:"Products",details:"Bulk price update applied to 25 fish products - increased prices by 5% due to market changes",ipAddress:"192.168.1.1",timestamp:"2026-01-12T15:20:00Z",moduleType:"hub",hubId:"hub_1"},{id:"LOG013",userId:"U009",userName:"Anitha S (Store Manager)",action:"Order Cancelled",module:"Orders",details:"Cancelled order ORD-2024-003 due to customer request - refund initiated",ipAddress:"192.168.1.9",timestamp:"2026-01-12T14:10:00Z",moduleType:"store",storeId:"store_1"},{id:"LOG014",userId:"U010",userName:"Muthu Kumar (Procurement)",action:"Supplier Added",module:"Suppliers",details:'Added new supplier "Fresh Ocean Traders" with contact details and product categories',ipAddress:"192.168.1.10",timestamp:"2026-01-12T13:30:00Z",moduleType:"store",storeId:"store_1"},{id:"LOG015",userId:"U002",userName:"Priya Singh (Hub Manager)",action:"System Backup",module:"System",details:"Initiated daily system backup - all data successfully backed up to cloud storage",ipAddress:"192.168.1.2",timestamp:"2026-01-12T12:00:00Z",moduleType:"hub",hubId:"hub_1"},{id:"LOG016",userId:"U011",userName:"Ravi Kumar (Packing)",action:"Quality Check",module:"Quality Control",details:"Performed quality check on incoming stock - rejected 5kg of Mackerel due to freshness issues",ipAddress:"192.168.1.11",timestamp:"2026-01-12T11:15:00Z",moduleType:"hub",hubId:"hub_1"},{id:"LOG017",userId:"U012",userName:"Neha Gupta (Delivery Agent)",action:"Route Optimized",module:"Delivery",details:"Optimized delivery route for 8 orders in Sector 15 area - estimated time saved: 45 minutes",ipAddress:"192.168.1.12",timestamp:"2026-01-12T10:30:00Z",moduleType:"hub",hubId:"hub_1"},{id:"LOG018",userId:"U003",userName:"Arun Patel (Store Admin)",action:"Promotion Created",module:"Marketing",details:"Created weekend special promotion: 20% off on all Pomfret varieties",ipAddress:"192.168.1.3",timestamp:"2026-01-12T09:45:00Z",moduleType:"store",storeId:"store_1"},{id:"LOG019",userId:"U013",userName:"Suresh M (Delivery)",action:"Customer Feedback",module:"Customer Service",details:"Recorded customer feedback for order ORD-2024-004 - 5-star rating with positive comments",ipAddress:"192.168.1.13",timestamp:"2026-01-12T08:20:00Z",moduleType:"hub",hubId:"hub_1"},{id:"LOG020",userId:"U001",userName:"Rajesh Kumar (Hub Admin)",action:"Security Update",module:"Security",details:"Applied security patch v2.1.3 - enhanced password encryption and session management",ipAddress:"192.168.1.1",timestamp:"2026-01-11T23:30:00Z",moduleType:"hub",hubId:"hub_1"}],xUe={"Created Order":Dr,"Updated Product":Ld,Login:Dr,"Deleted Product":Mu,"Updated Order Status":Ld,"Generated Report":ei,"Created User":si,"Failed Login":Ts,"Updated Settings":Ld,"Bulk Update":Ld,"Order Packed":Dr,"Order Cancelled":Mu,"Supplier Added":si,"System Backup":sl,"Quality Check":Dr,"Route Optimized":H0,"Promotion Created":Dr,"Customer Feedback":Dr,"Security Update":sl,"Updated Stock":Ld},pUe={Orders:"bg-blue-100 text-blue-800",Products:"bg-green-100 text-green-800",Authentication:"bg-yellow-100 text-yellow-800",Reports:"bg-purple-100 text-purple-800","Team Management":"bg-indigo-100 text-indigo-800",Settings:"bg-gray-100 text-gray-800",Inventory:"bg-orange-100 text-orange-800",Suppliers:"bg-pink-100 text-pink-800",System:"bg-red-100 text-red-800","Quality Control":"bg-teal-100 text-teal-800",Delivery:"bg-cyan-100 text-cyan-800",Marketing:"bg-lime-100 text-lime-800","Customer Service":"bg-emerald-100 text-emerald-800",Security:"bg-rose-100 text-rose-800"};function Aj(){const{user:e}=es(),[t,s]=A.useState(""),[a,n]=A.useState(""),[i,l]=A.useState(""),[o,c]=A.useState(""),d=A.useMemo(()=>{let x=og(Rk,e);if(t&&(x=x.filter(v=>v.userName.toLowerCase().includes(t.toLowerCase())||v.action.toLowerCase().includes(t.toLowerCase())||v.details.toLowerCase().includes(t.toLowerCase())||v.id.toLowerCase().includes(t.toLowerCase()))),a&&(x=x.filter(v=>v.module===a)),i&&(x=x.filter(v=>v.action===i)),o){const v=new Date(o);x=x.filter(y=>new Date(y.timestamp).toDateString()===v.toDateString())}return x.sort((v,y)=>new Date(y.timestamp).getTime()-new Date(v.timestamp).getTime())},[t,a,i,o,e]),h=[...new Set(Rk.map(x=>x.module))],m=[...new Set(Rk.map(x=>x.action))],p=()=>{const x=[["ID","User","Action","Module","Details","IP Address","Timestamp"],...d.map(j=>[j.id,j.userName,j.action,j.module,j.details,j.ipAddress,new Date(j.timestamp).toLocaleString()])].map(j=>j.join(",")).join(`
`),v=new Blob([x],{type:"text/csv"}),y=window.URL.createObjectURL(v),b=document.createElement("a");b.href=y,b.download=`audit-logs-${new Date().toISOString().split("T")[0]}.csv`,b.click(),window.URL.revokeObjectURL(y)};return!Va(e,tt.HUB_AUDIT_LOGS)&&!Va(e,tt.STORE_TEAM_MANAGE)?r.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:r.jsxs("div",{className:"text-center",children:[r.jsx(sl,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Access Denied"}),r.jsx("p",{className:"text-gray-600",children:"You don't have permission to view audit logs."})]})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Audit Logs"}),r.jsx("p",{className:"text-gray-600",children:"Track system activities and user actions"})]}),r.jsxs(oe,{onClick:p,className:"flex items-center gap-2",children:[r.jsx(ei,{className:"h-4 w-4"}),"Export Logs"]})]}),r.jsx(he,{className:"p-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),r.jsxs("div",{className:"relative",children:[r.jsx(Bi,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(de,{placeholder:"Search logs...",value:t,onChange:x=>s(x.target.value),className:"pl-10"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Module"}),r.jsx(Ut,{value:a,onChange:x=>n(x.target.value),options:[{value:"",label:"All Modules"},...h.map(x=>({value:x,label:x}))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Action"}),r.jsx(Ut,{value:i,onChange:x=>l(x.target.value),options:[{value:"",label:"All Actions"},...m.map(x=>({value:x,label:x}))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),r.jsx(de,{type:"date",value:o,onChange:x=>c(x.target.value)})]})]})}),r.jsxs(he,{className:"overflow-hidden",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User & Action"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Module"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Details"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"IP Address"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Timestamp"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:d.map(x=>{const v=xUe[x.action]||H0;return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:r.jsx(v,{className:"h-4 w-4 text-gray-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:x.userName}),r.jsx("p",{className:"text-sm text-gray-600",children:x.action})]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx(Xe,{className:pUe[x.module]||"bg-gray-100 text-gray-800",children:x.module})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("p",{className:"text-sm text-gray-900 max-w-md truncate",title:x.details,children:x.details})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(kh,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-sm text-gray-600 font-mono",children:x.ipAddress})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Tr,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-sm text-gray-600",children:new Date(x.timestamp).toLocaleString()})]})})]},x.id)})})]})}),d.length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(H0,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No audit logs found"}),r.jsx("p",{className:"text-gray-600",children:"Try adjusting your search criteria or filters."})]})]})]})}function gUe({template:e,quantity:t}){const s=n=>{if(!n.isVisible)return null;const i={position:"absolute",left:`${n.position.x}px`,top:`${n.position.y}px`,width:`${n.width}px`,height:`${n.height}px`,fontSize:`${n.fontSize}px`,fontWeight:n.fontWeight,display:"flex",alignItems:"center",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"};switch(n.type){case"barcode":return r.jsx("div",{style:i,children:r.jsxs("div",{className:"w-full h-full bg-white border flex flex-col items-center justify-center",children:[r.jsx("div",{className:"flex space-x-px mb-1",children:Array.from({length:20},(o,c)=>r.jsx("div",{className:"bg-black",style:{width:"2px",height:`${Math.random()*15+10}px`}},c))}),r.jsx("div",{style:{fontSize:"8px"},children:n.value})]})},n.id);case"qrcode":return r.jsx("div",{style:i,children:r.jsx("div",{className:"w-full h-full bg-white border flex items-center justify-center",children:r.jsx("div",{className:"grid grid-cols-8 gap-px",children:Array.from({length:64},(o,c)=>r.jsx("div",{className:`w-1 h-1 ${Math.random()>.5?"bg-black":"bg-white"}`},c))})})},n.id);case"image":return r.jsx("div",{style:i,children:r.jsx("div",{className:"w-full h-full bg-gray-200 border flex items-center justify-center text-xs text-gray-500",children:"IMG"})},n.id);case"date":const l=new Date(n.value).toLocaleDateString();return r.jsx("div",{style:i,children:l},n.id);default:return r.jsx("div",{style:i,children:n.value},n.id)}},a=n=>r.jsx("div",{className:"relative border border-gray-300 bg-white",style:{width:`${e.width}px`,height:`${e.height}px`,minWidth:`${e.width}px`,minHeight:`${e.height}px`},children:e.fields.map(s)},n);return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"font-medium",children:["Preview: ",e.name]}),r.jsxs("p",{className:"text-sm text-gray-500",children:[e.width,"  ",e.height," mm  ",t," label",t>1?"s":""]})]}),r.jsx("div",{className:"text-sm text-gray-500",children:"Scale: 1:1"})]}),r.jsx("div",{className:"border rounded-lg p-4 bg-gray-50 overflow-auto",children:r.jsx("div",{className:"flex flex-wrap gap-4",style:{maxHeight:"600px",overflowY:"auto"},children:Array.from({length:t},(n,i)=>a(i))})}),r.jsxs("div",{className:"grid gap-4 sm:grid-cols-3 text-sm",children:[r.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[r.jsx("div",{className:"font-medium text-blue-900",children:"Dimensions"}),r.jsxs("div",{className:"text-blue-700",children:[e.width,"  ",e.height," mm"]})]}),r.jsxs("div",{className:"p-3 bg-green-50 rounded-lg",children:[r.jsx("div",{className:"font-medium text-green-900",children:"Fields"}),r.jsxs("div",{className:"text-green-700",children:[e.fields.filter(n=>n.isVisible).length," visible"]})]}),r.jsxs("div",{className:"p-3 bg-purple-50 rounded-lg",children:[r.jsx("div",{className:"font-medium text-purple-900",children:"Paper Size"}),r.jsx("div",{className:"text-purple-700",children:e.paperSize})]})]})]})}function vUe({template:e,onUpdateField:t,onRemoveField:s}){const[a,n]=A.useState(null),[i,l]=A.useState(null),[o,c]=A.useState({x:0,y:0}),[d,h]=A.useState(1),[m,p]=A.useState(!0),x=A.useRef(null),v=A.useCallback((w,k)=>{if(w.preventDefault(),!e.fields.find(E=>E.id===k))return;const O=w.currentTarget.getBoundingClientRect();c({x:w.clientX-O.left,y:w.clientY-O.top}),l(k),n(k)},[e.fields]),y=A.useCallback(w=>{if(!i||!x.current)return;const k=x.current.getBoundingClientRect(),_=e.fields.find(F=>F.id===i);if(!_)return;const O=Math.max(0,Math.min(e.width-_.width,(w.clientX-k.left-o.x)/d)),E=Math.max(0,Math.min(e.height-_.height,(w.clientY-k.top-o.y)/d));t(i,{position:{x:Math.round(O),y:Math.round(E)}})},[i,o,d,e.width,e.height,t]),b=A.useCallback(()=>{l(null)},[]),j=A.useCallback(w=>{const k=a===w.id,_=i===w.id,O={position:"absolute",left:`${w.position.x}px`,top:`${w.position.y}px`,width:`${w.width}px`,height:`${w.height}px`,fontSize:`${w.fontSize}px`,fontWeight:w.fontWeight,cursor:_?"grabbing":"grab",border:k?"2px solid #3b82f6":"1px solid rgba(0,0,0,0.1)",backgroundColor:k?"rgba(59, 130, 246, 0.1)":"rgba(255,255,255,0.9)",display:"flex",alignItems:"center",justifyContent:w.type==="barcode"||w.type==="qrcode"?"center":"flex-start",padding:"2px 4px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",userSelect:"none",opacity:w.isVisible?1:.5,boxShadow:k?"0 4px 12px rgba(59, 130, 246, 0.3)":"0 1px 3px rgba(0,0,0,0.1)",borderRadius:"2px",zIndex:k?10:1};let E;switch(w.type){case"barcode":E=r.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-white",children:[r.jsx("div",{className:"flex space-x-px mb-1",children:Array.from({length:Math.min(20,Math.floor(w.width/3))},(I,U)=>r.jsx("div",{className:"bg-black",style:{width:"2px",height:`${Math.min(w.height-10,20)}px`}},U))}),r.jsx("div",{style:{fontSize:Math.min(w.fontSize,8)},children:w.value.slice(0,12)})]});break;case"qrcode":E=r.jsx("div",{className:"w-full h-full bg-white flex items-center justify-center",children:r.jsx("div",{className:"grid grid-cols-8 gap-px",style:{width:Math.min(w.width-4,w.height-4)},children:Array.from({length:64},(I,U)=>r.jsx("div",{className:`aspect-square ${Math.random()>.5?"bg-black":"bg-white"}`},U))})});break;case"image":E=r.jsx("div",{className:"w-full h-full bg-gray-100 border-2 border-dashed border-gray-300 flex items-center justify-center text-gray-500",children:r.jsx("span",{style:{fontSize:Math.min(w.fontSize,12)},children:"IMAGE"})});break;case"date":const F=w.value?new Date(w.value).toLocaleDateString():"DD/MM/YYYY";E=r.jsx("span",{children:F});break;case"number":E=r.jsx("span",{children:w.value||"0"});break;default:E=r.jsx("span",{children:w.value||w.name})}return r.jsxs("div",{style:O,onMouseDown:F=>v(F,w.id),onClick:F=>{F.stopPropagation(),n(w.id)},className:`
          hover:border-blue-400 transition-all duration-200
          ${_?"scale-105":""}
          ${w.isVisible?"":"opacity-50"}
        `,children:[E,k&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"absolute -top-1 -left-1 w-2 h-2 bg-blue-500 rounded-full"}),r.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-blue-500 rounded-full"}),r.jsx("div",{className:"absolute -bottom-1 -left-1 w-2 h-2 bg-blue-500 rounded-full"}),r.jsx("div",{className:"absolute -bottom-1 -right-1 w-2 h-2 bg-blue-500 rounded-full"}),r.jsxs("div",{className:"absolute -top-8 -right-1 flex gap-1",children:[r.jsx("button",{className:"w-6 h-6 bg-blue-500 text-white rounded text-xs hover:bg-blue-600 flex items-center justify-center",onClick:F=>{F.stopPropagation(),t(w.id,{isVisible:!w.isVisible})},title:w.isVisible?"Hide field":"Show field",children:w.isVisible?r.jsx(Fr,{className:"w-3 h-3"}):r.jsx(Hd,{className:"w-3 h-3"})}),r.jsx("button",{className:"w-6 h-6 bg-red-500 text-white rounded text-xs hover:bg-red-600 flex items-center justify-center",onClick:F=>{F.stopPropagation(),s(w.id),n(null)},title:"Remove field",children:r.jsx(Ar,{className:"w-3 h-3"})})]})]})]},w.id)},[a,i,v,t,s]),S=e.fields.find(w=>w.id===a);return r.jsxs("div",{className:"space-y-6",children:[r.jsx(he,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm font-medium",children:"Zoom:"}),r.jsx(oe,{variant:"secondary",size:"sm",onClick:()=>h(Math.max(.5,d-.25)),disabled:d<=.5,children:r.jsx(Sse,{className:"h-4 w-4"})}),r.jsxs("span",{className:"text-sm min-w-[3rem] text-center",children:[Math.round(d*100),"%"]}),r.jsx(oe,{variant:"secondary",size:"sm",onClick:()=>h(Math.min(2,d+.25)),disabled:d>=2,children:r.jsx(Nse,{className:"h-4 w-4"})}),r.jsx(oe,{variant:"secondary",size:"sm",onClick:()=>h(1),children:r.jsx(rn,{className:"h-4 w-4"})})]}),r.jsxs(oe,{variant:m?"primary":"secondary",size:"sm",onClick:()=>p(!m),children:[r.jsx(Dte,{className:"mr-2 h-4 w-4"}),"Grid"]})]}),r.jsxs("div",{className:"text-sm text-gray-500",children:[e.width,"  ",e.height," mm  ",e.fields.length," fields"]})]})}),r.jsx(he,{children:r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-lg",children:"Design Canvas"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Click and drag fields to reposition  Click outside to deselect"})]})}),r.jsx("div",{className:"flex justify-center overflow-auto p-4 bg-gray-50 rounded-lg",children:r.jsxs("div",{ref:x,className:"relative bg-white shadow-lg",style:{width:`${e.width*d}px`,height:`${e.height*d}px`,transform:`scale(${d})`,transformOrigin:"top left",minWidth:`${e.width}px`,minHeight:`${e.height}px`,border:"1px solid #e5e7eb"},onMouseMove:y,onMouseUp:b,onMouseLeave:b,onClick:()=>n(null),children:[e.fields.map(j),m&&r.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-30",children:r.jsxs("svg",{width:"100%",height:"100%",children:[r.jsx("defs",{children:r.jsx("pattern",{id:"grid",width:"10",height:"10",patternUnits:"userSpaceOnUse",children:r.jsx("path",{d:"M 10 0 L 0 0 0 10",fill:"none",stroke:"#d1d5db",strokeWidth:"0.5"})})}),r.jsx("rect",{width:"100%",height:"100%",fill:"url(#grid)"})]})}),r.jsx("div",{className:"absolute -top-4 left-0 right-0 h-4 bg-gray-100 border-b text-xs flex items-center",children:Array.from({length:Math.ceil(e.width/50)},(w,k)=>r.jsx("div",{className:"absolute text-gray-500",style:{left:`${k*50}px`},children:k*50},k))}),r.jsx("div",{className:"absolute -left-4 top-0 bottom-0 w-4 bg-gray-100 border-r text-xs",children:Array.from({length:Math.ceil(e.height/50)},(w,k)=>r.jsx("div",{className:"absolute text-gray-500 transform -rotate-90 origin-center",style:{top:`${k*50}px`,left:"2px"},children:k*50},k))})]})})]})}),S&&r.jsx(he,{children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"rounded-lg bg-blue-50 p-2",children:r.jsx(lse,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-lg",children:"Field Properties"}),r.jsxs("p",{className:"text-sm text-gray-600",children:[S.name," (",S.type,")"]})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[r.jsx(de,{label:"Field Value",value:S.value,onChange:w=>t(S.id,{value:w.target.value}),placeholder:"Enter field value"}),r.jsx(de,{label:"Font Size (px)",type:"number",value:S.fontSize,onChange:w=>t(S.id,{fontSize:parseInt(w.target.value)||12}),min:"6",max:"72"}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Font Weight"}),r.jsxs("select",{value:S.fontWeight,onChange:w=>t(S.id,{fontWeight:w.target.value}),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"normal",children:"Normal"}),r.jsx("option",{value:"bold",children:"Bold"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(de,{label:"X Position",type:"number",value:S.position.x,onChange:w=>t(S.id,{position:{...S.position,x:parseInt(w.target.value)||0}}),min:"0",max:e.width-S.width}),r.jsx(de,{label:"Y Position",type:"number",value:S.position.y,onChange:w=>t(S.id,{position:{...S.position,y:parseInt(w.target.value)||0}}),min:"0",max:e.height-S.height})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(de,{label:"Width (px)",type:"number",value:S.width,onChange:w=>t(S.id,{width:parseInt(w.target.value)||50}),min:"10",max:e.width}),r.jsx(de,{label:"Height (px)",type:"number",value:S.height,onChange:w=>t(S.id,{height:parseInt(w.target.value)||20}),min:"10",max:e.height})]})]}),r.jsxs("div",{className:"flex gap-3 mt-6",children:[r.jsxs(oe,{variant:"secondary",onClick:()=>t(S.id,{isVisible:!S.isVisible}),children:[S.isVisible?r.jsx(Hd,{className:"mr-2 h-4 w-4"}):r.jsx(Fr,{className:"mr-2 h-4 w-4"}),S.isVisible?"Hide Field":"Show Field"]}),r.jsxs(oe,{variant:"danger",onClick:()=>{s(S.id),n(null)},children:[r.jsx(Ar,{className:"mr-2 h-4 w-4"}),"Remove Field"]})]})]})}),r.jsx(he,{children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"font-semibold text-lg",children:["Fields (",e.fields.length,")"]}),r.jsxs("div",{className:"text-sm text-gray-500",children:[e.fields.filter(w=>w.isVisible).length," visible"]})]}),r.jsxs("div",{className:"space-y-2",children:[e.fields.map(w=>r.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border cursor-pointer transition-all ${a===w.id?"border-blue-300 bg-blue-50 shadow-sm":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,onClick:()=>n(w.id),children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(lD,{className:"h-4 w-4 text-gray-400"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-sm",children:w.name}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:w.type}),r.jsxs("span",{className:"text-xs text-gray-500",children:[w.position.x,", ",w.position.y]}),r.jsxs("span",{className:"text-xs text-gray-500",children:[w.width,"",w.height]})]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:k=>{k.stopPropagation(),t(w.id,{isVisible:!w.isVisible})},className:`p-1 rounded transition-colors ${w.isVisible?"text-blue-600 hover:bg-blue-100":"text-gray-400 hover:bg-gray-100"}`,title:w.isVisible?"Hide field":"Show field",children:w.isVisible?r.jsx(Fr,{className:"h-4 w-4"}):r.jsx(Hd,{className:"h-4 w-4"})}),r.jsx("button",{onClick:k=>{k.stopPropagation(),s(w.id),a===w.id&&n(null)},className:"p-1 rounded text-gray-400 hover:text-red-600 hover:bg-red-50 transition-colors",title:"Remove field",children:r.jsx(Ar,{className:"h-4 w-4"})})]})]},w.id)),e.fields.length===0&&r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(lD,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),r.jsx("p",{children:"No fields added yet"}),r.jsx("p",{className:"text-sm",children:"Add fields from the Data tab"})]})]})]})})]})}const yUe={"Product Information":Tt,Pricing:Wh,Inventory:Jr,"Barcodes & QR":Ow,"Business Info":Tm};function bUe({availableFields:e,selectedFields:t,onAddField:s,onRemoveField:a}){const[n,i]=A.useState(""),[l,o]=A.useState(["Product Information"]),c=m=>{o(p=>p.includes(m)?p.filter(x=>x!==m):[...p,m])},d=e.map(m=>({...m,fields:m.fields.filter(p=>p.label.toLowerCase().includes(n.toLowerCase())||p.id.toLowerCase().includes(n.toLowerCase()))})).filter(m=>m.fields.length>0),h=m=>t.includes(m);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Data Fields"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Select fields to include in your label"})]}),r.jsxs("div",{className:"text-sm text-gray-500",children:[t.length," field",t.length!==1?"s":""," selected"]})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Bi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),r.jsx(de,{placeholder:"Search fields...",value:n,onChange:m=>i(m.target.value),className:"pl-10"})]}),t.length>0&&r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h4",{className:"font-medium text-blue-900",children:"Selected Fields"}),r.jsxs("span",{className:"text-sm text-blue-700",children:[t.length," selected"]})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(m=>{const p=e.flatMap(x=>x.fields).find(x=>x.id===m);return p?r.jsxs("div",{className:"flex items-center gap-2 bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm",children:[r.jsx("span",{children:p.label}),r.jsx("button",{onClick:()=>a(m),className:"hover:bg-blue-200 rounded-full p-0.5",children:r.jsx(dr,{className:"h-3 w-3 rotate-45"})})]},m):null})})]}),r.jsx("div",{className:"space-y-4",children:d.map(m=>{const p=yUe[m.category]||Tt,x=l.includes(m.category);return r.jsxs("div",{className:"border rounded-lg",children:[r.jsxs("button",{onClick:()=>c(m.category),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"rounded-lg bg-gray-100 p-2",children:r.jsx(p,{className:"h-4 w-4 text-gray-600"})}),r.jsxs("div",{className:"text-left",children:[r.jsx("h4",{className:"font-medium",children:m.category}),r.jsxs("p",{className:"text-sm text-gray-500",children:[m.fields.length," field",m.fields.length!==1?"s":""]})]})]}),x?r.jsx(Dw,{className:"h-4 w-4 text-gray-400"}):r.jsx(QU,{className:"h-4 w-4 text-gray-400"})]}),x&&r.jsx("div",{className:"border-t bg-gray-50",children:r.jsx("div",{className:"p-4 space-y-2",children:m.fields.map(v=>{const y=h(v.id);return r.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border transition-colors ${y?"bg-green-50 border-green-200":"bg-white border-gray-200 hover:border-gray-300"}`,children:[r.jsx("div",{className:"flex items-center gap-3",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium text-sm",children:v.label}),r.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:v.type})]})}),y?r.jsxs(oe,{variant:"secondary",size:"sm",onClick:()=>a(v.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[r.jsx(dr,{className:"h-4 w-4 rotate-45"}),"Remove"]}):r.jsxs(oe,{variant:"secondary",size:"sm",onClick:()=>s(v),className:"text-green-600 hover:text-green-700 hover:bg-green-50",children:[r.jsx(dr,{className:"h-4 w-4"}),"Add"]})]},v.id)})})})]},m.category)})}),d.length===0&&n&&r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(Bi,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),r.jsxs("p",{children:['No fields found matching "',n,'"']}),r.jsx("p",{className:"text-sm",children:"Try adjusting your search terms"})]}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsx("h4",{className:"font-medium mb-3",children:"Quick Add Common Fields"}),r.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[r.jsxs(oe,{variant:"secondary",size:"sm",onClick:()=>{const m=e.flatMap(p=>p.fields).find(p=>p.id==="product_name");m&&!h("product_name")&&s(m)},disabled:h("product_name"),className:"justify-start",children:[r.jsx(Tt,{className:"mr-2 h-4 w-4"}),"Product Name"]}),r.jsxs(oe,{variant:"secondary",size:"sm",onClick:()=>{const m=e.flatMap(p=>p.fields).find(p=>p.id==="price");m&&!h("price")&&s(m)},disabled:h("price"),className:"justify-start",children:[r.jsx(Wh,{className:"mr-2 h-4 w-4"}),"Price"]}),r.jsxs(oe,{variant:"secondary",size:"sm",onClick:()=>{const m=e.flatMap(p=>p.fields).find(p=>p.id==="barcode");m&&!h("barcode")&&s(m)},disabled:h("barcode"),className:"justify-start",children:[r.jsx(Ow,{className:"mr-2 h-4 w-4"}),"Barcode"]}),r.jsxs(oe,{variant:"secondary",size:"sm",onClick:()=>{const m=e.flatMap(p=>p.fields).find(p=>p.id==="expiry_date");m&&!h("expiry_date")&&s(m)},disabled:h("expiry_date"),className:"justify-start",children:[r.jsx(Jr,{className:"mr-2 h-4 w-4"}),"Expiry Date"]})]})]})]})}const jUe={customer_name:"John Doe",customer_address:"123 Main St, City, State 12345",phone_number:"+91 9876543210",alternate_phone:"+91 9876543211",invoice_number:"INV-2024-001",net_amount:"1,250.00",payment_mode:"Online Payment",delivery_date:"2024-01-30",delivery_slot:"10:00 AM - 12:00 PM",delivery_instructions:"Ring the doorbell twice",support_phone:"+91 1800-123-456",product_name:"Fresh Salmon - Premium Cut",product_weight:"1.5 kg",cutting_type:"Fillet",quantity:"2",packing_date:"2024-01-29"},NUe=({fields:e,type:t,className:s})=>{const a=e.filter(i=>i.enabled),n=i=>{const l=jUe[i.id]||`{${i.label}}`,o={position:"absolute",left:`${i.position.x}px`,top:`${i.position.y}px`,fontSize:`${i.fontSize}px`,fontWeight:i.fontWeight};return i.type==="qr"?r.jsxs("div",{style:o,className:"flex items-center gap-1",children:[r.jsx(az,{className:"h-6 w-6"}),r.jsx("span",{className:"text-xs",children:"QR Code"})]},i.id):i.type==="barcode"?r.jsxs("div",{style:o,className:"flex items-center gap-1",children:[r.jsx(Ow,{className:"h-4 w-4"}),r.jsx("span",{className:"text-xs",children:"|||||||||||"})]},i.id):i.type==="image"?r.jsx("div",{style:o,className:"w-12 h-8 bg-gray-200 rounded flex items-center justify-center",children:r.jsx("span",{className:"text-xs text-gray-500",children:"Logo"})},i.id):r.jsxs("div",{style:o,className:"text-gray-800",children:[i.required&&r.jsx("span",{className:"text-red-500 mr-1",children:"*"}),l]},i.id)};return r.jsxs(he,{className:s,children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t==="delivery"?r.jsx(Mr,{className:"h-5 w-5 text-blue-600"}):r.jsx(Tt,{className:"h-5 w-5 text-green-600"}),r.jsx("h3",{className:"font-medium",children:t==="delivery"?"Delivery Slip Preview":"Packing Slip Preview"})]}),r.jsxs("div",{className:"relative bg-white border-2 border-dashed border-gray-300 rounded-lg",style:{height:"300px",width:"100%"},children:[a.map(n),a.length===0&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-gray-500",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Tt,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),r.jsx("p",{className:"text-sm",children:"No fields enabled"})]})})]}),r.jsxs("div",{className:"mt-3 text-xs text-gray-500",children:[a.length," field(s) enabled  ",a.filter(i=>i.required).length," required"]})]})},wUe=({templates:e,activeTemplateId:t,onTemplateChange:s,onTemplateCreate:a,onTemplateUpdate:n,onTemplateDelete:i,className:l})=>{const[o,c]=A.useState(!1),[d,h]=A.useState(null),[m,p]=A.useState(""),[x,v]=A.useState("delivery"),y=e.find(_=>_.id===t),b=e.filter(_=>_.type==="delivery"),j=e.filter(_=>_.type==="packing"),S=()=>{if(!m.trim())return;a({name:m,type:x,fields:x==="delivery"?[{id:"customer_name",label:"Customer Name",type:"text",required:!0,enabled:!0,position:{x:20,y:20},fontSize:14,fontWeight:"bold"},{id:"customer_address",label:"Delivery Address",type:"address",required:!0,enabled:!0,position:{x:20,y:45},fontSize:12,fontWeight:"normal"},{id:"phone_number",label:"Phone Number",type:"phone",required:!0,enabled:!0,position:{x:20,y:85},fontSize:12,fontWeight:"normal"},{id:"invoice_number",label:"Invoice Number",type:"text",required:!0,enabled:!0,position:{x:20,y:110},fontSize:12,fontWeight:"bold"},{id:"net_amount",label:"Net Amount",type:"number",required:!0,enabled:!0,position:{x:150,y:110},fontSize:12,fontWeight:"bold"},{id:"delivery_date",label:"Delivery Date",type:"date",required:!0,enabled:!0,position:{x:20,y:160},fontSize:12,fontWeight:"normal"},{id:"support_phone",label:"Support Phone",type:"phone",required:!0,enabled:!0,position:{x:20,y:210},fontSize:10,fontWeight:"normal"}]:[{id:"customer_name",label:"Customer Name",type:"text",required:!0,enabled:!0,position:{x:20,y:20},fontSize:14,fontWeight:"bold"},{id:"invoice_number",label:"Invoice Number",type:"text",required:!0,enabled:!0,position:{x:20,y:45},fontSize:12,fontWeight:"bold"},{id:"product_name",label:"Product Name",type:"text",required:!0,enabled:!0,position:{x:20,y:70},fontSize:12,fontWeight:"normal"},{id:"product_weight",label:"Weight",type:"text",required:!0,enabled:!0,position:{x:150,y:70},fontSize:12,fontWeight:"normal"},{id:"quantity",label:"Quantity",type:"number",required:!0,enabled:!0,position:{x:150,y:95},fontSize:12,fontWeight:"normal"},{id:"net_amount",label:"Net Amount",type:"number",required:!0,enabled:!0,position:{x:20,y:120},fontSize:12,fontWeight:"bold"}]}),p(""),c(!1)},w=_=>{a({name:`${_.name} (Copy)`,type:_.type,fields:[..._.fields]})},k=({template:_})=>r.jsxs("div",{className:`p-3 border rounded-lg cursor-pointer transition-all ${_.id===t?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[_.type==="delivery"?r.jsx(Mr,{className:"h-4 w-4 text-blue-600"}):r.jsx(Tt,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{className:"font-medium text-sm",children:_.name})]}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx(oe,{variant:"ghost",size:"sm",onClick:O=>{O.stopPropagation(),h(_.id),p(_.name)},children:r.jsx(ss,{className:"h-3 w-3"})}),r.jsx(oe,{variant:"ghost",size:"sm",onClick:O=>{O.stopPropagation(),w(_)},children:r.jsx(Rw,{className:"h-3 w-3"})}),r.jsx(oe,{variant:"ghost",size:"sm",onClick:O=>{O.stopPropagation(),e.length>1&&i(_.id)},disabled:e.length<=1,children:r.jsx(Ar,{className:"h-3 w-3"})})]})]}),r.jsxs("div",{className:"text-xs text-gray-500",children:[_.fields.filter(O=>O.enabled).length," fields enabled"]}),r.jsx(oe,{variant:_.id===t?"primary":"secondary",size:"sm",className:"w-full mt-2",onClick:()=>s(_.id),children:_.id===t?"Active":"Use Template"})]});return r.jsxs("div",{className:l,children:[r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"rounded-lg bg-purple-50 p-2",children:r.jsx(Rs,{className:"h-5 w-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold",children:"Template Manager"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Manage slip templates"})]})]}),r.jsxs(oe,{onClick:()=>c(!0),children:[r.jsx(dr,{className:"mr-2 h-4 w-4"}),"New Template"]})]}),y&&r.jsxs("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.type==="delivery"?r.jsx(Mr,{className:"h-4 w-4 text-blue-600"}):r.jsx(Tt,{className:"h-4 w-4 text-green-600"}),r.jsxs("span",{className:"font-medium",children:["Active: ",y.name]})]}),r.jsxs("div",{className:"text-sm text-gray-600",children:[y.fields.filter(_=>_.enabled).length," of ",y.fields.length," fields enabled"]})]}),r.jsxs("div",{className:"space-y-6",children:[b.length>0&&r.jsxs("div",{children:[r.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[r.jsx(Mr,{className:"h-4 w-4 text-blue-600"}),"Delivery Slip Templates (",b.length,")"]}),r.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-3",children:b.map(_=>r.jsx(k,{template:_},_.id))})]}),j.length>0&&r.jsxs("div",{children:[r.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[r.jsx(Tt,{className:"h-4 w-4 text-green-600"}),"Packing Slip Templates (",j.length,")"]}),r.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-3",children:j.map(_=>r.jsx(k,{template:_},_.id))})]})]})]}),r.jsx(ir,{isOpen:o,onClose:()=>c(!1),title:"Create New Template",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx(de,{label:"Template Name",value:m,onChange:_=>p(_.target.value),placeholder:"Enter template name"}),r.jsx(Ut,{label:"Template Type",value:x,onChange:_=>v(_.target.value),options:[{value:"delivery",label:"Delivery Slip"},{value:"packing",label:"Packing Slip"}]}),r.jsxs("div",{className:"flex gap-2 justify-end",children:[r.jsx(oe,{variant:"secondary",onClick:()=>c(!1),children:"Cancel"}),r.jsx(oe,{onClick:S,disabled:!m.trim(),children:"Create Template"})]})]})}),r.jsx(ir,{isOpen:!!d,onClose:()=>h(null),title:"Edit Template Name",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx(de,{label:"Template Name",value:m,onChange:_=>p(_.target.value),placeholder:"Enter template name"}),r.jsxs("div",{className:"flex gap-2 justify-end",children:[r.jsx(oe,{variant:"secondary",onClick:()=>h(null),children:"Cancel"}),r.jsx(oe,{onClick:()=>{d&&m.trim()&&(n(d,{name:m}),h(null),p(""))},disabled:!m.trim(),children:"Save Changes"})]})]})})]})},SUe=[{id:"customer_name",label:"Customer Name",type:"text",required:!0,enabled:!0,position:{x:20,y:20},fontSize:14,fontWeight:"bold"},{id:"customer_address",label:"Delivery Address",type:"address",required:!0,enabled:!0,position:{x:20,y:45},fontSize:12,fontWeight:"normal"},{id:"phone_number",label:"Phone Number",type:"phone",required:!0,enabled:!0,position:{x:20,y:85},fontSize:12,fontWeight:"normal"},{id:"alternate_phone",label:"Alternate Phone",type:"phone",required:!1,enabled:!0,position:{x:150,y:85},fontSize:12,fontWeight:"normal"},{id:"invoice_number",label:"Invoice Number",type:"text",required:!0,enabled:!0,position:{x:20,y:110},fontSize:12,fontWeight:"bold"},{id:"net_amount",label:"Net Amount",type:"number",required:!0,enabled:!0,position:{x:150,y:110},fontSize:12,fontWeight:"bold"},{id:"payment_mode",label:"Payment Mode",type:"text",required:!0,enabled:!0,position:{x:20,y:135},fontSize:12,fontWeight:"normal"},{id:"delivery_date",label:"Delivery Date",type:"date",required:!0,enabled:!0,position:{x:20,y:160},fontSize:12,fontWeight:"normal"},{id:"delivery_slot",label:"Delivery Slot",type:"text",required:!1,enabled:!0,position:{x:150,y:160},fontSize:12,fontWeight:"normal"},{id:"delivery_instructions",label:"Delivery Instructions",type:"text",required:!1,enabled:!0,position:{x:20,y:185},fontSize:10,fontWeight:"normal"},{id:"support_phone",label:"Support Phone",type:"phone",required:!0,enabled:!0,position:{x:20,y:210},fontSize:10,fontWeight:"normal"},{id:"qr_code",label:"QR Code",type:"qr",required:!1,enabled:!0,position:{x:200,y:20},fontSize:10,fontWeight:"normal"},{id:"brand_logo",label:"Brand Logo",type:"image",required:!1,enabled:!0,position:{x:200,y:60},fontSize:10,fontWeight:"normal"}],_Ue=[{id:"customer_name",label:"Customer Name",type:"text",required:!0,enabled:!0,position:{x:20,y:20},fontSize:14,fontWeight:"bold"},{id:"invoice_number",label:"Invoice Number",type:"text",required:!0,enabled:!0,position:{x:20,y:45},fontSize:12,fontWeight:"bold"},{id:"product_name",label:"Product Name",type:"text",required:!0,enabled:!0,position:{x:20,y:70},fontSize:12,fontWeight:"normal"},{id:"product_weight",label:"Weight",type:"text",required:!0,enabled:!0,position:{x:150,y:70},fontSize:12,fontWeight:"normal"},{id:"cutting_type",label:"Cutting Type",type:"text",required:!1,enabled:!0,position:{x:20,y:95},fontSize:12,fontWeight:"normal"},{id:"quantity",label:"Quantity",type:"number",required:!0,enabled:!0,position:{x:150,y:95},fontSize:12,fontWeight:"normal"},{id:"net_amount",label:"Net Amount",type:"number",required:!0,enabled:!0,position:{x:20,y:120},fontSize:12,fontWeight:"bold"},{id:"payment_mode",label:"Payment Mode",type:"text",required:!0,enabled:!0,position:{x:150,y:120},fontSize:12,fontWeight:"normal"},{id:"packing_date",label:"Packing Date",type:"date",required:!0,enabled:!0,position:{x:20,y:145},fontSize:12,fontWeight:"normal"},{id:"barcode",label:"Product Barcode",type:"barcode",required:!1,enabled:!0,position:{x:20,y:170},fontSize:10,fontWeight:"normal"},{id:"brand_logo",label:"Brand Logo",type:"image",required:!1,enabled:!0,position:{x:200,y:20},fontSize:10,fontWeight:"normal"},{id:"support_phone",label:"Support Phone",type:"phone",required:!0,enabled:!0,position:{x:20,y:200},fontSize:10,fontWeight:"normal"}],kUe=({config:e,onChange:t,className:s})=>{const[a,n]=A.useState("delivery"),[i,l]=A.useState(!1),[o,c]=A.useState([{id:"default-delivery",name:"Default Delivery Slip",type:"delivery",fields:SUe,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"default-packing",name:"Default Packing Slip",type:"packing",fields:_Ue,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}]),[d,h]=A.useState("default-delivery"),m=w=>{const k=o.find(_=>_.id===w);k&&(h(w),k.type==="delivery"?(t({...e,deliverySlip:k.fields}),n("delivery")):(t({...e,packingSlip:k.fields}),n("packing")))},p=w=>{const k={...w,id:`template-${Date.now()}`,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};c(_=>[..._,k]),h(k.id),k.type==="delivery"?(t({...e,deliverySlip:k.fields}),n("delivery")):(t({...e,packingSlip:k.fields}),n("packing"))},x=(w,k)=>{c(_=>_.map(O=>O.id===w?{...O,...k,updatedAt:new Date().toISOString()}:O))},v=w=>{if(c(k=>k.filter(_=>_.id!==w)),d===w){const k=o.find(_=>_.id!==w);k&&m(k.id)}},y=()=>{const w=a==="delivery"?e.deliverySlip:e.packingSlip;x(d,{fields:w})},b=(w,k,_)=>{const O=w==="delivery"?"deliverySlip":"packingSlip",E=e[O].map(F=>F.id===k?{...F,..._}:F);t({...e,[O]:E})},j=({field:w,slipType:k})=>r.jsxs("div",{className:"grid grid-cols-12 gap-3 items-center p-3 border rounded-lg",children:[r.jsx("div",{className:"col-span-3",children:r.jsx(Bp,{checked:w.enabled,onChange:_=>b(k,w.id,{enabled:_.target.checked}),label:w.label})}),r.jsx("div",{className:"col-span-2",children:r.jsx(Ut,{value:w.fontSize.toString(),onChange:_=>b(k,w.id,{fontSize:parseInt(_.target.value)}),options:[{value:"8",label:"8px"},{value:"10",label:"10px"},{value:"12",label:"12px"},{value:"14",label:"14px"},{value:"16",label:"16px"}]})}),r.jsx("div",{className:"col-span-2",children:r.jsx(Ut,{value:w.fontWeight,onChange:_=>b(k,w.id,{fontWeight:_.target.value}),options:[{value:"normal",label:"Normal"},{value:"bold",label:"Bold"}]})}),r.jsx("div",{className:"col-span-2",children:r.jsx(de,{type:"number",value:w.position.x,onChange:_=>b(k,w.id,{position:{...w.position,x:parseInt(_.target.value)||0}}),placeholder:"X"})}),r.jsx("div",{className:"col-span-2",children:r.jsx(de,{type:"number",value:w.position.y,onChange:_=>b(k,w.id,{position:{...w.position,y:parseInt(_.target.value)||0}}),placeholder:"Y"})}),r.jsx("div",{className:"col-span-1 text-center",children:w.required&&r.jsx("span",{className:"text-red-500 text-sm",children:"*"})})]}),S=a==="delivery"?e.deliverySlip:e.packingSlip;return r.jsxs("div",{className:"space-y-6",children:[r.jsx(he,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"rounded-lg bg-purple-50 p-2",children:r.jsx(Rs,{className:"h-5 w-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",children:"Templates"}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Active: ",o.find(w=>w.id===d)?.name]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(oe,{variant:"secondary",onClick:y,children:[r.jsx(ic,{className:"mr-2 h-4 w-4"}),"Save Changes"]}),r.jsxs(oe,{variant:"secondary",onClick:()=>l(!i),children:[r.jsx(Rs,{className:"mr-2 h-4 w-4"}),i?"Hide":"Manage"," Templates"]})]})]})}),i&&r.jsx(wUe,{templates:o,activeTemplateId:d,onTemplateChange:m,onTemplateCreate:p,onTemplateUpdate:x,onTemplateDelete:v}),r.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[r.jsxs(he,{className:s,children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"rounded-lg bg-blue-50 p-2",children:a==="delivery"?r.jsx(Mr,{className:"h-5 w-5 text-blue-600"}):r.jsx(Tt,{className:"h-5 w-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Field Configuration"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Configure slip fields"})]})]})}),r.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1 mb-6",children:[r.jsxs("button",{onClick:()=>n("delivery"),className:`flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${a==="delivery"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[r.jsx(Mr,{className:"h-4 w-4"}),"Delivery Slip"]}),r.jsxs("button",{onClick:()=>n("packing"),className:`flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${a==="packing"?"bg-white text-green-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[r.jsx(Tt,{className:"h-4 w-4"}),"Packing Slip"]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-12 gap-3 text-sm font-medium text-gray-700 px-3",children:[r.jsx("div",{className:"col-span-3",children:"Field Name"}),r.jsx("div",{className:"col-span-2",children:"Font Size"}),r.jsx("div",{className:"col-span-2",children:"Font Weight"}),r.jsx("div",{className:"col-span-2",children:"X Position"}),r.jsx("div",{className:"col-span-2",children:"Y Position"}),r.jsx("div",{className:"col-span-1",children:"Required"})]}),r.jsx("div",{className:"space-y-2",children:S.map(w=>r.jsx(j,{field:w,slipType:a},w.id))})]}),r.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Rs,{className:"h-4 w-4 text-gray-600"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Configuration Summary"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Enabled Fields:"}),r.jsx("span",{className:"ml-2 font-medium",children:S.filter(w=>w.enabled).length})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Required Fields:"}),r.jsx("span",{className:"ml-2 font-medium",children:S.filter(w=>w.required&&w.enabled).length})]})]})]})]}),r.jsx(NUe,{fields:S,type:a})]})]})},AUe=({onSave:e,className:t})=>{const[s,a]=A.useState({customerName:"",customerAddress:"",phoneNumber:"",alternatePhone:"",invoiceNumber:`INV-${Date.now()}`,billDate:new Date().toISOString().split("T")[0],dueDate:"",deliveryDate:"",deliverySlot:"",deliveryInstructions:"",items:[{id:"1",productName:"",weight:"",cuttingType:"",quantity:1,unitPrice:0,discount:0,taxRate:18,total:0}],paymentMode:"cash",subtotal:0,totalDiscount:0,totalTax:0,deliveryCharges:0,netAmount:0,supportPhone:"+91 1800-123-456",notes:""}),[n,i]=A.useState(!1),l=(p,x)=>{a(v=>({...v,[p]:x}))},o=(p,x,v)=>{const y=s.items.map((b,j)=>{if(j===p){const S={...b,[x]:v};if(x==="quantity"||x==="unitPrice"||x==="discount"){const w=S.quantity*S.unitPrice,k=w*S.discount/100,_=w-k,O=_*S.taxRate/100;S.total=_+O}return S}return b});a(b=>{const j=y.reduce((_,O)=>_+O.quantity*O.unitPrice,0),S=y.reduce((_,O)=>_+O.quantity*O.unitPrice*O.discount/100,0),w=y.reduce((_,O)=>{const E=O.quantity*O.unitPrice,F=E*O.discount/100,I=E-F;return _+I*O.taxRate/100},0),k=j-S+w+b.deliveryCharges;return{...b,items:y,subtotal:j,totalDiscount:S,totalTax:w,netAmount:k}})},c=()=>{a(p=>({...p,items:[...p.items,{id:Date.now().toString(),productName:"",weight:"",cuttingType:"",quantity:1,unitPrice:0,discount:0,taxRate:18,total:0}]}))},d=p=>{s.items.length>1&&a(x=>({...x,items:x.items.filter((v,y)=>y!==p)}))},h=[{value:"cash",label:"Cash"},{value:"card",label:"Card"},{value:"upi",label:"UPI"},{value:"netbanking",label:"Net Banking"},{value:"cod",label:"Cash on Delivery"}],m=[{value:"9-12",label:"9:00 AM - 12:00 PM"},{value:"12-15",label:"12:00 PM - 3:00 PM"},{value:"15-18",label:"3:00 PM - 6:00 PM"},{value:"18-21",label:"6:00 PM - 9:00 PM"}];return r.jsxs("div",{className:`space-y-6 ${t}`,children:[r.jsxs(he,{children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"rounded-lg bg-green-50 p-2",children:r.jsx(V0,{className:"h-5 w-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Bill Entry"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Create detailed invoice with delivery information"})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(oe,{variant:"secondary",onClick:()=>i(!n),children:[r.jsx(Fr,{className:"mr-2 h-4 w-4"}),n?"Hide":"Show"," Preview"]}),r.jsxs(oe,{onClick:()=>e(s),children:[r.jsx(Ii,{className:"mr-2 h-4 w-4"}),"Save Bill"]})]})]}),r.jsxs("div",{className:"grid gap-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-md font-medium mb-4",children:"Customer Information"}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsx(de,{label:"Customer Name *",value:s.customerName,onChange:p=>l("customerName",p.target.value),placeholder:"Enter customer name"}),r.jsx(de,{label:"Phone Number *",value:s.phoneNumber,onChange:p=>l("phoneNumber",p.target.value),placeholder:"+91 9876543210"}),r.jsx("div",{className:"md:col-span-2",children:r.jsx(de,{label:"Address *",value:s.customerAddress,onChange:p=>l("customerAddress",p.target.value),placeholder:"Complete delivery address"})}),r.jsx(de,{label:"Alternate Phone",value:s.alternatePhone,onChange:p=>l("alternatePhone",p.target.value),placeholder:"+91 9876543211"})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-md font-medium mb-4",children:"Bill Details"}),r.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[r.jsx(de,{label:"Invoice Number *",value:s.invoiceNumber,onChange:p=>l("invoiceNumber",p.target.value)}),r.jsx(de,{label:"Bill Date *",type:"date",value:s.billDate,onChange:p=>l("billDate",p.target.value)}),r.jsx(de,{label:"Due Date",type:"date",value:s.dueDate,onChange:p=>l("dueDate",p.target.value)})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-md font-medium mb-4",children:"Delivery Information"}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsx(de,{label:"Delivery Date",type:"date",value:s.deliveryDate,onChange:p=>l("deliveryDate",p.target.value)}),r.jsx(Ut,{label:"Delivery Slot",value:s.deliverySlot,onChange:p=>l("deliverySlot",p.target.value),options:m}),r.jsx("div",{className:"md:col-span-2",children:r.jsx(de,{label:"Delivery Instructions",value:s.deliveryInstructions,onChange:p=>l("deliveryInstructions",p.target.value),placeholder:"Special delivery instructions"})})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-md font-medium",children:"Items"}),r.jsxs(oe,{variant:"secondary",size:"sm",onClick:c,children:[r.jsx(dr,{className:"mr-1 h-4 w-4"}),"Add Item"]})]}),r.jsx("div",{className:"space-y-4",children:s.items.map((p,x)=>r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"grid md:grid-cols-7 gap-3",children:[r.jsx("div",{className:"md:col-span-2",children:r.jsx(de,{label:"Product Name *",value:p.productName,onChange:v=>o(x,"productName",v.target.value),placeholder:"Product name"})}),r.jsx(de,{label:"Weight",value:p.weight,onChange:v=>o(x,"weight",v.target.value),placeholder:"1.5 kg"}),r.jsx(de,{label:"Cutting Type",value:p.cuttingType,onChange:v=>o(x,"cuttingType",v.target.value),placeholder:"Fillet"}),r.jsx(de,{label:"Qty *",type:"number",value:p.quantity,onChange:v=>o(x,"quantity",parseInt(v.target.value)||0)}),r.jsx(de,{label:"Unit Price *",type:"number",value:p.unitPrice,onChange:v=>o(x,"unitPrice",parseFloat(v.target.value)||0)}),r.jsxs("div",{className:"flex items-end gap-2",children:[r.jsx("div",{className:"flex-1",children:r.jsx(de,{label:"Discount %",type:"number",value:p.discount,onChange:v=>o(x,"discount",parseFloat(v.target.value)||0)})}),s.items.length>1&&r.jsx(oe,{variant:"danger",size:"sm",onClick:()=>d(x),children:r.jsx(Xd,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"mt-2 text-right",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Total: "}),r.jsxs("span",{className:"font-medium",children:["",p.total.toFixed(2)]})]})]},p.id))})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-md font-medium mb-4",children:"Payment Details"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(Ut,{label:"Payment Mode *",value:s.paymentMode,onChange:p=>l("paymentMode",p.target.value),options:h}),r.jsx(de,{label:"Delivery Charges",type:"number",value:s.deliveryCharges,onChange:p=>l("deliveryCharges",parseFloat(p.target.value)||0)}),r.jsx(de,{label:"Support Phone",value:s.supportPhone,onChange:p=>l("supportPhone",p.target.value)}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),r.jsx("textarea",{value:s.notes,onChange:p=>l("notes",p.target.value),rows:3,className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Additional notes or terms"})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-md font-medium mb-4",children:"Bill Summary"}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Subtotal:"}),r.jsxs("span",{children:["",s.subtotal.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between text-red-600",children:[r.jsx("span",{children:"Discount:"}),r.jsxs("span",{children:["-",s.totalDiscount.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Tax (GST):"}),r.jsxs("span",{children:["",s.totalTax.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Delivery Charges:"}),r.jsxs("span",{children:["",s.deliveryCharges.toFixed(2)]})]}),r.jsx("hr",{}),r.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[r.jsx("span",{children:"Net Amount:"}),r.jsxs("span",{children:["",s.netAmount.toFixed(2)]})]})]})]})]})]})]}),n&&r.jsxs(he,{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Bill Preview"}),r.jsxs("div",{className:"bg-white border rounded-lg p-6 max-w-2xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("h2",{className:"text-xl font-bold",children:"INVOICE"}),r.jsxs("p",{className:"text-sm text-gray-600",children:["#",s.invoiceNumber]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-2",children:"Bill To:"}),r.jsx("p",{className:"text-sm",children:s.customerName}),r.jsx("p",{className:"text-sm text-gray-600",children:s.customerAddress}),r.jsx("p",{className:"text-sm text-gray-600",children:s.phoneNumber})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-sm",children:[r.jsx("strong",{children:"Date:"})," ",s.billDate]}),r.jsxs("p",{className:"text-sm",children:[r.jsx("strong",{children:"Delivery:"})," ",s.deliveryDate]}),r.jsxs("p",{className:"text-sm",children:[r.jsx("strong",{children:"Payment:"})," ",s.paymentMode]})]})]}),r.jsx("div",{className:"mb-6",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left p-2",children:"Item"}),r.jsx("th",{className:"text-right p-2",children:"Qty"}),r.jsx("th",{className:"text-right p-2",children:"Price"}),r.jsx("th",{className:"text-right p-2",children:"Total"})]})}),r.jsx("tbody",{children:s.items.map((p,x)=>r.jsxs("tr",{className:"border-t",children:[r.jsxs("td",{className:"p-2",children:[r.jsx("div",{children:p.productName}),p.weight&&r.jsx("div",{className:"text-xs text-gray-500",children:p.weight}),p.cuttingType&&r.jsx("div",{className:"text-xs text-gray-500",children:p.cuttingType})]}),r.jsx("td",{className:"text-right p-2",children:p.quantity}),r.jsxs("td",{className:"text-right p-2",children:["",p.unitPrice]}),r.jsxs("td",{className:"text-right p-2",children:["",p.total.toFixed(2)]})]},x))})]})}),r.jsxs("div",{className:"text-right space-y-1 mb-6",children:[r.jsxs("p",{className:"text-sm",children:["Subtotal: ",s.subtotal.toFixed(2)]}),r.jsxs("p",{className:"text-sm text-red-600",children:["Discount: -",s.totalDiscount.toFixed(2)]}),r.jsxs("p",{className:"text-sm",children:["Tax: ",s.totalTax.toFixed(2)]}),r.jsxs("p",{className:"text-sm",children:["Delivery: ",s.deliveryCharges.toFixed(2)]}),r.jsxs("p",{className:"text-lg font-bold",children:["Total: ",s.netAmount.toFixed(2)]})]}),r.jsxs("div",{className:"text-center text-xs text-gray-500",children:[r.jsxs("p",{children:["Support: ",s.supportPhone]}),s.notes&&r.jsx("p",{className:"mt-2",children:s.notes})]})]})]})]})},Cj=[{id:"product_name",name:"Product Name",type:"text",value:"Fresh Salmon - 1kg",fontSize:16,fontWeight:"bold",position:{x:10,y:10},width:200,height:25,isVisible:!0},{id:"product_code",name:"Product Code",type:"text",value:"SAL001",fontSize:12,fontWeight:"normal",position:{x:10,y:40},width:100,height:20,isVisible:!0},{id:"price",name:"Price",type:"text",value:"450.00",fontSize:14,fontWeight:"bold",position:{x:120,y:40},width:80,height:20,isVisible:!0},{id:"barcode",name:"Barcode",type:"barcode",value:"1234567890123",fontSize:10,fontWeight:"normal",position:{x:10,y:70},width:150,height:30,isVisible:!0},{id:"expiry_date",name:"Expiry Date",type:"date",value:"2024-02-15",fontSize:10,fontWeight:"normal",position:{x:10,y:110},width:100,height:15,isVisible:!0},{id:"batch_number",name:"Batch Number",type:"text",value:"B240115001",fontSize:10,fontWeight:"normal",position:{x:120,y:110},width:80,height:15,isVisible:!0}],CUe=[{category:"Product Information",fields:[{id:"product_name",label:"Product Name",type:"text"},{id:"product_code",label:"Product Code",type:"text"},{id:"product_description",label:"Description",type:"text"},{id:"category",label:"Category",type:"text"},{id:"brand",label:"Brand",type:"text"},{id:"weight",label:"Weight",type:"text"},{id:"unit",label:"Unit",type:"text"}]},{category:"Pricing",fields:[{id:"price",label:"Price",type:"text"},{id:"mrp",label:"MRP",type:"text"},{id:"discount",label:"Discount",type:"text"},{id:"tax_rate",label:"Tax Rate",type:"text"},{id:"final_price",label:"Final Price",type:"text"}]},{category:"Inventory",fields:[{id:"batch_number",label:"Batch Number",type:"text"},{id:"lot_number",label:"Lot Number",type:"text"},{id:"manufacturing_date",label:"Manufacturing Date",type:"date"},{id:"expiry_date",label:"Expiry Date",type:"date"},{id:"stock_quantity",label:"Stock Quantity",type:"number"}]},{category:"Barcodes & QR",fields:[{id:"barcode",label:"Barcode",type:"barcode"},{id:"qr_code",label:"QR Code",type:"qrcode"},{id:"sku",label:"SKU",type:"text"}]},{category:"Business Info",fields:[{id:"company_name",label:"Company Name",type:"text"},{id:"company_logo",label:"Company Logo",type:"image"},{id:"address",label:"Address",type:"text"},{id:"phone",label:"Phone",type:"text"},{id:"email",label:"Email",type:"text"}]}];function Tj(){const[e,t]=A.useState({id:"1",name:"Product Label",width:220,height:140,fields:Cj,paperSize:"A4",orientation:"portrait"}),[s,a]=A.useState("design"),[n,i]=A.useState(Cj.map(U=>U.id)),[l,o]=A.useState(1),[c,d]=A.useState(!1),h=A.useRef(null),[m,p]=A.useState({dateFrom:"",dateTo:"",customer:"",invoiceNumber:"",product:"",selectedOrders:[]}),[x,v]=A.useState("delivery"),y=[{id:"ORD-001",date:"2024-02-10",customer:"Rajesh Kumar",invoice:"INV-2024-001",product:"Fresh Salmon",amount:850},{id:"ORD-002",date:"2024-02-10",customer:"Priya Sharma",invoice:"INV-2024-002",product:"Tuna Steak",amount:1200},{id:"ORD-003",date:"2024-02-11",customer:"Arun Patel",invoice:"INV-2024-003",product:"Prawns",amount:650},{id:"ORD-004",date:"2024-02-11",customer:"Lakshmi Devi",invoice:"INV-2024-004",product:"Crab",amount:1450},{id:"ORD-005",date:"2024-02-12",customer:"Rajesh Kumar",invoice:"INV-2024-005",product:"Lobster",amount:2100}],[b,j]=A.useState({deliverySlip:[{id:"customer_name",label:"Customer Name",type:"text",required:!0,enabled:!0,position:{x:20,y:20},fontSize:14,fontWeight:"bold"},{id:"customer_address",label:"Delivery Address",type:"address",required:!0,enabled:!0,position:{x:20,y:45},fontSize:12,fontWeight:"normal"},{id:"phone_number",label:"Phone Number",type:"phone",required:!0,enabled:!0,position:{x:20,y:85},fontSize:12,fontWeight:"normal"},{id:"alternate_phone",label:"Alternate Phone",type:"phone",required:!1,enabled:!0,position:{x:150,y:85},fontSize:12,fontWeight:"normal"},{id:"invoice_number",label:"Invoice Number",type:"text",required:!0,enabled:!0,position:{x:20,y:110},fontSize:12,fontWeight:"bold"},{id:"net_amount",label:"Net Amount",type:"number",required:!0,enabled:!0,position:{x:150,y:110},fontSize:12,fontWeight:"bold"},{id:"payment_mode",label:"Payment Mode",type:"text",required:!0,enabled:!0,position:{x:20,y:135},fontSize:12,fontWeight:"normal"},{id:"delivery_date",label:"Delivery Date",type:"date",required:!0,enabled:!0,position:{x:20,y:160},fontSize:12,fontWeight:"normal"},{id:"delivery_slot",label:"Delivery Slot",type:"text",required:!1,enabled:!0,position:{x:150,y:160},fontSize:12,fontWeight:"normal"},{id:"delivery_instructions",label:"Delivery Instructions",type:"text",required:!1,enabled:!0,position:{x:20,y:185},fontSize:10,fontWeight:"normal"},{id:"support_phone",label:"Support Phone",type:"phone",required:!0,enabled:!0,position:{x:20,y:210},fontSize:10,fontWeight:"normal"},{id:"qr_code",label:"QR Code",type:"qr",required:!1,enabled:!0,position:{x:200,y:20},fontSize:10,fontWeight:"normal"},{id:"brand_logo",label:"Brand Logo",type:"image",required:!1,enabled:!0,position:{x:200,y:60},fontSize:10,fontWeight:"normal"}],packingSlip:[{id:"customer_name",label:"Customer Name",type:"text",required:!0,enabled:!0,position:{x:20,y:20},fontSize:14,fontWeight:"bold"},{id:"invoice_number",label:"Invoice Number",type:"text",required:!0,enabled:!0,position:{x:20,y:45},fontSize:12,fontWeight:"bold"},{id:"product_name",label:"Product Name",type:"text",required:!0,enabled:!0,position:{x:20,y:70},fontSize:12,fontWeight:"normal"},{id:"product_weight",label:"Weight",type:"text",required:!0,enabled:!0,position:{x:150,y:70},fontSize:12,fontWeight:"normal"},{id:"cutting_type",label:"Cutting Type",type:"text",required:!1,enabled:!0,position:{x:20,y:95},fontSize:12,fontWeight:"normal"},{id:"quantity",label:"Quantity",type:"number",required:!0,enabled:!0,position:{x:150,y:95},fontSize:12,fontWeight:"normal"},{id:"net_amount",label:"Net Amount",type:"number",required:!0,enabled:!0,position:{x:20,y:120},fontSize:12,fontWeight:"bold"},{id:"payment_mode",label:"Payment Mode",type:"text",required:!0,enabled:!0,position:{x:150,y:120},fontSize:12,fontWeight:"normal"},{id:"packing_date",label:"Packing Date",type:"date",required:!0,enabled:!0,position:{x:20,y:145},fontSize:12,fontWeight:"normal"},{id:"barcode",label:"Product Barcode",type:"barcode",required:!1,enabled:!0,position:{x:20,y:170},fontSize:10,fontWeight:"normal"},{id:"brand_logo",label:"Brand Logo",type:"image",required:!1,enabled:!0,position:{x:200,y:20},fontSize:10,fontWeight:"normal"},{id:"support_phone",label:"Support Phone",type:"phone",required:!0,enabled:!0,position:{x:20,y:200},fontSize:10,fontWeight:"normal"}]}),S=[{value:"A4",label:"A4 (210  297 mm)"},{value:"A5",label:"A5 (148  210 mm)"},{value:"Letter",label:"Letter (8.5  11 in)"},{value:"Custom",label:"Custom Size"}],w=[{value:"product",label:"Product Label"},{value:"shipping",label:"Shipping Label"},{value:"barcode",label:"Barcode Label"},{value:"price",label:"Price Tag"},{value:"custom",label:"Custom Template"}],k=(U,M)=>{t(L=>({...L,fields:L.fields.map(J=>J.id===U?{...J,...M}:J)}))},_=U=>{const M={id:U.id,name:U.label,type:U.type,value:`Sample ${U.label}`,fontSize:12,fontWeight:"normal",position:{x:10,y:10},width:150,height:20,isVisible:!0};t(L=>({...L,fields:[...L.fields,M]})),i(L=>[...L,U.id])},O=U=>{t(M=>({...M,fields:M.fields.filter(L=>L.id!==U)})),i(M=>M.filter(L=>L!==U))},E=()=>{if(h.current){const U=window.open("","_blank");U&&(U.document.write(`
          <html>
            <head>
              <title>Print Labels</title>
              <style>
                body { margin: 0; padding: 20px; font-family: Arial, sans-serif; }
                .label-container { display: flex; flex-wrap: wrap; gap: 10px; }
                .label { border: 1px solid #ccc; page-break-inside: avoid; }
                @media print {
                  body { margin: 0; padding: 0; }
                  .label-container { gap: 0; }
                }
              </style>
            </head>
            <body>
              ${h.current.innerHTML}
            </body>
          </html>
        `),U.document.close(),U.print())}},F=()=>{console.log("Downloading labels...")},I=()=>{t({id:"1",name:"Product Label",width:220,height:140,fields:Cj,paperSize:"A4",orientation:"portrait"}),i(Cj.map(U=>U.id))};return r.jsxs("div",{className:"space-y-4 sm:space-y-6 p-4 sm:p-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Label Generator"}),r.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Create and customize labels for your products"})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[r.jsxs(oe,{variant:"secondary",onClick:I,className:"text-sm",children:[r.jsx(rn,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4"}),"Reset"]}),r.jsxs(oe,{variant:"secondary",onClick:()=>d(!c),className:"text-sm",children:[r.jsx(Fr,{className:"mr-2 h-4 w-4 sm:h-5 sm:w-5"}),c?"Edit":"Preview"]}),r.jsxs(oe,{className:"text-sm",children:[r.jsx(Ii,{className:"mr-2 h-4 w-4 sm:h-5 sm:w-5"}),"Save Template"]})]})]}),r.jsxs(he,{className:"p-4 sm:p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[r.jsx("div",{className:"rounded-lg bg-blue-50 p-2",children:r.jsx(ic,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-base sm:text-lg font-semibold",children:"Template Settings"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Configure label dimensions and layout"})]})]}),r.jsxs("div",{className:"grid gap-3 sm:gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-4",children:[r.jsx(de,{label:"Template Name",value:e.name,onChange:U=>t(M=>({...M,name:U.target.value}))}),r.jsx(Ut,{label:"Paper Size",value:e.paperSize,onChange:U=>t(M=>({...M,paperSize:U.target.value})),options:S}),r.jsx(de,{label:"Width (mm)",type:"number",value:e.width,onChange:U=>t(M=>({...M,width:parseInt(U.target.value)}))}),r.jsx(de,{label:"Height (mm)",type:"number",value:e.height,onChange:U=>t(M=>({...M,height:parseInt(U.target.value)}))})]})]}),c?r.jsxs("div",{className:"grid gap-4 sm:gap-6 lg:grid-cols-4",children:[r.jsx("div",{className:"lg:col-span-3",children:r.jsxs(he,{className:"p-4 sm:p-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4 sm:mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"rounded-lg bg-indigo-50 p-2",children:r.jsx(Fr,{className:"h-4 w-4 sm:h-5 sm:w-5 text-indigo-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-base sm:text-lg font-semibold",children:"Label Preview"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Preview your labels before printing"})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[r.jsxs(oe,{variant:"secondary",onClick:F,className:"text-xs sm:text-sm",children:[r.jsx(ei,{className:"mr-2 h-4 w-4 sm:h-5 sm:w-5"}),r.jsx("span",{className:"hidden sm:inline",children:"Download"}),r.jsx("span",{className:"sm:hidden",children:"Save"})]}),r.jsxs(oe,{onClick:E,className:"text-xs sm:text-sm",children:[r.jsx(nm,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4"}),"Print"]})]})]}),r.jsx("div",{ref:h,children:r.jsx(gUe,{template:e,quantity:l})})]})}),r.jsxs("div",{children:[r.jsxs(he,{className:"p-4 sm:p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[r.jsx("div",{className:"rounded-lg bg-red-50 p-2",children:r.jsx(nm,{className:"h-4 w-4 sm:h-5 sm:w-5 text-red-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-base sm:text-lg font-semibold",children:"Print Settings"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Configure printing options"})]})]}),r.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Number of Labels"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(oe,{variant:"secondary",size:"sm",onClick:()=>o(Math.max(1,l-1)),className:"p-1 sm:p-2",children:r.jsx(Xd,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),r.jsx(de,{type:"number",value:l,onChange:U=>o(Math.max(1,parseInt(U.target.value)||1)),className:"text-center text-xs sm:text-sm",min:"1"}),r.jsx(oe,{variant:"secondary",size:"sm",onClick:()=>o(l+1),className:"p-1 sm:p-2",children:r.jsx(dr,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]})]}),r.jsx(Ut,{label:"Print Quality",options:[{value:"draft",label:"Draft"},{value:"normal",label:"Normal"},{value:"high",label:"High Quality"}],className:"text-xs sm:text-sm"}),r.jsx(Ut,{label:"Printer",options:[{value:"default",label:"Default Printer"},{value:"thermal",label:"Thermal Printer"},{value:"laser",label:"Laser Printer"}],className:"text-xs sm:text-sm"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",className:"rounded",defaultChecked:!0}),r.jsx("span",{className:"text-xs sm:text-sm",children:"Print borders"})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",className:"rounded"}),r.jsx("span",{className:"text-xs sm:text-sm",children:"Print in grayscale"})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",className:"rounded"}),r.jsx("span",{className:"text-xs sm:text-sm",children:"Fit to page"})]})]})]})]}),r.jsxs(he,{className:"mt-4 sm:mt-6 p-4 sm:p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3 sm:mb-4",children:[r.jsx("div",{className:"rounded-lg bg-yellow-50 p-2",children:r.jsx(Rs,{className:"h-4 w-4 sm:h-5 sm:w-5 text-yellow-600"})}),r.jsx("div",{children:r.jsx("h3",{className:"text-sm sm:text-base font-semibold",children:"Templates"})})]}),r.jsx("div",{className:"space-y-2",children:w.map(U=>r.jsx("button",{className:"w-full text-left p-2 rounded hover:bg-gray-50 text-xs sm:text-sm",children:U.label},U.value))})]})]})]}):r.jsxs("div",{className:"grid gap-4 sm:gap-6 lg:grid-cols-3",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsxs(he,{className:"p-4 sm:p-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4 sm:mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"rounded-lg bg-green-50 p-2",children:r.jsx(Rs,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-base sm:text-lg font-semibold",children:"Label, Slip & Bill Designer"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Design labels, create delivery slips, packing slips, and bills"})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(oe,{variant:s==="design"?"primary":"secondary",size:"sm",onClick:()=>a("design"),className:"text-xs sm:text-sm",children:"Design"}),r.jsx(oe,{variant:s==="data"?"primary":"secondary",size:"sm",onClick:()=>a("data"),className:"text-xs sm:text-sm",children:"Data"}),r.jsxs(oe,{variant:s==="slips"?"primary":"secondary",size:"sm",onClick:()=>a("slips"),className:"text-xs sm:text-sm",children:[r.jsx(Mr,{className:"mr-1 h-3 w-3"}),"Slips"]}),r.jsxs(oe,{variant:s==="bill"?"primary":"secondary",size:"sm",onClick:()=>a("bill"),className:"text-xs sm:text-sm",children:[r.jsx(V0,{className:"mr-1 h-3 w-3"}),"Bill"]}),r.jsxs(oe,{variant:s==="print"?"primary":"secondary",size:"sm",onClick:()=>a("print"),className:"text-xs sm:text-sm",children:[r.jsx(nm,{className:"mr-1 h-3 w-3"}),"Print Slips"]})]})]}),s==="design"&&r.jsx(vUe,{template:e,onUpdateField:k,onRemoveField:O}),s==="data"&&r.jsx(bUe,{availableFields:CUe,selectedFields:n,onAddField:_,onRemoveField:O}),s==="slips"&&r.jsx(kUe,{config:b,onChange:j}),s==="bill"&&r.jsx(AUe,{onSave:U=>{console.log("Saving bill:",U),alert("Bill saved successfully!")}}),s==="print"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex gap-2 mb-4",children:[r.jsxs(oe,{variant:x==="delivery"?"primary":"secondary",onClick:()=>v("delivery"),className:"flex-1",children:[r.jsx(Mr,{className:"mr-2 h-4 w-4"}),"Delivery Slips"]}),r.jsxs(oe,{variant:x==="packing"?"primary":"secondary",onClick:()=>v("packing"),className:"flex-1",children:[r.jsx(Tt,{className:"mr-2 h-4 w-4"}),"Packing Slips"]})]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[r.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[r.jsx(Jr,{className:"h-5 w-5 text-blue-600"}),"Filter Orders for ",x==="delivery"?"Delivery":"Packing"," Slips"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(de,{label:"From Date",type:"date",value:m.dateFrom,onChange:U=>p({...m,dateFrom:U.target.value})}),r.jsx(de,{label:"To Date",type:"date",value:m.dateTo,onChange:U=>p({...m,dateTo:U.target.value})}),r.jsx(de,{label:"Customer Name",value:m.customer,onChange:U=>p({...m,customer:U.target.value}),placeholder:"Search customer..."}),r.jsx(de,{label:"Invoice Number",value:m.invoiceNumber,onChange:U=>p({...m,invoiceNumber:U.target.value}),placeholder:"INV-2024-001"}),r.jsx(de,{label:"Product Name",value:m.product,onChange:U=>p({...m,product:U.target.value}),placeholder:"Search product..."}),r.jsx("div",{className:"flex items-end",children:r.jsx(oe,{variant:"secondary",onClick:()=>p({dateFrom:"",dateTo:"",customer:"",invoiceNumber:"",product:"",selectedOrders:[]}),className:"w-full",children:"Clear Filters"})})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"font-semibold",children:["Orders (",m.selectedOrders.length," selected)"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(oe,{size:"sm",variant:"secondary",onClick:()=>p({...m,selectedOrders:y.map(U=>U.id)}),children:"Select All"}),r.jsx(oe,{size:"sm",variant:"secondary",onClick:()=>p({...m,selectedOrders:[]}),children:"Deselect All"}),r.jsxs(oe,{size:"sm",disabled:m.selectedOrders.length===0,onClick:()=>alert(`Printing ${m.selectedOrders.length} ${x} slips...`),children:[r.jsx(nm,{className:"mr-2 h-4 w-4"}),"Print ",x==="delivery"?"Delivery":"Packing"," Slips"]})]})]}),r.jsx("div",{className:"space-y-2",children:y.filter(U=>!(m.dateFrom&&U.date<m.dateFrom||m.dateTo&&U.date>m.dateTo||m.customer&&!U.customer.toLowerCase().includes(m.customer.toLowerCase())||m.invoiceNumber&&!U.invoice.toLowerCase().includes(m.invoiceNumber.toLowerCase())||m.product&&!U.product.toLowerCase().includes(m.product.toLowerCase()))).map(U=>r.jsx("div",{className:`p-4 border rounded-lg cursor-pointer transition-colors ${m.selectedOrders.includes(U.id)?"bg-blue-50 border-blue-300":"bg-white hover:bg-gray-50"}`,onClick:()=>{const M=m.selectedOrders.includes(U.id)?m.selectedOrders.filter(L=>L!==U.id):[...m.selectedOrders,U.id];p({...m,selectedOrders:M})},children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("input",{type:"checkbox",checked:m.selectedOrders.includes(U.id),onChange:()=>{},className:"h-4 w-4 rounded"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold",children:U.id}),r.jsx("p",{className:"text-sm text-gray-600",children:U.date})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:U.customer}),r.jsx("p",{className:"text-xs text-gray-500",children:U.invoice})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm",children:U.product}),r.jsxs("p",{className:"text-xs text-gray-500",children:["",U.amount]})]})]}),r.jsx(oe,{size:"sm",variant:"ghost",onClick:M=>{M.stopPropagation(),alert(`Printing ${x} slip for ${U.id}...`)},children:r.jsx(nm,{className:"h-4 w-4"})})]})},U.id))})]})]})]})}),r.jsxs("div",{children:[r.jsxs(he,{className:"p-4 sm:p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[r.jsx("div",{className:"rounded-lg bg-purple-50 p-2",children:r.jsx(ic,{className:"h-4 w-4 sm:h-5 sm:w-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-base sm:text-lg font-semibold",children:"Field Properties"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Customize selected field"})]})]}),r.jsx("div",{className:"space-y-4",children:r.jsx("div",{className:"text-xs sm:text-sm text-gray-500 text-center py-6 sm:py-8",children:"Select a field to edit its properties"})})]}),r.jsxs(he,{className:"mt-4 sm:mt-6 p-4 sm:p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3 sm:mb-4",children:[r.jsx("div",{className:"rounded-lg bg-orange-50 p-2",children:r.jsx(Tt,{className:"h-4 w-4 sm:h-5 sm:w-5 text-orange-600"})}),r.jsx("div",{children:r.jsx("h3",{className:"text-sm sm:text-base font-semibold",children:"Quick Actions"})})]}),r.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[r.jsxs(oe,{variant:"secondary",className:"w-full justify-start text-xs sm:text-sm",size:"sm",children:[r.jsx(dr,{className:"mr-2 h-4 w-4 sm:h-5 sm:w-5"}),"Add Text Field"]}),r.jsxs(oe,{variant:"secondary",className:"w-full justify-start text-xs sm:text-sm",size:"sm",children:[r.jsx(Ow,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4"}),"Add Barcode"]}),r.jsxs(oe,{variant:"secondary",className:"w-full justify-start text-xs sm:text-sm",size:"sm",children:[r.jsx(az,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4"}),"Add QR Code"]}),r.jsxs(oe,{variant:"secondary",className:"w-full justify-start text-xs sm:text-sm",size:"sm",children:[r.jsx(Jr,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4"}),"Add Date Field"]})]})]})]})]})]})}function Mk(){const{user:e}=es();if(!e)return r.jsx(Js,{to:"/login",replace:!0});switch(e.role){case"hub_procurement":return r.jsx(Js,{to:"/hub/procurement/purchases",replace:!0});case"store_procurement":return r.jsx(Js,{to:"/store/procurement/purchases",replace:!0});case"hub_cutting_cleaning":return r.jsx(Js,{to:"/hub/cutting/management",replace:!0});case"store_cutting_cleaning":return r.jsx(Js,{to:"/store/cutting/management",replace:!0});case"hub_packing":return r.jsx(Js,{to:"/hub/packing/management",replace:!0});case"store_packing":return r.jsx(Js,{to:"/store/packing/management",replace:!0});case"hub_dispatch":return r.jsx(Js,{to:"/hub/dispatch/management",replace:!0});case"store_dispatch":return r.jsx(Js,{to:"/store/dispatch/management",replace:!0});case"hub_delivery":return r.jsx(Js,{to:"/hub/delivery/agent",replace:!0});case"store_delivery":return r.jsx(Js,{to:"/store/delivery/agent",replace:!0});default:return r.jsx(Js,{to:"/dashboard",replace:!0})}}function TUe({children:e}){const{isAuthenticated:t}=es();return t?r.jsx(r.Fragment,{children:e}):r.jsx(Js,{to:"/login",replace:!0})}function EUe(){const{isAuthenticated:e}=es();return r.jsx(YU,{children:r.jsxs(DQ,{children:[r.jsx(ze,{path:"/login",element:e?r.jsx(Mk,{}):r.jsx(V7e,{})}),r.jsxs(ze,{path:"/",element:r.jsx(TUe,{children:r.jsx(Ose,{})}),children:[r.jsx(ze,{index:!0,element:r.jsx(Mk,{})}),r.jsx(ze,{path:"dashboard",element:r.jsx(_Ie,{})}),r.jsx(ze,{path:"hub/procurement/purchases",element:r.jsx(bs,{children:r.jsx(z9,{})})}),r.jsx(ze,{path:"store/procurement/purchases",element:r.jsx(bs,{children:r.jsx(z9,{})})}),r.jsx(ze,{path:"hub/cutting/management",element:r.jsx(hD,{children:r.jsx(H9,{})})}),r.jsx(ze,{path:"store/cutting/management",element:r.jsx(hD,{children:r.jsx(H9,{})})}),r.jsx(ze,{path:"hub/packing/management",element:r.jsx(Uv,{children:r.jsx(V9,{})})}),r.jsx(ze,{path:"store/packing/management",element:r.jsx(Uv,{children:r.jsx(V9,{})})}),r.jsx(ze,{path:"hub/dispatch/management",element:r.jsx(uD,{children:r.jsx(W9,{})})}),r.jsx(ze,{path:"store/dispatch/management",element:r.jsx(uD,{children:r.jsx(W9,{})})}),r.jsx(ze,{path:"hub/delivery/management",element:r.jsx(Ti,{allowedRoles:["hub_main_admin","hub_delivery"],children:r.jsx(cj,{})})}),r.jsx(ze,{path:"hub/delivery/agent",element:r.jsx(Ti,{allowedRoles:["hub_delivery"],children:r.jsx(cj,{})})}),r.jsx(ze,{path:"hub/delivery/admin",element:r.jsx(Ti,{allowedRoles:["hub_main_admin"],children:r.jsx(jU,{})})}),r.jsx(ze,{path:"store/delivery/management",element:r.jsx(Ti,{allowedRoles:["store_main_admin","store_delivery"],children:r.jsx(cj,{})})}),r.jsx(ze,{path:"store/delivery/agent",element:r.jsx(Ti,{allowedRoles:["store_delivery"],children:r.jsx(cj,{})})}),r.jsx(ze,{path:"store/delivery/admin",element:r.jsx(Ti,{allowedRoles:["store_main_admin"],children:r.jsx(jU,{})})}),r.jsx(ze,{path:"hub/products/categories",element:r.jsx(bs,{children:r.jsx(sj,{})})}),r.jsx(ze,{path:"hub/products/cutting-types",element:r.jsx(Ur,{children:r.jsx(K2,{})})}),r.jsx(ze,{path:"hub/products/stock",element:r.jsx(bs,{children:r.jsx(nj,{})})}),r.jsx(ze,{path:"hub/products/approval",element:r.jsx(Ur,{permission:"PRODUCT_APPROVAL",children:r.jsx(G2,{})})}),r.jsx(ze,{path:"hub/products/recipes",element:r.jsx(bs,{children:r.jsx(_j,{})})}),r.jsx(ze,{path:"hub/products/*",element:r.jsx(bs,{children:r.jsx(W2,{})})}),r.jsx(ze,{path:"hub/scratch-card",element:r.jsx(bs,{children:r.jsx(Y2,{})})}),r.jsx(ze,{path:"hub/spin-wheel",element:r.jsx(bs,{children:r.jsx(X2,{})})}),r.jsx(ze,{path:"hub/flash-sale",element:r.jsx(bs,{children:r.jsx(Z2,{})})}),r.jsx(ze,{path:"hub/subscription",element:r.jsx(bs,{children:r.jsx(J2,{})})}),r.jsx(ze,{path:"hub/offer-notification",element:r.jsx(bs,{children:r.jsx(Q2,{})})}),r.jsx(ze,{path:"hub/coupon",element:r.jsx(bs,{children:r.jsx(ej,{})})}),r.jsx(ze,{path:"hub/in-app-currency",element:r.jsx(bs,{children:r.jsx(tj,{})})}),r.jsx(ze,{path:"hub/referral",element:r.jsx(bs,{children:r.jsx(sy,{})})}),r.jsx(ze,{path:"hub/marketing/*",element:r.jsx(bs,{children:r.jsx(wj,{})})}),r.jsx(ze,{path:"hub/reports/stock",element:r.jsx(bs,{children:r.jsx(oj,{})})}),r.jsx(ze,{path:"hub/reports/procurement",element:r.jsx(bs,{children:r.jsx(m6,{})})}),r.jsx(ze,{path:"hub/procurement",element:r.jsx(bs,{children:r.jsx(_U,{})})}),r.jsx(ze,{path:"hub/reports/sales",element:r.jsx(Ur,{permission:tt.HUB_REPORTS_SALES,children:r.jsx(lj,{})})}),r.jsx(ze,{path:"hub/reports/packing",element:r.jsx(Ti,{allowedRoles:["hub_main_admin","hub_packing"],children:r.jsx(Pp,{})})}),r.jsx(ze,{path:"hub/reports/delivery",element:r.jsx(Ti,{allowedRoles:["hub_main_admin","hub_delivery"],children:r.jsx(Op,{})})}),r.jsx(ze,{path:"hub/reports/customer",element:r.jsx(Ur,{permission:tt.HUB_REPORTS_CUSTOMER,children:r.jsx(dj,{})})}),r.jsx(ze,{path:"hub/reports/demand-forecast",element:r.jsx(Ur,{permission:tt.HUB_REPORTS_SALES,children:r.jsx(uj,{})})}),r.jsx(ze,{path:"hub/reports/trend-analysis",element:r.jsx(Ur,{permission:tt.HUB_REPORTS_SALES,children:r.jsx(hj,{})})}),r.jsx(ze,{path:"hub/reports/tax-gst",element:r.jsx(Ur,{permission:tt.HUB_REPORTS_SALES,children:r.jsx(fj,{})})}),r.jsx(ze,{path:"hub/system/rollback",element:r.jsx(Ur,{permission:tt.HUB_REPORTS_SALES,children:r.jsx(mj,{})})}),r.jsx(ze,{path:"hub/reports",element:r.jsx(Ep,{})}),r.jsx(ze,{path:"hub/orders/*",element:r.jsx(Ti,{allowedRoles:["hub_main_admin","hub_packing","hub_delivery"],children:r.jsx(V2,{})})}),r.jsx(ze,{path:"hub/team/*",element:r.jsx(Ur,{permission:tt.HUB_TEAM_VIEW,children:r.jsx(rj,{})})}),r.jsx(ze,{path:"hub/labeling",element:r.jsx(Ti,{allowedRoles:["hub_main_admin","hub_packing"],children:r.jsx(Tj,{})})}),r.jsx(ze,{path:"hub/packing",element:r.jsx(Uv,{children:r.jsx(kU,{})})}),r.jsx(ze,{path:"hub/reports/packing",element:r.jsx(Ti,{allowedRoles:["hub_main_admin","hub_packing"],children:r.jsx(Pp,{})})}),r.jsx(ze,{path:"hub/reports/delivery",element:r.jsx(Ti,{allowedRoles:["hub_main_admin","hub_delivery"],children:r.jsx(Op,{})})}),r.jsx(ze,{path:"hub/reports",element:r.jsx(Uv,{children:r.jsx(Ep,{})})}),r.jsx(ze,{path:"hub/orders/manual",element:r.jsx(Ur,{permission:tt.HUB_ORDERS_CREATE,children:r.jsx(f9e,{})})}),r.jsx(ze,{path:"hub/orders/pre-orders",element:r.jsx(Ur,{permission:tt.HUB_PRE_ORDERS,children:r.jsx(p9e,{})})}),r.jsx(ze,{path:"hub/audit",element:r.jsx(Ur,{permission:tt.HUB_AUDIT_LOGS,children:r.jsx(Aj,{})})}),r.jsx(ze,{path:"hub/settings",element:r.jsx(Ur,{permission:"HUB_TEAM_MANAGE",children:r.jsx(xj,{})})}),r.jsx(ze,{path:"hub/settings/delivery-slots",element:r.jsx(Ur,{permission:"HUB_TEAM_MANAGE",children:r.jsx(pj,{})})}),r.jsx(ze,{path:"hub/settings/shipping-charges",element:r.jsx(Ur,{permission:"HUB_TEAM_MANAGE",children:r.jsx(gj,{})})}),r.jsx(ze,{path:"hub/settings/integrations",element:r.jsx(Ur,{permission:"HUB_TEAM_MANAGE",children:r.jsx(vj,{})})}),r.jsx(ze,{path:"hub/settings/weather",element:r.jsx(Ur,{permission:"HUB_TEAM_MANAGE",children:r.jsx(bj,{})})}),r.jsx(ze,{path:"hub/settings/notification",element:r.jsx(Ur,{permission:"HUB_TEAM_MANAGE",children:r.jsx(yj,{})})}),r.jsx(ze,{path:"hub/settings/legal",element:r.jsx(Ur,{permission:"HUB_TEAM_MANAGE",children:r.jsx(jj,{})})}),r.jsx(ze,{path:"hub/settings/advertisement",element:r.jsx(Ur,{permission:"HUB_TEAM_MANAGE",children:r.jsx(Nj,{})})}),r.jsx(ze,{path:"hub/settings/*",element:r.jsx(Ur,{permission:"HUB_TEAM_MANAGE",children:r.jsx(kj,{})})}),r.jsx(ze,{path:"store/products/categories",element:r.jsx(bs,{children:r.jsx(sj,{})})}),r.jsx(ze,{path:"store/products/cutting-types",element:r.jsx(Ur,{children:r.jsx(K2,{})})}),r.jsx(ze,{path:"store/products/stock",element:r.jsx(bs,{children:r.jsx(nj,{})})}),r.jsx(ze,{path:"store/products/approval",element:r.jsx(Ur,{permission:"PRODUCT_APPROVAL",children:r.jsx(G2,{})})}),r.jsx(ze,{path:"store/products/recipes",element:r.jsx(bs,{children:r.jsx(_j,{})})}),r.jsx(ze,{path:"store/products/*",element:r.jsx(bs,{children:r.jsx(W2,{})})}),r.jsx(ze,{path:"store/scratch-card",element:r.jsx(bs,{children:r.jsx(Y2,{})})}),r.jsx(ze,{path:"store/spin-wheel",element:r.jsx(bs,{children:r.jsx(X2,{})})}),r.jsx(ze,{path:"store/flash-sale",element:r.jsx(bs,{children:r.jsx(Z2,{})})}),r.jsx(ze,{path:"store/subscription",element:r.jsx(bs,{children:r.jsx(J2,{})})}),r.jsx(ze,{path:"store/offer-notification",element:r.jsx(bs,{children:r.jsx(Q2,{})})}),r.jsx(ze,{path:"store/coupon",element:r.jsx(bs,{children:r.jsx(ej,{})})}),r.jsx(ze,{path:"store/in-app-currency",element:r.jsx(bs,{children:r.jsx(tj,{})})}),r.jsx(ze,{path:"store/referral",element:r.jsx(bs,{children:r.jsx(sy,{})})}),r.jsx(ze,{path:"store/marketing/*",element:r.jsx(bs,{children:r.jsx(wj,{})})}),r.jsx(ze,{path:"store/reports/stock",element:r.jsx(bs,{children:r.jsx(oj,{})})}),r.jsx(ze,{path:"store/reports/procurement",element:r.jsx(bs,{children:r.jsx(m6,{})})}),r.jsx(ze,{path:"store/procurement",element:r.jsx(bs,{children:r.jsx(_U,{})})}),r.jsx(ze,{path:"store/reports/sales",element:r.jsx(Ur,{permission:"HUB_REPORTS_SALES",children:r.jsx(lj,{})})}),r.jsx(ze,{path:"store/reports/packing",element:r.jsx(Ti,{allowedRoles:["store_main_admin","store_packing"],children:r.jsx(Pp,{})})}),r.jsx(ze,{path:"store/reports/delivery",element:r.jsx(Ti,{allowedRoles:["store_main_admin","store_delivery"],children:r.jsx(Op,{})})}),r.jsx(ze,{path:"store/reports/customer",element:r.jsx(Ur,{permission:"HUB_REPORTS_CUSTOMER",children:r.jsx(dj,{})})}),r.jsx(ze,{path:"store/reports/demand-forecast",element:r.jsx(Ur,{permission:"HUB_REPORTS_SALES",children:r.jsx(uj,{})})}),r.jsx(ze,{path:"store/reports/trend-analysis",element:r.jsx(Ur,{permission:"HUB_REPORTS_SALES",children:r.jsx(hj,{})})}),r.jsx(ze,{path:"store/reports/tax-gst",element:r.jsx(Ur,{permission:"HUB_REPORTS_SALES",children:r.jsx(fj,{})})}),r.jsx(ze,{path:"store/system/rollback",element:r.jsx(Ur,{permission:"HUB_REPORTS_SALES",children:r.jsx(mj,{})})}),r.jsx(ze,{path:"store/reports",element:r.jsx(Ep,{})}),r.jsx(ze,{path:"store/orders/*",element:r.jsx(Ti,{allowedRoles:["store_main_admin","store_packing","store_delivery"],children:r.jsx(V2,{})})}),r.jsx(ze,{path:"store/team/*",element:r.jsx(Ur,{permission:tt.STORE_TEAM_VIEW,children:r.jsx(rj,{})})}),r.jsx(ze,{path:"store/labeling",element:r.jsx(Ti,{allowedRoles:["store_main_admin","store_packing"],children:r.jsx(Tj,{})})}),r.jsx(ze,{path:"store/packing",element:r.jsx(Uv,{children:r.jsx(kU,{})})}),r.jsx(ze,{path:"store/reports/packing",element:r.jsx(Ti,{allowedRoles:["store_main_admin","store_packing"],children:r.jsx(Pp,{})})}),r.jsx(ze,{path:"store/reports/delivery",element:r.jsx(Ti,{allowedRoles:["store_main_admin","store_delivery"],children:r.jsx(Op,{})})}),r.jsx(ze,{path:"store/reports",element:r.jsx(Ep,{})}),r.jsx(ze,{path:"store/orders/manual",element:r.jsx(Ur,{permission:"STORE_ORDERS_CREATE",children:r.jsx(sU,{})})}),r.jsx(ze,{path:"store/orders/pre-orders",element:r.jsx(Ur,{permission:"STORE_ORDERS_CREATE",children:r.jsx(aU,{})})}),r.jsx(ze,{path:"store/team/custom-roles",element:r.jsx(Ur,{permission:"STORE_TEAM_MANAGE",children:r.jsx(Tk,{})})}),r.jsx(ze,{path:"store/audit",element:r.jsx(Ur,{permission:"STORE_TEAM_MANAGE",children:r.jsx(Aj,{})})}),r.jsx(ze,{path:"store/settings",element:r.jsx(Ur,{permission:"STORE_TEAM_MANAGE",children:r.jsx(xj,{})})}),r.jsx(ze,{path:"store/settings/delivery-slots",element:r.jsx(Ur,{permission:"STORE_TEAM_MANAGE",children:r.jsx(pj,{})})}),r.jsx(ze,{path:"store/settings/shipping-charges",element:r.jsx(Ur,{permission:"STORE_TEAM_MANAGE",children:r.jsx(gj,{})})}),r.jsx(ze,{path:"store/settings/integrations",element:r.jsx(Ur,{permission:"STORE_TEAM_MANAGE",children:r.jsx(vj,{})})}),r.jsx(ze,{path:"store/settings/weather",element:r.jsx(Ur,{permission:"STORE_TEAM_MANAGE",children:r.jsx(bj,{})})}),r.jsx(ze,{path:"store/settings/notification",element:r.jsx(Ur,{permission:"STORE_TEAM_MANAGE",children:r.jsx(yj,{})})}),r.jsx(ze,{path:"store/settings/legal",element:r.jsx(Ur,{permission:"STORE_TEAM_MANAGE",children:r.jsx(jj,{})})}),r.jsx(ze,{path:"store/settings/advertisement",element:r.jsx(Ur,{permission:"STORE_TEAM_MANAGE",children:r.jsx(Nj,{})})}),r.jsx(ze,{path:"store/settings/*",element:r.jsx(Ur,{permission:"STORE_TEAM_MANAGE",children:r.jsx(kj,{})})}),r.jsx(ze,{path:"store/orders/manual",element:r.jsx(sU,{})}),r.jsx(ze,{path:"store/orders/pre-orders",element:r.jsx(aU,{})}),r.jsx(ze,{path:"store/team/custom-roles",element:r.jsx(Tk,{})}),r.jsx(ze,{path:"store/products/categories",element:r.jsx(sj,{})}),r.jsx(ze,{path:"store/products/cutting-types",element:r.jsx(K2,{})}),r.jsx(ze,{path:"store/products/stock",element:r.jsx(nj,{})}),r.jsx(ze,{path:"store/products/approval",element:r.jsx(G2,{})}),r.jsx(ze,{path:"store/scratch-card",element:r.jsx(Y2,{})}),r.jsx(ze,{path:"store/spin-wheel",element:r.jsx(X2,{})}),r.jsx(ze,{path:"store/flash-sale",element:r.jsx(Z2,{})}),r.jsx(ze,{path:"store/subscription",element:r.jsx(J2,{})}),r.jsx(ze,{path:"store/offer-notification",element:r.jsx(Q2,{})}),r.jsx(ze,{path:"store/coupon",element:r.jsx(ej,{})}),r.jsx(ze,{path:"store/in-app-currency",element:r.jsx(tj,{})}),r.jsx(ze,{path:"store/referral",element:r.jsx(sy,{})}),r.jsx(ze,{path:"store/products/recipes",element:r.jsx(_j,{})}),r.jsx(ze,{path:"store/marketing/referral",element:r.jsx(sy,{})}),r.jsx(ze,{path:"store/labeling",element:r.jsx(Tj,{})}),r.jsx(ze,{path:"store/audit",element:r.jsx(Aj,{})}),r.jsx(ze,{path:"store/reports",element:r.jsx(Ep,{})}),r.jsx(ze,{path:"store/reports/sales",element:r.jsx(lj,{})}),r.jsx(ze,{path:"store/reports/packing",element:r.jsx(Pp,{})}),r.jsx(ze,{path:"store/reports/delivery",element:r.jsx(Op,{})}),r.jsx(ze,{path:"store/reports/stock",element:r.jsx(oj,{})}),r.jsx(ze,{path:"store/reports/customer",element:r.jsx(dj,{})}),r.jsx(ze,{path:"store/reports/demand-forecast",element:r.jsx(uj,{})}),r.jsx(ze,{path:"store/reports/trend-analysis",element:r.jsx(hj,{})}),r.jsx(ze,{path:"store/reports/tax-gst",element:r.jsx(fj,{})}),r.jsx(ze,{path:"store/system/rollback",element:r.jsx(mj,{})}),r.jsx(ze,{path:"store/settings",element:r.jsx(xj,{})}),r.jsx(ze,{path:"store/settings/delivery-slots",element:r.jsx(pj,{})}),r.jsx(ze,{path:"store/settings/shipping-charges",element:r.jsx(gj,{})}),r.jsx(ze,{path:"store/settings/integrations",element:r.jsx(vj,{})}),r.jsx(ze,{path:"store/settings/weather",element:r.jsx(bj,{})}),r.jsx(ze,{path:"store/settings/notification",element:r.jsx(yj,{})}),r.jsx(ze,{path:"store/settings/legal",element:r.jsx(jj,{})}),r.jsx(ze,{path:"store/settings/advertisement",element:r.jsx(Nj,{})}),r.jsx(ze,{path:"store/orders/*",element:r.jsx(V2,{})}),r.jsx(ze,{path:"store/team/*",element:r.jsx(rj,{})}),r.jsx(ze,{path:"store/products/*",element:r.jsx(W2,{})}),r.jsx(ze,{path:"store/marketing/*",element:r.jsx(wj,{})}),r.jsx(ze,{path:"store/settings/*",element:r.jsx(kj,{})}),r.jsx(ze,{path:"orders/manual",element:r.jsx(c9e,{})}),r.jsx(ze,{path:"orders/pre-orders",element:r.jsx(d9e,{})}),r.jsx(ze,{path:"products/categories",element:r.jsx(sj,{})}),r.jsx(ze,{path:"products/cutting-types",element:r.jsx(Ur,{children:r.jsx(K2,{})})}),r.jsx(ze,{path:"products/stock",element:r.jsx(nj,{})}),r.jsx(ze,{path:"products/approval",element:r.jsx(G2,{})}),r.jsx(ze,{path:"scratch-card",element:r.jsx(Y2,{})}),r.jsx(ze,{path:"spin-wheel",element:r.jsx(X2,{})}),r.jsx(ze,{path:"flash-sale",element:r.jsx(Z2,{})}),r.jsx(ze,{path:"subscription",element:r.jsx(J2,{})}),r.jsx(ze,{path:"offer-notification",element:r.jsx(Q2,{})}),r.jsx(ze,{path:"coupon",element:r.jsx(ej,{})}),r.jsx(ze,{path:"in-app-currency",element:r.jsx(tj,{})}),r.jsx(ze,{path:"referral",element:r.jsx(sy,{})}),r.jsx(ze,{path:"hubs",element:r.jsx(mBe,{})}),r.jsx(ze,{path:"stores",element:r.jsx(jBe,{})}),r.jsx(ze,{path:"team/custom-roles",element:r.jsx(Tk,{})}),r.jsx(ze,{path:"recipes",element:r.jsx(_j,{})}),r.jsx(ze,{path:"membership",element:r.jsx(fUe,{})}),r.jsx(ze,{path:"wallet",element:r.jsx(mUe,{})}),r.jsx(ze,{path:"labeling",element:r.jsx(Tj,{})}),r.jsx(ze,{path:"audit",element:r.jsx(Aj,{})}),r.jsx(ze,{path:"reports",element:r.jsx(Ep,{})}),r.jsx(ze,{path:"reports/sales",element:r.jsx(lj,{})}),r.jsx(ze,{path:"reports/packing",element:r.jsx(Pp,{})}),r.jsx(ze,{path:"reports/delivery",element:r.jsx(Op,{})}),r.jsx(ze,{path:"reports/stock",element:r.jsx(oj,{})}),r.jsx(ze,{path:"reports/customer",element:r.jsx(dj,{})}),r.jsx(ze,{path:"reports/demand-forecast",element:r.jsx(uj,{})}),r.jsx(ze,{path:"reports/trend-analysis",element:r.jsx(hj,{})}),r.jsx(ze,{path:"reports/tax-gst",element:r.jsx(fj,{})}),r.jsx(ze,{path:"system/rollback",element:r.jsx(mj,{})}),r.jsx(ze,{path:"settings",element:r.jsx(xj,{})}),r.jsx(ze,{path:"settings/delivery-slots",element:r.jsx(pj,{})}),r.jsx(ze,{path:"settings/shipping-charges",element:r.jsx(gj,{})}),r.jsx(ze,{path:"settings/integrations",element:r.jsx(vj,{})}),r.jsx(ze,{path:"settings/weather",element:r.jsx(bj,{})}),r.jsx(ze,{path:"settings/notification",element:r.jsx(yj,{})}),r.jsx(ze,{path:"settings/legal",element:r.jsx(jj,{})}),r.jsx(ze,{path:"settings/advertisement",element:r.jsx(Nj,{})}),r.jsx(ze,{path:"settings/offer-templates",element:r.jsx(lUe,{})}),r.jsx(ze,{path:"orders/*",element:r.jsx(V2,{})}),r.jsx(ze,{path:"products/*",element:r.jsx(W2,{})}),r.jsx(ze,{path:"team/*",element:r.jsx(rj,{})}),r.jsx(ze,{path:"marketing/*",element:r.jsx(wj,{})}),r.jsx(ze,{path:"settings/*",element:r.jsx(kj,{})})]}),r.jsx(ze,{path:"*",element:r.jsx(Mk,{})})]})})}DJ.createRoot(document.getElementById("root")).render(r.jsx(A.StrictMode,{children:r.jsx(see,{children:r.jsx(xee,{children:r.jsx(EUe,{})})})}));export{ea as _,PUe as c,sf as g};
